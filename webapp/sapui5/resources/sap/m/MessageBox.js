/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['./Button','./Dialog','./Text','./FormattedText','./Link','./VBox','sap/ui/core/IconPool','sap/ui/core/ElementMetadata','sap/ui/core/library','sap/ui/core/Control','sap/m/library',"sap/ui/thirdparty/jquery",'sap/ui/core/theming/Parameters'],function(B,D,T,F,L,V,I,E,c,C,l,q,P){"use strict";var a=l.DialogType;var b=c.TextDirection;var M={};M.Action={OK:"OK",CANCEL:"CANCEL",YES:"YES",NO:"NO",ABORT:"ABORT",RETRY:"RETRY",IGNORE:"IGNORE",CLOSE:"CLOSE",DELETE:"DELETE"};M.Icon={NONE:undefined,INFORMATION:"INFORMATION",WARNING:"WARNING",ERROR:"ERROR",SUCCESS:"SUCCESS",QUESTION:"QUESTION"};(function(){var A=M.Action,d=M.Icon,e=P.get("_sap_m_Message_Box_Information_Icon")==="true",s=e?"message-information":"hint",m={"INFORMATION":"sapMMessageBoxInfo","WARNING":"sapMMessageBoxWarning","ERROR":"sapMMessageBoxError","SUCCESS":"sapMMessageBoxSuccess","QUESTION":"sapMMessageBoxQuestion","STANDARD":"sapMMessageBoxStandard"},f={"INFORMATION":I.getIconURI(s),"WARNING":I.getIconURI("message-warning"),"ERROR":I.getIconURI("message-error"),"SUCCESS":I.getIconURI("message-success"),"QUESTION":I.getIconURI("question-mark")};var _=function(){if(M._rb!==sap.ui.getCore().getLibraryResourceBundle("sap.m")){M._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m");}};M.show=function(v,o){var g,h,j,r=null,k=[],i,n,t,p,u,w,x,y={id:E.uid("mbox"),initialFocus:null,textDirection:b.Inherit,verticalScrolling:true,horizontalScrolling:true,details:"",contentWidth:null};_();if(typeof o==="string"||arguments.length>2){n=arguments[1];t=arguments[2];p=arguments[3];u=arguments[4];w=arguments[5];x=arguments[6];o={icon:n,title:t,actions:p,onClose:u,id:w,styleClass:x};}if(o&&o.hasOwnProperty("details")){y.icon=d.INFORMATION;y.actions=[A.OK,A.CANCEL];o=q.extend({},y,o);}o=q.extend({},y,o);if(typeof o.actions!=="undefined"&&!Array.isArray(o.actions)){o.actions=[o.actions];}if(!o.actions||o.actions.length===0){o.actions=[A.OK];}function z(N){var O;if(M.Action.hasOwnProperty(N)){O=M._rb.getText("MSGBOX_"+N);}var Q=new B({id:E.uid("mbox-btn-"),text:O||N,press:function(){r=N;g.close();}});return Q;}for(i=0;i<o.actions.length;i++){k.push(z(o.actions[i]));}function G(o,h){var N,S,O=new V({items:[h]});if(!o.details){return O;}if(typeof o.details=='object'){o.details="<pre>"+JSON.stringify(o.details,null,'\t').replace(/{/gi,"\\{")+"</pre>";}N=new F().setVisible(false).setHtmlText(o.details);S=new L({text:M._rb.getText("MSGBOX_LINK_TITLE"),press:function(){var Q=g.getInitialFocus();g.addAriaLabelledBy(N);N.setVisible(true);S.setVisible(false);if(Q&&Q!==S.getId()){g._setInitialFocus();}else{k[0].focus();}}});S.addStyleClass("sapMMessageBoxLinkText");N.addStyleClass("sapMMessageBoxDetails");O.addItem(S);O.addItem(N);return O;}function H(){if(typeof o.onClose==="function"){o.onClose(r);}g.detachAfterClose(H);g.destroy();}function J(){var i=0;var N=null;if(o.initialFocus){if(o.initialFocus instanceof C){N=o.initialFocus;}if(typeof o.initialFocus==="string"){for(i=0;i<k.length;i++){if(M.Action.hasOwnProperty(o.initialFocus)){if(M._rb.getText("MSGBOX_"+o.initialFocus).toLowerCase()===k[i].getText().toLowerCase()){N=k[i];break;}}else{if(o.initialFocus.toLowerCase()===k[i].getText().toLowerCase()){N=k[i];break;}}}}}return N;}if(typeof(v)==="string"){j=new T({textDirection:o.textDirection}).setText(v).addStyleClass("sapMMsgBoxText");h=j;}else if(v instanceof C){j=v.addStyleClass("sapMMsgBoxText");}if(o&&o.hasOwnProperty("details")&&o.details!==""){j=G(o,j);}function K(){if(sap.ui.getCore().getConfiguration().getAccessibility()){g.$().attr("role","alertdialog");}}g=new D({id:o.id,type:a.Message,title:o.title,content:j,icon:f[o.icon],initialFocus:J(),verticalScrolling:o.verticalScrolling,horizontalScrolling:o.horizontalScrolling,afterOpen:K,afterClose:H,buttons:k,ariaLabelledBy:h?h.getId():undefined,contentWidth:o.contentWidth});if(m[o.icon]){g.addStyleClass(m[o.icon]);}else{g.addStyleClass(m.STANDARD);}if(o.styleClass){g.addStyleClass(o.styleClass);}g.open();};M.alert=function(v,o){_();var g={icon:d.NONE,title:M._rb.getText("MSGBOX_TITLE_ALERT"),actions:A.OK,id:E.uid("alert"),initialFocus:null},h,t,i,S;if(typeof o==="function"||arguments.length>2){h=arguments[1];t=arguments[2];i=arguments[3];S=arguments[4];o={onClose:h,title:t,id:i,styleClass:S};}o=q.extend({},g,o);return M.show(v,o);};M.confirm=function(v,o){_();var g={icon:d.QUESTION,title:M._rb.getText("MSGBOX_TITLE_CONFIRM"),actions:[A.OK,A.CANCEL],id:E.uid("confirm"),initialFocus:null},h,t,i,S;if(typeof o==="function"||arguments.length>2){h=arguments[1];t=arguments[2];i=arguments[3];S=arguments[4];o={onClose:h,title:t,id:i,styleClass:S};}o=q.extend({},g,o);return M.show(v,o);};M.error=function(v,o){_();var g={icon:d.ERROR,title:M._rb.getText("MSGBOX_TITLE_ERROR"),actions:[A.CLOSE],id:E.uid("error"),initialFocus:null};o=q.extend({},g,o);return M.show(v,o);};M.information=function(v,o){_();var g={icon:d.INFORMATION,title:M._rb.getText("MSGBOX_TITLE_INFO"),actions:[A.OK],id:E.uid("info"),initialFocus:null};o=q.extend({},g,o);return M.show(v,o);};M.warning=function(v,o){_();var g={icon:d.WARNING,title:M._rb.getText("MSGBOX_TITLE_WARNING"),actions:[A.OK],id:E.uid("warning"),initialFocus:null};o=q.extend({},g,o);return M.show(v,o);};M.success=function(v,o){_();var g={icon:d.SUCCESS,title:M._rb.getText("MSGBOX_TITLE_SUCCESS"),actions:[A.OK],id:E.uid("success"),initialFocus:null};o=q.extend({},g,o);return M.show(v,o);};}());return M;},true);
