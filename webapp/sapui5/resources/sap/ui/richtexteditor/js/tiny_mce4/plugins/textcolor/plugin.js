(function(){var t=(function(){'use strict';var g=tinymce.util.Tools.resolve('tinymce.PluginManager');var a=function(e,i){var x;e.dom.getParents(e.selection.getStart(),function(y){var K;if(K=y.style[i==='forecolor'?'color':'background-color']){x=K;}});return x;};var m=function(e){var i;var x=[];for(i=0;i<e.length;i+=2){x.push({text:e[i+1],color:'#'+e[i]});}return x;};var b=function(e,i,x){e.undoManager.transact(function(){e.focus();e.formatter.apply(i,{value:x});e.nodeChanged();});};var r=function(e,i){e.undoManager.transact(function(){e.focus();e.formatter.remove(i,{value:null},null,true);e.nodeChanged();});};var $={getCurrentColor:a,mapColors:m,applyFormat:b,removeFormat:r};var c=function(e){e.addCommand('mceApplyTextcolor',function(i,x){$.applyFormat(e,i,x);});e.addCommand('mceRemoveTextcolor',function(i){$.removeFormat(e,i);});};var d={register:c};var f=tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');var h=tinymce.util.Tools.resolve('tinymce.util.Tools');var j=['000000','Black','993300','Burnt orange','333300','Dark olive','003300','Dark green','003366','Dark azure','000080','Navy Blue','333399','Indigo','333333','Very dark gray','800000','Maroon','FF6600','Orange','808000','Olive','008000','Green','008080','Teal','0000FF','Blue','666699','Grayish blue','808080','Gray','FF0000','Red','FF9900','Amber','99CC00','Yellow green','339966','Sea green','33CCCC','Turquoise','3366FF','Royal blue','800080','Purple','999999','Medium gray','FF00FF','Magenta','FFCC00','Gold','FFFF00','Yellow','00FF00','Lime','00FFFF','Aqua','00CCFF','Sky blue','993366','Red violet','FFFFFF','White','FF99CC','Pink','FFCC99','Peach','FFFF99','Light yellow','CCFFCC','Pale green','CCFFFF','Pale cyan','99CCFF','Light sky blue','CC99FF','Plum'];var k=function(e){return e.getParam('textcolor_map',j);};var l=function(e){return e.getParam('forecolor_map',k(e));};var n=function(e){return e.getParam('backcolor_map',k(e));};var o=function(e){return e.getParam('textcolor_rows',5);};var p=function(e){return e.getParam('textcolor_cols',8);};var q=function(e){return e.getParam('forecolor_rows',o(e));};var s=function(e){return e.getParam('backcolor_rows',o(e));};var u=function(e){return e.getParam('forecolor_cols',p(e));};var v=function(e){return e.getParam('backcolor_cols',p(e));};var w=function(e){return e.getParam('color_picker_callback',null);};var z=function(e){return typeof w(e)==='function';};var A={getForeColorMap:l,getBackColorMap:n,getForeColorRows:q,getBackColorRows:s,getForeColorCols:u,getBackColorCols:v,getColorPickerCallback:w,hasColorPicker:z};var B=tinymce.util.Tools.resolve('tinymce.util.I18n');var C=function(e,K,L,z){var M,N,O,Q,x,y,i,R=0;var S=f.DOM.uniqueId('mcearia');var T=function(N,U){var V=N==='transparent';return'<td class="mce-grid-cell'+(V?' mce-colorbtn-trans':'')+'">'+'<div id="'+S+'-'+R++ +'"'+' data-mce-color="'+(N?N:'')+'"'+' role="option"'+' tabIndex="-1"'+' style="'+(N?'background-color: '+N:'')+'"'+' title="'+B.translate(U)+'">'+(V?'&#215;':'')+'</div>'+'</td>';};M=$.mapColors(L);M.push({text:B.translate('No color'),color:'transparent'});O='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>';Q=M.length-1;for(y=0;y<K;y++){O+='<tr>';for(x=0;x<e;x++){i=y*e+x;if(i>Q){O+='<td></td>';}else{N=M[i];O+=T(N.color,N.text);}}O+='</tr>';}if(z){O+='<tr>'+'<td colspan="'+e+'" class="mce-custom-color-btn">'+'<div id="'+S+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" '+'role="button" tabindex="-1" aria-labelledby="'+S+'-c" style="width: 100%">'+'<button type="button" role="presentation" tabindex="-1">'+B.translate('Custom...')+'</button>'+'</div>'+'</td>'+'</tr>';O+='<tr>';for(x=0;x<e;x++){O+=T('','Custom color');}O+='</tr>';}O+='</tbody></table>';return O;};var D={getHtml:C};var E=function E(e,i){e.style.background=i;e.setAttribute('data-mce-color',i);};var F=function(i){return function(e){var x=e.control;if(x._color){i.execCommand('mceApplyTextcolor',x.settings.format,x._color);}else{i.execCommand('mceRemoveTextcolor',x.settings.format);}};};var G=function(x,y){return function(e){var K=this.parent();var L;var M=$.getCurrentColor(x,K.settings.format);var N=function(L){x.execCommand('mceApplyTextcolor',K.settings.format,L);K.hidePanel();K.color(L);};var O=function(){x.execCommand('mceRemoveTextcolor',K.settings.format);K.hidePanel();K.resetColor();};if(f.DOM.getParent(e.target,'.mce-custom-color-btn')){K.hidePanel();var Q=A.getColorPickerCallback(x);Q.call(x,function(L){var R=K.panel.getEl().getElementsByTagName('table')[0];var S,T,i;S=h.map(R.rows[R.rows.length-1].childNodes,function(U){return U.firstChild;});for(i=0;i<S.length;i++){T=S[i];if(!T.getAttribute('data-mce-color')){break;}}if(i===y){for(i=0;i<y-1;i++){E(S[i],S[i+1].getAttribute('data-mce-color'));}}E(T,L);N(L);},M);}L=e.target.getAttribute('data-mce-color');if(L){if(this.lastId){f.DOM.get(this.lastId).setAttribute('aria-selected','false');}e.target.setAttribute('aria-selected',true);this.lastId=e.target.id;if(L==='transparent'){O();}else{N(L);}}else if(L!==null){K.hidePanel();}};};var H=function(e,i){return function(){var x=i?A.getForeColorCols(e):A.getBackColorCols(e);var y=i?A.getForeColorRows(e):A.getBackColorRows(e);var K=i?A.getForeColorMap(e):A.getBackColorMap(e);var z=A.hasColorPicker(e);return D.getHtml(x,y,K,z);};};var I=function(e){e.addButton('forecolor',{type:'colorbutton',tooltip:'Text color',format:'forecolor',panel:{role:'application',ariaRemember:true,html:H(e,true),onclick:G(e,A.getForeColorCols(e))},onclick:F(e)});e.addButton('backcolor',{type:'colorbutton',tooltip:'Background color',format:'hilitecolor',panel:{role:'application',ariaRemember:true,html:H(e,false),onclick:G(e,A.getBackColorCols(e))},onclick:F(e)});};var J={register:I};g.add('textcolor',function(e){d.register(e);J.register(e);});function P(){}return P;}());})();
