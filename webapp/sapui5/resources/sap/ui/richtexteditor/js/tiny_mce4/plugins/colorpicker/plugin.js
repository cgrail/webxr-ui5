(function(){var c=(function(){'use strict';var g=tinymce.util.Tools.resolve('tinymce.PluginManager');var a=tinymce.util.Tools.resolve('tinymce.util.Color');var s=function(w,h){w.find('#preview')[0].getEl().style.background=h;};var b=function(w,v){var d=a(v),r=d.toRgb();w.fromJSON({r:r.r,g:r.g,b:r.b,hex:d.toHex().substr(1)});s(w,d.toHex());};var o=function(e,d,v){var w=e.windowManager.open({title:'Color',items:{type:'container',layout:'flex',direction:'row',align:'stretch',padding:5,spacing:10,items:[{type:'colorpicker',value:v,onchange:function(){var r=this.rgb();if(w){w.find('#r').value(r.r);w.find('#g').value(r.g);w.find('#b').value(r.b);w.find('#hex').value(this.value().substr(1));s(w,this.value());}}},{type:'form',padding:0,labelGap:5,defaults:{type:'textbox',size:7,value:'0',flex:1,spellcheck:false,onchange:function(){var f=w.find('colorpicker')[0];var n,v;n=this.name();v=this.value();if(n==='hex'){v='#'+v;b(w,v);f.value(v);return;}v={r:w.find('#r').value(),g:w.find('#g').value(),b:w.find('#b').value()};f.value(v);b(w,v);}},items:[{name:'r',label:'R',autofocus:1},{name:'g',label:'G'},{name:'b',label:'B'},{name:'hex',label:'#',value:'000000'},{name:'preview',type:'container',border:1}]}]},onSubmit:function(){d('#'+w.toJSON().hex);}});b(w,v);};var $={open:o};g.add('colorpicker',function(e){if(!e.settings.color_picker_callback){e.settings.color_picker_callback=function(d,v){$.open(e,d,v);};}});function P(){}return P;}());})();
