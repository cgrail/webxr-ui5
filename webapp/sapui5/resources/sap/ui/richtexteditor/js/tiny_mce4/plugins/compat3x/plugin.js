(function(t){var r;function n(){}function l(a){if(!r&&window&&window.console){r=true;console.log("Deprecated TinyMCE API call: "+a);}}function D(a,b,c,d){a=a||this;var f=[];if(!b){this.add=this.addToTop=this.remove=this.dispatch=n;return;}this.add=function(g,s,h){l('<target>.on'+b+".add(..)");function j(e){var m=[];if(typeof c=="string"){c=c.split(" ");}if(c&&typeof c!=="function"){for(var i=0;i<c.length;i++){m.push(e[c[i]]);}}if(typeof c=="function"){m=c(b,e,a);if(!m){return;}}if(!c){m=[e];}m.unshift(d||a);if(g.apply(s||d||a,m)===false){e.stopImmediatePropagation();}}a.on(b,j,h);var k={original:g,patched:j};f.push(k);return j;};this.addToTop=function(e,s){this.add(e,s,true);};this.remove=function(e){f.forEach(function(g,i){if(g.original===e){f.splice(i,1);return a.off(b,g.patched);}});return a.off(b,e);};this.dispatch=function(){a.fire(b);return true;};}t.util.Dispatcher=D;t.onBeforeUnload=new D(t,"BeforeUnload");t.onAddEditor=new D(t,"AddEditor","editor");t.onRemoveEditor=new D(t,"RemoveEditor","editor");t.util.Cookie={get:n,getHash:n,remove:n,set:n,setHash:n};function p(f){function g(s){var a=f.settings.language||"en";var b=[a,s].join('.');var c=t.i18n.translate(b);return b!==c?c:t.i18n.translate(s);}function h(a,b){t.each(a.split(" "),function(c){f["on"+c]=new D(f,c,b);});}function i(a,e,b){return[e.level,b];}function j(a){return function(b,e){if((!e.selection&&!a)||e.selection==a){return[e];}};}if(f.controlManager){return;}function k(){var a={},m='add addMenu addSeparator collapse createMenu destroy displayColor expand focus '+'getLength hasMenus hideMenu isActive isCollapsed isDisabled isRendered isSelected mark '+'postRender remove removeAll renderHTML renderMenu renderNode renderTo select selectByIndex '+'setActive setAriaProperty setColor setDisabled setSelected setState showMenu update';l('editor.controlManager.*');function _(){return k();}t.each(m.split(' '),function(b){a[b]=_;});return a;}f.controlManager={buttons:{},setDisabled:function(a,s){l("controlManager.setDisabled(..)");if(this.buttons[a]){this.buttons[a].disabled(s);}},setActive:function(a,s){l("controlManager.setActive(..)");if(this.buttons[a]){this.buttons[a].active(s);}},onAdd:new D(),onPostRender:new D(),add:function(a){return a;},createButton:k,createColorSplitButton:k,createControl:k,createDropMenu:k,createListBox:k,createMenuButton:k,createSeparator:k,createSplitButton:k,createToolbar:k,createToolbarGroup:k,destroy:n,get:n,setControlType:k};h("PreInit BeforeRenderUI PostRender Load Init Remove Activate Deactivate","editor");h("Click MouseUp MouseDown DblClick KeyDown KeyUp KeyPress ContextMenu Paste Submit Reset");h("BeforeExecCommand ExecCommand","command ui value args");h("PreProcess PostProcess LoadContent SaveContent Change");h("BeforeSetContent BeforeGetContent SetContent GetContent",j(false));h("SetProgressState","state time");h("VisualAid","element hasVisual");h("Undo Redo",i);h("NodeChange",function(a,e){return[f.controlManager,e.element,f.selection.isCollapsed(),e];});var o=f.addButton;f.addButton=function(a,s){var b;function c(){f.controlManager.buttons[a]=this;if(b){return b.apply(this,arguments);}}for(var d in s){if(d.toLowerCase()==="onpostrender"){b=s[d];s.onPostRender=c;}}if(!b){s.onPostRender=c;}if(s.title){s.title=g(s.title);}return o.call(this,a,s);};f.on('init',function(){var u=f.undoManager,s=f.selection;u.onUndo=new D(f,"Undo",i,null,u);u.onRedo=new D(f,"Redo",i,null,u);u.onBeforeAdd=new D(f,"BeforeAddUndo",null,u);u.onAdd=new D(f,"AddUndo",null,u);s.onBeforeGetContent=new D(f,"BeforeGetContent",j(true),s);s.onGetContent=new D(f,"GetContent",j(true),s);s.onBeforeSetContent=new D(f,"BeforeSetContent",j(true),s);s.onSetContent=new D(f,"SetContent",j(true),s);});f.on('BeforeRenderUI',function(){var w=f.windowManager;w.onOpen=new D();w.onClose=new D();w.createInstance=function(m,a,b,c,d,e){l("windowManager.createInstance(..)");var q=t.resolve(m);return new q(a,b,c,d,e);};});}t.on('SetupEditor',function(e){p(e.editor);});t.PluginManager.add("compat3x",p);t.addI18n=function(a,o){var I=t.util.I18n,e=t.each;if(typeof a=="string"&&a.indexOf('.')===-1){I.add(a,o);return;}if(!t.is(a,'string')){e(a,function(o,b){e(o,function(o,g){e(o,function(o,k){if(g==='common'){I.data[b+'.'+k]=o;}else{I.data[b+'.'+g+'.'+k]=o;}});});});}else{e(o,function(o,k){I.data[a+'.'+k]=o;});}};})(tinymce);
