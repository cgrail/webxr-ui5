(function(){var m=(function(){'use strict';var g=tinymce.util.Tools.resolve('tinymce.ThemeManager');var c=tinymce.util.Tools.resolve('tinymce.EditorManager');var q=tinymce.util.Tools.resolve('tinymce.util.Tools');var u=function(e){return e.getParam('branding',true,'boolean');};var z=function(e){return A(e)!==false;};var A=function(e){return e.getParam('menubar');};var B=function(e){return e.getParam('statusbar',true,'boolean');};var C=function(e){return e.getParam('toolbar_items_size');};var D=function(e){return e.getParam('readonly',false,'boolean');};var E=function(e){return e.getParam('fixed_toolbar_container');};var F=function(e){return e.getParam('inline_toolbar_position_handler');};var G=function(e){return e.getParam('menu');};var H=function(e){return e.getParam('removed_menuitems','');};var I=function(e){return e.getParam('min_width',100,'number');};var J=function(e){return e.getParam('min_height',100,'number');};var K=function(e){return e.getParam('max_width',65535,'number');};var L=function(e){return e.getParam('max_height',65535,'number');};var M=function(e){return e.settings.skin===false;};var N=function(e){return e.getParam('inline',false,'boolean');};var O=function(e){var r=e.getParam('resize','vertical');if(r===false){return'none';}else if(r==='both'){return'both';}else{return'vertical';}};var P=function(e){var s=e.settings;var a=s.skin;var b=s.skin_url;if(a!==false){var d=a?a:'lightgray';if(b){b=e.documentBaseURI.toAbsolute(b);}else{b=c.baseURL+'/skins/'+d;}}return b;};var Q=function(s,d){var t=[];for(var i=1;i<10;i++){var a=s['toolbar'+i];if(!a){break;}t.push(a);}var b=s.toolbar?[s.toolbar]:[d];return t.length>0?t:b;};var R=function(e){var t=e.getParam('toolbar');var d='undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image';if(t===false){return[];}else if(q.isArray(t)){return q.grep(t,function(t){return t.length>0;});}else{return Q(e.settings,d);}};var S=tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');var T=tinymce.util.Tools.resolve('tinymce.ui.Factory');var U=tinymce.util.Tools.resolve('tinymce.util.I18n');var V=function(e){return e.fire('SkinLoaded');};var W=function(e){return e.fire('ResizeEditor');};var X=function(e){return e.fire('BeforeRenderUI');};var Y={fireSkinLoaded:V,fireResizeEditor:W,fireBeforeRenderUI:X};var Z=function(p,z5){return function(){var i=p.find(z5)[0];if(i){i.focus(true);}};};var _=function(e,p){e.shortcuts.add('Alt+F9','',Z(p,'menubar'));e.shortcuts.add('Alt+F10,F10','',Z(p,'toolbar'));e.shortcuts.add('Alt+F11','',Z(p,'elementpath'));p.on('cancel',function(){e.focus();});};var b1={addKeys:_};var c1=tinymce.util.Tools.resolve('tinymce.geom.Rect');var f1=tinymce.util.Tools.resolve('tinymce.util.Delay');var g1=function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}};var h1=function(f){return function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}return f();};};var i1=function(f,a){return function(){var x=[];for(var b=0;b<arguments.length;b++){x[b]=arguments[b];}return f(a.apply(null,arguments));};};var j1=function(A5){return function(){return A5;};};var k1=function(x){return x;};var l1=function(a,b){return a===b;};var m1=function(f){var x=[];for(var a=1;a<arguments.length;a++){x[a-1]=arguments[a];}var b=new Array(arguments.length-1);for(var i=1;i<arguments.length;i++)b[i-1]=arguments[i];return function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}var n=new Array(arguments.length);for(var j=0;j<n.length;j++)n[j]=arguments[j];var J7=b.concat(n);return f.apply(null,J7);};};var n1=function(f){return function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}return!f.apply(null,arguments);};};var o1=function(a){return function(){throw new Error(a);};};var p1=function(f){return f();};var q1=function(f){f();};var r1=j1(false);var s1=j1(true);var t1={noop:g1,noarg:h1,compose:i1,constant:j1,identity:k1,tripleEquals:l1,curry:m1,not:n1,die:o1,apply:p1,call:q1,never:r1,always:s1};var u1=t1.never;var v1=t1.always;var w1=function(){return x1;};var x1=function(){var e=function(o){return o.isNone();};var q1=function(t){return t();};var i=function(n){return n;};var g1=function(){};var a={fold:function(n,s){return n();},is:u1,isSome:u1,isNone:v1,getOr:i,getOrThunk:q1,getOrDie:function(b){throw new Error(b||'error: getOrDie called on none.');},or:i,orThunk:q1,map:w1,ap:w1,each:g1,bind:w1,flatten:w1,exists:u1,forall:v1,filter:w1,equals:e,equals_:e,toArray:function(){return[];},toString:t1.constant('none()')};if(Object.freeze)Object.freeze(a);return a;}();var y1=function(a){var d=function(){return a;};var e=function(){return h;};var $1=function(f){return y1(f(a));};var o2=function(f){return f(a);};var h={fold:function(n,s){return s(a);},is:function(v){return a===v;},isSome:v1,isNone:u1,getOr:d,getOrThunk:d,getOrDie:d,or:e,orThunk:e,map:$1,ap:function(o){return o.fold(w1,function(f){return y1(f(a));});},each:function(f){f(a);},bind:o2,flatten:d,exists:o2,forall:o2,filter:function(f){return f(a)?h:x1;},equals:function(o){return o.is(a);},equals_:function(o,f){return o.fold(u1,function(b){return f(a,b);});},toArray:function(){return[a];},toString:function(){return'some('+a+')';}};return h;};var z1=function(A5){return A5===null||A5===undefined?x1:y1(A5);};var A1={some:y1,none:w1,from:z1};var B1=function(a){var b=D1(a);if(b&&S.DOM.getStyle(b,'position',true)!=='static'){var d=S.DOM.getPos(b);var e=b.scrollLeft-d.x;var f=b.scrollTop-d.y;return A1.some({x:e,y:f});}else{return A1.none();}};var C1=function(e,a){var b=S.DOM.select(e.settings.ui_container)[0];a.getRoot().uiContainer=b;};var D1=function(a){return a?a.getRoot().uiContainer:null;};var E1=function(f,t){return t.uiContainer=D1(f);};var F1={getUiContainerDelta:B1,setUiContainer:C1,getUiContainer:D1,inheritUiContainer:E1};var G1=function(e,i,U5){var t=[];var b;if(!i){return;}q.each(i.split(/[ ,]/),function(a){var d;var f=function(){var s=e.selection;if(a.settings.stateSelector){s.selectorChanged(a.settings.stateSelector,function(h){a.active(h);},true);}if(a.settings.disabledStateSelector){s.selectorChanged(a.settings.disabledStateSelector,function(h){a.disabled(h);});}};if(a==='|'){b=null;}else{if(!b){b={type:'buttongroup',items:[]};t.push(b);}if(e.buttons[a]){d=a;a=e.buttons[d];if(typeof a==='function'){a=a();}a.type=a.type||'button';a.size=U5;a=T.create(a);b.items.push(a);if(e.initialized){f();}else{e.on('init',f);}}}});return{type:'toolbar',layout:'flow',items:t};};var H1=function(e,U5){var t=[];var a=function(i){if(i){t.push(G1(e,i,U5));}};q.each(R(e),function(b){a(b);});if(t.length){return{type:'panel',layout:'stack',classes:'toolbar-grp',ariaRoot:true,ariaRemember:true,items:t};}};var I1={createToolbar:G1,createToolbars:H1};var J1=S.DOM;var K1=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h};};var L1=function(e){q.each(e.contextToolbars,function(t){if(t.panel){t.panel.hide();}});};var M1=function(p,a){p.moveTo(a.left,a.top);};var N1=function(p,r,a){r=r?r.substr(0,2):'';q.each({t:'down',b:'up'},function(b,d){p.classes.toggle('arrow-'+b,a(d,r.substr(0,1)));});q.each({l:'left',r:'right'},function(b,d){p.classes.toggle('arrow-'+b,a(d,r.substr(1,1)));});};var O1=function(h,x,y,e,a,p){p=K1({x:x,y:y,w:p.w,h:p.h});if(h){p=h({elementRect:K1(e),contentAreaRect:K1(a),panelRect:p});}return p;};var P1=function(a){var s;var b=function(){return a.contextToolbars||[];};var d=function(e){var p,t,i;p=J1.getPos(a.getContentAreaContainer());t=a.dom.getRect(e);i=a.dom.getRoot();if(i.nodeName==='BODY'){t.x-=i.ownerDocument.documentElement.scrollLeft||i.scrollLeft;t.y-=i.ownerDocument.documentElement.scrollTop||i.scrollTop;}t.x+=p.x;t.y+=p.y;return t;};var r=function(e,i){var n,p,o,t,v,w,x,y;var $=F(a);if(a.removed){return;}if(!e||!e.toolbar.panel){L1(a);return;}x=['bc-tc','tc-bc','tl-bl','bl-tl','tr-br','br-tr'];v=e.toolbar.panel;if(i){v.show();}o=d(e.element);p=J1.getRect(v.getEl());t=J1.getRect(a.getContentAreaContainer()||a.getBody());var a1=F1.getUiContainerDelta(v).getOr({x:0,y:0});o.x+=a1.x;o.y+=a1.y;p.x+=a1.x;p.y+=a1.y;t.x+=a1.x;t.y+=a1.y;y=25;if(J1.getStyle(e.element,'display',true)!=='inline'){var d1=e.element.getBoundingClientRect();o.w=d1.width;o.h=d1.height;}if(!a.inline){t.w=a.getDoc().documentElement.offsetWidth;}if(a.selection.controlSelection.isResizable(e.element)&&o.w<y){o=c1.inflate(o,0,8);}n=c1.findBestRelativePosition(p,o,t,x);o=c1.clamp(o,t);if(n){w=c1.relativePosition(p,o,n);M1(v,O1($,w.x,w.y,o,t,p));}else{t.h+=p.h;o=c1.intersect(t,o);if(o){n=c1.findBestRelativePosition(p,o,t,['bc-tc','bl-tl','br-tr']);if(n){w=c1.relativePosition(p,o,n);M1(v,O1($,w.x,w.y,o,t,p));}else{M1(v,O1($,o.x,o.y,o,t,p));}}else{v.hide();}}N1(v,n,function(e1,a2){return e1===a2;});};var f=function(e){return function(){var i=function(){if(a.selection){r(l(a.selection.getNode()),e);}};f1.requestAnimationFrame(i);};};var h=function(p){if(!s){var e=f(true);var i=F1.getUiContainer(p);s=a.selection.getScrollContainer()||a.getWin();J1.bind(s,'scroll',e);J1.bind(i,'scroll',e);a.on('remove',function(){J1.unbind(s,'scroll',e);J1.unbind(i,'scroll',e);});}};var j=function(e){var p;if(e.toolbar.panel){e.toolbar.panel.show();r(e);return;}p=T.create({type:'floatpanel',role:'dialog',classes:'tinymce tinymce-inline arrow',ariaLabel:'Inline toolbar',layout:'flex',direction:'column',align:'stretch',autohide:false,autofix:true,fixed:true,border:1,items:I1.createToolbar(a,e.toolbar.items),oncancel:function(){a.focus();}});F1.setUiContainer(a,p);h(p);e.toolbar.panel=p;p.renderTo().reflow();r(e);};var k=function(){q.each(b(),function(t){if(t.panel){t.panel.hide();}});};var l=function(t){var i,y,p;var e=b();p=a.$(t).parents().add(t);for(i=p.length-1;i>=0;i--){for(y=e.length-1;y>=0;y--){if(e[y].predicate(p[i])){return{toolbar:e[y],element:p[i]};}}}return null;};a.on('click keyup setContent ObjectResized',function(e){if(e.type==='setcontent'&&!e.selection){return;}f1.setEditorTimeout(a,function(){var i;i=l(a.selection.getNode());if(i){k();j(i);}else{k();}});});a.on('blur hide contextmenu',k);a.on('ObjectResizeStart',function(){var e=l(a.selection.getNode());if(e&&e.toolbar.panel){e.toolbar.panel.hide();}});a.on('ResizeEditor ResizeWindow',f(true));a.on('nodeChange',f(false));a.on('remove',function(){q.each(b(),function(t){if(t.panel){t.panel.remove();}});a.contextToolbars={};});a.shortcuts.add('ctrl+shift+e > ctrl+shift+p','',function(){var e=l(a.selection.getNode());if(e&&e.toolbar.panel){e.toolbar.panel.items()[0].focus();}});};var Q1={addContextualToolbars:P1};var R1=function(x){if(x===null)return'null';var t=typeof x;if(t==='object'&&Array.prototype.isPrototypeOf(x))return'array';if(t==='object'&&String.prototype.isPrototypeOf(x))return'string';return t;};var S1=function(z5){return function(A5){return R1(A5)===z5;};};var T1={isString:S1('string'),isObject:S1('object'),isArray:S1('array'),isNull:S1('null'),isBoolean:S1('boolean'),isUndefined:S1('undefined'),isFunction:S1('function'),isNumber:S1('number')};var U1=function(){var p=Array.prototype.indexOf;var f=function(a,x){return p.call(a,x);};var s=function(a,x){return l2(a,x);};return p===undefined?s:f;}();var V1=function(a,x){var r=U1(a,x);return r===-1?A1.none():A1.some(r);};var W1=function(a,x){return U1(a,x)>-1;};var X1=function(x,p){return k2(x,p).isSome();};var Y1=function(n,f){var r=[];for(var i=0;i<n;i++){r.push(f(i));}return r;};var Z1=function(a,U5){var r=[];for(var i=0;i<a.length;i+=U5){var s=a.slice(i,i+U5);r.push(s);}return r;};var $1=function(a,f){var l=a.length;var r=new Array(l);for(var i=0;i<l;i++){var x=a[i];r[i]=f(x,i,a);}return r;};var _1=function(a,f){for(var i=0,l=a.length;i<l;i++){var x=a[i];f(x,i,a);}};var b2=function(a,f){for(var i=a.length-1;i>=0;i--){var x=a[i];f(x,i,a);}};var c2=function(a,p){var b=[];var f=[];for(var i=0,l=a.length;i<l;i++){var x=a[i];var d=p(x,i,a)?b:f;d.push(x);}return{pass:b,fail:f};};var f2=function(a,p){var r=[];for(var i=0,l=a.length;i<l;i++){var x=a[i];if(p(x,i,a)){r.push(x);}}return r;};var g2=function(a,f){if(a.length===0){return[];}else{var w=f(a[0]);var r=[];var b=[];for(var i=0,l=a.length;i<l;i++){var x=a[i];var z5=f(x);if(z5!==w){r.push(b);b=[];}w=z5;b.push(x);}if(b.length!==0){r.push(b);}return r;}};var h2=function(a,f,b){b2(a,function(x){b=f(b,x);});return b;};var i2=function(a,f,b){_1(a,function(x){b=f(b,x);});return b;};var j2=function(a,p){for(var i=0,l=a.length;i<l;i++){var x=a[i];if(p(x,i,a)){return A1.some(x);}}return A1.none();};var k2=function(a,p){for(var i=0,l=a.length;i<l;i++){var x=a[i];if(p(x,i,a)){return A1.some(i);}}return A1.none();};var l2=function(a,x){for(var i=0,l=a.length;i<l;++i){if(a[i]===x){return i;}}return-1;};var m2=Array.prototype.push;var n2=function(x){var r=[];for(var i=0,l=x.length;i<l;++i){if(!Array.prototype.isPrototypeOf(x[i]))throw new Error('Arr.flatten item '+i+' was not an array, input: '+x);m2.apply(r,x[i]);}return r;};var o2=function(x,f){var o=$1(x,f);return n2(o);};var p2=function(a,p){for(var i=0,l=a.length;i<l;++i){var x=a[i];if(p(x,i,a)!==true){return false;}}return true;};var q2=function(a,b){return a.length===b.length&&p2(a,function(x,i){return x===b[i];});};var r2=Array.prototype.slice;var s2=function(x){var r=r2.call(x,0);r.reverse();return r;};var t2=function(a,b){return f2(a,function(x){return!W1(b,x);});};var u2=function(a,f){var r={};for(var i=0,l=a.length;i<l;i++){var x=a[i];r[String(x)]=f(x,i);}return r;};var v2=function(x){return[x];};var w2=function(x,a){var b=r2.call(x,0);b.sort(a);return b;};var x2=function(x){return x.length===0?A1.none():A1.some(x[0]);};var y2=function(x){return x.length===0?A1.none():A1.some(x[x.length-1]);};var z2=T1.isFunction(Array.from)?Array.from:function(x){return r2.call(x);};var A2={map:$1,each:_1,eachr:b2,partition:c2,filter:f2,groupBy:g2,indexOf:V1,foldr:h2,foldl:i2,find:j2,findIndex:k2,flatten:n2,bind:o2,forall:p2,exists:X1,contains:W1,equal:q2,reverse:s2,chunk:Z1,difference:t2,mapToObject:u2,pure:v2,sort:w2,range:Y1,head:x2,last:y2,from:z2};var B2={file:{title:'File',items:'newdocument restoredraft | preview | print'},edit:{title:'Edit',items:'undo redo | cut copy paste pastetext | selectall'},view:{title:'View',items:'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen'},insert:{title:'Insert',items:'image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime'},format:{title:'Format',items:'bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat'},tools:{title:'Tools',items:'spellchecker spellcheckerlanguage | a11ycheck code'},table:{title:'Table'},help:{title:'Help'}};var C2=function(){return{name:'|',item:{text:'|'}};};var D2=function(y5,i){var a=i?{name:y5,item:i}:null;return y5==='|'?C2():a;};var E2=function(n,y5){return A2.findIndex(n,function(a){return a.name===y5;}).isSome();};var F2=function(n){return n&&n.item.text==='|';};var G2=function(n,r){var a=A2.filter(n,function(d){return r.hasOwnProperty(d.name)===false;});var b=A2.filter(a,function(d,i,n){return!F2(d)||!F2(n[i-1]);});return A2.filter(b,function(d,i,n){return!F2(d)||i>0&&i<n.length-1;});};var H2=function(e,a,r,b){var d,f,n,i;if(a){f=a[b];i=true;}else{f=B2[b];}if(f){d={text:f.title};n=[];q.each((f.items||'').split(/[ ,]/),function(y5){var h=D2(y5,e[y5]);if(h){n.push(h);}});if(!i){q.each(e,function(h,y5){if(h.context===b&&!E2(n,y5)){if(h.separator==='before'){n.push(C2());}if(h.prependToContext){n.unshift(D2(y5,h));}else{n.push(D2(y5,h));}if(h.separator==='after'){n.push(C2());}}});}d.menu=A2.map(G2(n,r),function(h){return h.item;});if(!d.menu.length){return null;}}return d;};var I2=function(e){var y5;var d=[];var a=G(e);if(a){for(y5 in a){d.push(y5);}}else{for(y5 in B2){d.push(y5);}}return d;};var J2=function(e){var a=[];var d=I2(e);var r=q.makeMap(H(e).split(/[ ,]/));var b=A(e);var f=typeof b==='string'?b.split(/[ ,]/):d;for(var i=0;i<f.length;i++){var h=f[i];var j=H2(e.menuItems,G(e),r,h);if(j){a.push(j);}}return a;};var K2={createMenuButtons:J2};var L2=S.DOM;var M2=function(e){return{width:e.clientWidth,height:e.clientHeight};};var N2=function(e,w,h){var a,i,b,d;a=e.getContainer();i=e.getContentAreaContainer().firstChild;b=M2(a);d=M2(i);if(w!==null){w=Math.max(I(e),w);w=Math.min(K(e),w);L2.setStyle(a,'width',w+(b.width-d.width));L2.setStyle(i,'width',w);}h=Math.max(J(e),h);h=Math.min(L(e),h);L2.setStyle(i,'height',h);Y.fireResizeEditor(e);};var O2=function(e,d,a){var b=e.getContentAreaContainer();N2(e,b.clientWidth+d,b.clientHeight+a);};var P2={resizeTo:N2,resizeBy:O2};var Q2=tinymce.util.Tools.resolve('tinymce.Env');var R2=function(e){return{element:function(){return e;}};};var S2=function(s,p,a){var b=s.settings[a];if(b){b(R2(p.getEl('body')));}};var T2=function(y5,a,s){q.each(s,function(b){var p=a.items().filter('#'+b.name)[0];if(p&&p.visible()&&b.name!==y5){S2(b,p,'onhide');p.visible(false);}});};var U2=function(t){t.items().each(function(a){a.active(false);});};var V2=function(s,y5){return q.grep(s,function(a){return a.name===y5;})[0];};var W2=function(a,y5,s){return function(e){var b=e.control;var d=b.parents().filter('panel')[0];var p=d.find('#'+y5)[0];var f=V2(s,y5);T2(y5,d,s);U2(b.parent());if(p&&p.visible()){S2(f,p,'onhide');p.hide();b.active(false);}else{if(p){p.show();S2(f,p,'onshow');}else{p=T.create({type:'container',name:y5,layout:'stack',classes:'sidebar-panel',html:''});d.prepend(p);S2(f,p,'onrender');S2(f,p,'onshow');}b.active(true);}Y.fireResizeEditor(a);};};var X2=function(){return!Q2.ie||Q2.ie>=11;};var Y2=function(e){return X2()&&e.sidebars?e.sidebars.length>0:false;};var Z2=function(e){var b=q.map(e.sidebars,function(s){var a=s.settings;return{type:'button',icon:a.icon,image:a.image,tooltip:a.tooltip,onclick:W2(e,s.name,e.sidebars)};});return{type:'panel',name:'sidebar',layout:'stack',classes:'sidebar',items:[{type:'toolbar',layout:'stack',classes:'sidebar-toolbar',items:b}]};};var $2={hasSidebar:Y2,createSidebar:Z2};var _2=function(e){var d=function(){e._skinLoaded=true;Y.fireSkinLoaded(e);};return function(){if(e.initialized){d();}else{e.on('init',d);}};};var a3={fireSkinLoaded:_2};var b3=S.DOM;var c3=function(p){return function(e){p.find('*').disabled(e.mode==='readonly');};};var d3=function(b){return{type:'panel',name:'iframe',layout:'stack',classes:'edit-area',border:b,html:''};};var e3=function(e){return{type:'panel',layout:'stack',classes:'edit-aria-container',border:'1 0 0 0',items:[d3('0'),$2.createSidebar(e)]};};var f3=function(a,t,b){var p,r,s;if(M(a)===false&&b.skinUiCss){b3.styleSheetLoader.load(b.skinUiCss,a3.fireSkinLoaded(a));}else{a3.fireSkinLoaded(a)();}p=t.panel=T.create({type:'panel',role:'application',classes:'tinymce',style:'visibility: hidden',layout:'stack',border:1,items:[{type:'container',classes:'top-part',items:[z(a)===false?null:{type:'menubar',border:'0 0 1 0',items:K2.createMenuButtons(a)},I1.createToolbars(a,C(a))]},$2.hasSidebar(a)?e3(a):d3('1 0 0 0')]});F1.setUiContainer(a,p);if(O(a)!=='none'){r={type:'resizehandle',direction:O(a),onResizeStart:function(){var e=a.getContentAreaContainer().firstChild;s={width:e.clientWidth,height:e.clientHeight};},onResize:function(e){if(O(a)==='both'){P2.resizeTo(a,s.width+e.deltaX,s.height+e.deltaY);}else{P2.resizeTo(a,null,s.height+e.deltaY);}}};}if(B(a)){var l='<a href="https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>';var h=U.translate(['Powered by {0}',l]);var d=u(a)?{type:'label',classes:'branding',html:' '+h}:null;p.add({type:'panel',name:'statusbar',classes:'statusbar',layout:'flow',border:'1 0 0 0',ariaRoot:true,items:[{type:'elementpath',editor:a},r,d]});}Y.fireBeforeRenderUI(a);a.on('SwitchMode',c3(p));p.renderBefore(b.targetNode).reflow();if(D(a)){a.setMode('readonly');}if(b.width){b3.setStyle(p.getEl(),'width',b.width);}a.on('remove',function(){p.remove();p=null;});b1.addKeys(a,p);Q1.addContextualToolbars(a);return{iframeContainer:p.find('#iframe')[0].getEl(),editorContainer:p.getEl()};};var g3={render:f3};var h3=tinymce.util.Tools.resolve('tinymce.dom.DomQuery');var i3=0;var j3={id:function(){return'mceu_'+i3++;},create:function(y5,a,e8){var e=document.createElement(y5);S.DOM.setAttribs(e,a);if(typeof e8==='string'){e.innerHTML=e8;}else{q.each(e8,function(f8){if(f8.nodeType){e.appendChild(f8);}});}return e;},createFragment:function(h){return S.DOM.createFragment(h);},getWindowSize:function(){return S.DOM.getViewPort();},getSize:function(e){var w,h;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();w=Math.max(r.width||r.right-r.left,e.offsetWidth);h=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight);}else{w=e.offsetWidth;h=e.offsetHeight;}return{width:w,height:h};},getPos:function(e,r){return S.DOM.getPos(e,r||j3.getContainer());},getContainer:function(){return Q2.container?Q2.container:document.body;},getViewPort:function(w){return S.DOM.getViewPort(w);},get:function(i){return document.getElementById(i);},addClass:function(e,a){return S.DOM.addClass(e,a);},removeClass:function(e,a){return S.DOM.removeClass(e,a);},hasClass:function(e,a){return S.DOM.hasClass(e,a);},toggleClass:function(e,a,s){return S.DOM.toggleClass(e,a,s);},css:function(e,y5,A5){return S.DOM.setStyle(e,y5,A5);},getRuntimeStyle:function(e,y5){return S.DOM.getStyle(e,y5,true);},on:function(t,y5,a,s){return S.DOM.bind(t,y5,a,s);},off:function(t,y5,a){return S.DOM.unbind(t,y5,a);},fire:function(t,y5,a){return S.DOM.fire(t,y5,a);},innerHtml:function(e,h){S.DOM.setHTML(e,h);}};var k3=function(e){return j3.getRuntimeStyle(e,'position')==='static';};var l3=function(a){return a.state.get('fixed');};function m3(a,t,r){var b,p,x,y,s,d,e,f,v,U5;v=o3();p=j3.getPos(t,F1.getUiContainer(a));x=p.x;y=p.y;if(l3(a)&&k3(document.body)){x-=v.x;y-=v.y;}b=a.getEl();U5=j3.getSize(b);s=U5.width;d=U5.height;U5=j3.getSize(t);e=U5.width;f=U5.height;r=(r||'').split('');if(r[0]==='b'){y+=f;}if(r[1]==='r'){x+=e;}if(r[0]==='c'){y+=Math.round(f/2);}if(r[1]==='c'){x+=Math.round(e/2);}if(r[3]==='b'){y-=d;}if(r[4]==='r'){x-=s;}if(r[3]==='c'){y-=Math.round(d/2);}if(r[4]==='c'){x-=Math.round(s/2);}return{x:x,y:y,w:s,h:d};}var n3=function(a){return{x:0,y:0,w:a.scrollWidth-1,h:a.scrollHeight-1};};var o3=function(){var a=window;var x=Math.max(a.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft);var y=Math.max(a.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop);var w=a.innerWidth||document.documentElement.clientWidth;var h=a.innerHeight||document.documentElement.clientHeight;return{x:x,y:y,w:x+w,h:y+h};};var p3=function(a){var b=F1.getUiContainer(a);return b&&!l3(a)?n3(b):o3();};var q3={testMoveRel:function(e,r){var v=p3(this);for(var i=0;i<r.length;i++){var p=m3(this,e,r[i]);if(l3(this)){if(p.x>0&&p.x+p.w<v.w&&p.y>0&&p.y+p.h<v.h){return r[i];}}else{if(p.x>v.x&&p.x+p.w<v.w&&p.y>v.y&&p.y+p.h<v.h){return r[i];}}}return r[0];},moveRel:function(e,r){if(typeof r!=='string'){r=this.testMoveRel(e,r);}var p=m3(this,e,r);return this.moveTo(p.x,p.y);},moveBy:function(d,a){var s=this,r=s.layoutRect();s.moveTo(r.x+d,r.y+a);return s;},moveTo:function(x,y){var s=this;function db(A5,b,U5){if(A5<0){return 0;}if(A5+U5>b){A5=b-U5;return A5<0?0:A5;}return A5;}if(s.settings.constrainToViewport){var v=p3(this);var l=s.layoutRect();x=db(x,v.w,l.w);y=db(y,v.h,l.h);}var a=F1.getUiContainer(s);if(a&&k3(a)&&!l3(s)){x-=a.scrollLeft;y-=a.scrollTop;}if(a){x+=1;y+=1;}if(s.state.get('rendered')){s.layoutRect({x:x,y:y}).repaint();}else{s.settings.x=x;s.settings.y=y;}s.fire('move',{x:x,y:y});return s;}};var r3=tinymce.util.Tools.resolve('tinymce.util.Class');var s3=tinymce.util.Tools.resolve('tinymce.util.EventDispatcher');var t3={parseBox:function(A5){var l;var r=10;if(!A5){return;}if(typeof A5==='number'){A5=A5||0;return{top:A5,left:A5,bottom:A5,right:A5};}A5=A5.split(' ');l=A5.length;if(l===1){A5[1]=A5[2]=A5[3]=A5[0];}else if(l===2){A5[2]=A5[0];A5[3]=A5[1];}else if(l===3){A5[3]=A5[1];}return{top:parseInt(A5[0],r)||0,right:parseInt(A5[1],r)||0,bottom:parseInt(A5[2],r)||0,left:parseInt(A5[3],r)||0};},measureBox:function(e,p){function b(y5){var W7=e.ownerDocument.defaultView;if(W7){var f=W7.getComputedStyle(e,null);if(f){y5=y5.replace(/[A-Z]/g,function(a){return'-'+a;});return f.getPropertyValue(y5);}else{return null;}}return e.currentStyle[y5];}function d(y5){var v=parseFloat(b(y5));return isNaN(v)?0:v;}return{top:d(p+'TopWidth'),right:d(p+'RightWidth'),bottom:d(p+'BottomWidth'),left:d(p+'LeftWidth')};}};function u3(){}function v3(o){this.cls=[];this.cls._map={};this.onchange=o||u3;this.prefix='';}q.extend(v3.prototype,{add:function(a){if(a&&!this.contains(a)){this.cls._map[a]=true;this.cls.push(a);this._change();}return this;},remove:function(a){if(this.contains(a)){var i=void 0;for(i=0;i<this.cls.length;i++){if(this.cls[i]===a){break;}}this.cls.splice(i,1);delete this.cls._map[a];this._change();}return this;},toggle:function(a,s){var b=this.contains(a);if(b!==s){if(b){this.remove(a);}else{this.add(a);}this._change();}return this;},contains:function(a){return!!this.cls._map[a];},_change:function(){delete this.clsValue;this.onchange.call(this);}});v3.prototype.toString=function(){var A5;if(this.clsValue){return this.clsValue;}A5='';for(var i=0;i<this.cls.length;i++){if(i>0){A5+=' ';}A5+=this.prefix+this.cls[i];}return A5;};function w3(a){var b=[];var i=a.length,d;while(i--){d=a[i];if(!d.__checked){b.push(d);d.__checked=1;}}i=b.length;while(i--){delete b[i].__checked;}return b;}var x3=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var y3=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;var z3=/^\s*|\s*$/g;var A3;var B3=r3.extend({init:function(s){var a=this.match;function b(y5){if(y5){y5=y5.toLowerCase();return function(i){return y5==='*'||i.type===y5;};}}function d(i){if(i){return function(k){return k._name===i;};}}function e(k){if(k){k=k.split('.');return function(l){var i=k.length;while(i--){if(!l.classes.contains(k[i])){return false;}}return true;};}}function f(y5,i,k){if(y5){return function(l){var A5=l[y5]?l[y5]():'';return!i?!!k:i==='='?A5===k:i==='*='?A5.indexOf(k)>=0:i==='~='?(' '+A5+' ').indexOf(' '+k+' ')>=0:i==='!='?A5!==k:i==='^='?A5.indexOf(k)===0:i==='$='?A5.substr(A5.length-k.length)===k:false;};}}function h(y5){var n;if(y5){y5=/(?:not\((.+)\))|(.+)/i.exec(y5);if(!y5[1]){y5=y5[2];return function(i,k,l){return y5==='first'?k===0:y5==='last'?k===l-1:y5==='even'?k%2===0:y5==='odd'?k%2===1:i[y5]?i[y5]():false;};}n=p(y5[1],[]);return function(i){return!a(i,n);};}}function j(s,i,k){var l;function n(f2){if(f2){i.push(f2);}}l=x3.exec(s.replace(z3,''));n(b(l[1]));n(d(l[2]));n(e(l[3]));n(f(l[4],l[5],l[6]));n(h(l[7]));i.pseudo=!!l[7];i.direct=k;return i;}function p(s,k){var l=[];var n,o,i;do{y3.exec('');o=y3.exec(s);if(o){s=o[3];l.push(o[1]);if(o[2]){n=o[3];break;}}}while(o);if(n){p(n,k);}s=[];for(i=0;i<l.length;i++){if(l[i]!=='>'){s.push(j(l[i],[],l[i-1]==='>'));}}k.push(s);return k;}this._selectors=p(s,[]);},match:function(a,s){var i,l,b,d,e,f,h,j,k,n,$7,i3,o;s=s||this._selectors;for(i=0,l=s.length;i<l;i++){e=s[i];d=e.length;o=a;i3=0;for(b=d-1;b>=0;b--){j=e[b];while(o){if(j.pseudo){$7=o.parent().items();k=n=$7.length;while(k--){if($7[k]===o){break;}}}for(f=0,h=j.length;f<h;f++){if(!j[f](o,k,n)){f=h+1;break;}}if(f===h){i3++;break;}else{if(b===d-1){break;}}o=o.parent();}}if(i3===d){return true;}}return false;},find:function(a){var b=[],i,l;var s=this._selectors;function d(e,f,h){var i,l,j,k,n;var o=f[h];for(i=0,l=e.length;i<l;i++){n=e[i];for(j=0,k=o.length;j<k;j++){if(!o[j](n,i,l)){j=k+1;break;}}if(j===k){if(h===f.length-1){b.push(n);}else{if(n.items){d(n.items(),f,h+1);}}}else if(o.direct){return;}if(n.items){d(n.items(),f,h);}}}if(a.items){for(i=0,l=s.length;i<l;i++){d(a.items(),s[i],0);}if(l>1){b=w3(b);}}if(!A3){A3=B3.Collection;}return new A3(b);}});var C3;var D3;var E3=Array.prototype.push;var F3=Array.prototype.slice;D3={length:0,init:function(i){if(i){this.add(i);}},add:function(i){var s=this;if(!q.isArray(i)){if(i instanceof C3){s.add(i.toArray());}else{E3.call(s,i);}}else{E3.apply(s,i);}return s;},set:function(a){var s=this;var l=s.length;var i;s.length=0;s.add(a);for(i=s.length;i<l;i++){delete s[i];}return s;},filter:function(s){var a=this;var i,l;var b=[];var d,e;if(typeof s==='string'){s=new B3(s);e=function(d){return s.match(d);};}else{e=s;}for(i=0,l=a.length;i<l;i++){d=a[i];if(e(d)){b.push(d);}}return new C3(b);},slice:function(){return new C3(F3.apply(this,arguments));},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1);},each:function(a){q.each(this,a);return this;},toArray:function(){return q.toArray(this);},indexOf:function(a){var s=this;var i=s.length;while(i--){if(s[i]===a){break;}}return i;},reverse:function(){return new C3(q.toArray(this).reverse());},hasClass:function(a){return this[0]?this[0].classes.contains(a):false;},prop:function(y5,A5){var s=this;var i;if(A5!==undefined){s.each(function(i){if(i[y5]){i[y5](A5);}});return s;}i=s[0];if(i&&i[y5]){return i[y5]();}},exec:function(y5){var s=this,a=q.toArray(arguments).slice(1);s.each(function(i){if(i[y5]){i[y5].apply(i,a);}});return s;},remove:function(){var i=this.length;while(i--){this[i].remove();}return this;},addClass:function(a){return this.each(function(i){i.classes.add(a);});},removeClass:function(a){return this.each(function(i){i.classes.remove(a);});}};q.each('fire on off show hide append prepend before after reflow'.split(' '),function(y5){D3[y5]=function(){var a=q.toArray(arguments);this.each(function(b){if(y5 in b){b[y5].apply(b,a);}});return this;};});q.each('text name disabled active selected checked visible parent value data'.split(' '),function(y5){D3[y5]=function(A5){return this.prop(y5,A5);};});C3=r3.extend(D3);B3.Collection=C3;var G3=C3;var H3=function(s){this.create=s.create;};H3.create=function(a,y5){return new H3({create:function(o,b){var d;var f=function(e){o.set(b,e.value);};var h=function(e){a.set(y5,e.value);};o.on('change:'+b,h);a.on('change:'+y5,f);d=o._bindings;if(!d){d=o._bindings=[];o.on('destroy',function(){var i=d.length;while(i--){d[i]();}});}d.push(function(){a.off('change:'+y5,f);});return a.get(y5);}});};var I3=tinymce.util.Tools.resolve('tinymce.util.Observable');function J3(p6){return p6.nodeType>0;}function K3(a,b){var k,d;if(a===b){return true;}if(a===null||b===null){return a===b;}if(typeof a!=='object'||typeof b!=='object'){return a===b;}if(q.isArray(b)){if(a.length!==b.length){return false;}k=a.length;while(k--){if(!K3(a[k],b[k])){return false;}}}if(J3(a)||J3(b)){return a===b;}d={};for(k in b){if(!K3(a[k],b[k])){return false;}d[k]=true;}for(k in a){if(!d[k]&&!K3(a[k],b[k])){return false;}}return true;}var L3=r3.extend({Mixins:[I3],init:function(d){var y5,A5;d=d||{};for(y5 in d){A5=d[y5];if(A5 instanceof H3){d[y5]=A5.create(this,y5);}}this.data=d;},set:function(y5,A5){var k,a;var o=this.data[y5];if(A5 instanceof H3){A5=A5.create(this,y5);}if(typeof y5==='object'){for(k in y5){this.set(k,y5[k]);}return this;}if(!K3(o,A5)){this.data[y5]=A5;a={target:this,name:y5,value:A5,oldValue:o};this.fire('change:'+y5,a);this.fire('change',a);}return this;},get:function(y5){return this.data[y5];},has:function(y5){return y5 in this.data;},bind:function(y5){return H3.create(this,y5);},destroy:function(){this.fire('destroy');}});var M3={};var N3;var O3={add:function(a){var X7=a.parent();if(X7){if(!X7._layout||X7._layout.isNative()){return;}if(!M3[X7._id]){M3[X7._id]=X7;}if(!N3){N3=true;f1.requestAnimationFrame(function(){var i,a;N3=false;for(i in M3){a=M3[i];if(a.state.get('rendered')){a.reflow();}}M3={};},document.body);}}},remove:function(a){if(M3[a._id]){delete M3[a._id];}}};var P3='onmousewheel'in document;var Q3=false;var R3='mce-';var S3;var T3=0;var U3={Statics:{classPrefix:R3},isRtl:function(){return S3.rtl;},classPrefix:R3,init:function(s){var a=this;var b,d;function e(b){var i;b=b.split(' ');for(i=0;i<b.length;i++){a.classes.add(b[i]);}}a.settings=s=q.extend({},a.Defaults,s);a._id=s.id||'mceu_'+T3++;a._aria={role:s.role};a._elmCache={};a.$=h3;a.state=new L3({visible:true,active:false,disabled:false,value:''});a.data=new L3(s.data);a.classes=new v3(function(){if(a.state.get('rendered')){a.getEl().className=this.toString();}});a.classes.prefix=a.classPrefix;b=s.classes;if(b){if(a.Defaults){d=a.Defaults.classes;if(d&&b!==d){e(d);}}e(b);}q.each('title text name visible disabled active value'.split(' '),function(y5){if(y5 in s){a[y5](s[y5]);}});a.on('click',function(){if(a.disabled()){return false;}});a.settings=s;a.borderBox=t3.parseBox(s.border);a.paddingBox=t3.parseBox(s.padding);a.marginBox=t3.parseBox(s.margin);if(s.hidden){a.hide();}},Properties:'parent,name',getContainerElm:function(){var a=F1.getUiContainer(this);return a?a:j3.getContainer();},getParentCtrl:function(e){var a;var l=this.getRoot().controlIdLookup;while(e&&l){a=l[e.id];if(a){break;}e=e.parentNode;}return a;},initLayoutRect:function(){var s=this;var a=s.settings;var b,l;var e=s.getEl();var w,h,d,f,i;var j,k,n;b=s.borderBox=s.borderBox||t3.measureBox(e,'border');s.paddingBox=s.paddingBox||t3.measureBox(e,'padding');s.marginBox=s.marginBox||t3.measureBox(e,'margin');n=j3.getSize(e);j=a.minWidth;k=a.minHeight;d=j||n.width;f=k||n.height;w=a.width;h=a.height;i=a.autoResize;i=typeof i!=='undefined'?i:!w&&!h;w=w||d;h=h||f;var o=b.left+b.right;var p=b.top+b.bottom;var r=a.maxWidth||65535;var t=a.maxHeight||65535;s._layoutRect=l={x:a.x||0,y:a.y||0,w:w,h:h,deltaW:o,deltaH:p,contentW:w-o,contentH:h-p,innerW:w-o,innerH:h-p,startMinWidth:j||0,startMinHeight:k||0,minW:Math.min(d,r),minH:Math.min(f,t),maxW:r,maxH:t,autoResize:i,scrollW:0};s._lastLayoutRect={};return l;},layoutRect:function(n){var s=this;var a=s._layoutRect,l,U5,d,b,r;if(!a){a=s.initLayoutRect();}if(n){d=a.deltaW;b=a.deltaH;if(n.x!==undefined){a.x=n.x;}if(n.y!==undefined){a.y=n.y;}if(n.minW!==undefined){a.minW=n.minW;}if(n.minH!==undefined){a.minH=n.minH;}U5=n.w;if(U5!==undefined){U5=U5<a.minW?a.minW:U5;U5=U5>a.maxW?a.maxW:U5;a.w=U5;a.innerW=U5-d;}U5=n.h;if(U5!==undefined){U5=U5<a.minH?a.minH:U5;U5=U5>a.maxH?a.maxH:U5;a.h=U5;a.innerH=U5-b;}U5=n.innerW;if(U5!==undefined){U5=U5<a.minW-d?a.minW-d:U5;U5=U5>a.maxW-d?a.maxW-d:U5;a.innerW=U5;a.w=U5+d;}U5=n.innerH;if(U5!==undefined){U5=U5<a.minH-b?a.minH-b:U5;U5=U5>a.maxH-b?a.maxH-b:U5;a.innerH=U5;a.h=U5+b;}if(n.contentW!==undefined){a.contentW=n.contentW;}if(n.contentH!==undefined){a.contentH=n.contentH;}l=s._lastLayoutRect;if(l.x!==a.x||l.y!==a.y||l.w!==a.w||l.h!==a.h){r=S3.repaintControls;if(r){if(r.map&&!r.map[s._id]){r.push(s);r.map[s._id]=true;}}l.x=a.x;l.y=a.y;l.w=a.w;l.h=a.h;}return s;}return a;},repaint:function(){var s=this;var a,b,d,r,e;var f,h,l,Q9,A5;Q9=!document.createRange?Math.round:function(A5){return A5;};a=s.getEl().style;r=s._layoutRect;l=s._lastRepaintRect||{};e=s.borderBox;f=e.left+e.right;h=e.top+e.bottom;if(r.x!==l.x){a.left=Q9(r.x)+'px';l.x=r.x;}if(r.y!==l.y){a.top=Q9(r.y)+'px';l.y=r.y;}if(r.w!==l.w){A5=Q9(r.w-f);a.width=(A5>=0?A5:0)+'px';l.w=r.w;}if(r.h!==l.h){A5=Q9(r.h-h);a.height=(A5>=0?A5:0)+'px';l.h=r.h;}if(s._hasBody&&r.innerW!==l.innerW){A5=Q9(r.innerW);d=s.getEl('body');if(d){b=d.style;b.width=(A5>=0?A5:0)+'px';}l.innerW=r.innerW;}if(s._hasBody&&r.innerH!==l.innerH){A5=Q9(r.innerH);d=d||s.getEl('body');if(d){b=b||d.style;b.height=(A5>=0?A5:0)+'px';}l.innerH=r.innerH;}s._lastRepaintRect=l;s.fire('repaint',{},false);},updateLayoutRect:function(){var s=this;s.parent()._lastRect=null;j3.css(s.getEl(),{width:'',height:''});s._layoutRect=s._lastRepaintRect=s._lastLayoutRect=null;s.initLayoutRect();},on:function(y5,a){var s=this;function r(y5){var a,b;if(typeof y5!=='string'){return y5;}return function(e){if(!a){s.parentsAndSelf().each(function(d){var f=d.settings.callbacks;if(f&&(a=f[y5])){b=d;return false;}});}if(!a){e.action=y5;this.fire('execute',e);return;}return a.call(b,e);};}V3(s).on(y5,r(a));return s;},off:function(y5,a){V3(this).off(y5,a);return this;},fire:function(y5,a,b){var s=this;a=a||{};if(!a.control){a.control=s;}a=V3(s).fire(y5,a);if(b!==false&&s.parent){var p=s.parent();while(p&&!a.isPropagationStopped()){p.fire(y5,a,false);p=p.parent();}}return a;},hasEventListeners:function(y5){return V3(this).has(y5);},parents:function(s){var a=this;var b,Z7=new G3();for(b=a.parent();b;b=b.parent()){Z7.add(b);}if(s){Z7=Z7.filter(s);}return Z7;},parentsAndSelf:function(s){return new G3(this).add(this.parents(s));},next:function(){var p=this.parent().items();return p[p.indexOf(this)+1];},prev:function(){var p=this.parent().items();return p[p.indexOf(this)-1];},innerHtml:function(h){this.$el.html(h);return this;},getEl:function(s){var i=s?this._id+'-'+s:this._id;if(!this._elmCache[i]){this._elmCache[i]=h3('#'+i)[0];}return this._elmCache[i];},show:function(){return this.visible(true);},hide:function(){return this.visible(false);},focus:function(){try{this.getEl().focus();}catch(e){}return this;},blur:function(){this.getEl().blur();return this;},aria:function(y5,A5){var s=this,e=s.getEl(s.ariaTarget);if(typeof A5==='undefined'){return s._aria[y5];}s._aria[y5]=A5;if(s.state.get('rendered')){e.setAttribute(y5==='role'?y5:'aria-'+y5,A5);}return s;},encode:function(t,a){if(a!==false){t=this.translate(t);}return(t||'').replace(/[&<>"]/g,function(b){return'&#'+b.charCodeAt(0)+';';});},translate:function(t){return S3.translate?S3.translate(t):t;},before:function(i){var s=this,X7=s.parent();if(X7){X7.insert(i,X7.items().indexOf(s),true);}return s;},after:function(i){var s=this,X7=s.parent();if(X7){X7.insert(i,X7.items().indexOf(s));}return s;},remove:function(){var s=this;var e=s.getEl();var X7=s.parent();var n,i;if(s.items){var a=s.items().toArray();i=a.length;while(i--){a[i].remove();}}if(X7&&X7.items){n=[];X7.items().each(function(b){if(b!==s){n.push(b);}});X7.items().set(n);X7._lastRect=null;}if(s._eventsRoot&&s._eventsRoot===s){h3(e).off();}var l=s.getRoot().controlIdLookup;if(l){delete l[s._id];}if(e&&e.parentNode){e.parentNode.removeChild(e);}s.state.set('rendered',false);s.state.destroy();s.fire('remove');return s;},renderBefore:function(e){h3(e).before(this.renderHtml());this.postRender();return this;},renderTo:function(e){h3(e||this.getContainerElm()).append(this.renderHtml());this.postRender();return this;},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>';},postRender:function(){var s=this;var a=s.settings;var b,d,X7,y5,p;s.$el=h3(s.getEl());s.state.set('rendered',true);for(y5 in a){if(y5.indexOf('on')===0){s.on(y5.substr(2),a[y5]);}}if(s._eventsRoot){for(X7=s.parent();!p&&X7;X7=X7.parent()){p=X7._eventsRoot;}if(p){for(y5 in p._nativeEvents){s._nativeEvents[y5]=true;}}}W3(s);if(a.style){b=s.getEl();if(b){b.setAttribute('style',a.style);b.style.cssText=a.style;}}if(s.settings.border){d=s.borderBox;s.$el.css({'border-top-width':d.top,'border-right-width':d.right,'border-bottom-width':d.bottom,'border-left-width':d.left});}var r=s.getRoot();if(!r.controlIdLookup){r.controlIdLookup={};}r.controlIdLookup[s._id]=s;for(var k in s._aria){s.aria(k,s._aria[k]);}if(s.state.get('visible')===false){s.getEl().style.display='none';}s.bindStates();s.state.on('change:visible',function(e){var f=e.value;var h;if(s.state.get('rendered')){s.getEl().style.display=f===false?'none':'';s.getEl().getBoundingClientRect();}h=s.parent();if(h){h._lastRect=null;}s.fire(f?'show':'hide');O3.add(s);});s.fire('postrender',{},false);},bindStates:function(){},scrollIntoView:function(a){function b(e,r){var x,y,X7=e;x=y=0;while(X7&&X7!==r&&X7.nodeType){x+=X7.offsetLeft||0;y+=X7.offsetTop||0;X7=X7.offsetParent;}return{x:x,y:y};}var e=this.getEl(),p=e.parentNode;var x,y,w,h,d,f;var i=b(e,p);x=i.x;y=i.y;w=e.offsetWidth;h=e.offsetHeight;d=p.clientWidth;f=p.clientHeight;if(a==='end'){x-=d-w;y-=f-h;}else if(a==='center'){x-=d/2-w/2;y-=f/2-h/2;}p.scrollLeft=x;p.scrollTop=y;return this;},getRoot:function(){var a=this,r;var Z7=[];while(a){if(a.rootControl){r=a.rootControl;break;}Z7.push(a);r=a;a=a.parent();}if(!r){r=this;}var i=Z7.length;while(i--){Z7[i].rootControl=r;}return r;},reflow:function(){O3.remove(this);var X7=this.parent();if(X7&&X7._layout&&!X7._layout.isNative()){X7.reflow();}return this;}};q.each('text title visible disabled active value'.split(' '),function(y5){U3[y5]=function(A5){if(arguments.length===0){return this.state.get(y5);}if(typeof A5!=='undefined'){this.state.set(y5,A5);}return this;};});S3=r3.extend(U3);function V3(o){if(!o._eventDispatcher){o._eventDispatcher=new s3({scope:o,toggleEvent:function(y5,s){if(s&&s3.isNative(y5)){if(!o._nativeEvents){o._nativeEvents={};}o._nativeEvents[y5]=true;if(o.state.get('rendered')){W3(o);}}}});}return o._eventDispatcher;}function W3(a){var i,l,Z7,b,n,y5;function d(e){var o=a.getParentCtrl(e.target);if(o){o.fire(e.type,e);}}function f(){var e=b._lastHoverCtrl;if(e){e.fire('mouseleave',{target:e.getEl()});e.parents().each(function(e){e.fire('mouseleave',{target:e.getEl()});});b._lastHoverCtrl=null;}}function h(e){var o=a.getParentCtrl(e.target),p=b._lastHoverCtrl,r=0,i,Z7,s;if(o!==p){b._lastHoverCtrl=o;Z7=o.parents().toArray().reverse();Z7.push(o);if(p){s=p.parents().toArray().reverse();s.push(p);for(r=0;r<s.length;r++){if(Z7[r]!==s[r]){break;}}for(i=s.length-1;i>=r;i--){p=s[i];p.fire('mouseleave',{target:p.getEl()});}}for(i=r;i<Z7.length;i++){o=Z7[i];o.fire('mouseenter',{target:o.getEl()});}}}function j(e){e.preventDefault();if(e.type==='mousewheel'){e.deltaY=-1/40*e.wheelDelta;if(e.wheelDeltaX){e.deltaX=-1/40*e.wheelDeltaX;}}else{e.deltaX=0;e.deltaY=e.detail;}e=a.fire('wheel',e);}n=a._nativeEvents;if(n){Z7=a.parents().toArray();Z7.unshift(a);for(i=0,l=Z7.length;!b&&i<l;i++){b=Z7[i]._eventsRoot;}if(!b){b=Z7[Z7.length-1]||a;}a._eventsRoot=b;for(l=i,i=0;i<l;i++){Z7[i]._eventsRoot=b;}var k=b._delegates;if(!k){k=b._delegates={};}for(y5 in n){if(!n){return false;}if(y5==='wheel'&&!Q3){if(P3){h3(a.getEl()).on('mousewheel',j);}else{h3(a.getEl()).on('DOMMouseScroll',j);}continue;}if(y5==='mouseenter'||y5==='mouseleave'){if(!b._hasMouseEnter){h3(b.getEl()).on('mouseleave',f).on('mouseover',h);b._hasMouseEnter=1;}}else if(!k[y5]){h3(b.getEl()).on(y5,d);k[y5]=true;}n[y5]=false;}}}var X3=S3;var Y3=function(e){return e.getAttribute('data-mce-tabstop')?true:false;};function Z3(s){var r=s.root;var f,a;function D5(p6){return p6&&p6.nodeType===1;}try{f=document.activeElement;}catch(b){f=document.body;}a=r.getParentCtrl(f);function d(e){e=e||f;if(D5(e)){return e.getAttribute('role');}return null;}function h(e){var i,X7=e||f;while(X7=X7.parentNode){if(i=d(X7)){return i;}}}function j(y5){var e=f;if(D5(e)){return e.getAttribute('aria-'+y5);}}function k(e){var i=e.tagName.toUpperCase();return i==='INPUT'||i==='TEXTAREA'||i==='SELECT';}function l(e){if(k(e)&&!e.hidden){return true;}if(Y3(e)){return true;}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(d(e))){return true;}return false;}function n(e){var a2=[];function d2(e){if(e.nodeType!==1||e.style.display==='none'||e.disabled){return;}if(l(e)){a2.push(e);}for(var i=0;i<e.childNodes.length;i++){d2(e.childNodes[i]);}}d2(e||r.getEl());return a2;}function o(e){var a2,d2;e=e||a;d2=e.parents().toArray();d2.unshift(e);for(var i=0;i<d2.length;i++){a2=d2[i];if(a2.settings.ariaRoot){break;}}return a2;}function p(e){var i=o(e);var a2=n(i.getEl());if(i.settings.ariaRemember&&'lastAriaIndex'in i){t(i.lastAriaIndex,a2);}else{t(0,a2);}}function t(i,e){if(i<0){i=e.length-1;}else if(i>=e.length){i=0;}if(e[i]){e[i].focus();}return i;}function v(e,a2){var d2=-1;var e2=o();a2=a2||n(e2.getEl());for(var i=0;i<a2.length;i++){if(a2[i]===f){d2=i;}}d2+=e;e2.lastAriaIndex=t(d2,a2);}function w(){var e=h();if(e==='tablist'){v(-1,n(f.parentNode));}else if(a.parent().submenu){d1();}else{v(-1);}}function x(){var e=d(),i=h();if(i==='tablist'){v(1,n(f.parentNode));}else if(e==='menuitem'&&i==='menu'&&j('haspopup')){e1();}else{v(1);}}function y(){v(-1);}function $(){var e=d(),i=h();if(e==='menuitem'&&i==='menubar'){e1();}else if(e==='button'&&j('haspopup')){e1({key:'down'});}else{v(1);}}function a1(e){var i=h();if(i==='tablist'){var a2=n(a.getEl('body'))[0];if(a2){a2.focus();}}else{v(e.shiftKey?-1:1);}}function d1(){a.fire('cancel');}function e1(e){e=e||{};a.fire('click',{target:f,aria:e});}r.on('keydown',function(e){function i(e,a2){if(k(f)||Y3(f)){return;}if(d(f)==='slider'){return;}if(a2(e)!==false){e.preventDefault();}}if(e.isDefaultPrevented()){return;}switch(e.keyCode){case 37:i(e,w);break;case 39:i(e,x);break;case 38:i(e,y);break;case 40:i(e,$);break;case 27:d1();break;case 14:case 13:case 32:i(e,e1);break;case 9:a1(e);e.preventDefault();break;}});r.on('focusin',function(e){f=e.target;a=e.control;});return{focusFirst:p};}var $3={};var _3=X3.extend({init:function(s){var a=this;a._super(s);s=a.settings;if(s.fixed){a.state.set('fixed',true);}a._items=new G3();if(a.isRtl()){a.classes.add('rtl');}a.bodyClasses=new v3(function(){if(a.state.get('rendered')){a.getEl('body').className=this.toString();}});a.bodyClasses.prefix=a.classPrefix;a.classes.add('container');a.bodyClasses.add('container-body');if(s.containerCls){a.classes.add(s.containerCls);}a._layout=T.create((s.layout||'')+'layout');if(a.settings.items){a.add(a.settings.items);}else{a.add(a.render());}a._hasBody=true;},items:function(){return this._items;},find:function(s){s=$3[s]=$3[s]||new B3(s);return s.find(this);},add:function(i){var s=this;s.items().add(s.create(i)).parent(s);return s;},focus:function(k){var s=this;var f,a,i;if(k){a=s.keyboardNav||s.parents().eq(-1)[0].keyboardNav;if(a){a.focusFirst(s);return;}}i=s.find('*');if(s.statusbar){i.add(s.statusbar.items());}i.each(function(b){if(b.settings.autofocus){f=null;return false;}if(b.canFocus){f=f||b;}});if(f){f.focus();}return s;},replace:function(o,n){var a;var b=this.items();var i=b.length;while(i--){if(b[i]===o){b[i]=n;break;}}if(i>=0){a=n.getEl();if(a){a.parentNode.removeChild(a);}a=o.getEl();if(a){a.parentNode.removeChild(a);}}n.parent(this);},create:function(i){var s=this;var a;var b=[];if(!q.isArray(i)){i=[i];}q.each(i,function(d){if(d){if(!(d instanceof X3)){if(typeof d==='string'){d={type:d};}a=q.extend({},s.settings.defaults,d);d.type=a.type=a.type||d.type||s.settings.defaultType||(a.defaults?a.defaults.type:null);d=T.create(a);}b.push(d);}});return b;},renderNew:function(){var s=this;s.items().each(function(a,i){var b;a.parent(s);if(!a.state.get('rendered')){b=s.getEl('body');if(b.hasChildNodes()&&i<=b.childNodes.length-1){h3(b.childNodes[i]).before(a.renderHtml());}else{h3(b).append(a.renderHtml());}a.postRender();O3.add(a);}});s._layout.applyClasses(s.items().filter(':visible'));s._lastRect=null;return s;},append:function(i){return this.add(i).renderNew();},prepend:function(i){var s=this;s.items().set(s.create(i).concat(s.items().toArray()));return s.renderNew();},insert:function(i,a,b){var s=this;var d,e,f;i=s.create(i);d=s.items();if(!b&&a<d.length-1){a+=1;}if(a>=0&&a<d.length){e=d.slice(0,a).toArray();f=d.slice(a).toArray();d.set(e.concat(i,f));}return s.renderNew();},fromJSON:function(d){var s=this;for(var n in d){s.find('#'+n).value(d[n]);}return s;},toJSON:function(){var s=this,d={};s.find('*').each(function(a){var y5=a.name(),A5=a.value();if(y5&&typeof A5!=='undefined'){d[y5]=A5;}});return d;},renderHtml:function(){var s=this,l=s._layout,r=this.settings.role;s.preRender();l.preRender(s);return'<div id="'+s._id+'" class="'+s.classes+'"'+(r?' role="'+this.settings.role+'"':'')+'>'+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</div>';},postRender:function(){var s=this;var b;s.items().exec('postRender');s._super();s._layout.postRender(s);s.state.set('rendered',true);if(s.settings.style){s.$el.css(s.settings.style);}if(s.settings.border){b=s.borderBox;s.$el.css({'border-top-width':b.top,'border-right-width':b.right,'border-bottom-width':b.bottom,'border-left-width':b.left});}if(!s.parent()){s.keyboardNav=Z3({root:s});}return s;},initLayoutRect:function(){var s=this,l=s._super();s._layout.recalc(s);return l;},recalc:function(){var s=this;var r=s._layoutRect;var l=s._lastRect;if(!l||l.w!==r.w||l.h!==r.h){s._layout.recalc(s);r=s.layoutRect();s._lastRect={x:r.x,y:r.y,w:r.w,h:r.h};return true;}},reflow:function(){var i;O3.remove(this);if(this.visible()){X3.repaintControls=[];X3.repaintControls.map={};this.recalc();i=X3.repaintControls.length;while(i--){X3.repaintControls[i].repaint();}if(this.settings.layout!=='flow'&&this.settings.layout!=='stack'){this.repaint();}X3.repaintControls=[];}return this;}});function a4(d){var V7,I5,s,a;var o,b,e,f;var h=Math.max;V7=d.documentElement;I5=d.body;s=h(V7.scrollWidth,I5.scrollWidth);a=h(V7.clientWidth,I5.clientWidth);o=h(V7.offsetWidth,I5.offsetWidth);b=h(V7.scrollHeight,I5.scrollHeight);e=h(V7.clientHeight,I5.clientHeight);f=h(V7.offsetHeight,I5.offsetHeight);return{width:s<o?a:s,height:b<f?e:b};}function b4(e){var M5,i;if(e.changedTouches){M5='screenX screenY pageX pageY clientX clientY'.split(' ');for(i=0;i<M5.length;i++){e[M5[i]]=e.changedTouches[0][M5[i]];}}}function c4(i,s){var $;var d=s.document||document;var a;var b,f,h,j,k;s=s||{};var l=d.getElementById(s.handle||i);b=function(e){var n=a4(d);var o,p;b4(e);e.preventDefault();a=e.button;o=l;j=e.screenX;k=e.screenY;if(window.getComputedStyle){p=window.getComputedStyle(o,null).getPropertyValue('cursor');}else{p=o.runtimeStyle.cursor;}$=h3('<div></div>').css({position:'absolute',top:0,left:0,width:n.width,height:n.height,zIndex:2147483647,opacity:0.0001,cursor:p}).appendTo(d.body);h3(d).on('mousemove touchmove',h).on('mouseup touchend',f);s.start(e);};h=function(e){b4(e);if(e.button!==a){return f(e);}e.deltaX=e.screenX-j;e.deltaY=e.screenY-k;e.preventDefault();s.drag(e);};f=function(e){b4(e);h3(d).off('mousemove touchmove',h).off('mouseup touchend',f);$.remove();if(s.stop){s.stop(e);}};this.destroy=function(){h3(l).off();};h3(l).on('mousedown touchstart',b);}var d4={init:function(){var s=this;s.on('repaint',s.renderScroll);},renderScroll:function(){var s=this,a=2;function r(){var h,d,e;function f(i,p,j,k,l,n){var o,t,v;var w,x,y,$;var a1,d1;t=s.getEl('scroll'+i);if(t){a1=p.toLowerCase();d1=j.toLowerCase();h3(s.getEl('absend')).css(a1,s.layoutRect()[k]-1);if(!l){h3(t).css('display','none');return;}h3(t).css('display','block');o=s.getEl('body');v=s.getEl('scroll'+i+'t');w=o['client'+j]-a*2;w-=h&&d?t['client'+n]:0;x=o['scroll'+j];y=w/x;$={};$[a1]=o['offset'+p]+a;$[d1]=w;h3(t).css($);$={};$[a1]=o['scroll'+p]*y;$[d1]=w*y;h3(v).css($);}}e=s.getEl('body');h=e.scrollWidth>e.clientWidth;d=e.scrollHeight>e.clientHeight;f('h','Left','Width','contentW',h,'Height');f('v','Top','Height','contentH',d,'Width');}function b(){function d(f,p,h,i,j){var k;var l=s._id+'-scroll'+f,n=s.classPrefix;h3(s.getEl()).append('<div id="'+l+'" class="'+n+'scrollbar '+n+'scrollbar-'+f+'">'+'<div id="'+l+'t" class="'+n+'scrollbar-thumb"></div>'+'</div>');s.draghelper=new c4(l+'t',{start:function(){k=s.getEl('body')['scroll'+p];h3('#'+l).addClass(n+'active');},drag:function(e){var o,t,v,w;var x=s.layoutRect();t=x.contentW>x.innerW;v=x.contentH>x.innerH;w=s.getEl('body')['client'+h]-a*2;w-=t&&v?s.getEl('scroll'+f)['client'+j]:0;o=w/s.getEl('body')['scroll'+h];s.getEl('body')['scroll'+p]=k+e['delta'+i]/o;},stop:function(){h3('#'+l).removeClass(n+'active');}});}s.classes.add('scroll');d('v','Top','Height','Y','Width');d('h','Left','Width','X','Height');}if(s.settings.autoScroll){if(!s._hasScroll){s._hasScroll=true;b();s.on('wheel',function(e){var d=s.getEl('body');d.scrollLeft+=(e.deltaX||0)*10;d.scrollTop+=e.deltaY*10;r();});h3(s.getEl('body')).on('scroll',r);}r();}}};var e4=_3.extend({Defaults:{layout:'fit',containerCls:'panel'},Mixins:[d4],renderHtml:function(){var s=this;var l=s._layout;var i=s.settings.html;s.preRender();l.preRender(s);if(typeof i==='undefined'){i='<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+l.renderHtml(s)+'</div>';}else{if(typeof i==='function'){i=i.call(s);}s._hasBody=false;}return'<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1" role="group">'+(s._preBodyHtml||'')+i+'</div>';}});var f4={resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow();},resizeTo:function(w,h){if(w<=1||h<=1){var r=j3.getWindowSize();w=w<=1?w*r.w:w;h=h<=1?h*r.h:h;}this._layoutRect.autoResize=false;return this.layoutRect({minW:w,minH:h,w:w,h:h}).reflow();},resizeBy:function(d,a){var s=this,r=s.layoutRect();return s.resizeTo(r.w+d,r.h+a);}};var g4;var h4;var i4;var j4=[];var k4=[];var l4;function m4(a,X7){while(a){if(a===X7){return true;}a=a.parent();}}function n4(e){var i=j4.length;while(i--){var p=j4[i],a=p.getParentCtrl(e.target);if(p.settings.autohide){if(a){if(m4(a,p)||p.parent()===a){continue;}}e=p.fire('autohide',{target:e.target});if(!e.isDefaultPrevented()){p.hide();}}}}function o4(){if(!g4){g4=function(e){if(e.button===2){return;}n4(e);};h3(document).on('click touchstart',g4);}}function p4(){if(!h4){h4=function(){var i;i=j4.length;while(i--){r4(j4[i]);}};h3(window).on('scroll',h4);}}function q4(){if(!i4){var d=document.documentElement;var a=d.clientWidth,b=d.clientHeight;i4=function(){if(!document.all||a!==d.clientWidth||b!==d.clientHeight){a=d.clientWidth;b=d.clientHeight;t4.hideAll();}};h3(window).on('resize',i4);}}function r4(p){var s=j3.getViewPort().y;function t(f,d){var X7;for(var i=0;i<j4.length;i++){if(j4[i]!==p){X7=j4[i].parent();while(X7&&(X7=X7.parent())){if(X7===p){j4[i].fixed(f).moveBy(0,d).repaint();}}}}}if(p.settings.autofix){if(!p.state.get('fixed')){p._autoFixY=p.layoutRect().y;if(p._autoFixY<s){p.fixed(true).layoutRect({y:0}).repaint();t(true,s-p._autoFixY);}}else{if(p._autoFixY>s){p.fixed(false).layoutRect({y:p._autoFixY}).repaint();t(false,p._autoFixY-s);}}}}function s4(a,b){var i,d=t4.zIndex||65535,t;if(a){k4.push(b);}else{i=k4.length;while(i--){if(k4[i]===b){k4.splice(i,1);}}}if(k4.length){for(i=0;i<k4.length;i++){if(k4[i].modal){d++;t=k4[i];}k4[i].getEl().style.zIndex=d;k4[i].zIndex=d;d++;}}var e=h3('#'+b.classPrefix+'modal-block',b.getContainerElm())[0];if(t){h3(e).css('z-index',t.zIndex-1);}else if(e){e.parentNode.removeChild(e);l4=false;}t4.currentZIndex=d;}var t4=e4.extend({Mixins:[q3,f4],init:function(s){var a=this;a._super(s);a._eventsRoot=a;a.classes.add('floatpanel');if(s.autohide){o4();q4();j4.push(a);}if(s.autofix){p4();a.on('move',function(){r4(this);});}a.on('postrender show',function(e){if(e.control===a){var $;var p=a.classPrefix;if(a.modal&&!l4){$=h3('#'+p+'modal-block',a.getContainerElm());if(!$[0]){$=h3('<div id="'+p+'modal-block" class="'+p+'reset '+p+'fade"></div>').appendTo(a.getContainerElm());}f1.setTimeout(function(){$.addClass(p+'in');h3(a.getEl()).addClass(p+'in');});l4=true;}s4(true,a);}});a.on('show',function(){a.parents().each(function(b){if(b.state.get('fixed')){a.fixed(true);return false;}});});if(s.popover){a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>';a.classes.add('popover').add('bottom').add(a.isRtl()?'end':'start');}a.aria('label',s.ariaLabel);a.aria('labelledby',a._id);a.aria('describedby',a.describedBy||a._id+'-none');},fixed:function(s){var a=this;if(a.state.get('fixed')!==s){if(a.state.get('rendered')){var v=j3.getViewPort();if(s){a.layoutRect().y-=v.y;}else{a.layoutRect().y+=v.y;}}a.classes.toggle('fixed',s);a.state.set('fixed',s);}return a;},show:function(){var s=this;var i;var a=s._super();i=j4.length;while(i--){if(j4[i]===s){break;}}if(i===-1){j4.push(s);}return a;},hide:function(){u4(this);s4(false,this);return this._super();},hideAll:function(){t4.hideAll();},close:function(){var s=this;if(!s.fire('close').isDefaultPrevented()){s.remove();s4(false,s);}return s;},remove:function(){u4(this);this._super();},postRender:function(){var s=this;if(s.settings.bodyRole){this.getEl('body').setAttribute('role',s.settings.bodyRole);}return s._super();}});t4.hideAll=function(){var i=j4.length;while(i--){var p=j4[i];if(p&&p.settings.autohide){p.hide();j4.splice(i,1);}}};function u4(p){var i;i=j4.length;while(i--){if(j4[i]===p){j4.splice(i,1);}}i=k4.length;while(i--){if(k4[i]===p){k4.splice(i,1);}}}var v4=function(i,e){return!!(i&&!e.settings.ui_container);};var w4=function(e,t,a){var p,i;var J1=S.DOM;var f=E(e);if(f){i=J1.select(f)[0];}var r=function(){if(p&&p.moveRel&&p.visible()&&!p._fixed){var b=e.selection.getScrollContainer(),I5=e.getBody();var d=0,j=0;if(b){var k=J1.getPos(I5),l=J1.getPos(b);d=Math.max(0,l.x-k.x);j=Math.max(0,l.y-k.y);}p.fixed(false).moveRel(I5,e.rtl?['tr-br','br-tr']:['tl-bl','bl-tl','tr-br']).moveBy(d,j);}};var s=function(){if(p){p.show();r();J1.addClass(e.getBody(),'mce-edit-focus');}};var h=function(){if(p){p.hide();t4.hideAll();J1.removeClass(e.getBody(),'mce-edit-focus');}};var f3=function(){if(p){if(!p.visible()){s();}return;}p=t.panel=T.create({type:i?'panel':'floatpanel',role:'application',classes:'tinymce tinymce-inline',layout:'flex',direction:'column',align:'stretch',autohide:false,autofix:v4(i,e),fixed:v4(i,e),border:1,items:[z(e)===false?null:{type:'menubar',border:'0 0 1 0',items:K2.createMenuButtons(e)},I1.createToolbars(e,C(e))]});F1.setUiContainer(e,p);Y.fireBeforeRenderUI(e);if(i){p.renderTo(i).reflow();}else{p.renderTo().reflow();}b1.addKeys(e,p);s();Q1.addContextualToolbars(e);e.on('nodeChange',r);e.on('ResizeWindow',r);e.on('activate',s);e.on('deactivate',h);e.nodeChanged();};e.settings.content_editable=true;e.on('focus',function(){if(M(e)===false&&a.skinUiCss){J1.styleSheetLoader.load(a.skinUiCss,f3,f3);}else{f3();}});e.on('blur hide',h);e.on('remove',function(){if(p){p.remove();p=null;}});if(M(e)===false&&a.skinUiCss){J1.styleSheetLoader.load(a.skinUiCss,a3.fireSkinLoaded(e));}else{a3.fireSkinLoaded(e)();}return{};};var x4={render:w4};function y4(e,i){var s=this;var a;var R3=X3.classPrefix;var t;s.show=function(b,d){function f3(){if(a){h3(e).append('<div class="'+R3+'throbber'+(i?' '+R3+'throbber-inline':'')+'"></div>');if(d){d();}}}s.hide();a=true;if(b){t=f1.setTimeout(f3,b);}else{f3();}return s;};s.hide=function(){var f8=e.lastChild;f1.clearTimeout(t);if(f8&&f8.className.indexOf('throbber')!==-1){f8.parentNode.removeChild(f8);}a=false;return s;};}var z4=function(a,t){var b;a.on('ProgressState',function(e){b=b||new y4(t.panel.getEl('body'));if(e.state){b.show(e.time);}else{b.hide();}});};var A4={setup:z4};var B4=function(e,t,a){var s=P(e);if(s){a.skinUiCss=s+'/skin.min.css';e.contentCSS.push(s+'/content'+(e.inline?'.inline':'')+'.min.css');}A4.setup(e,t);return N(e)?x4.render(e,t,a):g3.render(e,t,a);};var C4={renderUI:B4};var D4=X3.extend({Mixins:[q3],Defaults:{classes:'widget tooltip tooltip-n'},renderHtml:function(){var s=this,p=s.classPrefix;return'<div id="'+s._id+'" class="'+s.classes+'" role="presentation">'+'<div class="'+p+'tooltip-arrow"></div>'+'<div class="'+p+'tooltip-inner">'+s.encode(s.state.get('text'))+'</div>'+'</div>';},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.getEl().lastChild.innerHTML=s.encode(e.value);});return s._super();},repaint:function(){var s=this;var a,r;a=s.getEl().style;r=s._layoutRect;a.left=r.x+'px';a.top=r.y+'px';a.zIndex=65535+65535;}});var E4=X3.extend({init:function(s){var a=this;a._super(s);s=a.settings;a.canFocus=true;if(s.tooltip&&E4.tooltips!==false){a.on('mouseenter',function(e){var t=a.tooltip().moveTo(-65535);if(e.control===a){var r=t.text(s.tooltip).show().testMoveRel(a.getEl(),['bc-tc','bc-tl','bc-tr']);t.classes.toggle('tooltip-n',r==='bc-tc');t.classes.toggle('tooltip-nw',r==='bc-tl');t.classes.toggle('tooltip-ne',r==='bc-tr');t.moveRel(a.getEl(),r);}else{t.hide();}});a.on('mouseleave mousedown click',function(){a.tooltip().remove();a._tooltip=null;});}a.aria('label',s.ariaLabel||s.tooltip);},tooltip:function(){if(!this._tooltip){this._tooltip=new D4({type:'tooltip'});F1.inheritUiContainer(this,this._tooltip);this._tooltip.renderTo();}return this._tooltip;},postRender:function(){var s=this,a=s.settings;s._super();if(!s.parent()&&(a.width||a.height)){s.initLayoutRect();s.repaint();}if(a.autofocus){s.focus();}},bindStates:function(){var s=this;function d(b){s.aria('disabled',b);s.classes.toggle('disabled',b);}function a(b){s.aria('pressed',b);s.classes.toggle('active',b);}s.state.on('change:disabled',function(e){d(e.value);});s.state.on('change:active',function(e){a(e.value);});if(s.state.get('disabled')){d(true);}if(s.state.get('active')){a(true);}return s._super();},remove:function(){this._super();if(this._tooltip){this._tooltip.remove();this._tooltip=null;}}});var F4=E4.extend({Defaults:{value:0},init:function(s){var a=this;a._super(s);a.classes.add('progress');if(!a.settings.filter){a.settings.filter=function(A5){return Math.round(A5);};}},renderHtml:function(){var s=this,i=s._id,p=this.classPrefix;return'<div id="'+i+'" class="'+s.classes+'">'+'<div class="'+p+'bar-container">'+'<div class="'+p+'bar"></div>'+'</div>'+'<div class="'+p+'text">0%</div>'+'</div>';},postRender:function(){var s=this;s._super();s.value(s.settings.value);return s;},bindStates:function(){var s=this;function a(A5){A5=s.settings.filter(A5);s.getEl().lastChild.innerHTML=A5+'%';s.getEl().firstChild.firstChild.style.width=A5+'%';}s.state.on('change:value',function(e){a(e.value);});a(s.state.get('value'));return s._super();}});var G4=function(a,t){a.getEl().lastChild.textContent=t+(a.progressBar?' '+a.progressBar.value()+'%':'');};var H4=X3.extend({Mixins:[q3],Defaults:{classes:'widget notification'},init:function(s){var a=this;a._super(s);a.maxWidth=s.maxWidth;if(s.text){a.text(s.text);}if(s.icon){a.icon=s.icon;}if(s.color){a.color=s.color;}if(s.type){a.classes.add('notification-'+s.type);}if(s.timeout&&(s.timeout<0||s.timeout>0)&&!s.closeButton){a.closeButton=false;}else{a.classes.add('has-close');a.closeButton=true;}if(s.progressBar){a.progressBar=new F4();}a.on('click',function(e){if(e.target.className.indexOf(a.classPrefix+'close')!==-1){a.close();}});},renderHtml:function(){var s=this;var p=s.classPrefix;var i='',a='',b='',n='';if(s.icon){i='<i class="'+p+'ico'+' '+p+'i-'+s.icon+'"></i>';}n=' style="max-width: '+s.maxWidth+'px;'+(s.color?'background-color: '+s.color+';"':'"');if(s.closeButton){a='<button type="button" class="'+p+'close" aria-hidden="true">\xD7</button>';}if(s.progressBar){b=s.progressBar.renderHtml();}return'<div id="'+s._id+'" class="'+s.classes+'"'+n+' role="presentation">'+i+'<div class="'+p+'notification-inner">'+s.state.get('text')+'</div>'+b+a+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;"'+' aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div>'+'</div>';},postRender:function(){var s=this;f1.setTimeout(function(){s.$el.addClass(s.classPrefix+'in');G4(s,s.state.get('text'));},100);return s._super();},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.getEl().firstChild.innerHTML=e.value;G4(s,e.value);});if(s.progressBar){s.progressBar.bindStates();s.progressBar.state.on('change:value',function(e){G4(s,s.state.get('text'));});}return s._super();},close:function(){var s=this;if(!s.fire('close').isDefaultPrevented()){s.remove();}return s;},repaint:function(){var s=this;var a,r;a=s.getEl().style;r=s._layoutRect;a.left=r.x+'px';a.top=r.y+'px';a.zIndex=65535-1;}});function I4(e){var a=function(e){return e.inline?e.getElement():e.getContentAreaContainer();};var b=function(){var i=a(e);return j3.getSize(i).width;};var p=function(n){A2.each(n,function(i){i.moveTo(0,0);});};var d=function(n){if(n.length>0){var i=n.slice(0,1)[0];var j=a(e);i.moveRel(j,'tc-tc');A2.each(n,function(k,l){if(l>0){k.moveRel(n[l-1].getEl(),'bc-tc');}});}};var r=function(n){p(n);d(n);};var o=function(i,j){var k=q.extend(i,{maxWidth:b()});var n=new H4(k);n.args=k;if(k.timeout>0){n.timer=setTimeout(function(){n.close();j();},k.timeout);}n.on('close',function(){j();});n.renderTo();return n;};var f=function(n){n.close();};var h=function(n){return n.args;};return{open:o,close:f,reposition:r,getArgs:h};}var J4=[];var K4='';function L4(s){var n='width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0';var v=h3('meta[name=viewport]')[0],a;if(Q2.overrideViewPort===false){return;}if(!v){v=document.createElement('meta');v.setAttribute('name','viewport');document.getElementsByTagName('head')[0].appendChild(v);}a=v.getAttribute('content');if(a&&typeof K4!=='undefined'){K4=a;}v.setAttribute('content',s?n:K4);}function M4(R3,s){if(N4()&&s===false){h3([document.documentElement,document.body]).removeClass(R3+'fullscreen');}}function N4(){for(var i=0;i<J4.length;i++){if(J4[i]._fullscreen){return true;}}return false;}function O4(){if(!Q2.desktop){var l={w:window.innerWidth,h:window.innerHeight};f1.setInterval(function(){var w=window.innerWidth,h=window.innerHeight;if(l.w!==w||l.h!==h){l={w:w,h:h};h3(window).trigger('resize');}},100);}function r(){var i;var a=j3.getWindowSize();var b;for(i=0;i<J4.length;i++){b=J4[i].layoutRect();J4[i].moveTo(J4[i].settings.x||Math.max(0,a.w/2-b.w/2),J4[i].settings.y||Math.max(0,a.h/2-b.h/2));}}h3(window).on('resize',r);}var P4=t4.extend({modal:true,Defaults:{border:1,layout:'flex',containerCls:'panel',role:'dialog',callbacks:{submit:function(){this.fire('submit',{data:this.toJSON()});},close:function(){this.close();}}},init:function(s){var a=this;a._super(s);if(a.isRtl()){a.classes.add('rtl');}a.classes.add('window');a.bodyClasses.add('window-body');a.state.set('fixed',true);if(s.buttons){a.statusbar=new e4({layout:'flex',border:'1 0 0 0',spacing:3,padding:10,align:'center',pack:a.isRtl()?'start':'end',defaults:{type:'button'},items:s.buttons});a.statusbar.classes.add('foot');a.statusbar.parent(a);}a.on('click',function(e){var b=a.classPrefix+'close';if(j3.hasClass(e.target,b)||j3.hasClass(e.target.parentNode,b)){a.close();}});a.on('cancel',function(){a.close();});a.on('move',function(e){if(e.control===a){t4.hideAll();}});a.aria('describedby',a.describedBy||a._id+'-none');a.aria('label',s.title);a._fullscreen=false;},recalc:function(){var s=this;var a=s.statusbar;var l,w,x,n;if(s._fullscreen){s.layoutRect(j3.getWindowSize());s.layoutRect().contentH=s.layoutRect().innerH;}s._super();l=s.layoutRect();if(s.settings.title&&!s._fullscreen){w=l.headerW;if(w>l.w){x=l.x-Math.max(0,w/2);s.layoutRect({w:w,x:x});n=true;}}if(a){a.layoutRect({w:s.layoutRect().innerW}).recalc();w=a.layoutRect().minW+l.deltaW;if(w>l.w){x=l.x-Math.max(0,w-l.w);s.layoutRect({w:w,x:x});n=true;}}if(n){s.recalc();}},initLayoutRect:function(){var s=this;var l=s._super();var d=0,h;if(s.settings.title&&!s._fullscreen){h=s.getEl('head');var U5=j3.getSize(h);l.headerW=U5.width;l.headerH=U5.height;d+=l.headerH;}if(s.statusbar){d+=s.statusbar.layoutRect().h;}l.deltaH+=d;l.minH+=d;l.h+=d;var r=j3.getWindowSize();l.x=s.settings.x||Math.max(0,r.w/2-l.w/2);l.y=s.settings.y||Math.max(0,r.h/2-l.h/2);return l;},renderHtml:function(){var s=this,l=s._layout,i=s._id,p=s.classPrefix;var a=s.settings;var h='',f='',b=a.html;s.preRender();l.preRender(s);if(a.title){h='<div id="'+i+'-head" class="'+p+'window-head">'+'<div id="'+i+'-title" class="'+p+'title">'+s.encode(a.title)+'</div>'+'<div id="'+i+'-dragh" class="'+p+'dragh"></div>'+'<button type="button" class="'+p+'close" aria-hidden="true">'+'<i class="mce-ico mce-i-remove"></i>'+'</button>'+'</div>';}if(a.url){b='<iframe src="'+a.url+'" tabindex="-1"></iframe>';}if(typeof b==='undefined'){b=l.renderHtml(s);}if(s.statusbar){f=s.statusbar.renderHtml();}return'<div id="'+i+'" class="'+s.classes+'" hidefocus="1">'+'<div class="'+s.classPrefix+'reset" role="application">'+h+'<div id="'+i+'-body" class="'+s.bodyClasses+'">'+b+'</div>'+f+'</div>'+'</div>';},fullscreen:function(s){var a=this;var V7=document.documentElement;var b;var p=a.classPrefix;var l;if(s!==a._fullscreen){h3(window).on('resize',function(){var t;if(a._fullscreen){if(!b){t=new Date().getTime();var r=j3.getWindowSize();a.moveTo(0,0).resizeTo(r.w,r.h);if(new Date().getTime()-t>50){b=true;}}else{if(!a._timer){a._timer=f1.setTimeout(function(){var r=j3.getWindowSize();a.moveTo(0,0).resizeTo(r.w,r.h);a._timer=0;},50);}}}});l=a.layoutRect();a._fullscreen=s;if(!s){a.borderBox=t3.parseBox(a.settings.border);a.getEl('head').style.display='';l.deltaH+=l.headerH;h3([V7,document.body]).removeClass(p+'fullscreen');a.classes.remove('fullscreen');a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);}else{a._initial={x:l.x,y:l.y,w:l.w,h:l.h};a.borderBox=t3.parseBox('0');a.getEl('head').style.display='none';l.deltaH-=l.headerH+2;h3([V7,document.body]).addClass(p+'fullscreen');a.classes.add('fullscreen');var r=j3.getWindowSize();a.moveTo(0,0).resizeTo(r.w,r.h);}}return a.reflow();},postRender:function(){var s=this;var a;setTimeout(function(){s.classes.add('in');s.fire('open');},0);s._super();if(s.statusbar){s.statusbar.postRender();}s.focus();this.dragHelper=new c4(s._id+'-dragh',{start:function(){a={x:s.layoutRect().x,y:s.layoutRect().y};},drag:function(e){s.moveTo(a.x+e.deltaX,a.y+e.deltaY);}});s.on('submit',function(e){if(!e.isDefaultPrevented()){s.close();}});J4.push(s);L4(true);},submit:function(){return this.fire('submit',{data:this.toJSON()});},remove:function(){var s=this;var i;s.dragHelper.destroy();s._super();if(s.statusbar){this.statusbar.remove();}M4(s.classPrefix,false);i=J4.length;while(i--){if(J4[i]===s){J4.splice(i,1);}}L4(J4.length>0);},getContentWindow:function(){var i=this.getEl().getElementsByTagName('iframe')[0];return i?i.contentWindow:null;}});O4();var Q4=P4.extend({init:function(s){s={border:1,padding:20,layout:'flex',pack:'center',align:'center',containerCls:'panel',autoScroll:true,buttons:{type:'button',text:'Ok',action:'ok'},items:{type:'label',multiline:true,maxWidth:500,maxHeight:200}};this._super(s);},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(s){var b;var a=s.callback||function(){};function d(t,f,p){return{type:'button',text:t,subtype:p?'primary':'',onClick:function(e){e.control.parents()[1].close();a(f);}};}switch(s.buttons){case Q4.OK_CANCEL:b=[d('Ok',true,true),d('Cancel',false)];break;case Q4.YES_NO:case Q4.YES_NO_CANCEL:b=[d('Yes',1,true),d('No',0)];if(s.buttons===Q4.YES_NO_CANCEL){b.push(d('Cancel',-1));}break;default:b=[d('Ok',true,true)];break;}return new P4({padding:20,x:s.x,y:s.y,minWidth:300,minHeight:100,layout:'flex',pack:'center',align:'center',buttons:b,title:s.title,role:'alertdialog',items:{type:'label',multiline:true,maxWidth:500,maxHeight:200,text:s.text},onPostRender:function(){this.aria('describedby',this.items()[0]._id);},onClose:s.onClose,onCancel:function(){a(false);}}).renderTo(document.body).reflow();},alert:function(s,a){if(typeof s==='string'){s={text:s};}s.callback=a;return Q4.msgBox(s);},confirm:function(s,a){if(typeof s==='string'){s={text:s};}s.callback=a;s.buttons=Q4.OK_CANCEL;return Q4.msgBox(s);}}});function R4(e){var o=function(h,p,i){var w;h.title=h.title||' ';h.url=h.url||h.file;if(h.url){h.width=parseInt(h.width||320,10);h.height=parseInt(h.height||240,10);}if(h.body){h.items={defaults:h.defaults,type:h.bodyType||'form',items:h.body,data:h.data,callbacks:h.commands};}if(!h.url&&!h.buttons){h.buttons=[{text:'Ok',subtype:'primary',onclick:function(){w.find('form')[0].submit();}},{text:'Cancel',onclick:function(){w.close();}}];}w=new P4(h);w.on('close',function(){i(w);});if(h.data){w.on('postRender',function(){this.find('*').each(function(j){var y5=j.name();if(y5 in h.data){j.value(h.data[y5]);}});});}w.features=h||{};w.params=p||{};w=w.renderTo(document.body).reflow();return w;};var a=function(h,i,j){var w;w=Q4.alert(h,function(){i();});w.on('close',function(){j(w);});return w;};var b=function(h,i,j){var w;w=Q4.confirm(h,function(k){i(k);});w.on('close',function(){j(w);});return w;};var d=function(w){w.close();};var f=function(w){return w.params;};var s=function(w,p){w.params=p;};return{open:o,alert:a,confirm:b,close:d,getParams:f,setParams:s};}var S4=function(e){var B4=function(d){return C4.renderUI(e,this,d);};var N2=function(w,h){return P2.resizeTo(e,w,h);};var O2=function(d,f){return P2.resizeBy(e,d,f);};var a=function(){return I4(e);};var b=function(){return R4(e);};return{renderUI:B4,resizeTo:N2,resizeBy:O2,getNotificationManagerImpl:a,getWindowManagerImpl:b};};var T4={get:S4};var U4=r3.extend({Defaults:{firstControlClass:'first',lastControlClass:'last'},init:function(s){this.settings=q.extend({},this.Defaults,s);},preRender:function(a){a.bodyClasses.add(this.settings.containerClass);},applyClasses:function(i){var s=this;var a=s.settings;var f,l,b,d;f=a.firstControlClass;l=a.lastControlClass;i.each(function(e){e.classes.remove(f).remove(l).add(a.controlClass);if(e.visible()){if(!b){b=e;}d=e;}});if(b){b.classes.add(f);}if(d){d.classes.add(l);}},renderHtml:function(a){var s=this;var h='';s.applyClasses(a.items());a.items().each(function(i){h+=i.renderHtml();});return h;},recalc:function(){},postRender:function(){},isNative:function(){return false;}});var V4=U4.extend({Defaults:{containerClass:'abs-layout',controlClass:'abs-layout-item'},recalc:function(a){a.items().filter(':visible').each(function(b){var s=b.settings;b.layoutRect({x:s.x,y:s.y,w:s.w,h:s.h});if(b.recalc){b.recalc();}});},renderHtml:function(a){return'<div id="'+a._id+'-absend" class="'+a.classPrefix+'abs-end"></div>'+this._super(a);}});var W4=E4.extend({Defaults:{classes:'widget btn',role:'button'},init:function(s){var a=this;var U5;a._super(s);s=a.settings;U5=a.settings.size;a.on('click mousedown',function(e){e.preventDefault();});a.on('touchstart',function(e){a.fire('click',e);e.preventDefault();});if(s.subtype){a.classes.add(s.subtype);}if(U5){a.classes.add('btn-'+U5);}if(s.icon){a.icon(s.icon);}},icon:function(i){if(!arguments.length){return this.state.get('icon');}this.state.set('icon',i);return this;},repaint:function(){var b=this.getEl().firstChild;var a;if(b){a=b.style;a.width=a.height='100%';}this._super();},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix;var a=s.state.get('icon'),b;var t=s.state.get('text');var d='';var e;var f=s.settings;b=f.image;if(b){a='none';if(typeof b!=='string'){b=window.getSelection?b[0]:b[1];}b=' style="background-image: url(\''+b+'\')"';}else{b='';}if(t){s.classes.add('btn-has-text');d='<span class="'+p+'txt">'+s.encode(t)+'</span>';}a=a?p+'ico '+p+'i-'+a:'';e=typeof f.active==='boolean'?' aria-pressed="'+f.active+'"':'';return'<div id="'+i+'" class="'+s.classes+'" tabindex="-1"'+e+'>'+'<button id="'+i+'-button" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+'></i>':'')+d+'</button>'+'</div>';},bindStates:function(){var s=this,$=s.$,t=s.classPrefix+'txt';function a(b){var d=$('span.'+t,s.getEl());if(b){if(!d[0]){$('button:first',s.getEl()).append('<span class="'+t+'"></span>');d=$('span.'+t,s.getEl());}d.html(s.encode(b));}else{d.remove();}s.classes.toggle('btn-has-text',!!b);}s.state.on('change:text',function(e){a(e.value);});s.state.on('change:icon',function(e){var i=e.value;var p=s.classPrefix;s.settings.icon=i;i=i?p+'ico '+p+'i-'+s.settings.icon:'';var b=s.getEl().firstChild;var d=b.getElementsByTagName('i')[0];if(i){if(!d||d!==b.firstChild){d=document.createElement('i');b.insertBefore(d,b.firstChild);}d.className=i;}else if(d){b.removeChild(d);}a(s.state.get('text'));});return s._super();}});var X4=W4.extend({init:function(s){var a=this;s=q.extend({text:'Browse...',multiple:false,accept:null},s);a._super(s);a.classes.add('browsebutton');if(s.multiple){a.classes.add('multiple');}},postRender:function(){var s=this;var i=j3.create('input',{type:'file',id:s._id+'-browse',accept:s.settings.accept});s._super();h3(i).on('change',function(e){var f=e.target.files;s.value=function(){if(!f.length){return null;}else if(s.settings.multiple){return f;}else{return f[0];}};e.preventDefault();if(f.length){s.fire('change',e);}});h3(i).on('click',function(e){e.stopPropagation();});h3(s.getEl('button')).on('click',function(e){e.stopPropagation();i.click();});s.getEl().appendChild(i);},remove:function(){h3(this.getEl('button')).off();h3(this.getEl('input')).off();this._super();}});var Y4=_3.extend({Defaults:{defaultType:'button',role:'group'},renderHtml:function(){var s=this,l=s._layout;s.classes.add('btn-group');s.preRender();l.preRender(s);return'<div id="'+s._id+'" class="'+s.classes+'">'+'<div id="'+s._id+'-body">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</div>';}});var Z4=E4.extend({Defaults:{classes:'checkbox',role:'checkbox',checked:false},init:function(s){var a=this;a._super(s);a.on('click mousedown',function(e){e.preventDefault();});a.on('click',function(e){e.preventDefault();if(!a.disabled()){a.checked(!a.checked());}});a.checked(a.settings.checked);},checked:function(s){if(!arguments.length){return this.state.get('checked');}this.state.set('checked',s);return this;},value:function(s){if(!arguments.length){return this.checked();}return this.checked(s);},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix;return'<div id="'+i+'" class="'+s.classes+'" unselectable="on" aria-labelledby="'+i+'-al" tabindex="-1">'+'<i class="'+p+'ico '+p+'i-checkbox"></i>'+'<span id="'+i+'-al" class="'+p+'label">'+s.encode(s.state.get('text'))+'</span>'+'</div>';},bindStates:function(){var s=this;function a(b){s.classes.toggle('checked',b);s.aria('checked',b);}s.state.on('change:text',function(e){s.getEl('al').firstChild.data=s.translate(e.value);});s.state.on('change:checked change:value',function(e){s.fire('change');a(e.value);});s.state.on('change:icon',function(e){var i=e.value;var p=s.classPrefix;if(typeof i==='undefined'){return s.settings.icon;}s.settings.icon=i;i=i?p+'ico '+p+'i-'+s.settings.icon:'';var b=s.getEl().firstChild;var d=b.getElementsByTagName('i')[0];if(i){if(!d||d!==b.firstChild){d=document.createElement('i');b.insertBefore(d,b.firstChild);}d.className=i;}else if(d){b.removeChild(d);}});if(s.state.get('checked')){a(true);}return s._super();}});var $4=tinymce.util.Tools.resolve('tinymce.util.VK');var _4=E4.extend({init:function(s){var a=this;a._super(s);s=a.settings;a.classes.add('combobox');a.subinput=true;a.ariaTarget='inp';s.menu=s.menu||s.values;if(s.menu){s.icon='caret';}a.on('click',function(e){var b=e.target;var r=a.getEl();if(!h3.contains(r,b)&&b!==r){return;}while(b&&b!==r){if(b.id&&b.id.indexOf('-open')!==-1){a.fire('action');if(s.menu){a.showMenu();if(e.aria){a.menu.items()[0].focus();}}}b=b.parentNode;}});a.on('keydown',function(e){var r;if(e.keyCode===13&&e.target.nodeName==='INPUT'){e.preventDefault();a.parents().reverse().each(function(b){if(b.toJSON){r=b;return false;}});a.fire('submit',{data:r.toJSON()});}});a.on('keyup',function(e){if(e.target.nodeName==='INPUT'){var o=a.state.get('value');var n=e.target.value;if(n!==o){a.state.set('value',n);a.fire('autocomplete',e);}}});a.on('mouseover',function(e){var t=a.tooltip().moveTo(-65535);if(a.statusLevel()&&e.target.className.indexOf(a.classPrefix+'status')!==-1){var b=a.statusMessage()||'Ok';var r=t.text(b).show().testMoveRel(e.target,['bc-tc','bc-tl','bc-tr']);t.classes.toggle('tooltip-n',r==='bc-tc');t.classes.toggle('tooltip-nw',r==='bc-tl');t.classes.toggle('tooltip-ne',r==='bc-tr');t.moveRel(e.target,r);}});},statusLevel:function(A5){if(arguments.length>0){this.state.set('statusLevel',A5);}return this.state.get('statusLevel');},statusMessage:function(A5){if(arguments.length>0){this.state.set('statusMessage',A5);}return this.state.get('statusMessage');},showMenu:function(){var s=this;var a=s.settings;var b;if(!s.menu){b=a.menu||[];if(b.length){b={type:'menu',items:b};}else{b.type=b.type||'menu';}s.menu=T.create(b).parent(s).renderTo(s.getContainerElm());s.fire('createmenu');s.menu.reflow();s.menu.on('cancel',function(e){if(e.control===s.menu){s.focus();}});s.menu.on('show hide',function(e){e.control.items().each(function(d){d.active(d.value()===s.value());});}).fire('show');s.menu.on('select',function(e){s.value(e.control.value());});s.on('focusin',function(e){if(e.target.tagName.toUpperCase()==='INPUT'){s.menu.hide();}});s.aria('expanded',true);}s.menu.show();s.menu.layoutRect({w:s.layoutRect().w});s.menu.moveRel(s.getEl(),s.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl']);},focus:function(){this.getEl('inp').focus();},repaint:function(){var s=this,e=s.getEl(),o=s.getEl('open'),r=s.layoutRect();var w,l,i=0;var a=e.firstChild;if(s.statusLevel()&&s.statusLevel()!=='none'){i=parseInt(j3.getRuntimeStyle(a,'padding-right'),10)-parseInt(j3.getRuntimeStyle(a,'padding-left'),10);}if(o){w=r.w-j3.getSize(o).width-10;}else{w=r.w-10;}var d=document;if(d.all&&(!d.documentMode||d.documentMode<=8)){l=s.layoutRect().h-2+'px';}h3(a).css({width:w-i,lineHeight:l});s._super();return s;},postRender:function(){var s=this;h3(this.getEl('inp')).on('change',function(e){s.state.set('value',e.target.value);s.fire('change',e);});return s._super();},renderHtml:function(){var s=this,i=s._id,a=s.settings,p=s.classPrefix;var A5=s.state.get('value')||'';var b,t,o='',e='',d='';if('spellcheck'in a){e+=' spellcheck="'+a.spellcheck+'"';}if(a.maxLength){e+=' maxlength="'+a.maxLength+'"';}if(a.size){e+=' size="'+a.size+'"';}if(a.subtype){e+=' type="'+a.subtype+'"';}d='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>';if(s.disabled()){e+=' disabled="disabled"';}b=a.icon;if(b&&b!=='caret'){b=p+'ico '+p+'i-'+a.icon;}t=s.state.get('text');if(b||t){o='<div id="'+i+'-open" class="'+p+'btn '+p+'open" tabIndex="-1" role="button">'+'<button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+(b!=='caret'?'<i class="'+b+'"></i>':'<i class="'+p+'caret"></i>')+(t?(b?' ':'')+t:'')+'</button>'+'</div>';s.classes.add('has-open');}return'<div id="'+i+'" class="'+s.classes+'">'+'<input id="'+i+'-inp" class="'+p+'textbox" value="'+s.encode(A5,false)+'" hidefocus="1"'+e+' placeholder="'+s.encode(a.placeholder)+'" />'+d+o+'</div>';},value:function(A5){if(arguments.length){this.state.set('value',A5);return this;}if(this.state.get('rendered')){this.state.set('value',this.getEl('inp').value);}return this.state.get('value');},showAutoComplete:function(i,t){var s=this;if(i.length===0){s.hideMenu();return;}var a=function(A5,d){return function(){s.fire('selectitem',{title:d,value:A5});};};if(s.menu){s.menu.items().remove();}else{s.menu=T.create({type:'menu',classes:'combobox-menu',layout:'flow'}).parent(s).renderTo();}q.each(i,function(d){s.menu.add({text:d.title,url:d.previewUrl,match:t,classes:'menu-item-ellipsis',onclick:a(d.value,d.title)});});s.menu.renderNew();s.hideMenu();s.menu.on('cancel',function(e){if(e.control.parent()===s.menu){e.stopPropagation();s.focus();s.hideMenu();}});s.menu.on('select',function(){s.focus();});var b=s.layoutRect().w;s.menu.layoutRect({w:b,minW:0,maxW:b});s.menu.repaint();s.menu.reflow();s.menu.show();s.menu.moveRel(s.getEl(),s.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl']);},hideMenu:function(){if(this.menu){this.menu.hide();}},bindStates:function(){var s=this;s.state.on('change:value',function(e){if(s.getEl('inp').value!==e.value){s.getEl('inp').value=e.value;}});s.state.on('change:disabled',function(e){s.getEl('inp').disabled=e.value;});s.state.on('change:statusLevel',function(e){var a=s.getEl('status');var p=s.classPrefix,A5=e.value;j3.css(a,'display',A5==='none'?'none':'');j3.toggleClass(a,p+'i-checkmark',A5==='ok');j3.toggleClass(a,p+'i-warning',A5==='warn');j3.toggleClass(a,p+'i-error',A5==='error');s.classes.toggle('has-status',A5!=='none');s.repaint();});j3.on(s.getEl('status'),'mouseleave',function(){s.tooltip().hide();});s.on('cancel',function(e){if(s.menu&&s.menu.visible()){e.stopPropagation();s.hideMenu();}});var f=function(i,a){if(a&&a.items().length>0){a.items().eq(i)[0].focus();}};s.on('keydown',function(e){var k=e.keyCode;if(e.target.nodeName==='INPUT'){if(k===$4.DOWN){e.preventDefault();s.fire('autocomplete');f(0,s.menu);}else if(k===$4.UP){e.preventDefault();f(-1,s.menu);}}});return s._super();},remove:function(){h3(this.getEl('inp')).off();if(this.menu){this.menu.remove();}this._super();}});var a5=_4.extend({init:function(s){var a=this;s.spellcheck=false;if(s.onaction){s.icon='none';}a._super(s);a.classes.add('colorbox');a.on('change keyup postrender',function(){a.repaintColor(a.value());});},repaintColor:function(A5){var o=this.getEl('open');var e=o?o.getElementsByTagName('i')[0]:null;if(e){try{e.style.background=A5;}catch(a){}}},bindStates:function(){var s=this;s.state.on('change:value',function(e){if(s.state.get('rendered')){s.repaintColor(e.value);}});return s._super();}});var b5=W4.extend({showPanel:function(){var s=this,a=s.settings;s.classes.add('opened');if(!s.panel){var p=a.panel;if(p.type){p={layout:'grid',items:p};}p.role=p.role||'dialog';p.popover=true;p.autohide=true;p.ariaRoot=true;s.panel=new t4(p).on('hide',function(){s.classes.remove('opened');}).on('cancel',function(e){e.stopPropagation();s.focus();s.hidePanel();}).parent(s).renderTo(s.getContainerElm());s.panel.fire('show');s.panel.reflow();}else{s.panel.show();}var r=['bc-tc','bc-tl','bc-tr'];var l=['bc-tc','bc-tr','bc-tl','tc-bc','tc-br','tc-bl'];var b=s.panel.testMoveRel(s.getEl(),a.popoverAlign||(s.isRtl()?r:l));s.panel.classes.toggle('start',b.substr(-1)==='l');s.panel.classes.toggle('end',b.substr(-1)==='r');var i=b.substr(0,1)==='t';s.panel.classes.toggle('bottom',!i);s.panel.classes.toggle('top',i);s.panel.moveRel(s.getEl(),b);},hidePanel:function(){var s=this;if(s.panel){s.panel.hide();}},postRender:function(){var s=this;s.aria('haspopup',true);s.on('click',function(e){if(e.control===s){if(s.panel&&s.panel.visible()){s.hidePanel();}else{s.showPanel();s.panel.focus(!!e.aria);}}});return s._super();},remove:function(){if(this.panel){this.panel.remove();this.panel=null;}return this._super();}});var c5=S.DOM;var d5=b5.extend({init:function(s){this._super(s);this.classes.add('splitbtn');this.classes.add('colorbutton');},color:function(a){if(a){this._color=a;this.getEl('preview').style.backgroundColor=a;return this;}return this._color;},resetColor:function(){this._color=null;this.getEl('preview').style.backgroundColor=null;return this;},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix,t=s.state.get('text');var a=s.settings.icon?p+'ico '+p+'i-'+s.settings.icon:'';var b=s.settings.image?' style="background-image: url(\''+s.settings.image+'\')"':'';var d='';if(t){s.classes.add('btn-has-text');d='<span class="'+p+'txt">'+s.encode(t)+'</span>';}return'<div id="'+i+'" class="'+s.classes+'" role="button" tabindex="-1" aria-haspopup="true">'+'<button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+'></i>':'')+'<span id="'+i+'-preview" class="'+p+'preview"></span>'+d+'</button>'+'<button type="button" class="'+p+'open" hidefocus="1" tabindex="-1">'+' <i class="'+p+'caret"></i>'+'</button>'+'</div>';},postRender:function(){var s=this,o=s.settings.onclick;s.on('click',function(e){if(e.aria&&e.aria.key==='down'){return;}if(e.control===s&&!c5.getParent(e.target,'.'+s.classPrefix+'open')){e.stopImmediatePropagation();o.call(s,e);}});delete s.settings.onclick;return s._super();}});var e5=tinymce.util.Tools.resolve('tinymce.util.Color');var f5=E4.extend({Defaults:{classes:'widget colorpicker'},init:function(s){this._super(s);},postRender:function(){var s=this;var a=s.color();var h,b,d,f,i;b=s.getEl('h');d=s.getEl('hp');f=s.getEl('sv');i=s.getEl('svp');function j(e,o){var p=j3.getPos(e);var x,y;x=o.pageX-p.x;y=o.pageY-p.y;x=Math.max(0,Math.min(x/e.clientWidth,1));y=Math.max(0,Math.min(y/e.clientHeight,1));return{x:x,y:y};}function k(h,e){var o=(360-h.h)/360;j3.css(d,{top:o*100+'%'});if(!e){j3.css(i,{left:h.s+'%',top:100-h.v+'%'});}f.style.background=e5({s:100,v:100,h:h.h}).toHex();s.color().parse({s:h.s,v:h.v,h:h.h});}function l(e){var p;p=j(f,e);h.s=p.x*100;h.v=(1-p.y)*100;k(h);s.fire('change');}function n(e){var p;p=j(b,e);h=a.toHsv();h.h=(1-p.y)*360;k(h,true);s.fire('change');}s._repaint=function(){h=a.toHsv();k(h);};s._super();s._svdraghelper=new c4(s._id+'-sv',{start:l,drag:l});s._hdraghelper=new c4(s._id+'-h',{start:n,drag:n});s._repaint();},rgb:function(){return this.color().toRgb();},value:function(A5){var s=this;if(arguments.length){s.color().parse(A5);if(s._rendered){s._repaint();}}else{return s.color().toHex();}},color:function(){if(!this._color){this._color=e5();}return this._color;},renderHtml:function(){var s=this;var a=s._id;var p=s.classPrefix;var h;var b='#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';function d(){var i,l,f='',j,k;j='filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';k=b.split(',');for(i=0,l=k.length-1;i<l;i++){f+='<div class="'+p+'colorpicker-h-chunk" style="'+'height:'+100/l+'%;'+j+k[i]+',endColorstr='+k[i+1]+');'+'-ms-'+j+k[i]+',endColorstr='+k[i+1]+')'+'"></div>';}return f;}var e='background: -ms-linear-gradient(top,'+b+');'+'background: linear-gradient(to bottom,'+b+');';h='<div id="'+a+'-h" class="'+p+'colorpicker-h" style="'+e+'">'+d()+'<div id="'+a+'-hp" class="'+p+'colorpicker-h-marker"></div>'+'</div>';return'<div id="'+a+'" class="'+s.classes+'">'+'<div id="'+a+'-sv" class="'+p+'colorpicker-sv">'+'<div class="'+p+'colorpicker-overlay1">'+'<div class="'+p+'colorpicker-overlay2">'+'<div id="'+a+'-svp" class="'+p+'colorpicker-selector1">'+'<div class="'+p+'colorpicker-selector2"></div>'+'</div>'+'</div>'+'</div>'+'</div>'+h+'</div>';}});var g5=E4.extend({init:function(s){var a=this;s=q.extend({height:100,text:'Drop an image here',multiple:false,accept:null},s);a._super(s);a.classes.add('dropzone');if(s.multiple){a.classes.add('multiple');}},renderHtml:function(){var s=this;var a,e;var b=s.settings;a={id:s._id,hidefocus:'1'};e=j3.create('div',a,'<span>'+this.translate(b.text)+'</span>');if(b.height){j3.css(e,'height',b.height+'px');}if(b.width){j3.css(e,'width',b.width+'px');}e.className=s.classes;return e.outerHTML;},postRender:function(){var s=this;var t=function(e){e.preventDefault();s.classes.toggle('dragenter');s.getEl().className=s.classes;};var f2=function(f){var a=s.settings.accept;if(typeof a!=='string'){return f;}var r=new RegExp('('+a.split(/\s*,\s*/).join('|')+')$','i');return q.grep(f,function(b){return r.test(b.name);});};s._super();s.$el.on('dragover',function(e){e.preventDefault();});s.$el.on('dragenter',t);s.$el.on('dragleave',t);s.$el.on('drop',function(e){e.preventDefault();if(s.state.get('disabled')){return;}var f=f2(e.dataTransfer.files);s.value=function(){if(!f.length){return null;}else if(s.settings.multiple){return f;}else{return f[0];}};if(f.length){s.fire('change',e);}});},remove:function(){this.$el.off();this._super();}});var h5=E4.extend({init:function(s){var a=this;if(!s.delimiter){s.delimiter='\xBB';}a._super(s);a.classes.add('path');a.canFocus=true;a.on('click',function(e){var i;var t=e.target;if(i=t.getAttribute('data-index')){a.fire('select',{value:a.row()[i],index:i});}});a.row(a.settings.row);},focus:function(){var s=this;s.getEl().firstChild.focus();return s;},row:function(r){if(!arguments.length){return this.state.get('row');}this.state.set('row',r);return this;},renderHtml:function(){var s=this;return'<div id="'+s._id+'" class="'+s.classes+'">'+s._getDataPathHtml(s.state.get('row'))+'</div>';},bindStates:function(){var s=this;s.state.on('change:row',function(e){s.innerHtml(s._getDataPathHtml(e.value));});return s._super();},_getDataPathHtml:function(d){var s=this;var p=d||[];var i,l,h='';var a=s.classPrefix;for(i=0,l=p.length;i<l;i++){h+=(i>0?'<div class="'+a+'divider" aria-hidden="true"> '+s.settings.delimiter+' </div>':'')+'<div role="button" class="'+a+'path-item'+(i===l-1?' '+a+'last':'')+'" data-index="'+i+'" tabindex="-1" id="'+s._id+'-'+i+'" aria-level="'+(i+1)+'">'+p[i].name+'</div>';}if(!h){h='<div class="'+a+'path-item">\xA0</div>';}return h;}});var i5=h5.extend({postRender:function(){var s=this,a=s.settings.editor;function b(e){if(e.nodeType===1){if(e.nodeName==='BR'||!!e.getAttribute('data-mce-bogus')){return true;}if(e.getAttribute('data-mce-type')==='bookmark'){return true;}}return false;}if(a.settings.elementpath!==false){s.on('select',function(e){a.focus();a.selection.select(this.row()[e.index].element);a.nodeChanged();});a.on('nodeChange',function(e){var o=[];var Z7=e.parents;var i=Z7.length;while(i--){if(Z7[i].nodeType===1&&!b(Z7[i])){var d=a.fire('ResolveName',{name:Z7[i].nodeName.toLowerCase(),target:Z7[i]});if(!d.isDefaultPrevented()){o.push({name:d.name,element:Z7[i]});}if(d.isPropagationStopped()){break;}}}s.row(o);});}return s._super();}});var j5=_3.extend({Defaults:{layout:'flex',align:'center',defaults:{flex:1}},renderHtml:function(){var s=this,l=s._layout,p=s.classPrefix;s.classes.add('formitem');l.preRender(s);return'<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1">'+(s.settings.title?'<div id="'+s._id+'-title" class="'+p+'title">'+s.settings.title+'</div>':'')+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</div>';}});var k5=_3.extend({Defaults:{containerCls:'form',layout:'flex',direction:'column',align:'stretch',flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit();}}},preRender:function(){var s=this,i=s.items();if(!s.settings.formItemDefaults){s.settings.formItemDefaults={layout:'flex',autoResize:'overflow',defaults:{flex:1}};}i.each(function(a){var f;var l=a.settings.label;if(l){f=new j5(q.extend({items:{type:'label',id:a._id+'-l',text:l,flex:0,forId:a._id,disabled:a.disabled()}},s.settings.formItemDefaults));f.type='formitem';a.aria('labelledby',a._id+'-l');if(typeof a.settings.flex==='undefined'){a.settings.flex=1;}s.replace(a,f);f.add(a);}});},submit:function(){return this.fire('submit',{data:this.toJSON()});},postRender:function(){var s=this;s._super();s.fromJSON(s.settings.data);},bindStates:function(){var s=this;s._super();function r(){var a=0;var l=[];var i,b,d;if(s.settings.labelGapCalc===false){return;}if(s.settings.labelGapCalc==='children'){d=s.find('formitem');}else{d=s.items();}d.filter('formitem').each(function(e){var f=e.items()[0],h=f.getEl().clientWidth;a=h>a?h:a;l.push(f);});b=s.settings.labelGap||0;i=l.length;while(i--){l[i].settings.minWidth=a+b;}}s.on('show',r);r();}});var l5=k5.extend({Defaults:{containerCls:'fieldset',layout:'flex',direction:'column',align:'stretch',flex:1,padding:'25 15 5 15',labelGap:30,spacing:10,border:1},renderHtml:function(){var s=this,l=s._layout,p=s.classPrefix;s.preRender();l.preRender(s);return'<fieldset id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1">'+(s.settings.title?'<legend id="'+s._id+'-title" class="'+p+'fieldset-title">'+s.settings.title+'</legend>':'')+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+(s.settings.html||'')+l.renderHtml(s)+'</div>'+'</fieldset>';}});var m5=0;var n5=function(p){var d=new Date();var t=d.getTime();var r=Math.floor(Math.random()*1000000000);m5++;return p+'_'+r+m5+String(t);};var o5={generate:n5};var p5=function(h,s){var d=s||document;var a=d.createElement('div');a.innerHTML=h;if(!a.hasChildNodes()||a.childNodes.length>1){console.error('HTML does not have a single root node',h);throw'HTML must have a single root node';}return s5(a.childNodes[0]);};var q5=function(t,s){var d=s||document;var p6=d.createElement(t);return s5(p6);};var r5=function(t,s){var d=s||document;var p6=d.createTextNode(t);return s5(p6);};var s5=function(p6){if(p6===null||p6===undefined)throw new Error('Node cannot be null or undefined');return{dom:t1.constant(p6)};};var t5=function(d,x,y){return A1.from(d.dom().elementFromPoint(x,y)).map(s5);};var u5={fromHtml:p5,fromTag:q5,fromText:r5,fromDom:s5,fromPoint:t5};var v5=function(f){var a=false;var r;return function(){if(!a){a=true;r=f.apply(null,arguments);}return r;};};var w5={cached:v5};var x5={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12};var y5=function(e){var r=e.dom().nodeName;return r.toLowerCase();};var z5=function(e){return e.dom().nodeType;};var A5=function(e){return e.dom().nodeValue;};var B5=function(t){return function(e){return z5(e)===t;};};var C5=function(e){return z5(e)===x5.COMMENT||y5(e)==='#comment';};var D5=B5(x5.ELEMENT);var E5=B5(x5.TEXT);var F5=B5(x5.DOCUMENT);var G5={name:y5,type:z5,value:A5,isElement:D5,isText:E5,isDocument:F5,isComment:C5};var H5=function(e){var d=G5.isText(e)?e.dom().parentNode:e.dom();return d!==undefined&&d!==null&&d.ownerDocument.body.contains(d);};var I5=w5.cached(function(){return J5(u5.fromDom(document));});var J5=function(d){var I5=d.dom().body;if(I5===null||I5===undefined)throw'Body is not available yet';return u5.fromDom(I5);};var K5={body:I5,getBody:J5,inBody:H5};function L5(){var f=[];for(var a=0;a<arguments.length;a++){f[a]=arguments[a];}return function(){var T5=[];for(var a=0;a<arguments.length;a++){T5[a]=arguments[a];}if(f.length!==T5.length){throw new Error('Wrong number of arguments to struct. Expected "['+f.length+']", got '+T5.length+' arguments');}var s={};A2.each(f,function(y5,i){s[y5]=t1.constant(T5[i]);});return s;};}var M5=function(){var f=Object.keys;var s=function(o){var r=[];for(var i in o){if(o.hasOwnProperty(i)){r.push(i);}}return r;};return f===undefined?s:f;}();var N5=function(o,f){var p=M5(o);for(var k=0,l=p.length;k<l;k++){var i=p[k];var x=o[i];f(x,i,o);}};var O5=function(o,f){return P5(o,function(x,i,o){return{k:i,v:f(x,i,o)};});};var P5=function(o,f){var r={};N5(o,function(x,i){var t=f(x,i,o);r[t.k]=t.v;});return r;};var Q5=function(o,p){var t={};var f={};N5(o,function(x,i){var b=p(x,i)?t:f;b[i]=x;});return{t:t,f:f};};var R5=function(o,f){var r=[];N5(o,function(A5,y5){r.push(f(A5,y5));});return r;};var S5=function(o,p){var a=M5(o);for(var k=0,l=a.length;k<l;k++){var i=a[k];var x=o[i];if(p(x,i,o)){return A1.some(x);}}return A1.none();};var T5=function(o){return R5(o,function(v){return v;});};var U5=function(o){return T5(o).length;};var V5={bifilter:Q5,each:N5,map:O5,mapToArray:R5,tupleMap:P5,find:S5,keys:M5,values:T5,size:U5};var W5=function(a){return a.slice(0).sort();};var X5=function(r,M5){throw new Error('All required keys ('+W5(r).join(', ')+') were not specified. Specified keys were: '+W5(M5).join(', ')+'.');};var Y5=function(a){throw new Error('Unsupported keys for object: '+W5(a).join(', '));};var Z5=function(l,b){if(!T1.isArray(b))throw new Error('The '+l+' fields must be an array. Was: '+b+'.');A2.each(b,function(a){if(!T1.isString(a))throw new Error('The value '+a+' in the '+l+' fields was not a string.');});};var $5=function(i,z5){throw new Error('All values need to be of type: '+z5+'. Keys ('+W5(i).join(', ')+') were not.');};var _5=function(e){var a=W5(e);var b=A2.find(a,function(s,i){return i<a.length-1&&s===a[i+1];});b.each(function(d){throw new Error('The field: '+d+' occurs more than once in the combined fields: ['+a.join(', ')+'].');});};var a6={sort:W5,reqMessage:X5,unsuppMessage:Y5,validateStrArr:Z5,invalidTypeMessage:$5,checkDupes:_5};function b6(a,o){var e=a.concat(o);if(e.length===0)throw new Error('You must specify at least one required or optional field.');a6.validateStrArr('required',a);a6.validateStrArr('optional',o);a6.checkDupes(e);return function(b){var M5=V5.keys(b);var d=A2.forall(a,function(h){return A2.contains(M5,h);});if(!d)a6.reqMessage(a,M5);var f=A2.filter(M5,function(k){return!A2.contains(e,k);});if(f.length>0)a6.unsuppMessage(f);var r={};A2.each(a,function(h){r[h]=t1.constant(b[h]);});A2.each(o,function(h){r[h]=t1.constant(Object.prototype.hasOwnProperty.call(b,h)?A1.some(b[h]):A1.none());});return r;};}var c6={immutable:L5,immutableBag:b6};var d6=function(t,f){var r=[];var a=function(e){r.push(e);return f(e);};var b=f(t);do{b=b.bind(a);}while(b.isSome());return r;};var e6={toArray:d6};var f6=typeof window!=='undefined'?window:Function('return this;')();var g6=function(p,s){var o=s!==undefined&&s!==null?s:f6;for(var i=0;i<p.length&&o!==undefined&&o!==null;++i)o=o[p[i]];return o;};var h6=function(p,s){var a=p.split('.');return g6(a,s);};var i6=function(o,p){if(o[p]===undefined||o[p]===null)o[p]={};return o[p];};var j6=function(p,t){var o=t!==undefined?t:f6;for(var i=0;i<p.length;++i)o=i6(o,p[i]);return o;};var k6=function(y5,t){var p=y5.split('.');return j6(p,t);};var l6={path:g6,resolve:h6,forge:j6,namespace:k6};var m6=function(y5,s){return l6.resolve(y5,s);};var n6=function(y5,s){var a=m6(y5,s);if(a===undefined||a===null)throw y5+' not available on this browser';return a;};var o6={getOrDie:n6};var p6=function(){var f=o6.getOrDie('Node');return f;};var q6=function(a,b,d){return(a.compareDocumentPosition(b)&d)!==0;};var r6=function(a,b){return q6(a,b,p6().DOCUMENT_POSITION_PRECEDING);};var s6=function(a,b){return q6(a,b,p6().DOCUMENT_POSITION_CONTAINED_BY);};var t6={documentPositionPreceding:r6,documentPositionContainedBy:s6};var u6=function(r,s){for(var i=0;i<r.length;i++){var x=r[i];if(x.test(s))return x;}return undefined;};var v6=function(a,b){var r=u6(a,b);if(!r)return{major:0,minor:0};var d=function(i){return Number(b.replace(r,'$'+i));};return nu(d(1),d(2));};var w6=function(v,a){var b=String(a).toLowerCase();if(v.length===0)return x6();return v6(v,b);};var x6=function(){return nu(0,0);};var nu=function(a,b){return{major:a,minor:b};};var z6={nu:nu,detect:w6,unknown:x6};var A6='Edge';var B6='Chrome';var ie='IE';var D6='Opera';var E6='Firefox';var F6='Safari';var G6=function(y5,a){return function(){return a===y5;};};var H6=function(){return I6({current:undefined,version:z6.unknown()});};var I6=function(i){var a=i.current;var v=i.version;return{current:a,version:v,isEdge:G6(A6,a),isChrome:G6(B6,a),isIE:G6(ie,a),isOpera:G6(D6,a),isFirefox:G6(E6,a),isSafari:G6(F6,a)};};var J6={unknown:H6,nu:I6,edge:t1.constant(A6),chrome:t1.constant(B6),ie:t1.constant(ie),opera:t1.constant(D6),firefox:t1.constant(E6),safari:t1.constant(F6)};var K6='Windows';var L6='iOS';var M6='Android';var N6='Linux';var O6='OSX';var P6='Solaris';var Q6='FreeBSD';var R6=function(y5,a){return function(){return a===y5;};};var S6=function(){return T6({current:undefined,version:z6.unknown()});};var T6=function(i){var a=i.current;var v=i.version;return{current:a,version:v,isWindows:R6(K6,a),isiOS:R6(L6,a),isAndroid:R6(M6,a),isOSX:R6(O6,a),isLinux:R6(N6,a),isSolaris:R6(P6,a),isFreeBSD:R6(Q6,a)};};var U6={unknown:S6,nu:T6,windows:t1.constant(K6),ios:t1.constant(L6),android:t1.constant(M6),linux:t1.constant(N6),osx:t1.constant(O6),solaris:t1.constant(P6),freebsd:t1.constant(Q6)};function V6(o,R7,a){var i=o.isiOS()&&/ipad/i.test(a)===true;var b=o.isiOS()&&!i;var d=o.isAndroid()&&o.version.major===3;var e=o.isAndroid()&&o.version.major===4;var f=i||d||e&&/mobile/i.test(a)===true;var h=o.isiOS()||o.isAndroid();var j=h&&!f;var k=R7.isSafari()&&o.isiOS()&&/safari/i.test(a)===false;return{isiPad:t1.constant(i),isiPhone:t1.constant(b),isTablet:t1.constant(f),isPhone:t1.constant(j),isTouch:t1.constant(h),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:t1.constant(k)};}var W6=function(a,b){var d=String(b).toLowerCase();return A2.find(a,function(e){return e.search(d);});};var X6=function(y7,a){return W6(y7,a).map(function(R7){var v=z6.detect(R7.versionRegexes,a);return{current:R7.name,version:v};});};var Y6=function(z7,a){return W6(z7,a).map(function(o){var v=z6.detect(o.versionRegexes,a);return{current:o.name,version:v};});};var Z6={detectBrowser:X6,detectOs:Y6};var $6=function(s,p){return p+s;};var _6=function(s,a){return s+a;};var a7=function(s,n){return s.substring(n);};var b7=function(s,n){return s.substring(0,s.length-n);};var c7={addToStart:$6,addToEnd:_6,removeFromStart:a7,removeFromEnd:b7};var d7=function(s,i3){return s.substr(0,i3);};var e7=function(s,i3){return s.substr(s.length-i3,s.length);};var f7=function(s){return s===''?A1.none():A1.some(s.substr(0,1));};var g7=function(s){return s===''?A1.none():A1.some(s.substring(1));};var h7={first:d7,last:e7,head:f7,tail:g7};var i7=function(s,a,b){if(a==='')return true;if(s.length<a.length)return false;var x=s.substr(b,b+a.length);return x===a;};var j7=function(s,o){var i=function(a){var t=typeof a;return t==='string'||t==='number';};return s.replace(/\${([^{}]*)}/g,function(a,b){var A5=o[b];return i(A5)?A5:a;});};var k7=function(s,p){return q7(s,p)?c7.removeFromStart(s,p.length):s;};var l7=function(s,p){return r7(s,p)?c7.removeFromEnd(s,p.length):s;};var m7=function(s,p){return q7(s,p)?s:c7.addToStart(s,p);};var n7=function(s,p){return r7(s,p)?s:c7.addToEnd(s,p);};var o7=function(s,a){return s.indexOf(a)!==-1;};var p7=function(s){return h7.head(s).bind(function(x2){return h7.tail(s).map(function(g7){return x2.toUpperCase()+g7;});}).getOr(s);};var q7=function(s,p){return i7(s,p,0);};var r7=function(s,a){return i7(s,a,s.length-a.length);};var s7=function(s){return s.replace(/^\s+|\s+$/g,'');};var t7=function(s){return s.replace(/^\s+/g,'');};var u7=function(s){return s.replace(/\s+$/g,'');};var v7={supplant:j7,startsWith:q7,removeLeading:k7,removeTrailing:l7,ensureLeading:m7,ensureTrailing:n7,endsWith:r7,contains:o7,trim:s7,lTrim:t7,rTrim:u7,capitalize:p7};var w7=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var x7=function(t){return function(a){return v7.contains(a,t);};};var y7=[{name:'Edge',versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){var b=v7.contains(a,'edge/')&&v7.contains(a,'chrome')&&v7.contains(a,'safari')&&v7.contains(a,'applewebkit');return b;}},{name:'Chrome',versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,w7],search:function(a){return v7.contains(a,'chrome')&&!v7.contains(a,'chromeframe');}},{name:'IE',versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return v7.contains(a,'msie')||v7.contains(a,'trident');}},{name:'Opera',versionRegexes:[w7,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:x7('opera')},{name:'Firefox',versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:x7('firefox')},{name:'Safari',versionRegexes:[w7,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(v7.contains(a,'safari')||v7.contains(a,'mobile/'))&&v7.contains(a,'applewebkit');}}];var z7=[{name:'Windows',search:x7('win'),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:'iOS',search:function(a){return v7.contains(a,'iphone')||v7.contains(a,'ipad');},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:'Android',search:x7('android'),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:'OSX',search:x7('os x'),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:'Linux',search:x7('linux'),versionRegexes:[]},{name:'Solaris',search:x7('sunos'),versionRegexes:[]},{name:'FreeBSD',search:x7('freebsd'),versionRegexes:[]}];var A7={browsers:t1.constant(y7),oses:t1.constant(z7)};var B7=function(a){var y7=A7.browsers();var z7=A7.oses();var R7=Z6.detectBrowser(y7,a).fold(J6.unknown,J6.nu);var o=Z6.detectOs(z7,a).fold(U6.unknown,U6.nu);var d=V6(o,R7,a);return{browser:R7,os:o,deviceType:d};};var C7={detect:B7};var D7=w5.cached(function(){var a=navigator.userAgent;return C7.detect(a);});var E7={detect:D7};var F7=x5.ELEMENT;var G7=x5.DOCUMENT;var is=function(e,s){var a=e.dom();if(a.nodeType!==F7)return false;else if(a.matches!==undefined)return a.matches(s);else if(a.msMatchesSelector!==undefined)return a.msMatchesSelector(s);else if(a.webkitMatchesSelector!==undefined)return a.webkitMatchesSelector(s);else if(a.mozMatchesSelector!==undefined)return a.mozMatchesSelector(s);else throw new Error('Browser lacks native selectors');};var I7=function(d){return d.nodeType!==F7&&d.nodeType!==G7||d.childElementCount===0;};var J7=function(s,a){var b=a===undefined?document:a.dom();return I7(b)?[]:A2.map(b.querySelectorAll(s),u5.fromDom);};var K7=function(s,a){var b=a===undefined?document:a.dom();return I7(b)?A1.none():A1.from(b.querySelector(s)).map(u5.fromDom);};var L7={all:J7,is:is,one:K7};var eq=function(e,a){return e.dom()===a.dom();};var N7=function(e,a){return e.dom().isEqualNode(a.dom());};var O7=function(e,a){return A2.exists(a,t1.curry(eq,e));};var P7=function(e,a){var d=e.dom(),b=a.dom();return d===b?false:d.contains(b);};var Q7=function(e,a){return t6.documentPositionContainedBy(e.dom(),a.dom());};var R7=E7.detect().browser;var S7=R7.isIE()?Q7:P7;var T7={eq:eq,isEqualNode:N7,member:O7,contains:S7,is:L7.is};var U7=function(e){return u5.fromDom(e.dom().ownerDocument);};var V7=function(e){var d=U7(e);return u5.fromDom(d.dom().documentElement);};var W7=function(e){var a=e.dom();var W7=a.ownerDocument.defaultView;return u5.fromDom(W7);};var X7=function(e){var d=e.dom();return A1.from(d.parentNode).map(u5.fromDom);};var Y7=function(e){return X7(e).bind(function(p){var k=e8(p);return A2.findIndex(k,function(a){return T7.eq(e,a);});});};var Z7=function(e,i){var s=T1.isFunction(i)?i:t1.constant(false);var d=e.dom();var r=[];while(d.parentNode!==null&&d.parentNode!==undefined){var a=d.parentNode;var X7=u5.fromDom(a);r.push(X7);if(s(X7)===true)break;else d=a;}return r;};var $7=function(e){var f=function(a){return A2.filter(a,function(x){return!T7.eq(e,x);});};return X7(e).map(e8).map(f).getOr([]);};var _7=function(e){var d=e.dom();return A1.from(d.offsetParent).map(u5.fromDom);};var a8=function(e){var d=e.dom();return A1.from(d.previousSibling).map(u5.fromDom);};var b8=function(e){var d=e.dom();return A1.from(d.nextSibling).map(u5.fromDom);};var c8=function(e){return A2.reverse(e6.toArray(e,a8));};var d8=function(e){return e6.toArray(e,b8);};var e8=function(e){var d=e.dom();return A2.map(d.childNodes,u5.fromDom);};var f8=function(e,i){var e8=e.dom().childNodes;return A1.from(e8[i]).map(u5.fromDom);};var g8=function(e){return f8(e,0);};var h8=function(e){return f8(e,e.dom().childNodes.length-1);};var i8=function(e){return e.dom().childNodes.length;};var j8=function(e){return e.dom().hasChildNodes();};var k8=c6.immutable('element','offset');var l8=function(e,o){var a=e8(e);return a.length>0&&o<a.length?k8(a[o],0):k8(e,o);};var m8={owner:U7,defaultView:W7,documentElement:V7,parent:X7,findIndex:Y7,parents:Z7,siblings:$7,prevSibling:a8,offsetParent:_7,prevSiblings:c8,nextSibling:b8,nextSiblings:d8,children:e8,child:f8,firstChild:g8,lastChild:h8,childNodesCount:i8,hasChildNodes:j8,leaf:l8};var n8=function(p){return r8(K5.body(),p);};var o8=function(s,p,i){return A2.filter(m8.parents(s,i),p);};var p8=function(s,p){return A2.filter(m8.siblings(s),p);};var q8=function(s,p){return A2.filter(m8.children(s),p);};var r8=function(s,p){var r=[];A2.each(m8.children(s),function(x){if(p(x)){r=r.concat([x]);}r=r.concat(r8(x,p));});return r;};var s8={all:n8,ancestors:o8,siblings:p8,children:q8,descendants:r8};var t8=function(s){return L7.all(s);};var u8=function(s,a,i){return s8.ancestors(s,function(e){return L7.is(e,a);},i);};var v8=function(s,a){return s8.siblings(s,function(e){return L7.is(e,a);});};var w8=function(s,a){return s8.children(s,function(e){return L7.is(e,a);});};var x8=function(s,a){return L7.all(a,s);};var y8={all:t8,ancestors:u8,siblings:v8,children:w8,descendants:x8};var z8=q.trim;var A8=function(A5){return function(p6){if(p6&&p6.nodeType===1){if(p6.contentEditable===A5){return true;}if(p6.getAttribute('data-mce-contenteditable')===A5){return true;}}return false;};};var B8=A8('true');var C8=A8('false');var D8=function(z5,t,a,l,b){return{type:z5,title:t,url:a,level:l,attach:b};};var E8=function(p6){while(p6=p6.parentNode){var A5=p6.contentEditable;if(A5&&A5!=='inherit'){return B8(p6);}}return false;};var F8=function(s,r){return A2.map(y8.descendants(u5.fromDom(r),s),function(e){return e.dom();});};var G8=function(e){return e.innerText||e.textContent;};var H8=function(e){return e.id?e.id:o5.generate('h');};var I8=function(e){return e&&e.nodeName==='A'&&(e.id||e.name);};var J8=function(e){return I8(e)&&L8(e);};var K8=function(e){return e&&/^(H[1-6])$/.test(e.nodeName);};var L8=function(e){return E8(e)&&!C8(e);};var M8=function(e){return K8(e)&&L8(e);};var N8=function(e){return K8(e)?parseInt(e.nodeName.substr(1),10):0;};var O8=function(e){var h=H8(e);var a=function(){e.id=h;};return D8('header',G8(e),'#'+h,N8(e),a);};var P8=function(e){var a=e.id||e.name;var b=G8(e);return D8('anchor',b?b:'#'+a,'#'+a,0,t1.noop);};var Q8=function(e){return A2.map(A2.filter(e,M8),O8);};var R8=function(e){return A2.map(A2.filter(e,J8),P8);};var S8=function(e){var a=F8('h1,h2,h3,h4,h5,h6,a:not([href])',e);return a;};var T8=function(t){return z8(t.title).length>0;};var U8=function(e){var a=S8(e);return A2.filter(Q8(a).concat(R8(a)),T8);};var V8={find:U8};var W8=function(){return window.tinymce?window.tinymce.activeEditor:c.activeEditor;};var X8={};var Y8=5;var Z8=function(){X8={};};var $8=function(t){return{title:t.title,value:{title:{raw:t.title},url:t.url,attach:t.attach}};};var _8=function(t){return q.map(t,$8);};var a9=function(t,a){return{title:t,value:{title:t,url:a,attach:t1.noop}};};var b9=function(a,t){var f=A2.exists(t,function(b){return b.url===a;});return!f;};var c9=function(e,y5,d){var A5=y5 in e?e[y5]:d;return A5===false?null:A5;};var d9=function(t,d,f,e){var s={title:'-'};var h=function(X8){var a=X8.hasOwnProperty(f)?X8[f]:[];var b=A2.filter(a,function(l){return b9(l,d);});return q.map(b,function(l){return{title:l,value:{title:l,url:l,attach:t1.noop}};});};var i=function(z5){var a=A2.filter(d,function(b){return b.type===z5;});return _8(a);};var j=function(){var j=i('anchor');var a=c9(e,'anchor_top','#top');var b=c9(e,'anchor_bottom','#bottom');if(a!==null){j.unshift(a9('<top>',a));}if(b!==null){j.push(a9('<bottom>',b));}return j;};var k=function(l){return A2.foldl(l,function(a,b){var n=a.length===0||b.length===0;return n?a.concat(b):a.concat(s,b);},[]);};if(e.typeahead_urls===false){return[];}return f==='file'?k([f9(t,h(X8)),f9(t,i('header')),f9(t,j())]):f9(t,h(X8));};var e9=function(a,f){var i=X8[f];if(!/^https?/.test(a)){return;}if(i){if(A2.indexOf(i,a).isNone()){X8[f]=i.slice(0,Y8).concat(a);}}else{X8[f]=[a];}};var f9=function(t,a){var l=t.toLowerCase();var r=q.grep(a,function(i){return i.title.toLowerCase().indexOf(l)!==-1;});return r.length===1&&r[0].title===t?[]:r;};var g9=function(l){var t=l.title;return t.raw?t.raw:t;};var h9=function(a,b,d,f){var h=function(t){var l=V8.find(d);var e=d9(t,l,f,b);a.showAutoComplete(e,t);};a.on('autocomplete',function(){h(a.value());});a.on('selectitem',function(e){var l=e.value;a.value(l.url);var t=g9(l);if(f==='image'){a.fire('change',{meta:{alt:t,attach:l.attach}});}else{a.fire('change',{meta:{text:t,attach:l.attach}});}a.focus();});a.on('click',function(e){if(a.value().length===0&&e.target.nodeName==='INPUT'){h('');}});a.on('PostRender',function(){a.getRoot().on('submit',function(e){if(!e.isDefaultPrevented()){e9(a.value(),f);}});});};var i9=function(r){var s=r.status,a=r.message;if(s==='valid'){return{status:'ok',message:a};}else if(s==='unknown'){return{status:'warn',message:a};}else if(s==='invalid'){return{status:'warn',message:a};}else{return{status:'none',message:''};}};var j9=function(a,b,f){var v=b.filepicker_validator_handler;if(v){var d=function(e){if(e.length===0){a.statusLevel('none');return;}v({url:e,type:f},function(r){var h=i9(r);a.statusMessage(h.message);a.statusLevel(h.status);});};a.state.on('change:value',function(e){d(e.value);});}};var k9=_4.extend({Statics:{clearHistory:Z8},init:function(s){var a=this,e=W8(),b=e.settings;var d,f,h;var i=s.filetype;s.spellcheck=false;h=b.file_picker_types||b.file_browser_callback_types;if(h){h=q.makeMap(h,/[, ]/);}if(!h||h[i]){f=b.file_picker_callback;if(f&&(!h||h[i])){d=function(){var j=a.fire('beforecall').meta;j=q.extend({filetype:i},j);f.call(e,function(A5,j){a.value(A5).fire('change',{meta:j});},a.value(),j);};}else{f=b.file_browser_callback;if(f&&(!h||h[i])){d=function(){f(a.getEl('inp').id,a.value(),i,window);};}}}if(d){s.icon='browse';s.onaction=d;}a._super(s);a.classes.add('filepicker');h9(a,b,e.getBody(),i);j9(a,b,i);}});var l9=V4.extend({recalc:function(a){var b=a.layoutRect(),p=a.paddingBox;a.items().filter(':visible').each(function(d){d.layoutRect({x:p.left,y:p.top,w:b.innerW-p.right-p.left,h:b.innerH-p.top-p.bottom});if(d.recalc){d.recalc();}});}});var m9=V4.extend({recalc:function(a){var i,l,b,d,e,f,h,p,s,t,j,k;var n,o,r,v;var w=[];var U5,x,y,$,a1,d1;var e1,a2,d2,e2,y6,C6,H7,M7;var fa,fb,sb,tb,ub,vb;var wb,xb;var yb=Math.max,zb=Math.min;b=a.items().filter(':visible');d=a.layoutRect();e=a.paddingBox;f=a.settings;k=a.isRtl()?f.direction||'row-reversed':f.direction;h=f.align;p=a.isRtl()?f.pack||'end':f.pack;s=f.spacing||0;if(k==='row-reversed'||k==='column-reverse'){b=b.set(b.toArray().reverse());k=k.split('-')[0];}if(k==='column'){d2='y';e1='h';a2='minH';e2='maxH';C6='innerH';y6='top';H7='deltaH';M7='contentH';ub='left';sb='w';fa='x';fb='innerW';tb='minW';vb='right';wb='deltaW';xb='contentW';}else{d2='x';e1='w';a2='minW';e2='maxW';C6='innerW';y6='left';H7='deltaW';M7='contentW';ub='top';sb='h';fa='y';fb='innerH';tb='minH';vb='bottom';wb='deltaH';xb='contentH';}j=d[C6]-e[y6]-e[y6];d1=t=0;for(i=0,l=b.length;i<l;i++){n=b[i];o=n.layoutRect();r=n.settings;v=r.flex;j-=i<l-1?s:0;if(v>0){t+=v;if(o[e2]){w.push(n);}o.flex=v;}j-=o[a2];U5=e[ub]+o[tb]+e[vb];if(U5>d1){d1=U5;}}$={};if(j<0){$[a2]=d[a2]-j+d[H7];}else{$[a2]=d[C6]-j+d[H7];}$[tb]=d1+d[wb];$[M7]=d[C6]-j;$[xb]=d1;$.minW=zb($.minW,d.maxW);$.minH=zb($.minH,d.maxH);$.minW=yb($.minW,d.startMinWidth);$.minH=yb($.minH,d.startMinHeight);if(d.autoResize&&($.minW!==d.minW||$.minH!==d.minH)){$.w=$.minW;$.h=$.minH;a.layoutRect($);this.recalc(a);if(a._lastRect===null){var Ab=a.parent();if(Ab){Ab._lastRect=null;Ab.recalc();}}return;}y=j/t;for(i=0,l=w.length;i<l;i++){n=w[i];o=n.layoutRect();x=o[e2];U5=o[a2]+o.flex*y;if(U5>x){j-=o[e2]-o[a2];t-=o.flex;o.flex=0;o.maxFlexSize=x;}else{o.maxFlexSize=0;}}y=j/t;a1=e[y6];$={};if(t===0){if(p==='end'){a1=j+e[y6];}else if(p==='center'){a1=Math.round(d[C6]/2-(d[C6]-j)/2)+e[y6];if(a1<0){a1=e[y6];}}else if(p==='justify'){a1=e[y6];s=Math.floor(j/(b.length-1));}}$[fa]=e[ub];for(i=0,l=b.length;i<l;i++){n=b[i];o=n.layoutRect();U5=o.maxFlexSize||o[a2];if(h==='center'){$[fa]=Math.round(d[fb]/2-o[sb]/2);}else if(h==='stretch'){$[sb]=yb(o[tb]||0,d[fb]-e[ub]-e[vb]);$[fa]=e[ub];}else if(h==='end'){$[fa]=d[fb]-o[sb]-e.top;}if(o.flex>0){U5+=o.flex*y;}$[e1]=U5;$[d2]=a1;n.layoutRect($);if(n.recalc){n.recalc();}a1+=U5+s;}}});var n9=U4.extend({Defaults:{containerClass:'flow-layout',controlClass:'flow-layout-item',endClass:'break'},recalc:function(a){a.items().filter(':visible').each(function(b){if(b.recalc){b.recalc();}});},isNative:function(){return true;}});function o9(i,q9,s,a,b){return i(s,a)?A1.some(s):T1.isFunction(b)&&b(s)?A1.none():q9(s,a,b);}var p9=function(p){return u9(K5.body(),p);};var q9=function(s,p,i){var e=s.dom();var a=T1.isFunction(i)?i:t1.constant(false);while(e.parentNode){e=e.parentNode;var b=u5.fromDom(e);if(p(b))return A1.some(b);else if(a(b))break;}return A1.none();};var r9=function(s,p,i){var a=function(s){return p(s);};return o9(a,q9,s,p,i);};var s9=function(s,p){var e=s.dom();if(!e.parentNode)return A1.none();return t9(u5.fromDom(e.parentNode),function(x){return!T7.eq(s,x)&&p(x);});};var t9=function(s,p){var r=A2.find(s.dom().childNodes,t1.compose(p,u5.fromDom));return r.map(u5.fromDom);};var u9=function(s,p){var d=function(e){for(var i=0;i<e.childNodes.length;i++){if(p(u5.fromDom(e.childNodes[i])))return A1.some(u5.fromDom(e.childNodes[i]));var r=d(e.childNodes[i]);if(r.isSome())return r;}return A1.none();};return d(s.dom());};var v9={first:p9,ancestor:q9,closest:r9,sibling:s9,child:t9,descendant:u9};var w9=function(s){return L7.one(s);};var x9=function(s,a,i){return v9.ancestor(s,function(e){return L7.is(e,a);},i);};var y9=function(s,a){return v9.sibling(s,function(e){return L7.is(e,a);});};var z9=function(s,a){return v9.child(s,function(e){return L7.is(e,a);});};var A9=function(s,a){return L7.one(a,s);};var B9=function(s,a,i){return o9(L7.is,x9,s,a,i);};var C9={first:w9,ancestor:x9,sibling:y9,child:z9,descendant:A9,closest:B9};var D9=function(e,f){return function(){e.execCommand('mceToggleFormat',false,f);};};var E9=function(e,y5,a){var h=function(s){a(s,y5);};if(e.formatter){e.formatter.formatChanged(y5,h);}else{e.on('init',function(){e.formatter.formatChanged(y5,h);});}};var F9=function(a,y5){return function(e){E9(a,y5,function(s){e.control.active(s);});};};var G9=function(a){var b=['alignleft','aligncenter','alignright','alignjustify'];var d='alignleft';var f=[{text:'Left',icon:'alignleft',onclick:D9(a,'alignleft')},{text:'Center',icon:'aligncenter',onclick:D9(a,'aligncenter')},{text:'Right',icon:'alignright',onclick:D9(a,'alignright')},{text:'Justify',icon:'alignjustify',onclick:D9(a,'alignjustify')}];a.addMenuItem('align',{text:'Align',menu:f});a.addButton('align',{type:'menubutton',icon:d,menu:f,onShowMenu:function(e){var h=e.control.menu;q.each(b,function(i,j){h.items().eq(j).each(function(k){return k.active(a.formatter.match(i));});});},onPostRender:function(e){var h=e.control;q.each(b,function(i,j){E9(a,i,function(s){h.icon(d);if(s){h.icon(i);}});});}});q.each({alignleft:['Align left','JustifyLeft'],aligncenter:['Align center','JustifyCenter'],alignright:['Align right','JustifyRight'],alignjustify:['Justify','JustifyFull'],alignnone:['No alignment','JustifyNone']},function(i,y5){a.addButton(y5,{active:false,tooltip:i[0],cmd:i[1],onPostRender:F9(a,y5)});});};var H9={register:G9};var I9=function(f){return f?f.split(',')[0]:'';};var J9=function(i,f){var a=f?f.toLowerCase():'';var A5;q.each(i,function(b){if(b.value.toLowerCase()===a){A5=b.value;}});q.each(i,function(b){if(!A5&&I9(b.value).toLowerCase()===I9(a).toLowerCase()){A5=b.value;}});return A5;};var K9=function(a,i){return function(){var s=this;a.on('init nodeChange',function(e){var f=a.queryCommandValue('FontName');var b=J9(i,f);s.value(b?b:null);if(!b&&f){s.text(I9(f));}});};};var L9=function(f){f=f.replace(/;$/,'').split(';');var i=f.length;while(i--){f[i]=f[i].split('=');}return f;};var M9=function(e){var d='Andale Mono=andale mono,monospace;'+'Arial=arial,helvetica,sans-serif;'+'Arial Black=arial black,sans-serif;'+'Book Antiqua=book antiqua,palatino,serif;'+'Comic Sans MS=comic sans ms,sans-serif;'+'Courier New=courier new,courier,monospace;'+'Georgia=georgia,palatino,serif;'+'Helvetica=helvetica,arial,sans-serif;'+'Impact=impact,sans-serif;'+'Symbol=symbol;'+'Tahoma=tahoma,arial,helvetica,sans-serif;'+'Terminal=terminal,monaco,monospace;'+'Times New Roman=times new roman,times,serif;'+'Trebuchet MS=trebuchet ms,geneva,sans-serif;'+'Verdana=verdana,geneva,sans-serif;'+'Webdings=webdings;'+'Wingdings=wingdings,zapf dingbats';var f=L9(e.settings.font_formats||d);return q.map(f,function(a){return{text:{raw:a[0]},value:a[1],textStyle:a[1].indexOf('dings')===-1?'font-family:'+a[1]:''};});};var N9=function(a){a.addButton('fontselect',function(){var i=M9(a);return{type:'listbox',text:'Font Family',tooltip:'Font Family',values:i,fixedWidth:true,onPostRender:K9(a,i),onselect:function(e){if(e.control.settings.value){a.execCommand('FontName',false,e.control.settings.value);}}};});};var O9=function(e){N9(e);};var P9={register:O9};var Q9=function(n,p){var f=Math.pow(10,p);return Math.round(n*f)/f;};var R9=function(f,p){if(/[0-9.]+px$/.test(f)){return Q9(parseInt(f,10)*72/96,p||0)+'pt';}return f;};var S9=function(i,p,a){var A5;q.each(i,function(b){if(b.value===a){A5=a;}else if(b.value===p){A5=p;}});return A5;};var T9=function(a,i){return function(){var s=this;a.on('init nodeChange',function(e){var p,b,d,f;p=a.queryCommandValue('FontSize');if(p){for(d=3;!f&&d>=0;d--){b=R9(p,d);f=S9(i,b,p);}}s.value(f?f:null);if(!f){s.text(b);}});};};var U9=function(e){var d='8pt 10pt 12pt 14pt 18pt 24pt 36pt';var f=e.settings.fontsize_formats||d;return q.map(f.split(' '),function(i){var t=i,A5=i;var T5=i.split('=');if(T5.length>1){t=T5[0];A5=T5[1];}return{text:t,value:A5};});};var V9=function(a){a.addButton('fontsizeselect',function(){var i=U9(a);return{type:'listbox',text:'Font Sizes',tooltip:'Font Sizes',values:i,fixedWidth:true,onPostRender:T9(a,i),onclick:function(e){if(e.control.settings.value){a.execCommand('FontSize',false,e.control.settings.value);}}};});};var W9=function(e){V9(e);};var X9={register:W9};var Y9=function(e,a){var i3=a.length;q.each(a,function(i){if(i.menu){i.hidden=Y9(e,i.menu)===0;}var f=i.format;if(f){i.hidden=!e.formatter.canApply(f);}if(i.hidden){i3--;}});return i3;};var Z9=function(e,a){var i3=a.items().length;a.items().each(function(i){if(i.menu){i.visible(Z9(e,i.menu)>0);}if(!i.menu&&i.settings.menu){i.visible(Y9(e,i.settings.menu)>0);}var f=i.settings.format;if(f){i.visible(e.formatter.canApply(f));}if(!i.visible()){i3--;}});return i3;};var $9=function(a){var i3=0;var n=[];var d=[{title:'Headings',items:[{title:'Heading 1',format:'h1'},{title:'Heading 2',format:'h2'},{title:'Heading 3',format:'h3'},{title:'Heading 4',format:'h4'},{title:'Heading 5',format:'h5'},{title:'Heading 6',format:'h6'}]},{title:'Inline',items:[{title:'Bold',icon:'bold',format:'bold'},{title:'Italic',icon:'italic',format:'italic'},{title:'Underline',icon:'underline',format:'underline'},{title:'Strikethrough',icon:'strikethrough',format:'strikethrough'},{title:'Superscript',icon:'superscript',format:'superscript'},{title:'Subscript',icon:'subscript',format:'subscript'},{title:'Code',icon:'code',format:'code'}]},{title:'Blocks',items:[{title:'Paragraph',format:'p'},{title:'Blockquote',format:'blockquote'},{title:'Div',format:'div'},{title:'Pre',format:'pre'}]},{title:'Alignment',items:[{title:'Left',icon:'alignleft',format:'alignleft'},{title:'Center',icon:'aligncenter',format:'aligncenter'},{title:'Right',icon:'alignright',format:'alignright'},{title:'Justify',icon:'alignjustify',format:'alignjustify'}]}];var H2=function(f){var e=[];if(!f){return;}q.each(f,function(h){var i={text:h.title,icon:h.icon};if(h.items){i.menu=H2(h.items);}else{var j=h.format||'custom'+i3++;if(!h.format){h.name=j;n.push(h);}i.format=j;i.cmd=h.cmd;}e.push(i);});return e;};var b=function(){var e;if(a.settings.style_formats_merge){if(a.settings.style_formats){e=H2(d.concat(a.settings.style_formats));}else{e=H2(d);}}else{e=H2(a.settings.style_formats||d);}return e;};a.on('init',function(){q.each(n,function(f){a.formatter.register(f.name,f);});});return{type:'menu',items:b(),onPostRender:function(e){a.fire('renderFormatsMenu',{control:e.control});},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return a.formatter.getCssText(this.settings.format);}},onPostRender:function(){var s=this;s.parent().on('show',function(){var f,e;f=s.settings.format;if(f){s.disabled(!a.formatter.canApply(f));s.active(a.formatter.match(f));}e=s.settings.cmd;if(e){s.active(a.queryCommandState(e));}});},onclick:function(){if(this.settings.format){D9(a,this.settings.format)();}if(this.settings.cmd){a.execCommand(this.settings.cmd);}}}};};var _9=function(e,f){e.addMenuItem('formats',{text:'Formats',menu:f});};var aa=function(e,f){e.addButton('styleselect',{type:'menubutton',text:'Formats',menu:f,onShowMenu:function(){if(e.settings.style_formats_autohide){Z9(e,this.menu);}}});};var ba=function(e){var f=$9(e);_9(e,f);aa(e,f);};var ca={register:ba};var da='Paragraph=p;'+'Heading 1=h1;'+'Heading 2=h2;'+'Heading 3=h3;'+'Heading 4=h4;'+'Heading 5=h5;'+'Heading 6=h6;'+'Preformatted=pre';var ea=function(f){f=f.replace(/;$/,'').split(';');var i=f.length;while(i--){f[i]=f[i].split('=');}return f;};var ga=function(a,i,f){return function(){var s=this;a.on('nodeChange',function(e){var b=a.formatter;var A5=null;q.each(e.parents,function(p6){q.each(i,function(d){if(f){if(b.matchNode(p6,f,{value:d.value})){A5=d.value;}}else{if(b.matchNode(p6,d.value)){A5=d.value;}}if(A5){return false;}});if(A5){return false;}});s.value(A5);});};};var ha=function(a,b){return function(){var i=[];q.each(b,function(d){i.push({text:d[0],value:d[1],textStyle:function(){return a.formatter.getCssText(d[1]);}});});return{type:'listbox',text:b[0][0],values:i,fixedWidth:true,onselect:function(e){if(e.control){var f=e.control.value();D9(a,f)();}},onPostRender:ga(a,i)};};};var ia=function(e,b){return q.map(b,function(a){return{text:a[0],onclick:D9(e,a[1]),textStyle:function(){return e.formatter.getCssText(a[1]);}};});};var ja=function(e){var b=ea(e.settings.block_formats||da);e.addMenuItem('blockformats',{text:'Blocks',menu:ia(e,b)});e.addButton('formatselect',ha(e,b));};var ka={register:ja};var la=function(e,n){var i,a;if(typeof n==='string'){a=n.split(' ');}else if(q.isArray(n)){return A2.flatten(q.map(n,function(n){return la(e,n);}));}i=q.grep(a,function(y5){return y5==='|'||y5 in e.menuItems;});return q.map(i,function(y5){return y5==='|'?{text:'-'}:e.menuItems[y5];});};var ma=function(a){return a&&a.text==='-';};var na=function(a){var b=A2.filter(a,function(d,i,a){return!ma(d)||!ma(a[i-1]);});return A2.filter(b,function(d,i,a){return!ma(d)||i>0&&i<a.length-1;});};var oa=function(e,a){var o=[{text:'-'}];var b=q.grep(e.menuItems,function(d){return d.context===a;});q.each(b,function(d){if(d.separator==='before'){o.push({text:'|'});}if(d.prependToContext){o.unshift(d);}else{o.push(d);}if(d.separator==='after'){o.push({text:'|'});}});return o;};var pa=function(e){var i=e.settings.insert_button_items;if(i){return na(la(e,i));}else{return na(oa(e,'insert'));}};var qa=function(e){e.addButton('insert',{type:'menubutton',icon:'insert',menu:[],oncreatemenu:function(){this.menu.add(pa(e));this.menu.renderNew();}});};var ra=function(e){qa(e);};var sa={register:ra};var ta=function(e){q.each({bold:'Bold',italic:'Italic',underline:'Underline',strikethrough:'Strikethrough',subscript:'Subscript',superscript:'Superscript'},function(t,y5){e.addButton(y5,{active:false,tooltip:t,onPostRender:F9(e,y5),onclick:D9(e,y5)});});};var ua=function(e){q.each({outdent:['Decrease indent','Outdent'],indent:['Increase indent','Indent'],cut:['Cut','Cut'],copy:['Copy','Copy'],paste:['Paste','Paste'],help:['Help','mceHelp'],selectall:['Select all','SelectAll'],visualaid:['Visual aids','mceToggleVisualAid'],newdocument:['New document','mceNewDocument'],removeformat:['Clear formatting','RemoveFormat'],remove:['Remove','Delete']},function(i,y5){e.addButton(y5,{tooltip:i[0],cmd:i[1]});});};var va=function(e){q.each({blockquote:['Blockquote','mceBlockQuote'],subscript:['Subscript','Subscript'],superscript:['Superscript','Superscript']},function(i,y5){e.addButton(y5,{active:false,tooltip:i[0],cmd:i[1],onPostRender:F9(e,y5)});});};var wa=function(e){ta(e);ua(e);va(e);};var xa=function(e){q.each({bold:['Bold','Bold','Meta+B'],italic:['Italic','Italic','Meta+I'],underline:['Underline','Underline','Meta+U'],strikethrough:['Strikethrough','Strikethrough'],subscript:['Subscript','Subscript'],superscript:['Superscript','Superscript'],removeformat:['Clear formatting','RemoveFormat'],newdocument:['New document','mceNewDocument'],cut:['Cut','Cut','Meta+X'],copy:['Copy','Copy','Meta+C'],paste:['Paste','Paste','Meta+V'],selectall:['Select all','SelectAll','Meta+A']},function(i,y5){e.addMenuItem(y5,{text:i[0],icon:y5,shortcut:i[2],cmd:i[1]});});e.addMenuItem('codeformat',{text:'Code',icon:'code',onclick:D9(e,'code')});};var ya=function(e){wa(e);xa(e);};var za={register:ya};var Aa=function(e,z5){return function(){var s=this;var a=function(){var t=z5==='redo'?'hasRedo':'hasUndo';return e.undoManager?e.undoManager[t]():false;};s.disabled(!a());e.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode',function(){s.disabled(e.readonly||!a());});};};var Ba=function(e){e.addMenuItem('undo',{text:'Undo',icon:'undo',shortcut:'Meta+Z',onPostRender:Aa(e,'undo'),cmd:'undo'});e.addMenuItem('redo',{text:'Redo',icon:'redo',shortcut:'Meta+Y',onPostRender:Aa(e,'redo'),cmd:'redo'});};var Ca=function(e){e.addButton('undo',{tooltip:'Undo',onPostRender:Aa(e,'undo'),cmd:'undo'});e.addButton('redo',{tooltip:'Redo',onPostRender:Aa(e,'redo'),cmd:'redo'});};var Da=function(e){Ba(e);Ca(e);};var Ea={register:Da};var Fa=function(a){return function(){var s=this;a.on('VisualAid',function(e){s.active(e.hasVisual);});s.active(a.hasVisual);};};var Ga=function(e){e.addMenuItem('visualaid',{text:'Visual aids',selectable:true,onPostRender:Fa(e),cmd:'mceToggleVisualAid'});};var Ha=function(e){Ga(e);};var Ia={register:Ha};var Ja=function(){E4.tooltips=!Q2.iOS;X3.translate=function(t){return c.translate(t);};};var Ka=function(e){if(e.settings.ui_container){Q2.container=C9.descendant(u5.fromDom(document.body),e.settings.ui_container).fold(t1.constant(null),function(a){return a.dom();});}};var La=function(e){if(e.rtl){X3.rtl=true;}};var Ma=function(e){e.on('mousedown',function(){t4.hideAll();});};var Na=function(e){La(e);Ma(e);Ka(e);Ja();ka.register(e);H9.register(e);za.register(e);Ea.register(e);X9.register(e);P9.register(e);ca.register(e);Ia.register(e);sa.register(e);};var Oa={setup:Na};var Pa=V4.extend({recalc:function(a){var s,r,b,i,d,w,h,e,f,j,x,y,p,k,l,n,o,t,v,$,a1,d1,e1;var a2=[];var d2=[];var e2,y6,C6,H7,M7,fa;s=a.settings;i=a.items().filter(':visible');d=a.layoutRect();b=s.columns||Math.ceil(Math.sqrt(i.length));r=Math.ceil(i.length/b);t=s.spacingH||s.spacing||0;v=s.spacingV||s.spacing||0;$=s.alignH||s.align;a1=s.alignV||s.align;n=a.paddingBox;M7='reverseRows'in s?s.reverseRows:a.isRtl();if($&&typeof $==='string'){$=[$];}if(a1&&typeof a1==='string'){a1=[a1];}for(x=0;x<b;x++){a2.push(0);}for(y=0;y<r;y++){d2.push(0);}for(y=0;y<r;y++){for(x=0;x<b;x++){j=i[y*b+x];if(!j){break;}f=j.layoutRect();e2=f.minW;y6=f.minH;a2[x]=e2>a2[x]?e2:a2[x];d2[y]=y6>d2[y]?y6:d2[y];}}C6=d.innerW-n.left-n.right;for(d1=0,x=0;x<b;x++){d1+=a2[x]+(x>0?t:0);C6-=(x>0?t:0)+a2[x];}H7=d.innerH-n.top-n.bottom;for(e1=0,y=0;y<r;y++){e1+=d2[y]+(y>0?v:0);H7-=(y>0?v:0)+d2[y];}d1+=n.left+n.right;e1+=n.top+n.bottom;e={};e.minW=d1+(d.w-d.innerW);e.minH=e1+(d.h-d.innerH);e.contentW=e.minW-d.deltaW;e.contentH=e.minH-d.deltaH;e.minW=Math.min(e.minW,d.maxW);e.minH=Math.min(e.minH,d.maxH);e.minW=Math.max(e.minW,d.startMinWidth);e.minH=Math.max(e.minH,d.startMinHeight);if(d.autoResize&&(e.minW!==d.minW||e.minH!==d.minH)){e.w=e.minW;e.h=e.minH;a.layoutRect(e);this.recalc(a);if(a._lastRect===null){var fb=a.parent();if(fb){fb._lastRect=null;fb.recalc();}}return;}if(d.autoResize){e=a.layoutRect(e);e.contentW=e.minW-d.deltaW;e.contentH=e.minH-d.deltaH;}var sb;if(s.packV==='start'){sb=0;}else{sb=H7>0?Math.floor(H7/r):0;}var tb=0;var ub=s.flexWidths;if(ub){for(x=0;x<ub.length;x++){tb+=ub[x];}}else{tb=b;}var vb=C6/tb;for(x=0;x<b;x++){a2[x]+=ub?ub[x]*vb:vb;}k=n.top;for(y=0;y<r;y++){p=n.left;h=d2[y]+sb;for(x=0;x<b;x++){if(M7){fa=y*b+b-1-x;}else{fa=y*b+x;}j=i[fa];if(!j){break;}l=j.settings;f=j.layoutRect();w=Math.max(a2[x],f.startMinWidth);f.x=p;f.y=k;o=l.alignH||($?$[x]||$[0]:null);if(o==='center'){f.x=p+w/2-f.w/2;}else if(o==='right'){f.x=p+w-f.w;}else if(o==='stretch'){f.w=w;}o=l.alignV||(a1?a1[x]||a1[0]:null);if(o==='center'){f.y=k+h/2-f.h/2;}else if(o==='bottom'){f.y=k+h-f.h;}else if(o==='stretch'){f.h=h;}j.layoutRect(f);p+=w+t;if(j.recalc){j.recalc();}}k+=h+v;}}});var Qa=E4.extend({renderHtml:function(){var s=this;s.classes.add('iframe');s.canFocus=false;return'<iframe id="'+s._id+'" class="'+s.classes+'" tabindex="-1" src="'+(s.settings.url||'javascript:\'\'')+'" frameborder="0"></iframe>';},src:function(s){this.getEl().src=s;},html:function(h,a){var s=this,I5=this.getEl().contentWindow.document.body;if(!I5){f1.setTimeout(function(){s.html(h);});}else{I5.innerHTML=h;if(a){a();}}return this;}});var Ra=E4.extend({init:function(s){var a=this;a._super(s);a.classes.add('widget').add('infobox');a.canFocus=false;},severity:function(l){this.classes.remove('error');this.classes.remove('warning');this.classes.remove('success');this.classes.add(l);},help:function(s){this.state.set('help',s);},renderHtml:function(){var s=this,p=s.classPrefix;return'<div id="'+s._id+'" class="'+s.classes+'">'+'<div id="'+s._id+'-body">'+s.encode(s.state.get('text'))+'<button role="button" tabindex="-1">'+'<i class="'+p+'ico '+p+'i-help"></i>'+'</button>'+'</div>'+'</div>';},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.getEl('body').firstChild.data=s.encode(e.value);if(s.state.get('rendered')){s.updateLayoutRect();}});s.state.on('change:help',function(e){s.classes.toggle('has-help',e.value);if(s.state.get('rendered')){s.updateLayoutRect();}});return s._super();}});var Sa=E4.extend({init:function(s){var a=this;a._super(s);a.classes.add('widget').add('label');a.canFocus=false;if(s.multiline){a.classes.add('autoscroll');}if(s.strong){a.classes.add('strong');}},initLayoutRect:function(){var s=this,l=s._super();if(s.settings.multiline){var U5=j3.getSize(s.getEl());if(U5.width>l.maxW){l.minW=l.maxW;s.classes.add('multiline');}s.getEl().style.width=l.minW+'px';l.startMinH=l.h=l.minH=Math.min(l.maxH,j3.getSize(s.getEl()).height);}return l;},repaint:function(){var s=this;if(!s.settings.multiline){s.getEl().style.lineHeight=s.layoutRect().h+'px';}return s._super();},severity:function(l){this.classes.remove('error');this.classes.remove('warning');this.classes.remove('success');this.classes.add(l);},renderHtml:function(){var s=this;var t,f,a=s.settings.forId;var b=s.settings.html?s.settings.html:s.encode(s.state.get('text'));if(!a&&(f=s.settings.forName)){t=s.getRoot().find('#'+f)[0];if(t){a=t._id;}}if(a){return'<label id="'+s._id+'" class="'+s.classes+'"'+(a?' for="'+a+'"':'')+'>'+b+'</label>';}return'<span id="'+s._id+'" class="'+s.classes+'">'+b+'</span>';},bindStates:function(){var s=this;s.state.on('change:text',function(e){s.innerHtml(s.encode(e.value));if(s.state.get('rendered')){s.updateLayoutRect();}});return s._super();}});var Ta=_3.extend({Defaults:{role:'toolbar',layout:'flow'},init:function(s){var a=this;a._super(s);a.classes.add('toolbar');},postRender:function(){var s=this;s.items().each(function(a){a.classes.add('toolbar-item');});return s._super();}});var Ua=Ta.extend({Defaults:{role:'menubar',containerCls:'menubar',ariaRoot:true,defaults:{type:'menubutton'}}});function Va(p6,X7){while(p6){if(X7===p6){return true;}p6=p6.parentNode;}return false;}var Wa=W4.extend({init:function(s){var a=this;a._renderOpen=true;a._super(s);s=a.settings;a.classes.add('menubtn');if(s.fixedWidth){a.classes.add('fixed-width');}a.aria('haspopup',true);a.state.set('menu',s.menu||a.render());},showMenu:function(t){var s=this;var a;if(s.menu&&s.menu.visible()&&t!==false){return s.hideMenu();}if(!s.menu){a=s.state.get('menu')||[];s.classes.add('opened');if(a.length){a={type:'menu',animate:true,items:a};}else{a.type=a.type||'menu';a.animate=true;}if(!a.renderTo){s.menu=T.create(a).parent(s).renderTo();}else{s.menu=a.parent(s).show().renderTo();}s.fire('createmenu');s.menu.reflow();s.menu.on('cancel',function(e){if(e.control.parent()===s.menu){e.stopPropagation();s.focus();s.hideMenu();}});s.menu.on('select',function(){s.focus();});s.menu.on('show hide',function(e){if(e.control===s.menu){s.activeMenu(e.type==='show');s.classes.toggle('opened',e.type==='show');}s.aria('expanded',e.type==='show');}).fire('show');}s.menu.show();s.menu.layoutRect({w:s.layoutRect().w});s.menu.repaint();s.menu.moveRel(s.getEl(),s.isRtl()?['br-tr','tr-br']:['bl-tl','tl-bl']);s.fire('showmenu');},hideMenu:function(){var s=this;if(s.menu){s.menu.items().each(function(i){if(i.hideMenu){i.hideMenu();}});s.menu.hide();}},activeMenu:function(s){this.classes.toggle('active',s);},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix;var a=s.settings.icon,b;var t=s.state.get('text');var d='';b=s.settings.image;if(b){a='none';if(typeof b!=='string'){b=window.getSelection?b[0]:b[1];}b=' style="background-image: url(\''+b+'\')"';}else{b='';}if(t){s.classes.add('btn-has-text');d='<span class="'+p+'txt">'+s.encode(t)+'</span>';}a=s.settings.icon?p+'ico '+p+'i-'+a:'';s.aria('role',s.parent()instanceof Ua?'menuitem':'button');return'<div id="'+i+'" class="'+s.classes+'" tabindex="-1" aria-labelledby="'+i+'">'+'<button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(a?'<i class="'+a+'"'+b+'></i>':'')+d+' <i class="'+p+'caret"></i>'+'</button>'+'</div>';},postRender:function(){var s=this;s.on('click',function(e){if(e.control===s&&Va(e.target,s.getEl())){s.focus();s.showMenu(!e.aria);if(e.aria){s.menu.items().filter(':visible')[0].focus();}}});s.on('mouseenter',function(e){var o=e.control;var X7=s.parent();var h;if(o&&X7&&o instanceof Wa&&o.parent()===X7){X7.items().filter('MenuButton').each(function(a){if(a.hideMenu&&a!==o){if(a.menu&&a.menu.visible()){h=true;}a.hideMenu();}});if(h){o.focus();o.showMenu();}}});return s._super();},bindStates:function(){var s=this;s.state.on('change:menu',function(){if(s.menu){s.menu.remove();}s.menu=null;});return s._super();},remove:function(){this._super();if(this.menu){this.menu.remove();}}});var Xa=t4.extend({Defaults:{defaultType:'menuitem',border:1,layout:'stack',role:'application',bodyRole:'menu',ariaRoot:true},init:function(s){var a=this;s.autohide=true;s.constrainToViewport=true;if(typeof s.items==='function'){s.itemsFactory=s.items;s.items=[];}if(s.itemDefaults){var b=s.items;var i=b.length;while(i--){b[i]=q.extend({},s.itemDefaults,b[i]);}}a._super(s);a.classes.add('menu');if(s.animate&&Q2.ie!==11){a.classes.add('animate');}},repaint:function(){this.classes.toggle('menu-align',true);this._super();this.getEl().style.height='';this.getEl('body').style.height='';return this;},cancel:function(){var s=this;s.hideAll();s.fire('select');},load:function(){var s=this;var t,f;function h(){if(s.throbber){s.throbber.hide();s.throbber=null;}}f=s.settings.itemsFactory;if(!f){return;}if(!s.throbber){s.throbber=new y4(s.getEl('body'),true);if(s.items().length===0){s.throbber.show();s.fire('loading');}else{s.throbber.show(100,function(){s.items().remove();s.fire('loading');});}s.on('hide close',h);}s.requestTime=t=new Date().getTime();s.settings.itemsFactory(function(i){if(i.length===0){s.hide();return;}if(s.requestTime!==t){return;}s.getEl().style.width='';s.getEl('body').style.width='';h();s.items().remove();s.getEl('body').innerHTML='';s.add(i);s.renderNew();s.fire('loaded');});},hideAll:function(){var s=this;this.find('menuitem').exec('hideMenu');return s._super();},preRender:function(){var s=this;s.items().each(function(a){var b=a.settings;if(b.icon||b.image||b.selectable){s._hasIcons=true;return false;}});if(s.settings.itemsFactory){s.on('postrender',function(){if(s.settings.itemsFactory){s.load();}});}s.on('show hide',function(e){if(e.control===s){if(e.type==='show'){f1.setTimeout(function(){s.classes.add('in');},0);}else{s.classes.remove('in');}}});return s._super();}});var Ya=Wa.extend({init:function(s){var a=this;var T5,b,d,l;function f(e){for(var i=0;i<e.length;i++){b=e[i].selected||s.value===e[i].value;if(b){d=d||e[i].text;a.state.set('value',e[i].value);return true;}if(e[i].menu){if(f(e[i].menu)){return true;}}}}a._super(s);s=a.settings;a._values=T5=s.values;if(T5){if(typeof s.value!=='undefined'){f(T5);}if(!b&&T5.length>0){d=T5[0].text;a.state.set('value',T5[0].value);}a.state.set('menu',T5);}a.state.set('text',s.text||d);a.classes.add('listbox');a.on('select',function(e){var h=e.control;if(l){e.lastControl=l;}if(s.multiple){h.active(!h.active());}else{a.value(e.control.value());}l=h;});},value:function(A5){if(arguments.length===0){return this.state.get('value');}if(typeof A5==='undefined'){return this;}if(this.settings.values){var b=q.grep(this.settings.values,function(a){return a.value===A5;});if(b.length>0){this.state.set('value',A5);}else if(A5===null){this.state.set('value',null);}}else{this.state.set('value',A5);}return this;},bindStates:function(){var s=this;function a(d,A5){if(d instanceof Xa){d.items().each(function(e){if(!e.hasMenus()){e.active(e.value()===A5);}});}}function b(d,A5){var e;if(!d){return;}for(var i=0;i<d.length;i++){if(d[i].value===A5){return d[i];}if(d[i].menu){e=b(d[i].menu,A5);if(e){return e;}}}}s.on('show',function(e){a(e.control,s.value());});s.state.on('change:value',function(e){var d=b(s.state.get('menu'),e.value);if(d){s.text(d.text);}else{s.text(s.settings.text);}});return s._super();}});var Za=function(a,s){var t=a._textStyle;if(t){var b=a.getEl('text');b.setAttribute('style',t);if(s){b.style.color='';b.style.backgroundColor='';}}};var $a=E4.extend({Defaults:{border:0,role:'menuitem'},init:function(s){var a=this;var t;a._super(s);s=a.settings;a.classes.add('menu-item');if(s.menu){a.classes.add('menu-item-expand');}if(s.preview){a.classes.add('menu-item-preview');}t=a.state.get('text');if(t==='-'||t==='|'){a.classes.add('menu-item-sep');a.aria('role','separator');a.state.set('text','-');}if(s.selectable){a.aria('role','menuitemcheckbox');a.classes.add('menu-item-checkbox');s.icon='selected';}if(!s.preview&&!s.selectable){a.classes.add('menu-item-normal');}a.on('mousedown',function(e){e.preventDefault();});if(s.menu&&!s.ariaHideMenu){a.aria('haspopup',true);}},hasMenus:function(){return!!this.settings.menu;},showMenu:function(){var s=this;var a=s.settings;var b;var X7=s.parent();X7.items().each(function(d){if(d!==s){d.hideMenu();}});if(a.menu){b=s.menu;if(!b){b=a.menu;if(b.length){b={type:'menu',items:b};}else{b.type=b.type||'menu';}if(X7.settings.itemDefaults){b.itemDefaults=X7.settings.itemDefaults;}b=s.menu=T.create(b).parent(s).renderTo();b.reflow();b.on('cancel',function(e){e.stopPropagation();s.focus();b.hide();});b.on('show hide',function(e){if(e.control.items){e.control.items().each(function(d){d.active(d.settings.selected);});}}).fire('show');b.on('hide',function(e){if(e.control===b){s.classes.remove('selected');}});b.submenu=true;}else{b.show();}b._parentMenu=X7;b.classes.add('menu-sub');var r=b.testMoveRel(s.getEl(),s.isRtl()?['tl-tr','bl-br','tr-tl','br-bl']:['tr-tl','br-bl','tl-tr','bl-br']);b.moveRel(s.getEl(),r);b.rel=r;r='menu-sub-'+r;b.classes.remove(b._lastRel).add(r);b._lastRel=r;s.classes.add('selected');s.aria('expanded',true);}},hideMenu:function(){var s=this;if(s.menu){s.menu.items().each(function(i){if(i.hideMenu){i.hideMenu();}});s.menu.hide();s.aria('expanded',false);}return s;},renderHtml:function(){var s=this;var a=s._id;var b=s.settings;var p=s.classPrefix;var t=s.state.get('text');var d=s.settings.icon,e='',f=b.shortcut;var h=s.encode(b.url),j='';function k(f){var i,A5,r={};if(Q2.mac){r={alt:'&#x2325;',ctrl:'&#x2318;',shift:'&#x21E7;',meta:'&#x2318;'};}else{r={meta:'Ctrl'};}f=f.split('+');for(i=0;i<f.length;i++){A5=r[f[i].toLowerCase()];if(A5){f[i]=A5;}}return f.join('+');}function l(i){return i.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');}function n(t){var i=b.match||'';return i?t.replace(new RegExp(l(i),'gi'),function(i){return'!mce~match['+i+']mce~match!';}):t;}function o(t){return t.replace(new RegExp(l('!mce~match['),'g'),'<b>').replace(new RegExp(l(']mce~match!'),'g'),'</b>');}if(d){s.parent().classes.add('menu-has-icons');}if(b.image){e=' style="background-image: url(\''+b.image+'\')"';}if(f){f=k(f);}d=p+'ico '+p+'i-'+(s.settings.icon||'none');j=t!=='-'?'<i class="'+d+'"'+e+'></i>\xA0':'';t=o(s.encode(n(t)));h=o(s.encode(n(h)));return'<div id="'+a+'" class="'+s.classes+'" tabindex="-1">'+j+(t!=='-'?'<span id="'+a+'-text" class="'+p+'text">'+t+'</span>':'')+(f?'<div id="'+a+'-shortcut" class="'+p+'menu-shortcut">'+f+'</div>':'')+(b.menu?'<div class="'+p+'caret"></div>':'')+(h?'<div class="'+p+'menu-item-link">'+h+'</div>':'')+'</div>';},postRender:function(){var s=this,a=s.settings;var t=a.textStyle;if(typeof t==='function'){t=t.call(this);}if(t){var b=s.getEl('text');if(b){b.setAttribute('style',t);s._textStyle=t;}}s.on('mouseenter click',function(e){if(e.control===s){if(!a.menu&&e.type==='click'){s.fire('select');f1.requestAnimationFrame(function(){s.parent().hideAll();});}else{s.showMenu();if(e.aria){s.menu.focus(true);}}}});s._super();return s;},hover:function(){var s=this;s.parent().items().each(function(a){a.classes.remove('selected');});s.classes.toggle('selected',true);return s;},active:function(s){Za(this,s);if(typeof s!=='undefined'){this.aria('checked',s);}return this._super(s);},remove:function(){this._super();if(this.menu){this.menu.remove();}}});var _a=Z4.extend({Defaults:{classes:'radio',role:'radio'}});var ab=E4.extend({renderHtml:function(){var s=this,p=s.classPrefix;s.classes.add('resizehandle');if(s.settings.direction==='both'){s.classes.add('resizehandle-both');}s.canFocus=false;return'<div id="'+s._id+'" class="'+s.classes+'">'+'<i class="'+p+'ico '+p+'i-resize"></i>'+'</div>';},postRender:function(){var s=this;s._super();s.resizeDragHelper=new c4(this._id,{start:function(){s.fire('ResizeStart');},drag:function(e){if(s.settings.direction!=='both'){e.deltaX=0;}s.fire('Resize',e);},stop:function(){s.fire('ResizeEnd');}});},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy();}return this._super();}});function bb(o){var s='';if(o){for(var i=0;i<o.length;i++){s+='<option value="'+o[i]+'">'+o[i]+'</option>';}}return s;}var cb=E4.extend({Defaults:{classes:'selectbox',role:'selectbox',options:[]},init:function(s){var a=this;a._super(s);if(a.settings.size){a.size=a.settings.size;}if(a.settings.options){a._options=a.settings.options;}a.on('keydown',function(e){var r;if(e.keyCode===13){e.preventDefault();a.parents().reverse().each(function(b){if(b.toJSON){r=b;return false;}});a.fire('submit',{data:r.toJSON()});}});},options:function(s){if(!arguments.length){return this.state.get('options');}this.state.set('options',s);return this;},renderHtml:function(){var s=this;var o,U5='';o=bb(s._options);if(s.size){U5=' size = "'+s.size+'"';}return'<select id="'+s._id+'" class="'+s.classes+'"'+U5+'>'+o+'</select>';},bindStates:function(){var s=this;s.state.on('change:options',function(e){s.getEl().innerHTML=bb(e.value);});return s._super();}});function db(A5,a,b){if(A5<a){A5=a;}if(A5>b){A5=b;}return A5;}function eb(e,y5,A5){e.setAttribute('aria-'+y5,A5);}function gb(a,A5){var b,s,d,e,f,h;if(a.settings.orientation==='v'){e='top';d='height';s='h';}else{e='left';d='width';s='w';}h=a.getEl('handle');b=(a.layoutRect()[s]||100)-j3.getSize(h)[d];f=b*((A5-a._minValue)/(a._maxValue-a._minValue))+'px';h.style[e]=f;h.style.height=a.layoutRect().h+'px';eb(h,'valuenow',A5);eb(h,'valuetext',''+a.settings.previewFilter(A5));eb(h,'valuemin',a._minValue);eb(h,'valuemax',a._maxValue);}var hb=E4.extend({init:function(s){var a=this;if(!s.previewFilter){s.previewFilter=function(A5){return Math.round(A5*100)/100;};}a._super(s);a.classes.add('slider');if(s.orientation==='v'){a.classes.add('vertical');}a._minValue=T1.isNumber(s.minValue)?s.minValue:0;a._maxValue=T1.isNumber(s.maxValue)?s.maxValue:100;a._initValue=a.state.get('value');},renderHtml:function(){var s=this,i=s._id,p=s.classPrefix;return'<div id="'+i+'" class="'+s.classes+'">'+'<div id="'+i+'-handle" class="'+p+'slider-handle" role="slider" tabindex="-1"></div>'+'</div>';},reset:function(){this.value(this._initValue).repaint();},postRender:function(){var s=this;var a,b,d,f,h,i;function t(e,n,v){return(v+e)/(n-e);}function j(e,n,v){return v*(n-e)-e;}function k(a,b){function n(e){var A5;A5=s.value();A5=j(a,b,t(a,b,A5)+e*0.05);A5=db(A5,a,b);s.value(A5);s.fire('dragstart',{value:A5});s.fire('drag',{value:A5});s.fire('dragend',{value:A5});}s.on('keydown',function(e){switch(e.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1);break;}});}function l(a,b,n){var o,p,r,v,A5;s._dragHelper=new c4(s._id,{handle:s._id+'-handle',start:function(e){o=e[d];p=parseInt(s.getEl('handle').style[f],10);r=(s.layoutRect()[i]||100)-j3.getSize(n)[h];s.fire('dragstart',{value:A5});},drag:function(e){var w=e[d]-o;v=db(p+w,0,r);n.style[f]=v+'px';A5=a+v/r*(b-a);s.value(A5);s.tooltip().text(''+s.settings.previewFilter(A5)).show().moveRel(n,'bc tc');s.fire('drag',{value:A5});},stop:function(){s.tooltip().hide();s.fire('dragend',{value:A5});}});}a=s._minValue;b=s._maxValue;if(s.settings.orientation==='v'){d='screenY';f='top';h='height';i='h';}else{d='screenX';f='left';h='width';i='w';}s._super();k(a,b);l(a,b,s.getEl('handle'));},repaint:function(){this._super();gb(this,this.value());},bindStates:function(){var s=this;s.state.on('change:value',function(e){gb(s,e.value);});return s._super();}});var ib=E4.extend({renderHtml:function(){var s=this;s.classes.add('spacer');s.canFocus=false;return'<div id="'+s._id+'" class="'+s.classes+'"></div>';}});var jb=Wa.extend({Defaults:{classes:'widget btn splitbtn',role:'button'},repaint:function(){var s=this;var e=s.getEl();var r=s.layoutRect();var a,b;s._super();a=e.firstChild;b=e.lastChild;h3(a).css({width:r.w-j3.getSize(b).width,height:r.h-2});h3(b).css({height:r.h-2});return s;},activeMenu:function(s){var a=this;h3(a.getEl().lastChild).toggleClass(a.classPrefix+'active',s);},renderHtml:function(){var s=this;var i=s._id;var p=s.classPrefix;var a;var b=s.state.get('icon');var t=s.state.get('text');var d=s.settings;var e='',f;a=d.image;if(a){b='none';if(typeof a!=='string'){a=window.getSelection?a[0]:a[1];}a=' style="background-image: url(\''+a+'\')"';}else{a='';}b=d.icon?p+'ico '+p+'i-'+b:'';if(t){s.classes.add('btn-has-text');e='<span class="'+p+'txt">'+s.encode(t)+'</span>';}f=typeof d.active==='boolean'?' aria-pressed="'+d.active+'"':'';return'<div id="'+i+'" class="'+s.classes+'" role="button"'+f+' tabindex="-1">'+'<button type="button" hidefocus="1" tabindex="-1">'+(b?'<i class="'+b+'"'+a+'></i>':'')+e+'</button>'+'<button type="button" class="'+p+'open" hidefocus="1" tabindex="-1">'+(s._menuBtnText?(b?'\xA0':'')+s._menuBtnText:'')+' <i class="'+p+'caret"></i>'+'</button>'+'</div>';},postRender:function(){var s=this,o=s.settings.onclick;s.on('click',function(e){var p6=e.target;if(e.control===this){while(p6){if(e.aria&&e.aria.key!=='down'||p6.nodeName==='BUTTON'&&p6.className.indexOf('open')===-1){e.stopImmediatePropagation();if(o){o.call(this,e);}return;}p6=p6.parentNode;}}});delete s.settings.onclick;return s._super();}});var kb=n9.extend({Defaults:{containerClass:'stack-layout',controlClass:'stack-layout-item',endClass:'break'},isNative:function(){return true;}});var lb=e4.extend({Defaults:{layout:'absolute',defaults:{type:'panel'}},activateTab:function(a){var b;if(this.activeTabId){b=this.getEl(this.activeTabId);h3(b).removeClass(this.classPrefix+'active');b.setAttribute('aria-selected','false');}this.activeTabId='t'+a;b=this.getEl('t'+a);b.setAttribute('aria-selected','true');h3(b).addClass(this.classPrefix+'active');this.items()[a].show().fire('showtab');this.reflow();this.items().each(function(d,i){if(a!==i){d.hide();}});},renderHtml:function(){var s=this;var l=s._layout;var t='';var p=s.classPrefix;s.preRender();l.preRender(s);s.items().each(function(a,i){var b=s._id+'-t'+i;a.aria('role','tabpanel');a.aria('labelledby',b);t+='<div id="'+b+'" class="'+p+'tab" '+'unselectable="on" role="tab" aria-controls="'+a._id+'" aria-selected="false" tabIndex="-1">'+s.encode(a.settings.title)+'</div>';});return'<div id="'+s._id+'" class="'+s.classes+'" hidefocus="1" tabindex="-1">'+'<div id="'+s._id+'-head" class="'+p+'tabs" role="tablist">'+t+'</div>'+'<div id="'+s._id+'-body" class="'+s.bodyClasses+'">'+l.renderHtml(s)+'</div>'+'</div>';},postRender:function(){var s=this;s._super();s.settings.activeTab=s.settings.activeTab||0;s.activateTab(s.settings.activeTab);this.on('click',function(e){var t=e.target.parentNode;if(t&&t.id===s._id+'-head'){var i=t.childNodes.length;while(i--){if(t.childNodes[i]===e.target){s.activateTab(i);}}}});},initLayoutRect:function(){var s=this;var r,a,b;a=j3.getSize(s.getEl('head')).width;a=a<0?0:a;b=0;s.items().each(function(i){a=Math.max(a,i.layoutRect().minW);b=Math.max(b,i.layoutRect().minH);});s.items().each(function(d){d.settings.x=0;d.settings.y=0;d.settings.w=a;d.settings.h=b;d.layoutRect({x:0,y:0,w:a,h:b});});var h=j3.getSize(s.getEl('head')).height;s.settings.minWidth=a;s.settings.minHeight=b+h;r=s._super();r.deltaH+=h;r.innerH=r.h-r.deltaH;return r;}});var mb=E4.extend({init:function(s){var a=this;a._super(s);a.classes.add('textbox');if(s.multiline){a.classes.add('multiline');}else{a.on('keydown',function(e){var r;if(e.keyCode===13){e.preventDefault();a.parents().reverse().each(function(b){if(b.toJSON){r=b;return false;}});a.fire('submit',{data:r.toJSON()});}});a.on('keyup',function(e){a.state.set('value',e.target.value);});}},repaint:function(){var s=this;var a,r,b,d,e=0,l;a=s.getEl().style;r=s._layoutRect;l=s._lastRepaintRect||{};var f=document;if(!s.settings.multiline&&f.all&&(!f.documentMode||f.documentMode<=8)){a.lineHeight=r.h-e+'px';}b=s.borderBox;d=b.left+b.right+8;e=b.top+b.bottom+(s.settings.multiline?8:0);if(r.x!==l.x){a.left=r.x+'px';l.x=r.x;}if(r.y!==l.y){a.top=r.y+'px';l.y=r.y;}if(r.w!==l.w){a.width=r.w-d+'px';l.w=r.w;}if(r.h!==l.h){a.height=r.h-e+'px';l.h=r.h;}s._lastRepaintRect=l;s.fire('repaint',{},false);return s;},renderHtml:function(){var s=this;var a=s.settings;var b,e;b={id:s._id,hidefocus:'1'};q.each(['rows','spellcheck','maxLength','size','readonly','min','max','step','list','pattern','placeholder','required','multiple'],function(y5){b[y5]=a[y5];});if(s.disabled()){b.disabled='disabled';}if(a.subtype){b.type=a.subtype;}e=j3.create(a.multiline?'textarea':'input',b);e.value=s.state.get('value');e.className=s.classes.toString();return e.outerHTML;},value:function(A5){if(arguments.length){this.state.set('value',A5);return this;}if(this.state.get('rendered')){this.state.set('value',this.getEl().value);}return this.state.get('value');},postRender:function(){var s=this;s.getEl().value=s.state.get('value');s._super();s.$el.on('change',function(e){s.state.set('value',e.target.value);s.fire('change',e);});},bindStates:function(){var s=this;s.state.on('change:value',function(e){if(s.getEl().value!==e.value){s.getEl().value=e.value;}});s.state.on('change:disabled',function(e){s.getEl().disabled=e.value;});return s._super();},remove:function(){this.$el.off();this._super();}});var nb=function(){return{Selector:B3,Collection:G3,ReflowQueue:O3,Control:X3,Factory:T,KeyboardNavigation:Z3,Container:_3,DragHelper:c4,Scrollable:d4,Panel:e4,Movable:q3,Resizable:f4,FloatPanel:t4,Window:P4,MessageBox:Q4,Tooltip:D4,Widget:E4,Progress:F4,Notification:H4,Layout:U4,AbsoluteLayout:V4,Button:W4,ButtonGroup:Y4,Checkbox:Z4,ComboBox:_4,ColorBox:a5,PanelButton:b5,ColorButton:d5,ColorPicker:f5,Path:h5,ElementPath:i5,FormItem:j5,Form:k5,FieldSet:l5,FilePicker:k9,FitLayout:l9,FlexLayout:m9,FlowLayout:n9,FormatControls:Oa,GridLayout:Pa,Iframe:Qa,InfoBox:Ra,Label:Sa,Toolbar:Ta,MenuBar:Ua,MenuButton:Wa,MenuItem:$a,Throbber:y4,Menu:Xa,ListBox:Ya,Radio:_a,ResizeHandle:ab,SelectBox:cb,Slider:hb,Spacer:ib,SplitButton:jb,StackLayout:kb,TabPanel:lb,TextBox:mb,DropZone:g5,BrowseButton:X4};};var ob=function(t){if(t.ui){q.each(nb(),function(r,k){t.ui[k]=r;});}else{t.ui=nb();}};var pb=function(){q.each(nb(),function(r,k){T.add(k,r);});};var qb={appendTo:ob,registerToFactory:pb};qb.registerToFactory();qb.appendTo(window.tinymce?window.tinymce:{});g.add('modern',function(e){Oa.setup(e);return T4.get(e);});function rb(){}return rb;}());})();
