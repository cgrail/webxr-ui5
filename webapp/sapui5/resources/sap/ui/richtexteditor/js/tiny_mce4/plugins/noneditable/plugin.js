(function(){var n=(function(){'use strict';var g=tinymce.util.Tools.resolve('tinymce.PluginManager');var a=tinymce.util.Tools.resolve('tinymce.util.Tools');var b=function(e){return e.getParam('noneditable_noneditable_class','mceNonEditable');};var c=function(e){return e.getParam('noneditable_editable_class','mceEditable');};var d=function(e){var i=e.getParam('noneditable_regexp',[]);if(i&&i.constructor===RegExp){return[i];}else{return i;}};var $={getNonEditableClass:b,getEditableClass:c,getNonEditableRegExps:d};var h=function(e){return function(i){return(' '+i.attr('class')+' ').indexOf(e)!==-1;};};var r=function(e,i,k){return function(m){var l=arguments,o=l[l.length-2];var p=o>0?i.charAt(o-1):'';if(p==='"'){return m;}if(p==='>'){var q=i.lastIndexOf('<',o);if(q!==-1){var t=i.substring(q,o);if(t.indexOf('contenteditable="false"')!==-1){return m;}}}return'<span class="'+k+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]==='string'?l[1]:l[0])+'</span>';};};var f=function(k,l,e){var i=l.length,m=e.content;if(e.format==='raw'){return;}while(i--){m=m.replace(l[i],r(k,m,$.getNonEditableClass(k)));}e.content=m;};var s=function(k){var l,m;var o='contenteditable';l=' '+a.trim($.getEditableClass(k))+' ';m=' '+a.trim($.getNonEditableClass(k))+' ';var p=h(l);var q=h(m);var t=$.getNonEditableRegExps(k);k.on('PreInit',function(){if(t.length>0){k.on('BeforeSetContent',function(e){f(k,t,e);});}k.parser.addAttributeFilter('class',function(e){var i=e.length,u;while(i--){u=e[i];if(p(u)){u.attr(o,'true');}else if(q(u)){u.attr(o,'false');}}});k.serializer.addAttributeFilter(o,function(e){var i=e.length,u;while(i--){u=e[i];if(!p(u)&&!q(u)){continue;}if(t.length>0&&u.attr('data-mce-content')){u.name='#text';u.type=3;u.raw=true;u.value=u.attr('data-mce-content');}else{u.attr(o,null);}}});});};var j={setup:s};g.add('noneditable',function(e){j.setup(e);});function P(){}return P;}());})();
