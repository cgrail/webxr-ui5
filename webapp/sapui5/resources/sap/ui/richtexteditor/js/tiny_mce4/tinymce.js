(function(){(function(){'use strict';var q=function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}};var z=function(f){return function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}return f();};};var A=function(f,a){return function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}return f(a.apply(null,arguments));};};var B=function(E6){return function(){return E6;};};var C=function(x){return x;};var D=function(a,b){return a===b;};var E=function(f){var x=[];for(var _=1;_<arguments.length;_++){x[_-1]=arguments[_];}var a=new Array(arguments.length-1);for(var i=1;i<arguments.length;i++)a[i-1]=arguments[i];return function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}var n=new Array(arguments.length);for(var j=0;j<n.length;j++)n[j]=arguments[j];var W7=a.concat(n);return f.apply(null,W7);};};var F=function(f){return function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}return!f.apply(null,arguments);};};var G=function(m){return function(){throw new Error(m);};};var H=function(f){return f();};var I=function(f){f();};var J=B(false);var K=B(true);var L={noop:q,noarg:z,compose:A,constant:B,identity:C,tripleEquals:D,curry:E,not:F,die:G,apply:H,call:I,never:J,always:K};var M=L.never;var N=L.always;var O=function(){return P;};var P=function(){var a=function(o){return o.isNone();};var I=function(t){return t();};var b=function(n){return n;};var q=function(){};var m={fold:function(n,s){return n();},is:M,isSome:M,isNone:N,getOr:b,getOrThunk:I,getOrDie:function(c){throw new Error(c||'error: getOrDie called on none.');},or:b,orThunk:I,map:O,ap:O,each:q,bind:O,flatten:O,exists:M,forall:N,filter:O,equals:a,equals_:a,toArray:function(){return[];},toString:L.constant('none()')};if(Object.freeze)Object.freeze(m);return m;}();var Q=function(a){var c=function(){return a;};var d=function(){return m;};var f1=function(f){return Q(f(a));};var t1=function(f){return f(a);};var m={fold:function(n,s){return s(a);},is:function(v){return a===v;},isSome:N,isNone:M,getOr:c,getOrThunk:c,getOrDie:c,or:d,orThunk:d,map:f1,ap:function(o){return o.fold(O,function(f){return Q(f(a));});},each:function(f){f(a);},bind:t1,flatten:c,exists:t1,forall:t1,filter:function(f){return f(a)?m:P;},equals:function(o){return o.is(a);},equals_:function(o,f){return o.fold(M,function(b){return f(a,b);});},toArray:function(){return[a];},toString:function(){return'some('+a+')';}};return m;};var R=function(E6){return E6===null||E6===undefined?P:Q(E6);};var S={some:Q,none:O,from:R};var T=function(x){if(x===null)return'null';var t=typeof x;if(t==='object'&&Array.prototype.isPrototypeOf(x))return'array';if(t==='object'&&String.prototype.isPrototypeOf(x))return'string';return t;};var U=function(D6){return function(E6){return T(E6)===D6;};};var V={isString:U('string'),isObject:U('object'),isArray:U('array'),isNull:U('null'),isBoolean:U('boolean'),isUndefined:U('undefined'),isFunction:U('function'),isNumber:U('number')};var W=function(){var p=Array.prototype.indexOf;var f=function(a,x){return p.call(a,x);};var s=function(a,x){return q1(a,x);};return p===undefined?s:f;}();var X=function(a,x){var r=W(a,x);return r===-1?S.none():S.some(r);};var Y=function(a,x){return W(a,x)>-1;};var Z=function(x,p){return p1(x,p).isSome();};var b1=function(n,f){var r=[];for(var i=0;i<n;i++){r.push(f(i));}return r;};var c1=function(a,T6){var r=[];for(var i=0;i<a.length;i+=T6){var s=a.slice(i,i+T6);r.push(s);}return r;};var f1=function(a,f){var l=a.length;var r=new Array(l);for(var i=0;i<l;i++){var x=a[i];r[i]=f(x,i,a);}return r;};var g1=function(a,f){for(var i=0,l=a.length;i<l;i++){var x=a[i];f(x,i,a);}};var h1=function(a,f){for(var i=a.length-1;i>=0;i--){var x=a[i];f(x,i,a);}};var i1=function(a,p){var b=[];var f=[];for(var i=0,l=a.length;i<l;i++){var x=a[i];var r3=p(x,i,a)?b:f;r3.push(x);}return{pass:b,fail:f};};var j1=function(a,p){var r=[];for(var i=0,l=a.length;i<l;i++){var x=a[i];if(p(x,i,a)){r.push(x);}}return r;};var k1=function(a,f){if(a.length===0){return[];}else{var w=f(a[0]);var r=[];var g=[];for(var i=0,l=a.length;i<l;i++){var x=a[i];var D6=f(x);if(D6!==w){r.push(g);g=[];}w=D6;g.push(x);}if(g.length!==0){r.push(g);}return r;}};var l1=function(a,f,b){h1(a,function(x){b=f(b,x);});return b;};var m1=function(a,f,b){g1(a,function(x){b=f(b,x);});return b;};var n1=function(a,p){for(var i=0,l=a.length;i<l;i++){var x=a[i];if(p(x,i,a)){return S.some(x);}}return S.none();};var p1=function(a,p){for(var i=0,l=a.length;i<l;i++){var x=a[i];if(p(x,i,a)){return S.some(i);}}return S.none();};var q1=function(a,x){for(var i=0,l=a.length;i<l;++i){if(a[i]===x){return i;}}return-1;};var r1=Array.prototype.push;var s1=function(x){var r=[];for(var i=0,l=x.length;i<l;++i){if(!Array.prototype.isPrototypeOf(x[i]))throw new Error('Arr.flatten item '+i+' was not an array, input: '+x);r1.apply(r,x[i]);}return r;};var t1=function(x,f){var o=f1(x,f);return s1(o);};var u1=function(a,p){for(var i=0,l=a.length;i<l;++i){var x=a[i];if(p(x,i,a)!==true){return false;}}return true;};var v1=function(a,b){return a.length===b.length&&u1(a,function(x,i){return x===b[i];});};var w1=Array.prototype.slice;var z1=function(x){var r=w1.call(x,0);r.reverse();return r;};var A1=function(a,b){return j1(a,function(x){return!Y(b,x);});};var B1=function(a,f){var r={};for(var i=0,l=a.length;i<l;i++){var x=a[i];r[String(x)]=f(x,i);}return r;};var C1=function(x){return[x];};var D1=function(x,c){var w7=w1.call(x,0);w7.sort(c);return w7;};var E1=function(x){return x.length===0?S.none():S.some(x[0]);};var F1=function(x){return x.length===0?S.none():S.some(x[x.length-1]);};var G1=V.isFunction(Array.from)?Array.from:function(x){return w1.call(x);};var H1={map:f1,each:g1,eachr:h1,partition:i1,filter:j1,groupBy:k1,indexOf:X,foldr:l1,foldl:m1,find:n1,findIndex:p1,flatten:s1,bind:t1,forall:u1,exists:Z,contains:Y,equal:v1,reverse:z1,chunk:c1,difference:A1,mapToObject:B1,pure:C1,sort:D1,range:b1,head:E1,last:F1,from:G1};var I1=typeof window!=='undefined'?window:Function('return this;')();var J1=function(p,s){var o=s!==undefined&&s!==null?s:I1;for(var i=0;i<p.length&&o!==undefined&&o!==null;++i)o=o[p[i]];return o;};var K1=function(p,s){var a=p.split('.');return J1(a,s);};var L1=function(o,p){if(o[p]===undefined||o[p]===null)o[p]={};return o[p];};var M1=function(p,t){var o=t!==undefined?t:I1;for(var i=0;i<p.length;++i)o=L1(o,p[i]);return o;};var N1=function(n,t){var p=n.split('.');return M1(p,t);};var O1={path:J1,resolve:K1,forge:M1,namespace:N1};var P1=function(n,s){return O1.resolve(n,s);};var Q1=function(n,s){var a=P1(n,s);if(a===undefined||a===null)throw n+' not available on this browser';return a;};var R1={getOrDie:Q1};var S1=function(){return R1.getOrDie('URL');};var T1=function(b){return S1().createObjectURL(b);};var U1=function(u){S1().revokeObjectURL(u);};var V1={createObjectURL:T1,revokeObjectURL:U1};var W1=navigator;var X1=W1.userAgent;var Y1;var Z1;var ie;var _1;var b2;var c2;var f2;var g2;var h2;var j2;var k2;var l2;var m2;var n2=function(a){return'matchMedia'in window?matchMedia(a).matches:false;};Y1=false;h2=/Android/.test(X1);Z1=/WebKit/.test(X1);ie=!Z1&&!Y1&&/MSIE/gi.test(X1)&&/Explorer/gi.test(W1.appName);ie=ie&&/MSIE (\w+)\./.exec(X1)[1];_1=X1.indexOf('Trident/')!==-1&&(X1.indexOf('rv:')!==-1||W1.appName.indexOf('Netscape')!==-1)?11:false;b2=X1.indexOf('Edge/')!==-1&&!ie&&!_1?12:false;ie=ie||_1||b2;c2=!Z1&&!_1&&/Gecko/.test(X1);f2=X1.indexOf('Mac')!==-1;g2=/(iPad|iPhone)/.test(X1);j2='FormData'in window&&'FileReader'in window&&'URL'in window&&!!V1.createObjectURL;k2=n2('only screen and (max-device-width: 480px)')&&(h2||g2);l2=n2('only screen and (min-width: 800px)')&&(h2||g2);m2=X1.indexOf('Windows Phone')!==-1;if(b2){Z1=false;}var p2=!g2||j2||parseInt(X1.match(/AppleWebKit\/(\d*)/)[1],10)>=534;var q2={opera:Y1,webkit:Z1,ie:ie,gecko:c2,mac:f2,iOS:g2,android:h2,contentEditable:p2,transparentSrc:'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',caretAfter:ie!==8,range:window.getSelection&&'Range'in window,documentMode:ie&&!b2?document.documentMode||7:10,fileApi:j2,ceFalse:ie===false||ie>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:false,canHaveCSP:ie===false||ie>11,desktop:!k2&&!l2,windowsPhone:m2};var r2=function(){function t1(g,t){return function(){g.apply(t,arguments);};}var h4=Array.isArray||function(E6){return Object.prototype.toString.call(E6)==='[object Array]';};var a=function(g){if(typeof this!=='object'){throw new TypeError('Promises must be constructed via new');}if(typeof g!=='function'){throw new TypeError('not a function');}this._state=null;this._value=null;this._deferreds=[];d(g,t1(K1,this),t1(r,this));};var b=a.immediateFn||typeof setImmediate==='function'&&setImmediate||function(g){setTimeout(g,1);};function qo(g){var m=this;if(this._state===null){this._deferreds.push(g);return;}b(function(){var h=m._state?g.onFulfilled:g.onRejected;if(h===null){(m._state?g.resolve:g.reject)(m._value);return;}var j;try{j=h(m._value);}catch(e){g.reject(e);return;}g.resolve(j);});}function K1(n){try{if(n===this){throw new TypeError('A promise cannot be resolved with itself.');}if(n&&(typeof n==='object'||typeof n==='function')){var t=n.then;if(typeof t==='function'){d(t1(t,n),t1(K1,this),t1(r,this));return;}}this._state=true;this._value=n;f.call(this);}catch(e){r.call(this,e);}}function r(n){this._state=false;this._value=n;f.call(this);}function f(){for(var i=0,l=this._deferreds.length;i<l;i++){qo.call(this,this._deferreds[i]);}this._deferreds=null;}function c(o,g,K1,r){this.onFulfilled=typeof o==='function'?o:null;this.onRejected=typeof g==='function'?g:null;this.resolve=K1;this.reject=r;}function d(g,o,h){var j3=false;try{g(function(E6){if(j3){return;}j3=true;o(E6);},function(k){if(j3){return;}j3=true;h(k);});}catch(j){if(j3){return;}j3=true;h(j);}}a.prototype.catch=function(o){return this.then(null,o);};a.prototype.then=function(o,g){var m=this;return new a(function(K1,r){qo.call(m,new c(o,g,K1,r));});};a.all=function(){var g=Array.prototype.slice.call(arguments.length===1&&h4(arguments[0])?arguments[0]:arguments);return new a(function(K1,r){if(g.length===0){return K1([]);}var h=g.length;function j(i,v){try{if(v&&(typeof v==='object'||typeof v==='function')){var t=v.then;if(typeof t==='function'){t.call(v,function(v){j(i,v);},r);return;}}g[i]=v;if(--h===0){K1(g);}}catch(k){r(k);}}for(var i=0;i<g.length;i++){j(i,g[i]);}});};a.resolve=function(E6){if(E6&&typeof E6==='object'&&E6.constructor===a){return E6;}return new a(function(K1){K1(E6);});};a.reject=function(E6){return new a(function(K1,r){r(E6);});};a.race=function(S6){return new a(function(K1,r){for(var i=0,l=S6.length;i<l;i++){S6[i].then(K1,r);}});};return a;};var s2=window.Promise?window.Promise:r2();var t2;var u2=function(c,a){var i,r=window.requestAnimationFrame;var v=['ms','moz','webkit'];var f=function(c){window.setTimeout(c,0);};for(i=0;i<v.length&&!r;i++){r=window[v[i]+'RequestAnimationFrame'];}if(!r){r=f;}r(c,a);};var v2=function(c,t){if(typeof t!=='number'){t=0;}return setTimeout(c,t);};var w2=function(c,t){if(typeof t!=='number'){t=1;}return setInterval(c,t);};var z2=function(a){return clearTimeout(a);};var A2=function(a){return clearInterval(a);};var B2=function(c,t){var a,f;f=function(){var b=arguments;clearTimeout(a);a=v2(function(){c.apply(this,b);},t);};f.stop=function(){clearTimeout(a);};return f;};var C2={requestAnimationFrame:function(c,a){if(t2){t2.then(c);return;}t2=new s2(function(K1){if(!a){a=document.body;}u2(K1,a);}).then(c);},setTimeout:v2,setInterval:w2,setEditorTimeout:function(a,c,t){return v2(function(){if(!a.removed){c();}},t);},setEditorInterval:function(a,c,t){var b;b=w2(function(){if(!a.removed){c();}else{clearInterval(b);}},t);return b;},debounce:B2,throttle:B2,clearInterval:A2,clearTimeout:z2};var D2='mce-data-';var E2=/^(?:mouse|contextmenu)|click/;var F2={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};var G2=function(a){return a.isDefaultPrevented===I2||a.isDefaultPrevented===H2;};var H2=function(){return false;};var I2=function(){return true;};var J2=function(t,n,c,a){if(t.addEventListener){t.addEventListener(n,c,a||false);}else if(t.attachEvent){t.attachEvent('on'+n,c);}};var K2=function(t,n,c,a){if(t.removeEventListener){t.removeEventListener(n,c,a||false);}else if(t.detachEvent){t.detachEvent('on'+n,c);}};var L2=function(a,d){var J1,t=d;J1=a.path;if(J1&&J1.length>0){t=J1[0];}if(a.composedPath){J1=a.composedPath();if(J1&&J1.length>0){t=J1[0];}}return t;};var M2=function(o,RB){var n;var a=RB||{};for(n in o){if(!F2[n]){a[n]=o[n];}}if(!a.target){a.target=a.srcElement||document;}if(q2.experimentalShadowDom){a.target=L2(o,a.target);}if(o&&E2.test(o.type)&&o.pageX===undefined&&o.clientX!==undefined){var b=a.target.ownerDocument||document;var F4=b.documentElement;var f7=b.body;a.pageX=o.clientX+(F4&&F4.scrollLeft||f7&&f7.scrollLeft||0)-(F4&&F4.clientLeft||f7&&f7.clientLeft||0);a.pageY=o.clientY+(F4&&F4.scrollTop||f7&&f7.scrollTop||0)-(F4&&F4.clientTop||f7&&f7.clientTop||0);}a.preventDefault=function(){a.isDefaultPrevented=I2;if(o){if(o.preventDefault){o.preventDefault();}else{o.returnValue=false;}}};a.stopPropagation=function(){a.isPropagationStopped=I2;if(o){if(o.stopPropagation){o.stopPropagation();}else{o.cancelBubble=true;}}};a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=I2;a.stopPropagation();};if(G2(a)===false){a.isDefaultPrevented=H2;a.isPropagationStopped=H2;a.isImmediatePropagationStopped=H2;}if(typeof a.metaKey==='undefined'){a.metaKey=false;}return a;};var N2=function(w,c,a){var F4=w.document,b={type:'ready'};if(a.domLoaded){c(b);return;}var d=function(){return F4.readyState==='complete'||F4.readyState==='interactive'&&F4.body;};var r=function(){if(!a.domLoaded){a.domLoaded=true;c(b);}};var f=function(){if(d()){K2(F4,'readystatechange',f);r();}};var t=function(){try{F4.documentElement.doScroll('left');}catch(g){C2.setTimeout(t);return;}r();};if(F4.addEventListener&&!(q2.ie&&q2.ie<11)){if(d()){r();}else{J2(w,'DOMContentLoaded',r);}}else{J2(F4,'readystatechange',f);if(F4.documentElement.doScroll&&w.self===w.top){t();}}J2(w,'load',r);};var O2=function(){var s=this;var a={},Lq,g3,h,b,m;g3=D2+(+new Date()).toString(32);b='onmouseenter'in document.documentElement;h='onfocusin'in document.documentElement;m={mouseenter:'mouseover',mouseleave:'mouseout'};Lq=1;s.domLoaded=false;s.events=a;var c=function(d,f){var g,i,l,j;var k=a[f];g=k&&k[d.type];if(g){for(i=0,l=g.length;i<l;i++){j=g[i];if(j&&j.func.call(j.scope,d)===false){d.preventDefault();}if(d.isImmediatePropagationStopped()){return;}}}};s.bind=function(t,n,d,f){var g,j,i,k,l,o,p;var w=window;var r=function(u){c(M2(u||w.event),g);};if(!t||t.nodeType===3||t.nodeType===8){return;}if(!t[g3]){g=Lq++;t[g3]=g;a[g]={};}else{g=t[g3];}f=f||t;n=n.split(' ');i=n.length;while(i--){k=n[i];o=r;l=p=false;if(k==='DOMContentLoaded'){k='ready';}if(s.domLoaded&&k==='ready'&&t.readyState==='complete'){d.call(f,M2({type:k}));continue;}if(!b){l=m[k];if(l){o=function(u){var v,x;v=u.currentTarget;x=u.relatedTarget;if(x&&v.contains){x=v.contains(x);}else{while(x&&x!==v){x=x.parentNode;}}if(!x){u=M2(u||w.event);u.type=u.type==='mouseout'?'mouseleave':'mouseenter';u.target=v;c(u,g);}};}}if(!h&&(k==='focusin'||k==='focusout')){p=true;l=k==='focusin'?'focus':'blur';o=function(u){u=M2(u||w.event);u.type=u.type==='focus'?'focusin':'focusout';c(u,g);};}j=a[g][k];if(!j){a[g][k]=j=[{func:d,scope:f}];j.fakeName=l;j.capture=p;j.nativeHandler=o;if(k==='ready'){N2(t,o,s);}else{J2(t,l||k,o,p);}}else{if(k==='ready'&&s.domLoaded){d({type:k});}else{j.push({func:d,scope:f});}}}t=j=0;return d;};s.unbind=function(t,n,d){var f,g,i,j,k,l;if(!t||t.nodeType===3||t.nodeType===8){return s;}f=t[g3];if(f){l=a[f];if(n){n=n.split(' ');i=n.length;while(i--){k=n[i];g=l[k];if(g){if(d){j=g.length;while(j--){if(g[j].func===d){var o=g.nativeHandler;var p=g.fakeName,r=g.capture;g=g.slice(0,j).concat(g.slice(j+1));g.nativeHandler=o;g.fakeName=p;g.capture=r;l[k]=g;}}}if(!d||g.length===0){delete l[k];K2(t,g.fakeName||k,g.nativeHandler,g.capture);}}}}else{for(k in l){g=l[k];K2(t,g.fakeName||k,g.nativeHandler,g.capture);}l={};}for(k in l){return s;}delete a[f];try{delete t[g3];}catch(u){t[g3]=null;}}return s;};s.fire=function(t,n,d){var f;if(!t||t.nodeType===3||t.nodeType===8){return s;}d=M2(null,d);d.type=n;d.target=t;do{f=t[g3];if(f){c(d,f);}t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;}while(t&&!d.isPropagationStopped());return s;};s.clean=function(t){var i,r8;var u=s.unbind;if(!t||t.nodeType===3||t.nodeType===8){return s;}if(t[g3]){u(t);}if(!t.getElementsByTagName){t=t.document;}if(t&&t.getElementsByTagName){u(t);r8=t.getElementsByTagName('*');i=r8.length;while(i--){t=r8[i];if(t[g3]){u(t);}}}return s;};s.destroy=function(){a={};};s.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation();}return false;};};O2.Event=new O2();O2.Event.bind(window,'ready',function(){});var i;var P2;var Q2;var R2;var S2;var T2;var U2;var V2;var W2;var X2;var Y2;var Z2;var _2;var a3;var b3;var c3;var d3;var e3;var f3;var g3='sizzle'+-new Date();var h3=window.document;var i3=0;var j3=0;var k3=S3();var l3=S3();var m3=S3();var n3=function(a,b){if(a===b){Y2=true;}return 0;};var o3=typeof undefined;var p3=1<<31;var q3={}.hasOwnProperty;var r3=[];var s3=r3.pop;var t3=r3.push;var u3=r3.push;var v3=r3.slice;var w3=r3.indexOf||function(a){var i=0,l=this.length;for(;i<l;i++){if(this[i]===a){return i;}}return-1;};var x3='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped';var y3='[\\x20\\t\\r\\n\\f]';var z3='(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+';var A3='\\['+y3+'*('+z3+')(?:'+y3+'*([*^$|!~]?=)'+y3+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+z3+'))|)'+y3+'*\\]';var B3=':('+z3+')(?:\\(('+'(\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|'+'((?:\\\\.|[^\\\\()[\\]]|'+A3+')*)|'+'.*'+')\\)|)';var C3=new RegExp('^'+y3+'+|((?:^|[^\\\\])(?:\\\\.)*)'+y3+'+$','g');var D3=new RegExp('^'+y3+'*,'+y3+'*');var E3=new RegExp('^'+y3+'*([>+~]|'+y3+')'+y3+'*');var F3=new RegExp('='+y3+'*([^\\]\'"]*?)'+y3+'*\\]','g');var G3=new RegExp(B3);var H3=new RegExp('^'+z3+'$');var I3={ID:new RegExp('^#('+z3+')'),CLASS:new RegExp('^\\.('+z3+')'),TAG:new RegExp('^('+z3+'|[*])'),ATTR:new RegExp('^'+A3),PSEUDO:new RegExp('^'+B3),CHILD:new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\('+y3+'*(even|odd|(([+-]|)(\\d*)n|)'+y3+'*(?:([+-]|)'+y3+'*(\\d+)|))'+y3+'*\\)|)','i'),bool:new RegExp('^(?:'+x3+')$','i'),needsContext:new RegExp('^'+y3+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\('+y3+'*((?:-\\d)?\\d*)'+y3+'*\\)|)(?=[^-]|$)','i')};var J3=/^(?:input|select|textarea|button)$/i;var K3=/^h\d$/i;var L3=/^[^{]+\{\s*\[native \w/;var M3=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/;var N3=/[+~]/;var O3=/'|\\/g;var P3=new RegExp('\\\\([\\da-f]{1,6}'+y3+'?|('+y3+')|.)','ig');var Q3=function(_,a,b){var h='0x'+a-65536;return h!==h||b?a:h<0?String.fromCharCode(h+65536):String.fromCharCode(h>>10|55296,h&1023|56320);};try{u3.apply(r3=v3.call(h3.childNodes),h3.childNodes);r3[h3.childNodes.length].nodeType;}catch(e){u3={apply:r3.length?function(t,a){t3.apply(t,v3.call(a));}:function(t,a){var j=t.length,i=0;while(t[j++]=a[i++]){}t.length=j-1;}};}var R3=function(s,c,r,Rq){var fu,a,m,n,i,g,o,b,d,f;if((c?c.ownerDocument||c:h3)!==_2){Z2(c);}c=c||_2;r=r||[];if(!s||typeof s!=='string'){return r;}if((n=c.nodeType)!==1&&n!==9){return[];}if(b3&&!Rq){if(fu=M3.exec(s)){if(m=fu[1]){if(n===9){a=c.getElementById(m);if(a&&a.parentNode){if(a.id===m){r.push(a);return r;}}else{return r;}}else{if(c.ownerDocument&&(a=c.ownerDocument.getElementById(m))&&f3(c,a)&&a.id===m){r.push(a);return r;}}}else if(fu[2]){u3.apply(r,c.getElementsByTagName(s));return r;}else if((m=fu[3])&&P2.getElementsByClassName){u3.apply(r,c.getElementsByClassName(m));return r;}}if(P2.qsa&&(!c3||!c3.test(s))){b=o=g3;d=c;f=n===9&&s;if(n===1&&c.nodeName.toLowerCase()!=='object'){g=T2(s);if(o=c.getAttribute('id')){b=o.replace(O3,'\\$&');}else{c.setAttribute('id',b);}b='[id=\''+b+'\'] ';i=g.length;while(i--){g[i]=b+_3(g[i]);}d=N3.test(s)&&Y3(c.parentNode)||c;f=g.join(',');}if(f){try{u3.apply(r,d.querySelectorAll(f));return r;}catch(h){}finally{if(!o){c.removeAttribute('id');}}}}}return V2(s.replace(C3,'$1'),c,r,Rq);};function S3(){var L6=[];function c(k,E6){if(L6.push(k+' ')>Q2.cacheLength){delete c[L6.shift()];}return c[k+' ']=E6;}return c;}function T3(f){f[g3]=true;return f;}function U3(a,b){var c=b&&a,Us=c&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||p3)-(~a.sourceIndex||p3);if(Us){return Us;}if(c){while(c=c.nextSibling){if(c===b){return-1;}}}return a?1:-1;}function V3(D6){return function(a){var n=a.nodeName.toLowerCase();return n==='input'&&a.type===D6;};}function W3(D6){return function(a){var n=a.nodeName.toLowerCase();return(n==='input'||n==='button')&&a.type===D6;};}function X3(f){return T3(function(a){a=+a;return T3(function(Rq,e3){var j,m=f([],Rq.length,a),i=m.length;while(i--){if(Rq[j=m[i]]){Rq[j]=!(e3[j]=Rq[j]);}}});});}function Y3(c){return c&&typeof c.getElementsByTagName!==o3&&c;}P2=R3.support={};S2=R3.isXML=function(a){var g8=a&&(a.ownerDocument||a).documentElement;return g8?g8.nodeName!=='HTML':false;};Z2=R3.setDocument=function(N7){var h,F4=N7?N7.ownerDocument||N7:h3,i8=F4.defaultView;function g(w){try{return w.top;}catch(a){}return null;}if(F4===_2||F4.nodeType!==9||!F4.documentElement){return _2;}_2=F4;a3=F4.documentElement;b3=!S2(F4);if(i8&&i8!==g(i8)){if(i8.addEventListener){i8.addEventListener('unload',function(){Z2();},false);}else if(i8.attachEvent){i8.attachEvent('onunload',function(){Z2();});}}P2.attributes=true;P2.getElementsByTagName=true;P2.getElementsByClassName=L3.test(F4.getElementsByClassName);P2.getById=true;Q2.find.ID=function(a,c){if(typeof c.getElementById!==o3&&b3){var m=c.getElementById(a);return m&&m.parentNode?[m]:[];}};Q2.filter.ID=function(a){var b=a.replace(P3,Q3);return function(c){return c.getAttribute('id')===b;};};Q2.find.TAG=P2.getElementsByTagName?function(t,c){if(typeof c.getElementsByTagName!==o3){return c.getElementsByTagName(t);}}:function(t,c){var a,b=[],i=0,r=c.getElementsByTagName(t);if(t==='*'){while(a=r[i++]){if(a.nodeType===1){b.push(a);}}return b;}return r;};Q2.find.CLASS=P2.getElementsByClassName&&function(c,a){if(b3){return a.getElementsByClassName(c);}};d3=[];c3=[];P2.disconnectedMatch=true;c3=c3.length&&new RegExp(c3.join('|'));d3=d3.length&&new RegExp(d3.join('|'));h=L3.test(a3.compareDocumentPosition);f3=h||L3.test(a3.contains)?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16));}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true;}}}return false;};n3=h?function(a,b){if(a===b){Y2=true;return 0;}var c=!a.compareDocumentPosition-!b.compareDocumentPosition;if(c){return c;}c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(c&1||!P2.sortDetached&&b.compareDocumentPosition(a)===c){if(a===F4||a.ownerDocument===h3&&f3(h3,a)){return-1;}if(b===F4||b.ownerDocument===h3&&f3(h3,b)){return 1;}return X2?w3.call(X2,a)-w3.call(X2,b):0;}return c&4?-1:1;}:function(a,b){if(a===b){Y2=true;return 0;}var c,i=0,d=a.parentNode,f=b.parentNode,j=[a],k=[b];if(!d||!f){return a===F4?-1:b===F4?1:d?-1:f?1:X2?w3.call(X2,a)-w3.call(X2,b):0;}else if(d===f){return U3(a,b);}c=a;while(c=c.parentNode){j.unshift(c);}c=b;while(c=c.parentNode){k.unshift(c);}while(j[i]===k[i]){i++;}return i?U3(j[i],k[i]):j[i]===h3?-1:k[i]===h3?1:0;};return F4;};R3.matches=function(a,b){return R3(a,null,null,b);};R3.matchesSelector=function(a,b){if((a.ownerDocument||a)!==_2){Z2(a);}b=b.replace(F3,'=\'$1\']');if(P2.matchesSelector&&b3&&(!d3||!d3.test(b))&&(!c3||!c3.test(b))){try{var r=e3.call(a,b);if(r||P2.disconnectedMatch||a.document&&a.document.nodeType!==11){return r;}}catch(e){}}return R3(b,_2,null,[a]).length>0;};R3.contains=function(c,a){if((c.ownerDocument||c)!==_2){Z2(c);}return f3(c,a);};R3.attr=function(a,n){if((a.ownerDocument||a)!==_2){Z2(a);}var f=Q2.attrHandle[n.toLowerCase()],v=f&&q3.call(Q2.attrHandle,n.toLowerCase())?f(a,n,!b3):undefined;return v!==undefined?v:P2.attributes||!b3?a.getAttribute(n):(v=a.getAttributeNode(n))&&v.specified?v.value:null;};R3.error=function(m){throw new Error('Syntax error, unrecognized expression: '+m);};R3.uniqueSort=function(r){var a,d=[],j=0,i=0;Y2=!P2.detectDuplicates;X2=!P2.sortStable&&r.slice(0);r.sort(n3);if(Y2){while(a=r[i++]){if(a===r[i]){j=d.push(i);}}while(j--){r.splice(d[j],1);}}X2=null;return r;};R2=R3.getText=function(a){var N7,r='',i=0,n=a.nodeType;if(!n){while(N7=a[i++]){r+=R2(N7);}}else if(n===1||n===9||n===11){if(typeof a.textContent==='string'){return a.textContent;}else{for(a=a.firstChild;a;a=a.nextSibling){r+=R2(a);}}}else if(n===3||n===4){return a.nodeValue;}return r;};Q2=R3.selectors={cacheLength:50,createPseudo:T3,match:I3,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:true},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:true},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(fu){fu[1]=fu[1].replace(P3,Q3);fu[3]=(fu[3]||fu[4]||fu[5]||'').replace(P3,Q3);if(fu[2]==='~='){fu[3]=' '+fu[3]+' ';}return fu.slice(0,4);},CHILD:function(fu){fu[1]=fu[1].toLowerCase();if(fu[1].slice(0,3)==='nth'){if(!fu[3]){R3.error(fu[0]);}fu[4]=+(fu[4]?fu[5]+(fu[6]||1):2*(fu[3]==='even'||fu[3]==='odd'));fu[5]=+(fu[7]+fu[8]||fu[3]==='odd');}else if(fu[3]){R3.error(fu[0]);}return fu;},PSEUDO:function(fu){var a,u=!fu[6]&&fu[2];if(I3.CHILD.test(fu[0])){return null;}if(fu[3]){fu[2]=fu[4]||fu[5]||'';}else if(u&&G3.test(u)&&(a=T2(u,true))&&(a=u.indexOf(')',u.length-a)-u.length)){fu[0]=fu[0].slice(0,a);fu[2]=u.slice(0,a);}return fu.slice(0,3);}},filter:{TAG:function(n){var a=n.replace(P3,Q3).toLowerCase();return n==='*'?function(){return true;}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===a;};},CLASS:function(c){var p=k3[c+' '];return p||(p=new RegExp('(^|'+y3+')'+c+'('+y3+'|$)'))&&k3(c,function(a){return p.test(typeof a.className==='string'&&a.className||typeof a.getAttribute!==o3&&a.getAttribute('class')||'');});},ATTR:function(n,o,c){return function(a){var r=R3.attr(a,n);if(r==null){return o==='!=';}if(!o){return true;}r+='';return o==='='?r===c:o==='!='?r!==c:o==='^='?c&&r.indexOf(c)===0:o==='*='?c&&r.indexOf(c)>-1:o==='$='?c&&r.slice(-c.length)===c:o==='~='?(' '+r+' ').indexOf(c)>-1:o==='|='?r===c||r.slice(0,c.length+1)===c+'-':false;};},CHILD:function(D6,w,a,V5,F1){var s=D6.slice(0,3)!=='nth',f=D6.slice(-4)!=='last',o=w==='of-type';return V5===1&&F1===0?function(b){return!!b.parentNode;}:function(b,c,x){var d,g,N7,Us,bc,dl,e5=s!==f?'nextSibling':'previousSibling',i8=b.parentNode,n=o&&b.nodeName.toLowerCase(),u=!x&&!o;if(i8){if(s){while(e5){N7=b;while(N7=N7[e5]){if(o?N7.nodeName.toLowerCase()===n:N7.nodeType===1){return false;}}dl=e5=D6==='only'&&!dl&&'nextSibling';}return true;}dl=[f?i8.firstChild:i8.lastChild];if(f&&u){g=i8[g3]||(i8[g3]={});d=g[D6]||[];bc=d[0]===i3&&d[1];Us=d[0]===i3&&d[2];N7=bc&&i8.childNodes[bc];while(N7=++bc&&N7&&N7[e5]||(Us=bc=0)||dl.pop()){if(N7.nodeType===1&&++Us&&N7===b){g[D6]=[i3,bc,Us];break;}}}else if(u&&(d=(b[g3]||(b[g3]={}))[D6])&&d[0]===i3){Us=d[1];}else{while(N7=++bc&&N7&&N7[e5]||(Us=bc=0)||dl.pop()){if((o?N7.nodeName.toLowerCase()===n:N7.nodeType===1)&&++Us){if(u){(N7[g3]||(N7[g3]={}))[D6]=[i3,Us];}if(N7===b){break;}}}}Us-=F1;return Us===V5||Us%V5===0&&Us/V5>=0;}};},PSEUDO:function(p,a){var b,f=Q2.pseudos[p]||Q2.setFilters[p.toLowerCase()]||R3.error('unsupported pseudo: '+p);if(f[g3]){return f(a);}if(f.length>1){b=[p,p,'',a];return Q2.setFilters.hasOwnProperty(p.toLowerCase())?T3(function(Rq,e3){var c,m=f(Rq,a),i=m.length;while(i--){c=w3.call(Rq,m[i]);Rq[c]=!(e3[c]=m[i]);}}):function(c){return f(c,0,b);};}return f;}},pseudos:{not:T3(function(s){var a=[],r=[],m=U2(s.replace(C3,'$1'));return m[g3]?T3(function(Rq,e3,c,x){var b,u=m(Rq,null,x,[]),i=Rq.length;while(i--){if(b=u[i]){Rq[i]=!(e3[i]=b);}}}):function(b,c,x){a[0]=b;m(a,null,x,r);return!r.pop();};}),has:T3(function(s){return function(a){return R3(s,a).length>0;};}),contains:T3(function(t){t=t.replace(P3,Q3);return function(a){return(a.textContent||a.innerText||R2(a)).indexOf(t)>-1;};}),lang:T3(function(l){if(!H3.test(l||'')){R3.error('unsupported lang: '+l);}l=l.replace(P3,Q3).toLowerCase();return function(a){var b;do{if(b=b3?a.lang:a.getAttribute('xml:lang')||a.getAttribute('lang')){b=b.toLowerCase();return b===l||b.indexOf(l+'-')===0;}}while((a=a.parentNode)&&a.nodeType===1);return false;};}),target:function(a){var h=window.location&&window.location.hash;return h&&h.slice(1)===a.id;},root:function(a){return a===a3;},focus:function(a){return a===_2.activeElement&&(!_2.hasFocus||_2.hasFocus())&&!!(a.type||a.href||~a.tabIndex);},enabled:function(a){return a.disabled===false;},disabled:function(a){return a.disabled===true;},checked:function(a){var n=a.nodeName.toLowerCase();return n==='input'&&!!a.checked||n==='option'&&!!a.selected;},selected:function(a){if(a.parentNode){a.parentNode.selectedIndex;}return a.selected===true;},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return false;}}return true;},parent:function(a){return!Q2.pseudos.empty(a);},header:function(a){return K3.test(a.nodeName);},input:function(a){return J3.test(a.nodeName);},button:function(a){var n=a.nodeName.toLowerCase();return n==='input'&&a.type==='button'||n==='button';},text:function(a){var b;return a.nodeName.toLowerCase()==='input'&&a.type==='text'&&((b=a.getAttribute('type'))==null||b.toLowerCase()==='text');},first:X3(function(){return[0];}),last:X3(function(m,l){return[l-1];}),eq:X3(function(m,l,a){return[a<0?a+l:a];}),even:X3(function(m,l){var i=0;for(;i<l;i+=2){m.push(i);}return m;}),odd:X3(function(m,l){var i=1;for(;i<l;i+=2){m.push(i);}return m;}),lt:X3(function(m,l,a){var i=a<0?a+l:a;for(;--i>=0;){m.push(i);}return m;}),gt:X3(function(m,l,a){var i=a<0?a+l:a;for(;++i<l;){m.push(i);}return m;})}};Q2.pseudos.nth=Q2.pseudos.eq;for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Q2.pseudos[i]=V3(i);}for(i in{submit:true,reset:true}){Q2.pseudos[i]=W3(i);}function Z3(){}Z3.prototype=Q2.filters=Q2.pseudos;Q2.setFilters=new Z3();T2=R3.tokenize=function(s,p){var m,fu,t,D6,a,g,b,i5=l3[s+' '];if(i5){return p?0:i5.slice(0);}a=s;g=[];b=Q2.preFilter;while(a){if(!m||(fu=D3.exec(a))){if(fu){a=a.slice(fu[0].length)||a;}g.push(t=[]);}m=false;if(fu=E3.exec(a)){m=fu.shift();t.push({value:m,type:fu[0].replace(C3,' ')});a=a.slice(m.length);}for(D6 in Q2.filter){if((fu=I3[D6].exec(a))&&(!b[D6]||(fu=b[D6](fu)))){m=fu.shift();t.push({value:m,type:D6,matches:fu});a=a.slice(m.length);}}if(!m){break;}}return p?a.length:a?R3.error(s):l3(s,g).slice(0);};function _3(t){var i=0,l=t.length,s='';for(;i<l;i++){s+=t[i].value;}return s;}function a4(m,c,b){var e5=c.dir,a=b&&e5==='parentNode',d=j3++;return c.first?function(f,g,x){while(f=f[e5]){if(f.nodeType===1||a){return m(f,g,x);}}}:function(f,g,x){var o,h,n=[i3,d];if(x){while(f=f[e5]){if(f.nodeType===1||a){if(m(f,g,x)){return true;}}}}else{while(f=f[e5]){if(f.nodeType===1||a){h=f[g3]||(f[g3]={});if((o=h[e5])&&o[0]===i3&&o[1]===d){return n[2]=o[2];}else{h[e5]=n;if(n[2]=m(f,g,x)){return true;}}}}}};}function b4(m){return m.length>1?function(a,c,x){var i=m.length;while(i--){if(!m[i](a,c,x)){return false;}}return true;}:m[0];}function c4(s,c,r){var i=0,l=c.length;for(;i<l;i++){R3(s,c[i],r);}return r;}function d4(u,f1,j1,c,x){var a,n=[],i=0,l=u.length,m=f1!=null;for(;i<l;i++){if(a=u[i]){if(!j1||j1(a,c,x)){n.push(a);if(m){f1.push(i);}}}}return n;}function e4(p,s,m,a,b,c){if(a&&!a[g3]){a=e4(a);}if(b&&!b[g3]){b=e4(b,c);}return T3(function(Rq,r,d,x){var t,i,f,g=[],h=[],j=r.length,k=Rq||c4(s||'*',d.nodeType?[d]:d,[]),l=p&&(Rq||!s)?d4(k,g,p,d,x):k,n=m?b||(Rq?p:j||a)?[]:r:l;if(m){m(l,n,d,x);}if(a){t=d4(n,h);a(t,[],d,x);i=t.length;while(i--){if(f=t[i]){n[h[i]]=!(l[h[i]]=f);}}}if(Rq){if(b||p){if(b){t=[];i=n.length;while(i--){if(f=n[i]){t.push(l[i]=f);}}b(null,n=[],t,x);}i=n.length;while(i--){if((f=n[i])&&(t=b?w3.call(Rq,f):g[i])>-1){Rq[t]=!(r[t]=f);}}}}else{n=d4(n===r?n.splice(j,n.length):n);if(b){b(null,r,n,x);}else{u3.apply(r,n);}}});}function f4(t){var c,m,j,l=t.length,a=Q2.relative[t[0].type],b=a||Q2.relative[' '],i=a?1:0,d=a4(function(h){return h===c;},b,true),f=a4(function(h){return w3.call(c,h)>-1;},b,true),g=[function(h,k,x){return!a&&(x||k!==W2)||((c=k).nodeType?d(h,k,x):f(h,k,x));}];for(;i<l;i++){if(m=Q2.relative[t[i].type]){g=[a4(b4(g),m)];}else{m=Q2.filter[t[i].type].apply(null,t[i].matches);if(m[g3]){j=++i;for(;j<l;j++){if(Q2.relative[t[j].type]){break;}}return e4(i>1&&b4(g),i>1&&_3(t.slice(0,i-1).concat({value:t[i-2].type===' '?'*':''})).replace(C3,'$1'),m,i<j&&f4(t.slice(i,j)),j<l&&f4(t=t.slice(j)),j<l&&_3(t));}g.push(m);}}return b4(g);}function g4(a,s){var b=s.length>0,c=a.length>0,d=function(Rq,f,x,r,o){var g,j,m,h=0,i='0',u=Rq&&[],k=[],l=W2,n=Rq||c&&Q2.find.TAG('*',o),p=i3+=l==null?1:Math.random()||0.1,t=n.length;if(o){W2=f!==_2&&f;}for(;i!==t&&(g=n[i])!=null;i++){if(c&&g){j=0;while(m=a[j++]){if(m(g,f,x)){r.push(g);break;}}if(o){i3=p;}}if(b){if(g=!m&&g){h--;}if(Rq){u.push(g);}}}h+=i;if(b&&i!==h){j=0;while(m=s[j++]){m(u,k,f,x);}if(Rq){if(h>0){while(i--){if(!(u[i]||k[i])){k[i]=s3.call(r);}}}k=d4(k);}u3.apply(r,k);if(o&&!Rq&&k.length>0&&h+s.length>1){R3.uniqueSort(r);}}if(o){i3=p;W2=l;}return u;};return b?T3(d):d;}U2=R3.compile=function(s,fu){var i,a=[],b=[],i5=m3[s+' '];if(!i5){if(!fu){fu=T2(s);}i=fu.length;while(i--){i5=f4(fu[i]);if(i5[g3]){a.push(i5);}else{b.push(i5);}}i5=m3(s,g4(b,a));i5.selector=s;}return i5;};V2=R3.select=function(s,c,r,Rq){var i,t,a,D6,n1,b=typeof s==='function'&&s,fu=!Rq&&T2(s=b.selector||s);r=r||[];if(fu.length===1){t=fu[0]=fu[0].slice(0);if(t.length>2&&(a=t[0]).type==='ID'&&P2.getById&&c.nodeType===9&&b3&&Q2.relative[t[1].type]){c=(Q2.find.ID(a.matches[0].replace(P3,Q3),c)||[])[0];if(!c){return r;}else if(b){c=c.parentNode;}s=s.slice(t.shift().value.length);}i=I3.needsContext.test(s)?0:t.length;while(i--){a=t[i];if(Q2.relative[D6=a.type]){break;}if(n1=Q2.find[D6]){if(Rq=n1(a.matches[0].replace(P3,Q3),N3.test(t[0].type)&&Y3(c.parentNode)||c)){t.splice(i,1);s=Rq.length&&_3(t);if(!s){u3.apply(r,Rq);return r;}break;}}}}(b||U2(s,fu))(Rq,c,!b3,r,N3.test(s)&&Y3(c.parentNode)||c);return r;};P2.sortStable=g3.split('').sort(n3).join('')===g3;P2.detectDuplicates=!!Y2;Z2();P2.sortDetached=true;var h4=Array.isArray;var i4=function(o){var a=o,i,l;if(!h4(o)){a=[];for(i=0,l=o.length;i<l;i++){a[i]=o[i];}}return a;};var j4=function(o,c,s){var n,l;if(!o){return 0;}s=s||o;if(o.length!==undefined){for(n=0,l=o.length;n<l;n++){if(c.call(s,o[n],n,o)===false){return 0;}}}else{for(n in o){if(o.hasOwnProperty(n)){if(c.call(s,o[n],n,o)===false){return 0;}}}}return 1;};var k4=function(a,c){var o=[];j4(a,function(b,d){o.push(c(b,d,a));});return o;};var l4=function(a,f){var o=[];j4(a,function(v,b){if(!f||f(v,b,a)){o.push(v);}});return o;};var m4=function(a,v){var i,l;if(a){for(i=0,l=a.length;i<l;i++){if(a[i]===v){return i;}}}return-1;};var n4=function(c,a,b,t){var i=0;if(arguments.length<3){b=c[0];}for(;i<c.length;i++){b=a.call(t,b,c[i],i);}return b;};var o4=function(a,p,t){var i,l;for(i=0,l=a.length;i<l;i++){if(p.call(t,a[i],i,a)){return i;}}return-1;};var p4=function(a,p,t){var b=o4(a,p,t);if(b!==-1){return a[b];}return undefined;};var q4=function(c){return c[c.length-1];};var r4={isArray:h4,toArray:i4,each:j4,map:k4,filter:l4,indexOf:m4,reduce:n4,findIndex:o4,find:p4,last:q4};var s4=/^\s*|\s*$/g;var t4=function(s){return s===null||s===undefined?'':(''+s).replace(s4,'');};var is=function(o,D6){if(!D6){return o!==undefined;}if(D6==='array'&&r4.isArray(o)){return true;}return typeof o===D6;};var v4=function(a,d,f1){var i;a=a||[];d=d||',';if(typeof a==='string'){a=a.split(d);}f1=f1||{};i=a.length;while(i--){f1[a[i]]={};}return f1;};var w4=function(o,p){return Object.prototype.hasOwnProperty.call(o,p);};var x4=function(s,p,r){var a=this;var b,d,g,h,c,j=0;s=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(s);g=s[3].match(/(^|\.)(\w+)$/i)[2];d=a.createNS(s[3].replace(/\.\w+$/,''),r);if(d[g]){return;}if(s[2]==='static'){d[g]=p;if(this.onCreate){this.onCreate(s[2],s[3],d[g]);}return;}if(!p[g]){p[g]=function(){};j=1;}d[g]=p[g];a.extend(d[g].prototype,p);if(s[5]){b=a.resolve(s[5]).prototype;h=s[5].match(/\.(\w+)$/i)[1];c=d[g];if(j){d[g]=function(){return b[h].apply(this,arguments);};}else{d[g]=function(){this.parent=b[h];return c.apply(this,arguments);};}d[g].prototype[g]=d[g];a.each(b,function(f,n){d[g].prototype[n]=b[n];});a.each(p,function(f,n){if(b[n]){d[g].prototype[n]=function(){this.parent=b[n];return f.apply(this,arguments);};}else{if(n!==g){d[g].prototype[n]=f;}}});}a.each(p.static,function(f,n){d[g][n]=f;});};var y4=function(o,a){var x=[];for(var _=2;_<arguments.length;_++){x[_-2]=arguments[_];}var i,l,n;var b=arguments;var E6;for(i=1,l=b.length;i<l;i++){a=b[i];for(n in a){if(a.hasOwnProperty(n)){E6=a[n];if(E6!==undefined){o[n]=E6;}}}}return o;};var z4=function(o,f,n,s){s=s||this;if(o){if(n){o=o[n];}r4.each(o,function(o,i){if(f.call(s,o,i,n)===false){return false;}z4(o,f,n,s);});}};var A4=function(n,o){var i,v;o=o||window;n=n.split('.');for(i=0;i<n.length;i++){v=n[i];if(!o[v]){o[v]={};}o=o[v];}return o;};var B4=function(n,o){var i,l;o=o||window;n=n.split('.');for(i=0,l=n.length;i<l;i++){o=o[n[i]];if(!o){break;}}return o;};var C4=function(s,d){if(!s||is(s,'array')){return s;}return r4.map(s.split(d||','),t4);};var D4=function(S1){var c=q2.cacheSuffix;if(c){S1+=(S1.indexOf('?')===-1?'?':'&')+c;}return S1;};var E4={trim:t4,isArray:r4.isArray,is:is,toArray:r4.toArray,makeMap:v4,each:r4.each,map:r4.map,grep:r4.filter,inArray:r4.indexOf,hasOwn:w4,extend:y4,create:x4,walk:z4,createNS:A4,resolve:B4,explode:C4,_addCacheSuffix:D4};var F4=document;var G4=Array.prototype.push;var H4=Array.prototype.slice;var I4=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var J4=O2.Event;var K4=E4.makeMap('children,contents,next,prev');var L4=function(o){return typeof o!=='undefined';};var M4=function(o){return typeof o==='string';};var N4=function(o){return o&&o===o.window;};var O4=function(h,f){var a,N7,c;f=f||F4;c=f.createElement('div');a=f.createDocumentFragment();c.innerHTML=h;while(N7=c.firstChild){a.appendChild(N7);}return a;};var P4=function(t,s,c,z1){var i;if(M4(s)){s=O4(s,d5(t[0]));}else if(s.length&&!s.nodeType){s=Y4.makeArray(s);if(z1){for(i=s.length-1;i>=0;i--){P4(t,s[i],c,z1);}}else{for(i=0;i<s.length;i++){P4(t,s[i],c,z1);}}return t;}if(s.nodeType){i=t.length;while(i--){c.call(t[i],s);}}return t;};var Q4=function(N7,c){return N7&&c&&(' '+N7.className+' ').indexOf(' '+c+' ')!==-1;};var R4=function(a,w,W7){var l,n;w=Y4(w)[0];a.each(function(){var s=this;if(!W7||l!==s.parentNode){l=s.parentNode;n=w.cloneNode(false);s.parentNode.insertBefore(n,s);n.appendChild(s);}else{n.appendChild(s);}});return a;};var S4=E4.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom',' ');var T4=E4.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected',' ');var U4={for:'htmlFor',class:'className',readonly:'readOnly'};var V4={float:'cssFloat'};var W4={};var X4={};var Y4=function(s,c){return new Y4.fn.init(s,c);};var Z4=function(a,b){var i;if(b.indexOf){return b.indexOf(a);}i=b.length;while(i--){if(b[i]===a){return i;}}return-1;};var _4=/^\s*|\s*$/g;var a5=function(s){return s===null||s===undefined?'':(''+s).replace(_4,'');};var b5=function(o,c){var l,k,i,E6;if(o){l=o.length;if(l===undefined){for(k in o){if(o.hasOwnProperty(k)){E6=o[k];if(c.call(E6,k,E6)===false){break;}}}}else{for(i=0;i<l;i++){E6=o[i];if(c.call(E6,i,E6)===false){break;}}}}return o;};var c5=function(a,c){var o=[];b5(a,function(i,b){if(c(b,i)){o.push(b);}});return o;};var d5=function(a){if(!a){return F4;}if(a.nodeType===9){return a;}return a.ownerDocument;};Y4.fn=Y4.prototype={constructor:Y4,selector:'',context:null,length:0,init:function(s,c){var a=this;var fu,N7;if(!s){return a;}if(s.nodeType){a.context=a[0]=s;a.length=1;return a;}if(c&&c.nodeType){a.context=c;}else{if(c){return Y4(s).attr(c);}a.context=c=document;}if(M4(s)){a.selector=s;if(s.charAt(0)==='<'&&s.charAt(s.length-1)==='>'&&s.length>=3){fu=[null,s,null];}else{fu=I4.exec(s);}if(fu){if(fu[1]){N7=O4(s,d5(c)).firstChild;while(N7){G4.call(a,N7);N7=N7.nextSibling;}}else{N7=d5(c).getElementById(fu[2]);if(!N7){return a;}if(N7.id!==fu[2]){return a.find(s);}a.length=1;a[0]=N7;}}else{return Y4(c).find(s);}}else{this.add(s,false);}return a;},toArray:function(){return E4.toArray(this);},add:function(a,D1){var s=this;var n,i;if(M4(a)){return s.add(Y4(a));}if(D1!==false){n=Y4.unique(s.toArray().concat(Y4.makeArray(a)));s.length=n.length;for(i=0;i<n.length;i++){s[i]=n[i];}}else{G4.apply(s,Y4.makeArray(a));}return s;},attr:function(n,E6){var s=this;var h;if(typeof n==='object'){b5(n,function(n,E6){s.attr(n,E6);});}else if(L4(E6)){this.each(function(){var h;if(this.nodeType===1){h=W4[n];if(h&&h.set){h.set(this,E6);return;}if(E6===null){this.removeAttribute(n,2);}else{this.setAttribute(n,E6,2);}}});}else{if(s[0]&&s[0].nodeType===1){h=W4[n];if(h&&h.get){return h.get(s[0],n);}if(T4[n]){return s.prop(n)?n:undefined;}E6=s[0].getAttribute(n,2);if(E6===null){E6=undefined;}}return E6;}return s;},removeAttr:function(n){return this.attr(n,null);},prop:function(n,E6){var s=this;n=U4[n]||n;if(typeof n==='object'){b5(n,function(n,E6){s.prop(n,E6);});}else if(L4(E6)){this.each(function(){if(this.nodeType===1){this[n]=E6;}});}else{if(s[0]&&s[0].nodeType&&n in s[0]){return s[0][n];}return E6;}return s;},css:function(n,E6){var s=this;var c,h;var d=function(n){return n.replace(/-(\D)/g,function(a,b){return b.toUpperCase();});};var f=function(n){return n.replace(/[A-Z]/g,function(a){return'-'+a;});};if(typeof n==='object'){b5(n,function(n,E6){s.css(n,E6);});}else{if(L4(E6)){n=d(n);if(typeof E6==='number'&&!S4[n]){E6=E6.toString()+'px';}s.each(function(){var a=this.style;h=X4[n];if(h&&h.set){h.set(this,E6);return;}try{this.style[V4[n]||n]=E6;}catch(g){}if(E6===null||E6===''){if(a.removeProperty){a.removeProperty(f(n));}else{a.removeAttribute(n);}}});}else{c=s[0];h=X4[n];if(h&&h.get){return h.get(c);}if(c.ownerDocument.defaultView){try{return c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(f(n));}catch(g){return undefined;}}else if(c.currentStyle){return c.currentStyle[d(n)];}else{return'';}}}return s;},remove:function(){var s=this;var N7,i=this.length;while(i--){N7=s[i];J4.clean(N7);if(N7.parentNode){N7.parentNode.removeChild(N7);}}return this;},empty:function(){var s=this;var N7,i=this.length;while(i--){N7=s[i];while(N7.firstChild){N7.removeChild(N7.firstChild);}}return this;},html:function(E6){var s=this;var i;if(L4(E6)){i=s.length;try{while(i--){s[i].innerHTML=E6;}}catch(a){Y4(s[i]).empty().append(E6);}return s;}return s[0]?s[0].innerHTML:'';},text:function(E6){var s=this;var i;if(L4(E6)){i=s.length;while(i--){if('innerText'in s[i]){s[i].innerText=E6;}else{s[0].textContent=E6;}}return s;}return s[0]?s[0].innerText||s[0].textContent:'';},append:function(){return P4(this,arguments,function(N7){if(this.nodeType===1||this.host&&this.host.nodeType===1){this.appendChild(N7);}});},prepend:function(){return P4(this,arguments,function(N7){if(this.nodeType===1||this.host&&this.host.nodeType===1){this.insertBefore(N7,this.firstChild);}},true);},before:function(){var s=this;if(s[0]&&s[0].parentNode){return P4(s,arguments,function(N7){this.parentNode.insertBefore(N7,this);});}return s;},after:function(){var s=this;if(s[0]&&s[0].parentNode){return P4(s,arguments,function(N7){this.parentNode.insertBefore(N7,this.nextSibling);},true);}return s;},appendTo:function(v){Y4(v).append(this);return this;},prependTo:function(v){Y4(v).prepend(this);return this;},replaceWith:function(c){return this.before(c).remove();},wrap:function(c){return R4(this,c);},wrapAll:function(c){return R4(this,c,true);},wrapInner:function(c){this.each(function(){Y4(this).contents().wrapAll(c);});return this;},unwrap:function(){return this.parent().each(function(){Y4(this).replaceWith(this.childNodes);});},clone:function(){var r=[];this.each(function(){r.push(this.cloneNode(true));});return Y4(r);},addClass:function(c){return this.toggleClass(c,true);},removeClass:function(c){return this.toggleClass(c,false);},toggleClass:function(c,s){var a=this;if(typeof c!=='string'){return a;}if(c.indexOf(' ')!==-1){b5(c.split(' '),function(){a.toggleClass(this,s);});}else{a.each(function(b,N7){var d,f;f=Q4(N7,c);if(f!==s){d=N7.className;if(f){N7.className=a5((' '+d+' ').replace(' '+c+' ',' '));}else{N7.className+=d?' '+c:c;}}});}return a;},hasClass:function(c){return Q4(this[0],c);},each:function(c){return b5(this,c);},on:function(n,c){return this.each(function(){J4.bind(this,n,c);});},off:function(n,c){return this.each(function(){J4.unbind(this,n,c);});},trigger:function(n){return this.each(function(){if(typeof n==='object'){J4.fire(this,n.type,n);}else{J4.fire(this,n);}});},show:function(){return this.css('display','');},hide:function(){return this.css('display','none');},slice:function(){return new Y4(H4.apply(this,arguments));},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},find:function(s){var i,l;var r=[];for(i=0,l=this.length;i<l;i++){Y4.find(s,this[i],r);}return Y4(r);},filter:function(s){if(typeof s==='function'){return Y4(c5(this.toArray(),function(a,i){return s(i,a);}));}return Y4(Y4.filter(s,this.toArray()));},closest:function(s){var r=[];if(s instanceof Y4){s=s[0];}this.each(function(i,N7){while(N7){if(typeof s==='string'&&Y4(N7).is(s)){r.push(N7);break;}else if(N7===s){r.push(N7);break;}N7=N7.parentNode;}});return Y4(r);},offset:function(o){var a,F4,d;var x=0,y=0,p;if(!o){a=this[0];if(a){F4=a.ownerDocument;d=F4.documentElement;if(a.getBoundingClientRect){p=a.getBoundingClientRect();x=p.left+(d.scrollLeft||F4.body.scrollLeft)-d.clientLeft;y=p.top+(d.scrollTop||F4.body.scrollTop)-d.clientTop;}}return{left:x,top:y};}return this.css(o);},push:G4,sort:[].sort,splice:[].splice};E4.extend(Y4,{extend:E4.extend,makeArray:function(o){if(N4(o)||o.nodeType){return[o];}return E4.toArray(o);},inArray:Z4,isArray:E4.isArray,each:b5,trim:a5,grep:c5,find:R3,expr:R3.selectors,unique:R3.uniqueSort,text:R3.getText,contains:R3.contains,filter:function(a,b,F){var i=b.length;if(F){a=':not('+a+')';}while(i--){if(b[i].nodeType!==1){b.splice(i,1);}}if(b.length===1){b=Y4.find.matchesSelector(b[0],a)?[b[0]]:[];}else{b=Y4.find.matches(a,b);}return b;}});var e5=function(a,p,u){var m=[];var c=a[p];if(typeof u!=='string'&&u instanceof Y4){u=u[0];}while(c&&c.nodeType!==9){if(u!==undefined){if(c===u){break;}if(typeof u==='string'&&Y4(c).is(u)){break;}}if(c.nodeType===1){m.push(c);}c=c[p];}return m;};var f5=function(N7,s,n,u){var r=[];if(u instanceof Y4){u=u[0];}for(;N7;N7=N7[s]){if(n&&N7.nodeType!==n){continue;}if(u!==undefined){if(N7===u){break;}if(typeof u==='string'&&Y4(N7).is(u)){break;}}r.push(N7);}return r;};var g5=function(N7,s,n){for(N7=N7[s];N7;N7=N7[s]){if(N7.nodeType===n){return N7;}}return null;};b5({parent:function(N7){var i8=N7.parentNode;return i8&&i8.nodeType!==11?i8:null;},parents:function(N7){return e5(N7,'parentNode');},next:function(N7){return g5(N7,'nextSibling',1);},prev:function(N7){return g5(N7,'previousSibling',1);},children:function(N7){return f5(N7.firstChild,'nextSibling',1);},contents:function(N7){return E4.toArray((N7.nodeName==='iframe'?N7.contentDocument||N7.contentWindow.document:N7).childNodes);}},function(n,f){Y4.fn[n]=function(s){var a=this;var r=[];a.each(function(){var b=f.call(r,this,s,r);if(b){if(Y4.isArray(b)){r.push.apply(r,b);}else{r.push(b);}}});if(this.length>1){if(!K4[n]){r=Y4.unique(r);}if(n.indexOf('parents')===0){r=r.reverse();}}r=Y4(r);if(s){return r.filter(s);}return r;};});b5({parentsUntil:function(N7,u){return e5(N7,'parentNode',u);},nextUntil:function(N7,u){return f5(N7,'nextSibling',1,u).slice(1);},prevUntil:function(N7,u){return f5(N7,'previousSibling',1,u).slice(1);}},function(n,f){Y4.fn[n]=function(s,j1){var a=this;var r=[];a.each(function(){var b=f.call(r,this,s,r);if(b){if(Y4.isArray(b)){r.push.apply(r,b);}else{r.push(b);}}});if(this.length>1){r=Y4.unique(r);if(n.indexOf('parents')===0||n==='prevUntil'){r=r.reverse();}}r=Y4(r);if(j1){return r.filter(j1);}return r;};});Y4.fn.is=function(s){return!!s&&this.filter(s).length>0;};Y4.fn.init.prototype=Y4.fn;Y4.overrideDefaults=function(c){var d;var s=function(a,b){d=d||c();if(arguments.length===0){a=d.element;}if(!b){b=d.context;}return new s.fn.init(a,b);};Y4.extend(s,this);return s;};var h5=function(t,p,h){b5(h,function(n,f){t[n]=t[n]||{};t[n][p]=f;});};if(q2.ie&&q2.ie<8){h5(W4,'get',{maxlength:function(a){var E6=a.maxLength;if(E6===2147483647){return undefined;}return E6;},size:function(a){var E6=a.size;if(E6===20){return undefined;}return E6;},class:function(a){return a.className;},style:function(a){var E6=a.style.cssText;if(E6.length===0){return undefined;}return E6;}});h5(W4,'set',{class:function(a,E6){a.className=E6;},style:function(a,E6){a.style.cssText=E6;}});}if(q2.ie&&q2.ie<9){V4.float='styleFloat';h5(X4,'set',{opacity:function(a,E6){var s=a.style;if(E6===null||E6===''){s.removeAttribute('filter');}else{s.zoom=1;s.filter='alpha(opacity='+E6*100+')';}}});}Y4.attrHooks=W4;Y4.cssHooks=X4;var i5=function(f){var c=false;var r;return function(){if(!c){c=true;r=f.apply(null,arguments);}return r;};};var j5={cached:i5};var k5=function(r,s){for(var i=0;i<r.length;i++){var x=r[i];if(x.test(s))return x;}return undefined;};var l5=function(a,b){var r=k5(a,b);if(!r)return{major:0,minor:0};var g=function(i){return Number(b.replace(r,'$'+i));};return nu(g(1),g(2));};var m5=function(v,a){var c=String(a).toLowerCase();if(v.length===0)return n5();return l5(v,c);};var n5=function(){return nu(0,0);};var nu=function(m,a){return{major:m,minor:a};};var p5={nu:nu,detect:m5,unknown:n5};var q5='Edge';var r5='Chrome';var s5='IE';var t5='Opera';var u5='Firefox';var v5='Safari';var w5=function(n,c){return function(){return c===n;};};var x5=function(){return y5({current:undefined,version:p5.unknown()});};var y5=function(a){var c=a.current;var v=a.version;return{current:c,version:v,isEdge:w5(q5,c),isChrome:w5(r5,c),isIE:w5(s5,c),isOpera:w5(t5,c),isFirefox:w5(u5,c),isSafari:w5(v5,c)};};var z5={unknown:x5,nu:y5,edge:L.constant(q5),chrome:L.constant(r5),ie:L.constant(s5),opera:L.constant(t5),firefox:L.constant(u5),safari:L.constant(v5)};var A5='Windows';var B5='iOS';var C5='Android';var D5='Linux';var E5='OSX';var F5='Solaris';var G5='FreeBSD';var H5=function(n,c){return function(){return c===n;};};var I5=function(){return J5({current:undefined,version:p5.unknown()});};var J5=function(a){var c=a.current;var v=a.version;return{current:c,version:v,isWindows:H5(A5,c),isiOS:H5(B5,c),isAndroid:H5(C5,c),isOSX:H5(E5,c),isLinux:H5(D5,c),isSolaris:H5(F5,c),isFreeBSD:H5(G5,c)};};var K5={unknown:I5,nu:J5,windows:L.constant(A5),ios:L.constant(B5),android:L.constant(C5),linux:L.constant(D5),osx:L.constant(E5),solaris:L.constant(F5),freebsd:L.constant(G5)};function L5(o,c8,X1){var a=o.isiOS()&&/ipad/i.test(X1)===true;var b=o.isiOS()&&!a;var c=o.isAndroid()&&o.version.major===3;var d=o.isAndroid()&&o.version.major===4;var f=a||c||d&&/mobile/i.test(X1)===true;var Zh=o.isiOS()||o.isAndroid();var g=Zh&&!f;var h=c8.isSafari()&&o.isiOS()&&/safari/i.test(X1)===false;return{isiPad:L.constant(a),isiPhone:L.constant(b),isTablet:L.constant(f),isPhone:L.constant(g),isTouch:L.constant(Zh),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:L.constant(h)};}var M5=function(c,X1){var a=String(X1).toLowerCase();return H1.find(c,function(b){return b.search(a);});};var N5=function(o6,X1){return M5(o6,X1).map(function(c8){var v=p5.detect(c8.versionRegexes,X1);return{current:c8.name,version:v};});};var O5=function(p6,X1){return M5(p6,X1).map(function(o){var v=p5.detect(o.versionRegexes,X1);return{current:o.name,version:v};});};var P5={detectBrowser:N5,detectOs:O5};var Q5=function(s,p){return p+s;};var R5=function(s,a){return s+a;};var S5=function(s,n){return s.substring(n);};var T5=function(s,n){return s.substring(0,s.length-n);};var U5={addToStart:Q5,addToEnd:R5,removeFromStart:S5,removeFromEnd:T5};var V5=function(s,Lq){return s.substr(0,Lq);};var W5=function(s,Lq){return s.substr(s.length-Lq,s.length);};var X5=function(s){return s===''?S.none():S.some(s.substr(0,1));};var Y5=function(s){return s===''?S.none():S.some(s.substring(1));};var Z5={first:V5,last:W5,head:X5,tail:Y5};var $5=function(s,a,dl){if(a==='')return true;if(s.length<a.length)return false;var x=s.substr(dl,dl+a.length);return x===a;};var _5=function(s,o){var c=function(a){var t=typeof a;return t==='string'||t==='number';};return s.replace(/\${([^{}]*)}/g,function(a,b){var E6=o[b];return c(E6)?E6:a;});};var a6=function(s,p){return g6(s,p)?U5.removeFromStart(s,p.length):s;};var b6=function(s,p){return h6(s,p)?U5.removeFromEnd(s,p.length):s;};var c6=function(s,p){return g6(s,p)?s:U5.addToStart(s,p);};var d6=function(s,p){return h6(s,p)?s:U5.addToEnd(s,p);};var e6=function(s,a){return s.indexOf(a)!==-1;};var f6=function(s){return Z5.head(s).bind(function(E1){return Z5.tail(s).map(function(Y5){return E1.toUpperCase()+Y5;});}).getOr(s);};var g6=function(s,p){return $5(s,p,0);};var h6=function(s,a){return $5(s,a,s.length-a.length);};var i6=function(s){return s.replace(/^\s+|\s+$/g,'');};var j6=function(s){return s.replace(/^\s+/g,'');};var k6=function(s){return s.replace(/\s+$/g,'');};var l6={supplant:_5,startsWith:g6,removeLeading:a6,removeTrailing:b6,ensureLeading:c6,ensureTrailing:d6,endsWith:h6,contains:e6,trim:i6,lTrim:j6,rTrim:k6,capitalize:f6};var m6=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;var n6=function(t){return function(u){return l6.contains(u,t);};};var o6=[{name:'Edge',versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){var m=l6.contains(u,'edge/')&&l6.contains(u,'chrome')&&l6.contains(u,'safari')&&l6.contains(u,'applewebkit');return m;}},{name:'Chrome',versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,m6],search:function(u){return l6.contains(u,'chrome')&&!l6.contains(u,'chromeframe');}},{name:'IE',versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return l6.contains(u,'msie')||l6.contains(u,'trident');}},{name:'Opera',versionRegexes:[m6,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:n6('opera')},{name:'Firefox',versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:n6('firefox')},{name:'Safari',versionRegexes:[m6,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(l6.contains(u,'safari')||l6.contains(u,'mobile/'))&&l6.contains(u,'applewebkit');}}];var p6=[{name:'Windows',search:n6('win'),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:'iOS',search:function(u){return l6.contains(u,'iphone')||l6.contains(u,'ipad');},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:'Android',search:n6('android'),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:'OSX',search:n6('os x'),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:'Linux',search:n6('linux'),versionRegexes:[]},{name:'Solaris',search:n6('sunos'),versionRegexes:[]},{name:'FreeBSD',search:n6('freebsd'),versionRegexes:[]}];var q6={browsers:L.constant(o6),oses:L.constant(p6)};var r6=function(X1){var o6=q6.browsers();var p6=q6.oses();var c8=P5.detectBrowser(o6,X1).fold(z5.unknown,z5.nu);var o=P5.detectOs(p6,X1).fold(K5.unknown,K5.nu);var d=L5(o,c8,X1);return{browser:c8,os:o,deviceType:d};};var s6={detect:r6};var t6=j5.cached(function(){var X1=navigator.userAgent;return s6.detect(X1);});var u6={detect:t6};var v6=function(h,s){var F4=s||document;var d=F4.createElement('div');d.innerHTML=h;if(!d.hasChildNodes()||d.childNodes.length>1){console.error('HTML does not have a single root node',h);throw'HTML must have a single root node';}return y6(d.childNodes[0]);};var w6=function(t,s){var F4=s||document;var N7=F4.createElement(t);return y6(N7);};var x6=function(t,s){var F4=s||document;var N7=F4.createTextNode(t);return y6(N7);};var y6=function(N7){if(N7===null||N7===undefined)throw new Error('Node cannot be null or undefined');return{dom:L.constant(N7)};};var z6=function(F4,x,y){return S.from(F4.dom().elementFromPoint(x,y)).map(y6);};var A6={fromHtml:v6,fromTag:w6,fromText:x6,fromDom:y6,fromPoint:z6};var B6={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12};var C6=function(a){var r=a.dom().nodeName;return r.toLowerCase();};var D6=function(a){return a.dom().nodeType;};var E6=function(a){return a.dom().nodeValue;};var F6=function(t){return function(a){return D6(a)===t;};};var G6=function(a){return D6(a)===B6.COMMENT||C6(a)==='#comment';};var H6=F6(B6.ELEMENT);var I6=F6(B6.TEXT);var J6=F6(B6.DOCUMENT);var K6={name:C6,type:D6,value:E6,isElement:H6,isText:I6,isDocument:J6,isComment:G6};var L6=function(){var f=Object.keys;var s=function(o){var r=[];for(var i in o){if(o.hasOwnProperty(i)){r.push(i);}}return r;};return f===undefined?s:f;}();var M6=function(o,f){var p=L6(o);for(var k=0,l=p.length;k<l;k++){var i=p[k];var x=o[i];f(x,i,o);}};var N6=function(o,f){return O6(o,function(x,i,o){return{k:i,v:f(x,i,o)};});};var O6=function(o,f){var r={};M6(o,function(x,i){var t=f(x,i,o);r[t.k]=t.v;});return r;};var P6=function(o,p){var t={};var f={};M6(o,function(x,i){var b=p(x,i)?t:f;b[i]=x;});return{t:t,f:f};};var Q6=function(o,f){var r=[];M6(o,function(E6,n){r.push(f(E6,n));});return r;};var R6=function(o,p){var a=L6(o);for(var k=0,l=a.length;k<l;k++){var i=a[k];var x=o[i];if(p(x,i,o)){return S.some(x);}}return S.none();};var S6=function(o){return Q6(o,function(v){return v;});};var T6=function(o){return S6(o).length;};var U6={bifilter:P6,each:M6,map:N6,mapToArray:Q6,tupleMap:O6,find:R6,keys:L6,values:S6,size:T6};var V6=function(Jv,k,E6){if(V.isString(E6)||V.isBoolean(E6)||V.isNumber(E6)){Jv.setAttribute(k,E6+'');}else{console.error('Invalid call to Attr.set. Key ',k,':: Value ',E6,':: Element ',Jv);throw new Error('Attribute value was not simple');}};var W6=function(a,k,E6){V6(a.dom(),k,E6);};var X6=function(a,b){var Jv=a.dom();U6.each(b,function(v,k){V6(Jv,k,v);});};var Y6=function(a,k){var v=a.dom().getAttribute(k);return v===null?undefined:v;};var Z6=function(a,k){var Jv=a.dom();return Jv&&Jv.hasAttribute?Jv.hasAttribute(k):false;};var $6=function(a,k){a.dom().removeAttribute(k);};var _6=function(a){var b=a.dom().attributes;return b===undefined||b===null||b.length===0;};var a7=function(a){return H1.foldl(a.dom().attributes,function(b,c){b[c.name]=c.value;return b;},{});};var b7=function(s,d,a){if(Z6(s,a)&&!Z6(d,a))W6(d,a,Y6(s,a));};var c7=function(s,d,a){if(!K6.isElement(s)||!K6.isElement(d))return;H1.each(a,function(b){b7(s,d,b);});};var d7={clone:a7,set:W6,setAll:X6,get:Y6,has:Z6,remove:$6,hasNone:_6,transfer:c7};var e7=function(a){var Jv=K6.isText(a)?a.dom().parentNode:a.dom();return Jv!==undefined&&Jv!==null&&Jv.ownerDocument.body.contains(Jv);};var f7=j5.cached(function(){return g7(A6.fromDom(document));});var g7=function(F4){var f7=F4.dom().body;if(f7===null||f7===undefined)throw'Body is not available yet';return A6.fromDom(f7);};var h7={body:f7,getBody:g7,inBody:e7};var i7=function(Jv){return Jv.style!==undefined;};var j7={isSupported:i7};var k7=function(Jv,p,E6){if(!V.isString(E6)){console.error('Invalid call to CSS.set. Property ',p,':: Value ',E6,':: Element ',Jv);throw new Error('CSS value must be a string: '+E6);}if(j7.isSupported(Jv))Jv.style.setProperty(p,E6);};var l7=function(Jv,p){if(j7.isSupported(Jv))Jv.style.removeProperty(p);};var m7=function(a,p,E6){var Jv=a.dom();k7(Jv,p,E6);};var n7=function(a,c){var Jv=a.dom();U6.each(c,function(v,k){k7(Jv,k,v);});};var o7=function(a,c){var Jv=a.dom();U6.each(c,function(v,k){v.fold(function(){l7(Jv,k);},function(E6){k7(Jv,k,E6);});});};var p7=function(a,p){var Jv=a.dom();var s=window.getComputedStyle(Jv);var r=s.getPropertyValue(p);var v=r===''&&!h7.inBody(a)?q7(Jv,p):r;return v===null?undefined:v;};var q7=function(Jv,p){return j7.isSupported(Jv)?Jv.style.getPropertyValue(p):'';};var r7=function(a,p){var Jv=a.dom();var b=q7(Jv,p);return S.from(b).filter(function(r){return r.length>0;});};var s7=function(a){var c={};var Jv=a.dom();if(j7.isSupported(Jv)){for(var i=0;i<Jv.style.length;i++){var r=Jv.style.item(i);c[r]=Jv.style[r];}}return c;};var t7=function(t,p,E6){var a=A6.fromTag(t);m7(a,p,E6);var s=r7(a,p);return s.isSome();};var u7=function(a,p){var Jv=a.dom();l7(Jv,p);if(d7.has(a,'style')&&l6.trim(d7.get(a,'style'))===''){d7.remove(a,'style');}};var v7=function(a,f){var o=d7.get(a,'style');var r=f(a);var no=o===undefined?d7.remove:d7.set;no(a,'style',o);return r;};var w7=function(s,t){var a=s.dom();var b=t.dom();if(j7.isSupported(a)&&j7.isSupported(b)){b.style.cssText=a.style.cssText;}};var x7=function(e){return e.dom().offsetWidth;};var y7=function(s,d,a){r7(s,a).each(function(E6){if(r7(d,a).isNone())m7(d,a,E6);});};var z7=function(s,d,a){if(!K6.isElement(s)||!K6.isElement(d))return;H1.each(a,function(b){y7(s,d,b);});};var A7={copy:w7,set:m7,preserve:v7,setAll:n7,setOptions:o7,remove:u7,get:p7,getRaw:r7,getAllRaw:s7,isValidValue:t7,reflow:x7,transfer:z7};function B7(){var f=[];for(var _=0;_<arguments.length;_++){f[_]=arguments[_];}return function(){var S6=[];for(var _=0;_<arguments.length;_++){S6[_]=arguments[_];}if(f.length!==S6.length){throw new Error('Wrong number of arguments to struct. Expected "['+f.length+']", got '+S6.length+' arguments');}var s={};H1.each(f,function(n,i){s[n]=L.constant(S6[i]);});return s;};}var C7=function(r3){return r3.slice(0).sort();};var D7=function(r,L6){throw new Error('All required keys ('+C7(r).join(', ')+') were not specified. Specified keys were: '+C7(L6).join(', ')+'.');};var E7=function(u){throw new Error('Unsupported keys for object: '+C7(u).join(', '));};var F7=function(l,b){if(!V.isArray(b))throw new Error('The '+l+' fields must be an array. Was: '+b+'.');H1.each(b,function(a){if(!V.isString(a))throw new Error('The value '+a+' in the '+l+' fields was not a string.');});};var G7=function(a,D6){throw new Error('All values need to be of type: '+D6+'. Keys ('+C7(a).join(', ')+') were not.');};var H7=function(a){var b=C7(a);var c=H1.find(b,function(s,i){return i<b.length-1&&s===b[i+1];});c.each(function(d){throw new Error('The field: '+d+' occurs more than once in the combined fields: ['+b.join(', ')+'].');});};var I7={sort:C7,reqMessage:D7,unsuppMessage:E7,validateStrArr:F7,invalidTypeMessage:G7,checkDupes:H7};function J7(a,o){var b=a.concat(o);if(b.length===0)throw new Error('You must specify at least one required or optional field.');I7.validateStrArr('required',a);I7.validateStrArr('optional',o);I7.checkDupes(b);return function(c){var L6=U6.keys(c);var d=H1.forall(a,function(f){return H1.contains(L6,f);});if(!d)I7.reqMessage(a,L6);var u=H1.filter(L6,function(k){return!H1.contains(b,k);});if(u.length>0)I7.unsuppMessage(u);var r={};H1.each(a,function(f){r[f]=L.constant(c[f]);});H1.each(o,function(f){r[f]=L.constant(Object.prototype.hasOwnProperty.call(c,f)?S.some(c[f]):S.none());});return r;};}var K7={immutable:B7,immutableBag:J7};var L7=function(t,f){var r=[];var a=function(e){r.push(e);return f(e);};var c=f(t);do{c=c.bind(a);}while(c.isSome());return r;};var M7={toArray:L7};var N7=function(){var f=R1.getOrDie('Node');return f;};var O7=function(a,b,fu){return(a.compareDocumentPosition(b)&fu)!==0;};var P7=function(a,b){return O7(a,b,N7().DOCUMENT_POSITION_PRECEDING);};var Q7=function(a,b){return O7(a,b,N7().DOCUMENT_POSITION_CONTAINED_BY);};var R7={documentPositionPreceding:P7,documentPositionContainedBy:Q7};var S7=B6.ELEMENT;var T7=B6.DOCUMENT;var U7=function(a,s){var b=a.dom();if(b.nodeType!==S7)return false;else if(b.matches!==undefined)return b.matches(s);else if(b.msMatchesSelector!==undefined)return b.msMatchesSelector(s);else if(b.webkitMatchesSelector!==undefined)return b.webkitMatchesSelector(s);else if(b.mozMatchesSelector!==undefined)return b.mozMatchesSelector(s);else throw new Error('Browser lacks native selectors');};var V7=function(Jv){return Jv.nodeType!==S7&&Jv.nodeType!==T7||Jv.childElementCount===0;};var W7=function(s,a){var b=a===undefined?document:a.dom();return V7(b)?[]:H1.map(b.querySelectorAll(s),A6.fromDom);};var X7=function(s,a){var b=a===undefined?document:a.dom();return V7(b)?S.none():S.from(b.querySelector(s)).map(A6.fromDom);};var Y7={all:W7,is:U7,one:X7};var eq=function(a,b){return a.dom()===b.dom();};var $7=function(a,b){return a.dom().isEqualNode(b.dom());};var _7=function(a,b){return H1.exists(b,L.curry(eq,a));};var a8=function(a,b){var d=a.dom(),c=b.dom();return d===c?false:d.contains(c);};var b8=function(a,b){return R7.documentPositionContainedBy(a.dom(),b.dom());};var c8=u6.detect().browser;var d8=c8.isIE()?b8:a8;var e8={eq:eq,isEqualNode:$7,member:_7,contains:d8,is:Y7.is};var f8=function(a){return A6.fromDom(a.dom().ownerDocument);};var g8=function(a){var F4=f8(a);return A6.fromDom(F4.dom().documentElement);};var h8=function(a){var b=a.dom();var h8=b.ownerDocument.defaultView;return A6.fromDom(h8);};var i8=function(a){var Jv=a.dom();return S.from(Jv.parentNode).map(A6.fromDom);};var j8=function(a){return i8(a).bind(function(p){var k=r8(p);return H1.findIndex(k,function(b){return e8.eq(a,b);});});};var k8=function(a,b){var Lr=V.isFunction(b)?b:L.constant(false);var Jv=a.dom();var r=[];while(Jv.parentNode!==null&&Jv.parentNode!==undefined){var c=Jv.parentNode;var i8=A6.fromDom(c);r.push(i8);if(Lr(i8)===true)break;else Jv=c;}return r;};var l8=function(a){var f=function(b){return H1.filter(b,function(x){return!e8.eq(a,x);});};return i8(a).map(r8).map(f).getOr([]);};var m8=function(a){var Jv=a.dom();return S.from(Jv.offsetParent).map(A6.fromDom);};var n8=function(a){var Jv=a.dom();return S.from(Jv.previousSibling).map(A6.fromDom);};var o8=function(a){var Jv=a.dom();return S.from(Jv.nextSibling).map(A6.fromDom);};var p8=function(a){return H1.reverse(M7.toArray(a,n8));};var q8=function(a){return M7.toArray(a,o8);};var r8=function(a){var Jv=a.dom();return H1.map(Jv.childNodes,A6.fromDom);};var s8=function(a,b){var r8=a.dom().childNodes;return S.from(r8[b]).map(A6.fromDom);};var t8=function(a){return s8(a,0);};var u8=function(a){return s8(a,a.dom().childNodes.length-1);};var v8=function(a){return a.dom().childNodes.length;};var w8=function(a){return a.dom().hasChildNodes();};var x8=K7.immutable('element','offset');var y8=function(a,o){var c=r8(a);return c.length>0&&o<c.length?x8(c[o],0):x8(a,o);};var z8={owner:f8,defaultView:h8,documentElement:g8,parent:i8,findIndex:j8,parents:k8,siblings:l8,prevSibling:n8,offsetParent:m8,prevSiblings:p8,nextSibling:o8,nextSiblings:q8,children:r8,child:s8,firstChild:t8,lastChild:u8,childNodesCount:v8,hasChildNodes:w8,leaf:y8};var A8=u6.detect().browser;var B8=function(n){return H1.find(n,K6.isElement);};var C8=function(a){if(A8.isFirefox()&&K6.name(a)==='table'){return B8(z8.children(a)).filter(function(a){return K6.name(a)==='caption';}).bind(function(c){return B8(z8.nextSiblings(c)).map(function(f7){var b=f7.dom().offsetTop;var d=c.dom().offsetTop;var f=c.dom().offsetHeight;return b<=d?-f:0;});}).getOr(0);}else{return 0;}};var D8=function(f7,a,r){var x=0,y=0,m8;var F4=f7.ownerDocument;var p;r=r?r:f7;if(a){if(r===f7&&a.getBoundingClientRect&&A7.get(A6.fromDom(f7),'position')==='static'){p=a.getBoundingClientRect();x=p.left+(F4.documentElement.scrollLeft||f7.scrollLeft)-F4.documentElement.clientLeft;y=p.top+(F4.documentElement.scrollTop||f7.scrollTop)-F4.documentElement.clientTop;return{x:x,y:y};}m8=a;while(m8&&m8!==r&&m8.nodeType){x+=m8.offsetLeft||0;y+=m8.offsetTop||0;m8=m8.offsetParent;}m8=a.parentNode;while(m8&&m8!==r&&m8.nodeType){x-=m8.scrollLeft||0;y-=m8.scrollTop||0;m8=m8.parentNode;}y+=C8(A6.fromDom(a));}return{x:x,y:y};};var E8={getPos:D8};var F8=function(b){var RB=S.none();var c=[];var f1=function(f){return F8(function(n){Y6(function(RB){n(f(RB));});});};var Y6=function(n){if(a())I(n);else c.push(n);};var W6=function(x){RB=S.some(x);r(c);c=[];};var a=function(){return RB.isSome();};var r=function(d){H1.each(d,I);};var I=function(d){RB.each(function(x){setTimeout(function(){d(x);},0);});};b(W6);return{get:Y6,map:f1,isReady:a};};var G8=function(a){return F8(function(c){c(a);});};var H8={nu:F8,pure:G8};var I8=function(f){return function(){var a=Array.prototype.slice.call(arguments);var m=this;setTimeout(function(){f.apply(m,a);},0);};};var J8={bounce:I8};var K8=function(b){var Y6=function(a){b(J8.bounce(a));};var f1=function(f){return K8(function(d){Y6(function(a){var E6=f(a);d(E6);});});};var t1=function(f){return K8(function(d){Y6(function(a){f(a).get(d);});});};var c=function(f){return K8(function(d){Y6(function(a){f.get(d);});});};var t=function(){return H8.nu(Y6);};return{map:f1,bind:t1,anonBind:c,toLazy:t,get:Y6};};var L8=function(a){return K8(function(c){c(a);});};var M8={nu:K8,pure:L8};var N8=function(a,n){return n(function(c){var r=[];var Lq=0;var b=function(i){return function(E6){r[i]=E6;Lq++;if(Lq>=a.length){c(r);}};};if(a.length===0){c([]);}else{H1.each(a,function(d,i){d.get(b(i));});}});};var O8={par:N8};var P8=function(f){return O8.par(f,M8.nu);};var Q8=function(a,f){var b=H1.map(a,f);return P8(b);};var R8=function(f,g){return function(a){return g(a).bind(f);};};var S8={par:P8,mapM:Q8,compose:R8};var T8=function(o){var a=function(v){return o===v;};var b=function(f){return T8(o);};var c=function(f){return T8(o);};var f1=function(f){return T8(f(o));};var g1=function(f){f(o);};var t1=function(f){return f(o);};var d=function(_,f){return f(o);};var Z=function(f){return f(o);};var u1=function(f){return f(o);};var t=function(){return S.some(o);};return{is:a,isValue:L.always,isError:L.never,getOr:L.constant(o),getOrThunk:L.constant(o),getOrDie:L.constant(o),or:b,orThunk:c,fold:d,map:f1,each:g1,bind:t1,exists:Z,forall:u1,toOption:t};};var U8=function(m){var g=function(f){return f();};var Q1=function(){return L.die(String(m))();};var o=function(c){return c;};var a=function(f){return f();};var f1=function(f){return U8(m);};var t1=function(f){return U8(m);};var b=function(c,_){return c(m);};return{is:L.never,isValue:L.never,isError:L.always,getOr:L.identity,getOrThunk:g,getOrDie:Q1,or:o,orThunk:a,fold:b,map:f1,each:L.noop,bind:t1,exists:L.never,forall:L.always,toOption:S.none};};var V8={value:T8,error:U8};function W8(d,s){var a=0;var l={};var m;s=s||{};m=s.maxLoadTime||5000;var b=function(N7){d.getElementsByTagName('head')[0].appendChild(N7);};var c=function(S1,h,j){var k,n,o,p;var r=function(){var $=p.passed;var i=$.length;while(i--){$[i]();}p.status=2;p.passed=[];p.failed=[];};var t=function(){var $=p.failed;var i=$.length;while(i--){$[i]();}p.status=3;p.passed=[];p.failed=[];};var v=function(){var $=navigator.userAgent.match(/WebKit\/(\d*)/);return!!($&&parseInt($[1],10)<536);};var w=function($,_){if(!$()){if(new Date().getTime()-o<m){C2.setTimeout(_);}else{t();}}};var x=function(){w(function(){var $=d.styleSheets;var _,i=$.length,f8;while(i--){_=$[i];f8=_.ownerNode?_.ownerNode:_.owningElement;if(f8&&f8.id===k.id){r();return true;}}},x);};var y=function(){w(function(){try{var $=n.sheet.cssRules;r();return!!$;}catch(_){}},y);};S1=E4._addCacheSuffix(S1);if(!l[S1]){p={passed:[],failed:[]};l[S1]=p;}else{p=l[S1];}if(h){p.passed.push(h);}if(j){p.failed.push(j);}if(p.status===1){return;}if(p.status===2){r();return;}if(p.status===3){t();return;}p.status=1;k=d.createElement('link');k.rel='stylesheet';k.type='text/css';k.id='u'+a++;k.async=false;k.defer=false;o=new Date().getTime();if('onload'in k&&!v()){k.onload=x;k.onerror=t;}else{if(navigator.userAgent.indexOf('Firefox')>0){n=d.createElement('style');n.textContent='@import "'+S1+'"';y();b(n);return;}x();}b(k);k.href=S1;};var f=function(S1){return M8.nu(function(K1){c(S1,L.compose(K1,L.constant(V8.value(S1))),L.compose(K1,L.constant(V8.error(S1))));});};var u=function(r){return r.fold(L.identity,L.identity);};var g=function(h,j,k){S8.par(H1.map(h,f)).get(function(n){var p=H1.partition(n,function(r){return r.isValue();});if(p.fail.length>0){k(p.fail.map(u));}else{j(p.pass.map(u));}});};return{load:c,loadAll:g};}function X8(s,r){var N7=s;var ug=function(N7,a,b,Vv){var f5,i8;if(N7){if(!Vv&&N7[a]){return N7[a];}if(N7!==r){f5=N7[b];if(f5){return f5;}for(i8=N7.parentNode;i8&&i8!==r;i8=i8.parentNode){f5=i8[b];if(f5){return f5;}}}}};var f=function(N7,a,b,Vv){var f5,i8,s8;if(N7){f5=N7[b];if(r&&f5===r){return;}if(f5){if(!Vv){for(s8=f5[a];s8;s8=s8[a]){if(!s8[a]){return s8;}}}return f5;}i8=N7.parentNode;if(i8&&i8!==r){return i8;}}};this.current=function(){return N7;};this.next=function(Vv){N7=ug(N7,'firstChild','nextSibling',Vv);return N7;};this.prev=function(Vv){N7=ug(N7,'lastChild','previousSibling',Vv);return N7;};this.prev2=function(Vv){N7=f(N7,'lastChild','previousSibling',Vv);return N7;};}var Y8=['article','aside','details','div','dt','figcaption','footer','form','fieldset','header','hgroup','html','main','nav','section','summary','body','p','dl','multicol','dd','figure','address','center','blockquote','h1','h2','h3','h4','h5','h6','listing','xmp','pre','plaintext','menu','dir','ul','ol','li','hr','table','tbody','thead','tfoot','th','tr','td','caption'];var Z8=['area','base','basefont','br','col','frame','hr','img','input','isindex','link','meta','param','embed','source','wbr','track'];var $8=['td','th'];var _8=['thead','tbody','tfoot'];var a9=['h1','h2','h3','h4','h5','h6','p','div','address','pre','form','blockquote','center','dir','fieldset','header','footer','article','section','hgroup','aside','nav','figure'];var b9=['h1','h2','h3','h4','h5','h6'];var c9=['li','dd','dt'];var d9=['ul','ol','dl'];var e9=['pre','script','textarea','style'];var f9=function(a){var l;return function(N7){l=l?l:H1.mapToObject(a,L.constant(true));return l.hasOwnProperty(K6.name(N7));};};var g9=f9(b9);var h9=f9(Y8);var i9=function(N7){return K6.isElement(N7)&&!h9(N7);};var j9=function(N7){return K6.isElement(N7)&&K6.name(N7)==='br';};var k9=f9(a9);var l9=f9(d9);var m9=f9(c9);var n9=f9(Z8);var o9=f9(_8);var p9=f9($8);var q9=f9(e9);var r9=function(D6){return function(N7){return!!N7&&N7.nodeType===D6;};};var s9=r9(1);var t9=function(n){var a=n.toLowerCase().split(' ');return function(N7){var i,b;if(N7&&N7.nodeType){b=N7.nodeName.toLowerCase();for(i=0;i<a.length;i++){if(b===a[i]){return true;}}}return false;};};var u9=function(n,S6){var a=S6.toLowerCase().split(' ');return function(N7){var i,c;if(s9(N7)){for(i=0;i<a.length;i++){var b=N7.ownerDocument.defaultView.getComputedStyle(N7,null);c=b?b.getPropertyValue(n):null;if(c===a[i]){return true;}}}return false;};};var v9=function(p,a){return function(N7){return s9(N7)&&N7[p]===a;};};var w9=function(a,b){return function(N7){return s9(N7)&&N7.hasAttribute(a);};};var x9=function(a,b){return function(N7){return s9(N7)&&N7.getAttribute(a)===b;};};var y9=function(N7){return s9(N7)&&N7.hasAttribute('data-mce-bogus');};var z9=function(N7){return s9(N7)&&N7.getAttribute('data-mce-bogus')==='all';};var A9=function(N7){return s9(N7)&&N7.tagName==='TABLE';};var B9=function(E6){return function(N7){if(s9(N7)){if(N7.contentEditable===E6){return true;}if(N7.getAttribute('data-mce-contenteditable')===E6){return true;}}return false;};};var C9=r9(3);var D9=r9(8);var E9=r9(9);var F9=t9('br');var G9=B9('true');var H9=B9('false');var I9={isText:C9,isElement:s9,isComment:D9,isDocument:E9,isBr:F9,isContentEditableTrue:G9,isContentEditableFalse:H9,matchNodeNames:t9,hasPropValue:v9,hasAttribute:w9,hasAttributeValue:x9,matchStyleValues:u9,isBogus:y9,isBogusAll:z9,isTable:A9};var J9=function(N7){var p=N7.previousSibling&&N7.previousSibling.nodeName==='SPAN';var n=N7.nextSibling&&N7.nextSibling.nodeName==='SPAN';return p&&n;};var K9=function(N7){return N7&&N7.tagName==='SPAN'&&N7.getAttribute('data-mce-type')==='bookmark';};var L9=function(Jv,N7){var i,r8=N7.childNodes;if(I9.isElement(N7)&&K9(N7)){return;}for(i=r8.length-1;i>=0;i--){L9(Jv,r8[i]);}if(I9.isDocument(N7)===false){if(I9.isText(N7)&&N7.nodeValue.length>0){var t=E4.trim(N7.nodeValue).length;if(Jv.isBlock(N7.parentNode)||t>0){return;}if(t===0&&J9(N7)){return;}}else if(I9.isElement(N7)){r8=N7.childNodes;if(r8.length===1&&K9(r8[0])){N7.parentNode.insertBefore(r8[0],N7);}if(r8.length||n9(A6.fromDom(N7))){return;}}Jv.remove(N7);}return N7;};var M9={trimNode:L9};var N9=E4.makeMap;var O9;var P9;var Q9;var R9=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var S9=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var T9=/[<>&\"\']/g;var U9=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;var V9={128:'\u20AC',130:'\u201A',131:'\u0192',132:'\u201E',133:'\u2026',134:'\u2020',135:'\u2021',136:'\u02c6',137:'\u2030',138:'\u0160',139:'\u2039',140:'\u0152',142:'\u017d',145:'\u2018',146:'\u2019',147:'\u201C',148:'\u201D',149:'\u2022',150:'\u2013',151:'\u2014',152:'\u02DC',153:'\u2122',154:'\u0161',155:'\u203A',156:'\u0153',158:'\u017e',159:'\u0178'};P9={'"':'&quot;','\'':'&#39;','<':'&lt;','>':'&gt;','&':'&amp;','`':'&#96;'};Q9={'&lt;':'<','&gt;':'>','&amp;':'&','&quot;':'"','&apos;':'\''};var W9=function(t){var a;a=A6.fromTag('div').dom();a.innerHTML=t;return a.textContent||a.innerText||t;};var X9=function(a,r){var i,c,b;var l={};if(a){a=a.split(',');r=r||10;for(i=0;i<a.length;i+=2){c=String.fromCharCode(parseInt(a[i],r));if(!P9[c]){b='&'+a[i+1]+';';l[c]=b;l[b]=c;}}return l;}};O9=X9('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,'+'5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,'+'5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,'+'5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,'+'68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,'+'6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,'+'6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,'+'75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,'+'7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,'+'7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,'+'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,'+'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,'+'t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,'+'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,'+'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,'+'81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,'+'8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,'+'8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,'+'8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,'+'8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,'+'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,'+'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,'+'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,'+'80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,'+'811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro',32);var Y9=function(t,a){return t.replace(a?R9:S9,function(c){return P9[c]||c;});};var Z9=function(t){return(''+t).replace(T9,function(c){return P9[c]||c;});};var $9=function(t,a){return t.replace(a?R9:S9,function(c){if(c.length>1){return'&#'+((c.charCodeAt(0)-55296)*1024+(c.charCodeAt(1)-56320)+65536)+';';}return P9[c]||'&#'+c.charCodeAt(0)+';';});};var _9=function(t,a,b){b=b||O9;return t.replace(a?R9:S9,function(c){return P9[c]||b[c]||c;});};var aa=function(n,a){var b=X9(a)||O9;var c=function(t,g){return t.replace(g?R9:S9,function(h){if(P9[h]!==undefined){return P9[h];}if(b[h]!==undefined){return b[h];}if(h.length>1){return'&#'+((h.charCodeAt(0)-55296)*1024+(h.charCodeAt(1)-56320)+65536)+';';}return'&#'+h.charCodeAt(0)+';';});};var d=function(t,g){return _9(t,g,b);};var f=N9(n.replace(/\+/g,','));if(f.named&&f.numeric){return c;}if(f.named){if(a){return d;}return _9;}if(f.numeric){return $9;}return Y9;};var ba=function(t){return t.replace(U9,function(W7,n){if(n){if(n.charAt(0).toLowerCase()==='x'){n=parseInt(n.substr(1),16);}else{n=parseInt(n,10);}if(n>65535){n-=65536;return String.fromCharCode(55296+(n>>10),56320+(n&1023));}return V9[n]||String.fromCharCode(n);}return Q9[W7]||O9[W7]||W9(W7);});};var ca={encodeRaw:Y9,encodeAllRaw:Z9,encodeNumeric:$9,encodeNamed:_9,getEncodeFunc:aa,decode:ba};var da={};var ea={};var ga=E4.makeMap;var ha=E4.each;var ia=E4.extend;var ja=E4.explode;var ka=E4.inArray;var la=function(a,d){a=E4.trim(a);return a?a.split(d||' '):[];};var ma=function(D6){var s={};var g,b;var p,f,h,a;var Eo=function(n,A3,r8){var d,j,k;var m=function(o,r){var f1={};var i,l;for(i=0,l=o.length;i<l;i++){f1[o[i]]=r||{};}return f1;};r8=r8||[];A3=A3||'';if(typeof r8==='string'){r8=la(r8);}n=la(n);d=n.length;while(d--){j=la([g,A3].join(' '));k={attributes:m(j),attributesOrder:j,children:m(r8,ea)};s[n[d]]=k;}};var c=function(n,A3){var d,j,i,l;n=la(n);d=n.length;A3=la(A3);while(d--){j=s[n[d]];for(i=0,l=A3.length;i<l;i++){j.attributes[A3[i]]={};j.attributesOrder.push(A3[i]);}}};if(da[D6]){return da[D6];}g='id accesskey class dir lang style tabindex title role';b='address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';p='a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd '+'label map noscript object q s samp script select small span strong sub sup '+'textarea u var #text #comment';if(D6!=='html4'){g+=' contenteditable contextmenu draggable dropzone '+'hidden spellcheck translate';b+=' article aside details dialog figure header footer hgroup section nav';p+=' audio canvas command datalist mark meter output picture '+'progress time wbr video ruby bdi keygen';}if(D6!=='html5-strict'){g+=' xml:lang';a='acronym applet basefont big font strike tt';p=[p,a].join(' ');ha(la(a),function(n){Eo(n,'',p);});h='center dir isindex noframes';b=[b,h].join(' ');f=[b,p].join(' ');ha(la(h),function(n){Eo(n,'',f);});}f=f||[b,p].join(' ');Eo('html','manifest','head body');Eo('head','','base command link meta noscript script style title');Eo('title hr noscript br');Eo('base','href target');Eo('link','href rel media hreflang type sizes hreflang');Eo('meta','name http-equiv content charset');Eo('style','media type scoped');Eo('script','src async defer type charset');Eo('body','onafterprint onbeforeprint onbeforeunload onblur onerror onfocus '+'onhashchange onload onmessage onoffline ononline onpagehide onpageshow '+'onpopstate onresize onscroll onstorage onunload',f);Eo('address dt dd div caption','',f);Eo('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn','',p);Eo('blockquote','cite',f);Eo('ol','reversed start type','li');Eo('ul','','li');Eo('li','value',f);Eo('dl','','dt dd');Eo('a','href target rel media hreflang type',p);Eo('q','cite',p);Eo('ins del','cite datetime',f);Eo('img','src sizes srcset alt usemap ismap width height');Eo('iframe','src name width height',f);Eo('embed','src type width height');Eo('object','data type typemustmatch name usemap form width height',[f,'param'].join(' '));Eo('param','name value');Eo('map','name',[f,'area'].join(' '));Eo('area','alt coords shape href target rel media hreflang type');Eo('table','border','caption colgroup thead tfoot tbody tr'+(D6==='html4'?' col':''));Eo('colgroup','span','col');Eo('col','span');Eo('tbody thead tfoot','','tr');Eo('tr','','td th');Eo('td','colspan rowspan headers',f);Eo('th','colspan rowspan headers scope abbr',f);Eo('form','accept-charset action autocomplete enctype method name novalidate target',f);Eo('fieldset','disabled form name',[f,'legend'].join(' '));Eo('label','form for',p);Eo('input','accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate '+'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');Eo('button','disabled form formaction formenctype formmethod formnovalidate formtarget name type value',D6==='html4'?f:p);Eo('select','disabled form multiple name required size','option optgroup');Eo('optgroup','disabled label','option');Eo('option','disabled label selected value');Eo('textarea','cols dirname disabled form maxlength name readonly required rows wrap');Eo('menu','type label',[f,'li'].join(' '));Eo('noscript','',f);if(D6!=='html4'){Eo('wbr');Eo('ruby','',[p,'rt rp'].join(' '));Eo('figcaption','',f);Eo('mark rt rp summary bdi','',p);Eo('canvas','width height',f);Eo('video','src crossorigin poster preload autoplay mediagroup loop '+'muted controls width height buffered',[f,'track source'].join(' '));Eo('audio','src crossorigin preload autoplay mediagroup loop muted controls '+'buffered volume',[f,'track source'].join(' '));Eo('picture','','img source');Eo('source','src srcset type media sizes');Eo('track','kind src srclang label default');Eo('datalist','',[p,'option'].join(' '));Eo('article section nav aside header footer','',f);Eo('hgroup','','h1 h2 h3 h4 h5 h6');Eo('figure','',[f,'figcaption'].join(' '));Eo('time','datetime',p);Eo('dialog','open',f);Eo('command','type label icon disabled checked radiogroup command');Eo('output','for form name',p);Eo('progress','value max',p);Eo('meter','value min max low high optimum',p);Eo('details','open',[f,'summary'].join(' '));Eo('keygen','autofocus challenge disabled form keytype name');}if(D6!=='html5-strict'){c('script','language xml:space');c('style','xml:space');c('object','declare classid code codebase codetype archive standby align border hspace vspace');c('embed','align name hspace vspace');c('param','valuetype type');c('a','charset name rev shape coords');c('br','clear');c('applet','codebase archive code object alt name width height align hspace vspace');c('img','name longdesc align border hspace vspace');c('iframe','longdesc frameborder marginwidth marginheight scrolling align');c('font basefont','size color face');c('input','usemap align');c('select','onchange');c('textarea');c('h1 h2 h3 h4 h5 h6 div p legend caption','align');c('ul','type compact');c('li','type');c('ol dl menu dir','compact');c('pre','width xml:space');c('hr','align noshade size width');c('isindex','prompt');c('table','summary width frame rules cellspacing cellpadding align bgcolor');c('col','width align char charoff valign');c('colgroup','width align char charoff valign');c('thead','align char charoff valign');c('tr','align char charoff valign bgcolor');c('th','axis align char charoff valign nowrap bgcolor width height');c('form','accept');c('td','abbr axis scope align char charoff valign nowrap bgcolor width height');c('tfoot','align char charoff valign');c('tbody','align char charoff valign');c('area','nohref');c('body','background bgcolor text link vlink alink');}if(D6!=='html4'){c('input button select textarea','autofocus');c('input textarea','placeholder');c('a','download');c('link script img','crossorigin');c('iframe','sandbox seamless allowfullscreen');}ha(la('a form meter progress dfn'),function(n){if(s[n]){delete s[n].children[n];}});delete s.caption.children.table;delete s.script;da[D6]=s;return s;};var na=function(E6,m){var s;if(E6){s={};if(typeof E6==='string'){E6={'*':E6};}ha(E6,function(E6,k){s[k]=s[k.toUpperCase()]=m==='map'?ga(E6,/[, ]/):ja(E6,/[, ]/);});}return s;};function oa(s){var a={};var r8={};var p=[];var v;var b;var c;var w,d,f,g,h;var j,n,m,t,k;var l={},o={};var r=function(u4,$4,o5){var E6=s[u4];if(!E6){E6=da[u4];if(!E6){E6=ga($4,' ',ga($4.toUpperCase(),' '));E6=ia(E6,o5);da[u4]=E6;}}else{E6=ga(E6,/[, ]/,ga(E6.toUpperCase(),/[, ]/));}return E6;};s=s||{};c=ma(s.schema);if(s.verify_html===false){s.valid_elements='*[*]';}v=na(s.valid_styles);b=na(s.invalid_styles,'map');h=na(s.valid_classes,'map');w=r('whitespace_elements','pre script noscript style textarea video audio iframe object code');d=r('self_closing_elements','colgroup dd dt li option p td tfoot th thead tr');f=r('short_ended_elements','area base basefont br col frame hr img input isindex link '+'meta param embed source wbr track');g=r('boolean_attributes','checked compact declare defer disabled ismap multiple nohref noresize '+'noshade nowrap readonly selected autoplay loop controls');n=r('non_empty_elements','td th iframe video audio object '+'script pre code',f);m=r('move_caret_before_on_enter_elements','table',n);t=r('text_block_elements','h1 h2 h3 h4 h5 h6 p div address pre form '+'blockquote center dir fieldset header footer article section hgroup aside nav figure');j=r('block_elements','hr table tbody thead tfoot '+'th tr td li ol ul caption dl dt dd noscript menu isindex option '+'datalist select optgroup figcaption details summary',t);k=r('text_inline_elements','span strong b em i font strike u var cite '+'dfn code mark q sup sub samp');ha((s.special||'script noscript noframes noembed title style textarea xmp').split(' '),function(u4){o[u4]=new RegExp('</'+u4+'[^>]*>','gi');});var u=function(u4){return new RegExp('^'+u4.replace(/([?+*])/g,'.$1')+'$');};var x=function(u4){var ei,el,ai,al,e3,$4,o5,Z7,fa,pa,cb,A3,fb,nb,Mb,ec,sc,ed,E6;var id=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,td=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,de=/[*?+]/;if(u4){u4=la(u4,',');if(a['@']){ec=a['@'].attributes;sc=a['@'].attributesOrder;}for(ei=0,el=u4.length;ei<el;ei++){e3=id.exec(u4[ei]);if(e3){nb=e3[1];fa=e3[2];Mb=e3[3];Z7=e3[5];A3={};fb=[];$4={attributes:A3,attributesOrder:fb};if(nb==='#'){$4.paddEmpty=true;}if(nb==='-'){$4.removeEmpty=true;}if(e3[4]==='!'){$4.removeEmptyAttrs=true;}if(ec){for(ed in ec){A3[ed]=ec[ed];}fb.push.apply(fb,sc);}if(Z7){Z7=la(Z7,'|');for(ai=0,al=Z7.length;ai<al;ai++){e3=td.exec(Z7[ai]);if(e3){o5={};cb=e3[1];pa=e3[2].replace(/[\\:]:/g,':');nb=e3[3];E6=e3[4];if(cb==='!'){$4.attributesRequired=$4.attributesRequired||[];$4.attributesRequired.push(pa);o5.required=true;}if(cb==='-'){delete A3[pa];fb.splice(ka(fb,pa),1);continue;}if(nb){if(nb==='='){$4.attributesDefault=$4.attributesDefault||[];$4.attributesDefault.push({name:pa,value:E6});o5.defaultValue=E6;}if(nb===':'){$4.attributesForced=$4.attributesForced||[];$4.attributesForced.push({name:pa,value:E6});o5.forcedValue=E6;}if(nb==='<'){o5.validValues=ga(E6,'?');}}if(de.test(pa)){$4.attributePatterns=$4.attributePatterns||[];o5.pattern=u(pa);$4.attributePatterns.push(o5);}else{if(!A3[pa]){fb.push(pa);}A3[pa]=o5;}}}}if(!ec&&fa==='@'){ec=A3;sc=fb;}if(Mb){$4.outputName=fa;a[Mb]=$4;}if(de.test(fa)){$4.pattern=u(fa);p.push($4);}else{a[fa]=$4;}}}}};var y=function(u4){a={};p=[];x(u4);ha(c,function($4,o5){r8[o5]=$4.children;});};var $=function(u4){var $4=/^(~)?(.+)$/;if(u4){da.text_block_elements=da.block_elements=null;ha(la(u4,','),function(o5){var e3=$4.exec(o5),Z7=e3[1]==='~',fa=Z7?'span':'div',pa=e3[2];r8[pa]=r8[fa];l[pa]=fa;if(!Z7){j[pa.toUpperCase()]={};j[pa]={};}if(!a[pa]){var cb=a[fa];cb=ia({},cb);delete cb.removeEmptyAttrs;delete cb.removeEmpty;a[pa]=cb;}ha(r8,function(fb,nb){if(fb[fa]){r8[nb]=fb=ia({},r8[nb]);fb[pa]=fb[fa];}});});}};var _=function(u4){var $4=/^([+\-]?)(\w+)\[([^\]]+)\]$/;da[s.schema]=null;if(u4){ha(la(u4,','),function(o5){var e3=$4.exec(o5);var i8,Z7;if(e3){Z7=e3[1];if(Z7){i8=r8[e3[2]];}else{i8=r8[e3[2]]={'#comment':{}};}i8=r8[e3[2]];ha(la(e3[3],'|'),function(s8){if(Z7==='-'){delete i8[s8];}else{i8[s8]={};}});}});}};var a1=function(u4){var $4=a[u4],i;if($4){return $4;}i=p.length;while(i--){$4=p[i];if($4.pattern.test(u4)){return $4;}}};if(!s.valid_elements){ha(c,function(u4,$4){a[$4]={attributes:u4.attributes,attributesOrder:u4.attributesOrder};r8[$4]=u4.children;});if(s.schema!=='html5'){ha(la('strong/b em/i'),function(u4){u4=la(u4,'/');a[u4[1]].outputName=u4[0];});}ha(la('ol ul sub sup blockquote span font a table tbody tr strong em b i'),function(u4){if(a[u4]){a[u4].removeEmpty=true;}});ha(la('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'),function(u4){a[u4].paddEmpty=true;});ha(la('span'),function(u4){a[u4].removeEmptyAttrs=true;});}else{y(s.valid_elements);}$(s.custom_elements);_(s.valid_children);x(s.extended_valid_elements);_('+ol[ul|ol],+ul[ul|ol]');ha({dd:'dl',dt:'dl',li:'ul ol',td:'tr',th:'tr',tr:'tbody thead tfoot',tbody:'table',thead:'table',tfoot:'table',legend:'fieldset',area:'map',param:'video audio object'},function(k8,u4){if(a[u4]){a[u4].parentsRequired=la(k8);}});if(s.invalid_elements){ha(ja(s.invalid_elements),function(u4){if(a[u4]){delete a[u4];}});}if(!a1('span')){x('span[!data-mce-type|*]');}var d1=function(){return v;};var e1=function(){return b;};var o1=function(){return h;};var x1=function(){return g;};var y1=function(){return j;};var $1=function(){return t;};var a2=function(){return k;};var d2=function(){return f;};var e2=function(){return d;};var i2=function(){return n;};var o2=function(){return m;};var x2=function(){return w;};var y2=function(){return o;};var $2=function(u4,s8){var i8=r8[u4.toLowerCase()];return!!(i8&&i8[s8.toLowerCase()]);};var Dt=function(u4,$4){var o5,i;var Z7=a1(u4);if(Z7){if($4){if(Z7.attributes[$4]){return true;}o5=Z7.attributePatterns;if(o5){i=o5.length;while(i--){if(o5[i].pattern.test(u4)){return true;}}}}else{return true;}}return false;};var $3=function(){return l;};return{children:r8,elements:a,getValidStyles:d1,getValidClasses:o1,getBlockElements:y1,getInvalidStyles:e1,getShortEndedElements:d2,getTextBlockElements:$1,getTextInlineElements:a2,getBoolAttrs:x1,getElementRule:a1,getSelfClosingElements:e2,getNonEmptyElements:i2,getMoveCaretBeforeOnEnterElements:o2,getWhiteSpaceElements:x2,getSpecialElements:y2,isValidChild:$2,isValid:Dt,getCustomElements:$3,addValidElements:x,setValidElements:y,addCustomElements:$,addValidChildren:_};}var qa=function(fu,r,g,b){var h=function(v){v=parseInt(v,10).toString(16);return v.length>1?v:'0'+v;};return'#'+h(r)+h(g)+h(b);};function ra(s,d){var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi;var u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi;var f=/\s*([^:]+):\s*([^;]+);?/g;var t=/\s+$/;var i;var g={};var h;var v;var j;var k='\uFEFF';s=s||{};if(d){v=d.getValidStyles();j=d.getInvalidStyles();}h=('\\" \\\' \\; \\: ; : '+k).split(' ');for(i=0;i<h.length;i++){g[h[i]]=k+i;g[k+i]=h[i];}return{toHex:function(c){return c.replace(r,qa);},parse:function(l){var m={};var e3,n,E6,o;var p=s.url_converter;var w=s.url_converter_scope||this;var x=function(a,b,c){var o1,x1,y1,$1;o1=m[a+'-top'+b];if(!o1){return;}x1=m[a+'-right'+b];if(!x1){return;}y1=m[a+'-bottom'+b];if(!y1){return;}$1=m[a+'-left'+b];if(!$1){return;}var a2=[o1,x1,y1,$1];i=a2.length-1;while(i--){if(a2[i]!==a2[i+1]){break;}}if(i>-1&&c){return;}m[a+b]=i===-1?a2[0]:a2.join(' ');delete m[a+'-top'+b];delete m[a+'-right'+b];delete m[a+'-bottom'+b];delete m[a+'-left'+b];};var y=function(a){var E6=m[a],i;if(!E6){return;}E6=E6.split(' ');i=E6.length;while(i--){if(E6[i]!==E6[0]){return false;}}m[a]=E6[0];return true;};var $=function(o1,a,b,c){if(!y(a)){return;}if(!y(b)){return;}if(!y(c)){return;}m[o1]=m[a]+' '+m[b]+' '+m[c];delete m[a];delete m[b];delete m[c];};var _=function(a){o=true;return g[a];};var ba=function(a,b){if(o){a=a.replace(/\uFEFF[0-9]/g,function(a){return g[a];});}if(!b){a=a.replace(/\\([\'\";:])/g,'$1');}return a;};var a1=function(a){return String.fromCharCode(parseInt(a.slice(1),16));};var d1=function(E6){return E6.replace(/\\[0-9a-f]+/gi,a1);};var e1=function(fu,S1,a,b,c,o1){c=c||o1;if(c){c=ba(c);return'\''+c.replace(/\'/g,'\\\'')+'\'';}S1=ba(S1||a||b);if(!s.allow_script_urls){var x1=S1.replace(/[\s\r\n]+/g,'');if(/(java|vb)script:/i.test(x1)){return'';}if(!s.allow_svg_data_urls&&/^data:image\/svg/i.test(x1)){return'';}}if(p){S1=p.call(w,S1,'style');}return'url(\''+S1.replace(/\'/g,'\\\'')+'\')';};if(l){l=l.replace(/[\u0000-\u001F]/g,'');l=l.replace(/\\[\"\';:\uFEFF]/g,_).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,_);});while(e3=f.exec(l)){f.lastIndex=e3.index+e3[0].length;n=e3[1].replace(t,'').toLowerCase();E6=e3[2].replace(t,'');if(n&&E6){n=d1(n);E6=d1(E6);if(n.indexOf(k)!==-1||n.indexOf('"')!==-1){continue;}if(!s.allow_script_urls&&(n==='behavior'||/expression\s*\(|\/\*|\*\//.test(E6))){continue;}if(n==='font-weight'&&E6==='700'){E6='bold';}else if(n==='color'||n==='background-color'){E6=E6.toLowerCase();}E6=E6.replace(r,qa);E6=E6.replace(u,e1);m[n]=o?ba(E6,true):E6;}}x('border','',true);x('border','-width');x('border','-color');x('border','-style');x('padding','');x('margin','');$('border','border-width','border-style','border-color');if(m.border==='medium none'){delete m.border;}if(m['border-image']==='none'){delete m['border-image'];}}return m;},serialize:function(a,b){var c='',n,E6;var m=function(n){var o,i,l,E6;o=v[n];if(o){for(i=0,l=o.length;i<l;i++){n=o[i];E6=a[n];if(E6){c+=(c.length>0?' ':'')+n+': '+E6+';';}}}};var Dt=function(n,b){var l;l=j['*'];if(l&&l[n]){return false;}l=j[b];if(l&&l[n]){return false;}return true;};if(b&&v){m('*');m(b);}else{for(n in a){E6=a[n];if(E6&&(!j||Dt(n,b))){c+=(c.length>0?' ':'')+n+': '+E6+';';}}}return c;}};}var sa=E4.each;var ta=E4.grep;var ua=q2.ie;var va=/^([a-z0-9],?)+$/i;var wa=/^[ \t\r\n]*$/;var xa=function(s,a,g){var W4={};var k=a.keep_values;var b={set:function($,E6,n){if(a.url_converter){E6=a.url_converter.call(a.url_converter_scope||g(),E6,n,$[0]);}$.attr('data-mce-'+n,E6).attr(n,E6);},get:function($,n){return $.attr('data-mce-'+n)||$.attr(n);}};W4={style:{set:function($,E6){if(E6!==null&&typeof E6==='object'){$.css(E6);return;}if(k){$.attr('data-mce-style',E6);}$.attr('style',E6);},get:function($){var E6=$.attr('data-mce-style')||$.attr('style');E6=s.serialize(s.parse(E6),$[0].nodeName);return E6;}}};if(k){W4.href=W4.src=b;}return W4;};var ya=function(s,$){var r=$.attr('style');var E6=s.serialize(s.parse(r),$[0].nodeName);if(!E6){E6=null;}$.attr('data-mce-style',E6);};var za=function(N7,n){var a=0,l,b;if(N7){for(l=N7.nodeType,N7=N7.previousSibling;N7;N7=N7.previousSibling){b=N7.nodeType;if(n&&b===3){if(b===l||!N7.nodeValue.length){continue;}}a++;l=b;}}return a;};function Aa(F4,s){var _=this;if(s===void 0){s={};}var W4;var c={};var d=window;var f={};var g=0;var j=true;var k=true;var l=W8(F4);var m=[];var n=s.schema?s.schema:oa({});var o=ra({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema);var p=s.ownEvents?new O2(s.proxy):O2.Event;var t=n.getBlockElements();var $=Y4.overrideDefaults(function(){return{context:F4,element:fi.getRoot()};});var h9=function(N7){if(typeof N7==='string'){return!!t[N7];}else if(N7){var D6=N7.nodeType;if(D6){return!!(D6===1&&t[N7.nodeName]);}}return false;};var Y6=function(a){if(a&&F4&&typeof a==='string'){var N7=F4.getElementById(a);if(N7&&N7.id!==a){return F4.getElementsByName(a)[1];}else{return N7;}}return a;};var u=function(a){if(typeof a==='string'){a=Y6(a);}return $(a);};var v=function(a,b,h){var r,E6;var w=u(a);if(w.length){r=W4[b];if(r&&r.get){E6=r.get(w,b);}else{E6=w.attr(b);}}if(typeof E6==='undefined'){E6=h||'';}return E6;};var x=function(a){var N7=Y6(a);if(!N7){return[];}return N7.attributes;};var y=function(a,b,E6){var h,r;if(E6===''){E6=null;}var w=u(a);h=w.attr(b);if(!w.length){return;}r=W4[b];if(r&&r.set){r.set(w,E6,b);}else{w.attr(b,E6);}if(h!==E6&&s.onSetAttrib){s.onSetAttrib({attrElm:w,attrName:b,attrValue:E6});}};var a7=function(N7,Wv){if(!ua||N7.nodeType!==1||Wv){return N7.cloneNode(Wv);}if(!Wv){var a=F4.createElement(N7.nodeName);sa(x(N7),function(b){y(a,b.nodeName,v(N7,b.nodeName));});return a;}return null;};var a1=function(){return s.root_element||F4.body;};var d1=function(a){var b=!a?d:a;var F4=b.document;var r=k?F4.documentElement:F4.body;return{x:b.pageXOffset||r.scrollLeft,y:b.pageYOffset||r.scrollTop,w:b.innerWidth||r.clientWidth,h:b.innerHeight||r.clientHeight};};var D8=function(a,r){return E8.getPos(F4.body,Y6(a),r);};var e1=function(a,b,E6){var h=u(a).css(b,E6);if(s.update_styles){ya(o,h);}};var o1=function(a,b){var h=u(a).css(b);if(s.update_styles){ya(o,h);}};var It=function(h,r,w){var pa=u(h);if(w){return pa.css(r);}r=r.replace(/-(\D)/g,function(a,b){return b.toUpperCase();});if(r==='float'){r=q2.ie&&q2.ie<12?'styleFloat':'cssFloat';}return pa[0]&&pa[0].style?pa[0].style[r]:undefined;};var x1=function(a){var w,h;a=Y6(a);w=It(a,'width');h=It(a,'height');if(w.indexOf('px')===-1){w=0;}if(h.indexOf('px')===-1){h=0;}return{w:parseInt(w,10)||a.offsetWidth||a.clientWidth,h:parseInt(h,10)||a.offsetHeight||a.clientHeight};};var y1=function(a){var b,T6;a=Y6(a);b=D8(a);T6=x1(a);return{x:b.x,y:b.y,w:T6.w,h:T6.h};};var is=function(a,b){var i;if(!a){return false;}if(!Array.isArray(a)){if(b==='*'){return a.nodeType===1;}if(va.test(b)){var h=b.toLowerCase().split(/,/);var r=a.nodeName.toLowerCase();for(i=h.length-1;i>=0;i--){if(h[i]===r){return true;}}return false;}if(a.nodeType&&a.nodeType!==1){return false;}}var w=!Array.isArray(a)?[a]:a;return R3(b,w[0].ownerDocument||w[0],null,w).length>0;};var yf=function(a,b,r,h){var w=[];var pa;var N7=Y6(a);h=h===undefined;r=r||(a1().nodeName!=='BODY'?a1().parentNode:null);if(E4.is(b,'string')){pa=b;if(b==='*'){b=function(N7){return N7.nodeType===1;};}else{b=function(N7){return is(N7,pa);};}}while(N7){if(N7===r||!N7.nodeType||N7.nodeType===9){break;}if(!b||typeof b==='function'&&b(N7)){if(h){w.push(N7);}else{return[N7];}}N7=N7.parentNode;}return h?w:null;};var $1=function(N7,a,r){var k8=yf(N7,a,r,false);return k8&&k8.length>0?k8[0]:null;};var a2=function(N7,a,b){var h=a;if(N7){if(typeof a==='string'){h=function(N7){return is(N7,a);};}for(N7=N7[b];N7;N7=N7[b]){if(typeof h==='function'&&h(N7)){return N7;}}}return null;};var d2=function(N7,a){return a2(N7,a,'nextSibling');};var e2=function(N7,a){return a2(N7,a,'previousSibling');};var V2=function(a,b){return R3(a,Y6(b)||s.root_element||F4,[]);};var i2=function(a,b,h){var r;var N7=typeof a==='string'?Y6(a):a;if(!N7){return false;}if(E4.isArray(N7)&&(N7.length||N7.length===0)){r=[];sa(N7,function(a,i){if(a){if(typeof a==='string'){a=Y6(a);}r.push(b.call(h,a,i));}});return r;}var w=h?h:_;return b.call(w,N7);};var o2=function(a,b){u(a).each(function(i,N7){sa(b,function(E6,h){y(N7,h,E6);});});};var x2=function(a,h){var b=u(a);if(ua){b.each(function(i,r){if(r.canHaveHTML===false){return;}while(r.firstChild){r.removeChild(r.firstChild);}try{r.innerHTML='<br>'+h;r.removeChild(r.firstChild);}catch(w){Y4('<div></div>').html('<br>'+h).contents().slice(1).appendTo(r);}return h;});}else{b.html(h);}};var Eo=function(a,b,h,r,x4){return i2(a,function(a){var w=typeof b==='string'?F4.createElement(b):b;o2(w,h);if(r){if(typeof r!=='string'&&r.nodeType){w.appendChild(r);}else if(typeof r==='string'){x2(w,r);}}return!x4?a.appendChild(w):w;});};var x4=function(a,b,h){return Eo(F4.createElement(a),a,b,h,true);};var ba=ca.decode;var y2=ca.encodeAllRaw;var $2=function(a,b,h){var r='',w;r+='<'+a;for(w in b){if(b.hasOwnProperty(w)&&b[w]!==null&&typeof b[w]!=='undefined'){r+=' '+w+'="'+y2(b[w])+'"';}}if(typeof h!=='undefined'){return r+'>'+h+'</'+a+'>';}return r+' />';};var O4=function(h){var N7;var a=F4.createElement('div');var b=F4.createDocumentFragment();if(h){a.innerHTML=h;}while(N7=a.firstChild){b.appendChild(N7);}return b;};var $6=function(N7,a){var b=u(N7);if(a){b.each(function(){var s8;while(s8=this.firstChild){if(s8.nodeType===3&&s8.data.length===0){this.removeChild(s8);}else{this.parentNode.insertBefore(s8,this);}}}).remove();}else{b.remove();}return b.length>1?b.toArray():b[0];};var $3=function(e){return i2(e,function(e){var i;var a=e.attributes;for(i=a.length-1;i>=0;i--){e.removeAttributeNode(a.item(i));}});};var u4=function(a){return o.parse(a);};var $4=function(a,b){return o.serialize(a,b);};var o5=function(a){var E1,b;if(fi!==Aa.DOM&&F4===document){if(c[a]){return;}c[a]=true;}b=F4.getElementById('mceDefaultStyles');if(!b){b=F4.createElement('style');b.id='mceDefaultStyles';b.type='text/css';E1=F4.getElementsByTagName('head')[0];if(E1.firstChild){E1.insertBefore(b,E1.firstChild);}else{E1.appendChild(b);}}if(b.styleSheet){b.styleSheet.cssText+=a;}else{b.appendChild(F4.createTextNode(a));}};var Z7=function(S1){var E1;if(fi!==Aa.DOM&&F4===document){Aa.DOM.loadCSS(S1);return;}if(!S1){S1='';}E1=F4.getElementsByTagName('head')[0];sa(S1.split(','),function(S1){var a;S1=E4._addCacheSuffix(S1);if(f[S1]){return;}f[S1]=true;a=x4('link',{rel:'stylesheet',href:S1});E1.appendChild(a);});};var cp=function(a,b,h){u(a).toggleClass(b,h).each(function(){if(this.className===''){Y4(this).attr('class',null);}});};var fa=function(a,b){u(a).addClass(b);};var cb=function(a,b){cp(a,b,false);};var Q4=function(a,b){return u(a).hasClass(b);};var fb=function(a){u(a).show();};var nb=function(a){u(a).hide();};var Mb=function(a){return u(a).css('display')==='none';};var Mq=function(a){return(!a?'mce_':a)+g++;};var ec=function(a){var N7=typeof a==='string'?Y6(a):a;return I9.isElement(N7)?N7.outerHTML:Y4('<div></div>').append(Y4(N7).clone()).html();};var sc=function(a,h){u(a).each(function(){try{if('outerHTML'in this){this.outerHTML=h;return;}}catch(b){}$6(Y4(this).html(h),true);});};var Xf=function(N7,r){var a=Y6(r);return i2(N7,function(N7){var i8,o8;i8=a.parentNode;o8=a.nextSibling;if(o8){i8.insertBefore(N7,o8);}else{i8.appendChild(N7);}return N7;});};var ed=function(a,b,h){return i2(b,function(b){if(E4.is(b,'array')){a=a.cloneNode(true);}if(h){sa(ta(b.childNodes),function(N7){a.appendChild(N7);});}return b.parentNode.replaceChild(a,b);});};var id=function(a,b){var h;if(a.nodeName!==b.toUpperCase()){h=x4(b);sa(x(a),function(r){y(h,r.nodeName,v(a,r.nodeName));});ed(h,a,true);}return h||a;};var td=function(a,b){var h=a,r;while(h){r=b;while(r&&h!==r){r=r.parentNode;}if(h===r){break;}h=h.parentNode;}if(!h&&a.ownerDocument){return a.ownerDocument.documentElement;}return h;};var qa=function(r){return o.toHex(E4.trim(r));};var Og=function(N7,a){var i,A3,D6,y3,w,b,h=0;N7=N7.firstChild;if(N7){w=new X8(N7,N7.parentNode);a=a||(n?n.getNonEmptyElements():null);y3=n?n.getWhiteSpaceElements():{};do{D6=N7.nodeType;if(I9.isElement(N7)){var r=N7.getAttribute('data-mce-bogus');if(r){N7=w.next(r==='all');continue;}b=N7.nodeName.toLowerCase();if(a&&a[b]){if(b==='br'){h++;N7=w.next();continue;}return false;}A3=x(N7);i=A3.length;while(i--){b=A3[i].nodeName;if(b==='name'||b==='data-mce-bookmark'){return false;}}}if(D6===8){return false;}if(D6===3&&!wa.test(N7.nodeValue)){return false;}if(D6===3&&N7.parentNode&&y3[N7.parentNode.nodeName]&&wa.test(N7.nodeValue)){return false;}N7=w.next();}while(N7);}return h<=1;};var de=function(){return F4.createRange();};var la=function(a,b,h){var r=de(),w,pe,pa;if(a&&b){r.setStart(a.parentNode,za(a));r.setEnd(b.parentNode,za(b));w=r.extractContents();r=de();r.setStart(b.parentNode,za(b)+1);r.setEnd(a.parentNode,za(a)+1);pe=r.extractContents();pa=a.parentNode;pa.insertBefore(M9.trimNode(fi,w),a);if(h){pa.insertBefore(h,a);}else{pa.insertBefore(b,a);}pa.insertBefore(M9.trimNode(fi,pe),a);$6(a);return h||b;}};var t1=function(a,b,h,r){if(E4.isArray(a)){var i=a.length;while(i--){a[i]=t1(a[i],b,h,r);}return a;}if(s.collect&&(a===F4||a===d)){m.push([a,b,h,r]);}return p.bind(a,b,h,r||fi);};var me=function(a,b,h){var i;if(E4.isArray(a)){i=a.length;while(i--){a[i]=me(a[i],b,h);}return a;}if(m&&(a===F4||a===d)){i=m.length;while(i--){var r=m[i];if(a===r[0]&&(!b||b===r[1])&&(!h||h===r[2])){p.unbind(r[0],r[1],r[2]);}}}return p.unbind(a,b,h);};var re=function(a,b,h){return p.fire(a,b,h);};var ch=function(N7){if(N7&&I9.isElement(N7)){var p2=N7.getAttribute('data-mce-contenteditable');if(p2&&p2!=='inherit'){return p2;}return N7.contentEditable!=='inherit'?N7.contentEditable:null;}else{return null;}};var ai=function(N7){var r=a1();var a=null;for(;N7&&N7!==r;N7=N7.parentNode){a=ch(N7);if(a!==null){break;}}return a;};var sB=function(){if(m){var i=m.length;while(i--){var a=m[i];p.unbind(a[0],a[1],a[2]);}}if(R3.setDocument){R3.setDocument();}};var ci=function(N7,i8){while(N7){if(i8===N7){return true;}N7=N7.parentNode;}return false;};var ei=function(r){return'startContainer: '+r.startContainer.nodeName+', startOffset: '+r.startOffset+', endContainer: '+r.endContainer.nodeName+', endOffset: '+r.endOffset;};var fi={doc:F4,settings:s,win:d,files:f,stdMode:j,boxModel:k,styleSheetLoader:l,boundEvents:m,styles:o,schema:n,events:p,isBlock:h9,$:$,$$:u,root:null,clone:a7,getRoot:a1,getViewPort:d1,getRect:y1,getSize:x1,getParent:$1,getParents:yf,get:Y6,getNext:d2,getPrev:e2,select:V2,is:is,add:Eo,create:x4,createHTML:$2,createFragment:O4,remove:$6,setStyle:e1,getStyle:It,setStyles:o1,removeAllAttribs:$3,setAttrib:y,setAttribs:o2,getAttrib:v,getPos:D8,parseStyle:u4,serializeStyle:$4,addStyle:o5,loadCSS:Z7,addClass:fa,removeClass:cb,hasClass:Q4,toggleClass:cp,show:fb,hide:nb,isHidden:Mb,uniqueId:Mq,setHTML:x2,getOuterHTML:ec,setOuterHTML:sc,decode:ba,encode:y2,insertAfter:Xf,replace:ed,rename:id,findCommonAncestor:td,toHex:qa,run:i2,getAttribs:x,isEmpty:Og,createRng:de,nodeIndex:za,split:la,bind:t1,unbind:me,fire:re,getContentEditable:ch,getContentEditableParent:ai,destroy:sB,isChildOf:ci,dumpRng:ei};W4=xa(o,s,function(){return fi;});return fi;}(function(Aa){Aa.DOM=Aa(document);Aa.nodeIndex=za;}(Aa||(Aa={})));var Ba=Aa;var Ca=Ba.DOM;var Da=E4.each;var Ea=E4.grep;var Fa=function(f){return typeof f==='function';};var Ga=function(){var a=0;var b=1;var c=2;var d=3;var s={};var f=[];var g={};var h=[];var l=0;var j=function(S1,k,m){var Jv=Ca;var n,o;var j3=function(){Jv.remove(o);if(n){n.onreadystatechange=n.onload=n=null;}k();};var U8=function(){if(Fa(m)){m();}else{if(typeof console!=='undefined'&&console.log){console.log('Failed to load script: '+S1);}}};o=Jv.uniqueId();n=document.createElement('script');n.id=o;n.type='text/javascript';n.src=E4._addCacheSuffix(S1);if('onreadystatechange'in n){n.onreadystatechange=function(){if(/loaded|complete/.test(n.readyState)){j3();}};}else{n.onload=j3;}n.onerror=U8;(document.getElementsByTagName('head')[0]||document.body).appendChild(n);};this.isDone=function(S1){return s[S1]===c;};this.markDone=function(S1){s[S1]=c;};this.add=this.load=function(S1,k,m,n){var o=s[S1];if(o===undefined){f.push(S1);s[S1]=a;}if(k){if(!g[S1]){g[S1]=[];}g[S1].push({success:k,failure:n,scope:m||this});}};this.remove=function(S1){delete s[S1];delete g[S1];};this.loadQueue=function(k,m,n){this.loadScripts(f,k,m,n);};this.loadScripts=function(k,m,n,o){var QA;var p=[];var r=function(t,S1){Da(g[S1],function(u){if(Fa(u[t])){u[t].call(u.scope);}});g[S1]=undefined;};h.push({success:m,failure:o,scope:n||this});QA=function(){var t=Ea(k);k.length=0;Da(t,function(S1){if(s[S1]===c){r('success',S1);return;}if(s[S1]===d){r('failure',S1);return;}if(s[S1]!==b){s[S1]=b;l++;j(S1,function(){s[S1]=c;l--;r('success',S1);QA();},function(){s[S1]=d;l--;p.push(S1);r('failure',S1);QA();});}});if(!l){var u=h.slice(0);h.length=0;Da(u,function(v){if(p.length===0){if(Fa(v.success)){v.success.call(v.scope);}}else{if(Fa(v.failure)){v.failure.call(v.scope,p);}}});}};QA();};};Ga.ScriptLoader=new Ga();var Ha=E4.each;function Ia(){var _=this;var a=[];var u={};var l={};var b=[];var Y6=function(n){if(l[n]){return l[n].instance;}return undefined;};var d=function(n){var j;if(l[n]){j=l[n].dependencies;}return j||[];};var r=function(n,j){var k=Ia.language;if(k&&Ia.languageLoad!==false){if(j){j=','+j+',';if(j.indexOf(','+k.substr(0,2)+',')!==-1){k=k.substr(0,2);}else if(j.indexOf(','+k+',')===-1){return;}}Ga.ScriptLoader.add(u[n]+'/langs/'+k+'.js');}};var Eo=function(j,k,d){a.push(k);l[j]={instance:k,dependencies:d};var m=H1.partition(b,function(n){return n.name===j;});b=m.fail;Ha(m.pass,function(n){n.callback();});return k;};var $6=function(n){delete u[n];delete l[n];};var c=function(j,k){if(typeof k==='object'){return k;}return typeof j==='string'?{prefix:'',resource:k,suffix:''}:{prefix:j.prefix,resource:k,suffix:j.suffix};};var f=function(p,s){var j=_.urls[p];Ha(s,function(k){Ga.ScriptLoader.add(j+'/'+k);});};var g=function(j,s,k){var m=d(name);Ha(m,function(n){var o=c(j,n);h(o.resource,o,undefined,undefined);});if(s){if(k){s.call(k);}else{s.call(Ga);}}};var h=function(n,j,s,k,m){if(u[n]){return;}var o=typeof j==='string'?j:j.prefix+j.resource+j.suffix;if(o.indexOf('/')!==0&&o.indexOf('://')===-1){o=Ia.baseURL+'/'+o;}u[n]=o.substring(0,o.lastIndexOf('/'));if(l[n]){g(j,s,k);}else{Ga.ScriptLoader.add(o,function(){return g(j,s,k);},k,m);}};var w=function(n,j){if(l.hasOwnProperty(n)){j();}else{b.push({name:n,callback:j});}};return{items:a,urls:u,lookup:l,_listeners:b,get:Y6,dependencies:d,requireLangPack:r,add:Eo,remove:$6,createUrl:c,addComponents:f,load:h,waitFor:w};}(function(Ia){Ia.PluginManager=Ia();Ia.ThemeManager=Ia();}(Ia||(Ia={})));var Ja='\uFEFF';var Ka=function(c){return c===Ja;};var La=function(t){return t.replace(new RegExp(Ja,'g'),'');};var Ma={isZwsp:Ka,ZWSP:Ja,trim:La};var Na=I9.isElement;var Oa=I9.isText;var Pa=function(N7){if(Oa(N7)){N7=N7.parentNode;}return Na(N7)&&N7.hasAttribute('data-mce-caret');};var Qa=function(N7){return Oa(N7)&&Ma.isZwsp(N7.data);};var Ra=function(N7){return Pa(N7)||Qa(N7);};var Sa=function(N7){return N7.firstChild!==N7.lastChild||!I9.isBr(N7.firstChild);};var Ta=function(N7,he){var F4,f5,t,p;F4=N7.ownerDocument;t=F4.createTextNode(Ma.ZWSP);p=N7.parentNode;if(!he){f5=N7.nextSibling;if(Oa(f5)){if(Ra(f5)){return f5;}if(Ya(f5)){f5.splitText(1);return f5;}}if(N7.nextSibling){p.insertBefore(t,N7.nextSibling);}else{p.appendChild(t);}}else{f5=N7.previousSibling;if(Oa(f5)){if(Ra(f5)){return f5;}if(Za(f5)){return f5.splitText(f5.data.length-1);}}p.insertBefore(t,N7);}return t;};var Ua=function(p){var c=p.container();return p&&I9.isText(c)&&c.data.charAt(p.offset())===Ma.ZWSP;};var Va=function(p){var c=p.container();return p&&I9.isText(c)&&c.data.charAt(p.offset()-1)===Ma.ZWSP;};var Wa=function(){var b=document.createElement('br');b.setAttribute('data-mce-bogus','1');return b;};var Xa=function(b,N7,he){var F4,a,p;F4=N7.ownerDocument;a=F4.createElement(b);a.setAttribute('data-mce-caret',he?'before':'after');a.setAttribute('data-mce-bogus','all');a.appendChild(Wa());p=N7.parentNode;if(!he){if(N7.nextSibling){p.insertBefore(a,N7.nextSibling);}else{p.appendChild(a);}}else{p.insertBefore(a,N7);}return a;};var Ya=function(N7){return Oa(N7)&&N7.data[0]===Ma.ZWSP;};var Za=function(N7){return Oa(N7)&&N7.data[N7.data.length-1]===Ma.ZWSP;};var $a=function(a){var b=a.getElementsByTagName('br');var l=b[b.length-1];if(I9.isBogus(l)){l.parentNode.removeChild(l);}};var _a=function(c){if(c&&c.hasAttribute('data-mce-caret')){$a(c);c.removeAttribute('data-mce-caret');c.removeAttribute('data-mce-bogus');c.removeAttribute('style');c.removeAttribute('_moz_abspos');return c;}return null;};var ab=function(b1){return Pa(b1.startContainer);};var bb=I9.isContentEditableTrue;var db=I9.isContentEditableFalse;var eb=I9.isBr;var gb=I9.isText;var hb=I9.matchNodeNames('script style textarea');var ib=I9.matchNodeNames('img input textarea hr iframe video audio object');var jb=I9.matchNodeNames('table');var kb=Ra;var lb=function(N7){if(kb(N7)){return false;}if(gb(N7)){if(hb(N7.parentNode)){return false;}return true;}return ib(N7)||eb(N7)||jb(N7)||ob(N7);};var mb=function(N7){return I9.isElement(N7)&&N7.getAttribute('unselectable')==='true';};var ob=function(N7){return mb(N7)===false&&db(N7);};var pb=function(N7,r){for(N7=N7.parentNode;N7&&N7!==r;N7=N7.parentNode){if(ob(N7)){return false;}if(bb(N7)){return true;}}return true;};var qb=function(N7){if(!ob(N7)){return false;}return r4.reduce(N7.getElementsByTagName('*'),function(r,a){return r||bb(a);},false)!==true;};var rb=function(N7){return ib(N7)||qb(N7);};var sb=function(N7,r){return lb(N7)&&pb(N7,r);};var tb=Math.round;var ub=function(r){if(!r){return{left:0,top:0,bottom:0,right:0,width:0,height:0};}return{left:tb(r.left),top:tb(r.top),bottom:tb(r.bottom),right:tb(r.right),width:tb(r.width),height:tb(r.height)};};var vb=function(r,t){r=ub(r);if(t){r.right=r.left;}else{r.left=r.left+r.width;r.right=r.left;}r.width=0;return r;};var wb=function(r,a){return r.left===a.left&&r.top===a.top&&r.bottom===a.bottom&&r.right===a.right;};var xb=function(Cb,r,a){return Cb>=0&&Cb<=Math.min(r.height,a.height)/2;};var yb=function(r,a){if(r.bottom-r.height/2<a.top){return true;}if(r.top>a.bottom){return false;}return xb(a.top-r.bottom,r,a);};var zb=function(r,a){if(r.top>a.bottom){return true;}if(r.bottom<a.top){return false;}return xb(a.bottom-r.top,r,a);};var Ab=function(r,c,a){return c>=r.left&&c<=r.right&&a>=r.top&&a<=r.bottom;};var Bb=function(o,a){if(a.left>o.left&&a.right<o.right){return 0;}else{return a.left<o.left?a.left-o.left:a.right-o.right;}};var Cb=function(o,a){if(a.top>o.top&&a.bottom<o.bottom){return 0;}else{return a.top<o.top?a.top-o.top:a.bottom-o.bottom;}};var Db=function(o,a){return{x:Bb(o,a),y:Cb(o,a)};};var Eb=function(b1){var s=b1.startContainer,a=b1.startOffset;if(s.hasChildNodes()&&b1.endOffset===a+1){return s.childNodes[a];}return null;};var Fb=function(c,o){if(c.nodeType===1&&c.hasChildNodes()){if(o>=c.childNodes.length){o=c.childNodes.length-1;}c=c.childNodes[o];}return c;};var Gb=new RegExp('[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a'+'\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0'+'\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08E3-\u0902\u093a\u093c'+'\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3'+'\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc'+'\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57'+'\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56'+'\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44'+'\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9'+'\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97'+'\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074'+'\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5'+'\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18'+'\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1ABE\u1b00-\u1b03\u1b34'+'\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9'+'\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9'+'\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20DD-\u20E0\u20e1\u20E2-\u20E4\u20e5-\u20f0\u2cef-\u2cf1'+'\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\uA670-\uA672\ua674-\ua67d\uA69E-\ua69f\ua6f0-\ua6f1'+'\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc'+'\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1'+'\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\uFE2F\uff9e-\uff9f]');var Hb=function(c){return typeof c==='string'&&c.charCodeAt(0)>=768&&Gb.test(c);};var Ib=[].slice;var Jb=function(E6){return function(){return E6;};};var Kb=function(p){return function(x){return!p(x);};};var Lb=function(f,g){return function(x){return f(g(x));};};var or=function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}var a=Ib.call(arguments);return function(x){for(var i=0;i<a.length;i++){if(a[i](x)){return true;}}return false;};};var Nb=function(){var x=[];for(var _=0;_<arguments.length;_++){x[_]=arguments[_];}var a=Ib.call(arguments);return function(x){for(var i=0;i<a.length;i++){if(!a[i](x)){return false;}}return true;};};var Ob=function(f){var x=[];for(var _=1;_<arguments.length;_++){x[_-1]=arguments[_];}var a=Ib.call(arguments);if(a.length-1>=f.length){return f.apply(this,a.slice(1));}return function(){var t=a.concat([].slice.call(arguments));return Ob.apply(this,t);};};var Pb=function(){};var Qb={constant:Jb,negate:Kb,and:Nb,or:or,curry:Ob,compose:Lb,noop:Pb};var Rb=function(r3){var r=[];var r1=function(x){r.push(x);};for(var i=0;i<r3.length;i++){r3[i].each(r1);}return r;};var Sb=function(r3,f){for(var i=0;i<r3.length;i++){var r=f(r3[i],i);if(r.isSome()){return r;}}return S.none();};var Tb=function(r3,f){var r=[];for(var i=0;i<r3.length;i++){var x=r3[i];if(x.isSome()){r.push(x.getOrDie());}else{return S.none();}}return S.some(f.apply(null,r));};var Ub={cat:Rb,findMap:Sb,liftN:Tb};var Vb=I9.isElement;var Wb=lb;var Xb=I9.matchStyleValues('display','block table');var Yb=I9.matchStyleValues('float','left right');var Zb=Qb.and(Vb,Wb,Qb.negate(Yb));var $b=Qb.negate(I9.matchStyleValues('white-space','pre pre-line pre-wrap'));var _b=I9.isText;var ac=I9.isBr;var bc=Ba.nodeIndex;var cc=Fb;var dc=function(F4){return'createRange'in F4?F4.createRange():Ba.DOM.createRng();};var fc=function(c){return c&&/[\r\n\t ]/.test(c);};var gc=function(r){return!!r.setStart&&!!r.setEnd;};var hc=function(b1){var c=b1.startContainer;var o=b1.startOffset;var t;if(fc(b1.toString())&&$b(c.parentNode)&&I9.isText(c)){t=c.data;if(fc(t[o-1])||fc(t[o+1])){return true;}}return false;};var ic=function(b){var F4=b.ownerDocument;var r=dc(F4);var n=F4.createTextNode('\xA0');var p=b.parentNode;var c;p.insertBefore(n,b);r.setStart(n,0);r.setEnd(n,1);c=ub(r.getBoundingClientRect());p.removeChild(n);return c;};var jc=function(r){var s=r.startContainer;var a=r.endContainer;var b=r.startOffset;var c=r.endOffset;if(s===a&&I9.isText(a)&&b===0&&c===1){var n=r.cloneRange();n.setEndAfter(a);return lc(n);}else{return null;}};var kc=function(r){return r.left===0&&r.right===0&&r.top===0&&r.bottom===0;};var lc=function(a){var c,b;b=a.getClientRects();if(b.length>0){c=ub(b[0]);}else{c=ub(a.getBoundingClientRect());}if(!gc(a)&&ac(a)&&kc(c)){return ic(a);}if(kc(c)&&gc(a)){return jc(a);}return c;};var mc=function(c,t){var n=vb(c,t);n.width=1;n.right=n.left+1;return n;};var nc=function(c){var a=[];var b,N7;var d=function(g){if(g.height===0){return;}if(a.length>0){if(wb(g,a[a.length-1])){return;}}a.push(g);};var f=function(g,o){var b1=dc(g.ownerDocument);if(o<g.data.length){if(Hb(g.data[o])){return a;}if(Hb(g.data[o-1])){b1.setStart(g,o);b1.setEnd(g,o+1);if(!hc(b1)){d(mc(lc(b1),false));return a;}}}if(o>0){b1.setStart(g,o-1);b1.setEnd(g,o);if(!hc(b1)){d(mc(lc(b1),false));}}if(o<g.data.length){b1.setStart(g,o);b1.setEnd(g,o+1);if(!hc(b1)){d(mc(lc(b1),true));}}};if(_b(c.container())){f(c.container(),c.offset());return a;}if(Vb(c.container())){if(c.isAtEnd()){N7=cc(c.container(),c.offset());if(_b(N7)){f(N7,N7.data.length);}if(Zb(N7)&&!ac(N7)){d(mc(lc(N7),false));}}else{N7=cc(c.container(),c.offset());if(_b(N7)){f(N7,0);}if(Zb(N7)&&c.isAtEnd()){d(mc(lc(N7),false));return a;}b=cc(c.container(),c.offset()-1);if(Zb(b)&&!ac(b)){if(Xb(b)||Xb(N7)||!Zb(N7)){d(mc(lc(b),false));}}if(Zb(N7)){d(mc(lc(N7),true));}}}return a;};function oc(c,o,a){var b=function(){if(_b(c)){return o===0;}return o===0;};var d=function(){if(_b(c)){return o>=c.data.length;}return o>=c.childNodes.length;};var t=function(){var b1;b1=dc(c.ownerDocument);b1.setStart(c,o);b1.setEnd(c,o);return b1;};var Sr=function(){if(!a){a=nc(oc(c,o));}return a;};var f=function(){return Sr().length>0;};var g=function(j){return j&&c===j.container()&&o===j.offset();};var h=function(he){return cc(c,he?o-1:o);};return{container:Qb.constant(c),offset:Qb.constant(o),toRange:t,getClientRects:Sr,isVisible:f,isAtStart:b,isAtEnd:d,isEqual:g,getNode:h};}(function(oc){oc.fromRangeStart=function(b1){return oc(b1.startContainer,b1.startOffset);};oc.fromRangeEnd=function(b1){return oc(b1.endContainer,b1.endOffset);};oc.after=function(N7){return oc(N7.parentNode,bc(N7)+1);};oc.before=function(N7){return oc(N7.parentNode,bc(N7));};oc.isAbove=function(p,a){return Ub.liftN([H1.head(a.getClientRects()),H1.last(p.getClientRects())],yb).getOr(false);};oc.isBelow=function(p,a){return Ub.liftN([H1.last(a.getClientRects()),H1.head(p.getClientRects())],zb).getOr(false);};oc.isAtStart=function(p){return p?p.isAtStart():false;};oc.isAtEnd=function(p){return p?p.isAtEnd():false;};oc.isTextPosition=function(p){return p?I9.isText(p.container()):false;};oc.isElementPosition=function(p){return oc.isTextPosition(p)===false;};}(oc||(oc={})));var pc=oc;var qc=I9.isElement;var rc=I9.isText;var tc=function(N7){var p=N7.parentNode;if(p){p.removeChild(N7);}};var uc=function(N7){try{return N7.nodeValue;}catch(a){return'';}};var vc=function(N7,t){if(t.length===0){tc(N7);}else{N7.nodeValue=t;}};var wc=function(t){var a=Ma.trim(t);return{count:t.length-a.length,text:a};};var xc=function(c,p){Dc(c);return p;};var yc=function(c,p){var he=wc(c.data.substr(0,p.offset()));var je=wc(c.data.substr(p.offset()));var t=he.text+je.text;if(t.length>0){vc(c,t);return pc(c,p.offset()-he.count);}else{return p;}};var zc=function(c,p){var a=p.container();var n=H1.indexOf(H1.from(a.childNodes),c).map(function(b){return b<p.offset()?pc(a,p.offset()-1):p;}).getOr(p);Dc(c);return n;};var Ac=function(c,p){return rc(c)&&p.container()===c?yc(c,p):xc(c,p);};var Bc=function(c,p){return p.container()===c.parentNode?zc(c,p):xc(c,p);};var Cc=function(c,p){return pc.isTextPosition(p)?Ac(c,p):Bc(c,p);};var Dc=function(c){if(qc(c)&&Ra(c)){if(Sa(c)){c.removeAttribute('data-mce-caret');}else{tc(c);}}if(rc(c)){var t=Ma.trim(uc(c));vc(c,t);}};var Ec={removeAndReposition:Cc,remove:Dc};var Fc=function(f,r,dl){var p=f?pc.before(dl):pc.after(dl);return Mc(f,r,p);};var Gc=function(N7){return I9.isBr(N7)?pc.before(N7):pc.after(N7);};var Hc=function(p){if(pc.isTextPosition(p)){return p.offset()===0;}else{return lb(p.getNode());}};var Ic=function(p){if(pc.isTextPosition(p)){var c=p.container();return p.offset()===c.data.length;}else{return lb(p.getNode(true));}};var Jc=function(R,t){return!pc.isTextPosition(R)&&!pc.isTextPosition(t)&&R.getNode()===t.getNode(true);};var Kc=function(p){return!pc.isTextPosition(p)&&I9.isBr(p.getNode());};var Lc=function(f,R,t){if(f){return!Jc(R,t)&&!Kc(R)&&Ic(R)&&Hc(t);}else{return!Jc(t,R)&&Hc(R)&&Ic(t);}};var Mc=function(f,r,p){var w=Df(r);return S.from(f?w.next(p):w.prev(p));};var Nc=function(f,r,R){return Mc(f,r,R).bind(function(t){if(_e(R,t,r)&&Lc(f,R,t)){return Mc(f,r,t);}else{return S.some(t);}});};var Oc=function(f,a){var s=f?a.firstChild:a.lastChild;if(I9.isText(s)){return S.some(pc(s,f?0:s.data.length));}else if(s){if(lb(s)){return S.some(f?pc.before(s):Gc(s));}else{return Fc(f,a,s);}}else{return S.none();}};var Pc={fromPosition:Mc,nextPosition:L.curry(Mc,true),prevPosition:L.curry(Mc,false),navigate:Nc,positionIn:Oc,firstPositionIn:L.curry(Oc,true),lastPositionIn:L.curry(Oc,false)};var Qc=I9.isContentEditableTrue;var Rc=I9.isContentEditableFalse;var Sc=function(d,a,N7,he,s){return a._selectionOverrides.showCaret(d,N7,he,s);};var Tc=function(N7){var r=N7.ownerDocument.createRange();r.selectNode(N7);return r;};var Uc=function(a,N7){var e=a.fire('BeforeObjectSelected',{target:N7});if(e.isDefaultPrevented()){return null;}return Tc(N7);};var Vc=function(a,b1,s){var n=gf(1,a.getBody(),b1);var c=pc.fromRangeStart(n);var b=c.getNode();if(Rc(b)){return Sc(1,a,b,!c.isAtEnd(),false);}var d=c.getNode(true);if(Rc(d)){return Sc(1,a,d,false,false);}var f=a.dom.getParent(c.getNode(),function(N7){return Rc(N7)||Qc(N7);});if(Rc(f)){return Sc(1,a,f,false,s);}return null;};var Wc=function(a,b1,s){if(!b1||!b1.collapsed){return b1;}var c=Vc(a,b1,s);if(c){return c;}return b1;};var Xc;(function(Xc){Xc[Xc['Br']=0]='Br';Xc[Xc['Block']=1]='Block';Xc[Xc['Wrap']=2]='Wrap';Xc[Xc['Eol']=3]='Eol';}(Xc||(Xc={})));var Yc=function(d,p){return d===qf.Backwards?p.reverse():p;};var Zc=function(d,c,p){return d===qf.Forwards?c.next(p):c.prev(p);};var $c=function(s,d,c,n){if(I9.isBr(n.getNode(d===qf.Forwards))){return Xc.Br;}else if(_e(c,n)===false){return Xc.Block;}else{return Xc.Wrap;}};var _c=function(p,d,s,dl){var c=Df(s);var a=dl,n;var b=[];while(a){n=Zc(d,c,a);if(!n){break;}if(I9.isBr(n.getNode(false))){if(d===qf.Forwards){return{positions:Yc(d,b).concat([n]),breakType:Xc.Br,breakAt:S.some(n)};}else{return{positions:Yc(d,b),breakType:Xc.Br,breakAt:S.some(n)};}}if(!n.isVisible()){a=n;continue;}if(p(a,n)){var f=$c(s,d,a,n);return{positions:Yc(d,b),breakType:f,breakAt:S.some(n)};}b.push(n);a=n;}return{positions:Yc(d,b),breakType:Xc.Eol,breakAt:S.none()};};var ad=function(d,g,s,dl){return g(s,dl).breakAt.map(function(p){var a=g(s,p).positions;return d===qf.Backwards?a.concat(p):[p].concat(a);}).getOr([]);};var bd=function(p,x){return H1.foldl(p,function(a,n){return a.fold(function(){return S.some(n);},function(l){return Ub.liftN([H1.head(l.getClientRects()),H1.head(n.getClientRects())],function(b,c){var d=Math.abs(x-b.left);var f=Math.abs(x-c.left);return f<=d?n:l;}).or(a);});},S.none());};var cd=function(p,a){return H1.head(a.getClientRects()).bind(function(t){return bd(p,t.left);});};var dd=L.curry(_c,oc.isAbove,-1);var fd=L.curry(_c,oc.isBelow,1);var gd=L.curry(ad,-1,dd);var hd=L.curry(ad,1,fd);var jd=function(s){return Pc.firstPositionIn(s).map(function(p){return[p].concat(fd(s,p).positions);}).getOr([]);};var kd=function(s){return Pc.lastPositionIn(s).map(function(p){return dd(s,p).positions.concat(p);}).getOr([]);};var ld=function(p){return pd(h7.body(),p);};var md=function(s,p,a){return H1.filter(z8.parents(s,a),p);};var nd=function(s,p){return H1.filter(z8.siblings(s),p);};var od=function(s,p){return H1.filter(z8.children(s),p);};var pd=function(s,p){var r=[];H1.each(z8.children(s),function(x){if(p(x)){r=r.concat([x]);}r=r.concat(pd(x,p));});return r;};var qd={all:ld,ancestors:md,siblings:nd,children:od,descendants:pd};var rd=function(s){return Y7.all(s);};var sd=function(s,a,b){return qd.ancestors(s,function(e){return Y7.is(e,a);},b);};var ud=function(s,a){return qd.siblings(s,function(e){return Y7.is(e,a);});};var vd=function(s,a){return qd.children(s,function(e){return Y7.is(e,a);});};var wd=function(s,a){return Y7.all(a,s);};var xd={all:rd,ancestors:sd,siblings:ud,children:vd,descendants:wd};var yd=function(r,d){return{left:r.left-d,top:r.top-d,right:r.right+d*2,bottom:r.bottom+d*2,width:r.width+d,height:r.height+d};};var zd=function(g,t){return H1.bind(t,function(a){var r=yd(a.getBoundingClientRect(),-1);return[{x:r.left,y:g(r),cell:a},{x:r.right,y:g(r),cell:a}];});};var Ad=function(c,x,y){return H1.foldl(c,function(a,n){return a.fold(function(){return S.some(n);},function(o){var b=Math.sqrt(Math.abs(o.x-x)+Math.abs(o.y-y));var d=Math.sqrt(Math.abs(n.x-x)+Math.abs(n.y-y));return S.some(d<b?n:o);});},S.none());};var Bd=function(g,a,t,x,y){var c=xd.descendants(A6.fromDom(t),'td,th').map(function(e){return e.dom();});var b=H1.filter(zd(g,c),function(d){return a(d,y);});return Ad(b,x,y).map(function(d){return d.cell;});};var Cd=function(r){return r.bottom;};var Dd=function(r){return r.top;};var Ed=function(c,y){return c.y<y;};var Fd=function(c,y){return c.y>y;};var Gd=L.curry(Bd,Cd,Ed);var Hd=L.curry(Bd,Dd,Fd);var Id=function(t,p){return H1.head(p.getClientRects()).bind(function(r){return Gd(t,r.left,r.top);}).bind(function(c){return cd(kd(c),p);});};var Jd=function(t,p){return H1.last(p.getClientRects()).bind(function(r){return Hd(t,r.left,r.top);}).bind(function(c){return cd(jd(c),p);});};var Kd=function(a){var x=0,y=0;var m8=a;while(m8&&m8.nodeType){x+=m8.offsetLeft||0;y+=m8.offsetTop||0;m8=m8.offsetParent;}return{x:x,y:y};};var Ld=function(a,b,c){var s={elm:b,alignToTop:c};a.fire('scrollIntoView',s);return s.isDefaultPrevented();};var Md=function(a,b,c){var y,v;var Jv=a.dom;var r=Jv.getRoot();var d,f,o=0;if(Ld(a,b,c)){return;}if(!I9.isElement(b)){return;}if(c===false){o=b.offsetHeight;}if(r.nodeName!=='BODY'){var s=a.selection.getScrollContainer();if(s){y=Kd(b).y-Kd(s).y+o;f=s.clientHeight;d=s.scrollTop;if(y<d||y+25>d+f){s.scrollTop=y<d?y:y-f+25;}return;}}v=Jv.getViewPort(a.getWin());y=Jv.getPos(b).y+o;d=v.y;f=v.h;if(y<v.y||y+25>d+f){a.getWin().scrollTo(0,y<d?y:y-f+25);}};var Nd=function(a){if(a.inline){return a.getBody().getBoundingClientRect();}else{var w=a.getWin();return{left:0,right:w.innerWidth,top:0,bottom:w.innerHeight,width:w.innerWidth,height:w.innerHeight};}};var Od=function(a,d,b){if(a.inline){a.getBody().scrollLeft+=d;a.getBody().scrollTop+=b;}else{a.getWin().scrollBy(d,b);}};var Pd=function(a,r){H1.head(oc.fromRangeStart(r).getClientRects()).each(function(b){var c=Nd(a);var o=Db(c,b);var m=4;var d=o.x>0?o.x+m:o.x-m;var f=o.y>0?o.y+m:o.y-m;Od(a,o.x!==0?d:0,o.y!==0?f:0);});};var Qd={scrollElementIntoView:Md,scrollRangeIntoView:Pd};var Rd=function(a,n,d){var E6=a.getParam(n,d);if(E6.indexOf('=')!==-1){var b=a.getParam(n,'','hash');return b.hasOwnProperty(a.id)?b[a.id]:d;}else{return E6;}};var Sd=function(a){return a.getParam('iframe_attrs',{});};var Td=function(a){return a.getParam('doctype','<!DOCTYPE html>');};var Ud=function(a){return a.getParam('document_base_url','');};var Vd=function(a){return Rd(a,'body_id','tinymce');};var Wd=function(a){return Rd(a,'body_class','');};var Xd=function(a){return a.getParam('content_security_policy','');};var Yd=function(a){return a.getParam('br_in_pre',true);};var Zd=function(a){if(a.getParam('force_p_newlines',false)){return'p';}var b=a.getParam('forced_root_block','p');return b===false?'':b;};var $d=function(a){return a.getParam('forced_root_block_attrs',{});};var _d=function(a){return a.getParam('br_newline_selector','.mce-toc h2,figcaption,caption');};var ae=function(a){return a.getParam('no_newline_selector','');};var be=function(a){return a.getParam('keep_styles',true);};var ce=function(a){return a.getParam('end_container_on_empty_block',false);};var ee=function(a){return E4.explode(a.getParam('font_size_style_values',''));};var fe=function(a){return E4.explode(a.getParam('font_size_classes',''));};var ge={getIframeAttrs:Sd,getDocType:Td,getDocumentBaseUrl:Ud,getBodyId:Vd,getBodyClass:Wd,getContentSecurityPolicy:Xd,shouldPutBrInPre:Yd,getForcedRootBlock:Zd,getForcedRootBlockAttrs:$d,getBrNewLineSelector:_d,getNoNewLineSelector:ae,shouldKeepStyles:be,shouldEndContainerOnEmptyBlock:ce,getFontStyleValues:ee,getFontSizeClasses:fe};var he=function(m,a){var i8=z8.parent(m);i8.each(function(v){v.dom().insertBefore(a.dom(),m.dom());});};var je=function(m,a){var f5=z8.nextSibling(m);f5.fold(function(){var i8=z8.parent(m);i8.each(function(v){le(v,a);});},function(v){he(v,a);});};var ke=function(i8,a){var t8=z8.firstChild(i8);t8.fold(function(){le(i8,a);},function(v){i8.dom().insertBefore(a.dom(),v.dom());});};var le=function(i8,a){i8.dom().appendChild(a.dom());};var ne=function(i8,a,b){z8.child(i8,b).fold(function(){le(i8,a);},function(v){he(v,a);});};var oe=function(a,w){he(a,w);le(w,a);};var qe={before:he,after:je,prepend:ke,append:le,appendAt:ne,wrap:oe};var se=u6.detect().browser;var te=function(){return se.isIE()||se.isEdge()||se.isFirefox();};var ue=function(a,r){a.selection.setRng(r);Qd.scrollRangeIntoView(a,r);};var ve=function(_c,s,p){var l=_c(s,p);if(l.breakType===Xc.Wrap&&l.positions.length===0){return l.breakAt.map(function(b){return _c(s,b).breakAt.isNone();}).getOr(true);}else{return l.breakAt.isNone();}};var we=Qb.curry(ve,dd);var xe=Qb.curry(ve,fd);var ye=function(f,r,t){var c=pc.fromRangeStart(r);return Pc.positionIn(!f,t).map(function(p){return p.isEqual(c);}).getOr(false);};var ze=function(a,f,t,b){var r=a.selection.getRng();var d=f?1:-1;if(te()&&ye(f,r,t)){var n=Sc(d,a,t,!f,true);ue(a,n);return true;}return false;};var Ae=function(r,t,dl){return Id(t,dl).orThunk(function(){return H1.head(dl.getClientRects()).bind(function(a){return bd(gd(r,pc.before(t)),a.left);});}).getOr(pc.before(t));};var Be=function(r,t,dl){return Jd(t,dl).orThunk(function(){return H1.head(dl.getClientRects()).bind(function(a){return bd(hd(r,pc.after(t)),a.left);});}).getOr(pc.after(t));};var Ce=function(p,a){var N7=a.getNode(p);return I9.isElement(N7)&&N7.nodeName==='TABLE'?S.some(N7):S.none();};var De=function(d,a,t,p){var f=ge.getForcedRootBlock(a);if(f){a.undoManager.transact(function(){var b=A6.fromTag(f);d7.setAll(b,ge.getForcedRootBlockAttrs(a));qe.append(b,A6.fromTag('br'));if(d){qe.after(A6.fromDom(t),b);}else{qe.before(A6.fromDom(t),b);}var r=a.dom.createRng();r.setStart(b.dom(),0);r.setEnd(b.dom(),0);ue(a,r);});}else{ue(a,p.toRange());}};var Ee=function(a,d,p){var t=d?Ce(true,p):Ce(false,p);var F1=d===false;t.fold(function(){return ue(a,p.toRange());},function(t){return Pc.positionIn(F1,a.getBody()).filter(function(l){return l.isEqual(p);}).fold(function(){return ue(a,p.toRange());},function(_){return De(d,a,t,p);});});};var Fe=function(a,d,t,b){var r=a.selection.getRng();var p=pc.fromRangeStart(r);var c=a.getBody();if(!d&&we(b,p)){var n=Ae(c,t,p);Ee(a,d,n);return true;}else if(d&&xe(b,p)){var n=Be(c,t,p);Ee(a,d,n);return true;}else{return false;}};var Ge=function(a,f){return function(){return S.from(a.dom.getParent(a.selection.getNode(),'td,th')).bind(function(t){return S.from(a.dom.getParent(t,'table')).map(function(b){return ze(a,f,b,t);});}).getOr(false);};};var He=function(a,f){return function(){return S.from(a.dom.getParent(a.selection.getNode(),'td,th')).bind(function(t){return S.from(a.dom.getParent(t,'table')).map(function(b){return Fe(a,f,b,t);});}).getOr(false);};};var Ie=function(a){var E6=a;var Y6=function(){return E6;};var W6=function(v){E6=v;};var a7=function(){return Ie(Y6());};return{get:Y6,set:W6,clone:a7};};var Je=I9.isContentEditableFalse;var Ke=function(N7){return I9.isElement(N7)&&/^(TD|TH)$/i.test(N7.tagName);};var Le=function(r,a,he){var c=vb(a.getBoundingClientRect(),he);var d,s,b,m,f;if(r.tagName==='BODY'){d=r.ownerDocument.documentElement;s=r.scrollLeft||d.scrollLeft;b=r.scrollTop||d.scrollTop;}else{f=r.getBoundingClientRect();s=r.scrollLeft-f.left;b=r.scrollTop-f.top;}c.left+=s;c.right+=s;c.top+=b;c.bottom+=b;c.width=1;m=a.offsetWidth-a.clientWidth;if(m>0){if(he){m*=-1;}c.left+=m;c.right+=m;}return c;};var Me=function(r){var c,N7,f5,i,RB;c=Y4('*[contentEditable=false]',r);for(i=0;i<c.length;i++){N7=c[i];f5=N7.previousSibling;if(Za(f5)){RB=f5.data;if(RB.length===1){f5.parentNode.removeChild(f5);}else{f5.deleteData(RB.length-1,1);}}f5=N7.nextSibling;if(Ya(f5)){RB=f5.data;if(RB.length===1){f5.parentNode.removeChild(f5);}else{f5.deleteData(0,1);}}}};var Ne=function(r,h9,Ep){var l=Ie(S.none());var c,a;var s=function(he,d){var f,j;h();if(Ke(d)){return null;}if(h9(d)){a=Xa('p',d,he);f=Le(r,d,he);Y4(a).css('top',f.top);var k=Y4('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(f).appendTo(r)[0];l.set(S.some({caret:k,element:d,before:he}));l.get().each(function(m){if(he){Y4(m.caret).addClass('mce-visual-caret-before');}});b();j=d.ownerDocument.createRange();j.setStart(a,0);j.setEnd(a,0);}else{a=Ta(d,he);j=d.ownerDocument.createRange();if(Je(a.nextSibling)){j.setStart(a,0);j.setEnd(a,0);}else{j.setStart(a,1);j.setEnd(a,1);}return j;}return j;};var h=function(){Me(r);if(a){Ec.remove(a);a=null;}l.get().each(function(d){Y4(d.caret).remove();l.set(S.none());});clearInterval(c);};var b=function(){c=C2.setInterval(function(){if(Ep()){Y4('div.mce-visual-caret',r).toggleClass('mce-visual-caret-hidden');}else{Y4('div.mce-visual-caret',r).addClass('mce-visual-caret-hidden');}},500);};var ik=function(){l.get().each(function(d){var f=Le(r,d.element,d.before);Y4(d.caret).css(f);});};var sB=function(){return C2.clearInterval(c);};var g=function(){return'.mce-visual-caret {'+'position: absolute;'+'background-color: black;'+'background-color: currentcolor;'+'}'+'.mce-visual-caret-hidden {'+'display: none;'+'}'+'*[data-mce-caret] {'+'position: absolute;'+'left: -1000px;'+'right: auto;'+'top: 0;'+'margin: 0;'+'padding: 0;'+'}';};return{show:s,hide:h,getCss:g,reposition:ik,destroy:sB};};var Oe=function(N7){return Je(N7)||I9.isTable(N7)&&te();};var Pe=I9.isContentEditableFalse;var Qe=I9.matchStyleValues('display','block table table-cell table-caption list-item');var Re=Ra;var Se=Pa;var Te=Qb.curry;var Ue=I9.isElement;var Ve=lb;var We=function(d){return d>0;};var Xe=function(d){return d<0;};var Ye=function(z4,Vv){var N7;while(N7=z4(Vv)){if(!Se(N7)){return N7;}}return null;};var Ze=function(N7,d,p,r,Vv){var w=new X8(N7,r);if(Xe(d)){if(Pe(N7)||Se(N7)){N7=Ye(w.prev,true);if(p(N7)){return N7;}}while(N7=Ye(w.prev,Vv)){if(p(N7)){return N7;}}}if(We(d)){if(Pe(N7)||Se(N7)){N7=Ye(w.next,true);if(p(N7)){return N7;}}while(N7=Ye(w.next,Vv)){if(p(N7)){return N7;}}}return null;};var $e=function(N7,r){while(N7&&N7!==r){if(Qe(N7)){return N7;}N7=N7.parentNode;}return null;};var _e=function(c,a,r){return $e(c.container(),r)===$e(a.container(),r);};var af=function(r,c){var a,o;if(!c){return null;}a=c.container();o=c.offset();if(!Ue(a)){return null;}return a.childNodes[o+r];};var bf=function(he,N7){var b1=N7.ownerDocument.createRange();if(he){b1.setStartBefore(N7);b1.setEndBefore(N7);}else{b1.setStartAfter(N7);b1.setEndAfter(N7);}return b1;};var cf=function(r,n,a){return $e(n,r)===$e(a,r);};var df=function(l,r,N7){var f5,s;if(l){s='previousSibling';}else{s='nextSibling';}while(N7&&N7!==r){f5=N7[s];if(Re(f5)){f5=f5[s];}if(Pe(f5)){if(cf(r,f5,N7)){return f5;}break;}if(Ve(f5)){break;}N7=N7.parentNode;}return null;};var ef=Te(bf,true);var ff=Te(bf,false);var gf=function(d,r,b1){var N7,c,o,l;var a=Te(df,true,r);var b=Te(df,false,r);c=b1.startContainer;o=b1.startOffset;if(Pa(c)){if(!Ue(c)){c=c.parentNode;}l=c.getAttribute('data-mce-caret');if(l==='before'){N7=c.nextSibling;if(Oe(N7)){return ef(N7);}}if(l==='after'){N7=c.previousSibling;if(Oe(N7)){return ff(N7);}}}if(!b1.collapsed){return b1;}if(I9.isText(c)){if(Re(c)){if(d===1){N7=b(c);if(N7){return ef(N7);}N7=a(c);if(N7){return ff(N7);}}if(d===-1){N7=a(c);if(N7){return ff(N7);}N7=b(c);if(N7){return ef(N7);}}return b1;}if(Za(c)&&o>=c.data.length-1){if(d===1){N7=b(c);if(N7){return ef(N7);}}return b1;}if(Ya(c)&&o<=1){if(d===-1){N7=a(c);if(N7){return ff(N7);}}return b1;}if(o===c.data.length){N7=b(c);if(N7){return ef(N7);}return b1;}if(o===0){N7=a(c);if(N7){return ff(N7);}return b1;}}return b1;};var hf=function(r,c){var N7=af(r,c);return Pe(N7)&&!I9.isBogusAll(N7);};var jf=function(r,c){return I9.isTable(af(r,c));};var kf=function(f,c){return S.from(af(f?0:-1,c)).filter(Pe);};var lf=function(d,r,b1){var n=gf(d,r,b1);if(d===-1){return oc.fromRangeStart(n);}return oc.fromRangeEnd(n);};var mf=Te(hf,0);var nf=Te(hf,-1);var of=Te(jf,0);var pf=Te(jf,-1);var qf;(function(qf){qf[qf['Backwards']=-1]='Backwards';qf[qf['Forwards']=1]='Forwards';}(qf||(qf={})));var rf=I9.isContentEditableFalse;var sf=I9.isText;var tf=I9.isElement;var uf=I9.isBr;var vf=lb;var wf=rb;var xf=sb;var yf=function(N7,r){var k8=[];while(N7&&N7!==r){k8.push(N7);N7=N7.parentNode;}return k8;};var zf=function(c,o){if(c.hasChildNodes()&&o<c.childNodes.length){return c.childNodes[o];}return null;};var Af=function(d,N7){if(We(d)){if(vf(N7.previousSibling)&&!sf(N7.previousSibling)){return pc.before(N7);}if(sf(N7)){return pc(N7,0);}}if(Xe(d)){if(vf(N7.nextSibling)&&!sf(N7.nextSibling)){return pc.after(N7);}if(sf(N7)){return pc(N7,N7.data.length);}}if(Xe(d)){if(uf(N7)){return pc.before(N7);}return pc.after(N7);}return pc.before(N7);};var Bf=function(N7,r){var n;if(!I9.isBr(N7)){return false;}n=Cf(1,pc.after(N7),r);if(!n){return false;}return!_e(pc.before(N7),pc.before(n),r);};var Cf=function(d,s,r){var N7,n,a;var b,c;if(!tf(r)||!s){return null;}if(s.isEqual(pc.after(r))&&r.lastChild){c=pc.after(r.lastChild);if(Xe(d)&&vf(r.lastChild)&&tf(r.lastChild)){return uf(r.lastChild)?pc.before(r.lastChild):c;}}else{c=s;}var f=c.container();var o=c.offset();if(sf(f)){if(Xe(d)&&o>0){return pc(f,--o);}if(We(d)&&o<f.length){return pc(f,++o);}N7=f;}else{if(Xe(d)&&o>0){n=zf(f,o-1);if(vf(n)){if(!wf(n)){a=Ze(n,d,xf,n);if(a){if(sf(a)){return pc(a,a.data.length);}return pc.after(a);}}if(sf(n)){return pc(n,n.data.length);}return pc.before(n);}}if(We(d)&&o<f.childNodes.length){n=zf(f,o);if(vf(n)){if(uf(n)&&r.lastChild===n){return null;}if(Bf(n,r)){return Cf(d,pc.after(n),r);}if(!wf(n)){a=Ze(n,d,xf,n);if(a){if(sf(a)){return pc(a,0);}return pc.before(a);}}if(sf(n)){return pc(n,0);}return pc.after(n);}}N7=n?n:c.getNode();}if(We(d)&&c.isAtEnd()||Xe(d)&&c.isAtStart()){N7=Ze(N7,d,Qb.constant(true),r,true);if(xf(N7,r)){return Af(d,N7);}}n=Ze(N7,d,xf,r);b=r4.last(r4.filter(yf(f,r),rf));if(b&&(!n||!b.contains(n))){if(We(d)){c=pc.after(b);}else{c=pc.before(b);}return c;}if(n){return Af(d,n);}return null;};var Df=function(r){return{next:function(c){return Cf(qf.Forwards,c,r);},prev:function(c){return Cf(qf.Backwards,c,r);}};};var Ef=function(N7){return N7.firstChild&&N7.firstChild===N7.lastChild;};var Ff=function(N7){return N7.name==='br'||N7.value==='\xA0';};var Gf=function(s,N7){var b=s.getBlockElements();return b[N7.name]&&Ef(N7)&&Ff(N7.firstChild);};var Hf=function(s,N7){var n=s.getNonEmptyElements();return N7&&(N7.isEmpty(n)||Gf(s,N7));};var If=function(s,f){var t8=f.firstChild;var u8=f.lastChild;if(t8&&t8.name==='meta'){t8=t8.next;}if(u8&&u8.attr('id')==='mce_marker'){u8=u8.prev;}if(Hf(s,u8)){u8=u8.prev;}if(!t8||t8!==u8){return false;}return t8.name==='ul'||t8.name==='ol';};var Jf=function(d){var t8=d.firstChild;var u8=d.lastChild;if(t8&&t8.nodeName==='META'){t8.parentNode.removeChild(t8);}if(u8&&u8.id==='mce_marker'){u8.parentNode.removeChild(u8);}return d;};var Kf=function(Jv,s,f){var h=s.serialize(f);var d=Jv.createFragment(h);return Jf(d);};var Lf=function(a){return E4.grep(a.childNodes,function(s8){return s8.nodeName==='LI';});};var Mf=function(N7){return N7.data==='\xA0'||I9.isBr(N7);};var Nf=function(N7){return N7&&N7.firstChild&&N7.firstChild===N7.lastChild&&Mf(N7.firstChild);};var Of=function(a){return!a.firstChild||Nf(a);};var Pf=function(a){return a.length>0&&Of(a[a.length-1])?a.slice(0,-1):a;};var Qf=function(Jv,N7){var p=Jv.getParent(N7,Jv.isBlock);return p&&p.nodeName==='LI'?p:null;};var Rf=function(Jv,N7){return!!Qf(Jv,N7);};var Sf=function(p,r){var b=r.cloneRange();var a=r.cloneRange();b.setStartBefore(p);a.setEndAfter(p);return[b.cloneContents(),a.cloneContents()];};var Tf=function(N7,r){var c=pc.before(N7);var a=Df(r);var n=a.next(c);return n?n.toRange():null;};var Uf=function(N7,r){var c=pc.after(N7);var a=Df(r);var n=a.prev(c);return n?n.toRange():null;};var Vf=function(t,a,r,b){var p=Sf(t,b);var c=t.parentNode;c.insertBefore(p[0],t);E4.each(a,function(l){c.insertBefore(l,t);});c.insertBefore(p[1],t);c.removeChild(t);return Uf(a[a.length-1],r);};var Wf=function(t,a,r){var p=t.parentNode;E4.each(a,function(b){p.insertBefore(b,t);});return Tf(t,r);};var Xf=function(t,a,r,Jv){Jv.insertAfter(a.reverse(),t);return Uf(a[0],r);};var Yf=function(s,Jv,r,f){var d=Kf(Jv,s,f);var l=Qf(Jv,r.startContainer);var a=Pf(Lf(d.firstChild));var b=1,c=2;var g=Jv.getRoot();var h=function(j){var k=pc.fromRangeStart(r);var m=Df(Jv.getRoot());var n=j===b?m.prev(k):m.next(k);return n?Qf(Jv,n.getNode())!==l:true;};if(h(b)){return Wf(l,a,g);}else if(h(c)){return Xf(l,a,g,Jv);}return Vf(l,a,g,r);};var Zf={isListFragment:If,insertAtCaret:Yf,isParentBlockLi:Rf,trimListItems:Pf,listItems:Lf};var $f=I9.isText;var _f=I9.isBogus;var ag=Ba.nodeIndex;var bg=function(N7){var p=N7.parentNode;if(_f(p)){return bg(p);}return p;};var cg=function(N7){if(!N7){return[];}return r4.reduce(N7.childNodes,function(r,N7){if(_f(N7)&&N7.nodeName!=='BR'){r=r.concat(cg(N7));}else{r.push(N7);}return r;},[]);};var dg=function(N7,o){while(N7=N7.previousSibling){if(!$f(N7)){break;}o+=N7.data.length;}return o;};var eg=function(a){return function(b){return a===b;};};var fg=function(N7){var n,a,b;n=cg(bg(N7));a=r4.findIndex(n,eg(N7),N7);n=n.slice(0,a+1);b=r4.reduce(n,function(r,N7,i){if($f(N7)&&$f(n[i-1])){r++;}return r;},0);n=r4.filter(n,I9.matchNodeNames(N7.nodeName));a=r4.findIndex(n,eg(N7),N7);return a-b;};var gg=function(N7){var n;if($f(N7)){n='text()';}else{n=N7.nodeName.toLowerCase();}return n+'['+fg(N7)+']';};var hg=function(r,N7,p){var k8=[];for(N7=N7.parentNode;N7!==r;N7=N7.parentNode){if(p&&p(N7)){break;}k8.push(N7);}return k8;};var ig=function(r,c){var a,o,J1=[],b,d,k8;a=c.container();o=c.offset();if($f(a)){b=dg(a,o);}else{d=a.childNodes;if(o>=d.length){b='after';o=d.length-1;}else{b='before';}a=d[o];}J1.push(gg(a));k8=hg(r,a);k8=r4.filter(k8,Qb.negate(I9.isBogus));J1=J1.concat(r4.map(k8,function(N7){return gg(N7);}));return J1.reverse().join('/')+','+b;};var jg=function(N7,n,a){var b=cg(N7);b=r4.filter(b,function(N7,a){return!$f(N7)||!$f(b[a-1]);});b=r4.filter(b,I9.matchNodeNames(n));return b[a];};var kg=function(c,o){var N7=c,t=0,d;while($f(N7)){d=N7.data.length;if(o>=t&&o<=t+d){c=N7;o=o-t;break;}if(!$f(N7.nextSibling)){c=N7;o=d;break;}t+=d;N7=N7.nextSibling;}if($f(c)&&o>c.data.length){o=c.data.length;}return pc(c,o);};var lg=function(r,J1){var p,c,o;if(!J1){return null;}p=J1.split(',');J1=p[0].split('/');o=p.length>1?p[1]:'before';c=r4.reduce(J1,function(a,E6){E6=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(E6);if(!E6){return null;}if(E6[1]==='text()'){E6[1]='#text';}return jg(a,E6[1],parseInt(E6[2],10));},r);if(!c){return null;}if(!$f(c)){if(o==='after'){o=ag(c)+1;}else{o=ag(c);}return pc(c.parentNode,o);}return kg(c,parseInt(o,10));};var mg=I9.isContentEditableFalse;var ng=function(t4,c,o){var N7,t;t=t4(c.data.slice(0,o)).length;for(N7=c.previousSibling;N7&&I9.isText(N7);N7=N7.previousSibling){t+=t4(N7.data).length;}return t;};var og=function(Jv,t4,n,r,dl){var c=r[dl?'startContainer':'endContainer'];var o=r[dl?'startOffset':'endOffset'];var p=[];var a,je=0;var b=Jv.getRoot();if(I9.isText(c)){p.push(n?ng(t4,c,o):o);}else{a=c.childNodes;if(o>=a.length&&a.length){je=1;o=Math.max(0,a.length-1);}p.push(Jv.nodeIndex(a[o],n)+je);}for(;c&&c!==b;c=c.parentNode){p.push(Jv.nodeIndex(c,n));}return p;};var pg=function(t4,s,n,r){var Jv=s.dom,b={};b.start=og(Jv,t4,n,r,true);if(!s.isCollapsed()){b.end=og(Jv,t4,n,r,false);}return b;};var qg=function(N7){if(I9.isText(N7)&&N7.data.length===0){N7.parentNode.removeChild(N7);}};var rg=function(Jv,n,a){var Lq=0;E4.each(Jv.select(n),function(N7){if(N7.getAttribute('data-mce-bogus')==='all'){return;}if(N7===a){return false;}Lq++;});return Lq;};var sg=function(r,dl){var c,o,a;var p=dl?'start':'end';c=r[p+'Container'];o=r[p+'Offset'];if(I9.isElement(c)&&c.nodeName==='TR'){a=c.childNodes;c=a[Math.min(dl?o:o-1,a.length-1)];if(c){o=dl?0:c.childNodes.length;r['set'+(dl?'Start':'End')](c,o);}}};var tg=function(r){sg(r,true);sg(r,false);return r;};var ug=function(N7,o){var f5;if(I9.isElement(N7)){N7=Fb(N7,o);if(mg(N7)){return N7;}}if(Ra(N7)){if(I9.isText(N7)&&Pa(N7)){N7=N7.parentNode;}f5=N7.previousSibling;if(mg(f5)){return f5;}f5=N7.nextSibling;if(mg(f5)){return f5;}}};var vg=function(r){return ug(r.startContainer,r.startOffset)||ug(r.endContainer,r.endOffset);};var wg=function(t4,n,s){var a=s.getNode();var b=a?a.nodeName:null;var r=s.getRng();if(mg(a)||b==='IMG'){return{name:b,index:rg(s.dom,b,a)};}var f5=vg(r);if(f5){b=f5.tagName;return{name:b,index:rg(s.dom,b,f5)};}return pg(t4,s,n,r);};var xg=function(s){var r=s.getRng();return{start:ig(s.dom.getRoot(),pc.fromRangeStart(r)),end:ig(s.dom.getRoot(),pc.fromRangeEnd(r))};};var yg=function(s){return{rng:s.getRng()};};var zg=function(Jv,a,f){var b={'data-mce-type':'bookmark','id':a,'style':'overflow:hidden;line-height:0px'};return f?Jv.create('span',b,'&#xFEFF;'):Jv.create('span',b);};var Ag=function(s,f){var Jv=s.dom;var r=s.getRng();var a=Jv.uniqueId();var c=s.isCollapsed();var b=s.getNode();var n=b.nodeName;if(n==='IMG'){return{name:n,index:rg(Jv,n,b)};}var d=tg(r.cloneRange());if(!c){d.collapse(false);var g=zg(Jv,a+'_end',f);d.insertNode(g);qg(g.nextSibling);}r=tg(r);r.collapse(true);var h=zg(Jv,a+'_start',f);r.insertNode(h);qg(h.previousSibling);s.moveToBookmark({id:a,keep:1});return{id:a};};var Bg=function(s,D6,n){if(D6===2){return wg(Ma.trim,n,s);}else if(D6===3){return xg(s);}else if(D6){return yg(s);}else{return Ag(s,false);}};var Cg={getBookmark:Bg,getUndoBookmark:L.curry(wg,L.identity,true),getPersistentBookmark:Ag};var Dg='_mce_caret';var Eg=function(N7){return I9.isElement(N7)&&N7.id===Dg;};var Fg=function(f7,N7){while(N7&&N7!==f7){if(N7.id===Dg){return N7;}N7=N7.parentNode;}return null;};var Gg=function(b){return typeof b.start==='string';};var Hg=function(b){return b.hasOwnProperty('rng');};var Ig=function(b){return b.hasOwnProperty('id');};var Jg=function(b){return b.hasOwnProperty('name');};var Kg=function(b){return E4.isArray(b.start);};var Lg=function(Jv,N7){if(Jv.isBlock(N7)&&!N7.innerHTML&&!q2.ie){N7.innerHTML='<br data-mce-bogus="1" />';}return N7;};var Mg=function(Jv,b){var r,p;r=Jv.createRng();p=lg(Jv.getRoot(),b.start);r.setStart(p.container(),p.offset());p=lg(Jv.getRoot(),b.end);r.setEnd(p.container(),p.offset());return r;};var Ng=function(N7,r){var t=N7.ownerDocument.createTextNode(Ma.ZWSP);N7.appendChild(t);r.setStart(t,0);r.setEnd(t,0);};var Og=function(N7){return N7.hasChildNodes()===false;};var Pg=function(N7,r){return Pc.lastPositionIn(N7).fold(function(){return false;},function(p){r.setStart(p.container(),p.offset());r.setEnd(p.container(),p.offset());return true;});};var Qg=function(r,N7,a){if(Og(N7)&&Fg(r,N7)){Ng(N7,a);return true;}else{return false;}};var Rg=function(Jv,dl,b,r){var p=b[dl?'start':'end'];var i,N7,o,r8;var a=Jv.getRoot();if(p){o=p[0];for(N7=a,i=p.length-1;i>=1;i--){r8=N7.childNodes;if(Qg(a,N7,r)){return true;}if(p[i]>r8.length-1){if(Qg(a,N7,r)){return true;}return Pg(N7,r);}N7=r8[p[i]];}if(N7.nodeType===3){o=Math.min(p[0],N7.nodeValue.length);}if(N7.nodeType===1){o=Math.min(p[0],N7.childNodes.length);}if(dl){r.setStart(N7,o);}else{r.setEnd(N7,o);}}return true;};var Sg=function(N7){return I9.isText(N7)&&N7.data.length>0;};var Tg=function(Jv,s,b){var m=Jv.get(b.id+'_'+s),N7,a,n,p;var k=b.keep;var c,o;if(m){N7=m.parentNode;if(s==='start'){if(!k){a=Jv.nodeIndex(m);}else{if(m.hasChildNodes()){N7=m.firstChild;a=1;}else if(Sg(m.nextSibling)){N7=m.nextSibling;a=0;}else if(Sg(m.previousSibling)){N7=m.previousSibling;a=m.previousSibling.data.length;}else{N7=m.parentNode;a=Jv.nodeIndex(m)+1;}}c=N7;o=a;}else{if(!k){a=Jv.nodeIndex(m);}else{if(m.hasChildNodes()){N7=m.firstChild;a=1;}else if(Sg(m.previousSibling)){N7=m.previousSibling;a=m.previousSibling.data.length;}else{N7=m.parentNode;a=Jv.nodeIndex(m);}}c=N7;o=a;}if(!k){p=m.previousSibling;n=m.nextSibling;E4.each(E4.grep(m.childNodes),function(N7){if(I9.isText(N7)){N7.nodeValue=N7.nodeValue.replace(/\uFEFF/g,'');}});while(m=Jv.get(b.id+'_'+s)){Jv.remove(m,true);}if(p&&n&&p.nodeType===n.nodeType&&I9.isText(p)&&!q2.opera){a=p.nodeValue.length;p.appendData(n.nodeValue);Jv.remove(n);if(s==='start'){c=p;o=a;}else{c=p;o=a;}}}return S.some(pc(c,o));}else{return S.none();}};var Ug=function(o,a){return o.isSome()?o:a;};var Vg=function(Jv,b){var r=Jv.createRng();if(Rg(Jv,true,b,r)&&Rg(Jv,false,b,r)){return S.some(r);}else{return S.none();}};var Wg=function(Jv,b){var s=Tg(Jv,'start',b);var a=Tg(Jv,'end',b);return Ub.liftN([s,Ug(a,s)],function(c,d){var r=Jv.createRng();r.setStart(Lg(Jv,c.container()),c.offset());r.setEnd(Lg(Jv,d.container()),d.offset());return r;});};var Xg=function(Jv,b){return S.from(Jv.select(b.name)[b.index]).map(function(a){var r=Jv.createRng();r.selectNode(a);return r;});};var Yg=function(s,b){var Jv=s.dom;if(b){if(Kg(b)){return Vg(Jv,b);}else if(Gg(b)){return S.some(Mg(Jv,b));}else if(Ig(b)){return Wg(Jv,b);}else if(Jg(b)){return Xg(Jv,b);}else if(Hg(b)){return S.some(b.rng);}}return S.none();};var Zg={resolve:Yg};var $g=function(s,D6,n){return Cg.getBookmark(s,D6,n);};var _g=function(s,b){Zg.resolve(s,b).each(function(r){s.setRng(r);});};var ah=function(N7){return I9.isElement(N7)&&N7.tagName==='SPAN'&&N7.getAttribute('data-mce-type')==='bookmark';};var bh={getBookmark:$g,moveToBookmark:_g,isBookmarkNode:ah};var dh=E4.each;var eh=function(Jv){this.compare=function(n,a){if(n.nodeName!==a.nodeName){return false;}var g=function(N7){var b={};dh(Jv.getAttribs(N7),function(d){var f=d.nodeName.toLowerCase();if(f.indexOf('_')!==0&&f!=='style'&&f.indexOf('data-')!==0){b[f]=Jv.getAttrib(N7,f);}});return b;};var c=function(o,b){var E6,d;for(d in o){if(o.hasOwnProperty(d)){E6=b[d];if(typeof E6==='undefined'){return false;}if(o[d]!==E6){return false;}delete b[d];}}for(d in b){if(b.hasOwnProperty(d)){return false;}}return true;};if(!c(g(n),g(a))){return false;}if(!c(Jv.parseStyle(Jv.getAttrib(n,'style')),Jv.parseStyle(Jv.getAttrib(a,'style')))){return false;}return!bh.isBookmarkNode(n)&&!bh.isBookmarkNode(a);};};var fh=function(m,a){H1.each(a,function(x){qe.before(m,x);});};var gh=function(m,a){H1.each(a,function(x,i){var e=i===0?m:a[i-1];qe.after(e,x);});};var hh=function(i8,a){H1.each(a.slice().reverse(),function(x){qe.prepend(i8,x);});};var ih=function(i8,a){H1.each(a,function(x){qe.append(i8,x);});};var jh={before:fh,after:gh,prepend:hh,append:ih};var kh=function(a){a.dom().textContent='';H1.each(z8.children(a),function(r){lh(r);});};var lh=function(a){var Jv=a.dom();if(Jv.parentNode!==null)Jv.parentNode.removeChild(Jv);};var mh=function(w){var r8=z8.children(w);if(r8.length>0)jh.before(w,r8);lh(w);};var nh={empty:kh,remove:lh,unwrap:mh};function oh(a,n){var Y6=function(c){if(!a(c))throw new Error('Can only get '+n+' value of a '+n+' node');return rh(c).getOr('');};var g=function(c){try{return b(c);}catch(e){return S.none();}};var b=function(c){return a(c)?S.from(c.dom().nodeValue):S.none();};var c8=u6.detect().browser;var rh=c8.isIE()&&c8.version.major===10?g:b;var W6=function(c,E6){if(!a(c))throw new Error('Can only set raw '+n+' value of a '+n+' node');c.dom().nodeValue=E6;};return{get:Y6,getOption:rh,set:W6};}var ph=oh(K6.isText,'text');var qh=function(a){return ph.get(a);};var rh=function(a){return ph.getOption(a);};var sh=function(a,E6){ph.set(a,E6);};var th={get:qh,getOption:rh,set:sh};var uh=function(a){var r8=[];var r=a.dom();while(r){r8.push(A6.fromDom(r));r=r.lastChild;}return r8;};var vh=function(a){var b=xd.descendants(a,'br');var c=H1.filter(uh(a).slice(-1),j9);if(b.length===c.length){H1.each(c,nh.remove);}};var wh=function(a){nh.empty(a);qe.append(a,A6.fromHtml('<br data-mce-bogus="1">'));};var xh=function(a){return K6.isText(a)?th.get(a)==='\xA0':j9(a);};var yh=function(a){return H1.filter(z8.children(a),xh).length===1;};var zh=function(a){z8.lastChild(a).each(function(u8){z8.prevSibling(u8).each(function(l){if(h9(a)&&j9(u8)&&h9(l)){nh.remove(u8);}});});};var Ah={removeTrailingBr:vh,fillWithPaddingBr:wh,isPaddedElement:yh,trimBlockTrailingBr:zh};var Bh=E4.makeMap;function Ch(s){var h=[];var a,b,c,d,f;s=s||{};a=s.indent;b=Bh(s.indent_before||'');c=Bh(s.indent_after||'');d=ca.getEncodeFunc(s.entity_encoding||'raw',s.entities);f=s.element_format==='html';return{start:function(n,g,kh){var i,l,j,E6;if(a&&b[n]&&h.length>0){E6=h[h.length-1];if(E6.length>0&&E6!=='\n'){h.push('\n');}}h.push('<',n);if(g){for(i=0,l=g.length;i<l;i++){j=g[i];h.push(' ',j.name,'="',d(j.value,true),'"');}}if(!kh||f){h[h.length]='>';}else{h[h.length]=' />';}if(kh&&a&&c[n]&&h.length>0){E6=h[h.length-1];if(E6.length>0&&E6!=='\n'){h.push('\n');}}},end:function(n){var E6;h.push('</',n,'>');if(a&&c[n]&&h.length>0){E6=h[h.length-1];if(E6.length>0&&E6!=='\n'){h.push('\n');}}},text:function(t,r){if(t.length>0){h[h.length]=r?t:d(t);}},cdata:function(t){h.push('<![CDATA[',t,']]>');},comment:function(t){h.push('<!--',t,'-->');},pi:function(n,t){if(t){h.push('<?',n,' ',d(t),'?>');}else{h.push('<?',n,'?>');}if(a){h.push('\n');}},doctype:function(t){h.push('<!DOCTYPE',t,'>',a?'\n':'');},reset:function(){h.length=0;},getContent:function(){return h.join('').replace(/\n$/,'');}};}function Dh(s,a){if(a===void 0){a=oa();}var w=Ch(s);s=s||{};s.validate='validate'in s?s.validate:true;var GC=function(N7){var h,io;io=s.validate;h={3:function(N7){w.text(N7.value,N7.raw);},8:function(N7){w.comment(N7.value);},7:function(N7){w.pi(N7.name,N7.value);},10:function(N7){w.doctype(N7.value);},4:function(N7){w.cdata(N7.value);},11:function(N7){if(N7=N7.firstChild){do{z4(N7);}while(N7=N7.next);}}};w.reset();var z4=function(N7){var b=h[N7.type];var n,Og,c,d,f,g,i,l,j;if(!b){n=N7.name;Og=N7.shortEnded;c=N7.attributes;if(io&&c&&c.length>1){g=[];g.map={};j=a.getElementRule(N7.name);if(j){for(i=0,l=j.attributesOrder.length;i<l;i++){d=j.attributesOrder[i];if(d in c.map){f=c.map[d];g.map[d]=f;g.push({name:d,value:f});}}for(i=0,l=c.length;i<l;i++){d=c[i].name;if(!(d in g.map)){f=c.map[d];g.map[d]=f;g.push({name:d,value:f});}}c=g;}}w.start(N7.name,c,Og);if(!Og){if(N7=N7.firstChild){do{z4(N7);}while(N7=N7.next);}w.end(n);}}else{b(N7);}};if(N7.type===1&&!s.inner){z4(N7);}else{h[11](N7);}return w.getContent();};return{serialize:GC};}var Eh=function(s,a,b,c){var r=document.createRange();r.setStart(s,a);r.setEnd(b,c);return r;};var Fh=function(r){var s=pc.fromRangeStart(r);var a=pc.fromRangeEnd(r);var b=r.commonAncestorContainer;return Pc.fromPosition(false,b,a).map(function(n){if(!_e(s,a,b)&&_e(s,n,b)){return Eh(s.container(),s.offset(),n.container(),n.offset());}else{return r;}}).getOr(r);};var Gh=function(r){return r.collapsed?r:Fh(r);};var Hh={normalize:Gh};var Ih=I9.matchNodeNames('td th');var Jh=function(a,E6,p){if(p.getAttribute('data-mce-bogus')==='all'){p.parentNode.insertBefore(a.dom.createFragment(E6),p);}else{var N7=p.firstChild;var n=p.lastChild;if(!N7||N7===n&&N7.nodeName==='BR'){a.dom.setHTML(p,E6);}else{a.selection.setContent(E6);}}};var Kh=function(Jv,a){S.from(Jv.getParent(a,'td,th')).map(A6.fromDom).each(Ah.trimBlockTrailingBr);};var Lh=function(a,E6,d){var p,s,b,r,f,c;var m,g,N7,n,h,Zv;var t=a.schema.getTextInlineElements();var j=a.selection,Jv=a.dom;var k=function(a1){var g,d1,e1;g=j.getRng();d1=g.startContainer;e1=g.startOffset;var o1=function(x1){return d1[x1]&&d1[x1].nodeType===3;};if(d1.nodeType===3){if(e1>0){a1=a1.replace(/^&nbsp;/,' ');}else if(!o1('previousSibling')){a1=a1.replace(/^ /,'&nbsp;');}if(e1<d1.length){a1=a1.replace(/&nbsp;(<br>|)$/,' ');}else if(!o1('nextSibling')){a1=a1.replace(/(&nbsp;| )(<br>|)$/,'&nbsp;');}}return a1;};var l=function(){var g,a1,d1;g=j.getRng();a1=g.startContainer;d1=g.startOffset;if(a1.nodeType===3&&g.collapsed){if(a1.data[d1]==='\xA0'){a1.deleteData(d1,1);if(!/[\u00a0| ]$/.test(E6)){E6+=' ';}}else if(a1.data[d1-1]==='\xA0'){a1.deleteData(d1-1,1);if(!/[\u00a0| ]$/.test(E6)){E6=' '+E6;}}}};var o=function(){if(Zv){var a1=a.getBody(),d1=new eh(Jv);E4.each(Jv.select('*[data-mce-fragment]'),function(N7){for(var e1=N7.parentNode;e1&&e1!==a1;e1=e1.parentNode){if(t[N7.nodeName.toLowerCase()]&&d1.compare(e1,N7)){Jv.remove(N7,true);}}});}};var u=function(f){var N7=f;while(N7=N7.walk()){if(N7.type===1){N7.attr('data-mce-fragment','1');}}};var v=function(a1){E4.each(a1.getElementsByTagName('*'),function(a1){a1.removeAttribute('data-mce-fragment');});};var w=function(N7){return!!N7.getAttribute('data-mce-fragment');};var x=function(N7){return N7&&!a.schema.getShortEndedElements()[N7.nodeName];};var y=function(m){var a1,d1,e1;var o1=function(N7){var y1=a.getBody();for(;N7&&N7!==y1;N7=N7.parentNode){if(a.dom.getContentEditable(N7)==='false'){return N7;}}return null;};if(!m){return;}j.scrollIntoView(m);a1=o1(m);if(a1){Jv.remove(m);j.select(a1);return;}g=Jv.createRng();N7=m.previousSibling;if(N7&&N7.nodeType===3){g.setStart(N7,N7.nodeValue.length);if(!q2.ie){n=m.nextSibling;if(n&&n.nodeType===3){N7.appendData(n.data);n.parentNode.removeChild(n);}}}else{g.setStartBefore(m);g.setEndBefore(m);}var x1=function(g){var y1=pc.fromRangeStart(g);var $1=Df(a.getBody());y1=$1.next(y1);if(y1){return y1.toRange();}};d1=Jv.getParent(m,Jv.isBlock);Jv.remove(m);if(d1&&Jv.isEmpty(d1)){a.$(d1).empty();g.setStart(d1,0);g.setEnd(d1,0);if(!Ih(d1)&&!w(d1)&&(e1=x1(g))){g=e1;Jv.remove(d1);}else{Jv.add(d1,Jv.create('br',{'data-mce-bogus':'1'}));}}j.setRng(g);};if(/^ | $/.test(E6)){E6=k(E6);}p=a.parser;Zv=d.merge;s=Dh({validate:a.settings.validate},a.schema);h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';c={content:E6,format:'html',selection:true,paste:d.paste};c=a.fire('BeforeSetContent',c);if(c.isDefaultPrevented()){a.fire('SetContent',{content:c.content,format:'html',selection:true,paste:d.paste});return;}E6=c.content;if(E6.indexOf('{$caret}')===-1){E6+='{$caret}';}E6=E6.replace(/\{\$caret\}/,h);g=j.getRng();var $=g.startContainer||(g.parentElement?g.parentElement():null);var f7=a.getBody();if($===f7&&j.isCollapsed()){if(Jv.isBlock(f7.firstChild)&&x(f7.firstChild)&&Jv.isEmpty(f7.firstChild)){g=Jv.createRng();g.setStart(f7.firstChild,0);g.setEnd(f7.firstChild,0);j.setRng(g);}}if(!j.isCollapsed()){a.selection.setRng(Hh.normalize(a.selection.getRng()));a.getDoc().execCommand('Delete',false,null);l();}b=j.getNode();var _={context:b.nodeName.toLowerCase(),data:d.data,insert:true};f=p.parse(E6,_);if(d.paste===true&&Zf.isListFragment(a.schema,f)&&Zf.isParentBlockLi(Jv,b)){g=Zf.insertAtCaret(s,Jv,a.selection.getRng(),f);a.selection.setRng(g);a.fire('SetContent',c);return;}u(f);N7=f.lastChild;if(N7.attr('id')==='mce_marker'){m=N7;for(N7=N7.prev;N7;N7=N7.walk(true)){if(N7.type===3||!Jv.isBlock(N7.name)){if(a.schema.isValidChild(N7.parent.name,'span')){N7.parent.insert(m,N7,N7.name==='br');}break;}}}a._selectionOverrides.showBlockCaretContainer(b);if(!_.invalid){E6=s.serialize(f);Jh(a,E6,b);}else{j.setContent(h);b=j.getNode();r=a.getBody();if(b.nodeType===9){b=N7=r;}else{N7=b;}while(N7!==r){b=N7;N7=N7.parentNode;}E6=b===r?r.innerHTML:Jv.getOuterHTML(b);E6=s.serialize(p.parse(E6.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(f);})));if(b===r){Jv.setHTML(r,E6);}else{Jv.setOuterHTML(b,E6);}}o();y(Jv.get('mce_marker'));v(a.getBody());Kh(a.dom,a.selection.getStart());a.fire('SetContent',c);a.addVisual();};var Mh=function(E6){var d;if(typeof E6!=='string'){d=E4.extend({paste:E6.paste,data:{paste:E6.paste}},E6);return{content:E6.content,details:d};}return{content:E6,details:{}};};var Nh=function(a,E6){var r=Mh(E6);Lh(a,r.content,r.details);};var Oh={insertAtCaret:Nh};function Ph(b,Rh,s,a,c){return b(s,a)?S.some(s):V.isFunction(c)&&c(s)?S.none():Rh(s,a,c);}var Qh=function(p){return Vh(h7.body(),p);};var Rh=function(s,p,a){var b=s.dom();var Lr=V.isFunction(a)?a:L.constant(false);while(b.parentNode){b=b.parentNode;var c=A6.fromDom(b);if(p(c))return S.some(c);else if(Lr(c))break;}return S.none();};var Sh=function(s,p,a){var b=function(s){return p(s);};return Ph(b,Rh,s,p,a);};var Th=function(s,p){var a=s.dom();if(!a.parentNode)return S.none();return Uh(A6.fromDom(a.parentNode),function(x){return!e8.eq(s,x)&&p(x);});};var Uh=function(s,p){var r=H1.find(s.dom().childNodes,L.compose(p,A6.fromDom));return r.map(A6.fromDom);};var Vh=function(s,p){var d=function(a){for(var i=0;i<a.childNodes.length;i++){if(p(A6.fromDom(a.childNodes[i])))return S.some(A6.fromDom(a.childNodes[i]));var r=d(a.childNodes[i]);if(r.isSome())return r;}return S.none();};return d(s.dom());};var Wh={first:Qh,ancestor:Rh,closest:Sh,sibling:Th,child:Uh,descendant:Vh};var Xh=K7.immutable('sections','settings');var Yh=u6.detect();var Zh=Yh.deviceType.isTouch();var $h=['lists','autolink','autosave'];var _h={theme:'mobile'};var bi=function(p){var a=V.isArray(p)?p.join(' '):p;var t=H1.map(V.isString(a)?a.split(' '):[],l6.trim);return H1.filter(t,function(b){return b.length>0;});};var di=function(p){return H1.filter(p,L.curry(H1.contains,$h));};var gi=function(L6,s){var r=U6.bifilter(s,function(E6,k){return H1.contains(L6,k);});return Xh(r.t,r.f);};var ii=function(Xh,n,d){var s=Xh.sections();var a=s.hasOwnProperty(n)?s[n]:{};return E4.extend({},d,a);};var ji=function(Xh,n){return Xh.sections().hasOwnProperty(n);};var ki=function(a,d,b){return{id:a,theme:'modern',delta_width:0,delta_height:0,popup_css:'',plugins:'',document_base_url:d,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:'<!DOCTYPE html>',visual:true,font_size_style_values:'xx-small,x-small,small,medium,large,x-large,xx-large',font_size_legacy_values:'xx-small,small,medium,large,x-large,xx-large,300%',forced_root_block:'p',hidden_input:true,render_ui:true,indentation:'30px',inline_styles:true,convert_fonts_to_spans:true,indent:'simple',indent_before:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',indent_after:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',entity_encoding:'named',url_converter:b.convertURL,url_converter_scope:b,ie7_compat:true};};var mi=function(o,s){var u=s.external_plugins?s.external_plugins:{};if(o&&o.external_plugins){return E4.extend({},o.external_plugins,u);}else{return u;}};var oi=function(f,p){return[].concat(bi(f)).concat(bi(p));};var qi=function(a,Xh,d,s){var f=bi(d.forced_plugins);var p=bi(s.plugins);var b=a&&ji(Xh,'mobile')?di(p):p;var c=oi(f,b);return E4.extend(s,{plugins:c.join(' ')});};var ri=function(a,Xh){var i9=Xh.settings().inline;return a&&ji(Xh,'mobile')&&!i9;};var si=function(a,d,b,s){var Xh=gi(['mobile'],s);var c=E4.extend(d,b,Xh.settings(),ri(a,Xh)?ii(Xh,'mobile',_h):{},{validate:true,content_editable:Xh.settings().inline,external_plugins:mi(b,Xh.settings())});return qi(a,Xh,b,c);};var ti=function(a,b,d,c,s){var f=ki(b,d,a);return si(Zh,f,c,s);};var vi=function(p,a,n){return S.from(a.settings[n]).filter(p);};var wi=L.curry(vi,V.isString);var xi=function(E6){var o={};if(typeof E6==='string'){H1.each(E6.indexOf('=')>0?E6.split(/[;,](?![^=;,]*(?:[;,]|$))/):E6.split(','),function(v){var r3=v.split('=');if(r3.length>1){o[E4.trim(r3[0])]=E4.trim(r3[1]);}else{o[E4.trim(r3[0])]=E4.trim(r3);}});}else{o=E6;}return o;};var yi=function(p){return function(a){return V.isArray(a)&&H1.forall(a,p);};};var zi=function(a,n,d,D6){var E6=n in a.settings?a.settings[n]:d;if(D6==='hash'){return xi(E6);}else if(D6==='string'){return vi(V.isString,a,n).getOr(d);}else if(D6==='number'){return vi(V.isNumber,a,n).getOr(d);}else if(D6==='boolean'){return vi(V.isBoolean,a,n).getOr(d);}else if(D6==='object'){return vi(V.isObject,a,n).getOr(d);}else if(D6==='array'){return vi(V.isArray,a,n).getOr(d);}else if(D6==='string[]'){return vi(yi(V.isString),a,n).getOr(d);}else if(D6==='function'){return vi(V.isFunction,a,n).getOr(d);}else{return E6;}};var Ai=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;var Bi=function(t){return Ai.test(t);};var Ci=function(a,b){var s=wi(a,'inline_boundaries_selector').getOr('a[href],code');return Y7.is(A6.fromDom(b),s);};var Di=function(a){return Ba.DOM.getStyle(a,'direction',true)==='rtl'||Bi(a.textContent);};var Ei=function(Ci,r,p){return H1.filter(Ba.DOM.getParents(p.container(),'*',r),Ci);};var Fi=function(Ci,r,p){var k8=Ei(Ci,r,p);return S.from(k8[k8.length-1]);};var Gi=function(r,n,a){var b=$e(n,r);var c=$e(a,r);return b&&b===c;};var Hi=function(p){return Ua(p)||Va(p);};var Ii=function(f,p){var c=p.container(),o=p.offset();if(f){if(Qa(c)){if(I9.isText(c.nextSibling)){return pc(c.nextSibling,0);}else{return pc.after(c);}}else{return Ua(p)?pc(c,o+1):p;}}else{if(Qa(c)){if(I9.isText(c.previousSibling)){return pc(c.previousSibling,c.previousSibling.data.length);}else{return pc.before(c);}}else{return Va(p)?pc(c,o-1):p;}}};var Ji=L.curry(Ii,true);var Ki=L.curry(Ii,false);var Li={isInlineTarget:Ci,findRootInline:Fi,isRtl:Di,isAtZwsp:Hi,normalizePosition:Ii,normalizeForwards:Ji,normalizeBackwards:Ki,hasSameParentBlock:Gi};var Mi=function(r){return function(a){return e8.eq(r,A6.fromDom(a.dom().parentNode));};};var Ni=function(r,a){return e8.contains(r,a)?Wh.closest(a,function(b){return k9(b)||m9(b);},Mi(r)):S.none();};var Oi=function(a){var f7=a.getBody();var N7=f7.firstChild&&a.dom.isBlock(f7.firstChild)?f7.firstChild:f7;a.selection.setCursorLocation(N7,0);};var Pi=function(a){if(a.dom.isEmpty(a.getBody())){a.setContent('');Oi(a);}};var Qi=function(f,a,b){return Ub.liftN([Pc.firstPositionIn(b),Pc.lastPositionIn(b)],function(c,l){var n=Li.normalizePosition(true,c);var d=Li.normalizePosition(false,l);var g=Li.normalizePosition(false,a);if(f){return Pc.nextPosition(b,g).map(function(h){return h.isEqual(d)&&a.isEqual(n);}).getOr(false);}else{return Pc.prevPosition(b,g).map(function(p){return p.isEqual(n)&&a.isEqual(d);}).getOr(false);}}).getOr(true);};var Ri={getParentBlock:Ni,paddEmptyBody:Pi,willDeleteLastPositionInElement:Qi};var Si=function(s){return Y7.one(s);};var Ti=function(s,a,b){return Wh.ancestor(s,function(e){return Y7.is(e,a);},b);};var Ui=function(s,a){return Wh.sibling(s,function(e){return Y7.is(e,a);});};var Vi=function(s,a){return Wh.child(s,function(e){return Y7.is(e,a);});};var Wi=function(s,a){return Y7.one(a,s);};var Xi=function(s,a,b){return Ph(Y7.is,Ti,s,a,b);};var Yi={first:Si,ancestor:Ti,sibling:Ui,child:Vi,descendant:Wi,closest:Xi};var Zi=function(s){return Yi.first(s).isSome();};var $i=function(s,a,b){return Yi.ancestor(s,a,b).isSome();};var aj=function(s,a){return Yi.sibling(s,a).isSome();};var bj=function(s,a){return Yi.child(s,a).isSome();};var cj=function(s,a){return Yi.descendant(s,a).isSome();};var dj=function(s,a,b){return Yi.closest(s,a,b).isSome();};var ej={any:Zi,ancestor:$i,sibling:aj,child:bj,descendant:cj,closest:dj};var fj=function(r,N7){var a=A6.fromDom(r);var s=A6.fromDom(N7);return ej.ancestor(s,'pre,code',L.curry(e8.eq,a));};var gj=function(r,N7){return I9.isText(N7)&&/^[ \t\r\n]*$/.test(N7.data)&&fj(r,N7)===false;};var hj=function(N7){return I9.isElement(N7)&&N7.nodeName==='A'&&N7.hasAttribute('name');};var ij=function(r,N7){return lb(N7)&&gj(r,N7)===false||hj(N7)||jj(N7);};var jj=I9.hasAttribute('data-mce-bookmark');var kj=I9.hasAttribute('data-mce-bogus');var lj=I9.hasAttributeValue('data-mce-bogus','all');var mj=function(t){var w,N7,b=0;if(ij(t,t)){return false;}else{N7=t.firstChild;if(!N7){return true;}w=new X8(N7,t);do{if(lj(N7)){N7=w.next(true);continue;}if(kj(N7)){N7=w.next();continue;}if(I9.isBr(N7)){b++;N7=w.next();continue;}if(ij(t,N7)){return false;}N7=w.next();}while(N7);return b<=1;}};var nj=function(a){return mj(a.dom());};var oj={isEmpty:nj};var pj=K7.immutable('block','position');var qj=K7.immutable('from','to');var rj=function(r,p){var a=A6.fromDom(r);var c=A6.fromDom(p.container());return Ri.getParentBlock(a,c).map(function(b){return pj(b,p);});};var sj=function(b){return e8.eq(b.from().block(),b.to().block())===false;};var tj=function(b){return z8.parent(b.from().block()).bind(function(p){return z8.parent(b.to().block()).filter(function(a){return e8.eq(p,a);});}).isSome();};var uj=function(b){return I9.isContentEditableFalse(b.from().block())===false&&I9.isContentEditableFalse(b.to().block())===false;};var vj=function(r,f,b){if(I9.isBr(b.position().getNode())&&oj.isEmpty(b.block())===false){return Pc.positionIn(false,b.block().dom()).bind(function(l){if(l.isEqual(b.position())){return Pc.fromPosition(f,r,l).bind(function(t){return rj(r,t);});}else{return S.some(b);}}).getOr(b);}else{return b;}};var wj=function(r,f,a){var b=rj(r,pc.fromRangeStart(a));var t=b.bind(function(c){return Pc.fromPosition(f,r,c.position()).bind(function(d){return rj(r,d).map(function(c){return vj(r,f,c);});});});return Ub.liftN([b,t],qj).filter(function(c){return sj(c)&&tj(c)&&uj(c);});};var xj=function(r,f,a){return a.collapsed?wj(r,f,a):S.none();};var yj={read:xj};var zj=function(x){return x.slice(0,-1);};var Aj=function(s,r,p){if(e8.contains(r,s)){return zj(z8.parents(s,function(a){return p(a)||e8.eq(a,r);}));}else{return[];}};var Bj=function(s,r){return Aj(s,r,L.constant(false));};var Cj=function(s,r){return[s].concat(Bj(s,r));};var Dj={parentsUntil:Aj,parents:Bj,parentsAndSelf:Cj};var Ej=function(b){var r8=z8.children(b);return H1.findIndex(r8,h9).fold(function(){return r8;},function(a){return r8.slice(0,a);});};var Fj=function(b){var r8=Ej(b);H1.each(r8,function(N7){nh.remove(N7);});return r8;};var Gj=function(V5,b){Pc.positionIn(V5,b.dom()).each(function(p){var N7=p.getNode();if(I9.isBr(N7)){nh.remove(A6.fromDom(N7));}});};var Hj=function(r,b){var k8=Dj.parentsAndSelf(b,r);return H1.find(k8.reverse(),oj.isEmpty).each(nh.remove);};var Ij=function(t,b){var k8=z8.parents(b,function(a){return e8.eq(a,t);});return S.from(k8[k8.length-2]);};var Jj=function(f,t){if(e8.contains(t,f)){return z8.parent(f).bind(function(i8){return e8.eq(i8,t)?S.some(f):Ij(t,f);});}else{return S.none();}};var Kj=function(r,f,t){if(oj.isEmpty(t)){nh.remove(t);if(oj.isEmpty(f)){Ah.fillWithPaddingBr(f);}return Pc.firstPositionIn(f.dom());}else{Gj(true,f);Gj(false,t);var c=Fj(f);return Jj(f,t).fold(function(){Hj(r,f);var p=Pc.lastPositionIn(t.dom());H1.each(c,function(N7){qe.append(t,N7);});return p;},function(a){var p=Pc.prevPosition(t.dom(),pc.before(a.dom()));H1.each(c,function(N7){qe.before(a,N7);});Hj(r,f);return p;});}};var Lj=function(r,f,b,a){return f?Kj(r,a,b):Kj(r,b,a);};var Mj={mergeBlocks:Lj};var Nj=function(a,f){var p;var r=A6.fromDom(a.getBody());p=yj.read(r.dom(),f,a.selection.getRng()).bind(function(b){return Mj.mergeBlocks(r,f,b.from().block(),b.to().block());});p.each(function(b){a.selection.setRng(b.toRange());});return p.isSome();};var Oj={backspaceDelete:Nj};var Pj=function(r,s){var a=s.getRng();return Ub.liftN([Ri.getParentBlock(r,A6.fromDom(a.startContainer)),Ri.getParentBlock(r,A6.fromDom(a.endContainer))],function(b,c){if(e8.eq(b,c)===false){a.deleteContents();Mj.mergeBlocks(r,true,b,c).each(function(p){s.setRng(p.toRange());});return true;}else{return false;}}).getOr(false);};var Qj=function(r,a){var N7=A6.fromDom(a);var b=L.curry(e8.eq,r);return Wh.ancestor(N7,p9,b).isSome();};var Rj=function(r,a){return Qj(r,a.startContainer)||Qj(r,a.endContainer);};var Sj=function(r,a){var n=Pc.prevPosition(r.dom(),pc.fromRangeStart(a)).isNone();var b=Pc.nextPosition(r.dom(),pc.fromRangeEnd(a)).isNone();return!Rj(r,a)&&n&&b;};var Tj=function(a){a.setContent('');a.selection.setCursorLocation();return true;};var Uj=function(a){var r=A6.fromDom(a.getBody());var b=a.selection.getRng();return Sj(r,b)?Tj(a):Pj(r,a.selection);};var Vj=function(a,f){return a.selection.isCollapsed()?false:Uj(a);};var Wj={backspaceDelete:Vj};var Xj=function(c){if(!V.isArray(c)){throw new Error('cases must be an array');}if(c.length===0){throw new Error('there must be at least one case');}var a=[];var Pn={};H1.each(c,function(b,Lq){var L6=U6.keys(b);if(L6.length!==1){throw new Error('one and only one name per case');}var k=L6[0];var E6=b[k];if(Pn[k]!==undefined){throw new Error('duplicate key detected:'+k);}else if(k==='cata'){throw new Error('cannot have a case named cata (sorry)');}else if(!V.isArray(E6)){throw new Error('case arguments must be an array');}a.push(k);Pn[k]=function(){var d=arguments.length;if(d!==E6.length){throw new Error('Wrong number of arguments to case '+k+'. Expected '+E6.length+' ('+E6+'), got '+d);}var f=new Array(d);for(var i=0;i<f.length;i++)f[i]=arguments[i];var fu=function(g){var h=U6.keys(g);if(a.length!==h.length){throw new Error('Wrong number of arguments to match. Expected: '+a.join(',')+'\nActual: '+h.join(','));}var j=H1.forall(a,function(r){return H1.contains(h,r);});if(!j)throw new Error('Not all branches were specified when using match. Specified: '+h.join(', ')+'\nRequired: '+a.join(', '));return g[k].apply(null,f);};return{fold:function(){if(arguments.length!==c.length){throw new Error('Wrong number of arguments to fold. Expected '+c.length+', got '+arguments.length);}var t=arguments[Lq];return t.apply(null,f);},match:fu,log:function(l){console.log(l,{constructors:a,constructor:k,params:f});}};};});return Pn;};var Yj={generate:Xj};var Zj=function(N7){return p9(A6.fromDom(N7))||m9(A6.fromDom(N7));};var $j=Yj.generate([{remove:['element']},{moveToElement:['element']},{moveToPosition:['position']}]);var _j=function(f,R){var a=R.getNode(f===false);var c=f?'after':'before';return I9.isElement(a)&&a.getAttribute('data-mce-caret')===c;};var ak=function(r,f,R,t){var a=function(b){return i9(A6.fromDom(b))&&!_e(R,t,r);};return kf(!f,R).fold(function(){return kf(f,t).fold(L.constant(false),a);},a);};var bk=function(r,f,R,t){var a=t.getNode(f===false);return Ri.getParentBlock(A6.fromDom(r),A6.fromDom(R.getNode())).map(function(b){return oj.isEmpty(b)?$j.remove(b.dom()):$j.moveToElement(a);}).orThunk(function(){return S.some($j.moveToElement(a));});};var ck=function(r,f,R){return Pc.fromPosition(f,r,R).bind(function(t){if(Zj(t.getNode())){return S.none();}else if(ak(r,f,R,t)){return S.none();}else if(f&&I9.isContentEditableFalse(t.getNode())){return bk(r,f,R,t);}else if(f===false&&I9.isContentEditableFalse(t.getNode(true))){return bk(r,f,R,t);}else if(f&&nf(R)){return S.some($j.moveToPosition(t));}else if(f===false&&mf(R)){return S.some($j.moveToPosition(t));}else{return S.none();}});};var dk=function(f,a){if(f&&I9.isContentEditableFalse(a.nextSibling)){return S.some($j.moveToElement(a.nextSibling));}else if(f===false&&I9.isContentEditableFalse(a.previousSibling)){return S.some($j.moveToElement(a.previousSibling));}else{return S.none();}};var ek=function(r,R,Yl){return Yl.fold(function(a){return S.some($j.remove(a));},function(a){return S.some($j.moveToElement(a));},function(t){if(_e(R,t,r)){return S.none();}else{return S.some($j.moveToPosition(t));}});};var fk=function(r,f,R){if(_j(f,R)){return dk(f,R.getNode(f===false)).fold(function(){return ck(r,f,R);},S.some);}else{return ck(r,f,R).bind(function(Yl){return ek(r,R,Yl);});}};var gk=function(r,f,a){var n=gf(f?1:-1,r,a);var R=pc.fromRangeStart(n);if(f===false&&nf(R)){return S.some($j.remove(R.getNode(true)));}else if(f&&mf(R)){return S.some($j.remove(R.getNode()));}else{return fk(r,f,R);}};var hk=function(p,a){var c=p.container();var o=p.offset();return pc.isTextPosition(p)===false&&c===a.parentNode&&o>pc.before(a).offset();};var ik=function(a,p){return hk(p,a)?pc(p.container(),p.offset()-1):p;};var jk=function(N7){return I9.isText(N7)?pc(N7,0):pc.before(N7);};var kk=function(N7){return I9.isText(N7)?pc(N7,N7.data.length):pc.after(N7);};var lk=function(a){if(lb(a.previousSibling)){return S.some(kk(a.previousSibling));}else{return a.previousSibling?Pc.lastPositionIn(a.previousSibling):S.none();}};var mk=function(a){if(lb(a.nextSibling)){return S.some(jk(a.nextSibling));}else{return a.nextSibling?Pc.firstPositionIn(a.nextSibling):S.none();}};var nk=function(r,a){var s=pc.before(a.previousSibling?a.previousSibling:a.parentNode);return Pc.prevPosition(r,s).fold(function(){return Pc.nextPosition(r,pc.after(a));},S.some);};var ok=function(r,a){return Pc.nextPosition(r,pc.after(a)).fold(function(){return Pc.prevPosition(r,pc.before(a));},S.some);};var pk=function(r,a){return lk(a).orThunk(function(){return mk(a);}).orThunk(function(){return nk(r,a);});};var qk=function(r,a){return mk(a).orThunk(function(){return lk(a);}).orThunk(function(){return ok(r,a);});};var rk=function(f,r,a){return f?qk(r,a):pk(r,a);};var sk=function(f,r,a){return rk(f,r,a).map(L.curry(ik,a));};var tk=function(a,f,p){p.fold(function(){a.focus();},function(p){a.selection.setRng(p.toRange(),f);});};var uk=function(r){return function(a){return a.dom()===r;};};var vk=function(a,b){return b&&a.schema.getBlockElements().hasOwnProperty(K6.name(b));};var wk=function(a){if(oj.isEmpty(a)){var b=A6.fromHtml('<br data-mce-bogus="1">');nh.empty(a);qe.append(a,b);return S.some(pc.before(b.dom()));}else{return S.none();}};var xk=function(a,b){return Ub.liftN([z8.prevSibling(a),z8.nextSibling(a),b],function(p,n,c){var o;var d=p.dom();var f=n.dom();if(I9.isText(d)&&I9.isText(f)){o=d.data.length;d.appendData(f.data);nh.remove(n);nh.remove(a);if(c.container()===f){return pc(d,o);}else{return c;}}else{nh.remove(a);return c;}}).orThunk(function(){nh.remove(a);return b;});};var yk=function(a,f,b){var c=sk(f,a.getBody(),b.dom());var p=Wh.ancestor(b,L.curry(vk,a),uk(a.getBody()));var n=xk(b,c);if(a.dom.isEmpty(a.getBody())){a.setContent('');a.selection.setCursorLocation();}else{p.bind(wk).fold(function(){tk(a,f,n);},function(d){tk(a,f,S.some(d));});}};var zk={deleteElement:yk};var Ak=function(a,f){return function(b){a._selectionOverrides.hideFakeCaret();zk.deleteElement(a,f,A6.fromDom(b));return true;};};var Bk=function(a,f){return function(b){var p=f?pc.before(b):pc.after(b);a.selection.setRng(p.toRange());return true;};};var Ck=function(a){return function(p){a.selection.setRng(p.toRange());return true;};};var Dk=function(a,f){var r=gk(a.getBody(),f,a.selection.getRng()).map(function(Yl){return Yl.fold(Ak(a,f),Bk(a,f),Ck(a));});return r.getOr(false);};var Ek=function(r){H1.each(xd.descendants(r,'.mce-offscreen-selection'),nh.remove);};var Fk=function(a,f){var s=a.selection.getNode();if(I9.isContentEditableFalse(s)){Ek(A6.fromDom(a.getBody()));zk.deleteElement(a,f,A6.fromDom(a.selection.getNode()));Ri.paddEmptyBody(a);return true;}else{return false;}};var Gk=function(r,N7){while(N7&&N7!==r){if(I9.isContentEditableTrue(N7)||I9.isContentEditableFalse(N7)){return N7;}N7=N7.parentNode;}return null;};var Hk=function(a){var b;var c=Gk(a.getBody(),a.selection.getNode());if(I9.isContentEditableTrue(c)&&a.dom.isBlock(c)&&a.dom.isEmpty(c)){b=a.dom.create('br',{'data-mce-bogus':'1'});a.dom.setHTML(c,'');c.appendChild(b);a.selection.setRng(pc.before(b).toRange());}return true;};var Ik=function(a,f){if(a.selection.isCollapsed()){return Dk(a,f);}else{return Fk(a,f);}};var Jk={backspaceDelete:Ik,paddEmptyElement:Hk};var Kk=I9.isText;var Lk=function(N7){return Kk(N7)&&N7.data[0]===Ma.ZWSP;};var Mk=function(N7){return Kk(N7)&&N7.data[N7.data.length-1]===Ma.ZWSP;};var Nk=function(N7){return N7.ownerDocument.createTextNode(Ma.ZWSP);};var Ok=function(N7){if(Kk(N7.previousSibling)){if(Mk(N7.previousSibling)){return N7.previousSibling;}else{N7.previousSibling.appendData(Ma.ZWSP);return N7.previousSibling;}}else if(Kk(N7)){if(Lk(N7)){return N7;}else{N7.insertData(0,Ma.ZWSP);return N7;}}else{var n=Nk(N7);N7.parentNode.insertBefore(n,N7);return n;}};var Pk=function(N7){if(Kk(N7.nextSibling)){if(Lk(N7.nextSibling)){return N7.nextSibling;}else{N7.nextSibling.insertData(0,Ma.ZWSP);return N7.nextSibling;}}else if(Kk(N7)){if(Mk(N7)){return N7;}else{N7.appendData(Ma.ZWSP);return N7;}}else{var n=Nk(N7);if(N7.nextSibling){N7.parentNode.insertBefore(n,N7.nextSibling);}else{N7.parentNode.appendChild(n);}return n;}};var Qk=function(he,N7){return he?Ok(N7):Pk(N7);};var Rk=L.curry(Qk,true);var Sk=L.curry(Qk,false);var Tk=function(p,he){if(I9.isText(p.container())){return Qk(he,p.container());}else{return Qk(he,p.getNode());}};var Uk=function(p,c){var a=c.get();return a&&p.container()===a&&Qa(a);};var Vk=function(c,l){return l.fold(function(a){Ec.remove(c.get());var t=Rk(a);c.set(t);return S.some(pc(t,t.length-1));},function(a){return Pc.firstPositionIn(a).map(function(p){if(!Uk(p,c)){Ec.remove(c.get());var t=Tk(p,true);c.set(t);return pc(t,1);}else{return pc(c.get(),1);}});},function(a){return Pc.lastPositionIn(a).map(function(p){if(!Uk(p,c)){Ec.remove(c.get());var t=Tk(p,false);c.set(t);return pc(t,t.length-1);}else{return pc(c.get(),c.get().length-1);}});},function(a){Ec.remove(c.get());var t=Sk(a);c.set(t);return S.some(pc(t,1));});};var Wk={renderCaret:Vk};var Xk=function(f,a){for(var i=0;i<f.length;i++){var r=f[i].apply(null,a);if(r.isSome()){return r;}}return S.none();};var Yk={evaluateUntil:Xk};var Zk=Yj.generate([{before:['element']},{start:['element']},{end:['element']},{after:['element']}]);var $k=function(r,N7){var p=$e(N7,r);return p?p:r;};var _k=function(Ci,r,p){var n=Li.normalizeForwards(p);var s=$k(r,n.container());return Li.findRootInline(Ci,s,n).fold(function(){return Pc.nextPosition(s,n).bind(L.curry(Li.findRootInline,Ci,s)).map(function(a){return Zk.before(a);});},S.none);};var bl=function(r,a){return Fg(r,a)===null;};var cl=function(Ci,r,p){return Li.findRootInline(Ci,r,p).filter(L.curry(bl,r));};var dl=function(Ci,r,p){var n=Li.normalizeBackwards(p);return cl(Ci,r,n).bind(function(a){var b=Pc.prevPosition(a,n);return b.isNone()?S.some(Zk.start(a)):S.none();});};var gl=function(Ci,r,p){var n=Li.normalizeForwards(p);return cl(Ci,r,n).bind(function(a){var b=Pc.nextPosition(a,n);return b.isNone()?S.some(Zk.end(a)):S.none();});};var hl=function(Ci,r,p){var n=Li.normalizeBackwards(p);var s=$k(r,n.container());return Li.findRootInline(Ci,s,n).fold(function(){return Pc.prevPosition(s,n).bind(L.curry(Li.findRootInline,Ci,s)).map(function(a){return Zk.after(a);});},S.none);};var il=function(l){return Li.isRtl(kl(l))===false;};var jl=function(Ci,r,p){var l=Yk.evaluateUntil([_k,dl,gl,hl],[Ci,r,p]);return l.filter(il);};var kl=function(l){return l.fold(L.identity,L.identity,L.identity,L.identity);};var ll=function(l){return l.fold(L.constant('before'),L.constant('start'),L.constant('end'),L.constant('after'));};var ml=function(l){return l.fold(Zk.before,Zk.before,Zk.after,Zk.after);};var nl=function(l){return l.fold(Zk.start,Zk.start,Zk.end,Zk.end);};var ol=function(l,a){return ll(l)===ll(a)&&kl(l)===kl(a);};var pl=function(f,Ci,r,R,t,l){return Ub.liftN([Li.findRootInline(Ci,r,R),Li.findRootInline(Ci,r,t)],function(a,b){if(a!==b&&Li.hasSameParentBlock(r,a,b)){return Zk.after(f?a:b);}else{return l;}}).getOr(l);};var ql=function(f,t){return f.fold(L.constant(true),function(f){return!ol(f,t);});};var rl=function(f,Ci,r,a,p){var R=Li.normalizePosition(f,p);var t=Pc.fromPosition(f,r,R).map(L.curry(Li.normalizePosition,f));var l=t.fold(function(){return a.map(ml);},function(t){return jl(Ci,r,t).map(L.curry(pl,f,Ci,r,R,t)).filter(L.curry(ql,a));});return l.filter(il);};var sl=function(f,l){if(f){return l.fold(L.compose(S.some,Zk.start),S.none,L.compose(S.some,Zk.after),S.none);}else{return l.fold(S.none,L.compose(S.some,Zk.before),S.none,L.compose(S.some,Zk.end));}};var tl=function(f,Ci,r,p){var R=Li.normalizePosition(f,p);var a=jl(Ci,r,R);return jl(Ci,r,R).bind(L.curry(sl,f)).orThunk(function(){return rl(f,Ci,r,a,p);});};var ul={readLocation:jl,findLocation:tl,prevLocation:L.curry(tl,false),nextLocation:L.curry(tl,true),getElement:kl,outside:ml,inside:nl};var vl=function(a){return V.isFunction(a.selection.getSel().modify);};var wl=function(f,s,p){var d=f?1:-1;s.setRng(pc(p.container(),p.offset()+d).toRange());s.getSel().modify('move',f?'forward':'backward','word');return true;};var xl=function(f,a){var r=a.selection.getRng();var p=f?pc.fromRangeEnd(r):pc.fromRangeStart(r);if(!vl(a)){return false;}else if(f&&Ua(p)){return wl(true,a.selection,p);}else if(!f&&Va(p)){return wl(false,a.selection,p);}else{return false;}};var yl={hasSelectionModifyApi:vl,moveByWord:xl};var zl=function(a,p){var r=a.dom.createRng();r.setStart(p.container(),p.offset());r.setEnd(p.container(),p.offset());a.selection.setRng(r);};var Al=function(a){return a.settings.inline_boundaries!==false;};var Bl=function(s,a){if(s){a.setAttribute('data-mce-selected','inline-boundary');}else{a.removeAttribute('data-mce-selected');}};var Cl=function(a,c,l){return Wk.renderCaret(c,l).map(function(p){zl(a,p);return l;});};var Dl=function(a,c,f){var r=a.getBody();var R=pc.fromRangeStart(a.selection.getRng());var Ci=L.curry(Li.isInlineTarget,a);var l=ul.findLocation(f,Ci,r,R);return l.bind(function(l){return Cl(a,c,l);});};var El=function(Ci,Jv,a){var s=H1.filter(Jv.select('*[data-mce-selected="inline-boundary"]'),Ci);var t=H1.filter(a,Ci);H1.each(H1.difference(s,t),L.curry(Bl,false));H1.each(H1.difference(t,s),L.curry(Bl,true));};var Fl=function(a,c){if(a.selection.isCollapsed()&&a.composing!==true&&c.get()){var p=pc.fromRangeStart(a.selection.getRng());if(pc.isTextPosition(p)&&Li.isAtZwsp(p)===false){zl(a,Ec.removeAndReposition(c.get(),p));c.set(null);}}};var Gl=function(Ci,a,c,b){if(a.selection.isCollapsed()){var d=H1.filter(b,Ci);H1.each(d,function(f){var p=pc.fromRangeStart(a.selection.getRng());ul.readLocation(Ci,a.getBody(),p).bind(function(l){return Cl(a,c,l);});});}};var Hl=function(a,c,f){return function(){return Al(a)?Dl(a,c,f).isSome():false;};};var Il=function(f,a,c){return function(){return Al(a)?yl.moveByWord(f,a):false;};};var Jl=function(a){var c=Ie(null);var Ci=L.curry(Li.isInlineTarget,a);a.on('NodeChange',function(e){if(Al(a)){El(Ci,a.dom,e.parents);Fl(a,c);Gl(Ci,a,c,e.parents);}});return c;};var Kl=L.curry(Il,true);var Ll=L.curry(Il,false);var Ml={move:Hl,moveNextWord:Kl,movePrevWord:Ll,setupSelectedState:Jl,setCaretPosition:zl};var Nl=function(a){return a.settings.inline_boundaries!==false;};var Ol=function(R,t){var b1=document.createRange();b1.setStart(R.container(),R.offset());b1.setEnd(t.container(),t.offset());return b1;};var Pl=function(a){return Ub.liftN([Pc.firstPositionIn(a),Pc.lastPositionIn(a)],function(f,l){var n=Li.normalizePosition(true,f);var b=Li.normalizePosition(false,l);return Pc.nextPosition(a,n).map(function(p){return p.isEqual(b);}).getOr(true);}).getOr(true);};var Ql=function(a,c){return function(l){return Wk.renderCaret(c,l).map(function(p){Ml.setCaretPosition(a,p);return true;}).getOr(false);};};var Rl=function(a,c,R,t){var r=a.getBody();var Ci=L.curry(Li.isInlineTarget,a);a.undoManager.ignore(function(){a.selection.setRng(Ol(R,t));a.execCommand('Delete');ul.readLocation(Ci,r,pc.fromRangeStart(a.selection.getRng())).map(ul.inside).map(Ql(a,c));});a.nodeChanged();};var Sl=function(r,N7){var p=$e(N7,r);return p?p:r;};var Tl=function(a,c,f,R){var r=Sl(a.getBody(),R.container());var Ci=L.curry(Li.isInlineTarget,a);var b=ul.readLocation(Ci,r,R);return b.bind(function(l){if(f){return l.fold(L.constant(S.some(ul.inside(l))),S.none,L.constant(S.some(ul.outside(l))),S.none);}else{return l.fold(S.none,L.constant(S.some(ul.outside(l))),S.none,L.constant(S.some(ul.inside(l))));}}).map(Ql(a,c)).getOrThunk(function(){var t=Pc.navigate(f,r,R);var d=t.bind(function(p){return ul.readLocation(Ci,r,p);});if(b.isSome()&&d.isSome()){return Li.findRootInline(Ci,r,R).map(function(g){if(Pl(g)){zk.deleteElement(a,f,A6.fromDom(g));return true;}else{return false;}}).getOr(false);}else{return d.bind(function(_){return t.map(function(g){if(f){Rl(a,c,R,g);}else{Rl(a,c,g,R);}return true;});}).getOr(false);}});};var Ul=function(a,c,f){if(a.selection.isCollapsed()&&Nl(a)){var R=pc.fromRangeStart(a.selection.getRng());return Tl(a,c,f,R);}return false;};var Vl={backspaceDelete:Ul};var Wl=K7.immutable('start','end');var Xl=K7.immutable('rng','table','cells');var Yl=Yj.generate([{removeTable:['element']},{emptyCells:['cells']}]);var Zl=function(r){return L.curry(e8.eq,r);};var $l=function(c,a){return Yi.closest(A6.fromDom(c),'td,th',a);};var _l=function(c,a){return Yi.ancestor(c,'table',a);};var am=function(c){return e8.eq(c.start(),c.end())===false;};var bm=function(c,a){return _l(c.start(),a).bind(function(s){return _l(c.end(),a).bind(function(b){return e8.eq(s,b)?S.some(s):S.none();});});};var cm=function(t){return xd.descendants(t,'td,th');};var dm=function(c,a){return _l(c.start(),a).bind(function(t){return H1.last(cm(t)).map(function(b){return Wl(c.start(),b);});});};var em=function(a,r){var s=$l(r.startContainer,a);var b=$l(r.endContainer,a);return r.collapsed?S.none():Ub.liftN([s,b],Wl).fold(function(){return s.fold(function(){return b.bind(function(b){return _l(b,a).bind(function(t){return H1.head(cm(t)).map(function(s){return Wl(s,b);});});});},function(s){return _l(s,a).bind(function(t){return H1.last(cm(t)).map(function(b){return Wl(s,b);});});});},function(c){return fm(a,c)?S.none():dm(c,a);});};var fm=function(a,c){return bm(c,a).isSome();};var gm=function(r,a){var s=$l(r.startContainer,a);var b=$l(r.endContainer,a);return Ub.liftN([s,b],Wl).filter(am).filter(function(c){return fm(a,c);}).orThunk(function(){return em(a,r);});};var hm=function(c,a){return bm(c,a).map(function(t){return Xl(c,t,cm(t));});};var im=function(r,a){var b=Zl(r);return gm(a,b).bind(function(c){return hm(c,b);});};var jm=function(c,a){return H1.findIndex(c,function(x){return e8.eq(x,a);});};var km=function(Xl){return Ub.liftN([jm(Xl.cells(),Xl.rng().start()),jm(Xl.cells(),Xl.rng().end())],function(s,a){return Xl.cells().slice(s,a+1);});};var lm=function(Xl){return km(Xl).map(function(s){var c=Xl.cells();return s.length===c.length?Yl.removeTable(Xl.table()):Yl.emptyCells(s);});};var mm=function(c){return Yl.emptyCells(c);};var nm=function(r,a){return im(r,a).bind(lm);};var om={getActionFromRange:nm,getActionFromCells:mm};var pm=function(s){var r=[];if(s){for(var i=0;i<s.rangeCount;i++){r.push(s.getRangeAt(i));}}return r;};var qm=function(r){return H1.bind(r,function(b1){var N7=Eb(b1);return N7?[A6.fromDom(N7)]:[];});};var rm=function(s){return pm(s).length>1;};var sm={getRanges:pm,getSelectedNodes:qm,hasMultipleRanges:rm};var tm=function(r){return H1.filter(sm.getSelectedNodes(r),p9);};var um=function(a){var s=xd.descendants(a,'td[data-mce-selected],th[data-mce-selected]');return s;};var vm=function(r,a){var s=um(a);var b=tm(r);return s.length>0?s:b;};var wm=function(a){return vm(sm.getRanges(a.selection.getSel()),A6.fromDom(a.getBody()));};var xm={getCellsFromRanges:tm,getCellsFromElement:um,getCellsFromElementOrRanges:vm,getCellsFromEditor:wm};var ym=function(a,c){H1.each(c,Ah.fillWithPaddingBr);a.selection.setCursorLocation(c[0].dom(),0);return true;};var zm=function(a,t){zk.deleteElement(a,false,t);return true;};var Am=function(a,r,b){return om.getActionFromRange(r,b).map(function(uy){return uy.fold(L.curry(zm,a),L.curry(ym,a));});};var Bm=function(a,c){return Hm(a,c);};var Cm=function(a,r,b,s){return Fm(r,s).fold(function(){return Am(a,r,b);},function(c){return Bm(a,c);}).getOr(false);};var Dm=function(a,s){var r=A6.fromDom(a.getBody());var b=a.selection.getRng();var c=xm.getCellsFromEditor(a);return c.length!==0?ym(a,c):Cm(a,r,b,s);};var Em=function(r,a){return H1.find(Dj.parentsAndSelf(a,r),p9);};var Fm=function(r,a){return H1.find(Dj.parentsAndSelf(a,r),function(a){return K6.name(a)==='caption';});};var Gm=function(a,r,f,b,R){return Pc.navigate(f,a.getBody(),R).bind(function(t){return Em(r,A6.fromDom(t.getNode())).map(function(c){return e8.eq(c,b)===false;});});};var Hm=function(a,b){Ah.fillWithPaddingBr(b);a.selection.setCursorLocation(b.dom(),0);return S.some(true);};var Im=function(f,a,R,t){return Pc.firstPositionIn(f.dom()).bind(function(V5){return Pc.lastPositionIn(f.dom()).map(function(F1){return a?R.isEqual(V5)&&t.isEqual(F1):R.isEqual(F1)&&t.isEqual(V5);});}).getOr(true);};var Jm=function(a,b){return Hm(a,b);};var Km=function(r,f,t){return Fm(r,A6.fromDom(t.getNode())).map(function(a){return e8.eq(a,f)===false;});};var Lm=function(a,r,f,b,R){return Pc.navigate(f,a.getBody(),R).bind(function(t){return Im(b,f,R,t)?Jm(a,b):Km(r,b,t);}).or(S.some(true));};var Mm=function(a,f,r,s){var R=pc.fromRangeStart(a.selection.getRng());return Em(r,s).bind(function(b){return oj.isEmpty(b)?Hm(a,b):Gm(a,r,f,b,R);});};var Nm=function(a,f,r,b){var R=pc.fromRangeStart(a.selection.getRng());return oj.isEmpty(b)?Hm(a,b):Lm(a,r,f,b,R);};var Om=function(a,f,s){var r=A6.fromDom(a.getBody());return Fm(r,s).fold(function(){return Mm(a,f,r,s);},function(b){return Nm(a,f,r,b);}).getOr(false);};var Pm=function(a,f){var s=A6.fromDom(a.selection.getStart(true));var c=xm.getCellsFromEditor(a);return a.selection.isCollapsed()&&c.length===0?Om(a,f,s):Dm(a,s);};var Qm={backspaceDelete:Pm};var Rm=function(a,c){a.getDoc().execCommand(c,false,null);};var Sm=function(a){if(Jk.backspaceDelete(a,false)){return;}else if(Vl.backspaceDelete(a,false)){return;}else if(Oj.backspaceDelete(a,false)){return;}else if(Qm.backspaceDelete(a)){return;}else if(Wj.backspaceDelete(a,false)){return;}else{Rm(a,'Delete');Ri.paddEmptyBody(a);}};var Tm=function(a){if(Jk.backspaceDelete(a,true)){return;}else if(Vl.backspaceDelete(a,true)){return;}else if(Oj.backspaceDelete(a,true)){return;}else if(Qm.backspaceDelete(a)){return;}else if(Wj.backspaceDelete(a,true)){return;}else{Rm(a,'ForwardDelete');}};var Um={deleteCommand:Sm,forwardDeleteCommand:Tm};var Vm=function(p,r,a){var g=function(a){return A7.getRaw(a,p);};var b=function(a){return e8.eq(A6.fromDom(r),a);};return Wh.closest(A6.fromDom(a),function(a){return g(a).isSome();},b).bind(g);};var Wm=function(n,p){var f=Math.pow(10,p);return Math.round(n*f)/f;};var Xm=function(f,p){if(/[0-9.]+px$/.test(f)){return Wm(parseInt(f,10)*72/96,p||0)+'pt';}return f;};var Ym=function(f){return f.replace(/[\'\"\\]/g,'').replace(/,\s+/g,',');};var Zm=function(p,a){return S.from(Ba.DOM.getStyle(a,p,true));};var $m=function(p){return function(r,a){return S.from(a).map(A6.fromDom).filter(K6.isElement).bind(function(b){return Vm(p,r,b.dom()).or(Zm(p,b.dom()));}).getOr('');};};var _m={getFontSize:$m('font-size'),getFontFamily:L.compose(Ym,$m('font-family')),toPt:Xm};var an=function(a){return Pc.firstPositionIn(a.getBody()).map(function(c){var b=c.container();return I9.isText(b)?b.parentNode:b;});};var bn=function(r,a){return r.startContainer===a&&r.startOffset===0;};var dn=function(a){return S.from(a.selection.getRng()).bind(function(r){var b=a.getBody();return bn(r,b)?S.none():S.from(a.selection.getStart(true));});};var en=function(a,E6){if(/^[0-9\.]+$/.test(E6)){var f=parseInt(E6,10);if(f>=1&&f<=7){var b=ge.getFontStyleValues(a);var c=ge.getFontSizeClasses(a);if(c){return c[f-1]||E6;}else{return b[f-1]||E6;}}else{return E6;}}else{return E6;}};var gn=function(a,E6){a.formatter.toggle('fontname',{value:en(a,E6)});a.nodeChanged();};var hn=function(a){return dn(a).fold(function(){return an(a).map(function(c){return _m.getFontFamily(a.getBody(),c);}).getOr('');},function(c){return _m.getFontFamily(a.getBody(),c);});};var jn=function(a,E6){a.formatter.toggle('fontsize',{value:en(a,E6)});a.nodeChanged();};var kn=function(a){return dn(a).fold(function(){return an(a).map(function(c){return _m.getFontSize(a.getBody(),c);}).getOr('');},function(c){return _m.getFontSize(a.getBody(),c);});};var ln=function(r,a){return r&&a&&(r.startContainer===a.startContainer&&r.startOffset===a.startOffset)&&(r.endContainer===a.endContainer&&r.endOffset===a.endOffset);};var mn={isEq:ln};var nn=function(N7,r,p){while(N7&&N7!==r){if(p(N7)){return N7;}N7=N7.parentNode;}return null;};var pn=function(N7,r,p){return nn(N7,r,p)!==null;};var qn=function(N7,r,n){return pn(N7,r,function(N7){return N7.nodeName===n;});};var rn=function(N7){return N7&&N7.nodeName==='TABLE';};var sn=function(N7){return N7&&/^(TD|TH|CAPTION)$/.test(N7.nodeName);};var tn=function(N7,r){return Ra(N7)&&pn(N7,r,Eg)===false;};var un=function(Jv,N7,l){var w=new X8(N7,Jv.getParent(N7.parentNode,Jv.isBlock)||Jv.getRoot());while(N7=w[l?'prev':'next']()){if(I9.isBr(N7)){return true;}}};var vn=function(N7,n){return N7.previousSibling&&N7.previousSibling.nodeName===n;};var wn=function(f7,N7){while(N7&&N7!==f7){if(I9.isContentEditableFalse(N7)){return true;}N7=N7.parentNode;}return false;};var xn=function(Jv,a,c,l,s){var w,b,p;var f7=Jv.getRoot();var N7;var n=Jv.schema.getNonEmptyElements();p=Jv.getParent(s.parentNode,Jv.isBlock)||f7;if(l&&I9.isBr(s)&&a&&Jv.isEmpty(p)){return S.some(oc(s.parentNode,Jv.nodeIndex(s)));}w=new X8(s,p);while(N7=w[l?'prev':'next']()){if(Jv.getContentEditableParent(N7)==='false'||tn(N7,f7)){return S.none();}if(I9.isText(N7)&&N7.nodeValue.length>0){if(qn(N7,f7,'A')===false){return S.some(oc(N7,l?N7.nodeValue.length:0));}return S.none();}if(Jv.isBlock(N7)||n[N7.nodeName.toLowerCase()]){return S.none();}b=N7;}if(c&&b){return S.some(oc(b,0));}return S.none();};var yn=function(Jv,c,dl,r){var a,o,w;var f7=Jv.getRoot();var N7,n;var d,b,f=false;a=r[(dl?'start':'end')+'Container'];o=r[(dl?'start':'end')+'Offset'];b=I9.isElement(a)&&o===a.childNodes.length;n=Jv.schema.getNonEmptyElements();d=dl;if(Ra(a)){return S.none();}if(I9.isElement(a)&&o>a.childNodes.length-1){d=false;}if(I9.isDocument(a)){a=f7;o=0;}if(a===f7){if(d){N7=a.childNodes[o>0?o-1:0];if(N7){if(Ra(N7)){return S.none();}if(n[N7.nodeName]||rn(N7)){return S.none();}}}if(a.hasChildNodes()){o=Math.min(!d&&o>0?o-1:o,a.childNodes.length-1);a=a.childNodes[o];o=I9.isText(a)&&b?a.data.length:0;if(!c&&a===f7.lastChild&&rn(a)){return S.none();}if(wn(f7,a)||Ra(a)){return S.none();}if(a.hasChildNodes()&&rn(a)===false){N7=a;w=new X8(a,f7);do{if(I9.isContentEditableFalse(N7)||Ra(N7)){f=false;break;}if(I9.isText(N7)&&N7.nodeValue.length>0){o=d?0:N7.nodeValue.length;a=N7;f=true;break;}if(n[N7.nodeName.toLowerCase()]&&!sn(N7)){o=Jv.nodeIndex(N7);a=N7.parentNode;if(!d){o++;}f=true;break;}}while(N7=d?w.next():w.prev());}}}if(c){if(I9.isText(a)&&o===0){xn(Jv,b,c,true,a).each(function(p){a=p.container();o=p.offset();f=true;});}if(I9.isElement(a)){N7=a.childNodes[o];if(!N7){N7=a.childNodes[o-1];}if(N7&&I9.isBr(N7)&&!vn(N7,'A')&&!un(Jv,N7,false)&&!un(Jv,N7,true)){xn(Jv,b,c,true,N7).each(function(p){a=p.container();o=p.offset();f=true;});}}}if(d&&!c&&I9.isText(a)&&o===a.nodeValue.length){xn(Jv,b,c,false,a).each(function(p){a=p.container();o=p.offset();f=true;});}return f?S.some(oc(a,o)):S.none();};var zn=function(Jv,r){var c=r.collapsed,n=r.cloneRange();var s=oc.fromRangeStart(r);yn(Jv,c,true,n).each(function(p){if(!c||!oc.isAbove(s,p)){n.setStart(p.container(),p.offset());}});if(!c){yn(Jv,c,false,n).each(function(p){n.setEnd(p.container(),p.offset());});}if(c){n.collapse(true);}return mn.isEq(r,n)?S.none():S.some(n);};var An={normalize:zn};var Bn=function(s,c,p){var w=new X8(c,p);var N7;var n=s.getNonEmptyElements();while(N7=w.next()){if(n[N7.nodeName.toLowerCase()]||N7.length>0){return true;}}};var Cn=function(Jv,s,b){var m=Jv.create('span',{},'&nbsp;');b.parentNode.insertBefore(m,b);s.scrollIntoView(m);Jv.remove(m);};var Dn=function(Jv,s,b,a){var r=Jv.createRng();if(!a){r.setStartAfter(b);r.setEndAfter(b);}else{r.setStartBefore(b);r.setEndBefore(b);}s.setRng(r);};var En=function(a,b){var s=a.selection,Jv=a.dom;var c,d;var r=s.getRng();An.normalize(Jv,r).each(function(n){r.setStart(n.startContainer,n.startOffset);r.setEnd(n.endContainer,n.endOffset);});var o=r.startOffset;var f=r.startContainer;if(f.nodeType===1&&f.hasChildNodes()){var g=o>f.childNodes.length-1;f=f.childNodes[Math.min(o,f.childNodes.length-1)]||f;if(g&&f.nodeType===3){o=f.nodeValue.length;}else{o=0;}}var p=Jv.getParent(f,Jv.isBlock);var h=p?Jv.getParent(p.parentNode,Jv.isBlock):null;var j=h?h.nodeName.toUpperCase():'';var k=b&&b.ctrlKey;if(j==='LI'&&!k){p=h;}if(f&&f.nodeType===3&&o>=f.nodeValue.length){if(!Bn(a.schema,f,p)){c=Jv.create('br');r.insertNode(c);r.setStartAfter(c);r.setEndAfter(c);d=true;}}c=Jv.create('br');r.insertNode(c);Cn(Jv,s,c);Dn(Jv,s,c,d);a.undoManager.add();};var Fn=function(a,b){var c=A6.fromTag('br');qe.before(A6.fromDom(b),c);a.undoManager.add();};var Gn=function(a,b){if(!In(a.getBody(),b)){qe.after(A6.fromDom(b),A6.fromTag('br'));}var c=A6.fromTag('br');qe.after(A6.fromDom(b),c);Cn(a.dom,a.selection,c.dom());Dn(a.dom,a.selection,c.dom(),false);a.undoManager.add();};var Hn=function(p){return I9.isBr(p.getNode());};var In=function(r,s){if(Hn(pc.after(s))){return true;}else{return Pc.nextPosition(r,pc.after(s)).map(function(p){return I9.isBr(p.getNode());}).getOr(false);}};var Jn=function(a){return a&&a.nodeName==='A'&&'href'in a;};var Kn=function(l){return l.fold(L.constant(false),Jn,Jn,L.constant(false));};var Ln=function(a){var Ci=L.curry(Li.isInlineTarget,a);var p=pc.fromRangeStart(a.selection.getRng());return ul.readLocation(Ci,a.getBody(),p).filter(Kn);};var Mn=function(a,l){l.fold(L.noop,L.curry(Fn,a),L.curry(Gn,a),L.noop);};var Nn=function(a,b){var c=Ln(a);if(c.isSome()){c.each(L.curry(Mn,a));}else{En(a,b);}};var On={insert:Nn};var Pn=Yj.generate([{'before':['element']},{'on':['element','offset']},{after:['element']}]);var Qn=function(s,o,a,b){return s.fold(o,a,b);};var Rn=function(s){return s.fold(L.identity,L.identity,L.identity);};var Sn={before:Pn.before,on:Pn.on,after:Pn.after,cata:Qn,getStart:Rn};var Tn=Yj.generate([{domRange:['rng']},{relative:['startSitu','finishSitu']},{exact:['start','soffset','finish','foffset']}]);var Un=K7.immutable('start','soffset','finish','foffset');var Vn=function(s){return Tn.exact(s.start(),s.soffset(),s.finish(),s.foffset());};var Wn=function(s){return s.match({domRange:function(r){return A6.fromDom(r.startContainer);},relative:function(a,f){return Sn.getStart(a);},exact:function(dl,a,f,b){return dl;}});};var Xn=function(s){var dl=Wn(s);return z8.defaultView(dl);};var Yn={domRange:Tn.domRange,relative:Tn.relative,exact:Tn.exact,exactFromRange:Vn,range:Un,getWin:Xn};var Zn=u6.detect().browser;var $n=function(o,a){var lC=K6.isText(a)?th.get(a).length:z8.children(a).length+1;if(o>lC){return lC;}else if(o<0){return 0;}return o;};var _n=function(r){return Yn.range(r.start(),$n(r.soffset(),r.start()),r.finish(),$n(r.foffset(),r.finish()));};var ao=function(r,a){return e8.contains(r,a)||e8.eq(r,a);};var bo=function(r){return function(a){return ao(r,a.start())&&ao(r,a.finish());};};var co=function(a){return a.inline===true||Zn.isIE();};var fo=function(r){return Yn.range(A6.fromDom(r.startContainer),r.startOffset,A6.fromDom(r.endContainer),r.endOffset);};var go=function(w){var s=w.getSelection();var r=!s||s.rangeCount===0?S.none():S.from(s.getRangeAt(0));return r.map(fo);};var ho=function(r){var w=z8.defaultView(r);return go(w.dom()).filter(bo(r));};var io=function(r,b){return S.from(b).filter(bo(r)).map(_n);};var jo=function(b){var r=document.createRange();try{r.setStart(b.start().dom(),b.soffset());r.setEnd(b.finish().dom(),b.foffset());return S.some(r);}catch(_){return S.none();}};var ko=function(a){var n=co(a)?ho(A6.fromDom(a.getBody())):S.none();a.bookmark=n.isSome()?n:a.bookmark;};var lo=function(a,r){var b=A6.fromDom(a.getBody());var b1=co(a)?S.from(r):S.none();var n=b1.map(fo).filter(bo(b));a.bookmark=n.isSome()?n:a.bookmark;};var mo=function(a){var b=a.bookmark?a.bookmark:S.none();return b.bind(L.curry(io,A6.fromDom(a.getBody()))).bind(jo);};var no=function(a){mo(a).each(function(r){a.selection.setRng(r);});};var oo={store:ko,storeNative:lo,readRange:go,restore:no,getRng:mo,getBookmark:ho,validate:io};var po=function(Jv,c,u,E6,a,b){if(Jv.getContentEditable(b)==='false'){return;}if(b.nodeName!=='LI'){var d=u?'margin':'padding';d=b.nodeName==='TABLE'?'margin':d;d+=Jv.getStyle(b,'direction',true)==='rtl'?'Right':'Left';if(c==='outdent'){var s=Math.max(0,parseInt(b.style[d]||0,10)-E6);Jv.setStyle(b,d,s?s+a:'');}else{var s=parseInt(b.style[d]||0,10)+E6+a;Jv.setStyle(b,d,s);}}};var qo=function(a,c){var s=a.settings,Jv=a.dom,b=a.selection,f=a.formatter;var d=/[a-z%]+$/i.exec(s.indentation)[0];var g=parseInt(s.indentation,10);var u=a.getParam('indent_use_margin',false);if(!a.queryCommandState('InsertUnorderedList')&&!a.queryCommandState('InsertOrderedList')){if(!s.forced_root_block&&!Jv.getParent(b.getNode(),Jv.isBlock)){f.apply('div');}H1.each(b.getSelectedBlocks(),function(h){return po(Jv,c,u,g,d,h);});}};var ro=E4.each;var uo=E4.extend;var vo=E4.map;var wo=E4.inArray;function xo(a){var Jv,s,f;var c={state:{},exec:{},value:{}};var b=a.settings,d;a.on('PreInit',function(){Jv=a.dom;s=a.selection;b=a.settings;f=a.formatter;});var g=function($,_,E6,a1){var d1,e1,o1=false;if(a.removed){return;}if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test($)&&(!a1||!a1.skip_focus)){a.focus();}else{oo.restore(a);}a1=a.fire('BeforeExecCommand',{command:$,ui:_,value:E6});if(a1.isDefaultPrevented()){return false;}e1=$.toLowerCase();if(d1=c.exec[e1]){d1(e1,_,E6);a.fire('ExecCommand',{command:$,ui:_,value:E6});return true;}ro(a.plugins,function(p){if(p.execCommand&&p.execCommand($,_,E6)){a.fire('ExecCommand',{command:$,ui:_,value:E6});o1=true;return false;}});if(o1){return o1;}if(a.theme&&a.theme.execCommand&&a.theme.execCommand($,_,E6)){a.fire('ExecCommand',{command:$,ui:_,value:E6});return true;}try{o1=a.getDoc().execCommand($,_,E6);}catch(ex){}if(o1){a.fire('ExecCommand',{command:$,ui:_,value:E6});return true;}return false;};var h=function(p){var $;if(a.quirks.isHidden()||a.removed){return;}p=p.toLowerCase();if($=c.state[p]){return $(p);}try{return a.getDoc().queryCommandState(p);}catch(_){}return false;};var j=function(p){var $;if(a.quirks.isHidden()||a.removed){return;}p=p.toLowerCase();if($=c.value[p]){return $(p);}try{return a.getDoc().queryCommandValue(p);}catch(_){}};var k=function(p,D6){D6=D6||'exec';ro(p,function($,_){ro(_.toLowerCase().split(','),function(_){c[D6][_]=$;});});};var l=function(p,$,_){p=p.toLowerCase();c.exec[p]=function(p,ui,E6,d1){return $.call(_||a,ui,E6,d1);};};var m=function(p){p=p.toLowerCase();if(c.exec[p]){return true;}try{return a.getDoc().queryCommandSupported(p);}catch($){}return false;};var n=function(p,$,_){p=p.toLowerCase();c.state[p]=function(){return $.call(_||a);};};var o=function(p,$,_){p=p.toLowerCase();c.value[p]=function(){return $.call(_||a);};};var r=function(p){p=p.toLowerCase();return!!c.exec[p];};uo(this,{execCommand:g,queryCommandState:h,queryCommandValue:j,queryCommandSupported:m,addCommands:k,addCommand:l,addQueryStateHandler:n,addQueryValueHandler:o,hasCustomCommand:r});var t=function(p,$,E6){if($===undefined){$=false;}if(E6===undefined){E6=null;}return a.getDoc().execCommand(p,$,E6);};var u=function(p){return f.match(p);};var v=function(p,E6){f.toggle(p,E6?{value:E6}:undefined);a.nodeChanged();};var w=function(D6){d=s.getBookmark(D6);};var x=function(){s.moveToBookmark(d);};k({'mceResetDesignMode,mceBeginUndoLevel':function(){},'mceEndUndoLevel,mceAddUndoLevel':function(){a.undoManager.add();},'Cut,Copy,Paste':function(p){var F4=a.getDoc();var $;try{t(p);}catch(_){$=true;}if(p==='paste'&&!F4.queryCommandEnabled(p)){$=true;}if($||!F4.queryCommandSupported(p)){var a1=a.translate('Your browser doesn\'t support direct access to the clipboard. '+'Please use the Ctrl+X/C/V keyboard shortcuts instead.');if(q2.mac){a1=a1.replace(/Ctrl\+/g,'\u2318+');}a.notificationManager.open({text:a1,type:'error'});}},'unlink':function(){if(s.isCollapsed()){var p=a.dom.getParent(a.selection.getStart(),'a');if(p){a.dom.remove(p,true);}return;}f.remove('link');},'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone':function(p){var $=p.substring(7);if($==='full'){$='justify';}ro('left,center,right,justify'.split(','),function(_){if($!==_){f.remove('align'+_);}});if($!=='none'){v('align'+$);}},'InsertUnorderedList,InsertOrderedList':function(p){var $,_;t(p);$=Jv.getParent(s.getNode(),'ol,ul');if($){_=$.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(_.nodeName)){w();Jv.split(_,$);x();}}},'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(p){v(p);},'ForeColor,HiliteColor':function(p,$,E6){v(p,E6);},'FontName':function(p,$,E6){gn(a,E6);},'FontSize':function(p,$,E6){jn(a,E6);},'RemoveFormat':function(p){f.remove(p);},'mceBlockQuote':function(){v('blockquote');},'FormatBlock':function(p,$,E6){return v(E6||'p');},'mceCleanup':function(){var d=s.getBookmark();a.setContent(a.getContent());s.moveToBookmark(d);},'mceRemoveNode':function(p,$,E6){var N7=E6||s.getNode();if(N7!==a.getBody()){w();a.dom.remove(N7,true);x();}},'mceSelectNodeDepth':function(p,$,E6){var _=0;Jv.getParent(s.getNode(),function(N7){if(N7.nodeType===1&&_++===E6){s.select(N7);return false;}},a.getBody());},'mceSelectNode':function(p,$,E6){s.select(E6);},'mceInsertContent':function(p,$,E6){Oh.insertAtCaret(a,E6);},'mceInsertRawHTML':function(p,$,E6){var _=a.getContent();s.setContent('tiny_mce_marker');a.setContent(_.replace(/tiny_mce_marker/g,function(){return E6;}));},'mceToggleFormat':function(p,$,E6){v(E6);},'mceSetContent':function(p,$,E6){a.setContent(E6);},'Indent,Outdent':function(p){qo(a,p);},'mceRepaint':function(){},'InsertHorizontalRule':function(){a.execCommand('mceInsertContent',false,'<hr />');},'mceToggleVisualAid':function(){a.hasVisual=!a.hasVisual;a.addVisual();},'mceReplaceContent':function(p,$,E6){a.execCommand('mceInsertContent',false,E6.replace(/\{\$selection\}/g,s.getContent({format:'text'})));},'mceInsertLink':function(p,$,E6){var _;if(typeof E6==='string'){E6={href:E6};}_=Jv.getParent(s.getNode(),'a');E6.href=E6.href.replace(' ','%20');if(!_||!E6.href){f.remove('link');}if(E6.href){f.apply('link',E6,_);}},'selectAll':function(){var p=Jv.getParent(s.getStart(),I9.isContentEditableTrue);if(p){var $=Jv.createRng();$.selectNodeContents(p);s.setRng($);}},'delete':function(){Um.deleteCommand(a);},'forwardDelete':function(){Um.forwardDeleteCommand(a);},'mceNewDocument':function(){a.setContent('');},'InsertLineBreak':function(p,$,E6){On.insert(a,E6);return true;}});var y=function(p){return function(){var $=s.isCollapsed()?[Jv.getParent(s.getNode(),Jv.isBlock)]:s.getSelectedBlocks();var e3=vo($,function(N7){return!!f.matchNode(N7,p);});return wo(e3,true)!==-1;};};k({'JustifyLeft':y('alignleft'),'JustifyCenter':y('aligncenter'),'JustifyRight':y('alignright'),'JustifyFull':y('alignjustify'),'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(p){return u(p);},'mceBlockQuote':function(){return u('blockquote');},'Outdent':function(){var N7;if(b.inline_styles){if((N7=Jv.getParent(s.getStart(),Jv.isBlock))&&parseInt(N7.style.paddingLeft,10)>0){return true;}if((N7=Jv.getParent(s.getEnd(),Jv.isBlock))&&parseInt(N7.style.paddingLeft,10)>0){return true;}}return h('InsertUnorderedList')||h('InsertOrderedList')||!b.inline_styles&&!!Jv.getParent(s.getNode(),'BLOCKQUOTE');},'InsertUnorderedList,InsertOrderedList':function(p){var $=Jv.getParent(s.getNode(),'ul,ol');return $&&(p==='insertunorderedlist'&&$.tagName==='UL'||p==='insertorderedlist'&&$.tagName==='OL');}},'state');k({Undo:function(){a.undoManager.undo();},Redo:function(){a.undoManager.redo();}});o('FontName',function(){return hn(a);},this);o('FontSize',function(){return kn(a);},this);}var yo=E4.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange '+'mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover '+'draggesture dragdrop drop drag submit '+'compositionstart compositionend compositionupdate touchstart touchmove touchend',' ');var zo=function(s){var a=this;var b,c={},t;var H2=function(){return false;};var I2=function(){return true;};s=s||{};b=s.scope||a;t=s.toggleEvent||H2;var f=function(n,h){var j,i,l,k;n=n.toLowerCase();h=h||{};h.type=n;if(!h.target){h.target=b;}if(!h.preventDefault){h.preventDefault=function(){h.isDefaultPrevented=I2;};h.stopPropagation=function(){h.isPropagationStopped=I2;};h.stopImmediatePropagation=function(){h.isImmediatePropagationStopped=I2;};h.isDefaultPrevented=H2;h.isPropagationStopped=H2;h.isImmediatePropagationStopped=H2;}if(s.beforeFire){s.beforeFire(h);}j=c[n];if(j){for(i=0,l=j.length;i<l;i++){k=j[i];if(k.once){d(n,k.func);}if(h.isImmediatePropagationStopped()){h.stopPropagation();return h;}if(k.func.call(b,h)===false){h.preventDefault();return h;}}}return h;};var o=function(n,h,ke,j){var k,l,i;if(h===false){h=H2;}if(h){h={func:h};if(j){E4.extend(h,j);}l=n.toLowerCase().split(' ');i=l.length;while(i--){n=l[i];k=c[n];if(!k){k=c[n]=[];t(n,true);}if(ke){k.unshift(h);}else{k.push(h);}}}return a;};var d=function(n,h){var i,j,k,l,m;if(n){l=n.toLowerCase().split(' ');i=l.length;while(i--){n=l[i];j=c[n];if(!n){for(k in c){t(k,false);delete c[k];}return a;}if(j){if(!h){j.length=0;}else{m=j.length;while(m--){if(j[m].func===h){j=j.slice(0,m).concat(j.slice(m+1));c[n]=j;}}}if(!j.length){t(n,false);delete c[n];}}}}else{for(n in c){t(n,false);}c={};}return a;};var g=function(n,h,ke){return o(n,h,ke,{once:true});};var Z6=function(n){n=n.toLowerCase();return!(!c[n]||c[n].length===0);};a.fire=f;a.on=o;a.off=d;a.once=g;a.has=Z6;};zo.isNative=function(n){return!!yo[n.toLowerCase()];};var Ao=function(o){if(!o._eventDispatcher){o._eventDispatcher=new zo({scope:o,toggleEvent:function(n,s){if(zo.isNative(n)&&o.toggleNativeEvent){o.toggleNativeEvent(n,s);}}});}return o._eventDispatcher;};var Bo={fire:function(n,a,b){var s=this;if(s.removed&&n!=='remove'){return a;}a=Ao(s).fire(n,a,b);if(b!==false&&s.parent){var p=s.parent();while(p&&!a.isPropagationStopped()){p.fire(n,a,false);p=p.parent();}}return a;},on:function(n,c,ke){return Ao(this).on(n,c,ke);},off:function(n,c){return Ao(this).off(n,c);},once:function(n,c){return Ao(this).once(n,c);},hasEventListeners:function(n){return Ao(this).has(n);}};function Co(t,a,b){var Fp=b||false;var o=function(){a();Fp=true;};var c=function(){t();Fp=false;};var Lo=function(){var f=Fp?c:o;f();};var d=function(){return Fp;};return{on:o,off:c,toggle:Lo,isOn:d};}var Do=function(a,b){var E6=d7.get(a,b);return E6===undefined||E6===''?[]:E6.split(' ');};var Eo=function(a,b,c){var o=Do(a,b);var n=o.concat([c]);d7.set(a,b,n.join(' '));};var Fo=function(a,b,c){var n=H1.filter(Do(a,b),function(v){return v!==c;});if(n.length>0)d7.set(a,b,n.join(' '));else d7.remove(a,b);};var Go={read:Do,add:Eo,remove:Fo};var Ho=function(a){return a.dom().classList!==undefined;};var Io=function(a){return Go.read(a,'class');};var Jo=function(a,c){return Go.add(a,'class',c);};var Ko=function(a,c){return Go.remove(a,'class',c);};var Lo=function(a,c){if(H1.contains(Io(a),c)){Ko(a,c);}else{Jo(a,c);}};var Mo={get:Io,add:Jo,remove:Ko,toggle:Lo,supports:Ho};var No=function(a,c){if(Mo.supports(a))a.dom().classList.add(c);else Mo.add(a,c);};var Oo=function(a){var c=Mo.supports(a)?a.dom().classList:Mo.get(a);if(c.length===0){d7.remove(a,'class');}};var Po=function(a,c){if(Mo.supports(a)){var b=a.dom().classList;b.remove(c);}else Mo.remove(a,c);Oo(a);};var Qo=function(a,c){return Mo.supports(a)?a.dom().classList.toggle(c):Mo.toggle(a,c);};var Ro=function(a,c){var h=Mo.supports(a);var b=a.dom().classList;var o=function(){if(h)b.remove(c);else Mo.remove(a,c);};var d=function(){if(h)b.add(c);else Mo.add(a,c);};return Co(o,d,So(a,c));};var So=function(a,c){return Mo.supports(a)&&a.dom().classList.contains(c);};var To={add:No,remove:Po,toggle:Qo,toggler:Ro,has:So};var Uo=function(a,b){return a.fire('PreProcess',b);};var Vo=function(a,b){return a.fire('PostProcess',b);};var Wo=function(a){return a.fire('remove');};var Xo=function(a,m){return a.fire('SwitchMode',{mode:m});};var Yo=function(a,t,w,h){a.fire('ObjectResizeStart',{target:t,width:w,height:h});};var Zo=function(a,t,w,h){a.fire('ObjectResized',{target:t,width:w,height:h});};var $o={firePreProcess:Uo,firePostProcess:Vo,fireRemove:Wo,fireSwitchMode:Xo,fireObjectResizeStart:Yo,fireObjectResized:Zo};var _o=function(a,c,s){try{a.getDoc().execCommand(c,false,s);}catch(b){}};var cp=function(a,c,s){if(To.has(a,c)&&s===false){To.remove(a,c);}else if(s){To.add(a,c);}};var dp=function(a,s){cp(A6.fromDom(a.getBody()),'mce-content-readonly',s);if(s){a.selection.controlSelection.hideResizeRect();a.readonly=true;a.getBody().contentEditable='false';}else{a.readonly=false;a.getBody().contentEditable='true';_o(a,'StyleWithCSS',false);_o(a,'enableInlineTableEditing',false);_o(a,'enableObjectResizing',false);a.focus();a.nodeChanged();}};var ep=function(a,m){if(m===fp(a)){return;}if(a.initialized){dp(a,m==='readonly');}else{a.on('init',function(){dp(a,m==='readonly');});}$o.fireSwitchMode(a,m);};var fp=function(a){return a.readonly?'readonly':'design';};var gp=function(a){return a.readonly===true;};var hp=Ba.DOM;var ip;var jp=function(a,b){if(b==='selectionchange'){return a.getDoc();}if(!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(b)){return a.getDoc().documentElement;}if(a.settings.event_root){if(!a.eventRoot){a.eventRoot=hp.select(a.settings.event_root)[0];}return a.eventRoot;}return a.getBody();};var kp=function(a){return!a.hidden&&!a.readonly;};var lp=function(a,b,e){if(kp(a)){a.fire(b,e);}else if(gp(a)){e.preventDefault();}};var mp=function(a,b){var c,d;if(!a.delegates){a.delegates={};}if(a.delegates[b]||a.removed){return;}c=jp(a,b);if(a.settings.event_root){if(!ip){ip={};a.editorManager.on('removeEditor',function(){var n;if(!a.editorManager.activeEditor){if(ip){for(n in ip){a.dom.unbind(jp(a,n));}ip=null;}}});}if(ip[b]){return;}d=function(e){var t=e.target;var bC=a.editorManager.get();var i=bC.length;while(i--){var f7=bC[i].getBody();if(f7===t||hp.isChildOf(t,f7)){lp(bC[i],b,e);}}};ip[b]=d;hp.bind(c,b,d);}else{d=function(e){lp(a,b,e);};hp.bind(c,b,d);a.delegates[b]=d;}};var np={bindPendingEventDelegates:function(){var s=this;E4.each(s._pendingNativeEvents,function(n){mp(s,n);});},toggleNativeEvent:function(n,s){var a=this;if(n==='focus'||n==='blur'){return;}if(s){if(a.initialized){mp(a,n);}else{if(!a._pendingNativeEvents){a._pendingNativeEvents=[n];}else{a._pendingNativeEvents.push(n);}}}else if(a.initialized){a.dom.unbind(jp(a,n),n,a.delegates[n]);delete a.delegates[n];}},unbindAllNativeEvents:function(){var s=this;var f7=s.getBody();var Jv=s.dom;var n;if(s.delegates){for(n in s.delegates){s.dom.unbind(jp(s,n),n,s.delegates[n]);}delete s.delegates;}if(!s.inline&&f7&&Jv){f7.onload=null;Jv.unbind(s.getWin());Jv.unbind(s.getDoc());}if(Jv){Jv.unbind(f7);Jv.unbind(s.getContainer());}}};np=E4.extend({},Bo,np);var op=np;var pp=E4.each;var qp=E4.explode;var rp={f9:120,f10:121,f11:122};var tp=E4.makeMap('alt,ctrl,shift,meta,access');function up(a){var s=this;var b={};var p=[];var c=function(j){var k,l;var n={};pp(qp(j,'+'),function(E6){if(E6 in tp){n[E6]=true;}else{if(/^[0-9]{2,}$/.test(E6)){n.keyCode=parseInt(E6,10);}else{n.charCode=E6.charCodeAt(0);n.keyCode=rp[E6]||E6.toUpperCase().charCodeAt(0);}}});k=[n.keyCode];for(l in tp){if(n[l]){k.push(l);}else{n[l]=false;}}n.id=k.join(',');if(n.access){n.alt=true;if(q2.mac){n.ctrl=true;}else{n.shift=true;}}if(n.meta){if(q2.mac){n.meta=true;}else{n.ctrl=true;n.meta=false;}}return n;};var d=function(j,k,l,n){var b;b=E4.map(qp(j,'>'),c);b[b.length-1]=E4.extend(b[b.length-1],{func:l,scope:n||a});return E4.extend(b[0],{desc:a.translate(k),subpatterns:b.slice(1)});};var h=function(e){return e.altKey||e.ctrlKey||e.metaKey;};var f=function(e){return e.type==='keydown'&&e.keyCode>=112&&e.keyCode<=123;};var m=function(e,j){if(!j){return false;}if(j.ctrl!==e.ctrlKey||j.meta!==e.metaKey){return false;}if(j.alt!==e.altKey||j.shift!==e.shiftKey){return false;}if(e.keyCode===j.keyCode||e.charCode&&e.charCode===j.charCode){e.preventDefault();return true;}return false;};var g=function(j){return j.func?j.func.call(j.scope):null;};a.on('keyup keypress keydown',function(e){if((h(e)||f(e))&&!e.isDefaultPrevented()){pp(b,function(j){if(m(e,j)){p=j.subpatterns.slice(0);if(e.type==='keydown'){g(j);}return true;}});if(m(e,p[0])){if(p.length===1){if(e.type==='keydown'){g(p[0]);}}p.shift();}}});s.add=function(j,k,l,n){var o;o=l;if(typeof l==='string'){l=function(){a.execCommand(o,false,null);};}else if(E4.isArray(o)){l=function(){a.execCommand(o[0],o[1],o[2]);};}pp(qp(E4.trim(j.toLowerCase())),function(j){var r=d(j,k,l,n);b[r.id]=r;});return true;};s.remove=function(j){var k=d(j);if(b[k.id]){delete b[k.id];return true;}return false;};}var vp=function(p){return Wh.first(p).isSome();};var wp=function(s,p,a){return Wh.ancestor(s,p,a).isSome();};var xp=function(s,p,a){return Wh.closest(s,p,a).isSome();};var yp=function(s,p){return Wh.sibling(s,p).isSome();};var zp=function(s,p){return Wh.child(s,p).isSome();};var Ap=function(s,p){return Wh.descendant(s,p).isSome();};var Bp={any:vp,ancestor:wp,closest:xp,sibling:yp,child:zp,descendant:Ap};var Cp=function(a){a.dom().focus();};var Dp=function(a){a.dom().blur();};var Ep=function(a){var F4=z8.owner(a).dom();return a.dom()===F4.activeElement;};var Fp=function(_){var F4=_!==undefined?_.dom():document;return S.from(F4.activeElement).map(A6.fromDom);};var Gp=function(b){var F4=z8.owner(b);var nl=Fp(F4).filter(function(a){return Bp.closest(a,L.curry(e8.eq,b));});nl.fold(function(){Cp(b);},L.noop);};var Hp=function(a){return Fp(z8.owner(a)).filter(function(e){return a.dom().contains(e.dom());});};var Ip={hasFocus:Ep,focus:Cp,blur:Dp,active:Fp,search:Hp,focusInside:Gp};var Jp=function(a,N7){return a.dom.getParent(N7,function(N7){return a.dom.getContentEditable(N7)==='true';});};var Kp=function(r){return r.collapsed?S.from(Fb(r.startContainer,r.startOffset)).map(A6.fromDom):S.none();};var Lp=function(r,a){return Kp(a).bind(function(N7){if(o9(N7)){return S.some(N7);}else if(e8.contains(r,N7)===false){return S.some(r);}else{return S.none();}});};var Mp=function(a,r){Lp(A6.fromDom(a.getBody()),r).bind(function(b){return Pc.firstPositionIn(b.dom());}).fold(function(){a.selection.normalize();return;},function(c){return a.selection.setRng(c.toRange());});};var Np=function(f7){if(f7.setActive){try{f7.setActive();}catch(a){f7.focus();}}else{f7.focus();}};var Op=function(a){return Ip.hasFocus(a)||Ip.search(a).isSome();};var Pp=function(a){return a.iframeElement&&Ip.hasFocus(A6.fromDom(a.iframeElement));};var Qp=function(a){var r=a.getBody();return r&&Op(A6.fromDom(r));};var Rp=function(a){return a.inline?Qp(a):Pp(a);};var Sp=function(a){var s=a.selection,p2=a.settings.content_editable;var f7=a.getBody();var r=s.getRng();a.quirks.refreshContentEditable();var c=Jp(a,s.getNode());if(a.$.contains(f7,c)){Np(c);Mp(a,r);Tp(a);return;}if(a.bookmark!==undefined&&Rp(a)===false){oo.getRng(a).each(function(b){a.selection.setRng(b);r=b;});}if(!p2){if(!q2.opera){Np(f7);}a.getWin().focus();}if(q2.gecko||p2){Np(f7);Mp(a,r);}Tp(a);};var Tp=function(a){return a.editorManager.setActive(a);};var Up=function(a,s){if(a.removed){return;}s?Tp(a):Sp(a);};var Vp={focus:Up,hasFocus:Rp};var Wp=function(p,a){var r=a.dom();return r[p];};var Xp=function(p,a){return parseInt(A7.get(a,p),10);};var Yp=L.curry(Wp,'clientWidth');var Zp=L.curry(Wp,'clientHeight');var $p=L.curry(Xp,'margin-top');var _p=L.curry(Xp,'margin-left');var aq=function(a){return a.dom().getBoundingClientRect();};var bq=function(b,c,a){var d=Yp(b);var f=Zp(b);return c>=0&&a>=0&&c<=d&&a<=f;};var cq=function(a,b,c,d){var f=aq(b);var g=a?f.left+b.dom().clientLeft+_p(b):0;var h=a?f.top+b.dom().clientTop+$p(b):0;var x=c-g;var y=d-h;return{x:x,y:y};};var dq=function(a,c,b){var d=A6.fromDom(a.getBody());var t=a.inline?d:z8.documentElement(d);var f=cq(a.inline,t,c,b);return bq(t,f.x,f.y);};var fq=function(N7){return S.from(N7).map(A6.fromDom);};var gq=function(a){var r=a.inline?a.getBody():a.getContentAreaContainer();return fq(r).map(function(c){return e8.contains(z8.owner(c),c);}).getOr(false);};var hq={isXYInContentArea:dq,isEditorAttachedToDom:gq};function iq(){var u=function(){throw new Error('Theme did not provide a NotificationManager implementation.');};return{open:u,close:u,reposition:u,getArgs:u};}function jq(c){var n=[];var g=function(){var t=c.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():iq();};var d=function(){return S.from(n[0]);};var wb=function(a,b){return a.type===b.type&&a.text===b.text&&!a.progressBar&&!a.timeout&&!b.progressBar&&!b.timeout;};var ik=function(){if(n.length>0){g().reposition(n);}};var f=function(a){n.push(a);};var h=function(a){H1.findIndex(n,function(b){return b===a;}).each(function(b){n.splice(b,1);});};var o=function(a){if(c.removed||!hq.isEditorAttachedToDom(c)){return;}return H1.find(n,function(b){return wb(g().getArgs(b),a);}).getOrThunk(function(){c.editorManager.setActive(c);var b=g().open(a,function(){h(b);ik();});f(b);ik();return b;});};var j=function(){d().each(function(a){g().close(a);h(a);ik();});};var k=function(){return n;};var NB=function(c){c.on('SkinLoaded',function(){var s=c.settings.service_message;if(s){o({text:s,type:'warning',timeout:0,icon:''});}});c.on('ResizeEditor ResizeWindow',function(){C2.requestAnimationFrame(ik);});c.on('remove',function(){H1.each(n,function(a){g().close(a);});});};NB(c);return{open:o,close:j,getNotifications:k};}function kq(){var u=function(){throw new Error('Theme did not provide a WindowManager implementation.');};return{open:u,alert:u,confirm:u,close:u,getParams:u,setParams:u};}function lq(a){var A5=[];var g=function(){var t=a.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():kq();};var b=function(t,f){return function(){return f?f.apply(t,arguments):undefined;};};var c=function(w){a.fire('OpenWindow',{win:w});};var d=function(w){a.fire('CloseWindow',{win:w});};var h=function(w){A5.push(w);c(w);};var j=function(w){H1.findIndex(A5,function(f){return f===w;}).each(function(f){A5.splice(f,1);d(w);if(A5.length===0){a.focus();}});};var k=function(){return S.from(A5[A5.length-1]);};var o=function(f,t){a.editorManager.setActive(a);oo.store(a);var w=g().open(f,t,j);h(w);return w;};var l=function(f,t,u){var w=g().alert(f,b(u?u:this,t),j);h(w);};var m=function(f,t,u){var w=g().confirm(f,b(u?u:this,t),j);h(w);};var n=function(){k().each(function(w){g().close(w);j(w);});};var p=function(){return k().map(g().getParams).getOr(null);};var s=function(f){k().each(function(w){g().setParams(w,f);});};var r=function(){return A5;};a.on('remove',function(){H1.each(A5.slice(0),function(w){g().close(w);});});return{windows:A5,open:o,alert:l,confirm:m,close:n,getParams:p,setParams:s,getWindows:r};}var mq=Ia.PluginManager;var nq=function(t,s){for(var n in mq.urls){var m=mq.urls[n]+'/plugin'+s+'.js';if(m===t){return n;}}return null;};var oq=function(a,S1){var p=nq(S1,a.suffix);return p?'Failed to load plugin: '+p+' from url '+S1:'Failed to load plugin url: '+S1;};var pq=function(a,m){a.notificationManager.open({type:'error',text:m});};var qq=function(a,m){if(a._skinLoaded){pq(a,m);}else{a.on('SkinLoaded',function(){pq(a,m);});}};var rq=function(a,m){qq(a,'Failed to upload image: '+m);};var sq=function(a,S1){qq(a,oq(a,S1));};var tq=function(m){var x=[];for(var _=1;_<arguments.length;_++){x[_-1]=arguments[_];}var c=window.console;if(c){if(c.error){c.error.apply(c,arguments);}else{c.log.apply(c,arguments);}}};var uq={pluginLoadError:sq,uploadError:rq,displayError:qq,initError:tq};var vq=Ia.PluginManager;var wq=Ia.ThemeManager;function xq(){var f=R1.getOrDie('XMLHttpRequest');return new f();}function yq(u,s){var p={};var a=function(l,m){if(l){return l.replace(/\/$/,'')+'/'+m.replace(/^\//,'');}return m;};var d=function(l,m,o,t){var x,v;x=new xq();x.open('POST',s.url);x.withCredentials=s.credentials;x.upload.onprogress=function(e){t(e.loaded/e.total*100);};x.onerror=function(){o('Image upload failed due to a XHR Transport error. Code: '+x.status);};x.onload=function(){var w;if(x.status<200||x.status>=300){o('HTTP Error: '+x.status);return;}w=JSON.parse(x.responseText);if(!w||typeof w.location!=='string'){o('Invalid JSON: '+x.responseText);return;}m(a(s.basePath,w.location));};v=new FormData();v.append('file',l.blob(),l.filename());x.send(v);};var n=function(){return new s2(function(K1){K1([]);});};var h=function(l,S1){return{url:S1,blobInfo:l,status:true};};var b=function(l,U8){return{url:'',blobInfo:l,status:false,error:U8};};var r=function(l,m){E4.each(p[l],function(K1){K1(m);});delete p[l];};var c=function(l,m,o){u.markPending(l.blobUri());return new s2(function(K1){var t,v;var q=function(){};try{var w=function(){if(t){t.close();v=q;}};var x=function(S1){w();u.markUploaded(l.blobUri(),S1);r(l.blobUri(),h(l,S1));K1(h(l,S1));};var y=function(U8){w();u.removeFailed(l.blobUri());r(l.blobUri(),b(l,U8));K1(b(l,U8));};v=function(_){if(_<0||_>100){return;}if(!t){t=o();}t.progressBar.value(_);};m(l,x,y,v);}catch($){K1(b(l,$.message));}});};var f=function(l){return l===d;};var g=function(l){var m=l.blobUri();return new s2(function(K1){p[m]=p[m]||[];p[m].push(K1);});};var j=function(l,o){l=E4.grep(l,function(m){return!u.isUploaded(m.blobUri());});return s2.all(E4.map(l,function(m){return u.isPending(m.blobUri())?g(m):c(m,s.handler,o);}));};var k=function(l,o){return!s.url&&f(s.handler)?n():j(l,o);};s=E4.extend({credentials:false,handler:d},s);return{upload:k};}function zq(p,a){var f=R1.getOrDie('Blob');return new f(p,a);}function Aq(){var f=R1.getOrDie('FileReader');return new f();}function Bq(r3){var f=R1.getOrDie('Uint8Array');return new f(r3);}var Cq=function(c){var f=R1.getOrDie('requestAnimationFrame');f(c);};var Dq=function(b){var f=R1.getOrDie('atob');return f(b);};var Eq={atob:Dq,requestAnimationFrame:Cq};var Fq=function(S1){return new s2(function(K1,r){var a=function(){r('Cannot convert '+S1+' to Blob. Resource might not exist or is inaccessible.');};try{var x=new xq();x.open('GET',S1,true);x.responseType='blob';x.onload=function(){if(this.status===200){K1(this.response);}else{a();}};x.onerror=a;x.send();}catch(b){a();}});};var Gq=function(u){var D6,e3;u=decodeURIComponent(u).split(',');e3=/data:([^;]+)/.exec(u[0]);if(e3){D6=e3[1];}return{type:D6,data:u[1]};};var Hq=function(u){return new s2(function(K1){var s,r3,i;u=Gq(u);try{s=Eq.atob(u.data);}catch(e){K1(new zq([]));return;}r3=new Bq(s.length);for(i=0;i<r3.length;i++){r3[i]=s.charCodeAt(i);}K1(new zq([r3],{type:u.type}));});};var Iq=function(S1){if(S1.indexOf('blob:')===0){return Fq(S1);}if(S1.indexOf('data:')===0){return Hq(S1);}return null;};var Jq=function(b){return new s2(function(K1){var r=new Aq();r.onloadend=function(){K1(r.result);};r.readAsDataURL(b);});};var Kq={uriToBlob:Iq,blobToDataUri:Jq,parseDataUri:Gq};var Lq=0;var Mq=function(p){return(p||'blobid')+Lq++;};var Nq=function(b,a,K1,r){var c,d;if(a.src.indexOf('blob:')===0){d=b.getByUri(a.src);if(d){K1({image:a,blobInfo:d});}else{Kq.uriToBlob(a.src).then(function(f){Kq.blobToDataUri(f).then(function(g){c=Kq.parseDataUri(g).data;d=b.create(Mq(),f,c);b.add(d);K1({image:a,blobInfo:d});});},function(f){r(f);});}return;}c=Kq.parseDataUri(a.src).data;d=b.findFirst(function(f){return f.base64()===c;});if(d){K1({image:a,blobInfo:d});}else{Kq.uriToBlob(a.src).then(function(f){d=b.create(Mq(),f,c);b.add(d);K1({image:a,blobInfo:d});},function(f){r(f);});}};var Oq=function(a){return a?a.getElementsByTagName('img'):[];};function Pq(u,b){var c={};var f=function(a,p){var d;if(!p){p=Qb.constant(true);}d=r4.filter(Oq(a),function(h){var s=h.src;if(!q2.fileApi){return false;}if(h.hasAttribute('data-mce-bogus')){return false;}if(h.hasAttribute('data-mce-placeholder')){return false;}if(!s||s===q2.transparentSrc){return false;}if(s.indexOf('blob:')===0){return!u.isUploaded(s);}if(s.indexOf('data:')===0){return p(h);}return false;});var g=r4.map(d,function(h){if(c[h.src]){return new s2(function(K1){c[h.src].then(function(j){if(typeof j==='string'){return j;}K1({image:h,blobInfo:j.blobInfo});});});}var n=new s2(function(K1,r){Nq(b,h,K1,r);}).then(function(r){delete c[r.image.src];return r;}).catch(function(U8){delete c[h.src];return U8;});c[h.src]=n;return n;});return s2.all(g);};return{findAll:f};}var Qq=0;var Rq=function(){var r=function(){return Math.round(Math.random()*4294967295).toString(36);};var n=new Date().getTime();return's'+n.toString(36)+r()+r()+r();};var Sq=function(p){return p+Qq++ +Rq();};var Tq={uuid:Sq};function Uq(){var c=[];var B=Qb.constant;var m=function(a){var b={'image/jpeg':'jpg','image/jpg':'jpg','image/gif':'gif','image/png':'png'};return b[a.toLowerCase()]||'dat';};var x4=function(o,b,a,d){return typeof o==='object'?t(o):t({id:o,name:d,blob:b,base64:a});};var t=function(o){var a,n;if(!o.blob||!o.base64){throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');}a=o.id||Tq.uuid('blobid');n=o.name||a;return{id:B(a),name:B(n),filename:B(n+'.'+m(o.blob.type)),blob:B(o.blob),base64:B(o.base64),blobUri:B(o.blobUri||V1.createObjectURL(o.blob)),uri:B(o.uri)};};var Eo=function(b){if(!Y6(b.id())){c.push(b);}};var Y6=function(a){return f(function(b){return b.id()===a;});};var f=function(p){return r4.filter(c,p)[0];};var g=function(b){return f(function(a){return a.blobUri()===b;});};var r=function(b){c=r4.filter(c,function(a){if(a.blobUri()===b){V1.revokeObjectURL(a.blobUri());return false;}return true;});};var sB=function(){r4.each(c,function(a){V1.revokeObjectURL(a.blobUri());});c=[];};return{create:x4,add:Eo,get:Y6,getByUri:g,findFirst:f,removeByUri:r,destroy:sB};}function Vq(){var a=1,b=2;var c={};var d=function(s,l){return{status:s,resultUri:l};};var h=function(l){return l in c;};var g=function(l){var n=c[l];return n?n.resultUri:null;};var f=function(l){return h(l)?c[l].status===a:false;};var j=function(l){return h(l)?c[l].status===b:false;};var m=function(l){c[l]=d(a,null);};var k=function(l,n){c[l]=d(b,n);};var r=function(l){delete c[l];};var sB=function(){c={};};return{hasBlobUri:h,getResultUri:g,isPending:f,isUploaded:j,markPending:m,markUploaded:k,removeFailed:r,destroy:sB};}function Wq(a){var b=Uq();var u,c;var s=a.settings;var d=Vq();var f=function(v){return function(w){if(a.selection){return v(w);}return[];};};var g=function(){return'?'+new Date().getTime();};var r=function(v,Hp,w){var x=0;do{x=v.indexOf(Hp,x);if(x!==-1){v=v.substring(0,x)+w+v.substr(x+Hp.length);x+=w.length-Hp.length+1;}}while(x!==-1);return v;};var h=function(v,w,x){v=r(v,'src="'+w+'"','src="'+x+'"');v=r(v,'data-mce-src="'+w+'"','data-mce-src="'+x+'"');return v;};var j=function(v,w){r4.each(a.undoManager.data,function(x){if(x.type==='fragmented'){x.fragments=r4.map(x.fragments,function(y){return h(y,v,w);});}else{x.content=h(x.content,v,w);}});};var o=function(){return a.notificationManager.open({text:a.translate('Image uploading...'),type:'info',timeout:-1,progressBar:true});};var k=function(v,w){b.removeByUri(v.src);j(v.src,w);a.$(v).attr({'src':s.images_reuse_filename?w+g():w,'data-mce-src':a.convertURL(w,'src')});};var l=function(v){if(!u){u=yq(d,{url:s.images_upload_url,basePath:s.images_upload_base_path,credentials:s.images_upload_credentials,handler:s.images_upload_handler});}return p().then(f(function(w){var x;x=r4.map(w,function(y){return y.blobInfo;});return u.upload(x,o).then(f(function(y){var $=r4.map(y,function(_,a1){var d1=w[a1].image;if(_.status&&a.settings.images_replace_blob_uris!==false){k(d1,_.url);}else if(_.error){uq.uploadError(a,_.error);}return{element:d1,status:_.status};});if(v){v($);}return $;}));}));};var m=function(v){if(s.automatic_uploads!==false){return l(v);}};var n=function(v){return s.images_dataimg_filter?s.images_dataimg_filter(v):true;};var p=function(){if(!c){c=Pq(d,b);}return c.findAll(a.getBody(),n).then(f(function(v){v=r4.filter(v,function(w){if(typeof w==='string'){uq.displayError(a,w);return false;}return true;});r4.each(v,function(w){j(w.image.src,w.blobInfo.blobUri());w.image.src=w.blobInfo.blobUri();w.image.removeAttribute('data-mce-src');});return v;}));};var sB=function(){b.destroy();d.destroy();c=u=null;};var t=function(v){return v.replace(/src="(blob:[^"]+)"/g,function(fu,w){var x=d.getResultUri(w);if(x){return'src="'+x+'"';}var y=b.getByUri(w);if(!y){y=r4.reduce(a.editorManager.get(),function($,a){return $||a.editorUpload&&a.editorUpload.blobCache.getByUri(w);},null);}if(y){return'src="data:'+y.blob().type+';base64,'+y.base64()+'"';}return fu;});};a.on('setContent',function(){if(a.settings.automatic_uploads!==false){m();}else{p();}});a.on('RawSaveContent',function(e){e.content=t(e.content);});a.on('getContent',function(e){if(e.source_view||e.format==='raw'){return;}e.content=t(e.content);});a.on('PostRender',function(){a.parser.addNodeFilter('img',function(v){r4.each(v,function(w){var x=w.attr('src');if(b.getByUri(x)){return;}var y=d.getResultUri(x);if(y){w.attr('src',y);}});});});return{blobCache:b,uploadImages:l,uploadImagesAuto:m,scanForImages:p,destroy:sB};}var Xq=function(b,N7){return b.hasOwnProperty(N7.nodeName);};var Yq=function(b,N7){if(I9.isText(N7)){return true;}else if(I9.isElement(N7)){return!Xq(b,N7)&&!bh.isBookmarkNode(N7);}else{return false;}};var Zq=function(b,r,N7){return H1.exists(Dj.parents(A6.fromDom(N7),A6.fromDom(r)),function(a){return Xq(b,a.dom());});};var $q=function(b,N7){if(I9.isText(N7)){if(N7.nodeValue.length===0){return true;}else if(/^\s+$/.test(N7.nodeValue)&&(!N7.nextSibling||Xq(b,N7.nextSibling))){return true;}}return false;};var _q=function(a){var s=a.settings,Jv=a.dom,b=a.selection;var c=a.schema,d=c.getBlockElements();var N7=b.getStart();var r=a.getBody();var f;var g,h,j,k,l;var t,w,m;var n,o;o=s.forced_root_block;if(!N7||!I9.isElement(N7)||!o){return;}n=r.nodeName.toLowerCase();if(!c.isValidChild(n,o.toLowerCase())||Zq(d,r,N7)){return;}f=b.getRng();g=f.startContainer;h=f.startOffset;j=f.endContainer;k=f.endOffset;m=Vp.hasFocus(a);N7=r.firstChild;while(N7){if(Yq(d,N7)){if($q(d,N7)){t=N7;N7=N7.nextSibling;Jv.remove(t);continue;}if(!l){l=Jv.create(o,a.settings.forced_root_block_attrs);N7.parentNode.insertBefore(l,N7);w=true;}t=N7;N7=N7.nextSibling;l.appendChild(t);}else{l=null;N7=N7.nextSibling;}}if(w&&m){f.setStart(g,h);f.setEnd(j,k);b.setRng(f);a.nodeChanged();}};var ar=function(a){if(a.settings.forced_root_block){a.on('NodeChange',L.curry(_q,a));}};var cr={setup:ar};var dr=function(r){var s=r.startContainer,a=r.startOffset;if(I9.isText(s)){return a===0?S.some(A6.fromDom(s)):S.none();}else{return S.from(s.childNodes[a]).map(A6.fromDom);}};var er=function(r){var a=r.endContainer,b=r.endOffset;if(I9.isText(a)){return b===a.data.length?S.some(A6.fromDom(a)):S.none();}else{return S.from(a.childNodes[b-1]).map(A6.fromDom);}};var fr=function(N7){return z8.firstChild(N7).fold(L.constant([N7]),function(s8){return[N7].concat(fr(s8));});};var gr=function(N7){return z8.lastChild(N7).fold(L.constant([N7]),function(s8){if(K6.name(s8)==='br'){return z8.prevSibling(s8).map(function(f5){return[N7].concat(gr(f5));}).getOr([]);}else{return[N7].concat(gr(s8));}});};var hr=function(a,r){return Ub.liftN([dr(r),er(r)],function(s,b){var dl=H1.find(fr(a),L.curry(e8.eq,s));var gl=H1.find(gr(a),L.curry(e8.eq,b));return dl.isSome()&&gl.isSome();}).getOr(false);};var ir=function(Jv,r,N7,dl){var a=N7,w=new X8(N7,a);var n=Jv.schema.getNonEmptyElements();do{if(N7.nodeType===3&&E4.trim(N7.nodeValue).length!==0){if(dl){r.setStart(N7,0);}else{r.setEnd(N7,N7.nodeValue.length);}return;}if(n[N7.nodeName]&&!/^(TD|TH)$/.test(N7.nodeName)){if(dl){r.setStartBefore(N7);}else{if(N7.nodeName==='BR'){r.setEndBefore(N7);}else{r.setEndAfter(N7);}}return;}if(q2.ie&&q2.ie<11&&Jv.isBlock(N7)&&Jv.isEmpty(N7)){if(dl){r.setStart(N7,0);}else{r.setEnd(N7,0);}return;}}while(N7=dl?w.next():w.prev());if(a.nodeName==='BODY'){if(dl){r.setStart(a,0);}else{r.setEnd(a,a.childNodes.length);}}};var jr=function(a){var s=a.selection.getSel();return s&&s.rangeCount>0;};function kr(a){var l,b=[];var c=function(s){var i,d;d=a.$(s).parentsUntil(a.getBody()).add(s);if(d.length===b.length){for(i=d.length;i>=0;i--){if(d[i]!==b[i]){break;}}if(i===-1){b=d;return true;}}b=d;return false;};if(!('onselectionchange'in a.getDoc())){a.on('NodeChange Click MouseUp KeyUp Focus',function(e){var n,f;n=a.selection.getRng();f={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};if(e.type==='nodechange'||!mn.isEq(f,l)){a.fire('SelectionChange');}l=f;});}a.on('contextmenu',function(){a.fire('SelectionChange');});a.on('SelectionChange',function(){var s=a.selection.getStart(true);if(!s||!q2.range&&a.selection.isCollapsed()){return;}if(jr(a)&&!c(s)&&a.dom.isChildOf(s,a.getBody())){a.nodeChanged({selectionChange:true});}});a.on('MouseUp',function(e){if(!e.isDefaultPrevented()&&jr(a)){if(a.selection.getNode().nodeName==='IMG'){C2.setEditorTimeout(a,function(){a.nodeChanged();});}else{a.nodeChanged();}}});this.nodeChanged=function(d){var s=a.selection;var N7,k8,r;if(a.initialized&&s&&!a.settings.disable_nodechange&&!a.readonly){r=a.getBody();N7=s.getStart(true)||r;if(N7.ownerDocument!==a.getDoc()||!a.dom.isChildOf(N7,r)){N7=r;}k8=[];a.dom.getParent(N7,function(N7){if(N7===r){return true;}k8.push(N7);});d=d||{};d.element=N7;d.parents=k8;a.fire('NodeChange',d);}};}var lr=function(a){var F4,a3,w,c;c=a.getBoundingClientRect();F4=a.ownerDocument;a3=F4.documentElement;w=F4.defaultView;return{top:c.top+w.pageYOffset-a3.clientTop,left:c.left+w.pageXOffset-a3.clientLeft};};var mr=function(a){return a.inline?lr(a.getBody()):{left:0,top:0};};var nr=function(a){var f7=a.getBody();return a.inline?{left:f7.scrollLeft,top:f7.scrollTop}:{left:0,top:0};};var pr=function(a){var f7=a.getBody(),d=a.getDoc().documentElement;var b={left:f7.scrollLeft,top:f7.scrollTop};var c={left:f7.scrollLeft||d.scrollLeft,top:f7.scrollTop||d.scrollTop};return a.inline?b:c;};var qr=function(a,b){if(b.target.ownerDocument!==a.getDoc()){var c=lr(a.getContentAreaContainer());var s=pr(a);return{left:b.pageX-c.left+s.left,top:b.pageY-c.top+s.top};}return{left:b.pageX,top:b.pageY};};var rr=function(b,s,m){return{pageX:m.left-b.left+s.left,pageY:m.top-b.top+s.top};};var sr=function(a,b){return rr(mr(a),nr(a),qr(a,b));};var ur={calc:sr};var vr=I9.isContentEditableFalse;var wr=I9.isContentEditableTrue;var xr=function(r,a){return vr(a)&&a!==r;};var yr=function(a,t,d){if(t===d||a.dom.isChildOf(t,d)){return false;}if(vr(t)){return false;}return true;};var zr=function(a){var c=a.cloneNode(true);c.removeAttribute('data-mce-selected');return c;};var Ar=function(a,b,w,h){var c=b.cloneNode(true);a.dom.setStyles(c,{width:w,height:h});a.dom.setAttrib(c,'data-mce-selected',null);var g=a.dom.create('div',{'class':'mce-drag-container','data-mce-bogus':'all','unselectable':'on','contenteditable':'false'});a.dom.setStyles(g,{position:'absolute',opacity:0.5,overflow:'hidden',border:0,padding:0,margin:0,width:w,height:h});a.dom.setStyles(c,{margin:0,boxSizing:'border-box'});g.appendChild(c);return g;};var Br=function(g,b){if(g.parentNode!==b){b.appendChild(g);}};var Cr=function(g,p,w,h,m,a){var Bb=0,Cb=0;g.style.left=p.pageX+'px';g.style.top=p.pageY+'px';if(p.pageX+w>m){Bb=p.pageX+w-m;}if(p.pageY+h>a){Cb=p.pageY+h-a;}g.style.width=w-Bb+'px';g.style.height=h-Cb+'px';};var Dr=function(a){if(a&&a.parentNode){a.parentNode.removeChild(a);}};var Er=function(e){return e.button===0;};var Fr=function(s){return s.element;};var Gr=function(s,p){return{pageX:p.pageX-s.relX,pageY:p.pageY+5};};var Hr=function(s,a){return function(e){if(Er(e)){var c=r4.find(a.dom.getParents(e.target),Qb.or(vr,wr));if(xr(a.getBody(),c)){var b=a.dom.getPos(c);var d=a.getBody();var f=a.getDoc().documentElement;s.element=c;s.screenX=e.screenX;s.screenY=e.screenY;s.maxX=(a.inline?d.scrollWidth:f.offsetWidth)-2;s.maxY=(a.inline?d.scrollHeight:f.offsetHeight)-2;s.relX=e.pageX-b.x;s.relY=e.pageY-b.y;s.width=c.offsetWidth;s.height=c.offsetHeight;s.ghost=Ar(a,c,s.width,s.height);}}};};var Ir=function(s,a){var t=C2.throttle(function(c,b){a._selectionOverrides.hideFakeCaret();a.selection.placeCaretAt(c,b);},0);return function(e){var m=Math.max(Math.abs(e.screenX-s.screenX),Math.abs(e.screenY-s.screenY));if(Fr(s)&&!s.dragging&&m>10){var b=a.fire('dragstart',{target:s.element});if(b.isDefaultPrevented()){return;}s.dragging=true;a.focus();}if(s.dragging){var c=Gr(s,ur.calc(a,e));Br(s.ghost,a.getBody());Cr(s.ghost,c,s.width,s.height,s.maxX,s.maxY);t(e.clientX,e.clientY);}};};var Jr=function(s){var r=s.getSel().getRangeAt(0);var a=r.startContainer;return a.nodeType===3?a.parentNode:a;};var Kr=function(s,a){return function(e){if(s.dragging){if(yr(a,Jr(a.selection),s.element)){var t=zr(s.element);var b=a.fire('drop',{targetClone:t,clientX:e.clientX,clientY:e.clientY});if(!b.isDefaultPrevented()){t=b.targetClone;a.undoManager.transact(function(){Dr(s.element);a.insertContent(a.dom.getOuterHTML(t));a._selectionOverrides.hideFakeCaret();});}}}Mr(s);};};var Lr=function(s,a){return function(){if(s.dragging){a.fire('dragend');}Mr(s);};};var Mr=function(s){s.dragging=false;s.element=null;Dr(s.ghost);};var Nr=function(a){var s={};var p,d,b,c,f,r;p=Ba.DOM;r=document;d=Hr(s,a);b=Ir(s,a);c=Kr(s,a);f=Lr(s,a);a.on('mousedown',d);a.on('mousemove',b);a.on('mouseup',c);p.bind(r,'mousemove',b);p.bind(r,'mouseup',f);a.on('remove',function(){p.unbind(r,'mousemove',b);p.unbind(r,'mouseup',f);});};var Or=function(a){a.on('drop',function(e){var r=typeof e.clientX!=='undefined'?a.getDoc().elementFromPoint(e.clientX,e.clientY):null;if(vr(r)||vr(a.dom.getContentEditableParent(r))){e.preventDefault();}});};var Pr=function(a){Nr(a);Or(a);};var Qr={init:Pr};var Rr=function(N7){var t=function(c){return r4.map(c,function(a){a=ub(a);a.node=N7;return a;});};if(I9.isElement(N7)){return t(N7.getClientRects());}if(I9.isText(N7)){var r=N7.ownerDocument.createRange();r.setStart(N7,0);r.setEnd(N7,N7.data.length);return t(r.getClientRects());}};var Sr=function(N7){return r4.reduce(N7,function(r,N7){return r.concat(Rr(N7));},[]);};var Tr;(function(Tr){Tr[Tr['Up']=-1]='Up';Tr[Tr['Down']=1]='Down';}(Tr||(Tr={})));var Ur=function(d,r,p,N7){while(N7=Ze(N7,d,sb,r)){if(p(N7)){return;}}};var Vr=function(d,a,b,r,p,c){var l=0,N7;var f=[];var t;var Eo=function(N7){var i,g,h;h=Sr([N7]);if(d===-1){h=h.reverse();}for(i=0;i<h.length;i++){g=h[i];if(b(g,t)){continue;}if(f.length>0&&a(g,r4.last(f))){l++;}g.line=l;if(p(g)){return true;}f.push(g);}};t=r4.last(c.getClientRects());if(!t){return f;}N7=c.getNode();Eo(N7);Ur(d,r,Eo,N7);return f;};var Wr=function(l,c){return c.line>l;};var Xr=function(l,c){return c.line===l;};var Yr=L.curry(Vr,Tr.Up,yb,zb);var Zr=L.curry(Vr,Tr.Down,zb,yb);var $r=function(d,r,p,N7){var c=Df(r);var w,a,b,f;var g=[];var l=0,h,t;var j=function(f){if(d===1){return r4.last(f.getClientRects());}return r4.last(f.getClientRects());};if(d===1){w=c.next;a=zb;b=yb;f=pc.after(N7);}else{w=c.prev;a=yb;b=zb;f=pc.before(N7);}t=j(f);do{if(!f.isVisible()){continue;}h=j(f);if(b(h,t)){continue;}if(g.length>0&&a(h,r4.last(g))){l++;}h=ub(h);h.position=f;h.line=l;if(p(h)){return g;}g.push(h);}while(f=w(f));return g;};var _r=function(l){return function(c){return Wr(l,c);};};var as=function(l){return function(c){return Xr(l,c);};};var bs=I9.isContentEditableFalse;var ds=Ze;var es=function(c,a){return Math.abs(c.left-a);};var fs=function(c,a){return Math.abs(c.right-a);};var gs=function(c,a){return c>=a.left&&c<=a.right;};var hs=function(c,a){return r4.reduce(c,function(o,b){var d,n;d=Math.min(es(o,a),fs(o,a));n=Math.min(es(b,a),fs(b,a));if(gs(a,b)){return b;}if(gs(a,o)){return o;}if(n===d&&bs(b.node)){return b;}if(n<d){return b;}return o;});};var js=function(d,r,p,N7){while(N7=ds(N7,d,sb,r)){if(p(N7)){return;}}};var ks=function(r,t){var c=[];var a=function(b,N7){var l;l=r4.filter(Sr([N7]),function(d){return!b(d,t);});c=c.concat(l);return l.length===0;};c.push(t);js(Tr.Up,r,L.curry(a,yb),t.node);js(Tr.Down,r,L.curry(a,zb),t.node);return c;};var ls=function(r){return r4.filter(r4.toArray(r.getElementsByTagName('*')),Oe);};var ms=function(c,a){return{node:c.node,before:es(c,a)<fs(c,a)};};var qs=function(r,c,a){var b;var d=Sr(ls(r));var t=r4.filter(d,function(f){return a>=f.top&&a<=f.bottom;});b=hs(t,c);if(b){b=hs(ks(r,b),c);if(b&&Oe(b.node)){return ms(b,c);}}return null;};var rs=function(c,a,b1){if(b1.collapsed){return false;}return H1.foldl(b1.getClientRects(),function(s,r){return s||Ab(r,c,a);},false);};var ss={isXYWithinRange:rs};var ts=function(f,r){var t=null;var a=null;var c=function(){if(t!==null){clearTimeout(t);t=null;a=null;}};var b=function(){a=arguments;if(t===null){t=setTimeout(function(){f.apply(null,a);t=null;a=null;},r);}};return{cancel:c,throttle:b};};var us=function(f,r){var t=null;var c=function(){if(t!==null){clearTimeout(t);t=null;}};var a=function(){var b=arguments;if(t===null){t=setTimeout(function(){f.apply(null,b);t=null;b=null;},r);}};return{cancel:c,throttle:a};};var vs=function(f,r){var t=null;var c=function(){if(t!==null){clearTimeout(t);t=null;}};var a=function(){var b=arguments;if(t!==null)clearTimeout(t);t=setTimeout(function(){f.apply(null,b);t=null;b=null;},r);};return{cancel:c,throttle:a};};var ws={adaptable:ts,first:us,last:vs};var ys=function(a){var r=ws.first(function(){if(!a.removed){var b=a.selection.getRng();if(b.collapsed){var c=Wc(a,a.selection.getRng(),false);a.selection.setRng(c);}}},0);a.on('focus',function(){r.throttle();});a.on('blur',function(){r.cancel();});};var zs={setup:ys};var As={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e);},metaKeyPressed:function(e){return q2.mac?e.metaKey:e.ctrlKey&&!e.altKey;}};var Bs=I9.isContentEditableTrue;var Cs=I9.isContentEditableFalse;var Ds=nf;var Es=mf;var Fs=function(a,N7){var r=a.getBody();while(N7&&N7!==r){if(Bs(N7)||Cs(N7)){return N7;}N7=N7.parentNode;}return null;};var Gs=function(a){var h9=function(N7){return a.dom.isBlock(N7);};var r=a.getBody();var f=Ne(a.getBody(),h9,function(){return Vp.hasFocus(a);});var b='sel-'+a.dom.uniqueId();var s;var c=function(u){return a.dom.hasClass(u,'mce-offscreen-selection');};var g=function(){var u=a.dom.get(b);return u?u.getElementsByTagName('*')[0]:u;};var d=function(b1){if(b1){a.selection.setRng(b1);}};var h=function(){return a.selection.getRng();};var j=function(u,N7,he,v){if(v===void 0){v=true;}var e;e=a.fire('ShowCaret',{target:N7,direction:u,before:he});if(e.isDefaultPrevented()){return null;}if(v){a.selection.scrollIntoView(N7,u===-1);}return f.show(he,N7);};var k=function(u,b1){b1=gf(u,r,b1);if(u===-1){return pc.fromRangeStart(b1);}return pc.fromRangeEnd(b1);};var Wz=function(u){if(u.hasAttribute('data-mce-caret')){_a(u);d(h());a.selection.scrollIntoView(u[0]);}};var NB=function(){a.on('mouseup',function(e){var b1=h();if(b1.collapsed&&hq.isXYInContentArea(a,e.clientX,e.clientY)){d(Vc(a,b1,false));}});a.on('click',function(e){var y;y=Fs(a,e.target);if(y){if(Cs(y)){e.preventDefault();a.focus();}if(Bs(y)){if(a.dom.isChildOf(y,a.selection.getNode())){p();}}}});a.on('blur NewBlock',function(){p();});a.on('ResizeWindow FullscreenStateChanged',function(){return f.reposition();});var u=function(a){var y=false;a.on('touchstart',function(){y=false;});a.on('touchmove',function(){y=true;});a.on('touchend',function(e){var $=Fs(a,e.target);if(Cs($)){if(!y){e.preventDefault();o(Uc(a,$));}}});};var v=function(y){var $=Df(y);if(!y.firstChild){return false;}var _=pc.before(y.firstChild);var a1=$.next(_);return a1&&!Es(a1)&&!Ds(a1);};var w=function(y,$){var _=a.dom.getParent(y,a.dom.isBlock);var a1=a.dom.getParent($,a.dom.isBlock);return _===a1;};var x=function(y,$){var _=a.dom.getParent(y,a.dom.isBlock);var a1=a.dom.getParent($,a.dom.isBlock);if(_&&a.dom.isChildOf(_,a1)&&Cs(Fs(a,_))===false){return true;}return _&&!w(_,a1)&&v(_);};u(a);a.on('mousedown',function(e){var y;var $=e.target;if($!==r&&$.nodeName!=='HTML'&&!a.dom.isChildOf($,r)){return;}if(hq.isXYInContentArea(a,e.clientX,e.clientY)===false){return;}y=Fs(a,$);if(y){if(Cs(y)){e.preventDefault();o(Uc(a,y));}else{p();if(!(Bs(y)&&e.shiftKey)&&!ss.isXYWithinRange(e.clientX,e.clientY,a.selection.getRng())){t();a.selection.placeCaretAt(e.clientX,e.clientY);}}}else if(Oe($)===false){p();t();var ms=qs(r,e.clientX,e.clientY);if(ms){if(!x(e.target,ms.node)){e.preventDefault();var b1=j(1,ms.node,ms.before,false);a.getBody().focus();d(b1);}}}});a.on('keypress',function(e){if(As.modifierPressed(e)){return;}switch(e.keyCode){default:if(Cs(a.selection.getNode())){e.preventDefault();}break;}});a.on('getSelectionRange',function(e){var y=e.range;if(s){if(!s.parentNode){s=null;return;}y=y.cloneRange();y.selectNode(s);e.range=y;}});a.on('setSelectionRange',function(e){var y;y=o(e.range,e.forward);if(y){e.range=y;}});a.on('AfterSetSelectionRange',function(e){var y=e.range;if(!n(y)){t();}if(!c(y.startContainer.parentNode)){p();}});a.on('copy',function(e){var y=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!q2.ie){var $=g();if($){e.preventDefault();y.clearData();y.setData('text/html',$.outerHTML);y.setData('text/plain',$.outerText);}}});Qr.init(a);zs.setup(a);};var l=function(){var u=a.contentStyles,v='.mce-content-body';u.push(f.getCss());u.push(v+' .mce-offscreen-selection {'+'position: absolute;'+'left: -9999999999px;'+'max-width: 1000000px;'+'}'+v+' *[contentEditable=false] {'+'cursor: default;'+'}'+v+' *[contentEditable=true] {'+'cursor: text;'+'}');};var m=function(N7){return Ra(N7)||Ya(N7)||Za(N7);};var n=function(u){return m(u.startContainer)||m(u.endContainer);};var o=function(b1,u){var N7;var $=a.$;var Jv=a.dom;var v,w,x,y,_,e,a1,d1,e1;if(!b1){return null;}if(b1.collapsed){if(!n(b1)){if(u===false){a1=k(-1,b1);if(Oe(a1.getNode(true))){return j(-1,a1.getNode(true),false,false);}if(Oe(a1.getNode())){return j(-1,a1.getNode(),!a1.isAtEnd(),false);}}else{a1=k(1,b1);if(Oe(a1.getNode())){return j(1,a1.getNode(),!a1.isAtEnd(),false);}if(Oe(a1.getNode(true))){return j(1,a1.getNode(true),false,false);}}}return null;}x=b1.startContainer;y=b1.startOffset;_=b1.endOffset;if(x.nodeType===3&&y===0&&Cs(x.parentNode)){x=x.parentNode;y=Jv.nodeIndex(x);x=x.parentNode;}if(x.nodeType!==1){return null;}if(_===y+1){N7=x.childNodes[y];}if(!Cs(N7)){return null;}d1=e1=N7.cloneNode(true);e=a.fire('ObjectSelected',{target:N7,targetClone:d1});if(e.isDefaultPrevented()){return null;}v=Yi.descendant(A6.fromDom(a.getBody()),'#'+b).fold(function(){return $([]);},function(o1){return $([o1.dom()]);});d1=e.targetClone;if(v.length===0){v=$('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr('id',b);v.appendTo(a.getBody());}b1=a.dom.createRng();if(d1===e1&&q2.ie){v.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(d1);b1.setStartAfter(v[0].firstChild.firstChild);b1.setEndAfter(d1);}else{v.empty().append('\xA0').append(d1).append('\xA0');b1.setStart(v[0].firstChild,1);b1.setEnd(v[0].lastChild,0);}v.css({top:Jv.getPos(N7,a.getBody()).y});v[0].focus();w=a.selection.getSel();w.removeAllRanges();w.addRange(b1);H1.each(xd.descendants(A6.fromDom(a.getBody()),'*[data-mce-selected]'),function(o1){d7.remove(o1,'data-mce-selected');});N7.setAttribute('data-mce-selected','1');s=N7;t();return b1;};var p=function(){if(s){s.removeAttribute('data-mce-selected');}Yi.descendant(A6.fromDom(a.getBody()),'#'+b).each(nh.remove);s=null;};var sB=function(){f.destroy();s=null;};var t=function(){f.hide();};if(q2.ceFalse){NB();l();}return{showCaret:j,showBlockCaretContainer:Wz,hideFakeCaret:t,destroy:sB};};var Hs=function(n){return n.indexOf('data-')===0||n.indexOf('aria-')===0;};var Is=function(t){return t.replace(/<!--|-->/g,'');};var Js=function(s,u){if(s.allow_html_data_urls){return false;}else if(/^data:image\//i.test(u)){return s.allow_svg_data_urls===false&&/^data:image\/svg\+xml/i.test(u);}else{return/^data:/i.test(u);}};var Ks=function(s,h,a){var Lq=1,b,e3,t,c;c=s.getShortEndedElements();t=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;t.lastIndex=b=a;while(e3=t.exec(h)){b=t.lastIndex;if(e3[1]==='/'){Lq--;}else if(!e3[1]){if(e3[2]in c){continue;}Lq++;}if(Lq===0){break;}}return b;};function Ls(s,a){if(a===void 0){a=oa();}var q=function(){};s=s||{};if(s.fix_self_closing!==false){s.fix_self_closing=true;}var c=s.comment?s.comment:q;var b=s.cdata?s.cdata:q;var t=s.text?s.text:q;var dl=s.start?s.start:q;var gl=s.end?s.end:q;var p=s.pi?s.pi:q;var d=s.doctype?s.doctype:q;var f=function(h){var e3,g=0,E6,j;var k=[];var l,i,m,n;var o,r,u,v,w;var io,x,y,$,_,a1,d1;var e1,o1,x1,y1;var $1,a2,d2,e2,i2,o2,x2=0;var ba=ca.decode;var y2;var $2=E4.makeMap('src,href,data,background,formaction,poster,xlink:href');var $3=/((java|vb)script|mhtml):/i;var u4=function(n){var o5,i;o5=k.length;while(o5--){if(k[o5].name===n){break;}}if(o5>=0){for(i=k.length-1;i>=o5;i--){n=k[i];if(n.valid){gl(n.name);}}k.length=o5;}};var $4=function(fu,n,E6,o5,Z7){var fa,i;var pa=/[\s\u0000-\u001F]+/g;n=n.toLowerCase();E6=n in v?n:ba(E6||o5||Z7||'');if(io&&!o&&Hs(n)===false){fa=a1[n];if(!fa&&d1){i=d1.length;while(i--){fa=d1[i];if(fa.pattern.test(n)){break;}}if(i===-1){fa=null;}}if(!fa){return;}if(fa.validValues&&!(E6 in fa.validValues)){return;}}if($2[n]&&!s.allow_script_urls){var cb=E6.replace(pa,'');try{cb=decodeURIComponent(cb);}catch(ex){cb=unescape(cb);}if($3.test(cb)){return;}if(Js(s,cb)){return;}}if(o&&(n in $2||n.indexOf('on')===0)){return;}l.map[n]=E6;l.push({name:n,value:E6});};d2=new RegExp('<(?:'+'(?:!--([\\w\\W]*?)-->)|'+'(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|'+'(?:!DOCTYPE([\\w\\W]*?)>)|'+'(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|'+'(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|'+'(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\\/|\\s+)>)'+')','g');e2=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;u=a.getShortEndedElements();a2=s.self_closing_elements||a.getSelfClosingElements();v=a.getBoolAttrs();io=s.validate;r=s.remove_internals;y2=s.fix_self_closing;i2=a.getSpecialElements();y1=h+'>';while(e3=d2.exec(y1)){if(g<e3.index){t(ba(h.substr(g,e3.index-g)));}if(E6=e3[6]){E6=E6.toLowerCase();if(E6.charAt(0)===':'){E6=E6.substr(1);}u4(E6);}else if(E6=e3[7]){if(e3.index+e3[0].length>h.length){t(ba(h.substr(e3.index)));g=e3.index+e3[0].length;continue;}E6=E6.toLowerCase();if(E6.charAt(0)===':'){E6=E6.substr(1);}w=E6 in u;if(y2&&a2[E6]&&k.length>0&&k[k.length-1].name===E6){u4(E6);}if(!io||(x=a.getElementRule(E6))){y=true;if(io){a1=x.attributes;d1=x.attributePatterns;}if(_=e3[8]){o=_.indexOf('data-mce-type')!==-1;if(o&&r){y=false;}l=[];l.map={};_.replace(e2,$4);}else{l=[];l.map={};}if(io&&!o){e1=x.attributesRequired;o1=x.attributesDefault;x1=x.attributesForced;$1=x.removeEmptyAttrs;if($1&&!l.length){y=false;}if(x1){i=x1.length;while(i--){$=x1[i];n=$.name;o2=$.value;if(o2==='{$uid}'){o2='mce_'+x2++;}l.map[n]=o2;l.push({name:n,value:o2});}}if(o1){i=o1.length;while(i--){$=o1[i];n=$.name;if(!(n in l.map)){o2=$.value;if(o2==='{$uid}'){o2='mce_'+x2++;}l.map[n]=o2;l.push({name:n,value:o2});}}}if(e1){i=e1.length;while(i--){if(e1[i]in l.map){break;}}if(i===-1){y=false;}}if($=l.map['data-mce-bogus']){if($==='all'){g=Ks(a,h,d2.lastIndex);d2.lastIndex=g;continue;}y=false;}}if(y){dl(E6,l,w);}}else{y=false;}if(j=i2[E6]){j.lastIndex=g=e3.index+e3[0].length;if(e3=j.exec(h)){if(y){m=h.substr(g,e3.index-g);}g=e3.index+e3[0].length;}else{m=h.substr(g);g=h.length;}if(y){if(m.length>0){t(m,true);}gl(E6);}d2.lastIndex=g;continue;}if(!w){if(!_||_.indexOf('/')!==_.length-1){k.push({name:E6,valid:y});}else if(y){gl(E6);}}}else if(E6=e3[1]){if(E6.charAt(0)==='>'){E6=' '+E6;}if(!s.allow_conditional_comments&&E6.substr(0,3).toLowerCase()==='[if'){E6=' '+E6;}c(E6);}else if(E6=e3[2]){b(Is(E6));}else if(E6=e3[3]){d(E6);}else if(E6=e3[4]){p(E6,e3[5]);}g=e3.index+e3[0].length;}if(g<h.length){t(ba(h.substr(g)));}for(i=k.length-1;i>=0;i--){E6=k[i];if(E6.valid){gl(E6.name);}}};return{parse:f};}(function(Ls){Ls.findEndTag=Ks;}(Ls||(Ls={})));var Ms=Ls;var Ns=function(t,h){var a=new RegExp(['\\s?('+t.join('|')+')="[^"]+"'].join('|'),'gi');return h.replace(a,'');};var Os=function(s,h){var c=h;var b=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var a,d,m,e3,f;var g=s.schema;c=Ns(s.getTempAttrs(),c);f=g.getShortEndedElements();while(e3=b.exec(c)){d=b.lastIndex;m=e3[0].length;if(f[e3[1]]){a=d;}else{a=Ms.findEndTag(g,c,d);}c=c.substring(0,d-m)+c.substring(a);b.lastIndex=d-m;}return Ma.trim(c);};var Ps=Os;var Qs={trimExternal:Ps,trimInternal:Os};var Rs=0;var Ss=1;var Ts=2;var Us=function(l,r){var T6=l.length+r.length+2;var v=new Array(T6);var u=new Array(T6);var s=function(dl,gl,d){return{start:dl,end:gl,diag:d};};var b=function(d,f,h,k,c){var m=g(d,f,h,k);if(m===null||m.start===f&&m.diag===f-k||m.end===d&&m.diag===d-h){var i=d;var j=h;while(i<f||j<k){if(i<f&&j<k&&l[i]===r[j]){c.push([Rs,l[i]]);++i;++j;}else{if(f-d>k-h){c.push([Ts,l[i]]);++i;}else{c.push([Ss,r[j]]);++j;}}}}else{b(d,m.start,h,m.start-m.diag,c);for(var n=m.start;n<m.end;++n){c.push([Rs,l[n]]);}b(m.end,f,m.end-m.diag,k,c);}};var a=function(dl,d,f,h){var gl=dl;while(gl-d<h&&gl<f&&l[gl]===r[gl-d]){++gl;}return s(dl,gl,d);};var g=function(f,h,j,o){var m=h-f;var n=o-j;if(m===0||n===0){return null;}var p=m-n;var t=n+m;var w=(t%2===0?t:t+1)/2;v[1+w]=f;u[1+w]=h+1;var d,k,i,x,y;for(d=0;d<=w;++d){for(k=-d;k<=d;k+=2){i=k+w;if(k===-d||k!==d&&v[i-1]<v[i+1]){v[i]=v[i+1];}else{v[i]=v[i-1]+1;}x=v[i];y=x-f+j-k;while(x<h&&y<o&&l[x]===r[y]){v[i]=++x;++y;}if(p%2!==0&&p-d<=k&&k<=p+d){if(u[i-p]<=v[i]){return a(u[i-p],k+f-j,h,o);}}}for(k=p-d;k<=p+d;k+=2){i=k+w-p;if(k===p-d||k!==p+d&&u[i+1]<=u[i-1]){u[i]=u[i+1]-1;}else{u[i]=u[i-1];}x=u[i]-1;y=x-f+j-k;while(x>=f&&y>=j&&l[x]===r[y]){u[i]=x--;y--;}if(p%2===0&&-d<=k&&k<=d){if(u[i]<=v[i+p]){return a(u[i],k+f-j,h,o);}}}}};var c=[];b(0,l.length,0,r.length,c);return c;};var Vs={KEEP:Rs,DELETE:Ts,INSERT:Ss,diff:Us};var Ws=function(a){if(I9.isElement(a)){return a.outerHTML;}else if(I9.isText(a)){return ca.encodeRaw(a.data,false);}else if(I9.isComment(a)){return'<!--'+a.data+'-->';}return'';};var Xs=function(h){var f,N7,c;c=document.createElement('div');f=document.createDocumentFragment();if(h){c.innerHTML=h;}while(N7=c.firstChild){f.appendChild(N7);}return f;};var Ys=function(a,h,b){var f=Xs(h);if(a.hasChildNodes()&&b<a.childNodes.length){var t=a.childNodes[b];t.parentNode.insertBefore(f,t);}else{a.appendChild(f);}};var Zs=function(a,b){if(a.hasChildNodes()&&b<a.childNodes.length){var t=a.childNodes[b];t.parentNode.removeChild(t);}};var $s=function(Us,a){var b=0;r4.each(Us,function(uy){if(uy[0]===Vs.KEEP){b++;}else if(uy[0]===Vs.INSERT){Ys(a,uy[1],b);b++;}else if(uy[0]===Vs.DELETE){Zs(a,b);}});};var _s=function(a){return r4.filter(r4.map(a.childNodes,Ws),function(b){return b.length>0;});};var at=function(f,a){var c=r4.map(a.childNodes,Ws);$s(Vs.diff(c,f),a);return a;};var bt={read:_s,write:at};var ct=function(h,s){var F4=s||document;var d=F4.createElement('div');d.innerHTML=h;return z8.children(A6.fromDom(d));};var dt=function(t,s){return H1.map(t,function(x){return A6.fromTag(x,s);});};var et=function(t,s){return H1.map(t,function(x){return A6.fromText(x,s);});};var ft=function(n){return H1.map(n,A6.fromDom);};var gt={fromHtml:ct,fromTags:dt,fromText:et,fromDom:ft};var ht=function(a){return a.dom().innerHTML;};var it=function(a,c){var f8=z8.owner(a);var d=f8.dom();var f=A6.fromDom(d.createDocumentFragment());var b=gt.fromHtml(c,d);jh.append(f,b);nh.empty(a);qe.append(a,f);};var jt=function(a){var c=A6.fromTag('div');var a7=A6.fromDom(a.dom().cloneNode(true));qe.append(c,a7);return ht(c);};var kt={get:ht,set:it,getOuter:jt};var lt=Ie(S.none());var mt=function(){return lt.get().getOrThunk(function(){var F4=document.implementation.createHTMLDocument('undo');lt.set(S.some(F4));return F4;});};var nt=function(h){return h.indexOf('</iframe>')!==-1;};var ot=function(f){return{type:'fragmented',fragments:f,content:'',bookmark:null,beforeBookmark:null};};var pt=function(c){return{type:'complete',fragments:null,content:c,bookmark:null,beforeBookmark:null};};var qt=function(a){var f,c,t;f=bt.read(a.getBody());t=H1.bind(f,function(h){var b=Qs.trimInternal(a.serializer,h);return b.length>0?[b]:[];});c=t.join('');return nt(c)?ot(t):pt(c);};var rt=function(a,l,he){if(l.type==='fragmented'){bt.write(l.fragments,a.getBody());}else{a.setContent(l.content,{format:'raw'});}a.selection.moveToBookmark(he?l.beforeBookmark:l.bookmark);};var st=function(l){return l.type==='fragmented'?l.fragments.join(''):l.content;};var tt=function(l){var a=A6.fromTag('body',mt());kt.set(a,st(l));H1.each(xd.descendants(a,'*[data-mce-bogus]'),nh.unwrap);return kt.get(a);};var ut=function(l,a){return st(l)===st(a);};var vt=function(l,a){return tt(l)===tt(a);};var wt=function(l,a){if(!l||!a){return false;}else if(ut(l,a)){return true;}else{return vt(l,a);}};var xt={createFragmentedLevel:ot,createCompleteLevel:pt,createFromEditor:qt,applyToEditor:rt,isEq:wt};function yt(a){var s=this,b=0,RB=[],c,d,l=0;var f=function(){return l===0;};var g=function(t){if(f()){s.typing=t;}};var h=function(o){a.setDirty(o);};var j=function(e){g(false);s.add({},e);};var k=function(){if(s.typing){g(false);s.add();}};a.on('init',function(){s.add();});a.on('BeforeExecCommand',function(e){var o=e.command;if(o!=='Undo'&&o!=='Redo'&&o!=='mceRepaint'){k();s.beforeChange();}});a.on('ExecCommand',function(e){var o=e.command;if(o!=='Undo'&&o!=='Redo'&&o!=='mceRepaint'){j(e);}});a.on('ObjectResizeStart Cut',function(){s.beforeChange();});a.on('SaveContent ObjectResized blur',j);a.on('DragEnd',j);a.on('KeyUp',function(e){var o=e.keyCode;if(e.isDefaultPrevented()){return;}if(o>=33&&o<=36||o>=37&&o<=40||o===45||e.ctrlKey){j();a.nodeChanged();}if(o===46||o===8){a.nodeChanged();}if(d&&s.typing&&xt.isEq(xt.createFromEditor(a),RB[0])===false){if(a.isDirty()===false){h(true);a.fire('change',{level:RB[0],lastLevel:null});}a.fire('TypingUndo');d=false;a.nodeChanged();}});a.on('KeyDown',function(e){var o=e.keyCode;if(e.isDefaultPrevented()){return;}if(o>=33&&o<=36||o>=37&&o<=40||o===45){if(s.typing){j(e);}return;}var p=e.ctrlKey&&!e.altKey||e.metaKey;if((o<16||o>20)&&o!==224&&o!==91&&!s.typing&&!p){s.beforeChange();g(true);s.add({},e);d=true;}});a.on('MouseDown',function(e){if(s.typing){j(e);}});var m=function(o){return o.inputType==='insertReplacementText';};var n=function(o){return o.inputType==='insertText'&&o.data===null;};a.on('input',function(e){if(e.inputType&&(m(e)||n(e))){j(e);}});a.addShortcut('meta+z','','Undo');a.addShortcut('meta+y,meta+shift+z','','Redo');a.on('AddUndo Undo Redo ClearUndos',function(e){if(!e.isDefaultPrevented()){a.nodeChanged();}});s={data:RB,typing:false,beforeChange:function(){if(f()){c=Cg.getUndoBookmark(a.selection);}},add:function(o,p){var i;var r=a.settings;var t,u;u=xt.createFromEditor(a);o=o||{};o=E4.extend(o,u);if(f()===false||a.removed){return null;}t=RB[b];if(a.fire('BeforeAddUndo',{level:o,lastLevel:t,originalEvent:p}).isDefaultPrevented()){return null;}if(t&&xt.isEq(t,o)){return null;}if(RB[b]){RB[b].beforeBookmark=c;}if(r.custom_undo_redo_levels){if(RB.length>r.custom_undo_redo_levels){for(i=0;i<RB.length-1;i++){RB[i]=RB[i+1];}RB.length--;b=RB.length;}}o.bookmark=Cg.getUndoBookmark(a.selection);if(b<RB.length-1){RB.length=b+1;}RB.push(o);b=RB.length-1;var v={level:o,lastLevel:t,originalEvent:p};a.fire('AddUndo',v);if(b>0){h(true);a.fire('change',v);}return o;},undo:function(){var o;if(s.typing){s.add();s.typing=false;g(false);}if(b>0){o=RB[--b];xt.applyToEditor(a,o,true);h(true);a.fire('undo',{level:o});}return o;},redo:function(){var o;if(b<RB.length-1){o=RB[++b];xt.applyToEditor(a,o,false);h(true);a.fire('redo',{level:o});}return o;},clear:function(){RB=[];b=0;s.typing=false;s.data=RB;a.fire('ClearUndos');},hasUndo:function(){return b>0||s.typing&&RB[0]&&!xt.isEq(xt.createFromEditor(a),RB[0]);},hasRedo:function(){return b<RB.length-1&&!s.typing;},transact:function(o){k();s.beforeChange();s.ignore(o);return s.add();},ignore:function(o){try{l++;o();}finally{l--;}},extra:function(o,p){var r,t;if(s.transact(o)){t=RB[b].bookmark;r=RB[b-1];xt.applyToEditor(a,r,true);if(s.transact(p)){RB[b-1].beforeBookmark=t;}}}};return s;}var zt=function(N7){return N7&&/^(IMG)$/.test(N7.nodeName);};var At=function(Jv,s,r){var o=r.startOffset;var c=r.startContainer,w,N7,n;if(r.startContainer===r.endContainer){if(zt(r.startContainer.childNodes[r.startOffset])){return;}}if(c.nodeType===1){n=c.childNodes;if(o<n.length){c=n[o];w=new X8(c,Jv.getParent(c,Jv.isBlock));}else{c=n[n.length-1];w=new X8(c,Jv.getParent(c,Jv.isBlock));w.next(true);}for(N7=w.current();N7;N7=w.next()){if(N7.nodeType===3&&!Et(N7)){r.setStart(N7,0);s.setRng(r);return;}}}};var Bt=function(N7,n,a){if(N7){n=n?'nextSibling':'previousSibling';for(N7=a?N7:N7[n];N7;N7=N7[n]){if(N7.nodeType===1||!Et(N7)){return N7;}}}};var Ct=function(a,n){if(n.nodeType){n=n.nodeName;}return!!a.schema.getTextBlockElements()[n.toLowerCase()];};var Dt=function(a,i8,s8){return a.schema.isValidChild(i8,s8);};var Et=function(N7){return N7&&N7.nodeType===3&&/^([\t \r\n]+|)$/.test(N7.nodeValue);};var Ft=function(E6,v){if(typeof E6!=='string'){E6=E6(v);}else if(v){E6=E6.replace(/%(\w+)/g,function(s,n){return v[n]||s;});}return E6;};var Gt=function(s,a){s=s||'';a=a||'';s=''+(s.nodeName||s);a=''+(a.nodeName||a);return s.toLowerCase()===a.toLowerCase();};var Ht=function(Jv,E6,n){if(n==='color'||n==='backgroundColor'){E6=Jv.toHex(E6);}if(n==='fontWeight'&&E6===700){E6='bold';}if(n==='fontFamily'){E6=E6.replace(/[\'\"]/g,'').replace(/,\s+/g,',');}return''+E6;};var It=function(Jv,N7,n){return Ht(Jv,Jv.getStyle(N7,n),n);};var Jt=function(Jv,N7){var d;Jv.getParent(N7,function(n){d=Jv.getStyle(n,'text-decoration');return d&&d!=='none';});return d;};var Kt=function(Jv,N7,s){return Jv.getParents(N7,s,Jv.getRoot());};var Lt={isInlineBlock:zt,moveStart:At,getNonWhiteSpaceSibling:Bt,isTextBlock:Ct,isValid:Dt,isWhiteSpaceNode:Et,replaceVars:Ft,isEq:Gt,normalizeStyleValue:Ht,getStyle:It,getTextDecoration:Jt,getParents:Kt};var Mt=bh.isBookmarkNode;var Nt=Lt.getParents;var Ot=Lt.isWhiteSpaceNode;var Pt=Lt.isTextBlock;var Qt=function(N7,o){if(typeof o==='undefined'){o=N7.nodeType===3?N7.length:N7.childNodes.length;}while(N7&&N7.hasChildNodes()){N7=N7.childNodes[o];if(N7){o=N7.nodeType===3?N7.length:N7.childNodes.length;}}return{node:N7,offset:o};};var Rt=function(a,b){var y8=Qt(a,b);if(y8.node){while(y8.node&&y8.offset===0&&y8.node.previousSibling){y8=Qt(y8.node.previousSibling);}if(y8.node&&y8.offset>0&&y8.node.nodeType===3&&y8.node.nodeValue.charAt(y8.offset-1)===' '){if(y8.offset>1){a=y8.node;a.splitText(y8.offset-1);}}}return a;};var St=function(N7){return N7.nodeName==='BR'&&N7.getAttribute('data-mce-bogus')&&!N7.nextSibling;};var Tt=function(Jv,N7){var i8=N7;while(i8){if(i8.nodeType===1&&Jv.getContentEditable(i8)){return Jv.getContentEditable(i8)==='false'?i8:N7;}i8=i8.parentNode;}return N7;};var Ut=function(dl,$6,N7,o){var p,a;var s=N7.nodeValue;if(typeof o==='undefined'){o=dl?s.length:0;}if(dl){p=s.lastIndexOf(' ',o);a=s.lastIndexOf('\xA0',o);p=p>a?p:a;if(p!==-1&&!$6){p++;}}else{p=s.indexOf(' ',o);a=s.indexOf('\xA0',o);p=p!==-1&&(a===-1||p<a)?p:a;}return p;};var Vt=function(Jv,f7,c,o,dl,$6){var w,N7,p,l;if(c.nodeType===3){p=Ut(dl,$6,c,o);if(p!==-1){return{container:c,offset:p};}l=c;}w=new X8(c,Jv.getParent(c,Jv.isBlock)||f7);while(N7=w[dl?'prev':'next']()){if(N7.nodeType===3){l=N7;p=Ut(dl,$6,N7);if(p!==-1){return{container:N7,offset:p};}}else if(Jv.isBlock(N7)){break;}}if(l){if(dl){o=0;}else{o=l.length;}return{container:l,offset:o};}};var Wt=function(Jv,f,r,c,s){var k8,i,y,a;if(c.nodeType===3&&c.nodeValue.length===0&&c[s]){c=c[s];}k8=Nt(Jv,c);for(i=0;i<k8.length;i++){for(y=0;y<f.length;y++){a=f[y];if('collapsed'in a&&a.collapsed!==r.collapsed){continue;}if(Jv.is(k8[i],a.selector)){return k8[i];}}}return c;};var Xt=function(a,f,c,s){var N7;var Jv=a.dom;var r=Jv.getRoot();if(!f[0].wrapper){N7=Jv.getParent(c,f[0].block,r);}if(!N7){var b=Jv.getParent(c,'LI,TD,TH');N7=Jv.getParent(c.nodeType===3?c.parentNode:c,function(N7){return N7!==r&&Pt(a,N7);},b);}if(N7&&f[0].wrapper){N7=Nt(Jv,N7,'ul,ol').reverse()[0]||N7;}if(!N7){N7=c;while(N7[s]&&!Jv.isBlock(N7[s])){N7=N7[s];if(Lt.isEq(N7,'br')){break;}}}return N7||c;};var Yt=function(Jv,f,s,a,b,c,dl){var d,i8,f5,g,r;d=i8=dl?s:b;g=dl?'previousSibling':'nextSibling';r=Jv.getRoot();if(d.nodeType===3&&!Ot(d)){if(dl?a>0:c<d.nodeValue.length){return d;}}while(true){if(!f[0].block_expand&&Jv.isBlock(i8)){return i8;}for(f5=i8[g];f5;f5=f5[g]){if(!Mt(f5)&&!Ot(f5)&&!St(f5)){return i8;}}if(i8===r||i8.parentNode===r){d=i8;break;}i8=i8.parentNode;}return d;};var Zt=function(a,r,f,$6){var b,s=r.startContainer,c=r.startOffset,d=r.endContainer,g=r.endOffset;var Jv=a.dom;if(s.nodeType===1&&s.hasChildNodes()){s=Fb(s,c);if(s.nodeType===3){c=0;}}if(d.nodeType===1&&d.hasChildNodes()){d=Fb(d,r.collapsed?g:g-1);if(d.nodeType===3){g=d.nodeValue.length;}}s=Tt(Jv,s);d=Tt(Jv,d);if(Mt(s.parentNode)||Mt(s)){s=Mt(s)?s:s.parentNode;s=s.nextSibling||s;if(s.nodeType===3){c=0;}}if(Mt(d.parentNode)||Mt(d)){d=Mt(d)?d:d.parentNode;d=d.previousSibling||d;if(d.nodeType===3){g=d.length;}}if(f[0].inline){if(r.collapsed){b=Vt(Jv,a.getBody(),s,c,true,$6);if(b){s=b.container;c=b.offset;}b=Vt(Jv,a.getBody(),d,g,false,$6);if(b){d=b.container;g=b.offset;}}d=$6?d:Rt(d,g);}if(f[0].inline||f[0].block_expand){if(!f[0].inline||(s.nodeType!==3||c===0)){s=Yt(Jv,f,s,c,d,g,true);}if(!f[0].inline||(d.nodeType!==3||g===d.nodeValue.length)){d=Yt(Jv,f,s,c,d,g,false);}}if(f[0].selector&&f[0].expand!==false&&!f[0].inline){s=Wt(Jv,f,r,s,'previousSibling');d=Wt(Jv,f,r,d,'nextSibling');}if(f[0].block||f[0].selector){s=Xt(a,f,s,'previousSibling');d=Xt(a,f,d,'nextSibling');if(f[0].block){if(!Jv.isBlock(s)){s=Yt(Jv,f,s,c,d,g,true);}if(!Jv.isBlock(d)){d=Yt(Jv,f,s,c,d,g,false);}}}if(s.nodeType===1){c=Jv.nodeIndex(s);s=s.parentNode;}if(d.nodeType===1){g=Jv.nodeIndex(d)+1;d=d.parentNode;}return{startContainer:s,startOffset:c,endContainer:d,endOffset:g};};var $t={expandRng:Zt};var _t=Lt.isEq;var au=function(a,N7,n){var f=a.formatter.get(n);if(f){for(var i=0;i<f.length;i++){if(f[i].inherit===false&&a.dom.is(N7,f[i].selector)){return true;}}}return false;};var bu=function(a,N7,n,v){var r=a.dom.getRoot();if(N7===r){return false;}N7=a.dom.getParent(N7,function(N7){if(au(a,N7,n)){return true;}return N7.parentNode===r||!!eu(a,N7,n,v,true);});return eu(a,N7,n,v);};var cu=function(Jv,N7,f){if(_t(N7,f.inline)){return true;}if(_t(N7,f.block)){return true;}if(f.selector){return N7.nodeType===1&&Jv.is(N7,f.selector);}};var du=function(Jv,N7,f,a,s,v){var k,E6;var b=f[a];var i;if(f.onmatch){return f.onmatch(N7,f,a);}if(b){if(typeof b.length==='undefined'){for(k in b){if(b.hasOwnProperty(k)){if(a==='attributes'){E6=Jv.getAttrib(N7,k);}else{E6=Lt.getStyle(Jv,N7,k);}if(s&&!E6&&!f.exact){return;}if((!s||f.exact)&&!_t(E6,Lt.normalizeStyleValue(Jv,Lt.replaceVars(b[k],v),k))){return;}}}}else{for(i=0;i<b.length;i++){if(a==='attributes'?Jv.getAttrib(N7,b[i]):Lt.getStyle(Jv,N7,b[i])){return f;}}}}return f;};var eu=function(a,N7,n,v,s){var f=a.formatter.get(n);var b,i,x,c;var Jv=a.dom;if(f&&N7){for(i=0;i<f.length;i++){b=f[i];if(cu(a.dom,N7,b)&&du(Jv,N7,b,'attributes',s,v)&&du(Jv,N7,b,'styles',s,v)){if(c=b.classes){for(x=0;x<c.length;x++){if(!a.dom.hasClass(N7,c[x])){return;}}}return b;}}}};var fu=function(a,n,v,N7){var s;if(N7){return bu(a,N7,n,v);}N7=a.selection.getNode();if(bu(a,N7,n,v)){return true;}s=a.selection.getStart();if(s!==N7){if(bu(a,s,n,v)){return true;}}return false;};var gu=function(a,n,v){var s;var m=[];var c={};s=a.selection.getStart();a.dom.getParent(s,function(N7){var i,b;for(i=0;i<n.length;i++){b=n[i];if(!c[b]&&eu(a,N7,b,v)){c[b]=true;m.push(b);}}},a.dom.getRoot());return m;};var hu=function(a,n){var f=a.formatter.get(n);var s,k8,i,x,b;var Jv=a.dom;if(f){s=a.selection.getStart();k8=Lt.getParents(Jv,s);for(x=f.length-1;x>=0;x--){b=f[x].selector;if(!b||f[x].defaultBlock){return true;}for(i=k8.length-1;i>=0;i--){if(Jv.is(k8[i],b)){return true;}}}}return false;};var iu={matchNode:eu,matchName:cu,match:fu,matchAll:gu,canApply:hu,matchesUnInheritedFormatSelector:au};var ju=function(N7,o){return N7.splitText(o);};var ku=function(r){var s=r.startContainer,a=r.startOffset,b=r.endContainer,c=r.endOffset;if(s===b&&I9.isText(s)){if(a>0&&a<s.nodeValue.length){b=ju(s,a);s=b.previousSibling;if(c>a){c=c-a;s=b=ju(b,c).previousSibling;c=b.nodeValue.length;a=0;}else{c=0;}}}else{if(I9.isText(s)&&a>0&&a<s.nodeValue.length){s=ju(s,a);a=0;}if(I9.isText(b)&&c>0&&c<b.nodeValue.length){b=ju(b,c).previousSibling;c=b.nodeValue.length;}}return{startContainer:s,startOffset:a,endContainer:b,endOffset:c};};var lu={split:ku};var mu=Ma.ZWSP;var ou='_mce_caret';var pu=function(o,N7){return o.importNode(N7,true);};var qu=function(N7){var n=[];while(N7){if(N7.nodeType===3&&N7.nodeValue!==mu||N7.childNodes.length>1){return[];}if(N7.nodeType===1){n.push(N7);}N7=N7.firstChild;}return n;};var ru=function(N7){return qu(N7).length>0;};var su=function(N7){var w;if(N7){w=new X8(N7,N7);for(N7=w.current();N7;N7=w.next()){if(N7.nodeType===3){return N7;}}}return null;};var vu=function(f){var c=A6.fromTag('span');d7.setAll(c,{'id':ou,'data-mce-bogus':'1','data-mce-type':'format-caret'});if(f){qe.append(c,A6.fromText(mu));}return c;};var wu=function(c){var t=su(c);if(t&&t.nodeValue.charAt(0)===mu){t.deleteData(0,1);}return t;};var xu=function(Jv,s,N7,Ee){var r,b,t;r=s.getRng(true);b=Jv.getParent(N7,Jv.isBlock);if(ru(N7)){if(Ee!==false){r.setStartBefore(N7);r.setEndBefore(N7);}Jv.remove(N7);}else{t=wu(N7);if(r.startContainer===t&&r.startOffset>0){r.setStart(t,r.startOffset-1);}if(r.endContainer===t&&r.endOffset>0){r.setEnd(t,r.endOffset-1);}Jv.remove(N7,true);}if(b&&Jv.isEmpty(b)){Ah.fillWithPaddingBr(A6.fromDom(b));}s.setRng(r);};var yu=function(f7,Jv,s,N7,Ee){if(!N7){N7=Fg(f7,s.getStart());if(!N7){while(N7=Jv.get(ou)){xu(Jv,s,N7,false);}}}else{xu(Jv,s,N7,Ee);}};var zu=function(a,c,f){var Jv=a.dom,b=Jv.getParent(f,Qb.curry(Lt.isTextBlock,a));if(b&&Jv.isEmpty(b)){f.parentNode.replaceChild(c,f);}else{Ah.removeTrailingBr(A6.fromDom(f));if(Jv.isEmpty(f)){f.parentNode.replaceChild(c,f);}else{Jv.insertAfter(c,f);}}};var Au=function(p,N7){p.appendChild(N7);return N7;};var Bu=function(f,c){var a=H1.foldr(f,function(p,b){return Au(p,b.cloneNode(false));},c);return Au(a,a.ownerDocument.createTextNode(mu));};var Cu=function(a,n,v){var r,c,t,o,b,d,f;var s=a.selection;r=s.getRng(true);o=r.startOffset;d=r.startContainer;f=d.nodeValue;c=Fg(a.getBody(),s.getStart());if(c){t=su(c);}var w=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(f&&o>0&&o<f.length&&w.test(f.charAt(o))&&w.test(f.charAt(o-1))){b=s.getBookmark();r.collapse(true);r=$t.expandRng(a,r,a.formatter.get(n));r=lu.split(r);a.formatter.apply(n,v,r);s.moveToBookmark(b);}else{if(!c||t.nodeValue!==mu){c=pu(a.getDoc(),vu(true).dom());t=c.firstChild;r.insertNode(c);o=1;a.formatter.apply(n,v,c);}else{a.formatter.apply(n,v,c);}s.setCursorLocation(t,o);}};var Du=function(a,n,v,s){var Jv=a.dom,b=a.selection;var c,o,d;var h,N7,f;var k8=[],r=b.getRng();var g;c=r.startContainer;o=r.startOffset;N7=c;if(c.nodeType===3){if(o!==c.nodeValue.length){h=true;}N7=N7.parentNode;}while(N7){if(iu.matchNode(a,N7,n,v,s)){f=N7;break;}if(N7.nextSibling){h=true;}k8.push(N7);N7=N7.parentNode;}if(!f){return;}if(h){d=b.getBookmark();r.collapse(true);var j=$t.expandRng(a,r,a.formatter.get(n),true);j=lu.split(j);a.formatter.remove(n,v,j);b.moveToBookmark(d);}else{g=Fg(a.getBody(),f);var k=vu(false).dom();var l=Bu(k8,k);if(g){zu(a,k,g);}else{zu(a,k,f);}xu(Jv,b,g,false);b.setCursorLocation(l,1);if(Jv.isEmpty(f)){Jv.remove(f);}}};var Eu=function(f7,Jv,s,k){yu(f7,Jv,s,null,false);if(k===8&&s.isCollapsed()&&s.getStart().innerHTML===mu){yu(f7,Jv,s,Fg(f7,s.getStart()));}if(k===37||k===39){yu(f7,Jv,s,Fg(f7,s.getStart()));}};var Fu=function(a){var Jv=a.dom,s=a.selection;var f7=a.getBody();a.on('mouseup keydown',function(e){Eu(f7,Jv,s,e.keyCode);});};var Gu=function(t,f){var c=vu(false);var a=Bu(f,c.dom());qe.before(A6.fromDom(t),c);nh.remove(A6.fromDom(t));return pc(a,0);};var Hu=function(a,b){var c=a.schema.getTextInlineElements();return c.hasOwnProperty(K6.name(b))&&!Eg(b.dom())&&!I9.isBogus(b.dom());};var Iu={};var Ju=r4.filter;var Ku=r4.each;var Lu=function(n,h){var a=Iu[n];if(!a){Iu[n]=a=[];}Iu[n].push(h);};var Mu=function(n,a){Ku(Iu[n],function(h){h(a);});};Lu('pre',function(a){var r=a.selection.getRng();var b,Y8;var h=function(p){return b(p.previousSibling)&&r4.indexOf(Y8,p.previousSibling)!==-1;};var j=function(p,c){Y4(c).remove();Y4(p).append('<br><br>').append(c.childNodes);};b=I9.matchNodeNames('pre');if(!r.collapsed){Y8=a.selection.getSelectedBlocks();Ku(Ju(Ju(Y8,b),h),function(p){j(p.previousSibling,p);});}});var Nu={postProcess:Mu};var Ou=E4.each;var Pu=function(c,a){var b=c.childNodes;a--;if(a>b.length-1){a=b.length-1;}else if(a<0){a=0;}return b[a]||c;};var Qu=function(Jv,r,c){var s=r.startContainer;var a=r.startOffset;var b=r.endContainer;var d=r.endOffset;var Rh;var f;var g;var N7;var i8;var l8;var n;n=Jv.select('td[data-mce-selected],th[data-mce-selected]');if(n.length>0){Ou(n,function(N7){c([N7]);});return;}var h=function(n){var N7;N7=n[0];if(N7.nodeType===3&&N7===s&&a>=N7.nodeValue.length){n.splice(0,1);}N7=n[n.length-1];if(d===0&&n.length>0&&N7===b&&N7.nodeType===3){n.splice(n.length-1,1);}return n;};var j=function(N7,l,m){var l8=[];for(;N7&&N7!==m;N7=N7[l]){l8.push(N7);}return l8;};var k=function(N7,l){do{if(N7.parentNode===l){return N7;}N7=N7.parentNode;}while(N7);};var w=function(l,m,o){var p=o?'nextSibling':'previousSibling';for(N7=l,i8=N7.parentNode;N7&&N7!==m;N7=i8){i8=N7.parentNode;l8=j(N7===l?N7:N7[p],p);if(l8.length){if(!o){l8.reverse();}c(h(l8));}}};if(s.nodeType===1&&s.hasChildNodes()){s=s.childNodes[a];}if(b.nodeType===1&&b.hasChildNodes()){b=Pu(b,d);}if(s===b){return c(h([s]));}Rh=Jv.findCommonAncestor(s,b);for(N7=s;N7;N7=N7.parentNode){if(N7===b){return w(s,Rh,true);}if(N7===Rh){break;}}for(N7=b;N7;N7=N7.parentNode){if(N7===s){return w(b,Rh);}if(N7===Rh){break;}}f=k(s,Rh)||s;g=k(b,Rh)||b;w(s,f,true);l8=j(f===s?f:f.nextSibling,'nextSibling',g===b?g.nextSibling:g);if(l8.length){c(h(l8));}w(b,g);};var Ru={walk:Qu};var Su=/^(src|href|style)$/;var Tu=E4.each;var Uu=Lt.isEq;var Vu=function(N7){return/^(TH|TD)$/.test(N7.nodeName);};var Wu=function(a,r,dl){var c,o,l;c=r[dl?'startContainer':'endContainer'];o=r[dl?'startOffset':'endOffset'];if(I9.isElement(c)){l=c.childNodes.length-1;if(!dl&&o){o--;}c=c.childNodes[o>l?l:o];}if(I9.isText(c)&&dl&&o>=c.nodeValue.length){c=new X8(c,a.getBody()).next()||c;}if(I9.isText(c)&&!dl&&o===0){c=new X8(c,a.getBody()).prev()||c;}return c;};var Xu=function(Jv,N7,n,a){var w=Jv.create(n,a);N7.parentNode.insertBefore(w,N7);w.appendChild(N7);return w;};var Yu=function(Jv,N7,f){if(Uu(N7,f.inline)){return true;}if(Uu(N7,f.block)){return true;}if(f.selector){return I9.isElement(N7)&&Jv.is(N7,f.selector);}};var Zu=function(N7,f){return f.links&&N7.tagName==='A';};var $u=function(Jv,N7,n,a){N7=Lt.getNonWhiteSpaceSibling(N7,n,a);return!N7||(N7.nodeName==='BR'||Jv.isBlock(N7));};var _u=function(a,N7,f){var p=N7.parentNode;var r;var Jv=a.dom,b=a.settings.forced_root_block;if(f.block){if(!b){if(Jv.isBlock(N7)&&!Jv.isBlock(p)){if(!$u(Jv,N7,false)&&!$u(Jv,N7.firstChild,true,1)){N7.insertBefore(Jv.create('br'),N7.firstChild);}if(!$u(Jv,N7,true)&&!$u(Jv,N7.lastChild,false,1)){N7.appendChild(Jv.create('br'));}}}else{if(p===Jv.getRoot()){if(!f.list_block||!Uu(N7,f.list_block)){Tu(E4.grep(N7.childNodes),function(N7){if(Lt.isValid(a,b,N7.nodeName.toLowerCase())){if(!r){r=Xu(Jv,N7,b);Jv.setAttribs(r,a.settings.forced_root_block_attrs);}else{r.appendChild(N7);}}else{r=0;}});}}}}if(f.selector&&f.inline&&!Uu(f.inline,N7)){return;}Jv.remove(N7,1);};var av=function(a,f,v,N7,c){var i,b,s;var Jv=a.dom;if(!Yu(Jv,N7,f)&&!Zu(N7,f)){return false;}if(f.remove!=='all'){Tu(f.styles,function(E6,n){E6=Lt.normalizeStyleValue(Jv,Lt.replaceVars(E6,v),n);if(typeof n==='number'){n=E6;c=0;}if(f.remove_similar||(!c||Uu(Lt.getStyle(Jv,c,n),E6))){Jv.setStyle(N7,n,'');}s=1;});if(s&&Jv.getAttrib(N7,'style')===''){N7.removeAttribute('style');N7.removeAttribute('data-mce-style');}Tu(f.attributes,function(E6,n){var g;E6=Lt.replaceVars(E6,v);if(typeof n==='number'){n=E6;c=0;}if(!c||Uu(Jv.getAttrib(c,n),E6)){if(n==='class'){E6=Jv.getAttrib(N7,n);if(E6){g='';Tu(E6.split(/\s+/),function(h){if(/mce\-\w+/.test(h)){g+=(g?' ':'')+h;}});if(g){Jv.setAttrib(N7,n,g);return;}}}if(n==='class'){N7.removeAttribute('className');}if(Su.test(n)){N7.removeAttribute('data-mce-'+n);}N7.removeAttribute(n);}});Tu(f.classes,function(E6){E6=Lt.replaceVars(E6,v);if(!c||Jv.hasClass(c,E6)){Jv.removeClass(N7,E6);}});b=Jv.getAttribs(N7);for(i=0;i<b.length;i++){var d=b[i].nodeName;if(d.indexOf('_')!==0&&d.indexOf('data-')!==0){return false;}}}if(f.remove!=='none'){_u(a,N7,f);return true;}};var bv=function(a,c,n,v,s){var f;Tu(Lt.getParents(a.dom,c.parentNode).reverse(),function(i8){var b;if(!f&&i8.id!=='_start'&&i8.id!=='_end'){b=iu.matchNode(a,i8,n,v,s);if(b&&b.split!==false){f=i8;}}});return f;};var cv=function(a,f,b,c,t,la,d,v){var i8,a7,l,g,i,h;var Jv=a.dom;if(b){h=b.parentNode;for(i8=c.parentNode;i8&&i8!==h;i8=i8.parentNode){a7=Jv.clone(i8,false);for(i=0;i<f.length;i++){if(av(a,f[i],v,a7,a7)){a7=0;break;}}if(a7){if(l){a7.appendChild(l);}if(!g){g=a7;}l=a7;}}if(la&&(!d.mixed||!Jv.isBlock(b))){c=Jv.split(b,c);}if(l){t.parentNode.insertBefore(l,t);g.appendChild(t);}}return c;};var dv=function(a,n,v,N7,s){var f=a.formatter.get(n),b=f[0];var c,r,p2=true;var Jv=a.dom;var d=a.selection;var g=function(j){var k=bv(a,j,n,v,s);return cv(a,f,k,j,j,true,b,v);};var ew=function(N7){var r8,i,l,j,B9;if(I9.isElement(N7)&&Jv.getContentEditable(N7)){j=p2;p2=Jv.getContentEditable(N7)==='true';B9=true;}r8=E4.grep(N7.childNodes);if(p2&&!B9){for(i=0,l=f.length;i<l;i++){if(av(a,f[i],v,N7,N7)){break;}}}if(b.deep){if(r8.length){for(i=0,l=r8.length;i<l;i++){ew(r8[i]);}if(B9){p2=j;}}}};var mh=function(dl){var N7=Jv.get(dl?'_start':'_end');var o=N7[dl?'firstChild':'lastChild'];if(bh.isBookmarkNode(o)){o=o[dl?'firstChild':'lastChild'];}if(I9.isText(o)&&o.data.length===0){o=dl?N7.previousSibling||N7.nextSibling:N7.nextSibling||N7.previousSibling;}Jv.remove(N7,true);return o;};var h=function(r){var j,k;var m=r.commonAncestorContainer;r=$t.expandRng(a,r,f,true);if(b.split){j=Wu(a,r,true);k=Wu(a,r);if(j!==k){if(/^(TR|TH|TD)$/.test(j.nodeName)&&j.firstChild){if(j.nodeName==='TR'){j=j.firstChild.firstChild||j;}else{j=j.firstChild||j;}}if(m&&/^T(HEAD|BODY|FOOT|R)$/.test(m.nodeName)&&Vu(k)&&k.firstChild){k=k.firstChild||k;}if(Jv.isChildOf(j,k)&&j!==k&&!Jv.isBlock(k)&&!Vu(j)&&!Vu(k)){j=Xu(Jv,j,'span',{'id':'_start','data-mce-type':'bookmark'});g(j);j=mh(true);return;}j=Xu(Jv,j,'span',{'id':'_start','data-mce-type':'bookmark'});k=Xu(Jv,k,'span',{'id':'_end','data-mce-type':'bookmark'});g(j);g(k);j=mh(true);k=mh();}else{j=k=g(j);}r.startContainer=j.parentNode?j.parentNode:j;r.startOffset=Jv.nodeIndex(j);r.endContainer=k.parentNode?k.parentNode:k;r.endOffset=Jv.nodeIndex(k)+1;}Ru.walk(Jv,r,function(o){Tu(o,function(N7){ew(N7);if(I9.isElement(N7)&&a.dom.getStyle(N7,'text-decoration')==='underline'&&N7.parentNode&&Lt.getTextDecoration(Jv,N7.parentNode)==='underline'){av(a,{deep:false,exact:true,inline:'span',styles:{textDecoration:'underline'}},null,N7);}});});};if(N7){if(N7.nodeType){r=Jv.createRng();r.setStartBefore(N7);r.setEndAfter(N7);h(r);}else{h(N7);}return;}if(Jv.getContentEditable(d.getNode())==='false'){N7=d.getNode();for(var i=0,l=f.length;i<l;i++){if(f[i].ceFalseOverride){if(av(a,f[i],v,N7,N7)){break;}}}return;}if(!d.isCollapsed()||!b.inline||Jv.select('td[data-mce-selected],th[data-mce-selected]').length){c=Cg.getPersistentBookmark(a.selection,true);h(d.getRng());d.moveToBookmark(c);if(b.inline&&iu.match(a,n,v,d.getStart())){Lt.moveStart(Jv,d,d.getRng());}a.nodeChanged();}else{Du(a,n,v,s);}};var ev={removeFormat:av,remove:dv};var fv=E4.each;var gv=function(N7){return N7&&N7.nodeType===1&&!bh.isBookmarkNode(N7)&&!Eg(N7)&&!I9.isBogus(N7);};var hv=function(N7,s){var f5;for(f5=N7;f5;f5=f5[s]){if(f5.nodeType===3&&f5.nodeValue.length!==0){return N7;}if(f5.nodeType===1&&!bh.isBookmarkNode(f5)){return f5;}}return N7;};var iv=function(Jv,p,n){var f5,t;var a=new eh(Jv);if(p&&n){p=hv(p,'previousSibling');n=hv(n,'nextSibling');if(a.compare(p,n)){for(f5=p.nextSibling;f5&&f5!==n;){t=f5;f5=f5.nextSibling;p.appendChild(t);}Jv.remove(n);E4.each(E4.grep(n.childNodes),function(N7){p.appendChild(N7);});return p;}}return n;};var jv=function(N7,j1,ew){fv(N7.childNodes,function(N7){if(gv(N7)){if(j1(N7)){ew(N7);}if(N7.hasChildNodes()){jv(N7,j1,ew);}}});};var kv=function(Jv,n){return L.curry(function(n,N7){return!!(N7&&Lt.getStyle(Jv,N7,n));},n);};var lv=function(Jv,n,E6){return L.curry(function(n,E6,N7){Jv.setStyle(N7,n,E6);if(N7.getAttribute('style')===''){N7.removeAttribute('style');}mv(Jv,N7);},n,E6);};var mv=function(Jv,N7){if(N7.nodeName==='SPAN'&&Jv.getAttribs(N7).length===0){Jv.remove(N7,true);}};var nv=function(Jv,N7){var t;if(N7.nodeType===1&&N7.parentNode&&N7.parentNode.nodeType===1){t=Lt.getTextDecoration(Jv,N7.parentNode);if(Jv.getStyle(N7,'color')&&t){Jv.setStyle(N7,'text-decoration',t);}else if(Jv.getStyle(N7,'text-decoration')===t){Jv.setStyle(N7,'text-decoration',null);}}};var ov=function(Jv,f,v,N7){if(f.styles.color||f.styles.textDecoration){E4.walk(N7,L.curry(nv,Jv),'childNodes');nv(Jv,N7);}};var pv=function(Jv,f,v,N7){if(f.styles&&f.styles.backgroundColor){jv(N7,kv(Jv,'fontSize'),lv(Jv,'backgroundColor',Lt.replaceVars(f.styles.backgroundColor,v)));}};var qv=function(Jv,f,v,N7){if(f.inline==='sub'||f.inline==='sup'){jv(N7,kv(Jv,'fontSize'),lv(Jv,'fontSize',''));Jv.remove(Jv.select(f.inline==='sup'?'sub':'sup',N7),true);}};var rv=function(Jv,f,v,N7){if(N7&&f.merge_siblings!==false){N7=iv(Jv,Lt.getNonWhiteSpaceSibling(N7),N7);N7=iv(Jv,N7,Lt.getNonWhiteSpaceSibling(N7,true));}};var sv=function(Jv,f,N7){if(f.clear_child_styles){var s=f.links?'*:not(a)':'*';fv(Jv.select(s,N7),function(N7){if(gv(N7)){fv(f.styles,function(E6,n){Jv.setStyle(N7,n,'');});}});}};var tv=function(a,f,v,N7){fv(f,function(b){fv(a.dom.select(b.inline,N7),function(s8){if(!gv(s8)){return;}ev.removeFormat(a,b,v,s8,b.exact?s8:null);});sv(a.dom,b,N7);});};var uv=function(a,f,n,v,N7){if(iu.matchNode(a,N7.parentNode,n,v)){if(ev.removeFormat(a,f,v,N7)){return;}}if(f.merge_with_parents){a.dom.getParent(N7.parentNode,function(i8){if(iu.matchNode(a,i8,n,v)){ev.removeFormat(a,f,v,N7);return true;}});}};var vv={mergeWithChildren:tv,mergeUnderlineAndColor:ov,mergeBackgroundColorAndFontSize:pv,mergeSubSup:qv,mergeSiblings:rv,mergeWithParents:uv};var wv=E4.each;var xv=function(N7){return N7&&N7.nodeType===1&&!bh.isBookmarkNode(N7)&&!Eg(N7)&&!I9.isBogus(N7);};var yv=function(a,n,v,N7){var f=a.formatter.get(n);var b=f[0];var c,r;var d=!N7&&a.selection.isCollapsed();var Jv=a.dom,s=a.selection;var g=function(m,o){o=o||b;if(m){if(o.onformat){o.onformat(m,o,v,N7);}wv(o.styles,function(E6,n){Jv.setStyle(m,n,Lt.replaceVars(E6,v));});if(o.styles){var p=Jv.getAttrib(m,'style');if(p){m.setAttribute('data-mce-style',p);}}wv(o.attributes,function(E6,n){Jv.setAttrib(m,n,Lt.replaceVars(E6,v));});wv(o.classes,function(E6){E6=Lt.replaceVars(E6,v);if(!Jv.hasClass(m,E6)){Jv.addClass(m,E6);}});}};var h=function(f,N7){var m=false;if(!b.selector){return false;}wv(f,function(b){if('collapsed'in b&&b.collapsed!==d){return;}if(Jv.is(N7,b.selector)&&!Eg(N7)){g(N7,b);m=true;return false;}});return m;};var j=function(Jv,r,c,m){var o=[];var w,p,p2=true;w=b.inline||b.block;p=Jv.create(w);g(p);Ru.walk(Jv,r,function(t){var u;var ew=function(N7){var x,y,B9,$;$=p2;x=N7.nodeName.toLowerCase();y=N7.parentNode.nodeName.toLowerCase();if(N7.nodeType===1&&Jv.getContentEditable(N7)){$=p2;p2=Jv.getContentEditable(N7)==='true';B9=true;}if(Lt.isEq(x,'br')){u=0;if(b.block){Jv.remove(N7);}return;}if(b.wrapper&&iu.matchNode(a,N7,n,v)){u=0;return;}if(p2&&!B9&&b.block&&!b.wrapper&&Lt.isTextBlock(a,x)&&Lt.isValid(a,y,w)){N7=Jv.rename(N7,w);g(N7);o.push(N7);u=0;return;}if(b.selector){var _=h(f,N7);if(!b.inline||_){u=0;return;}}if(p2&&!B9&&Lt.isValid(a,w,x)&&Lt.isValid(a,y,w)&&!(!m&&N7.nodeType===3&&N7.nodeValue.length===1&&N7.nodeValue.charCodeAt(0)===65279)&&!Eg(N7)&&(!b.inline||!Jv.isBlock(N7))){if(!u){u=Jv.clone(p,false);N7.parentNode.insertBefore(u,N7);o.push(u);}u.appendChild(N7);}else{u=0;wv(E4.grep(N7.childNodes),ew);if(B9){p2=$;}u=0;}};wv(t,ew);});if(b.links===true){wv(o,function(N7){var ew=function(N7){if(N7.nodeName==='A'){g(N7,b);}wv(E4.grep(N7.childNodes),ew);};ew(N7);});}wv(o,function(N7){var t;var u=function(N7){var Lq=0;wv(N7.childNodes,function(N7){if(!Lt.isWhiteSpaceNode(N7)&&!bh.isBookmarkNode(N7)){Lq++;}});return Lq;};var x=function($){var s8=false;wv($.childNodes,function(N7){if(xv(N7)){s8=N7;return false;}});return s8;};var y=function(N7){var s8,a7;s8=x(N7);if(s8&&!bh.isBookmarkNode(s8)&&iu.matchName(Jv,s8,b)){a7=Jv.clone(s8,false);g(a7);Jv.replace(a7,N7,true);Jv.remove(s8,1);}return a7||N7;};t=u(N7);if((o.length>1||!Jv.isBlock(N7))&&t===0){Jv.remove(N7,1);return;}if(b.inline||b.wrapper){if(!b.exact&&t===1){N7=y(N7);}vv.mergeWithChildren(a,f,v,N7);vv.mergeWithParents(a,b,n,v,N7);vv.mergeBackgroundColorAndFontSize(Jv,b,v,N7);vv.mergeSubSup(Jv,b,v,N7);vv.mergeSiblings(Jv,b,v,N7);}});};if(Jv.getContentEditable(s.getNode())==='false'){N7=s.getNode();for(var i=0,l=f.length;i<l;i++){if(f[i].ceFalseOverride&&Jv.is(N7,f[i].selector)){g(N7,f[i]);return;}}return;}if(b){if(N7){if(N7.nodeType){if(!h(f,N7)){r=Jv.createRng();r.setStartBefore(N7);r.setEndAfter(N7);j(Jv,$t.expandRng(a,r,f),null,true);}}else{j(Jv,N7,null,true);}}else{if(!d||!b.inline||Jv.select('td[data-mce-selected],th[data-mce-selected]').length){var k=a.selection.getNode();if(!a.settings.forced_root_block&&f[0].defaultBlock&&!Jv.getParent(k,Jv.isBlock)){yv(a,f[0].defaultBlock);}a.selection.setRng(Hh.normalize(a.selection.getRng()));c=Cg.getPersistentBookmark(a.selection,true);j(Jv,$t.expandRng(a,s.getRng(),f),c);if(b.styles){vv.mergeUnderlineAndColor(Jv,b,v,k);}s.moveToBookmark(c);Lt.moveStart(Jv,s,s.getRng());a.nodeChanged();}else{Cu(a,n,v);}}Nu.postProcess(n,a);}};var zv={applyFormat:yv};var Av=E4.each;var Bv=function(f,a){var c={};f.set({});a.on('NodeChange',function(e){var k8=Lt.getParents(a.dom,e.element);var m={};k8=E4.grep(k8,function(N7){return N7.nodeType===1&&!N7.getAttribute('data-mce-bogus');});Av(f.get(),function(b,d){Av(k8,function(N7){if(a.formatter.matchNode(N7,d,{},b.similar)){if(!c[d]){Av(b,function(g){g(true,{node:N7,format:d,parents:k8});});c[d]=b;}m[d]=b;return false;}if(iu.matchesUnInheritedFormatSelector(a,N7,d)){return false;}});});Av(c,function(b,d){if(!m[d]){delete c[d];Av(b,function(g){g(false,{node:e.element,format:d,parents:k8});});}});});};var Cv=function(f,a,c,s){var b=f.get();Av(a.split(','),function(d){if(!b[d]){b[d]=[];b[d].similar=s;}b[d].push(c);});f.set(b);};var Dv=function(a,f,b,c,s){if(f.get()===null){Bv(f,a);}Cv(f,b,c,s);};var Ev={formatChanged:Dv};var Fv=function(Jv){var f={valigntop:[{selector:'td,th',styles:{verticalAlign:'top'}}],valignmiddle:[{selector:'td,th',styles:{verticalAlign:'middle'}}],valignbottom:[{selector:'td,th',styles:{verticalAlign:'bottom'}}],alignleft:[{selector:'figure.image',collapsed:false,classes:'align-left',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'left'},inherit:false,preview:false,defaultBlock:'div'},{selector:'img,table',collapsed:false,styles:{float:'left'},preview:'font-family font-size'}],aligncenter:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'center'},inherit:false,preview:'font-family font-size',defaultBlock:'div'},{selector:'figure.image',collapsed:false,classes:'align-center',ceFalseOverride:true,preview:'font-family font-size'},{selector:'img',collapsed:false,styles:{display:'block',marginLeft:'auto',marginRight:'auto'},preview:false},{selector:'table',collapsed:false,styles:{marginLeft:'auto',marginRight:'auto'},preview:'font-family font-size'}],alignright:[{selector:'figure.image',collapsed:false,classes:'align-right',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'right'},inherit:false,preview:'font-family font-size',defaultBlock:'div'},{selector:'img,table',collapsed:false,styles:{float:'right'},preview:'font-family font-size'}],alignjustify:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'justify'},inherit:false,defaultBlock:'div',preview:'font-family font-size'}],bold:[{inline:'strong',remove:'all'},{inline:'span',styles:{fontWeight:'bold'}},{inline:'b',remove:'all'}],italic:[{inline:'em',remove:'all'},{inline:'span',styles:{fontStyle:'italic'}},{inline:'i',remove:'all'}],underline:[{inline:'span',styles:{textDecoration:'underline'},exact:true},{inline:'u',remove:'all'}],strikethrough:[{inline:'span',styles:{textDecoration:'line-through'},exact:true},{inline:'strike',remove:'all'}],forecolor:{inline:'span',styles:{color:'%value'},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:'span',styles:{backgroundColor:'%value'},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:'span',toggle:false,styles:{fontFamily:'%value'},clear_child_styles:true},fontsize:{inline:'span',toggle:false,styles:{fontSize:'%value'},clear_child_styles:true},fontsize_class:{inline:'span',attributes:{class:'%value'}},blockquote:{block:'blockquote',wrapper:1,remove:'all'},subscript:{inline:'sub'},superscript:{inline:'sup'},code:{inline:'code'},link:{inline:'a',selector:'a',remove:'all',split:true,deep:true,onmatch:function(){return true;},onformat:function(a,b,v){E4.each(v,function(E6,k){Jv.setAttrib(a,k,E6);});}},removeformat:[{selector:'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',remove:'all',split:true,expand:false,block_expand:true,deep:true},{selector:'span',attributes:['style','class'],remove:'empty',split:true,expand:false,deep:true},{selector:'*',attributes:['style','class'],split:false,expand:false,deep:true}]};E4.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\s/),function(n){f[n]={block:n,remove:'all'};});return f;};var Gv={get:Fv};function Hv(a){var f={};var Y6=function(n){return n?f[n]:f;};var _v=function(n,b){if(n){if(typeof n!=='string'){E4.each(n,function(b,n){_v(n,b);});}else{b=b.length?b:[b];E4.each(b,function(b){if(typeof b.deep==='undefined'){b.deep=!b.selector;}if(typeof b.split==='undefined'){b.split=!b.selector||b.inline;}if(typeof b.remove==='undefined'&&b.selector&&!b.inline){b.remove='none';}if(b.selector&&b.inline){b.mixed=true;b.block_expand=true;}if(typeof b.classes==='string'){b.classes=b.classes.split(/\s+/);}});f[n]=b;}}};var u=function(n){if(n&&f[n]){delete f[n];}return f;};_v(Gv.get(a.dom));_v(a.settings.formats);return{get:Y6,register:_v,unregister:u};}var Iv=E4.each;var Jv=Ba.DOM;var Kv=function(a,b){var c,d,f;var s=b&&b.schema||oa({});var g=function(c,d){if(d.classes.length){Jv.addClass(c,d.classes.join(' '));}Jv.setAttribs(c,d.attrs);};var h=function(k){var c;d=typeof k==='string'?{name:k,classes:[],attrs:{}}:k;c=Jv.create(d.name);g(c,d);return c;};var j=function(c,k){var n=typeof c!=='string'?c.nodeName.toLowerCase():c;var l=s.getElementRule(n);var p=l&&l.parentsRequired;if(p&&p.length){return k&&E4.inArray(p,k)!==-1?k:p[0];}else{return false;}};var w=function(c,a,l8){var i8,p,k;var Rh=a.length>0&&a[0];var l=Rh&&Rh.name;k=j(c,l);if(k){if(l===k){p=a[0];a=a.slice(1);}else{p=k;}}else if(Rh){p=a[0];a=a.slice(1);}else if(!l8){return c;}if(p){i8=h(p);i8.appendChild(c);}if(l8){if(!i8){i8=Jv.create('div');i8.appendChild(c);}E4.each(l8,function(f5){var m=h(f5);i8.insertBefore(m,c);});}return w(i8,a,p&&p.siblings);};if(a&&a.length){d=a[0];c=h(d);f=Jv.create('div');f.appendChild(w(c,a.slice(1),d.siblings));return f;}else{return'';}};var Lv=function(s,a){return Kv(Nv(s),a);};var Mv=function(a){var t;var o={classes:[],attrs:{}};a=o.selector=E4.trim(a);if(a!=='*'){t=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function($,b,c,d,f){switch(b){case'#':o.attrs.id=c;break;case'.':o.classes.push(c);break;case':':if(E4.inArray('checked disabled enabled read-only required'.split(' '),c)!==-1){o.attrs[c]=c;}break;}if(d==='['){var m=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(m){o.attrs[m[1]]=m[2];}}return'';});}o.name=t||'div';return o;};var Nv=function(s){if(!s||typeof s!=='string'){return[];}s=s.split(/\s*,\s*/)[0];s=s.replace(/\s*(~\+|~|\+|>)\s*/g,'$1');return E4.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){var l8=E4.map(a.split(/(?:~\+|~|\+)/),Mv);var o=l8.pop();if(l8.length){o.siblings=l8;}return o;}).reverse();};var Ov=function(a,f){var n,p,b,c;var d='',g,h;h=a.settings.preview_styles;if(h===false){return'';}if(typeof h!=='string'){h='font-family font-size font-weight font-style text-decoration '+'text-transform color background-color border border-radius outline text-shadow';}var r=function(v){return v.replace(/%(\w+)/g,'');};if(typeof f==='string'){f=a.formatter.get(f);if(!f){return;}f=f[0];}if('preview'in f){h=f.preview;if(h===false){return'';}}n=f.block||f.inline||'span';c=Nv(f.selector);if(c.length){if(!c[0].name){c[0].name=n;}n=f.selector;p=Kv(c,a);}else{p=Kv([n],a);}b=Jv.select(n,p)[0]||p.firstChild;Iv(f.styles,function(E6,n){E6=r(E6);if(E6){Jv.setStyle(b,n,E6);}});Iv(f.attributes,function(E6,n){E6=r(E6);if(E6){Jv.setAttrib(b,n,E6);}});Iv(f.classes,function(E6){E6=r(E6);if(!Jv.hasClass(b,E6)){Jv.addClass(b,E6);}});a.fire('PreviewFormats');Jv.setStyles(p,{position:'absolute',left:-65535});a.getBody().appendChild(p);g=Jv.getStyle(a.getBody(),'fontSize',true);g=/px$/.test(g)?parseInt(g,10):0;Iv(h.split(' '),function(n){var E6=Jv.getStyle(b,n,true);if(n==='background-color'&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(E6)){E6=Jv.getStyle(a.getBody(),n,true);if(Jv.toHex(E6).toLowerCase()==='#ffffff'){return;}}if(n==='color'){if(Jv.toHex(E6).toLowerCase()==='#000000'){return;}}if(n==='font-size'){if(/em|%$/.test(E6)){if(g===0){return;}var j=parseFloat(E6)/(/%$/.test(E6)?100:1);E6=j*g+'px';}}if(n==='border'&&E6){d+='padding:0 2px;';}d+=n+':'+E6+';';});a.fire('AfterPreviewFormats');Jv.remove(p);return d;};var Pv={getCssText:Ov,parseSelector:Nv,selectorToHtml:Lv};var Qv=function(a,f,n,v,N7){var b=f.get(n);if(iu.match(a,n,v,N7)&&(!('toggle'in b[0])||b[0].toggle)){ev.remove(a,n,v,N7);}else{zv.applyFormat(a,n,v,N7);}};var Rv={toggle:Qv};var Sv=function(a){a.addShortcut('meta+b','','Bold');a.addShortcut('meta+i','','Italic');a.addShortcut('meta+u','','Underline');for(var i=1;i<=6;i++){a.addShortcut('access+'+i,'',['FormatBlock',false,'h'+i]);}a.addShortcut('access+7','',['FormatBlock',false,'p']);a.addShortcut('access+8','',['FormatBlock',false,'div']);a.addShortcut('access+9','',['FormatBlock',false,'address']);};var Tv={setup:Sv};function Uv(a){var f=Hv(a);var b=Ie(null);Tv.setup(a);Fu(a);return{get:f.get,register:f.register,unregister:f.unregister,apply:L.curry(zv.applyFormat,a),remove:L.curry(ev.remove,a),toggle:L.curry(Rv.toggle,a,f),match:L.curry(iu.match,a),matchAll:L.curry(iu.matchAll,a),matchNode:L.curry(iu.matchNode,a),canApply:L.curry(iu.canApply,a),formatChanged:L.curry(Ev.formatChanged,a,b),getCssText:L.curry(Pv.getCssText,a)};}var Vv=function(o,n){return n;};var Wv=function(o,n){var b=V.isObject(o)&&V.isObject(n);return b?Yv(o,n):n;};var Xv=function(m){return function(){var o=new Array(arguments.length);for(var i=0;i<o.length;i++)o[i]=arguments[i];if(o.length===0)throw new Error('Can\'t merge zero objects');var r={};for(var j=0;j<o.length;j++){var c=o[j];for(var k in c)if(c.hasOwnProperty(k)){r[k]=m(r[k],c[k]);}}return r;};};var Yv=Xv(Wv);var Zv=Xv(Vv);var $v={deepMerge:Yv,merge:Zv};var _v=function(h,s,Jv){h.addAttributeFilter('data-mce-tabindex',function(n,a){var i=n.length,N7;while(i--){N7=n[i];N7.attr('tabindex',N7.attributes.map['data-mce-tabindex']);N7.attr(a,null);}});h.addAttributeFilter('src,href,style',function(n,a){var i=n.length,N7,E6;var b='data-mce-'+a;var u=s.url_converter;var c=s.url_converter_scope;while(i--){N7=n[i];E6=N7.attributes.map[b];if(E6!==undefined){N7.attr(a,E6.length>0?E6:null);N7.attr(b,null);}else{E6=N7.attributes.map[a];if(a==='style'){E6=Jv.serializeStyle(Jv.parseStyle(E6),N7.name);}else if(u){E6=u.call(c,E6,a,N7.name);}N7.attr(a,E6.length>0?E6:null);}}});h.addAttributeFilter('class',function(n){var i=n.length,N7,E6;while(i--){N7=n[i];E6=N7.attr('class');if(E6){E6=N7.attr('class').replace(/(?:^|\s)mce-item-\w+(?!\S)/g,'');N7.attr('class',E6.length>0?E6:null);}}});h.addAttributeFilter('data-mce-type',function(n,a,b){var i=n.length,N7;while(i--){N7=n[i];if(N7.attributes.map['data-mce-type']==='bookmark'&&!b.cleanup){N7.remove();}}});h.addNodeFilter('noscript',function(n){var i=n.length,N7;while(i--){N7=n[i].firstChild;if(N7){N7.value=ca.decode(N7.value);}}});h.addNodeFilter('script,style',function(n,a){var i=n.length,N7,E6,D6;var t4=function(E6){return E6.replace(/(<!--\[CDATA\[|\]\]-->)/g,'\n').replace(/^[\r\n]*|[\r\n]*$/g,'').replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,'').replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,'');};while(i--){N7=n[i];E6=N7.firstChild?N7.firstChild.value:'';if(a==='script'){D6=N7.attr('type');if(D6){N7.attr('type',D6==='mce-no/type'?null:D6.replace(/^mce\-/,''));}if(s.element_format==='xhtml'&&E6.length>0){N7.firstChild.value='// <![CDATA[\n'+t4(E6)+'\n// ]]>';}}else{if(s.element_format==='xhtml'&&E6.length>0){N7.firstChild.value='<!--\n'+t4(E6)+'\n-->';}}}});h.addNodeFilter('#comment',function(n){var i=n.length,N7;while(i--){N7=n[i];if(N7.value.indexOf('[CDATA[')===0){N7.name='#cdata';N7.type=4;N7.value=N7.value.replace(/^\[CDATA\[|\]\]$/g,'');}else if(N7.value.indexOf('mce:protected ')===0){N7.name='#text';N7.type=3;N7.raw=true;N7.value=unescape(N7.value).substr(14);}}});h.addNodeFilter('xml:namespace,input',function(n,a){var i=n.length,N7;while(i--){N7=n[i];if(N7.type===7){N7.remove();}else if(N7.type===1){if(a==='input'&&!('type'in N7.attributes.map)){N7.attr('type','text');}}}});h.addAttributeFilter('data-mce-type',function(n){H1.each(n,function(N7){if(N7.attr('data-mce-type')==='format-caret'){if(N7.isEmpty(h.schema.getNonEmptyElements())){N7.remove();}else{N7.unwrap();}}});});h.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,'+'data-mce-selected,data-mce-expando,'+'data-mce-type,data-mce-resize',function(n,a){var i=n.length;while(i--){n[i].attr(a,null);}});};var aw=function(r){var b,a;var j9=function(N7){return N7&&N7.name==='br';};b=r.lastChild;if(j9(b)){a=b.prev;if(j9(a)){b.remove();a.remove();}}};var bw={register:_v,trimTrailingBr:aw};var cw=function(a,N7,b){var c,F4,o;var Jv=a.dom;N7=N7.cloneNode(true);c=document.implementation;if(c.createHTMLDocument){F4=c.createHTMLDocument('');E4.each(N7.nodeName==='BODY'?N7.childNodes:[N7],function(N7){F4.body.appendChild(F4.importNode(N7,true));});if(N7.nodeName!=='BODY'){N7=F4.body.firstChild;}else{N7=F4.body;}o=Jv.doc;Jv.doc=F4;}$o.firePreProcess(a,$v.merge(b,{node:N7}));if(o){Jv.doc=o;}return N7;};var dw=function(a,b){return a&&a.hasEventListeners('PreProcess')&&!b.no_events;};var ew=function(a,N7,b){return dw(a,b)?cw(a,N7,b):N7;};var fw={process:ew};var gw=function(N7,n){H1.each(n,function(a){N7.attr(a,null);});};var hw=function(d,s,f){d.addNodeFilter('font',function(n){H1.each(n,function(N7){var p=s.parse(N7.attr('style'));var c=N7.attr('color');var a=N7.attr('face');var T6=N7.attr('size');if(c){p.color=c;}if(a){p['font-family']=a;}if(T6){p['font-size']=f[parseInt(N7.attr('size'),10)-1];}N7.name='span';N7.attr('style',s.serialize(p));gw(N7,['color','face','size']);});});};var iw=function(d,s){d.addNodeFilter('strike',function(n){H1.each(n,function(N7){var p=s.parse(N7.attr('style'));p['text-decoration']='line-through';N7.name='span';N7.attr('style',s.serialize(p));});});};var jw=function(d,s){var a=ra();if(s.convert_fonts_to_spans){hw(d,a,E4.explode(s.font_size_legacy_values));}iw(d,a);};var kw=function(d,s){if(s.inline_styles){jw(d,s);}};var lw={register:kw};var mw=/^[ \t\r\n]*$/;var nw={'#text':3,'#comment':8,'#cdata':4,'#pi':7,'#doctype':10,'#document-fragment':11};var ow=function(N7,r,p){var f5;var i8;var s=p?'lastChild':'firstChild';var a=p?'prev':'next';if(N7[s]){return N7[s];}if(N7!==r){f5=N7[a];if(f5){return f5;}for(i8=N7.parent;i8&&i8!==r;i8=i8.parent){f5=i8[a];if(f5){return f5;}}}};var pw=function(){function a(n,D6){this.name=n;this.type=D6;if(D6===1){this.attributes=[];this.attributes.map={};}}a.create=function(n,b){var N7,c;N7=new a(n,nw[n]||1);if(b){for(c in b){N7.attr(c,b[c]);}}return N7;};a.prototype.replace=function(N7){var s=this;if(N7.parent){N7.remove();}s.insert(N7,s);s.remove();return s;};a.prototype.attr=function(n,E6){var s=this;var b,i;if(typeof n!=='string'){for(i in n){s.attr(i,n[i]);}return s;}if(b=s.attributes){if(E6!==undefined){if(E6===null){if(n in b.map){delete b.map[n];i=b.length;while(i--){if(b[i].name===n){b=b.splice(i,1);return s;}}}return s;}if(n in b.map){i=b.length;while(i--){if(b[i].name===n){b[i].value=E6;break;}}}else{b.push({name:n,value:E6});}b.map[n]=E6;return s;}return b.map[n];}};a.prototype.clone=function(){var s=this;var a7=new a(s.name,s.type);var i,l,b,c,d;if(b=s.attributes){d=[];d.map={};for(i=0,l=b.length;i<l;i++){c=b[i];if(c.name!=='id'){d[d.length]={name:c.name,value:c.value};d.map[c.name]=c.value;}}a7.attributes=d;}a7.value=s.value;a7.shortEnded=s.shortEnded;return a7;};a.prototype.wrap=function(w){var s=this;s.parent.insert(w,s);w.append(s);return s;};a.prototype.unwrap=function(){var s=this;var N7,n;for(N7=s.firstChild;N7;){n=N7.next;s.insert(N7,s,true);N7=n;}s.remove();};a.prototype.remove=function(){var s=this,i8=s.parent,n=s.next,p=s.prev;if(i8){if(i8.firstChild===s){i8.firstChild=n;if(n){n.prev=null;}}else{p.next=n;}if(i8.lastChild===s){i8.lastChild=p;if(p){p.next=null;}}else{n.prev=p;}s.parent=s.next=s.prev=null;}return s;};a.prototype.append=function(N7){var s=this;var F1;if(N7.parent){N7.remove();}F1=s.lastChild;if(F1){F1.next=N7;N7.prev=F1;s.lastChild=N7;}else{s.lastChild=s.firstChild=N7;}N7.parent=s;return N7;};a.prototype.insert=function(N7,r,he){var i8;if(N7.parent){N7.remove();}i8=r.parent||this;if(he){if(r===i8.firstChild){i8.firstChild=N7;}else{r.prev.next=N7;}N7.prev=r.prev;N7.next=r;r.prev=N7;}else{if(r===i8.lastChild){i8.lastChild=N7;}else{r.next.prev=N7;}N7.next=r.next;N7.prev=r;r.next=N7;}N7.parent=i8;return N7;};a.prototype.getAll=function(n){var s=this;var N7;var c=[];for(N7=s.firstChild;N7;N7=ow(N7,s)){if(N7.name===n){c.push(N7);}}return c;};a.prototype.empty=function(){var s=this;var n,i,N7;if(s.firstChild){n=[];for(N7=s.firstChild;N7;N7=ow(N7,s)){n.push(N7);}i=n.length;while(i--){N7=n[i];N7.parent=N7.firstChild=N7.lastChild=N7.next=N7.prev=null;}}s.firstChild=s.lastChild=null;return s;};a.prototype.isEmpty=function(b,y3,p){var s=this;var N7=s.firstChild,i,n;y3=y3||{};if(N7){do{if(N7.type===1){if(N7.attributes.map['data-mce-bogus']){continue;}if(b[N7.name]){return false;}i=N7.attributes.length;while(i--){n=N7.attributes[i].name;if(n==='name'||n.indexOf('data-mce-bookmark')===0){return false;}}}if(N7.type===8){return false;}if(N7.type===3&&!mw.test(N7.value)){return false;}if(N7.type===3&&N7.parent&&y3[N7.parent.name]&&mw.test(N7.value)){return false;}if(p&&p(N7)){return false;}}while(N7=ow(N7,s));}return true;};a.prototype.walk=function(p){return ow(this,null,p);};return a;}();var qw=function(s,a,b,N7){var c=s.padd_empty_with_br||a.insert;if(c&&b[N7.name]){N7.empty().append(new pw('br',1)).shortEnded=true;}else{N7.empty().append(new pw('#text',3)).value='\xA0';}};var rw=function(N7){return sw(N7,'#text')&&N7.firstChild.value==='\xA0';};var sw=function(N7,n){return N7&&N7.firstChild&&N7.firstChild===N7.lastChild&&N7.firstChild.name===n;};var tw=function(s,N7){var r=s.getElementRule(N7.name);return r&&r.paddEmpty;};var uw=function(s,n,w,N7){return N7.isEmpty(n,w,function(N7){return tw(s,N7);});};var vw=function(N7,b){return N7&&(b[N7.name]||N7.name==='br');};var ww=function(a,s){var b=a.schema;if(s.remove_trailing_brs){a.addNodeFilter('br',function(n,_,c){var i;var l=n.length;var N7;var d=E4.extend({},b.getBlockElements());var f=b.getNonEmptyElements();var i8,g,p,h;var w=b.getNonEmptyElements();var j,t;d.body=1;for(i=0;i<l;i++){N7=n[i];i8=N7.parent;if(d[N7.parent.name]&&N7===i8.lastChild){p=N7.prev;while(p){h=p.name;if(h!=='span'||p.attr('data-mce-type')!=='bookmark'){if(h!=='br'){break;}if(h==='br'){N7=null;break;}}p=p.prev;}if(N7){N7.remove();if(uw(b,f,w,i8)){j=b.getElementRule(i8.name);if(j){if(j.removeEmpty){i8.remove();}else if(j.paddEmpty){qw(s,c,d,i8);}}}}}else{g=N7;while(i8&&i8.firstChild===g&&i8.lastChild===g){g=i8;if(d[i8.name]){break;}i8=i8.parent;}if(g===i8&&s.padd_empty_with_br!==true){t=new pw('#text',3);t.value='\xA0';N7.replace(t);}}}});}a.addAttributeFilter('href',function(n){var i=n.length,N7;var c=function(r){var f=r.split(' ').filter(function(p){return p.length>0;});return f.concat(['noopener']).sort().join(' ');};var d=function(r){var f=r?E4.trim(r):'';if(!/\b(noopener)\b/g.test(f)){return c(f);}else{return f;}};if(!s.allow_unsafe_link_target){while(i--){N7=n[i];if(N7.name==='a'&&N7.attr('target')==='_blank'){N7.attr('rel',d(N7.attr('rel')));}}}});if(!s.allow_html_in_named_anchor){a.addAttributeFilter('id,name',function(n){var i=n.length,f5,n8,i8,N7;while(i--){N7=n[i];if(N7.name==='a'&&N7.firstChild&&!N7.attr('href')){i8=N7.parent;f5=N7.lastChild;do{n8=f5.prev;i8.insert(f5,N7);f5=n8;}while(f5);}}});}if(s.fix_list_elements){a.addNodeFilter('ul,ol',function(n){var i=n.length,N7,p;while(i--){N7=n[i];p=N7.parent;if(p.name==='ul'||p.name==='ol'){if(N7.prev&&N7.prev.name==='li'){N7.prev.append(N7);}else{var l=new pw('li',1);l.attr('style','list-style-type: none');N7.wrap(l);}}}});}if(s.validate&&b.getValidClasses()){a.addAttributeFilter('class',function(n){var i=n.length,N7,c,d,f,g;var v=b.getValidClasses();var h,j;while(i--){N7=n[i];c=N7.attr('class').split(' ');g='';for(d=0;d<c.length;d++){f=c[d];j=false;h=v['*'];if(h&&h[f]){j=true;}h=v[N7.name];if(!j&&h&&h[f]){j=true;}if(j){if(g){g+=' ';}g+=f;}}if(!g.length){g=null;}N7.attr('class',g);}});}};var xw=E4.makeMap;var yw=E4.each;var zw=E4.explode;var Aw=E4.extend;function Bw(s,a){if(a===void 0){a=oa();}var n={};var b=[];var m={};var c={};s=s||{};s.validate='validate'in s?s.validate:true;s.root_name=s.root_name||'body';var f=function(l){var r,N7,i8,k8,t,u,v,w,i;var x,y,$,_,a1,f5,d1;$=xw('tr,td,th,tbody,thead,tfoot,table');x=a.getNonEmptyElements();y=a.getWhiteSpaceElements();_=a.getTextBlockElements();a1=a.getSpecialElements();for(r=0;r<l.length;r++){N7=l[r];if(!N7.parent||N7.fixed){continue;}if(_[N7.name]&&N7.parent.name==='li'){f5=N7.next;while(f5){if(_[f5.name]){f5.name='li';f5.fixed=true;N7.parent.insert(f5,N7.parent);}else{break;}f5=f5.next;}N7.unwrap(N7);continue;}k8=[N7];for(i8=N7.parent;i8&&!a.isValidChild(i8.name,N7.name)&&!$[i8.name];i8=i8.parent){k8.push(i8);}if(i8&&k8.length>1){k8.reverse();t=u=d(k8[0].clone());for(i=0;i<k8.length-1;i++){if(a.isValidChild(u.name,k8[i].name)){v=d(k8[i].clone());u.append(v);}else{v=u;}for(w=k8[i].firstChild;w&&w!==k8[i+1];){d1=w.next;v.append(w);w=d1;}u=v;}if(!uw(a,x,y,t)){i8.insert(t,k8[0],true);i8.insert(N7,t);}else{i8.insert(N7,k8[0],true);}i8=k8[0];if(uw(a,x,y,i8)||sw(i8,'br')){i8.empty().remove();}}else if(N7.parent){if(N7.name==='li'){f5=N7.prev;if(f5&&(f5.name==='ul'||f5.name==='ul')){f5.append(N7);continue;}f5=N7.next;if(f5&&(f5.name==='ul'||f5.name==='ul')){f5.insert(N7,f5.firstChild,true);continue;}N7.wrap(d(new pw('ul',1)));continue;}if(a.isValidChild(N7.parent.name,'div')&&a.isValidChild('div',N7.name)){N7.wrap(d(new pw('div',1)));}else{if(a1[N7.name]){N7.empty().remove();}else{N7.unwrap();}}}}};var d=function(N7){var i,l,r;if(l in n){r=m[l];if(r){r.push(N7);}else{m[l]=[N7];}}i=b.length;while(i--){l=b[i].name;if(l in N7.attributes.map){r=c[l];if(r){r.push(N7);}else{c[l]=[N7];}}}return N7;};var g=function(l,r){yw(zw(l),function(l){var t=n[l];if(!t){n[l]=t=[];}t.push(r);});};var h=function(){var l=[];for(var r in n){if(n.hasOwnProperty(r)){l.push({name:r,callbacks:n[r]});}}return l;};var j=function(l,r){yw(zw(l),function(l){var i;for(i=0;i<b.length;i++){if(b[i].name===l){b[i].callbacks.push(r);return;}}b.push({name:l,callbacks:[r]});});};var k=function(){return[].concat(b);};var p=function(r,t){var u,v,i,l,w,x,y,$;var _;var a1=[];var d1;var N7;t=t||{};m={};c={};_=Aw(xw('script,style,head,html,body,title,meta,param'),a.getBlockElements());var e1=a.getNonEmptyElements();var r8=a.children;var io=s.validate;var o1='forced_root_block'in t?t.forced_root_block:s.forced_root_block;var x1=a.getWhiteSpaceElements();var y1=/^[ \t\r\n]+/;var $1=/[ \t\r\n]+$/;var a2=/[ \t\r\n]+/g;var d2=/^[ \t\r\n]+$/;d1=x1.hasOwnProperty(t.context)||x1.hasOwnProperty(s.root_name);var _q=function(){var N7=x2.firstChild,y2,$2;var t4=function($2){if($2){N7=$2.firstChild;if(N7&&N7.type===3){N7.value=N7.value.replace(y1,'');}N7=$2.lastChild;if(N7&&N7.type===3){N7.value=N7.value.replace($1,'');}}};if(!a.isValidChild(x2.name,o1.toLowerCase())){return;}while(N7){y2=N7.next;if(N7.type===3||N7.type===1&&N7.name!=='p'&&!_[N7.name]&&!N7.attr('data-mce-type')){if(!$2){$2=e2(o1,1);$2.attr(s.forced_root_block_attrs);x2.insert($2,N7);$2.append(N7);}else{$2.append(N7);}}else{t4($2);$2=null;}N7=y2;}t4($2);};var e2=function($,D6){var N7=new pw($,D6);var y;if($ in n){y=m[$];if(y){y.push(N7);}else{m[$]=[N7];}}return N7;};var i2=function(N7){var y2,$2,$3,f5;var _=a.getBlockElements();for(y2=N7.prev;y2&&y2.type===3;){$3=y2.value.replace($1,'');if($3.length>0){y2.value=$3;return;}$2=y2.next;if($2){if($2.type===3&&$2.value.length){y2=y2.prev;continue;}if(!_[$2.name]&&$2.name!=='script'&&$2.name!=='style'){y2=y2.prev;continue;}}f5=y2.prev;y2.remove();y2=f5;}};var o2=function(y2){var $;var $2={};for($ in y2){if($!=='li'&&$!=='p'){$2[$]=y2[$];}}return $2;};u=Ms({validate:io,allow_script_urls:s.allow_script_urls,allow_conditional_comments:s.allow_conditional_comments,self_closing_elements:o2(a.getSelfClosingElements()),cdata:function(y2){N7.append(e2('#cdata',4)).value=y2;},text:function(y2,$2){var $3;if(!d1){y2=y2.replace(a2,' ');if(vw(N7.lastChild,_)){y2=y2.replace(y1,'');}}if(y2.length!==0){$3=e2('#text',3);$3.raw=!!$2;N7.append($3).value=y2;}},comment:function(y2){N7.append(e2('#comment',8)).value=y2;},pi:function($,y2){N7.append(e2($,7)).value=y2;i2(N7);},doctype:function(y2){var $2;$2=N7.append(e2('#doctype',10));$2.value=y2;i2(N7);},start:function($,y2,kh){var $2,$3,u4,$4,i8;u4=io?a.getElementRule($):{};if(u4){$2=e2(u4.outputName||$,1);$2.attributes=y2;$2.shortEnded=kh;N7.append($2);i8=r8[N7.name];if(i8&&r8[$2.name]&&!i8[$2.name]){a1.push($2);}$3=b.length;while($3--){$4=b[$3].name;if($4 in y2.map){y=c[$4];if(y){y.push($2);}else{c[$4]=[$2];}}}if(_[$]){i2($2);}if(!kh){N7=$2;}if(!d1&&x1[$]){d1=true;}}},end:function($){var y2,$2,$3,f5,u4;$2=io?a.getElementRule($):{};if($2){if(_[$]){if(!d1){y2=N7.firstChild;if(y2&&y2.type===3){$3=y2.value.replace(y1,'');if($3.length>0){y2.value=$3;y2=y2.next;}else{f5=y2.next;y2.remove();y2=f5;while(y2&&y2.type===3){$3=y2.value;f5=y2.next;if($3.length===0||d2.test($3)){y2.remove();y2=f5;}y2=f5;}}}y2=N7.lastChild;if(y2&&y2.type===3){$3=y2.value.replace($1,'');if($3.length>0){y2.value=$3;y2=y2.prev;}else{f5=y2.prev;y2.remove();y2=f5;while(y2&&y2.type===3){$3=y2.value;f5=y2.prev;if($3.length===0||d2.test($3)){y2.remove();y2=f5;}y2=f5;}}}}}if(d1&&x1[$]){d1=false;}if($2.removeEmpty&&uw(a,e1,x1,N7)){if(!N7.attributes.map.name&&!N7.attr('id')){u4=N7.parent;if(_[N7.name]){N7.empty().remove();}else{N7.unwrap();}N7=u4;return;}}if($2.paddEmpty&&(rw(N7)||uw(a,e1,x1,N7))){qw(s,t,_,N7);}N7=N7.parent;}}},a);var x2=N7=new pw(t.context||s.root_name,11);u.parse(r);if(io&&a1.length){if(!t.context){f(a1);}else{t.invalid=true;}}if(o1&&(x2.name==='body'||t.isRootContent)){_q();}if(!t.invalid){for($ in m){y=n[$];v=m[$];w=v.length;while(w--){if(!v[w].parent){v.splice(w,1);}}for(i=0,l=y.length;i<l;i++){y[i](v,$,t);}}for(i=0,l=b.length;i<l;i++){y=b[i];if(y.name in c){v=c[y.name];w=v.length;while(w--){if(!v[w].parent){v.splice(w,1);}}for(w=0,x=y.callbacks.length;w<x;w++){y.callbacks[w](v,y.name,t);}}}}return x2;};var o={schema:a,addAttributeFilter:j,getAttributeFilters:k,addNodeFilter:g,getNodeFilters:h,filterNode:d,parse:p};ww(o,s);lw.register(o,s);return o;}var Cw=function(h,t,n){if(E4.inArray(t,n)===-1){h.addAttributeFilter(n,function(a,n){var i=a.length;while(i--){a[i].attr(n,null);}});t.push(n);}};var Dw=function(a,b,c){if(!b.no_events&&a){var o=$o.firePostProcess(a,$v.merge(b,{content:c}));return o.content;}else{return c;}};var Ew=function(Jv,N7,a){var h=Ma.trim(a.getInner?N7.innerHTML:Jv.getOuterHTML(N7));return a.selection||q9(A6.fromDom(N7))?h:E4.trim(h);};var Fw=function(h,a,b){var p=b.selection?$v.merge({forced_root_block:false},b):b;var r=h.parse(a,p);bw.trimTrailingBr(r);return r;};var Gw=function(s,a,N7){var h=Dh(s,a);return h.serialize(N7);};var Hw=function(a,s,b,r,c){var d=Gw(s,b,r);return Dw(a,c,d);};function Iw(s,a){var Jv,b,h;var t=['data-mce-selected'];Jv=a&&a.dom?a.dom:Ba.DOM;b=a&&a.schema?a.schema:oa(s);s.entity_encoding=s.entity_encoding||'named';s.remove_trailing_brs='remove_trailing_brs'in s?s.remove_trailing_brs:true;h=Bw(s,b);bw.register(h,s,Jv);var GC=function(N7,p){var c=$v.merge({format:'html'},p?p:{});var d=fw.process(a,N7,c);var f=Ew(Jv,d,c);var r=Fw(h,f,c);return c.format==='tree'?r:Hw(a,s,b,r,c);};return{schema:b,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:GC,addRules:function(r){b.addValidElements(r);},setRules:function(r){b.setValidElements(r);},addTempAttr:L.curry(Cw,h,t),getTempAttrs:function(){return t;}};}function Jw(s,a){var d=Iw(s,a);return{schema:d.schema,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:d.serialize,addRules:d.addRules,setRules:d.setRules,addTempAttr:d.addTempAttr,getTempAttrs:d.getTempAttrs};}function Kw(s){return{getBookmark:L.curry(bh.getBookmark,s),moveToBookmark:L.curry(bh.moveToBookmark,s)};}(function(Kw){Kw.isBookmarkNode=bh.isBookmarkNode;}(Kw||(Kw={})));var Lw=Kw;var Mw=I9.isContentEditableFalse;var Nw=I9.isContentEditableTrue;var Ow=function(r,N7){while(N7&&N7!==r){if(Nw(N7)||Mw(N7)){return N7;}N7=N7.parentNode;}return null;};var Pw=function(s,a){var Jv=a.dom,g1=E4.each;var b,c,r,d,f;var g,h,j,k,l,m,n,o;var w,p;var t=a.getDoc(),u=document;var v=Math.abs,tb=Math.round,x=a.getBody();var y,$;d={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var _='.mce-content-body';a.contentStyles.push(_+' div.mce-resizehandle {'+'position: absolute;'+'border: 1px solid black;'+'box-sizing: content-box;'+'background: #FFF;'+'width: 7px;'+'height: 7px;'+'z-index: 10000'+'}'+_+' .mce-resizehandle:hover {'+'background: #000'+'}'+_+' img[data-mce-selected],'+_+' hr[data-mce-selected] {'+'outline: 1px solid black;'+'resize: none'+'}'+_+' .mce-clonedresizable {'+'position: absolute;'+(q2.gecko?'':'outline: 1px dashed black;')+'opacity: .5;'+'filter: alpha(opacity=50);'+'z-index: 10000'+'}'+_+' .mce-resize-helper {'+'background: #555;'+'background: rgba(0,0,0,0.75);'+'border-radius: 3px;'+'border: 1px;'+'color: white;'+'display: none;'+'font-family: sans-serif;'+'font-size: 12px;'+'white-space: nowrap;'+'line-height: 14px;'+'margin: 5px 10px;'+'padding: 5px;'+'position: absolute;'+'z-index: 10001'+'}');var a1=function(y2){return y2&&(y2.nodeName==='IMG'||a.dom.is(y2,'figure.image'));};var d1=function(y2,b1){return a1(y2.target)&&!ss.isXYWithinRange(y2.clientX,y2.clientY,b1);};var e1=function(y2){var $2=y2.target;if(d1(y2,a.selection.getRng())&&!y2.isDefaultPrevented()){y2.preventDefault();a.selection.select($2);}};var o1=function(y2){return a.dom.is(y2,'figure.image')?y2.querySelector('img'):y2;};var x1=function(y2){var $2=a.settings.object_resizing;if($2===false||q2.iOS){return false;}if(typeof $2!=='string'){$2='table,img,figure.image,div';}if(y2.getAttribute('data-mce-resize')==='false'){return false;}if(y2===a.getBody()){return false;}return Y7.is(A6.fromDom(y2),$2);};var y1=function(e){var y2,$2,$3;var u4,$4;y2=e.screenX-g;$2=e.screenY-h;w=y2*f[2]+l;p=$2*f[3]+m;w=w<5?5:w;p=p<5?5:p;if(a1(b)&&a.settings.resize_img_proportional!==false){$3=!As.modifierPressed(e);}else{$3=As.modifierPressed(e)||a1(b)&&f[2]*f[3]!==0;}if($3){if(v(y2)>v($2)){p=tb(w*n);w=tb(p/n);}else{w=tb(p/n);p=tb(w*n);}}Jv.setStyles(o1(c),{width:w,height:p});u4=f.startPos.x+y2;$4=f.startPos.y+$2;u4=u4>0?u4:0;$4=$4>0?$4:0;Jv.setStyles(r,{left:u4,top:$4,display:'block'});r.innerHTML=w+' &times; '+p;if(f[2]<0&&c.clientWidth<=w){Jv.setStyle(c,'left',j+(l-w));}if(f[3]<0&&c.clientHeight<=p){Jv.setStyle(c,'top',k+(m-p));}y2=x.scrollWidth-y;$2=x.scrollHeight-$;if(y2+$2!==0){Jv.setStyles(r,{left:u4-y2,top:$4-$2});}if(!o){$o.fireObjectResizeStart(a,b,l,m);o=true;}};var $1=function(){o=false;var y2=function($2,E6){if(E6){if(b.style[$2]||!a.schema.isValid(b.nodeName.toLowerCase(),$2)){Jv.setStyle(o1(b),$2,E6);}else{Jv.setAttrib(o1(b),$2,E6);}}};y2('width',w);y2('height',p);Jv.unbind(t,'mousemove',y1);Jv.unbind(t,'mouseup',$1);if(u!==t){Jv.unbind(u,'mousemove',y1);Jv.unbind(u,'mouseup',$1);}Jv.remove(c);Jv.remove(r);a2(b);$o.fireObjectResized(a,b,w,p);Jv.setAttrib(b,'style',Jv.getAttrib(b,'style'));a.nodeChanged();};var a2=function(y2){var $2,$3,u4,e,$4;d2();o2();$2=Jv.getPos(y2,x);j=$2.x;k=$2.y;$4=y2.getBoundingClientRect();$3=$4.width||$4.right-$4.left;u4=$4.height||$4.bottom-$4.top;if(b!==y2){b=y2;w=p=0;}e=a.fire('ObjectSelected',{target:y2});if(x1(y2)&&!e.isDefaultPrevented()){g1(d,function(qo,o5){var Z7;var fa=function(e){g=e.screenX;h=e.screenY;l=o1(b).clientWidth;m=o1(b).clientHeight;n=m/l;f=qo;qo.startPos={x:$3*qo[0]+j,y:u4*qo[1]+k};y=x.scrollWidth;$=x.scrollHeight;c=b.cloneNode(true);Jv.addClass(c,'mce-clonedresizable');Jv.setAttrib(c,'data-mce-bogus','all');c.contentEditable=false;c.unSelectabe=true;Jv.setStyles(c,{left:j,top:k,margin:0});c.removeAttribute('data-mce-selected');x.appendChild(c);Jv.bind(t,'mousemove',y1);Jv.bind(t,'mouseup',$1);if(u!==t){Jv.bind(u,'mousemove',y1);Jv.bind(u,'mouseup',$1);}r=Jv.add(x,'div',{'class':'mce-resize-helper','data-mce-bogus':'all'},l+' &times; '+m);};Z7=Jv.get('mceResizeHandle'+o5);if(Z7){Jv.remove(Z7);}Z7=Jv.add(x,'div',{'id':'mceResizeHandle'+o5,'data-mce-bogus':'all','class':'mce-resizehandle','unselectable':true,'style':'cursor:'+o5+'-resize; margin:0; padding:0'});if(q2.ie===11){Z7.contentEditable=false;}Jv.bind(Z7,'mousedown',function(e){e.stopImmediatePropagation();e.preventDefault();fa(e);});qo.elm=Z7;Jv.setStyles(Z7,{left:$3*qo[0]+j-Z7.offsetWidth/2,top:u4*qo[1]+k-Z7.offsetHeight/2});});}else{d2();}b.setAttribute('data-mce-selected','1');};var d2=function(){var y2,$2;o2();if(b){b.removeAttribute('data-mce-selected');}for(y2 in d){$2=Jv.get('mceResizeHandle'+y2);if($2){Jv.unbind($2);Jv.remove($2);}}};var e2=function(e){var y2,$2;var $3=function(N7,i8){if(N7){do{if(N7===i8){return true;}}while(N7=N7.parentNode);}};if(o||a.removed){return;}g1(Jv.select('img[data-mce-selected],hr[data-mce-selected]'),function(u4){u4.removeAttribute('data-mce-selected');});$2=e.type==='mousedown'?e.target:s.getNode();$2=Jv.$($2).closest('table,img,figure.image,hr')[0];if($3($2,x)){x2();y2=s.getStart(true);if($3(y2,$2)&&$3(s.getEnd(true),$2)){a2($2);return;}}d2();};var i2=function(y2){return Mw(Ow(a.getBody(),y2));};var o2=function(){for(var y2 in d){var qo=d[y2];if(qo.elm){Jv.unbind(qo.elm);delete qo.elm;}}};var x2=function(){try{a.getDoc().execCommand('enableObjectResizing',false,false);}catch(ex){}};a.on('init',function(){x2();if(q2.ie&&q2.ie>=11){a.on('mousedown click',function(e){var $2=e.target,$3=$2.nodeName;if(!o&&/^(TABLE|IMG|HR)$/.test($3)&&!i2($2)){if(e.button!==2){a.selection.select($2,$3==='TABLE');}if(e.type==='mousedown'){a.nodeChanged();}}});a.dom.bind(x,'mscontrolselect',function(e){var $2=function(N7){C2.setEditorTimeout(a,function(){a.selection.select(N7);});};if(i2(e.target)){e.preventDefault();$2(e.target);return;}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName==='IMG'){$2(e.target);}}});}var y2=C2.throttle(function(e){if(!a.composing){e2(e);}});a.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged',y2);a.on('keyup compositionend',function(e){if(b&&b.nodeName==='TABLE'){y2(e);}});a.on('hide blur',d2);a.on('contextmenu',e1);});a.on('remove',o2);var sB=function(){b=c=null;};return{isResizable:x1,showResizeRect:a2,hideResizeRect:d2,updateResizeRect:e2,destroy:sB};};var Qw=function(N7){return I9.isContentEditableTrue(N7)||I9.isContentEditableFalse(N7);};var Rw=function(N7,r,p){while(N7&&N7!==r){if(p(N7)){return N7;}N7=N7.parentNode;}return null;};var Sw=function(c,d,F4){var f,r,g;f=F4.elementFromPoint(c,d);r=F4.body.createTextRange();if(!f||f.tagName==='HTML'){f=F4.body;}r.moveToElementText(f);g=E4.toArray(r.getClientRects());g=g.sort(function(a,b){a=Math.abs(Math.max(a.top-d,a.bottom-d));b=Math.abs(Math.max(b.top-d,b.bottom-d));return a-b;});if(g.length>0){d=(g[0].bottom+g[0].top)/2;try{r.moveToPoint(c,d);r.collapse(true);return r;}catch(h){}}return null;};var Tw=function(r,a){var p=r&&r.parentElement?r.parentElement():null;return I9.isContentEditableFalse(Rw(p,a,Qw))?null:r;};var Uw=function(c,a,F4){var r,p;var b=F4;if(b.caretPositionFromPoint){p=b.caretPositionFromPoint(c,a);if(p){r=F4.createRange();r.setStart(p.offsetNode,p.offset);r.collapse(true);}}else if(F4.caretRangeFromPoint){r=F4.caretRangeFromPoint(c,a);}else if(b.body.createTextRange){r=b.body.createTextRange();try{r.moveToPoint(c,a);r.collapse(true);}catch(d){r=Sw(c,a,F4);}return Tw(r,F4.body);}return r;};var Vw={fromPoint:Uw};var Ww=function(a,r){return H1.map(r,function(b1){var b=a.fire('GetSelectionRange',{range:b1});return b.range!==b1?b.range:b1;});};var Xw={processRanges:Ww};var Yw=function(o,Wv){return A6.fromDom(o.dom().cloneNode(Wv));};var Zw=function(o){return Yw(o,false);};var $w=function(o){return Yw(o,true);};var _w=function(o,t){var n=A6.fromTag(t);var A3=d7.clone(o);d7.setAll(n,A3);return n;};var ax=function(o,t){var n=_w(o,t);var c=z8.children($w(o));jh.append(n,c);return n;};var bx=function(o,t){var n=_w(o,t);qe.before(o,n);var r8=z8.children(o);jh.append(n,r8);nh.remove(o);return n;};var cx={shallow:Zw,shallowAs:_w,deep:$w,copy:ax,mutate:bx};var fx=function(a,s){var F4=s||document;var f=F4.createDocumentFragment();H1.each(a,function(b){f.appendChild(b.dom());});return A6.fromDom(f);};var gx={fromElements:fx};var hx=K7.immutable('element','width','rows');var ix=K7.immutable('element','cells');var jx=K7.immutable('x','y');var kx=function(t,k){var E6=parseInt(d7.get(t,k),10);return isNaN(E6)?1:E6;};var lx=function(t,x,y,a,b){var r=kx(b,'rowspan');var c=kx(b,'colspan');var d=t.rows();for(var f=y;f<y+r;f++){if(!d[f]){d[f]=ix(cx.deep(a),[]);}for(var g=x;g<x+c;g++){var h=d[f].cells();h[g]=f===y&&g===x?b:cx.shallow(b);}}};var mx=function(t,x,y){var r=t.rows();var c=r[y]?r[y].cells():[];return!!c[x];};var nx=function(t,x,y){while(mx(t,x,y)){x++;}return x;};var ox=function(r){return H1.foldl(r,function(a,b){return b.cells().length>a?b.cells().length:a;},0);};var px=function(t,a){var r=t.rows();for(var y=0;y<r.length;y++){var c=r[y].cells();for(var x=0;x<c.length;x++){if(e8.eq(c[x],a)){return S.some(jx(x,y));}}}return S.none();};var qx=function(t,s,a,b,c){var n=[];var r=t.rows();for(var y=a;y<=c;y++){var d=r[y].cells();var w1=s<b?d.slice(s,b+1):d.slice(b,s+1);n.push(ix(r[y].element(),w1));}return n;};var rx=function(t,s,a){var b=s.x(),c=s.y();var d=a.x(),f=a.y();var n=c<f?qx(t,b,c,d,f):qx(t,b,f,d,c);return hx(t.element(),ox(n),n);};var tx=function(t,r){var a=cx.shallow(t.element());var b=A6.fromTag('tbody');jh.append(b,r);qe.append(a,b);return a;};var ux=function(t){return H1.map(t.rows(),function(r){var c=H1.map(r.cells(),function(b){var d=cx.deep(b);d7.remove(d,'colspan');d7.remove(d,'rowspan');return d;});var a=cx.shallow(r.element());jh.append(a,c);return a;});};var vx=function(t){var a=hx(cx.shallow(t),0,[]);H1.each(xd.descendants(t,'tr'),function(b,y){H1.each(xd.descendants(b,'td,th'),function(c,x){lx(a,nx(a,x,y),y,b,c);});});return hx(a.element(),ox(a.rows()),a.rows());};var wx=function(t){return tx(t,ux(t));};var xx=function(t,s,a){return px(t,s).bind(function(b){return px(t,a).map(function(c){return rx(t,b,c);});});};var yx={fromDom:vx,toDom:wx,subsection:xx};var zx=function(k8){return H1.find(k8,function(a){return K6.name(a)==='ul'||K6.name(a)==='ol';});};var Ax=function(k8,r){return H1.find(k8,function(a){return K6.name(a)==='li'&&hr(a,r);}).fold(L.constant([]),function(l){return zx(k8).map(function(a){return[A6.fromTag('li'),A6.fromTag(K6.name(a))];}).getOr([]);});};var Bx=function(a,b){var w=H1.foldl(b,function(c,d){qe.append(d,c);return d;},a);return b.length>0?gx.fromElements([w]):w;};var Cx=function(c){if(m9(c)){return z8.parent(c).filter(l9).fold(L.constant([]),function(l){return[c,l];});}else{return l9(c)?[c]:[];}};var Dx=function(r,a){var c=A6.fromDom(a.commonAncestorContainer);var k8=Dj.parentsAndSelf(c,r);var w=H1.filter(k8,function(d){return i9(d)||g9(d);});var l=Ax(k8,a);var b=w.concat(l.length?l:Cx(c));return H1.map(b,cx.shallow);};var Ex=function(){return gx.fromElements([]);};var Fx=function(r,a){return Bx(A6.fromDom(a.cloneContents()),Dx(r,a));};var Gx=function(r,c){return Yi.ancestor(c,'table',L.curry(e8.eq,r));};var Hx=function(r,s){return Gx(r,s[0]).bind(function(t){var f=s[0];var l=s[s.length-1];var a=yx.fromDom(t);return yx.subsection(a,f,l).map(function(b){return gx.fromElements([yx.toDom(b)]);});}).getOrThunk(Ex);};var Ix=function(r,a){return a.length>0&&a[0].collapsed?Ex():Fx(r,a[0]);};var Jx=function(r,a){var s=xm.getCellsFromElementOrRanges(a,r);return s.length>0?Hx(r,s):Ix(r,a);};var Kx={read:Jx};var Lx=function(a,b){var r=a.selection.getRng(),t=a.dom.create('body');var s=a.selection.getSel();var f;var c=Xw.processRanges(a,sm.getRanges(s));b=b||{};b.get=true;b.format=b.format||'html';b.selection=true;b=a.fire('BeforeGetContent',b);if(b.isDefaultPrevented()){a.fire('GetContent',b);return b.content;}if(b.format==='text'){return a.selection.isCollapsed()?'':Ma.trim(r.text||(s.toString?s.toString():''));}if(r.cloneContents){f=b.contextual?Kx.read(A6.fromDom(a.getBody()),c).dom():r.cloneContents();if(f){t.appendChild(f);}}else if(r.item!==undefined||r.htmlText!==undefined){t.innerHTML='<br>'+(r.item?r.item(0).outerHTML:r.htmlText);t.removeChild(t.firstChild);}else{t.innerHTML=r.toString();}b.getInner=true;var d=a.selection.serializer.serialize(t,b);if(b.format==='tree'){return d;}b.content=a.selection.isCollapsed()?'':d;a.fire('GetContent',b);return b.content;};var Mx={getContent:Lx};var Nx=function(a,c,b){var r=a.selection.getRng(),d;var F4=a.getDoc();var f,t;b=b||{format:'html'};b.set=true;b.selection=true;b.content=c;if(!b.no_events){b=a.fire('BeforeSetContent',b);if(b.isDefaultPrevented()){a.fire('SetContent',b);return;}}c=b.content;if(r.insertNode){c+='<span id="__caret">_</span>';if(r.startContainer===F4&&r.endContainer===F4){F4.body.innerHTML=c;}else{r.deleteContents();if(F4.body.childNodes.length===0){F4.body.innerHTML=c;}else{if(r.createContextualFragment){r.insertNode(r.createContextualFragment(c));}else{f=F4.createDocumentFragment();t=F4.createElement('div');f.appendChild(t);t.outerHTML=c;r.insertNode(f);}}}d=a.dom.get('__caret');r=F4.createRange();r.setStartBefore(d);r.setEndBefore(d);a.selection.setRng(r);a.dom.remove('__caret');try{a.selection.setRng(r);}catch(g){}}else{if(r.item){F4.execCommand('Delete',false,null);r=a.getRng();}if(/^\s+/.test(c)){r.pasteHTML('<span id="__mce_tmp">_</span>'+c);a.dom.remove('__mce_tmp');}else{r.pasteHTML(c);}}if(!b.no_events){a.fire('SetContent',b);}};var Ox={setContent:Nx};var Px=function(r,a,dl,b,K1){var c=dl?a.startContainer:a.endContainer;var o=dl?a.startOffset:a.endOffset;return S.from(c).map(A6.fromDom).map(function(d){return!b||!a.collapsed?z8.child(d,K1(d,o)).getOr(d):d;}).bind(function(d){return K6.isElement(d)?S.some(d):z8.parent(d);}).map(function(d){return d.dom();}).getOr(r);};var Qx=function(r,a,b){return Px(r,a,true,b,function(c,o){return Math.min(z8.childNodesCount(c),o);});};var Rx=function(r,a,b){return Px(r,a,false,b,function(c,o){return o>0?o-1:o;});};var Sx=function(N7,f){var o=N7;while(N7&&I9.isText(N7)&&N7.length===0){N7=f?N7.nextSibling:N7.previousSibling;}return N7||o;};var Tx=function(r,a){var b,s,c,d,f;if(!a){return r;}s=a.startContainer;c=a.endContainer;d=a.startOffset;f=a.endOffset;b=a.commonAncestorContainer;if(!a.collapsed){if(s===c){if(f-d<2){if(s.hasChildNodes()){b=s.childNodes[d];}}}if(s.nodeType===3&&c.nodeType===3){if(s.length===d){s=Sx(s.nextSibling,true);}else{s=s.parentNode;}if(f===0){c=Sx(c.previousSibling,false);}else{c=c.parentNode;}if(s&&s===c){return s;}}}if(b&&b.nodeType===3){return b.parentNode;}return b;};var Ux=function(Jv,r,s,a){var N7,b;var c=[];b=Jv.getRoot();s=Jv.getParent(s||Qx(b,r,false),Jv.isBlock);a=Jv.getParent(a||Rx(b,r,false),Jv.isBlock);if(s&&s!==b){c.push(s);}if(s&&a&&s!==a){N7=s;var w=new X8(s,b);while((N7=w.next())&&N7!==a){if(Jv.isBlock(N7)){c.push(N7);}}}if(a&&s!==a&&a!==b){c.push(a);}return c;};var Vx=function(Jv,N7,c){return S.from(N7).map(function(N7){var a=Jv.nodeIndex(N7);var r=Jv.createRng();r.setStart(N7.parentNode,a);r.setEnd(N7.parentNode,a+1);if(c){ir(Jv,r,N7,true);ir(Jv,r,N7,false);}return r;});};var Wx=E4.each;var Xx=function(r){return!!r.select;};var Yx=function(N7){return!!(N7&&N7.ownerDocument)&&e8.contains(A6.fromDom(N7.ownerDocument),A6.fromDom(N7));};var Zx=function(r){if(!r){return false;}else if(Xx(r)){return true;}else{return Yx(r.startContainer)&&Yx(r.endContainer);}};var $x=function(Jv,w,s,a){var b,c;var d,f,g;var h=function(N7,r){var $=Jv.createRng();if(!N7){ir(Jv,$,a.getBody(),true);m($);}else{$.setStart(N7,r);$.setEnd(N7,r);m($);vb(false);}};var Lx=function(r){return Mx.getContent(a,r);};var Nx=function(r,$){return Ox.setContent(a,r,$);};var Rn=function(r){return Qx(a.getBody(),mo(),r);};var j=function(r){return Rx(a.getBody(),mo(),r);};var Bg=function(D6,r){return b.getBookmark(D6,r);};var _g=function(r){return b.moveToBookmark(r);};var V2=function(N7,r){Vx(Jv,N7,r).each(m);return N7;};var k=function(){var r=mo(),$=l();if(!r||r.item){return false;}if(r.compareEndPoints){return r.compareEndPoints('StartToEnd',r)===0;}return!$||r.collapsed;};var vb=function(r){var $=mo();$.collapse(!!r);m($);};var l=function(){return w.getSelection?w.getSelection():w.document.selection;};var mo=function(){var $,_,a1,F4;var d1=function(r,o1,x1){try{return o1.compareBoundaryPoints(r,x1);}catch(ex){return-1;}};if(!w){return null;}F4=w.document;if(typeof F4==='undefined'||F4===null){return null;}if(a.bookmark!==undefined&&Vp.hasFocus(a)===false){var e1=oo.getRng(a);if(e1.isSome()){return e1.map(function(r){return Xw.processRanges(a,[r])[0];}).getOr(F4.createRange());}}try{if($=l()){if($.rangeCount>0){_=$.getRangeAt(0);}else{_=$.createRange?$.createRange():F4.createRange();}}}catch(ex){}_=Xw.processRanges(a,[_])[0];if(!_){_=F4.createRange?F4.createRange():F4.body.createTextRange();}if(_.setStart&&_.startContainer.nodeType===9&&_.collapsed){a1=Jv.getRoot();_.setStart(a1,0);_.setEnd(a1,0);}if(d&&f){if(d1(_.START_TO_START,_,d)===0&&d1(_.END_TO_END,_,d)===0){_=f;}else{d=null;f=null;}}return _;};var m=function(r,$){var _,N7,a1;if(!Zx(r)){return;}var d1=Xx(r)?r:null;if(d1){f=null;try{d1.select();}catch(ex){}return;}_=l();a1=a.fire('SetSelectionRange',{range:r,forward:$});r=a1.range;if(_){f=r;try{_.removeAllRanges();_.addRange(r);}catch(ex){}if($===false&&_.extend){_.collapse(r.endContainer,r.endOffset);_.extend(r.startContainer,r.startOffset);}d=_.rangeCount>0?_.getRangeAt(0):null;}if(!r.collapsed&&r.startContainer===r.endContainer&&_.setBaseAndExtent&&!q2.ie){if(r.endOffset-r.startOffset<2){if(r.startContainer.hasChildNodes()){N7=r.startContainer.childNodes[r.startOffset];if(N7&&N7.tagName==='IMG'){_.setBaseAndExtent(r.startContainer,r.startOffset,r.endContainer,r.endOffset);if(_.anchorNode!==r.startContainer||_.focusNode!==r.endContainer){_.setBaseAndExtent(N7,0,N7,1);}}}}}a.fire('AfterSetSelectionRange',{range:r,forward:$});};var n=function(r){Nx(Jv.getOuterHTML(r));return r;};var Fb=function(){return Tx(a.getBody(),mo());};var o=function(r,$){return Ux(Jv,mo(),r,$);};var p=function(){var r=l();var $,_;if(!r||!r.anchorNode||!r.focusNode){return true;}$=Jv.createRng();$.setStart(r.anchorNode,r.anchorOffset);$.collapse(true);_=Jv.createRng();_.setStart(r.focusNode,r.focusOffset);_.collapse(true);return $.compareBoundaryPoints($.START_TO_START,_)<=0;};var Gh=function(){var r=mo();var $=l();if(!sm.hasMultipleRanges($)&&jr(a)){var _=An.normalize(Jv,r);_.each(function(_){m(_,p());});return _.getOr(r);}return r;};var t=function(r,$){var _;if(!g){g={};_={};a.on('NodeChange',function(e){var N7=e.element,k8=Jv.getParents(N7,null,Jv.getRoot()),a1={};Wx(g,function(d1,r){Wx(k8,function(N7){if(Jv.is(N7,r)){if(!_[r]){Wx(d1,function($){$(true,{node:N7,selector:r,parents:k8});});_[r]=d1;}a1[r]=d1;return false;}});});Wx(_,function(d1,r){if(!a1[r]){delete _[r];Wx(d1,function($){$(false,{node:N7,selector:r,parents:k8});});}});});}if(!g[r]){g[r]=[];}g[r].push($);return y;};var u=function(){var r;var N7=Jv.getRoot();while(N7&&N7.nodeName!=='BODY'){if(N7.scrollHeight>N7.clientHeight){r=N7;break;}N7=N7.parentNode;}return r;};var v=function(r,$){return Qd.scrollElementIntoView(a,r,$);};var x=function(r,$){return m(Vw.fromPoint(r,$,a.getDoc()));};var lc=function(){var r=mo();return r.collapsed?pc.fromRangeStart(r).getClientRects()[0]:r.getBoundingClientRect();};var sB=function(){w=d=f=null;c.destroy();};var y={bookmarkManager:null,controlSelection:null,dom:Jv,win:w,serializer:s,editor:a,collapse:vb,setCursorLocation:h,getContent:Lx,setContent:Nx,getBookmark:Bg,moveToBookmark:_g,select:V2,isCollapsed:k,isForward:p,setNode:n,getNode:Fb,getSel:l,setRng:m,getRng:mo,getStart:Rn,getEnd:j,getSelectedBlocks:o,normalize:Gh,selectorChanged:t,getScrollContainer:u,scrollIntoView:v,placeCaretAt:x,getBoundingClientRect:lc,destroy:sB};b=Lw(y);c=Pw(y,a);y.bookmarkManager=b;y.controlSelection=c;return y;};var _x=I9.isContentEditableFalse;var ay=Eb;var by=nf;var cy=mf;var fy=function(w,c){while(c=w(c)){if(c.isVisible()){return c;}}return c;};var gy=function(R,t){var a=_e(R,t);if(!a&&I9.isBr(R.getNode())){return true;}return a;};var hy=function(d,a,g,b1){var N7,c,p,r;var f=d===qf.Forwards;var b=f?cy:by;if(!b1.collapsed){N7=ay(b1);if(_x(N7)){return Sc(d,a,N7,d===qf.Backwards,true);}}r=ab(b1);c=lf(d,a.getBody(),b1);if(b(c)){return Uc(a,c.getNode(!f));}c=g(c);if(!c){if(r){return b1;}return null;}if(b(c)){return Sc(d,a,c.getNode(!f),f,true);}p=g(c);if(b(p)){if(gy(c,p)){return Sc(d,a,p.getNode(!f),f,true);}}if(r){return Wc(a,c.toRange(),true);}return null;};var iy=function(d,a,w,b1){var c,l,n;var b,f,g;var h,j,k;k=ay(b1);c=lf(d,a.getBody(),b1);l=w(a.getBody(),_r(1),c);n=r4.filter(l,as(1));f=r4.last(c.getClientRects());if(cy(c)||of(c)){k=c.getNode();}if(by(c)||pf(c)){k=c.getNode(true);}if(!f){return null;}g=f.left;b=hs(n,g);if(b){if(_x(b.node)){h=Math.abs(g-b.left);j=Math.abs(g-b.right);return Sc(d,a,b.node,h<j,true);}}if(k){var m=$r(d,a.getBody(),_r(1),k);b=hs(r4.filter(m,as(1)),g);if(b){return Wc(a,b.position.toRange(),true);}b=r4.last(r4.filter(m,as(0)));if(b){return Wc(a,b.position.toRange(),true);}}};var jy=function(a){var t=a.dom.create(a.settings.forced_root_block);if(!q2.ie||q2.ie>=11){t.innerHTML='<br data-mce-bogus="1">';}return t;};var ky=function(a,d,b1){var p,c,n;var b=Df(a.getBody());var g=Qb.curry(fy,b.next);var f=Qb.curry(fy,b.prev);if(b1.collapsed&&a.settings.forced_root_block){p=a.dom.getParent(b1.startContainer,'PRE');if(!p){return;}if(d===1){c=g(pc.fromRangeStart(b1));}else{c=f(pc.fromRangeStart(b1));}if(!c){n=jy(a);if(d===1){a.$(p).after(n);}else{a.$(p).before(n);}a.selection.select(n,true);a.selection.collapse();}}};var ly=function(a,f){var c=Df(a.getBody());var g=Qb.curry(fy,c.next);var b=Qb.curry(fy,c.prev);var n;var d=f?qf.Forwards:qf.Backwards;var h=f?g:b;var b1=a.selection.getRng();n=hy(d,a,h,b1);if(n){return n;}n=ky(a,d,b1);if(n){return n;}return null;};var my=function(a,d){var n;var b=d?1:-1;var w=d?Zr:Yr;var b1=a.selection.getRng();n=iy(b,a,w,b1);if(n){return n;}n=ky(a,b,b1);if(n){return n;}return null;};var ny=function(a,f){return function(){var n=ly(a,f);if(n){a.selection.setRng(n);return true;}else{return false;}};};var oy=function(a,d){return function(){var n=my(a,d);if(n){a.selection.setRng(n);return true;}else{return false;}};};var py=function(p){return H1.map(p,function(a){return $v.merge({shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0,action:L.noop},a);});};var qy=function(p,a){return a.keyCode===p.keyCode&&a.shiftKey===p.shiftKey&&a.altKey===p.altKey&&a.ctrlKey===p.ctrlKey&&a.metaKey===p.metaKey;};var ry=function(p,a){return H1.bind(py(p),function(b){return qy(b,a)?[b]:[];});};var uy=function(f){var x=[];for(var _=1;_<arguments.length;_++){x[_-1]=arguments[_];}var a=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,a);};};var vy=function(p,a){return H1.find(ry(p,a),function(b){return b.action();});};var wy={match:ry,action:uy,execute:vy};var xy=function(a,c,b){var o=u6.detect().os;wy.execute([{keyCode:As.RIGHT,action:ny(a,true)},{keyCode:As.LEFT,action:ny(a,false)},{keyCode:As.UP,action:oy(a,false)},{keyCode:As.DOWN,action:oy(a,true)},{keyCode:As.RIGHT,action:Ge(a,true)},{keyCode:As.LEFT,action:Ge(a,false)},{keyCode:As.UP,action:He(a,false)},{keyCode:As.DOWN,action:He(a,true)},{keyCode:As.RIGHT,action:Ml.move(a,c,true)},{keyCode:As.LEFT,action:Ml.move(a,c,false)},{keyCode:As.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Ml.moveNextWord(a,c)},{keyCode:As.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Ml.movePrevWord(a,c)}],b).each(function(_){b.preventDefault();});};var yy=function(a,c){a.on('keydown',function(b){if(b.isDefaultPrevented()===false){xy(a,c,b);}});};var zy={setup:yy};var Ay=function(r,s){var k8=Dj.parentsAndSelf(s,r);return H1.findIndex(k8,h9).fold(L.constant(k8),function(a){return k8.slice(0,a);});};var By=function(a){return z8.children(a).length===1;};var Cy=function(f,a,t,p){var b=L.curry(Hu,a);var c=H1.map(H1.filter(p,b),function(g){return g.dom();});if(c.length===0){zk.deleteElement(a,f,t);}else{var d=Gu(t.dom(),c);a.selection.setRng(d.toRange());}};var Dy=function(a,f){var r=A6.fromDom(a.getBody());var s=A6.fromDom(a.selection.getStart());var p=H1.filter(Ay(r,s),By);return H1.last(p).map(function(t){var b=pc.fromRangeStart(a.selection.getRng());if(Ri.willDeleteLastPositionInElement(f,b,t.dom())){Cy(f,a,t,p);return true;}else{return false;}}).getOr(false);};var Ey=function(a,f){return a.selection.isCollapsed()?Dy(a,f):false;};var Fy={backspaceDelete:Ey};var Gy=function(a,c,b){wy.execute([{keyCode:As.BACKSPACE,action:wy.action(Jk.backspaceDelete,a,false)},{keyCode:As.DELETE,action:wy.action(Jk.backspaceDelete,a,true)},{keyCode:As.BACKSPACE,action:wy.action(Vl.backspaceDelete,a,c,false)},{keyCode:As.DELETE,action:wy.action(Vl.backspaceDelete,a,c,true)},{keyCode:As.BACKSPACE,action:wy.action(Wj.backspaceDelete,a,false)},{keyCode:As.DELETE,action:wy.action(Wj.backspaceDelete,a,true)},{keyCode:As.BACKSPACE,action:wy.action(Oj.backspaceDelete,a,false)},{keyCode:As.DELETE,action:wy.action(Oj.backspaceDelete,a,true)},{keyCode:As.BACKSPACE,action:wy.action(Qm.backspaceDelete,a,false)},{keyCode:As.DELETE,action:wy.action(Qm.backspaceDelete,a,true)},{keyCode:As.BACKSPACE,action:wy.action(Fy.backspaceDelete,a,false)},{keyCode:As.DELETE,action:wy.action(Fy.backspaceDelete,a,true)}],b).each(function(_){b.preventDefault();});};var Hy=function(a,b){wy.execute([{keyCode:As.BACKSPACE,action:wy.action(Jk.paddEmptyElement,a)},{keyCode:As.DELETE,action:wy.action(Jk.paddEmptyElement,a)}],b);};var Iy=function(a,c){a.on('keydown',function(b){if(b.isDefaultPrevented()===false){Gy(a,c,b);}});a.on('keyup',function(b){if(b.isDefaultPrevented()===false){Hy(a,b);}});};var Jy={setup:Iy};var Ky=function(N7){while(N7){if(N7.nodeType===1||N7.nodeType===3&&N7.data&&/[\r\n\s]/.test(N7.data)){return N7;}N7=N7.nextSibling;}};var Ly=function(a,r){var w,N7,b,l=r,t;var Jv=a.dom;var m=a.schema.getMoveCaretBeforeOnEnterElements();if(!r){return;}if(/^(LI|DT|DD)$/.test(r.nodeName)){var t8=Ky(r.firstChild);if(t8&&/^(UL|OL|DL)$/.test(t8.nodeName)){r.insertBefore(Jv.doc.createTextNode('\xA0'),r.firstChild);}}b=Jv.createRng();r.normalize();if(r.hasChildNodes()){w=new X8(r,r);while(N7=w.current()){if(I9.isText(N7)){b.setStart(N7,0);b.setEnd(N7,0);break;}if(m[N7.nodeName.toLowerCase()]){b.setStartBefore(N7);b.setEndBefore(N7);break;}l=N7;N7=w.next();}if(!N7){b.setStart(l,0);b.setEnd(l,0);}}else{if(I9.isBr(r)){if(r.nextSibling&&Jv.isBlock(r.nextSibling)){b.setStartBefore(r);b.setEndBefore(r);}else{b.setStartAfter(r);b.setEndAfter(r);}}else{b.setStart(r,0);b.setEnd(r,0);}}a.selection.setRng(b);Jv.remove(t);a.selection.scrollIntoView(r);};var My=function(Jv,N7){var r=Jv.getRoot();var i8,a;i8=N7;while(i8!==r&&Jv.getContentEditable(i8)!=='false'){if(Jv.getContentEditable(i8)==='true'){a=i8;}i8=i8.parentNode;}return i8!==r?a:r;};var Ny=function(a){return S.from(a.dom.getParent(a.selection.getStart(true),a.dom.isBlock));};var Oy=function(a){return Ny(a).fold(L.constant(''),function(p){return p.nodeName.toUpperCase();});};var Py=function(a){return Ny(a).filter(function(b){return m9(A6.fromDom(b));}).isSome();};var Qy={moveToCaretPosition:Ly,getEditableRoot:My,getParentBlock:Ny,getParentBlockName:Oy,isListItemParentBlock:Py};var Ry=function(a,n){return a.firstChild&&a.firstChild.nodeName===n;};var Sy=function(a,p){return a&&a.parentNode&&a.parentNode.nodeName===p;};var Ty=function(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName);};var Uy=function(a){return Ty(a)&&Ty(a.parentNode);};var Vy=function(c){var a=c.parentNode;if(/^(LI|DT|DD)$/.test(a.nodeName)){return a;}return c;};var Wy=function(c,p,V5){var N7=c[V5?'firstChild':'lastChild'];while(N7){if(I9.isElement(N7)){break;}N7=N7[V5?'nextSibling':'previousSibling'];}return N7===p;};var Xy=function(a,c,b,p,n){var Jv=a.dom;var r=a.selection.getRng();if(b===a.getBody()){return;}if(Uy(b)){n='LI';}var d=n?c(n):Jv.create('BR');if(Wy(b,p,true)&&Wy(b,p,false)){if(Sy(b,'LI')){Jv.insertAfter(d,Vy(b));}else{Jv.replace(d,b);}}else if(Wy(b,p,true)){if(Sy(b,'LI')){Jv.insertAfter(d,Vy(b));d.appendChild(Jv.doc.createTextNode(' '));d.appendChild(b);}else{b.parentNode.insertBefore(d,b);}}else if(Wy(b,p,false)){Jv.insertAfter(d,Vy(b));}else{b=Vy(b);var t=r.cloneRange();t.setStartAfter(p);t.setEndAfter(b);var f=t.extractContents();if(n==='LI'&&Ry(f,'LI')){d=f.firstChild;Jv.insertAfter(f,b);}else{Jv.insertAfter(f,b);Jv.insertAfter(d,b);}}Jv.remove(p);Qy.moveToCaretPosition(a,d);};var Yy={insert:Xy};var Zy=function(a){return a&&a.nodeName==='A'&&E4.trim(Ma.trim(a.innerText||a.textContent)).length===0;};var $y=function(N7){return N7&&/^(TD|TH|CAPTION)$/.test(N7.nodeName);};var _y=function(a){a.innerHTML='<br data-mce-bogus="1">';};var az=function(c,n){return c.nodeName===n||c.previousSibling&&c.previousSibling.nodeName===n;};var bz=function(Jv,N7){return N7&&Jv.isBlock(N7)&&!/^(TD|TH|CAPTION|FORM)$/.test(N7.nodeName)&&!/^(fixed|absolute)/i.test(N7.style.position)&&Jv.getContentEditable(N7)!=='true';};var cz=function(Jv,n,b){var N7=b;var f=[];var i;if(!N7){return;}while(N7=N7.firstChild){if(Jv.isBlock(N7)){return;}if(I9.isElement(N7)&&!n[N7.nodeName.toLowerCase()]){f.push(N7);}}i=f.length;while(i--){N7=f[i];if(!N7.hasChildNodes()||N7.firstChild===N7.lastChild&&N7.firstChild.nodeValue===''){Jv.remove(N7);}else{if(Zy(N7)){Jv.remove(N7);}}}};var dz=function(dl,c,o){if(I9.isText(c)===false){return o;}else if(dl){return o===1&&c.data.charAt(o-1)===Ma.ZWSP?0:o;}else{return o===c.data.length-1&&c.data.charAt(o)===Ma.ZWSP?c.data.length:o;}};var ez=function(r){var n=r.cloneRange();n.setStart(r.startContainer,dz(true,r.startContainer,r.startOffset));n.setEnd(r.endContainer,dz(false,r.endContainer,r.endOffset));return n;};var fz=function(N7){do{if(I9.isText(N7)){N7.nodeValue=N7.nodeValue.replace(/^[\r\n]+/,'');}N7=N7.firstChild;}while(N7);};var gz=function(Jv,N7){var r=Jv.getRoot();var i8,a;i8=N7;while(i8!==r&&Jv.getContentEditable(i8)!=='false'){if(Jv.getContentEditable(i8)==='true'){a=i8;}i8=i8.parentNode;}return i8!==r?a:r;};var hz=function(a,N7){var f=ge.getForcedRootBlock(a);if(f&&f.toLowerCase()===N7.tagName.toLowerCase()){a.dom.setAttribs(N7,ge.getForcedRootBlockAttrs(a));}};var iz=function(a,n,r,c,o){var b,p,s,N7,d,f;var g=n||'P';var Jv=a.dom,h=gz(Jv,c);p=Jv.getParent(c,Jv.isBlock);if(!p||!bz(Jv,p)){p=p||h;if(p===a.getBody()||$y(p)){f=p.nodeName.toLowerCase();}else{f=p.parentNode.nodeName.toLowerCase();}if(!p.hasChildNodes()){b=Jv.create(g);hz(a,b);p.appendChild(b);r.setStart(b,0);r.setEnd(b,0);return b;}N7=c;while(N7.parentNode!==p){N7=N7.parentNode;}while(N7&&!Jv.isBlock(N7)){s=N7;N7=N7.previousSibling;}if(s&&a.schema.isValidChild(f,g.toLowerCase())){b=Jv.create(g);hz(a,b);s.parentNode.insertBefore(b,s);N7=s;while(N7&&!Jv.isBlock(N7)){d=N7.nextSibling;b.appendChild(N7);N7=d;}r.setStart(c,o);r.setEnd(c,o);}}return c;};var jz=function(Jv,b){var u8;b.normalize();u8=b.lastChild;if(!u8||/^(left|right)$/gi.test(Jv.getStyle(u8,'float',true))){Jv.add(b,'br');}};var kz=function(a,b){var t,c,d,o,p,s;var n,f,g,h,j,k,l;var Jv=a.dom;var m=a.schema,r=m.getNonEmptyElements();var u=a.selection.getRng();var v=function(y){var N7=d,$,_,a1;var d1=m.getTextInlineElements();if(y||h==='TABLE'||h==='HR'){$=Jv.create(y||k);hz(a,$);}else{$=p.cloneNode(false);}a1=$;if(ge.shouldKeepStyles(a)===false){Jv.setAttrib($,'style',null);Jv.setAttrib($,'class',null);}else{do{if(d1[N7.nodeName]){if(Eg(N7)){continue;}_=N7.cloneNode(false);Jv.setAttrib(_,'id','');if($.hasChildNodes()){_.appendChild($.firstChild);$.appendChild(_);}else{a1=_;$.appendChild(_);}}}while((N7=N7.parentNode)&&N7!==c);}_y(a1);return $;};var w=function(dl){var y,N7,$,_;_=dz(dl,d,o);if(I9.isText(d)&&(dl?_>0:_<d.nodeValue.length)){return false;}if(d.parentNode===p&&l&&!dl){return true;}if(dl&&I9.isElement(d)&&d===p.firstChild){return true;}if(az(d,'TABLE')||az(d,'HR')){return l&&!dl||!l&&dl;}y=new X8(d,p);if(I9.isText(d)){if(dl&&_===0){y.prev();}else if(!dl&&_===d.nodeValue.length){y.next();}}while(N7=y.current()){if(I9.isElement(N7)){if(!N7.getAttribute('data-mce-bogus')){$=N7.nodeName.toLowerCase();if(r[$]&&$!=='br'){return false;}}}else if(I9.isText(N7)&&!/^[ \t\r\n]*$/.test(N7.nodeValue)){return false;}if(dl){y.prev();}else{y.next();}}return true;};var x=function(){if(/^(H[1-6]|PRE|FIGURE)$/.test(h)&&j!=='HGROUP'){n=v(k);}else{n=v();}if(ge.shouldEndContainerOnEmptyBlock(a)&&bz(Jv,g)&&Jv.isEmpty(p)){n=Jv.split(g,p);}else{Jv.insertAfter(n,p);}Qy.moveToCaretPosition(a,n);};An.normalize(Jv,u).each(function(y){u.setStart(y.startContainer,y.startOffset);u.setEnd(y.endContainer,y.endOffset);});d=u.startContainer;o=u.startOffset;k=ge.getForcedRootBlock(a);s=b.shiftKey;if(I9.isElement(d)&&d.hasChildNodes()){l=o>d.childNodes.length-1;d=d.childNodes[Math.min(o,d.childNodes.length-1)]||d;if(l&&I9.isText(d)){o=d.nodeValue.length;}else{o=0;}}c=gz(Jv,d);if(!c){return;}if(k&&!s||!k&&s){d=iz(a,k,u,d,o);}p=Jv.getParent(d,Jv.isBlock);g=p?Jv.getParent(p.parentNode,Jv.isBlock):null;h=p?p.nodeName.toUpperCase():'';j=g?g.nodeName.toUpperCase():'';if(j==='LI'&&!b.ctrlKey){p=g;g=g.parentNode;h=j;}if(/^(LI|DT|DD)$/.test(h)){if(Jv.isEmpty(p)){Yy.insert(a,v,g,p,k);return;}}if(k&&p===a.getBody()){return;}k=k||'P';if(Pa(p)){n=_a(p);if(Jv.isEmpty(p)){_y(p);}Qy.moveToCaretPosition(a,n);}else if(w()){x();}else if(w(true)){n=p.parentNode.insertBefore(v(),p);Qy.moveToCaretPosition(a,az(p,'HR')?n:p);}else{t=ez(u).cloneRange();t.setEndAfter(p);f=t.extractContents();fz(f);n=f.firstChild;Jv.insertAfter(f,p);cz(Jv,r,n);jz(Jv,p);if(Jv.isEmpty(p)){_y(p);}n.normalize();if(Jv.isEmpty(n)){Jv.remove(n);x();}else{Qy.moveToCaretPosition(a,n);}}Jv.setAttrib(n,'id','');a.fire('NewBlock',{newBlock:n});};var lz={insert:kz};var mz=function(a,s){return Qy.getParentBlock(a).filter(function(p){return s.length>0&&Y7.is(A6.fromDom(p),s);}).isSome();};var nz=function(a){return mz(a,ge.getBrNewLineSelector(a));};var oz=function(a){return mz(a,ge.getNoNewLineSelector(a));};var pz={shouldInsertBr:nz,shouldBlockNewLine:oz};var qz=Yj.generate([{br:[]},{block:[]},{none:[]}]);var rz=function(a,s){return pz.shouldBlockNewLine(a);};var sz=function(r){return function(a,s){var b=ge.getForcedRootBlock(a)==='';return b===r;};};var tz=function(r){return function(a,s){return Qy.isListItemParentBlock(a)===r;};};var uz=function(b,r){return function(a,s){var c=Qy.getParentBlockName(a)===b.toUpperCase();return c===r;};};var vz=function(r){return uz('pre',r);};var wz=function(){return uz('summary',true);};var xz=function(r){return function(a,s){return ge.shouldPutBrInPre(a)===r;};};var yz=function(a,s){return pz.shouldInsertBr(a);};var zz=function(a,s){return s;};var Az=function(a){var f=ge.getForcedRootBlock(a);var r=Qy.getEditableRoot(a.dom,a.selection.getStart());return r&&a.schema.isValidChild(r.nodeName,f?f:'P');};var Bz=function(a,uy){return function(b,s){var c=H1.foldl(a,function(r,p){return r&&p(b,s);},true);return c?S.some(uy):S.none();};};var Cz=function(a,b){return Yk.evaluateUntil([Bz([rz],qz.none()),Bz([wz()],qz.br()),Bz([vz(true),xz(false),zz],qz.br()),Bz([vz(true),xz(false)],qz.block()),Bz([vz(true),xz(true),zz],qz.block()),Bz([vz(true),xz(true)],qz.br()),Bz([tz(true),zz],qz.br()),Bz([tz(true)],qz.block()),Bz([sz(true),zz,Az],qz.block()),Bz([sz(true)],qz.br()),Bz([yz],qz.br()),Bz([sz(false),zz],qz.br()),Bz([Az],qz.block())],[a,b.shiftKey]).getOr(qz.none());};var Dz={getAction:Cz};var Ez=function(a,b){Dz.getAction(a,b).fold(function(){On.insert(a,b);},function(){lz.insert(a,b);},L.noop);};var Fz={insert:Ez};var Gz=function(u){if(u.typing){u.typing=false;u.add();}};var Hz=function(a,b){if(b.isDefaultPrevented()){return;}b.preventDefault();Gz(a.undoManager);a.undoManager.transact(function(){if(a.selection.isCollapsed()===false){a.execCommand('Delete');}Fz.insert(a,b);});};var Iz=function(a){a.on('keydown',function(b){if(b.keyCode===As.ENTER){Hz(a,b);}});};var Jz={setup:Iz};var Kz=function(l,c){return Oz(l)&&I9.isText(c.container());};var Lz=function(a,c){var b=c.container();var o=c.offset();b.insertData(o,'\xA0');a.selection.setCursorLocation(b,o+1);};var Mz=function(a,c,l){if(Kz(l,c)){Lz(a,c);return true;}else{return false;}};var Nz=function(a){var Ci=L.curry(Li.isInlineTarget,a);var c=pc.fromRangeStart(a.selection.getRng());var b=ul.readLocation(Ci,a.getBody(),c);return b.map(L.curry(Mz,a,c)).getOr(false);};var Oz=function(l){return l.fold(L.constant(false),L.constant(true),L.constant(true),L.constant(false));};var Pz=function(a){return a.selection.isCollapsed()?Nz(a):false;};var Qz={insertAtSelection:Pz};var Rz=function(a,b){wy.execute([{keyCode:As.SPACEBAR,action:wy.action(Qz.insertAtSelection,a)}],b).each(function(_){b.preventDefault();});};var Sz=function(a){a.on('keydown',function(b){if(b.isDefaultPrevented()===false){Rz(a,b);}});};var Tz={setup:Sz};var Uz=function(a){return Yi.descendant(A6.fromDom(a.getBody()),'*[data-mce-caret]').fold(L.constant(null),function(b){return b.dom();});};var Vz=function(a){a.selection.setRng(a.selection.getRng());};var Wz=function(a,b){if(b.hasAttribute('data-mce-caret')){_a(b);Vz(a);a.selection.scrollIntoView(b);}};var Xz=function(a,e){var b=Uz(a);if(!b){return;}if(e.type==='compositionstart'){e.preventDefault();e.stopPropagation();Wz(a,b);return;}if(Sa(b)){Wz(a,b);a.undoManager.add();}};var Yz=function(a){a.on('keyup compositionstart',L.curry(Xz,a));};var Zz={setup:Yz};var $z=function(a){var c=Ml.setupSelectedState(a);Zz.setup(a);zy.setup(a,c);Jy.setup(a,c);Jz.setup(a);Tz.setup(a);};var _z={setup:$z};function aA(a){var g1=E4.each;var b=As.BACKSPACE,Ts=As.DELETE,Jv=a.dom,s=a.selection,c=a.settings,p=a.parser;var d=q2.gecko,ua=q2.ie,f=q2.webkit;var m='data:text/mce-internal,';var g=ua?'Text':'URL';var _o=function(o2,x2){try{a.getDoc().execCommand(o2,false,x2);}catch(ex){}};var h=function(e){return e.isDefaultPrevented();};var j=function(e){var o2,x2;if(e.dataTransfer){if(a.selection.isCollapsed()&&e.target.tagName==='IMG'){s.select(e.target);}o2=a.selection.getContent();if(o2.length>0){x2=m+escape(a.id)+','+escape(o2);e.dataTransfer.setData(g,x2);}}};var k=function(e){var o2;if(e.dataTransfer){o2=e.dataTransfer.getData(g);if(o2&&o2.indexOf(m)>=0){o2=o2.substr(m.length).split(',');return{id:unescape(o2[0]),html:unescape(o2[1])};}}return null;};var l=function(o2,x2){if(a.queryCommandSupported('mceInsertClipboardContent')){a.execCommand('mceInsertClipboardContent',false,{content:o2,internal:x2});}else{a.execCommand('mceInsertContent',false,o2);}};var n=function(){var o2=function(y2){var f7=Jv.create('body');var $2=y2.cloneContents();f7.appendChild($2);return s.serializer.serialize(f7,{format:'html'});};var x2=function(y2){var s=o2(y2);var $2=Jv.createRng();$2.selectNode(a.getBody());var $3=o2($2);return s===$3;};a.on('keydown',function(e){var y2=e.keyCode;var $2,f7;if(!h(e)&&(y2===Ts||y2===b)){$2=a.selection.isCollapsed();f7=a.getBody();if($2&&!Jv.isEmpty(f7)){return;}if(!$2&&!x2(a.selection.getRng())){return;}e.preventDefault();a.setContent('');if(f7.firstChild&&Jv.isBlock(f7.firstChild)){a.selection.setCursorLocation(f7.firstChild,0);}else{a.selection.setCursorLocation(f7,0);}a.nodeChanged();}});};var o=function(){a.shortcuts.add('meta+a',null,'SelectAll');};var r=function(){if(!a.settings.content_editable){Jv.bind(a.getDoc(),'mousedown mouseup',function(e){var o2;if(e.target===a.getDoc().documentElement){o2=s.getRng();a.getBody().focus();if(e.type==='mousedown'){if(Ra(o2.startContainer)){return;}s.placeCaretAt(e.clientX,e.clientY);}else{s.setRng(o2);}}});}};var t=function(){a.on('keydown',function(e){if(!h(e)&&e.keyCode===b){if(!a.getBody().getElementsByTagName('hr').length){return;}if(s.isCollapsed()&&s.getRng().startOffset===0){var N7=s.getNode();var o2=N7.previousSibling;if(N7.nodeName==='HR'){Jv.remove(N7);e.preventDefault();return;}if(o2&&o2.nodeName&&o2.nodeName.toLowerCase()==='hr'){Jv.remove(o2);e.preventDefault();}}}});};var Np=function(){if(!Range.prototype.getClientRects){a.on('mousedown',function(e){if(!h(e)&&e.target.nodeName==='HTML'){var o2=a.getBody();o2.blur();C2.setEditorTimeout(a,function(){o2.focus();});}});}};var u=function(){a.on('click',function(e){var o2=e.target;if(/^(IMG|HR)$/.test(o2.nodeName)&&Jv.getContentEditableParent(o2)!=='false'){e.preventDefault();a.selection.select(o2);a.nodeChanged();}if(o2.nodeName==='A'&&Jv.hasClass(o2,'mce-item-anchor')){e.preventDefault();s.select(o2);}});};var v=function(){var o2=function(){var y2=Jv.getAttribs(s.getStart().cloneNode(false));return function(){var $2=s.getStart();if($2!==a.getBody()){Jv.setAttrib($2,'style',null);g1(y2,function($3){$2.setAttributeNode($3.cloneNode(true));});}};};var x2=function(){return!s.isCollapsed()&&Jv.getParent(s.getStart(),Jv.isBlock)!==Jv.getParent(s.getEnd(),Jv.isBlock);};a.on('keypress',function(e){var y2;if(!h(e)&&(e.keyCode===8||e.keyCode===46)&&x2()){y2=o2();a.getDoc().execCommand('delete',false,null);y2();e.preventDefault();return false;}});Jv.bind(a.getDoc(),'cut',function(e){var y2;if(!h(e)&&x2()){y2=o2();C2.setEditorTimeout(a,function(){y2();});}});};var w=function(){a.on('keydown',function(e){if(!h(e)&&e.keyCode===b){if(s.isCollapsed()&&s.getRng().startOffset===0){var o2=s.getNode().previousSibling;if(o2&&o2.nodeName&&o2.nodeName.toLowerCase()==='table'){e.preventDefault();return false;}}}});};var x=function(){a.on('keydown',function(e){var o2,x2,y2,$2,i8;if(h(e)||e.keyCode!==As.BACKSPACE){return;}o2=s.getRng();x2=o2.startContainer;y2=o2.startOffset;$2=Jv.getRoot();i8=x2;if(!o2.collapsed||y2!==0){return;}while(i8&&i8.parentNode&&i8.parentNode.firstChild===i8&&i8.parentNode!==$2){i8=i8.parentNode;}if(i8.tagName==='BLOCKQUOTE'){a.formatter.toggle('blockquote',null,i8);o2=Jv.createRng();o2.setStart(x2,0);o2.setEnd(x2,0);s.setRng(o2);}});};var y=function(){var o2=function(){_o('StyleWithCSS',false);_o('enableInlineTableEditing',false);if(!c.object_resizing){_o('enableObjectResizing',false);}};if(!c.readonly){a.on('BeforeExecCommand MouseDown',o2);}};var $=function(){var o2=function(){g1(Jv.select('a'),function(N7){var x2=N7.parentNode;var y2=Jv.getRoot();if(x2.lastChild===N7){while(x2&&!Jv.isBlock(x2)){if(x2.parentNode.lastChild!==x2||x2===y2){return;}x2=x2.parentNode;}Jv.add(x2,'br',{'data-mce-bogus':1});}});};a.on('SetContent ExecCommand',function(e){if(e.type==='setcontent'||e.command==='mceInsertLink'){o2();}});};var _=function(){if(c.forced_root_block){a.on('init',function(){_o('DefaultParagraphSeparator',c.forced_root_block);});}};var Mp=function(){a.on('keyup focusin mouseup',function(e){if(!As.modifierPressed(e)){s.normalize();}},true);};var a1=function(){a.contentStyles.push('img:-moz-broken {'+'-moz-force-broken-image-icon:1;'+'min-width:24px;'+'min-height:24px'+'}');};var d1=function(){if(!a.inline){a.on('keydown',function(){if(document.activeElement===document.body){a.getWin().focus();}});}};var e1=function(){if(!a.inline){a.contentStyles.push('body {min-height: 150px}');a.on('click',function(e){var o2;if(e.target.nodeName==='HTML'){if(q2.ie>11){a.getBody().focus();return;}o2=a.selection.getRng();a.getBody().focus();a.selection.setRng(o2);a.selection.normalize();a.nodeChanged();}});}};var o1=function(){if(q2.mac){a.on('keydown',function(e){if(As.metaKeyPressed(e)&&!e.shiftKey&&(e.keyCode===37||e.keyCode===39)){e.preventDefault();a.selection.getSel().modify('move',e.keyCode===37?'backward':'forward','lineboundary');}});}};var x1=function(){_o('AutoUrlDetect',false);};var y1=function(){a.on('click',function(e){var o2=e.target;do{if(o2.tagName==='A'){e.preventDefault();return;}}while(o2=o2.parentNode);});a.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');};var $1=function(){a.on('init',function(){a.dom.bind(a.getBody(),'submit',function(e){e.preventDefault();});});};var a2=function(){p.addNodeFilter('br',function(o2){var i=o2.length;while(i--){if(o2[i].attr('class')==='Apple-interchange-newline'){o2[i].remove();}}});};var d2=function(){a.on('dragstart',function(e){j(e);});a.on('drop',function(e){if(!h(e)){var o2=k(e);if(o2&&o2.id!==a.id){e.preventDefault();var x2=Vw.fromPoint(e.x,e.y,a.getDoc());s.setRng(x2);l(o2.html,true);}}});};var e2=function(){};var i2=function(){var o2;if(!d||a.removed){return 0;}o2=a.selection.getSel();return!o2||!o2.rangeCount||o2.rangeCount===0;};x();n();if(!q2.windowsPhone){Mp();}if(f){r();u();_();$1();w();a2();if(q2.iOS){d1();e1();y1();}else{o();}}if(q2.ie>=11){e1();w();}if(q2.ie){o();x1();d2();}if(d){t();Np();v();y();$();a1();o1();w();}return{refreshContentEditable:e2,isHidden:i2};}var bA=function(N7){return I9.isElement(N7)&&k9(A6.fromDom(N7));};var cA=function(a){var r=a.selection.getRng();var s=oc.fromRangeStart(r);var b=oc.fromRangeEnd(r);if(oc.isElementPosition(s)){var c=s.container();if(bA(c)){Pc.firstPositionIn(c).each(function(p){return r.setStart(p.container(),p.offset());});}}if(oc.isElementPosition(b)){var c=s.container();if(bA(c)){Pc.lastPositionIn(c).each(function(p){return r.setEnd(p.container(),p.offset());});}}a.selection.setRng(Hh.normalize(r));};var dA=function(a){a.on('click',function(e){if(e.detail===3){cA(a);}});};var eA={setup:dA};var fA=function(a){a.on('click',function(e){if(a.dom.getParent(e.target,'details')){e.preventDefault();}});};var gA=function(a){a.parser.addNodeFilter('details',function(b){H1.each(b,function(d){d.attr('data-mce-open',d.attr('open'));d.attr('open','open');});});a.serializer.addNodeFilter('details',function(b){H1.each(b,function(d){var o=d.attr('data-mce-open');d.attr('open',V.isString(o)?o:null);d.attr('data-mce-open',null);});});};var hA=function(a){fA(a);gA(a);};var iA=Ba.DOM;var jA=function(a,t){var E1=A6.fromDom(a.getDoc().head);var b=A6.fromTag('style');d7.set(b,'type','text/css');qe.append(b,A6.fromText(t));qe.append(E1,b);};var kA=function(a){var p=Bw(a.settings,a.schema);p.addAttributeFilter('src,href,style,tabindex',function(n,b){var i=n.length,N7;var Jv=a.dom;var E6,c;while(i--){N7=n[i];E6=N7.attr(b);c='data-mce-'+b;if(!N7.attributes.map[c]){if(E6.indexOf('data:')===0||E6.indexOf('blob:')===0){continue;}if(b==='style'){E6=Jv.serializeStyle(Jv.parseStyle(E6),N7.name);if(!E6.length){E6=null;}N7.attr(c,E6);N7.attr(b,E6);}else if(b==='tabindex'){N7.attr(c,E6);N7.attr(b,null);}else{N7.attr(c,a.convertURL(E6,b,N7.name));}}}});p.addNodeFilter('script',function(n){var i=n.length,N7,D6;while(i--){N7=n[i];D6=N7.attr('type')||'no/type';if(D6.indexOf('mce-')!==0){N7.attr('type','mce-'+D6);}}});p.addNodeFilter('#cdata',function(n){var i=n.length,N7;while(i--){N7=n[i];N7.type=8;N7.name='#comment';N7.value='[CDATA['+N7.value+']]';}});p.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div',function(n){var i=n.length,N7;var b=a.schema.getNonEmptyElements();while(i--){N7=n[i];if(N7.isEmpty(b)&&N7.getAll('br').length===0){N7.append(new pw('br',1)).shortEnded=true;}}});return p;};var lA=function(a){if(a.settings.auto_focus){C2.setEditorTimeout(a,function(){var Sp;if(a.settings.auto_focus===true){Sp=a;}else{Sp=a.editorManager.get(a.settings.auto_focus);}if(!Sp.destroyed){Sp.focus();}},100);}};var mA=function(a){a.bindPendingEventDelegates();a.initialized=true;a.fire('init');a.focus(true);a.nodeChanged({initial:true});a.execCallback('init_instance_callback',a);lA(a);};var nA=function(a){return a.inline?iA.styleSheetLoader:a.dom.styleSheetLoader;};var oA=function(a,s){var b=a.settings;var t=a.getElement();var F4=a.getDoc(),f7,c;if(!b.inline){a.getElement().style.visibility=a.orgVisibility;}if(!s&&!b.content_editable){F4.open();F4.write(a.iframeHTML);F4.close();}if(b.content_editable){a.on('remove',function(){var d=this.getBody();iA.removeClass(d,'mce-content-body');iA.removeClass(d,'mce-edit-focus');iA.setAttrib(d,'contentEditable',null);});iA.addClass(t,'mce-content-body');a.contentDocument=F4=b.content_document||document;a.contentWindow=b.content_window||window;a.bodyElement=t;b.content_document=b.content_window=null;b.root_name=t.nodeName.toLowerCase();}f7=a.getBody();f7.disabled=true;a.readonly=b.readonly;if(!a.readonly){if(a.inline&&iA.getStyle(f7,'position',true)==='static'){f7.style.position='relative';}f7.contentEditable=a.getParam('content_editable_state',true);}f7.disabled=false;a.editorUpload=Wq(a);a.schema=oa(b);a.dom=Ba(F4,{keep_values:true,url_converter:a.convertURL,url_converter_scope:a,hex_colors:b.force_hex_style_colors,class_filter:b.class_filter,update_styles:true,root_element:a.inline?a.getBody():null,collect:b.content_editable,schema:a.schema,onSetAttrib:function(e){a.fire('SetAttrib',e);}});a.parser=kA(a);a.serializer=Jw(b,a);a.selection=$x(a.dom,a.getWin(),a.serializer,a);a.formatter=Uv(a);a.undoManager=yt(a);a._nodeChangeDispatcher=new kr(a);a._selectionOverrides=Gs(a);hA(a);eA.setup(a);_z.setup(a);cr.setup(a);a.fire('PreInit');if(!b.browser_spellcheck&&!b.gecko_spellcheck){F4.body.spellcheck=false;iA.setAttrib(f7,'spellcheck','false');}a.quirks=aA(a);a.fire('PostRender');if(b.directionality){f7.dir=b.directionality;}if(b.nowrap){f7.style.whiteSpace='nowrap';}if(b.protect){a.on('BeforeSetContent',function(e){E4.each(b.protect,function(p){e.content=e.content.replace(p,function(d){return'<!--mce:protected '+escape(d)+'-->';});});});}a.on('SetContent',function(){a.addVisual(a.getBody());});a.load({initial:true,format:'html'});a.startContent=a.getContent({format:'raw'});a.on('compositionstart compositionend',function(e){a.composing=e.type==='compositionstart';});if(a.contentStyles.length>0){c='';E4.each(a.contentStyles,function(d){c+=d+'\r\n';});a.dom.addStyle(c);}nA(a).loadAll(a.contentCSS,function(_){mA(a);},function(u){mA(a);});if(b.content_style){jA(a,b.content_style);}};var pA={initContentBody:oA};var qA=Ba.DOM;var rA=function(a,b){if(document.domain!==window.location.hostname&&q2.ie&&q2.ie<12){var c=Tq.uuid('mce');a[c]=function(){pA.initContentBody(a);};var d='javascript:(function(){'+'document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+a.id+'");document.write(ed.iframeHTML);'+'document.close();ed.'+c+'(true);})()';qA.setAttrib(b,'src',d);return true;}return false;};var sA=function(h){var n=typeof h==='number'?h+'px':h;return n?n:'';};var tA=function(a,t,h,c){var b=A6.fromTag('iframe');d7.setAll(b,c);d7.setAll(b,{id:a+'_ifr',frameBorder:'0',allowTransparency:'true',title:t});A7.setAll(b,{width:'100%',height:sA(h),display:'block'});return b;};var uA=function(a){var b,c,d;d=ge.getDocType(a)+'<html><head>';if(ge.getDocumentBaseUrl(a)!==a.documentBaseUrl){d+='<base href="'+a.documentBaseURI.getURI()+'" />';}d+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';b=ge.getBodyId(a);c=ge.getBodyClass(a);if(ge.getContentSecurityPolicy(a)){d+='<meta http-equiv="Content-Security-Policy" content="'+ge.getContentSecurityPolicy(a)+'" />';}d+='</head><body id="'+b+'" class="mce-content-body '+c+'" data-id="'+a.id+'"><br></body></html>';return d;};var vA=function(a,o){var t=a.editorManager.translate('Rich Text Area. Press ALT-F9 for menu. '+'Press ALT-F10 for toolbar. Press ALT-0 for help');var b=tA(a.id,t,o.height,ge.getIframeAttrs(a)).dom();b.onload=function(){b.onload=null;a.fire('load');};var c=rA(a,b);a.contentAreaContainer=o.iframeContainer;a.iframeElement=b;a.iframeHTML=uA(a);qA.add(o.iframeContainer,b);return c;};var wA=function(a,b){var c=vA(a,b);if(b.editorContainer){qA.get(b.editorContainer).style.display=a.orgDisplay;a.hidden=qA.isHidden(b.editorContainer);}a.getElement().style.display='none';qA.setAttrib(a.id,'aria-hidden','true');if(!c){pA.initContentBody(a);}};var xA={init:wA};var yA=Ba.DOM;var zA=function(a,b,p){var c=vq.get(p);var d,f;d=vq.urls[p]||a.documentBaseUrl.replace(/\/$/,'');p=E4.trim(p);if(c&&E4.inArray(b,p)===-1){E4.each(vq.dependencies(p),function(g){zA(a,b,g);});if(a.plugins[p]){return;}f=new c(a,d,a.$);a.plugins[p]=f;if(f.init){f.init(a,d);b.push(p);}}};var AA=function(n){return n.replace(/^\-/,'');};var BA=function(a){var b=[];E4.each(a.settings.plugins.split(/[ ,]/),function(n){zA(a,b,AA(n));});};var CA=function(a){var b;var t=a.settings.theme;if(V.isString(t)){a.settings.theme=AA(t);b=wq.get(t);a.theme=new b(a,wq.urls[t]);if(a.theme.init){a.theme.init(a,wq.urls[t]||a.documentBaseUrl.replace(/\/$/,''),a.$);}}else{a.theme={};}};var DA=function(a){var w,h,m,r,b;var s=a.settings;var c=a.getElement();w=s.width||yA.getStyle(c,'width')||'100%';h=s.height||yA.getStyle(c,'height')||c.offsetHeight;m=s.min_height||100;r=/^[0-9\.]+(|px)$/i;if(r.test(''+w)){w=Math.max(parseInt(w,10),100);}if(r.test(''+h)){h=Math.max(parseInt(h,10),m);}b=a.theme.renderUI({targetNode:c,width:w,height:h,deltaWidth:s.delta_width,deltaHeight:s.delta_height});if(!s.content_editable){h=(b.iframeHeight||h)+(typeof h==='number'?b.deltaHeight||0:'');if(h<m){h=m;}}b.height=h;return b;};var EA=function(a){var b;var c=a.getElement();b=a.settings.theme(a,c);if(b.editorContainer.nodeType){b.editorContainer.id=b.editorContainer.id||a.id+'_parent';}if(b.iframeContainer&&b.iframeContainer.nodeType){b.iframeContainer.id=b.iframeContainer.id||a.id+'_iframecontainer';}b.height=b.iframeHeight?b.iframeHeight:c.offsetHeight;return b;};var FA=function(a){return{editorContainer:a,iframeContainer:a};};var GA=function(t){var a=yA.create('div');yA.insertAfter(a,t);return FA(a);};var HA=function(a){var t=a.getElement();return a.inline?FA(null):GA(t);};var IA=function(a){var s=a.settings,b=a.getElement();a.orgDisplay=b.style.display;if(V.isString(s.theme)){return DA(a);}else if(V.isFunction(s.theme)){return EA(a);}else{return HA(a);}};var JA=function(a){var s=a.settings;var b=a.getElement();var c;a.rtl=s.rtl_ui||a.editorManager.i18n.rtl;a.editorManager.i18n.setCode(s.language);s.aria_label=s.aria_label||yA.getAttrib(b,'aria-label',a.getLang('aria.rich_text_area'));a.fire('ScriptsLoaded');CA(a);BA(a);c=IA(a);a.editorContainer=c.editorContainer?c.editorContainer:null;if(s.content_css){E4.each(E4.explode(s.content_css),function(u){a.contentCSS.push(a.documentBaseURI.toAbsolute(u));});}if(s.content_editable){return pA.initContentBody(a);}else{return xA.init(a,c);}};var KA={init:JA};var LA=Ba.DOM;var MA=function(n){return n.charAt(0)==='-';};var NA=function(s,a){var b=a.settings;if(b.language&&b.language!=='en'&&!b.language_url){b.language_url=a.editorManager.baseURL+'/langs/'+b.language+'.js';}if(b.language_url&&!a.editorManager.i18n.data[b.language]){s.add(b.language_url);}};var OA=function(s,a,b,c){var d=a.settings,t=d.theme;if(V.isString(t)){if(!MA(t)&&!wq.urls.hasOwnProperty(t)){var f=d.theme_url;if(f){wq.load(t,a.documentBaseURI.toAbsolute(f));}else{wq.load(t,'themes/'+t+'/theme'+b+'.js');}}s.loadQueue(function(){wq.waitFor(t,c);});}else{c();}};var PA=function(s,a){if(E4.isArray(s.plugins)){s.plugins=s.plugins.join(' ');}E4.each(s.external_plugins,function(S1,n){vq.load(n,S1);s.plugins+=' '+n;});E4.each(s.plugins.split(/[ ,]/),function(p){p=E4.trim(p);if(p&&!vq.urls[p]){if(MA(p)){p=p.substr(1,p.length);var d=vq.dependencies(p);E4.each(d,function(b){var c={prefix:'plugins/',resource:b,suffix:'/plugin'+a+'.js'};b=vq.createUrl(c,b);vq.load(b.resource,b);});}else{vq.load(p,{prefix:'plugins/',resource:p,suffix:'/plugin'+a+'.js'});}}});};var QA=function(a,s){var b=Ga.ScriptLoader;OA(b,a,s,function(){NA(b,a);PA(a.settings,s);b.loadQueue(function(){if(!a.removed){KA.init(a);}},a,function(u){uq.pluginLoadError(a,u[0]);if(!a.removed){KA.init(a);}});});};var RA=function(a){var s=a.settings,b=a.id;var r=function(){LA.unbind(window,'ready',r);a.render();};if(!O2.Event.domLoaded){LA.bind(window,'ready',r);return;}if(!a.getElement()){return;}if(!q2.contentEditable){return;}if(!s.inline){a.orgVisibility=a.getElement().style.visibility;a.getElement().style.visibility='hidden';}else{a.inline=true;}var f=a.getElement().form||LA.getParent(b,'form');if(f){a.formElement=f;if(s.hidden_input&&!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)){LA.insertAfter(LA.create('input',{type:'hidden',name:b}),b);a.hasHiddenInput=true;}a.formEventDelegate=function(e){a.fire(e.type,e);};LA.bind(f,'submit reset',a.formEventDelegate);a.on('reset',function(){a.setContent(a.startContent,{format:'raw'});});if(s.submit_patch&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit){f._mceOldSubmit=f.submit;f.submit=function(){a.editorManager.triggerSave();a.setDirty(false);return f._mceOldSubmit(f);};}}a.windowManager=lq(a);a.notificationManager=jq(a);if(s.encoding==='xml'){a.on('GetContent',function(e){if(e.save){e.content=LA.encode(e.content);}});}if(s.add_form_submit_trigger){a.on('submit',function(){if(a.initialized){a.save();}});}if(s.add_unload_trigger){a._beforeUnload=function(){if(a.initialized&&!a.destroyed&&!a.isHidden()){a.save({format:'raw',no_events:true,set_dirty:false});}};a.editorManager.on('BeforeUnload',a._beforeUnload);}a.editorManager.add(a);QA(a,a.suffix);};var SA={render:RA};var TA=function(a,n,s){var b=a.sidebars?a.sidebars:[];b.push({name:n,settings:s});a.sidebars=b;};var UA={add:TA};var VA=E4.each;var WA=E4.trim;var XA='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');var YA={ftp:21,http:80,https:443,mailto:25};var ZA=function(S1,s){var a=this;var b,c;S1=WA(S1);s=a.settings=s||{};b=s.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(S1)||/^\s*#/.test(S1)){a.source=S1;return;}var d=S1.indexOf('//')===0;if(S1.indexOf('/')===0&&!d){S1=(b?b.protocol||'http':'http')+'://mce_host'+S1;}if(!/^[\w\-]*:?\/\//.test(S1)){c=s.base_uri?s.base_uri.path:new ZA(document.location.href).directory;if(s.base_uri.protocol==''){S1='//mce_host'+a.toAbsPath(c,S1);}else{S1=/([^#?]*)([#?]?.*)/.exec(S1);S1=(b&&b.protocol||'http')+'://mce_host'+a.toAbsPath(c,S1[1])+S1[2];}}S1=S1.replace(/@@/g,'(mce_at)');S1=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(S1);VA(XA,function(v,i){var p=S1[i];if(p){p=p.replace(/\(mce_at\)/g,'@@');}a[v]=p;});if(b){if(!a.protocol){a.protocol=b.protocol;}if(!a.userInfo){a.userInfo=b.userInfo;}if(!a.port&&a.host==='mce_host'){a.port=b.port;}if(!a.host||a.host==='mce_host'){a.host=b.host;}a.source='';}if(d){a.protocol='';}};ZA.prototype={setPath:function(J1){var s=this;J1=/^(.*?)\/?(\w+)?$/.exec(J1);s.path=J1[0];s.directory=J1[1];s.file=J1[2];s.source='';s.getURI();},toRelative:function(u){var s=this;var o;if(u==='./'){return u;}u=new ZA(u,{base_uri:s});if(u.host!=='mce_host'&&s.host!==u.host&&u.host||s.port!==u.port||s.protocol!==u.protocol&&u.protocol!==''){return u.getURI();}var t=s.getURI(),a=u.getURI();if(t===a||t.charAt(t.length-1)==='/'&&t.substr(0,t.length-1)===a){return t;}o=s.toRelPath(s.path,u.path);if(u.query){o+='?'+u.query;}if(u.anchor){o+='#'+u.anchor;}return o;},toAbsolute:function(u,n){u=new ZA(u,{base_uri:this});return u.getURI(n&&this.isSameOrigin(u));},isSameOrigin:function(u){if(this.host==u.host&&this.protocol==u.protocol){if(this.port==u.port){return true;}var d=YA[this.protocol];if(d&&(this.port||d)==(u.port||d)){return true;}}return false;},toRelPath:function(b,J1){var a,c=0,o='',i,l;b=b.substring(0,b.lastIndexOf('/'));b=b.split('/');a=J1.split('/');if(b.length>=a.length){for(i=0,l=b.length;i<l;i++){if(i>=a.length||b[i]!==a[i]){c=i+1;break;}}}if(b.length<a.length){for(i=0,l=a.length;i<l;i++){if(i>=b.length||b[i]!==a[i]){c=i+1;break;}}}if(c===1){return J1;}for(i=0,l=b.length-(c-1);i<l;i++){o+='../';}for(i=c-1,l=a.length;i<l;i++){if(i!==c-1){o+='/'+a[i];}else{o+=a[i];}}return o;},toAbsPath:function(b,J1){var i,n=0,o=[],t,a;t=/\/$/.test(J1)?'/':'';b=b.split('/');J1=J1.split('/');VA(b,function(k){if(k){o.push(k);}});b=o;for(i=J1.length-1,o=[];i>=0;i--){if(J1[i].length===0||J1[i]==='.'){continue;}if(J1[i]==='..'){n++;continue;}if(n>0){n--;continue;}o.push(J1[i]);}i=b.length-n;if(i<=0){a=o.reverse().join('/');}else{a=b.slice(0,i).join('/')+'/'+o.reverse().join('/');}if(a.indexOf('/')!==0){a='/'+a;}if(t&&a.lastIndexOf('/')!==a.length-1){a+=t;}return a;},getURI:function(n){var s;var a=this;if(!a.source||n){s='';if(!n){if(a.protocol){s+=a.protocol+'://';}else{s+='//';}if(a.userInfo){s+=a.userInfo+'@';}if(a.host){s+=a.host;}if(a.port){s+=':'+a.port;}}if(a.path){s+=a.path;}if(a.query){s+='?'+a.query;}if(a.anchor){s+='#'+a.anchor;}a.source=s;}return a.source;}};ZA.parseDataUri=function(u){var D6,e3;u=decodeURIComponent(u).split(',');e3=/data:([^;]+)/.exec(u[0]);if(e3){D6=e3[1];}return{type:D6,data:u[1]};};ZA.getDocumentBaseUrl=function(l){var b;if(l.protocol.indexOf('http')!==0&&l.protocol!=='file:'){b=l.href;}else{b=l.protocol+'//'+l.host+l.pathname;}if(/^[^:]+:\/\/\/?[^\/]+\//.test(b)){b=b.replace(/[\?#].*$/,'').replace(/[\/\\][^\/]+$/,'');if(!/[\/\\]$/.test(b)){b+='/';}}return b;};var $A='html';var _A=function(a,h){var b=ge.getForcedRootBlock(a);var c=new RegExp('^(<'+b+'[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/'+b+'>[\r\n]*|<br \\/>[\r\n]*)$');return h.replace(c,'');};var aB=function(a,b,f7){var c;b.format=b.format?b.format:$A;b.get=true;b.getInner=true;if(!b.no_events){a.fire('BeforeGetContent',b);}if(b.format==='raw'){c=E4.trim(Qs.trimExternal(a.serializer,f7.innerHTML));}else if(b.format==='text'){c=Ma.trim(f7.innerText||f7.textContent);}else if(b.format==='tree'){return a.serializer.serialize(f7,b);}else{c=_A(a,a.serializer.serialize(f7,b));}if(b.format!=='text'&&!q9(A6.fromDom(f7))){b.content=E4.trim(c);}else{b.content=c;}if(!b.no_events){a.fire('GetContent',b);}return b.content;};var bB=function(a,b){if(b===void 0){b={};}return S.from(a.getBody()).fold(L.constant(b.format==='tree'?new pw('body',11):''),function(f7){return aB(a,b,f7);});};var cB=function(N7,f){f(N7);if(N7.firstChild){cB(N7.firstChild,f);}if(N7.next){cB(N7.next,f);}};var dB=function(n,a,N7){var b={};var c={};var e3=[];if(N7.firstChild){cB(N7.firstChild,function(N7){H1.each(n,function(j1){if(j1.name===N7.name){if(b[j1.name]){b[j1.name].nodes.push(N7);}else{b[j1.name]={filter:j1,nodes:[N7]};}}});H1.each(a,function(j1){if(typeof N7.attr(j1.name)==='string'){if(c[j1.name]){c[j1.name].nodes.push(N7);}else{c[j1.name]={filter:j1,nodes:[N7]};}}});});}for(var d in b){if(b.hasOwnProperty(d)){e3.push(b[d]);}}for(var f in c){if(c.hasOwnProperty(f)){e3.push(c[f]);}}return e3;};var eB=function(n,a,N7){var e3=dB(n,a,N7);H1.each(e3,function(fu){H1.each(fu.filter.callbacks,function(c){c(fu.nodes,fu.filter.name,{});});});};var fB='html';var gB=function(c){return c instanceof pw;};var hB=function(a){if(Vp.hasFocus(a)){Pc.firstPositionIn(a.getBody()).each(function(p){var N7=p.getNode();var c=I9.isTable(N7)?Pc.firstPositionIn(N7).getOr(p):p;a.selection.setRng(c.toRange());});}};var iB=function(a,h){a.dom.setHTML(a.getBody(),h);hB(a);};var jB=function(a,f7,c,b){var f,p;if(c.length===0||/^\s+$/.test(c)){p='<br data-mce-bogus="1">';if(f7.nodeName==='TABLE'){c='<tr><td>'+p+'</td></tr>';}else if(/^(UL|OL)$/.test(f7.nodeName)){c='<li>'+p+'</li>';}f=ge.getForcedRootBlock(a);if(f&&a.schema.isValidChild(f7.nodeName.toLowerCase(),f.toLowerCase())){c=p;c=a.dom.createHTML(f,a.settings.forced_root_block_attrs,c);}else if(!c){c='<br data-mce-bogus="1">';}iB(a,c);a.fire('SetContent',b);}else{if(b.format!=='raw'){c=Dh({validate:a.validate},a.schema).serialize(a.parser.parse(c,{isRootContent:true,insert:true}));}b.content=q9(A6.fromDom(f7))?c:E4.trim(c);iB(a,b.content);if(!b.no_events){a.fire('SetContent',b);}}return b.content;};var kB=function(a,f7,c,b){eB(a.parser.getNodeFilters(),a.parser.getAttributeFilters(),c);var h=Dh({validate:a.validate},a.schema).serialize(c);b.content=q9(A6.fromDom(f7))?h:E4.trim(h);iB(a,b.content);if(!b.no_events){a.fire('SetContent',b);}return c;};var lB=function(a,c,b){if(b===void 0){b={};}b.format=b.format?b.format:fB;b.set=true;b.content=gB(c)?'':c;if(!gB(c)&&!b.no_events){a.fire('BeforeSetContent',b);c=b.content;}return S.from(a.getBody()).fold(L.constant(c),function(f7){return gB(c)?kB(a,f7,c,b):jB(a,f7,c,b);});};var mB=Ba.DOM;var nB=function(a){mB.setStyle(a.id,'display',a.orgDisplay);};var oB=function(x){return S.from(x).each(function(x){return x.destroy();});};var pB=function(a){a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null;a.bodyElement=a.contentDocument=a.contentWindow=null;a.iframeElement=a.targetElm=null;if(a.selection){a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null;}};var qB=function(a){var f=a.formElement;if(f){if(f._mceOldSubmit){f.submit=f._mceOldSubmit;f._mceOldSubmit=null;}mB.unbind(f,'submit reset',a.formEventDelegate);}};var rB=function(a){if(!a.removed){var _=a._selectionOverrides,b=a.editorUpload;var f7=a.getBody();var c=a.getElement();if(f7){a.save();}a.removed=true;a.unbindAllNativeEvents();if(a.hasHiddenInput&&c){mB.remove(c.nextSibling);}if(!a.inline&&f7){nB(a);}$o.fireRemove(a);a.editorManager.remove(a);mB.remove(a.getContainer());oB(_);oB(b);a.destroy();}};var sB=function(a,b){var s=a.selection,Jv=a.dom;if(a.destroyed){return;}if(!b&&!a.removed){a.remove();return;}if(!b){a.editorManager.off('beforeunload',a._beforeUnload);if(a.theme&&a.theme.destroy){a.theme.destroy();}oB(s);oB(Jv);}qB(a);pB(a);a.destroyed=true;};var tB=Ba.DOM;var uB=E4.extend;var vB=E4.each;var wB=E4.resolve;var xB=q2.ie;var yB=function(a,s,b){var c=this;var d=c.documentBaseUrl=b.documentBaseURL;var f=b.baseURI;s=ti(c,a,d,b.defaultSettings,s);c.settings=s;Ia.language=s.language||'en';Ia.languageLoad=s.language_load;Ia.baseURL=b.baseURL;c.id=a;c.setDirty(false);c.plugins={};c.documentBaseURI=new ZA(s.document_base_url,{base_uri:f});c.baseURI=f;c.contentCSS=[];c.contentStyles=[];c.shortcuts=new up(c);c.loadedCSS={};c.editorCommands=new xo(c);c.suffix=b.suffix;c.editorManager=b;c.inline=s.inline;c.buttons={};c.menuItems={};if(s.cache_suffix){q2.cacheSuffix=s.cache_suffix.replace(/^[\?\&]+/,'');}if(s.override_viewport===false){q2.overrideViewPort=false;}b.fire('SetupEditor',{editor:c});c.execCallback('setup',c);c.$=Y4.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()};});};yB.prototype={render:function(){SA.render(this);},focus:function(s){Vp.focus(this,s);},hasFocus:function(){return Vp.hasFocus(this);},execCallback:function(n){var x=[];for(var _=1;_<arguments.length;_++){x[_-1]=arguments[_];}var s=this;var c=s.settings[n],a;if(!c){return;}if(s.callbackLookup&&(a=s.callbackLookup[n])){c=a.func;a=a.scope;}if(typeof c==='string'){a=c.replace(/\.\w+$/,'');a=a?wB(a):0;c=wB(c);s.callbackLookup=s.callbackLookup||{};s.callbackLookup[n]={func:c,scope:a};}return c.apply(a||s,Array.prototype.slice.call(arguments,1));},translate:function(t){if(t&&E4.is(t,'string')){var l=this.settings.language||'en',c=this.editorManager.i18n;t=c.data[l+'.'+t]||t.replace(/\{\#([^\}]+)\}/g,function(a,b){return c.data[l+'.'+b]||'{#'+b+'}';});}return this.editorManager.translate(t);},getLang:function(n,d){return this.editorManager.i18n.data[(this.settings.language||'en')+'.'+n]||(d!==undefined?d:'{#'+n+'}');},getParam:function(n,d,D6){return zi(this,n,d,D6);},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a);},addButton:function(n,s){var a=this;if(s.cmd){s.onclick=function(){a.execCommand(s.cmd);};}if(s.stateSelector&&typeof s.active==='undefined'){s.active=false;}if(!s.text&&!s.icon){s.icon=n;}a.buttons=a.buttons;s.tooltip=s.tooltip||s.title;a.buttons[n]=s;},addSidebar:function(n,s){return UA.add(this,n,s);},addMenuItem:function(n,s){var a=this;if(s.cmd){s.onclick=function(){a.execCommand(s.cmd);};}a.menuItems=a.menuItems;a.menuItems[n]=s;},addContextToolbar:function(p,a){var s=this;var b;s.contextToolbars=s.contextToolbars||[];if(typeof p==='string'){b=p;p=function(c){return s.dom.is(c,b);};}s.contextToolbars.push({id:Tq.uuid('mcet'),predicate:p,items:a});},addCommand:function(n,c,s){this.editorCommands.addCommand(n,c,s);},addQueryStateHandler:function(n,c,s){this.editorCommands.addQueryStateHandler(n,c,s);},addQueryValueHandler:function(n,c,s){this.editorCommands.addQueryValueHandler(n,c,s);},addShortcut:function(p,d,c,s){this.shortcuts.add(p,d,c,s);},execCommand:function(c,u,E6,a){return this.editorCommands.execCommand(c,u,E6,a);},queryCommandState:function(c){return this.editorCommands.queryCommandState(c);},queryCommandValue:function(c){return this.editorCommands.queryCommandValue(c);},queryCommandSupported:function(c){return this.editorCommands.queryCommandSupported(c);},show:function(){var s=this;if(s.hidden){s.hidden=false;if(s.inline){s.getBody().contentEditable=true;}else{tB.show(s.getContainer());tB.hide(s.id);}s.load();s.fire('show');}},hide:function(){var s=this,F4=s.getDoc();if(!s.hidden){if(xB&&F4&&!s.inline){F4.execCommand('SelectAll');}s.save();if(s.inline){s.getBody().contentEditable=false;if(s===s.editorManager.focusedEditor){s.editorManager.focusedEditor=null;}}else{tB.hide(s.getContainer());tB.setStyle(s.id,'display',s.orgDisplay);}s.hidden=true;s.fire('hide');}},isHidden:function(){return!!this.hidden;},setProgressState:function(s,t){this.fire('ProgressState',{state:s,time:t});},load:function(a){var s=this;var b=s.getElement(),h;if(s.removed){return'';}if(b){a=a||{};a.load=true;h=s.setContent(b.value!==undefined?b.value:b.innerHTML,a);a.element=b;if(!a.no_events){s.fire('LoadContent',a);}a.element=b=null;return h;}},save:function(a){var s=this;var b=s.getElement(),h,f;if(!b||!s.initialized||s.removed){return;}a=a||{};a.save=true;a.element=b;h=a.content=s.getContent(a);if(!a.no_events){s.fire('SaveContent',a);}if(a.format==='raw'){s.fire('RawSaveContent',a);}h=a.content;if(!/TEXTAREA|INPUT/i.test(b.nodeName)){if(!s.inline){b.innerHTML=h;}if(f=tB.getParent(s.id,'form')){vB(f.elements,function(b){if(b.name===s.id){b.value=h;return false;}});}}else{b.value=h;}a.element=b=null;if(a.set_dirty!==false){s.setDirty(false);}return h;},setContent:function(c,a){return lB(this,c,a);},getContent:function(a){return bB(this,a);},insertContent:function(c,a){if(a){c=uB({content:c},a);}this.execCommand('mceInsertContent',false,c);},isDirty:function(){return!this.isNotDirty;},setDirty:function(s){var o=!this.isNotDirty;this.isNotDirty=!s;if(s&&s!==o){this.fire('dirty');}},setMode:function(m){ep(this,m);},getContainer:function(){var s=this;if(!s.container){s.container=tB.get(s.editorContainer||s.id+'_parent');}return s.container;},getContentAreaContainer:function(){return this.contentAreaContainer;},getElement:function(){if(!this.targetElm){this.targetElm=tB.get(this.id);}return this.targetElm;},getWin:function(){var s=this;var a;if(!s.contentWindow){a=s.iframeElement;if(a){s.contentWindow=a.contentWindow;}}return s.contentWindow;},getDoc:function(){var s=this;var w;if(!s.contentDocument){w=s.getWin();if(w){s.contentDocument=w.document;}}return s.contentDocument;},getBody:function(){var F4=this.getDoc();return this.bodyElement||(F4?F4.body:null);},convertURL:function(S1,n,a){var s=this,b=s.settings;if(b.urlconverter_callback){return s.execCallback('urlconverter_callback',S1,a,true,n);}if(!b.convert_urls||a&&a.nodeName==='LINK'||S1.indexOf('file:')===0||S1.length===0){return S1;}if(b.relative_urls){return s.documentBaseURI.toRelative(S1);}S1=s.documentBaseURI.toAbsolute(S1,b.remove_script_host);return S1;},addVisual:function(a){var s=this;var b=s.settings;var Jv=s.dom;var c;a=a||s.getBody();if(s.hasVisual===undefined){s.hasVisual=b.visual;}vB(Jv.select('table,a',a),function(a){var E6;switch(a.nodeName){case'TABLE':c=b.visual_table_class||'mce-item-table';E6=Jv.getAttrib(a,'border');if((!E6||E6==='0')&&s.hasVisual){Jv.addClass(a,c);}else{Jv.removeClass(a,c);}return;case'A':if(!Jv.getAttrib(a,'href')){E6=Jv.getAttrib(a,'name')||a.id;c=b.visual_anchor_class||'mce-item-anchor';if(E6&&s.hasVisual){Jv.addClass(a,c);}else{Jv.removeClass(a,c);}}return;}});s.fire('VisualAid',{element:a,hasVisual:s.hasVisual});},remove:function(){rB(this);},destroy:function(a){sB(this,a);},uploadImages:function(c){return this.editorUpload.uploadImages(c);},_scanForImages:function(){return this.editorUpload.scanForImages();}};uB(yB.prototype,op);var zB=function(a){return a.className.toString().indexOf('mce-')!==-1;};var AB={isEditorUIElement:zB};var BB=function(e){return e.type==='nodechange'&&e.selectionChange;};var CB=function(a,t){var m=function(){t.throttle();};Ba.DOM.bind(document,'mouseup',m);a.on('remove',function(){Ba.DOM.unbind(document,'mouseup',m);});};var DB=function(a){a.on('focusout',function(){oo.store(a);});};var EB=function(a,t){a.on('mouseup touchend',function(e){t.throttle();});};var FB=function(a,t){var c8=u6.detect().browser;if(c8.isIE()){DB(a);}else{EB(a,t);}a.on('keyup nodechange',function(e){if(!BB(e)){oo.store(a);}});};var GB=function(a){var t=ws.first(function(){oo.store(a);},0);if(a.inline){CB(a,t);}a.on('init',function(){FB(a,t);});a.on('remove',function(){t.cancel();});};var HB={register:GB};var IB;var JB=Ba.DOM;var KB=function(a){return AB.isEditorUIElement(a);};var LB=function(a,b){var c=a?a.settings.custom_ui_selector:'';var i8=JB.getParent(b,function(b){return KB(b)||(c?a.dom.is(b,c):false);});return i8!==null;};var MB=function(){try{return document.activeElement;}catch(a){return document.body;}};var NB=function(a,e){var b=e.editor;HB.register(b);b.on('focusin',function(){var s=this;var f=a.focusedEditor;if(f!==s){if(f){f.fire('blur',{focusedEditor:s});}a.setActive(s);a.focusedEditor=s;s.fire('focus',{blurredEditor:f});s.focus(true);}});b.on('focusout',function(){var s=this;C2.setEditorTimeout(s,function(){var f=a.focusedEditor;if(!LB(s,MB())&&f===s){s.fire('blur',{focusedEditor:null});a.focusedEditor=null;}});});if(!IB){IB=function(e){var c=a.activeEditor;var t;t=e.target;if(c&&t.ownerDocument===document){if(t!==document.body&&!LB(c,t)&&a.focusedEditor===c){c.fire('blur',{focusedEditor:null});a.focusedEditor=null;}}};JB.bind(document,'focusin',IB);}};var OB=function(a,e){if(a.focusedEditor===e.editor){a.focusedEditor=null;}if(!a.activeEditor){JB.unbind(document,'focusin',IB);IB=null;}};var PB=function(a){a.on('AddEditor',L.curry(NB,a));a.on('RemoveEditor',L.curry(OB,a));};var QB={setup:PB,isEditorUIElement:KB,isUIElement:LB};var RB={};var SB='en';var TB={setCode:function(n){if(n){SB=n;this.rtl=this.data[n]?this.data[n]._dir==='rtl':false;}},getCode:function(){return SB;},rtl:false,add:function(SB,a){var l=RB[SB];if(!l){RB[SB]=l={};}for(var n in a){l[n]=a[n];}this.setCode(SB);},translate:function(t){var l=RB[SB]||{};var a=function(o){if(E4.is(o,'function')){return Object.prototype.toString.call(o);}return!Og(o)?''+o:'';};var Og=function(t){return t===''||t===null||E4.is(t,'undefined');};var g=function(t){t=a(t);return E4.hasOwn(l,t)?a(l[t]):t;};if(Og(t)){return'';}if(E4.is(t,'object')&&E4.hasOwn(t,'raw')){return a(t.raw);}if(E4.is(t,'array')){var v=t.slice(1);t=g(t[0]).replace(/\{([0-9]+)\}/g,function($,b){return E4.hasOwn(v,b)?a(v[b]):$;});}return g(t).replace(/{context:\w+}$/,'');},data:RB};var UB=Ba.DOM;var VB=E4.explode;var WB=E4.each;var XB=E4.extend;var YB=0;var ZB;var $B;var _B=false;var aC=[];var bC=[];var cC=function(a){return a!=='length';};var dC=function(e){WB($B.get(),function(a){if(e.type==='scroll'){a.fire('ScrollWindow',e);}else{a.fire('ResizeWindow',e);}});};var eC=function(s){if(s!==_B){if(s){Y4(window).on('resize scroll',dC);}else{Y4(window).off('resize scroll',dC);}_B=s;}};var fC=function(t){var o=bC;delete aC[t.id];for(var i=0;i<aC.length;i++){if(aC[i]===t){aC.splice(i,1);break;}}bC=H1.filter(bC,function(a){return t!==a;});if($B.activeEditor===t){$B.activeEditor=bC.length>0?bC[0]:null;}if($B.focusedEditor===t){$B.focusedEditor=null;}return o.length!==bC.length;};var gC=function(a){if(a&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode){fC(a);a.unbindAllNativeEvents();a.destroy(true);a.removed=true;a=null;}return a;};$B={defaultSettings:{},$:Y4,majorVersion:'4',minorVersion:'7.13',releaseDate:'2018-05-16',editors:aC,i18n:TB,activeEditor:null,settings:{},setup:function(){var s=this;var b,d,a='',p,c;d=ZA.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(d)){d=d.replace(/[\?#].*$/,'').replace(/[\/\\][^\/]+$/,'');if(!/[\/\\]$/.test(d)){d+='/';}}p=window.tinymce||window.tinyMCEPreInit;if(p){b=p.base||p.baseURL;a=p.suffix;}else{var f=document.getElementsByTagName('script');for(var i=0;i<f.length;i++){c=f[i].src;var g=c.substring(c.lastIndexOf('/'));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)){if(g.indexOf('.min')!==-1){a='.min';}b=c.substring(0,c.lastIndexOf('/'));break;}}if(!b&&document.currentScript){c=document.currentScript.src;if(c.indexOf('.min')!==-1){a='.min';}b=c.substring(0,c.lastIndexOf('/'));}}s.baseURL=new ZA(d).toAbsolute(b);s.documentBaseURL=d;s.baseURI=new ZA(s.baseURL);s.suffix=a;QB.setup(s);},overrideDefaults:function(d){var b,s;b=d.base_url;if(b){this.baseURL=new ZA(this.documentBaseURL).toAbsolute(b.replace(/\/+$/,''));this.baseURI=new ZA(this.baseURL);}s=d.suffix;if(d.suffix){this.suffix=s;}this.defaultSettings=d;var p=d.plugin_base_urls;for(var n in p){Ia.PluginManager.urls[n]=p[n];}},init:function(s){var a=this;var r,b;b=E4.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track '+'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu',' ');var c=function(s,f){return s.inline&&f.tagName.toLowerCase()in b;};var d=function(f){var k=f.id;if(!k){k=f.name;if(k&&!UB.get(k)){k=f.name;}else{k=UB.uniqueId();}f.setAttribute('id',k);}return k;};var g=function(n){var f=s[n];if(!f){return;}return f.apply(a,Array.prototype.slice.call(arguments,2));};var Q4=function(f,k){return k.constructor===RegExp?k.test(f.className):UB.hasClass(f,k);};var h=function(s){var l,t=[];if(q2.ie&&q2.ie<11){uq.initError('TinyMCE does not support the browser you are using. For a list of supported'+' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');return[];}if(s.types){WB(s.types,function(D6){t=t.concat(UB.select(D6.selector));});return t;}else if(s.selector){return UB.select(s.selector);}else if(s.target){return[s.target];}switch(s.mode){case'exact':l=s.elements||'';if(l.length>0){WB(VB(l),function(k){var m;if(m=UB.get(k)){t.push(m);}else{WB(document.forms,function(f){WB(f.elements,function(e){if(e.name===k){k='mce_editor_'+YB++;UB.setAttrib(e,'id',k);t.push(e);}});});}});}break;case'textareas':case'specific_textareas':WB(UB.select('textarea'),function(f){if(s.editor_deselector&&Q4(f,s.editor_deselector)){return;}if(!s.editor_selector||Q4(f,s.editor_selector)){t.push(f);}});break;}return t;};var p=function(bC){r=bC;};var j=function(){var f=0;var bC=[];var t;var k=function(l,s,m){var n=new yB(l,s,a);bC.push(n);n.on('init',function(){if(++f===t.length){p(bC);}});n.targetElm=n.targetElm||m;n.render();};UB.unbind(window,'ready',j);g('onpageload');t=Y4.unique(h(s));if(s.types){WB(s.types,function(D6){E4.each(t,function(l){if(UB.is(l,D6.selector)){k(d(l),XB({},s,D6),l);return false;}return true;});});return;}E4.each(t,function(l){gC(a.get(l.id));});t=E4.grep(t,function(l){return!a.get(l.id);});if(t.length===0){p([]);}else{WB(t,function(l){if(c(s,l)){uq.initError('Could not initialize inline editor on invalid inline target element',l);}else{k(d(l),s,l);}});}};a.settings=s;UB.bind(window,'ready',j);return new s2(function(K1){if(r){K1(r);}else{p=function(bC){K1(bC);};}});},get:function(a){if(arguments.length===0){return bC.slice(0);}else if(V.isString(a)){return H1.find(bC,function(b){return b.id===a;}).getOr(null);}else if(V.isNumber(a)){return bC[a]?bC[a]:null;}else{return null;}},add:function(a){var s=this;var b;b=aC[a.id];if(b===a){return a;}if(s.get(a.id)===null){if(cC(a.id)){aC[a.id]=a;}aC.push(a);bC.push(a);}eC(true);s.activeEditor=a;s.fire('AddEditor',{editor:a});if(!ZB){ZB=function(){s.fire('BeforeUnload');};UB.bind(window,'beforeunload',ZB);}return a;},createEditor:function(a,s){return this.add(new yB(a,s,this));},remove:function(s){var a=this;var i,b;if(!s){for(i=bC.length-1;i>=0;i--){a.remove(bC[i]);}return;}if(V.isString(s)){s=s.selector||s;WB(UB.select(s),function(c){b=a.get(c.id);if(b){a.remove(b);}});return;}b=s;if(V.isNull(a.get(b.id))){return null;}if(fC(b)){a.fire('RemoveEditor',{editor:b});}if(bC.length===0){UB.unbind(window,'beforeunload',ZB);}b.remove();eC(bC.length>0);return b;},execCommand:function(c,u,E6){var s=this,a=s.get(E6);switch(c){case'mceAddEditor':if(!s.get(E6)){new yB(E6,s.settings,s).render();}return true;case'mceRemoveEditor':if(a){a.remove();}return true;case'mceToggleEditor':if(!a){s.execCommand('mceAddEditor',0,E6);return true;}if(a.isHidden()){a.show();}else{a.hide();}return true;}if(s.activeEditor){return s.activeEditor.execCommand(c,u,E6);}return false;},triggerSave:function(){WB(bC,function(a){a.save();});},addI18n:function(SB,a){TB.add(SB,a);},translate:function(t){return TB.translate(t);},setActive:function(a){var b=this.activeEditor;if(this.activeEditor!==a){if(b){b.fire('deactivate',{relatedTarget:a});}a.fire('activate',{relatedTarget:b});}this.activeEditor=a;}};XB($B,Bo);$B.setup();var hC=$B;function iC(Jv){var z4=function(r,c){return Ru.walk(Jv,r,c);};var la=lu.split;var Gh=function(r){return An.normalize(Jv,r).fold(L.constant(false),function(n){r.setStart(n.startContainer,n.startOffset);r.setEnd(n.endContainer,n.endOffset);return true;});};return{walk:z4,split:la,normalize:Gh};}(function(iC){iC.compareRanges=mn.isEq;iC.getCaretRangeFromPoint=Vw.fromPoint;iC.getSelectedNode=Eb;iC.getNode=Fb;}(iC||(iC={})));var jC=iC;var kC=Math.min;var lC=Math.max;var mC=Math.round;var nC=function(r,t,a){var x,y,w,h,b,c;x=t.x;y=t.y;w=r.w;h=r.h;b=t.w;c=t.h;a=(a||'').split('');if(a[0]==='b'){y+=c;}if(a[1]==='r'){x+=b;}if(a[0]==='c'){y+=mC(c/2);}if(a[1]==='c'){x+=mC(b/2);}if(a[3]==='b'){y-=h;}if(a[4]==='r'){x-=w;}if(a[3]==='c'){y-=mC(h/2);}if(a[4]==='c'){x-=mC(w/2);}return sC(x,y,w,h);};var oC=function(r,t,c,a){var p,i;for(i=0;i<a.length;i++){p=nC(r,t,a[i]);if(p.x>=c.x&&p.x+p.w<=c.w+c.x&&p.y>=c.y&&p.y+p.h<=c.h+c.y){return a[i];}}return null;};var pC=function(r,w,h){return sC(r.x-w,r.y-h,r.w+w*2,r.h+h*2);};var qC=function(r,c){var x,y,a,b;x=lC(r.x,c.x);y=lC(r.y,c.y);a=kC(r.x+r.w,c.x+c.w);b=kC(r.y+r.h,c.y+c.h);if(a-x<0||b-y<0){return null;}return sC(x,y,a-x,b-y);};var rC=function(r,c,f){var u,a,o,b,x,y,d,g,h,j;x=r.x;y=r.y;d=r.x+r.w;g=r.y+r.h;h=c.x+c.w;j=c.y+c.h;u=lC(0,c.x-x);a=lC(0,c.y-y);o=lC(0,d-h);b=lC(0,g-j);x+=u;y+=a;if(f){d+=u;g+=a;x-=o;y-=b;}d-=o;g-=b;return sC(x,y,d-x,g-y);};var sC=function(x,y,w,h){return{x:x,y:y,w:w,h:h};};var tC=function(c){return sC(c.left,c.top,c.width,c.height);};var uC={inflate:pC,relativePosition:nC,findBestRelativePosition:oC,intersect:qC,clamp:rC,create:sC,fromClientRect:tC};var vC={};var wC={add:function(D6,t){vC[D6.toLowerCase()]=t;},has:function(D6){return!!vC[D6.toLowerCase()];},get:function(D6){var l=D6.toLowerCase();var c=vC.hasOwnProperty(l)?vC[l]:null;if(c===null){throw new Error('Could not find module for type: '+D6);}return c;},create:function(D6,s){var a;if(typeof D6==='string'){s=s||{};s.type=D6;}else{s=D6;D6=s.type;}D6=D6.toLowerCase();a=vC[D6];if(!a){throw new Error('Could not find control by type: '+D6);}a=new a(s);a.type=D6;return a;}};var xC=E4.each;var yC=E4.extend;var zC;var AC;var BC=function(){};BC.extend=zC=function(p){var s=this;var _=s.prototype;var a,n,_7;var b=function(){var i,m,f;var s=this;if(!AC){if(s.init){s.init.apply(s,arguments);}m=s.Mixins;if(m){i=m.length;while(i--){f=m[i];if(f.init){f.init.apply(s,arguments);}}}}};var d=function(){return this;};var c=function(n,f){return function(){var s=this;var t=s._super;var r;s._super=_[n];r=f.apply(s,arguments);s._super=t;return r;};};AC=true;a=new s();AC=false;if(p.Mixins){xC(p.Mixins,function(m){for(var f in m){if(f!=='init'){p[f]=m[f];}}});if(_.Mixins){p.Mixins=_.Mixins.concat(p.Mixins);}}if(p.Methods){xC(p.Methods.split(','),function(n){p[n]=d;});}if(p.Properties){xC(p.Properties.split(','),function(n){var f='_'+n;p[n]=function(E6){var s=this;if(E6!==undefined){s[f]=E6;return s;}return s[f];};});}if(p.Statics){xC(p.Statics,function(f,n){b[n]=f;});}if(p.Defaults&&_.Defaults){p.Defaults=yC({},_.Defaults,p.Defaults);}for(n in p){_7=p[n];if(typeof _7==='function'&&_[n]){a[n]=c(n,_7);}else{a[n]=_7;}}b.prototype=a;b.constructor=b;b.extend=zC;return b;};var CC=Math.min;var DC=Math.max;var EC=Math.round;var FC=function(E6){var a={};var r=0,g=0,b=0;var c=function(r,g,b){var h,s,v,d,m,k;h=0;s=0;v=0;r=r/255;g=g/255;b=b/255;m=CC(r,CC(g,b));k=DC(r,DC(g,b));if(m===k){v=m;return{h:0,s:0,v:v*100};}d=r===m?g-b:b===m?r-g:b-r;h=r===m?3:b===m?1:5;h=60*(h-d/(k-m));s=(k-m)/k;v=k;return{h:EC(h),s:EC(s*100),v:EC(v*100)};};var f=function(h,s,d){var k,l,x,fu;h=(parseInt(h,10)||0)%360;s=parseInt(s,10)/100;d=parseInt(d,10)/100;s=DC(0,CC(s,1));d=DC(0,CC(d,1));if(s===0){r=g=b=EC(255*d);return;}k=h/60;l=d*s;x=l*(1-Math.abs(k%2-1));fu=d-l;switch(Math.floor(k)){case 0:r=l;g=x;b=0;break;case 1:r=x;g=l;b=0;break;case 2:r=0;g=l;b=x;break;case 3:r=0;g=x;b=l;break;case 4:r=x;g=0;b=l;break;case 5:r=l;g=0;b=x;break;default:r=g=b=0;}r=EC(255*(r+fu));g=EC(255*(g+fu));b=EC(255*(b+fu));};var qa=function(){var h=function(v){v=parseInt(v,10).toString(16);return v.length>1?v:'0'+v;};return'#'+h(r)+h(g)+h(b);};var t=function(){return{r:r,g:g,b:b};};var j=function(){return c(r,g,b);};var p=function(E6){var e3;if(typeof E6==='object'){if('r'in E6){r=E6.r;g=E6.g;b=E6.b;}else if('v'in E6){f(E6.h,E6.s,E6.v);}}else{if(e3=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(E6)){r=parseInt(e3[1],10);g=parseInt(e3[2],10);b=parseInt(e3[3],10);}else if(e3=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(E6)){r=parseInt(e3[1],16);g=parseInt(e3[2],16);b=parseInt(e3[3],16);}else if(e3=/#([0-F])([0-F])([0-F])/gi.exec(E6)){r=parseInt(e3[1]+e3[1],16);g=parseInt(e3[2]+e3[2],16);b=parseInt(e3[3]+e3[3],16);}}r=r<0?0:r>255?255:r;g=g<0?0:g>255?255:g;b=b<0?0:b>255?255:b;return a;};if(E6){p(E6);}a.toRgb=t;a.toHsv=j;a.toHex=qa;a.parse=p;return a;};var GC=function(o,c){var i,v,t,n;c=c||'"';if(o===null){return'null';}t=typeof o;if(t==='string'){v='\bb\tt\nn\ff\rr""\'\'\\\\';return c+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){if(c==='"'&&a==='\''){return a;}i=v.indexOf(b);if(i+1){return'\\'+v.charAt(i+1);}a=b.charCodeAt().toString(16);return'\\u'+'0000'.substring(a.length)+a;})+c;}if(t==='object'){if(o.hasOwnProperty&&Object.prototype.toString.call(o)==='[object Array]'){for(i=0,v='[';i<o.length;i++){v+=(i>0?',':'')+GC(o[i],c);}return v+']';}v='{';for(n in o){if(o.hasOwnProperty(n)){v+=typeof o[n]!=='function'?(v.length>1?','+c:c)+n+c+':'+GC(o[n],c):'';}}return v+'}';}return''+o;};var HC={serialize:GC,parse:function(t){try{return JSON.parse(t);}catch(a){}}};var IC={callbacks:{},count:0,send:function(s){var a=this,Jv=Ba.DOM,Lq=s.count!==undefined?s.count:a.count;var b='tinymce_jsonp_'+Lq;a.callbacks[Lq]=function(j){Jv.remove(b);delete a.callbacks[Lq];s.callback(j);};Jv.add(Jv.doc.body,'script',{id:b,src:s.url,type:'text/javascript'});a.count++;}};var JC={send:function(s){var x,Lq=0;var r=function(){if(!s.async||x.readyState===4||Lq++>10000){if(s.success&&Lq<10000&&x.status===200){s.success.call(s.success_scope,''+x.responseText,x,s);}else if(s.error){s.error.call(s.error_scope,Lq>10000?'TIMED_OUT':'GENERAL',x,s);}x=null;}else{setTimeout(r,10);}};s.scope=s.scope||this;s.success_scope=s.success_scope||s.scope;s.error_scope=s.error_scope||s.scope;s.async=s.async===false?false:true;s.data=s.data||'';JC.fire('beforeInitialize',{settings:s});x=new xq();if(x){if(x.overrideMimeType){x.overrideMimeType(s.content_type);}x.open(s.type||(s.data?'POST':'GET'),s.url,s.async);if(s.crossDomain){x.withCredentials=true;}if(s.content_type){x.setRequestHeader('Content-Type',s.content_type);}if(s.requestheaders){E4.each(s.requestheaders,function(h){x.setRequestHeader(h.key,h.value);});}x.setRequestHeader('X-Requested-With','XMLHttpRequest');x=JC.fire('beforeSend',{xhr:x,settings:s}).xhr;x.send(s.data);if(!s.async){return r();}setTimeout(r,10);}}};E4.extend(JC,Bo);var KC=E4.extend;var LC=function(s){this.settings=KC({},s);this.count=0;};LC.sendRPC=function(o){return new LC().send(o);};LC.prototype={send:function(a){var b=a.error,s=a.success;a=KC(this.settings,a);a.success=function(c,x){c=HC.parse(c);if(typeof c==='undefined'){c={error:'JSON Parse error.'};}if(c.error){b.call(a.error_scope||a.scope,c.error,x);}else{s.call(a.success_scope||a.scope,c.result);}};a.error=function(t,x){if(b){b.call(a.error_scope||a.scope,t,x);}};a.data=HC.serialize({id:a.id||'c'+this.count++,method:a.method,params:a.params});a.content_type='application/json';JC.send(a);}};var MC=window.localStorage;var NC=hC;var OC={geom:{Rect:uC},util:{Promise:s2,Delay:C2,Tools:E4,VK:As,URI:ZA,Class:BC,EventDispatcher:zo,Observable:Bo,I18n:TB,XHR:JC,JSON:HC,JSONRequest:LC,JSONP:IC,LocalStorage:MC,Color:FC},dom:{EventUtils:O2,Sizzle:R3,DomQuery:Y4,TreeWalker:X8,DOMUtils:Ba,ScriptLoader:Ga,RangeUtils:jC,Serializer:Jw,ControlSelection:Pw,BookmarkManager:Lw,Selection:$x,Event:O2.Event},html:{Styles:ra,Entities:ca,Node:pw,Schema:oa,SaxParser:Ms,DomParser:Bw,Writer:Ch,Serializer:Dh},ui:{Factory:wC},Env:q2,AddOnManager:Ia,Formatter:Uv,UndoManager:yt,EditorCommands:xo,WindowManager:lq,NotificationManager:jq,EditorObservable:op,Shortcuts:up,Editor:yB,FocusManager:AB,EditorManager:hC,DOM:Ba.DOM,ScriptLoader:Ga.ScriptLoader,PluginManager:Ia.PluginManager,ThemeManager:Ia.ThemeManager,trim:E4.trim,isArray:E4.isArray,is:E4.is,toArray:E4.toArray,makeMap:E4.makeMap,each:E4.each,map:E4.map,grep:E4.grep,inArray:E4.inArray,extend:E4.extend,create:E4.create,walk:E4.walk,createNS:E4.createNS,resolve:E4.resolve,explode:E4.explode,_addCacheSuffix:E4._addCacheSuffix,isOpera:q2.opera,isWebKit:q2.webkit,isIE:q2.ie,isGecko:q2.gecko,isMac:q2.mac};NC=E4.extend(NC,OC);var PC=NC;var QC=function(NC){if(typeof module==='object'){try{module.exports=NC;}catch(_){}}};var RC=function(NC){window.tinymce=NC;window.tinyMCE=NC;};RC(PC);QC(PC);}());})();
