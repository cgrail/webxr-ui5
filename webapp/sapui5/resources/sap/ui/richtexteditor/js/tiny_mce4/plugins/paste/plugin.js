(function(){var c=(function(){'use strict';var C=function(i){var a=i;var d=function(){return a;};var b=function(v){a=v;};var e=function(){return C(d());};return{get:d,set:b,clone:e};};var g=tinymce.util.Tools.resolve('tinymce.PluginManager');var h=function(e){if(/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)&&g.get('powerpaste')){if(typeof window.console!=='undefined'&&window.console.log){window.console.log('PowerPaste is incompatible with Paste plugin! Remove \'paste\' from the \'plugins\' option.');}return true;}else{return false;}};var $={hasProPlugin:h};var d=function(a,b){return{clipboard:a,quirks:b};};var k={get:d};var l=function(e,a,i,b){return e.fire('PastePreProcess',{content:a,internal:i,wordContent:b});};var n=function(e,a,i,b){return e.fire('PastePostProcess',{node:a,internal:i,wordContent:b});};var o=function(e,a){return e.fire('PastePlainTextToggle',{state:a});};var q=function(e,i){return e.fire('paste',{ieFake:i});};var r={firePastePreProcess:l,firePastePostProcess:n,firePastePlainTextToggle:o,firePaste:q};var s=function(e){return e.getParam('paste_plaintext_inform',true);};var t=function(e){return e.getParam('paste_block_drop',false);};var u=function(e){return e.getParam('paste_data_images',false);};var w=function(e){return e.getParam('paste_filter_drop',true);};var y=function(e){return e.getParam('paste_preprocess');};var z=function(e){return e.getParam('paste_postprocess');};var A=function(e){return e.getParam('paste_webkit_styles');};var B=function(e){return e.getParam('paste_remove_styles_if_webkit',true);};var D=function(e){return e.getParam('paste_merge_formats',true);};var E=function(e){return e.getParam('smart_paste',true);};var F=function(e){return e.getParam('paste_as_text',false);};var G=function(e){return e.getParam('paste_retain_style_properties');};var H=function(e){var a='-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,'+'-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,'+'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';return e.getParam('paste_word_valid_elements',a);};var I=function(e){return e.getParam('paste_convert_word_fake_lists',true);};var J=function(e){return e.getParam('paste_enable_default_filters',true);};var K={shouldPlainTextInform:s,shouldBlockDrop:t,shouldPasteDataImages:u,shouldFilterDrop:w,getPreProcess:y,getPostProcess:z,getWebkitStyles:A,shouldRemoveWebKitStyles:B,shouldMergeFormats:D,isSmartPasteEnabled:E,isPasteAsTextEnabled:F,getRetainStyleProps:G,getWordValidElements:H,shouldConvertWordFakeLists:I,shouldUseDefaultFilters:J};var L=function(e,a){return a.get()===false&&K.shouldPlainTextInform(e);};var M=function(e,m){e.notificationManager.open({text:e.translate(m),type:'info'});};var N=function(e,a,b){if(a.pasteFormat.get()==='text'){a.pasteFormat.set('html');r.firePastePlainTextToggle(e,false);}else{a.pasteFormat.set('text');r.firePastePlainTextToggle(e,true);if(L(e,b)){M(e,'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');b.set(true);}}e.focus();};var O={togglePlainTextPaste:N};var P=function(e,a,b){e.addCommand('mceTogglePlainTextPaste',function(){O.togglePlainTextPaste(e,a,b);});e.addCommand('mceInsertClipboardContent',function(f,v){if(v.content){a.pasteHtml(v.content,v.internal);}if(v.text){a.pasteText(v.text);}});};var Q={register:P};var R=tinymce.util.Tools.resolve('tinymce.Env');var S=tinymce.util.Tools.resolve('tinymce.util.Delay');var T=tinymce.util.Tools.resolve('tinymce.util.Tools');var U=tinymce.util.Tools.resolve('tinymce.util.VK');var V='x-tinymce/html';var W='<!-- '+V+' -->';var X=function(a){return W+a;};var Y=function(a){return a.replace(W,'');};var Z=function(a){return a.indexOf(W)!==-1;};var _={mark:X,unmark:Y,isMarked:Z,internalHtmlMime:function(){return V;}};var a1=tinymce.util.Tools.resolve('tinymce.html.Entities');var b1=function(a){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a);};var c1=function(a){return a.replace(/\r?\n/g,'<br>');};var d1=function(a,b){var e;var f=[];var i='<'+a;if(typeof b==='object'){for(e in b){if(b.hasOwnProperty(e)){f.push(e+'="'+a1.encodeAllRaw(b[e])+'"');}}if(f.length){i+=' '+f.join(' ');}}return i+'>';};var e1=function(a,b,e){var f=a.split(/\n\n/);var i=d1(b,e);var j='</'+b+'>';var m=T.map(f,function(p){return p.split(/\n/).join('<br />');});var v=function(p){return i+p+j;};return m.length===1?m[0]:T.map(m,v).join('');};var f1=function(a,b,e){return b?e1(a,b,e):c1(a);};var g1={isPlainText:b1,convert:f1,toBRs:c1,toBlockElements:e1};var h1=tinymce.util.Tools.resolve('tinymce.html.DomParser');var i1=tinymce.util.Tools.resolve('tinymce.html.Node');var j1=tinymce.util.Tools.resolve('tinymce.html.Schema');var k1=tinymce.util.Tools.resolve('tinymce.html.Serializer');function l1(a,i){T.each(i,function(v){if(v.constructor===RegExp){a=a.replace(v,'');}else{a=a.replace(v[0],v[1]);}});return a;}function m1(a){var b=j1();var e=h1({},b);var f='';var i=b.getShortEndedElements();var j=T.makeMap('script noscript style textarea video audio iframe object',' ');var m=b.getBlockElements();function p(v){var x=v.name,s1=v;if(x==='br'){f+='\n';return;}if(i[x]){f+=' ';}if(j[x]){f+=' ';return;}if(v.type===3){f+=v.value;}if(!v.shortEnded){if(v=v.firstChild){do{p(v);}while(v=v.next);}}if(m[x]&&s1.next){f+='\n';if(x==='p'){f+='\n';}}}a=l1(a,[/<!\[[^\]]+\]>/g]);p(e.parse(a));return f;}function n1(a){function b(e,f,i){if(!f&&!i){return' ';}return'\xA0';}a=l1(a,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,b],/<br class="Apple-interchange-newline">/g,/<br>$/i]);return a;}function o1(p){var a=0;return function(){return p+a++;};}var p1=function(){return navigator.userAgent.indexOf(' Edge/')!==-1;};var q1={filter:l1,innerText:m1,trimHtml:n1,createIdGenerator:o1,isMsEdge:p1};function r1(a){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(a)||/class="OutlineElement/.test(a)||/id="?docs\-internal\-guid\-/.test(a);}function t1(a){var f,p;p=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];a=a.replace(/^[\u00a0 ]+/,'');T.each(p,function(b){if(b.test(a)){f=true;return false;}});return f;}function u1(a){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(a);}function v1(a){var b,p,e=1;function f(a){var j3='';if(a.type===3){return a.value;}if(a=a.firstChild){do{j3+=f(a);}while(a=a.next);}return j3;}function j(a,j3){if(a.type===3){if(j3.test(a.value)){a.value=a.value.replace(j3,'');return false;}}if(a=a.firstChild){do{if(!j(a,j3)){return false;}}while(a=a.next);}return true;}function m(a){if(a._listIgnore){a.remove();return;}if(a=a.firstChild){do{m(a);}while(a=a.next);}}function v(j3,k3,i3){var l3=j3._listLevel||e;if(l3!==e){if(l3<e){if(b){b=b.parent.parent;}}else{p=b;b=null;}}if(!b||b.name!==k3){p=p||b;b=new i1(k3,1);if(i3>1){b.attr('start',''+i3);}j3.wrap(b);}else{b.append(j3);}j3.name='li';if(l3>e&&p){p.lastChild.append(b);}e=l3;m(j3);j(j3,/^\u00a0+/);j(j3,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/);j(j3,/^\u00a0+/);}var x=[];var s1=a.firstChild;while(typeof s1!=='undefined'&&s1!==null){x.push(s1);s1=s1.walk();if(s1!==null){while(typeof s1!=='undefined'&&s1.parent!==a){s1=s1.walk();}}}for(var i=0;i<x.length;i++){a=x[i];if(a.name==='p'&&a.firstChild){var s2=f(a);if(u1(s2)){v(a,'ul');continue;}if(t1(s2)){var h3=/([0-9]+)\./.exec(s2);var i3=1;if(h3){i3=parseInt(h3[1],10);}v(a,'ol',i3);continue;}if(a._listLevel){v(a,'ul',1);continue;}b=null;}else{p=b;b=null;}}}function w1(e,v,a,b){var f={},m;var i=e.dom.parseStyle(b);T.each(i,function(j,p){switch(p){case'mso-list':m=/\w+ \w+([0-9]+)/i.exec(b);if(m){a._listLevel=parseInt(m[1],10);}if(/Ignore/i.test(j)&&a.firstChild){a._listIgnore=true;a.firstChild._listIgnore=true;}break;case'horiz-align':p='text-align';break;case'vert-align':p='vertical-align';break;case'font-color':case'mso-foreground':p='color';break;case'mso-background':case'mso-highlight':p='background';break;case'font-weight':case'font-style':if(j!=='normal'){f[p]=j;}return;case'mso-element':if(/^(comment|comment-list)$/i.test(j)){a.remove();return;}break;}if(p.indexOf('mso-comment')===0){a.remove();return;}if(p.indexOf('mso-')===0){return;}if(K.getRetainStyleProps(e)==='all'||v&&v[p]){f[p]=j;}});if(/(bold)/i.test(f['font-weight'])){delete f['font-weight'];a.wrap(new i1('b',1));}if(/(italic)/i.test(f['font-style'])){delete f['font-style'];a.wrap(new i1('i',1));}f=e.dom.serializeStyle(f,a.name);if(f){return f;}return null;}var x1=function(e,a){var b,v;b=K.getRetainStyleProps(e);if(b){v=T.makeMap(b.split(/[, ]/));}a=q1.filter(a,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,'<$1strike>'],[/&nbsp;/gi,'\xA0'],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(i,x){return x.length>0?x.replace(/./,' ').slice(Math.floor(x.length/2)).split('').join('\xA0'):'';}]]);var f=K.getWordValidElements(e);var j=j1({valid_elements:f,valid_children:'-li[p]'});T.each(j.elements,function(i){if(!i.attributes.class){i.attributes.class={};i.attributesOrder.push('class');}if(!i.attributes.style){i.attributes.style={};i.attributesOrder.push('style');}});var m=h1({},j);m.addAttributeFilter('style',function(x){var i=x.length,s1;while(i--){s1=x[i];s1.attr('style',w1(e,v,s1,s1.attr('style')));if(s1.name==='span'&&s1.parent&&!s1.attributes.length){s1.unwrap();}}});m.addAttributeFilter('class',function(x){var i=x.length,s1,s2;while(i--){s1=x[i];s2=s1.attr('class');if(/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(s2)){s1.remove();}s1.attr('class',null);}});m.addNodeFilter('del',function(x){var i=x.length;while(i--){x[i].remove();}});m.addNodeFilter('a',function(x){var i=x.length,s1,s2,h3;while(i--){s1=x[i];s2=s1.attr('href');h3=s1.attr('name');if(s2&&s2.indexOf('#_msocom_')!==-1){s1.remove();continue;}if(s2&&s2.indexOf('file://')===0){s2=s2.split('#')[1];if(s2){s2='#'+s2;}}if(!s2&&!h3){s1.unwrap();}else{if(h3&&!/^_?(?:toc|edn|ftn)/i.test(h3)){s1.unwrap();continue;}s1.attr({href:s2,name:h3});}}});var p=m.parse(a);if(K.shouldConvertWordFakeLists(e)){v1(p);}a=k1({validate:e.settings.validate},j).serialize(p);return a;};var y1=function(e,a){return K.shouldUseDefaultFilters(e)?x1(e,a):a;};var z1={preProcess:y1,isWordContent:r1};var A1=function(a,b){return{content:a,cancelled:b};};var B1=function(e,a,i,b){var f=e.dom.create('div',{style:'display:none'},a);var p=r.firePastePostProcess(e,f,i,b);return A1(p.node.innerHTML,p.isDefaultPrevented());};var C1=function(e,a,i,b){var p=r.firePastePreProcess(e,a,i,b);if(e.hasEventListeners('PastePostProcess')&&!p.isDefaultPrevented()){return B1(e,p.content,i,b);}else{return A1(p.content,p.isDefaultPrevented());}};var D1=function(e,a,i){var b=z1.isWordContent(a);var f=b?z1.preProcess(e,a):a;return C1(e,f,i,b);};var E1={process:D1};var F1=function(e,a){e.insertContent(a,{merge:K.shouldMergeFormats(e),paste:true});return true;};var G1=function(a){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(a);};var H1=function(a){return G1(a)&&/.(gif|jpe?g|png)$/.test(a);};var I1=function(e,a,p){e.undoManager.extra(function(){p(e,a);},function(){e.insertContent('<img src="'+a+'">');});return true;};var J1=function(e,a,p){e.undoManager.extra(function(){p(e,a);},function(){e.execCommand('mceInsertLink',false,a);});return true;};var K1=function(e,a,p){return e.selection.isCollapsed()===false&&G1(a)?J1(e,a,p):false;};var L1=function(e,a,p){return H1(a)?I1(e,a,p):false;};var M1=function(e,a){T.each([K1,L1,F1],function(b){return b(e,a,F1)!==true;});};var N1=function(e,a){if(K.isSmartPasteEnabled(e)===false){F1(e,a);}else{M1(e,a);}};var O1={isImageUrl:H1,isAbsoluteUrl:G1,insertContent:N1};var P1=function(e,a,i){var b=i?i:_.isMarked(a);var f=E1.process(e,_.unmark(a),b);if(f.cancelled===false){O1.insertContent(e,f.content);}};var Q1=function(e,a){a=e.dom.encode(a).replace(/\r\n/g,'\n');a=g1.convert(a,e.settings.forced_root_block,e.settings.forced_root_block_attrs);P1(e,a,false);};var R1=function(a){var b={};var m='data:text/mce-internal,';if(a){if(a.getData){var e=a.getData('Text');if(e&&e.length>0){if(e.indexOf(m)===-1){b['text/plain']=e;}}}if(a.types){for(var i=0;i<a.types.length;i++){var f=a.types[i];try{b[f]=a.getData(f);}catch(j){b[f]='';}}}}return b;};var S1=function(e,a){var b=R1(a.clipboardData||e.getDoc().dataTransfer);return q1.isMsEdge()?T.extend(b,{'text/html':''}):b;};var T1=function(a,m){return m in a&&a[m].length>0;};var U1=function(a){return T1(a,'text/html')||T1(a,'text/plain');};var V1=function(a){var i;i=a.indexOf(',');if(i!==-1){return a.substr(i+1);}return null;};var W1=function(a,i){return a.images_dataimg_filter?a.images_dataimg_filter(i):true;};var X1=function(e,a){var m=a.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return m?e.dom.encode(m[1]):null;};var Y1=q1.createIdGenerator('mceclip');var Z1=function(e,a,b,f){if(a){e.selection.setRng(a);a=null;}var i=b.result;var j=V1(i);var m=Y1();var p=e.settings.images_reuse_filename&&f.name?X1(e,f.name):m;var v=new Image();v.src=i;if(W1(e.settings,v)){var x=e.editorUpload.blobCache;var s1=void 0,s2=void 0;s2=x.findFirst(function(h3){return h3.base64()===j;});if(!s2){s1=x.create(m,f,j,p);x.add(s1);}else{s1=s2;}P1(e,'<img src="'+s1.blobUri()+'">',false);}else{P1(e,'<img src="'+i+'">',false);}};var $1=function(e){return e.type==='paste';};var _1=function(a,e,b){var f=$1(e)?e.clipboardData:e.dataTransfer;function p(j){var i,m,v,x=false;if(j){for(i=0;i<j.length;i++){m=j[i];if(/^image\/(jpeg|png|gif|bmp)$/.test(m.type)){var s1=m.getAsFile?m.getAsFile():m;v=new window.FileReader();v.onload=Z1.bind(null,a,b,v,s1);v.readAsDataURL(s1);e.preventDefault();x=true;}}}return x;}if(a.settings.paste_data_images&&f){return p(f.items)||p(f.files);}};var a2=function(e){var a=e.clipboardData;return navigator.userAgent.indexOf('Android')!==-1&&a&&a.items&&a.items.length===0;};var b2=function(e){return U.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45;};var c2=function(a,p,b){var f=0;var i;a.on('keydown',function(e){function m(e){if(b2(e)&&!e.isDefaultPrevented()){p.remove();}}if(b2(e)&&!e.isDefaultPrevented()){i=e.shiftKey&&e.keyCode===86;if(i&&R.webkit&&navigator.userAgent.indexOf('Version/')!==-1){return;}e.stopImmediatePropagation();f=new Date().getTime();if(R.ie&&i){e.preventDefault();r.firePaste(a,true);return;}p.remove();p.create();a.once('keyup',m);a.once('paste',function(){a.off('keyup',m);});}});function j(e,m,v,x){var s1,s2;if(T1(e,'text/html')){s1=e['text/html'];}else{s1=p.getHtml();x=x?x:_.isMarked(s1);if(p.isDefaultContent(s1)){v=true;}}s1=q1.trimHtml(s1);p.remove();s2=x===false&&g1.isPlainText(s1);if(!s1.length||s2){v=true;}if(v){if(T1(e,'text/plain')&&s2){s1=e['text/plain'];}else{s1=q1.innerText(s1);}}if(p.isDefaultContent(s1)){if(!m){a.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');}return;}if(v){Q1(a,s1);}else{P1(a,s1,x);}}var l2=function(){return p.getLastRng()||a.selection.getRng();};a.on('paste',function(e){var m=new Date().getTime();var v=S1(a,e);var x=new Date().getTime()-m;var s1=new Date().getTime()-f-x<1000;var s2=b.get()==='text'||i;var h3=T1(v,_.internalHtmlMime());i=false;if(e.isDefaultPrevented()||a2(e)){p.remove();return;}if(!U1(v)&&_1(a,e,l2())){p.remove();return;}if(!s1){e.preventDefault();}if(R.ie&&(!s1||e.ieFake)&&!T1(v,'text/html')){p.create();a.dom.bind(p.getEl(),'paste',function(e){e.stopPropagation();});a.getDoc().execCommand('Paste',false,null);v['text/html']=p.getHtml();}if(T1(v,'text/html')){e.preventDefault();if(!h3){h3=_.isMarked(v['text/html']);}j(v,s1,s2,h3);}else{S.setEditorTimeout(a,function(){j(v,s1,s2,h3);},0);}});};var d2=function(e,p,a){c2(e,p,a);var b;e.parser.addNodeFilter('img',function(f,j,m){var v=function(m){return m.data&&m.data.paste===true;};var i2=function(s2){if(!s2.attr('data-mce-object')&&b!==R.transparentSrc){s2.remove();}};var x=function(b){return b.indexOf('webkit-fake-url')===0;};var s1=function(b){return b.indexOf('data:')===0;};if(!e.settings.paste_data_images&&v(m)){var i=f.length;while(i--){b=f[i].attributes.map.src;if(!b){continue;}if(x(b)){i2(f[i]);}else if(!e.settings.allow_html_data_urls&&s1(b)){i2(f[i]);}}}});};var e2=function(e){return R.ie&&e.inline?document.body:e.getBody();};var f2=function(e){return e2(e)!==e.getBody();};var g2=function(a,p){if(f2(a)){a.dom.bind(p,'paste keyup',function(e){setTimeout(function(){a.fire('paste');},0);});}};var h2=function(a,b,p){var f=a.dom,i=a.getBody();var j;b.set(a.selection.getRng());j=a.dom.add(e2(a),'div',{'id':'mcepastebin','class':'mce-pastebin','contentEditable':true,'data-mce-bogus':'all','style':'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'},p);if(R.ie||R.gecko){f.setStyle(j,'left',f.getStyle(i,'direction',true)==='rtl'?65535:-65535);}f.bind(j,'beforedeactivate focusin focusout',function(e){e.stopPropagation();});g2(a,j);j.focus();a.selection.select(j,true);};var i2=function(e,a){if(j2(e)){var p=void 0;var b=a.get();while(p=e.dom.get('mcepastebin')){e.dom.remove(p);e.dom.unbind(p);}if(b){e.selection.setRng(b);}}a.set(null);};var j2=function(e){return e.dom.get('mcepastebin');};var k2=function(e){var p,a,i,b,f;var j=function(m,v){m.appendChild(v);e.dom.remove(v,true);};a=T.grep(e2(e).childNodes,function(m){return m.id==='mcepastebin';});p=a.shift();T.each(a,function(m){j(p,m);});b=e.dom.select('div[id=mcepastebin]',p);for(i=b.length-1;i>=0;i--){f=e.dom.create('div');p.insertBefore(f,b[i]);j(f,b[i]);}return p?p.innerHTML:'';};var l2=function(a){return a.get();};var m2=function(p,a){return a===p;};var n2=function(e){return e&&e.id==='mcepastebin';};var o2=function(e,p){var a=j2(e);return n2(a)&&m2(p,a.innerHTML);};var p2=function(e){var a=C(null);var p='%MCEPASTEBIN%';return{create:function(){return h2(e,a,p);},remove:function(){return i2(e,a);},getEl:function(){return j2(e);},getHtml:function(){return k2(e);},getLastRng:function(){return l2(a);},isDefault:function(){return o2(e,p);},isDefaultContent:function(b){return m2(p,b);}};};var q2=function(a,p){var b=p2(a);a.on('preInit',function(){return d2(a,b,p);});return{pasteFormat:p,pasteHtml:function(e,i){return P1(a,e,i);},pasteText:function(e){return Q1(a,e);},pasteImageData:function(e,f){return _1(a,e,f);},getDataTransferItems:R1,hasHtmlOrText:U1,hasContentType:T1};};var r2=function(){};var t2=function(a){return R.iOS===false&&a!==undefined&&typeof a.setData==='function'&&q1.isMsEdge()!==true;};var u2=function(a,b,f){if(t2(a)){try{a.clearData();a.setData('text/html',b);a.setData('text/plain',f);a.setData(_.internalHtmlMime(),b);return true;}catch(e){return false;}}else{return false;}};var v2=function(e,a,w2,b){if(u2(e.clipboardData,a.html,a.text)){e.preventDefault();b();}else{w2(a.html,b);}};var w2=function(e){return function(a,b){var m=_.mark(a);var f=e.dom.create('div',{'contenteditable':'false','data-mce-bogus':'all'});var i=e.dom.create('div',{contenteditable:'true'},m);e.dom.setStyles(f,{position:'fixed',top:'0',left:'-3000px',width:'1000px',overflow:'hidden'});f.appendChild(i);e.dom.add(e.getBody(),f);var j=e.selection.getRng();i.focus();var p=e.dom.createRng();p.selectNodeContents(i);e.selection.setRng(p);setTimeout(function(){e.selection.setRng(j);f.parentNode.removeChild(f);b();},0);};};var x2=function(e){return{html:e.selection.getContent({contextual:true}),text:e.selection.getContent({format:'text'})};};var y2=function(e){return function(a){if(e.selection.isCollapsed()===false){v2(a,x2(e),w2(e),function(){setTimeout(function(){e.execCommand('Delete');},0);});}};};var z2=function(e){return function(a){if(e.selection.isCollapsed()===false){v2(a,x2(e),w2(e),r2);}};};var A2=function(e){e.on('cut',y2(e));e.on('copy',z2(e));};var B2={register:A2};var C2=tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');var D2=function(a,e){return C2.getCaretRangeFromPoint(e.clientX,e.clientY,a.getDoc());};var E2=function(a){var p=a['text/plain'];return p?p.indexOf('file://')===0:false;};var F2=function(e,a){e.focus();e.selection.setRng(a);};var G2=function(a,b,f){if(K.shouldBlockDrop(a)){a.on('dragend dragover draggesture dragdrop drop drag',function(e){e.preventDefault();e.stopPropagation();});}if(!K.shouldPasteDataImages(a)){a.on('drop',function(e){var i=e.dataTransfer;if(i&&i.files&&i.files.length>0){e.preventDefault();}});}a.on('drop',function(e){var i,j;j=D2(a,e);if(e.isDefaultPrevented()||f.get()){return;}i=b.getDataTransferItems(e.dataTransfer);var m=b.hasContentType(i,_.internalHtmlMime());if((!b.hasHtmlOrText(i)||E2(i))&&b.pasteImageData(e,j)){return;}if(j&&K.shouldFilterDrop(a)){var p=i['mce-internal']||i['text/html']||i['text/plain'];if(p){e.preventDefault();S.setEditorTimeout(a,function(){a.undoManager.transact(function(){if(i['mce-internal']){a.execCommand('Delete');}F2(a,j);p=q1.trimHtml(p);if(!i['text/html']){b.pasteText(p);}else{b.pasteHtml(p,m);}});});}}});a.on('dragstart',function(e){f.set(true);});a.on('dragover dragend',function(e){if(K.shouldPasteDataImages(a)&&f.get()===false){e.preventDefault();F2(a,D2(a,e));}if(e.type==='dragend'){f.set(false);}});};var H2={setup:G2};var I2=function(a){var p=a.plugins.paste;var y1=K.getPreProcess(a);if(y1){a.on('PastePreProcess',function(e){y1.call(p,p,e);});}var b=K.getPostProcess(a);if(b){a.on('PastePostProcess',function(e){b.call(p,p,e);});}};var J2={setup:I2};function K2(a,f){a.on('PastePreProcess',function(e){e.content=f(a,e.content,e.internal,e.wordContent);});}function L2(a,f){a.on('PastePostProcess',function(e){f(a,e.node);});}function M2(e,a){if(!z1.isWordContent(a)){return a;}var b=[];T.each(e.schema.getBlockElements(),function(i,j){b.push(j);});var f=new RegExp('(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?('+b.join('|')+')[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*','g');a=q1.filter(a,[[f,'$1']]);a=q1.filter(a,[[/<br><br>/g,'<BR><BR>'],[/<br>/g,' '],[/<BR><BR>/g,'<br>']]);return a;}function N2(e,a,b,f){if(f||b){return a;}var j=K.getWebkitStyles(e);var m;if(K.shouldRemoveWebKitStyles(e)===false||j==='all'){return a;}if(j){m=j.split(/[, ]/);}if(m){var p=e.dom,v=e.selection.getNode();a=a.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(x,s1,s2,h3){var i3=p.parseStyle(p.decode(s2));var j3={};if(m==='none'){return s1+h3;}for(var i=0;i<m.length;i++){var k3=i3[m[i]],l3=p.getStyle(v,m[i],true);if(/color/.test(m[i])){k3=p.toHex(k3);l3=p.toHex(l3);}if(l3!==k3){j3[m[i]]=k3;}}j3=p.serializeStyle(j3,'span');if(j3){return s1+' style="'+j3+'"'+h3;}return s1+h3;});}else{a=a.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,'$1$3');}a=a.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(i,x,s1,s2){return x+' style="'+s1+'"'+s2;});return a;}function O2(e,a){e.$('a',a).find('font,u').each(function(i,b){e.dom.remove(b,true);});}var P2=function(e){if(R.webkit){K2(e,N2);}if(R.ie){K2(e,M2);L2(e,O2);}};var Q2={setup:P2};var R2=function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}};var S2=function(f){return function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}return f();};};var T2=function(f,a){return function(){var x=[];for(var b=0;b<arguments.length;b++){x[b]=arguments[b];}return f(a.apply(null,arguments));};};var U2=function(v){return function(){return v;};};var V2=function(x){return x;};var W2=function(a,b){return a===b;};var X2=function(f){var x=[];for(var a=1;a<arguments.length;a++){x[a-1]=arguments[a];}var b=new Array(arguments.length-1);for(var i=1;i<arguments.length;i++)b[i-1]=arguments[i];return function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}var e=new Array(arguments.length);for(var j=0;j<e.length;j++)e[j]=arguments[j];var m=b.concat(e);return f.apply(null,m);};};var Y2=function(f){return function(){var x=[];for(var a=0;a<arguments.length;a++){x[a]=arguments[a];}return!f.apply(null,arguments);};};var Z2=function(m){return function(){throw new Error(m);};};var $2=function(f){return f();};var _2=function(f){f();};var a3=U2(false);var b3=U2(true);var c3={noop:R2,noarg:S2,compose:T2,constant:U2,identity:V2,tripleEquals:W2,curry:X2,not:Y2,die:Z2,apply:$2,call:_2,never:a3,always:b3};var d3=function(a,b,e){var f=e.control;f.active(b.pasteFormat.get()==='text');a.on('PastePlainTextToggle',function(e){f.active(e.state);});};var e3=function(e,a){var p=c3.curry(d3,e,a);e.addButton('pastetext',{active:false,icon:'pastetext',tooltip:'Paste as text',cmd:'mceTogglePlainTextPaste',onPostRender:p});e.addMenuItem('pastetext',{text:'Paste as text',selectable:true,active:a.pasteFormat,cmd:'mceTogglePlainTextPaste',onPostRender:p});};var f3={register:e3};g.add('paste',function(e){if($.hasProPlugin(e)===false){var a=C(false);var b=C(false);var p=C(K.isPasteAsTextEnabled(e)?'text':'html');var f=q2(e,p);var i=Q2.setup(e);f3.register(e,f);Q.register(e,f,a);J2.setup(e);B2.register(e);H2.setup(e,f,b);return k.get(f,i);}});function g3(){}return g3;}());})();
