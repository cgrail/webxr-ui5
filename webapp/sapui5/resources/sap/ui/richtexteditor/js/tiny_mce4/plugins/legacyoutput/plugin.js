(function(){var l=(function(){'use strict';var g=tinymce.util.Tools.resolve('tinymce.PluginManager');var a=tinymce.util.Tools.resolve('tinymce.util.Tools');var o=function(e){var c='p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img',f=a.explode(e.settings.font_size_style_values),d=e.schema;e.formatter.register({alignleft:{selector:c,attributes:{align:'left'}},aligncenter:{selector:c,attributes:{align:'center'}},alignright:{selector:c,attributes:{align:'right'}},alignjustify:{selector:c,attributes:{align:'justify'}},bold:[{inline:'b',remove:'all'},{inline:'strong',remove:'all'},{inline:'span',styles:{fontWeight:'bold'}}],italic:[{inline:'i',remove:'all'},{inline:'em',remove:'all'},{inline:'span',styles:{fontStyle:'italic'}}],underline:[{inline:'u',remove:'all'},{inline:'span',styles:{textDecoration:'underline'},exact:true}],strikethrough:[{inline:'strike',remove:'all'},{inline:'span',styles:{textDecoration:'line-through'},exact:true}],fontname:{inline:'font',attributes:{face:'%value'}},fontsize:{inline:'font',attributes:{size:function(v){return a.inArray(f,v.value)+1;}}},forecolor:{inline:'font',attributes:{color:'%value'}},hilitecolor:{inline:'font',styles:{backgroundColor:'%value'}}});a.each('b,i,u,strike'.split(','),function(n){d.addValidElements(n+'[*]');});if(!d.getElementRule('font')){d.addValidElements('font[face|size|color|style]');}a.each(c.split(','),function(n){var h=d.getElementRule(n);if(h){if(!h.attributes.align){h.attributes.align={};h.attributesOrder.push('align');}}});};var s=function(e){e.settings.inline_styles=false;e.on('init',function(){o(e);});};var $={setup:s};var r=function(c){c.addButton('fontsizeselect',function(){var d=[],f='8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7';var h=c.settings.fontsizeFormats||f;c.$.each(h.split(' '),function(i,e){var t=e,v=e;var j=e.split('=');if(j.length>1){t=j[0];v=j[1];}d.push({text:t,value:v});});return{type:'listbox',text:'Font Sizes',tooltip:'Font Sizes',values:d,fixedWidth:true,onPostRender:function(){var e=this;c.on('NodeChange',function(){var i;i=c.dom.getParent(c.selection.getNode(),'font');if(i){e.value(i.size);}else{e.value('');}});},onclick:function(e){if(e.control.settings.value){c.execCommand('FontSize',false,e.control.settings.value);}}};});c.addButton('fontselect',function(){function d(e){e=e.replace(/;$/,'').split(';');var i=e.length;while(i--){e[i]=e[i].split('=');}return e;}var f='Andale Mono=andale mono,monospace;'+'Arial=arial,helvetica,sans-serif;'+'Arial Black=arial black,sans-serif;'+'Book Antiqua=book antiqua,palatino,serif;'+'Comic Sans MS=comic sans ms,sans-serif;'+'Courier New=courier new,courier,monospace;'+'Georgia=georgia,palatino,serif;'+'Helvetica=helvetica,arial,sans-serif;'+'Impact=impact,sans-serif;'+'Symbol=symbol;'+'Tahoma=tahoma,arial,helvetica,sans-serif;'+'Terminal=terminal,monaco,monospace;'+'Times New Roman=times new roman,times,serif;'+'Trebuchet MS=trebuchet ms,geneva,sans-serif;'+'Verdana=verdana,geneva,sans-serif;'+'Webdings=webdings;'+'Wingdings=wingdings,zapf dingbats';var h=[],j=d(c.settings.font_formats||f);c.$.each(j,function(i,e){h.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf('dings')===-1?'font-family:'+e[1]:''});});return{type:'listbox',text:'Font Family',tooltip:'Font Family',values:h,fixedWidth:true,onPostRender:function(){var e=this;c.on('NodeChange',function(){var i;i=c.dom.getParent(c.selection.getNode(),'font');if(i){e.value(i.face);}else{e.value('');}});},onselect:function(e){if(e.control.settings.value){c.execCommand('FontName',false,e.control.settings.value);}}};});};var b={register:r};g.add('legacyoutput',function(e){$.setup(e);b.register(e);});function P(){}return P;}());})();
