(function(){var f=(function(){'use strict';var C=function(e){var h=e;var a=function(){return h;};var o=function(v){h=v;};var q=function(){return C(a());};return{get:a,set:o,clone:q};};var g=tinymce.util.Tools.resolve('tinymce.PluginManager');var a=function(e){return{isFullscreen:function(){return e.get()!==null;}};};var $={get:a};var b=tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');var c=function(e,h){e.fire('FullscreenStateChanged',{state:h});};var d={fireFullscreenStateChanged:c};var D=b.DOM;var i=function(){var w;var h;var e=window;var o=document;var q=o.body;if(q.offsetWidth){w=q.offsetWidth;h=q.offsetHeight;}if(e.innerWidth&&e.innerHeight){w=e.innerWidth;h=e.innerHeight;}return{w:w,h:h};};var j=function(){var v=D.getViewPort();return{x:v.x,y:v.y};};var s=function(e){window.scrollTo(e.x,e.y);};var t=function(e,h){var o=document.body;var q=document.documentElement;var u;var v,w,x;var y=h.get();var z=function(){D.setStyle(w,'height',i().h-(v.clientHeight-w.clientHeight));};var A=function(){D.unbind(window,'resize',z);};v=e.getContainer();u=v.style;w=e.getContentAreaContainer().firstChild;x=w.style;if(!y){var B={scrollPos:j(),containerWidth:u.width,containerHeight:u.height,iframeWidth:x.width,iframeHeight:x.height,resizeHandler:z,removeHandler:A};x.width=x.height='100%';u.width=u.height='';D.addClass(o,'mce-fullscreen');D.addClass(q,'mce-fullscreen');D.addClass(v,'mce-fullscreen');D.bind(window,'resize',z);e.on('remove',A);z();h.set(B);d.fireFullscreenStateChanged(e,true);}else{x.width=y.iframeWidth;x.height=y.iframeHeight;if(y.containerWidth){u.width=y.containerWidth;}if(y.containerHeight){u.height=y.containerHeight;}D.removeClass(o,'mce-fullscreen');D.removeClass(q,'mce-fullscreen');D.removeClass(v,'mce-fullscreen');s(y.scrollPos);D.unbind(window,'resize',y.resizeHandler);e.off('remove',y.removeHandler);h.set(null);d.fireFullscreenStateChanged(e,false);}};var k={toggleFullscreen:t};var r=function(e,h){e.addCommand('mceFullScreen',function(){k.toggleFullscreen(e,h);});};var l={register:r};var p=function(h){return function(e){var o=e.control;h.on('FullscreenStateChanged',function(e){o.active(e.state);});};};var m=function(e){e.addMenuItem('fullscreen',{text:'Fullscreen',shortcut:'Ctrl+Shift+F',selectable:true,cmd:'mceFullScreen',onPostRender:p(e),context:'view'});e.addButton('fullscreen',{active:false,tooltip:'Fullscreen',cmd:'mceFullScreen',onPostRender:p(e)});};var n={register:m};g.add('fullscreen',function(e){var h=C(null);if(e.settings.inline){return $.get(h);}l.register(e,h);n.register(e);e.addShortcut('Ctrl+Shift+F','','mceFullScreen');return $.get(h);});function P(){}return P;}());})();
