/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["jquery.sap.global","./library","sap/ui/core/Element"],function(q,l,E){"use strict";var T=E.extend("sap.ui.vk.tools.Tool",{metadata:{properties:{targetViewportType:"any",toolid:"string",active:{type:"boolean",defaultValue:false},footprint:{type:"string[]"}},associations:{gizmoContainer:{type:"sap.ui.core.Control",cardinality:"0..1"}},aggregations:{gizmo:{type:"sap.ui.vk.tools.Gizmo",multiple:false}},events:{enabled:{parameters:{enabled:"bool",reason:"string"}}}},constructor:function(i,s){E.apply(this,arguments);this._viewport=null;this._handler=null;}});T.prototype.init=function(){if(E.prototype.init){E.prototype.init.call(this);}};T.prototype.isViewportType=function(t){if(this._viewport&&this._viewport.getMetadata().getName()===t){return true;}return false;};T.prototype.getViewportImplementation=function(v){if(v&&typeof v.getImplementation==="function"){return v.getImplementation();}return v;};T.prototype.setActive=function(v,a,g){if(v){var _=this.getViewportImplementation(a);var b;var c="";b=_&&_.getMetadata().getName();if(this.getFootprint().indexOf(b)>=0){this.setProperty("active",v,true);}else{this.setProperty("active",false,true);c="Tool does not support Viewport type: "+b;q.sap.log.warning(c);}if(this.getGizmo()){if(g){this.setAssociation("gizmoContainer",g);g.rerender();}else{this.setAssociation("gizmoContainer",_);_.rerender();}}this.fireEnabled({enabled:this.getProperty("active"),reason:c});}else{this.setProperty("active",v,true);this.fireEnabled({enabled:v,reason:"Disabled by application logic."});}};T.prototype.getGizmoForContainer=function(r){var _=this.getGizmo();if((r.getId()===this.getGizmoContainer())&&_&&this.getActive()){return _;}};T.prototype.destroy=function(){E.prototype.destroy.call(this);this._viewport=null;this._handler=null;};return T;});
