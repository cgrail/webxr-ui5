sap.ui.define(["jquery.sap.global","./TotaraUtils"],function(q,T){"use strict";var A=function(){};A.setPlayback=function(s,c){if(T.checkError(c)){return c;}var r={};var a=s.viewIdSceneIdMap.get(c.viewId);if(!a){c.error="Try to extract play backs for unmatching scene";return c;}var b=new Set();for(var d=0;d<c.playbacks.length;d++){var p=c.playbacks[d];s.sceneBuilder.insertPlayback(p,c.viewId,a);var e=s.sceneBuilder.getSequence(p.sequenceId);if(e){continue;}else{b.add(p.sequenceId);s.sequenceIds.add(p.sequenceId);}}r.sequenceIdSet=b;r.viewId=c.viewId;s.currentViewId=r.viewId;return r;};A.setSequence=function(s,c){if(T.checkError(c)){return c;}var r={};var t=new Set();for(var a=0;a<c.sequences.length;a++){var b=c.sequences[a];s.sceneBuilder.insertSequence(b);for(var n=0;n<b.nodes.length;n++){var d=b.nodes[n];t.add(d.trackId);s.trackIds.add(d.trackId);}s.sequenceIds.delete(b.id);}r.trackIdSet=t;return r;};A.setTrack=function(s,c){if(T.checkError(c)){return c;}var r={};for(var t=0;t<c.tracks.length;t++){var a=c.tracks[t];s.sceneBuilder.insertTrack(a);s.trackIds.delete(a.id);}return r;};return A;});
