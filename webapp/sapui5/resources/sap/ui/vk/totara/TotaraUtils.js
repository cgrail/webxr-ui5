sap.ui.define(["jquery.sap.global","./Generator"],function(q,G){"use strict";var T=function(){};T.calculateVolumeFromBoundingBox=function(b){var m=new THREE.Vector3(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);var a=new THREE.Vector3(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);var c=new THREE.Vector3(-0.5,-0.5,-0.5);var d=new THREE.Vector3(0.5,0.5,0.5);for(var i=0;i<8;i++){var x=i&1?c.x:d.x;var y=i&2?c.y:d.y;var z=i&4?c.z:d.z;var p=new THREE.Vector3(x,y,z);p.applyMatrix4(b.matrixWorld);m.x=Math.min(m.x,p.x);m.y=Math.min(m.y,p.y);m.z=Math.min(m.z,p.z);a.x=Math.max(a.x,p.x);a.y=Math.max(a.y,p.y);a.z=Math.max(a.z,p.z);}var e=new THREE.Vector3().subVectors(a,m);return e.x*e.y*e.z;};function P(i,c,t){if(!i||!c||!t){throw"ProgressLogger: invalid args";}this.context=c;this.loader=t;var a=new Set();this.logPerformance=function(n,b){if(!n||!b){return;}a.add(b);var l={name:n,timestamp:Date.now(),token:b};var d=G.createAddClientLogCommand(l);var m={method:"AddClientLogCommand",url:this.loader.getUrl(),authorizationHandler:c.authorizationHandler,token:c.token,command:d};this.loader.postMessage(m);};this.getTokens=function(){return a;};}T.createLogger=function(i,c,a){if(!c){return null;}c.progressLogger=new P(i,c,a);return c.progressLogger;};T.arrayToMatrix=function(a){var m=new THREE.Matrix4();if(a.length===3){m.setPosition(new THREE.Vector3().fromArray(a));}else if(a.length===12){m.set(a[0],a[3],a[6],a[9],a[1],a[4],a[7],a[10],a[2],a[5],a[8],a[11],0.0,0.0,0.0,1.0);}else if(a.length===16){m.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);}else{throw"Invalid matrix format";}return m;};T.arrayToColumnMajorMatrixArray16=function(a){if(a.length===16){return[a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]];}if(a.length===12){return[a[0],a[3],a[6],a[9],a[1],a[4],a[7],a[10],a[2],a[5],a[8],a[11],0.0,0.0,0.0,1.0];}if(a.length===3){return[1,0,0,a[0],0,1,0,a[1],0,0,1,a[2],0,0,0,1];}return null;};T.generateToken=function(){return g();};function g(){function s(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s();}T.reportError=function(s,c,e){var a={error:e,context:c};s.onErrorCallbacks.execute(a);};T.checkError=function(c){if(!c){return true;}var r=c.result==="failure";if(r){if(c.message){c.error=c.message;delete c.message;}else{c.message="unknown error";}}return r;};return T;});
