/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["../library","./thirdparty/three"],function(l,t){"use strict";function P(){THREE.InstancedBufferGeometry.call(this);this.type="PolylineGeometry";var p=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0];var u=[2,-1,2,1,1,-1,1,1,-1,-1,-1,1,-2,-1,-2,1];var i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i);this.addAttribute("position",new THREE.Float32BufferAttribute(p,3));this.addAttribute("uv",new THREE.Float32BufferAttribute(u,2));}P.prototype=Object.assign(Object.create(THREE.InstancedBufferGeometry.prototype),{constructor:P,isPolylineGeometry:true,setVertices:function(v){this.vertices=v;var d=v.length-1;var e=new Float32Array(6*d);for(var i=0,c=0;i<d;i++){var a=v[i],b=v[i+1];e[c++]=a.x;e[c++]=a.y;e[c++]=a.z;e[c++]=b.x;e[c++]=b.y;e[c++]=b.z;}var f=new THREE.InstancedInterleavedBuffer(e,6,1);this.addAttribute("instanceStart",new THREE.InterleavedBufferAttribute(f,3,0));this.addAttribute("instanceEnd",new THREE.InterleavedBufferAttribute(f,3,3));var g=new THREE.InstancedInterleavedBuffer(new Float32Array(2*d),2,1);this.addAttribute("instanceDistance",new THREE.InterleavedBufferAttribute(g,2,0));this.computeBoundingBox();this.computeBoundingSphere();return this;},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new THREE.Box3();}this.boundingBox.setFromPoints(this.vertices);},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new THREE.Sphere();}this.boundingSphere.setFromPoints(this.vertices);},_updateVertices:function(a){var b=this.vertices;var d=this.attributes.instanceStart.data;var c=d.array;a.forEach(function(e){var v=b[e];var i=e*6-3;if(i>=0){c[i+0]=v.x;c[i+1]=v.y;c[i+2]=v.z;}if(i+5<c.length){c[i+3]=v.x;c[i+4]=v.y;c[i+5]=v.z;}});d.needsUpdate=true;}});return P;});
