/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/thirdparty/jquery"],function(U,$){"use strict";var M=500;var L=[{name:'trace',methods:['trace']},{name:'debug',methods:['debug']},{name:'info',methods:['log','info','warn']},{name:'error',methods:['error']}];var i;var _=U.extend("sap.ui.test._BrowserLogCollector",{constructor:function(){this._console={};this._logs=[];},start:function(l,m){if(!$.isEmptyObject(this._console)){throw new Error("_BrowserLogCollector: 'start' has already been called. Call 'stop' before re-starting the _BrowserLogCollector instance.");}m=m||M;l=l&&l.trim().toLowerCase()||"error";var b=false;var t=this;var s=L.filter(function(c){b=b||c.name===l;return b;});if(!s.length){throw new Error("_BrowserLogCollector: log level '"+l+"' is not known.");}s.forEach(function(c){var C=g();c.methods.filter(function(d){return C[d];}).forEach(function(d){t._console[d]=C[d];C[d]=function(){var n={level:c.name,message:a(Array.prototype.slice.call(arguments))};if(t._logs.length<m){t._logs.unshift(n);}else{t._logs.unshift(n);t._logs.pop();}t._console[d].apply(this,arguments);};});});},getAndClearLogs:function(l){return{logs:this._logs.splice(0,this._logs.length)};},stop:function(){this._stopAndClearLogs();},destroy:function(){this._stopAndClearLogs();},_stopAndClearLogs:function(){var c=g();for(var m in this._console){if(c[m]){c[m]=this._console[m];}}this._console={};this._logs=[];}});_.getInstance=function(){i=i||new _();return i;};_._MAX_COUNT=M;_._LEVELS=L;function g(){return Object.getPrototypeOf(console).log?Object.getPrototypeOf(console):console;}function a(A){var m;var s=new RegExp("%(o|O|d|i|s|f)","g");if(A[0].match(s)){var r=0;m=A[0].replace(s,function(b){return A.length>r?A[r+=1]:b;});}else if(A.length>1){m=A.join(" ");}else{m=A[0];}return m;}return _;});
