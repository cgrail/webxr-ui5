/*!
 * SAPUI5

		(c) Copyright 2009-2019 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/base/ManagedObject","sap/ui/base/BindingParser","sap/m/library","sap/ui/mdc/experimental/provider/adapter/base/FieldAdapter"],function(B,M,a,l,F){"use strict";var I=l.InputType;var b=B.extend("sap.ui.mdc.experimental.provider.BaseControlProvider",{constructor:function(){},provideAttribute:function(n,A,v){if(v!=null){n.setAttribute(A,v);}},provideObject:function(c,o,C,A){if(!o){return;}if(o.then){o.then(function(r){C(c,r);});}else{C(c,o);}},provideProperty:function(c,p,v,A){if(v!=null){var t=this,P=c.getMetadata().getProperty(p);if(!P){return;}if(this.isPropertyAllowedToBeProvided(c,p,v)){c._oProviderData.mProvidedProperties[p]={value:v,info:A};if(v.then){v.then(function(r){t._provideProperty(c,P,r,A).bind(t);});}else{t._provideProperty(c,P,v,A);}}}},_provideProperty:function(c,p,v){var o=b.getAsBinding(v,c);if(o){c.bindProperty(p.name,o);}else{p.set(c,v);}},provideAggregation:function(c,A,v,t,s){if(v!=null){var d=this,o=c.getMetadata().getAggregation(A);if(!o){return;}if(v.then){v.then(function(r){d._provideAggregation(c,A,r,t,s);});}else{d._provideAggregation(c,A,v,t,s);}}},_provideAggregation:function(c,A,v,t,s){var o=b.getAsBinding(v);o.template=t;o.templateShareable=s;c.bindAggregation(A,o);},providePrepareCloneFunction:function(c,f,d){c._oProviderData.mProvidedFunctions[f]=d;d(c);},prepareClone:function(c){var f=c._oProviderData.mProvidedFunctions;for(var i in f){f[i](c);}},isPropertyAlreadyProvided:function(c,p,v){if(c._oProviderData.mProvidedProperties[p]&&c._oProviderData.mProvidedProperties[p]===v){return true;}return false;},isPropertyAllowedToBeProvided:function(c,p,v){if(c.isPropertyInitial(p)){return true;}if(this.isPropertyAlreadyProvided(c,p,v)&&c._oProviderData.mProvidedProperties[p]!==v){return true;}return false;},canControlBeProvided:function(c,p){if(!c){return false;}if(!c._oProviderData){c._oProviderData={mProvidedProperties:{},mProvidedFunctions:{},providedFrom:p};return true;}else if(c._oProviderData.providedFrom&&c._oProviderData.providedFrom===p){return true;}return false;},getName:function(){return Object.getPrototypeOf(this)._sName;},driveWithMetadata:function(c,A){throw new Error("sap.ui.mdc.experimental.provider.BaseControlProvider: method driveWithMetadata must be redefined");},renderWithMetadata:function(n,c,A){throw new Error("sap.ui.mdc.experimental.provider.BaseControlProvider: method renderWithMetadata must be redefined");},convertToInputType:function(A){switch(A.semantics){case F.Semantics.password:return I.Password;case F.Semantics.eMail:return I.Email;case F.Semantics.phoneNumber:return I.Tel;case F.Semantics.url:return I.Url;default:var u=A.ui5Type;switch(u){case"sap.ui.model.odata.type.Int16":case"sap.ui.model.odata.type.Int32":case"sap.ui.model.odata.type.Int64":case"sap.ui.model.odata.type.Decimal":case"sap.ui.model.odata.type.Double":return I.Number;case"sap.ui.model.odata.type.TimeOfDay":return I.Time;case"sap.ui.model.odata.type.DateTime":case"sap.ui.model.odata.type.DateTimeBase":return I.DateTime;case"sap.ui.model.odata.type.DateTimeOffset":case"sap.ui.model.odata.type.Date":return I.Date;default:return I.Text;}}},getQualifier:function(c,A){return this._getQualifier(c,A.getContext());},_getQualifier:function(c,C){var r=b.getProvidedContexts(c,C);if(r&&r.metadata){return r.metadata.qualifier;}return undefined;},isProvided:function(c){return c._oProviderData._provided===true;},setProvided:function(c,p){c._oProviderData._provided=p;}});b.isProvided=function(c){return c._oProviderData._provided===true;};b.setProvided=function(c,p){c._oProviderData._provided=p;};b.getAsBinding=function(v,c){var o=null;if(typeof v=='string'){o=M.bindingParser(v);}else if(typeof v=='object'){o=v;}var i=true;if(o&&c){i=c.isBinding(o);}if(o&&i){return o;}return undefined;};b.getAsString=function(v){if(typeof v=='string'){return v;}else if(typeof v=='object'){var r=JSON.stringify(v);r=r.replace(new RegExp("\"path\"","g"),"path");r=r.replace(new RegExp("\"parts\"","g"),"parts");r=r.replace(new RegExp("\"parameters\"","g"),"parameters");r=r.replace(new RegExp("\"expand\"","g"),"expand");r.replace(new RegExp("\"name\"","g"),"name");r=r.replace(new RegExp("\"adapter\"","g"),"adapter");r=r.replace(new RegExp("\"","g"),"'");return r;}return undefined;};b.getProvidedData=function(c){var r={};if(c){r=c._oProviderData;r=r.mProvidedProperties;}return r;};b.getProvidedContexts=function(c,C){var r={};if(c){r=c._oProviderData;}if(C){r=r.contexts[C];}return r;};b.mergeBindings=function(c,f){var s="{ parts: ["+c.join(",")+"] }";var o=b.getAsBinding(s);o.formatter=[f];return o;};b.prototype._sName="sap.ui.mdc.experimental.provider.BaseControlProvider";return b;});
