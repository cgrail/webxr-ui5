/*!
 * SAPUI5

		(c) Copyright 2009-2019 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var r=function(c){clearTimeout(r.iTimer);r.iTimer=setTimeout(function(){if(c&&c.isA&&c.isA("sap.ui.mdc.Table")){c.rebindTable();}if(c&&c.isA&&c.isA("sap.ui.mdc.Chart")){c._rebind();}});};var S={};S.removeSort={"changeHandler":{applyChange:function(c,C,p){var m=p.modifier;var a=c.getContent();var i=m.getControlIdBySelector(c.getSelector(),p.appComponent)+"--p13nData";var b=m.getSelector(i,p.appComponent);var P=m.bySelector(b,p.appComponent,p.view);if(!P){return;}var v,V=v=m.getProperty(P,"value");if(typeof V==="string"){V=V=V.replace(/\\{/g,"{");v=JSON.parse(V);}if(!v){return;}var f=v.filter(function(o){return o.name===a.name;});var I=v.indexOf(f[0]);var s={name:a.name,index:I,sortOrder:a.sortOrder};v.splice(I,1);V=JSON.stringify(v);V=V.replace(/{/g,"\\{");m.setProperty(P,"value",V);c.setRevertData({p13nId:i,sortContent:s});r(C);},completeChangeContent:function(c,C,p){if(!c.getContent()&&C.removedElement){c.setContent(C.removedElement);}},revertChange:function(c,C,p){var m=p.modifier;var R=c.getRevertData();var o=m.getSelector(R.p13nId,p.appComponent);var P=m.bySelector(o,p.appComponent,p.view);if(!P){return;}var v,V=v=m.getProperty(P,"value");if(typeof V==="string"){V=V=V.replace(/\\{/g,"{");v=JSON.parse(V);}if(!v){return;}v.splice(R.sortContent.index,0,R.sortContent);V=JSON.stringify(v);V=V.replace(/{/g,"\\{");m.setProperty(P,"value",V);c.resetRevertData();r(C);}},"layers":{"USER":true}};S.addSort={"changeHandler":{applyChange:function(c,C,p){var m=p.modifier;var o=c.getContent();var i=m.getControlIdBySelector(c.getSelector(),p.appComponent)+"--p13nData";var a=m.getSelector(i,p.appComponent);var P=m.bySelector(a,p.appComponent,p.view);if(!P){P=m.createControl("sap.ui.core.CustomData",p.appComponent,p.view,i,{key:"$p13nSort"});m.insertAggregation(C,"customData",P,null,p.view);}var v,V=v=m.getProperty(P,"value");if(typeof V==="string"){V=V=V.replace(/\\{/g,"{");v=JSON.parse(V);}if(!v){v=[];}var s={name:o.name,index:o.index,sortOrder:o.sortOrder};v.splice(s.index,0,s);V=JSON.stringify(v);V=V.replace(/{/g,"\\{");m.setProperty(P,"value",V);c.setRevertData({p13nId:i,sortContent:s});r(C);},completeChangeContent:function(c,C,p){},revertChange:function(c,C,p){var m=p.modifier;var R=c.getRevertData();var a=m.getSelector(R.p13nId,p.appComponent);var P=m.bySelector(a,p.appComponent,p.view);if(!P){return;}var v,V=v=m.getProperty(P,"value");if(typeof V==="string"){V=V=V.replace(/\\{/g,"{");v=JSON.parse(V);}if(!v){return;}var f=v.filter(function(o){return o.name===R.sortContent.name;});var i=v.indexOf(f[0]);v.splice(i,1);V=JSON.stringify(v);V=V.replace(/{/g,"\\{");m.setProperty(P,"value",V);c.resetRevertData();r(C);}},"layers":{"USER":true}};return S;});
