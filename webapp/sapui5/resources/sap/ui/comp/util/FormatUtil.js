/*
 * ! SAPUI5

		(c) Copyright 2009-2019 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/model/FilterOperator","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","sap/m/P13nConditionPanel","sap/ui/comp/odata/ODataType"],function(F,N,D,P,O){"use strict";var a={getFormattedExpressionFromDisplayBehaviour:function(d,i,s){var t=this.getTextsFromDisplayBehaviour(d,i,s);return t.secondText?t.firstText+" ("+t.secondText+")":t.firstText;},getTextsFromDisplayBehaviour:function(d,i,s){switch(d){case"descriptionAndId":return{firstText:s?s:i,secondText:s?i:undefined};case"idAndDescription":return{firstText:i,secondText:s?s:undefined};case"descriptionOnly":return{firstText:s,secondText:undefined};default:return{firstText:i,secondText:undefined};}},getFormattedRangeText:function(o,v,V,e){return P.getFormatedConditionText(o,v,V,e);},_initialiseCurrencyFormatter:function(){if(!a._oCurrencyFormatter){a._oCurrencyFormatter=N.getCurrencyInstance({showMeasure:false});}if(!a._MAX_CURRENCY_DIGITS){a._MAX_CURRENCY_DIGITS=3;}a._initialiseSpaceChars();},_initialiseSpaceChars:function(){if(!a._FIGURE_SPACE||!a._PUNCTUATION_SPACE){a._FIGURE_SPACE='\u2007';a._PUNCTUATION_SPACE='\u2008';}},getAmountCurrencyFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fAmountCurrencyFormatter){a._fAmountCurrencyFormatter=function(A,c){var v,C,p;if(A===undefined||A===null||c==="*"){return"";}v=a._oCurrencyFormatter.format(A,c);C=a._oCurrencyFormatter.oLocaleData.getCurrencyDigits(c);if(C===0){v+=a._PUNCTUATION_SPACE;}p=a._MAX_CURRENCY_DIGITS-C;if(p){v=v.padEnd(v.length+p,a._FIGURE_SPACE);}return v;};}return a._fAmountCurrencyFormatter;},getCurrencySymbolFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fCurrencySymbolFormatter){a._fCurrencySymbolFormatter=function(c){if(!c||c==="*"){return"";}return a._oCurrencyFormatter.oLocaleData.getCurrencySymbol(c);};}return a._fCurrencySymbolFormatter;},getMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fMeasureFormatter){a._fMeasureFormatter=function(v,u){if(v===undefined||v===null||u==="*"){return"";}return v+a._FIGURE_SPACE;};}return a._fMeasureFormatter;},getInlineMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fInlineMeasureFormatter){a._fInlineMeasureFormatter=function(v,u){if(v===undefined||v===null||u==="*"){return"";}if(!u){return v;}return v+a._FIGURE_SPACE+u;};}return a._fInlineMeasureFormatter;},getInlineAmountFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fInlineAmountFormatter){a._fInlineAmountFormatter=function(A,c){var v;if(A===undefined||A===null||c==="*"){return"";}v=a._oCurrencyFormatter.format(A,c);return v+a._FIGURE_SPACE+c;};}return a._fInlineAmountFormatter;},getEdmTimeFromDate:function(d){if(!a._oTimeFormat){a._oTimeFormat=D.getTimeInstance({pattern:"'PT'HH'H'mm'M'ss'S'"});}return a._oTimeFormat.format(d);},getWidth:function(f,m,M){var w=f.maxLength||f.precision,W;if(!m){m=30;}if(!M){M=3;}if(f.type==="Edm.DateTime"&&f.displayFormat==="Date"||f.isCalendarDate){w="9em";}else if(w){if(f.type==="Edm.String"&&f.description&&f.displayBehaviour&&(f.displayBehaviour==="descriptionAndId"||f.displayBehaviour==="descriptionOnly")){w="Max";}if(w==="Max"){w=m+"";}W=parseInt(w);if(!isNaN(W)){W+=0.75;if(W>m){W=m;}else if(W<M){W=M;}w=W+"em";}else{w=null;}}if(!w){if(f.type==="Edm.Boolean"){w=M+"em";}else{w=m+"em";}}return w;},parseFilterNumericIntervalData:function(v){var r=[],R=v.match(RegExp("^(-?[^-]*)-(-?[^-]*)$"));if(R&&R.length>=2){r.push(R[1]);r.push(R[2]);}return r;},parseDateTimeOffsetInterval:function(v){var V=v.split('-'),r=[v],n=0;if((V.length%2)===0){r=[];for(var i=0;i<V.length/2;i++){n=v.indexOf('-',++n);}r.push(v.substr(0,n).replace(/\s+/g,''));r.push(v.substr(n+1).replace(/\s+/g,''));}return r;},_getFilterType:function(f){if(f.isDigitSequence){return"numc";}else if(O.isNumeric(f.type)){return"numeric";}else if(f.type==="Edm.DateTime"&&f.displayFormat==="Date"){return"date";}else if(f.type==="Edm.DateTimeOffset"){return"datetime";}else if(f.type==="Edm.String"){if(f.isCalendarDate){return"stringdate";}return"string";}else if(f.type==="Edm.Boolean"){return"boolean";}else if(f.type==="Edm.Time"){return"time";}return undefined;}};return a;},true);
