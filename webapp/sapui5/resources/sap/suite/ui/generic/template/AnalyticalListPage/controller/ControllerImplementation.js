sap.ui.define(["jquery.sap.global","sap/ui/generic/app/navigation/service/SelectionVariant","sap/suite/ui/generic/template/AnalyticalListPage/extensionAPI/ExtensionAPI","sap/suite/ui/generic/template/AnalyticalListPage/controller/FilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/ToolbarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterDialogController","sap/suite/ui/generic/template/AnalyticalListPage/controller/AnalyticGridController","sap/ui/table/AnalyticalTable","sap/ui/model/odata/AnnotationHelper","sap/ui/model/analytics/odata4analytics","sap/suite/ui/generic/template/AnalyticalListPage/controller/ContentAreaController","sap/suite/ui/generic/template/AnalyticalListPage/controller/IappStateHandler","sap/ui/Device","sap/m/SegmentedButtonItem","sap/m/SegmentedButton","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/library","sap/ui/model/Context","sap/suite/ui/generic/template/AnalyticalListPage/util/AnnotationHelper","sap/base/Log","sap/suite/ui/generic/template/AnalyticalListPage/util/FilterUtil"],function(q,S,E,F,T,V,a,A,b,O,c,C,I,D,d,f,g,h,j,k,l,L,m){"use strict";var n="chart",o="visual",p="compact";return{getMethods:function(v,t,r){var s={};s.bVisualFilterInitialised=false;s._bIsStartingUp=true;function u(){var e=r.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isLeaf",e.getIsLeaf());}function w(){var e=q.sap.getObject("sap.ushell.Container.getUser"),i=r.getOwnerComponent(),K=i.getAppComponent(),M=K.getMetadata(),U=M.getManifestEntry("sap.ui"),N=(U&&U.icons&&U.icons.icon)||"",P=M.getManifestEntry("sap.app"),Q=(P&&P.title)||"";var R={bookmarkIcon:N,bookmarkAppTitle:Q,bookmarkCustomUrl:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();return hasher.getHash()?("#"+hasher.getHash()):window.location.href;},bookmarkServiceUrl:function(){var X={serviceURL:null};r.onSaveAsTileExtension(X);if(X.serviceURL===null){var Y=s.oSmartTable.getTable();var Z;if(Y){Z=Y.getBinding("rows")||Y.getBinding("items");}else{Z="";}return Z?Z.getDownloadUrl()+"&$top=0&$inlinecount=allpages":"";}else{return X.serviceURL||"";}},isShareInJamActive:!!e&&e().isJamActive()};var W=r.getOwnerComponent().getModel("_templPriv");W.setProperty("/listReport/share",R);}function x(e,i){var P=e&&e.property;return P.filter(function(K){return typeof K[i]!=="undefined";});}function y(e){var i=e.SelectOptions,P=l.resolveParameterStringValue(e.Parameters);var K=new k(null,"/");var M={};if(i){i.forEach(function(N){N.PropertyName=N.PropertyName.PropertyPath;N.Ranges.forEach(function(Q){Q.Sign=Q.Sign.EnumMember.split("/")[1];Q.Option=Q.Option.EnumMember.split("/")[1];Q.Low=m.resolveSelectOptionValue(K,Q.Low);Q.High=m.resolveSelectOptionValue(K,Q.High);});});M.SelectOptions=i;}if(P){P.forEach(function(N){N.PropertyName=N.PropertyName.PropertyPath;N.PropertyValue=O.format(K,N.PropertyValue)||null;});M.Parameters=P;}return new S(M);}function z(i){var M=i.getModel(),K=M&&M.getMetaModel(),R=K&&K.getODataEntityType(i.getEntityType()),N,P=K&&K.getODataEntityType(i.getEntityType(),true),Q=l.createSVAnnotation(R,K,s.oController.getOwnerComponent().getQualifier());if(s.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&Q){N=y(Q);}else{if(s.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&!Q){L.warning("No SelectionVariant found in the annotation : No default values filled in FilterBar","","ALPSmartFilterBar");}var U=R&&x(R,"com.sap.vocabularies.Common.v1.FilterDefaultValue"),W,X,Y,Z,$,_=[];try{W=new c.Model(new c.Model.ReferenceByModel(M));$=W&&W.findQueryResultByName(i.getEntitySet());X=$&&$.getParameterization();Y=X&&K.getODataEntitySet(X.getEntitySet().getQName());Z=Y&&K.getODataEntityType(Y.entityType);_=Z?x(Z,"defaultValue"):[];}catch(e){L.error(e);}if(U.length>0||_.length>0){N=new S();U.forEach(function(a1){var b1=K.createBindingContext(P+"/property/[${path:'name'}===\'"+a1.name+"']/com.sap.vocabularies.Common.v1.FilterDefaultValue");N.addSelectOption(a1.name,"I","EQ",O.format(b1));});_.forEach(function(a1){N.addParameter(a1.name,a1.defaultValue);});}}return N;}function B(e){var i=e.getSource(),K=z(i);if(K){s.oIappStateHandler.fnSetFiltersUsingUIState(K.toJSONObject(),true,false);}s.oIappStateHandler.onSmartFilterBarInitialise();r.onInitSmartFilterBarExtension(e);r.templateBaseExtension.onInitSmartFilterBar(e);}function G(){var e=s.oIappStateHandler.onSmartFilterBarInitialized();e.then(function(){s._bIsStartingUp=false;if(s.bVisualFilterInitialised){s.oIappStateHandler.fnUpdateVisualFilterBar();}if(s.oSmartFilterableKPI){var i=s.oSmartFilterableKPI.getContent();i.forEach(function(K){if(K.getSmartFilterId){K._bStopDataLoad=false;K._updateKpiList(true);}});}},function(i){if(i instanceof Error){i.showMessageBox();}s.oIappStateHandler.fnOnError();s._bIsStartingUp=false;});}function H(e){var i=e.getParameters();var K=e.getSource();t.oCommonEventHandlers.onSemanticObjectLinkNavigationPressed(K,i);}function J(e){var i,K;i=e.getParameters();K=e.getSource();t.oCommonEventHandlers.onSemanticObjectLinkNavigationTargetObtained(K,i,s,undefined,undefined);}return{onInit:function(){var e=r.getOwnerComponent();L.setLevel(L.Level.WARNING,"ALPSmartFilterBar");var K=e.getModel("_templPriv");K.setProperty("/alp",{filterMode:e.getHideVisualFilter()?p:e.getDefaultFilterMode(),contentView:e.getDefaultContentView(),autoHide:e.getAutoHide(),visibility:{hybridView:(D.system.phone||D.system.tablet&&!D.system.desktop)?false:true},filterChanged:false});s.hideVisualFilter=e.getHideVisualFilter();s.hideVisualFilter=(s.hideVisualFilter===undefined||s.hideVisualFilter!==true)?false:true;s.oSmartFilterbar=r.byId("template::SmartFilterBar");s.oSmartTable=r.byId("table");s.oSmartFilterableKPI=r.byId("template::KPITagContainer::filterableKPIs");s.oPage=r.byId("template::Page");s.oSmartChart=r.byId("chart");if(r.getOwnerComponent().getProperty("dshQueryName")){s.oAnalyticGridContainer=r.byId("template::AnalyticGridContainer");s.oAnalyticGridController=new A();s.oAnalyticGridController.setState(s);}s.alr_compactFilterContainer=r.byId("template::CompactFilterContainer");s.alr_visualFilterContainer=r.byId("template::VisualFilterContainer");s.alr_filterContainer=r.byId("template::FilterContainer");s.alr_visualFilterBar=r.byId("template::VisualFilterBar");s.alp_ColumnListItem=r.byId("template::responsiveHightlightCol");if(s.alr_visualFilterBar){s.alr_visualFilterBar.setSmartFilterId(s.oSmartFilterbar.getId());s.alr_visualFilterBar.attachOnFilterItemAdded(function(i){var Z=i.getParameters();Z.attachBeforeRebindVisualFilter(function($){var _=$.getParameters();var a1=_.sEntityType;var b1=_.sDimension;var c1=_.sMeasure;var d1=_.oContext;var Y=s.oController;Y.onBeforeRebindVisualFilterExtension(a1,b1,c1,d1);});});}s.oKpiTagContainer=r.byId("template::KPITagContainer::globalKPIs");s.oFilterableKpiTagContainer=r.byId("template::KPITagContainer::filterableKPIs");if(s.oKpiTagContainer||s.oFilterableKpiTagContainer){sap.ui.require(["sap/suite/ui/generic/template/AnalyticalListPage/controller/KpiTagController"],function(i){i.init(s);});}s.oContentArea=new C();s.oTemplateUtils=t;s.toolbarController=new T();s.oController=r;s.filterBarController=new F();s.filterBarController.init(s);s.oContentArea.createAndSetCustomModel(s);s.oContentArea.setState(s);if(!s.hideVisualFilter){s.visualFilterBarContainer=new V();s.visualFilterBarContainer.init(s);}s.oIappStateHandler=new I(s,r,t.oCommonUtils.getNavigationHandler());u();w();r.byId("template::FilterText").attachBrowserEvent("click",function(){r.byId("template::Page").setHeaderExpanded(true);});K.setProperty("/listReport/isHeaderExpanded",true);if(s.oSmartTable){var M=s.oSmartTable.getTable();}var N="sapUiSizeCozy",P="sapUiSizeCompact",Q="sapUiSizeCondensed";if(t.oCommonUtils.isUiTable(M)||M instanceof b){var R=r.getView();var U=q(document.body);if(U.hasClass(N)||R.hasStyleClass(N)){s.oSmartTable.addStyleClass(N);}else if(U.hasClass(P)||R.hasStyleClass(P)){var W=e.getComponentContainer().getSettings().condensedTableLayout;if(W===false){s.oSmartTable.addStyleClass(P);}else{s.oSmartTable.addStyleClass(Q);}}}if(s.oSmartFilterableKPI){s.oSmartFilterableKPI.setModel(e.getModel("_templPriv"),"_templPriv");var X=s.oSmartFilterableKPI.getContent(),Y=s.oController;X.forEach(function(i){if(i.getSmartFilterId){i.attachBeforeRebindFilterableKPI(function(Z){var $=Z.getParameters(),_=$.selectionVariant,a1=$.entityType,b1=Z.getSource().getId();Y.onBeforeRebindFilterableKPIExtension(_,a1,b1);},Y);}});}v.getUrlParameterInfo=function(){return s.oIappStateHandler.getUrlParameterInfo();};v.onComponentActivate=function(){};v.refreshBinding=function(){if(s.alr_visualFilterBar&&s.alr_visualFilterBar.updateVisualFilterBindings){s.alr_visualFilterBar.updateVisualFilterBindings();}if(s.oSmartChart&&s.oSmartChart.rebindChart){s.oSmartChart.rebindChart();}if(s.oSmartTable){t.oCommonUtils.refreshSmartTable(s.oSmartTable);}if(s.oKpiTagContainer){var Z=s.oKpiTagContainer.mAggregations.content;for(var i in Z){if(Z[i]._createGlobalKpi){Z[i]._createGlobalKpi();}}}if(s.oFilterableKpiTagContainer){var Z=s.oFilterableKpiTagContainer.mAggregations.content;for(var i in Z){if(Z[i]._createFilterableKpi){Z[i]._createFilterableKpi();}}}};if(s.alr_visualFilterBar){s.alr_visualFilterBar.attachInitialized(function(i){s.bVisualFilterInitialised=true;if(!s._bIsStartingUp){s.oIappStateHandler.fnUpdateVisualFilterBar(true);}});}s.oSmartFilterbar.attachFilterChange(function(i){var Z=s.oSmartChart&&s.oSmartChart.getChart()&&s.oSmartChart.getDrillStackFilters();var K=e.getModel("_templPriv");if(Z&&Z.length){K.setProperty('/alp/_ignoreChartSelections',false);}else{K.setProperty('/alp/_ignoreChartSelections',true);}s.oIappStateHandler.fnCheckMandatory();var $=s.oSmartFilterbar.isDialogOpen();var _=i.getSource(),a1;a1=q.extend(true,{},_.getFilterData(true));if($&&s.visualFilterDialogContainer){var b1=s.visualFilterDialogContainer.oVerticalBox.getModel("_dialogFilter");b1.setData(a1);}else{var c1=s.oController.getOwnerComponent().getModel("_filter");c1.setData(a1);}if(i.getParameters().filterItem){if(!s.hideVisualFilter){s.filterBarController.changeVisibility(i);}K.setProperty('/alp/_ignoreChartSelections',false);}s.filterBarController._updateFilterLink();if(!s.oSmartFilterbar.isLiveMode()&&!s.oSmartFilterbar.isDialogOpen()){if(s.oSmartFilterableKPI&&s.oSmartFilterableKPI.getEnabled()){K.setProperty('/alp/filterChanged',true);}}});},handlers:{onBack:function(){t.oServices.oNavigationController.navigateBack();},addEntry:function(e){var i=e.getSource();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){t.oCommonEventHandlers.addEntry(i,false,s.oSmartFilterbar);},q.noop,s);},deleteEntries:function(e){t.oCommonEventHandlers.deleteEntries(e);},onSelectionChange:function(e){var K=e.getSource(),M=K.getModel(),P=K.getModel("_templPriv");var N=M.getMetaModel(),Q=N.getODataEntitySet(this.getOwnerComponent().getEntitySet()),R=Q["Org.OData.Capabilities.V1.DeleteRestrictions"];var U=(R&&R.Deletable&&R.Deletable.Path)?R.Deletable.Path:"";var W=false;var X=true;var Y=(U&&U!=="");var Z=t.oCommonUtils.getSelectedContexts(K);if(Z.length>0){for(var i=0;i<Z.length;i++){var $=M.getObject(Z[i].getPath());if(!($.IsActiveEntity&&$.HasDraftEntity&&$.DraftAdministrativeData&&$.DraftAdministrativeData.InProcessByUser)){X=false;}if(Y){if(M.getProperty(U,Z[i])){Y=false;}}if(!X&&!Y){W=true;break;}}}P.setProperty("/listReport/deleteEnabled",W);},onChange:function(e){t.oCommonEventHandlers.onChange(e);},onSmartFieldUrlPressed:function(e){t.oCommonEventHandlers.onSmartFieldUrlPressed(e,s);},onContactDetails:function(e){t.oCommonEventHandlers.onContactDetails(e);},onSmartFilterBarInitialise:B,onSmartFilterBarInitialized:G,onEditStateFilterChanged:function(e){e.getSource().fireChange();},onFilterPress:function(e){s.filterBarController.showDialog.call(s.filterBarController);},onClearPress:function(e){s.filterBarController.clearFilters();r.onClearFilterExtension(e);},onGoPress:function(e){s.filterBarController.onGoFilter();},onBeforeSFBVariantSave:function(){if(s.oSmartFilterbar.isDialogOpen()&&!s.hideVisualFilter){s.visualFilterDialogContainer._updateFilterBarFromDialog.call(s.visualFilterDialogContainer);}var e=s.oIappStateHandler.getCurrentAppState();if(!this.getOwnerComponent().getProperty('smartVariantManagement')){delete e.customData["sap.suite.ui.generic.template.genericData"].contentView;}s.oSmartFilterbar.setFilterData({_CUSTOM:e.customData});},onAfterSFBVariantLoad:function(e){if(!s.oSmartFilterbar.isDialogOpen()){s.filterBarController._afterSFBVariantLoad();}},onBeforeRebindTable:function(e){t.oCommonEventHandlers.onBeforeRebindTable(e);r.onBeforeRebindTableExtension(e);},onBeforeRebindChart:function(e){},onShowDetails:function(e){t.oCommonEventHandlers.onShowDetails(e.getSource(),s);},onListNavigate:function(e){t.oCommonEventHandlers.onListNavigate(e,s,r.onListNavigationExtension.bind(r));},onCallActionFromToolBar:function(e){var i=t.oCommonUtils.getParentTable;t.oCommonUtils.getParentTable=function(){return s.oSmartTable;};t.oCommonEventHandlers.onCallActionFromToolBar(e,s);t.oCommonUtils.getParentTable=i;i=null;},onShowDetailsIntent:function(e){t.oCommonEventHandlers.onShowDetailsIntent(e,s.oSmartFilterbar);},onCallActionFromList:function(e){},onDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldForIntentBasedNavigation(e,s);},onDataFieldWithIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldWithIntentBasedNavigation(e,s);},onBeforeSemanticObjectLinkPopoverOpens:function(e){var i=e.getParameters();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){var K=s.oSmartFilterbar.getUiState({allFilters:false}).getSelectionVariant();t.oCommonUtils.semanticObjectLinkNavigation(i,K,r);},q.noop,s,q.noop);},onAssignedFiltersChanged:function(e){if(e&&e.getSource()){if(s&&s.oSmartFilterbar&&s.filterBarController){r.byId("template::FilterText").setText(s.oSmartFilterbar.retrieveFiltersWithValuesAsText());}}},onToggleFiltersPressed:function(){var e=r.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isHeaderExpanded",(i.getProperty("/listReport/isHeaderExpanded")===true)?false:true);},onSearchButtonPressed:function(){if(D.system.phone&&s.oPage.getHeaderExpanded()){s.oPage.setHeaderExpanded(false);}var M=r.getOwnerComponent().getModel();if(s.oSmartFilterableKPI&&!s.oSmartFilterableKPI.getEnabled()){s.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/filterChanged',false);}M.attachEventOnce("requestSent",function(){if(!s._bIsStartingUp){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();}else{s.oIappStateHandler.fnResolveStartUpPromise();}});s.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',true);t.oCommonUtils.refreshModel(s.oSmartTable);},onSemanticObjectLinkPopoverLinkPressed:function(e){t.oCommonEventHandlers.onSemanticObjectLinkPopoverLinkPressed(e,s);},onSemanticObjectLinkNavigationPressed:H,onSemanticObjectLinkNavigationTargetObtained:J,onAfterTableVariantSave:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterApplyTableVariant:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterChartVariantSave:function(e){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();t.oCommonUtils.setEnabledToolbarButtons(e.getSource());},onAfterApplyChartVariant:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFilterModeSegmentedButtonChange:function(e){s.filterBarController.handleFilterSwitch(e.getParameter("key"),e.oSource._bApplyingVariant);s.oController._templateEventHandlers.onSegmentButtonPressed();},onContentViewSegmentButtonPressed:function(e){if(e.getParameter("key")==="crosstable"&&!s.oAnalyticGrid){s.oAnalyticGridController.initAnalyticGrid();}if(!s.oSmartFilterableKPI&&!s.oController.getOwnerComponent().getContentTitle()){var i=s.oController.getView(),K;if(e.getSource().getSelectedKey()==="customview1"){K="template::contentViewExtensionToolbar";}else if(e.getSource().getSelectedKey()==="customview2"){K="template::contentViewExtension2Toolbar";}else if(e.getSource().getSelectedKey()==="chart"||e.getSource().getSelectedKey()==="charttable"){K=i.byId("template::masterViewExtensionToolbar")?"template::masterViewExtensionToolbar":"template::ChartToolbar";}else if(e.getSource().getSelectedKey()==="table"){K="template::TableToolbar";}s.oController._templateEventHandlers.setFocusOnContentViewSegmentedButtonItem(i,K);}s.oController._templateEventHandlers.onSegmentButtonPressed(!s.oController.getOwnerComponent().getProperty('smartVariantManagement'));},setFocusOnContentViewSegmentedButtonItem:function(e,i){var K=e.byId(i);if(K){var M=K.getContent().length,N=K.getContent()[M-1];if(N){N.addEventDelegate({onAfterRendering:function(P){P.srcControl.focus();}});}}},onSegmentButtonPressed:function(i){if(!i){s.oController.byId('template::PageVariant').currentVariantSetModified(true);s.oSmartFilterbar.setFilterData({_CUSTOM:s.oIappStateHandler.getFilterState()});}s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onShareListReportActionButtonPress:function(e){if(!s.oShareActionSheet){s.oShareActionSheet=t.oCommonUtils.getDialogFragment("sap.suite.ui.generic.template.fragments.lists.ShareSheet",{shareEmailPressed:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();j.URLHelper.triggerEmail(null,t.oCommonUtils.getText("EMAIL_HEADER",[t.oServices.oApplication.getAppTitle()]),document.URL);},shareJamPressed:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();var i=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:t.oServices.oApplication.getAppTitle()}}});i.open();}},"share",function(i,K){var R=sap.ui.getCore().getLibraryResourceBundle("sap.m");K.setProperty("/emailButtonText",R.getText("SEMANTIC_CONTROL_SEND_EMAIL"));K.setProperty("/jamButtonText",R.getText("SEMANTIC_CONTROL_SHARE_IN_JAM"));K.setProperty("/bookmarkButtonText",R.getText("SEMANTIC_CONTROL_SAVE_AS_TILE"));var M=q.sap.getObject("sap.ushell.Container.getUser");K.setProperty("/jamVisible",!!M&&M().isJamActive());i.openBy(e.getSource());});}else{s.oShareActionSheet.openBy(e.getSource());}},onDeterminingDataFieldForAction:function(e){var i=s.oController.getOwnerComponent().getModel("_templPriv");var K=i.getProperty('/alp/contentView');var M=(K===n)?s.oSmartChart:s.oSmartTable;t.oCommonEventHandlers.onDeterminingDataFieldForAction(e,M);},onDeterminingDataFieldForIntentBasedNavigation:function(e){var i=e.getSource();var K=s.oController.getOwnerComponent().getModel("_templPriv");var M=K.getProperty('/alp/contentView');var N=(M===n)?s.oSmartChart:s.oSmartTable.getTable();t.oCommonEventHandlers.onDeterminingDataFieldForIntentBasedNavigation(i,N,s);},onInlineDataFieldForAction:function(e){t.oCommonEventHandlers.onInlineDataFieldForAction(e,s);},onInlineDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onInlineDataFieldForIntentBasedNavigation(e.getSource(),s);},onAutoHideToggle:function(){s.oSmartTable.getModel("_tableHighlight").setProperty("/highlightMode","eyeModeSwitch");s.chartController&&s.chartController._updateTable();s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFullScreenToggled:function(e){var i=e.getParameter("fullScreen");var K=e.getSource().getModel("_templPriv");K.setProperty("/alp/fullScreen",i);},onDialogClosed:function(e){s.visualFilterDialogContainer._closeDialog.call(s.visualFilterDialogContainer);},onDialogOpened:function(e){var i=s.oSmartFilterbar.getFilterDialogContent();if(!s.visualFilterDialogContainer){s.visualFilterDialogContainer=new a();s.visualFilterDialogContainer.init(s);}if(i.length<2){var K=[new d({icon:"sap-icon://filter-fields",width:"inherit",key:p,tooltip:"{i18n>FILTER_COMPACT}"}),new d({icon:"sap-icon://filter-analytics",width:"inherit",key:o,tooltip:"{i18n>FILTER_VISUAL}",enabled:"{_templPriv>/alp/searchable}"})];var M=new f({width:"inherit",selectedKey:p,items:K,select:function(e){var R=e.getSource();R.setSelectedKey(p);s.visualFilterDialogContainer._toggle.call(s.visualFilterDialogContainer);}}).addEventDelegate({onAfterRendering:function(e){if(e.srcControl.getCustomData()[0]&&e.srcControl.getCustomData()[0].getValue()){e.srcControl.focus();e.srcControl.removeAllCustomData();}}});var N=s.visualFilterDialogContainer._createForm();s.oSmartFilterbar.addFilterDialogContent(N);var P=new g({design:j.ToolbarDesign.Transparent,content:[new h(),M]}).addStyleClass("sapSmartTemplatesAnalyticalListPageFilterDialogToolbar");i[0].setToolbar(P);M.setModel(s.oController.getView().getModel("_templPriv"),"_templPriv");}var Q=s.oController.getView().getModel("_templPriv");if(Q.getProperty("/alp/searchable")){if(Q.getProperty("/alp/filterMode")===o){s.oSmartFilterbar.addFilterDialogContent(i[1]);if(D.system.desktop&&(!D.system.phone||!D.system.tablet)){s.oSmartFilterbar.setContentWidth(790);s.oSmartFilterbar.setContentHeight(685);}else if(D.system.tablet){if(D.orientation.portrait){s.oSmartFilterbar.setContentWidth(400);s.oSmartFilterbar.setContentHeight(720);}else if(D.orientation.landscape){s.oSmartFilterbar.setContentWidth(512);s.oSmartFilterbar.setContentHeight(861);}}}else{s.oSmartFilterbar.addFilterDialogContent(i[0]);}}else{s.oSmartFilterbar.addFilterDialogContent(i[0]);}},onSearchForFilters:function(e){s.visualFilterDialogContainer._triggerSearchInFilterDialog.call(s.visualFilterDialogContainer,e);},onDialogSearch:function(e){s.visualFilterDialogContainer._searchDialog.call(s.visualFilterDialogContainer);},onDialogClear:function(e){r.onClearFilterExtension(e);},onRestore:function(e){s.visualFilterDialogContainer._restoreDialog.call(s.visualFilterDialogContainer);},onDataReceived:function(e){s.oContentArea.enableToolbar();t.oCommonEventHandlers.onDataReceived(e);},onRowSelectionChange:function(e){var i=e.getSource();t.oCommonUtils.setEnabledToolbarButtons(i);}},extensionAPI:new E(t,r,s)};}};});
