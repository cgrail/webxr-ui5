sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/base/Event","sap/m/MessageBox","sap/m/Table","sap/ui/model/Sorter","sap/suite/ui/generic/template/lib/testableHelper","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/suite/ui/generic/template/js/AnnotationHelper","sap/suite/ui/generic/template/lib/modelHelper","sap/suite/ui/generic/template/lib/GroupHeaderFormatter","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/core/mvc/Controller","sap/base/Log"],function(q,B,E,M,T,S,t,J,c,A,m,G,a,C,L){"use strict";var V=c.mvc.ViewType;function g(o,b,s,d){function e(i){var j={};for(var k in i){var x=i[k];if(typeof x==="string"){j[k]=x;}else if(typeof x==="object"){if(x.value){j[k]=e(x).value;}else{j[k]=x;}}}return j;}function h(i){if(i instanceof sap.ui.generic.app.navigation.service.NavError){if(i.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){sap.m.MessageBox.show(d.getText("ST_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:d.getText("ST_GENERIC_ERROR_TITLE")});}else{sap.m.MessageBox.show(i.getErrorCode(),{title:d.getText("ST_GENERIC_ERROR_TITLE")});}}}function f(){var i=o.getView().getBindingContext();var j=s.oApplication.getDraftSiblingPromise(i);return j.then(function(k){return s.oApplication.getNavigateAfterCancelPromise(k);});}function l(j){var k=j;var x=-1;var t1=d.getOwnerControl(j);if(t1.getTable){t1=t1.getTable();}var u1=d.isAnalyticalTable(t1);var v1=b.getViewLevel();var w1;if(!u1){var x1=d.getTableBindingInfo(t1);var y1=x1&&x1.binding;var z1=null;if(y1){if(d.isTreeTable(t1)){var A1=(y1.getLength()>0)?y1.getLength():0;if(A1>0){z1=[];for(var B1=0;B1<A1;B1++){z1.push(y1.getContextByIndex(B1));}}}else if(d.isUiTable(t1)){z1=y1.getContexts();}else if(t1 instanceof T){z1=y1.getCurrentContexts();}}var C1=null;var D1=null;if(k&&k.getBindingContext&&k.getBindingContext().getPath){D1=k.getBindingContext()?k.getBindingContext().getPath():null;}if(y1&&y1.getContexts&&D1){for(var i=0;i<z1.length;i++){C1=z1[i];if(C1&&C1.getPath()===D1){x=i;break;}}}if(t1&&x!==-1&&z1.length>0){var E1;if(t1 instanceof T){E1=t1.getGrowingThreshold();}else if(d.isUiTable(t1)){E1=t1.getThreshold();}var F1=v1>0?d.getTableBindingInfo(t1).path:null;var G1=function(H1){return{context:H1,navigationData:{navigationProperty:F1}};};w1=z1&&{listBinding:y1,growingThreshold:E1,selectedRelativeIndex:x,objectPageNavigationContexts:z1,navigitionInfoProvider:G1};}}b.setPaginatorInfo(w1,true);}function n(i,j){var k=i.getSource().getUrl();i.preventDefault();d.processDataLossConfirmationIfNonDraft(function(){sap.m.URLHelper.redirect(k,false);},q.noop,j);}function p(j){var k=[];return d.getDialogFragment("sap.suite.ui.generic.template.ListReport.view.fragments.DeleteConfirmation",{onCancel:function(i){var x=i.getSource().getParent();x.close();},onDelete:function(x){var t1=x.getSource().getParent();var u1=t1.getModel("delete");var v1=u1.getProperty("/items");var w1=[];var x1=[];var y1=[];k=[];for(var i=0;i<v1.length;i++){if(!v1[i].draftStatus.locked&&v1[i].deletable){if(!v1[i].draftStatus.draft){if(v1[i].draftStatus.draftActive){y1.push(v1[i].context.sPath);}else if(v1.length===u1.getProperty("/unsavedChangesItemsCount")||!v1[i].draftStatus.unsavedChanges||u1.getProperty("/checkboxSelected")){w1.push(v1[i].context.sPath);}}else{x1.push(v1[i].context.sPath);k.push(v1[i].context.sPath);}}}x1=x1.concat(w1).concat(y1);var z1=s.oCRUDManager.deleteEntities(x1);b.getBusyHelper().setBusy(z1);z1.then(function(A1){var B1=0;var C1=[];for(var i=0;i<A1.length;i++){C1.push("/"+A1[i].split('/')[1]);if(k.indexOf(C1[i])!==-1){B1=B1+1;}}var D1=j.getTable();D1.getModel("_templPriv").setProperty("/listReport/deleteEnabled",false);var E1=x1.length-y1.length-(A1.length-B1);if((A1.length-B1)>0){var F1="";if(E1>0){F1+=(E1>1)?d.getText("ST_GENERIC_DELETE_SUCCESS_PLURAL_WITH_COUNT",[E1]):d.getText("ST_GENERIC_DELETE_SUCCESS_WITH_COUNT",[E1]);F1+="\n";F1+=(A1.length>1)?d.getText("ST_GENERIC_DELETE_ERROR_PLURAL_WITH_COUNT",[A1.length]):d.getText("ST_GENERIC_DELETE_ERROR_WITH_COUNT",[A1.length]);}else{F1=(A1.length>1)?d.getText("ST_GENERIC_DELETE_ERROR_PLURAL"):d.getText("ST_GENERIC_DELETE_ERROR");}M.error(F1);}else{var G1="";G1=(E1>1)?d.getText("ST_GENERIC_DELETE_SUCCESS_PLURAL"):d.getText("ST_GENERIC_OBJECT_DELETED");s.oApplication.showMessageToast(G1);}d.refreshSmartTable(j);},q.noop);t1.close();}},"delete");}function r(i,j){return new Promise(function(k,x){j.read(i+"/SiblingEntity",{success:function(t1){var u1="/"+j.getKey(t1);k(u1);},error:function(t1){var u1="Error";k(u1);}});});}function u(j){var k=o.getView().getModel();var x=k.getMetaModel();var t1=x.getODataEntitySet(o.getOwnerComponent().getEntitySet());var u1=t1["Org.OData.Capabilities.V1.DeleteRestrictions"];var v1=(u1&&u1.Deletable&&u1.Deletable.Path)?u1.Deletable.Path:"";var w1={items:undefined,itemsCount:j.length,text:{title:undefined,text:undefined,unsavedChanges:undefined,longText:undefined,undeletableText:undefined},lockedItemsCount:0,unsavedChangesItemsCount:0,undeletableCount:0,checkboxSelected:true};var x1=[];var y1=[];var z1,A1,B1,C1,D1;var E1=[];for(var i=0;i<j.length;i++){z1=k.getObject(j[i].getPath());if(!z1.IsActiveEntity){if(z1.HasActiveEntity){E1.push(r(j[i].getPath(),k));}}}var F1=0;return new Promise(function(G1,H1){Promise.all(E1).then(function(I1){for(var i=0;i<j.length;i++){z1=k.getObject(j[i].getPath());A1={};B1={};C1=true;D1={};if(!z1.IsActiveEntity){A1.draft=true;if(z1.HasActiveEntity){B1.draft=false;B1.draftActive=true;if(I1[F1]!="Error"){D1["oModel"]=j[0].getModel();D1["sPath"]=I1[F1++];}}}else if(z1.HasDraftEntity){var J1=k.getProperty("DraftAdministrativeData/CreatedByUserDescription",j[i]);var K1=k.getProperty("DraftAdministrativeData/InProcessByUser",j[i]);if(K1){A1.locked=true;A1.user=J1;w1.lockedItemsCount++;}else{A1.unsavedChanges=true;A1.user=J1;w1.unsavedChangesItemsCount++;}}if(v1&&v1!==""){if(k.getProperty(v1,j[i])===false){C1=false;w1.undeletableCount++;}}x1.push({context:j[i],draftStatus:A1,deletable:C1});if(!z1.IsActiveEntity&&z1.HasActiveEntity){y1.push({context:D1,draftStatus:B1,deletable:C1});}}if(y1.length>0){x1=x1.concat(y1);}w1.items=x1;if(w1.lockedItemsCount===w1.itemsCount){w1.text.title=d.getText("ST_GENERIC_ERROR_TITLE");}else{w1.text.title=(w1.itemsCount>1)?d.getText("ST_GENERIC_DELETE_TITLE_WITH_COUNT",[w1.itemsCount]):d.getText("ST_GENERIC_DELETE_TITLE");}w1.text.unsavedChanges=d.getText("ST_GENERIC_UNSAVED_CHANGES_CHECKBOX");if(w1.itemsCount>1){if(w1.lockedItemsCount===w1.itemsCount){w1.text.text=d.getText("ST_GENERIC_DELETE_LOCKED_PLURAL");}else if(w1.unsavedChangesItemsCount===w1.itemsCount){w1.text.text=d.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES_PLURAL");}else if(w1.lockedItemsCount>0){var L1=w1.itemsCount-w1.lockedItemsCount;w1.text.text=(w1.lockedItemsCount>1)?d.getText("ST_GENERIC_CURRENTLY_LOCKED_PLURAL",[w1.lockedItemsCount,w1.itemsCount]):d.getText("ST_GENERIC_CURRENTLY_LOCKED",[w1.itemsCount]);w1.text.text+="\n";if(L1===w1.unsavedChangesItemsCount){w1.text.text+=(L1>1)?d.getText("ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES_PLURAL"):d.getText("ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES");}else{w1.text.text+=(L1>1)?d.getText("ST_GENERIC_DELETE_REMAINING_PLURAL",[L1]):d.getText("ST_GENERIC_DELETE_REMAINING");}}else{w1.text.text=d.getText("ST_GENERIC_DELETE_SELECTED_PLURAL");}w1.text.undeletableText=d.getText("ST_GENERIC_DELETE_UNDELETABLE",[w1.undeletableCount,w1.itemsCount]);}else{if(w1.lockedItemsCount>0){w1.text.text=d.getText("ST_GENERIC_DELETE_LOCKED",[" ",w1.items[0].draftStatus.user]);}else if(w1.unsavedChangesItemsCount>0){w1.text.text=d.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES",[" ",w1.items[0].draftStatus.user]);}else{w1.text.text=d.getText("ST_GENERIC_DELETE_SELECTED");}}G1(w1);});});}function v(i,j,k,x){var t1=d.getNavigationHandler();var u1={};var v1={};for(var w1 in i.parameters){if(q.isEmptyObject(i.parameters[w1])){u1[w1]=i.parameters[w1];}else{v1[w1]=i.parameters[w1];}}v1=e(v1);t1.mixAttributesAndSelectionVariant({},x).getParameterNames().forEach(function(w1){delete u1[w1];});var x1=k&&k.getObject();var y1=j&&j.getObject?j.getObject():j&&j[0];var z1=q.extend({},u1,x1,y1,v1);return t1.mixAttributesAndSelectionVariant(z1,x);}function N(i,j,k,x){var t1=d.getNavigationHandler();var u1;if(k){u1=k.getUiState().getSelectionVariant();if(typeof u1!=="string"){u1=JSON.stringify(u1);}}var v1=v(i,j,o.getView().getBindingContext(),u1);var w1={semanticObject:i.semanticObject,action:i.action};o.adaptNavigationParameterExtension(v1,w1);t1.navigate(i.semanticObject,i.action,v1.toJSONString(),null,h);}function w(i){var j=d.getNavigationHandler();var k={semanticObject:i.semanticObject,action:i.action};var x=j.mixAttributesAndSelectionVariant(i.semanticAttributes);o.adaptNavigationParameterExtension(x,k);j.navigate(i.semanticObject,i.action,x.toJSONString(),null,h);}function H(i,k){var x=i.byId("icon");var t1=x&&x.getSrc();if(t1===""){t1=undefined;}var u1=i.byId("title");var v1=u1&&u1.getText();if(v1===""){v1=undefined;}var w1=i.byId("description");var x1=w1&&w1.getText();if(x1===""){x1=undefined;}for(var j=0;j<k.length;j++){var y1=k[j];var z1=A.getStableIdPartFromFacet(y1)+"::contactTitleAreaIcon";var A1=i.byId(z1);var B1=A.getStableIdPartFromFacet(y1)+"::contactTitleAreaTitle";var C1=i.byId(B1);var D1=A.getStableIdPartFromFacet(y1)+"::contactTitleAreaDescription";var E1=i.byId(D1);var F1=A1&&A1.getSrc();if(F1===""){F1=undefined;}var G1=C1&&C1.getText();if(G1===""){G1=undefined;}var H1=E1&&E1.getText();if(H1===""){H1=undefined;}if(t1&&F1&&v1&&G1&&x1&&H1){if((t1===F1||!F1)&&(v1===G1||!G1)&&(x1===H1||!H1)){var I1=A.getStableIdPartFromFacet(y1)+"::contactTitleArea";var J1=i.byId(I1);if(J1&&J1.setVisible){J1.setVisible(false);}}}}}function y(i,j,k,x){var t1=o.getOwnerComponent().getAppComponent().getManifestEntry("sap.app");var u1=t1.crossNavigation.outbounds[i.data("CrossNavigation")];var v1;if(k){if(d.isSmartChart(i)){v1=d.getOwnerControl(x)||d.getOwnerControl(i);}else{v1=d.getOwnerControl(i).getParent();}}N(u1,j,k,v1);}function z(i,j){}function O(i,j){d.processDataLossConfirmationIfNonDraft(function(){var k=i.data('SemanticObject');var x=i.data('Action');var t1=i.data('SemanticAttributes');if(k&&x){var u1={semanticObject:k,action:x};if(t1){t1="{"+t1+"}";u1.semanticAttributes=JSON.parse(t1);}w(u1);}},q.noop);}function D(k,x,t1,u1,v1){var w1="";var x1=function(b2){var c2=b2.dependent.propertyRef;var d2=x.originalId;var e2=o.getView().byId(d2);if(e2&&e2.mProperties.fieldName){for(var f2 in c2){if(c2[f2].name===e2.mProperties.fieldName){w1=e2.mProperties.fieldName;return true;}}}if(!e2){var g2=q("#"+d2.replace(/(:|\.|\[|\]|,|=)/g,"\\$1"));if(g2){e2=g2.control(0);if(e2&&e2.mProperties.fieldName){for(var f2 in c2){if(c2[f2].name===e2.mProperties.fieldName){w1=e2.mProperties.fieldName;return true;}}}}}return false;};var y1=function(){var z1,G1,b2,c2,d2,e2,f2;G1=k.getModel().getMetaModel();b2=G1.getODataEntitySet(k.getEntitySet());c2=G1.getODataEntityType(b2.entityType);if(!c2||!c2.navigationProperty){return;}for(var i=0;i<c2.navigationProperty.length;i++){d2=c2.navigationProperty[i];if(d2.name==="SiblingEntity"||d2.name==="DraftAdministrativeData"){continue;}var g2=d2.relationship;var h2=g2.lastIndexOf(".");var i2=g2.slice(0,h2);var j2=g2.slice(h2+1);var k2=G1.getObject("/dataServices/schema");var l2;for(var j in k2){if(k2[j].namespace===i2){l2=k2[j];break;}}var m2=l2.association;var n2;for(var j in m2){if(m2[j].name===j2){n2=m2[j];break;}}var o2=n2.referentialConstraint;if(o2&&o2.dependent&&o2.dependent.propertyRef){var p2=x1(o2);if(p2){e2=G1.getODataAssociationEnd(c2,d2.name);f2=G1.getODataEntityType(e2.type);var q2=G1.getODataEntityContainer();var r2="";var s2="";var t2="";for(var j=0;j<q2.entitySet.length;j++){var u2=f2.entityType;if(!u2){u2=f2.namespace+"."+f2.name;}if(q2.entitySet[j].entityType===u2){r2=q2.entitySet[j].name;s2=q2.entitySet[j].entityType;break;}}z1={navigation:d2.name,entitySet:r2,entityType:s2};if(f2["com.sap.vocabularies.UI.v1.HeaderInfo"]&&s2){var t2=G1.getODataEntityType(s2,true)+"/com.sap.vocabularies.UI.v1.HeaderInfo";z1.headerInfoPath=t2;}if(f2["com.sap.vocabularies.UI.v1.QuickViewFacets"]&&s2){var v2=G1.getODataEntityType(s2,true)+"/com.sap.vocabularies.UI.v1.QuickViewFacets";z1.quickViewFacetODataPath=v2;}if(z1.headerInfoPath||z1.quickViewFacetODataPath){return z1;}}}}return z1;};var z1=y1();var A1=false;var B1=false;var C1=false;var D1=[];var E1=o.getOwnerComponent();var F1=E1.getModel();var G1=F1.getMetaModel();if(z1){if(z1.quickViewFacetODataPath){var H1=G1.createBindingContext(z1.quickViewFacetODataPath,true);var I1=H1&&H1.getModel().getObject(H1.getPath());if(I1){A1=true;for(var j=0;j<I1.length;j++){var J1=I1[j];if(J1&&J1.Target&&J1.Target.AnnotationPath){if(J1.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>-1){B1=true;}else if(J1.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){C1=true;D1.push(J1);}}}}}}if(A1){var K1,L1;K1=G1.getODataEntitySet(k.getEntitySet());L1=G1.getODataEntityType(K1.entityType);var M1=z1.headerInfoPath&&G1.createBindingContext(z1.headerInfoPath,true);var v1=x.mainNavigation;var N1=x.semanticObject;var O1,P1;if(N1&&v1){var Q1=v1.getTarget&&v1.getTarget()||"";var R1=v1.getKey&&v1.getKey();if(R1){var S1=R1.split(N1+"-");O1=S1&&S1[1];if(N1&&O1){P1={"Target":Q1,"SemanticObject":N1,"Action":O1};}if(x.semanticAttributes){P1.SemanticAttributes=x.semanticAttributes;for(var i in x.semanticAttributes){var T1=x.semanticAttributes[i];if(T1.indexOf("{\"__deferred\":")>-1){delete P1.SemanticAttributes[i];}if(T1.indexOf("{\"__ref\":")>-1){delete P1.SemanticAttributes[i];}}if(P1.SemanticAttributes){var U1=JSON.stringify(P1.SemanticAttributes);if(U1&&U1.length>1){P1.SemanticAttributes=U1.substring(1,U1.length-1);}}}}}var V1=G1.getODataProperty(L1,w1);var W1=k&&k.mProperties&&k.mProperties.fieldSemanticObjectMap;var X1=new J({sourceClickedField:V1,sourceEntityType:L1,showFieldGroup:B1,showContact:C1,ignoredFields:W1,navigationPath:z1.navigation,mainNavigation:P1});X1.setDefaultBindingMode("OneWay");var Y1;var Z1=C.extend("",{oState:t1,_templateEventHandlers:{onSemanticObjectLinkNavigationPressed:o._templateEventHandlers.onSemanticObjectLinkNavigationPressed.bind(o._templateEventHandlers),onDataFieldWithIntentBasedNavigation:o._templateEventHandlers.onDataFieldWithIntentBasedNavigation.bind(o._templateEventHandlers)},onInit:function(){},onExit:function(){},onAfterRendering:function(){var $1=this.oView;var b2=$1.getParent().getParent().getParent();b2.setBusy(false);}});Y1=new Z1();Z1.connectToView=o.connectToView.bind(Y1);var $1=sap.ui.view({async:true,preprocessors:{xml:{bindingContexts:{sourceEntitySet:G1.createBindingContext(G1.getODataEntitySet(k.getEntitySet(),true)),entitySet:G1.createBindingContext(G1.getODataEntitySet(z1.entitySet,true)),header:M1,facetCollection:H1},models:{sourceEntitySet:G1,entitySet:G1,header:G1,facetCollection:G1,quickView:X1,parameter:b.getParameterModelForTemplating()}}},controller:Y1,type:V.XML,viewName:"sap.suite.ui.generic.template.fragments.QuickViewSmartForm",height:"100%"});x.show(undefined,undefined,undefined,$1);var _1=function(b2){var c2=b2.getSource();if(c2){var d2=c2.getParent().getParent().getParent();d2.setBusy(true);d2.setBusyIndicatorDelay(10);}};$1.attachBeforeRendering(_1.bind(this));var a2=function(b2){var c2=b2.getSource();if(c2){var d2=c2.byId("ownTitleArea");if(d2){var e2=c2.getParent();if(e2&&e2.getItems){var f2=e2.getItems()&&e2.getItems()[0];if(f2&&f2!=c2){f2.setVisible(false);}}}if(C1&&D1&&d2){H(c2,D1);}}};$1.attachAfterRendering(a2.bind(this));}else{x.show(u1,v1,undefined,undefined);}}function F(o,i){var x=o.getView&&o.getView().getBindingContext();var t1=x.getObject();var u1=o.getOwnerComponent().getModel().getMetaModel();var v1=u1.getODataEntitySet(o.getOwnerComponent().getEntitySet());var w1=u1.getODataEntityType(v1.entityType);var x1=w1["com.sap.vocabularies.Common.v1.SemanticKey"];var y1={};if(x1&&x1.length>0){for(var j=0;j<x1.length;j++){var z1=x1[j].PropertyPath;if(!y1[z1]){y1[z1]=[];y1[z1].push(t1[z1]);}}}else{for(var k in w1.key.propertyRef){var A1=w1.key.propertyRef[k].name;if(!y1[A1]){y1[A1]=[];y1[A1].push(t1[A1]);}}}return y1;}function I(k,i,x,t1){if(k[i].entitySet==x&&t1===k[i].navigationProperty&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].entitySet==x&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].pages){for(var j=0;j<(k[i].pages.length);j++){var u1=I(k[i].pages,j,x,t1);if(u1!==undefined&&u1!==null){return u1;}}}}function K(i){var j=i.getSource().getTable();var k=i.getSource().getEntitySet();var x=i.getSource().getTableBindingPath();var t1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");var u1=o.getOwnerComponent().getAppComponent().getConfig().pages;var v1=I(u1,0,k,x);if(v1!==undefined&&v1!==null&&t1){var w1=o.getOwnerComponent().getAppComponent().getManifestEntry("sap.app").crossNavigation.outbounds[v1];if(w1){var x1=w1.semanticObject;var y1=w1.action;var z1=o.getView().getModel("_templPriv");var A1=z1.getProperty("/generic/supportedIntents/");var B1=(x==="")?k:k+"::"+x;var C1=z1.getProperty("/generic/supportedIntents/"+x1+"/"+y1+"/"+B1);if(!C1){var D1={},E1;var F1=o.getOwnerComponent().getAppComponent();for(var G1 in w1.parameters){if(!q.isEmptyObject(w1.parameters[G1])){D1[G1]=w1.parameters[G1];}}if(o.getMetadata().getName()==='sap.suite.ui.generic.template.ObjectPage.view.Details'){E1=F(o,F1);}var H1={semanticObject:x1,action:y1};var I1=q.extend({},E1,D1);var J1={target:H1,params:I1};var K1=t1.isNavigationSupported([J1],F1);K1.done(function(L1){var M1=z1.getProperty("/generic/supportedIntents/"+x1);if(!M1){A1[x1]={};A1[x1][y1]={};A1[x1][y1][B1]={"supported":L1[0].supported};}else if(!M1[y1]){M1[y1]={};M1[y1][B1]={"supported":L1[0].supported};}else{M1[y1][B1]={"supported":L1[0].supported};}z1.updateBindings();if(L1[0].supported&&d.isUiTable(j)){var N1=j.getRowActionTemplate();N1.getItems()[0].setVisible(true);j.setRowActionTemplate(N1);}});}}}}function P(i){d.setEnabledToolbarButtons(i.getSource());K(i);}function Q(t1,u1){var v1=t1.getSource();var w1=v1.getTable();var x1=d.isMTable(w1);var y1=w1.getColumns();if(!u1||(u1&&!u1.isAnalyticalListPage)&&x1){for(var z1=0;z1<y1.length;z1++){if(y1[z1].getCustomData()[0].getValue()&&y1[z1].getCustomData()[0].getValue()["actionButton"]==="true"){y1[z1].setPopinDisplay("WithoutHeader");}}}var A1=t1.getParameter("bindingParams");A1.parameters=A1.parameters||{};if(v1.data().allowSearchWorkListLight){A1.parameters["custom"]={"search":t1.getSource().data().searchString};v1.data("allowSearchWorkListLight",false);if(t1.getSource().data().searchString){A1.parameters["custom"]={"search":t1.getSource().data().searchString};}}var B1=o.byId(v1.getSmartFilterId());if(!B1&&o.getMetadata().getName()==='sap.suite.ui.generic.template.ListReport.view.ListReport'){B1=o.byId("listReportFilter");var C1=B1.getBasicSearchValue();if(C1){A1.parameters["custom"]={"search":C1};}}u1=u1||Object.create(null);u1.setBindingPath=v1.setTableBindingPath.bind(v1);u1.addNecessaryFields=function(D1,E1,F1){var G1=v1.getModel().getMetaModel();var H1=G1.getODataEntitySet(F1);var I1=G1.getODataEntityType(H1.entityType);if(D1.length>0){if(!u1.isAnalyticalListPage){var J1={};for(var K1=0;K1<D1.length;K1++){var L1=D1[K1];if(L1){var J1=G1.getODataProperty(I1,L1);if(J1&&J1["com.sap.vocabularies.Common.v1.FieldControl"]&&J1["com.sap.vocabularies.Common.v1.FieldControl"].Path){var M1=J1["com.sap.vocabularies.Common.v1.FieldControl"].Path;if(M1!==" "){E1(M1);}}}}var N1=H1["Org.OData.Capabilities.V1.DeleteRestrictions"];E1(N1&&N1.Deletable&&N1.Deletable.Path);var O1=H1["Org.OData.Capabilities.V1.UpdateRestrictions"];E1(O1&&O1.Updatable&&O1.Updatable.Path);var P1=I1["com.sap.vocabularies.UI.v1.LineItem"]||[];var Q1=I1["com.sap.vocabularies.UI.v1.LineItem"];var R1=I1["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var S1=v1.getCustomData();for(var x=0;x<S1.length;x++){if(S1[x].getKey()&&S1[x].getKey()==="lineItemQualifier"){var T1=S1[x].getValue();if(T1){R1=I1["com.sap.vocabularies.UI.v1.LineItem#"+T1+"@com.sap.vocabularies.UI.v1.Criticality"];break;}}}E1(Q1&&R1&&R1.Path);}else{var S1=v1.getCustomData(),P1;for(var i=0;i<S1.length;i++){if(S1[i].getKey()&&S1[i].getKey()==="lineItemQualifier"&&S1[i].getValue()){var T1=S1[i].getValue();P1=I1["com.sap.vocabularies.UI.v1.LineItem#"+T1];break;}}if(!P1){P1=I1["com.sap.vocabularies.UI.v1.LineItem"];}}for(var K1=0;K1<P1.length;K1++){if(!u1.isAnalyticalListPage){var U1,V1;if(P1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){U1=G1.getODataFunctionImport(P1[K1].Action.String,true);if(U1){V1=G1.getObject(U1);if(V1["sap:action-for"]!==" "&&V1["sap:applicable-path"]!==" "){E1(V1["sap:applicable-path"]);}}}}if(P1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||(P1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath")){var W1,X1;if(P1[K1].Value&&P1[K1].Value.Path){W1=G1.getODataProperty(I1,P1[K1].Value.Path);if(W1){X1=W1["sap:text"]||(W1["com.sap.vocabularies.Common.v1.Text"]||"").Path||"";}if(!X1){X1=P1[K1].Value.Path;}E1(X1);}}if(P1[K1].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(P1[K1].Target&&P1[K1].Target.AnnotationPath&&P1[K1].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var Y1=P1[K1].Target.AnnotationPath;var Z1=I1[Y1.split("@")[1]];P1=P1.concat(Z1&&Z1.Data);continue;}if(P1[K1].Target&&P1[K1].Target.AnnotationPath){var Y1=P1[K1].Target.AnnotationPath;var $1=Y1.split("@")[1];var Z1=I1[$1];if(Z1&&Z1.MeasureAttributes){if(Z1.MeasureAttributes[0]&&Z1.MeasureAttributes[0].DataPoint&&Z1.MeasureAttributes[0].DataPoint.AnnotationPath){var _1=Z1.MeasureAttributes[0].DataPoint.AnnotationPath.split("@")[1];var a2=I1[_1];if(a2){for(var b2 in a2){E1(a2[b2]&&a2[b2].Path);if(b2==="CriticalityCalculation"&&a2.CriticalityCalculation){for(var c2 in a2.CriticalityCalculation){E1(a2.CriticalityCalculation[c2].Path);}}}}}}E1(Z1&&Z1.Measures&&Z1.Measures[0]&&Z1.Measures[0].PropertyPath);}}}if(!u1.isAnalyticalListPage){var d2=d.getBreakoutActions(v1);for(var e2 in d2){E1(d2[e2].requiresSelection&&d2[e2].applicablePath);}}}var f2=v1.getCustomData();var g2={};for(var k=0;k<f2.length;k++){g2[f2[k].getKey()]=f2[k].getValue();}var h2=v1.fetchVariant();if(!g2.TemplateSortOrder&&u1&&u1.determineSortOrder){g2.TemplateSortOrder=u1.determineSortOrder();}if((!h2||!h2.sort)&&g2.TemplateSortOrder){var i2=g2.TemplateSortOrder.split(", ");for(var j=0;j<i2.length;j++){var j2=i2[j].split(" ");if(j2.length>1){A1.sorter.push(new S(j2[0],j2[1]==="true"));}else{A1.sorter.push(new S(j2[0]));}}}if(x1){var k2=A1.sorter.filter(function(l2){return l2.vGroup;});if(k2.length){var l2=k2[0];var m2=m.getODataProperty(G1,I1,l2.sPath);var n2=m2["com.sap.vocabularies.Common.v1.Text"]&&m2["com.sap.vocabularies.Common.v1.Text"].Path;E1(n2);if(h2.group&&h2.group.groupItems&&h2.group.groupItems.length){var o2=h2.group.groupItems[0].columnKey;var p2=y1.filter(function(u2){return u2.data("p13nData").columnKey===o2;});if(p2.length){var q2=p2[0];var r2=q2.data("p13nData").additionalProperty;if(r2){r2.split(",").forEach(function(u2){E1(u2);});}var s2=q2.getHeader().getText();l2.fnGroup=G.getGroupFunctionForMTable(v1,l2.sPath,s2);}}}}if(d.isAnalyticalTable(w1)){G.setGroupFunctionForAnalyticalTable(v1);}if(!u1.isAnalyticalListPage){var t2=s.oDraftController.getDraftContext();if(t2.isDraftEnabled(F1)&&t2.isDraftRoot(F1)&&t2.hasDraftAdministrativeData(F1)){if(D1.length>0){E1("DraftAdministrativeData");}}}};d.onBeforeRebindTableOrChart(t1,u1,B1);}function R(i,j,k,x){var t1,u1;if(i instanceof E){u1=i.getSource();if(d.isMTable(u1)){u1=i.getParameter('listItem');}else{t1=i;}}else{u1=i;}t1=t1||new E("press",u1,{id:u1.getId()});x=x||u1.getBindingContext();if(k&&k(t1,x)){return;}if(u1.data("CrossNavigation")){y(u1,x,j.oSmartFilterbar);return;}var v1=d.getOwnerControl(u1);l(u1);d.navigateFromListItem(x,v1);}function U(i,j,k,x,t1){if(t1){R(i,j,k,x);}else{d.processDataLossConfirmationIfNonDraft(R.bind(null,i,j,k,x),q.noop,j);}}function W(i){s.oApplication.performAfterSideEffectExecution(function(){if(s.oApplication.getBusyHelper().isBusy()){L.info("Ignore incorrect selection, since app is busy anyway");return;}var j=i?"ST_GENERIC_MULTIPLE_ITEMS_SELECTED":"ST_GENERIC_NO_ITEM_SELECTED";M.error(d.getText(j),{styleClass:d.getContentDensityClass()});});}function X(i,j){var k=i.getParent().getParent().getTable();var x=d.getSelectedContexts(k);if(x.length===1){d.processDataLossConfirmationIfNonDraft(function(){if(i.data("CrossNavigation")){y(i,x[0],j.oSmartFilterbar);return;}l(i);d.navigateFromListItem(x[0],k);},q.noop,j);}else{W(x.length);}}function Y(k){var x,i,t1;var u1=o.getOwnerComponent(),v1=k.getSource().getCustomData(),w1="10rem";if(v1.length===0){return;}for(i=0,t1=v1.length;i<t1;i++){if(v1[i].getProperty("key")==="Target"){x=v1[i].getProperty("value");break;}}if(!x){M.show(d.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:d.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:w1,details:d.getText("ST_GENERIC_ERROR_IN_NAVIGATION_PROPERTY_MISSING",["DataFieldWithNavigationPath"])});return;}var x1=u1.getModel(),y1=x1.getMetaModel();var z1=k.getSource().getBindingContext().getPath(),A1=z1.slice(1,z1.indexOf("(")),B1=y1.getODataEntityType(y1.getODataEntitySet(A1).entityType),j,C1=false,D1=B1.navigationProperty.length;for(j=0;j<D1;j++){if(B1.navigationProperty[j].name===x){C1=true;break;}}if(!C1){M.show(d.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:d.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:w1,details:d.getText("ST_GENERIC_ERROR_NAVIGATION_PROPERTY_NOT_CORRECT",[x,"DataFieldWithNavigationPath"])});return;}var E1=y1.getODataAssociationEnd(B1,x),F1=y1.getODataEntityType(E1.type),G1,H1;if(F1){G1=F1.namespace+"."+F1.name;}var I1=y1.getODataEntityContainer().entitySet;for(i=0,t1=I1.length;i<t1;i++){if(I1[i].entityType===G1){H1=I1[i].name;break;}}if(!H1){var J1=G1.split(".")[1];J1=J1.slice(0,J1.length-4);M.show(d.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:d.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:w1,details:d.getText("ST_NAV_ERROR_TARGET_ENTITYSET_IS_MISSING",[J1])});return;}var K1=d.getNavigationKeyProperties(H1),L1=s.oNavigationController,M1={"$expand":""};if(b.isDraftEnabled()){M1={"$expand":"DraftAdministrativeData"};}var N1=new Promise(function(O1,P1){x1.read(z1+"/"+x,{urlParameters:M1,success:function(Q1){O1(Q1);s.oApplication.invalidatePaginatorInfo();var R1=d.mergeNavigationKeyPropertiesWithValues(K1,Q1);s.oApplication.setStoredTargetLayoutToFullscreen(1);L1.navigateToContext(R1,null,false);},error:function(Q1){P1(Q1);}});});b.getBusyHelper().setBusy(N1);}function Z(i,j){var k=i.getSource();var x=d.getElementCustomData(k);var t1=d.getOwnerControl(k);t1=d.isMTable(t1)?t1.getParent():t1;var u1=d.getSelectedContexts(t1);a1(k,x,u1,j);}function $(i,j){var k=new a(j);for(var x in i){var t1=i[x].getObject(i[x].sPath);for(var u1 in t1){if(t1[u1]){if(typeof t1[u1]!=="object"){k.addSelectOption(u1,"I","EQ",t1[u1].toString());}else{k.addSelectOption(u1,"I","EQ",JSON.stringify(t1[u1]));}}}}return k;}function _(i,j){var k=i.getSource();var x=k.getParent().getBindingContext();var t1=k.data("SemanticObject");var u1=k.data("Action");d.processDataLossConfirmationIfNonDraft(function(){var v1={action:u1,semanticObject:t1};N(v1,x,j.oSmartFilterbar||undefined,j.oSmartTable||undefined);},q.noop,j);}function a1(i,j,k,x){var t1={action:j.Action,semanticObject:j.SemanticObject};if(k.length<=1){d.processDataLossConfirmationIfNonDraft(function(){N(t1,k[0],x.oSmartFilterbar||undefined,x.oSmartTable||undefined);},q.noop,x);}else{var u1=d.getNavigationHandler();var v1=i.data("fe_multiValue");var w1=function(){var y1=x.oSmartFilterbar.getUiState().getSelectionVariant();var z1=$(k,y1);u1.navigate(t1.semanticObject,t1.action,z1.toJSONString(),null,h);return;};if(v1===null){var x1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");t1.tags=["fe_multiValue"];x1.getLinks(t1).then(function(y1){var z1=y1[0];if(z1){i.data("fe_multiValue",true);d.processDataLossConfirmationIfNonDraft(w1,q.noop,x);}else{i.data("fe_multiValue",false);W(k.length);}});}else if(v1===true){d.processDataLossConfirmationIfNonDraft(w1,q.noop,x);}else{W(k.length);}}}function b1(i,j,k){var x=d.getElementCustomData(i);var t1=d.getSelectedContexts(j);var u1=!(x.RequiresContext&&x.RequiresContext==="false");if(u1&&!t1.length){W(t1.length);}else{a1(i,x,t1,k);}}function c1(i,j){d.processDataLossConfirmationIfNonDraft(function(){var k={semanticObject:i.data("SemanticObject"),action:i.data("Action")};var x=i.getParent().getBindingContext();N(k,x,j.oSmartFilterbar,j.oSmartTable);},q.noop,j);}function d1(i,j){var k=i.getSource();var x=d.getOwnerControl(k).getParent();var t1=[k.getBindingContext()];var u1=d.getElementCustomData(k);var v1=x.getEntitySet();d.triggerAction(t1,v1,u1,x,j);}function e1(i,j){var k=o.getView();var x=j?d.getSelectedContexts(j):[k.getBindingContext()];if(x.length===0){W(x.length);}else{var t1=i.getSource();var u1=d.getElementCustomData(t1);var v1=j?j.getEntitySet():o.getOwnerComponent().getEntitySet();d.triggerAction(x,v1,u1,j);}}function f1(i,j){var k,x="";var t1=d.getOwnerControl(i.getSource());t1=d.isMTable(t1)?t1.getParent():t1;var u1=i.getSource().data();var v1=d.getSelectedContexts(t1);if(d.isSmartTable(t1)){k=t1.getTable();x=t1.getEntitySet();}else if(d.isSmartChart(t1)){k=t1.getChart();x=t1.getEntitySet();}var w1=h1(v1,u1);if(!w1){return;}if(w1.inApplicableCount>0&&(d.isSmartTable(t1)&&((k.getMode&&k.getMode()==="MultiSelect")||(k.getSelectionMode&&k.getSelectionMode()==="MultiToggle")))){var x1=d.getText("ST_GENERIC_WARNING_TEXT",[w1.inApplicableCount]);w1.warningText=x1;var y1={functionImportPath:u1.Action,contexts:w1.aApplicableContexts,sourceControl:k,label:u1.Label,operationGrouping:u1.InvocationGrouping,navigationProperty:"",sEntitySet:x,oState:j};var z1=g1(t1);var A1=z1.getModel("Action");A1.setData(y1);var B1=new sap.ui.model.json.JSONModel(w1);z1.setModel(B1,"list");var C1=z1.getModel("list");C1.setData(w1);z1.open();}else{i1({functionImportPath:u1.Action,contexts:v1,sourceControl:k,label:u1.Label,operationGrouping:u1.InvocationGrouping,navigationProperty:""},j,x);}}function g1(i){return d.getDialogFragment("sap.suite.ui.generic.template.fragments.ActionConfirmation",{onCancel:function(j){var k=j.getSource().getParent();k.close();},onContinue:function(j){var k=j.getSource().getParent();var x=j.getSource().getParent().getModel("Action").getData();i1({functionImportPath:x.functionImportPath,contexts:x.contexts,sourceControl:x.sourceControl,label:x.label,operationGrouping:x.operationGrouping,navigationProperty:x.navigationProperty},x.oState,x.sEntitySet);k.close();}},"Action");}function h1(j,k){var x,t1,u1,v1;var w1=o.getView().getModel();var x1=w1.getMetaModel();if(j&&j.length>0){u1=j[0].sPath.substring(1,j[0].sPath.indexOf('('));v1=x1.getODataEntitySet(u1);}if(v1){var y1=k.Action.split("/")[1];var z1=[],A1=[];var B1={aInApplicableItems:undefined,inApplicableCount:0,dialogTitle:k.Label,warningText:undefined,aApplicableContexts:undefined};if(y1){t1=x1.getODataFunctionImport(y1)["sap:applicable-path"];}for(var i=0;i<j.length;i++){x=w1.getObject(j[i].getPath());if(!x[t1]){B1.inApplicableCount++;var C1=x1.getODataEntityType(x1.getODataEntitySet(u1).entityType);var D1=C1["com.sap.vocabularies.UI.v1.HeaderInfo"]?(C1["com.sap.vocabularies.UI.v1.HeaderInfo"].Title&&C1["com.sap.vocabularies.UI.v1.HeaderInfo"].Title.Value)||{}:{};var E1="";if(D1.Path){E1=j[i].getProperty(D1.Path);}else{E1=D1.String||"";}z1.push({sKey:E1});}else{A1.push(j[i]);}}B1.aInApplicableItems=z1;B1.aApplicableContexts=A1;}return B1;}function i1(j,k,x){var t1;d.processDataLossConfirmationIfNonDraft(function(){s.oCRUDManager.callAction({functionImportPath:j.functionImportPath,contexts:j.contexts,sourceControl:j.sourceControl,label:j.label,operationGrouping:j.operationGrouping,navigationProperty:j.navigationProperty},k).then(function(u1){if(u1&&u1.length){for(var i=0;i<u1.length;i++){t1=u1[i];if(t1.response&&t1.response.context&&(!t1.actionContext||t1.actionContext&&t1.response.context.getPath()!==t1.actionContext.getPath())){s.oApplication.getBusyHelper().getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,o.getOwnerComponent(),x));break;}}}});},q.noop,k,"Proceed");}var j1;var k1;function l1(i){j1=true;k1=i;var j=d.getDialogFragment("sap.suite.ui.generic.template.fragments.DiscardDraftPopover",{onDiscardConfirm:function(){L.info("Draft cancellation confirmed");if(!j1){L.info("Draft popover no longer active -> Ignore.");return;}k1();}},"discard");return j;}function m1(i,j){var k=new Promise(function(t1,u1){i.then(function(v1){L.info("Active information for current draft has been read. Start discarding the draft");var w1=s.oCRUDManager.deleteEntity(false,true);w1.then(function(){L.info("Draft was discarded successfully");j();s.oViewDependencyHelper.setRootPageToDirty();s.oViewDependencyHelper.unbindChildren(o.getOwnerComponent());s.oApplication.invalidatePaginatorInfo();v1();t1();},u1);},u1);});var x={discardPromise:k};b.fire(o,"AfterCancel",x);s.oApplication.getBusyHelper().setBusy(k);k.catch(j);return k;}function n1(i,j){var k=f();s.oApplication.performAfterSideEffectExecution(function(){if(s.oApplication.getBusyHelper().isBusy()){L.info("Ignore discarding confirmation as app is already busy");return;}var x=o.getView().getBindingContext();var t1=x.getObject();var u1=t1.hasOwnProperty("HasActiveEntity")&&!x.getProperty("IsActiveEntity")&&!x.getProperty("HasActiveEntity");var v1=x&&x.getPath();var w1=s.oApplication.getIsDraftModified(v1)||j.hasValidationMessageOnDetailsViews();if(w1){var x1=i.getSource();var y1;var z1=function(){j1=false;y1.close();L.info("Draft popover closed");};y1=l1(m1.bind(null,k,z1));var A1=y1.getModel("discard");A1.setProperty("/placement",sap.m.PlacementType.Top);A1.setProperty("/isCreateDraft",u1);y1.openBy(x1);}else{m1(k,q.noop);}});}function o1(){if(b.getViewLevel()!==1||!b.isDraftEnabled()){L.warning("Discard draft only possible on root level of draft enabled entities");return Promise.reject();}var i=o.getOwnerComponent();if(!(b.isComponentActive()&&i.getModel("ui").getProperty("/editable"))){L.warning("Discard draft only possible in edit mode");return Promise.reject();}var j=f();return m1(j,q.noop);}function p1(i,j,k,x){if(i.data("CrossNavigation")){y(i,i.getBindingContext(),k);return new Promise(function(y1){y1();});}var t1=d.getOwnerControl(i);t1=d.isSmartTable(t1)?t1:t1.getParent();var u1=t1.getTableBindingPath();var v1=t1.getEntitySet();var w1=o.getOwnerComponent();var x1=function(y1){var z1=s.oCRUDManager.addEntry(t1,y1).then(function(A1){if(!j){s.oNavigationController.navigateToContext(A1.newContext,A1.tableBindingPath,false,4);s.oApplication.getBusyHelper().getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,w1,v1));}else{d.refreshSmartTable(t1);s.oApplicationController.executeSideEffects(w1.getBindingContext(),[],[u1]);}});z1.catch(q.noop);return z1;};if(x instanceof Promise){return x.then(x1);}else{return x1(x);}}function q1(){var i={batchGroupId:"Changes",changeSetId:"Changes",draftSave:true,noBlockUI:true,noShowResponse:true,onlyIfPending:true,pendingChanges:true,forceSubmit:true};s.oTransactionController.triggerSubmitChanges(i);}function r1(i){var j=d.getOwnerControl(i.getSource());j=d.isMTable(j)?j.getParent():j;var k=d.getSelectedContexts(j);if(k&&k.length>0){var x=u(k);var t1=Promise.resolve(o.beforeDeleteExtension({aContexts:k}));t1.then(function(u1){var v1=s.oApplication.getBusyHelper();v1.setBusy(x);x.then(function(w1){q.extend(w1.text,u1);var x1=p(j);var y1=x1.getModel("delete");y1.setData(w1);x1.open();},q.noop);});}else{M.error(d.getText("ST_GENERIC_NO_ITEM_SELECTED"),{styleClass:d.getContentDensityClass()});}}function s1(j){var k=j.getSource().getModel();var x=JSON.parse(j.getSource().data("contactDetails"));var t1=d.getDialogFragment("sap.suite.ui.generic.template.fragments.ContactDetails",{},"contact");var u1=t1.getModel("contact");var v1=k.getContext(j.getSource().getBindingContext().getPath());var w1;u1.setProperty("/",{});(x.fn&&x.fn.Path)?u1.setProperty("/fn",(v1.getProperty(x.fn.Path))):u1.setProperty("/fn",(x.fn&&x.fn.String));(x.title&&x.title.Path)?u1.setProperty("/title",(v1.getProperty(x.title.Path))):u1.setProperty("/title",(x.title&&x.title.String));(x.photo&&x.photo.Path)?u1.setProperty("/photo",(v1.getProperty(x.photo.Path))):u1.setProperty("/photo",(x.photo&&x.photo.String));(x.role&&x.role.Path)?u1.setProperty("/role",(v1.getProperty(x.role.Path))):u1.setProperty("/role",(x.role&&x.role.String));(x.org&&x.org.Path)?u1.setProperty("/org",(v1.getProperty(x.org&&x.org.Path))):u1.setProperty("/org",(x.org&&x.org.String));if(x.email&&x.email[0]&&!u1.getProperty("/email")){w1=x.email[0].type&&x.email[0].type.EnumMember;if(w1&&w1.indexOf("com.sap.vocabularies.Communication.v1.ContactInformationType/work")>-1){if(x.email[0].address&&x.email[0].address.Path){u1.setProperty("/email",(v1.getProperty(x.email[0].address.Path)));}else{u1.setProperty("/email",(x.email[0].address&&x.email[0].address.String));}}}var x1=(x.tel&&x.tel.length)||0;for(var i=0;i<x1;i++){if(x.tel[i]&&!u1.getProperty("/fax")){w1=x.tel[i].type&&x.tel[i].type.EnumMember;if(w1&&w1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/fax")>-1){if(x.tel[i].uri&&x.tel[i].uri.Path){u1.setProperty("/fax",(v1.getProperty(x.tel[i].uri.Path)));}else{u1.setProperty("/fax",(x.tel[i].uri&&x.tel[i].uri.String));}continue;}}if(x.tel[i]&&!u1.getProperty("/cell")){w1=x.tel[i].type&&x.tel[i].type.EnumMember;if(w1&&w1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/cell")>-1){if(x.tel[i].uri&&x.tel[i].uri.Path){u1.setProperty("/cell",(v1.getProperty(x.tel[i].uri.Path)));}else{u1.setProperty("/cell",(x.tel[i].uri&&x.tel[i].uri.String));}continue;}}if(x.tel[i]&&!u1.getProperty("/work")){w1=x.tel[i].type&&x.tel[i].type.EnumMember;if(w1&&w1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/work")>-1){if(x.tel[i].uri&&x.tel[i].uri.Path){u1.setProperty("/work",(v1.getProperty(x.tel[i].uri.Path)));}else{u1.setProperty("/work",(x.tel[i].uri&&x.tel[i].uri.String));}continue;}}}t1.openBy(j.getSource());}var v=t.testable(v,"fnBuildSelectionVariantForNavigation");var e=t.testable(e,"fnEvaluateParameters");var N=t.testable(N,"fnNavigateIntent");var H=t.testable(H,"fnHideTitleArea");return{onDataReceived:P,onBeforeRebindTable:Q,onListNavigate:U,onShowDetails:X,onEditNavigateIntent:y,onSemanticObjectLinkPopoverLinkPressed:z,onDataFieldWithNavigationPath:Y,onDataFieldForIntentBasedNavigation:Z,onDeterminingDataFieldForIntentBasedNavigation:b1,onDeterminingDataFieldForAction:e1,onInlineDataFieldForIntentBasedNavigation:c1,onDataFieldWithIntentBasedNavigation:_,onInlineDataFieldForAction:d1,onSmartFieldUrlPressed:n,onCallActionFromToolBar:f1,onDiscardDraft:n1,discardDraftWithoutDialog:o1,addEntry:p1,deleteEntries:r1,onContactDetails:s1,onSemanticObjectLinkNavigationTargetObtained:D,onSemanticObjectLinkNavigationPressed:O,submitChangesForSmartMultiInput:q1};}return B.extend("sap.suite.ui.generic.template.lib.CommonEventHandlers",{constructor:function(o,b,s,d){q.extend(this,g(o,b,s,d));}});});
