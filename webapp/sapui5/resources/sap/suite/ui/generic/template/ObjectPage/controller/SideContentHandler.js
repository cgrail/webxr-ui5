sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/layout/DynamicSideContent"],function(q,B,D){"use strict";function g(c,t,s){function a(e){return t.oCommonUtils.getControlInformation(e);}function i(e){if(!(e instanceof D)){return;}t.oCommonUtils.getControlInformation(e,function(h,C,j){var T=t.oComponentUtils.getTemplatePrivateModel();var v=c.getView();var G=j.getId();var k=v.getLocalId(G);var m="/generic/controlProperties/"+k;T.setProperty(m,{});var l=j.getSideContentVisibility();var n=T.setProperty.bind(T,m+"/showBothContentsPossible");var p=T.setProperty.bind(T,m+"/visible");var r=m+"/showSideContent";h.getShowSideContent=T.getProperty.bind(T,r);h.setShowSideContent=T.setProperty.bind(T,r);h.setShowSideContent(false);p(false);var u=sap.ui.layout.SideContentVisibility;switch(l){case u.AlwaysShow:h.adaptToBreakPoint=q.noop;n(true);break;case u.NeverShow:h.adaptToBreakPoint=q.noop;n(false);break;default:var w=Object.create(null);w.XL=true;w.L=l!==u.ShowAboveL;w.M=l===u.ShowAboveS;w.S=false;h.adaptToBreakPoint=function(){p(j.isSideContentVisible());var y=j.getCurrentBreakpoint();n(w[y]);};h.adaptToBreakPoint();}h.toggleVisibility=function(){var N=!j.isSideContentVisible();p(N);h.setShowSideContent(N);s();};var x=t.oCommonUtils.getContextText("ShowSideContent",G,"SHOW_SIDE_CONTENT");var H=t.oCommonUtils.getContextText("HideSideContent",G,"HIDE_SIDE_CONTENT");h.formatSideContentActionButtonText=function(V){return V?H:x;};C.push("sideContent");});}function S(e){var h=e.getSource();var j=a(h);setTimeout(function(){j.adaptToBreakPoint();},0);}function o(e){var h=c.byId(e);var j=a(h);j.toggleVisibility();}function b(){var m;t.oCommonUtils.executeForAllInformationObjects("sideContent",function(e,h){var j=e.getShowSideContent();if(j){m=m||Object.create(null);m[h.getId()]=true;}});return m&&{data:m,lifecycle:{permanent:true,pagination:true}};}function d(e,I){t.oCommonUtils.executeForAllInformationObjects("sideContent",function(h,j){if(!I){var k=!!e&&e[j.getId()];h.setShowSideContent(k);}h.adaptToBreakPoint();});}function f(e,v){var h=c.byId(e);var j=a(h);return j.formatSideContentActionButtonText(v);}return{initSideContentInfoObject:i,onToggleDynamicSideContent:o,sideContentBreakpointChanged:S,getCurrentState:b,applyState:d,formatSideContentActionButtonText:f};}return B.extend("sap.suite.ui.generic.template.ObjectPage.controller.SideContentHandler",{constructor:function(c,t,s){q.extend(this,g(c,t,s));}});});
