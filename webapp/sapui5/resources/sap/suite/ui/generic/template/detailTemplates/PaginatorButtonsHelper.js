sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/suite/ui/generic/template/lib/testableHelper"],function(q,B,t){"use strict";var T=(function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");return{navDownTooltip:r.getText("FACETFILTER_NEXT"),navUpTooltip:r.getText("FACETFILTER_PREVIOUS")};})();function g(c,C,o){var a=o.oComponentUtils.getTemplatePrivateModel();var b=C.getOwnerComponent().getModel("_templPrivGlobal");function d(){var p=o.oComponentUtils.getPaginatorInfo();var P=!!p&&(!c.fclInfo.isContainedInFCL||b.getProperty("/generic/FCL/isVisuallyFullScreen"));var l=P&&(p.listBinding?p.listBinding.getLength():p.objectPageNavigationContexts.length);var n=P&&(p.selectedRelativeIndex!==(l-1));var N=P&&p.selectedRelativeIndex>0;a.setProperty("/objectPage/navButtons/navUpEnabled",N);a.setProperty("/objectPage/navButtons/navDownEnabled",n);}function h(p,j){var k=p.objectPageNavigationContexts[j];p.selectedRelativeIndex=j;o.oComponentUtils.setPaginatorInfo(p,false);var n=p.navigitionInfoProvider(k);var m=q.extend({},n.navigationData);m.replaceInHistory=true;o.oCommonUtils.navigateToContext(n.context,m);}function e(s){var j=o.oServices.oApplication.getBusyHelper();if(j.isBusy()){return;}var p=o.oComponentUtils.getPaginatorInfo();var l=p.listBinding;var n=p.selectedRelativeIndex+s;var A=p.objectPageNavigationContexts;if(A&&A[n]){h(p,n);}else{var k=new Promise(function(r,R){var m=p.growingThreshold||Math.ceil(l.getLength()/5);var S=A?A.length:n;var u=S+m;var v=function(P){var N=P.getSource().getContexts(0,u);p.objectPageNavigationContexts=N;l.detachDataReceived(v);h(p,n);r();};l.attachDataReceived(v);l.loadData(0,u);});j.setBusy(k);}}function f(){e(1);}function i(){e(-1);}a.setProperty("/objectPage/navButtons",q.extend({navDownEnabled:false,navUpEnabled:false},T));if(c.fclInfo.isContainedInFCL){var F=b.bindProperty("/generic/FCL/isVisuallyFullScreen");F.attachChange(d);}return{computeAndSetVisibleParamsForNavigationBtns:d,handleShowNextObject:f,handleShowPrevObject:i};}return B.extend("sap.suite.ui.generic.template.detailTemplates.PaginatorButtonsHelper",{constructor:function(c,C,o){q.extend(this,(t.testableStatic(g,"PaginatorButtonsHelper"))(c,C,o));}});});
