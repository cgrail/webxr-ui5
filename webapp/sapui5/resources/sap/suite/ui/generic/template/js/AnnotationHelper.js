(function(){"use strict";jQuery.sap.require("sap.ui.comp.smartfield.SmartField");jQuery.sap.require("sap.suite.ui.generic.template.js.StableIdHelper");jQuery.sap.declare("sap.suite.ui.generic.template.js.AnnotationHelper");var L=sap.ui.require("sap/base/Log");function E(e,m){var o=m[e];var f=o&&o["sap.ui.generic.app"];return!!(f&&f.enableLazyLoading);}function g(C,p){var n=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var N=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=N.length-1;i>=0;i--){if(N[i].PropertyPath===p){n=true;break;}}}var e=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var f=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=f.length-1;j>=0;j--){if(f[j].PropertyPath===p){e=true;break;}}}}else{e=true;}}var r={getFilterRestriction:function(){return e;},getSortRestriction:function(){return n;}};return r;}function h(l,s){return!!(l.name&&s&&s.some(function(S){return l.name===S.entitySet;}));}function a(s,e,p,i,P,n){var f=i?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+s+"/"+e+"/"+p+"/supported}"+f+" ? "+P+" : "+n+"}";}function b(l,s,e,m,f){var n;if(e){n=e.split("/")[0];}if(l&&s){for(var i=0;i<s.length;i++){if(l===s[i].entitySet&&(!n||n===s[i].navigationProperty)&&s[i].navigation&&s[i].navigation[m]){if(f){if(s[i].component&&s[i].component.settings&&s[i].component.settings.hideChevronForUnauthorizedExtNav){return s[i].navigation[m].target;}}else{return s[i].navigation[m].target;}}}}return null;}function c(l,s,m,e,i,f,t){var p=f?"1":"Navigation";if(t){return p;}var n=f?"0":"Inactive";var j=f?"":"'";var o=b(l.name,s,e,"display",true);if(o){var C=m["sap.app"].crossNavigation.outbounds[o];var S=C.semanticObject;var k=C.action;var P=l.name+(e?("::"+e.split("/")[0]):"");return a(S,k,P,i,j+p+j,j+n+j);}if(h(l,s)){return i?p:"{= ${ui>/editable} ? "+j+n+j+" : "+j+p+j+" }";}return n;}function d(l,s,m,e,i){return c(l,s,m,e,i,true);}var A={getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{L.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var e=function(D){return((D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(D.Inline&&D.Inline.Bool==="true"));};if(C.length){if(!C.every(e)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var e=function(D){return(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(e)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,o,D,f,k){var p="",s="",P={},l={},m=[],n;var q=I.getInterface(0);var M=I.getInterface(1).getModel();var r=[];var N=[];var t=[];var u="false";o=o&&o.Data;for(var i=0;i<o.length;i++){D=o[i];M=I.getInterface(0).getModel();l=M.getODataEntityType(M.getContext(I.getInterface(0).getPath()).getObject().entityType);if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(D.Target.AnnotationPath.indexOf("/")>0){var v=D.Target.AnnotationPath.split("/")[0];var w=D.Target.AnnotationPath.split("/")[1].split("@")[1];l=M.getODataEntityType(M.getODataAssociationEnd(l,v).type);k=l[w];}else{k=l[D.Target.AnnotationPath.split("@")[1]];}}if(((D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&D.Inline&&D.Inline.Bool==="true")||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForAction(q,D);}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var S=sap.suite.ui.generic.template.js.AnnotationHelper.getRelevantDataForAnnotationRecord(M,D.Value.Path,l);l=S.entityType;var x=S.dataFieldValuePath;m=(l&&l.property)||[];for(var j=0;j<m.length;j++){if(m[j].name===x){f=m[j];break;}}p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13N(I,e,f,D);}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(D.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForContactPopUp(I,e,D,k,D.Target.AnnotationPath);}else if(D.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForChart(I,e,D,k,D.Target.AnnotationPath);}else if(k.Visualization){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForIndicator(I,e,f,D,k,k.Value,D.Target.AnnotationPath);}}if(p){P=JSON.parse(p.replace(/\\/g,""));}if(!r.length&&P.leadingProperty){r.push(P.leadingProperty);}else{P.leadingProperty&&(t.indexOf(P.leadingProperty)===-1)?t.push(P.leadingProperty):jQuery.noop;}P.navigationProperty&&(N.indexOf(P.navigationProperty)===-1)?N.push(P.navigationProperty):jQuery.noop;P.additionalProperty&&(t.indexOf(P.additionalProperty)===-1)?t.push(P.additionalProperty):jQuery.noop;if(u==="false"){u=P.actionButton;}}p="";s=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnKey(C);n=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(I.getInterface(1));p='\\{"columnKey":"'+s;p+='", "columnIndex":"'+n;p+='", "sortProperty":"'+"";p+='", "filterProperty":"'+"";if(r.length>0){p+='", "leadingProperty":"'+r.join();}if(N.length>0){p+='", "navigationProperty":"'+N.join();}if(t.length>0){p+='", "additionalProperty":"'+t.join();}p+='", "actionButton":"'+u+'"';p+=' \\}';return p;},buildDeleteButtonEnablementExpression:function(f,t){var B=sap.suite.ui.generic.template.js.StableIdHelper.getStableId({type:"ObjectPageAction",subType:"Delete",sFacet:sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)});return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";},tabItemHasPresentationVariant:function(e,v){var V=e[v];return!!(V&&(V.PresentationVariant||V.Visualizations||V.SortOrder));},getPresentationVariant:function(v,e){if(v.Visualizations||v.SortOrder){return v;}else if(v.PresentationVariant&&v.PresentationVariant.Path){return e[v.PresentationVariant.Path.replace('@','')];}else if(v.PresentationVariant){return sap.suite.ui.generic.template.js.AnnotationHelper.getPresentationVariant(v.PresentationVariant);}},getPresentationVariantVisualisation:function(e,v){var V=e[v];var p=sap.suite.ui.generic.template.js.AnnotationHelper.getPresentationVariant(V,e);if(p.Visualizations){return p.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,v){var V=e[v];var p=sap.suite.ui.generic.template.js.AnnotationHelper.getPresentationVariant(V,e);if(p.SortOrder){return sap.suite.ui.generic.template.js.AnnotationHelper.getSortOrder(p.SortOrder);}},getSmartTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="listReport";if(s){r=r.concat(s);}return r;},getAnalyticalTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="analyticalTable";if(s){r=r.concat(s);}return r;},getGridTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="GridTable";if(s){r=r.concat(s);}return r;},getTreeTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="TreeTable";if(s){r=r.concat(s);}return r;},getRowActionsId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="rowActions";if(s){r=r.concat(s);}return r;},getResponsiveTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="responsiveTable";if(s){r=r.concat(s);}return r;},getAddEntryId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="addEntry";if(s){r=r.concat(s);}return r;},getDeleteEntryId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="deleteEntry";if(s){r=r.concat(s);}return r;},getShowDetailsId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="showDetails";if(s){r=r.concat(s);}return r;},getDraftObjectMarkerId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="DraftObjectMarker";if(s){r=r.concat(s);}return r;},getBreakoutActionButtonId:function(C,t){if(C.id){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r=C.id;if(s){r=r.concat(s);}return r;}},getIconTabFilterKey:function(t){if(t){if(t.key){return t.key;}else{return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(t.annotationPath);}}},getSuffixFromIconTabFilterKey:function(t){var k=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(t);if(k){return"-".concat(k);}else{return"";}},getIconTabFilterText:function(i,m,t){var M,D,o,e,s,f,j,k;if(t){var T=t.AnnotationPath;var l=T&&T.substring(0,T.indexOf('/'));M=i.getInterface(0).getModel();D=M.getData();o=D.metaModel;j=o.getODataEntityType(D.entityType);k=o.getODataAssociationEnd(j,l);f=o.getODataEntityType(k.type);}else{M=i.getModel();D=M.getData();o=D.metaModel;if(!!m.entitySet){e=o.getODataEntitySet(m.entitySet);s=e.entityType;}else{s=D.entityType;}f=o.getODataEntityType(s);}var S=f[m.annotationPath];if(S&&S.Text){return S.Text.String;}},getAltTextForImage:function(D){if(D["com.sap.vocabularies.Common.v1.Text"]){return D["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,D){var s=D["Action"]&&D["Action"].String;s=s&&s.split("/")[1];if(s){var o=i.getModel().getODataFunctionImport(s);}return!!o;},buildAnnotatedActionButtonEnablementExpression:function(i,D,f,e,I,t,C){var F,B,s,m;s=D&&D.Action&&D.Action.String;if(s){B=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartForDatafieldActionButton(D,f,t,C);if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!D.RequiresContext||D.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){m=i.getInterface(0).getModel();F=m.getODataFunctionImport(s);if(!F){L.error("The function import "+s+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(F["sap:action-for"]&&F["sap:action-for"]!==""&&F["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}return true;}},getLabelForDFwithIBN:function(i,D,e,G){var m,t,o,p,r;if(D.Label){return D.Label.String;}else{m=i.getInterface(0).getModel();if(m&&e){if(G&&G.Target&&G.Target.AnnotationPath){t=sap.suite.ui.generic.template.js.AnnotationHelper.getTargetEntitySet(m,e,G.Target.AnnotationPath);o=m.getODataEntityType(t.entityType);}else{o=m.getODataEntityType(e.entityType);}if(D.Value&&D.Value.Path){p=m.getODataProperty(o,D.Value.Path);r=(p["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}}}},getLinkTextForDFwithIBN:function(i,D,e,G){var o,t,p,r;var m=i.getInterface(0).getModel();if(m&&e){if(G&&G.Target&&G.Target.AnnotationPath){t=sap.suite.ui.generic.template.js.AnnotationHelper.getTargetEntitySet(m,e,G.Target.AnnotationPath);o=m.getODataEntityType(t.entityType);}else{o=m.getODataEntityType(e.entityType);}if(D.Value&&D.Value.Path){p=m.getODataProperty(o,D.Value.Path)||{};r=(p["com.sap.vocabularies.Common.v1.Text"]||D.Value).Path||"";return"{"+r+"}";}}},getTargetEntitySet:function(m,s,e){var n,N,o,f;n=e.split('/');if(n.length>1){N=n[0];}if(N){o=m.getODataEntityType(s.entityType);f=m.getODataAssociationSetEnd(o,N);if(f&&f.entitySet){return m.getODataEntitySet(f.entitySet);}}return s;},getApplicablePathForChartToolbarActions:function(I,C,e){var m=I.getInterface(0).getModel();var f=m.getODataEntityType(e);var j=(C&&C.Actions)||[];var F,k,o,l=[],n=[],s;for(var i=0;i<j.length;i++){if(j[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!j[i].Inline||j[i].Inline.Bool!=="true")&&(!j[i].Determining||j[i].Determining.Bool!=="true")){F=j[i].Action&&j[i].Action.String;k=m.getODataFunctionImport(F);if(k){l.push(k);}}}for(var i=0;i<l.length;i++){k=l[i];if(k&&k["sap:action-for"]&&k["sap:action-for"]!==""&&k["sap:action-for"]!==" "&&k["sap:applicable-path"]&&k["sap:applicable-path"]!==""&&k["sap:applicable-path"]!==" "){s=k["sap:applicable-path"];o=m.getODataProperty(f,s);if(o&&o["sap:aggregation-role"]==="dimension"){n.push(s);}else{L.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+s+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(n.length>0){return n.join();}},buildBreadCrumbExpression:function(C,t,T){var B,s=sap.ui.model.odata.AnnotationHelper.format(C,t);if(t&&t.Path&&T&&T.String){var e=T.String.replace(/'/g,"\\'");B="{= $"+s+" ? $"+s+" : '"+e+"' }";return B;}else{if(!s){return T&&T.String||"[[no title]]";}return s;}},buildRatingIndicatorSubtitleExpression:function(s){if(s){return"{parts: [{path: '"+s.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(s){if(s){var r=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_SUBTITLE",[s,this.data("Subtitle")]);}else{var S=s>1?r.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):r.getText("RATING_INDICATOR_SUBTITLE_LABEL");return r.getText("RATING_INDICATOR_SUBTITLE",[s,S]);}}},buildRatingIndicatorFooterExpression:function(v,t){if(t){return"{parts: [{path: '"+v.Path+"'}, {path: '"+t.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(v,t){if(v){var r=this.getModel("i18n").getResourceBundle();if(t){return r.getText("RATING_INDICATOR_FOOTER",[v,t]);}else if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_FOOTER",[v,this.data("Footer")]);}else{var R=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return r.getText("RATING_INDICATOR_FOOTER",[v,R]);}}},buildRatingIndicatorAggregateCountExpression:function(v){return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(v){var r=this.getModel("i18n").getResourceBundle();var t;if(v){t=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[v]);}else if(this.getCustomData().length>0){t=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{t="";}return t;},getEditActionButtonVisibility:function(i,r,e,p,I){var m=i.getInterface(0).getModel();var s=e.entityType;if(sap.suite.ui.generic.template.js.AnnotationHelper._areUpdateRestrictionsValid(m,s,r)){var u="!${ui>/editable}";var n="!${DraftAdministrativeData/DraftIsCreatedByMe}";if(r){if(r.Updatable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Updatable.Path,s);if(I){A.formatWithExpandSimple(i,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},e);return"{= ${"+r.Updatable.Path+"} && "+u+" && "+n+"}";}else{return"{= ${"+r.Updatable.Path+"} ? "+u+" : false}";}}else if(r.Updatable.Bool==="false"&&!p){return false;}}else if(I){A.formatWithExpandSimple(i,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},e);return"{= ("+n+" && "+u+") }";}return"{="+u+"}";}else{return false;}},getDeleteActionButtonVisibility:function(i,r,e,I){var m=i.getInterface(0).getModel();if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(m,e,r)){if(I){var u="!${ui>/editable}";}else{var u="!${ui>/createMode}";}if(r){if(r.Deletable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Deletable.Path,e);return"{= ${"+r.Deletable.Path+"} ? "+u+" : false}";}else if(r.Deletable.Bool==="false"){return false;}}return"{="+u+"}";}else{return false;}},getSubObjPageDeleteActionButtonVisibility:function(i,r,e,I){var m=i.getInterface(0).getModel();var u;if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(m,e,r)){if(I==true){u="${ui>/editable}";}else{u="!${ui>/createMode}";}if(r){if(r.Deletable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Deletable.Path,e);return"{= ${"+r.Deletable.Path+"} ? "+u+" : false}";}else if(r.Deletable.Bool==="false"){return false;}}return"{="+u+"}";}else{return false;}},getIdForMoreBlockContent:function(f){if(f["com.sap.vocabularies.UI.v1.PartOfPreview"]&&f["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(f){return sap.suite.ui.generic.template.js.AnnotationHelper.checkFacetContent(f,false);},checkBlockContent:function(f){return sap.suite.ui.generic.template.js.AnnotationHelper.checkFacetContent(f,true);},checkFacetContent:function(f,B){var p;var i=f.getInterface(0);var F=f.getModel().getProperty("",f);var e=f.getPath().split("/Facets");var C=i.getModel().getContext(e[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!F){return;}for(var j=0;j<F.length;j++){if(!B){if(F[j]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&F[j]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){p=i.getPath()+"/"+j;break;}}else{if(F[j].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!F[j]["com.sap.vocabularies.UI.v1.PartOfPreview"]||F[j]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){p=i.getPath()+"/"+j;break;}}}}return p;},isInlineCreate:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.createMode&&S.createMode==="inline");},usesPreliminaryContext:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.preliminaryContext);},isInlineCreateSorting:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.disableDefaultInlineCreateSort);},determineTableType:function(f,s){var S;if(s&&s.sections){S=s.sections[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];}return(S&&(((S.tableType||S.treeTable))||(s&&s.tableType)));},isImageUrl:function(p){var s=p["com.sap.vocabularies.UI.v1.IsImageURL"]||p["com.sap.vocabularies.UI.v1.IsImageUrl"];if(s&&s.Bool&&s.Bool==="false"){return false;}else if(s){return true;}return false;},isPropertySemanticKey:function(I,e,p){var I=I.getInterface(0);var m=I.getModel();var o=m.getODataEntityType(e.entityType);if(o){var s=o["com.sap.vocabularies.Common.v1.SemanticKey"];if(s&&s.length>0){for(var i=0;i<s.length;i++){if(s[i].PropertyPath===p.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,s){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return jQuery.sap.getModulePath(s,"/")+i;}},formatImageUrl:function(i,I,s,e){if(I&&(I.Path||I.Apply)&&e){A.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return A._addFullPathToImageUrlIfNeeded(I.String,s);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=A._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,s);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,t,s,e){var o=null;if(I){o=I;}else{o=t;}return A.formatImageUrl(i,o,s,e);},getPathWithExpandFromHeader:function(i,e,n,I,t){var f=[],N;if((I||t)){var i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntityType(e.entityType);var j=null;if(I){j=I;}else{j=t;}if(j&&j.Path&&o){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,j.Path);if(s){f.push(s);}}}if(f.length>0){if(f.length>1){f=f.filter(function(k,l,p){return l==p.indexOf(k);});}N="{ path : '"+n+"', parameters : { expand : '"+f.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},disableSemanticObjectLinksOnPopups:function(q,D){var i="";if(q&&q.ignoredFields&&D&&D.Value&&D.Value.Path){if(q.ignoredFields[D.Value.Path]){i=D.Value.Path;}}return i;},formatImageUrlRuntime:function(i,s){return A._addFullPathToImageUrlIfNeeded(i,s);},formatHeaderImage:function(i,H,s){if(H.ImageUrl){return A.formatImageUrl(i,H.ImageUrl,s,true);}else if(H.TypeImageUrl){return A.formatImageUrl(i,H.TypeImageUrl,s,true);}else{return"";}},matchesBreadCrumb:function(I,C,p){if(p){var s=p.split("/");var e,o,f;if(s.length>0){var m=I.getInterface(0).getModel();var j=s[0];for(var i=0;i<s.length;i++){if(i>0){e=m.getODataEntitySet(j);o=m.getODataEntityType(e.entityType);f=m.getODataAssociationSetEnd(o,s[i]);j=f.entitySet;}if((i+1)===s.length){if(j===C.name){return true;}else{return false;}}}}}},showFullScreenButton:function(r,f){if(r&&f){var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(r.component&&r.component.settings&&r.component.settings.sections&&r.component.settings.sections[F]&&r.component.settings.sections[F].tableMode==="FullScreenTable"){return true;}}return false;},getPersistencyKeyForSmartTable:function(r){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(r){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(l,s,e){return b(l,s,e,"create");},getDisplayNavigationIntent:function(l,s,e){return b(l,s,e,"display");},extensionPointFragmentExists:function(f,F){var i=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(i===F){return true;}else{return false;}},containsFormWithBreakoutAction:function(f,i){var C=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(C===i){if(f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&f.Target&&f.Target.AnnotationPath&&f.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},formatWithExpandSimple:function(i,D,e){if(!D){return"";}var f=[],s,o;var m=i&&i.getModel&&i.getModel();if(!m){i=i.getInterface(0);m=i.getModel();}if(e){o=m.getODataEntityType(e.entityType);}else{var M=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(M&&M.length&&M[0]){var k=m.getProperty(M[0]);var n=m.getODataEntityContainer().namespace;o=m.getODataEntityType(n+'.'+k.name);}}if(o){if(D&&D.Path){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,D.Path);if(s){f.push(s);}}else if(D&&D.Apply&&D.Apply.Name==="odata.concat"){D.Apply.Parameters.forEach(function(P){if(P.Type==="Path"){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,P.Value);if(s){if(f.indexOf(s)===-1){f.push(s);}}}});}if(f.length>0){var p=i.getSetting("preprocessorsData");if(p){var r=p.rootContextExpand||[];for(var j=0;j<f.length;j++){if(r.indexOf(f[j])===-1){r.push(f[j]);}}p.rootContextExpand=r;}}}return sap.ui.model.odata.AnnotationHelper.format(i,D);},formatWithExpand:function(i,D,e){sap.suite.ui.generic.template.js.AnnotationHelper.getNavigationPathWithExpand(i,D,e);i=i.getInterface(0);sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpandSimple(i,D,e);return sap.ui.model.odata.AnnotationHelper.format(i,D);},_getNavigationPrefix:function(m,e,p){var s="";var P=p.split("/");if(P.length>1){for(var i=0;i<(P.length-1);i++){var o=m.getODataAssociationEnd(e,P[i]);if(o){e=m.getODataEntityType(o.type);if(s){s=s+"/";}s=s+P[i];}else{return s;}}}return s;},getCurrentPathWithExpand:function(i,C,e,n){i=i.getInterface(0);var f=[],N;var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var j=m.getODataEntityType(e.entityType);f=sap.suite.ui.generic.template.js.AnnotationHelper.getFacetExpand(r,m,j,o);if(f.length>0){N="{ path : '"+n+"', parameters : { expand : '"+f.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},getCurrentPathWithExpandForContact:function(i,C,e,n){var f=[],N;i=i.getInterface(0);var m=i.getModel();var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var o=m.getODataEntityType(e.entityType);f=sap.suite.ui.generic.template.js.AnnotationHelper.getFacetExpandForContact(r,m,o);if(f.length>0){N="{ path : '"+n+"', parameters : { expand : '"+f.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},getFacetExpandForContact:function(r,m,e){var f=[],F;var G=function(p){if(p){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,p);if(s){if(f.indexOf(s)===-1){f.push(s);}}}};if(r&&r.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){F=m.getObject(r)||{};for(var i in F){var p;var o=F[i];if(o&&o.Path){p=o.Path;G(p);}else if(Object.prototype.toString.call(o)==='[object Array]'){for(var j in o){var k=o[j];if(k&&k.uri&&k.uri.Path){p=k.uri.Path;}if(k&&k.address&&k.address.Path){p=k.address.Path;}G(p);}}}}return f;},getNavigationPathWithExpand:function(i,C,e,w){i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var n=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var N=n.replace("{","").replace("}","");var f;if(N){f=m.getODataEntityType(o.entityType);var k=m.getODataAssociationSetEnd(f,N);if(k&&k.entitySet){o=m.getODataEntitySet(k.entitySet);}}else{f=m.getODataEntityType(e.entityType);w=false;}var l=false;var p=A.getFacetExpand(r,m,f,o);var P=i.getSetting("preprocessorsData")||{};var R=P.rootContextExpand||[];if(p.length>0){if(N){l=true;}else{for(var j=0;j<p.length;j++){if(R.indexOf(p[j])===-1){R.push(p[j]);}}P.rootContextExpand=R;}}w=w&&(R.indexOf(N)===-1||p.some(function(s){return R.indexOf(N+"/"+s)===-1;}));if(l||w){n="{ path : '"+N+"', parameters : { ";if(l){n=n+"expand : '"+p.join(",")+"'";if(w){n=n+", ";}}if(w){n=n+"usePreliminaryContext: true, batchGroupId: 'facets'";}n=n+"} }";}if(n==="{}"){n="";}return n;},getFormGroupBindingString:function(i,C,e){var r=A.getNavigationPathWithExpand(i,C,e,true);return r;},getFacetExpand:function(r,m,o,f){var D=[],j=[],F,k=[];if(r){k=m.getObject(r)||[];}k=k.Data||k;var G=function(p,I){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,p);if(s){if(j.indexOf(s)===-1){j.push(s);}}if(I){try{D=sap.ui.comp.smartfield.SmartField.getSupportedAnnotationPaths(m,f,p,true)||[];}catch(e){D=[];}for(var i=0;i<D.length;i++){if(j.indexOf(D[i])===-1){j.push(D[i]);}}}};var l=function(p){if(p.Type==="LabeledElement"){G(p.Value.Path);}else if(p.Type==="Path"){G(p.Value);}};for(var i=0;i<k.length;i++){F=k[i];if(F.Value&&F.Value.Path){G(F.Value.Path,true);}if(F.Value&&F.Value.Apply&&F.Value.Apply.Name==="odata.concat"){F.Value.Apply.Parameters.forEach(l);}if(F.Action&&F.Action.Path){G(F.Action.Path);}if(F.Target){if(F.Target.Path){G(F.Target.Path);}if(F.Target.AnnotationPath){G(F.Target.AnnotationPath);}}if(F.SemanticObject&&F.SemanticObject.Path){G(F.SemanticObject.Path);}if(F.Url&&F.Url.Path){G(F.Url.Path);}if(F.Url&&F.Url.Apply&&F.Url.Apply.Parameters){F.Url.Apply.Parameters.forEach(l);}if(F.UrlContentType&&F.UrlContentType.Path){G(F.UrlContentType.Path);}}if(k.name){G(k.name,true);}return j;},isSelf:function(p){if(p===undefined||(p&&p.indexOf('@')===0&&p.indexOf('/')===-1)){return true;}return false;},number:function(v){if(!v){return NaN;}else if(v.Decimal){return+v.Decimal;}else if(v.Path){return'{'+v.Path+'}';}else{return NaN;}},formatColor:(function(){function f(v){if(!v){return NaN;}else if(v.Decimal){return v.Decimal;}else if(v.EnumMember){return'\''+v.EnumMember+'\'';}else if(v.Path){return'${'+v.Path+'}';}else{return NaN;}}function e(D){var j=D.Criticality;return'{= '+f(j)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+f(j)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function i(D){var v=f(D.Value);var C=D.CriticalityCalculation;return'{= ('+v+' < '+f(C.DeviationRangeLowValue)+' || '+v+' > '+f(C.DeviationRangeHighValue)+') ? \'Error\' : ('+v+' < '+f(C.ToleranceRangeLowValue)+' || '+v+' > '+f(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(D){if(D.Criticality){return e(D);}else if(D.CriticalityCalculation){return i(D);}};})(),_determineColumnIndex:function(C){var s=C.getPath();var i=Number(s.slice(s.lastIndexOf("/")+1));var l=s.slice(0,s.lastIndexOf("/"));var o=C.getModel().getObject(l);var e=0;for(var r=0;r<i;r++){if((o[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||o[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!o[r].Inline||o[r].Inline.Bool==="false")){continue;}else{e++;}}return e;},suppressP13NDuplicateColumns:function(I,e){var s="";var D={};var C=",";var m=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var o=e[i].Value.Path;D[o]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){if(e[i].Value&&e[i].Value.Path){var o=e[i].Value.Path;if(!D[o]){s=s+C+o;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var t=m.getContext(I.getPath()+"/"+i+"/Target");var r=sap.ui.model.odata.AnnotationHelper.resolvePath(t);var f=m.getObject(r);if(r.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(f&&f.fn&&f.fn.Path){var o=f.fn.Path;if(!D[o]){s=s+C+o;}}}else if(r.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(f&&f.Value&&f.Value.Path){var o=f.Value.Path;if(!D[o]){s=s+C+o;}}}}}if(s.length>0){s=s.substring(1);}return s;},createP13NColumnForAction:function(C,D){var i=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(C);var s=A.createP13NColumnKey(D);if(D&&D.Value&&D.Value.Path){var p='\\{"columnKey":"'+s+'", "leadingProperty":"'+D.Value.Path+'", "columnIndex":"'+i;var r=g(C,D.Value.Path);var n=r.getFilterRestriction();var N=r.getSortRestriction();if(!N){p+='", "sortProperty":"'+D.Value.Path;}if(!n){p+='", "filterProperty":"'+D.Value.Path;}p+='", "actionButton":"true" \\}';}else{var p='\\{"columnKey":"'+s+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return p;},createP13NColumnForContactPopUp:function(i,C,D,o,s){var p="";var n="";var m=i.getInterface(0).getModel();if(m){var e=m.getODataEntityType(C.entityType);if(e){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,s);}}var f=A.createP13NColumnKey(D);p+='\\{"columnKey":"'+f;if(o&&o.fn&&o.fn.Path){if(n){var j=m.getODataAssociationSetEnd(e,n);if(j&&j.entitySet){C=m.getODataEntitySet(j.entitySet);}var r=g(C,o.fn.Path);var N=r.getFilterRestriction();var k=r.getSortRestriction();p+='", "leadingProperty":"'+n+'/'+o.fn.Path+'", "additionalProperty":"'+n;if(!k){p+='", "sortProperty":"'+n+'/'+o.fn.Path;}if(!N){p+='", "filterProperty":"'+n+'/'+o.fn.Path;}}else{var r=g(C,o.fn.Path);var N=r.getFilterRestriction();var k=r.getSortRestriction();p+='", "leadingProperty":"'+o.fn.Path+'", "filterProperty":"'+o.fn.Path+'", "additionalProperty":"'+o.fn.Path;if(!k){p+='", "sortProperty":"'+n+'/'+o.fn.Path;}if(!N){p+='", "filterProperty":"'+n+'/'+o.fn.Path;}}}p+='", "navigationProperty":"'+n;var l=i.getInterface(1);var q=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(l);if(q){p+='", "columnIndex":"'+q;}p+='" \\}';return p;},createP13NColumnForIndicator:function(i,C,o,D,e,f,s){var p="";var n="";var j=[];var m=i.getInterface(0).getModel();if(m){var k=m.getODataEntityType(C.entityType);if(k){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,k,s);}}var l=A.createP13NColumnKey(D);p='\\{"columnKey":"'+l;if(n){n=n+"/";}if(e.Value&&e.Value.Path){p+='", "leadingProperty":"'+n+e.Value.Path;j.push(n+e.Value.Path);}if(e.TargetValue&&e.TargetValue.Path){j.push(n+e.TargetValue.Path);}if(e.Criticality&&e.Criticality.Path){j.push(n+e.Criticality.Path);}if(j.length>0){var q="";j.forEach(function(P){if(q){q=q+",";}q=q+P;});p+='", "additionalProperty":"'+q;}var r=i.getInterface(2);var t=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(r);if(t){p+='", "columnIndex":"'+t;}if(e&&e.Value&&e.Value.Path){var R=g(C,e.Value.Path);var N=R.getFilterRestriction();var u=R.getSortRestriction();if(!u){p+='", "sortProperty":"'+e.Value.Path;}if(!N){p+='", "filterProperty":"'+e.Value.Path;}}p+='" \\}';return p;},createP13NColumnForChart:function(i,C,D,o,s){var p="",e=[],n="";var m=i.getInterface(0).getModel();if(m){var f=m.getODataEntityType(C.entityType);if(f){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,f,s);}}var j=A.createP13NColumnKey(D);if(n){p='\\{"columnKey":"'+j+'", "leadingProperty":"'+n;n=n+"/";}else{p='\\{"columnKey":"'+j;}if(Array.isArray(o.Dimensions)){o.Dimensions.forEach(function(q){e.push(n+q.PropertyPath);});}if(Array.isArray(o.Measures)){o.Measures.forEach(function(M){e.push(n+M.PropertyPath);});}if(e.length>0){p+='", "additionalProperty":"'+e.join();}var k=i.getInterface(1);var l=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(k);if(l){p+='", "columnIndex":"'+l;}p+='" \\}';return p;},createP13NColumnKey:function(D,C){var s="";var f="template";var S="::";if(D.RecordType==="com.sap.vocabularies.UI.v1.DataField"){s=D.Value.Path;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){s=f+S+"DataFieldWithIntentBasedNavigation"+S+D.SemanticObject.String+S+D.Action.String+S+D.Value.Path;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){s=f+S+"DataFieldWithNavigationPath"+S+D.Value.Path;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){s=f+S+"DataFieldForIntentBasedNavigation"+S+D.SemanticObject.String+S+D.Action.String;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){s=f+S+"DataFieldForAction"+S+D.Action.String;}else if(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||D.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){s=f+S+"DataFieldForAnnotation"+S+D.Target.AnnotationPath;s=s.replace('@','');}}return s;},createP13N:function(i,C,o,D,e,f){var p="",j=[],n="";if(D.RecordType==="com.sap.vocabularies.UI.v1.DataField"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(D.Value.Path){var s=A.createP13NColumnKey(D,o);p='\\{"columnKey":"'+s+'", "leadingProperty":"'+D.Value.Path;var m=i.getInterface(0).getModel();if(m){var k=m.getODataEntityType(C.entityType);if(k){if(o["com.sap.vocabularies.Common.v1.Text"]&&o["com.sap.vocabularies.Common.v1.Text"].Path){var t=A.getTextArrangement(k,D);if(t){p+='", "description":"'+o["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+t;}}n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,k,D.Value.Path);if(n){n=n+"/";}}}}else if(D.Value.Apply&&D.Value.Apply.Name==="odata.concat"){D.Value.Apply.Parameters.forEach(function(P){if(P.Type==="Path"){if(!p){p='\\{"columnKey":"'+P.Value+'", "leadingProperty":"'+P.Value;}else{j.push(P.Value);}}});}if((o.type==="Edm.DateTime")&&(o["sap:display-format"]==="Date")){p+='", "type":"date';}else if(o.type==="Edm.String"){p+='", "type":"string';}if(D.Criticality&&D.Criticality.Path){j.push(D.Criticality.Path);}if(o["com.sap.vocabularies.Common.v1.Text"]&&o["com.sap.vocabularies.Common.v1.Text"].Path){j.push(n+o["com.sap.vocabularies.Common.v1.Text"].Path);}if(o["Org.OData.Measures.V1.ISOCurrency"]&&o["Org.OData.Measures.V1.ISOCurrency"].Path){j.push(n+o["Org.OData.Measures.V1.ISOCurrency"].Path);}if(o["Org.OData.Measures.V1.Unit"]&&o["Org.OData.Measures.V1.Unit"].Path){j.push(n+o["Org.OData.Measures.V1.Unit"].Path);}if(o["com.sap.vocabularies.Common.v1.FieldControl"]&&o["com.sap.vocabularies.Common.v1.FieldControl"].Path){j.push(n+o["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((D["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&D.Url&&D.Url.Apply&&D.Url.Apply.Parameters){D.Url.Apply.Parameters.forEach(function(P){if(P.Type==="LabeledElement"){j.push(P.Value.Path);}});}if((D["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&D.Url&&D.Url.Path){j.push(D.Url.Path);}if(j.length>0){var l="";j.forEach(function(P){if(l){l=l+",";}l=l+P;});p+='", "additionalProperty":"'+l;}var r=g(C,o.name);var N=r.getFilterRestriction();var q=r.getSortRestriction();if(!q){if(n){p+='", "sortProperty":"'+n+o.name;}else{p+='", "sortProperty":"'+o.name;}}if(!N){p+='", "filterProperty":"'+o.name;}var u=i.getInterface(2);var v=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(u);if(v>=0){p+='", "columnIndex":"'+v;}}return p+'" \\}';},hasActions:function(P){for(var i=0;i<P.length;i++){if((!P[i].Inline||P[i].Inline.Bool!=="true")&&(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&P[i].RequiresContext&&P[i].RequiresContext.Bool==="true"))){return true;}}return false;},hasCustomActions:function(r,e,m,f){if(e&&m){if(f){if(m[e]){var M=m[e];if(M.EntitySet===e){var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(!M.Sections){return false;}var s=M.Sections[F];if(s&&s.id===F&&s.Actions){for(var i in s.Actions){if(s.Actions[i].requiresSelection!==false){return true;}}}}}}else{if(m["sap.suite.ui.generic.template.ListReport.view.ListReport"]){m=m["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"];}else if(m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]){m=m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"];}if(m&&m[e]){var M=m[e];if(M.EntitySet===e){if(M.Actions){for(var i in M.Actions){if(M.Actions[i].requiresSelection!==false){return true;}}}}}}}return false;},getMultiSelectForTable:function(f,s,G){var S=s&&s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];var m=(S&&S.multiSelect);if(m==true||(G==true&&m!=false)){return true;}else{return false;}},getSelectionModeAnalyticalTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiToggle";}else{return"Single";}}var D=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= ${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= ${ui>/editable} ? 'Single' : 'None' }";}}}else{if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= !${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= !${ui>/editable} ? 'Single' : 'None' }";}}}return"None";},getSelectionModeGridTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiToggle";}else{return"Single";}}var D=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= ${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= ${ui>/editable} ? 'Single' : 'None' }";}}}else{if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= !${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= !${ui>/editable} ? 'Single' : 'None' }";}}}return"None";},getSelectionModeTreeTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiToggle";}else{return"Single";}}var D=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= ${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= ${ui>/editable} ? 'Single' : 'None' }";}}}else{if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= !${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= !${ui>/editable} ? 'Single' : 'None' }";}}}return"None";},getSelectionModeResponsiveTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiSelect";}else{return"SingleSelectLeft";}}var D=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= ${ui>/editable} ? 'MultiSelect' : 'None' }";}else{return"{= ${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}}}else{if((D&&D.Deletable&&((D.Deletable.Bool&&D.Deletable.Bool!=='false')||D.Deletable.Path))||!D){if(M){return"{= !${ui>/editable} ? 'MultiSelect' : 'None' }";}else{return"{= !${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}}}return"None";},getSortOrder:function(P){var s='';for(var i=0;i<P.length;i++){if(!s){s=P[i].Property.PropertyPath;}else{s=s+', '+P[i].Property.PropertyPath;}if(P[i].Descending){s=s+' '+P[i].Descending.Bool;}}return s;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){L.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(D){var p="",I="";if(D.RecordType&&D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Action.String);}else if(D.RecordType&&(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(D.SemanticObject.String){I=sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.SemanticObject.String);}else if(D.SemanticObject.Path){I=sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.SemanticObject.Path);}if(D.Action&&D.Action.String){I=I+"::"+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Action.String);}else if(D.Action&&D.Action.Path){I=I+"::"+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Action.Path);}return I;}else if(D.RecordType&&D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Target.AnnotationPath);}else if(D.Value&&D.Value.Path){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Value.Path);}else if(D.Value&&D.Value.Apply&&D.Value.Apply.Name==="odata.concat"){for(var i=0;i<D.Value.Apply.Parameters.length;i++){if(D.Value.Apply.Parameters[i].Type==="Path"){if(p){p=p+"::";}p=p+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Value.Apply.Parameters[i].Value);}}return p;}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(D){var p="";if(D.Value&&D.Value.Path){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Value.Path);}else if(D.Value&&D.Value.Apply&&D.Value.Apply.Name==="odata.concat"){for(var i=0;i<D.Value.Apply.Parameters.length;i++){if(D.Value.Apply.Parameters[i].Type==="Path"){if(p){p=p+"::";}p=p+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(D.Value.Apply.Parameters[i].Value);}}return p;}else{L.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(f){var H="";if(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0){H="headerEditable::";}if(f.RecordType&&f.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(f.ID&&f.ID.String){return H+f.ID.String;}else{L.error("Annotation Helper: Unable to create a stable ID. You have to set an ID at all collection facets.");return Math.floor((Math.random()*99999)+1).toString();}}else if(f.RecordType&&f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(f.ID&&f.ID.String){return H+f.ID.String;}else{return H+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(f.Target.AnnotationPath);}}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the facet annotations.");return Math.floor((Math.random()*99999)+1).toString();}},getVisibilityForExtensionPointReplaceHeader:function(e,m){var s="ReplaceHeaderExtensionFacet|"+e;var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,m){if(m){var s="ReplaceHeaderExtensionFacet|"+e;return m[s];}return false;},getVisibilityForExtensionPointNoImage:function(e,m){var s="NoImageExtensionFacet|"+e;var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,m){if(m){var s="NoImageExtensionFacet|"+e;return m[s];}return false;},getVisibilityForExtensionPointAfterImage:function(e,m){var s="AfterImageExtensionFacet|"+e;var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,m){if(m){var s="AfterImageExtensionFacet|"+e;return m[s];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,f,m,D){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}var i=F+"::"+s;var j="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+i;var o=m[j];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,f,m,D){if(m){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}var i=F+"::"+s;var j="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+i;return m[j];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,f,m,D){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}var i=F+"::"+s;var j="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+i;var o=m[j];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,f,m,D){if(m){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}var i=F+"::"+s;var j="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+i;return m[j];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,f,m,D){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}var i=F+"::"+s;var j="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+i;var o=m[j];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,f,m,D){if(m){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}var i=F+"::"+s;var j="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+i;return m[j];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,f,m){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,f,m){if(m){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,f,m){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,f,m){if(m){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,f,m){var s="AfterHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,f,m){if(m){var s="AfterHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,D,m){if(m){var s="BeforeHeaderDataPoint|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);return m[s];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,D,m){if(m){var s="ReplaceHeaderDataPoint|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);return m[s];}return false;},extensionPointAfterHeaderDataPointExists:function(e,D,m){if(m){var s="AfterHeaderDataPoint|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(D);return m[s];}return false;},getObjectPageExtensions:function(C){var m=C.getObject();for(var k in m){if(k.split('|').length===4&&!(m[k]['sap.ui.generic.app']&&m[k]['sap.ui.generic.app']['key'])){jQuery.extend(true,m[k],{'sap.ui.generic.app':{'key':k.split('|')[3]}});}}C.getModel().setProperty("/manifestViewExtensions",m);return"/manifestViewExtensions";},extensionPointBeforeFacetExists:function(e,f,m){if(m){var s="BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var i=Object.keys(m);for(var k in i){if(i[k].indexOf(s)>-1){return true;}}}return false;},getExtensions:function(C){var m=C.getObject();var M=Object.keys(m);var o=C.getModel();o.setProperty("/extensionKeys",M);return"/extensionKeys";},isCurrentManifestEntryForBeforeFacet:function(m,e,f){if(m){var s="BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m.indexOf(s)>-1;}return false;},isCurrentManifestEntryForAfterFacet:function(m,e,f){if(m){var s="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m.indexOf(s)>-1;}return false;},isManifestKeyLegacy:function(m){if(m){return(m.split('|').length===3);}return false;},extensionPointAfterFacetExists:function(e,f,m){if(m){var s="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var i=Object.keys(m);for(var k in i){if(i[k].indexOf(s)>-1){return true;}}}return false;},extensionPointBeforeSubSectionExists:function(e,f,m){if(m){var s="BeforeSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointAfterSubSectionExists:function(e,f,m){if(m){var s="AfterSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointReplaceSubSectionExists:function(e,f,m){if(m){var s="ReplaceSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},getExtensionPointFacetTitle:function(m,M){var e=M[m];if(e&&e['sap.ui.generic.app']&&e['sap.ui.generic.app'].title){return e['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,f,m){var s="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,f,m){var s="BeforeSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,f,m){var s="AfterSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,f,m){var s="ReplaceSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,f,m){return E("BeforeSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,f,m){return E("AfterSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,f,m){return E("ReplaceSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointFacetLazyLoadingEnabled:function(m,M){return E(m,M);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,f,m){return E("AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,f,m){return E("ReplaceFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},getRepeatIndex:function(v){if(v&&v.getPath()){var p="0000000000";var P=p+((parseInt(v.getPath().substring(v.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return P.substr(P.length-p.length);}else{L.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(l,s,m,M,i,e){var r=M&&M.routeConfig&&M.routeConfig.name;var I=r==="root";var f=I&&s.some(function(S){return S.navigationProperty;});var j=i||I;return c(l,s,m,e,j,false,f);},getRowActionCountForDetailPage:function(l,s,m,e,i){return d(l,s,m,e,i);},getRowActionCountForListReport:function(l,s,m,M){return d(l,s,m,"",true);},hasSubObjectPage:function(l,s){return h(l,s);},isRelatedEntityCreatable:function(I,s,r,S,f,o,e){var j=false;var m=I.getInterface(0).getModel();var k=s["Org.OData.Capabilities.V1.InsertRestrictions"];var l=m.getODataEntityType(s.entityType);if(A.hasSubObjectPage(r,S)||(o&&A.isInlineCreate(f,o))){if(e){j="{= ${ui>/editable}}";}else{j="{= !${ui>/editable}}";}if(k&&k.NonInsertableNavigationProperties&&k.NonInsertableNavigationProperties.length>0){for(var i=0;i<k.NonInsertableNavigationProperties.length;i++){var n=k.NonInsertableNavigationProperties[i];var N=sap.suite.ui.generic.template.js.AnnotationHelper._getNonInsertableNavigationPropertyPath(n);if(N){var p=m.getODataAssociationSetEnd(l,N);if(p&&p.entitySet===r.name){if(n.If&&n.If.length===2){var q=n.If[0];var F=q.Not?q.Not.Path:q.Path;if(sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,s.entityType,F)){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(I,F,l.name);if(e){if(q.Not){j="{= ${ui>/editable} ? ${"+F+"} : false}";}else{j="{= ${ui>/editable} ? !${"+F+"} : false}";}}else{if(q.Not){j="{= !${ui>/editable} ? ${"+F+"} : false}";}else{j="{= !${ui>/editable} ? !${"+F+"} : false}";}}}else{j=false;L.warning("Creatable-Path is not valid. Creation for "+r.name+" is disabled");}}else{j=false;}break;}}}}}return j;},_getNonInsertableNavigationPropertyPath:function(n){var N;if(n.NavigationPropertyPath){N=n.NavigationPropertyPath;}else if(n.If){N=n.If[1].NavigationPropertyPath;}return N;},areDeleteRestrictionsValid:function(m,e,r){var f=!(r&&r.Deletable&&r.Deletable.Bool&&r.Deletable.Path)&&((!r)||(r.Deletable&&r.Deletable.Bool)||(r.Deletable&&r.Deletable.Path&&sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,e,r.Deletable.Path)));if(!f){L.error("Service Broken: Delete Restrictions annotations are invalid. ");}return f;},_areUpdateRestrictionsValid:function(m,e,r){var f=!(r&&r.Updatable&&r.Updatable.Bool&&r.Updatable.Path)&&((!r)||(r.Updatable&&r.Updatable.Bool)||(r.Updatable&&r.Updatable.Path&&sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,e,r.Updatable.Path)));if(!f){L.error("Service Broken: Delete Restrictions annotations are invalid. ");}return f;},_isPropertyPathBoolean:function(m,e,p){var P=p;var o=m.getODataEntityType(e);if(P.indexOf("/")>-1){var f=P.split("/");for(var j=0;j<f.length-1;j++){var i=m.getODataAssociationEnd(o,f[j]);o=m.getODataEntityType(i.type);}P=f[f.length-1];}var O=m.getODataProperty(o,P);return(O&&O.type==="Edm.Boolean");},actionControl:function(i,s,e,D){if(D["com.sap.vocabularies.UI.v1.Hidden"]){return sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(D);}else{sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,s,e);if(s){return"{path: '"+s+"'}";}else{return"true";}}},_actionControlExpand:function(i,p,e){var f=[],s;i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntityType(e);if(p){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,p);if(s){f.push(s);}}if(f.length>0){var P=i.getSetting("preprocessorsData");if(P){var r=P.rootContextExpand||[];for(var j=0;j<f.length;j++){if(r.indexOf(f[j])===-1){r.push(f[j]);}}P.rootContextExpand=r;}}},getEntityTypesForFormPersonalization:function(i,f,e){i=i.getInterface(0);var j=[];var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var F=[];if(f.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&f.Facets){F=f.Facets;}else if(f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){F.push(f);}F.forEach(function(f){var n;if(f.Target&&f.Target.AnnotationPath&&f.Target.AnnotationPath.indexOf("/")>0){n=f.Target.AnnotationPath.split("/")[0];var k=m.getODataEntityType(o.entityType);var l=m.getODataAssociationSetEnd(k,n);if(l&&l.entitySet){o=m.getODataEntitySet(l.entitySet);if(j.indexOf(o.entityType.split(".")[1])===-1){j.push(o.entityType.split(".")[1]);}}}else{if(j.indexOf(e.entityType.split(".")[1])===-1){j.push(e.entityType.split(".")[1]);}}});return j.join(", ");},_mapTextArrangement4smartControl:function(t){var T="descriptionAndId";switch(t){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":T="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":T="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":T="descriptionOnly";break;default:break;}return T;},getTextArrangementForSmartControl:function(i,f,r,e){i=i.getInterface(0);var o;var m=i.getModel();if(r.name==undefined){o=m.getODataEntityType(e.entityType);}else{o=m.getODataEntityType(r.entityType);}var t="descriptionAndId";if(m.getODataProperty(o,f.Value.Path)){var p=m.getODataProperty(o,f.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(p&&p["com.sap.vocabularies.UI.v1.TextArrangement"]&&p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=sap.suite.ui.generic.template.js.AnnotationHelper._mapTextArrangement4smartControl(p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(o["com.sap.vocabularies.UI.v1.TextArrangement"]&&o["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=sap.suite.ui.generic.template.js.AnnotationHelper._mapTextArrangement4smartControl(o["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return t;},getTableTitle:function(f,F,H){var p=null;var l=new Map();var r=new RegExp("'",'g');var e=new RegExp('"','g');var G=function(f,p){for(var i=0;i<f.length;i++){if(f[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){G(f[i].Facets,f[i].Label.String);}else if(f[i].RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&f[i].Target&&f[i].Target.AnnotationPath.indexOf("LineItem")>-1){if(p!==null){l.set(f[i].Target.AnnotationPath,p);}else{l.set(f[i].Target.AnnotationPath,f[i].Label.String);}}}};G(f,p);var s=l.get(F.Target.AnnotationPath);s=s.replace(r,"\\'");s=s.replace(e,'\\"');if(s.indexOf(">")>-1){s="@i18n>"+s.split(">")[1].split("}")[0];}else{s="@i18n>"+s;}if(H&&H.TypeNamePlural&&H.TypeNamePlural.String){var t=H.TypeNamePlural.String;t=t.replace(r,"\\'");t=t.replace(e,'\\"');if(t===''){return"";}else if(t.indexOf(">")>-1){t="@i18n>"+t.split(">")[1].split("}")[0];}else{t="@i18n>"+t;}return"{parts: [{path: '"+t+"'}, {path: '"+s+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatTableTitle'}";}else{return"";}},formatTableTitle:function(t,s){if(t&&t!==s){return t;}return"";},getTitle:function(s,S,n){var r;var t=A.getTextArrangementObject(s,S,n);if(t){r=A.getTitleTextArrangementBindingPath(t.textArrangement,t.propertyPath,t.textPath);}return r;},getDescription:function(s,S,n){var r;var t=A.getTextArrangementObject(s,S,n);if(t){r=A.getDescriptionTextArrangementBindingPath(t.textArrangement,t.propertyPath,t.textPath);}return r;},getTextArrangementObject:function(s,S,n){var t,p,T;if(S){p=S.name;var P=S["com.sap.vocabularies.Common.v1.Text"];if(P){T=P.Path;}t=A.getTextArrangement(s,S);return{textArrangement:t,propertyPath:p,textPath:T};}},getTextArrangement:function(e,f){var t;if(f["com.sap.vocabularies.UI.v1.TextArrangement"]&&f["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=A._mapTextArrangement4smartControl(f["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!t){var p=f["com.sap.vocabularies.Common.v1.Text"];if(p&&p["com.sap.vocabularies.UI.v1.TextArrangement"]&&p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=A._mapTextArrangement4smartControl(p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!t){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=A._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!t){t="descriptionAndId";}return t;},getTitleTextArrangementBindingPath:function(t,p,T){var P="{"+p+"}";var s="{"+T+"}";if(!T){return P;}if(t==="descriptionAndId"){return s;}else if(t==="descriptionOnly"){return s;}else if(t==="idAndDescription"){return P;}else if(t==="idOnly"){return P;}},getDescriptionTextArrangementBindingPath:function(t,p,T){var P="{"+p+"}";var s="{"+T+"}";if(!T){return"";}if(t==="descriptionAndId"){return P;}else if(t==="descriptionOnly"){return"";}else if(t==="idAndDescription"){return s;}else if(t==="idOnly"){return"";}},isDeepFacetHierarchy:function(f){if(f.Facets){for(var i=0;i<f.Facets.length;i++){if(f.Facets[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){return true;}}}return false;},doesCollectionFacetOnlyContainForms:function(f){var r=true;if(f.Facets){for(var i=0;i<f.Facets.length;i++){if(f.Facets[i].Target&&f.Facets[i].Target.AnnotationPath){if((f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")<0)&&(f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Identification")<0)&&(f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.DataPoint")<0)){r=false;}}}}else{r=false;}return r;},doesFieldGroupContainOnlyOneMultiLineDataField:function(f,F){if(f.Data.length!==1){return false;}if((F['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(f.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(v){return"formatted:"+v;},getFacetID:function(e,f){return e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);},isListReportTemplate:function(r){if(r){return r.template==="sap.suite.ui.generic.template.ListReport";}},isAnalyticalListPageOrListReportTemplate:function(r){if(r){return(r.template==="sap.suite.ui.generic.template.AnalyticalListPage"||r.template==="sap.suite.ui.generic.template.ListReport");}},getStableIdPartForDatafieldActionButton:function(D,f,t,C){var s="";var e="";var F="";if(f){F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);}if(D){e=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(D);}s=(F!==""?F+"::":"")+"action::"+e;var S=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);if(S){s=s.concat(S);}if(C){s=s+"::chart";}return s;},_hasCustomDeterminingActionsInListReport:function(e,m){if(m&&m[e]){var M=m[e];if(M.Actions){for(var f in M.Actions){if(M.Actions[f].determining){return true;}}}}return false;},_hasCustomDeterminingActionsInObjectPage:function(e,m){if(m&&m[e]){var M=m[e];if(M.Header&&M.Header.Actions){for(var f in M.Header.Actions){if(M.Header.Actions[f].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,t,e,m){var s="";C=C.getInterface(0);if(e&&m&&m["sap.suite.ui.generic.template.ObjectPage.view.Details"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInObjectPage(e,m["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"])){return"true";}if(t){for(var r=0;r<t.length;r++){if((t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&t[r].Determining&&t[r].Determining.Bool==="true"){var f=C.getModel().getODataFunctionImport(t[r].Action.String,true);var F=C.getModel().getObject(f);if(F["sap:applicable-path"]){if(s.length>0){s+=" || ";}s+="${path: '"+F["sap:applicable-path"]+"'}";}else{return"true";}}}}if(s.length>0){return"{= "+s+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(t,e,m){if(e&&m&&m["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInListReport(e,m["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&m&&m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInListReport(e,m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var r=0;r<t.length;r++){if((t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&t[r].Determining&&t[r].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(r,s,D){if(D["com.sap.vocabularies.UI.v1.Hidden"]){return sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(D);}else if(sap.suite.ui.generic.template.js.AnnotationHelper.isListReportTemplate(r)||!s){return true;}else{return"{path: '"+s+"'}";}},actionControlInline:function(s){if(!s){return true;}else{return"{path: '"+s+"'}";}},actionControlBreakout:function(s){if(!s){return true;}else{return"{path: '"+s+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,e,u){var p="0";if(e.Value&&e.Value.Path){var v="$"+sap.ui.model.odata.AnnotationHelper.format(i,e.Value);var t,U;if(e.TargetValue){t=sap.ui.model.odata.AnnotationHelper.format(i,e.TargetValue);t=e.TargetValue.Path?"$"+t:t;}if(u){u=u['Org.OData.Measures.V1.Unit']||u["Org.OData.Measures.V1.ISOCurrency"];if(u){U=sap.ui.model.odata.AnnotationHelper.simplePath(i,u);U=U&&u.Path?"$"+U:"'"+U+"'";}}var s="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var f="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var j="'{'= ({2} === ''%'') ? "+s+" : "+f+" '}'";p=jQuery.sap.formatMessage(j,[v,t,U]);}return p;},buildExpressionForProgressIndicatorDisplayValue:function(i,e,u){var p;var f=function(i,P){var s=sap.suite.ui.generic.template.js.AnnotationHelper.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,P));var j="{path: '"+s+"'}";return j;};p=f(i,e.Value)+", "+f(i,e.TargetValue)+", "+f(i,u);var D="{ parts: ["+p+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return D;},formatDisplayValue:function(v,t,u){var D="";if(v!==null&&v!==undefined){v=v.toString();}if(v){var C=this;var r=C.getModel("i18n").getResourceBundle();var e=C.getCustomData();var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=sap.ui.core.format.NumberFormat.getInstance(l).format(v);t=t||e.filter(function(o){if(o.getKey()==="Target"){return o;}});t=typeof(t)==="object"?(t[0]&&t[0].getValue()):t;u=u||e.filter(function(o){if(o.getKey()==="UoM"){return o;}});u=typeof(u)==="object"?(u[0]&&u[0].getValue()):u;if(u){if(u==='%'){D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[v]);}else{if(t){t=sap.ui.core.format.NumberFormat.getInstance(l).format(t);D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[v,t,u]);}else{D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[v,u]);}}}else{if(t){t=sap.ui.core.format.NumberFormat.getInstance(l).format(t);D=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[v,t]);}else{D=v;}}}else{L.warning("Value property is mandatory, the default (empty string) will be returned");}return D;},buildExpressionForProgressIndicatorCriticality:function(i,e){var f=sap.ui.core.ValueState.None;var s;var C=e.Criticality;if(C){s="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var j='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);f=jQuery.sap.formatMessage(s,j);}else if(C.EnumMember){var k="'"+C.EnumMember+"'";f=jQuery.sap.formatMessage(s,k);}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return f;},trimCurlyBraces:function(v){return v?v.replace("{","").replace("}",""):undefined;},getEntitySetName:function(r,e){var s="";try{s=r.name||e.name;}catch(o){L.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return s;},getBreakoutActionEnabledKey:function(o,t){var B=sap.suite.ui.generic.template.js.AnnotationHelper.getBreakoutActionButtonId(o,t);var e="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return e;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(D){if(D["com.sap.vocabularies.UI.v1.Hidden"]){return sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(D);}else if(!!D.RequiresContext&&D.RequiresContext.Bool=="false"&&(!D.Inline||D.Inline.Bool==="false")){var s=D.SemanticObject.String;var e=D.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+s+"/"+e+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(l){var s,t,e,f,r,m,T,D,j,k,o,F,n,H,p,q,u,i;if(!l){return;}s=l.getPath();if(s.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}e=s&&s.lastIndexOf("/");f=s.substring(0,e);r=s.substring(e+1);m=l.getModel();o=m&&m.getObject(f);if(o){F=o["com.sap.vocabularies.Common.v1.SemanticKey"]&&o["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&o["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;n=o[r];H=o["com.sap.vocabularies.UI.v1.HeaderInfo"];p="";q="";if(H){p=H&&H["Title"]&&H["Title"].Value&&H["Title"].Value.Path;q=H&&H["Description"]&&H["Description"].Value&&H["Description"].Value.Path;}u=n&&n.length;t=s+"/";for(i=0;i<u;i++){if(n[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&n[i].Value.Path===F){if(A.isPropertyHidden(n[i])){continue;}t=t+i+'/Value/Path';return t;}if(n[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&n[i].Value.Path===p){if(A.isPropertyHidden(n[i])){continue;}T=true;k=i;}if(n[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&n[i].Value.Path===q){if(A.isPropertyHidden(n[i])){continue;}D=true;j=i;}}if(T){t=t+k+'/Value/Path';return t;}else if(D){t=t+j+'/Value/Path';return t;}}else{L.warning("No entity type provided");}},isPropertyHidden:function(l){var H=false;if(l["com.sap.vocabularies.UI.v1.Hidden"]||(l["com.sap.vocabularies.Common.v1.FieldControl"]&&l["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&l["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(D,o){var r;if(o.Label){return o.Label.String;}else{r=D["sap:label"]||(D["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}},getColumnToolTip:function(D,o){var r;if(o.Label){return o.Label.String;}else{r=D["sap:quickinfo"]||(D["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||D["sap:label"]||(D["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}},getTextForDataField:function(D){var v=D["com.sap.vocabularies.Common.v1.Text"]&&D["com.sap.vocabularies.Common.v1.Text"].Path;return v;},getColumnCellFirstText:function(D,o,e,C){var r,t;t=A.getTextArrangement(e,D);switch(t){case"idAndDescription":r=o.Value.Path;if(!r){r=A.getTextForDataField(D);}break;case"idOnly":r=o.Value.Path;if(!r){r=A.getTextForDataField(D);}break;case"descriptionAndId":case"descriptionOnly":default:r=A.getTextForDataField(D);if(!r){r=o.Value.Path;}break;}if(r){if(C){return true;}else{if(D.type==="Edm.DateTimeOffset"||D.type==="Edm.DateTime"||D.type==="Edm.Time"){var f=A.formatDateTimeForCustomColumn(D.type,r);return f;}else{return"{"+r+"}";}}}},getColumnCellSecondText:function(D,o,e,C){var r;r=A.getTitlePath(D,o,e);if(r){if(C){return true;}else{if(D.type==="Edm.DateTimeOffset"||D.type==="Edm.DateTime"||D.type==="Edm.Time"){var f=A.formatDateTimeForCustomColumn(D.type,r);return f;}else{return"{"+r+"}";}}}},getTitlePath:function(D,o,e){var r,t;t=A.getTextArrangement(e,D);switch(t){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!o.Value.Path){break;}r=A.getTextForDataField(D);break;case"descriptionAndId":default:if(!A.getTextForDataField(D)){break;}r=o.Value.Path;break;}return r;},getHeaderVisibility:function(D,o,e){var t,T;t=A.getTitlePath(D,o,e);if(!t){if(D.type==="Edm.DateTimeOffset"||D.type==="Edm.DateTime"||D.type==="Edm.Time"){t=A.getColumnCellFirstText(D,o,e);return"{= "+t+" ? false : true}";}else{t=A.getColumnCellFirstText(D,o,e).replace("{","").replace("}","");}}else{T=A.getTextArrangement(e,D);if(!T||T==="descriptionAndId"){t=A.getColumnCellFirstText(D,o,e).replace("{","").replace("}","");}if(T==="idAndDescription"){t=A.getTitlePath(D,o,e);}}if(t){return"{= ${path: '"+t+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(D,r){if(D==="Edm.DateTimeOffset"){return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(D==="Edm.DateTime"){return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(D){var o;var e=[];for(o in D){if(o.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){e.push(D[o].String);}}if(e.length>0){return e;}},getColumnCellFirstTextVisibility:function(D,o,e){var C=true;var v=!!A.getColumnCellFirstText(D,o,e,C);return v;},getColumnCellSecondTextVisibility:function(D,o,e){var C=true;var v=!!A.getColumnCellSecondText(D,o,e,C);return v;},isSmartLink:function(D){var o;for(o in D){if(o.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},isSingleSection:function(o,e,m){var v=[];var f=m[0].pages[0].embeddedComponents;for(var k in e){if((k.indexOf("AfterFacet")>-1||k.indexOf("BeforeFacet")>-1||k.indexOf("AfterSubSection")>-1||k.indexOf("BeforeSubSection")>-1)){return false;}}for(var i=0;i<o.length;i++){if(!o[i].Facets&&(!o[i]["com.sap.vocabularies.UI.v1.Hidden"]||(o[i]["com.sap.vocabularies.UI.v1.Hidden"]&&sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(o[i])))){v.push(o[i]);}else if(o[i].Facets){for(var j=0;j<o[i].Facets.length;j++){if((!o[i].Facets[j]["com.sap.vocabularies.UI.v1.Hidden"]||(o[i].Facets[j]["com.sap.vocabularies.UI.v1.Hidden"]&&sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(o[i].Facets[j])))){v.push(o[i].Facets[j]);}}}}if(v.length===1&&v[0].Target&&v[0].Target.AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.LineItem")>-1&&(f===undefined||f===null||(f&&Object.keys(f).length===0))){return true;}},setRowHighlight:function(e){return"{parts: [{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}, {path: '"+e["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"].Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(i,e){var m=this.getModel();var M=m.getMetaModel();var C=this.getParent();C=sap.suite.ui.generic.template.js.AnnotationHelper.getSmartTableControl(C);var o=M.getODataEntitySet(C.getEntitySet());var f=M.getODataEntityType(o.entityType);var j=C.getCustomData();var l=f["com.sap.vocabularies.UI.v1.LineItem"];var k=f["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var s=sap.suite.ui.generic.template.js.AnnotationHelper.getLineItemQualifier(j);if(s){k=f["com.sap.vocabularies.UI.v1.LineItem#"+s+"@com.sap.vocabularies.UI.v1.Criticality"];}if(i===false&&e===false){return"Information";}else if(l&&k){if(k.Path){var n=k.Path;if(this.getBindingContext()){var r=this.getBindingContext();var R=r.getObject(n);if(R){switch(R.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";}}else{return"None";}}}else if(k.EnumMember){var p=k.EnumMember;if(p){switch(p){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";}}else{return"None";}}}else{return"None";}},getLineItemQualifier:function(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="lineItemQualifier"){var s=C[i].getValue();if(s){return s;}}}},getSmartTableControl:function(e){while(e&&!e.getEntitySet){e=e.getParent();}return e;},getDataFieldLabel:function(i,D,o){var r;if(o.Label){return sap.ui.model.odata.AnnotationHelper.format(i,o.Label);}else{r=D["sap:label"]||(D["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(r===""){var l=(D.extensions)?D.extensions.find(function(e){return e.name==="label";}):null;if(l!==undefined&&l!==null){if(l.length!==undefined&&l.length>0){r=l[0].value;}else{r=l.value;}}else{r="";}}return r;}},getDataFieldValue:function(i,D){if(D&&!D.Path&&!D.Apply&&!D.String){return"";}else{return sap.ui.model.odata.AnnotationHelper.format(i,D);}},formatObjectMarker:function(e,i,f){if(e&&i&&f){return sap.m.ObjectMarkerType.Locked;}else if(e&&i&&!f){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(e,i,f){if(e&&i&&f){return true;}else if(e&&i&&!f){return true;}else{return false;}},getRelevantDataForAnnotationRecord:function(m,D,e){var n,o;while(D.indexOf('/')>-1){n=D.split("/")[0];D=D.split('/').slice(1).join('/');o=m.getODataAssociationEnd(e,n);e=m.getODataEntityType(o&&o.type);}return{"entityType":e,"association":o,"dataFieldValuePath":D};},getTextArrangementForSCFields:function(I,f,e,C){var m=I.getInterface(0).getModel();var o=m.getODataEntityType(e.entityType);var D=f.Value.Path;o=sap.suite.ui.generic.template.js.AnnotationHelper.getRelevantDataForAnnotationRecord(m,f.Value.Path,o).entityType;var p=o.property||[];var s,t;for(var i=0;i<p.length;i++){if(D===p[i].name){s=p[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===s){return"idOnly";}}t=sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSmartControl(I,f,{},e);return t;},checkMultiplicityForDataFieldAssociation:function(i,e,D){if(D.Value&&D.Value.Path){var s=D.Value.Path;var m=i.getModel(0);var o=m.getODataEntityType(e.entityType);var f;if(!(s.indexOf('/')>-1)){return true;}while(s.indexOf('/')>-1){var n=s.split("/")[0];s=s.split('/').slice(1).join('/');o=m.getODataEntityType(f&&f.type)||o;f=m.getODataAssociationEnd(o,n);}if(f&&f.multiplicity==="*"){return false;}}return true;},hasQuickViewFacet:function(I,e){var m=I.getModel();var o=m.getODataEntityType(e.entityType);var p=[];var P=[];var s,t,S,n,f;if(!o||!o.navigationProperty){return'\\{\\}';}var k=o.property||[];for(var i=0;i<k.length;i++){if(k[i]["com.sap.vocabularies.Common.v1.SemanticObject"]){p.push(k[i].name);}}for(var i=0;i<o.navigationProperty.length;i++){if(o.navigationProperty.name==="SiblingEntity"||o.navigationProperty.name==="DraftAdministrativeData"){continue;}t=m.getODataEntityType(m.getODataAssociationEnd(o,o.navigationProperty[i].name).type);if(t["com.sap.vocabularies.UI.v1.QuickViewFacets"]){S=m.getObject("/dataServices/schema");n=t.namespace;for(var j in S){if(S[j].namespace===n){s=S[j];break;}}var l;var q=s.association;var Q=o.navigationProperty[i].relationship;var r=Q.lastIndexOf(".");var N=Q.slice(r+1);for(var j in q){if(q[j].name===N){l=q[j];break;}}var u=(l.referentialConstraint&&l.referentialConstraint.dependent&&l.referentialConstraint.dependent.propertyRef)||[];for(var j=0;j<u.length;j++){if(p.indexOf(u[j].name)!==-1){P.push(u[j].name);}}}}if(P.length){f='\\{';for(var i=0;i<P.length;i++){f+='"'+P[i]+'":"true",';}return f.slice(0,-1)+'\\}';}else{return'\\{\\}';}}};sap.suite.ui.generic.template.js.AnnotationHelper=A;sap.suite.ui.generic.template.js.AnnotationHelper.getLinkTextForDFwithIBN.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getLabelForDFwithIBN.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.isPropertySemanticKey.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getRepeatIndex.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.suppressP13NDuplicateColumns.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpandSimple.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getNavigationPathWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getFormGroupBindingString.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getCurrentPathWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getCurrentPathWithExpandForContact.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getEntityTypesForFormPersonalization.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.actionControl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSmartControl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.matchesBreadCrumb.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13N.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForConnectedFields.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForIndicator.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForAction.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForContactPopUp.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForChart.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getEditActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDeleteActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getSubObjPageDeleteActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.isRelatedEntityCreatable.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildBreadCrumbExpression.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getApplicablePathForChartToolbarActions.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterText.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getPathWithExpandFromHeader.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatImageOrTypeUrl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatHeaderImage.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDataFieldLabel.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDataFieldValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.checkMultiplicityForDataFieldAssociation.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSCFields.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.hasQuickViewFacet.requiresIContext=true;})();
