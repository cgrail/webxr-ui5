//@ui5-bundle sap/fiori/core-ext-light-0.js
sap.ui.predefine('sap/ushell/UIActions',function(){"use strict";var U=function(c){if(!c||!c.rootSelector||!c.containerSelector||!c.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.");}this.animationDuration=null;this.captureStart=null;this.captureMove=null;this.captureEnd=null;this.clickCallback=null;this.clickEvent=null;this.clickHandler=null;this.clone=null;this.cloneClass=null;this.container=null;this.contextMenuEvent=null;this.debug=null;this.defaultDragStartEvent=null;this.defaultMouseMoveEvent=null;this.deltaTop=0;this.disabledDraggableSelector=null;this.dragAndScrollCallback=null;this.dragAndScrollDuration=null;this.dragAndScrollTimer=null;this.draggable=null;this.placeHolderClass=null;this.draggableSelector=null;this.draggableSelectorExclude=null;this.doubleTapCallback=null;this.doubleTapDelay=null;this.element=null;this.endDragAndScrollCallback;this.endX=null;this.endY=null;this.isLayoutEngine=null;this.isTouch=null;this.isCombi=null;this.lastElement=null;this.lastTapTime=null;this.lockMode=null;this.log=null;this.mode=null;this.mouseDownEvent=null;this.mouseMoveEvent=null;this.mouseUpEvent=null;this.moveTolerance=null;this.moveX=null;this.moveY=null;this.noop=null;this.onDragStartUIHandler=null;this.onDragEndUIHandler=null;this.preventClickFlag;this.preventClickTimeoutId;this.scrollContainer=null;this.scrollContainerSelector=null;this.scrollEvent=null;this.scrollTimer=null;this.startX=null;this.startY=null;this.switchModeDelay=null;this.tapsNumber=null;this.timer=null;this.scrollHandler=null;this.touchCancelEvent=null;this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.touchEndEvent=null;this.touchMoveEvent=null;this.startCallback=null;this.touchStartEvent=null;this.wrapper=null;this.wrapperRect=null;this.scrollCallback=null;this.draggableElement;this.offsetLeft=0;this.elementsToCapture=null;this.init=function(c){this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.noop=function(){};this.isLayoutEngine=c.isLayoutEngine||false;if(this.isLayoutEngine){this.moveDraggable=this.noop;}this.isTouch=c.isTouch?!!c.isTouch:false;this.isCombi=c.isCombi?!!c.isCombi:false;this.container=document.querySelector(c.containerSelector);this.scrollContainerSelector=c.scrollContainerSelector||c.containerSelector;this.switchModeDelay=c.switchModeDelay||1500;this.dragAndScrollDuration=c.dragAndScrollDuration||230;this.moveTolerance=c.moveTolerance===0?0:c.moveTolerance||10;this.draggableSelector=c.draggableSelector;this.draggableSelectorBlocker=c.draggableSelectorBlocker||c.rootSelector;this.draggableSelectorExclude=c.draggableSelectorExclude;this.mode='normal';this.debug=c.debug||false;this.root=document.querySelector(c.rootSelector)||document.querySelector("#canvas");this.animationDuration=c.animationDuration||330;this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?this.logToConsole:this.noop;this.lockMode=false;this.placeHolderClass=c.placeHolderClass||"";this.cloneClass=c.cloneClass||"";this.deltaTop=c.deltaTop||0;this.wrapper=c.wrapperSelector?document.querySelector(c.wrapperSelector):this.container.parentNode;this.clickCallback=typeof c.clickCallback==='function'?c.clickCallback:this.noop;this.startCallback=typeof c.startCallback==='function'?c.startCallback:this.noop;this.doubleTapCallback=typeof c.doubleTapCallback==='function'?c.doubleTapCallback:this.noop;this.endCallback=typeof c.endCallback==='function'?c.endCallback:this.noop;this.dragCallback=typeof c.dragCallback==='function'?c.dragCallback:this.noop;this.onBeforeCreateClone=typeof c.onBeforeCreateClone==='function'?c.onBeforeCreateClone:this.noop;this.dragAndScrollCallback=typeof c.dragAndScrollCallback==='function'?c.dragAndScrollCallback:this.noop;this.endDragAndScrollCallback=typeof c.endDragAndScrollCallback==='function'?c.endDragAndScrollCallback:this.noop;this.scrollCallback=typeof c.scrollCallback==='function'?c.scrollCallback:this.noop;this.doubleTapDelay=c.doubleTapDelay||500;this.wrapperRect=this.wrapper.getBoundingClientRect();this.scrollEvent='scroll';this.touchStartEvent='touchstart';this.touchMoveEvent='touchmove';this.touchEndEvent='touchend';this.mouseDownEvent='mousedown';this.mouseMoveEvent='mousemove';this.mouseUpEvent='mouseup';this.contextMenuEvent='contextmenu';this.touchCancelEvent='touchcancel';this.defaultDragStartEvent='dragstart';this.defaultMouseMoveEvent='mousemove';this.clickEvent='click';this.isVerticalDragOnly=c.isVerticalDragOnly||false;this.draggableElement=c.draggableElement;this.offsetLeft=c.offsetLeft;this.elementsToCapture=c.elementToCapture?jQuery(c.elementToCapture):this.root;this.disabledDraggableSelector=c.disabledDraggableSelector;this.onDragStartUIHandler=typeof c.onDragStartUIHandler==='function'?c.onDragStartUIHandler:this.noop;this.onDragEndUIHandler=typeof c.onDragEndUIHandler==='function'?c.onDragEndUIHandler:this.noop;this.defaultMouseMoveHandler=c.defaultMouseMoveHandler||function(e){e.preventDefault();};};this.forEach=function(s,a){return Array.prototype.forEach.call(s,a);};this.indexOf=function(s,i){return Array.prototype.indexOf.call(s,i);};this.insertBefore=function(s,i,r){var a,b,d;d=Array.prototype.splice;a=this.indexOf(s,i);b=this.indexOf(s,r);d.call(s,b-(a<b?1:0),0,d.call(s,a,1)[0]);};this.logToConsole=function(){window.console.log.apply(console,arguments);};this.getDraggableElement=function(a){var e,i=false,I=false;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof e==='undefined'&&a!==this.root&&!jQuery(a).is(this.draggableSelectorBlocker)){i=i||jQuery(a).is(this.draggableElement)||this.draggableElement===undefined;if(!(jQuery(a).not(this.draggableSelectorExclude).length>0)){I=true;}if(!I&&i&&this.indexOf(this.draggable,a)>=0){e=a;}a=a.parentNode;}return e;};this.captureStart=function(e){var a;if(e.type==='touchstart'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousedown'){a=e;if(e.which!=1){return;}}if(a){this.element=this.getDraggableElement(a.target);this.startX=this.moveX=a.pageX;this.startY=this.moveY=a.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.lastTapTime&&this.lastElement&&this.element&&(this.lastElement===this.element)&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2;}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element;}this.log('captureStart('+this.startX+', '+this.startY+')');}};this.startHandler=function(e){this.log('startHandler');if(this.isCombi&&!(e instanceof MouseEvent)){this.isTouchEvent=true;}clearTimeout(this.timer);delete this.timer;this.captureStart(e);if(this.element){this.startCallback(e,this.element);if(this.lockMode===false){if(this.tapsNumber===2){this.mode='double-tap';return;}if(this.isTouch||this.isTouchEvent){this.timer=setTimeout(function(){if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log('mode switched to drag');this.mode='drag';this.onBeforeCreateClone(e,this.element);this.createClone();this.dragCallback(e,this.element);}else{this.onDragStartUIHandler();}this.isTouchEvent=false;}.bind(this),this.switchModeDelay);}}}}.bind(this);this.captureMove=function(e){var a;if(e.type==='touchmove'&&e.touches.length===1){a=e.touches[0];}else if(e.type==='mousemove'){a=e;}if(a){this.moveX=a.pageX;this.moveY=a.pageY;this.log('captureMove('+this.moveX+', '+this.moveY+')');}};this.moveHandler=function(e){var i;this.log('moveHandler');this.captureMove(e);if(this.element&&e.type==="mousemove"&&e.buttons===0){return this.endHandler(e);}switch(this.mode){case'normal':if((Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance)){if(this.isTouch||this.isTouchEvent){this.log('-> normal');clearTimeout(this.timer);delete this.timer;}else if(this.element){this.onDragStartUIHandler();if(!jQuery(this.element).hasClass(this.disabledDraggableSelector)){this.log('mode switched to drag');this.mode='drag';this.onBeforeCreateClone(e,this.element);this.createClone();}else{this.preventClick();this.element=null;}}}break;case'drag':e.preventDefault();this.onDragStartUIHandler();this.log('-> drag');if(this.isVerticalDragOnly){this.mode='vertical-drag';}else{this.mode='drag-and-scroll';}window.addEventListener(this.mouseUpEvent,this.endHandler,true);this.translateClone();this.scrollContainer=document.querySelector(this.scrollContainerSelector);this.dragAndScroll();if(!this.isTouch){this.dragCallback(e,this.element);}break;case'drag-and-scroll':e.stopPropagation();e.preventDefault();this.log('-> drag-and-scroll');i=this.dragAndScroll();this.translateClone();if(!i){this.moveDraggable();}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:i,moveX:this.moveX,moveY:this.moveY});break;case'vertical-drag':e.stopPropagation();e.preventDefault();i=this.dragAndScroll();this.translateClone();if(!i){this.moveDraggableVerticalOnly(this.moveX,this.moveY);}this.dragAndScrollCallback({evt:e,clone:this.clone,isScrolling:i,moveX:this.moveX,moveY:this.moveY});break;default:break;}}.bind(this);this.captureEnd=function(e){var a;if((e.type==='touchend'||e.type==='touchcancel')&&(e.changedTouches.length===1)){a=e.changedTouches[0];}else if(e.type==='mouseup'){a=e;}if(a){this.endX=a.pageX;this.endY=a.pageY;this.log('captureEnd('+this.endX+', '+this.endY+')');}};this.contextMenuHandler=function(e){if(this.isTouch){e.preventDefault();}}.bind(this);this.clickHandler=function(e){if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId);}this.clickCallback();}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(function(){this.preventClickFlag=false;}.bind(this),100);};this.endCallbackAdapter=function(e,a,o){var b=this.endCallback.apply(null,arguments);jQuery.when(b).then(function(){this.removeClone(a,o.clone);this.onDragEndUIHandler(e);}.bind(this));this.preventClick();};this.endHandler=function(e){this.log('endHandler');this.captureEnd(e);switch(this.mode){case'normal':this.onDragEndUIHandler(e);this.log('-> normal');break;case'drag':this.log('-> drag');this.endCallbackAdapter(e,this.element,{clone:this.clone});break;case'drag-and-scroll':this.log('-> drag-and-scroll');window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{deltaX:this.moveX-this.startX,deltaY:this.moveY-this.startY,clone:this.clone});e.stopPropagation();e.preventDefault();break;case'vertical-drag':this.log('-> vertical-drag');window.removeEventListener(this.mouseUpEvent,this.endHandler,true);this.endCallbackAdapter(e,this.element,{clone:this.clone});e.stopPropagation();e.preventDefault();break;case'double-tap':this.log('-> double-tap');this.doubleTapCallback(e,this.element);break;default:break;}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.element=null;this.clone=null;this.mode='normal';}.bind(this);this.defaultDragStartHandler=function(e){e.preventDefault();};this.scrollHandler=function(){clearTimeout(this.scrollTimer);this.lockMode=true;this.scrollTimer=setTimeout(function(){this.lockMode=false;}.bind(this),500);}.bind(this);this.createClone=function(){var s,r;this.preventClickFlag=true;if(sap.ui.getCore().byId(this.element.id)&&sap.ui.getCore().byId(this.element.id).getBoundingRects){r=sap.ui.getCore().byId(this.element.id).getBoundingRects()[0];r.top=r.offset.y;r.left=r.offset.x;r.width+=5;}else{r=this.element.getBoundingClientRect();}this.clone=this.element.cloneNode(true);this.clone.removeAttribute("id");this.clone.removeAttribute("data-sap-ui");this.clone.className+=(' '+this.cloneClass);this.element.className+=(' '+this.placeHolderClass);s=this.clone.style;s.position='fixed';s.display='block';s.top=(r.top+this.deltaTop)+'px';s.left=r.left+'px';s.width=r.width+'px';s.zIndex='100';s.webkitTransition='-webkit-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.mozTransition='-moz-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.msTransition='-ms-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.transition='transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.webkitTransform='translate3d(0px, 0px, 0px) ';s.mozTransform='translate3d(0px, 0px, 0px) ';s.msTransform='translate3d(0px, 0px, 0px) ';s.transform='translate3d(0px, 0px, 0px) ';this.root.appendChild(this.clone);this.log('createClone');};this.removeClone=function(e,a){this.preventClick();e.className=e.className.split(' '+this.placeHolderClass).join('');a.parentElement.removeChild(a);this.log('removeClone');};this.translateClone=function(){var d,a;d=this.moveX-this.startX;a=this.moveY-this.startY;this.clone.style.webkitTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.mozTransform='translate3d('+d+'px, '+a+'px, 0px)';this.clone.style.msTransform='translate('+d+'px, '+a+'px)';this.clone.style.transform='translate3d('+d+'px, '+a+'px, 0px)';this.log('translateClone ('+d+', '+a+')');};this.dragAndScroll=function(){var d,a,s,t=this;function b(){s.webkitTransition='-webkit-transform '+a+'ms linear';s.transition='transform '+a+'ms linear';s.mozTransition='-moz-transform '+a+'ms linear';s.msTransition='-ms-transform '+a+'ms linear';s.webkitTransform='translate3d(0px, '+d+'px 0px)';s.mozTransform='translate3d(0px, '+d+'px 0px)';s.msTransform='translate3d(0px, '+d+'px 0px)';s.transform='translate3d(0px, '+d+'px 0px)';}function e(){s.webkitTransition='';s.mozTransition='';s.msTransition='';s.transition='';s.webkitTransform='';s.mozTransform='';s.msTransform='';s.transform='';t.wrapper.scrollTop-=d;}function g(){var r,h;if(t.clone){r=t.clone.getBoundingClientRect();h=t.wrapperRect.top-r.top;if(h>0){return h;}h=t.wrapper.offsetTop+t.wrapper.offsetHeight-(r.top+t.clone.offsetHeight);if(h<0){return h;}}return 0;}function i(){if(t.endDragAndScrollCallback(t.moveY)){return false;}if(d<0){return t.wrapper.getBoundingClientRect().top-(t.container.getBoundingClientRect().top+t.container.offsetHeight)+t.wrapper.offsetHeight<0;}return t.container.getBoundingClientRect().top-(t.wrapper.getBoundingClientRect().top+t.container.offsetTop)<0;}function f(){b();t.dragAndScrollTimer=setTimeout(function(){e();t.dragAndScrollTimer=undefined;if((d=g())!==0&&i()){f();}t.scrollCallback();},a);}d=g();if(d!==0&&!this.dragAndScrollTimer&&i()){a=this.dragAndScrollDuration;this.scrollContainer=this.scrollContainer||document.querySelector(this.scrollContainerSelector);s=this.scrollContainer.style;f();}this.log('dragAndScroll ('+d+')');return(d!=0)&&i();};this.moveDraggableVerticalOnly=function(){var h,i,r,m=true;this.forEach(this.draggable,function(a,b){if(!h){r=a.getBoundingClientRect();i=!(r.bottom<this.moveY||r.top>this.moveY);if(i){h=a;if(r.top+r.height/2<this.moveY){m=false;}}}}.bind(this));if(h&&this.element!==h){if(m){this.insertBefore(this.draggable,this.element,h);h.parentNode.insertBefore(this.element,h);}else{this.insertBefore(this.draggable,this.element,h.nextSibling);h.parentNode.insertBefore(this.element,h.nextSibling);}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY;}this.log('moveDraggableVerticalonly');};this.moveDraggable=function(m,a){var e,h,b,i,d,r;this.forEach(this.draggable,function(f,g){if(!h){r=f.getBoundingClientRect();i=!(r.right<this.moveX||r.left>this.moveX);d=!(r.bottom<this.moveY||r.top>this.moveY);if(i&&d){h=f;b=g;}}}.bind(this));if(h&&this.element!==h){e=this.indexOf(this.draggable,this.element);if(Math.abs(this.lastMoveX-this.moveX)>=this.moveTolerance||Math.abs(this.lastMoveY-this.moveY)>=this.moveTolerance){if(b<=e){h.parentNode.insertBefore(this.element,h);this.insertBefore(this.draggable,this.element,h);}else if(b>e){h.parentNode.insertBefore(this.element,h.nextSibling);this.insertBefore(this.draggable,this.element,this.draggable[b+1]);}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY;}}this.log('moveDraggable');};this.enable=function(){this.log('enable');this.root.addEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.addEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.root.addEventListener(this.defaultDragStartEvent,this.defaultDragStartHandler,true);this.root.addEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.addEventListener(this.scrollEvent,this.scrollHandler,false);if(this.elementsToCapture.length){var t=this;this.elementsToCapture.each(function(){this.addEventListener(t.touchStartEvent,t.startHandler,false);this.addEventListener(t.touchEndEvent,t.endHandler,false);this.addEventListener(t.touchCancelEvent,t.endHandler,false);this.addEventListener(t.mouseDownEvent,t.startHandler,false);this.addEventListener(t.mouseUpEvent,t.endHandler,false);});}else{this.elementsToCapture.addEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.addEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.addEventListener(this.mouseUpEvent,this.endHandler,false);}return this;};this.delete=function(){this.log('delete');this.disable();this.dragCallback=null;this.onBeforeCreateClone=null;this.endCallback=null;this.startCallback=null;this.scrollCallback=null;this.doubleTapCallback=null;this.clickCallback=null;this.dragAndScrollCallback=null;delete this;};this.disable=function(){this.log('disable');if(this.elementsToCapture.length){var t=this;this.elementsToCapture.each(function(){this.removeEventListener(t.touchStartEvent,t.startHandler,false);this.removeEventListener(t.touchEndEvent,t.endHandler,false);this.removeEventListener(t.touchCancelEvent,t.endHandler,false);this.removeEventListener(t.mouseDownEvent,t.startHandler,false);this.removeEventListener(t.mouseUpEvent,t.endHandler,false);});}else{this.elementsToCapture.removeEventListener(this.touchStartEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.touchEndEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.touchCancelEvent,this.endHandler,false);this.elementsToCapture.removeEventListener(this.mouseDownEvent,this.startHandler,false);this.elementsToCapture.removeEventListener(this.mouseUpEvent,this.endHandler,false);}this.root.removeEventListener(this.touchMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.mouseMoveEvent,this.moveHandler,true);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.defaultDragStartEvent,this.defaultDragStartHandler,true);this.root.removeEventListener(this.defaultMouseMoveEvent,this.defaultMouseMoveHandler,true);this.wrapper.removeEventListener(this.scrollEvent,this.scrollHandler,false);return this;};this.init(c);this.getMove=function(){return{x:this.moveX,y:this.moveY};};};return U;},true);
sap.ui.predefine('sap/ushell/UIActionsWin8',function(){"use strict";function n(){}var U=function(){};U.prototype={init:function(c){this.cfg=c;this.type=this.cfg.type;this.wrapper=jQuery(c.wrapperSelector).get(0);this.container=jQuery(c.containerSelector).get(0);this.dragAndScrollCallback=c.dragAndScrollCallback||n;this.dragAndScrollDuration=100;this.dragCallback=c.dragCallback||n;this.draggableSelector=c.draggableSelector;this.endCallback=typeof c.endCallback==='function'?c.endCallback:n;this.onBeforeCreateClone=c.onBeforeCreateClone||n;this.placeHolderClass=c.placeHolderClass||"";this.cloneClass=c.cloneClass||"";this.$root=jQuery(c.rootSelector);this.startCallback=typeof c.startCallback==='function'?c.startCallback:n;this.onDragStartUIHandler=typeof c.onDragStartUIHandler==='function'?c.onDragStartUIHandler:n;this.onDragEndUIHandler=typeof c.onDragEndUIHandler==='function'?c.onDragEndUIHandler:n;this._publishAsync=typeof c._publishAsync==='function'?c._publishAsync:n;},enable:function(){if(this.enabled){return this;}this.enabled=true;this.$root.on('dragstart',this.draggableSelector,this,this.dragStartHandler).on('dragend',this.draggableSelector,this,this.dragEndHandler);return this;},disable:function disable(){this.enabled=false;this.$root.off('dragstart',this.draggableSelector).off('dragend',this.draggableSelector);return this;},dragLeaveHandler:function(e){var c=window.getComputedStyle(e.data.container).transform;e.data.container.style.transform=c;e.data.container.style.transition='';var t;var b=c.split(",");if(c.substr(0,8)=="matrix3d"){t=parseInt(b[13],10);}else if(c.substr(0,6)=="matrix"){t=parseInt(b[5],10);}if(isNaN(t)){return;}e.data.container.style.transform="none";e.data.wrapper.scrollTop+=~t+1;},dragEnterScrollHandler:function dragEnterScrollHandler(e){if(e.target==e.data.$bottomScroller.get(0)){e.data.startScroll("down");}if(e.target==e.data.$topScroller.get(0)){e.data.startScroll("up");}},startScroll:function(d){var l;if(d=="up"){l=this.wrapper.scrollTop;if(l<=0){return;}}else{l=this.wrapper.scrollHeight-this.wrapper.offsetHeight-this.wrapper.scrollTop;if(l<=0){return;}}var s=l*3;var t=(d=="up")?l:~l+1;this.container.style.transition='transform '+s+'ms linear';this.container.style.transform='translate(0px, '+t+'px) scale(1) translateZ(0px)';},initScrollRegions:function(){this.$topScroller=jQuery("<div class='UiActionsTopScroller' style='position:absolute; top: 0; height: 70px; left:0; right:0;'></div>");this.$bottomScroller=jQuery("<div class='UiActionsBottomScroller' style='position:absolute; bottom: 0; height: 70px; left:0; right:0;'></div>");jQuery(document.body).append(this.$topScroller).append(this.$bottomScroller);this.$topScroller.add(this.$bottomScroller).on('dragenter',this,this.dragEnterScrollHandler).on('dragleave',this,this.dragLeaveHandler);},removeScrollRegions:function(){jQuery('.UiActionsTopScroller, .UiActionsBottomScroller').remove();}};function G(c){this.init(c);}G.prototype=new U();jQuery.extend(G.prototype,{dragOverTimeout:null,dragStartHandler:function(e){var _=e.data;if(sap.ui.Device.system.phone){_.$root.find(".sapUshellTilesContainer-sortable").addClass("sapUshellTileContainerRemoveContent");_.$root.find(".sapUshellTileContainerBeforeContent").addClass("sapUshellTileContainerRemoveContent");_.$root.find(".sapUshellContainerHeaderActions").addClass("sapUshellTileContainerHidden");}else{_.$root.find(".sapUshellTileContainerBeforeContent").addClass("sapUshellTileContainerHidden");}_.$originalElement=jQuery(e.target).closest(".sapUshellDashboardGroupsContainerItem");_.originalIndex=_.$originalElement.index();_.$element=_.$originalElement.clone().css("display","none").addClass('sapUshellDashboardGroupsContainerItem-placeholder');_.$element.insertAfter(_.$originalElement);_.$originalElement.addClass("sapUshellDashboardGroupsContainerItem-orignal");_.$root.find('.sapUshellTileContainerAfterContent').last().addClass("sapUshellTileContainerRemoveContent");_.initScrollRegions();setTimeout(function(){_.$originalElement.css("display","none");_.$element.css("display","block");},0);_.$root.on('dragover',".sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)",_,_.dragOverHandler);},dragEndHandler:function(e){var _=e.data;_.removeScrollRegions();_.$root.off('dragover',".sapUshellDashboardGroupsContainerItem:not(.sapUshellDisableDragAndDrop)");_.$root.find(".sapUshellTilesContainer-sortable").removeClass("sapUshellTileContainerRemoveContent");_.$root.find(".sapUshellTileContainerBeforeContent").removeClass("sapUshellTileContainerRemoveContent");_.$root.find(".sapUshellContainerHeaderActions").removeClass("sapUshellTileContainerHidden");_.$root.find(".sapUshellTileContainerBeforeContent").removeClass("sapUshellTileContainerHidden");_.$element.replaceWith(_.$originalElement);var b=_.$originalElement.index();_.$originalElement.css('display','block').removeClass("sapUshellDashboardGroupsContainerItem-orignal");var B=sap.ui.getCore().getEventBus(),f=_.$originalElement.children().eq(0).attr("id"),g=sap.ui.getCore().byId(f),d=sap.ui.getCore().byId("dashboardGroups"),D={group:g,groupChanged:false,focus:false};d.removeAggregation('groups',g,true);d.insertAggregation('groups',g,b,true);_._publishAsync("launchpad","moveGroup",{fromIndex:_.originalIndex,toIndex:b});window.setTimeout(jQuery.proxy(B.publish,B,"launchpad","scrollToGroup",D),1);},dragOverHandler:function dragOverHandler(e){if(e.data.dragOverTimeout){return;}e.data.dragOverTimeout=setTimeout(function(){e.data.dragOverTimeout=null;var o=e.currentTarget;if(e.data.$element.get(0)===o){return;}var b=e.data.isOverAboveMiddle(o,e.originalEvent.pageY);if(o===e.data.overElement&&b===e.data.overAboveMiddle){return;}e.data.overElement=o;e.data.overAboveMiddle=b;e.data.movePlaceholder(e.data.$element,o,b);},50);},isOverAboveMiddle:function(e,p){var m=true;var r=e.getBoundingClientRect();if(r.top+r.height/2<p){m=false;}return m;},movePlaceholder:function(p,e,i){if(i){jQuery(p).insertBefore(jQuery(e));}else{jQuery(p).insertAfter(jQuery(e));}}});function T(c){this.init(c);}T.prototype=new U();jQuery.extend(T.prototype,{dragOverTimeout:null,dragStartHandler:function dragStartHandler(e){var _=e.data;if(!e.target.id){e.target=jQuery(e.target).closest(".sapUshellTile")[0];}_.element=e.target;_.$root.on('dragenter',_.draggableSelector+", .sapUshellTileContainer",_,_.dragEnterTileHandler);var i=e.target.getAttribute("id");_.oTile=sap.ui.getCore().byId(i);_.oTile.addStyleClass(_.cloneClass);if(_.oTile.getParent().getIsGroupLocked()){_.onDragStartUIHandler();e.preventDefault();var m=function m(){_.onDragEndUIHandler();document.removeEventListener("mouseup",m);};document.addEventListener("mouseup",m);return false;}_.initScrollRegions();var $=jQuery(e.target).clone();$.addClass(_.placeHolderClass).css('z-index',"-1");var c=$.get(0);_.$cloned=$;jQuery(e.target).after($);_.getDomRefOriginal=_.oTile.getDomRef;_.oTile.getDomRef=function(){return c;};_.startCallback(e,_.element);_.onDragStartUIHandler();_.dragCallback(e,_.element);setTimeout(function(){jQuery(e.target).css("visibility","hidden");},0);},dragEndHandler:function dragEndHandler(e){var _=e.data;_.$root.off('dragenter',_.draggableSelector+", .sapUshellTileContainer",_.dragEnterTileHandler);_.removeScrollRegions();_.oTile.getDomRef=_.getDomRefOriginal;_.oTile.removeStyleClass(_.cloneClass);jQuery(_.element).css('visibility','visible');_.$cloned.remove();_.endCallback(e,_.element);_.onDragEndUIHandler();_.element=null;},dragEnterTileHandler:function dragEnterTileHandler(e){e.preventDefault();if(this.tileDragEnterTimeout){window.clearTimeout(this.tileDragEnterTimeout);}this.tileDragEnterTimeout=setTimeout(function(){e.data.dragOverTimeout=null;e.data.overElement=this;e.data.dragAndScrollCallback({moveX:e.originalEvent.pageX,moveY:e.originalEvent.pageY});},50);}});function L(c){this.init(c);}L.prototype=new U();jQuery.extend(L.prototype,{dragOverTimeout:null,dragStartHandler:function dragStartHandler(e){var _=e.data;if(!e.target.id){e.target=jQuery(e.target).closest(".sapUshellLinkTile")[0];}_.element=e.target;_.onBeforeCreateClone(e,_.element);_.$root.on('dragenter',".sapUshellTileContainer",_,_.dragEnterLinkHandler);var i=e.target.getAttribute("id");_.oTile=sap.ui.getCore().byId(i);if(_.oTile.getParent().getIsGroupLocked()&&_.oTile.getParent().getDefaultGroup()){e.preventDefault();_.onDragStartUIHandler();var m=function m(){_.onDragEndUIHandler();document.removeEventListener("mouseup",m);};document.addEventListener("mouseup",m);return false;}jQuery(e.target).addClass(_.placeHolderClass);_.initScrollRegions();_.startCallback(e,_.element);_.onDragStartUIHandler();_.dragCallback(e,_.element);},dragEndHandler:function dragEndHandler(e){var _=e.data;_.$root.off('dragenter',".sapUshellTileContainer",_.dragEnterLinkHandler);_.removeScrollRegions();jQuery(_.element).css('visibility','visible');_.endCallback(e,_.element);_.onDragEndUIHandler();_.element=null;},dragEnterLinkHandler:function dragEnterLinkHandler(e){e.preventDefault();if(this.linkDragEnterTimeout){window.clearTimeout(this.linkDragEnterTimeout);}this.linkDragEnterTimeout=setTimeout(function(){e.data.dragOverTimeout=null;e.data.overElement=this;e.data.dragAndScrollCallback({moveX:e.originalEvent.pageX,moveY:e.originalEvent.pageY});},10);}});var a={getInstance:function(c){switch(c.type){case"groups":return new G(c);case"links":return new L(c);default:return new T(c);}}};return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/AppConfiguration',["sap/ushell/services/AppConfiguration","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A,a){"use strict";function b(){sap.ushell.services.AppConfiguration=this;A.constructor.call(this);this.setApplicationFullWidth=function(v){a.sendMessageToOuterShell("sap.ushell.services.AppConfiguration.setApplicationFullWidth",{"bValue":v});};}return new b();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/AppState',["sap/ushell/services/AppState","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/utils"],function(A,a,W,S,b,c,u){"use strict";function d(o,C,p,e){A.call(this,o,C,p,e);this.getAppState=function(k){var D=new jQuery.Deferred();a.sendMessageToOuterShell("sap.ushell.services.AppState.getAppState",{"sKey":k}).done(function(s){var f=new b(sap.ushell.Container.getService("AppState"),s._sKey,s._bModifiable,s._sData,s._sAppName,s._sACHComponent,s._bTransient);D.resolve(f);});return D.promise();};this._saveAppState=function(k,D,s,f,t){return a.sendMessageToOuterShell("sap.ushell.services.AppState._saveAppState",{"sKey":k,"sData":D,"sAppName":s,"sComponent":f,"bTransient":t});};this._loadAppState=function(k){return a.sendMessageToOuterShell("sap.ushell.services.AppState._loadAppState",{"sKey":k});};this.getAppStateData=function(k){return a.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppStateData",{"sAppStateKey":k});};this.createNewInAppState=function(D){return a.sendMessageToOuterShell("sap.ushell.services.AppState.createNewInAppState",{"sData":D});};this.updateInAppStateData=function(D){return a.sendMessageToOuterShell("sap.ushell.services.AppState.updateInAppState",{"sData":D});};this.getInAppStateData=function(){return a.sendMessageToOuterShell("sap.ushell.services.AppState.getInAppStateData");};}d.prototype=Object.create(A.prototype);d.hasNoAdapter=A.hasNoAdapter;d.WindowAdapter=A.WindowAdapter;return d;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/Bookmark',["sap/ushell/services/Bookmark","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(B,A){"use strict";function a(c,p,s){B.call(this,c,p,s);this.addBookmark=function(P,g){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.addBookmark",{"oParameters":P,"oGroup":g});};this.addCatalogTileToGroup=function(C,g,o){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.addCatalogTileToGroup",{"sCatalogTileId":C,"sGroupId":g,"oCatalogData":o});};this.countBookmarks=function(u){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.countBookmarks",{"sUrl":u});};this.deleteBookmarks=function(u){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.deleteBookmarks",{"sUrl":u});};this.updateBookmarks=function(u,P){return A.sendMessageToOuterShell("sap.ushell.services.Bookmark.updateBookmarks",{"sUrl":u,"oParameters":P});};}a.prototype=Object.create(B.prototype);a.hasNoAdapter=B.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/Container',["sap/ushell/services/Container","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(c,A){"use strict";function C(){var o;this.bootstrap=function(p,a){return sap.ushell.bootstrap(p,a).then(function(b){o=sap.ushell.Container.setDirtyFlag;sap.ushell.Container.setDirtyFlag=function(i){o(i);A.sendMessageToOuterShell("sap.ushell.Container.setDirtyFlag",{"bValue":i});};});};};return new C();},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/CrossApplicationNavigation',["sap/ushell/services/CrossApplicationNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService","sap/ushell/services/_AppState/AppState"],function(C,A,a){"use strict";function b(c,p,s){C.call(this,c,p,s);this.backToPreviousApp=function(){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.backToPreviousApp");};this.expandCompactHash=function(h){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.expandCompactHash",{"sHashFragment":h});};this.getDistinctSemanticObjects=function(){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getDistinctSemanticObjects");};this.getLinks=function(v){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getLinks",{"vArgs":v});};this.getPrimaryIntent=function(S,P){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getPrimaryIntent",{"sSemanticObject":S,"mParameters":P});};this.getSemanticObjectLinks=function(S,P,i,o,d,e){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks",{"sSemanticObject":S,"mParameters":P,"bIgnoreFormFactor":i,"sAppStateKey":d,"bCompactIntents":e});};this.historyBack=function(S){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.historyBack",{"iSteps":S});};this.isIntentSupported=function(i,o){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isIntentSupported",{"aIntents":i});};this.isNavigationSupported=function(i,o){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.isNavigationSupported",{"aIntents":i});};this.toExternal=function(o,d){return A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.toExternal",{"oArgs":o});};this.getAppState=function(o,d){var D=new jQuery.Deferred();A.sendMessageToOuterShell("sap.ushell.services.CrossApplicationNavigation.getAppState",{"sAppStateKey":d}).done(function(S){var e=new a(sap.ushell.Container.getService("AppState"),S._sKey,S._bModifiable,S._sData,S._sAppName,S._sACHComponent,S._bTransient);D.resolve(e);});return D.promise();};}b.prototype=Object.create(C.prototype);b.hasNoAdapter=C.hasNoAdapter;return b;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/LaunchPage',["sap/ushell/services/LaunchPage","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(L,A){"use strict";function a(c,p,s){L.call(this,c,p,s);this.getGroups=function(){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroups");};this.getGroupsForBookmarks=function(){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getGroupsForBookmarks");};this.getDefaultGroup=function(){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getDefaultGroup");};this.addGroupAt=function(t,i){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.addGroupAt",{"sTitle":t,"iIndex":i});};this.addGroup=function(t){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.addGroup",{"sTitle":t});};this.removeGroup=function(g,i){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.removeGroup",{"oGroup":g,"iIndex":i});};this.resetGroup=function(g,i){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.resetGroup",{"oGroup":g,"iIndex":i});};this.moveGroup=function(g,n){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.moveGroup",{"oGroup":g,"iNewIndex":n});};this.setGroupTitle=function(g,t){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.setGroupTitle",{"oGroup":g,"sTitle":t});};this.hideGroups=function(h){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.hideGroups",{"aHiddenGroupsIDs":h});};this.addTile=function(C,g){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.addTile",{"oCatalogTile":C,"oGroup":g});};this.removeTile=function(g,t,i){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.removeTile",{"oGroup":g,"oTile":t,"iIndex":i});};this.moveTile=function(t,S,T,o,b,n){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.moveTile",{"oTile":t,"iSourceIndex":S,"iTargetIndex":T,"oSourceGroup":o,"oTargetGroup":b,"sNewTileType":n});};this.getTileView=function(t){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getTileView",{"oTile":t});};this.refreshTile=function(t){A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.removeTile",{"oTile":t});};this.registerTileActionsProvider=function(P){A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.registerTileActionsProvider",{"fnProvider":P});};this.getCatalogTiles=function(C){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getCatalogTiles",{"oCatalog":C});};this.getCatalogTileViewControl=function(C){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.getCatalogTileViewControl",{"oCatalogTile":C});};this.addBookmark=function(P,g){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.addBookmark",{"oParameters":P,"oGroup":g});};this.countBookmarks=function(u){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.countBookmarks",{"sUrl":u});};this.deleteBookmarks=function(u){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.deleteBookmarks",{"sUrl":u});};this.updateBookmarks=function(u,P){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.updateBookmarks",{"sUrl":u,"oParameters":P});};this.setTileVisible=function(t,n){return A.sendMessageToOuterShell("sap.ushell.services.LaunchPage.setTileVisible",{"oTile":t,"bNewVisible":n});};this.isGroupRemovable=function(g){return true;};this.isGroupLocked=function(g){return false;};this.isGroupFeatured=function(g){return true;};this.isGroupVisible=function(g){return true;};this.isLinkPersonalizationSupported=function(t){return true;};this.isTileIntentSupported=function(t){return true;};this.isCatalogsValid=function(){return true;};}a.prototype=Object.create(L.prototype);a.hasNoAdapter=L.hasNoAdapter;return a;},false);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/NavTargetResolution',["sap/ushell/services/NavTargetResolution","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(N,A){"use strict";function a(o,c,p,s){N.call(this,o,c,p,s);this.getDistinctSemanticObjects=function(){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.getDistinctSemanticObjects");};this.expandCompactHash=function(h){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.expandCompactHash",{"sHashFragment":h});};this.resolveHashFragment=function(h){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.resolveHashFragment",{"sHashFragment":h});};this.isNavigationSupported=function(i){return A.sendMessageToOuterShell("sap.ushell.services.NavTargetResolution.isNavigationSupported",{"aIntents":i});};}a.prototype=Object.create(N.prototype);a.hasNoAdapter=N.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/ShellNavigation',["sap/ushell/services/ShellNavigation","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(S,A){"use strict";function a(c,p,s){S.call(this,c,p,s);this.toExternal=function(o,C,w){A.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{"oArgs":o,"bWriteHistory":w});};this.toAppHash=function(b,w){A.sendMessageToOuterShell("sap.ushell.services.ShellNavigation.toExternal",{"sAppHash":b,"bWriteHistory":w});};}a.prototype=Object.create(S.prototype);a.hasNoAdapter=S.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/ShellUIService',["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_ShellUIService/shelluiservice.class.factory","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(S,a,b,d,A){"use strict";var s=d({serviceRegistry:S,serviceFactory:a,service:b});var l;var N=s.extend("sap.ushell.appRuntime.services.ShellUIService",{setTitle:function(t){l=t;return A.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setTitle",{"sTitle":t});},getTitle:function(){return l;},setHierarchy:function(h){return A.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setHierarchy",{"aHierarchyLevels":h});},setRelatedApps:function(r){return A.sendMessageToOuterShell("sap.ushell.ui5service.ShellUIService.setRelatedApps",{"aRelatedApps":r});}});return N;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/UserInfo',["sap/ushell/services/UserInfo","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(U,A){"use strict";function a(o,c){U.call(this,o,c);this.getUser=function(){jQuery.sap.log.warning("'UserInfo.getUser' is private API and should not be called");};this.getThemeList=function(){jQuery.sap.log.warning("'UserInfo.getThemeList' is private API and should not be called");};this.updateUserPreferences=function(){jQuery.sap.log.warning("'UserInfo.updateUserPreferences' is private API and should not be called");};this.getLanguageList=function(){jQuery.sap.log.warning("'UserInfo.getLanguageList' is private API and should not be called");};}a.prototype=Object.create(U.prototype);a.hasNoAdapter=U.hasNoAdapter;return a;},true);
sap.ui.predefine('sap/ushell/appRuntime/ui5/services/UserStatus',["sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../../../ui5service/_UserStatus/userstatus.class.factory","sap/ushell/appRuntime/ui5/AppRuntimeService"],function(S,a,b,d,A){"use strict";var s=d({serviceRegistry:S,serviceFactory:a,service:b});var N=s.extend("sap.ushell.appRuntime.services.UserStatus",{});return N;},true);
sap.ui.predefine('sap/ushell/components/factsheet/views/ThingViewer.controller',function(){"use strict";sap.ui.controller("sap.ushell.components.factsheet.views.ThingViewer",{setService:function(u){this.getView().setModel(new sap.ui.model.odata.ODataModel(u));}});},false);
sap.ui.predefine('sap/ushell/components/factsheet/views/ThingViewer.view',['sap/ushell/components/factsheet/tools/ODataUrlTemplating','sap/ushell/components/factsheet/factory/ThingInspector','sap/ui/model/odata/ODataUtils'],function(O,T,a){"use strict";sap.ui.jsview("sap.ushell.components.factsheet.views.ThingViewer",{getControllerName:function(){return"sap.ushell.components.factsheet.views.ThingViewer";},createContent:function(c){var e,A,E,t,v,s;v=this.getViewData();e=v.entity||v.service;if(!e){E=v.entityTemplateURI||v.template;if(E){if(typeof E!=="string"){E=E[0];}E=E.replace(/%25/g,"%");E=E.replace(/%28/g,"(");E=E.replace(/%29/g,")");E=E.replace(/%27/g,"'");E=E.replace(/%3D/g,"=");E=E.replace(/%7B/g,"{");E=E.replace(/%7D/g,"}");e=O.resolve(E,v);}}A=v.annotationURI||v.annotation;if(typeof e!=="string"){e=e[0];}if(typeof A!=="string"){A=A[0];}s=e.substr(0,e.lastIndexOf("/"));function b(C,s){var S;if(sap.ui.model.odata&&a&&typeof a.setOrigin==="function"){if(!(C&&C.getComponentData())){throw new Error("no component passed");}if(C&&C.getComponentData()&&C.getComponentData().startupParameters&&C.getComponentData().startupParameters["sap-system"]){S=C.getComponentData().startupParameters["sap-system"][0];s=a.setOrigin(s,{alias:S});}}return s;}s=b(sap.ui.core.Component.getOwnerComponentFor(this),s);s=s+e.substr(e.lastIndexOf("/"));t=T(s,A);t.addStyleClass("ThingInspector");return t;}});},false);
sap.ui.predefine('sap/ushell/components/tiles/generic',['sap/ui/core/mvc/Controller','sap/ui/model/analytics/odata4analytics','sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil','sap/ushell/components/tiles/sbtilecontent'],function(C,o,s,a){"use strict";var g=C.extend("sap.ushell.components.tiles.generic",{getTile:function(){return this.oKpiTileView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},logError:function(e){this._updateTileModel({value:"",scale:"",unit:""});jQuery.sap.log.error(e);if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject();}else{this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Failed);}},getKeyForCallCheck:function(){if(this.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){return this.oConfig.TILE_PROPERTIES.id+"left";}else{return this.oConfig.TILE_PROPERTIES.id+"right";}},getRelativeTime:function(){var c=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();if(jQuery.type(this.cacheTime)=="date"){var t=this.cacheTime;}else{var t=new Date(parseInt(this.cacheTime.substr(6),10));}var r=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(c-t);var b;switch(r.unit){case"minutes":var d=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"minutes");c=c-d;b=new Date(c);break;case"hours":var d=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"hours");c=c-d;b=new Date(c);break;case"days":var d=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"days");c=c-d;b=new Date(c);break;}return b;},setTimeStamp:function(d){this.updateTimeStampjobScheduled=false;var f=sap.ui.core.format.DateFormat.getDateTimeInstance({relative:true,relativeSource:"auto",style:"short"});var t=f.format(this.getRelativeTime());this.oKpiTileView.oNVConfS.setRefreshOption(true);this.oKpiTileView.oNVConfS.setTimestamp(t);this.updateTimeStampjobScheduled=false;var k=this.oConfig.TILE_PROPERTIES.id+"time";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible());},isACurrencyMeasure:function(m){var e=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;return sap.ushell.components.tiles.indicatorTileUtils.util.getFormattingMetadata(this.oRunTimeODataModel,e,m)._hasCurrency;},isCurrencyMeasure:function(m){var t=this;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(c&&c.Data){var k=c.Data&&JSON.parse(c.Data);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){k=k.leftData;}else{k=k.rightData;}}if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile"||t.oConfig.TILE_PROPERTIES.tileType==="CM"){if(k&&k.data&&k.data.length){for(var i=0;i<k.data.length;i++){if(k.data[i]&&k.data[i].measure==m){if(jQuery.type(k.data[i].isCurM)=="boolean"){return k.data[i].isCurM;}else{return t.isACurrencyMeasure(m);}break;}else{return t.isACurrencyMeasure(m);}}}else{return t.isACurrencyMeasure(m);}}if(k&&jQuery.type(k.isCurM)=="boolean"){return k.isCurM;}else{return t.isACurrencyMeasure(m);}}else{return t.isACurrencyMeasure(m);}},formSelectStatement:function(b){var t=Object.keys(b);var f="";for(var i=0;i<t.length;i++){if((b[t[i]]!==undefined)&&(b.fullyFormedMeasure)){f=f+","+b[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.Data&&c.Data.length){c.Data=JSON.parse(c.Data);T.trendValue=Number(c.Data.trend);T.targetValue=Number(c.Data.target);T.criticalHighValue=Number(c.Data.ch);T.warningHighValue=Number(c.Data.wh);c.Data=JSON.stringify(c.Data);}break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.Data&&c.Data.length){c.Data=JSON.parse(c.Data);T.criticalLowValue=Number(c.Data.cl);T.warningLowValue=Number(c.Data.wl);T.trendValue=Number(c.Data.trend);T.targetValue=Number(c.Data.target);c.Data=JSON.stringify(c.Data);}break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);if(c&&c.Data&&c.Data.length){c.Data=JSON.parse(c.Data);T.criticalLowValue=Number(c.Data.cl);T.warningLowValue=Number(c.Data.wl);T.trendValue=Number(c.Data.trend);T.targetValue=Number(c.Data.target);T.criticalHighValue=Number(c.Data.ch);T.warningHighValue=Number(c.Data.wh);c.Data=JSON.stringify(c.Data);}break;}}else if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},setNoData:function(){var v=this.getView().getViewData();if(v.parentController){v.parentController.setNoData();if(v.deferredObj){v.deferredObj.resolve();}}else{try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}catch(e){}}},getLocalCache:function(c){var l={};l.ChipId=c.ChipId;l.Data=c.Data;l.CacheMaxAge=c.CacheMaxAgeUnit;l.CacheMaxAgeUnit=c.CacheMaxAgeUnit;l.CacheType=c.CacheType;l.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return l;},fetchKpiValue:function(c,E,r,A){var t=this;var k=0;try{var b=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var T=this.setThresholdValues();var m=T.fullyFormedMeasure;var d=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);var f=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var i=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,f,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);var h=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var j=this.getKeyForCallCheck();var l=true;if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){var l=sap.ushell.components.tiles.indicatorTileUtils.util.isCallInProgress(j);if(l==undefined){l=true;}}if(l){if((!d||(!i&&t.oTileApi.visible.isVisible())||h||(A&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh)){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(j,false);if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,b,m,null,v);if(q){this.QUERY_SERVICE_MODEL=q.model;this.queryUriForKpiValue=q.uri;this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(p){t.backEndCallMade=true;t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(j,true);if(p&&p.results&&p.results.length&&p.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]!=null){k=p.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var w={};if(q.unit[0]){t._updateTileModel({unit:p.results[0][q.unit[0].name]});w.uom=p.results[0][q.unit[0].name];}if(t.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){w.numericValue=k;}else{w.value=k;}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=p.results[0][T.sCriticalHigh];T.criticalLowValue=p.results[0][T.sCriticalLow];T.warningHighValue=p.results[0][T.sWarningHigh];T.warningLowValue=p.results[0][T.sWarningLow];T.targetValue=p.results[0][T.sTarget];T.trendValue=p.results[0][T.sTrend];}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.targetValue=Number(p.results[0][T.sTarget]);T.criticalHighValue=T.targetValue*T.criticalHighValue/100;T.criticalLowValue=T.targetValue*T.criticalLowValue/100;T.warningHighValue=T.targetValue*T.warningHighValue/100;T.warningLowValue=T.targetValue*T.warningLowValue/100;T.trendValue=Number(p.results[0][T.sTrend]);}w.cl=T.criticalLowValue;w.ch=T.criticalHighValue;w.wl=T.warningLowValue;w.wh=T.warningHighValue;w.trend=T.trendValue;w.target=T.targetValue;w.isCurM=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var u={};u.ChipId=t.oConfig.TILE_PROPERTIES.id;u.Data=JSON.stringify(w);u.CacheMaxAge=Number(t.chipCacheTime);u.CacheMaxAgeUnit=t.chipCacheTimeUnit;u.CacheType=1;var x=t.getLocalCache(u);if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,x);var U=false;if(d){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,u,U,function(p){if(p){t.cacheTime=p&&p.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,p);t.setTimeStamp(t.cacheTime);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var y=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(y){if(!y.CachedTime){y.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var z=y.Data;if(z){z=JSON.parse(z);if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){z.leftData=w;}else{z.rightData=w;}}y.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}else{var z={};if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){z.leftData=w;}else{z.rightData=w;}x.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,x);}t.cacheWriteData=w;}t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();t.updateDatajobScheduled=false;var B=t.oConfig.TILE_PROPERTIES.id+"data";var D=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(B);if(D){clearTimeout(D);D=undefined;}c.call(t,k,T);}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(p){t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(j,true);if(p&&p.response){jQuery.sap.log.error(p.message+" : "+p.request.requestUri);E.call(t,p);}});}else{t.kpiValueFetchDeferred=true;sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(j,true);t.logError("Error Preparing Query Service URI");}}}else{if(t.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){if(d&&d.Data){var n=d.Data&&JSON.parse(d.Data);k=n.value;if(n.uom){t._updateTileModel({unit:n.uom});}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=n.ch;T.criticalLowValue=n.cl;T.warningHighValue=n.wh;T.warningLowValue=n.wl;T.targetValue=n.target;T.trendValue=n.trend;}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.targetValue=Number(n.target);T.criticalHighValue=T.targetValue*T.ch/100;T.criticalLowValue=T.targetValue*T.cl/100;T.warningHighValue=T.targetValue*T.wh/100;T.warningLowValue=T.targetValue*T.wl/100;T.trendValue=Number(n.trend);}t.cacheTime=d.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(d.CachedTime),t);}c.call(t,k,T);}else{t.setNoData();}}else{if(d&&d.Data){var n=d.Data&&JSON.parse(d.Data);if(t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"){n=n.leftData;}else{n=n.rightData;}k=n.numericValue;if(n.unit){t._updateTileModel({unit:n.unit});}if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=n.ch;T.criticalLowValue=n.cl;T.warningHighValue=n.wh;T.warningLowValue=n.wl;T.targetValue=n.target;T.trendValue=n.trend;}else if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="RELATIVE"){T.targetValue=Number(n.target);T.criticalHighValue=T.targetValue*T.criticalHighValue/100;T.criticalLowValue=T.targetValue*T.criticalLowValue/100;T.warningHighValue=T.targetValue*T.warningHighValue/100;T.warningLowValue=T.targetValue*T.warningLowValue/100;T.trendValue=Number(n.trend);}t.cacheTime=d.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(d.CachedTime),t);}c.call(t,k,T);}else{t.setNoData();}}}}}catch(e){t.logError(e);}},getRunTimeODataModel:function(u,S){if(window["sap-ushell-config"].cacheBusting){u=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(u);}if(!this.oRunTimeODataModel){this.oRunTimeODataModel=sap.ushell.components.tiles.indicatorTileUtils.util.getODataModelByServiceUri(u);}if(this.oRunTimeODataModel.getServiceMetadata()){S();}else{this.oRunTimeODataModel.attachMetadataLoaded(S);}},parse_sapclient:function(){var i,S,r,f,b;S="P_SAPClient";r="$$$";f=this.oConfig.EVALUATION_FILTERS;if(f.constructor!==Array){return;}if(f.length<1){return;}for(i in f){b=f[i];if(b["NAME"]===S&&b["VALUE_1"]===r){break;}b=null;}if(b){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getHanaClient()).done(function(c){b["VALUE_1"]=c;});}},fetchEvaluation:function(c,b,r,i){var t=this;var p=this.oConfig.TILE_PROPERTIES.sb_metadata||"HANA";t.DEFINITION_DATA=c;t._updateTileModel(this.DEFINITION_DATA);var d=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);if((t.oTileApi.visible.isVisible()&&!t.firstTimeVisible)||d||i){jQuery.when(sap.ushell.components.tiles.indicatorTileUtils.util.getFrontendCache(c,t.oTileApi)).done(function(f){t.firstTimeVisible=true;f=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(f||Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){b.call();}else{try{if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)||!t.dataCallInProgress){t.dataCallInProgress=true;var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(t.oConfig.TILE_PROPERTIES.id);if(h){t.oConfig.EVALUATION_FILTERS=h.EVALUATION_FILTERS;b.call();}else if(t.evaluationFetchDeferred){t.evaluationFetchDeferred=false;sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(t.oConfig,t.oTileApi,function(j){t.evaluationFetchDeferred=true;t.oConfig.EVALUATION_FILTERS=j;if(p.toUpperCase()==="HANA"){t.parse_sapclient();}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);b.call();});}}}catch(e){t.evaluationFetchDeferred=true;t.logError("no evaluation data");}}}).fail(function(){t.firstTimeVisible=true;if(Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){b.call();}else{try{var f=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(t.oConfig.TILE_PROPERTIES.id);if(f){t.oConfig.EVALUATION_FILTERS=f.EVALUATION_FILTERS;b.call();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(t.oConfig,t.oTileApi,function(h){t.oConfig.EVALUATION_FILTERS=h;if(p.toUpperCase()==="HANA"){t.parse_sapclient();}sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);b.call();});}}catch(e){t.logError("no evaluation data");}}});}},refreshHandler:function(r,A){var t=this;var i=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var b=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(A);if(!t.firstTimeVisible||i||b){t.fetchEvaluation(t.oConfig,function(){if(t.oConfig.TILE_PROPERTIES.tileType=="NT"||t.oConfig.TILE_PROPERTIES.tileType=="AT"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatornumeric.NumericTile"||t.oKpiTileView.getViewName()=="sap.ushell.components.tiles.indicatordeviation.DeviationTile"){var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError,r,b);}else{t.doProcess();}});}else{var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.doProcess(t.KPIVALUE,t.setThresholdValues());}else{t.doProcess(i,b);}});}},r,b);}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},getChipConfiguration:function(c){var t=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),t.oTileApi.preview.isEnabled(),function(b){t.oConfig=b;var d=sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig);var f=sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig);if(t.oTileApi.search){t.oTileApi.search.setKeywords([d,f]);}if(t.oTileApi.preview){t.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}c.call();});}catch(e){t.logError(e.message);}},onAfterTileRendering:function(){var t=this;this.firstTimeVisible=false;this.oKpiTileView=this.getView();this.updateDatajobScheduled=false;this.updateTimeStampjobScheduled=false;this.oViewData=this.oKpiTileView.getViewData();this.tilePressed=false;this.kpiValueFetchDeferred=true;this.evaluationFetchDeferred=true;this.backEndCallMade=false;if(!sap.ushell.components.tiles.utils){jQuery.sap.require("sap.ushell.components.tiles.utils");}this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();this.oTileApi=this.oViewData.chip;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);this.getChipConfiguration(function(){t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);if(t.oTileApi.preview.isEnabled()){t.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(function(){sap.m.MessageToast.show(t.oResourceBundle.getText("sb.NavigationHelp"));});}else if(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile){t.doDummyProcess();var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap("<a href ='"+n+"'/>");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});}else{if(t.oTileApi.visible&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){t.oTileApi.visible.attachVisible(t.visibleHandler.bind(t));}var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap("<a href ='"+n+"' style='display: block;'/>");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){t.oKpiTileView.oNVConfS.attachRefresh(function(){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);jQuery.proxy(t.refreshHandler(true),t);});}t.fetchEvaluation(t.oConfig,function(){t.DEFINITION_DATA=t.oConfig;var u=t.oTileApi.url.addSystemToServiceUrl(t.oConfig.EVALUATION.ODATA_URL);var c=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var i=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,c,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if(!i||t.getView().getViewData().refresh){t.getRunTimeODataModel(u,function(){if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError);}else{t.doProcess();}});}else{if(t.KPI_VALUE_REQUIRED){t.fetchKpiValue(function(k,T){this.KPIVALUE=k;t.doProcess(k,T);},t.logError);}else{t.doProcess();}}});}});},onAfterRendering:function(){this.onAfterTileRendering();},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},autoFormatter:function(n,i){i=i||false;if(!n){return"";}return sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(n),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,i);},setToolTip:function(b,c,t){var d=this;var e;var T=this.setThresholdValues();var m=this.oConfig.EVALUATION.COLUMN_NAME;var i=this.isCurrencyMeasure(m);if(t=="CONT"||t=="COMP"){if(this.oKpiTileView.getContent()[0].getTileContent().length){e=d.oKpiTileView.getContent()[0].getTileContent()[0].getContent();var f,h,j,v,k,l,n,p,q;if(c&&c[0]){f=c[0].title;v=this.autoFormatter(c[0].value,i);n=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[0].color);}if(c&&c[1]){h=c[1].title;k=this.autoFormatter(c[1].value,i);p=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[1].color);}if(c&&c[2]){j=c[2].title;l=this.autoFormatter(c[2].value,i);q=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(c[2].color);}var r={};r["0"]=this.oConfig.EVALUATION.COLUMN_NAME+",asc";r["1"]=this.oConfig.EVALUATION.COLUMN_NAME+",desc";r["2"]=this.oConfig.TILE_PROPERTIES.dimension+",asc";r["3"]=this.oConfig.TILE_PROPERTIES.dimension+",desc";var u=r[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var w={measure:this.oConfig.EVALUATION.COLUMN_NAME,contributionTile:u,m1:f,v1:v,c1:n,m2:h,v2:k,c2:p,m3:j,v3:l,c3:q};sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(e,t,w);}}else{var x="";if(b=="Error"){x="sb.error";}if(b=="Neutral"){x="sb.neutral";}if(b=="Critical"){x="sb.critical";}if(b=="Good"){x="sb.good";}var w={status:x,actual:this.autoFormatter(c,i),target:this.autoFormatter(T.targetValue,i),cH:this.autoFormatter(T.criticalHighValue,i),wH:this.autoFormatter(T.warningHighValue,i),wL:this.autoFormatter(T.warningLowValue,i),cL:this.autoFormatter(T.criticalLowValue,i)};var e=d.oKpiTileView.getContent()[0].getTileContent()[0]&&d.oKpiTileView.getContent()[0].getTileContent()[0].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(e,t,w);}},getTrendColor:function(t){var b=this,w,c,d,f;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;this.DEFINITION_DATA.EVALUATION_VALUES;var r=sap.m.ValueColor.Neutral;if(i==="MI"){if(t.criticalHighValue&&t.warningHighValue){f=Number(t.criticalHighValue);d=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<d){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=f){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==="MA"){if(t.criticalLowValue&&t.warningLowValue){c=Number(t.criticalLowValue);w=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<c){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){f=Number(t.criticalHighValue);d=Number(t.warningHighValue);w=Number(t.warningLowValue);c=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>f){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=d&&this.CALCULATED_KPI_VALUE<=f)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){b.logError(e);}},getTrendIndicator:function(t){var b=this;t=Number(t);try{var c=sap.m.DeviationIndicator.None;if(t>this.CALCULATED_KPI_VALUE){c=sap.m.DeviationIndicator.Down;}else if(t<this.CALCULATED_KPI_VALUE){c=sap.m.DeviationIndicator.Up;}return c;}catch(e){b.logError(e);}},setTextInTile:function(){var t=this;var b=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:b.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:b.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},_getEvaluationThresholdMeasures:function(){var t=[];t.push(this.oConfig.EVALUATION.COLUMN_NAME);if(this.oConfig.EVALUATION.VALUES_SOURCE==="MEASURE"){var b=this.oConfig.EVALUATION_VALUES;if(b&&b.length){for(var i=0;i<b.length;i++){if((b[i]).COLUMN_NAME&&!((b[i]).FIXED)){t.push((b[i]).COLUMN_NAME);}}}}return t;},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});return g;});
sap.ui.predefine('sap/ushell/components/tiles/indicatorArea/AreaChartTile.controller',['sap/ushell/components/tiles/generic'],function(g){"use strict";var A=g.extend("sap.ushell.components.tiles.indicatorArea.AreaChartTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},doProcess:function(r,i){this.onAfterFinalEvaluation(r,i);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({footer:"",description:"",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);},scheduleJob:function(d){if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},onAfterFinalEvaluation:function(r,d){var t=this;var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var E=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var m=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var f=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(f==undefined){this.logError();return;}var h=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var j=this.DEFINITION_DATA.EVALUATION_VALUES;var k=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(k){var l=k.Data&&JSON.parse(k.Data);}}var n=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var o=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,n,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);var p=m;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(h){case"MI":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningHigh&&t.sCriticalHigh&&t.sTarget){p+=","+t.sWarningHigh+","+t.sCriticalHigh+","+t.sTarget;}break;case"MA":t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget){p+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget;}break;case"RA":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget&&t.sWarningHigh&&t.sCriticalHigh){p+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget+","+t.sWarningHigh+","+t.sCriticalHigh;}break;}}var q=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);if((l&&!l.rightData)||!k||(!o&&t.oTileApi.visible.isVisible())||q||(d&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var Q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,E,p,f,v);if(Q){this.queryUriForTrendChart=Q.uri;var w={};try{this.trendChartODataReadRef=Q.model.read(Q.uri,null,null,true,function(a){t.kpiValueFetchDeferred=true;if(a&&a.results&&a.results.length){if(Q.unit[0]){t.unit=a.results[0][Q.unit[0].name];t.CURRENCY_CODE=t.unit;w.unit=Q.unit[0];w.unit.name=Q.unit[0].name;}t.queryUriResponseForTrendChart=a;f=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oRunTimeODataModel,E,f);a.results.splice(10);a.firstXlabel=a.results[0][f];a.lastXlabel=a.results[a.results.length-1][f];w.data=a;if(w&&w.data&&w.data.results&&w.data.results.length){for(var i=0;i<w.data.results.length;i++){delete w.data.results[i].__metadata;}}w.isCurM=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);w.dimensionName=f;_(a,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);var c={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();c.ChipId=t.oConfig.TILE_PROPERTIES.id;c.Data=JSON.stringify(w);c.CacheMaxAge=Number(t.chipCacheTime);c.CacheMaxAgeUnit=t.chipCacheTimeUnit;c.CacheType=1;var b=t.getLocalCache(c);if(t.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){var y=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(y){if(!y.CachedTime){y.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var z=y.Data;if(z){z=JSON.parse(z);z.rightData=w;}y.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,y);}else{var z={};z.rightData=w;b.Data=JSON.stringify(z);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);}t.cacheWriteData=w;t.getView().getViewData().deferredObj.resolve();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);var U=false;if(k){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,c,U,function(a){if(a){t.cacheTime=a&&a.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,a);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);t.updateDatajobScheduled=false;var B=t.oConfig.TILE_PROPERTIES.id+"data";var C=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(B);if(C){clearTimeout(C);C=undefined;}jQuery.proxy(t.scheduleJob(t.cacheTime),t);}}else{t.setNoData();}},function(a){t.kpiValueFetchDeferred=true;if(a&&a.response){t.logError("Data call failed");}});}catch(e){t.kpiValueFetchDeferred=true;t.logError(e);}}else{t.kpiValueFetchDeferred=true;t.logError();}}}else{if(k&&k.Data){try{var s;var x=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(x.indexOf("DT-")==-1){s=k.Data&&JSON.parse(k.Data);}else{s=k.Data&&JSON.parse(k.Data);s=s.rightData;}if(s.unit){t.unit=s.data.results[0][s.unit.name];t.CURRENCY_CODE=t.unit;}t.cacheTime=k.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}t.queryUriResponseForTrendChart=s.data;f=s.dimensionName;_(s.data,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.getView().getViewData().deferredObj.resolve();}jQuery.proxy(t.scheduleJob(t.cacheTime),t);}catch(e){t.logError(e);}}else{t.setNoData();}}function _(y,z){var B=[];var C=[];var D=[];var F=[];var G=[];var H=[];var I=y.firstXlabel;var J,K,L,M,N;var O=y.lastXlabel;var P=Number(y.results[0][m]);var R=Number(y.results[y.results.length-1][m]);var i;for(i in y.results){y.results[i][f]=Number(i);y.results[i][m]=Number(y.results[i][m]);t.sWarningHigh?y.results[i][t.sWarningHigh]=Number(y.results[i][t.sWarningHigh]):"";t.sCriticalHigh?y.results[i][t.sCriticalHigh]=Number(y.results[i][t.sCriticalHigh]):"";t.sCriticalLow?y.results[i][t.sCriticalLow]=Number(y.results[i][t.sCriticalLow]):"";t.sWarningLow?y.results[i][t.sWarningLow]=Number(y.results[i][t.sWarningLow]):"";t.sTarget?y.results[i][t.sTarget]=Number(y.results[i][t.sTarget]):"";t.sWarningHigh?D.push(y.results[i][t.sWarningHigh]):"";t.sCriticalHigh?F.push(y.results[i][t.sCriticalHigh]):"";t.sCriticalLow?G.push(y.results[i][t.sCriticalLow]):"";t.sWarningLow?H.push(y.results[i][t.sWarningLow]):"";B.push(y.results[i][f]);C.push(y.results[i][m]);}try{I=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(I);O=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(O);}catch(e){t.logError(e);}var S=Number(P);if(t.oConfig.EVALUATION.SCALING==-2){S*=100;}var T=Math.min.apply(Math,C);var c=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var U=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(S,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION,c,t.CURRENCY_CODE);if(t.oConfig.EVALUATION.SCALING==-2){U+=" %";}var V=U.toString();var W=Number(R);if(t.oConfig.EVALUATION.SCALING==-2){W*=100;}var X=Math.max.apply(Math,C);c=t.isCurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var Y=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(W,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION,c,t.CURRENCY_CODE);if(t.oConfig.EVALUATION.SCALING==-2){Y+=" %";}var Z=Y.toString();try{var $=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,B));var a1=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,B));}catch(e){t.logError(e);}if(z=="MEASURE"){(D.length!=0)?(t.firstwH=D[$])&&(t.lastwH=D[a1]):"";(F.length!=0)?(t.firstcH=F[$])&&(t.lastcH=F[a1]):"";(G.length!=0)?(t.firstcL=G[$])&&(t.lastcL=G[a1]):"";(H.length!=0)?(t.firstwL=H[$])&&(t.lastwL=H[a1]):"";}var b1={width:"100%",height:"100%",unit:t.unit||"",chart:{color:"Neutral",data:y.results},size:"Auto",minXValue:$,maxXValue:a1,minYValue:T,maxYValue:X,firstXLabel:{label:I+"",color:"Neutral"},lastXLabel:{label:O+"",color:"Neutral"},firstYLabel:{label:V+"",color:"Neutral"},lastYLabel:{label:Z+"",color:"Neutral"},minLabel:{},maxLabel:{}};switch(h){case"MA":for(i in j){if(j[i].TYPE=="CL"){b1.minThreshold={color:"Error"};var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.cl=Number(j[i].FIXED);b1.minThreshold.data=(z=="MEASURE")?y.results:[c1];J=(z=="MEASURE")?t.sCriticalLow:m;}else if(j[i].TYPE=="WL"){b1.maxThreshold={color:"Good"};var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);b1.maxThreshold.data=(z=="MEASURE")?y.results:[c1];K=(z=="MEASURE")?t.sWarningLow:m;t.wl=Number(j[i].FIXED);}else if(j[i].TYPE=="TA"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);b1.target={color:"Neutral"};b1.target.data=(z=="MEASURE")?y.results:[c1];N=(z=="MEASURE")?t.sTarget:m;}}b1.innerMinThreshold={data:[]};b1.innerMaxThreshold={data:[]};if(z=="FIXED"){b1.firstYLabel.color=P<t.cl?"Error":((t.cl<=P)&&(P<=t.wl))?"Critical":(P>t.wl)?"Good":"Neutral";b1.lastYLabel.color=R<t.cl?"Error":((t.cl<=R)&&(R<=t.wl))?"Critical":(R>t.wl)?"Good":"Neutral";}else if(z=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL){b1.firstYLabel.color=P<t.firstcL?"Error":((t.firstcL<=P)&&(P<=t.firstwL))?"Critical":(P>t.firstwL)?"Good":"Neutral";b1.lastYLabel.color=R<t.lastcL?"Error":((t.lastcL<=R)&&(R<=t.lastwL))?"Critical":(R>t.lastwL)?"Good":"Neutral";}break;case"MI":for(i in j){if(j[i].TYPE=="CH"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.ch=Number(j[i].FIXED);b1.maxThreshold={color:"Error"};b1.maxThreshold.data=(z=="MEASURE")?y.results:[c1];K=(z=="MEASURE")?t.sCriticalHigh:m;}else if(j[i].TYPE=="WH"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.wh=Number(j[i].FIXED);b1.minThreshold={color:"Good"};b1.minThreshold.data=(z=="MEASURE")?y.results:[c1];J=(z=="MEASURE")?t.sWarningHigh:m;}else if(j[i].TYPE=="TA"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);b1.target={color:"Neutral"};b1.target.data=(z=="MEASURE")?y.results:[c1];N=(z=="MEASURE")?t.sTarget:m;}}if(z=="FIXED"){b1.firstYLabel.color=P>t.ch?"Error":((t.wh<=P)&&(P<=t.ch))?"Critical":(P<t.wh)?"Good":"Neutral";b1.lastYLabel.color=R>t.ch?"Error":((t.wh<=R)&&(R<=t.ch))?"Critical":(R<t.wh)?"Good":"Neutral";}else if(z=="MEASURE"&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){b1.firstYLabel.color=P>t.firstcH?"Error":((t.firstwH<=P)&&(P<=t.firstcH))?"Critical":(P<t.firstwH)?"Good":"Neutral";b1.lastYLabel.color=R>t.lastcH?"Error":((t.lastwH<=R)&&(R<=t.lastcH))?"Critical":(R<t.lastwH)?"Good":"Neutral";}b1.innerMaxThreshold={data:[]};b1.innerMinThreshold={data:[]};break;case"RA":for(i in j){if(j[i].TYPE=="CH"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.ch=Number(j[i].FIXED);b1.maxThreshold={color:"Error"};b1.maxThreshold.data=(z=="MEASURE")?y.results:[c1];K=(z=="MEASURE")?t.sCriticalHigh:m;}else if(j[i].TYPE=="WH"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.wh=Number(j[i].FIXED);b1.innerMaxThreshold={color:"Good"};b1.innerMaxThreshold.data=(z=="MEASURE")?y.results:[c1];M=(z=="MEASURE")?t.sWarningHigh:m;}else if(j[i].TYPE=="WL"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.wl=Number(j[i].FIXED);b1.innerMinThreshold={color:"Good"};b1.innerMinThreshold.data=(z=="MEASURE")?y.results:[c1];L=(z=="MEASURE")?t.sWarningLow:m;}else if(j[i].TYPE=="CL"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);t.cl=Number(j[i].FIXED);b1.minThreshold={color:"Error"};b1.minThreshold.data=(z=="MEASURE")?y.results:[c1];J=(z=="MEASURE")?t.sCriticalLow:m;}else if(j[i].TYPE=="TA"){var c1={};c1[f]="";c1[m]=Number(j[i].FIXED);b1.target={color:"Neutral"};b1.target.data=(z=="MEASURE")?y.results:[c1];N=(z=="MEASURE")?t.sTarget:m;}}if(z=="FIXED"){b1.firstYLabel.color=(P>t.ch||P<t.cl)?"Error":((t.wh<=P)&&(P<=t.ch))||((t.cl<=P)&&(P<=t.wl))?"Critical":((P>=t.wl)&&(P<=t.wh))?"Good":"Neutral";b1.lastYLabel.color=(R>t.ch||R<t.cl)?"Error":((t.wh<=R)&&(R<=t.ch))||((t.cl<=R)&&(R<=t.wl))?"Critical":((R>=t.wl)&&(R<=t.wh))?"Good":"Neutral";}else if(z=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){b1.firstYLabel.color=(P>t.firstcH||P<t.firstcL)?"Error":((t.firstwH<=P)&&(P<=t.firstcH))||((t.firstcL<=P)&&(P<=t.firstwL))?"Critical":((P>=t.firstwL)&&(P<=t.firstwH))?"Good":"Neutral";b1.lastYLabel.color=(R>t.lastcH||R<t.lastcL)?"Error":((t.lastwH<=R)&&(R<=t.lastcH))||((t.lastcL<=R)&&(R<=t.lastwL))?"Critical":((R>=t.lastwL)&&(R<=t.lastwH))?"Good":"Neutral";}break;}var d1=function(f1,a,b,z){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"{/"+f1+"/color}",points:{path:"/"+f1+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{"+a+"}",y:"{"+b+"}"})}});};var e1=t.getView().oNVConfContS;e1.setTarget(d1("target",f,N));e1.setInnerMinThreshold(d1("innerMinThreshold",f,L));e1.setInnerMaxThreshold(d1("innerMaxThreshold",f,M));e1.setMinThreshold(d1("minThreshold",f,J));e1.setMaxThreshold(d1("maxThreshold",f,K));e1.setChart(d1("chart",f,m));t.setTextInTile();if(t.getView().getViewData().parentController){t.getView().getViewData().parentController._updateTileModel(b1);}else{t._updateTileModel(b1);}}}});return A;});
sap.ui.predefine('sap/ushell/components/tiles/indicatorDual/DualTile.controller',function(){"use strict";sap.ui.controller("sap.ushell.components.tiles.indicatorDual.DualTile",{getRelativeTime:function(){var c=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();this.cacheTime=(jQuery.type(this.cacheTime)=="date")?this.cacheTime:new Date(parseInt(this.cacheTime.substr(6),10));var r=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(c-this.cacheTime);var a;switch(r.unit){case"minutes":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"minutes");c=c-o;a=new Date(c);break;case"hours":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"hours");c=c-o;a=new Date(c);break;case"days":var o=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(r.time,"days");c=c-o;a=new Date(c);break;}return a;},getTile:function(){return this.oKpiTileView.oGenericTile;},setTimeStamp:function(){this.updateTimeStampjobScheduled=false;var f=sap.ui.core.format.DateFormat.getDateTimeInstance({relative:true,relativeSource:"auto"});var t=f.format(this.getRelativeTime());var l=this.getView().oGenericTile.getTileContent()[0];l&&l.setRefreshOption&&l.setRefreshOption(true);l&&l.setTimestamp&&l.setTimestamp(t);this.updateTimeStampjobScheduled=false;var k=this.oConfig.TILE_PROPERTIES.id+"time";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}sap.ushell.components.tiles.indicatorTileUtils.util.scheduleTimeStampJob.call(this,this.oTileApi.visible.isVisible());},getLocalCache:function(c){var l={};l.ChipId=c.ChipId;l.Data=c.Data;l.CacheMaxAge=c.CacheMaxAgeUnit;l.CacheMaxAgeUnit=c.CacheMaxAgeUnit;l.CacheType=c.CacheType;l.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();return l;},refreshPress:function(){this.initProcess(true);},_getView:function(v,d,r){var a=this.oKpiTileView.getViewData();var b=sap.ui.view({type:sap.ui.core.mvc.ViewType.JS,viewName:v,viewData:jQuery.extend(true,{},a,{parentController:this},{deferredObj:d},{refresh:r})});return b;},logError:function(e){this._updateTileModel({value:"",scale:"",unit:""});if(this.getView().getViewData().deferredObj){this.getView().getViewData().deferredObj.reject();}},doProcess:function(r){sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(this.oKpiTileView.oConfig.TILE_PROPERTIES.id+"defferedLeft",this.deferred_left);sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(this.oKpiTileView.oConfig.TILE_PROPERTIES.id+"defferedRight",this.deferred_right);var t=this;this.getView().oGenericTile.removeAllTileContent();var s=this.getView().oGenericTile;this.leftView;this.rightView;this.system=this.oTileApi.url.getApplicationSystem();this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loading);var a=t.tileType.split("-")[1];try{var v;v="sap.ushell.components.tiles.indicatornumeric.NumericTile";this.leftView=t._getView(v,this.deferred_left,r);this.leftView.getController().dataCallInProgress=false;s.addTileContent(this.leftView.oGenericTile.getTileContent()[0]);switch(a){case"CM":v="sap.ushell.components.tiles.indicatorcomparison.ComparisonTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"CT":v="sap.ushell.components.tiles.indicatorcontribution.ContributionTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"AT":v="sap.ushell.components.tiles.indicatordeviation.DeviationTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;case"TT":v="sap.ushell.components.tiles.indicatorArea.AreaChartTile";this.rightView=t._getView(v,this.deferred_right,r);this.rightView.getController().dataCallInProgress=false;s.addTileContent(this.rightView.oGenericTile.getTileContent()[0]);break;}this.leftView.getController().onAfterTileRendering();this.rightView.getController().onAfterTileRendering();var l=this.getView().oGenericTile.getTileContent()[0];l&&l.attachRefresh&&l.attachRefresh(jQuery.proxy(this.refreshPress,t));}catch(e){this.logError(e);}},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},doDummyProcess:function(){var t=this;try{t.setTextInTile();switch(t.tileType){case"DT-CM":t._updateTileModel({value:1,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Good,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});break;case"DT-AT":t._updateTileModel({valueColor:"Good",value:100,frameType:sap.m.FrameType.TwoByOne,unit:"USD",actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});break;case"DT-CT":t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});break;case"DT-TT":this._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.TwoByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});break;}}catch(e){}},visibleHandler:function(i){if(!i){if(this.leftView){this.leftView.getController().firstTimeVisible=false;}if(this.rightView){this.rightView.getController().firstTimeVisible=false;}sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){if(this.leftView){this.leftView.getController().refreshHandler();}if(this.rightView){this.rightView.getController().refreshHandler();}}},initProcess:function(r){var t=this;this.oKpiTileView=this.getView();this.oResourceBundle=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();this.viewData={};t.viewData=this.oKpiTileView.getViewData();this.oTileApi=this.viewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.deferred_left=new jQuery.Deferred();this.deferred_right=new jQuery.Deferred();$.when(this.deferred_left,this.deferred_right).done(function(){t.setTextInTile();t.oConfig=t.oKpiTileView.oConfig;t.chipCacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(t.oConfig);t.chipCacheTimeUnit=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(t.oConfig);var l=t.leftView.getController().cacheWriteData;var a=t.rightView.getController().cacheWriteData;t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oKpiTileView.oConfig,t.system);t.oKpiTileView.oGenericTile.$().wrap("<a href ='"+n+"'/>");t.oKpiTileView.oGenericTile.attachPress(function(){t.tilePressed=true;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oKpiTileView.oConfig.TILE_PROPERTIES.id,null);window.location.hash=n;});var c={};var w={};w.leftData=l;w.rightData=a;c.ChipId=t.oConfig.TILE_PROPERTIES.id;c.Data=JSON.stringify(w);c.CacheMaxAge=Number(t.chipCacheTime);c.CacheMaxAgeUnit=t.chipCacheTimeUnit;c.CacheType=1;var b=t.getLocalCache(c);if(w.leftData&&w.rightData){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,b);}var d=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(t.chipCacheTime&&w.leftData&&w.rightData){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,c,false,function(e){if(e){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,e);t.cacheTime=e.CachedTime;t.setTimeStamp.call(t);}});}if(t.chipCacheTime){if(!t.cacheTime){t.cacheTime=d.CachedTime;}t.setTimeStamp.call(t);sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(t,t.oTileApi.visible.isVisible());}}).fail(function(){t.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Failed);});t.tileType=t.oKpiTileView.oConfig.TILE_PROPERTIES.tileType;this.oTileApi=t.viewData.chip;if(this.oTileApi.preview.isEnabled()){this.doDummyProcess();t.oKpiTileView.oGenericTile.attachPress(function(){sap.m.MessageToast.show(t.oResourceBundle.getText("sb.NavigationHelp"));});}else{this.doProcess(r);}},onAfterRendering:function(){this.initProcess();},setNoData:function(){try{this._updateTileModel({value:"",scale:"",unit:"",footerNum:this.oResourceBundle.getText("sb.noDataAvailable"),footerComp:this.oResourceBundle.getText("sb.noDataAvailable")});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}catch(e){}},getChipConfiguration:function(c){var t=this;try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),t.oTileApi.preview.isEnabled(),function(a){t.oConfig=a;c.call();});}catch(e){t.logError(e.message);}}});return{};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorDualComparison/DualComparison.controller',["sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil"],function(u){"use strict";sap.ui.controller("tiles.indicatorDualComparison.DualComparison",{getTile:function(){return this.oDualComparisonView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},setTitle:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},logError:function(e){this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},getTrendColor:function(t){var a=this;var c,w,b,d;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var r=sap.m.ValueColor.Neutral;if(i==="MI"){if(t.criticalHighValue&&t.warningHighValue){c=Number(t.criticalHighValue);w=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<w){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=c){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==="MA"){if(t.criticalLowValue&&t.warningLowValue){b=Number(t.criticalLowValue);d=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<b){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=d){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){c=Number(t.criticalHighValue);w=Number(t.warningHighValue);d=Number(t.warningLowValue);b=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<b||this.CALCULATED_KPI_VALUE>c){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=d)||(this.CALCULATED_KPI_VALUE>=w&&this.CALCULATED_KPI_VALUE<=c)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},_processDataForComparisonChart:function(d,m,a){var f=[],L={},i,t,l;var b;var T=[];var c=this;for(i=0;i<d.results.length;i++){var e=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oConfig.EVALUATION.ODATA_URL,this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];L[t.key]=t.value;}var g=c.oConfig.TILE_PROPERTIES.COLUMN_NAMES||c.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<g.length;i++){var h={};var j=g[i];h.value=Number(e[j.COLUMN_NAME]);var k=Number(e[j.COLUMN_NAME]);if(c.oConfig.EVALUATION.SCALING==-2){k*=100;}b=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(k,c.oConfig.EVALUATION.SCALING,c.oConfig.EVALUATION.DECIMAL_PRECISION);if(c.oConfig.EVALUATION.SCALING==-2){b+=" %";}h.displayValue=b.toString();if(a[i]&&e[a[i].name]){h.displayValue+=" "+e[a[i].name];}h.color=j.semanticColor;h.title=L[j.COLUMN_NAME]||j.COLUMN_NAME;f.push(h);}return f;},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},fetchKpiValue:function(s,E){var t=this;try{var U=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;var b=m;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(var j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){b=b+","+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}}var d=this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=m+",asc";o["1"]=m+",desc";var f=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var g=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(U),a,b,null,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){g.uri+="&$orderby="+f[0]+" "+f[2];}else{g.uri+="&$orderby="+f[0]+" "+f[1];}this.writeData={};this.comparisionChartODataRef=g.model.read(g.uri,null,null,true,function(d){if(d&&d.results&&d.results.length){if(g.unit){t.writeData.unit=g.unit;}t.oConfig.TILE_PROPERTIES.FINALVALUE=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,b.split(",")[0],g.unit);t.writeData.data=d;var k;for(var i=0;i<t.oConfig.TILE_PROPERTIES.FINALVALUE.length;i++){if(t.oConfig.TILE_PROPERTIES.FINALVALUE[i].title==t.DEFINITION_DATA.EVALUATION.COLUMN_NAME){t.writeData.numericData=t.oConfig.TILE_PROPERTIES.FINALVALUE[i];calculatedValueforScaling=t.oConfig.TILE_PROPERTIES.FINALVALUE[i].value;t.getTrendIndicator(t.setThresholdValues().trendValue,calculatedValueforScaling);t._updateTileModel({valueColor:t.oConfig.TILE_PROPERTIES.FINALVALUE[i].color,value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(k),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString()});break;}}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(d.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=d;t.writeData.data=d;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{E.call(t,"no Response from QueryServiceUri");}},function(i){if(i&&i.response){jQuery.sap.log.error(i.message+" : "+i.request.requestUri);E.call(t,i);}});if(!t.writeData.numericData){var h=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(U),a,m,null,h);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(d){if(d&&d.results&&d.results.length){if(q.unit){t._updateTileModel({unitNumeric:d.results[0][q.unit.name]});t.writeData.unitNumeric=q.unit;t.writeData.unitNumeric.name=q.unit.name;}t.writeData.numericData=d.results[0];t.DEFINITION_DATA.value=t.writeData.numericData[t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];t.writeData.numericData.color=t.getTrendColor(t.setThresholdValues());t.DEFINITION_DATA.valueColor=t.writeData.numericData.color;var S="";var i=d.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var k=t.getTrendIndicator(t.setThresholdValues().trendValue,i);if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}t._updateTileModel({value:S.toString(),valueColor:t.writeData.numericData.color,indicator:k});}else{E.call(t,"no Response from QueryServiceUri");}});}}}else{if(c.unit){t._updateTileModel({unit:c.data.results[0][c.unit.name]});}if(c.data&&c.data.results&&c.data.results.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;t._updateTileModel({value:c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]});t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,b,t.writeData.unit);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(d.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{E.call(t,"no Response from QueryServiceUri");}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k){this.CALCULATED_KPI_VALUE=k;t.oDualComparisonView.oGenericTile.setFrameType("TwoByOne");t.oDualComparisonView.oGenericTile.removeAllTileContent();t.oDualComparisonView.oGenericTile.addTileContent(t.oDualComparisonView.oNumericTile);t.oDualComparisonView.oGenericTile.addTileContent(t.oDualComparisonView.oComparisonTile);var c=this.CALCULATED_KPI_VALUE;var a,b;for(var i=0;i<c.length;i++){if(c[i].title==t.DEFINITION_DATA.EVALUATION.COLUMN_NAME){b=c[i].value;a=c[i].color||"Neutral";t._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),valueColor:a});break;}}if(!a&&!b){a=t.DEFINITION_DATA.valueColor;b=t.DEFINITION_DATA.value;}this._updateTileModel({value:sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION).toString(),data:this.CALCULATED_KPI_VALUE});var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualComparisonView.oGenericTile.$().wrap("<a href ='"+n+"'/>");this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loaded);var s="";if(a=="Error"){s="sb.error";}if(a=="Neutral"){s="sb.neutral";}if(a=="Critical"){s="sb.critical";}if(a=="Good"){s="sb.good";}var T=t.setThresholdValues();var m,d,e,v,f,g,h,j,l;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){m=this.CALCULATED_KPI_VALUE[0].title;v=this.CALCULATED_KPI_VALUE[0].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){d=this.CALCULATED_KPI_VALUE[1].title;f=this.CALCULATED_KPI_VALUE[1].value;j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){e=this.CALCULATED_KPI_VALUE[2].title;g=this.CALCULATED_KPI_VALUE[2].value;l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color);}var o={status:s,actual:b,target:T.targetValue,cH:T.criticalHighValue,wH:T.warningHighValue,wL:T.warningLowValue,cL:T.criticalLowValue};var p={m1:m,v1:v,c1:h,m2:d,v2:f,c2:j,m3:e,v3:g,c3:l};var C=t.oDualComparisonView.oGenericTile.getTileContent()[0].getContent();var q=t.oDualComparisonView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"NT",o);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(q,"COMP",p);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualComparisonView=this.getView();this.oChip=this.oDualComparisonView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oChip.url.getApplicationSystem();this.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),function(c){t.oConfig=c;if(t.oChip.preview){t.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oChip.preview.isEnabled()){t.setTitle();t._updateTileModel({value:1,size:sap.m.Size.Auto,frameType:"TwoByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Good,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1,color:"Good"},{title:"Measure 2",value:2,color:"Good"},{title:"Measure 3",value:3,color:"Good"}]});t.oDualComparisonView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE;t.setTitle();t.oDualComparisonView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});return{};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorDualContribution/DualContribution.controller',function(){"use strict";sap.ui.controller("tiles.indicatorDualContribution.DualContribution",{getTile:function(){return this.oDualContributionView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);this.getTile().getModel().updateBindings();},setTitle:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oChip);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},logError:function(e){this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},_processDataForComparisonChart:function(d,m,a){var s=this.oConfig.TILE_PROPERTIES.semanticMeasure;var f=[];var t;for(var i=0;i<d.results.length;i++){var b=d.results[i];var c={};try{c.title=b[a].toString();}catch(e){c.title="";}c.value=Number(b[m]);var g=Number(b[m]);if(this.oConfig.EVALUATION.SCALING==-2){g*=100;}t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(g,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);c.displayValue=t.toString();if(typeof s==='undefined'){c.color="Neutral";}else{if(this.oConfig.EVALUATION.GOAL_TYPE==="MA"){if(c.value>b[s]){c.color="Good";}else{c.color="Error";}}else if(this.oConfig.EVALUATION.GOAL_TYPE==="MI"){if(c.value<b[s]){c.color="Good";}else{c.color="Error";}}else{c.color="Neutral";}}f.push(c);}return f;},fetchKpiValue:function(s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;}var d=this.oConfig.TILE_PROPERTIES.dimension;var b=this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=m+",asc";o["1"]=m+",desc";o["2"]=d+",asc";o["3"]=d+",desc";var f=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var g=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){g.uri+="&$top=3&$orderby="+f[0]+" "+f[2];}else{g.uri+="&$top=3&$orderby="+f[0]+" "+f[1];}this.comparisionChartODataRef=g.model.read(g.uri,null,null,true,function(b){if(g.unit[0]){t._updateTileModel({unitContribution:b.results[0][g.unit[0].name]});t.writeData.unitContribution=g.unit[0];t.writeData.unitContribution.name=g.unit[0].name;}if(b&&b.results&&b.results.length){d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oChip.url.addSystemToServiceUrl(u),a,d);t.writeData.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=b;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(",")[0],d);t.writeData.data=b;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(b.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=b;t.writeData.data=b;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);}else{E.call(t,"no Response from QueryServiceUri");}},function(k){if(k&&k.response){jQuery.sap.log.error(k.message+" : "+k.request.requestUri);E.call(t,k);}});var h=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oChip.url.addSystemToServiceUrl(u),a,m,null,h);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(b){if(b&&b.results&&b.results.length){if(q.unit){t._updateTileModel({unitNumeric:b.results[0][q.unit.name]});t.writeData.unitNumeric=q.unit;t.writeData.unitNumeric.name=q.unit.name;}t.writeData.numericData=b;var S="";var i=b.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var j=t.getTrendIndicator(t.setThresholdValues().trendValue,i);if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}t.DEFINITION_DATA.value=i;S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}t._updateTileModel({value:S.toString(),valueColor:t.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution,indicator:j});s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE,i);}else{E.call(t,"no Response from QueryServiceUri");}});}}else{var T=t.setThresholdValues();var i;if(c.unitContribution){t._updateTileModel({unitContribution:c.data.results[0][c.unitContribution.name]});}if(c.unitNumeric){t._updateTileModel({unitNumeric:c.numericData.results[0][c.unitNumeric.name]});}if(c.data&&c.data.results&&c.data.results.length){d=c.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(",")[0],d);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(b.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=c.data;}else{E.call(t,"no Response from QueryServiceUri");}if(c.numericData&&c.numericData.results&&c.numericData.results.length){i=c.numericData.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){i*=100;t.getView().oNumericContent.setFormatterValue(false);}var S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(i),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}var j=t.getTrendIndicator(T.trendValue,i);t._updateTileModel({value:S.toString(),indicator:j,valueColor:t.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution});s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE,i);}else{E.call(t,"no Response from QueryServiceUri");}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oChip.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k,c){this.CALCULATED_KPI_VALUE=k;if(t.oConfig.TILE_PROPERTIES.frameType=="TwoByOne"){t.oDualContributionView.oGenericTile.setFrameType("TwoByOne");t.oDualContributionView.oGenericTile.removeAllTileContent();t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oNumericTile);t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oComparisonTile);}else{t.oDualContributionView.oGenericTile.setFrameType("OneByOne");t.oDualContributionView.oGenericTile.removeAllTileContent();t.oDualContributionView.oGenericTile.addTileContent(t.oDualContributionView.oComparisonTile);}var d=this.CALCULATED_KPI_VALUE;var a=this.DEFINITION_DATA.TILE_PROPERTIES.semanticColorContribution;for(var i=0;i<this.CALCULATED_KPI_VALUE.length;i++){d[i].color=a;}this._updateTileModel({data:d});var T=t.setThresholdValues();var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualContributionView.oGenericTile.$().wrap("<a href ='"+n+"'/>");this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loaded);var s="";if(a=="Error"){s="sb.error";}if(a=="Neutral"){s="sb.neutral";}if(a=="Critical"){s="sb.critical";}if(a=="Good"){s="sb.good";}var T=t.setThresholdValues();var m,b,e,v,f,g,h,j,l;if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[0]){m=this.CALCULATED_KPI_VALUE[0].title;v=this.CALCULATED_KPI_VALUE[0].value;h=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[0].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[1]){b=this.CALCULATED_KPI_VALUE[1].title;f=this.CALCULATED_KPI_VALUE[1].value;j=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[1].color);}if(this.CALCULATED_KPI_VALUE&&this.CALCULATED_KPI_VALUE[2]){e=this.CALCULATED_KPI_VALUE[2].title;g=this.CALCULATED_KPI_VALUE[2].value;l=sap.ushell.components.tiles.indicatorTileUtils.util.getSemanticColorName(this.CALCULATED_KPI_VALUE[2].color);}var o={status:s,actual:c,target:T.targetValue,cH:T.criticalHighValue,wH:T.warningHighValue,wL:T.warningLowValue,cL:T.criticalLowValue};var p={m1:m,v1:v,c1:h,m2:b,v2:f,c2:j,m3:e,v3:g,c3:l};var C=t.oDualContributionView.oGenericTile.getTileContent()[0].getContent();var q=t.oDualContributionView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"NT",o);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(q,"CONT",p);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oChip.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}if(i){this.refreshHandler(this);}},onInit:function(){var t=this;t.writeData={};this.firstTimeVisible=false;this.oDualContributionView=this.getView();this.oChip=this.oDualContributionView.getViewData().chip;if(this.oChip.visible){this.oChip.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oChip.url.getApplicationSystem();this.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oChip.configuration.getParameterValueAsString("tileConfiguration"),this.oChip.preview.isEnabled(),function(c){t.oConfig=c;if(t.oChip.preview){t.oChip.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oChip.preview.isEnabled()){t.setTitle();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:"TwoByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral",displayValue:""},{title:"EMEA",value:50,color:"Neutral",displayValue:""},{title:"APAC",value:-20,color:"Neutral",displayValue:""}]});t.oDualContributionView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.setTitle();t.oDualContributionView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.comparisionChartODataRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oChip.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.comparisionChartODataRef);}});},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorDualDeviation/DualDeviation.controller',function(){"use strict";sap.ui.controller("tiles.indicatorDualDeviation.DualDeviation",{logError:function(e){this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=sap.m.ValueColor.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==="MI"){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Error;}}}else if(i==="MA"){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:sap.m.ValueColor.Error});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});T.arrObj.push({value:c,color:sap.m.ValueColor.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}return T;}catch(e){this.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},getTile:function(){return this.oDualDeviationView.oGenericTile;},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;},fetchKpiValue:function(s,E){var t=this;var k=0;try{var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var a=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var T=this.setThresholdValues();var m=T.fullyFormedMeasure;var c=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!c){var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),a,m,null,v);if(q){this.QUERY_SERVICE_MODEL=q.model;this.queryUriForKpiValue=q.uri;try{this.queryServiceUriODataReadRef=this.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(f){t.writeData={};if(f&&f.results&&f.results.length){k=f.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(q.unit[0]){t._updateTileModel({unit:f.results[0][q.unit[0].name]});t.writeData.unit=q.unit[0];t.writeData.unit.name=q.unit[0].name;}t.writeData.numericData=f;var S="",d;var b=k;if(t.oConfig.EVALUATION.SCALING==-2){b*=100;t.getView().oNumericContent.setFormatterValue(false);}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);d=t.getTrendIndicator(T.trendValue,b);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}t._updateTileModel({value:S.toString(),indicator:d,valueColor:t.getThresholdsObjAndColor(T).returnColor});t.writeData.data=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=f.results[0][T.sCriticalHigh];T.criticalLowValue=f.results[0][T.sCriticalLow];T.warningHighValue=f.results[0][T.sWarningHigh];T.warningLowValue=f.results[0][T.sWarningLow];T.targetValue=f.results[0][T.sTarget];T.trendValue=f.results[0][T.sTrend];}s.call(t,k,T);}else{E.call(t,"no Response from QueryServiceUri");}},function(f){if(f&&f.response){E.call(t,f.message);}});}catch(e){t.logError("Error in Query Service URI");}}}else{if(c.data&&c.data.results&&c.data.results.length){var b,S,d,T;T=t.setThresholdValues();b=c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];if(t.oConfig.EVALUATION.SCALING==-2){b*=100;t.getView().oNumericContent.setFormatterValue(true);}if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}S=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(b),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);d=t.getTrendIndicator(T.trendValue,b);if(c.unit){t._updateTileModel({unit:c.data.results[0][c.unit.name]});}t._updateTileModel({indicator:d,value:S.toString()});if(t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){T.criticalHighValue=c.data.results[0][T.sCriticalHigh];T.criticalLowValue=c.data.results[0][T.sCriticalLow];T.warningHighValue=c.data.results[0][T.sWarningHigh];T.warningLowValue=c.data.results[0][T.sWarningLow];T.targetValue=c.data.results[0][T.sTarget];T.trendValue=c.data.results[0][T.sTrend];}s.call(t,c.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME],T);}else{E.call(t,"no Response from QueryServiceUri");}}}catch(e){E.call(t,e);}},flowWithoutDesignTimeCall:function(){var t=this;var f,a;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;this.fetchKpiValue(function(k,b){var c=Number(k);if(this.oConfig.EVALUATION.SCALING==-2){c*=100;}f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(c),this.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);this.CALCULATED_KPI_VALUE=Number(k);var d={};var e=this.getThresholdsObjAndColor(b);var g={value:Number(k),color:e.returnColor};d.valueColor=g.color;d.actualValueLabel=f.toString();d.actual=g;var h=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var i=Number(b.targetValue);if(this.oConfig.EVALUATION.SCALING==-2){i*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(i,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION);d.targetValue=Number(b.targetValue);d.targetValueLabel=a.toString();}else{for(var j=0;j<h.length;j++){if(h[j].TYPE==="TA"){var i=Number(h[j].FIXED);if(this.oConfig.EVALUATION.SCALING==-2){i*=100;}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(i);d.targetValue=Number(h[j].FIXED);d.targetValueLabel=a.toString();}}}this._updateTileModel(d);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualDeviationView.oGenericTile.$().wrap("<a href ='"+n+"'/>");this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loaded);var s="";if(d.valueColor=="Error"){s="sb.error";}if(d.valueColor=="Neutral"){s="sb.neutral";}if(d.valueColor=="Critical"){s="sb.critical";}if(d.valueColor=="Good"){s="sb.good";}var v={status:s,actual:c,target:b.targetValue,cH:b.criticalHighValue,wH:b.warningHighValue,wL:b.warningLowValue,cL:b.criticalLowValue};var l=v;var C=t.oDualDeviationView.oGenericTile.getTileContent()[0].getContent();var o=t.oDualDeviationView.oGenericTile.getTileContent()[1].getContent();sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(C,"NT",v);sap.ushell.components.tiles.indicatorTileUtils.util.setTooltipInTile(o,"DT",l);},this.logError);}},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);}if(i){this.refreshHandler(this);}},setTextInTile:function(){var t=this;var a=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.oTileApi);this._updateTileModel({header:a.title||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:a.subTitle||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualDeviationView=this.getView();this.oViewData=this.oDualDeviationView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oTileApi.url.getApplicationSystem();this.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loading);try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(t.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),t.oTileApi.preview.isEnabled(),function(c){t.oConfig=c;t.setTextInTile();if(t.oTileApi.preview){t.oTileApi.preview.setTargetUrl(sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system));}if(t.oTileApi.preview.isEnabled()){t._updateTileModel({valueColor:"Good",value:100,frameType:"TwoByOne",unit:"USD",actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});t.oDualDeviationView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{t.oDualDeviationView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.queryServiceUriODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}}});}catch(e){this.logError(e);}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.queryServiceUriODataReadRef);}});return{};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorDualTrend/DualTrend.controller',function(){"use strict";sap.ui.controller("tiles.indicatorDualTrend.DualTrend",{logError:function(e){this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Failed);this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Failed);sap.ushell.components.tiles.indicatorTileUtils.util.logError(e);},formSelectStatement:function(o){var t=Object.keys(o);var f="";for(var i=0;i<t.length;i++){if((o[t[i]]!==undefined)&&(o.fullyFormedMeasure)){f+=","+o[t[i]];}}return f;},setThresholdValues:function(){var t=this;try{var T={};T.fullyFormedMeasure=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){switch(this.DEFINITION_DATA.EVALUATION.GOAL_TYPE){case"MI":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"MA":T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;case"RA":T.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");T.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");T.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");T.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");T.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");T.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");T.fullyFormedMeasure+=t.formSelectStatement(T);break;}}else{T.criticalHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","FIXED");T.criticalLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","FIXED");T.warningHighValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","FIXED");T.warningLowValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","FIXED");T.targetValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","FIXED");T.trendValue=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","FIXED");}return T;}catch(e){t.logError(e);}},getTrendIndicator:function(t,v){var a=this;t=Number(t);try{var b=sap.m.DeviationIndicator.None;if(t>v){b=sap.m.DeviationIndicator.Down;}else if(t<v){b=sap.m.DeviationIndicator.Up;}return b;}catch(e){a.logError(e);}},getTile:function(){return this.oDualTrendView.oGenericTile;},getTrendColor:function(t){var a=this;try{var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var r=sap.m.ValueColor.Neutral;if(i==="MI"){if(t.criticalHighValue&&t.warningHighValue){t.criticalHighValue=Number(t.criticalHighValue);t.warningHighValue=Number(t.warningHighValue);if(this.CALCULATED_KPI_VALUE<t.warningHighValue){r=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=t.criticalHighValue){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Error;}}}else if(i==="MA"){if(t.criticalLowValue&&t.warningLowValue){t.criticalLowValue=Number(t.criticalLowValue);t.warningLowValue=Number(t.warningLowValue);if(this.CALCULATED_KPI_VALUE<t.criticalLowValue){r=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=t.warningLowValue){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}else{if(t.warningLowValue&&t.warningHighValue&&t.criticalLowValue&&t.criticalHighValue){t.criticalHighValue=Number(t.criticalHighValue);t.warningHighValue=Number(t.warningHighValue);t.warningLowValue=Number(t.warningLowValue);t.criticalLowValue=Number(t.criticalLowValue);if(this.CALCULATED_KPI_VALUE<t.criticalLowValue||this.CALCULATED_KPI_VALUE>t.criticalHighValue){r=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=t.criticalLowValue&&this.CALCULATED_KPI_VALUE<=t.warningLowValue)||(this.CALCULATED_KPI_VALUE>=t.warningHighValue&&this.CALCULATED_KPI_VALUE<=t.criticalHighValue)){r=sap.m.ValueColor.Critical;}else{r=sap.m.ValueColor.Good;}}}return r;}catch(e){a.logError(e);}},_updateTileModel:function(n){var m=this.getTile().getModel().getData();jQuery.extend(m,n);this.getTile().getModel().setData(m);},onAfterFinalEvaluation:function(){var t=this;var u=this.DEFINITION_DATA.EVALUATION.ODATA_URL;var E=this.DEFINITION_DATA.EVALUATION.ODATA_ENTITYSET;var m=this.DEFINITION_DATA.EVALUATION.COLUMN_NAME;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.DEFINITION_DATA.EVALUATION_FILTERS,this.DEFINITION_DATA.ADDITIONAL_FILTERS);var d=this.DEFINITION_DATA.TILE_PROPERTIES.dimension;if(d==undefined){this.logError();return;}var g=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var c=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var f=m;switch(g){case"MI":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningHigh&&t.sCriticalHigh&&t.sTarget){f+=","+t.sWarningHigh+","+t.sCriticalHigh+","+t.sTarget;}break;case"MA":t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget){f+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget;}break;case"RA":t.sWarningHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WH","MEASURE");t.sCriticalHigh=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CH","MEASURE");t.sTarget=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TA","MEASURE");t.sTrend=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"TC","MEASURE");t.sWarningLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"WL","MEASURE");t.sCriticalLow=sap.ushell.components.tiles.indicatorTileUtils.util.getEvalValueMeasureName(t.oConfig,"CL","MEASURE");if(t.sWarningLow&&t.sCriticalLow&&t.sTarget&&t.sWarningHigh&&t.sCriticalHigh){f+=","+t.sWarningLow+","+t.sCriticalLow+","+t.sTarget+","+t.sWarningHigh+","+t.sCriticalHigh;}break;}var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,f,d,v);}else{var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,m,d,v);}var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(!h){if(q){this.queryUriForTrendChart=q.uri;t.writeData={};try{this.trendChartODataReadRef=q.model.read(q.uri,null,null,true,function(a){if(a&&a.results&&a.results.length){if(q.unit[0]){t.unit=a.results[0][q.unit[0].name];t.writeData.unit=q.unit[0];t.writeData.unit.name=q.unit[0].name;}t.queryUriResponseForTrendChart=a;d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oTileApi.url.addSystemToServiceUrl(u),E,d);a.firstXlabel=a.results[0][d];a.lastXlabel=a.results[a.results.length-1][d];t.writeData.data=a;t.writeData.dimensionName=d;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,t.writeData);var n=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);t.oDualTrendView.oGenericTile.$().wrap("<a href ='"+n+"'/>");t.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);_(a,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);}else{t.logError("no Response from QueryServiceUri");}},function(a){if(a&&a.response){t.logError("Data call failed");}});}catch(e){t.logError(e);}}else{t.logError();}var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(t.DEFINITION_DATA.EVALUATION_FILTERS,t.DEFINITION_DATA.ADDITIONAL_FILTERS);var q=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oTileApi.url.addSystemToServiceUrl(u),E,m,null,v);if(q){t.QUERY_SERVICE_MODEL=q.model;t.queryUriForKpiValue=q.uri;t.numericODataReadRef=t.QUERY_SERVICE_MODEL.read(q.uri,null,null,true,function(a){if(a&&a.results&&a.results.length){var s="";var j=a.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];t.writeData.numericData=a;if(t.oConfig.EVALUATION.SCALING==-2){j*=100;}s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(j),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){t._updateTileModel({scale:"%"});}var k=t.getTrendIndicator(t.setThresholdValues().trendValue,j);t._updateTileModel({value:s.toString(),valueColor:t.getTrendColor(t.setThresholdValues()),indicator:k});}else{fnError.call(t,"no Response from QueryServiceUri");}});}}else{try{if(h.unit!==undefined){t.unit=h.data.results[0][h.unit.name];}t.queryUriResponseForTrendChart=h.data;d=h.dimensionName;var j=h.numericData.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME];var k=t.getTrendIndicator(t.setThresholdValues().trendValue,h.data.results[0][t.DEFINITION_DATA.EVALUATION.COLUMN_NAME]);var s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(j),t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);t.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);_(h.data,t.DEFINITION_DATA.EVALUATION.VALUES_SOURCE);t._updateTileModel({value:s.toString(),valueColor:t.getTrendColor(t.setThresholdValues()),indicator:k});}catch(e){t.logError(e);}}function _(l,n){var o=[];var p=[];var w=[];var r=[];var x=[];var y=[];var z=l.firstXlabel;var A,B,C,D,F;var G=l.lastXlabel;var H=Number(l.results[0][m]);var I=Number(l.results[l.results.length-1][m]);var i;for(i in l.results){l.results[i][d]=Number(i);l.results[i][m]=Number(l.results[i][m]);t.sWarningHigh?l.results[i][t.sWarningHigh]=Number(l.results[i][t.sWarningHigh]):"";t.sCriticalHigh?l.results[i][t.sCriticalHigh]=Number(l.results[i][t.sCriticalHigh]):"";t.sCriticalLow?l.results[i][t.sCriticalLow]=Number(l.results[i][t.sCriticalLow]):"";t.sWarningLow?l.results[i][t.sWarningLow]=Number(l.results[i][t.sWarningLow]):"";t.sTarget?l.results[i][t.sTarget]=Number(l.results[i][t.sTarget]):"";t.sWarningHigh?w.push(l.results[i][t.sWarningHigh]):"";t.sCriticalHigh?r.push(l.results[i][t.sCriticalHigh]):"";t.sCriticalLow?x.push(l.results[i][t.sCriticalLow]):"";t.sWarningLow?y.push(l.results[i][t.sWarningLow]):"";o.push(l.results[i][d]);p.push(l.results[i][m]);}try{z=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(z);G=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(G);}catch(e){t.logError(e);}var J=Number(H);if(t.oConfig.EVALUATION.SCALING==-2){J*=100;}var K=Math.min.apply(Math,p);var L=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(J,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){L+=" %";}var M=L.toString();var N=Number(I);if(t.oConfig.EVALUATION.SCALING==-2){N*=100;}var O=Math.max.apply(Math,p);var P=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(N,t.oConfig.EVALUATION.SCALING,t.oConfig.EVALUATION.DECIMAL_PRECISION);if(t.oConfig.EVALUATION.SCALING==-2){P+=" %";}var Q=P.toString();try{var R=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.min.apply(Math,o));var S=sap.ushell.components.tiles.indicatorTileUtils.util.formatOdataObjectToString(Math.max.apply(Math,o));}catch(e){t.logError(e);}if(n=="MEASURE"){(w.length!=0)?(t.firstwH=w[R])&&(t.lastwH=w[S]):"";(r.length!=0)?(t.firstcH=r[R])&&(t.lastcH=r[S]):"";(x.length!=0)?(t.firstcL=x[R])&&(t.lastcL=x[S]):"";(y.length!=0)?(t.firstwL=y[R])&&(t.lastwL=y[S]):"";}var T={width:"100%",height:"100%",unit:t.unit||"",chart:{color:"Neutral",data:l.results},size:"Auto",minXValue:R,maxXValue:S,minYValue:K,maxYValue:O,firstXLabel:{label:z+"",color:"Neutral"},lastXLabel:{label:G+"",color:"Neutral"},firstYLabel:{label:M+"",color:"Neutral"},lastYLabel:{label:Q+"",color:"Neutral"},minLabel:{},maxLabel:{}};switch(g){case"MA":for(i in c){if(c[i].TYPE=="CL"){T.minThreshold={color:"Error"};var U={};U[d]="";U[m]=Number(c[i].FIXED);t.cl=Number(c[i].FIXED);T.minThreshold.data=(n=="MEASURE")?l.results:[U];A=(n=="MEASURE")?t.sCriticalLow:m;}else if(c[i].TYPE=="WL"){T.maxThreshold={color:"Good"};var U={};U[d]="";U[m]=Number(c[i].FIXED);T.maxThreshold.data=(n=="MEASURE")?l.results:[U];B=(n=="MEASURE")?t.sWarningLow:m;t.wl=Number(c[i].FIXED);}else if(c[i].TYPE=="TA"){var U={};U[d]="";U[m]=Number(c[i].FIXED);T.target={color:"Neutral"};T.target.data=(n=="MEASURE")?l.results:[U];F=(n=="MEASURE")?t.sTarget:m;}}T.innerMinThreshold={data:[]};T.innerMaxThreshold={data:[]};if(n=="FIXED"){T.firstYLabel.color=H<t.cl?"Error":((t.cl<=H)&&(H<=t.wl))?"Critical":(H>t.wl)?"Good":"Neutral";T.lastYLabel.color=I<t.cl?"Error":((t.cl<=I)&&(I<=t.wl))?"Critical":(I>t.wl)?"Good":"Neutral";}else if(n=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL){T.firstYLabel.color=H<t.firstcL?"Error":((t.firstcL<=H)&&(H<=t.firstwL))?"Critical":(H>t.firstwL)?"Good":"Neutral";T.lastYLabel.color=I<t.lastcL?"Error":((t.lastcL<=I)&&(I<=t.lastwL))?"Critical":(I>t.lastwL)?"Good":"Neutral";}break;case"MI":for(i in c){if(c[i].TYPE=="CH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.ch=Number(c[i].FIXED);T.maxThreshold={color:"Error"};T.maxThreshold.data=(n=="MEASURE")?l.results:[U];B=(n=="MEASURE")?t.sCriticalHigh:m;}else if(c[i].TYPE=="WH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.wh=Number(c[i].FIXED);T.minThreshold={color:"Good"};T.minThreshold.data=(n=="MEASURE")?l.results:[U];A=(n=="MEASURE")?t.sWarningHigh:m;}else if(c[i].TYPE=="TA"){var U={};U[d]="";U[m]=Number(c[i].FIXED);T.target={color:"Neutral"};T.target.data=(n=="MEASURE")?l.results:[U];F=(n=="MEASURE")?t.sTarget:m;}}if(n=="FIXED"){T.firstYLabel.color=H>t.ch?"Error":((t.wh<=H)&&(H<=t.ch))?"Critical":(H<t.wh)?"Good":"Neutral";T.lastYLabel.color=I>t.ch?"Error":((t.wh<=I)&&(I<=t.ch))?"Critical":(I<t.wh)?"Good":"Neutral";}else if(n=="MEASURE"&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){T.firstYLabel.color=H>t.firstcH?"Error":((t.firstwH<=H)&&(H<=t.firstcH))?"Critical":(H<t.firstwH)?"Good":"Neutral";T.lastYLabel.color=I>t.lastcH?"Error":((t.lastwH<=I)&&(I<=t.lastcH))?"Critical":(I<t.lastwH)?"Good":"Neutral";}T.innerMaxThreshold={data:[]};T.innerMinThreshold={data:[]};break;case"RA":for(i in c){if(c[i].TYPE=="CH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.ch=Number(c[i].FIXED);T.maxThreshold={color:"Error"};T.maxThreshold.data=(n=="MEASURE")?l.results:[U];B=(n=="MEASURE")?t.sCriticalHigh:m;}else if(c[i].TYPE=="WH"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.wh=Number(c[i].FIXED);T.innerMaxThreshold={color:"Good"};T.innerMaxThreshold.data=(n=="MEASURE")?l.results:[U];D=(n=="MEASURE")?t.sWarningHigh:m;}else if(c[i].TYPE=="WL"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.wl=Number(c[i].FIXED);T.innerMinThreshold={color:"Good"};T.innerMinThreshold.data=(n=="MEASURE")?l.results:[U];C=(n=="MEASURE")?t.sWarningLow:m;}else if(c[i].TYPE=="CL"){var U={};U[d]="";U[m]=Number(c[i].FIXED);t.cl=Number(c[i].FIXED);T.minThreshold={color:"Error"};T.minThreshold.data=(n=="MEASURE")?l.results:[U];A=(n=="MEASURE")?t.sCriticalLow:m;}else if(c[i].TYPE=="TA"){var U={};U[d]="";U[m]=Number(c[i].FIXED);T.target={color:"Neutral"};T.target.data=(n=="MEASURE")?l.results:[U];F=(n=="MEASURE")?t.sTarget:m;}}if(n=="FIXED"){T.firstYLabel.color=(H>t.ch||H<t.cl)?"Error":((t.wh<=H)&&(H<=t.ch))||((t.cl<=H)&&(H<=t.wl))?"Critical":((H>=t.wl)&&(H<=t.wh))?"Good":"Neutral";T.lastYLabel.color=(I>t.ch||I<t.cl)?"Error":((t.wh<=I)&&(I<=t.ch))||((t.cl<=I)&&(I<=t.wl))?"Critical":((I>=t.wl)&&(I<=t.wh))?"Good":"Neutral";}else if(n=="MEASURE"&&t.firstwL&&t.lastwL&&t.firstcL&&t.lastcL&&t.firstwH&&t.lastwH&&t.firstcH&&t.lastcH){T.firstYLabel.color=(H>t.firstcH||H<t.firstcL)?"Error":((t.firstwH<=H)&&(H<=t.firstcH))||((t.firstcL<=H)&&(H<=t.firstwL))?"Critical":((H>=t.firstwL)&&(H<=t.firstwH))?"Good":"Neutral";T.lastYLabel.color=(I>t.lastcH||I<t.lastcL)?"Error":((t.lastwH<=I)&&(I<=t.lastcH))||((t.lastcL<=I)&&(I<=t.lastwL))?"Critical":((I>=t.lastwL)&&(I<=t.lastwH))?"Good":"Neutral";}break;}var V=function(W,a,b,n){return new sap.suite.ui.microchart.AreaMicroChartItem({color:"{/"+W+"/color}",points:{path:"/"+W+"/data",template:new sap.suite.ui.microchart.AreaMicroChartPoint({x:"{"+a+"}",y:"{"+b+"}"})}});};t.getTile().getTileContent()[1].getContent().setTarget(V("target",d,F));t.getTile().getTileContent()[1].getContent().setInnerMinThreshold(V("innerMinThreshold",d,C));t.getTile().getTileContent()[1].getContent().setInnerMaxThreshold(V("innerMaxThreshold",d,D));t.getTile().getTileContent()[1].getContent().setMinThreshold(V("minThreshold",d,A));t.getTile().getTileContent()[1].getContent().setMaxThreshold(V("maxThreshold",d,B));t.getTile().getTileContent()[1].getContent().setChart(V("chart",d,m));t._updateTileModel(T);}},flowWithoutDesignTimeCall:function(){this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);if(this.oTileApi.visible.isVisible()&&!this.firstTimeVisible){this.firstTimeVisible=true;}this.onAfterFinalEvaluation();},flowWithDesignTimeCall:function(){var t=this;try{var a=sap.ushell.components.tiles.indicatorTileUtils.cache.getEvaluationById(this.oConfig.EVALUATION.ID);if(a){t.oConfig.EVALUATION_FILTERS=a.EVALUATION_FILTERS;t.flowWithoutDesignTimeCall();}else{sap.ushell.components.tiles.indicatorTileUtils.util.getFilterFromRunTimeService(this.oConfig,function(f){t.oConfig.EVALUATION_FILTERS=f;sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();});}}catch(e){this.logError(e);}},refreshHandler:function(c){if(!c.firstTimeVisible){if(Number(this.oTileApi.configuration.getParameterValueAsString("isSufficient"))){c.flowWithoutDesignTimeCall();}else{c.flowWithDesignTimeCall();}}},visibleHandler:function(i){if(!i){this.firstTimeVisible=false;sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);}if(i){this.refreshHandler(this);}},setTextInTile:function(){var t=this;this._updateTileModel({header:t.oTileApi.preview.getTitle()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipTitle(t.oConfig),subheader:t.oTileApi.preview.getDescription()||sap.ushell.components.tiles.indicatorTileUtils.util.getChipSubTitle(t.oConfig)});},onInit:function(){var t=this;this.firstTimeVisible=false;this.oDualTrendView=this.getView();this.oViewData=this.oDualTrendView.getViewData();this.oTileApi=this.oViewData.chip;if(this.oTileApi.visible){this.oTileApi.visible.attachVisible(this.visibleHandler.bind(this));}this.system=this.oTileApi.url.getApplicationSystem();this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loading);if(this.oTileApi.preview.isEnabled()){this.setTextInTile();this._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:"TwoByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",width:"100%",height:"100%",chart:{color:"Good",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:20},{day:100,balance:80}]},target:{color:"Error",data:[{day:0,balance:0},{day:30,balance:30},{day:60,balance:40},{day:100,balance:90}]},maxThreshold:{color:"Good",data:[{day:0,balance:0},{day:30,balance:40},{day:60,balance:50},{day:100,balance:100}]},innerMaxThreshold:{color:"Error",data:[]},innerMinThreshold:{color:"Neutral",data:[]},minThreshold:{color:"Error",data:[{day:0,balance:0},{day:30,balance:20},{day:60,balance:30},{day:100,balance:70}]},minXValue:0,maxXValue:100,minYValue:0,maxYValue:100,firstXLabel:{label:"June 123",color:"Error"},lastXLabel:{label:"June 30",color:"Error"},firstYLabel:{label:"0M",color:"Good"},lastYLabel:{label:"80M",color:"Critical"},minLabel:{},maxLabel:{}});this.oDualTrendView.oGenericTile.setState(sap.m.LoadState.Loaded);}else{try{sap.ushell.components.tiles.indicatorTileUtils.util.getParsedChip(this.oTileApi.configuration.getParameterValueAsString("tileConfiguration"),function(c){t.oConfig=c;t.setTextInTile();t.oDualTrendView.oGenericTile.attachPress(function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(t.trendChartODataReadRef);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,null);window.location.hash=sap.ushell.components.tiles.indicatorTileUtils.util.getNavigationTarget(t.oConfig,t.system);});if(Number(t.oTileApi.configuration.getParameterValueAsString("isSufficient"))){sap.ushell.components.tiles.indicatorTileUtils.cache.setEvaluationById(t.oConfig.TILE_PROPERTIES.id,t.oConfig);t.flowWithoutDesignTimeCall();}else{t.flowWithDesignTimeCall();}});}catch(e){this.logError(e);}}},_setLocalModelToTile:function(){if(!this.getTile().getModel()){this.getTile().setModel(new sap.ui.model.json.JSONModel({}));}},onExit:function(){sap.ushell.components.tiles.indicatorTileUtils.util.abortPendingODataCalls(this.trendChartODataReadRef);}});return{};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorTileUtils/cache',[],function(){"use strict";var B={};var K={};var s="HANA_CLIENT";return{getCacheHanaClient:function(){return B[s];},setCacheHanaClient:function(d){B[s]=d;},getEvaluationByChipId:function(k){if(B[k]){return B[k];}return null;},getEvaluationById:function(k){return this.getEvaluationByChipId(k);},setEvaluationById:function(k,d){B[k]=d;},getFrontEndCacheDeferredObject:function(k){if(B[k]){return B[k];}return null;},setFrontEndCacheDefferedObject:function(k,d){B[k]=d;},getKpivalueById:function(k){if(K[k]){return K[k];}return null;},setKpivalueById:function(k,d){K[k]=d;}};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorTileUtils/oData4Analytics',['sap/ui/core/Core'],function(C){"use strict";sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics||{};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants={};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants["SAP_NAMESPACE"]="http://www.sap.com/Protocols/SAPData";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants["VERSION"]="0.7";sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper={renderPropertyKeyValue:function(f,p){if(f.charAt(0)=="'"){throw"Illegal property value starting with a quote";}switch(p){case'Edm.String':return"'"+f+"'";case'Edm.DateTime':return"datetime'"+f+"'";case'Edm.Guid':return"guid'"+f+"'";case'Edm.Time':return"time'"+f+"'";case'Edm.DateTimeOffset':return"datetimeoffset'"+f+"'";default:return f;}},renderPropertyFilterValue:function(f,p){if(f.charAt(0)=="'"){throw"Illegal property value starting with a quote";}switch(p){case'Edm.String':return"'"+f+"'";case'Edm.DateTime':return"datetime'"+f+"'";case'Edm.Guid':return"guid'"+f+"'";case'Edm.Time':return"time'"+f+"'";case'Edm.DateTimeOffset':return"datetimeoffset'"+f+"'";default:return f;}},tokenizeNametoLabelText:function(n){var l="";l=n.replace(/([^A-Z0-9_]+)([A-Z0-9_])/g,"$1 $2");l=l.replace(/([A-Z0-9_]{2,})([A-Z0-9_])([^A-Z0-9_]+)/g,"$1 $2$3");l=l.replace(/(.*) _E$/,"$1");l=l.replace(/(.*) _(.*)/g,"$1 $2");return l;}};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model=function(m,a){this._init(m,a);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByURI=function(u){return{sServiceURI:u};};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceByModel=function(m){return{oModel:m};};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.ReferenceWithWorkaround=function(m,w){return{oModelReference:m,aWorkaroundID:w};};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Model.prototype={_init:function(m,a){this._oActivatedWorkarounds={};if(m&&m.aWorkaroundID){var w=m.aWorkaroundID;for(var i=0;i<w.length;i++){this._oActivatedWorkarounds[w[i]]=true;}m=m.oModelReference;}if(!m||(!m.sServiceURI&&!m.oModel)){throw"Usage with oModelReference being an instance of Model.ReferenceByURI or Model.ReferenceByModel";}if(m.oModel){this._oModel=m.oModel;}else{this._oModel=new sap.ui.model.odata.ODataModel(m.sServiceURI);}if(this._oModel.getServiceMetadata().dataServices==undefined){throw"Model could not be loaded";}this.mergeV2Annotations(a);this._oQueryResultSet={};this._oParameterizationSet={};this._oEntityTypeSet={};this._oEntitySetSet={};this._oEntityTypeNameToEntitySetMap={};var s=this._oModel.getServiceMetadata().dataServices.schema[0];for(var i=-1,c;c=s.entityContainer[++i];){if(c.isDefaultEntityContainer=="true"){this._oDefaultEntityContainer=c;break;}}var e=s.entityType;var q=[],p=[],u=[];for(var i=-1,t;t=e[++i];){var P=false;if(t.extensions!=undefined){for(var j=-1,E;E=t.extensions[++j];){if(E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE&&E.name=="semantics"){P=true;switch(E.value){case"aggregate":q.push(t);break;case"parameters":p.push(t);break;default:u.push(t);}}if(P){continue;}}if(!P){u.push(t);}}else{u.push(t);}}for(var i=-1,t;t=u[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var b=this._getEntitySetsOfType(s,o.getQName());if(b.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics";}if(b.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics";}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;}var f={};for(var i=-1,t;t=p[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var b=this._getEntitySetsOfType(s,o.getQName());if(b.length==0){throw"Invalid consumption model: No entity set for entity type annotated with parameters semantics";}if(b.length>1){throw"Unsupported consumption model: More than one entity set for entity type annotated with parameters semantics";}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;var g=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization(o,d);this._oParameterizationSet[g.getName()]=g;f[o.getQName()]=g;var h=o.getQName();if(s.association!=undefined){for(var j=-1,A;A=s.association[++j];){if(A.referentialConstraint==undefined){continue;}var k=null;if(A.end[0].type==h&&A.end[0].multiplicity=="*"&&A.end[1].multiplicity=="1"){k=A.end[1].type;}else if(A.end[1].type==h&&A.end[1].multiplicity=="*"&&A.end[0].multiplicity=="1"){k=A.end[0].type;}if(!k){continue;}if(A.referentialConstraint.dependent.propertyRef.length!=1){continue;}var l=g.findParameterByName(A.referentialConstraint.dependent.propertyRef[0].name);if(l==null){continue;}var v=this._oEntityTypeSet[k];var V=this._oEntityTypeNameToEntitySetMap[k];l.setValueSetEntity(v,V);}}}for(var i=-1,t;t=q[++i];){var o=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType(this._oModel.getServiceMetadata(),s,t);this._oEntityTypeSet[o.getQName()]=o;var Q=o.getQName();var g=null;var n=null;if(s.association!=undefined){for(var j=-1,A;A=s.association[++j];){var r=null;if(A.end[0].type==Q){r=A.end[1].type;}else if(A.end[1].type==Q){r=A.end[0].type;}else{continue;}var M=null;M=f[r];if(M!=null){if(g!=null){throw"LIMITATION: Unable to handle multiple parameter entity types of query entity "+o.name;}else{g=M;n=A;}}}}var b=this._getEntitySetsOfType(s,o.getQName());if(b.length!=1){throw"Invalid consumption model: There must be exactly one entity set for an entity type annotated with aggregating semantics";}var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet(this._oModel.getServiceMetadata(),s,b[0][0],b[0][1]);this._oEntitySetSet[d.getQName()]=d;this._oEntityTypeNameToEntitySetMap[o.getQName()]=d;var x=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult(this,o,d,g);this._oQueryResultSet[x.getName()]=x;if(g){g.setTargetQueryResult(x,n);}}},oUI5ODataModelAnnotatableObject:{objectName:"schema",keyPropName:"namespace",extensions:true,aSubObject:[{objectName:"entityType",keyPropName:"name",extensions:true,aSubObject:[{objectName:"property",keyPropName:"name",aSubObject:[],extensions:true}]},{objectName:"entityContainer",keyPropName:"name",extensions:false,aSubObject:[{objectName:"entitySet",keyPropName:"name",extensions:true,aSubObject:[]}]}]},mergeV2Annotations:function(a){try{var A=JSON.parse(a);}catch(e){return;}var m;try{m=this._oModel.getServiceMetadata().dataServices;}catch(e){return;}for(var p in A){if(!(this.oUI5ODataModelAnnotatableObject.objectName==p)){continue;}if(!(A[p]instanceof Array)){continue;}this.mergeV2AnnotationLevel(m[this.oUI5ODataModelAnnotatableObject.objectName],A[this.oUI5ODataModelAnnotatableObject.objectName],this.oUI5ODataModelAnnotatableObject);break;}return;},mergeV2AnnotationLevel:function(M,a,u){for(var i=-1,A;A=a[++i];){for(var j=-1,o;o=M[++j];){if(!(A[u.keyPropName]==o[u.keyPropName])){continue;}if(A["extensions"]!=undefined){if(o["extensions"]==undefined){o["extensions"]=[];}for(var l=-1,b;b=A["extensions"][++l];){var f=false;for(var m=-1,c;c=o["extensions"][++m];){if(b.name==c.name&&b.namespace==c.namespace){c.value=b.value;f=true;break;}}if(!f){o["extensions"].push(b);}}}for(var k=-1,U;U=u.aSubObject[++k];){for(var p in A){if(!(U.objectName==p)){continue;}if(!(A[U.objectName]instanceof Array)){continue;}if((o[U.objectName]==undefined)||(!(o[U.objectName]instanceof Array))){continue;}this.mergeV2AnnotationLevel(o[U.objectName],A[U.objectName],U);break;}}}}return;},findQueryResultByName:function(n){var q=this._oQueryResultSet[n];if(!q&&this._oDefaultEntityContainer){var Q=this._oDefaultEntityContainer.name+"."+n;q=this._oQueryResultSet[Q];}return q;},getAllQueryResultNames:function(){if(this._aQueryResultNames){return this._aQueryResultNames;}this._aQueryResultNames=new Array(0);for(var n in this._oQueryResultSet)this._aQueryResultNames.push(this._oQueryResultSet[n].getName());return this._aQueryResultNames;},getAllQueryResults:function(){return this._oQueryResultSet;},getODataModel:function(){return this._oModel;},_getEntitySetsOfType:function(s,q){var e=[];for(var i=-1,E;E=s.entityContainer[++i];){for(var j=-1,o;o=E.entitySet[++j];){if(o.entityType==q){e.push([E,o]);}}}return e;},_oModel:null,_oDefaultEntityContainer:null,_aQueryResultNames:null,_oQueryResultSet:null,_oParameterizationSet:null,_oEntityTypeSet:null,_oEntitySetSet:null,_oEntityTypeNameToEntitySetMap:null,_oActivatedWorkarounds:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult=function(m,e,E,p){this._init(m,e,E,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResult.prototype={_init:function(m,e,E,p,a){this._oModel=m;this._oEntityType=e;this._oEntitySet=E;this._oParameterization=p;this._oDimensionSet={};this._oMeasureSet={};var P=e.getTypeDescription().property;var A={};for(var i=-1,o;o=P[++i];){if(o.extensions==undefined){continue;}for(var j=-1,b;b=o.extensions[++j];){if(!b.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(b.name){case"aggregation-role":switch(b.value){case"dimension":var d=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension(this,o);this._oDimensionSet[d.getName()]=d;break;case"measure":var M=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure(this,o);this._oMeasureSet[M.getName()]=M;break;case"totaled-properties-list":this._oTotaledPropertyListProperty=o;break;}break;case"attribute-for":var D=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute(this,o);A[D.getKeyProperty()]=D;break;}}}for(var s in A){var D=A[s];D.getDimension().addAttribute(D);}if(m._oActivatedWorkarounds.IdentifyTextPropertiesByName){var c=[];for(var f in this._oDimensionSet){var d=this._oDimensionSet[f];if(!d.getTextProperty()){var t=null;t=e.findPropertyByName(f+"Name");if(!t){t=e.findPropertyByName(f+"Text");}if(!t){t=e.findPropertyByName(f+"Desc");}if(!t){t=e.findPropertyByName(f+"Description");}if(t){d.setTextProperty(t);c.push(t.name);}}}for(var i=-1,g;g=c[++i];){delete this._oDimensionSet[g];}}},getName:function(){return this.getEntitySet().getQName();},getParameterization:function(){return this._oParameterization;},getAllDimensionNames:function(){if(this._aDimensionNames){return this._aDimensionNames;}this._aDimensionNames=[];for(var n in this._oDimensionSet)this._aDimensionNames.push(this._oDimensionSet[n].getName());return this._aDimensionNames;},getAllDimensions:function(){return this._oDimensionSet;},getAllMeasureNames:function(){if(this._aMeasureNames){return this._aMeasureNames;}this._aMeasureNames=[];for(var n in this._oMeasureSet)this._aMeasureNames.push(this._oMeasureSet[n].getName());return this._aMeasureNames;},getAllMeasures:function(){return this._oMeasureSet;},findDimensionByName:function(n){return this._oDimensionSet[n];},getTotaledPropertiesListProperty:function(){return this._oTotaledPropertyListProperty;},findMeasureByName:function(n){return this._oMeasureSet[n];},getModel:function(){return this._oModel;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oModel:null,_oEntityType:null,_oEntitySet:null,_oParameterization:null,_aDimensionNames:null,_oDimensionSet:null,_aMeasureNames:null,_oMeasureSet:null,_oTotaledPropertyListProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization=function(e,E){this._init(e,E);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameterization.prototype={_init:function(e,E){this._oEntityType=e;this._oEntitySet=E;this._oParameterSet={};var p=e.getTypeDescription().property;for(var i=-1,P;P=p[++i];){if(P.extensions==undefined){continue;}for(var j=-1,o;o=P.extensions[++j];){if(!o.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(o.name){case"parameter":var a=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter(this,P);this._oParameterSet[a.getName()]=a;break;}}}},setTargetQueryResult:function(q,a){this._oQueryResult=q;var Q=this._oEntityType.getSchema().namespace+"."+a.name;var n=this._oEntityType.getTypeDescription().navigationProperty;if(!n){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type";}for(var i=-1,N;N=n[++i];){if(N.relationship==Q){this._oNavPropToQueryResult=N.name;}}if(!this._oNavPropToQueryResult){throw"Invalid consumption model: Parameters entity type lacks navigation property for association to query result entity type";}},getName:function(){return this.getEntitySet().getQName();},getAllParameterNames:function(){if(this._aParameterNames){return this._aParameterNames;}this._aParameterNames=[];for(var n in this._oParameterSet)this._aParameterNames.push(this._oParameterSet[n].getName());return this._aParameterNames;},getAllParameters:function(){return this._oParameterSet;},findParameterByName:function(n){return this._oParameterSet[n];},getNavigationPropertyToQueryResult:function(){return this._oNavPropToQueryResult;},getEntityType:function(){return this._oEntityType;},getEntitySet:function(){return this._oEntitySet;},_oEntityType:null,_oEntitySet:null,_oQueryResult:null,_oNavPropToQueryResult:null,_aParameterNames:null,_oParameterSet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter=function(p,P){this._init(p,P);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Parameter.prototype={_init:function(p,P){this._oParameterization=p;this._oProperty=P;var e=p.getEntityType();if(P.extensions!=undefined){for(var i=-1,E;E=P.extensions[++i];){if(!E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(E.name){case"parameter":switch(E.value){case"mandatory":this._bRequired=true;break;case"optional":this._bRequired=false;break;default:throw"Invalid annotation value for parameter property";}break;case"label":this._sLabelText=E.value;break;case"text":this._oTextProperty=e.findPropertyByName(E.value);break;case"upper-boundary":this._bIntervalBoundaryParameter=true;this._oUpperIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;case"lower-boundary":this._bIntervalBoundaryParameter=true;this._oLowerIntervalBoundaryParameterProperty=e.findPropertyByName(E.value);break;}}}if(!this._sLabelText){this._sLabelText="";}},setValueSetEntity:function(e,E){this._oValueSetEntityType=e;this._oValueSetEntitySet=E;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},isOptional:function(){return(!this._bRequired);},isIntervalBoundary:function(){return this._bIntervalBoundaryParameter;},isLowerIntervalBoundary:function(){return(this._oUpperIntervalBoundaryParameterProperty?true:false);},getPeerIntervalBoundaryParameter:function(){var p=null;if(this._oLowerIntervalBoundaryParameterProperty){p=this._oLowerIntervalBoundaryParameterProperty.name;}else{p=this._oUpperIntervalBoundaryParameterProperty.name;}if(!p){throw"Parameter is not an interval boundary";}return this._oParameterization.findParameterByName(p);},isValueSetAvailable:function(){return(this._oValueSetEntityType?true:false);},getName:function(){return this._oProperty.name;},getProperty:function(){return this._oProperty;},getContainingParameterization:function(){return this._oParameterization;},getURIToValueEntitySet:function(s){var u=null;u=(s?s:"")+"/"+this._oValueSetEntitySet.getQName();return u;},_oParameterization:null,_oProperty:null,_sLabelText:null,_oTextProperty:null,_bRequired:false,_bIntervalBoundaryParameter:false,_oLowerIntervalBoundaryParameterProperty:null,_oUpperIntervalBoundaryParameterProperty:null,_oValueSetEntityType:null,_oValueSetEntitySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension=function(q,p){this._init(q,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Dimension.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;this._oAttributeSet={};if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;case"super-ordinate":this._sSuperOrdinatePropertyName=e.value;break;}}}if(!this._sLabelText){this._sLabelText="";}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},setTextProperty:function(t){this._oTextProperty=t;},getLabelText:function(){if(!this._sLabelText&&this._oQueryResult._oModel._oActivatedWorkarounds.CreateLabelsFromTechnicalNames){this._sLabelText=sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.tokenizeNametoLabelText(this.getName());}return this._sLabelText;},getSuperOrdinateDimension:function(){if(!this._sSuperOrdinatePropertyName){return null;}return this._oQueryResult.findDimensionByName(this._sSuperOrdinatePropertyName);},getHierarchy:function(){if(!this._oHierarchy){this._oHierarchy=this._oQueryResult.getEntityType().getHierarchy(this._oProperty.name);}return this._oHierarchy;},getAllAttributeNames:function(){if(this._aAttributeNames){return this._aAttributeNames;}this._aAttributeNames=[];for(var n in this._oAttributeSet)this._aAttributeNames.push(this._oAttributeSet[n].getName());return this._aAttributeNames;},getAllAttributes:function(){return this._oAttributeSet;},findAttributeByName:function(n){return this._oAttributeSet[n];},addAttribute:function(d){this._oAttributeSet[d.getName()]=d;},getContainingQueryResult:function(){return this._oQueryResult;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sSuperOrdinatePropertyName:null,_aAttributeNames:null,_oAttributeSet:null,_oHierarchy:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute=function(q,p){this._init(q,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionAttribute.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case"attribute-for":this._sDimensionName=e.value;break;case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;}}}},getName:function(){return this._oProperty.name;},getKeyProperty:function(){return this._oProperty;},getTextProperty:function(){return this._oTextProperty;},getLabelText:function(){return this._sLabelText;},getDimension:function(){return this._oQueryResult.findDimensionByName(this._sDimensionName);},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_sDimensionName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure=function(q,p){this._init(q,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.Measure.prototype={_init:function(q,p){this._oQueryResult=q;this._oProperty=p;if(p.extensions!=undefined){for(var i=-1,e;e=p.extensions[++i];){if(!e.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(e.name){case"label":this._sLabelText=e.value;break;case"text":this._oTextProperty=q.getEntityType().findPropertyByName(e.value);break;case"unit":this._oUnitProperty=q.getEntityType().findPropertyByName(e.value);break;}}}if(!this._sLabelText){this._sLabelText="";}},getName:function(){return this._oProperty.name;},getRawValueProperty:function(){return this._oProperty;},getFormattedValueProperty:function(){return this._oTextProperty;},getUnitProperty:function(){return this._oUnitProperty;},getLabelText:function(){return this._sLabelText;},_oQueryResult:null,_oProperty:null,_oTextProperty:null,_sLabelText:null,_oUnitProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet=function(m,s,c,e){this._init(m,s,c,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntitySet.prototype={_init:function(m,s,c,e){this._oEntitySet=e;this._oContainer=c;this._oSchema=s;this._oModel=m;if(s.entityContainer.length>1){this._sQName=c.name+"."+e.name;}else{this._sQName=e.name;}},getQName:function(){return this._sQName;},getSetDescription:function(){return this._oEntitySet;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntitySet:null,_oContainer:null,_oSchema:null,_oModel:null,_sQName:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType=function(m,s,e){this._init(m,s,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.EntityType.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._oPropertySet={};this._aFilterablePropertyNames=[];this._aSortablePropertyNames=[];this._aRequiredFilterPropertyNames=[];this._sQName=s.namespace+"."+e.name;var r={};var R=null;for(var i=-1,p;p=e.property[++i];){this._aFilterablePropertyNames.push(p.name);this._aSortablePropertyNames.push(p.name);if(p.extensions==undefined){continue;}for(var j=-1,E;E=p.extensions[++j];){if(!E.namespace==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.constants.SAP_NAMESPACE){continue;}switch(E.name){case"filterable":if(E.value=="false"){this._aFilterablePropertyNames.pop(p.name);}break;case"sortable":if(E.value=="false"){this._aSortablePropertyNames.pop(p.name);}break;case"required-filter":if(E.value=="true"){this._aRequiredFilterPropertyNames.push(p.name);}break;case"hierarchy-node-for":if(!(R=r[p.name])){R=r[p.name]={};}R.dimensionName=E.value;break;case"hierarchy-parent-node-for":case"hierarchy-parent-nod":if(!(R=r[E.value])){R=r[E.value]={};}R.parentNodeIDProperty=p;break;case"hierarchy-level-for":if(!(R=r[E.value])){R=r[E.value]={};}R.levelProperty=p;break;case"hierarchy-drill-state-for":case"hierarchy-drill-stat":if(!(R=r[E.value])){R=r[E.value]={};}R.drillStateProperty=p;break;}}this._oPropertySet[p.name]=p;}this._oRecursiveHierarchySet={};for(var h in r){var H=r[h];var o=this._oPropertySet[h];var d=this._oPropertySet[H.dimensionName];if(d==null){d=o;}this._oRecursiveHierarchySet[d.name]=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy(e,o,H.parentNodeIDProperty,H.levelProperty,d);}},findPropertyByName:function(n){return this._oPropertySet[n];},getFilterablePropertyNames:function(){return this._aFilterablePropertyNames;},getSortablePropertyNames:function(){return this._aSortablePropertyNames;},getRequiredFilterPropertyNames:function(){return this._aRequiredFilterPropertyNames;},getAllHierarchyPropertyNames:function(){if(this._aHierarchyPropertyNames){return this._aHierarchyPropertyNames;}this._aHierarchyPropertyNames=[];for(var n in this._oRecursiveHierarchySet)this._aHierarchyPropertyNames.push(this._oRecursiveHierarchySet[n].getNodeValueProperty().name);return this._aHierarchyPropertyNames;},getHierarchy:function(n){if(this._oRecursiveHierarchySet[n]==undefined){return null;}return this._oRecursiveHierarchySet[n];},getQName:function(){return this._sQName;},getTypeDescription:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_sQName:null,_oPropertySet:null,_aFilterablePropertyNames:null,_aRequiredFilterPropertyNames:null,_aHierarchyPropertyNames:null,_oRecursiveHierarchySet:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy=function(e,n,p,N,o){this._init(e,n,p,N,o);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.RecursiveHierarchy.prototype={_init:function(e,n,p,N,o){this._oEntityType=e;this._oNodeIDProperty=n;this._oParentNodeIDProperty=p;this._oNodeLevelProperty=N;this._oNodeValueProperty=o;},isRecursiveHierarchy:function(){return true;},isLeveledHierarchy:function(){return false;},getNodeIDProperty:function(){return this._oNodeIDProperty;},getParentNodeIDProperty:function(){return this._oParentNodeIDProperty;},getNodeLevelProperty:function(){return this._oNodeLevelProperty;},getNodeValueProperty:function(){return this._oNodeValueProperty;},_oNodeIDProperty:null,_oParentNodeIDProperty:null,_oNodeLevelProperty:null,_oNodeValueProperty:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression=function(m,s,e){this._init(m,s,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aFilterCondition=[];},clear:function(){this._aFilterCondition=[];},addCondition:function(p,o,v,V){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add filter condition for unknown property name "+p;}var f=this._oEntityType.getFilterablePropertyNames();if(f.indexOf(p)===-1){throw"Cannot add filter condition for not filterable property name "+p;}this._aFilterCondition.push({property:P,op:o,val1:v,val2:V});return this._aFilterablePropertyNames;},addSetCondition:function(p,v){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add filter condition for unknown property name "+p;}var f=this._oEntityType.getFilterablePropertyNames();if(f.indexOf(p)===-1){throw"Cannot add filter condition for not filterable property name "+p;}for(var i=-1,V;V=v[++i];){this._aFilterCondition.push({property:P,op:sap.ui.model.FilterOperator.EQ,val1:V});}return this._aFilterablePropertyNames;},getExpressionAsUI5FilterArray:function(){var f=[];for(var i=-1,c;c=this._aFilterCondition[++i];){f.push(new sap.ui.model.Filter(c.property.name,c.op,c.val1,c.val2));}return f;},getURIFilterOptionValue:function(){if(this._aFilterCondition.length==0){return"";}this._aFilterCondition.sort(function(a,b){if(a.property.name==b.property.name){return 0;}if(a.property.name>b.property.name){return 1;}else{return-1;}});var p=this._aFilterCondition[0].property.name;var o="";var s="";for(var i=-1,c;c=this._aFilterCondition[++i];){if(p!=c.property.name){o+=(o==""?"":" and ")+"("+s+")";s="";p=c.property.name;}switch(c.op){case sap.ui.model.FilterOperator.BT:s+=(s==""?"":" or ")+"("+c.property.name+" "+sap.ui.model.FilterOperator.GE.toLowerCase()+" "+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val1,c.property.type)+" and "+c.property.name+" "+sap.ui.model.FilterOperator.LE.toLowerCase()+" "+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val2,c.property.type)+")";break;default:s+=(s==""?"":" or ")+"("+c.property.name+" "+c.op.toLowerCase()+" "+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyFilterValue(c.val1,c.property.type)+")";}}o+=(o==""?"":" and ")+"("+s+")";return o;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aFilterCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder={Ascending:"asc",Descending:"desc"};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression=function(m,s,e){this._init(m,s,e);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression.prototype={_init:function(m,s,e){this._oEntityType=e;this._oSchema=s;this._oModel=m;this._aSortCondition=[];},_containsSorter:function(p){var r=null;for(var i=-1,c;c=this._aSortCondition[++i];){if(c.property.name===p){r={sorter:c,index:i};break;}}return r;},_removeFromArray:function(a,f,t){var r=a.slice((t||f)+1||a.length);a.length=f<0?a.length+f:f;return a.push.apply(a,r);},clear:function(){this._aSortCondition=[];},addSorter:function(p,s){var P=this._oEntityType.findPropertyByName(p);if(P==null){throw"Cannot add sort condition for unknown property name "+p;}if(this._containsSorter(p)!=null){throw"Sort condition for this property name is already defined "+p;}var S=this._oEntityType.getSortablePropertyNames();if(S.indexOf(p)===-1){throw"Cannot add sort condition for not sortable property name "+p;}this._aSortCondition.push({property:P,order:s});return this;},removeSorter:function(p){if(!p){return;}var s=this._containsSorter(p);if(s){this._removeFromArray(this._aSortCondition,s.index);}},getExpressionsAsUI5SorterArray:function(){var s=[];for(var i=-1,c;c=this._aSortCondition[++i];){s.push(new sap.ui.model.Sorter(c.property.name,c.order==sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortOrder.Descending));}return s;},getExpressionAsUI5Sorter:function(){var s=this.getExpressionsAsUI5SorterArray();if(s.length==0){return null;}else{return s[0];}},getURIOrderByOptionValue:function(){if(this._aSortCondition.length==0){return"";}var o="";for(var i=-1,c;c=this._aSortCondition[++i];){o+=c.property.name+" "+c.order;if(i<this._aSortCondition.length-1){o+=", ";}}return o;},getEntityType:function(){return this._oEntityType;},getSchema:function(){return this._oSchema;},getModel:function(){return this._oModel;},_oEntityType:null,_oSchema:null,_oModel:null,_aSortCondition:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest=function(p){this._init(p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterizationRequest.prototype={_init:function(p){if(!p){throw"No parameterization given";}this._oParameterization=p;this._oParameterValueAssignment=[];},getParameterization:function(){return this._oParameterization;},setParameterValue:function(p,v,t){var P=this._oParameterization.findParameterByName(p);if(!P){throw"Invalid parameter name "+p;}if(t!=null){if(!P.isIntervalBoundary()){throw"Range value cannot be applied to parameter "+p+" accepting only single values";}if(!P.isLowerIntervalBoundary()){throw"Range value given, but parameter "+p+" does not hold the lower boundary";}}if(!P.isIntervalBoundary()){if(v==null){delete this._oParameterValueAssignment[p];}else{this._oParameterValueAssignment[p]=v;}}else{if(v==null&&t!=null){throw"Parameter "+p+": An upper boundary cannot be given without the lower boundary";}if(v==null){delete this._oParameterValueAssignment[p];t=null;}else{this._oParameterValueAssignment[p]=v;}var u=P.getPeerIntervalBoundaryParameter();if(t==null){t=v;}if(v==null){delete this._oParameterValueAssignment[u.getName()];}else{this._oParameterValueAssignment[u.getName()]=t;}}return;},getURIToParameterizationEntitySet:function(s){return(s?s:"")+"/"+this._oParameterization.getEntitySet().getQName();},getURIToParameterizationEntry:function(s){var d=this._oParameterization.getAllParameters();for(var D in d){if(this._oParameterValueAssignment[D]==undefined){throw"Parameter "+D+" has no value assigned";}}var k="",f=true;for(var p in this._oParameterValueAssignment){k+=(f?"":",")+p+"="+sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.helper.renderPropertyKeyValue(this._oParameterValueAssignment[p],d[p].getProperty().type);f=false;}return(s?s:"")+"/"+this._oParameterization.getEntitySet().getQName()+"("+k+")";},_oParameterization:null,_oParameterValueAssignment:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest=function(q,p){this._init(q);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.QueryResultRequest.prototype={_init:function(q,p){this._oQueryResult=q;this._oParameterizationRequest=p;this._oAggregationLevel={};this._oMeasures={};this._bIncludeEntityKey=false;this._oFilterExpression=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},getQueryResult:function(){return this._oQueryResult;},setAggregationLevel:function(d){this._oAggregationLevel={};if(!d){d=this._oQueryResult.getAllDimensionNames();}this.addToAggregationLevel(d);},addToAggregationLevel:function(d){if(!d){return;}for(var i=-1,D;D=d[++i];){if(!this._oQueryResult.findDimensionByName(D)){throw D+" is not a valid dimension name";}this._oAggregationLevel[D]={key:true,text:false,attributes:null};}},removeFromAggregationLevel:function(d){if(!d){return;}for(var i=-1,D;D=d[++i];){if(!this._oQueryResult.findDimensionByName(D)){throw D+" is not a valid dimension name";}if(this._oAggregationLevel[D]!=undefined){delete this._oAggregationLevel[D];this.getSortExpression().removeSorter(D);}}},getAggregationLevel:function(){var d=[];for(var D in this._oAggregationLevel){d.push(D);}return d;},getAggregationLevelDetails:function(d){if(this._oAggregationLevel[d]==undefined){throw"Aggregation level does not include dimension "+d;}return this._oAggregationLevel[d];},setMeasures:function(m){if(!m){m=this._oQueryResult.getAllMeasureNames();}this._oMeasures={};for(var i=-1,M;M=m[++i];){if(!this._oQueryResult.findMeasureByName(M)){throw M+" is not a valid measure name";}this._oMeasures[M]={value:true,text:false,unit:false};}},getMeasureNames:function(){var m=[];for(var M in this._oMeasures){m.push(M);}return m;},includeDimensionKeyTextAttributes:function(d,I,b,a){var D=[];if(d){if(this._oAggregationLevel[d]==undefined){throw d+" is not included in the aggregation level";}D.push(d);}else{for(var n in this._oAggregationLevel){D.push(n);}a=null;}for(var i=-1,s;s=D[++i];){if(I!=null){this._oAggregationLevel[s].key=I;}if(b!=null){this._oAggregationLevel[s].text=b;}if(a!=null){this._oAggregationLevel[s].attributes=a;}}},includeMeasureRawFormattedValueUnit:function(m,I,b,a){var M=[];if(m){if(this._oMeasures[m]==undefined){throw m+" is not part of the query result";}M.push(m);}else{for(var n in this._oMeasures){M.push(n);}}for(var i=-1,s;s=M[++i];){if(I!=null){this._oMeasures[s].value=I;}if(b!=null){this._oMeasures[s].text=b;}if(a!=null){this._oMeasures[s].unit=a;}}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oQueryResult.getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},setRequestOptions:function(i,I){if(i){this._bIncludeEntityKey=i;}if(I){this._bIncludeCount=I;}},setResultPageBoundaries:function(s,e){if(s!=null&&typeof s!=="number"){throw"Start value must be null or numeric";}if(e!==null&&typeof e!=="number"){throw"End value must be null or numeric";}if(s==null){s=1;}if(s<1||s>(e==null?s:e)){throw"Invalid values for requested page boundaries";}this._iSkipRequestOption=(s>1)?s:null;this._iTopRequestOption=(e!=null)?(e-s+1):null;},getResultPageBoundaries:function(){return{start:(this._iSkipRequestOption==null)?1:this._iSkipRequestOption,end:(this._iTopRequestOption!=null)?(this._iSkipRequestOption==null)?1:this._iSkipRequestOption+this._iTopRequestOption:null};},getURIToQueryResultEntitySet:function(s){var u=null;if(this._oQueryResult.getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request";}else{u=this._oParameterizationRequest.getURIToParameterizationEntry(s)+"/"+this._oQueryResult.getParameterization().getNavigationPropertyToQueryResult();}}else{u=(s?s:"")+"/"+this._oQueryResult.getEntitySet().getQName();}return u;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case"$select":{var s="";for(var d in this._oAggregationLevel){var D=this._oQueryResult.findDimensionByName(d);var o=this._oAggregationLevel[d];if(o.key==true){s+=(s==""?"":",")+D.getKeyProperty().name;}if(o.text==true&&D.getTextProperty()){s+=(s==""?"":",")+D.getTextProperty().name;}if(o.attributes){for(var i=-1,a;a=o.attributes[++i];){s+=(s==""?"":",")+D.findAttributeByName(a).getName();}}}for(var m in this._oMeasures){var M=this._oQueryResult.findMeasureByName(m);var b=this._oMeasures[m];if(b.value==true){s+=(s==""?"":",")+M.getRawValueProperty().name;}if(b.text==true&&M.getFormattedValueProperty()){s+=(s==""?"":",")+M.getFormattedValueProperty().name;}if(b.unit==true&&M.getUnitProperty()){s+=(s==""?"":",")+M.getUnitProperty().name;}}if(this._bIncludeEntityKey){var k=this._oQueryResult.getEntityType().getTypeDescription().key.propertyRef;for(var i=-1,K;K=k[++i];){s+=(s==""?"":",")+K.name;}}Q=(s?s:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case"$orderby":{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}case"$top":{if(this._iTopRequestOption!==null){Q=this._iTopRequestOption;}break;}case"$skip":{Q=this._iSkipRequestOption;break;}default:break;}return Q;},getURIToQueryResultEntries:function(s){var r=this.getURIToQueryResultEntitySet(s);var S=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var a=this.getURIQueryOptionValue("$orderby");var t=this.getURIQueryOptionValue("$top");var b=this.getURIQueryOptionValue("$skip");var u=r;var q=false;if(S){u+="?$select="+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+="?";q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&a){if(!q){u+="?";q=true;}else{u+="&";}u+="$orderby="+a;}if(this._iTopRequestOption&&t){if(!q){u+="?";q=true;}else{u+="&";}u+="$top="+t;}if(this._iSkipRequestOption&&b){if(!q){u+="?";q=true;}else{u+="&";}u+="$skip="+b;}if(this._bIncludeCount){if(!q){u+="?";q=true;}else{u+="&";}u+="$inlinecount=allpages";}return u;},_oQueryResult:null,_oParameterizationRequest:null,_oAggregationLevel:null,_oMeasures:null,_bIncludeEntityKey:null,_bIncludeCount:null,_oFilterExpression:null,_oSortExpression:null,_iSkipRequestOption:0,_iTopRequestOption:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest=function(p){this._init(p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.ParameterValueSetRequest.prototype={_init:function(p){this._oParameter=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},includeParameterText:function(i){if(i!=null){this._oValueSetResult.text=i;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oParameter.getContainingParameterization().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case"$select":{var s="";s+=(s==""?"":",")+this._oParameter.getProperty().name;if(this._oValueSetResult.text==true&&this._oParameter.getTextProperty()){s+=(s==""?"":",")+this._oParameter.getTextProperty().name;}Q=(s?s:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case"$orderby":{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}default:break;}return Q;},getURIToParameterValueSetEntries:function(s){var r=null;r=(s?s:"")+"/"+this._oParameter.getContainingParameterization().getEntitySet().getQName();var S=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var a=this.getURIQueryOptionValue("$orderby");var u=r;var q=false;if(S){u+="?$select="+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+="?";q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&a){if(!q){u+="?";q=true;}else{u+="&";}u+="$orderby="+a;}return u;},_oParameter:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest=function(d,p){this._init(d,p);};sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.DimensionMemberSetRequest.prototype={_init:function(d,p){this._oDimension=d;this._oParameterizationRequest=p;this._oValueSetResult={};this._oFilterExpression=null;this._oSortExpression=null;},setParameterizationRequest:function(p){this._oParameterizationRequest=p;},includeDimensionTextAttributes:function(i,a){if(i!=null){this._oValueSetResult.text=i;}if(a!=null){this._oValueSetResult.attributes=a;}},getFilterExpression:function(){if(this._oFilterExpression==null){var e=this._oDimension.getContainingQueryResult().getEntityType();this._oFilterExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.FilterExpression(e.getModel(),e.getSchema(),e);}return this._oFilterExpression;},setFilterExpression:function(f){this._oFilterExpression=f;},getSortExpression:function(){if(this._oSortExpression==null){var e=this._oQueryResult.getEntityType();this._oSortExpression=new sap.ushell.components.tiles.indicatorTileUtils.odata4analytics.SortExpression(e.getModel(),e.getSchema(),e);}return this._oSortExpression;},setSortExpression:function(s){this._oSortExpression=s;},hasMasterDataAvailable:function(){return false;},getURIQueryOptionValue:function(q){var Q=null;switch(q){case"$select":{var s="";s+=(s==""?"":",")+this._oDimension.getKeyProperty().name;if(this._oValueSetResult.text==true&&this._oDimension.getTextProperty()){s+=(s==""?"":",")+this._oDimension.getTextProperty().name;}if(this._oValueSetResult.attributes){for(var i=-1,a;a=this._oValueSetResult.attributes[++i];){s+=(s==""?"":",")+this._oDimension.findAttributeByName(a).getName();}}Q=(s?s:null);break;}case"$filter":{var f=null;if(this._oFilterExpression){f=this._oFilterExpression.getURIFilterOptionValue();}Q=(f?f:null);break;}case"$orderby":{var S=null;if(this._oSortExpression){S=this._oSortExpression.getURIOrderByOptionValue();}Q=(S?S:null);break;}default:break;}return Q;},getURIToDimensionMemberEntries:function(s){var r=null;if(this._oDimension.getContainingQueryResult().getParameterization()){if(!this._oParameterizationRequest){throw"Missing parameterization request";}else{r=this._oParameterizationRequest.getURIToParameterizationEntry(s)+"/"+this._oDimension.getContainingQueryResult().getParameterization().getNavigationPropertyToQueryResult();}}else{r=(s?s:"")+"/"+this._oDimension.getContainingQueryResult().getEntitySet().getQName();}var S=this.getURIQueryOptionValue("$select");var f=this.getURIQueryOptionValue("$filter");var a=this.getURIQueryOptionValue("$orderby");var u=r;var q=false;if(S){u+="?$select="+S;q=true;}if(this._oFilterExpression&&f){if(!q){u+="?";q=true;}else{u+="&";}u+="$filter="+f;}if(this._oSortExpression&&a){if(!q){u+="?";q=true;}else{u+="&";}u+="$orderby="+a;}return u;},_oDimension:null,_oParameterizationRequest:null,_oFilterExpression:null,_oSortExpression:null,_oValueSetResult:null};return{};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil',function(){"use strict";sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles.indicatorTileUtils=sap.ushell.components.tiles.indicatorTileUtils||{};sap.ushell.components.tiles.indicatorTileUtils.util=sap.ushell.components.tiles.indicatorTileUtils.util||{};sap.ushell.components.tiles.indicatorTileUtils.util=(function(g,$){var c={};var t={"ANN":"years","WEE":"weeks","DAY":"days","HUR":"hours","MIN":"minutes"};var a={};var b={};return{getScheduledJob:function(k){return a[k];},setScheduledJob:function(k,d){a[k]=d;},isCallInProgress:function(k){return b[k];},setUnsetCallInProgress:function(k,v){b[k]=v;},getTimeUnitMap:function(){return t;},getHanaUser:function(){return authObject.userName;},addSystemToServiceUrl:function(u,s){jQuery.sap.log.info("Hana Adapter --> Add System to Service Url");if(sap.ushell&&sap.ushell.Container){if(s){u=sap.ushell.Container.getService("URLParsing").addSystemToServiceUrl(u,s);}else{u=sap.ushell.Container.getService("URLParsing").addSystemToServiceUrl(u);}}return u;},getODataModelByServiceUri:function(s){s=this.addSystemToServiceUrl(s);if(!c[s]){var m=new sap.ui.model.odata.ODataModel(s,{loadMetadataAsync:true,json:true});c[s]=m;}return c[s];},getEdmType:function(u,p){var d=null;if(u instanceof sap.ui.model.odata.ODataModel){d=u;}else{d=this.getODataModelByServiceUri(u);}if(d&&d.getServiceMetadata()){var s=d.getServiceMetadata();var e=s.dataServices.schema[0].entityType;if(e){for(var i=0;i<e.length;i++){var f=e[i];var h=f.property;for(var j=0;j<h.length;j++){var k=h[j];if(k.name==p){return k.type;}}}}}return null;},getMillisecond:function(d,u){var r;switch(u){case"seconds":r=d*1000;break;case"minutes":r=d*60*1000;break;case"hours":r=d*60*60*1000;break;case"days":r=d*24*60*60*1000;break;case"weeks":r=d*7*24*60*60*1000;break;case"months":r=d*4*7*24*60*60*1000;break;case"years":r=d*12*4*7*24*60*60*1000;break;}return r;},getUTCDate:function(){var n=new Date();return n;},isCacheValid:function(d,e,f,h,i){var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(d);if(!j){return false;}else if(!(f&&Number(f))){return true;}else{var k=this.getMillisecond(f,t[h]);if(jQuery.type(j.CachedTime)=="date"){var l=j.CachedTime&&j.CachedTime.getTime();}else{var l=j.CachedTime&&parseInt(j.CachedTime.substr(6),10);}var m=this.getUTCDate();return(l>=e&&k>=(m-l)&&!i);}},getMantissaLength:function(n){var N=n.toString();var i=0;if(n<0){i=1;}return(N.indexOf('.')===-1)?(n<0?N.length-1:N.length):N.substring(i,N.indexOf('.')).length;},getLocaleFormattedValue:function(n,s,d,i,e){jQuery.sap.require("sap.ui.core.format.NumberFormat");i=i||false;e=e||null;if(i){return sap.ui.core.format.NumberFormat.getCurrencyInstance({style:"short",showMeasure:false}).format(n,e);}var D=2;var f={style:"short"};var N;if(!(d==-1||d==null)){f.shortDecimals=Number(d);f.minFractionDigits=Number(d);f.maxFractionDigits=Number(d);}var v=sap.ui.core.format.NumberFormat.getInstance(f);if(s==-2){if(n>9999){N="????";}else if((n>-0.001&&n<0)||(n<0.001&&n>0)){N="0";}else{if(n.toString().indexOf('.')!=-1){N=Number(n).toFixed(4-n.toString().indexOf('.'));}else{N=Number(n);}N=v.format(N);}}else if(d==-1||d==null){var m=this.getMantissaLength(n);if(!(m%3)){D=1;}if(m%3===1){D=3;}if(m%3===2){D=2;}if(Math.abs(n)%Math.pow(10,m-1)==0){D=0;}else if((Math.abs(n)%Math.pow(10,m-1))<6*Math.pow(10,m-4)){D=0;}v=sap.ui.core.format.NumberFormat.getInstance({style:"short",shortDecimals:D});N=v.format(n);}else{N=v.format(n);}return N;},getPlatform:function(p){return(jQuery.sap.getUriParameters().get("sb_metadata")||p||"HANA").toUpperCase();},getTileTitleSubtitle:function(C){var d={};if(C.bag&&C.bag.getBagIds()&&C.bag.getBagIds().length){d.title=C.bag.getBag("sb_tileProperties").getText("title")||C.bag.getBag("sb_tileProperties").getProperty("title")||C.preview.getTitle();d.subTitle=C.bag.getBag("sb_tileProperties").getText("description")||C.bag.getBag("sb_tileProperties").getProperty("description")||C.preview.getDescription();}else{d.title=C.preview.getTitle();d.subTitle=C.preview.getDescription();}return d;},scheduleFetchDataJob:function(i){var d;if(this.getView().getViewName().indexOf("DualTile")!==-1){d=this.oKpiTileView.oConfig;}else{d=this.oConfig;}var k=d.TILE_PROPERTIES.id+"data";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeUnitMap();var e=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTime(d);var f=sap.ushell.components.tiles.indicatorTileUtils.util.getCachingTimeUnit(d);var h=sap.ushell.components.tiles.indicatorTileUtils.util.getMillisecond(e,t[f]);if(jQuery.type(this.cacheTime)=="date"){var j=this.cacheTime;}else{var j=new Date(parseInt(this.cacheTime.substr(6),10));}var l=h-(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-j);if(l<=0){l=0;}else if(l>2147483646){l=2147483646;}if(!i){l=300000;}if(this.getView().getViewName().indexOf("DualTile")!==-1){r=setTimeout(this.refreshPress.bind(this),l);}else{r=setTimeout(this.refreshHandler.bind(this,false,true),l);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(k,r);}this.updateDatajobScheduled=true;},scheduleTimeStampJob:function(i){var k=this.oConfig.TILE_PROPERTIES.id+"time";var r=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(k);if(r){clearTimeout(r);r=undefined;}if(jQuery.type(this.cacheTime)=="date"){var d=this.cacheTime;}else{var d=new Date(parseInt(this.cacheTime.substr(6),10),13);}var e=sap.ushell.components.tiles.indicatorTileUtils.util.getTimeDifference(sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate()-d);r=setTimeout(this.setTimeStamp.bind(this,this.cacheTime),e.timer);sap.ushell.components.tiles.indicatorTileUtils.util.setScheduledJob(k,r);this.updateTimeStampjobScheduled=true;},getBoolValue:function(v){var r=false;if(typeof v=="boolean"&&v){r=true;}return r;},getSeconds:function(d){return(d/1000);},getMinutes:function(d){return(this.getSeconds(d)/60);},getHours:function(d){return(this.getMinutes(d)/60);},getDays:function(d){return(this.getHours(d)/24);},getWeeks:function(d){return(this.getDays(d)/7);},getMonths:function(d){return(this.getWeeks(d)/4);},getYears:function(d){return(this.getMonths(d)/12);},getTimeDifference:function(d){var r={};if(d){var m=this.getMinutes(d);var h=this.getHours(d);var e=this.getDays(d);if(m<5){r.time=0;r.unit="minutes";r.timer=Math.round(this.getMillisecond(5-m,"minutes"));}else if(m>=5&&m<60){if(m<10){r.time=5;}else{r.time=(m-(m%10));}r.unit="minutes";r.timer=Math.round(this.getMillisecond(10-(m%10),"minutes"));}else if(h>=1&&h<24){r.unit="hours";r.time=(h-(h%1));r.timer=Math.round(this.getMillisecond(1-(h%1),"hours"));}else if(e>=1&&e<2){r.unit="days";r.time=(e-(e%1));r.timer=Math.round(this.getMillisecond(1-(e%1),"days"));}else{r.unit="days";r.time=(e-(e%1));r.timer=this.getMillisecond(2,"days");}}else{r.timer=6000;r.unit="days";r.timer=2000;}return r;},getCachingTime:function(C){return((C.CACHINGTIME&&Number(C.CACHINGTIME))||(C.TILE_PROPERTIES.cachingTime&&Number(C.TILE_PROPERTIES.cachingTime)));},getCachingTimeUnit:function(C){return(C.CACHINGUNIT||C.TILE_PROPERTIES.cachingTimeUnit);},getFrontendCacheQuery:function(d,u,p,T){var e;try{var f=T.url.addSystemToServiceUrl('/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV');f=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(f);e=this.getODataModelByServiceUri(f);var f="/CacheParameters(P_CacheType=1)/Results";return{oModel:e,uri:f};}catch(h){jQuery.sap.log.error("FrontEnd cache Metadata failed");return null;}},isDualTile:function(C){var d=C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.tileType;if(d.indexOf("DT-")==-1){return false;}return true;},writeFrontendCacheByChipAndUserId:function(T,d,e,u,f){var s=function(e){jQuery.sap.log.info("cache write successFully");f(e);};var h=function(){jQuery.sap.log.error("cache update failed");f(null);};try{var i=T.url.addSystemToServiceUrl("/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV/");i=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(i);var j=this.getODataModelByServiceUri(i);var k="/CacheData";j.create(k,e,{async:true,success:s,error:h});}catch(l){jQuery.sap.log.error(l);}},getKpiChipsOnPage:function(d,e){var f=[];var l=sap.ushell.Container.getService("LaunchPage");l.getGroups().done(function(G){if(G&&G instanceof Array&&G.length){jQuery.sap.log.info("Group Chip fetch");}e(d,f);});},getFrontendCache:function(C,T){var d=this;var o=sap.ushell.components.tiles.indicatorTileUtils.cache.getFrontEndCacheDeferredObject(T.url.getApplicationSystem());var e;if(o){e=o;}else{e=jQuery.Deferred();}var f=C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.id;var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(f);if(h){o.resolve(true);}else if(o){return o.promise();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setFrontEndCacheDefferedObject(T.url.getApplicationSystem(),e);o=e;this.getKpiChipsOnPage(f,function(f,p){if(p){var i=d.getFrontendCacheQuery(p,sap.ushell.Container.getUser().getId(),p,T);if(i){var j=i.oModel;var k=i.uri;var l=false;var m=j.read(k,null,null,true,function(n){if(n&&n.results&&n.results instanceof Array&&n.results.length){jQuery.each(n.results,function(q,r){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(r.ChipId,r);});}if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(f)){l=true;}o.resolve(l);},function(n){if(n&&n.response){jQuery.sap.log.error(n.message+" : "+n.request.requestUri);}o.reject();});}else{o.reject();}}else{o.resolve(false);}});}return o.promise();},getModelerRuntimeServiceModel:function(){var u="/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";u=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(u);return this.getODataModelByServiceUri(u);},getSapFontErrorCode:function(){return String.fromCharCode(0xe0b1);},getSapFontBusyCode:function(){return String.fromCharCode(0xe1f2);},prepareFilterStructure:function(f,d){var v=[];if(d){f=f.concat(d);}for(var i=0;i<f.length;i++){var p={};p.comparator=f[i].OPERATOR;p.filterPropertyName=f[i].NAME;if(f[i].ID){p.id=f[i].ID;}p.type=f[i].TYPE;p.value=f[i].VALUE_1;p.valueTo=f[i].VALUE_2;v.push(p);}return v;},getODataModelByServiceUriFromChipAPI:function(s,T){s=T.url.addSystemToServiceUrl(s);if(!c[s]){var m=new sap.ui.model.odata.ODataModel(s,true);c[s]=m;}return c[s];},cacheBustingMechanism:function(u){if(window["sap-ushell-config"].cacheBusting.cacheBusterToken){var d=window["sap-ushell-config"].cacheBusting&&window["sap-ushell-config"].cacheBusting.cacheBusterToken;u=u+"?_="+d;}return u;},getRunTimeUri:function(p){var u="/sap/hba/r/sb/core/odata/runtime/SMART_BUSINESS.xsodata";var d="/sap/opu/odata/SSB/SMART_BUSINESS_RUNTIME_SRV";if(p.toUpperCase()=="HANA"){if(window["sap-ushell-config"].cacheBusting){u=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(u);}return u;}if(window["sap-ushell-config"].cacheBusting){d=sap.ushell.components.tiles.indicatorTileUtils.util.cacheBustingMechanism(d);}return d;},getFilterFromRunTimeService:function(C,T,s,e){var p=C.TILE_PROPERTIES.sb_metadata;var K=this.getODataModelByServiceUriFromChipAPI(this.getRunTimeUri(p),T);var f="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",C.EVALUATION.ID);var k=K.read("/EVALUATION_FILTERS",null,{"$filter":f},true,function(d){var h=[];if(d.results.length){h=d.results;}s.call(this,h);},e);return k;},_getOData4AnalyticsObject:function(u){var m=null;if(u instanceof sap.ui.model.odata.ODataModel){m=u;}else if(typeof u=="string"){m=this.getODataModelByServiceUri(u);}else{throw new Error("Invalid Input to Create ODataModel Object : "+u);}var O=new sap.ui.model.analytics.odata4analytics.Model(sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(m));return O;},findTextPropertyForDimension:function(u,d,f){try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var D=q.findDimensionByName(f);if(D.getTextProperty()){return D.getTextProperty().name;}else{return f;}}catch(e){$.sap.log.error("Error Fetching Text Property for "+f+" : "+e.toString());}},getEvalValueMeasureName:function(C,d,r){var e=C.EVALUATION_VALUES;for(var i=0;i<e.length;i++){if(e[i].TYPE==d){if(r==="FIXED"){return e[i].FIXED;}else{return e[i].COLUMN_NAME;}}}},getSemanticColorName:function(d){var s="";if(d=="Error"){s="sb.error";}if(d=="Neutral"){s="sb.neutral";}if(d=="Critical"){s="sb.critical";}if(d=="Good"){s="sb.good";}return s;},setTooltipInTile:function(C,d,v){var e="";var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(d=="NT"||d=="DT"){if(v.status){e+=r.getText("sb.status")+": "+r.getText(v.status)+"\n";}if(v.actual){e+=r.getText("sb.actual")+": "+v.actual+"\n";}if(v.target){e+=r.getText("sb.target")+": "+v.target+"\n";}if(v.cH){e+=r.getText("sb.ch")+": "+v.cH+"\n";}if(v.wH){e+=r.getText("sb.wh")+": "+v.wH+"\n";}if(v.wL){e+=r.getText("sb.wl")+": "+v.wL+"\n";}if(v.cL){e+=r.getText("sb.cl")+": "+v.cL+"\n";}}if(d=="CONT"||d=="COMP"){if(v.measure&&d=="CONT"){if(v&&v.contributionTile.contributionTile&&v.contributionTile.contributionTile[1]==="asc"){e+=r.getText("sb.bottomn")+": "+v.contributionTile[0]+"\n";}else if(v&&v.contributionTile.contributionTile&&v.contributionTile.contributionTile.length){e+=r.getText("sb.topn")+": "+v.contributionTile[0]+"\n";}}if(v.m1&&((v.v1==undefined||v.v1==null)?false:v.v1.toString())&&v.c1){e+=v.m1+": "+v.v1+" "+r.getText(v.c1)+"\n";}if(v.m2&&((v.v2==undefined||v.v2==null)?false:v.v2.toString())&&v.c2){e+=v.m2+": "+v.v2+" "+r.getText(v.c2)+"\n";}if(v.m3&&((v.v3==undefined||v.v3==null)?false:v.v3.toString())&&v.c3){e+=v.m3+": "+v.v3+" "+r.getText(v.c3)+"\n";}}C&&C.setTooltip&&C.setTooltip(e);},_getFormattedTileProperties:function(d){d=d||{};var p=["sb_metadata","sb_navigation","sb_catalog"];var e=false;for(var i=0;!e&&i<p.length;i++){e=e||jQuery.sap.getUriParameters().get(p[i])||d[p[i]];}d.sb_metadata=(jQuery.sap.getUriParameters().get("sb_metadata")||d.sb_metadata||"HANA").toLowerCase();d.sb_navigation=(jQuery.sap.getUriParameters().get("sb_navigation")||d.sb_navigation||"abap").toLowerCase();d.sb_catalog=(jQuery.sap.getUriParameters().get("sb_catalog")||d.sb_catalog||"HANA").toLowerCase();d.isPlatformInfoPresent=e;return d;},getEvaluationDetailsFromRunTimeService:function(e,p,i,d){var K=this.getODataModelByServiceUri(this.getRunTimeUri(p));var f="ID eq '#EVALUATIONID'".replace("#EVALUATIONID",i);var k=K.read(e,null,{"$filter":f},true,function(h){var j=[];if(h.results.length){j=h.results;}d.call(this,j);});},getParsedChip:function(C,i,d){try{var p={};var e=JSON.parse(C);var f=JSON.parse(e.TILE_PROPERTIES).evaluationId||"";if(e.TILE_PROPERTIES){var h=JSON.parse(e.TILE_PROPERTIES);if(h&&(h.instanceId||h.catalogId)){return false;}}var j=this;if(e.blankTile){p["BLANKTILE"]=e.blankTile;}if(e.cachingTime){p["CACHINGTIME"]=e.cachingTime;}if(e.cachingTimeUnit){p["CACHINGUNIT"]=e.cachingTimeUnit;}if(e.TAGS){p["TAGS"]=JSON.parse(e.TAGS);}if(e.ADDITIONAL_FILTERS){p["ADDITIONAL_FILTERS"]=JSON.parse(e.ADDITIONAL_FILTERS);}if(e.ADDITIONAL_APP_PARAMETERS){p["ADDITIONAL_APP_PARAMETERS"]=JSON.parse(e.ADDITIONAL_APP_PARAMETERS);}p.TILE_PROPERTIES=this._getFormattedTileProperties(JSON.parse(e.TILE_PROPERTIES));var P=p.TILE_PROPERTIES.sb_metadata;if(e.EVALUATION_FILTERS){p["EVALUATION_FILTERS"]=JSON.parse(e.EVALUATION_FILTERS);if(e.EVALUATION_VALUES){p["EVALUATION_VALUES"]=JSON.parse(e.EVALUATION_VALUES);if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{if(!i){j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}else{if(d){d(p);}else{return p;}}}}else{if(!i){j.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",P,f,function(l){p["EVALUATION_VALUES"]=l;if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}});}else{if(d){d(p);}else{return p;}}}}else if(i){if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATION_FILTERS",P,f,function(l){p["EVALUATION_FILTERS"]=l;if(e.EVALUATION_VALUES){p["EVALUATION_VALUES"]=JSON.parse(e.EVALUATION_VALUES);if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATION_VALUES",P,f,function(l){p["EVALUATION_VALUES"]=l;if(e.EVALUATION){p.EVALUATION=JSON.parse(e.EVALUATION);if(d){d(p);}else{return p;}}else{j.getEvaluationDetailsFromRunTimeService("/EVALUATIONS",P,f,function(l){p.EVALUATION=l;if(d){d(p);}else{return p;}});}});}});}}catch(k){return false;}},getNavigationTarget:function(C,s){var f=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;var o=f&&f("CrossApplicationNavigation");var e;var p={};p["evaluationId"]=C.EVALUATION.ID;p["chipId"]=C.TILE_PROPERTIES.id;if(s){p["sap-system"]=s;}p["tileType"]=C.TILE_PROPERTIES.tileType;if(C.TILE_PROPERTIES.dimension){p["dimension"]=C.TILE_PROPERTIES.dimension;}if(C.TILE_PROPERTIES.storyId){p["storyId"]=C.TILE_PROPERTIES.storyId;}if(C.TILE_PROPERTIES.apfConfId){p["sap-apf-configuration-id"]=C.TILE_PROPERTIES.apfConfId;}if(C.TILE_PROPERTIES.isPlatformInfoPresent){p["sb_metadata"]=C.TILE_PROPERTIES.sb_metadata;p["sb_navigation"]=C.TILE_PROPERTIES.sb_navigation;p["sb_catalog"]=C.TILE_PROPERTIES.sb_catalog;}if(C.ADDITIONAL_APP_PARAMETERS){for(e in C.ADDITIONAL_APP_PARAMETERS){if(C.ADDITIONAL_APP_PARAMETERS.hasOwnProperty(e)){if(C.ADDITIONAL_APP_PARAMETERS[e].constructor==Array){var d=C.ADDITIONAL_APP_PARAMETERS[e];for(var i=0;i<d.length;i++){p[e]=d[i];}}else{p[e]=C.ADDITIONAL_APP_PARAMETERS[e];}}}}var h=o&&o.hrefForExternal({target:{semanticObject:C.TILE_PROPERTIES.semanticObject,action:C.TILE_PROPERTIES.semanticAction},params:p})||"";if(C.ADDITIONAL_FILTERS){var k=C.ADDITIONAL_FILTERS;var l="&";for(var j=0;j<k.length;j++){if(k[j].OPERATOR==="EQ"){l=l+"/"+k[j].NAME+"="+k[j].VALUE_1;}}h+=l;}return h;},getChipTitle:function(C){var d="";if(C){var e=C.EVALUATION||{};d=e.INDICATOR_TITLE||"";}return d;},getstringifyTileConfig:function(C){var s={};s.EVALUATION=JSON.stringify(C.EVALUATION);s.EVALUATION_FILTERS=JSON.stringify(C.EVALUATION_FILTERS);s.EVALUATION_VALUES=JSON.stringify(C.EVALUATION_VALUES);s.TILE_PROPERTIES=JSON.stringify(C.TILE_PROPERTIES);return JSON.stringify(s);},getChipSubTitle:function(C){var T="";if(C){var d=C.EVALUATION||{};T=d.TITLE||"";}return T;},getAllMeasures:function(u,d){var m=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);m=q.getAllMeasureNames();}catch(e){$.sap.log.error("Error Fetching All Measures : "+e.toString());}return m;},getFormattingMetadata:function(u,e,p){var f={};f._hasCurrency=false;f._hasSapText=false;var m=null;if(u instanceof sap.ui.model.odata.ODataModel){m=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(u);}else{var d=this.getODataModelByServiceUri(u);m=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(d);}var O=new sap.ui.model.analytics.odata4analytics.Model(m);var q=O.findQueryResultByName(e);var h=q.getAllMeasures();if(h[p]){var s=(h[p]._oTextProperty&&h[p]._oTextProperty.name)?h[p]._oTextProperty.name:"";if(s!=""){f._hasSapText=true;f._sapTextColumn=s;}else if(h[p].hasOwnProperty("_oUnitProperty")){var j=h[p]._oUnitProperty.extensions;for(var i=0;i<h[p]._oUnitProperty.extensions.length;i++){if(j[i].name==="semantics"&&j[i].value==="currency-code"){f._hasCurrency=true;f._currencyColumn=h[p]._oUnitProperty.name;}}}}return f;},getAllDimensions:function(u,d){function i(j,k){var l=0,m=0;var r=[];while(l<j.length&&m<k.length){if(j[l]<k[m]){l++;}else if(j[l]>k[m]){m++;}else{r.push(j[l]);l++;m++;}}return r;}var f=[];var F=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var h=q.getEntityType();F=h.getFilterablePropertyNames();f=q.getAllDimensionNames();if(F&&F.length){f=i(F.sort(),f.sort());}}catch(e){$.sap.log.error("Error Fetching All Dimesions : "+e.toString());}return f;},prepareQueryServiceUri:function(u,d,m,f,v,o,h){function _(S){return S.replace(/'/g,"''");}var n=null;var p=function(){};var q=function(){};try{var r=null;if(u instanceof sap.ui.model.odata.ODataModel){r=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(u);}else{var s=this.getODataModelByServiceUri(u);r=sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(s);}var O=new sap.ui.model.analytics.odata4analytics.Model(r);var Q=O.findQueryResultByName(d);var w=new sap.ui.model.analytics.odata4analytics.QueryResultRequest(Q);if(m){w.setMeasures(m.split(","));w.includeMeasureRawFormattedValueUnit(null,true,true,true);}if(f){if(typeof f=="string"){n=f;n=n.split(",");}for(var i=0;i<n.length;i++){w.addToAggregationLevel([n[i]]);var x=Q.getAllDimensions();if(x[n[i]].getTextProperty()!=null){w.includeDimensionKeyTextAttributes([n[i]],true,true,null);}}}if(v&&v.length){var A=[];var B=[];for(var i=0,l=v.length;i<l;i++){var C=v[i];if(C.type==="PA"){B.push(C);}else if(C.type==="FI"){A.push(C);}}p=function(S){var T=S.toJSON();var U=T.charAt(T.length-1).toUpperCase();if(U.charCodeAt(0)>=65&&U.charCodeAt(0)<=90){T=T.slice(0,-1);}return T;};q=function(S){if(S){try{if(S==+S){S=window.parseInt(S);}var T=new Date(S);var U=T.getTime();if(isNaN(U)){return S;}else{return p(T);}}catch(e){}}return S;};if(A.length){var F=w.getFilterExpression();for(var i=0,l=A.length;i<l;i++){var C=A[i];if(this.getEdmType(u,C.filterPropertyName)=="Edm.DateTime"){C.value=q(C.value);C.valueTo=q(C.valueTo);}if(C.comparator==sap.ui.model.FilterOperator.BT){F.addCondition(C.filterPropertyName,C.comparator,_(C.value),C.valueTo);}else{var D=C.value.split(",");for(var j=0,k=D.length;j<k;j++){F.addCondition(C.filterPropertyName,C.comparator,_(D[j].replace(/\^\|/g,",")),null);}}}}if(B.length){if(Q.getParameterization()){var P=new sap.ui.model.analytics.odata4analytics.ParameterizationRequest(Q.getParameterization());var E=Q.getParameterization();var G,H,I,J,K;for(var y=0,z=B.length;y<z;y++){G=B[y];H=E.findParameterByName(G.filterPropertyName);if(H.isIntervalBoundary()===true&&H.isLowerIntervalBoundary()===true){K=H.getPeerIntervalBoundaryParameter();for(var i=0,l=B.length;i<l;i++){if(B[i].filterPropertyName===K.getName()){J=_(B[i].value);break;}}I=_(G.value);if(J){P.setParameterValue(G.filterPropertyName,I,J);}}else if(H.isIntervalBoundary()===true&&H.isLowerIntervalBoundary()===false){jQuery.sap.log.info("Future development");}else{P.setParameterValue(G.filterPropertyName,_(G.value));}}w.setParameterizationRequest(P);}}}var L=w.getURIToQueryResultEntries();if(o&&o.length){L=L+"&$orderby=";for(var y=0,z=o.length;y<z;y++){var M=o[y].sortOrder||"asc";if(M){L+=o[y].element+" "+M+",";}}L=L.slice(0,L.length-1);}if(h){L=L+"&$top="+h;}var N=Q.getAllMeasures();var R=[];for(var i=0;i<m.split(",").length;i++){R.push(N[m.split(",")[i]].getUnitProperty());}return{uri:L,model:O.getODataModel(),unit:R};}catch(e){$.sap.log.error("Error Preparing Query Service Uri using OData4Analytics Library : "+e.toString());if(arguments.length){$.sap.log.error("Arguments Passed to this function");$.sap.log.error(arguments[0]+","+arguments[1]+","+arguments[2]+","+arguments[3]);}else{$.sap.log.error("NO Arguments passed to this function");}return null;}},getAllEntitySet:function(u){var d=[];try{var o=this._getOData4AnalyticsObject(u);d=o.getAllQueryResultNames();}catch(e){$.sap.log.error("Error fetching Enity Set : "+e.toString());}return d;},getAllMeasuresWithLabelText:function(u,d){var m=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var f=q.getAllMeasureNames();for(var i=0;i<f.length;i++){var h=f[i];g.oMeasure=q.findMeasureByName(h);m.push({key:h,value:oMeasure.getLabelText()});}}catch(e){$.sap.log.error("Error Fetching All Measures : "+e.toString());}return m;},getAllDimensionsWithLabelText:function(u,d){var f=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);var h=q.getAllDimensionNames();for(var i=0;i<h.length;i++){var j=h[i];var D=q.findDimensionByName(j);var k=null;if(D.getTextProperty()!=null){k=D.getTextProperty().name;}f.push({key:j,value:D.getLabelText(),textProperty:k});}}catch(e){$.sap.log.error("Error Fetching All Dimesions : "+e.toString());}return f;},getAllInputParams:function(u,d){var i=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);if(q.getParameterization()){var p=q.getParameterization();i=p.getAllParameterNames();}}catch(e){$.sap.log.error("Error Fetching Input Params : "+e.toString());}return i;},getAllInputParamsWithFlag:function(u,d){var f=[];try{var o=this._getOData4AnalyticsObject(u);var q=o.findQueryResultByName(d);if(q.getParameterization()){var p=q.getParameterization();var h=p.getAllParameterNames();for(var i=0;i<h.length;i++){var j=h[i];var k=p.findParameterByName(j);f.push({name:j,optional:k.isOptional()});}}}catch(e){$.sap.log.error("Error Fetching Input Params : "+e.toString());}return f;},formatOdataObjectToString:function(v){if(v&&v.constructor==Object){if(v.__edmType=="Edm.Time"){var m=v.ms;var s=Math.floor((m/1000)%60);var d=Math.floor((m/60000)%60);var h=Math.floor((m/3600000)%24);return h+"H"+d+"M"+s+"S";}}return v;},generateCombinations:function(d){function e(h,s){while(s.length<h){s='0'+s;}return s;}var m=Math.pow(2,d.length);var r=[];var f=0;while(m>1){var s=(m-1).toString(2);s=e(d.length,s);r[f]=[];for(var i=0;i<s.length;i++){if(Number(s[i])){r[f].push(d[i]);}}m--;f++;}return r;},logError:function(e,C){if(e=="no data"&&C){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();C.setFailedText(r.getText("sb.noData"));}jQuery.sap.log.error(e.toString());},numberOfLeadingZeros:function(n){n=String(n);var d=0;var e=n.indexOf('.');if(e==-1){return 0;}if(Number(n.split('.')[0])!=0){return 0;}var i=e+1;while(n[i++]=='0'){++d;}return d;},formatValue:function(v,s,M){M=M||3;var u={3:"K",6:"M",9:"B",12:"T",0:""};u["-3"]="m";u["-6"]="u";u["-9"]="n";u["-12"]="t";u["-2"]="%";var d,p,e;d=Number(v).toPrecision(M);var z=this.numberOfLeadingZeros(d);if(z>0&&s<0){p=d*Math.pow(10,z+M);e=-(z+M);}else{p=Number(d.split("e")[0]);e=Number(d.split("e")[1])||0;}if(!v&&v!=0){return{value:"",unitPrefix:""};}if(s>=0){if(e%3!=0){if(e%3==2){if(e+1==s){e=e+1;p=p/10;}else{e=e-2;p=p*100;}}else{if(e+2==s){e=e+2;p=p/100;}else{e--;p=p*10;}}}else if(e==15){p=p*1000;e=12;}}else{if(s=="-2"){var x=this.formatValue((v*100),0);}else if(e>=0&&v<10&&s=="-3"){p=v*Math.pow(10,3);e=-3;}else if(e>=0){return this.formatValue(v,0);}else{e=Math.abs(e);s=Math.abs(s);if(s>e){p=p/(Math.pow(10,e%3));e=e-(e%3);}else{var f=e-s;p=p/(Math.pow(10,f));e=e-f;}e=0-e;}}p+="";if(s=="-2"){var h=(x.unitPrefix=="")?Number(x.value+"").toFixed(4-(x.value+"").indexOf('.')):Number(x.value+"").toFixed(3-(x.value+"").indexOf('.'));return{value:Number(h),unitPrefix:(x.unitPrefix)+u[-2]};}p=Number(p).toFixed(4-p.indexOf('.'));return{value:Number(p),unitPrefix:u[e]};},isSmartbusinessChipAndCachable:function(d){var C=this.getParsedChip(d&&d.getConfigurationParameter("tileConfiguration"));return(C&&C.TILE_PROPERTIES&&C.TILE_PROPERTIES.tileType&&this.getCachingTime(C));},getHanaClient:function(){var e;var f=function(d,s,x){e=d.sessionClient;sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(e);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(e);};var h=function(d,k,l){jQuery.sap.log.error(d.responseText);jQuery.sap.log.error("session client call failed");sap.ushell.components.tiles.indicatorTileUtils.cache.setCacheHanaClient(null);sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.reject();};var i=sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED||jQuery.Deferred();var j=sap.ushell.components.tiles.indicatorTileUtils.cache.getCacheHanaClient();if(j!=undefined){e=j;sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.resolve(e);}else if(sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED){return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise();}else{sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED=i;jQuery.ajax({type:"GET",async:false,dataType:"json",url:"/sap/hba/r/sb/core/logic/GetSessionClient.xsjs",success:f,error:h});}return sap.ushell.components.tiles.indicatorTileUtils.util.HANA_CLIENT_DEFERRED.promise();},abortPendingODataCalls:function(d){try{if(d){d.abort();}}catch(e){this.logError(e);}}};})(window,jQuery);sap.ushell.components.tiles.indicatorTileUtils.cache=(function(){var B={};var K={};var s="HANA_CLIENT";return{getCacheHanaClient:function(){return B[s];},setCacheHanaClient:function(d){B[s]=d;},getEvaluationByChipId:function(k){if(B[k]){return B[k];}return null;},getEvaluationById:function(k){return this.getEvaluationByChipId(k);},setEvaluationById:function(k,d){B[k]=d;},getFrontEndCacheDeferredObject:function(k){if(B[k]){return B[k];}return null;},setFrontEndCacheDefferedObject:function(k,d){B[k]=d;},getKpivalueById:function(k){if(K[k]){return K[k];}return null;},setKpivalueById:function(k,d){K[k]=d;}};})();return{};},true);
sap.ui.predefine('sap/ushell/components/tiles/indicatorcomparison/ComparisonTile.controller',['sap/ushell/components/tiles/generic'],function(g){"use strict";var C=g.extend("sap.ushell.components.tiles.indicatorcomparison.ComparisonTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,m,u){var f=[],L={},i,t,l;var a;var T=[];var b=this;var e=null;for(i=0;i<d.results.length;i++){var h=d.results[i];}T=sap.ushell.components.tiles.indicatorTileUtils.util.getAllMeasuresWithLabelText(this.oTileApi.url.addSystemToServiceUrl(this.oConfig.EVALUATION.ODATA_URL),this.oConfig.EVALUATION.ODATA_ENTITYSET);for(i=0,l=T.length;i<l;i++){t=T[i];L[t.key]=t.value;}var j=b.oConfig.TILE_PROPERTIES.COLUMN_NAMES||b.oConfig.EVALUATION.COLUMN_NAMES;for(i=0;i<j.length;i++){var k={};var n=j[i];k.value=Number(h[n.COLUMN_NAME]);var o=Number(h[n.COLUMN_NAME]);var p=false;var s=0;var q=b._getEvaluationThresholdMeasures();var I=jQuery.inArray(n.COLUMN_NAME,q);if(I>-1){p=true;s=b.oConfig.EVALUATION.SCALING;}if(b.oConfig.EVALUATION.SCALING==-2&&p){o*=100;}var c=b.isCurrencyMeasure(n.COLUMN_NAME);if(u&&u[i]&&h[u[i].name]){e=h[u[i].name];}a=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(o,s,b.oConfig.EVALUATION.SCALING,b.oConfig.EVALUATION.DECIMAL_PRECISION,c,e);if(b.oConfig.EVALUATION.SCALING==-2&&p){a+=" %";}k.displayValue=a.toString();if(u){if(u[i]&&h[u[i].name]){k.displayValue+=" "+h[u[i].name];}}k.color=n.semanticColor;k.title=L[n.COLUMN_NAME]||n.COLUMN_NAME;k.measure=n.COLUMN_NAME;k.isCurM=c;f.push(k);}return f;},fetchChartData:function(r,a,s,E){function c(w,x){var y=false;if(w&&w.results&&w.results.length){for(var i=0,l=x.length;i<l&&!y;i++){y=w.results[0][x[i].COLUMN_NAME]!==null;}}return y;}var t=this;try{var b=this.oConfig.EVALUATION.ODATA_ENTITYSET;var m=this.oConfig.EVALUATION.COLUMN_NAME;var d=m;if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES){for(var j=0;j<this.oConfig.TILE_PROPERTIES.COLUMN_NAMES.length;j++){if(this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){d=d+","+this.oConfig.TILE_PROPERTIES.COLUMN_NAMES[j].COLUMN_NAME;}}}else{for(var j=0;j<this.oConfig.EVALUATION.COLUMN_NAMES.length;j++){if(this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME!=this.oConfig.EVALUATION.COLUMN_NAME){d=d+","+this.oConfig.EVALUATION.COLUMN_NAMES[j].COLUMN_NAME;}}}var f=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var h=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(h){var k=h.Data&&JSON.parse(h.Data);}}var n=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var o=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,n,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((k&&!k.rightData)||!h||(!o&&t.oTileApi.visible.isVisible())||f||(a&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var p=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,b,d,null,v,3);this.comparisionChartODataRef=p.model.read(p.uri,null,null,true,function(i){t.kpiValueFetchDeferred=true;var w={};if(p.unit){w.unit=p.unit;}if(c(i,t.oConfig.TILE_PROPERTIES.COLUMN_NAMES||t.oConfig.EVALUATION.COLUMN_NAMES)){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,d.split(",")[0],p.unit);w.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;var l={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();l.ChipId=t.oConfig.TILE_PROPERTIES.id;l.Data=JSON.stringify(w);l.CacheMaxAge=Number(t.chipCacheTime);l.CacheMaxAgeUnit=t.chipCacheTimeUnit;l.CacheType=1;var x=t.getLocalCache(l);t.updateDatajobScheduled=false;var y=t.oConfig.TILE_PROPERTIES.id+"data";var z=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(y);if(z){clearTimeout(z);z=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,x);var U=false;if(h){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,l,U,function(i){if(i){t.cacheTime=i&&i.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,i);t.setTimeStamp();}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var A=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(A){if(!A.CachedTime){A.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var B=A.Data;if(B){B=JSON.parse(B);B.rightData=w;}A.Data=JSON.stringify(B);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,A);}else{var B={};B.rightData=w;x.Data=JSON.stringify(B);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,x);}t.cacheWriteData=w;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(i.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=i;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){w=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);w.data=i;}else{w.data=i;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,w);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(i){t.kpiValueFetchDeferred=true;if(i&&i.response){jQuery.sap.log.error(i.message+" : "+i.request.requestUri);E.call(t,i);}});}}else{if(h&&h.Data){var q;var u=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(u.indexOf("DT-")==-1){q=h.Data&&JSON.parse(h.Data);}else{q=h.Data&&JSON.parse(h.Data);q=q.rightData;}t.cacheTime=h.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}if(q.data&&q.data.length){t.oConfig.TILE_PROPERTIES.FINALVALUE=q.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else{t.oConfig.TILE_PROPERTIES.FINALVALUE=q.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}}else{t.setNoData();}}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.TwoByOne);t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());var c={};c.data=this.CALCULATED_KPI_VALUE;t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"COMP");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.OneByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"Liquidity Structure",footer:"Current Quarter",description:"Apr 1st 2013 (B$)",data:[{title:"Measure 1",value:1.2,color:"Good"},{title:"Measure 2",value:0.78,color:"Good"},{title:"Measure 3",value:1.4,color:"Error"}]});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});return C;});
sap.ui.predefine('sap/ushell/components/tiles/indicatorcontribution/ContributionTile.controller',['sap/ushell/components/tiles/generic'],function(g){"use strict";var C=g.extend("sap.ushell.components.tiles.indicatorcontribution.ContributionTile",{onInit:function(){this.KPI_VALUE_REQUIRED=false;},_processDataForComparisonChart:function(d,m,a,u){var s=this.oConfig.TILE_PROPERTIES.semanticColorContribution;var f=[];var t;var b;for(var i=0;i<d.results.length;i++){var h=d.results[i];var j={};try{j.title=h[a].toString();}catch(e){j.title="";}j.value=Number(h[m]);var k=Number(h[m]);if(this.oConfig.EVALUATION.SCALING==-2){k*=100;}var c=this.isCurrencyMeasure(m);b=h[u];t=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(k,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,b);j.displayValue=t.toString();if(typeof s==='undefined'){j.color="Neutral";}else{j.color=s;}if(j&&u){j[u]=b;}f.push(j);}return f;},fetchChartData:function(r,i,s,E){var t=this;try{var u=this.oConfig.EVALUATION.ODATA_URL;var a=this.oConfig.EVALUATION.ODATA_ENTITYSET;t.setThresholdValues();if(this.oConfig.TILE_PROPERTIES.semanticMeasure){var m=this.oConfig.EVALUATION.COLUMN_NAME+","+this.oConfig.TILE_PROPERTIES.semanticMeasure;}else{var m=this.oConfig.EVALUATION.COLUMN_NAME;}var b=null;var d=this.oConfig.TILE_PROPERTIES.dimension;this.oConfig.EVALUATION_VALUES;var c=sap.ushell.components.tiles.indicatorTileUtils.util.getBoolValue(r);var f=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){if(f){var h=f.Data&&JSON.parse(f.Data);}}var j=t.oTileApi.configuration.getParameterValueAsString("timeStamp");var k=sap.ushell.components.tiles.indicatorTileUtils.util.isCacheValid(t.oConfig.TILE_PROPERTIES.id,j,t.chipCacheTime,t.chipCacheTimeUnit,t.tilePressed);if((h&&!h.rightData)||!f||(!k&&t.oTileApi.visible.isVisible())||c||(i&&t.oTileApi.visible.isVisible())||t.getView().getViewData().refresh){if(t.kpiValueFetchDeferred){t.kpiValueFetchDeferred=false;var v=sap.ushell.components.tiles.indicatorTileUtils.util.prepareFilterStructure(this.oConfig.EVALUATION_FILTERS,this.oConfig.ADDITIONAL_FILTERS);var o={};o["0"]=m+",asc";o["1"]=m+",desc";o["2"]=d+",asc";o["3"]=d+",desc";var l=o[this.oConfig.TILE_PROPERTIES.sortOrder||"0"].split(",");var n=sap.ushell.components.tiles.indicatorTileUtils.util.prepareQueryServiceUri(t.oRunTimeODataModel,a,m,d,v,3);if(this.oConfig.TILE_PROPERTIES.semanticMeasure){n.uri+="&$top=3&$orderby="+l[0]+" "+l[2];}else{n.uri+="&$top=3&$orderby="+l[0]+" "+l[1];}this.comparisionChartODataRef=n.model.read(n.uri,null,null,true,function(w){t.kpiValueFetchDeferred=true;var x={};if(w&&w.results&&w.results.length){if(n.unit[0]){t._updateTileModel({unit:w.results[0][n.unit[0].name]});b=n.unit[0].name;x.unit=n.unit[0];x.unit.name=n.unit[0].name;}d=sap.ushell.components.tiles.indicatorTileUtils.util.findTextPropertyForDimension(t.oRunTimeODataModel,a,d);x.dimension=d;t.oConfig.TILE_PROPERTIES.FINALVALUE=w;t.oConfig.TILE_PROPERTIES.FINALVALUE=t._processDataForComparisonChart(t.oConfig.TILE_PROPERTIES.FINALVALUE,m.split(",")[0],d,b);x.data=t.oConfig.TILE_PROPERTIES.FINALVALUE;x.isCurM=t.isACurrencyMeasure(t.oConfig.EVALUATION.COLUMN_NAME);var y={};t.cacheTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();y.ChipId=t.oConfig.TILE_PROPERTIES.id;y.Data=JSON.stringify(x);y.CacheMaxAge=Number(t.chipCacheTime);y.CacheMaxAgeUnit=t.chipCacheTimeUnit;y.CacheType=1;var z=t.getLocalCache(y);t.updateDatajobScheduled=false;var A=t.oConfig.TILE_PROPERTIES.id+"data";var B=sap.ushell.components.tiles.indicatorTileUtils.util.getScheduledJob(A);if(B){clearTimeout(B);B=undefined;}if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,z);var U=false;if(f){U=true;}if(t.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.writeFrontendCacheByChipAndUserId(t.oTileApi,t.oConfig.TILE_PROPERTIES.id,y,U,function(w){if(w){t.cacheTime=w&&w.CachedTime;sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,w);}if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}});}}else{var D=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);if(D){if(!D.CachedTime){D.CachedTime=sap.ushell.components.tiles.indicatorTileUtils.util.getUTCDate();}var F=D.Data;if(F){F=JSON.parse(F);if(t.oKpiTileView.getViewName()=="tiles.indicatornumeric.NumericTile"){F.leftData=x;}else{F.rightData=x;}}D.Data=JSON.stringify(F);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,D);}else{var F={};F.rightData=x;z.Data=JSON.stringify(F);sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,z);}t.cacheWriteData=x;}s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(w.results.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=w;if(sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id)){x=sap.ushell.components.tiles.indicatorTileUtils.cache.getKpivalueById(t.oConfig.TILE_PROPERTIES.id);x.data=w;}else{x.data=w;}sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,x);s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{sap.ushell.components.tiles.indicatorTileUtils.cache.setKpivalueById(t.oConfig.TILE_PROPERTIES.id,{empty:"empty"});t.setNoData();}},function(w){t.kpiValueFetchDeferred=true;if(w&&w.response){jQuery.sap.log.error(w.message+" : "+w.request.requestUri);E.call(t,w);}});}}else{if(f&&f.Data){var p;var q=t.oConfig&&t.oConfig.TILE_PROPERTIES&&t.oConfig.TILE_PROPERTIES.tileType;if(q.indexOf("DT-")==-1){p=f.Data&&JSON.parse(f.Data);}else{p=f.Data&&JSON.parse(f.Data);p=p.rightData;}t.cacheTime=f.CachedTime;if(t.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(t.oConfig)){jQuery.proxy(t.setTimeStamp(t.cacheTime),t);}if(p.data&&p.data.length){if(p.unit){t._updateTileModel({unit:p.data[0][p.unit.name]});}d=p.dimension;t.oConfig.TILE_PROPERTIES.FINALVALUE=p.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);}else if(p&&p.data&&p.data instanceof Array&&p.data.length==0){t.oConfig.TILE_PROPERTIES.FINALVALUE=p.data;s.call(t,t.oConfig.TILE_PROPERTIES.FINALVALUE);t.setNoData();}else{t.setNoData();}}else{t.setNoData();}}}catch(e){t.kpiValueFetchDeferred=true;E.call(t,e);}},doProcess:function(r,i){var t=this;this.DEFINITION_DATA=this.oConfig;this._updateTileModel(this.DEFINITION_DATA);this.setTextInTile();this.fetchChartData(r,i,function(k){this.CALCULATED_KPI_VALUE=k;this._updateTileModel({data:this.CALCULATED_KPI_VALUE});if(t.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.TwoByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());t.getView().getViewData().deferredObj.resolve();}else{t.oKpiTileView.oGenericTile.setFrameType(sap.m.FrameType.OneByOne);t.oKpiTileView.oGenericTile.removeAllTileContent();t.oKpiTileView.oGenericTile.addTileContent(t.oKpiTileView.oNVConfS);this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(null,this.CALCULATED_KPI_VALUE,"CONT");if(this.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}},this.logError);},doDummyProcess:function(){var t=this;t.setTextInTile();t._updateTileModel({value:8888,size:sap.m.Size.Auto,frameType:sap.m.FrameType.OneByOne,state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Error,indicator:sap.m.DeviationIndicator.None,title:"US Profit Margin",footer:"Current Quarter",description:"Maximum deviation",data:[{title:"Americas",value:10,color:"Neutral"},{title:"EMEA",value:50,color:"Neutral"},{title:"APAC",value:-20,color:"Neutral"}]});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});return C;});
sap.ui.predefine('sap/ushell/components/tiles/indicatordeviation/DeviationTile.controller',['sap/ushell/components/tiles/generic'],function(g){"use strict";var D=g.extend("sap.ushell.components.tiles.indicatordeviation.DeviationTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;var f,b;f=t.targetValue;var d=Number(k);var e=this.setThresholdValues();if(this.oConfig.EVALUATION.SCALING==-2){d*=100;}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);b=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(d),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);this.CALCULATED_KPI_VALUE=Number(k);var h={};var i=this.getThresholdsObjAndColor(t).returnColor;var j={value:Number(k),color:i};h.actualValueLabel=b.toString();h.actual=j;h.thresholds=[];h.thresholds=this.getThresholdsObjAndColor(t).arrObj;var l=this.DEFINITION_DATA.EVALUATION_VALUES;if(this.DEFINITION_DATA.EVALUATION.VALUES_SOURCE=="MEASURE"){var m=Number(f);if(this.oConfig.EVALUATION.SCALING==-2){m*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(m,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);h.targetValue=Number(m);h.targetValueLabel=f.toString();}else{for(var n=0;n<l.length;n++){if(l[n].TYPE==="TA"){var m=Number(f);if(this.oConfig.EVALUATION.SCALING==-2){m*=100;}c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);f=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(m,this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);h.targetValue=Number(m);h.targetValueLabel=f.toString();}}}if(this.oConfig.EVALUATION.SCALING==-2){h.scale="%";}this._updateTileModel(h);if(this.DEFINITION_DATA.TILE_PROPERTIES.frameType==sap.m.FrameType.TwoByOne){a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+"defferedRight",false);}else{this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}this.setToolTip(i,d,"DT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime&&!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,this.oTileApi.visible.isVisible());}}},getThresholdsObjAndColor:function(t){try{var T={};T.arrObj=[];T.returnColor=sap.m.ValueColor.Neutral;var i=this.DEFINITION_DATA.EVALUATION.GOAL_TYPE;var w,c,a,b;if(i==="MI"){a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;if(a&&b){a=window.parseFloat(a);b=window.parseFloat(b);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<b){T.returnColor=sap.m.ValueColor.Good;}else if(this.CALCULATED_KPI_VALUE<=a){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Error;}}}else if(i==="MA"){c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(c&&w){c=window.parseFloat(c);w=window.parseFloat(w);T.arrObj.push({value:c,color:sap.m.ValueColor.Error});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});if(this.CALCULATED_KPI_VALUE<c){T.returnColor=sap.m.ValueColor.Error;}else if(this.CALCULATED_KPI_VALUE<=w){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}else{a=Number(t.criticalHighValue)||0;b=Number(t.warningHighValue)||0;c=Number(t.criticalLowValue)||0;w=Number(t.warningLowValue)||0;if(w&&b&&c&&c){a=window.parseFloat(a);b=window.parseFloat(b);w=window.parseFloat(w);c=window.parseFloat(c);T.arrObj.push({value:a,color:sap.m.ValueColor.Error});T.arrObj.push({value:b,color:sap.m.ValueColor.Critical});T.arrObj.push({value:w,color:sap.m.ValueColor.Critical});T.arrObj.push({value:c,color:sap.m.ValueColor.Error});if(this.CALCULATED_KPI_VALUE<c||this.CALCULATED_KPI_VALUE>a){T.returnColor=sap.m.ValueColor.Error;}else if((this.CALCULATED_KPI_VALUE>=c&&this.CALCULATED_KPI_VALUE<=w)||(this.CALCULATED_KPI_VALUE>=b&&this.CALCULATED_KPI_VALUE<=a)){T.returnColor=sap.m.ValueColor.Critical;}else{T.returnColor=sap.m.ValueColor.Good;}}}return T;}catch(e){this.logError(e);}},doDummyProcess:function(){var t=this;this.setTextInTile();t._updateTileModel({actual:{value:120,color:sap.m.ValueColor.Good},targetValue:100,thresholds:[{value:0,color:sap.m.ValueColor.Error},{value:50,color:sap.m.ValueColor.Critical},{value:150,color:sap.m.ValueColor.Critical},{value:200,color:sap.m.ValueColor.Error}],showActualValue:true,showTargetValue:true});this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});return D;});
sap.ui.predefine('sap/ushell/components/tiles/indicatornumeric/NumericTile.controller',['sap/ushell/components/tiles/generic'],function(g){"use strict";var N=g.extend("sap.ushell.components.tiles.indicatornumeric.NumericTile",{onInit:function(){this.KPI_VALUE_REQUIRED=true;},doProcess:function(k,t){var a=this;this.CALCULATED_KPI_VALUE=k;this.DEFINITION_DATA.EVALUATION_VALUES;var b=this.getTrendColor(t);var d=this.getTrendIndicator(t.trendValue);var s="";var e=this.CALCULATED_KPI_VALUE;if(this.oConfig.EVALUATION.SCALING==-2){e*=100;this.getView().oNVConfContS.setFormatterValue(false);}var c=this.isCurrencyMeasure(this.oConfig.EVALUATION.COLUMN_NAME);s=sap.ushell.components.tiles.indicatorTileUtils.util.getLocaleFormattedValue(Number(e),this.oConfig.EVALUATION.SCALING,this.oConfig.EVALUATION.DECIMAL_PRECISION,c,this.CURRENCY_CODE);if(this.oConfig.EVALUATION.SCALING==-2){this._updateTileModel({scale:"%"});}this._updateTileModel({value:s.toString(),valueColor:b,indicator:d});if(a.oConfig.TILE_PROPERTIES.frameType==sap.m.FrameType.OneByOne){this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);this.setToolTip(b,e,"NT");}else{a.getView().getViewData().parentController._updateTileModel(this.getTile().getModel().getData());a.getView().getViewData().deferredObj.resolve();sap.ushell.components.tiles.indicatorTileUtils.util.setUnsetCallInProgress(a.oConfig.TILE_PROPERTIES.id+"defferedLeft",false);}this.setToolTip(b,e,"NT");if(!sap.ushell.components.tiles.indicatorTileUtils.util.isDualTile(this.oConfig)){if(a.chipCacheTime){sap.ushell.components.tiles.indicatorTileUtils.util.scheduleFetchDataJob.call(this,a.oTileApi.visible.isVisible());}}},doDummyProcess:function(){var t=this;this.setTextInTile();if(!(t.oConfig.BLANKTILE||t.oConfig.TILE_PROPERTIES.blankTile)){t._updateTileModel({value:"10.34",scale:"M",valueColor:sap.m.ValueColor.Neutral,indicator:sap.m.DeviationIndicator.None});}else{this.oKpiTileView.oNVConfContS.setIcon('sap-icon://BusinessSuiteInAppSymbols/icon-multiple-charts');}this.oKpiTileView.oGenericTile.setState(sap.m.LoadState.Loaded);}});return N;});
sap.ui.predefine('sap/ushell/components/tiles/indicatornumeric/NumericTile.view',['sap/ui/core/mvc/JSView','sap/ui/model/analytics/odata4analytics','sap/ushell/components/tiles/indicatorTileUtils/smartBusinessUtil'],function(J,o,s){"use strict";sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("sap.ushell.components.tiles.indicatornumeric.NumericTile",{getControllerName:function(){return"sap.ushell.components.tiles.indicatornumeric.NumericTile";},createContent:function(c){var h="Lorem ipsum";var a="Lorem ipsum";var t=sap.ushell.components.tiles.indicatorTileUtils.util.getTileTitleSubtitle(this.getViewData().chip);if(t.title&&t.subTitle){h=t.title;a=t.subTitle;}var g={subheader:a,header:h,footerNum:"",footerComp:"",scale:"",unit:"",value:"",size:"Auto",frameType:"OneByOne",state:sap.m.LoadState.Loading,valueColor:sap.m.ValueColor.Neutral,indicator:sap.m.DeviationIndicator.None,title:"",footer:"",description:""};this.oNVConfContS=new sap.m.NumericContent({value:"{/value}",scale:"{/scale}",unit:"{/unit}",indicator:"{/indicator}",valueColor:"{/valueColor}",size:"{/size}",formatterValue:true,truncateValueTo:5,nullifyValue:false});this.oNVConfS=new sap.ushell.components.tiles.sbtilecontent({unit:"{/unit}",size:"{/size}",footer:"{/footerNum}",content:this.oNVConfContS});this.oGenericTile=new sap.m.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[this.oNVConfS]});var G=new sap.ui.model.json.JSONModel();G.setData(g);this.oGenericTile.setModel(G);return this.oGenericTile;}});},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/search/HashChangeHandler',['sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/SearchHelper'],function(S,a){"use strict";var m=sap.ushell.renderers.fiori2.search.HashChangeHandler={};jQuery.extend(m,{handle:function(h){if(!a.isLoggingEnabled()){return;}var t=this;t.sourceUrlArray=[];if(h.oldShellHash!==null){t.sourceUrlArray.push(h.oldShellHash);}if(h.oldAppSpecificRoute!==null){if(h.oldAppSpecificRoute.substring(0,2)==="&/"){t.sourceUrlArray.push(h.oldAppSpecificRoute.substring(2));}else{t.sourceUrlArray.push(h.oldAppSpecificRoute);}}t._createSearchModel().then(function(){var e={type:"ITEM_NAVIGATE",sourceUrlArray:this.sourceUrlArray,targetUrl:"#"+h.newShellHash,systemAndClient:this._getSID()};if(e.targetUrl.indexOf("=")!==-1){this.searchModel.sinaNext.logUserEvent(e);}}.bind(this));},_createSearchModel:function(){var t=this;if(t.initializedDeferred){return t.initializedDeferred;}t.searchModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.initializedDeferred=t.searchModel.initBusinessObjSearch();return t.initializedDeferred;},_getSID:function(){var s={"systemId":"","client":""};var u=window.location.href;var b=u.indexOf("sap-system=sid(");if(b!==-1){var c=u.substring(b).indexOf(")");if(c!==-1){var d=u.substring(b+15,b+c);if(d.split(".").length===2){s.systemId=d.split(".")[0];s.client=d.split(".")[1];}}}return s;}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchFacetDialogHelper',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper');var m=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelper={};jQuery.extend(m,{init:function(d){var t=this;t.POS_FACET_LIST=0;t.POS_TOOLBAR_SEARCHFIELD=0;t.POS_TOOLBAR_TOGGLEBUTTON=1;t.POS_SETTING_CONTAINER=0;t.POS_ATTRIBUTE_LIST_CONTAINER=1;t.POS_ICONTABBAR=0;t.POS_TABBAR_LIST=0;t.POS_TABBAR_CONDITION=1;t.POS_SORTING_SELECT=0;t.POS_SHOWONTOP_CHECKBOX=1;t.POS_ADVANCED_CHECKBOX=0;t.POS_ADVANCED_INPUT_LAYOUT=1;t.POS_ADVANCED_BUTTON=2;t.bResetFilterIsActive=false;var n={"decimals":2};t.oNumberFormat=sap.ui.core.format.NumberFormat.getFloatInstance(n);t.oDateFormatOptions={"pattern":"yyyy/MM/dd","UTC":false};t.oTimestampFormatOptions={"pattern":"yyyy-MM-dd HH:mm:ss.SSSSSSS","UTC":true};t.oDateFormat=sap.ui.core.format.DateFormat.getDateTimeInstance(t.oDateFormatOptions);t.dialog=d;},getFacetList:function(){var t=this;return t.dialog.oSplitContainer.getMasterPages()[0].getContent()[t.POS_FACET_LIST];},updateDetailPage:function(l,f,i){var t=this;var M=t.dialog.getModel();var s=t.dialog.getModel('searchModel');var b=l.getBindingContext().sPath;var S=M.getProperty(b);var d=M.getAttributeDataType(S);var a=this.getFacetList().indexOfAggregation("items",l);var D=t.dialog.oSplitContainer.getDetailPages()[a];var o,c,A,e;if(d==="string"||d==="text"){o=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];c=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];A=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_CONDITION].getContent()[0];e=D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_SETTING_CONTAINER];}else{o=D.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];c=D.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];A=D.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];e=D.getContent()[t.POS_SETTING_CONTAINER];}var n=D.getId();t.dialog.oSplitContainer.toDetail(n,"show");t.dialog.resetIcons(M,b,t.dialog);o.setBusy(true);var p={sAttribute:S.dimension,sBindingPath:b,sAttributeLimit:1000,bInitialFilters:i};if(d==="number"){p.sAttributeLimit=20;}if(!M.chartQuery){M.chartQuery=M.sinaNext.createChartQuery({filter:M.getProperty("/uiFilter").clone(),dimension:S.dimension,top:1000});}t.applyChartQueryFilter(a);if(f){var g=M.sinaNext.createSimpleCondition({attribute:S.dimension,operator:M.sinaNext.ComparisonOperator.Bw,value:f});if(!t.bResetFilterIsActive){M.chartQuery.filter.autoInsertCondition(g);}}else{if(f===undefined&&(d==="string"||d==="text")){D.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getSubHeader().getContent()[t.POS_TOOLBAR_SEARCHFIELD].setValue('');}}M.chartQuery.filter.searchTerm=s.getSearchBoxTerm();M.facetDialogSingleCall(p).then(function(){var I=M.getProperty(D.getBindingContext().sPath).items;if(A.data('initial')){t.initiateAdvancedConditions(A,I,A.data('dataType'));}var C=e.getItems()[t.POS_SHOWONTOP_CHECKBOX];if(c.getSelectedContexts().length>0){C.setEnabled(true);}t.updateDetailPageListItemsSelected(c,A);t.dialog.updateDetailPageCharts(I,M);});},applyChartQueryFilter:function(e){var t=this;t.dialog.getModel().resetChartQueryFilterConditions();var d=t.dialog.oSplitContainer.getDetailPages();for(var i=0;i<d.length;i++){if(i===e||d[i].getContent().length===0){continue;}var l;if(!d[i].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER]){l=d[i].getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];}else{l=d[i].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];}for(var j=0;j<l.getItems().length;j++){var L=l.getItems()[j];var o=L.getBindingContext().getObject();var f=o.filterCondition;if(f.attribute||f.conditions){if(L.getSelected()&&!t.bResetFilterIsActive){t.dialog.getModel().chartQuery.filter.autoInsertCondition(f);}}}t.applyAdvancedCondition(d[i],t.getFacetList().getItems()[i].getBindingContext().getObject(),t.dialog.getModel());}},resetChartQueryFilters:function(){var t=this;t.dialog.getModel().resetChartQueryFilterConditions();var d=t.dialog.oSplitContainer.getDetailPages();for(var i=0;i<d.length;i++){if(d[i].getContent().length===0){continue;}var l;if(!d[i].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER]){l=d[i].getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_LIST].getContent()[0].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];}else{l=d[i].getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];}for(var j=0;j<l.getItems().length;j++){var L=l.getItems()[j];var o=L.getBindingContext().getObject();var f=o.filterCondition;if(f.attribute||f.conditions){if(L.getSelected()){L.setSelected(false);t.dialog.getModel().removeFilterCondition(f,false);}}}}},applyAdvancedCondition:function(d,f,a){var t=this;var b=t.dialog.getModel();var D,A,k,o,c,e,g,C;if(d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER]){var l=d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];D=l.data('dataType');A=l.getContent();switch(D){case'timestamp':t.oDateFormat=sap.ui.core.format.DateFormat.getDateTimeInstance(t.oTimestampFormatOptions);case'date':for(k=1;k<A.length;k++){o=A[k];c=o.getContent()[t.POS_ADVANCED_CHECKBOX];var h=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT];if(c.getSelected()&&h.getDateValue()&&h.getSecondDateValue()){var i=t.oDateFormat.format(h.getDateValue());var s=t.oDateFormat.format(new Date(h.getSecondDateValue().getTime()+86400000-1));e=b.sinaNext.createSimpleCondition({attribute:f.dimension,attributeLabel:f.title,operator:b.sinaNext.ComparisonOperator.Ge,value:(D==='timestamp')?h.getDateValue():i,valueLabel:i});g=b.sinaNext.createSimpleCondition({attribute:f.dimension,attributeLabel:f.title,operator:b.sinaNext.ComparisonOperator.Le,value:(D==='timestamp')?h.getSecondDateValue():s,valueLabel:s});C=b.sinaNext.createComplexCondition({valueLabel:h.getValue(),operator:b.sinaNext.LogicalOperator.And,conditions:[e,g],userDefined:true});if(!t.bResetFilterIsActive){a.addFilterCondition(C,false);}}}break;case'number':for(k=1;k<A.length;k++){o=A[k];c=o.getContent()[t.POS_ADVANCED_CHECKBOX];var j=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];var n=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[2];var p=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];var q=t.oNumberFormat.parse(j.getValue());var r=t.oNumberFormat.parse(n.getValue());if(c.getSelected()&&q>=0&&r>=0){e=b.sinaNext.createSimpleCondition({attribute:f.dimension,attributeLabel:f.title,operator:b.sinaNext.ComparisonOperator.Ge,value:q,valueLabel:t.oNumberFormat.format(q),userDefined:true});g=b.sinaNext.createSimpleCondition({attribute:f.dimension,attributeLabel:f.title,operator:b.sinaNext.ComparisonOperator.Le,value:r,valueLabel:t.oNumberFormat.format(r),userDefined:true});C=b.sinaNext.createComplexCondition({valueLabel:t.oNumberFormat.format(q)+p.getText()+t.oNumberFormat.format(r),operator:b.sinaNext.LogicalOperator.And,conditions:[e,g],userDefined:true});if(!t.bResetFilterIsActive){a.addFilterCondition(C,false);}}}break;default:break;}}else{var u=d.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_CONDITION].getContent()[0];D=u.data('dataType');A=u.getContent();var v,w,x,F,O;switch(D){case'string':for(k=0;k<A.length-1;k++){o=A[k];v=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];w=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];x=w.getValue();switch(v.getSelectedKey()){case'eq':O=b.sinaNext.ComparisonOperator.Eq;break;case'ew':O=b.sinaNext.ComparisonOperator.Ew;break;case'bw':O=b.sinaNext.ComparisonOperator.Bw;break;case'co':O=b.sinaNext.ComparisonOperator.Co;break;default:O=b.sinaNext.ComparisonOperator.Eq;break;}if(w.getValue()){F=b.sinaNext.createSimpleCondition({attribute:f.dimension,attributeLabel:f.title,operator:O,value:x,valueLabel:x,userDefined:true});if(!t.bResetFilterIsActive){a.addFilterCondition(F,false);}}}break;case'text':for(k=0;k<A.length-1;k++){o=A[k];v=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[0];w=o.getContent()[t.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];x=w.getValue();switch(v.getSelectedKey()){case'co':O=b.sinaNext.ComparisonOperator.Co;break;default:O=b.sinaNext.ComparisonOperator.Eq;}if(w.getValue()){F=b.sinaNext.createSimpleCondition({attribute:f.dimension,attributeLabel:f.title,operator:O,value:x,valueLabel:x,userDefined:true});if(!t.bResetFilterIsActive){a.addFilterCondition(F,false);}}}break;default:break;}}},initiateAdvancedConditions:function(a,I,t){var b=this;var c,C,o,d,e;for(var i=I.length;i>0;i--){var f=I[i-1];if(f.advanced){c=a.getContent();if(t==="string"||t==="text"){C=c[c.length-2];}else{C=c[c.length-1];}o=C.getContent()[b.POS_ADVANCED_CHECKBOX];o.setSelected(true);d=C.getContent()[b.POS_ADVANCED_INPUT_LAYOUT];switch(t){case'number':var g=d.getContent()[0];var h=d.getContent()[2];if(f.filterCondition.conditions){for(var j=0;j<f.filterCondition.conditions.length;j++){var k=f.filterCondition.conditions[j];if(k.operator==="Ge"){g.setValue(k.valueLabel||b.oNumberFormat.format(k.value));}if(k.operator==="Le"){h.setValue(k.valueLabel||b.oNumberFormat.format(k.value));}}}break;case'string':e=f.filterCondition.operator;if(e==="Co"){d.getContent()[0].setSelectedKey('co');}else if(e==="Ew"){d.getContent()[0].setSelectedKey('ew');}else if(e==="Bw"){d.getContent()[0].setSelectedKey('bw');}d.getContent()[1].setValue(f.filterCondition.valueLabel);break;case'text':e=f.filterCondition.operator;if(e==="Co"){d.getContent()[0].setSelectedKey('co');}d.getContent()[1].setValue(f.filterCondition.valueLabel);break;default:d.setValue(f.label);break;}b.insertNewAdvancedCondition(C,t);b.dialog.getModel().changeFilterAdvaced(f,true);}}a.data('initial',false);},updateDetailPageListItemsSelected:function(d,a){var t=this;var D=a.data('dataType');t.sortingAttributeList(d.getParent().getParent());d.getParent().setBusy(false);if(D==="date"||D==="number"){d.focus();}},removeAdvancedCondition:function(a,l,t){var b=this;var c=a.getContent();var C,I,d;if(t==="string"||t==="text"){for(var i=0;i<c.length-1;i++){C=c[i];I=C.getContent()[b.POS_ADVANCED_INPUT_LAYOUT].getContent()[1];if(I.getProperty('value')){var v=I.getValue();var L=l.getBindingContext().getObject();if(v===L.filterCondition.value){d=i;break;}}}}a.removeContent(d);},sortingAttributeList:function(d){var t=this;var s=d.getContent()[t.POS_SETTING_CONTAINER];var S=s.getItems()[t.POS_SORTING_SELECT].getItems()[0];var c=s.getItems()[t.POS_SHOWONTOP_CHECKBOX];var l=d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER].getContent()[0];var D=l.data('dataType');var b=l.getBinding("items");var a=[];if(c.getSelected()){a.push(new sap.ui.model.Sorter("selected",true,false));}switch(S.getSelectedKey()){case"sortName":a.push(new sap.ui.model.Sorter("label",false,false));break;case"sortCount":a.push(new sap.ui.model.Sorter("value",true,false));if(D==="string"||D==="text"){a.push(new sap.ui.model.Sorter("label",false,false));}break;default:break;}b.sort(a);},insertNewAdvancedCondition:function(a,t){var A=a.getParent();var n=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:t});if(t==="string"||t==="text"){var i=A.getAggregation("content").length-1;A.insertAggregation("content",n,i);}else{var b=A.indexOfAggregation("content",a);if(b===(A.getAggregation("content").length-1)){A.addContent(n);}}},deleteAdvancedCondition:function(a){var t=this;var A=a.getParent();var d=a.getParent().getParent().getParent().getParent().getParent();A.removeAggregation("content",a);t.updateCountInfo(d);},updateCountInfo:function(d){var t=this;var M=t.getFacetList();var o=M.getSelectedItem();if(!o){o=M.getItems()[0];}var a=o.getBindingContext().oModel;var s=o.getBindingContext().sPath;var D=a.getProperty(s).dimension;var f=t.dialog.getModel().aFilters;var c=0;for(var j=0;j<f.length;j++){if(!f[j].advanced&&f[j].facetAttribute===D){c++;}}var b=a.getAttributeDataType(a.getProperty(s));var A,e,i,C,g;var h=0;if(b==="string"||b==="text"){A=d.getContent()[t.POS_ICONTABBAR].getItems()[t.POS_TABBAR_CONDITION].getContent()[0];e=A.getContent().length-1;for(i=0;i<e;i++){C=A.getContent()[i];g=C.getContent()[0];if(g.getSelected()){h++;}}}else{A=d.getContent()[t.POS_ATTRIBUTE_LIST_CONTAINER];e=A.getContent().length;for(i=1;i<e;i++){C=A.getContent()[i];g=C.getContent()[0];if(g.getSelected()){h++;}}}var F=a.getProperty(s).facetType;if(F==="attribute"){var k=c+h;a.setProperty(s+"/count",k);t.dialog.resetEnabledForFilterResetButton();}}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchFacetDialogHelperCharts',['sap/base/Log'],function(L){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchFacetDialogHelperCharts');var m=sap.ushell.renderers.fiori2.search.SearchFacetDialogHelperCharts={};jQuery.extend(m,{init:function(d){this.dialog=d;},getBarChartPlaceholder:function(){var t=this;var c;c=new sap.suite.ui.microchart.ComparisonMicroChart({height:"90%",width:"100%",colorPalette:"",tooltip:""});c.addStyleClass('largeChart1barchart');var b=new sap.ui.model.Filter("value",sap.ui.model.FilterOperator.GT,0);var B={path:"items",factory:function(i,C){var o=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{label}',value:'{value}',color:{path:'selected',formatter:function(v){var r=sap.m.ValueColor.Good;if(!v){r=sap.m.ValueColor.Neutral;}return r;}},displayValue:'{valueLabel}',press:function(e){t.dialog.onDetailPageSelectionChangeCharts(e);}});return o;},filters:[b]};c.bindAggregation("data",B);c.setBusyIndicatorDelay(0);return c;},testWhetherPieWedgeOrLabelIsDummy:function(E){var r=false;var l="";var p=0,a=0;try{l=JSON.stringify(E.getParameters().data[0].data).split("\"")[3];p=l.match(/\d+/g)[0];a=l.match(/\d+/g)[1];if(l===sap.ushell.resources.i18n.getText("facetPieChartOverflowText2",[p,a])){r=true;}else if(l===sap.ushell.resources.i18n.getText("facetPieChartOverflowText2",[a,p])){r=true;}}catch(e){}return r;},getPieChartPlaceholder2:function(){var t=this;var c;c=new sap.viz.ui5.controls.VizFrame({width:"100%",vizType:"info/pie",selectData:function(e){if(!t.testWhetherPieWedgeOrLabelIsDummy(e)){t.dialog.onDetailPageSelectionChangeCharts(e);}},deselectData:function(e){if(!t.testWhetherPieWedgeOrLabelIsDummy(e)){t.dialog.onDetailPageSelectionChangeCharts(e);}}});c.attachRenderComplete(function(e){var b=[];var I;var s=this.getBindingContext().getObject().items4pie;if(!s){return c;}for(var i=0;i<s.length;i++){I=s[i];if(I.selected===true){b.push({data:{Label:(I.label)}});}}var g={clearSelection:true};c.vizSelection(b,g);var h,k,l;var n,o,q,r;h=e.getSource().sId;n=$("#"+h+" .v-legend-marker").last();o=$("#"+h+" .v-legend-item").last();if(this.getBindingContext().getObject().items4pie[0].percentageMissingInBigPie>0){q=$("#"+h+" .v-legend-item").length-1;r=$("#"+h+" .v-datapoint-group").children();for(var j=0;j<r.length;j++){l=r[j];k=l.getAttribute("data-id");k=parseInt(k,10);if(k===q){l.remove();break;}}n.attr("fill-opacity","0");n.attr("stroke-opacity","1");n.attr("stroke","black");n.attr("stroke-width","0.5");o.unbind();o.off();}var u=$("#"+h+" .v-background-body");u.unbind();u.off();});c.setVizProperties({legendGroup:{linesOfWrap:0,layout:{maxWidth:0.5}},title:{visible:false},interaction:{selectability:{mode:"multiple"}}});c.addStyleClass('largeChart2piechart');var p=new sap.ui.model.Filter("pieReady",sap.ui.model.FilterOperator.EQ,true);var d=new sap.viz.ui5.data.FlattenedDataset({dimensions:[{name:'Label',value:"{label}"}],measures:[{name:'Value',value:'{valueLabel}'}],data:{path:"items4pie",filters:[p]}});var f=new sap.viz.ui5.controls.common.feeds.FeedItem({uid:"size",type:"Measure",values:["Value"]});var a=new sap.viz.ui5.controls.common.feeds.FeedItem({uid:"color",type:"Dimension",values:["Label"]});c.setDataset(d);c.addFeed(f);c.addFeed(a);return c;},getPieChartPlaceholder:function(){var t=this;var c;var p={};p.oSearchFacetDialog=t.dialog;c=new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart(p);c.addStyleClass('largeChart2piechart');sap.ui.core.ResizeHandler.register(c,function(e){var s=0;var a=0;if(e.target.firstChild){s=parseInt(window.getComputedStyle(e.target.firstChild,null).getPropertyValue("transform-origin").split(" ")[0],10);a=(e.size.width/2)-s;e.target.firstChild.style.marginLeft=a+"px";}});return c;},getHeaderWithDropDown:function(t){var a=this;var c=a.getDropDownButton();var l=new sap.m.Label({text:t});var h=new sap.m.Bar({translucent:true,design:sap.m.BarDesign.Header,contentMiddle:[l,c]});h.addStyleClass("sapUshellSearchFacetDialogTabBarHeader");return h;},setDummyTabBarItems:function(c){c.tabBarItems=[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetList"),icon:"sap-icon://list",key:'list'+arguments[0]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:'barChart'+arguments[0]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:'pieChart'+arguments[0]})];c.chartOnDisplayIndex=0;},getDropDownButton:function(c){var b=[];var B;var d=new sap.m.Button({icon:c.tabBarItems[c.chartOnDisplayIndex].getIcon()});for(var i=0;i<c.tabBarItems.length;i++){B=new sap.m.Button({text:c.tabBarItems[i].getText(),icon:c.tabBarItems[i].getIcon(),press:function(E){var g,h;h=E.getSource().sId;g=document.getElementById(h).dataset.facetViewIndex;g=parseInt(g,10);c.chartOnDisplayIndex=g;if(c.chartOnDisplayIndex===0){$(".sapUshellSearchFacetDialogSettingsContainer").css('display','block');}else{$(".sapUshellSearchFacetDialogSettingsContainer").css('display','none');}c.chartOnDisplayIndexByFilterArray[c.facetOnDisplayIndex]=g;var j=c.tabBarItems[c.chartOnDisplayIndex].getIcon();d.setIcon(j);var e=c.tabBarItems[c.chartOnDisplayIndex].getText();var f=sap.ushell.resources.i18n.getText('displayAs',[e]);d.setTooltip(f);var k=$(".sapUshellSearchFacetDialogFacetList")[0];if(k){var F=sap.ui.getCore().byId(k.id);if(!F.getSelectedItem()){F.setSelectedItem(F.getItems()[0]);}F.fireSelectionChange({listItem:F.getSelectedItem()});}c.controlChartVisibility(c,g);}});B.data("facet-view-index",""+i,true);b.push(B);}var a=new sap.m.ActionSheet({showCancelButton:true,buttons:b,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(){L.info("sap.m.ActionSheet: cancelButton is pressed");}});d.addStyleClass("sapUshellSearchFacetDialogTabBarButton");var e=c.tabBarItems[c.chartOnDisplayIndex].getText();var f=sap.ushell.resources.i18n.getText('displayAs',[e]);d.setTooltip(f);d.attachPress(function(E){a.openBy(this);});return d;},getListContainersForDetailPage:function(){var t,b,p;var r=[];var a=0;var c=440;var s=$(".searchFacetLargeChartContainer");for(var i=0;i<s.length;i++){if(s[i].clientHeight>0){c=s[i].offsetParent.offsetParent.offsetParent.clientHeight;a=i;break;}}var d=$(".searchFacetLargeChartContainer")[a];if(d){var l=sap.ui.getCore().byId(d.id);var S,I,P;I=$('.sapUshellSearchFacetDialogSubheaderToolbar .sapMSF');S=$('.sapUshellSearchFacetDialogSortButton');P=d.firstChild.children;for(var j=0;j<P.length;j++){if(P[j].className){if(P[j].className.match(/sapMList/)){t=P[j];}else if(P[j].className.match(/barchart/)){b=P[j];}else if(P[j].className.match(/piechart/)){p=P[j];}}}r.push(d);r.push(l);r.push(c);r.push(t);r.push(b);r.push(p);r.push(S);r.push(I);}return r;}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchFacetsFormatter',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchFacetsFormatter');var c=sap.ushell.renderers.fiori2.search.SearchFacetsFormatter=function(){this.init.apply(this,arguments);};jQuery.sap.declare('sap.ushell.renderers.fiori2.search.Facet');var F=sap.ushell.renderers.fiori2.search.Facet=function(){this.init.apply(this,arguments);};jQuery.sap.declare('sap.ushell.renderers.fiori2.search.FacetItem');var d=sap.ushell.renderers.fiori2.search.FacetItem=function(){this.init.apply(this,arguments);};F.prototype={init:function(p){this.title=p.title;this.facetType=p.facetType;this.dimension=p.dimension;this.dataType=p.dataType;this.matchingStrategy=p.matchingStrategy;this.items=p.items||[];this.totalCount=p.totalCount;},hasFilterCondition:function(f){for(var i=0,l=this.items.length;i<l;i++){var a=this.items[i].filterCondition||this.items[i];if(a.equals&&a.equals(f)){return true;}}return false;},hasFilterConditions:function(){for(var i=0,l=this.items.length;i<l;i++){if(this.items[i].filterCondition){return true;}}return false;},removeItem:function(f){for(var i=0,l=this.items.length;i<l;i++){var a=this.items[i].filterCondition||this.items[i];if(a.equals&&f.filterCondition&&a.equals(f.filterCondition)){return this.items.splice(i,1);}}}};d.prototype={init:function(p){p=p||{};this.selected=p.selected||false;this.level=p.level||0;this.filterCondition=p.filterCondition;this.value=p.value||"";this.label=p.label||"";this.facetTitle=p.facetTitle||"";this.facetAttribute=p.facetAttribute||"";this.valueLabel=this.value;this.advanced=p.advanced||false;this.listed=p.listed||false;},equals:function(o){return(this.facetTitle===o.facetTitle&&this.label===o.label&&this.value===o.value&&this.filterCondition.equals(o.filterCondition));},clone:function(){var n=new sap.ushell.renderers.fiori2.search.FacetItem();n.facetTitle=this.facetTitle;n.selected=this.selected;n.label=this.label;n.level=this.level;n.value=this.value;n.valueLabel=this.valueLabel;n.filterCondition=this.filterCondition.clone();return n;}};c.prototype={init:function(m){this.model=m;},_getAncestorDataSources:function(s){var r=[];var a=s.dataSourceTree.findNode(s.getProperty("/uiFilter/dataSource")).getAncestors().reverse();for(var i=0;i<a.length;i++){var b=a[i].dataSource;var e=new d({label:b.labelPlural,filterCondition:b,level:0,value:a[i].count});r.push(e);}return r;},_getSiblingDataSources:function(s,l){var S=[];var a=s.getProperty("/uiFilter/dataSource");var b=s.dataSourceTree.findNode(a);var e;if(b.parent&&!b.unsureWhetherNodeisBelowRoot){e=b.parent.getChildren();}else{e=[];}if(e.length===0){e.push(b);}for(var j=0,f=e.length;j<f;j++){var g=e[j].dataSource;var h=new d({label:g.labelPlural,value:e[j].count,filterCondition:g,selected:a===g,level:l});S.push(h);if(h.selected){S.push.apply(S,this._getChildrenDataSources(s,l+1));}}return S;},_getChildrenDataSources:function(s,l){var C=[];var a=s.getProperty("/uiFilter/dataSource");var b=s.dataSourceTree.findNode(a).getChildren();for(var j=0,e=b.length;j<e;j++){var f=b[j].dataSource;var g=new d({label:f.labelPlural,value:b[j].count,filterCondition:f,selected:false,level:l});C.push(g);}return C;},getDataSourceFacetFromTree:function(s){var D=new F({facetType:"datasource",title:"Search In"});var a=s.getProperty("/uiFilter/dataSource");var A=this._getAncestorDataSources(s);D.items.push.apply(D.items,A);var S=this._getSiblingDataSources(s,s.allDataSource===a?0:1);D.items.push.apply(D.items,S);return D;},_createFacetItemsFromConditionGroup:function(r){var f=[];for(var i=0;i<r.conditions.length;i++){var a=r.conditions[i];for(var j=0;j<a.conditions.length;j++){var b=a.conditions[j];if(b.type===this.model.sinaNext.ConditionType.Simple){f.push(new d({facetAttribute:b.attribute,label:this._formatLabel(b.valueLabel,b.operator),filterCondition:b,selected:true}));}else{f.push(new d({facetAttribute:b.conditions[0].attribute,label:b.valueLabel,filterCondition:b,selected:true}));}}}return f;},_formatLabel:function(l,o){var a;switch(o){case'Bw':a=l+'*';break;case'Ew':a='*'+l;break;case'Co':a='*'+l+'*';break;default:a=l;break;}return a;},getAttributeFacetsFromPerspective:function(r,s){var D=s.getDataSource();if(D.type===s.sinaNext.DataSourceType.Category){return $.when([]);}var S=r.facets.filter(function(A){return A.type===s.sinaNext.FacetType.Chart;});var C=[];var a={};for(var i=0,l=S.length;i<l;i++){var o=S[i];var b=new F({title:o.title,facetType:'attribute',dimension:o.query.dimension,totalCount:r.totalCount});if(o.items.length===0){continue;}for(var j=0;j<o.items.length;j++){var f=o.items[j];var e=new d({facetAttribute:o.query.dimension,label:this._formatLabel(f.dimensionValueFormatted,f.filterCondition.operator),value:f.measureValue,filterCondition:f.filterCondition});e.facetTitle=o.title;e.serverSideItem=true;b.items.push(e);}a[o.query.dimension]=b;C.push(b);}this.addDataTypeToClientSideFacets(C,s);var g={};var h=this._createFacetItemsFromConditionGroup(s.getProperty("/uiFilter/rootCondition"));for(var k=0,p=h.length;k<p;k++){var q=h[k];var t=a[q.facetAttribute];if(t){var u=C.indexOf(t);if(u>0){C.splice(u,1);C.splice(0,0,t);}for(var m=0,v=t.items.length;m<v;m++){var w=t.items[m];if(q.filterCondition.equals(w.filterCondition)){w.selected=true;if(!s.config.multiSelect){w.value=null;w.valueLabel=null;}}}}g[q.facetAttribute]=t;}if(!s.config.multiSelect){for(var x in g){if(g.hasOwnProperty(x)){var y=g[x];for(var n=y.items.length-1;n>=0;n--){var z=y.items[n];if(!z.selected){y.items.splice(n,1);}}}}}return $.when(C);},addDataTypeToClientSideFacets:function(C,s){var D=s.getDataSource();for(var i=0;i<C.length;i++){var f=C[i];var m=D.getAttributeMetadata(f.dimension);f.dataType=m.type;}},getFacets:function(D,i,s){var f=[this.getDataSourceFacetFromTree(s)];if(D===s.appDataSource||D.type===s.sinaNext.DataSourceType.Category){return $.when(f);}if(!i){return $.when(f);}var a=this.getAttributeFacetsFromPerspective(i,s);var r=a.then(function(A){if(A.length>0){f.push.apply(f,A);}return f;});return r;},getFacetItemsWithFilterConditions:function(s){return this._createFacetItemsFromConditionGroup(s.getProperty("/uiFilter/rootCondition"));},getDialogFacetsFromMetaData:function(m,s){var S=jQuery.map(m.attributeMetadataMap,function(a){return a;});var C=[];for(var i=0,l=S.length;i<l;i++){var o=S[i];if(o.usage.Facet||o.usage.AdvancedSearch){var e=new F({title:o.label,facetType:"attribute",dimension:o.id,dataType:o.type,matchingStrategy:o.matchingStrategy});var f=this._createFacetItemsFromConditionGroup(s.getProperty("/uiFilter/rootCondition"));var g=0;for(var k=0,h=f.length;k<h;k++){var j=f[k];if(j.facetAttribute===e.dimension){g++;e.items.splice(0,0,j);}}e.count=g;C.push(e);}}C.sort(function(a,b){return a.title.localeCompare(b.title);});return C;},getDialogFacetsFromChartQuery:function(r,s,i){var C=new F({dimension:s.chartQuery.dimension});if(r){for(var j=0;j<r.items.length;j++){var f=r.items[j];var a=new d({value:f.measureValue,filterCondition:f.filterCondition,label:f.dimensionValueFormatted,facetAttribute:r.query.dimension});C.items.push(a);}var b;if(i){b=this._createFacetItemsFromConditionGroup(s.getProperty("/uiFilter/rootCondition"));}else{b=s.aFilters;}for(var k=0,l=b.length;k<l;k++){var S=b[k];if(S.facetAttribute===C.dimension){var e=false;for(var m=0,g=C.items.length;m<g;m++){var h=C.items[m];if(S.filterCondition.equals(h.filterCondition)){h.selected=true;e=true;}}if(!e){C.items.splice(C.items.length,0,S);if(S.filterCondition.userDefined){S.advanced=true;}else{S.listed=true;}}else{S.listed=true;}}}}return C;},hasDialogFacetsFromMetaData:function(s){var m=s.getDataSource();var S=jQuery.map(m.attributeMetadataMap,function(e){return e;});var h=false;for(var i=0,l=S.length;i<l;i++){var o=S[i];if(o.usage){if(o.usage.Facet||o.usage.AdvancedSearch){h=true;break;}}}return h;}};return c;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchHelper',['sap/m/MessageBox','sap/ui/core/format/NumberFormat','sap/ui/core/format/FileSizeFormat','jquery.sap.storage'],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchHelper');var m=sap.ushell.renderers.fiori2.search.SearchHelper={};m.Tester=function(){this.init.apply(this,arguments);};m.Tester.prototype={init:function(s,h,a,d){this.alphaNumeric='[a-zA-Z0-9]';this.nonAlphaNumeric='[^a-zA-Z0-9]';this.PL='(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312E-\u3130\u318F-\u319F\u31BB-\u31EF\u3200-\u33FF\u4DB6-\u4DFF\u9FD6-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2F\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEFF\uDF1A-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCE0-\uDCFE\uDD00-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD834\uD836-\uD839\uD83C-\uD83F\uD874-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE1-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDC02-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])';this.nonepL='(?:[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])';this.pL='(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])';s=s||"*";if(this.onlyAsteriskRegExp.test(s)){this.onlyAsterisk=true;}s=s.replace(/([.^=!:${}()|\+\-\[\]\/\\])/g,"\\$1");this.aSearchTerms=this.tokenizeSearchTerms(s);for(var j=0;j<this.aSearchTerms.length;++j){var b=this.aSearchTerms[j];b=b.replace(/\?/g,".");b=b.replace(/\*/g,".*?");var i=b.match(/[\u3400-\u9faf]/)!==null?true:false;if(i||a){b=new RegExp(b,'gi');}else{if(b.substr(-3)==='.*?'){b=b.substr(0,b.length-3)+this.pL+'*';}b=new RegExp('('+this.nonepL+'|^|\\s)('+b+')()','gi');}this.aSearchTerms[j]=b;}this.highlightStyle=h;if(!d){d='and';}this.bDisjunctionType=d;},onlyAsteriskRegExp:new RegExp('^[\\s*]*$'),test:function(t){var r={bMatch:false,sHighlightedText:''};if(!t){return r;}this.initializeBoldArray(t);this.globalBold=false;var R;var M;for(var j=0;j<this.aSearchTerms.length;++j){R=this.aSearchTerms[j];var l=-1;var L=false;while((M=R.exec(t))!==null){L=true;if(R.lastIndex===l){break;}l=R.lastIndex;var s=this.calStartIndex(t,M.index);if(s<0){continue;}l=this.calLastIndex(t,s,R.lastIndex);this.markBoldArray(s,l);}switch(this.bDisjunctionType){case'or':if(L){r.bMatch=true;}break;case'and':default:if(!L){return r;}break;}}r.bMatch=true;if(this.onlyAsterisk){r.sHighlightedText=t;}else{r.sHighlightedText=this.render(t);}return r;},calStartIndex:function(t,s){t=t.substring(s);var r=new RegExp(this.pL);var a=r.exec(t);if(!a){return s;}return a.index+s;},calLastIndex:function(t,s,l){t=t.substring(l,l);var r=new RegExp(this.nonepL);var a=r.exec(t);if(!a){return l;}return l-1;},tokenizeSearchTerms:function(t){var a=t.split(" ");var n=[];$.each(a,function(i,b){b=$.trim(b);if(b.length>0&&b!=='.*'){n.push(b);}});return n;},initializeBoldArray:function(t){this.bold=new Array(t.length);for(var i=0;i<this.bold.length;++i){this.bold[i]=false;}},markBoldArray:function(n,a){for(var i=n;i<a;i++){this.bold[i]=true;this.globalBold=true;}},render:function(o){if(!this.globalBold){return o;}var b=false;var r=[];var s=0;var i;for(i=0;i<o.length;++i){if((!b&&this.bold[i])||(b&&!this.bold[i])){r.push(o.substring(s,i));if(b){r.push("</b>");}else{if(this.highlightStyle){r.push('<b class="'+this.highlightStyle+'">');}else{r.push("<b>");}}b=!b;s=i;}}r.push(o.substring(s,i));if(b){r.push("</b>");}return r.join("");}};m.delayedExecution=function(o,d){var t=null;var a=function(){var b=arguments;var c=this;if(t){window.clearTimeout(t);}t=window.setTimeout(function(){t=null;o.apply(c,b);},d);};a.abort=function(){if(t){window.clearTimeout(t);}};return a;};m.refuseOutdatedRequests=function(o,r){var l=0;var d=function(){var a=arguments;var t=this;var b=++l;var c=new jQuery.Deferred();o.apply(t,a).done(function(){if(b!==l){return;}c.resolve.apply(c,arguments);}).fail(function(){if(b!==l){return;}c.reject.apply(c,arguments);});return c;};d.abort=function(){++l;};if(r){m.outdatedRequestAdministration.registerDecorator(r,d);}return d;};m.abortRequests=function(r){var d=m.outdatedRequestAdministration.getDecorators(r);for(var i=0;i<d.length;++i){var a=d[i];a.abort();}};m.outdatedRequestAdministration={decoratorMap:{},registerDecorator:function(r,d){var a=this.decoratorMap[r];if(!a){a=[];this.decoratorMap[r]=a;}a.push(d);},getDecorators:function(r){var d=this.decoratorMap[r];if(!d){d=[];}return d;}};m.boldTagUnescaper=function(d,h){var i=d.innerHTML;var b='';var a='';if(h){b='&lt;b class="'+h+'"&gt;';a='<b class="'+h+'">';}else{b='&lt;b&gt;';a='<b>';}var c='&lt;/b&gt;';var e='</b>';while(i.indexOf(b)+i.indexOf(c)>=-1){i=i.replace(b,a);i=i.replace(c,e);}while(i.indexOf('&lt;i&gt;')+i.indexOf('&lt;/i&gt;')>=-1){i=i.replace('&lt;i&gt;','<i>');i=i.replace('&lt;/i&gt;','</i>');}while(i.indexOf('&lt;span&gt;')+i.indexOf('&lt;/span&gt;')>=-1){i=i.replace('&lt;span&gt;','<span>');i=i.replace('&lt;/span&gt;','</span>');}d.innerHTML=i;};m.boldTagUnescaperByText=function(d){var a=$(d);var s=a.text().replace(/<b>/gi,'').replace(/<\/b>/gi,'');if(s.indexOf('<')===-1){a.html(a.text());}};m.forwardEllipsis4Whyfound=function(d){var a=$(d);var w=d.offsetWidth;var o=d.offsetLeft;var b=d.scrollWidth;if(b>w){a.find("b").each(function(){var p=this.offsetLeft-o;var c=this.offsetWidth;var t;if(p+c>w){var i=d.innerHTML.indexOf(this.outerHTML);if(c>w){if(d.innerHTML.substring(0,i).trim().length>0){t="... "+d.innerHTML.substring(i);a.html(t);}}else{var l;var e=d.innerHTML.substring(0,i).trim();t=d.innerHTML.substring(i).trim();var f=[];while(e.length>0){l=e.match(/\S+$/);if(l.length==0){break;}f.push(t);t=l[0]+" "+t;d.innerHTML="... "+t;if(d.scrollWidth<w){e=e.substring(0,e.length-l[0].length).trim();}else{while(d.scrollWidth>w&&f.length>0){var g=f.pop();d.innerHTML="... "+g;}break;}}}}return false;});}};m.getHashFromUrl=function(){return window.location.href.substring(window.location.href.indexOf("#"))||"#";};m.getUrlParameter=function(n){if(typeof window!=="undefined"){var s=window.location.href;var v=(new RegExp(n+'='+'(.+?)(&|$|#)','i').exec(s)||[null])[1];if(!v){return v;}v=decodeURIComponent(v.replace(/\+/g,' '));return v;}return"";};m.getUrlParameters=function(){var u;if(sap&&sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService("URLParsing")){var U=sap.ushell.Container.getService("URLParsing");var a=U.splitHash(m.getHashFromUrl()).appSpecificRoute;u=a.substring(2);}else{u=m.getHashFromUrl();}var b=m.parseUrlParameters(u);return b;};m.parseUrlParameters=function(u){var p={};var k=[{"name":"filter","pos":-1,"value":""},{"name":"top","pos":-1,"value":""},{"name":"datasource","pos":-1,"value":""},{"name":"searchterm","pos":-1,"value":""}];for(var i=0;i<k.length;i++){k[i].pos=u.toLowerCase().indexOf(k[i].name+"=");}k.sort(function(a,b){return a.pos-b.pos;});for(var j=0;j<k.length;j++){if(k[j].pos!==-1){if(k[j+1]&&k[j+1].pos!==-1){k[j].value=u.substring(k[j].pos,k[j+1].pos);}else{k[j].value=u.substring(k[j].pos);}k[j].value=k[j].value.substring(k[j].name.length+1);if(k[j].value.charAt(k[j].value.length-1)==="&"){k[j].value=k[j].value.substring(0,k[j].value.length-1);}k[j].value=decodeURIComponent(k[j].value);p[k[j].name]=k[j].value;}}return p;};m.isSearchAppActive=function(){if(m.getHashFromUrl().substr(1,13)==='Action-search'){return true;}else{return false;}};m.hasher={hash:null,setHash:function(h){if(decodeURIComponent(m.getHashFromUrl())!==decodeURIComponent(h)){try{window.location.hash=h;}catch(e){this.showUrlUpdateError(e);}}this.hash=h;},reset:function(){this.hash=null;},hasChanged:function(){if(decodeURIComponent(this.hash)!==decodeURIComponent(m.getHashFromUrl())){return true;}return false;},showUrlUpdateError:function(e){if(this.urlError){return;}this.urlError=true;var a=sap.ushell.resources.i18n.getText('searchUrlErrorMessage');sap.m.MessageBox.alert(a,{title:sap.ushell.resources.i18n.getText('searchUrlErrorTitle'),icon:sap.m.MessageBox.Icon.WARNING});}};m.loadResultViewType=function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){var r=jQuery.sap.storage.get("resultViewType");if(!r||r!=="searchResultTable"){return"searchResultList";}else{return"searchResultTable";}}else{return"searchResultList";}};m.saveResultViewType=function(r){if(jQuery.sap.storage.isSupported()){jQuery.sap.storage.put("resultViewType",r);}};m.idMap={};m.subscribeOnlyOnce=function(i,e,c,s){if(m.idMap[i]){m.idMap[i].unsubscribe();}var w=function(){c.apply(s);sap.ui.getCore().getEventBus().unsubscribe(e,w,s);};sap.ui.getCore().getEventBus().subscribe(e,w,s);m.idMap[i]={unsubscribe:function(){sap.ui.getCore().getEventBus().unsubscribe(e,w,s);}};};m._isDisplayed=function(e){if(e&&e.nodeType){if(jQuery(e).is(':visible')){return true;}}if(e&&e.getMetadata()&&e.getMetadata().getName()){if(e.getDomRef&&e.getDomRef()){return true;}}return false;};m.SearchFocusHandler=function(){this.init.apply(this,arguments);};m.SearchFocusHandler.prototype={init:function(s){this.oSearchView=s;},get2BeFocusedControlDomRef:function(){if(!this.oModel){this.oModel=this.oSearchView.getModel();}var i=0;var c=null;var a=null;var b=false;var d=false;var e=false;if(this.oModel.getDataSource()!==this.oModel.appDataSource){if(this.oModel.getProperty('/boCount')>0&&this.oModel.getProperty('/appCount')>0){i=this.oModel.getProperty('/focusIndex');i=(i>0)?i+1:i;c=this.oSearchView.resultList.getItems()[i];if(c&&c.getDomRef){a=c.getDomRef();}}else if(this.oModel.getProperty('/boCount')>0&&this.oModel.getProperty('/appCount')===0){i=this.oModel.getProperty('/focusIndex');b=this.oModel.getResultToDisplay()==="searchResultList";d=this.oModel.getResultToDisplay()==="searchResultTable";e=this.oModel.getResultToDisplay()==="searchResultMap";if(b){c=this.oSearchView.resultList.getItems()[i];}else if(d){c=this.oSearchView.searchResultTable.getItems()[i];}else if(e){c=this.oSearchView.searchResultMap;}if(c&&c.getDomRef){a=c.getDomRef();}}else if(this.oModel.getProperty('/boCount')===0&&this.oModel.getProperty('/appCount')>0){c=this.oSearchView.resultList.getItems()[0];if(m._isDisplayed(c)){a=m.getFocusableTileDomRef($(c.getDomRef()));}}}else{var t=this.oSearchView.appSearchResult;if(t.getDomRef()===null){return null;}i=this.oModel.getProperty('/focusIndex');var f=jQuery(t.getDomRef()).find('.sapUshellSearchTileWrapper')[i];if(m._isDisplayed(f)){a=m.getFocusableTileDomRef(f);}}return a;},setFocus:function(){var t=this;var r=20;var d=function(){t.focusSetter=null;var c=t.get2BeFocusedControlDomRef();if(r===20){c=null;}if(!c||sap.ui.getCore().getUIDirty()||jQuery('.sapUshellSearchTileContainerDirty').length>0||jQuery('.sapMBusyDialog').length>0){if(--r){t.focusSetter=setTimeout(d,100);}return;}c.focus();if(t.oModel.getProperty('/focusIndex')===0){var a=sap.ui.getCore().byId(c.getAttribute('id'));if(a&&a.getContent&&a.getContent()[0]){var b=a.getContent()[0];if(b.showDetails){b.showDetails();}}}t.oSearchView.resultList.collectListItemsForNavigation();};if(this.focusSetter){clearTimeout(this.focusSetter);this.focusSetter=null;}d();}};m.getFocusableTileDomRef=function(t){return jQuery(t).find('[tabindex], button')[0];};m.formatInteger=function(v){if(!m._integerShortFormatter){m._integerShortFormatter=sap.ui.core.format.NumberFormat.getIntegerInstance({style:'short',precision:3,groupingEnabled:true},sap.ui.getCore().getConfiguration().getLocale());}if(!m._integerStandardFormatter){m._integerStandardFormatter=sap.ui.core.format.NumberFormat.getIntegerInstance({style:'standard',precision:3,groupingEnabled:true},sap.ui.getCore().getConfiguration().getLocale());}if(Math.abs(v)>=99950){return m._integerShortFormatter.format(v);}else{return m._integerStandardFormatter.format(v);}};m.formatFileSize=function(v){if(!m._fileSizeFormatter){m._fileSizeFormatter=sap.ui.core.format.FileSizeFormat.getInstance({style:'short',precision:3,groupingEnabled:true,binaryFilesize:true},sap.ui.getCore().getConfiguration().getLocale());}return m._fileSizeFormatter.format(v);};m.getUrlParameterByUi2Service=function(p){var P=sap.ui2.srvc.getParameterMap();var v=P[p];return v;};m.attachEventHandlersForTooltip=function(e){var a=$(e);a.find('.sapUshellSearchResultListItem-MightOverflow').on('mouseenter',function(){var b=$(this);var t=b.text();var c=b.attr('title');var d;var f=b.attr("data-tooltippedby");if(f){var g=a.find("#"+f);d=g.text();}if(!b.attr('title')&&(this.offsetWidth<this.scrollWidth||this.offsetHeight<this.scrollHeight)||d&&t!==d){if(!d){d=b.text();}b.attr("title",d);}else if(c===b.text()){b.removeAttr('title');}}).on('mouseout',function(){var b=$(this);var t;var c=b.attr("data-tooltippedby");if(c){var d=a.find("#"+c);t=d.text();}if(!t){t=b.text();}var f=b.attr('title');if(f===t){b.removeAttr('title');}});};m.convertPromiseTojQueryDeferred=function(p){var d=new jQuery.Deferred();p.then(function(){d.resolve.apply(d,arguments);},function(){d.reject.apply(d,arguments);});return d;};m.isLoggingEnabled=function(){if(this.isLoggingEnabledFlag!==undefined){return this.isLoggingEnabledFlag;}this.isLoggingEnabledFlag=true;try{var p=this.getUrlParameter("searchLogging");if(p==="false"){this.isLoggingEnabledFlag=false;}if(p===undefined){if(window['sap-ushell-config']!==undefined){var c=window['sap-ushell-config'].renderers.fiori2.componentData.config;if(c!==undefined){if(c.enableSearchLogging===false){this.isLoggingEnabledFlag=false;}}}}}catch(e){}return this.isLoggingEnabledFlag;};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchNavigationObject',['sap/ushell/renderers/fiori2/search/eventlogging/EventLogger'],function(E){"use strict";return sap.ui.base.Object.extend("sap.ushell.renderers.fiori2.search.SearchNavigationObject",{constructor:function(p){this._model=sap.ushell.renderers.fiori2.search.getModelSingleton();if(p){this.setHref(p.href);this.setText(p.text);this.setTarget(p.target);this.setLoggingType(p.loggingType);this.setPositionInList(p.positionInList);}if(this._model.eventLogger===undefined){this._model.eventLogger=E.newInstance({sinaNext:this._model.sinaNext});}if(typeof this._loggingType==='undefined'){this.setLoggingType(this._model.eventLogger.RESULT_LIST_ITEM_NAVIGATE);}},getPositionInList:function(){return this._positionInList;},setPositionInList:function(p){this._positionInList=p;},getHref:function(){return this._href;},setHref:function(h){this._href=h;},getText:function(){return this._text;},setText:function(t){this._text=t;},getTarget:function(){return this._target;},setTarget:function(t){this._target=t;},getLoggingType:function(){return this._loggingType;},setLoggingType:function(l){this._loggingType=l;},performNavigation:function(p){this.trackNavigation(p);if(!this._target){window.open(this._href);}else{window.open(this._href,this._target);}},trackNavigation:function(p){this._model.eventLogger.logEvent({type:(p&&p.loggingType)||this.getLoggingType(),targetUrl:this.getHref(),positionInList:this.getPositionInList(),executionId:this.getResultSetId()});},getResultSetId:function(){return'';},isEqualTo:function(o){if(!o){return false;}return this.getHref()==o.getHref();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchNavigationObjectForSinaNavTarget',['sap/ushell/renderers/fiori2/search/SearchNavigationObject'],function(S){"use strict";return S.extend("sap.ushell.renderers.fiori2.search.SearchNavigationObjectForSinaNavTarget",{constructor:function(s){S.prototype.constructor.apply(this,arguments);this._sinaNavigationTarget=s;this.setHref(s.targetUrl);this.setText(s.label);this.setTarget(s.target);this.sina=this._sinaNavigationTarget.sina;},performNavigation:function(p){this.trackNavigation();this._sinaNavigationTarget.performNavigation(p);},getResultSet:function(){return this.getResultSetItem().parent;},getResultSetItem:function(){var p=this._sinaNavigationTarget.parent;if(p instanceof this.sina.SearchResultSetItemAttribute){p=p.parent;}if(!(p instanceof this.sina.SearchResultSetItem)){throw'programm error';}if(p.parent instanceof this.sina.ObjectSuggestion){p=p.parent;}return p;},getResultSetId:function(){return this.getResultSet().id;},getPositionInList:function(){var r=this.getResultSet();var a=this.getResultSetItem();return r.items.indexOf(a);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchResultListFormatter',['sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchNavigationObject','sap/ushell/renderers/fiori2/search/SearchNavigationObjectForSinaNavTarget'],function(S,a,b,c){"use strict";var m=sap.ushell.renderers.fiori2.search.SearchResultListFormatter=function(){this.init.apply(this,arguments);};m.prototype={init:function(){},format:function(s,t,o){o=o||{};o.suppressHighlightedValues=o.suppressHighlightedValues||false;var d=s.sina;var l={};var f=[];var r=s.items;var i,z;for(i=0;i<r.length;i++){var e=r[i];var g={};var I=[];for(z=0;z<e.detailAttributes.length;z++){var h=e.detailAttributes[z];var k=h.value;switch(h.metadata.type){case d.AttributeType.ImageBlob:if(k&&k.trim().length>0){k="data:;base64,"+k;}case d.AttributeType.ImageUrl:g.imageUrl=k;g.imageFormat=h.metadata.format?h.metadata.format.toLowerCase():undefined;if(h.defaultNavigationTarget){g.imageNavigation=new c(h.defaultNavigationTarget);}break;case d.AttributeType.GeoJson:g.geoJson={value:k,label:(e.title||h.label)};break;case d.AttributeType.Group:var n=this._formatAttributeGroup(h,o,z);I.push(n);break;case d.AttributeType.Double:case d.AttributeType.Integer:case d.AttributeType.String:case d.AttributeType.Date:case d.AttributeType.Time:case d.AttributeType.Timestamp:var p=this._formatSingleAttribute(h,o,z);I.push(p);break;}}g.key=e.key;g.keystatus=e.keystatus;g.dataSource=e.dataSource;g.dataSourceName=e.dataSource.label;if(e.titleAttributes){var q,u,v;var w=[];for(z=0;z<e.titleAttributes.length;z++){q=e.titleAttributes[z];if(q.metadata.type==d.AttributeType.Group){u=this._formatAttributeGroup(q,o,z);}else{u=this._formatSingleAttribute(q,o,z,false);}v=u.value;w.push(v);}g.title=w.join(' ');}else{g.title=o.suppressHighlightedValues?e.title:e.titleHighlighted;}if(e.titleDescriptionAttributes){var x,y,A;var B=[];for(z=0;z<e.titleDescriptionAttributes.length;z++){x=e.titleDescriptionAttributes[z];if(x.metadata.type==d.AttributeType.Group){y=this._formatAttributeGroup(x,o,z);}else{y=this._formatSingleAttribute(x,o,z,false);}A=y.value;B.push(A);}g.titleDescription=B.join(' ');}g.itemattributes=I;if(e.defaultNavigationTarget){g.titleNavigation=new c(e.defaultNavigationTarget);if(!g.title||g.title.length==0){g.title=e.defaultNavigationTarget.label;}}if(e.navigationTargets&&e.navigationTargets.length>0){g.navigationObjects=[];for(var j=0;j<e.navigationTargets.length;j++){var C=new c(e.navigationTargets[j]);C.setLoggingType('RESULT_LIST_ITEM_NAVIGATE_CONTEXT');g.navigationObjects.push(C);}}var D=l[e.dataSource.id]||{};l[e.dataSource.id]=D;g.layoutCache=D;g.selected=g.selected||false;g.expanded=g.expanded||false;var E={};this._formatResultForDocuments(e,E);this._formatResultForNotes(e,E);g.additionalParameters=E;g.positionInList=i;g.resultSetId=s.id;f.push(g);}return f;},_formatAttributeGroup:function(d,o,e){var f={};var g={};f.name=d.label;var h=false;var j=false;for(var i=0;i<d.attributes.length;i++){var k=d.attributes[i];var _=k.attribute;var l=k.metadata.nameInGroup;var n=this._formatSingleAttribute(_,o,e);g[l]=n;h=h||n.whyfound;j=j||n.longtext!==undefined;}f.value=this._formatBasedOnGroupTemplate(d.template,g,"value");f.valueRaw=this._formatBasedOnGroupTemplate(d.template,g,"valueRaw");f.valueWithoutWhyfound=this._formatBasedOnGroupTemplate(d.template,g,"valueWithoutWhyfound");f.key=d.id;f.isTitle=false;f.isSortable=d.metadata.isSortable;f.attributeIndex=e;f.displayOrder=d.metadata.usage.Detail&&d.metadata.usage.Detail.displayOrder;f.whyfound=h;if(j){f.longtext=f.value;}return f;},_formatSingleAttribute:function(d,o,i,u){var I={};var s=d.sina;I.name=d.label;I.valueRaw=d.value;I.value=o.suppressHighlightedValues?d.valueFormatted:d.valueHighlighted;I.valueWithoutWhyfound=d.valueFormatted;if(d.unitOfMeasure){if(o.suppressHighlightedValues||!d.unitOfMeasure.valueHighlighted){I.value+=" "+d.unitOfMeasure.valueFormatted;}else{I.value+=" "+d.unitOfMeasure.valueHighlighted;}I.valueWithoutWhyfound+=" "+d.unitOfMeasure.valueFormatted;}if(d.description){if(u===undefined){u=!(d.metadata.semantics==s.AttributeSemanticsType.FirstName||d.metadata.semantics==s.AttributeSemanticsType.LastName||d.description.metadata.semantics==s.AttributeSemanticsType.FirstName||d.description.metadata.semantics==s.AttributeSemanticsType.LastName);}var e=(o.suppressHighlightedValues||!d.description.valueHighlighted)?d.description.valueFormatted:d.description.valueHighlighted;var t=d.metadata.descriptionTextArrangement;if(t==s.AttributeDescriptionTextArrangement.TextOnly&&e==d.description.valueFormatted&&I.value!=d.valueFormatted){t=s.AttributeDescriptionTextArrangement.TextFirst;}I.value=this._concatenateAttrValueAndDescriptionAccordingToArrangement(s.AttributeDescriptionTextArrangement,I.value,e,t,u);I.valueWithoutWhyfound=this._concatenateAttrValueAndDescriptionAccordingToArrangement(s.AttributeDescriptionTextArrangement,I.valueWithoutWhyfound,d.description.valueFormatted,t,u);}I.key=d.id;I.isTitle=false;I.isSortable=d.metadata.isSortable;I.attributeIndex=i;I.displayOrder=d.metadata.usage.Detail&&d.metadata.usage.Detail.displayOrder;I.whyfound=d.isHighlighted;if(d.defaultNavigationTarget){I.defaultNavigationTarget=new c(d.defaultNavigationTarget);}if(d.metadata.format&&(d.metadata.format===s.AttributeFormatType.MultilineText||d.metadata.format===s.AttributeFormatType.Longtext)){I.longtext=d.value;}return I;},_formatBasedOnGroupTemplate:function(t,d,v){if(!(t&&d&&v)){return"";}var e="",p=0;var f,r=/{\w+}/gi;while((f=r.exec(t))!==null){e+=t.substring(p,f.index);var g=f[0].slice(1,-1);e+=d[g]&&d[g][v]||"";p=r.lastIndex;}e+=t.substring(p);return e;},_concatenateAttrValueAndDescriptionAccordingToArrangement:function(A,d,e,f,u){if(d.trim().length==0&&e.trim().length==0){return"";}u=u!=undefined?u:true;switch(f){case A.TextOnly:return e;case A.TextSeparate:return d+" "+e;case A.TextFirst:if(d.trim().length==0){return e;}if(u){d="("+d+")";}return e+" "+d;case A.TextLast:default:if(e.trim().length==0){return d;}if(u){e="("+e+")";}return d+" "+e;}},_formatResultForDocuments:function(r,d){var k='';d.isDocumentConnector=false;var j,e;for(j=0;j<r.detailAttributes.length;j++){e=r.detailAttributes[j];if(e.metadata.id==='FILE_PROPERTY'){d.isDocumentConnector=true;}if(e.metadata.isKey===true){if(k.length>0){k+=';';}k=k+e.metadata.id+'='+e.value;}}if(d.isDocumentConnector===true){var s=';o=sid('+r.dataSource.system+'.'+r.dataSource.client+')';var f=r.dataSource.id;d.imageUrl="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+s+"/FileLoaderFiles(ConnectorId='"+f+"',FileType='ThumbNail',SelectionParameters='"+k+"')/$value";d.titleUrl="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+s+"/FileLoaderFiles(ConnectorId='"+f+"',FileType='BinaryContent',SelectionParameters='"+k+"')/$value";var g="/sap/opu/odata/SAP/ESH_SEARCH_SRV"+s+"/FileLoaderFiles(ConnectorId='"+f+"',FileType='SUVFile',SelectionParameters='"+k+"')/$value";d.suvlink='/sap/bc/ui5_ui5/ui2/ushell/resources/sap/fileviewer/viewer/web/viewer.html?file='+encodeURIComponent(g);if(!r.navigationObjects){r.navigationObjects=[];}var n=new b({text:"Show Document",href:d.suvlink,target:"_blank"});r.navigationObjects.push(n);for(j=0;j<r.detailAttributes.length;j++){e=r.detailAttributes[j];if(e.id=='PHIO_ID_THUMBNAIL'&&e.value){d.containsThumbnail=true;}if(e.id=='PHIO_ID_SUV'&&e.value){d.containsSuvFile=true;}}}},_formatResultForNotes:function(r,d){}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchShellHelper',['sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup','sap/ushell/renderers/fiori2/search/SearchHelper','sap/base/Log'],function(S,a,L){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchShellHelper');var m=sap.ushell.renderers.fiori2.search.SearchShellHelper={};var s="sapUshellShellShowSearchOverlay";var b;m.injectSearchModel=function(_){b=b||_;};jQuery.extend(m,{init:function(){var t=this;sap.ushell.Container.getService("Search").prefetch();sap.ui.require('sap/ushell/renderers/fiori2/search/SearchModel');t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.oShellHeader=sap.ui.getCore().byId('shell-header');t.oSearchFieldGroup=new S("searchFieldInShell");t.oSearchFieldGroup.setModel(t.oModel);t.oShellHeader.setSearch(t.oSearchFieldGroup);t.setSearchState('COL');this.setSearchStateSync=this.setSearchState;this.setSearchState=a.delayedExecution(this.setSearchState,500);t.oSearchInput=t.oSearchFieldGroup.input;t.oSearchInput.setMaxSuggestionWidth("30rem");t.oSearchInput.setValue(t.oModel.getSearchBoxTerm());t.oSearchSelect=t.oSearchFieldGroup.select;var l=new sap.ui.core.InvisibleText("selectLabel",{text:sap.ushell.resources.i18n.getText("searchIn")});if(l){t.oSearchSelect.addAriaLabelledBy("selectLabel");}t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText("searchInTooltip"));t.oSearchSelect.addEventDelegate({onAfterRendering:function(e){jQuery('#searchFieldInShell-select-icon').attr('title',sap.ushell.resources.i18n.getText("searchIn"));}},t.oSearchSelect);t.oSearchSelect.setTooltip(sap.ushell.resources.i18n.getText("searchIn"));t.oSearchSelect.attachChange(function(e){t.focusInputField({selectContent:true});});t.oSearchButton=t.oSearchFieldGroup.button;t.oSearchButton.bindProperty("type",{parts:[{path:'/searchButtonStatus'}],formatter:function(c){if(c==='search'){return sap.m.ButtonType.Emphasized;}else{return sap.m.ButtonType.Default;}}});t.oSearchButton.attachPress(function(){t.handleClickSearchButton();});t.oSearchButton.addEventDelegate({onAfterRendering:function(){var c=jQuery("div.sapUshellShellSearchHidden").length===0;var d=t.oModel.getProperty("/searchButtonStatus")==="close";var $=jQuery(t.oSearchButton.getDomRef());if(c){if(d){$.attr("aria-pressed",true);}else{$.removeAttr("aria-pressed");}}else{$.attr("aria-pressed",false);}}});t.oSearchCancelButton=t.oSearchFieldGroup.cancelButton;t.oSearchCancelButton.attachPress(function(){t.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);});this.oSearchFieldGroup.setCancelButtonActive(false);t.registerFocusHandler();jQuery(document).on('keydown',function(e){if(e.keyCode===27){e.preventDefault();if(a.isSearchAppActive()){return;}if(t.oSearchInput){if(t.oSearchInput.getValue()===""){t.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);}else if(t.oSearchInput.getValue()===" "){t.oSearchInput.setValue("");}}}});sap.ui.getCore().getEventBus().subscribe("shell","searchCompLoaded",t.onSearchComponentLoaded,t);sap.ui.getCore().getEventBus().subscribe("allSearchFinished",t.onAllSearchFinished,t);sap.ui.getCore().byId('viewPortContainer').attachAfterNavigate(t.onAfterNavigate,t);sap.ui.getCore().getEventBus().subscribe("sap.ushell","appComponentLoaded",function(){var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}});t.oShellHeader.attachSearchSizeChanged(this.sizeSearchFieldChanged.bind(this));},sizeSearchFieldChanged:function(e){var c=e.mParameters.remSize;var l=24;if(c<=l){this.oSearchSelect.setDisplayMode('icon');}else{this.oSearchSelect.setDisplayMode('default');}l=9;if(c<l){this.oSearchButton.setVisible(false);}else{this.oSearchButton.setVisible(true);}if(e.getParameter('isFullWidth')){this.oSearchFieldGroup.setCancelButtonActive(true);this.oSearchFieldGroup.addStyleClass('sapUshellSearchInputFullWidth');}else{this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.removeStyleClass('sapUshellSearchInputFullWidth');}},sizeChanged:function(p){switch(p.name){case"Phone":this.oSearchFieldGroup.setCancelButtonActive(true);break;case"Tablet":this.oSearchFieldGroup.setCancelButtonActive(false);break;case"Desktop":this.oSearchFieldGroup.setCancelButtonActive(false);break;default:break;}},registerFocusHandler:function(){var r=true;if(!r){return;}var t=this;var c=t.oSearchInput.getModel();t.oSearchInput.addEventDelegate({onAfterRendering:function(){var i=jQuery(t.oSearchInput.getDomRef()).find('input')[0];var $=jQuery(i);$.on('focus',function(e){t.log('raw_in',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState('EXP');});$.on('blur',function(e){t.log('raw_out',document.activeElement);if(!t.isFocusHandlerActive){return;}var p=t.oSearchSelect.getPicker();if(p&&p.oPopup&&p.oPopup.eOpenState==="OPENING"){return;}if(!a.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&c.getDataSource()===c.getDefaultDataSource()){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}});}});t.oSearchSelect.addEventDelegate({onAfterRendering:function(){var d=t.oSearchSelect.getDomRef();d.addEventListener('focus',function(e){t.log('raw_in_select',document.activeElement);if(!t.isFocusHandlerActive){return;}if(t.oShellHeader.getSearchState()==='EXP_S'&&!t.isNoSearchResultsScreen()){t.setSearchState('EXP_S',true);return;}t.setSearchState.abort();});d.addEventListener('blur',function(e){t.log('raw_out_select',document.activeElement);if(!t.isFocusHandlerActive){return;}var p=t.oSearchSelect.getPicker();if(p&&p.oPopup&&p.oPopup.eOpenState==="OPENING"){return;}if(!a.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&c.getDataSource()===c.getDefaultDataSource()){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}});}});t.oSearchButton.addEventDelegate({onAfterRendering:function(){var d=t.oSearchButton.getDomRef();d.addEventListener('focus',function(e){t.log('raw_in_button',document.activeElement);if(!t.isFocusHandlerActive){return;}t.setSearchState.abort();});d.addEventListener('blur',function(e){t.log('raw_out_button',document.activeElement);if(!t.isFocusHandlerActive){return;}if(!a.isSearchAppActive()&&t.oSearchInput.getValue().length===0&&c.getDataSource()===c.getDefaultDataSource()){t.setSearchState('COL');}else{t.setSearchState('EXP_S');}});}});this.enableFocusHandler(true);},enableFocusHandler:function(c){this.isFocusHandlerActive=c;if(!c&&this.setSearchState.abort){this.setSearchState.abort();}},isOverlayShown:function(){var c=this.oShellHeader.getShellLayoutControl();return c.hasStyleClass(s);},setSearchState:function(c,d){var e=sap.ui.getCore().byId('sf');if(!e){return;}if(typeof d==='undefined'){switch(c){case'EXP':d=true;break;case'EXP_S':d=false;break;case'COL':d=false;break;}if(this.isNoSearchResultsScreen()){d=false;}}if(sap.ui.getCore().byId('searchFieldInShell')===undefined){return;}if(this.oShellHeader.getSearchState()===c&&d===this.isOverlayShown()){return;}if(c==='COL'){this.enableFocusHandler(false);}else{this.enableFocusHandler(true);}this.log('set search state',c,document.activeElement);switch(c){case'COL':this.oModel.abortSuggestions();this.oShellHeader.setSearchState(c,35,d);this.oSearchCancelButton.setVisible(false);e.setVisible(true);break;case'EXP_S':this.oShellHeader.setSearchState(c,35,d);this.oSearchCancelButton.setVisible(true);e.setVisible(false);break;case'EXP':this.oShellHeader.setSearchState(c,35,d);this.oSearchCancelButton.setVisible(true);e.setVisible(false);this.focusInputField({selectContent:true});break;default:break;}},isNoSearchResultsScreen:function(){return a.isSearchAppActive()&&this.oModel.getProperty("/boCount")===0&&this.oModel.getProperty("/appCount")===0;},onShellSearchButtonPressed:function(e){if(sap.ui.getCore().byId('searchFieldInShell')===undefined){this.init();}else if(!a.isSearchAppActive()&&this.oShellHeader.getSearchState()==='COL'){this.resetModel();}this.setSearchState('EXP');},handleClickSearchButton:function(){if(this.oSearchInput.getValue()===""&&this.oModel.getDataSource()===this.oModel.getDefaultDataSource()){this.setSearchState('COL');window.setTimeout(function(){sap.ui.getCore().byId('sf').focus();},1000);}},focusInputField:function(o){o=o||{};var t=this;if(t.focusInputFieldTimeout){window.clearTimeout(t.focusInputFieldTimeout);t.focusInputFieldTimeout=null;}var d=function(r){if(!t.oSearchInput){return;}t.focusInputFieldTimeout=null;var c=t.oSearchInput.getDomRef();if(c&&jQuery(c).is(':visible')&&!sap.ui.getCore().getUIDirty()){if(t.oSearchInput.getEnabled()){t.oSearchInput.focus();if(o.selectContent){t.oSearchInput.selectText(0,9999);}return;}}if(r>0){t.focusInputFieldTimeout=window.setTimeout(function(){if(!t.oModel.getProperty('/initializingObjSearch')){r--;}d(r);},100);}};d(10);},getDefaultOpen:function(){return this.defaultOpen;},setDefaultOpen:function(d){this.defaultOpen=d;},getSearchInput:function(){return this.oSearchFieldGroup?this.oSearchFieldGroup.input:null;},onAfterNavigate:function(e){if(e.getParameter('toId')!=='shellPage-Action-search'&&e.getParameter('toId')!=='applicationShellPage-Action-search'&&e.getParameter('toId')!=='application-Action-search'){return;}var o=sap.ui.getCore().byId('searchContainerResultsView');if(o&&o.oFocusHandler){o.oFocusHandler.setFocus();}sap.ui.getCore().getEventBus().publish("searchLayoutChanged");},onAllSearchFinished:function(){this.oSearchInput.setValue(this.oModel.getSearchBoxTerm());this.log('search finished');this.setSearchState('EXP_S');},onSearchComponentLoaded:function(){if(!a.isSearchAppActive()){return;}this.setSearchState('EXP_S');},resetModel:function(){this.oSearchInput.setValue('');this.oModel.resetQuery();},logSwitch:true,log:function(){if(!this.logSwitch){return;}var l=function(e){var f=e.getAttribute('id');if(f){return f;}else{return'unknown_id';}};var c=function(e){var r=[];for(var i=0;i<e.classList.length;++i){r.push(e.classList.item(i));}return r.join(',');};var p=['xx'];for(var i=0;i<arguments.length;++i){var d=arguments[i];if(d&&d.getAttribute){p.push(l(d)+','+c(d));continue;}if(d){p.push(d);continue;}p.push('undef');}L.debug(p.join(' | '),undefined,"sap.ushell.renderers.fiori2.search.SearchShellHelper");}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchShellHelperAndModuleLoader',['./SearchModel','./SearchShellHelper'],function(S,a){"use strict";S.injectSearchShellHelper(a);a.injectSearchModel(S);return{SearchModel:S,SearchShellHelper:a};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchTabStripsFormatter',[],function(){"use strict";var m={};m.Node=function(){this.init.apply(this,arguments);};m.Node.prototype={init:function(d,c){this.dataSource=d;this.children=[];this.parent=null;this.count=c;},equals:function(o){return this===o;},setCount:function(c){this.count=c;},getAncestors:function(){var a=[],c=this;while(c.parent){a.push(c.parent);c=c.parent;}return a;},getChildren:function(){var c=[];for(var i=0;i<this.children.length;++i){var a=this.children[i];if(a.unsureWhetherNodeisBelowRoot){continue;}c.push(a);}return c;},getChildrenSortedByCount:function(){var c=this.getChildren();c.sort(function(a,b){return b.count-a.count;});return c;},clearChildren:function(){for(var i=0;i<this.children.length;++i){var c=this.children[i];c.parent=null;}this.children=[];},appendNode:function(n){n.parent=this;this.children.push(n);},appendNodeAtIndex:function(n,i){n.parent=this;this.children.splice(i,0,n);},removeChildNode:function(n){var i=this.children.indexOf(n);if(i<0){return;}this.children.splice(i,1);n.parent=null;},hasChild:function(n){return this.children.indexOf(n)>-1;},hasSibling:function(n){if(this.equals(n)){return false;}var p=this.parent;if(!p){return false;}if(p.hasChild(n)){return true;}return false;},_findNode:function(d,r){if(this.dataSource===d){r.push(this);return;}for(var i=0;i<this.children.length;++i){var c=this.children[i];c._findNode(d,r);if(r.length>0){return;}}}};m.Tree=function(){this.init.apply(this,arguments);};m.Tree.prototype={init:function(r){this.rootNode=new m.Node(r,null);},reset:function(){this.rootNode=null;},invalidate:function(d){var n=this.findNode(d);if(!n){this.rootNode.children=[];this.rootNode.count=0;return;}var c=null;while(n){n.children=c?[c]:[];n.count=null;if(c){c.count=null;}c=n;n=n.parent;}},findNode:function(d){if(!this.rootNode){return null;}var r=[];this.rootNode._findNode(d,r);return r.length>0?r[0]:null;},hasChild:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasChild(b);},hasSibling:function(d,a){if(a.equals(this.rootNode.dataSource)){return false;}var n=this.findNode(d);if(!n){return false;}var b=this.findNode(a);if(!b){return false;}return n.hasSibling(b);},updateFromPerspective:function(d,p,a){var c;if(p){c=p.totalCount;}var b=this.findNode(d);if(!b){b=new m.Node(d,c);b.unsureWhetherNodeisBelowRoot=true;this.rootNode.appendNode(b);}b.setCount(c);if(d===a.allDataSource){b.setCount(b.count+a.getProperty('/appCount'));}this.updateFromPerspectiveChildDataSources(b,p,a);this.updateAppTreeNode(d,a);},updateAppTreeNode:function(d,a){if(d!==a.allDataSource&&d!==a.appDataSource){return;}var b=this.findNode(a.appDataSource);if(b){this.rootNode.removeChildNode(b);}var c=a.getProperty('/appCount');if(c===0&&d!==a.appDataSource){return;}b=new m.Node(a.appDataSource,c);this.rootNode.appendNodeAtIndex(b,0);},updateFromPerspectiveChildDataSources:function(c,p,a){if(!p||c.dataSource===a.appDataSource){return;}var f=p.facets;if(f.length===0){return;}var d=f[0];if(d.type!==a.sinaNext.FacetType.DataSource){return;}var b=d.items;c.clearChildren();for(var i=0;i<b.length;++i){var e=b[i];var g=e.dataSource;var h=this.findNode(g);if(!h){h=new m.Node(g,e.measureValue);}if(h.unsureWhetherNodeisBelowRoot){h.unsureWhetherNodeisBelowRoot=false;this.rootNode.removeChildNode(h);}if(h.parent){h.parent.removeChildNode(h);}h.setCount(e.measureValue);c.appendNode(h);}}};m.Formatter=function(){this.init.apply(this,arguments);};m.Formatter.prototype={init:function(r){this.tree=new m.Tree(r);},format:function(d,p,a){this.tree.updateFromPerspective(d,p,a);var t=this.generateTabStrips(d,a);return t;},invalidate:function(d){if(this.tree){this.tree.invalidate(d);}},generateTabStrips:function(d,a){var t=9999;var i,c,b;var e={strips:[],selected:null};var n=this.tree.findNode(d);if(!n){if(d!==a.allDataSource){e.strips.push(a.allDataSource);}e.strips.push(d);e.selected=d;return e;}if(n.dataSource===a.allDataSource){e.strips.push(a.allDataSource);b=n.getChildrenSortedByCount();for(i=0;i<b.length&&e.strips.length<t;++i){c=b[i];e.strips.push(c.dataSource);}e.selected=a.allDataSource;return e;}if(n.parent===this.tree.rootNode&&!n.unsureWhetherNodeisBelowRoot){e.strips.push(a.allDataSource);var f=false;b=this.tree.rootNode.getChildrenSortedByCount();for(i=0;i<b.length;++i){c=b[i];if(f){if(e.strips.length>=t){break;}e.strips.push(c.dataSource);}else{if(e.strips.length<t-1||n===c){e.strips.push(c.dataSource);if(n===c){f=true;}}}}if(b.length===0){e.strips.push(n.dataSource);}e.selected=n.dataSource;return e;}e.strips.push(a.allDataSource);e.strips.push(n.dataSource);e.selected=n.dataSource;return e;}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchUrlParser',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchUrlParserInav2'],function(S,a){"use strict";var b=function(){this.init.apply(this,arguments);};b.prototype={init:function(p){this.model=p.model;this.urlParserInav2=new a(p);},parse:function(){if(S.getHashFromUrl().indexOf('#Action-search')!==0){return jQuery.when(undefined);}if(!S.hasher.hasChanged()){return jQuery.when(undefined);}return this.model.initBusinessObjSearch().then(function(){var p=S.getUrlParameters();if($.isEmptyObject(p)){return undefined;}if(p.datasource){return this.urlParserInav2.parseUrlParameters(p);}else{return this.parseUrlParameters(p);}}.bind(this)).then(function(){this.model.setProperty("/searchTermPlaceholder",this.model.calculatePlaceholder());this.model.calculateSearchButtonStatus();this.model._firePerspectiveQuery(true);}.bind(this));},parseUrlParameters:function(p){if(p.top){var t=parseInt(p.top,10);this.model.setTop(t,false);}var f;if(p.filter){var c=JSON.parse(p.filter);try{f=this.model.sinaNext.parseFilterFromJson(c);}catch(e){f=this.model.sinaNext.createFilter();if(c.searchTerm){f.setSearchTerm(c.searchTerm);}sap.m.MessageBox.show(sap.ushell.resources.i18n.getText('searchUrlParsingErrorLong')+'\n('+e.toString()+')',{icon:sap.m.MessageBox.Icon.ERROR,title:sap.ushell.resources.i18n.getText('searchUrlParsingError'),actions:[sap.m.MessageBox.Action.OK]});}this.model.setProperty("/uiFilter",f);this.model.setDataSource(f.dataSource,false,false);}},render:function(){return this.renderFromParameters(this.model.getTop(),this.model.getProperty('/uiFilter'),true);},renderFromParameters:function(t,f,e){var h="#Action-search";h+="&/top="+t;if(e){h+="&filter="+encodeURIComponent(JSON.stringify(f.toJson()));}else{h+="&filter="+JSON.stringify(f.toJson());}return h;}};return b;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/SearchUrlParserInav2',['./SearchHelper'],function(S){"use strict";var a=function(){this.init.apply(this,arguments);};a.prototype={init:function(p){this.model=p.model;},parseUrlParameters:function(p){if(p.top){var t=parseInt(p.top,10);this.model.setTop(t,false);}var d=this.model.sinaNext.allDataSource;if(p.datasource){var b=JSON.parse(p.datasource);var c=b.ObjectName.value;switch(b.Type){case'Category':if(c==='$$ALL$$'){d=this.model.sinaNext.allDataSource;}else{d=this.model.sinaNext.getDataSource(c);if(!d){d=this.model.sinaNext._createDataSource({type:this.model.sinaNext.DataSourceType.Category,id:c,label:b.label,labelPlural:b.labelPlural});}}break;case'BusinessObject':d=this.model.sinaNext.getDataSource(c);if(!d){d=this.model.sinaNext.allDataSource;delete p.filter;sap.m.MessageBox.show(sap.ushell.resources.i18n.getText('searchUrlParsingErrorLong')+'\n(Unknow datasource '+c+')',{icon:sap.m.MessageBox.Icon.ERROR,title:sap.ushell.resources.i18n.getText('searchUrlParsingError'),actions:[sap.m.MessageBox.Action.OK]});}break;default:throw'unknown datasource type '+b.Type;}}return S.convertPromiseTojQueryDeferred(this.model.sinaNext.loadMetadata(d)).then(function(){var e={dataSource:d};var r;if(p.filter){var f=JSON.parse(p.filter);r=this.parseCondition(e,f);}else{r=this.model.sinaNext.createComplexCondition();}var g=this.model.sinaNext.createFilter({dataSource:d,searchTerm:p.searchterm,rootCondition:r});this.model.setProperty("/uiFilter",g);this.model.setDataSource(g.dataSource,false);}.bind(this));},parseCondition:function(c,b){if(b.conditions){return this.parseComplexCondition(c,b);}else{return this.parseSimpleCondition(c,b);}},parseComplexCondition:function(c,b){var s=[];for(var i=0;i<b.conditions.length;++i){var d=b.conditions[i];s.push(this.parseCondition(c,d));}return this.model.sinaNext.createComplexCondition({operator:b.operator,conditions:s,valueLabel:b.label});},parseSimpleCondition:function(c,b){c.attribute=b.attribute;return this.model.sinaNext.createSimpleCondition({attribute:b.attribute,attributeLabel:b.attributeLabel,value:this.parseValue(c,b.value),valueLabel:b.valueLabel||b.label,operator:this.parseOperator(c,b.operator)});},parseValue:function(c,v){var m=c.dataSource.getAttributeMetadata(c.attribute);return this.model.sinaNext.inav2TypeConverter.ina2Sina(m.type,v);},parseOperator:function(c,o){switch(o){case'=':return this.model.sinaNext.ComparisonOperator.Eq;case'>':return this.model.sinaNext.ComparisonOperator.Gt;case'>=':return this.model.sinaNext.ComparisonOperator.Ge;case'<':return this.model.sinaNext.ComparisonOperator.Lt;case'<=':return this.model.sinaNext.ComparisonOperator.Le;default:throw'Unknown operator '+o;}}};return a;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/UXLog',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.UXLog');var m=sap.ushell.renderers.fiori2.search.UXLog={};jQuery.extend(m,{logLines:[],log:function(){this._log.apply(this,arguments);},_log:function(t){this.logLines.push(t);this._save();},_save:function(){jQuery.ajax({type:'PUT',url:'/uxlog.txt',data:this.logLines.join('\n')+'\n',contentType:'text/plain'});this.logLines=[];}});m._save=S.delayedExecution(m._save,2000);return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/AppSearch',['sap/ushell/renderers/fiori2/search/appsearch/CatalogSearch','sap/ushell/renderers/fiori2/search/appsearch/TransactionSearch'],function(C,T){"use strict";var A=function(){this.init.apply(this,arguments);};A.prototype={init:function(p){this.catalogSearch=new C(p);this.transactionSearch=new T(p);this.searchProviders=[this.catalogSearch,this.transactionSearch];},prefetch:function(){for(var i=0;i<this.searchProviders.length;i++){var s=this.searchProviders[i];s.prefetch();}},search:function(q){var a=[];for(var i=0;i<this.searchProviders.length;i++){var s=this.searchProviders[i];a.push(s.search(q));}return jQuery.when.apply(null,a).then(function(){var b=arguments;var r={totalCount:0,tiles:[]};for(var i=0;i<b.length;i++){var c=b[i];r.totalCount+=c.totalCount;r.tiles.push.apply(r.tiles,c.tiles);}return r;});}};return A;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/CatalogSearch',['sap/ushell/renderers/fiori2/search/appsearch/JsSearchFactory','sap/base/Log'],function(c,L){"use strict";var C=function(){this.init.apply(this,arguments);};C.prototype={init:function(p){this.launchPageService=sap.ushell.Container.getService("LaunchPage");this.optimizedAppSearch=p.optimizedAppSearch;this.searchEngines={};},prefetch:function(){return this._getTiles();},search:function(q){q.scope=q.scope||'allTiles';return this._getSearchEngine(q.scope).then(function(s){var a;try{a=s.search({searchFor:q.searchTerm,top:q.top,skip:q.skip});}catch(e){var b=new jQuery.Deferred();b.reject(e);return b;}var r=[];for(var i=0;i<a.results.length;++i){var d=a.results[i];var t=d.object;var h=d.highlighted.label;r.push(this._formatTile(t,h));}return{totalCount:a.totalCount,tiles:r};}.bind(this));},_getView:function(t){try{var a=t.tile.getContract('types');a.setType('tile');}catch(e){}var v=sap.ushell.Container.getService('LaunchPage').getCatalogTileView(t.tile);var b='app';if(t.tile.getTitle){b=t.tile.getTitle();}v.eventLoggingData={targetUrl:t.url,title:b};return v;},_getTiles:function(){var t=this;if(this.loadDeferred){return this.loadDeferred;}this.loadDeferred=this.launchPageService.getCatalogs().then(function(a){var b=[];for(var i=0;i<a.length;i++){b.push(this.launchPageService.getCatalogTiles(a[i]));}b.push(this._getPersonalizedGroupTiles());return jQuery.when.apply(jQuery,b).then(function(){var d=Array.prototype.slice.call(arguments);var a=d.slice(0,-1);var p=d.slice(-1);var f,g,h;try{h=[];return t._collectTilesOfCatalogs(a).then(function(r){f=[];for(var i=0;i<r.length;i++){f=f.concat(r[i]);}t._sortTiles(f);h.push.apply(h,f);h=t._removeDuplicateTiles(h);return t._collectTilesOfCatalogs(p);}).then(function(r){g=[];for(var j=0;j<r.length;j++){g=g.concat(r[j]);}t._sortTiles(g);h.push.apply(h,g);h=t._removeDuplicateTiles(h);t._sortTiles(h);return{catalogTiles:f,personalizedTiles:g,allTiles:h};});}catch(e){return jQuery.Deferred().reject(e);}}.bind(this));}.bind(this));return this.loadDeferred;},_getSearchEngine:function(s){return this._getTiles().then(function(t){var a=this.searchEngines[s];if(a){return a;}a=c.createJsSearch({objects:t[s],fields:['label','keywords']});this.searchEngines[s]=a;return a;}.bind(this));},_formatTile:function(t,h){var a=this;var r=jQuery.extend({},t);if(h){r.label=h;}r.type="catalog";r.getView=function(){return a._getView(this);};return r;},_isTileViewNeeded:function(t){if(this.optimizedAppSearch){return false;}return!this.launchPageService.getCatalogTilePreviewTitle(t);},_collectTilesOfCatalogs:function(a){var p=[];for(var i=0;i<a.length;i++){p.push(this._collectTilesOfCatalog(a[i]));}return jQuery.when.apply(null,p).then(function(){var t=[];for(var i=0;i<arguments.length;i++){if(arguments[i].length!==0){t.push(arguments[i]);}}return t;},function(e){});},_collectTilesOfCatalog:function(a){var p=[];for(var i=0;i<a.length;i++){p.push(this._getTileAsync(a[i]));}return jQuery.when.apply(null,p).then(function(){var t=[];for(var i=0;i<arguments.length;i++){if(arguments[i]!==null){t.push(arguments[i]);}}return t;},function(e){});},_getTileAsync:function(t){var p=new jQuery.Deferred();var a,b,k,d,s,f,i;try{a=null;if(this._isTileViewNeeded(t)){a=this.launchPageService.getCatalogTileView(t);}k=this.launchPageService.getCatalogTileKeywords(t);d=this.launchPageService.getCatalogTileTargetURL(t);b=this.launchPageService.getCatalogTilePreviewTitle(t)||this.launchPageService.getCatalogTileTitle(t);s=this.launchPageService.getCatalogTilePreviewSubtitle(t);f=this.launchPageService.getCatalogTileSize(t);i=this.launchPageService.getCatalogTilePreviewIcon(t)||"sap-icon://business-objects-experience";if(a){if(!a.destroy){var g=new Error('The tileview "'+b+'" with target url "'+d+'" does not implement mandatory function destroy!');g.name='Missing Impementation';throw g;}a.destroy();}if(t.getContract){var h=t.getContract("preview");if(h){h.setEnabled(false);}}if(!this._isValid(t)){p.resolve(null);}if(!d){p.resolve(null);}var l=b;if(s){l+=' - '+s;}p.resolve({tile:t,keywords:(k instanceof Array)?k.join(' '):k,url:d,label:l,title:b||'',subtitle:s||'',tooltip:b||'',icon:i,size:f});}catch(e){p.resolve(null);L.error(e);if(e.toString().indexOf('does not implement mandatory function destroy')>=0){throw e;}}return p;},_isValid:function(t){if(this.launchPageService.isTileIntentSupported){return this.launchPageService.isTileIntentSupported(t);}else{return true;}},_getPersonalizedGroupTiles:function(){return this.launchPageService.getGroups().then(function(g){var r=[];for(var j=0;j<g.length;j++){var t=this.launchPageService.getGroupTiles(g[j])||[];r.push.apply(r,t);}return r;}.bind(this));},_calcKey:function(t){return t.title+t.url+t.icon;},_removeDuplicateTiles:function(t){var a={};var r=[];for(var i=0;i<t.length;++i){var b=t[i];var k=this._calcKey(b);if(a[k]){continue;}a[k]=b;r.push(b);}return r;},_sortTiles:function(t){t.sort(function(a,b){if(a.title.toUpperCase()<b.title.toUpperCase()){return-1;}if(a.title.toUpperCase()>b.title.toUpperCase()){return 1;}return 0;});}};return C;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/JsSearch',[],function(){"use strict";return function JsSearch(o){var d=this;if(!o){throw new Error('You must specify search options');}if(!o.algorithm||!o.algorithm.id||!Array.isArray(o.algorithm.options)||typeof o.algorithm.options[0]!=='number'||typeof o.algorithm.options[1]!=='number'||typeof o.algorithm.options[2]!=='number'||typeof o.algorithm.options[3]!=='number'||typeof o.algorithm.options[4]!=='number'||typeof o.algorithm.options[5]!=='number'||typeof o.algorithm.options[6]!=='number'){throw new Error('You must specify a supported search algorithm with all options');}var e=_(o.algorithm.id,o.algorithm.options);if(e===undefined){throw new Error('You must specify a supported search algorithm');}var h=[];if(Array.isArray(o.fields)){o.fields.forEach(function(f){if(typeof f==='string'){h.push({field:f,weight:3});}});}else if(o.fields){if(Array.isArray(o.fields.groups)){var l=parseFloat(o.fields.scale);if(isNaN(l)){l=1;}else{l=Math.max(1,l);}o.fields.groups.forEach(function(g,i){var w=((o.fields.groups.length-1)-i)/(o.fields.groups.length-1)*(l-1)+1;if(Array.isArray(g)){g.forEach(function(f){if(typeof f==='string'){h.push({field:f,weight:w});}});}else if(typeof g==='string'){h.push({field:g,weight:w});}});}}if(h.length<1){throw new Error('You must specify fields to search in');}var n;var p=[];var q;this.setObjects=function(O){if(!Array.isArray(O)){throw new Error('You must give an array of objects');}q=O;n=undefined;};if(o.objects){this.setObjects(o.objects);}function u(s,m){var t=s;t=t.replace(/\[(\^?)(\\s)?a0\]/g,'[$1$2\\p{Letter}\\p{Number}]');t=t.replace(/\[(\^?)(\\s)?a\]/g,'[$1$2\\p{Letter}]');t=t.replace(/\[(\^?)(\\s)?0\]/g,'[$1$2\\p{Number}]');t=t.replace(/\[(\^?)(\\s)?a0\]/g,'[$1$2\\p{Number}]');t=t.replace(/\[\^\\p{Letter}\]/g,'(?:[\0-@\[-`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07C9\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09EF\u09F2-\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B70\u0B72-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57-\u0D5E\u0D62-\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0EDB\u0EE0-\u0EFF\u0F01-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u1040-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16F0\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u194F\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19FF\u1A17-\u1A1F\u1A55-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BFF\u1C24-\u1C4C\u1C50-\u1C59\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u2182\u2185-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3007-\u3030\u3036-\u303A\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312F\u3130\u318F-\u319F\u31BB-\u31EF\u3200-\u33FF\u4DB6-\u4DFF\u9FEB-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA620-\uA629\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6E6-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA83F\uA874-\uA881\uA8B4-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE-\uA909\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9D0-\uA9DF\uA9E5\uA9F0-\uA9F9\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEFF\uDF1A-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCE0-\uDCFE\uDD00-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE84\uDE85\uDE8A-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD834\uD836-\uD839\uD83C-\uD83F\uD87B-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDD1F-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\^\\p{Number}\]/g,'(?:[\0-\/:-\xB1\xB4-\xB8\xBA\xBB\xBF-\u065F\u066A-\u06EF\u06FA-\u07BF\u07CA-\u0965\u0970-\u09E5\u09F0-\u09F3\u09FA-\u0A65\u0A70-\u0AE5\u0AF0-\u0B65\u0B70\u0B71\u0B78-\u0BE5\u0BF3-\u0C65\u0C70-\u0C77\u0C7F-\u0CE5\u0CF0-\u0D57\u0D5F-\u0D65\u0D79-\u0DE5\u0DF0-\u0E4F\u0E5A-\u0ECF\u0EDA-\u0F1F\u0F34-\u103F\u104A-\u108F\u109A-\u1368\u137D-\u16ED\u16F1-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u1945\u1950-\u19CF\u19DB-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1B4F\u1B5A-\u1BAF\u1BBA-\u1C3F\u1C4A-\u1C4F\u1C5A-\u206F\u2071-\u2073\u207A-\u207F\u208A-\u214F\u2183\u2184\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2CFC\u2CFE-\u3006\u3008-\u3020\u302A-\u3037\u303B-\u3191\u3196-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\uA61F\uA62A-\uA6E5\uA6F0-\uA82F\uA836-\uA8CF\uA8DA-\uA8FF\uA90A-\uA9CF\uA9DA-\uA9EF\uA9FA-\uAA4F\uAA5A-\uABEF\uABFA-\uD7FF\uE000-\uFF0F\uFF1A-\uFFFF]|\uD800[\uDC00-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDEE0\uDEFC-\uDF1F\uDF24-\uDF40\uDF42-\uDF49\uDF4B-\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC00-\uDC9F\uDCAA-\uDFFF]|\uD802[\uDC00-\uDC57\uDC60-\uDC78\uDC80-\uDCA6\uDCB0-\uDCFA\uDD00-\uDD15\uDD1C-\uDDBB\uDDBE\uDDBF\uDDD0\uDDD1\uDE00-\uDE3F\uDE48-\uDE7C\uDE7F-\uDE9C\uDEA0-\uDEEA\uDEF0-\uDF57\uDF60-\uDF77\uDF80-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC00-\uDCF9\uDD00-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC00-\uDC51\uDC70-\uDCEF\uDCFA-\uDD35\uDD40-\uDDCF\uDDDA-\uDDE0\uDDF5-\uDEEF\uDEFA-\uDFFF]|[\uD805\uD807][\uDC00-\uDC4F\uDC5A-\uDCCF\uDCDA-\uDE4F\uDE5A-\uDEBF\uDECA-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC00-\uDCDF\uDCF3-\uDFFF]|[\uD808\uD80A-\uD819\uD81B-\uD833\uD836-\uD839\uD83B\uD83D-\uDBFF][\uDC00-\uDFFF]|\uD809[\uDC6F-\uDFFF]|\uD81A[\uDC00-\uDE5F\uDE6A-\uDF4F\uDF5A\uDF62-\uDFFF]|\uD834[\uDC00-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC00-\uDFCD]|\uD83A[\uDC00-\uDCC6\uDCD0-\uDD4F\uDD5A-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\^\\p{Letter}\\p{Number}\]/g,'(?:[\0-\/:-@\[-`\{-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312F\u3130\u318F-\u3191\u3196-\u319F\u31BB-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DB6-\u4DFF\u9FEB-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE3F\uDE48-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD00-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEBF\uDECA-\uDEFF\uDF1A-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCF3-\uDCFE\uDD00-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE84\uDE85\uDE8A-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD833\uD836-\uD839\uD83D-\uD83F\uD87B-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDD1F-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD834[\uDC00-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\^\\s\\p{Letter}\\p{Number}\]/g,'(?:[\0-\x08\x0E-\x1F!-\/:-@\[-`\{-\x9F\xA1-\xA9\xAB-\xB1\xB4\xB6-\xB8\xBB\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u036F\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482-\u0489\u0530\u0557\u0558\u055A-\u0560\u0588-\u05CF\u05EB-\u05EF\u05F3-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06E4\u06E7-\u06ED\u06FD\u06FE\u0700-\u070F\u0711\u0730-\u074C\u07A6-\u07B0\u07B2-\u07BF\u07EB-\u07F3\u07F6-\u07F9\u07FB-\u07FF\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u083F\u0859-\u085F\u086B-\u089F\u08B5\u08BE-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0965\u0970\u0981-\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA-\u09BC\u09BE-\u09CD\u09CF-\u09DB\u09DE\u09E2-\u09E5\u09F2\u09F3\u09FA\u09FB\u09FD-\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A-\u0A58\u0A5D\u0A5F-\u0A65\u0A70\u0A71\u0A75-\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA-\u0ABC\u0ABE-\u0ACF\u0AD1-\u0ADF\u0AE2-\u0AE5\u0AF0-\u0AF8\u0AFA-\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A-\u0B3C\u0B3E-\u0B5B\u0B5E\u0B62-\u0B65\u0B70\u0B78-\u0B82\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BCF\u0BD1-\u0BE5\u0BF3-\u0C04\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C3E-\u0C57\u0C5B-\u0C5F\u0C62-\u0C65\u0C70-\u0C77\u0C7F\u0C81-\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA-\u0CBC\u0CBE-\u0CDD\u0CDF\u0CE2-\u0CE5\u0CF0\u0CF3-\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D3E-\u0D4D\u0D4F-\u0D53\u0D57\u0D62-\u0D65\u0D79\u0D80-\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DE5\u0DF0-\u0E00\u0E31\u0E34-\u0E3F\u0E47-\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EB1\u0EB4-\u0EBC\u0EBE\u0EBF\u0EC5\u0EC7-\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F1F\u0F34-\u0F3F\u0F48\u0F6D-\u0F87\u0F8D-\u0FFF\u102B-\u103E\u104A-\u104F\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B-\u1368\u137D-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1712-\u171F\u1732-\u173F\u1752-\u175F\u176D\u1771-\u177F\u17B4-\u17D6\u17D8-\u17DB\u17DD-\u17DF\u17EA-\u17EF\u17FA-\u180F\u181A-\u181F\u1878-\u187F\u1885\u1886\u18A9\u18AB-\u18AF\u18F6-\u18FF\u191F-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19FF\u1A17-\u1A1F\u1A55-\u1A7F\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1B04\u1B34-\u1B44\u1B4C-\u1B4F\u1B5A-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BFF\u1C24-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CFF\u1DC0-\u1DFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u206F\u2072\u2073\u207A-\u207E\u208A-\u208F\u209D-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A-\u245F\u249C-\u24E9\u2500-\u2775\u2794-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF4-\u2CFC\u2CFE\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7F\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF-\u2E2E\u2E30-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u3040\u3097-\u309C\u30A0\u30FB\u3100-\u3104\u312F\u3130\u318F-\u3191\u3196-\u319F\u31BB-\u31EF\u3200-\u321F\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DB6-\u4DFF\u9FEB-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA66F-\uA67E\uA69E\uA69F\uA6F0-\uA716\uA720\uA721\uA789\uA78A\uA7AF\uA7B8-\uA7F6\uA802\uA806\uA80B\uA823-\uA82F\uA836-\uA83F\uA874-\uA881\uA8B4-\uA8CF\uA8DA-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FE\uA8FF\uA926-\uA92F\uA947-\uA95F\uA97D-\uA983\uA9B3-\uA9CE\uA9DA-\uA9DF\uA9E5\uA9FF\uAA29-\uAA3F\uAA43\uAA4C-\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAC3-\uAADA\uAADE\uAADF\uAAEB-\uAAF1\uAAF5-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB66-\uAB6F\uABE3-\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB1E\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFE6F\uFE75\uFEFD\uFEFE\uFF00-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD06\uDD34-\uDD3F\uDD79-\uDD89\uDD8C-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEE0\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC57\uDC77\uDC78\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE01-\uDE0F\uDE14\uDE18\uDE34-\uDE3F\uDE48-\uDE5F\uDE7F\uDEA0-\uDEBF\uDEC8\uDEE5-\uDEEA\uDEF0-\uDEFF\uDF36-\uDF3F\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD00-\uDE5F\uDE7F-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC51\uDC70-\uDC82\uDCB0-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDD02\uDD27-\uDD35\uDD40-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDCF\uDDDB\uDDDD-\uDDE0\uDDF5-\uDDFF\uDE12\uDE2C-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDEEF\uDEFA-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC4F\uDC5A-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEAB-\uDEBF\uDECA-\uDEFF\uDF1A-\uDF2F\uDF3C-\uDFFF]|\uD806[\uDC00-\uDC9F\uDCF3-\uDCFE\uDD00-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE84\uDE85\uDE8A-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC4F\uDC6D-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD4F\uDD5A-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD823-\uD82B\uD82D\uD82E\uD830-\uD833\uD836-\uD839\uD83D-\uD83F\uD87B-\uD87D\uD87F-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDEFF\uDF45-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2-\uDFFF]|\uD821[\uDFED-\uDFFF]|\uD822[\uDEF3-\uDFFF]|\uD82C[\uDD1F-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD834[\uDC00-\uDF5F\uDF72-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD83A[\uDCC5\uDCC6\uDCD0-\uDCFF\uDD44-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDFFF]|\uD869[\uDED7-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])');t=t.replace(/\[\\p{Letter}\]/g,'(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])');t=t.replace(/\[\\p{Number}\]/g,'(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83C[\uDD00-\uDD0C])');t=t.replace(/\[\\p{Letter}\\p{Number}\]/g,'(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE40-\uDE47\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF\uDE60-\uDE7E]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEC0-\uDEC9\uDF00-\uDF19\uDF30-\uDF3B]|\uD806[\uDCA0-\uDCF2\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDF60-\uDF71]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])');t=t.replace(/\[\\s\\p{Letter}\\p{Number}\]/g,'(?:[\t-\r 0-9A-Za-z\xA0\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE40-\uDE47\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDCFF\uDE60-\uDE7E]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEC0-\uDEC9\uDF00-\uDF19\uDF30-\uDF3B]|\uD806[\uDCA0-\uDCF2\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDF60-\uDF71]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])');if(t.match(/\\p/)){throw new Error('JsSearch internal bug - Cannot convert RegExp');}else{return new RegExp(t,(m||''));}}var v={AlphaNum_atBegin:u('^[a0]'),Alpha_atBegin:u('^[a]'),Num_atBegin:u('^[0]'),AlphaNum_atEnd:u('[a0]$'),Alpha_atEnd:u('[a]$'),Num_atEnd:u('[0]$')};var A={};A.highlightChar='\u000f';A.regExpfillOneCharacterGaps=u(A.highlightChar+'(?!'+A.highlightChar+')[^a0]'+A.highlightChar,'g');A.initBitmap=function(s){return s;};A.calcBitmap=function(s,b,r){var a;var m;while(s!==a&&(m=s.match(r))&&m[0].length){a=s;s=m[1]+Array(m[2].length+1).join(A.highlightChar)+m[3];}if(a===s){throw new Error('JsSearch internal bug - Highlighting did not change');}for(var i=s.length-1;i>=0;i--){if(s[i]===A.highlightChar){b=b.substr(0,i)+A.highlightChar+b.substr(i+1);}}return b;};A.applyBitmap=function(s,b){var a=false;if(!b){return undefined;}b=b.replace(A.regExpfillOneCharacterGaps,A.highlightChar+A.highlightChar+A.highlightChar);for(var i=b.length-1;i>=0;i--){if(b[i]===A.highlightChar&&!a){s=s.substr(0,i+1)+'</b>'+s.substr(i+1);a=true;}if(b[i]!==A.highlightChar&&a){s=s.substr(0,i+1)+'<b>'+s.substr(i+1);a=false;}}if(a){s='<b>'+s;}return s;};function _(a,g){var t={'contains-ranked':{compileSearchTerm:function(j){var k={original:j.normalize?j.normalize('NFC'):j,parsed:[],hasTrailingWhitespace:false};function m(w){return w.children[0].cOriginal;}function C(w){return w.children[w.children.length-1].cOriginal;}function D(c){if(c.match(v.Alpha_atEnd)){return'(|[^a].*)';}else if(c.match(v.Num_atEnd)){return'(|[^0].*)';}else{return'(.*)';}}function E(a,c,f){return a.map(function(b,i){if(b.type!==c){if(b.children){b.children=E(b.children,c,f);return b;}return b;}return f(b,i,a[i-1],a[i+1]);});}k.hasTrailingWhitespace=(k.original.substr(-1)===' ');var a=k.original.replace(/\\\"/g,"\u0010").split('"');var b=[];for(var i=0;i<a.length;i++){a[i]=a[i].replace(/\u0010/g,'\\"');var F=a[i].split(' ').map(function(x){var c={type:'word',wOriginal:x,children:[]};return c;});F=F.filter(function(w){return w.wOriginal.length>0;});if(a[i].length){if(i%2){b.push({type:'phrase',children:F});}else{b=b.concat(F);}}}k.parsed=b;k.parsed=E(k.parsed,'word',function(w){var b=[];var c=false;var f=w.wOriginal.split('');for(var i=0;i<f.length;i++){if(c){c=false;b.push({type:'character',cOriginal:'\\'+f[i]});}else if(f[i]==='\\'){c=true;}else{b.push({type:'character',cOriginal:f[i]});}}w.children=b;return w;});k.parsed=E(k.parsed,'character',function(c,i,f,s){var r=c.cOriginal;if(r==='*'){r='[^\\s]*?';}else if(r==='?'){r='[^\\s]';}else if(r.match(/\\[*?"\\]/)){}else{r=r.replace(/[\[\]\/\{\}\(\)\+\.\\\^\$\|]/,"\\$&");r=r.replace(/a/i,'(?:a|ae)');r=r.replace(/o/i,'(?:o|oe)');r=r.replace(/u/i,'(?:u|ue)');r=r.replace(/ä/i,'(?:ae|a)');r=r.replace(/ö/i,'(?:oe|o)');r=r.replace(/ü/i,'(?:ue|u)');r=r.replace(/ß/i,'ss');r=r.replace(/æ/i,'ae');r=r.replace(/œ/i,'oe');if(r.normalize){r=r.normalize('NFKD');r=r.replace(/[\u0300-\u036f]/g,"");}}c.cRegExp=r;return c;});E(k.parsed,'word',function(w){w.containsWildcard=false;var f='';var s='';for(var i=0;i<w.children.length;i++){if(i>0&&w.children[i].cOriginal.match(v.AlphaNum_atBegin)&&w.children[i-1].cOriginal.match(v.AlphaNum_atBegin)){s+='[^a0]*';}if(i<w.children.length-1){f+=w.children[i].cRegExp;s+=w.children[i].cRegExp;}if(w.children[i].cOriginal==='*'||w.children[i].cOriginal==='?'){w.containsWildcard=true;}}var c=w.children[w.children.length-1];var x='';if(c.cOriginal==='*'){x='(?:[a]+(?=[^a]|$)|[0]+(?=[^0]|$)|[^\\s]*?|)';}else if(c.cOriginal==='?'){x='(?:[a](?=[^a]|$)|[0](?=[^0]|$)|[^\\sa0](?=[\\sa0]))';}else{x=c.cRegExp;}w.wRegExp=f+x;w.wRegExp2=s+x;return w;});var G=true;var H=k.parsed.map(function(s){var c=[];if(s.type==='phrase'){G=false;s.children=s.children.filter(function(y,i){return(i===s.children.length-1||s.children[i].wOriginal!=='*'||s.children[i+1].wOriginal!=='*');});s.children=s.children.filter(function(y,i){return((i!==0&&i!==s.children.length-1)||y.wOriginal!=='*');});if(!s.children.length){c.push({r:'^',score:g[0],applyHighlighting:false});}else{var f='';E(s.children,'word',function(w,i,x,y){if(w.wOriginal!=='*'){if(i!==0&&x.wOriginal!=='*'&&(!y||y.wOriginal!=='*')){if(!(x.wOriginal.match(v.Alpha_atEnd)&&w.wOriginal.match(v.Alpha_atBegin))&&!(x.wOriginal.match(v.Num_atEnd)&&w.wOriginal.match(v.Num_atEnd))){f+='[^a0]*';}else{f+='[^a0]+';}}f+=w.wRegExp;}else if(C(x).match(v.Alpha_atBegin)&&m(y).match(v.Alpha_atBegin)){f+='(?:[^a]|[^a].*?[^a])';}else if(C(x).match(v.Num_atEnd)&&m(y).match(v.Num_atEnd)){f+='(?:[^0]|[^0].*?[^0])';}else if(C(x).match(v.Alpha_atBegin)&&m(y).match(v.Num_atEnd)){f+='.*?';}else if(C(x).match(v.Num_atEnd)&&m(y).match(v.Alpha_atBegin)){f+='.*?';}else if(C(x)==='*'&&y&&m(y).match(v.Alpha_atBegin)){f+='.*?';}else if(C(x)==='*'&&y&&m(y).match(v.Num_atEnd)){f+='.*?';}else{f+='(?:[^a0]|[^a0].*?[^a0])';}});var z=s.children[s.children.length-1];c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+f+')'+D(z.wOriginal)+'$',score:g[0],applyHighlighting:true});}}else if(s.type==='word'){if(s.wOriginal==='*'){G=false;c.push({r:'^',score:g[0],applyHighlighting:false});}else{c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp+')'+D(s.wOriginal)+'$',score:g[0],applyHighlighting:true});c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp2+')'+D(s.wOriginal)+'$',score:g[1],applyHighlighting:true});}}if(s.type==='word'&&s.containsWildcard===false){c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp+')(.*?)$',score:g[2],applyHighlighting:true});c.push({r:'^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)('+s.wRegExp2+')(.*?)$',score:g[3],applyHighlighting:true});}if(s.type==='word'&&s.containsWildcard===false){c.push({r:'^(.*)('+s.wRegExp+')(.*?)$',score:g[4],applyHighlighting:true});c.push({r:'^(.*)('+s.wRegExp2+')(.*?)$',score:g[5],applyHighlighting:true});}for(var i=0;i<c.length;i++){c[i].r=u(c[i].r,'i');}return{type:'mandatory',r:c};});if(G&&k.parsed.length>1){var r=[];k.parsed.forEach(function(s){r.push(s.wRegExp);});H.push({type:'optional',r:[{r:u('^(.*[^a0]|.*[a](?=[0])|.*[0](?=[a])|)'+r.join('\\s+'),'i'),score:g[6],applyHighlighting:false}]});}return H;},compileTestTerm:function(b){var c={original:'',normalizationMap:[],useNormalizationMap:false,normalized:''};c.original=b.normalize?b.normalize('NFC'):b;c.normalized=c.original.split('').map(function(r){r=r.replace(/ä/i,'ae');r=r.replace(/ö/i,'oe');r=r.replace(/ü/i,'ue');r=r.replace(/ß/i,'ss');r=r.replace(/æ/i,'ae');r=r.replace(/œ/i,'oe');if(r.normalize){r=r.normalize('NFKD');r=r.replace(/[\u0300-\u036f]/g,"");}c.normalizationMap.push(r.length);if(r.length!==1){c.useNormalizationMap=true;}return r;}).join('');return c;}}};return t[a];}function B(s,t){var a=true;var b=0;var c=0;var f=0;var g={};var m={};var i,j,k;for(j in t){g[j]=A.initBitmap(t[j].normalized);}for(i=0;i<s.length;i++){var r=s[i];var w=false;var x=0;for(j in t){var y=false;var z=false;var C=0;for(k=0;k<r.r.length;k++){var D=r.r[k];if(t[j].normalized.match(D.r)){y=true;if(D.applyHighlighting){z=true;g[j]=A.calcBitmap(t[j].normalized,g[j],D.r);}C=Math.max(C,D.score*t[j].weight);}}x+=C;if(y){w=true;}if(z){m[j]=true;}}if(r.type==='mandatory'){f++;if(w){b+=x;}else{a=false;}}else{c+=x;}}var E=b/f+c;if(!a){E=-1;}for(j in m){if(t[j].useNormalizationMap){for(k=0;k<t[j].normalizationMap.length;k++){g[j]=g[j].substr(0,k+1)+g[j].substr(k+t[j].normalizationMap[k]);}}m[j]=A.applyBitmap(t[j].original,g[j]);}return{score:E,highlighted:m};}this.search=function(f){if(!Array.isArray(q)){throw new Error("You must specify objects to search in");}var s;if(typeof f==='string'){s=f;}if(f&&typeof f.searchFor==='string'){s=f.searchFor;}if(s===undefined){throw new Error("You must specify search terms");}var t=parseInt(f.top,10);var g=parseInt(f.skip,10);if(n!==s){var k=e.compileSearchTerm(s);p=[];for(var i=0;i<q.length;i++){var m={};var a;for(var j=0;j<h.length;j++){a=undefined;try{a=q[i][h[j].field];}finally{}if(typeof a==='string'){var c=e.compileTestTerm(a);c.weight=h[j].weight;m[h[j].field]=c;}}var b=B(k,m);if(b.score>-1){p.push({object:q[i],highlighted:b.highlighted,score:b.score});}}p=p.sort(function(a,b){return b.score-a.score;});if(!d.debug){p.forEach(function(a){delete a.score;});}n=s;}var r;if(isNaN(t)&&!isNaN(g)){r=p.slice(g);}else if(!isNaN(t)&&isNaN(g)){r=p.slice(0,t);}else if(!isNaN(t)&&!isNaN(g)){r=p.slice(g,g+t);}else{r=p;}return{totalCount:p.length,results:r};};};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/JsSearchFactory',['sap/ushell/renderers/fiori2/search/appsearch/JsSearch'],function(J){"use strict";return{createJsSearch:function(o){o.algorithm=o.algorithm||{id:'contains-ranked',options:[50,49,40,39,5,4,51]};return new J(o);}};});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/appsearch/TransactionSearch',["sap/ushell/renderers/fiori2/search/SearchHelper"],function(S){"use strict";var T=function(){this.init.apply(this,arguments);};T.prototype={init:function(p){var t=this;sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(c){t.corssAppNavigator=c;});},prefetch:function(){},search:function(q){var t=this;var r={totalCount:0,tiles:[]};t.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();var a=t.oModel.getProperty('/appSearchDataSource');if(a===null){return r;}var s=t.oModel.sinaNext.createSearchQuery();s.skip=q.skip;s.top=q.top;s.filter.searchTerm=t._normalizeSearchTerm(q.searchTerm);s.filter.dataSource=a;return S.convertPromiseTojQueryDeferred(t.oModel.sinaNext.provider.executeSearchQuery(s)).then(function(b){r.totalCount=b.totalCount;return jQuery.when.apply(null,jQuery.map(b.items,this._formatTileAsync.bind(this)));}.bind(this)).then(function(){r.tiles=[].slice.call(arguments);return r;});},_getView:function(t){var v=new sap.m.GenericTile({header:t.title,subheader:t.subtitle,tileContent:new sap.m.TileContent({content:new sap.m.ImageContent({src:t.icon}),footer:sap.ushell.resources.i18n.getText("transactionText")})});if(t.isUshellSupported===false&&t.url.length===0){v.attachPress(function(){sap.m.MessageBox.information(sap.ushell.resources.i18n.getText("NavigationUnsupported"),{actions:[sap.m.MessageBox.Action.OK]});});}else{v.attachPress(function(){window.open(t.url,"_target");});}v.eventLoggingData={targetUrl:t.url,title:t.title};return v;},_formatTileAsync:function(i){var t=this;var a={};var c=t._getTcode(i).value;var b=t._getTcode(i).valueHighlighted;var d=t._getTitle(i).value;var e=t._getTitle(i).valueHighlighted+" - "+b;var u=t._getUshellUrl(i);var f=t._getBackendUrl(i);a={type:"transaction",icon:"sap-icon://action",title:d,label:e,subtitle:c,isUshellSupported:false,url:"",getView:function(){return t._getView(this);}};return t.corssAppNavigator.isIntentSupported([u]).then(function(g){a.isUshellSupported=g[u].supported;if(a.isUshellSupported){a.url=u;}else{a.url=f;}return a;},function(g){a.url=f;return jQuery.resolve(a);});},_normalizeSearchTerm:function(s){if(s==="*"){return s;}var f="";s=s.replace('*',' ');var a=s.split(' ');a.forEach(function(e){e=" *"+e+"* ";f=f+e;});return f;},_getTitle:function(a){var b=a.detailAttributes;var t={value:"",valueHighlighted:""};for(var i=0;i<b.length;i++){if(b[i].id==="TTEXT"){t.value=b[i].value||sap.ushell.resources.i18n.getText("transactionText");t.valueHighlighted=b[i].valueHighlighted||t.value;break;}}return t;},_getTcode:function(a){var b=a.titleAttributes;var t={value:"",valueHighlighted:""};for(var i=0;i<b.length;i++){if(b[i].id==="TCODE"){t.value=b[i].value;t.valueHighlighted=b[i].valueHighlighted||t.value;break;}}return t;},_getUshellUrl:function(i){var t=this;var s="";var a="";if(this.oModel.sinaNext.provider.serverInfo){s="sap-system="+t.oModel.sinaNext.provider.serverInfo.SystemId;}if(t._getTcode(i)!==""){a="&sap-ui2-tcode="+t._getTcode(i).value;}return"#Shell-startGUI?"+s+a;},_getBackendUrl:function(i){var t=this;var u="";if(this.oModel.sinaNext.provider.serverInfo){var h=t.oModel.sinaNext.provider.serverInfo.URL;var p=t.oModel.sinaNext.provider.serverInfo.Port;var c=t.oModel.sinaNext.provider.serverInfo.Client;var a=t._getTcode(i).value;if(h&&p&&c&&a.length!==""){u=h+":"+p+"/sap/bc/gui/sap/its/webgui/?sap-client="+c+"&~transaction="+a;}}return u;}};return T;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/Component',['sap/ui/core/UIComponent'],function(U){"use strict";return U.extend("sap.ushell.renderers.fiori2.search.container.Component",{metadata:{version:"1.64.0",library:"sap.ushell.renderers.fiori2.search.container",includes:[],dependencies:{libs:["sap.m"],components:[]},config:{title:sap.ushell.resources.i18n.getText("searchAppTitle"),compactContentDensity:true,cozyContentDensity:true}},createContent:function(){return sap.ui.view({id:"searchContainerApp",viewName:"sap.ushell.renderers.fiori2.search.container.App",type:sap.ui.core.mvc.ViewType.JS});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentControl',['sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup','sap/ushell/renderers/fiori2/search/controls/SearchFilterBar'],function(S,a){"use strict";var m=sap.ushell.renderers.fiori2.search.container.ComponentControl={};jQuery.extend(m,{init:function(){this.oSearchFieldGroup=new S("searchFieldInShell");this.oSearchResults=sap.ui.view({id:"searchContainerResultsView",viewName:"sap.ushell.renderers.fiori2.search.container.Search",type:sap.ui.core.mvc.ViewType.JS});this.oSearchBar=new sap.m.Bar({visible:{parts:[{path:'/count'},{path:'/facetVisibility'}],formatter:function(c,f){if(f){return c!==0;}else{return c!==0;}}},contentLeft:[this.oSearchResults.assembleFilterButton(),this.oSearchResults.assembleDataSourceTapStrips()],contentRight:this.oSearchResults.assembleSearchToolbar(true)});this.oSearchBar.addStyleClass('sapUshellSearchBar');this.oFilterBar=new sap.ushell.renderers.fiori2.search.controls.SearchFilterBar({visible:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}else{return false;}}}});this.oSearchPage=new sap.m.Page({id:'searchPage',customHeader:this.oSearchBar,subHeader:this.oFilterBar,content:[this.oSearchResults],enableScrolling:true,showFooter:{parts:['/errors/length'],formatter:function(n){return n>0;}},showHeader:true,showSubHeader:{parts:[{path:'/facetVisibility'},{path:'/uiFilter/rootCondition'}],formatter:function(f,r){if(!f&&r&&r.hasFilters()){return true;}else{return false;}}}});},createFooter:function(p){var t=this;t.oModel=p.getModel();if(jQuery.device.is.phone){return;}var e=new sap.m.MessagePopover({placement:"Top"});e.setModel(t.oModel);e.bindAggregation("items","/errors",function(i,C){var b=new sap.m.MessagePopoverItem({title:"{title}",description:"{description}"});switch(C.oModel.getProperty(C.sPath).type.toLowerCase()){case"error":b.setType(sap.ui.core.MessageType.Error);break;case"warning":b.setType(sap.ui.core.MessageType.Warning);break;default:b.setType(sap.ui.core.MessageType.Information);}return b;});var E=new sap.m.Button("searchErrorButton",{icon:sap.ui.core.IconPool.getIconURI("alert"),text:{parts:[{path:'/errors/length'}],formatter:function(l){return l;}},visible:{parts:[{path:'/errors/length'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay},type:sap.m.ButtonType.Emphasized,tooltip:sap.ushell.resources.i18n.getText('errorBtn'),press:function(){e.openBy(E);}});E.addDelegate({onAfterRendering:function(){if(!t.oModel.getProperty('/isErrorPopovered')){E.firePress();t.oModel.setProperty('/isErrorPopovered',true);}}});E.setLayoutData(new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}));var c=[E];t.oBar=new sap.m.OverflowToolbar({content:c}).addStyleClass("MyBar");var f=p.getFooter();if(f&&f.destroy){f.destroy();}p.setFooter(t.oBar);}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentIndexScript',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.container.ComponentIndexScript');sap.ui.getCore().attachInit(function(){sap.ui.require(['sap/ushell/renderers/fiori2/search/container/ComponentService'],function(C){C.init();sap.ui.require(['sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage','sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/container/ComponentControl'],function(P,S,a){P.getInstance();if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}a.init();this.oSearchFieldGroup=a.oSearchFieldGroup;this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.setModel(this.oModel);this.oSearchFieldGroup.addStyleClass('sapSearchFieldGroup');this.oSearchBar=new sap.ui.layout.HorizontalLayout();this.oSearchBar.addContent(this.oSearchFieldGroup);this.oSearchBar.addStyleClass('sapSearchBar');this.oSearchBar.placeAt("content","first");});});});var r=function(){if(window.location.hash.indexOf("#Action-search")===0){window.location.href=window.location.origin+window.location.pathname.slice(0,window.location.pathname.indexOf('/sap/ushell/renderers/fiori2/search/container/'))+"/sap/ushell/renderers/fiori2/search/container/Component.html"+window.location.search+window.location.hash;}};$(window).bind('hashchange',function(){r();});$(document).ready(function(){r();});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentScript',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.container.ComponentScript');if(!window.location.hash){window.location.hash="#Action-search&/searchterm=*";}sap.ui.getCore().attachInit(function(){sap.ui.require(['sap/ushell/renderers/fiori2/search/container/ComponentService'],function(C){C.init();sap.ui.require(['sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage','sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/container/ComponentControl'],function(P,S,a){P.getInstance();if(!this.oModel){this.oModel=sap.ushell.renderers.fiori2.search.getModelSingleton();}this.oModel.searchUrlParser.parse().then(function(){a.init();this.oSearchFieldGroup=a.oSearchFieldGroup;this.oSearchFieldGroup.setCancelButtonActive(false);this.oSearchFieldGroup.setModel(this.oModel);this.oSearchFieldGroup.addStyleClass('sapSearchFieldGroup');this.oSearchFieldGroup.input.setValue(this.oModel.getSearchBoxTerm());this.oLogo=new sap.m.Image({src:'/logo.png',press:function(){window.location='index.html';}});this.oLogout=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("log"),press:function(){window.location='index.html';}}).addStyleClass('sapSearchLogout');this.oSearchBar=new sap.ui.layout.HorizontalLayout();this.oSearchBar.addContent(this.oLogo);this.oSearchBar.addContent(this.oSearchFieldGroup);this.oSearchBar.addContent(this.oLogout);this.oSearchBar.addStyleClass('sapSearchBar');this.oSearchBar.placeAt("content","first");this.oSearchPage=a.oSearchPage;this.oSearchPage.setModel(this.oModel);this.oSearchPage.setModel(sap.ushell.resources.i18nModel,"i18n");this.oSearchPage.placeAt("content","last");this.oSearchPage.addStyleClass('sapSearchPage');a.createFooter(this.oSearchPage);}.bind(this));});});});$(window).bind('hashchange',function(){if(this.oModel){this.oModel.parseURL();this.oSearchFieldGroup.input.setValue(this.oModel.getSearchBoxTerm());}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/container/ComponentService',["sap/ushell/renderers/fiori2/search/SearchConfiguration","jquery.sap.storage"],function(S){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.container.ComponentService');var m=sap.ushell.renderers.fiori2.search.container.ComponentService={};jQuery.extend(m,{init:function(){sap.ushell.Container={getService:function(n){if(n==="Search"){return{queryApplications:function(p){return jQuery.when().then(function(){return{totalResults:0,searchTerm:p.searchTerm,getElements:function(){return[];}};});}};}else if(n==="URLParsing"){return{parseParameters:function(s){s=s.substr(1);var r={};var p=s.split("&");for(var i=0;i<p.length;i++){var a=p[i].split("=");if(!a[1]){a[1]="";}r[a[0]]=[a[1]];}return r;},splitHash:function(h){var r={};r.appSpecificRoute=h.substr(14);return r;}};}},getLogonSystem:function(n){return{getName:function(){return;},getClient:function(){return;}};}};sap.ushell.resources={};var u=navigator.language||navigator.userLanguage;sap.ushell.resources.i18nModel=new sap.ui.model.resource.ResourceModel({bundleUrl:"../../resources/resources.properties",bundleLocale:u});sap.ushell.resources.i18n=sap.ushell.resources.i18nModel.getResourceBundle();}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItem',['sap/ushell/renderers/fiori2/search/controls/SearchResultListItem','sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItemContent'],function(){"use strict";return sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.extend("sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItem",{metadata:{properties:{content:{type:"sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent"}}},init:function(){sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.prototype.init.apply(this,arguments);},setupCustomContentControl:function(){var c=this.getContent();c.setTitle(this.getTitle());c.setTitleUrl(this.getTitleUrl());c.setType(this.getType());c.setImageUrl(this.getImageUrl());c.setAttributes(this.getAttributes());},renderer:function(r,c){c.setupCustomContentControl();sap.ushell.renderers.fiori2.search.controls.SearchResultListItemRenderer.render.apply(this,arguments);},onAfterRendering:function(){sap.ushell.renderers.fiori2.search.controls.SearchResultListItem.prototype.onAfterRendering.apply(this,arguments);this.getContent().getTitleVisibility();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/CustomSearchResultListItemContent',[],function(){"use strict";return sap.ui.base.ManagedObject.extend("sap.ushell.renderers.fiori2.search.controls.CustomSearchResultListItemContent",{metadata:{properties:{title:"string",titleUrl:"string",type:"string",imageUrl:"string",attributes:{type:"object",multiple:true},intents:{type:"object",multiple:true}}},init:function(){},getContent:function(){return undefined;},getTitleVisibility:function(){return true;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/DivContainer',[],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.DivContainer",{metadata:{properties:{"cssClass":"string"},aggregations:{"content":{singularName:"content",multiple:true}}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass(c.getCssClass());r.writeClasses();r.write('>');var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write('</div>');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchAdvancedCondition',['sap/ui/layout/HorizontalLayout','sap/ushell/renderers/fiori2/search/SearchFacetDialogHelper'],function(H,S){"use strict";return sap.ui.layout.HorizontalLayout.extend('sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition',{metadata:{properties:{"type":""}},constructor:function(o){var t=this;o=jQuery.extend({},{allowWrapping:true,content:t.contentFactory(o)},o);sap.ui.layout.HorizontalLayout.prototype.constructor.apply(this,[o]);t.addStyleClass('sapUshellSearchFacetDialogDetailPageCondition');},renderer:'sap.ui.layout.HorizontalLayoutRenderer',contentFactory:function(o){var t=this;var a=new sap.m.CheckBox({select:function(e){if(o.type==="string"||o.type==="text"){S.updateCountInfo(e.getSource().getParent().getParent().getParent().getParent().getParent().getParent());}else{S.updateCountInfo(e.getSource().getParent().getParent().getParent());}}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionCheckBox');var A=sap.ui.getCore().byId("advancedCheckBoxLabel");if(A){A=new sap.ui.core.InvisibleText("advancedCheckBoxLabel",{text:sap.ushell.resources.i18n.getText("checkBox")});}a.addAriaLabelledBy("advancedCheckBoxLabel");var O=sap.ui.getCore().byId("operatorLabel");if(!O){O=new sap.ui.core.InvisibleText("operatorLabel",{text:sap.ushell.resources.i18n.getText("operator")});}var i,b,I,s;switch(o.type){case'timestamp':case'date':i=new sap.m.DateRangeSelection({width:'86%',change:function(e){t.onDateRangeSelectionChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');i.onAfterRendering=function(){var e=$(this.getDomRef());$('input',e).attr('readonly','readonly');};break;case'string':a.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText("filterCondition"),liveChange:function(e){t.onAdvancedInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');s=new sap.m.Select({width:'40%',tooltip:sap.ushell.resources.i18n.getText("operator"),items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("equals"),key:'eq'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("beginsWith"),key:'bw'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("endsWith"),key:'ew'}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("contains"),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');s.addAriaLabelledBy("operatorLabel");i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[s,I]});b=new sap.m.Button({icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Transparent,tooltip:sap.ushell.resources.i18n.getText("removeButton"),press:function(e){t.onDeleteButtonPress(e);}});break;case'text':a.setVisible(false);I=new sap.m.Input({width:'57%',placeholder:sap.ushell.resources.i18n.getText("filterCondition"),liveChange:function(e){t.onAdvancedInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');s=new sap.m.Select({width:'40%',tooltip:sap.ushell.resources.i18n.getText("operator"),items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("containsWords"),key:'co'})]}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionSelect');s.addAriaLabelledBy("operatorLabel");i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[s,I]});b=new sap.m.Button({icon:"sap-icon://sys-cancel",type:sap.m.ButtonType.Transparent,tooltip:sap.ushell.resources.i18n.getText("removeButton"),press:function(e){t.onDeleteButtonPress(e);}});break;case'number':var c=new sap.m.Input({width:'46.5%',placeholder:sap.ushell.resources.i18n.getText("fromPlaceholder"),liveChange:function(e){t.onAdvancedNumberInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var d=new sap.m.Input({width:'46.5%',placeholder:sap.ushell.resources.i18n.getText("toPlaceholder"),liveChange:function(e){t.onAdvancedNumberInputChange(e);}}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionInput');var l=new sap.m.Label({text:'...'}).addStyleClass('sapUshellSearchFacetDialogDetailPageConditionLabel');i=new sap.ui.layout.HorizontalLayout({allowWrapping:true,content:[c,l,d]});i.addEventDelegate({onAfterRendering:function(e){var f=e.srcControl.getParent().getParent().getContent().length;var g=e.srcControl.getParent().getParent().indexOfAggregation("content",e.srcControl.getParent());if(g===f-2){var v=e.srcControl.getContent()[2].getValue();e.srcControl.getContent()[2].setValue();e.srcControl.getContent()[2].setValue(v);}}});break;default:break;}return[a,i,b];},onDateRangeSelectionChange:function(e){var d=e.getSource();var a=d.getParent();var A=a.getContent()[0];if(d.getDateValue()&&d.getSecondDateValue()){A.setSelected(true);S.insertNewAdvancedCondition(a,"date");S.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}},onAdvancedInputChange:function(e){var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getValue()){A.setSelected(true);S.updateCountInfo(a.getParent().getParent().getParent().getParent().getParent());}else{A.setSelected(false);}},onDeleteButtonPress:function(e){var a=e.getSource().getParent();S.deleteAdvancedCondition(a);},onAdvancedNumberInputChange:function(e){var i=e.getSource();var a=i.getParent().getParent();var A=a.getContent()[0];if(i.getParent().getContent()[0].getValue()&&i.getParent().getContent()[2].getValue()){A.setSelected(true);S.insertNewAdvancedCondition(a,"number");S.updateCountInfo(a.getParent().getParent());}else{A.setSelected(false);}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchButton',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/m/Button'],function(S){"use strict";sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchButton',{constructor:function(i,o){o=jQuery.extend({},{icon:sap.ui.core.IconPool.getIconURI("search"),tooltip:sap.ushell.resources.i18n.getText("search"),enabled:{parts:[{path:"/initializingObjSearch"}],formatter:function(a){return!S.isSearchAppActive()||!a;}}},o);sap.m.Button.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchBtn');},renderer:'sap.m.ButtonRenderer'});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacet',['sap/ushell/renderers/fiori2/search/controls/SearchFacetItem','sap/m/List'],function(){"use strict";sap.m.List.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacet',{metadata:{properties:{eshRole:{type:"string",defaultValue:"datasource"}}},init:function(){this.data("sap-ui-fastnavgroup","false",true);},constructor:function(i,o){o=jQuery.extend({},{mode:sap.m.ListMode.SingleSelectMaster,showSeparators:sap.m.ListSeparators.None,includeItemInSelection:true,selectionChange:function(e){if(this.getEshRole()==="attribute"){this.handleItemPress(e);}},itemPress:function(e){if(this.getEshRole()==="datasource"){this.handleItemPress(e);}}},o);sap.m.List.prototype.constructor.apply(this,[i,o]);this.addStyleClass('sapUshellSearchFacet');},handleItemPress:function(e){var l=e.mParameters.listItem;var s=l.getBindingContext().getObject();if(l.getSelected()){this.getModel().addFilterCondition(s.filterCondition);this.getModel().eventLogger.logEvent({type:this.getModel().eventLogger.FACET_FILTER_ADD,referencedAttribute:s.facetAttribute,clickedValue:s.value,clickedPosition:l.getList().getItems().indexOf(l)});}else{this.getModel().removeFilterCondition(s.filterCondition);this.getModel().eventLogger.logEvent({type:this.getModel().eventLogger.FACET_FILTER_DEL,referencedAttribute:s.facetAttribute,clickedValue:s.value,clickedPosition:l.getList().getItems().indexOf(l)});}},renderer:'sap.m.ListRenderer',onAfterRendering:function(){var i=jQuery(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];if(i){var I=sap.ui.getCore().byId(i.id);I.setVisible(false);}},setEshRole:function(r){var t=this;var i={path:"items",template:new sap.ushell.renderers.fiori2.search.controls.SearchFacetItem(),groupHeaderFactory:function(g){var a=new sap.m.GroupHeaderListItem({title:g.key,upperCase:false});if(t.getModel().config.charts){a.setVisible(false);}return a;}};switch(r.toLowerCase()){case"attribute":this.setMode(sap.m.ListMode.MultiSelect);this.setHeaderText("");break;default:this.setMode(sap.m.ListMode.SingleSelectMaster);this.setHeaderText(sap.ushell.resources.i18n.getText("searchIn"));break;}this.bindAggregation("items",i);this.setProperty("eshRole",r);return this;},setModel:function(){return sap.m.List.prototype.setModel.apply(this,arguments);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetBarChart',['sap/suite/ui/microchart/ComparisonMicroChart'],function(H){"use strict";sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart',{metadata:{properties:{lastUpdated:{type:"string"},aItems:{type:"object"}},aggregations:{'items':{type:'sap.suite.ui.microchart.ComparisonMicroChartData',multiple:true}}},constructor:function(o){var t=this;t.options=o;sap.ui.core.Control.prototype.constructor.apply(this);this.bindAggregation('items','items',function(){var c=new sap.suite.ui.microchart.ComparisonMicroChartData({title:'{label}',value:'{value}',color:{path:'selected',formatter:function(v){var r=sap.m.ValueColor.Good;if(!v){r=sap.m.ValueColor.Neutral;}return r;}},displayValue:'{valueLabel}',press:function(e){var a=e.getSource().getBindingContext();var m=a.getModel();var d=a.getObject();var i=d.selected;var f=d.filterCondition;if(i){if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.removeFilterCondition(f,true);}}else if(t.options.oSearchFacetDialog){t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{m.addFilterCondition(f,true);}}});return c;});},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');var C=new sap.suite.ui.microchart.ComparisonMicroChart({width:"90%",colorPalette:"",press:function(e){},tooltip:"",shrinkable:true});if(c.options.oSearchFacetDialog){C.setWidth("95%");C.addStyleClass("sapUshellSearchFacetBarChartLarge");}else{C.addStyleClass("sapUshellSearchFacetBarChart");}C.addEventDelegate({onAfterRendering:function(e){$('#'+this.sId).has('.Good').addClass("sapUshellSearchFacetBarChartSelected");}});var a=c.getItems();var b=c.getAItems();if(a.length===0&&b){a=b;}var m=0;for(var i=0;i<a.length;++i){var d=a[i];if(!c.options.oSearchFacetDialog){if(d.mProperties&&d.mProperties.value){C.addData(d);}else if(d.mProperties&&!d.mProperties.value){m++;}}else{C.addData(d);}}c.iMissingCnt=m;r.renderControl(C);r.write('</div>');},onAfterRendering:function(){var t=this;var a=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];var I=sap.ui.getCore().byId(a.id);if(t.iMissingCnt>0){I.setVisible(true);var m=sap.ushell.resources.i18n.getText("infoZeileNumberMoreSelected",[t.iMissingCnt]);I.setText(m);}else{I.setVisible(false);}var A=$(".sapSuiteUiMicroChartPointer");for(var i=0;i<A.length;i++){var b=A[i];var s=b.title;if(s&&s.indexOf(":")===-1){b.title=s.replace(/( \d+) *$/,':$1');}}},setEshRole:function(){}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchFacetDialogHelper','sap/ushell/renderers/fiori2/search/SearchFacetDialogHelperCharts','sap/ushell/renderers/fiori2/search/controls/SearchAdvancedCondition','sap/m/Dialog'],function(s,a,b){"use strict";sap.m.Dialog.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog',{constructor:function(o){var t=this;t.bShowCharts=true;t.bOldPieChart=true;if(jQuery.sap.getUriParameters().mParams.newpie&&jQuery.sap.getUriParameters().get("newpie")!=="false"){t.bOldPieChart=false;}t.chartOnDisplayIndex=o.selectedTabBarIndex;t.facetOnDisplayIndex=0;t.chartOnDisplayIndexByFilterArray=[];t.aItemsForBarChart=[];t.tabBarItems=o.tabBarItems;t.searchFacetDialogHelperCharts=b;if(!t.tabBarItems){b.setDummyTabBarItems(t);}o=jQuery.extend({},{showHeader:false,horizontalScrolling:false,verticalScrolling:false,contentHeight:'35rem',beginButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("okDialogBtn"),press:function(e){t.onOkClick(e);t.close();t.destroy();}}),endButton:new sap.m.Button({text:sap.ushell.resources.i18n.getText("cancelDialogBtn"),press:function(e){t.onCancelClick(e);t.close();t.destroy();}}),content:[t.createContainer()]},o);t.selectedAttribute=o.selectedAttribute?o.selectedAttribute:"";delete o.selectedAttribute;delete o.selectedTabBarIndex;delete o.tabBarItems;sap.m.Dialog.prototype.constructor.apply(this,[o]);a.init(t);b.init(t);t.addStyleClass('sapUshellSearchFacetDialog');t.onSearchFieldLiveChange=s.delayedExecution(t.onSearchFieldLiveChange,1000);},renderer:'sap.m.DialogRenderer',createContainer:function(){var t=this;t.oSplitContainer=new sap.m.SplitContainer({masterPages:t.createMasterPages()});t.oSplitContainer.bindAggregation("detailPages","/facetDialog",function(i,c){return t.createDetailPages(i,c);});t.oSplitContainer.addStyleClass('sapUshellSearchFacetDialogContainer');return t.oSplitContainer;},createMasterPages:function(){var t=this;var f=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){t.onMasterPageSelectionChange(e);}});f.addStyleClass('sapUshellSearchFacetDialogFacetList');f.bindAggregation("items","/facetDialog",function(i,c){var l=new sap.m.StandardListItem({title:"{title}",counter:"{count}"});return l;});var r=new sap.m.Button({icon:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"),type:'Transparent',enabled:false,press:function(e){t.resetAllFilters(e);}});r.addStyleClass("sapUshellSearchFacetDialogFilterResetButton");var m=new sap.m.Page({title:sap.ushell.resources.i18n.getText("filters"),headerContent:r,content:[f]}).addStyleClass('sapUshellSearchFacetDialogMasterContainer');m.addEventDelegate({onAfterRendering:function(e){if(t.selectedAttribute){for(var i=0;i<f.getItems().length;i++){var l=f.getItems()[i];var B=l.getBindingContext().getObject();if(t.selectedAttribute===B.dimension){f.setSelectedItem(l);t.facetOnDisplayIndex=i;t.chartOnDisplayIndexByFilterArray.push(t.chartOnDisplayIndex);}else{var n=0;var c=l.getBindingContext().getModel().oData.facets;for(var j=0;j<c.length;j++){if(c[j].chartIndex&&c[j].dimension===B.dimension&&!isNaN(c[j].chartIndex)){n=c[j].chartIndex;}}t.chartOnDisplayIndexByFilterArray.push(n);}}}if(!f.getSelectedItem()){f.setSelectedItem(f.getItems()[0]);}var S=f.getSelectedItem();a.updateDetailPage(S,null,true);t.resetEnabledForFilterResetButton();}});var M=[m];return M;},resetAllFilters:function(e){var c=$(".sapUshellSearchFacetDialogSettingsContainer").find(".sapMCbBg.sapMCbHoverable.sapMCbMark");if(c.length===1){var i=c[0].parentNode.id;var C=sap.ui.getCore().byId(i);C.setSelected(false);C.setEnabled(false);}var m=this.getModel();m.aFilters=[];a.bResetFilterIsActive=true;var M=a.getFacetList();var f=M.getItems();for(var j=0;j<f.length;j++){f[j].setCounter(0);}this.resetAdvancedConditionFilters();a.resetChartQueryFilters();a.updateDetailPage(M.getSelectedItem());this.resetEnabledForFilterResetButton();a.bResetFilterIsActive=false;},resetAdvancedConditionFilters:function(){var t=this;var A,c,n,d,p,C,j;var D=t.oSplitContainer.getDetailPages();for(var i=0;i<D.length;i++){var o=D[i];n=a.POS_ATTRIBUTE_LIST_CONTAINER;A=o.getContent()[n];if(A){for(j=A.getContent().length-2;j>0;j--){c=A.getContent()[j];p=c.getParent();C=c;p.removeContent(C);}}else{n=a.POS_ICONTABBAR;d=a.POS_TABBAR_CONDITION;A=o.getContent()[n].getItems()[d].getContent()[0];if(A){for(j=A.getContent().length-1;j>-1;j--){c=A.getContent()[j];if(c.getContent&&c.getContent()[1]){var e=c.getContent()[1].getContent()[1];var f=e.getValue();if(f&&(""+f).length>0){p=c.getParent();C=c;p.removeContent(C);}}}}}}},resetEnabledForFilterResetButton:function(f){var F=false;var o=0;var m=a.getFacetList();var c=m.getItems();for(var i=0;i<c.length;i++){o+=c[i].getCounter();}var M=this.getModel();if(M.aFilters&&M.aFilters.length>0||f||o>0){F=true;}var d=$('.sapUshellSearchFacetDialogFilterResetButton')[0].id;var r=sap.ui.getCore().byId(d);r.setEnabled(F);},onMasterPageSelectionChange:function(e){var t=this;var l=e.mParameters.listItem;t.facetOnDisplayIndex=l.getParent().indexOfItem(l.getParent().getSelectedItem());t.setChartOnDisplayIndexForFacetListItem(t.facetOnDisplayIndex);var m=l.getParent().getModel();var B=l.getBindingContext().sPath;t.resetIcons(m,B,t);a.updateDetailPage(l);if(t.oSplitContainer.getMode()==="ShowHideMode"){t.oSplitContainer.hideMaster();}t.controlChartVisibility(t,t.chartOnDisplayIndex);},createDetailPages:function(i,c){var t=this;var f=c.oModel.getProperty(c.sPath).facetType;var d=c.oModel.getAttributeDataType(c.oModel.getProperty(c.sPath));var S=new sap.m.Select({items:[new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("notSorted"),key:"notSorted"}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("sortByCount"),key:"sortCount"}),new sap.ui.core.Item({text:sap.ushell.resources.i18n.getText("sortByName"),key:"sortName"})],selectedKey:(d==="string"||d==="text")?"sortCount":"notSorted",change:function(E){t.onSelectChange(E);}}).addStyleClass('sapUshellSearchFacetDialogSettingsSelect');var h=new sap.m.HBox({alignItems:sap.m.FlexAlignItems.End,justifyContent:sap.m.FlexJustifyContent.End,items:[S]});var C=new sap.m.CheckBox({text:sap.ushell.resources.i18n.getText("showSelectedOnTop"),enabled:false,select:function(E){t.onCheckBoxSelect(E);}});var o=new sap.m.VBox({items:[h,C]}).addStyleClass('sapUshellSearchFacetDialogSettingsContainer');o.setVisible(false);var l=new sap.m.List({backgroundDesign:sap.m.BackgroundDesign.Transparent,includeItemInSelection:true,showNoData:false,showSeparators:sap.m.ListSeparators.None,selectionChange:function(E){t.onDetailPageSelectionChange(E);}});l.addStyleClass('sapUshellSearchFacetDialogDetailPageList');l.addStyleClass('largeChart0');if(f==="attribute"){l.setMode(sap.m.ListMode.MultiSelect);}var B={path:"items",factory:function(i,c){var q=c.oModel.getProperty(c.sPath);var r=new sap.m.StandardListItem({title:"{label}",tooltip:sap.ushell.resources.i18n.getText("facetListTooltip",["{label}","{value}"]),info:"{valueLabel}",selected:"{selected}"});if(q.selected){c.oModel.addFilter(q);}return r;}};if(d==="number"){S.removeItem(2);}B.filters=new sap.ui.model.Filter("advanced",sap.ui.model.FilterOperator.NE,true);l.bindAggregation("items",B);l.data('dataType',d);if(t.bShowCharts){l.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,0);}});}var L,e,g;e=b.getBarChartPlaceholder();e.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,1);}});e.data('dataType',d);if(t.bOldPieChart){g=b.getPieChartPlaceholder();}else{g={};}g.addEventDelegate({onAfterRendering:function(E){t.hideSelectively(E,t,2);}});if(t.bShowCharts&&(d==="string"||d==="text")){L=new sap.m.ScrollContainer({height:'67.2%',horizontal:false,vertical:true,content:[l,e,g]});}else{L=new sap.m.ScrollContainer({height:'calc(100% - 0.25rem)',horizontal:false,vertical:true,content:[l]});}L.addStyleClass('sapUshellSearchFacetDialogDetailPageListContainer');L.addStyleClass('searchFacetLargeChartContainer');L.setBusyIndicatorDelay(0);var A=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:d});var p;if(d==="string"||d==="text"){var j=new sap.m.ScrollContainer({horizontal:false,vertical:true,content:[A]});j.addStyleClass('sapUshellSearchFacetDialogDetailPageAdvancedContainer');var P=new sap.m.Button({icon:"sap-icon://add",type:sap.m.ButtonType.Transparent,press:function(E){t.onPlusButtonPress(E,d);}});j.addContent(P);j.data('dataType',d);j.data('initial',true);L.setHeight('calc(100% - 0.25rem)');j.setHeight('100%');var k=b.getDropDownButton(t);var m=new sap.m.Toolbar({content:[new sap.m.SearchField({placeholder:sap.ushell.resources.i18n.getText("filterPlaceholder"),liveChange:function(E){t.onSearchFieldLiveChange(E.oSource.getValue());}}),new sap.m.ToggleButton({icon:"sap-icon://sort",press:function(E){t.onSettingButtonPress(E);}}).addStyleClass('sapUshellSearchFacetDialogSortButton')]}).addStyleClass('sapUshellSearchFacetDialogSubheaderToolbar');m.addEventDelegate({onAfterRendering:function(E){$('.sapUshellSearchFacetDialogSubheaderToolbar').removeClass("sapContrastPlus");}});if(t.bShowCharts){m.addContent(k);}var T=new sap.m.Page({showHeader:false,subHeader:m,content:[o,L]}).addStyleClass('sapUshellSearchFacetDialogDetailPage');var I=new sap.m.IconTabBar({expandable:false,stretchContentHeight:true,backgroundDesign:sap.m.BackgroundDesign.Transparent,applyContentPadding:false,select:function(E){t.controlChartVisibility(t,t.chartOnDisplayIndex);},items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("selectFromList"),content:[T]}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("defineCondition"),content:[j]})]});I.addStyleClass('sapUshellSearchFacetDialogIconTabBar');p=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[I]});p.addStyleClass('sapUshellSearchFacetDialogDetailPageString');}else{L.addContent(A);L.data('dataType',d);L.data('initial',true);if(t.bShowCharts){var n=c.oModel.getProperty(c.sPath).title;p=new sap.m.Page({title:n,showHeader:true,content:[o,L]});}else{p=new sap.m.Page({showHeader:true,title:c.oModel.getProperty(c.sPath).title,content:[o,L]});}p.addStyleClass('sapUshellSearchFacetDialogDetailPage');}p.addEventDelegate({onAfterRendering:function(E){t.controlChartVisibility(t,t.chartOnDisplayIndex);}});return p;},onDetailPageSelectionChange:function(e){var t=this;var S=e.mParameters.listItem;var B=S.getBindingContext().getObject();if(S.getSelected()){B.listed=true;t.getModel().addFilter(B);}else{B.listed=false;t.getModel().removeFilter(B);}var l=e.oSource;var d;if(l.data('dataType')==="string"||l.data('dataType')==="text"){d=l.getParent().getParent().getParent().getParent().getParent().getParent();}else{d=l.getParent().getParent();}a.updateCountInfo(d);var o=l.getParent().getParent().getContent()[a.POS_SETTING_CONTAINER];var c=o.getItems()[a.POS_SHOWONTOP_CHECKBOX];var f=o.getItems()[a.POS_SORTING_SELECT].getItems()[0];if(c.getSelected()){c.setSelected(false);f.setSelectedKey("notSorted");}if(l.getSelectedContexts().length>0){c.setEnabled(true);}else{c.setEnabled(false);}},onSearchFieldLiveChange:function(v){var S=a.getFacetList().getSelectedItem();a.updateDetailPage(S,v);},onSettingButtonPress:function(e){var p=e.oSource.getPressed();var S=e.oSource.getParent().getParent().getContent()[a.POS_SETTING_CONTAINER];var l=e.oSource.getParent().getParent().getContent()[a.POS_ATTRIBUTE_LIST_CONTAINER];if(p){S.setVisible(true);l.setHeight('calc(100% - 4.25rem)');}else{S.setVisible(false);l.setHeight('calc(100% - 0.25rem)');}},onSelectChange:function(e){a.sortingAttributeList(e.oSource.getParent().getParent().getParent());},onCheckBoxSelect:function(e){a.sortingAttributeList(e.oSource.getParent().getParent());},onPlusButtonPress:function(e,t){var A=e.getSource().getParent();var n=new sap.ushell.renderers.fiori2.search.controls.SearchAdvancedCondition({type:t});var i=A.getAggregation("content").length-1;A.insertAggregation("content",n,i);},onOkClick:function(e){var t=this;var M=t.getModel();var S=t.getModel('searchModel');S.resetFilterConditions(false);var d=t.oSplitContainer.getDetailPages();for(var m=0;m<M.aFilters.length;m++){var c=M.aFilters[m];if(!c.advanced||c.listed){S.addFilterCondition(c.filterCondition,false);}}for(var i=0;i<d.length;i++){if(a.getFacetList().getItems()[i]){a.applyAdvancedCondition(d[i],a.getFacetList().getItems()[i].getBindingContext().getObject(),S);}}S.filterChanged=true;S._firePerspectiveQuery();S.eventLogger.logEvent({type:S.eventLogger.FACET_SHOW_MORE_CLOSE});},onCancelClick:function(e){var S=this.getModel('searchModel');S.eventLogger.logEvent({type:S.eventLogger.FACET_SHOW_MORE_CLOSE});},setChartOnDisplayIndexForFacetListItem:function(f){var t=this;var r=0;try{r=t.chartOnDisplayIndexByFilterArray[f];}catch(e){r=0;}if(r===undefined){r=0;}t.chartOnDisplayIndex=r;},resetIcons:function(m,p,c){var t=this;var d=false;var D=m.getAttributeDataType(m.getProperty(p));if(t.bShowCharts&&(D==="string"||D==="text")){d=true;}var e=$('.sapUshellSearchFacetDialogTabBarButton');if(d){e.css("display","block");for(var i=0;i<e.length;i++){var f=e[i].id;var o=sap.ui.getCore().byId(f);var g=c.tabBarItems[c.chartOnDisplayIndex].getIcon();o.setIcon(g);var h=c.tabBarItems[c.chartOnDisplayIndex].getText();var j=sap.ushell.resources.i18n.getText('displayAs',[h]);o.setTooltip(j);}}else{e.css("display","none");}},onDetailPageSelectionChangeCharts:function(e){var t=this;var c=0;var d,m,f,g,h,S,k,B,p,M;var l,j,n,N,i,o;if(e.getSource&&e.sId==="press"){d=e.getSource().getBindingContext();m=d.getModel();f=d.getObject();g=f.selected;h=g?false:true;S=e.getSource();k=S.getBindingContext().sPath+"/selected";m.setProperty(k,h);B=S.getBindingContext().getObject();if(h){m.addFilter(B);}else{m.removeFilter(B);}p=k.replace(/\/items.+/,'');p+="/items";n=m.getProperty(p);c=0;for(i=0;i<n.length;i++){N=n[i];if(N.selected===true){c++;}}}else if(e.getSource&&(e.sId==="selectData"||e.sId==="deselectData")){d=e.getSource().getBindingContext();m=d.getModel();f=d.getObject();h=(e.sId==="selectData")?true:false;S=e.getSource();k=S.getBindingContext().sPath+"/items/";for(j=0;j<e.getParameters().data.length;j++){l=e.getParameters().data[j].data._context_row_number;k+=l+"/selected";m.setProperty(k,h);B=S.getBindingContext().getObject().items[l];if(h){m.addFilter(B);}else{m.removeFilter(B);}}p=k.replace(/\/items.+/,'');p+="/items";n=m.getProperty(p);c=0;for(i=0;i<n.length;i++){if(n[i].selected===true){c++;}}var q=e.mParameters.data.length;if(!h&&q>1){c=0;for(i=0;i<n.length;i++){n[i].selected=false;}}}else{f=e.dataObject;g=f.selected;h=g?false:true;c=e.cnt;m=e.model;B=new sap.ushell.renderers.fiori2.search.FacetItem();B.facetAttribute=f.dimension;B.filterCondition=f.filterCondition;B.label=f.label;B.selected=f.selected;B.listed=f.selected;B.value=f.value;B.valueLabel=f.valueLabel;for(j=0;j<t.aItemsForBarChart.length;j++){var r=t.aItemsForBarChart[j];if(r.label===f.label){r.selected=f.selected;}}if(g){t.getModel().addFilter(B);}else{t.getModel().removeFilter(B);}}M=a.getFacetList();o=M.getSelectedItem();if(!o){o=M.getItems()[0];}o.setCounter(c);this.resetEnabledForFilterResetButton();},updateDetailPageCharts:function(i,m){var t=this;if(t.bShowCharts===false){return;}t.aItemsForBarChart=i;var l=b.getListContainersForDetailPage();var L=l[1];var c=L.getContent();if(c&&t.chartOnDisplayIndex===2){var p=c[2];var e=l[5];var r=l[2];r=0.9*r;if(p.directUpdate){var d={};d.relevantContainerHeight=r;d.oSearchFacetDialog=t;var M=new sap.ui.model.json.JSONModel();M.setData(i);$("#"+e.id).empty();p.directUpdate(i,e,M,d);}}var f,g;if(c&&t.chartOnDisplayIndex===1){f=c[2].getDomRef();if(f){g=$("#"+f.id);g.css("display","none");}}if(c&&t.chartOnDisplayIndex===2){f=c[1].getDomRef();if(f){g=$("#"+f.id);g.css("display","none");}}},controlChartVisibility:function(c,d,f){var t=this;var e,g,h,j;if(t.bShowCharts===false){return;}var l=c.searchFacetDialogHelperCharts.getListContainersForDetailPage();var L=l[1];if(!L||!L.getContent){return;}var k=L.getContent();for(var i=0;i<k.length;i++){e=k[i].getDomRef();if(!e){return;}h=e.className;j=false;if(h.indexOf("largeChart")>-1){j=true;}g=$("#"+e.id);if(j&&i!==d){g.css("display","none");}else{g.css("display","block");}}if(c.bOldPieChart){if(j&&d===2&&f){var I=t.aItemsForBarChart;var m=t.getModel();t.updateDetailPageCharts(I,m);}if(j&&d===2){L.setVertical(false);}else{L.setVertical(true);}}var S=l[6];var o=l[7];if(S){if(d===0){S.css("display","block");o.css('visibility','visible');}else{S.css("display","none");o.css('visibility','hidden');}}},hideSelectively:function(e,c,d){var f=$("#"+e.srcControl.sId);var g=c.chartOnDisplayIndex;var l=c.searchFacetDialogHelperCharts.getListContainersForDetailPage();var L=l[1];if(l[0].firstChild.children.length!=3){return;}if(g!==undefined){if(c.chartOnDisplayIndex!==d){f.css("display","none");}else{f.css("display","block");}}else{f.css("display","block");}if(g===2){if(!l[0].firstChild.children[2]||!l[0].firstChild.children[2].firstChild){c.controlChartVisibility(c,c.chartOnDisplayIndex,true);}if(c.bOldPieChart){L.setVertical(false);}}else{L.setVertical(true);}var S=l[6];if(S){var h=$("#"+S.sId);if(g===0){h.css("display","block");}else{h.css("display","none");}}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetFilter',["sap/ushell/renderers/fiori2/search/controls/SearchFacet","sap/ushell/renderers/fiori2/search/controls/SearchFacetTabBar","sap/ushell/renderers/fiori2/search/controls/SearchFacetBarChart","sap/ushell/renderers/fiori2/search/controls/SearchFacetPieChart","sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog","sap/ushell/renderers/fiori2/search/SearchFacetDialogModel"],function(){"use strict";sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar.extend('my.IconTabBar',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBarRenderer',setEshRole:function(){var a=this.getItems();for(var i=0;i<a.length;++i){var b=a[i];var f=b.getContent()[0];f.setEshRole.apply(f,arguments);}},getEshRole:function(){var i=this.getItems();var a=i[0];var f=a.getContent()[0];return f.getEshRole.apply(f,arguments);},attachSelectionChange:function(){}});return sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetFilter',{metadata:{properties:{title:"string"},aggregations:{"facets":{multiple:true}}},init:function(){this.data("sap-ui-fastnavgroup","true",true);},constructor:function(o){var t=this;o=jQuery.extend({},{},o);sap.ui.core.Control.prototype.constructor.apply(this,[o]);this.bindAggregation('facets','/facets',function(){if(t.getModel().config.charts){if(arguments[1].sPath!=="/facets/0"){var b={};b.id='barChart'+arguments[0];var i=new my.IconTabBar({items:[new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetList"),icon:"sap-icon://list",key:'list'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacet('list'+arguments[0])}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetBarChart"),icon:"sap-icon://horizontal-bar-chart",key:'barChart'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetBarChart(b)}),new sap.m.IconTabFilter({text:sap.ushell.resources.i18n.getText("facetPieChart"),icon:"sap-icon://pie-chart",key:'pieChart'+arguments[0],content:new sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart('pieChart'+arguments[0])})]});i.addStyleClass("sapUshellSearchFacetIconTabBar");return i;}else{return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}}else{return new sap.ushell.renderers.fiori2.search.controls.SearchFacet(arguments[0]);}});},fireReset:function(){this.getModel().resetFilterConditions(false);this.getModel().setDataSource(this.getModel().allDataSource,true);},renderer:function(r,c){var a=function(d){return function(e){var f=sap.ui.getCore().byId($($(this.getDomRef()).closest(".sapUshellSearchFacet")[0]).attr("id"));var F=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel(c.getModel());F.initBusinessObjSearch().then(function(){F.setData(c.getModel().getData());F.sinaNext=c.getModel().sinaNext;F.prepareFacetList();var d=null;if(f&&f.getBindingContext()&&f.getBindingContext().getObject()&&f.getBindingContext().getObject().dimension){d=f.getBindingContext().getObject().dimension;}var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d});D.setModel(F);D.setModel(c.getModel(),'searchModel');D.open();var p=c.getParent().getParent().getParent().getParent();p.oFacetDialog=D;c.getModel().eventLogger.logEvent({type:c.getModel().eventLogger.FACET_SHOW_MORE});});};};r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchFacetFilter");r.writeClasses();r.write('>');for(var i=0,l=c.getFacets().length;i<l;i++){var f=c.getFacets()[i];if(i===0){f.setEshRole("datasource");}else{f.setEshRole("attribute");f.attachSelectionChange(null,function(){jQuery(c.showAllBtn.getDomRef()).hide();});if(i===1){f.setHeaderText(sap.ushell.resources.i18n.getText("filterBy"));}var s=new sap.m.Link({text:"{i18n>showMore}",press:a(),visible:{parts:[{path:'/uiFilter/dataSource'}],formatter:function(d){return d.type!==this.getModel().sinaNext.DataSourceType.Category;}}});s.setModel(c.getModel());if(!c.getModel().config.charts){var b=new sap.m.CustomListItem({content:s});b.addStyleClass('sapUshellSearchFacetShowMoreLink');b.addEventDelegate({onAfterRendering:function(e){var d=jQuery(jQuery(e.srcControl.getDomRef()).find(".sapMLIBSelectM:first"));d.remove();}});f.addItem(b);}}r.renderControl(f);}if(c.getModel().getDataSource()&&c.getModel().getDataSource().type==='BusinessObject'){var h=c.getModel().oFacetFormatter.hasDialogFacetsFromMetaData(c.getModel());if(h){r.write("<div>");c.showAllBtn=new sap.m.Button({text:"{showAllFilters}",press:a(),visible:true});c.showAllBtn.setModel(c.getModel("i18n"));c.showAllBtn.addStyleClass("sapUshellSearchFacetFilterShowAllFilterBtn");r.renderControl(c.showAllBtn);r.write("</div>");}}r.write("</div>");},onAfterRendering:function(){var a=$('.searchFacetFilter .searchFacet').first().find('ul');var b=a.find('li');a.attr('role','tree');b.attr('role','treeitem');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetItem',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ui/core/format/NumberFormat','sap/m/StandardListItem'],function(S){"use strict";return sap.m.StandardListItem.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetItem',{constructor:function(i,o){var t=this;t.options=jQuery.extend({},{type:sap.m.ListType.Active,title:"{label}",tooltip:"{label}"+": "+"{valueLabel}",info:{parts:[{path:'value'}],formatter:function(v){return typeof v==="number"?S.formatInteger(v):"";}},selected:"{selected}"},o);sap.m.StandardListItem.prototype.constructor.apply(this,[i,t.options]);this.addStyleClass('sapUshellSearchFacetItem');this.addEventDelegate({onAfterRendering:function(){if(t.getBindingContext()&&t.getBindingContext().getObject()){var l=t.getBindingContext().getObject().level;if(jQuery("html").attr("dir")==='rtl'){jQuery(t.getDomRef()).children(".sapMLIBContent").css("padding-right",l+"rem");}else{jQuery(t.getDomRef()).children(".sapMLIBContent").css("padding-left",l+"rem");}}}});},renderer:'sap.m.StandardListItemRenderer'});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetPieChart',['sap/ui/thirdparty/d3'],function(){"use strict";sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetPieChart',{setEshRole:function(r){},metadata:{properties:{oSearchFacetDialog:{}},aggregations:{items:{type:"sap.ushell.renderers.fiori2.search.FacetItem",multiple:true}}},renderer:function(R,C){R.write("<div");R.writeControlData(C);R.writeClasses();R.write('>');var f=function(){if(navigator.appName==='Microsoft Internet Explorer'){return true;}return false;};var P=function(){this.init.apply(this,arguments);};P.Labelposition=(function(){var a=function(){this.init.apply(this,arguments);};a.prototype={init:function(b,c,s,e,r,d,g,h,t,i){this.backgroundWidth=b;this.backgroundHeight=c;this.startAngle=s;this.endAngle=e;this.r=r;this.labelPaddingX=3;this.labelPaddingY=3;this.radiusPadding=4.24;this.labelWidth=d+2*this.labelPaddingX;this.labelHeight=g;this.outsetMin=0.3;this.outsetMax=1.2;this.outsetStep=0.025;this.apexAngle=e-s;this.startLabelWidth=this.labelWidth;this.d3centroid=h;this.text=t;this.svgBackground=i;this.debug=false;this.labelHeight=this.labelHeight+2*this.labelPaddingY;var x=Math.round(this.backgroundWidth/2);var y=Math.round(this.backgroundHeight/2);this.translateStr="translate("+x+","+y+")";},update:function(){var o=Math.max(this.outsetMin,Math.sin(this.apexAngle/2)/(this.apexAngle/2)*2/3);var p=true;var i=Math.max(100,this.labelWidth*2,1/this.outsetStep);var b=0;var c;do{p=true;c=this.calc(o,this.labelWidth,this.labelHeight);if(o>this.outsetMax||o<this.outsetMin){break;}if(this.labelWidth<0){break;}var d,e,g,h;if(b===0){d=this.calc(o+this.outsetStep,this.labelWidth,this.labelHeight);e=this.calc(o-this.outsetStep,this.labelWidth,this.labelHeight);g=this.value(d,c);h=this.value(e,c);if(g<h&&h>0.5){b=-1;o+=this.outsetStep*b;p=false;}else if(g>0.5||c.labelWidth<=0){b=1;o+=this.outsetStep*b;p=false;}}else{d=this.calc(o+this.outsetStep*b,this.labelWidth,this.labelHeight);g=this.value(d,c);if(g>0.5||c.labelWidth<=0){o+=this.outsetStep*b;p=false;}}i--;}while(!p&&i>0&&!isNaN(o));c=this.calc(o,this.labelWidth,this.labelHeight);this.labelWidth=c.labelWidth;var x=c.x;var y=c.y;this.svgBackground.select("circle.centroid").remove();if(this.debug){this.svgBackground.append("svg:circle").attr("class","centroid").attr("cx",c.centroidX).attr("cy",c.centroidY).attr("r",2).style("fill","blue");}this.svgBackground.selectAll("line.helper").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",y-this.labelHeight/2).attr("y2",y-this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper helper2").attr("x1",-this.backgroundWidth/2).attr("x2",this.backgroundWidth/2).attr("y1",y+this.labelHeight/2).attr("y2",y+this.labelHeight/2);this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",0).attr("y1",0).attr("x2",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.startAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.startAngle)*(this.r+this.radiusPadding)).attr("x2",this.isStartAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.startAngle)*(this.r+this.radiusPadding));this.svgBackground.append("svg:line").attr("class","helper").attr("x1",Math.sin(this.endAngle)*(this.r+this.radiusPadding)).attr("y1",-Math.cos(this.endAngle)*(this.r+this.radiusPadding)).attr("x2",this.isEndAngleOnRight()?this.backgroundWidth/2:-this.backgroundWidth/2).attr("y2",-Math.cos(this.endAngle)*(this.r+this.radiusPadding));}if(this.labelWidth<2*this.labelPaddingX){this.labelWidth=0;}else if(this.labelWidth<this.startLabelWidth){this.labelWidth=this.labelWidth-2*this.labelPaddingX;}this.x=(isNaN(x))?0:(x);this.y=(isNaN(x))?0:(y);},calc:function(o,b,c){var d,e,g,r,p,h;if(this.startAngle-this.endAngle+2*Math.PI<1e-9){d=0;e=0;r=this.backgroundWidth/2;g=-this.backgroundWidth/2;h=-this.r;p=this.r;}else{d=Math.sin(this.apexAngle/2)*this.r*o;e=Math.cos(this.apexAngle/2)*-this.r*o;var t=d*Math.cos(this.startAngle)-e*Math.sin(this.startAngle);e=d*Math.sin(this.startAngle)+e*Math.cos(this.startAngle);d=t;var u=e-this.labelHeight/2;var i=e+this.labelHeight/2;g=Math.max(this.calcLeftBorder(d,u),this.calcLeftBorder(d,i),-this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&d>0&&u<=0&&i>=0){g=Math.max(g,0);}if(!this.doesFitHeight(g,u,i,(d<0),true)){g=this.backgroundWidth/2;}r=Math.min(this.calcRightBorder(d,u),this.calcRightBorder(d,i),this.backgroundWidth/2);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))>1e-9&&d<0&&u<=0&&i>=0){r=Math.min(r,0);}if(!this.doesFitHeight(r,u,i,(d<0),false)){r=-this.backgroundWidth/2;}var j=this.calcPerimeterBorder(1,e-this.labelHeight/2);if(j<d){j=this.backgroundWidth/2;}var k=this.calcPerimeterBorder(1,e+this.labelHeight/2);if(k<d){k=this.backgroundWidth/2;}p=Math.min(j,k,r);var m=this.calcPerimeterBorder(-1,e-this.labelHeight/2);if(m>d){m=-this.backgroundWidth/2;}var n=this.calcPerimeterBorder(-1,e+this.labelHeight/2);if(n>d){n=-this.backgroundWidth/2;}h=Math.max(m,n,g);if(isNaN(p)){p=r;}if(isNaN(h)){h=g;}}this.svgBackground.select("line.left").remove();this.svgBackground.select("line.right").remove();this.svgBackground.select("line.perimeterLeft").remove();this.svgBackground.select("line.perimeterRight").remove();if(this.debug){this.svgBackground.append("svg:line").attr("class","left").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",g).attr("x2",g);this.svgBackground.append("svg:line").attr("class","right").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",r).attr("x2",r);this.svgBackground.append("svg:line").attr("class","perimeterLeft").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",h).attr("x2",h);this.svgBackground.append("svg:line").attr("class","perimeterRight").attr("y1",-this.backgroundHeight/2).attr("y2",this.backgroundHeight/2).attr("x1",p).attr("x2",p);}var q=b;b=Math.min(b,Math.floor(r-g));var x=d;x=Math.max(x,h+b/2);x=Math.min(x,p-b/2);if(x-b/2<h-1e-9||x+b/2>p+1e-9){x=(h+p)/2;}if(d>=0){x=Math.max(x,g+b/2);x=Math.min(x,r-b/2);}else{x=Math.min(x,r-b/2);x=Math.max(x,g-b/2);}var y=e;return{x:x,y:y,labelWidth:b,labelShortened:(b!==q),xSpace:r-g,centroidX:d,centroidY:e,asymmetry:Math.abs(x-d)};},value:function(c,b){if(c.labelWidth<0){return-10000;}if(c.labelWidth<b.labelWidth){return-100;}if(c.labelWidth>b.labelWidth){return(c.labelWidth-b.labelWidth)*1000;}if(b.labelShortened&&c.labelWidth===b.labelWidth){return(c.xSpace-b.xSpace)*100;}return 0;},doesFitHeight:function(b,u,c,i,d){var y=-Math.cos(this.startAngle)*(this.r+this.radiusPadding);var e=-Math.cos(this.endAngle)*(this.r+this.radiusPadding);if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){y=-this.backgroundHeight/2;e=this.backgroundHeight/2;}else if(b===0){y=-this.backgroundHeight/2;e=this.backgroundHeight/2;}else if(b>0){if(!this.isStartAngleOnRight()){y=-this.backgroundHeight/2;}else if(b<=Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(!this.isEndAngleOnRight()){e=this.backgroundHeight/2;}else if(b<=Math.sin(this.endAngle)*(this.r+this.radiusPadding)){e=b/-Math.tan(this.endAngle);}if(i&&!d&&y>=c){y=-this.backgroundHeight/2;}if(i&&!d&&e<=u){e=this.backgroundHeight/2;}}else{if(this.isStartAngleOnRight()){y=this.backgroundHeight/2;}else if(b>Math.sin(this.startAngle)*(this.r+this.radiusPadding)){y=b/-Math.tan(this.startAngle);}if(this.isEndAngleOnRight()){e=-this.backgroundHeight/2;}else if(b>Math.sin(this.endAngle)*(this.r+this.radiusPadding)){e=b/-Math.tan(this.endAngle);}if(!i&&d&&e>=c){e=-this.backgroundHeight/2;}if(!i&&d&&y<=u){y=this.backgroundHeight/2;}}if(!d){this.svgBackground.selectAll(".rightBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","rightBorder").attr("x",b-3).attr("y",y-3).attr("width",6).attr("height",6).style("fill","green");this.svgBackground.append("svg:circle").attr("class","rightBorder").attr("cx",b).attr("cy",e).attr("this.r",3).style("fill","green");}}else{this.svgBackground.selectAll(".leftBorder").remove();if(this.debug){this.svgBackground.append("svg:rect").attr("class","leftBorder").attr("x",b-3).attr("y",y-3).attr("width",6).attr("height",6).style("fill","red");this.svgBackground.append("svg:circle").attr("class","leftBorder").attr("cx",b).attr("cy",e).attr("this.r",3).style("fill","red");}}return(u>=Math.min(y,e)-1e-9&&c<=Math.max(y,e)+1e-9);},calcLeftBorder:function(x,y){var b=-this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return b;}if(y<=0){if(y>-Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(y<-Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcRightBorder:function(x,y){var b=this.backgroundWidth/2;if(Math.abs(this.startAngle-this.endAngle%(2*Math.PI))<1e-9){return b;}if(y>=0){if(-y>Math.cos(this.startAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.startAngle)*-y;}}else if(-y<Math.cos(this.endAngle)*(this.r+this.radiusPadding)){b=Math.tan(this.endAngle)*-y;}return b;},calcPerimeterBorder:function(x,y){var b=(x>0)?this.backgroundWidth/2:-this.backgroundWidth/2;b=Math.sqrt(this.r*this.r-y*y);if(x<0){b*=-1;}return b;},isStartAngleOnRight:function(){return this.startAngle>0&&this.startAngle<=2*Math.PI/360*180;},isEndAngleOnRight:function(){return this.endAngle%(2*Math.PI)<2*Math.PI/360*180;}};return a;})();P.Tweens=(function(){var T={};T.tweenGenSimple=function(d,i,a,b,o,s){var c={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var e={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var j=d3.interpolate(c,e);return function(t){return s(j(t));};};T.tweenGenSimpleText=function(d,i,a,b,o,c,e){var g=" ";if((d.labelElement.childNodes[1])&&(d.labelElement.childNodes[1].childNodes[0])&&(d.labelElement.childNodes[1].childNodes[0].data)){g=d.labelElement.childNodes[1].childNodes[0].data;}var h=new P.Labelposition(c.options.width,c.options.height,d.oldArc.startAngle,d.oldArc.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);h.update();var k=[h.x,h.y];var m=new P.Labelposition(c.options.width,c.options.height,d.startAngle,d.endAngle,c.options.outerRadius,d.labelElement.childNodes[1].getBBox().width,d.labelElement.childNodes[1].getBBox().height,c.svgArcGen(d).centroid(d),g,c.svg);m.update();if(m.labelWidth<d.labelElement.childNodes[1].getBBox().width){c.adjustLabelWidth(d.labelElement,m.labelWidth);}var n=[m.x,m.y];var j=d3.interpolateArray(k,n);var p=function(q){var t;if(e){t=T.translateStr4Padding(d.startAngle,d.endAngle,c.options.padding4click,q[0],q[1]);}else{t="translate("+q+")";}return t;};return function(t){return p(j(t));};};T.translateStr4Padding=function(s,e,p,x,y){var a=e-s;var b=p*Math.sin(a/2);var c=-(p*Math.cos(a/2));var t=b*Math.cos(s)-c*Math.sin(s);c=b*Math.sin(s)+c*Math.cos(s);b=t;var d="translate("+(x+b)+", "+(y+c)+")";return d;};T.tweenGenEcstasy=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var e;var g;if(i%2){e=o;g=c;}else{e=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.75){return s(r((t-0.25)*2));}return s(u((t-0.75)*4));};};T.tweenGenLSD=function(d,i,a,b,o,s){var c=Math.round((b+o)/2);var e;var g;if(i%2){e=o;g=c;}else{e=c;g=b;}var h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:b,outerRadius:o};var j={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};var k=d3.interpolate(h,j);h={startAngle:d.oldArc.startAngle,endAngle:d.oldArc.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:e};var m=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.startAngle+(d.oldArc.endAngle-d.oldArc.startAngle),innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};var r=d3.interpolate(h,j);h={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:e};j={startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:b,outerRadius:o};var u=d3.interpolate(h,j);return function(t){if(t<=0.25){return s(k(t*4));}if(t<=0.5){return s(m((t-0.25)*4));}if(t<=0.75){return s(r((t-0.5)*4));}return s(u((t-0.75)*4));};};return T;})();var l={};l.debug=function(t){};P.prototype={init:function(p,o,a,m){this.application=a;this.parent=p;this.model=m;this.chartElements=[];var b=d3.select(p);var s=$(p).innerHeight();var c=$(p).innerWidth();if(o.height>s){s=o.height;}var r=(Math.min(c,s)/2);this.options={"dimension-pie":"YEAR",backgroundWidth:c,backgroundHeight:s,width:c,height:s,innerRadius:0,outerRadius:r*0.8,tweenGen:P.Tweens.tweenGenSimple,tweenGenText:P.Tweens.tweenGenSimpleText,arcCalculator:P.generateHistoricalArcCalculator(),animationduration:1500,labelHideThreshold:0.05,easing:"linear",pieChartClass:"sap-piechart",pieChartParentClass:"sapUshellSearchFacetPieChart",color:"blue",strokewidth:1,strokewidthHover:3,padding4click:7,multipleselectable:true,oSearchFacetDialog:null};if(o){for(var d in o){this.options[d]=o[d];}}this.createAttributeService(P,"innerRadius",function(){this.init();});this.createAttributeService(P,"outerRadius",function(){this.init();});this.createAttributeService(P,"tweenGen",function(){this.init();});this.createAttributeService(P,"tweenGenText",function(){this.init();});this.createAttributeService(P,"width",function(){this.init();});this.createAttributeService(P,"height",function(){this.init();});this.createAttributeService(P,"animationduration");this.createAttributeService(P,"labelHideThreshold");this.createAttributeService(P,"arcCalculator");var x=Math.round(this.options.width/2);var y=Math.round(this.options.height/2);this.svg=b.append("svg:svg").attr("width",c).attr("height",s).attr("id",p.id+"_svg").append("svg:g").attr("transform","translate("+x+","+y+")");this.svgArcs=this.svg.append("svg:g");this.svgLabels=this.svg.append("svg:g");this.svg.attr("class",this.options.pieChartClass);this.inittween();this.oldArcs=[];this.clickedSegment={};this.firstUpdate=true;},getParent:function(){return this.parent;},createAttributeService:function(c,a,i){c.prototype[a]=function(v){if(v===null){return this.options[a];}else{this.options[a]=v;if(i){i.call(this);}return this;}};},inittween:function(){var t=this;t.xOrigin=Math.round(t.options.width/2);t.yOrigin=Math.round(t.options.height/2);t.svg.attr("width",this.options.width).attr("height",this.options.height);this.tweenGenArc=function(d,i,a){return t.options.tweenGen(d,i,a,t.options.innerRadius,t.options.outerRadius,t.svgArcGen(d));};this.tweenGenText=function(d,i,a,b){return t.options.tweenGenText(d,i,a,t.options.innerRadius,t.options.outerRadius,t,b);};},update:function(d){this.notAnimatedUpdate(d);},notAnimatedUpdate:function(a){var t=this;var b=[];if(!a){return;}this.chartElements=a;t.svgArcs.selectAll("path").remove();t.svgLabels.selectAll("g").remove();var c=0;for(var i=0;i<a.length;++i){c+=a[i].value;}for(var j=0;j<a.length;++j){a[j].percentage=a[j].value/c;}b=this.options.arcCalculator.calculateNewArcsOnly(a);var s=this.svgArcs.selectAll("path").data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.attr("d",function(d){var p=t.svgArcGen(d);return p(d);}).attr("transform",function(d){var e;if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}else{e="translate(0,0)";}return e;}).style("stroke",function(d){var e;if(d.data.stroke==="none"){e=d.data.stroke;}else if(d.data.selected||d.data.hovered){e="#dadada";}else{e="white";}return e;}).style("stroke-width",function(d){var e;if(d.data.selected||d.data.hovered){e=t.options.strokewidthHover;}else{e=t.options.strokewidth;}return e;}).style("opacity",function(d){var o;if(d.data.selected||d.data.hovered){o="1";}else if(d.data.initial){o="0.75";}else{o="0.5";}return o;}).each(function(d,i){while(this.hasChildNodes()){this.removeChild(this.lastChild);}d3.select(this).append("svg:title").text(""+d.data.tooltip);});}s.enter().append("svg:path").attr("transform",function(d){var e;if(d.data.selected){t.clickedSegment[d.data.id]=this;e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);}return e;}).attr("shape-rendering","geometricPrecision").attr("tabindex","0").style("stroke",function(d){var e;if(d.data.stroke==="none"){e=d.data.stroke;}else if(d.data.selected||d.data.hovered){e="#dadada";}else{e="white";}return e;}).style("stroke-width",function(d){var e;if(d.data.selected||d.data.hovered){e=t.options.strokewidthHover;}else{e=t.options.strokewidth;}return e;}).style("opacity",function(d){var o;if(d.data.selected||d.data.hovered){o="1";}else if(d.data.initial){o="0.75";}else{o="0.5";}return o;}).attr("fill",function(d,i){return d.data.fill;}).on("keydown",function(d,i){var e=d3.event;var h=e.keyCode||e.which;if(h==32){e.target.__onclick();}}).on("click",function(d,i){var e;if((d.data.click)&&(d.data.pieupdateuionly===false)){var r=d.data.click(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}var h,k;var m;var n=t.getLabelElementtbyLabel(d.data.label);if(n){var o=" ";if((n.childNodes[1])&&(n.childNodes[1].childNodes[0])&&(n.childNodes[1].childNodes[0].data)){o=n.childNodes[1].childNodes[0].data;}m=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,n.childNodes[1].getBoundingClientRect().width,n.childNodes[1].getBoundingClientRect().height,t.svgArcGen(d).centroid(d),o,t.svg);m.update();if(m.labelWidth<n.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(n,m.labelWidth);}}if(d.data.selected){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){delete t.clickedSegment[d.data.id];}h="translate(0,0)";if(n){k="translate("+m.x+","+m.y+")";}d.data.selected=false;if(t.options.oSearchFacetDialog){e={};e.cnt=t.getNumberOfClickedSegments();e.dataObject=d.data;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{t.model.removeFilterCondition(d.data.filterCondition,true);}}else{if(!t.options.multipleselectable){if(Object.keys(t.clickedSegment).length>0){for(var p in t.clickedSegment){var q=t.clickedSegment[p];if(typeof q.__onclick==="function"){q.__data__.data.pieupdateuionly=true;q.__onclick.apply(q);}delete t.clickedSegment[p];}}if(Object.keys(t.clickedSegment).length<1){t.clickedSegment[d.data.id]=(this);}}h=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,0,0);if(n){k=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,m.x,m.y);}d.data.selected=true;if(d.data.filterCondition){if(t.options.oSearchFacetDialog){e={};e.cnt=t.getNumberOfClickedSegments();e.dataObject=d.data;t.options.oSearchFacetDialog.onDetailPageSelectionChangeCharts(e);}else{t.model.addFilterCondition(d.data.filterCondition,true);}}}d3.select(this).transition().duration(1000).ease(d3.ease("elastic")).attr("transform",h).style("stroke",function(d){var v;if(d.data.stroke==="none"){v=d.data.stroke;}else if(d.data.selected){v="#dadada";}else{v="white";}return v;}).style("stroke-width",function(d){var v;if(d.data.selected){v=t.options.strokewidthHover;}else{v=t.options.strokewidth;}return v;}).style("opacity",function(d){var v;if(d.data.selected||d.data.hovered){v="1";}else if(d.data.initial){v="0.75";}else{v="0.5";}return v;});var u=t.getLabelElementtbyLabel(d.data.label);if(u){d3.select(u).transition().duration(1000).ease(d3.ease("elastic")).attr("transform",k);}}).on("mouseover",function(d,i){if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){return;}if(d.data.selected||d.data.hovered){return;}if(d.data.mouseover){var r=d.data.mouseover(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}}).on("mouseout",function(d,i){if(d.data.selected){d3.select(this).style("opacity",1);}if((!t.options.multipleselectable)&&(Object.keys(t.clickedSegment).length>0)){return;}if(d.data.selected){return;}if(d.data.mouseout){var r=d.data.mouseout(d,i);if((!t.options.multipleselectable)&&(!r)){return;}}}).attr("d",function(d){var p=t.svgArcGen(d);return p(d);}).append("svg:title").text(function(d){return""+d.data.tooltip;});s=t.svgLabels.selectAll("g").data(b,P.getIdOfArc);if(!s.exit().empty()){s.exit().remove();}if(!s.empty()){s.style("opacity",function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}else{return 1;}}).attr("transform",function(d){var e;var h;if((this.childNodes[1])&&(this.childNodes[1].childNodes[0])){h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);}else{h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d)," ",t.svg);}h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{e="translate("+h.x+","+h.y+")";}return e;});}if(!s.enter().empty()){var g=s.enter().append("svg:g").style("opacity",0);g.append("svg:text").attr("class","labelshadow").attr("text-anchor","middle").text(function(d){return""+d.data.label;}).style("pointer-events","none");g.append("svg:text").attr("class","label").attr("text-anchor","middle").text(function(d){return""+d.data.label;}).style("pointer-events","none");g.style("opacity",function(d){if(d.removed||d.data.percentage<t.options.labelHideThreshold){return 0;}else{return 1;}}).attr("transform",function(d){var e;var h=new P.Labelposition(t.options.width,t.options.height,d.startAngle,d.endAngle,t.options.outerRadius,this.getBoundingClientRect().width,this.getBoundingClientRect().height,t.svgArcGen(d).centroid(d),d.data.label,t.svg);h.update();if(h.labelWidth<this.childNodes[1].getBoundingClientRect().width){t.adjustLabelWidth(this,h.labelWidth);}if(d.data.selected){e=P.translateStr4Padding(d.startAngle,d.endAngle,t.options.padding4click,h.x,h.y);}else{e="translate("+h.x+","+h.y+")";}return e;});}t.oldArcs=P.removeDeletedArcs(b);},getNumberOfClickedSegments:function(){var c=0;var a=this.chartElements;for(var i=0;i<a.length;i++){if(a[i].selected===true){c++;}}return c;},adjustLabelWidth:function(e,t){var s=e.childNodes[0];var a=e.childNodes[1];if(t<=0){s.childNodes[0].data='';a.childNodes[0].data='';return;}var b=s.childNodes[0].data.length;s.childNodes[0].data+="...";var c="";while(s.getBBox().width>t){c=s.childNodes[0].data;c=c.substr(0,b-1)+c.substr(b,3);s.childNodes[0].data=c;b--;if(b<=0){s.childNodes[0].data='';break;}}a.childNodes[0].data=s.childNodes[0].data;},getArcsWithLabel:function(a){var t=this;var b=[];for(var i=0;i<a.length;++i){var c=a[i];if(c.data.percentage>t.options.labelHideThreshold){b.push(c);}}return b;},svgArcGen:function(d){var t=this;var a=d3.svg.arc().innerRadius(function(d){return t.options.innerRadius;}).outerRadius(function(d){return t.options.outerRadius;}).startAngle(function(d){return d.startAngle;}).endAngle(function(d){return d.endAngle;});return a;},getArcElementtbyLabel:function(a){var t=this;t.svgArcs.selectAll("g").each(function(d,i){if(d.data.label===a){t=this;}return;});return t;},getLabelElementtbyLabel:function(a){var t=this;t.svgLabels.selectAll("g").each(function(d,i){if(d.data.label===a){t=this;}});return t;}};P.removeDeletedArcs=function(a){var t=[];for(var i=0;i<a.length;++i){var b=a[i];if(!b.removed){t.push(b);}}return t;};P.createZeroArc=function(a,e){return{startAngle:a,endAngle:a,data:e,removed:true};};P.insertAfter=function(a,i,b){var n;if(i>=0){var c=a[i];n=P.createZeroArc(c.endAngle,b.data);}else{n=P.createZeroArc(0,b.data);}n.oldArc=b;a.splice(i+1,0,n);};P.getIdOfArc=function(a){return a.data.id;};P.arcsGen=d3.layout.pie().value(function(d){return d.value;}).sort(null);P.getIndexById=function(a,b){for(var i=0;i<a.length;++i){var c=a[i];if(P.getIdOfArc(c)===b){return i;}}return null;};P.add2arcSequence=function(d,a){if(f()){var b=function(x){a.getIndex(x.id);};d.forEach(b);}return d;};P.translateStr4Padding=function(s,e,p,x,y){var a=e-s;var b=p*Math.sin(a/2);var c=-(p*Math.cos(a/2));var t=b*Math.cos(s)-c*Math.sin(s);c=b*Math.sin(s)+c*Math.cos(s);b=t;var d="translate("+(x+b)+", "+(y+c)+")";return d;};P.Sequence=function(){this.init.apply(this,arguments);};P.Sequence.prototype={init:function(){this.maxIndex=0;this.objectMap={};},getIndex:function(o){var i=this.objectMap[o];if(typeof i!=='undefined'){return i;}i=this.maxIndex;this.maxIndex++;this.objectMap[o]=i;return i;}};P.generateDefaultArcCalculator=function(){return new P.DefaultArcCalculator();};P.DefaultArcCalculator=function(){this.init.apply(this,arguments);};P.DefaultArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var n=P.arcsGen(d);this.insertMissingArcs(o,n,true);this.insertMissingArcs(n,o,false);return n;},insertMissingArcs:function(a,b,i){var c=-1;for(var d=0;d<b.length;++d){var e=b[d];var g=P.getIndexById(a,e.data.id);var h;if(g!==null){h=a[g];h.oldArc=e;c=g;continue;}else{if(i){c=this.determineInsertIndex(a,c,b,d);}var n;if(c>=0){var j=a[c];n=P.createZeroArc(j.endAngle,e.data);}else{n=P.createZeroArc(0,e.data);}n.oldArc=e;a.splice(c+1,0,n);c++;}}},determineInsertIndex:function(a,b,c,d){var e=c[d];var s=this.arcSequence.getIndex(e.data.id);var i;for(i=b+1;i<a.length;++i){var g=this.arcSequence.getIndex(a[i].data.id);if(g>s){break;}if(P.getIndexById(c,a[i].data.id)!==null){break;}}return i-1;}};P.generateHistoricalArcCalculator=function(){return new this.HistoricalArcCalculator();};P.HistoricalArcCalculator=function(){this.init.apply(this,arguments);};P.HistoricalArcCalculator.prototype={init:function(){this.arcSequence=new P.Sequence();},calculateNewArcsOnly:function(d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);return n;},calculateArcs:function(o,d){var t=this;d=d.slice();P.add2arcSequence(d,t.arcSequence);d.sort(function(a,b){return t.arcSequence.getIndex(a.id)-t.arcSequence.getIndex(b.id);});var n=P.arcsGen(d);this.insertMissingArcs(o,n);this.insertMissingArcs(n,o);return n;},insertMissingArcs:function(a,b){var t=this;var c=0;for(var d=0;d<b.length;++d){var e=b[d];var g=t.arcSequence.getIndex(e.data.id);var h;var i=false;for(;c<a.length;++c){h=a[c];var j=t.arcSequence.getIndex(h.data.id);if(j===g){i=true;break;}if(j>g){break;}}if(i){h.oldArc=e;}else{var n;if(c-1>=0&&c-1<a.length){var k=a[c-1];n=P.createZeroArc(k.endAngle,e.data);}else{n=P.createZeroArc(0,e.data);}a.splice(c,0,n);n.oldArc=e;}c++;}}};R.write("</div>");C.PieChart=P;},getFacetIndexById:function(c){var a=-1;var t=$("#"+c).parent().parent().parent().parent().parent()[0];var b=t.id;var d=$(".sapUshellSearchFacetIconTabBar");for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getFacetIndexByIdForLargePieChart:function(c){var a=-1;var t=$("#"+c).parent().parent()[0];var b=t.id;var d=$(".searchFacetLargeChartContainer");for(var i=0;i<d.length;i++){var e=d[i].id;if(e===b){a=i;break;}}return a;},getPieChartIndexByFacetIndex:function(f){var s;var a=-1;var p=0;for(var i=0;i<f;i++){s=$($(".sapUshellSearchFacetIconTabBar")[i]).find(".sapMLIBContent")[1].firstChild.id;if(s.match(/pieChart/)!==null){p++;}}a=p;return a;},getSumSelected:function(d){var a;var b=0;if(d){for(var i=0;i<d.length;i++){if(d[i].facetType==="attribute"){for(var j=0;j<d[i].items.length;j++){a=d[i].items[j].value;if(a&&d[i].items[j].selected){b+=a;}}}}}return b;},getDataForPieChart:function(d,m,f){var r=[];var g=[];var a={};var b=0;var c=-1;var e="";var s=m.oData.count;var o=s;var p=0;this.iMissingCnt=0;for(var i=0;i<d.length;i++){if(d[i].facetType==="attribute"){c++;if(d[i].totalCount){o=d[i].totalCount;}g=[];p=0;for(var j=0;j<d[i].items.length;j++){a={};b=d[i].items[j].value;if(b){e=""+b;p+=b;a.filterCondition=d[i].items[j].filterCondition;a.dimension=d[i].items[j].facetTitle;a.label=d[i].items[j].label;a.selected=d[i].items[j].selected;a.filterLabel=d[i].items[j].label;a.id=d[i].items[j].label;a.value=b;a.valueLabel=d[i].items[j].valueLabel;if(e){a.tooltip=d[i].items[j].label+": "+b;}else{a.tooltip=d[i].items[j].label;}a.filtered=false;a.removed=false;a.fill="#007CAA";a.maxLabelLength=30;g.push(a);}else if(c===f){this.iMissingCnt++;}}var h=Math.round((p/o)*100);var k=(100-h);if(k>0){if(k===100){k=99;}var l=(18*p)/350;var n=""+k;a={};a.filterCondition=null;a.dimension="";a.label=n;a.id="perc_missing";a.value=l;a.valueLabel=n;a.tooltip=sap.ushell.resources.i18n.getText("facetPieChartOverflowText",[n]);a.filtered=false;a.removed=false;a.fill="transparent";a.stroke="none";a.maxLabelLength=30;g.push(a);}r.push(g);}}return r;},getDataForPieChartLarge:function(d,m){var g=[];var i={};var a=0;var p=0;g=[];p=0;for(var j=0;j<d.length;j++){a=d[j].value;if(a){i={};p+=a;i.filterCondition=d[j].filterCondition;i.dimension=d[j].facetAttribute;i.label=d[j].label;i.selected=d[j].selected;i.filterLabel=d[j].label;i.id=d[j].label;i.value=a;i.valueLabel=d[j].valueLabel;i.tooltip=d[j].label+"\t: "+a;i.filtered=false;i.removed=false;i.fill="#007CAA";i.maxLabelLength=30;g.push(i);}}return g;},directUpdate:function(d,p,m,o){var c,a,b;var f=[];var e=20;a=null;b=this.getModel();if(!b){b=this.oParent.getModel();}o.pieChartParentClass="sapUshellSearchFacetPieChartLarge";o.height=o.relevantContainerHeight;o.labelHideThreshold=0.000001;$(p).parent().parent().height(o.height);o.width=$(p).parent().parent().width();this.chartElements=this.getDataForPieChartLarge(d,m);c=new this.PieChart(p,o,a,b);for(var i=0;i<e;i++){if(this.chartElements[i]){f.push(this.chartElements[i]);}}c.update(f);},onAfterRendering:function(){var t=this;var d,c,a,m,b,p,f;var o={};if(typeof SVGElement.prototype.blur=='undefined'){SVGElement.prototype.blur=function(){};}b=null;m=this.getModel();if(!m){m=this.oParent.oModels.facets;}if(m){p=$("#"+this.sId)[0];if($(p).parent()[0].className==="sapMLIBContent"){o.pieChartParentClass="sapUshellSearchFacetPieChart";f=this.getFacetIndexById(this.sId);p.className=o.pieChartParentClass;d=this.getDataForPieChart(m.oData.facets,m,f);c=d[f];a=new this.PieChart(p,o,b,m);a.update(c);var i=$(this.getDomRef()).closest(".sapUshellSearchFacetIconTabBar").find(".sapUshellSearchFacetInfoZeile")[0];var I=sap.ui.getCore().byId(i.id);if(t.iMissingCnt>0){I.setVisible(true);var e=sap.ushell.resources.i18n.getText("infoZeileNumberMoreSelected",[t.iMissingCnt]);I.setText(e);}else{I.setVisible(false);}}else if($(p)[0].className==="largeChart2piechart"){$(p).attr("tabindex","0");}}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFacetTabBar',['sap/base/Log','sap/ushell/renderers/fiori2/search/SearchFacetDialogModel','sap/ushell/renderers/fiori2/search/controls/SearchFacetDialog','sap/m/GroupHeaderListItemRenderer','sap/m/ButtonRenderer'],function(L){"use strict";sap.m.Button.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer'});sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDownRenderer=jQuery.extend(true,{},sap.m.ButtonRenderer);sap.m.GroupHeaderListItemRenderer.extend('sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer');sap.m.GroupHeaderListItem.extend('sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem',{renderer:'sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer',metadata:{properties:{upperCase:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{button:{type:'sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown',multiple:false}}}});sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounter=function(r,l){var b=l.getButton();if(typeof b==='object'){this.renderCounterContent(r,l,b);}};sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItemRenderer.renderCounterContent=function(r,l,b){r.write('<div>');r.renderControl(b);r.write('</div>');};sap.m.SegmentedButtonItem.extend('my.SegmentedButtonItem',{aggregations:{"content1":{type:"sap.ui.core.Control",multiple:false}}});sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchFacetTabBar',{metadata:{properties:{"eshRole":"string","headerText":"string","selectedButtonParameters":{type:"object",defaultValue:null}},aggregations:{items:{type:"sap.m.IconTabFilter",multiple:true}}},getSearchFacetTabBarAndDimensionById:function(b){var r={};r.index=0;var a=document.getElementById(b);var v=a.dataset.facetView;var c=a.dataset.facetViewIndex;var d=$("#"+b).parent()[0];var e=d.dataset.facetDimension;var f=$(".sapUshellSearchFacetTabBar");for(var i=0;i<f.length;i++){var g=$(".sapUshellSearchFacetTabBar .sapUshellSearchFacetTabBarHeader")[i];var h=g.dataset.facetDimension;if(h===e){r.index=i;r.control=sap.ui.getCore().byId(f[i].id);r.view=v;r.buttonIndex=c;r.dimension=e;break;}}return r;},storeClickedTabInformation:function(e){var s,a,b,d,c;var t=e.getSource().sId;var f=this.getSearchFacetTabBarAndDimensionById(t);var p=f.control.getModel().getPersonalizationStorageInstance().getItem("search-facet-panel-chart-state");s=f.dimension;a=f.control;b=f.view;c=f.buttonIndex;d=a.getBindingContext().getObject().dimension;var g=e.getParameters().id;var h=[];var o={};o.tabId=t;o.searchFacetTabBarIndex=f.searchFacetTabBarIndex;o.buttonId=g;o.buttonIndex=c;o.dimension=d;o.view=b;h.push(o);if(p&&Object.prototype.toString.call(p)==='[object Array]'){for(var i=0;i<p.length;i++){var j=p[i];if(j.dimension!==s){h.push(j);}}}f.control.getModel().getPersonalizationStorageInstance().setItem("search-facet-panel-chart-state",h);a.getBindingContext().getObject().chartIndex=c;},renderer:function(r,c){var a=function(y,T){return function(z){var d;var E=$(this.getDomRef()).closest(".sapUshellSearchFacetTabBar")[0];var J=sap.ui.getCore().byId($(E).attr("id"));var K=new sap.ushell.renderers.fiori2.search.SearchFacetDialogModel(c.getModel());K.initBusinessObjSearch().then(function(){K.setData(c.getModel().getData());K.sinaNext=c.getModel().sinaNext;K.prepareFacetList();if(J&&J.getBindingContext()&&J.getBindingContext().getObject()&&J.getBindingContext().getObject().dimension){d=J.getBindingContext().getObject().dimension;}var M=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDialog({selectedAttribute:d,selectedTabBarIndex:y,tabBarItems:T});M.setModel(K);M.setModel(c.getModel(),'searchModel');M.open();var P=c.getParent().getParent().getParent().getParent();P.oFacetDialog=M;c.getModel().eventLogger.logEvent({type:c.getModel().eventLogger.FACET_SHOW_MORE,referencedAttribute:d});});};};r.write('<div tabindex="0"');r.writeControlData(c);r.addClass("sapUshellSearchFacetTabBar");r.writeClasses();r.write('>');var d=c.getBindingContext().getObject().dimension;var b=c.getBindingContext().getObject().dataType;var t=c.getBindingContext().getObject().title;var e;var s;e=c.getModel().getPersonalizationStorageInstance().getItem("search-facet-panel-chart-state");if(e&&Object.prototype.toString.call(e)==='[object Array]'){for(var k=0;k<e.length;k++){if(e[k].dimension===d){s=e[k];break;}}}var f=[];var g=[];var C=null;var B=null;var h=0;if(s&&s.buttonIndex){h=s.buttonIndex;h=parseInt(h,10);}if(b!=c.getModel().sinaNext.AttributeType.String){h=0;}c.getBindingContext().getObject().chartIndex=h;var j=c.getItems();var D=new sap.ushell.renderers.fiori2.search.controls.SearchFacetDisplayModeDropDown({icon:j[h].getIcon(),type:'Transparent'});for(var i=0;i<j.length;i++){C=j[i].getContent()[0];B=new sap.m.Button({text:j[i].getText(),icon:j[i].getIcon(),press:function(E){c.storeClickedTabInformation(E);c.setSelectedButtonParameters(E.getParameters());}});B.data("facet-view",j[i].getText(),true);B.data("facet-view-index",""+i,true);B.data("dimension",d,true);f.push(B);g.push(C);}var A=new sap.m.ActionSheet({showCancelButton:false,buttons:f,placement:sap.m.PlacementType.Bottom,cancelButtonPress:function(y){L.info("sap.m.ActionSheet: cancelButton is pressed");},afterClose:function(y){var z=this;window.setTimeout(function(){var d=z.getFocusDomRef().getAttribute('data-facet-dimension');var E=$(".sapUshellSearchFacetTabBarButton");for(var i=0;i<E.length;i++){var J=E[i];var K=J.parentNode.parentNode.getAttribute('data-facet-dimension');if(K===d){J.focus();break;}}},100);L.info("=====================");L.info("sap.m.ActionSheet: closed");}});A.data("facet-dimension",d,true);D.addStyleClass("sapUshellSearchFacetTabBarButton");var l=j[h].getText();var m=sap.ushell.resources.i18n.getText('displayAs',[l]);D.setTooltip(m);D.attachPress(function(E){A.openBy(this);});D.onAfterRendering=function(){$(this.getDomRef()).attr("aria-label",sap.ushell.resources.i18n.getText('dropDown'));};if(c.getHeaderText()){var H=new sap.m.List({});H.setShowNoData(false);H.setShowSeparators(sap.m.ListSeparators.None);H.data("sap-ui-fastnavgroup","false",true);var F=false;var n=c.getModel().getProperty("/uiFilter/rootCondition");if(n.hasFilters()){F=true;}else{F=false;}var R=new sap.m.Button({icon:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip"),type:'Transparent',enabled:F,press:function(E){var y=c.getModel();y.eventLogger.logEvent({type:y.eventLogger.CLEAR_ALL_FILTERS});y.resetFilterConditions(true);}});R.addStyleClass("sapUshellSearchFilterByResetButton");R.onAfterRendering=function(){$(this.getDomRef()).attr("aria-label",sap.ushell.resources.i18n.getText('resetFilterButton_tooltip'));};var o=new sap.m.Title({text:c.getHeaderText()});o.addStyleClass("sapUshellSearchFilterByResetButtonLabel");var S=new sap.m.ToolbarSpacer();var p=new sap.m.Toolbar({content:[o,S,R]});p.data("sap-ui-fastnavgroup","false",true);H.setHeaderToolbar(p);H.addStyleClass('sapUshellSearchFilterByHeaderList');H.onAfterRendering=function(){$(".sapUshellSearchFilterByHeaderList").find("ul").attr("tabindex","-1");};r.renderControl(H);}var q=new sap.m.CustomListItem({content:g[h]});q.setModel(c.getModel(),'facets');q.addStyleClass("sapUshellSearchFacetList");var G;if(b===c.getModel().sinaNext.AttributeType.String){G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t,button:D});}else{G=new sap.ushell.renderers.fiori2.search.controls.SearchGroupHeaderListItem({title:t});}G.data("facet-dimension",d,true);G.addStyleClass("sapUshellSearchFacetTabBarHeader");var u=new sap.m.Link({text:sap.ushell.resources.i18n.getText("showMore"),press:a(h,j)});u.setModel(c.getModel("i18n"));u.addStyleClass('sapUshellSearchFacetShowMoreLink');var I=new sap.m.Label({text:""});I.addStyleClass('sapUshellSearchFacetInfoZeile');var v=new sap.m.VBox({items:[I,u]});var w=new sap.m.CustomListItem({content:v,visible:{parts:[{path:'/uiFilter/dataSource'}],formatter:function(y){return y.type!==this.getModel().sinaNext.DataSourceType.Category;}}});w.addStyleClass('sapUshellSearchFacetShowMoreItem');var x=new sap.m.List({showSeparators:sap.m.ListSeparators.None,items:[G,q,w]});x.data("sap-ui-fastnavgroup","false",true);x.setModel(c.getModel());r.renderControl(x);c.getItems()[h].addContent(g[h]);r.write("</div>");},onAfterRendering:function(){jQuery(this.getDomRef()).removeAttr("tabindex");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFieldGroup',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/controls/SearchSelect','sap/ushell/renderers/fiori2/search/controls/SearchInput','sap/ushell/renderers/fiori2/search/controls/SearchButton'],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchFieldGroup",{metadata:{properties:{"selectActive":{defaultValue:true,type:"boolean"},"inputActive":{defaultValue:true,type:"boolean"},"buttonActive":{defaultValue:true,type:"boolean"},"cancelButtonActive":{defaultValue:true,type:"boolean"}},aggregations:{"_flexBox":{type:"sap.m.FlexBox",multiple:false,visibility:"hidden"},"_buttonAriaText":{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);var t=this;t.initSelect();t.initInput();t.initButton();t.initCancelButton();t.initFlexBox();},setCancelButtonActive:function(a){if(a===this.getProperty('cancelButtonActive')){return;}this.setProperty('cancelButtonActive',a);this.initFlexBox();},initFlexBox:function(){if(!this.select){return;}var a=[];if(this.getSelectActive()){this.select.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.select);}if(this.getInputActive()){this.input.setLayoutData(new sap.m.FlexItemData({growFactor:1}));a.push(this.input);}if(this.getButtonActive()){this.button.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.button);}if(this.getCancelButtonActive()){this.cancelButton.setLayoutData(new sap.m.FlexItemData({growFactor:0}));a.push(this.cancelButton);}var f=this.getAggregation('_flexBox');if(!f){f=new sap.m.FlexBox({alignItems:sap.m.FlexAlignItems.Start,items:a});this.setAggregation('_flexBox',f);}else{f.removeAllAggregation('items');for(var i=0;i<a.length;++i){f.addItem(a[i]);}}},initSelect:function(){var t=this;t.select=new sap.ushell.renderers.fiori2.search.controls.SearchSelect(t.getId()+'-select',{});t.select.attachChange(function(){if(t.getAggregation("input")){var i=t.getAggregation("input");i.destroySuggestionRows();}});},initInput:function(){var t=this;t.input=new sap.ushell.renderers.fiori2.search.controls.SearchInput(t.getId()+'-input',{});},initButton:function(){var t=this;t.button=new sap.ushell.renderers.fiori2.search.controls.SearchButton(t.getId()+'-button',{tooltip:"{i18n>searchbox_tooltip}",press:function(e){var m=t.button.getModel();if(!m.config.odataProvider&&m.config.isLaunchpad()){if(t.input.getValue()===""&&m.getDataSource()===m.getDefaultDataSource()){return;}}m.invalidateQuery();t.input.destroySuggestionRows();t.input.triggerSearch(e);}});t.setAggregation("_buttonAriaText",new sap.ui.core.InvisibleText(t.getId()+'-buttonAriaText',{text:"{i18n>searchbox_tooltip}"}));t.button.addAriaLabelledBy(t.getAggregation("_buttonAriaText"));},initCancelButton:function(){this.cancelButton=new sap.m.Button({text:'{i18n>cancelBtn}'});this.cancelButton.addStyleClass("sapUshellSearchCancelButton");},setModel:function(m){this.select.setModel(m);this.input.setModel(m);this.button.setModel(m);this.cancelButton.setModel(m);},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass("SearchFieldGroup");r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_flexBox'));r.renderControl(c.getAggregation('_buttonAriaText'));r.write('</div>');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchFilterBar',['sap/m/Toolbar'],function(){"use strict";return sap.m.Toolbar.extend("sap.ushell.renderers.fiori2.search.controls.SearchFilterBar",{constructor:function(o){var t=this;o=jQuery.extend({},{design:sap.m.ToolbarDesign.Info},o);sap.m.Toolbar.prototype.constructor.apply(t,[o]);t.addStyleClass('sapUshellSearchFilterContextualBar');t.filterFormatter=t.filterFormatter.bind(t);t.filterText=new sap.m.Text({text:{parts:[{path:"/uiFilter/rootCondition"},{path:"/facets"}],formatter:t.filterFormatter},tooltip:{parts:[{path:"/uiFilter/rootCondition"},{path:"/facets"}],formatter:t.filterFormatter}}).addStyleClass("sapUshellSearchFilterText");t.filterText.setMaxLines(1);t.filterText.clampText();t.addContent(t.filterText);t.addContent(new sap.m.ToolbarSpacer());t.resetButton=new sap.ui.core.Icon({src:"sap-icon://clear-filter",tooltip:sap.ushell.resources.i18n.getText("resetFilterButton_tooltip")}).addStyleClass("sapUshellSearchFilterResetButton");t.addContent(t.resetButton);},filterFormatter:function(r,f){if(!r||!r.hasFilters()){return'';}r=this.sortConditions(r,f);var l=[];for(var i=0;i<r.conditions.length;++i){var c=r.conditions[i];for(var j=0;j<c.conditions.length;++j){var a=c.conditions[j];l.push(this._formatLabel(a.valueLabel,a.operator));}}return sap.ushell.resources.i18n.getText("filtered_by",l.join(', '));},_formatLabel:function(l,o){var a;switch(o){case'Bw':a=l+'*';break;case'Ew':a='*'+l;break;case'Co':a='*'+l+'*';break;default:a=l;break;}return a;},sortConditions:function(r,f){if(f.length===0){return r;}var g=function(c){var b=c.conditions[0];if(b.attribute){return b.attribute;}else{return b.conditions[0].attribute;}};var a=function(l,b,v){for(var i=0;i<l.length;++i){var e=l[i];if(e[b]===v){return i;}}};r=r.clone();r.conditions.sort(function(b,d){var e=g(b);var h=a(f,'dimension',e);var j=g(d);var k=a(f,'dimension',j);return h-k;});var s=function(c){var b=g(c);var d=a(f,'dimension',b);if(!d)return;var e=f[d];var v=function(h,j){return a(e.items,'label',h.valueLabel)-a(e.items,'label',j.valueLabel);};c.conditions.sort(v);};for(var i=0;i<r.conditions.length;++i){var c=r.conditions[i];s(c);}return r;},renderer:'sap.m.ToolbarRenderer',onAfterRendering:function(){var t=this;t.resetButton.attachPress(function(){var m=t.getModel();m.eventLogger.logEvent({type:m.eventLogger.CLEAR_ALL_FILTERS});m.resetFilterConditions(true);});var $=jQuery('.sapUshellSearchFilterText');$.attr('aria-label',sap.ushell.resources.i18n.getText("filtered_by_aria_label"));}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchInput',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/m/Input','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType','sap/ui/layout/HorizontalLayout','sap/ui/layout/VerticalLayout','sap/base/Log','sap/ushell/renderers/fiori2/search/controls/SearchObjectSuggestionImage','sap/ui/base/Event'],function(S,a,I,b,H,V,L,c,E){"use strict";sap.m.Input.extend('sap.ushell.renderers.fiori2.search.controls.SearchInput',{constructor:function(i,o){var t=this;o=jQuery.extend({},{width:'100%',showValueStateMessage:false,showTableSuggestionValueHelp:false,enableSuggestionsHighlighting:false,showSuggestion:true,filterSuggests:false,suggestionColumns:[new sap.m.Column({})],autocomplete:false,placeholder:{path:'/searchTermPlaceholder',mode:sap.ui.model.BindingMode.OneWay},liveChange:this.handleLiveChange.bind(this),suggestionItemSelected:this.handleSuggestionItemSelected.bind(this),enabled:{parts:[{path:"/initializingObjSearch"}],formatter:function(d){return!d;}}},o);var p=sap.ui.Device.system.phone;sap.ui.Device.system.phone=false;sap.m.Input.prototype.constructor.apply(this,[i,o]);sap.ui.Device.system.phone=p;this.bindAggregation("suggestionRows","/suggestions",function(i,C){return t.suggestionItemFactory(i,C);});this.addStyleClass('searchInput');this._bUseDialog=false;this._bFullScreen=false;this._ariaDescriptionIdNoResults=i+"-No-Results-Description";},renderer:'sap.m.InputRenderer',onsapenter:function(e){if(!(this._oSuggestionPopup&&this._oSuggestionPopup.isOpen()&&this._oSuggPopover._iPopupListSelectedIndex>=0)){this.getModel().invalidateQuery();this.triggerSearch(e);}sap.m.Input.prototype.onsapenter.apply(this,arguments);},triggerSearch:function(e){var t=this;S.subscribeOnlyOnce('triggerSearch','allSearchFinished',function(){t.getModel().autoStartApp();},t);var s=t.getValue();if(s.trim()===''){s='*';}t.getModel().setSearchBoxTerm(s,false);t.navigateToSearchApp();t.destroySuggestionRows();t.getModel().abortSuggestions();},handleLiveChange:function(e){this._oSuggPopover._isSuggestionItemSelectable=function(i){var d=i.getBindingContext().getObject();if(d.uiSuggestionType===b.Header||d.uiSuggestionType===b.BusyIndicator){return false;}return true;};var s=this.getValue();var m=this.getModel();m.setSearchBoxTerm(s,false);if(m.getSearchBoxTerm().length>0){m.doSuggestion();}else{this.destroySuggestionRows();m.abortSuggestions();}},handleSuggestionItemSelected:function(e){var m=this.getModel();var s=m.getSearchBoxTerm();var d;if(e.getId()==='AutoSelectAppSuggestion'){d=e.getParameter('suggestion');}else{d=e.getParameter('selectedRow').getBindingContext().getObject();}var f=d.searchTerm||'';var g=d.dataSource||m.getDataSource();var t=d.url;var h=d.uiSuggestionType;m.eventLogger.logEvent({type:m.eventLogger.SUGGESTION_SELECT,suggestionType:h,suggestionTerm:f,searchTerm:s,targetUrl:t,dataSourceKey:g?g.id:''});this.selectText(0,0);switch(h){case b.App:this.destroySuggestionRows();m.abortSuggestions();this.logRecentActivity(d);if(t[0]==='#'){if(t.indexOf('#Action-search')===0&&t===decodeURIComponent(S.getHashFromUrl())){m.setSearchBoxTerm(m.getLastSearchTerm(),false);sap.ui.getCore().getEventBus().publish("allSearchFinished");return;}if(window.hasher){window.hasher.setHash(t);}else{window.location.href=t;}}else{window.open(t,'_blank');m.setSearchBoxTerm('',false);this.setValue('');this.focus();}if(t.indexOf('#Action-search')!==0){sap.ui.require("sap/ushell/renderers/fiori2/search/SearchShellHelper").setSearchState('COL');}break;case b.DataSource:m.setDataSource(g,false);m.setSearchBoxTerm('',false);this.setValue('');this.focus();break;case b.SearchTermData:m.setDataSource(g,false);m.setSearchBoxTerm(f,false);this.getModel().invalidateQuery();this.navigateToSearchApp();this.setValue(f);break;case b.SearchTermHistory:m.setDataSource(g,false);m.setSearchBoxTerm(f,false);this.getModel().invalidateQuery();this.navigateToSearchApp();this.setValue(f);break;case b.Object:if(d.titleNavigation){d.titleNavigation.performNavigation();}break;default:break;}},logRecentActivity:function(s){try{var r={title:s.title,appType:'App',url:s.url,appId:s.url};var d=sap.ushell.Container.getRenderer('fiori2');d.logRecentActivity(r);}catch(e){L.warning('user recent activity logging failed:'+e);}},suggestionItemFactory:function(i,C){var s=C.getObject();switch(s.uiSuggestionType){case b.Object:return this.objectSuggestionItemFactory(i,C);case b.Header:return this.headerSuggestionItemFactory(i,C);case b.BusyIndicator:return this.busyIndicatorItemFactory(i,C);default:return this.regularSuggestionItemFactory(i,C);}},busyIndicatorItemFactory:function(i,C){var d=new V({content:[new sap.m.BusyIndicator({size:'0.6rem'})]});d.getText=function(){return this.getValue();}.bind(this);var l=new sap.m.ColumnListItem({cells:[d],type:"Active"});l.addStyleClass('searchSuggestion');l.addStyleClass('searchBusyIndicatorSuggestion');return l;},headerSuggestionItemFactory:function(i,C){var l=new sap.m.Label({text:'{label}'});var d=new V({content:[l]});d.getText=function(){return this.getValue();}.bind(this);var e=new sap.m.ColumnListItem({cells:[d],type:"Active"});e.addStyleClass('searchSuggestion');e.addStyleClass('searchHeaderSuggestion');return e;},assembleObjectSuggestionLabels:function(s){var l=[];var d=new sap.m.Label({text:"{label1}"});d.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},d);d.addStyleClass('sapUshellSearchObjectSuggestion-Label1');l.push(d);if(s.label2){var e=new sap.m.Label({text:"{label2}"});e.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},e);e.addStyleClass('sapUshellSearchObjectSuggestion-Label2');l.push(e);}var v=new V({content:l});v.addStyleClass('sapUshellSearchObjectSuggestion-Labels');return v;},objectSuggestionItemFactory:function(i,C){var s=C.getObject();var d=[];if(s.imageExists){d.push(new c({src:"{imageUrl}",isCircular:"{imageIsCircular}"}));}d.push(this.assembleObjectSuggestionLabels(s));var e=new H({content:d});e.addStyleClass('sapUshellSearchObjectSuggestion-Container');e.getText=function(){return this.getValue();}.bind(this);var l=new sap.m.ColumnListItem({cells:[e],type:"Active"});l.addStyleClass('searchSuggestion');l.addStyleClass('searchObjectSuggestion');return l;},regularSuggestionItemFactory:function(i,C){var t=this;var d=new sap.m.Label({text:{path:"icon",formatter:function(v){if(v){return"<i>"+sap.ushell.resources.i18n.getText("label_app")+"</i>";}return"";}}}).addStyleClass('suggestText').addStyleClass('suggestNavItem').addStyleClass('suggestListItemCell');d.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},d);var f=new sap.ui.core.Icon({src:"{icon}"}).addStyleClass('suggestIcon').addStyleClass('sapUshellSearchSuggestAppIcon').addStyleClass('suggestListItemCell');var l=new sap.m.Text({text:"{label}",layoutData:new sap.m.FlexItemData({shrinkFactor:1,minWidth:"4rem"}),wrapping:false}).addStyleClass('suggestText').addStyleClass('suggestNavItem').addStyleClass('suggestListItemCell');l.addEventDelegate({onAfterRendering:function(){S.boldTagUnescaper(this.getDomRef());}},l);var g=new sap.m.CustomListItem({type:sap.m.ListType.Active,content:new sap.m.FlexBox({items:[d,f,l]})});var s=C.oModel.getProperty(C.sPath);g.getText=function(){return(typeof s.searchTerm)==='string'?s.searchTerm:t.getValue();};var h=new sap.m.ColumnListItem({cells:[g],type:"Active"});if(s.uiSuggestionType===b.App){if(s.title&&s.title.indexOf("combinedAppSuggestion")>=0){h.addStyleClass('searchCombinedAppSuggestion');}else{h.addStyleClass('searchAppSuggestion');}}if(s.uiSuggestionType===b.DataSource){h.addStyleClass('searchDataSourceSuggestion');}if(s.uiSuggestionType===b.SearchTermData){h.addStyleClass('searchBOSuggestion');}if(s.uiSuggestionType===b.SearchTermHistory){h.addStyleClass('searchHistorySuggestion');}h.addStyleClass('searchSuggestion');h.addEventDelegate({onAfterRendering:function(e){var j=h.$().find('.suggestListItemCell');var k=0;j.each(function(m){k+=$(this).outerWidth(true);});if(k>h.$().find('li').get(0).scrollWidth){h.setTooltip($(j[0]).text()+" "+$(j[2]).text());}}});return h;},navigateToSearchApp:function(){if(S.isSearchAppActive()){this.getModel()._firePerspectiveQuery();}else{var h=this.getModel().renderSearchURL();window.location.hash=h;}},getAriaDescriptionIdForNoResults:function(){return this._ariaDescriptionIdNoResults;},onAfterRendering:function(e){var d=$(this.getDomRef()).find("#searchFieldInShell-input-inner");$(this.getDomRef()).find('input').attr('autocomplete','off');$(this.getDomRef()).find('input').attr('autocorrect','off');$(this.getDomRef()).find('input').attr('type','search');$(this.getDomRef()).find('input').attr('name','search');var f=jQuery('<form action=""></form>').on("submit",function(){return false;});$(this.getDomRef()).children('input').parent().append(f);$(this.getDomRef()).children('input').detach().appendTo(f);d.attr("aria-describedby",d.attr("aria-describedby")+" "+this._ariaDescriptionIdNoResults);},onValueRevertedByEscape:function(v){if(S.isSearchAppActive()){return;}this.setValue(" ");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchLabel',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Label.extend('sap.ushell.renderers.fiori2.search.controls.SearchLabel',{renderer:'sap.m.LabelRenderer',onAfterRendering:function(){var d=this.getDomRef();S.boldTagUnescaper(d);S.forwardEllipsis4Whyfound(d);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchLayout',[],function(){"use strict";return sap.ui.layout.FixFlex.extend("sap.ushell.renderers.fiori2.search.controls.SearchLayout",{metadata:{properties:{isBusy:{type:"boolean",defaultValue:false},busyDelay:{type:"int",defaultValue:100},showFacets:{type:"boolean",defaultValue:false},animateFacetTransition:{type:"boolean",defaultValue:false}},aggregations:{"resultListContainer":{type:"sap.ui.core.Control",multiple:false},"facets":{type:"sap.ui.core.Control",multiple:false},"busyIndicator":{type:"sap.ui.core.Control",multiple:false}}},init:function(){var t=this;sap.ui.layout.FixFlex.prototype.init.apply(this);var r=new sap.m.ScrollContainer("ushell-search-result-container",{height:'100%',vertical:true});t.setFlexContent(r);},constructor:function(o,i){var t=this;sap.ui.layout.FixFlex.prototype.constructor.apply(this,[o],i);t.setVertical(false);this.addEventDelegate({onAfterRendering:function(){var $=jQuery(".sapUiFixFlexFixed");if(t.getShowFacets()&&!sap.ui.Device.system.phone){$.addClass('sapUshellSearchFacetPanelOpen');}else{$.removeClass('sapUshellSearchFacetPanelOpen');}}});},getFacets:function(){return this.getFixContent();},setFacets:function(c){this.addFixContent(c);},getResultListContainer:function(){var r=this.getFlexContent();var c=r.getContent();if(c.length>0){return c[0];}return undefined;},setResultListContainer:function(c){var r=this.getFlexContent();r.destroyContent();r.addContent(c);},setAnimateFacetTransition:function(v){this.setProperty("animateFacetTransition",v,true);},setIsBusy:function(i){var t=this;if(i){if(this.busyFlag){return;}if(this.busyTimeout){return;}this.busyTimeout=setTimeout(function(){t.busyTimeout=null;t._setIsBusy(i);},this.getBusyDelay());}else{if(this.busyFlag){this._setIsBusy(i);return;}if(this.busyTimeout){clearTimeout(this.busyTimeout);this.busyTimeout=null;return;}}},setBusyDelay:function(b){this.setProperty("busyDelay",b,true);},_setIsBusy:function(i){if(i){this.getBusyIndicator().open();this.busyFlag=true;}else if(this.busyFlag){this.getBusyIndicator().close();this.busyFlag=false;}this.setProperty("isBusy",i,true);},setShowFacets:function(a){if(a===this.getShowFacets()){return undefined;}var $=jQuery(".sapUiFixFlexFixed");var b=jQuery(".sapUshellSearchResultListsContainer");if(this.getAnimateFacetTransition()){$.addClass("sapUshellSearchFacetAnimation");}else{$.removeClass("sapUshellSearchFacetAnimation");}if(!a){b.removeClass("sapUshellSearchFacetPanelOpen");$.removeClass("sapUshellSearchFacetPanelOpen");$.attr("aria-hidden","true");}else{b.addClass("sapUshellSearchFacetPanelOpen");$.addClass("sapUshellSearchFacetPanelOpen");$.attr("aria-hidden","false");}var h=function(e){sap.ui.getCore().getEventBus().publish("searchLayoutChanged");};$.one("transitionend",h);this.setProperty("showFacets",a,true);return this;},renderer:"sap.ui.layout.FixFlexRenderer"});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchLink',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Link.extend('sap.ushell.renderers.fiori2.search.controls.SearchLink',{metadata:{aggregations:{icon:{type:"sap.ui.core.Icon",multiple:false}}},renderer:'sap.m.LinkRenderer',onAfterRendering:function(){var d=this.getDomRef();S.boldTagUnescaper(d);var i=this.getAggregation("icon");if(i){var r=sap.ui.getCore().createRenderManager();var a=$("<span></span");r.render(i,a);$(d).prepend("&nbsp;");$(d).prepend(a);r.destroy();}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchMultiSelectionControl',[],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchMultiSelectionControl",{metadata:{properties:{resultList:"object"},aggregations:{actions:"object"}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultList-MultiSelectionControl");r.writeClasses();r.write(">");c._renderer(r);r.write("</div>");},_renderer:function(r){var t=this;var e=new sap.m.ToggleButton({icon:"sap-icon://multi-select",tooltip:sap.ushell.resources.i18n.getText("toggleSelectionModeBtn"),press:function(){if(this.getPressed()){t.getResultList.enableSelectionMode();t.getModel().setProperty("/multiSelectionEnabled",true);}else{t.getResultList.disableSelectionMode();t.getModel().setProperty("/multiSelectionEnabled",false);}},visible:false,pressed:{parts:[{path:'/multiSelectionEnabled'}],formatter:function(l){return l>0;},mode:sap.ui.model.BindingMode.OneWay}});e.setModel(t.getModel());e.addStyleClass("sapUshellSearchResultList-toggleMultiSelectionButton");r.renderControl(e);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchNoResultScreen',['sap/ushell/renderers/fiori2/search/SearchShellHelper','sap/ushell/renderers/fiori2/search/SearchConfiguration'],function(S,a){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchNoResultScreen",{metadata:{properties:{searchBoxTerm:"string"}},renderer:function(r,c){var s=S.getSearchInput();var b;if(s){b=s.getAriaDescriptionIdForNoResults();}var e=$('<div>').text(c.getSearchBoxTerm()).html();r.write('<div class="sapUshellSearch-no-result"');r.writeControlData(c);r.write('>');r.write('<div class="sapUshellSearch-no-result-icon">');r.writeIcon(sap.ui.core.IconPool.getIconURI("travel-request"));r.write('</div><div class="sapUshellSearch-no-result-text" role="alert">');r.write('<div ');if(b){r.write('id="'+b+'" ');}r.write('class="sapUshellSearch-no-result-info">'+sap.ushell.resources.i18n.getText("no_results_info",e).replace('<b>"&1"</b>','<b>"'+e+'"</b>'));r.write('</div>');c.renderAppFinderLink(r,c);r.write('<div class="sapUshellSearch-no-result-tips">'+sap.ushell.resources.i18n.getText("no_results_tips")+'</div> ');r.write('</div></div>');},renderAppFinderLink:function(r,c){if(!a.getInstance().isLaunchpad()){return;}var m=c.getModel();if(m.getDataSource()!==m.appDataSource){return;}var l=sap.ushell.resources.i18n.getText('no_results_link_appfinder','xxxx');var i=l.indexOf('xxxx');var p=l.slice(0,i);var s=l.slice(i+4);r.write('<div class="sapUshellSearch-no-result-info">');r.write(p);var b=new sap.m.Link({text:sap.ushell.resources.i18n.getText('appFinderTitle'),press:function(){var C=sap.ushell&&sap.ushell.Container&&(sap.ushell.Container.getService("SmartNavigation")||sap.ushell.Container.getService("CrossApplicationNavigation"));C.toExternal({target:{shellHash:'#Shell-home&/appFinder/catalog'}});}});r.renderControl(b);r.write(s);r.write('</div>');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchObjectSuggestionImage',['sap/m/Image'],function(I){"use strict";return I.extend('sap.ushell.renderers.fiori2.search.controls.SearchObjectSuggestionImage',{metadata:{properties:{isCircular:'boolean'}},constructor:function(){I.prototype.constructor.apply(this,arguments);this.attachBrowserEvent('load',function(){this.wrapImage();}.bind(this));this.attachBrowserEvent('error',function(){this.wrapImage(true);}.bind(this));this.addStyleClass('sapUshellSearchObjectSuggestionImage-Initial');},wrapImage:function(i){var a=this.getDomRef();if(jQuery(a.parentNode).hasClass('sapUshellSearchObjectSuggestionImage-Wrapper-Portrait')||jQuery(a.parentNode).hasClass('sapUshellSearchObjectSuggestionImage-Wrapper-Landscape')){this.adaptContainer(i);}else{this.createContainer(i);}},createContainer:function(i){var c=document.createElement('div');var a=this.getDomRef();jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper');if(a.offsetHeight>a.offsetWidth){jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper-Portrait');}else{jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper-Landscape');}if(this.getIsCircular()){c.style.borderRadius='50%';}a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a);c.appendChild(a);jQuery(a).removeClass('sapUshellSearchObjectSuggestionImage-Initial');if(i){jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper-Error');}},adaptContainer:function(i){var a=this.getDomRef();var c=a.parentNode;if(a.offsetHeight>a.offsetWidth){jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper-Portrait');jQuery(c).removeClass('sapUshellSearchObjectSuggestionImage-Wrapper-Landscape');}else{jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper-Landscape');jQuery(c).removeClass('sapUshellSearchObjectSuggestionImage-Wrapper-Protrait');}if(i){jQuery(c).addClass('sapUshellSearchObjectSuggestionImage-Wrapper-Error');}else{jQuery(c).removeClass('sapUshellSearchObjectSuggestionImage-Wrapper-Error');}},renderer:'sap.m.ImageRenderer'});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchRelatedObjectsToolbar',['sap/ushell/renderers/fiori2/search/SearchModel'],function(S){"use strict";var m=sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar",{metadata:{properties:{itemId:"string",navigationObjects:{type:"object",multiple:true},positionInList:"int"},aggregations:{_relatedObjectActionsToolbar:{type:"sap.m.Toolbar",multiple:false,visibility:"hidden"}}},init:function(){var t=this;if(sap.ui.core.Control.prototype.init){sap.ui.core.Control.prototype.init.apply(t,arguments);}sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar._allOfMyCurrentInstances.push(t);t.setAggregation("_relatedObjectActionsToolbar",new sap.m.Toolbar({design:sap.m.ToolbarDesign.Solid}).data("sap-ui-fastnavgroup","false",true).addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Toolbar"));if(typeof sap!=='undefined'&&sap.ui&&sap.ui.getCore){sap.ui.getCore().getEventBus().subscribe("searchLayoutChanged",t._layoutToolbarElements,t);}},exit:function(){var t=this;if(sap.ui.core.Control.prototype.exit){sap.ui.core.Control.prototype.exit.apply(t,arguments);}var a=sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar._allOfMyCurrentInstances;for(var i=0;i<a.length;i++){if(a[i]==t){a.splice(i,1);break;}}if(typeof sap!=='undefined'&&sap.ui&&sap.ui.getCore){sap.ui.getCore().getEventBus().unsubscribe("searchLayoutChanged",t._layoutToolbarElements,t);}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultListItem-RelatedObjectsToolbar");r.writeClasses();r.write(">");c._renderToolbar(r);r.write("</div>");},_renderToolbar:function(r){var t=this;var i;var _=t.getAggregation("_relatedObjectActionsToolbar");_.destroyContent();var c=function(b){return function(){t._performNavigation(b,{trackingOnly:true});};};var n=t.getNavigationObjects();if(n.length>0){var a=[];for(i=0;i<n.length;i++){var b=n[i];var l=new sap.m.Link({text:b.getText(),href:b.getHref(),layoutData:new sap.m.ToolbarLayoutData({shrinkable:false}),press:c(b)});var d=b.getTarget();if(d){l.setTarget(d);}l.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");a.push(l);}var e=new sap.m.ToolbarSpacer();e.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Spacer");_.addContent(e);for(i=0;i<a.length;i++){_.addContent(a[i]);}t._overFlowButton=new sap.m.Button({icon:sap.ui.core.IconPool.getIconURI("overflow")});t._overFlowButton.addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-OverFlowButton");_.addContent(t._overFlowButton);t._overFlowSheet=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});t._overFlowButton.attachPress(function(){t._overFlowSheet.openBy(t._overFlowButton);});r.renderControl(_);}},onAfterRendering:function(){var t=this;t._layoutToolbarElements();},_layoutToolbarElements:function(){var t=this;var _=t.getAggregation("_relatedObjectActionsToolbar");if(!(t.getDomRef()&&_.getDomRef())){return;}var a=$(_.getDomRef());var b=a.innerWidth();if($(t.getDomRef()).css("display")==="none"||a.css("display")==="none"){return;}t.toolbarWidth=b;var c=$(t._overFlowButton.getDomRef());c.css("display","none");var d=0;var p=function(k,l){t._performNavigation(l);};var e=a.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar-Element");for(var i=0;i<e.length;i++){var f=$(e[i]);f.css("display","");var g=d+f.outerWidth(true);if(g>b){if(i<e.length){c.css("display","");var o=c.outerWidth(true);for(;i>=0;i--){f=$(e[i]);g-=f.outerWidth(true);if(g+o<=b){break;}}}var n=t.getNavigationObjects();t._overFlowSheet.destroyButtons();i=(i>=0)?i:0;for(;i<e.length;i++){f=$(e[i]);f.css("display","none");var h=n[i];var j=new sap.m.Button({text:h.getText()});j.attachPress(h,p);t._overFlowSheet.addButton(j);}break;}d=g;}t._setupItemNavigation();},_setupItemNavigation:function(){var t=this;if(!t.theItemNavigation){t.theItemNavigation=new sap.ui.core.delegate.ItemNavigation();t.addDelegate(t.theItemNavigation);}t.theItemNavigation.setCycling(false);t.theItemNavigation.setRootDomRef(t.getDomRef());var a=[];var _=t.getAggregation("_relatedObjectActionsToolbar");var c=_.getContent();for(var i=0;i<c.length;i++){if(!c[i].hasStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar-Element")){continue;}if(!$(c[i].getDomRef()).attr("tabindex")){var b="-1";if(c[i].getPressed&&c[i].getPressed()){b="0";}$(c[i].getDomRef()).attr("tabindex",b);}a.push(c[i].getDomRef());}var d=t._overFlowButton.getDomRef();a.push(d);$(d).attr("tabindex","-1");t.theItemNavigation.setItemDomRefs(a);},_performNavigation:function(n,p){var t=p&&p.trackingOnly||false;n.performNavigation({trackingOnly:t});}});m._allOfMyCurrentInstances=[];$(window).on("resize",function(){for(var i=0;i<this._allOfMyCurrentInstances.length;i++){this._allOfMyCurrentInstances[i]._layoutToolbarElements();}}.bind(m));return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultList',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.List.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultList',{init:function(){if(sap.m.List.prototype.init){sap.m.List.prototype.init.apply(this,arguments);}this.addStyleClass("searchResultList");},renderer:'sap.m.ListRenderer',onAfterRendering:function(){var t=this;sap.m.List.prototype.onAfterRendering.apply(t,arguments);var m=sap.ushell.renderers.fiori2.search.getModelSingleton();var a=m.getProperty("/multiSelectionEnabled");if(a){t.enableSelectionMode(false);}t._prepareResizeHandler();t.collectListItemsForNavigation();},collectListItemsForNavigation:function(){var t=this;var m=t.getItems();if(m.length===0){return;}var d=function(){t._doCollectListItemsForNavigation();};for(var i=0;i<m.length;i++){var M=m[i];if(M.hasStyleClass("sapUshellSearchResultListItemApps")){var c=M.getContent();if(c.length>0){c[0].addEventDelegate({onAfterRendering:d});}}}t._doCollectListItemsForNavigation();},_doCollectListItemsForNavigation:function(){var t=this;var i,j;var f=t.getDomRef();if(!f){return;}var I=t.getItemNavigation();if(!I){t._startItemNavigation();I=t.getItemNavigation();}if(!I){return;}t._bItemNavigationInvalidated=false;var r=f.getElementsByTagName("li");var d=[];var T=[];for(i=0;i<r.length;i++){var R=r[i];if($(R).hasClass("sapUshellSearchResultListItemApps")){var a=R.getElementsByClassName("sapUshellSearchTileWrapper");for(j=0;j<a.length;j++){var b=S.getFocusableTileDomRef(a[j]);if(!b||$(b).is(":hidden")){continue;}d.push(b);T.push(b);}$(R).removeAttr("tabindex");$(R).removeAttr("role");$(R).attr("aria-hidden","true");}else if($(R).hasClass("sapUshellSearchResultListFooter")){var s=R.getElementsByClassName("sapUshellResultListMoreFooter");for(j=0;j<s.length;j++){d.push(s[j]);T.push(s[j]);}}else if($(R).hasClass("sapUshellSearchResultListItem")){d.push(R);T.push(R);}}if(d.length>0){var c=$(d[0]).closest("ul");var e=c.length>0?c[0]:d[0].parentElement;I.setRootDomRef(e);}I.setItemDomRefs(d);I.setCycling(false);I.setPageSize(10);if(T.length>0){var g=$(T[0]).attr("id");for(i=1;i<T.length;i++){g+=" "+$(T[i]).attr("id");}$(t.getDomRef()).children("[role='listbox']").attr("aria-owns",g);}},_prepareResizeHandler:function(){var t=this;var r=[768,1151];var w=function(){var b=window.innerWidth;if(b<r[0]){return 0;}for(var i=0;i<r.length-1;i++){if(b>=r[i]&&b<r[i+1]){return i+1;}}return r.length;};var l=w();var a=function(e){var c=w();if(c!=l){l=c;var m=t.getItems();for(var i=0;i<m.length;i++){var M=m[i];if(M.getContent()&&M.getContent().length>0&&M.getContent()[0].resizeEventHappened){M.getContent()[0].resizeEventHappened();}}}};$(window).on("resize",a);},enableSelectionMode:function(a){var t=this;var d=jQuery.Deferred();a=a===undefined?true:a;var s=$(t.getDomRef());if(!a){s.addClass("sapUshellSearchResultList-ShowMultiSelection");d.resolve();return d.promise();}var b=200;var c=s.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var e=s.find(".sapUshellSearchResultListItem-Attributes");var f=parseFloat(e.css("padding-left"));var g=c.find(".sapUshellSearchResultListItem-CheckboxContainer");var h=g.width();if(!s.hasClass("sapUshellSearchResultList-ShowMultiSelection")){c.css("width","0");c.css("opacity","0");e.css("padding-left",f);s.addClass("sapUshellSearchResultList-ShowMultiSelection");var n=f+h;var i=c.animate({"width":h,"opacity":1},b,function(){$(this).css("width","");$(this).css("opacity","");});var j=e.animate({"padding-left":n},b,function(){$(this).css("padding-left","");});jQuery.when(i,j).done(function(){d.resolve();});}else{d.resolve();}return d.promise();},disableSelectionMode:function(a){var t=this;var d=jQuery.Deferred();a=a===undefined?true:a;var s=$(t.getDomRef());if(!a){s.removeClass("sapUshellSearchResultList-ShowMultiSelection");d.resolve();return d.promise();}var b=200;var c=s.find(".sapUshellSearchResultListItem-CheckboxExpandContainer");var e=s.find(".sapUshellSearchResultListItem-Attributes");var f=parseFloat(e.css("padding-left"));var g=c.find(".sapUshellSearchResultListItem-CheckboxContainer");var h=g.width();if(s.hasClass("sapUshellSearchResultList-ShowMultiSelection")){var n=f-h;var i=c.animate({"width":0,"opacity":0},b).promise();var j=e.animate({"padding-left":n},b).promise();jQuery.when(i,j).done(function(){s.removeClass("sapUshellSearchResultList-ShowMultiSelection");c.css("width","");c.css("opacity","");e.css("padding-left","");d.resolve();});}else{d.resolve();}return d.promise();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListContainer',[],function(){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListContainer",{init:function(){this.data("sap-ui-fastnavgroup","true",true);},metadata:{aggregations:{"filterBar":{type:"sap.ui.core.Control",multiple:false},"centerArea":{singularName:"content"},"totalCountBar":{type:"sap.ui.core.Control",multiple:false},"didYouMeanBar":{type:"sap.ui.core.Control",multiple:false},"noResultScreen":{type:"sap.ui.core.Control",multiple:false},"totalCountHiddenElement":{type:"sap.ui.core.InvisibleText",multiple:false}}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellSearchResultListsContainer");r.addClass("sapUiResponsiveMargin");if(c.getModel()&&c.getModel().getFacetVisibility()===true){r.addClass("sapUshellSearchFacetPanelOpen");}r.writeClasses();r.write('>');r.renderControl(c.getNoResultScreen());r.renderControl(c.getDidYouMeanBar());r.write('<div class="sapUshellSearchTotalCountBar">');r.renderControl(c.getTotalCountBar());r.write("</div>");for(var i=0;i<c.getCenterArea().length;i++){r.renderControl(c.getCenterArea()[i]);}r.renderControl(c.getTotalCountHiddenElement());r.write("</div>");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListItem',['sap/ushell/renderers/fiori2/search/controls/SearchText','sap/ushell/renderers/fiori2/search/controls/SearchLink','sap/ushell/renderers/fiori2/search/controls/twitter/SearchTweet','sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/controls/SearchRelatedObjectsToolbar','sap/ushell/renderers/fiori2/search/SearchModel'],function(S,a,b,c,e,f){"use strict";var n='\u2013';return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItem",{metadata:{properties:{dataSource:"object",itemId:"string",title:"string",titleDescription:"string",titleNavigation:"object",geoJson:"object",type:"string",imageUrl:"string",imageFormat:"string",imageNavigation:"object",attributes:{type:"object",multiple:true},navigationObjects:{type:"object",multiple:true},selected:"boolean",expanded:"boolean",parentListItem:"object",additionalParameters:"object",positionInList:"int",resultSetId:"string",layoutCache:"object",totalCountHiddenElement:"object"},aggregations:{_titleLink:{type:"sap.ushell.renderers.fiori2.search.controls.SearchLink",multiple:false,visibility:"hidden"},_titleLinkDescription:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_titleDelimiter:{type:"sap.m.Text",multiple:false,visibility:"hidden"},_typeText:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_typeLink:{type:"sap.ushell.renderers.fiori2.search.controls.SearchLink",multiple:false,visibility:"hidden"},_multiLineDescriptionText:{type:"sap.ushell.renderers.fiori2.search.controls.SearchText",multiple:false,visibility:"hidden"},_multiLineDescriptionTweet:{type:"sap.ushell.renderers.fiori2.search.controls.twitter.SearchTweet",multiple:false,visibility:"hidden"},_selectionCheckBox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_attributeLabels:{type:"sap.m.Label",multiple:true,visibility:"hidden"},_attributeValues:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_attributeValuesWithoutWhyfoundHiddenTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_relatedObjectActionsToolbar:{type:"sap.ushell.renderers.fiori2.search.controls.SearchRelatedObjectsToolbar",multiple:false,visibility:"hidden"},_titleLabeledByText:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}}},init:function(){var t=this;if(sap.ui.core.Control.prototype.init){sap.ui.core.Control.prototype.init.apply(this,arguments);}t.setAggregation("_titleLink",new a({}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-Title").addStyleClass("sapUshellSearchResultListItem-MightOverflow").attachPress(function(E){var p=t._getPhoneSize();var w=$(window).width();if(w<=p){E.preventDefault();E.cancelBubble();t._performTitleNavigation();}else{t._performTitleNavigation({trackingOnly:true});}}));t.setAggregation("_titleLinkDescription",new S({}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));var d=new sap.m.Text({text:"|"});d.addEventDelegate({onAfterRendering:function(g){$(this.getDomRef()).attr("aria-hidden","true");}.bind(d)});t.setAggregation("_titleDelimiter",d.addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleDelimiter").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));t.setAggregation("_typeText",new S().addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleCategory").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));t.setAggregation("_typeLink",new sap.ushell.renderers.fiori2.search.controls.SearchLink({}).addStyleClass("sapUshellSearchResultListItem-HeaderEntry").addStyleClass("sapUshellSearchResultListItem-TitleCategoryLink").addStyleClass("sapUshellSearchResultListItem-MightOverflow"));t.setAggregation("_multiLineDescriptionText",new S({maxLines:5}).addStyleClass("sapUshellSearchResultListItem-MultiLineDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow").data("islongtext","true",true));t.setAggregation("_multiLineDescriptionTweet",new b({}).addStyleClass("sapUshellSearchResultListItem-MultiLineDescription").addStyleClass("sapUshellSearchResultListItem-MightOverflow").data("islongtext","true",true));t.setAggregation("_selectionCheckBox",new sap.m.CheckBox({select:function(E){t.setProperty("selected",E.getParameters().selected,true);}}));t.setAggregation("_expandButton",new sap.m.Button({type:sap.m.ButtonType.Transparent,press:function(E){t.toggleDetails();}}));t.setAggregation("_relatedObjectActionsToolbar",new e().addStyleClass("sapUshellSearchResultListItem-RelatedObjectsToolbar"));t.setAggregation("_titleLabeledByText",new sap.ui.core.InvisibleText());},renderer:function(r,C){C._renderer(r);},_renderer:function(r){this._registerItemPressHandler();this._resetPrecalculatedValues();this._renderContainer(r);this._renderAccessibilityInformation(r);},_renderContainer:function(r){var t=this;r.write('<div');r.writeControlData(t);r.addClass("sapUshellSearchResultListItem-Container");if(t.getImageUrl()){r.addClass("sapUshellSearchResultListItem-WithImage");}if(t.getImageFormat()&&t.getImageFormat().toLowerCase()=="documentthumbnail"){r.addClass("sapUshellSearchResultListItem-Document");}r.writeClasses();r.write('>');t._renderContentContainer(r);t._renderExpandButtonContainer(r);r.write('</div>');},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write('</div>');},_renderExpandButtonContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-ExpandButtonContainer">');r.write('<div class="sapUshellSearchResultListItem-ExpandButton">');var i,d;var g=t.getProperty("expanded");if(g){i=sap.ui.core.IconPool.getIconURI("slim-arrow-up");d=sap.ushell.resources.i18n.getText("hideDetailBtn_tooltip");}else{i=sap.ui.core.IconPool.getIconURI("slim-arrow-down");d=sap.ushell.resources.i18n.getText("showDetailBtn_tooltip");}var h=t.getAggregation("_expandButton");h.setIcon(i);h.setTooltip(d);h.addEventDelegate({onAfterRendering:function(){t.setAriaExpandedState();}});r.renderControl(h);r.write('</div>');r.write('</div>');},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var d="";var g;var h=t.getAggregation("_titleLink");var i=t.getTitle();if(!i||i.trim().length==0){i=n;}else{var j=t.getTitleNavigation();if(j){d=j.getHref();g=j.getTarget();}h.setHref(d);if(g){h.setTarget(g);}}h.setText(i);if(d.length===0){h.setEnabled(false);}h.addEventDelegate({onAfterRendering:function(){t.forwardEllipsis($(h.getDomRef()));}});r.renderControl(h);var k=t.getTitleDescription();if(k&&k.trim().length>0){var l=t.getAggregation("_titleLinkDescription");l.setText(k);r.renderControl(l);}var m=t.getAggregation("_titleDelimiter");r.renderControl(m);if(!t.getModel().config._eshClickableObjectType||t.getModel().getDataSource()==t.getDataSource()){var o=t.getAggregation("_typeText");o.setText(t.getType());r.renderControl(o);}else{var u=this.getModel().getProperty('/uiFilter').clone();u.setDataSource(t.getDataSource());var p=t.getModel().searchUrlParser.renderFromParameters(this.getModel().boTopDefault,u,true);var q=t.getAggregation("_typeLink");q.setText(t.getType());q.setHref(p);q.setTooltip(sap.ushell.resources.i18n.getText("searchInDataSourceTooltip",[t.getDataSource().labelPlural]));r.renderControl(q);}r.write('</div>');t._renderImageForPhone(r);r.write('</div>');},_renderCheckbox:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-CheckboxExpandContainer">');r.write('<div class="sapUshellSearchResultListItem-CheckboxContainer">');r.write('<div class="sapUshellSearchResultListItem-CheckboxAlignmentContainer">');var d=t.getAggregation("_selectionCheckBox");var s=t.getProperty("selected");d.setSelected(s);r.renderControl(d);r.write('</div>');r.write('</div>');r.write('</div>');},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()){r.write('<div class="sapUshellSearchResultListItem-TitleImage');if(this.getImageFormat()=="round"){r.write(" sapUshellSearchResultListItem-ImageContainerRound");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write('</div>');}},_renderImageForDocument:function(r){var t=this;if(t.getImageFormat()&&t.getImageFormat().toLowerCase()=="documentthumbnail"){var i=this.getImageNavigation();var d=i?i.getHref():"";var g,h;if(d&&d.length>0){g='<a href="'+d+'"';h='</a>';}else{g='<div';h='</div>';}r.write('<div class="sapUshellSearchResultListItem-DocumentThumbnailContainer">');r.write(g+' class="sapUshellSearchResultListItem-DocumentThumbnailBorder">');r.write('<div class="sapUshellSearchResultListItem-DocumentThumbnail-DogEar"></div>');var z=new sap.ui.core.Icon({src:sap.ui.core.IconPool.getIconURI("search"),useIconTooltip:false});z.addStyleClass("sapUshellSearchResultListItem-DocumentThumbnailZoomIcon");r.renderControl(z);var j=t.getImageUrl();if(j&&j.length>0){r.write('<img class="sapUshellSearchResultListItem-DocumentThumbnail" src="');r.write(t.getImageUrl());r.write('">');}r.write(h);r.write('</div>');}},_cutDescrAttributeOutOfAttributeList:function(){var d=this.getAttributes();for(var i=0;i<d.length;i++){var g=d[i];if(g.longtext){d.splice(i,1);this.setAttributes(d);return g;}}return undefined;},_renderMultiLineDescription:function(r){var t=this;if(t.getImageFormat()&&t.getImageFormat().toLowerCase()=="documentthumbnail"){var d=this._cutDescrAttributeOutOfAttributeList();if(d&&d.value&&d.value.length>0){var g;if(this._isTweet(d)){g=t.getAggregation("_multiLineDescriptionTweet");}else{g=t.getAggregation("_multiLineDescriptionText");}g.setText(d.value);if(d.whyfound){g.data("ishighlighted","true",true);}else{g.data("ishighlighted","false",true);}if(d.valueWithoutWhyfound){var h=new sap.ui.core.InvisibleText({});h.setText(d.valueWithoutWhyfound);g.data("tooltippedBy",h.getId(),true);g.addEventDelegate({onAfterRendering:function(){var i=$(g.getDomRef());i.attr("aria-describedby",i.attr("data-tooltippedby"));}});t.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",h,true);r.renderControl(h);}r.renderControl(g);}else{r.write('<div class="sapUshellSearchResultListItem-MultiLineDescription"></div>');}}},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-AttributesExpandContainer');var d=t.getProperty("expanded");if(d){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');t._renderImageForDocument(r);t._renderMultiLineDescription(r);r.write('<ul class="sapUshellSearchResultListItem-Attributes">');var i=t.getAttributes();t._renderImageAttribute(r,(i.length==0));t._renderAllAttributes(r,i);r.write('<li class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></li>');r.write('</ul>');t._renderRelatedObjectsToolbar(r);r.write('</div>');r.write('</div>');},_renderAllAttributes:function(r,d){var t=this;if(d.length==0){r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute sapUshellSearchResultListItem-EmptyAttributePlaceholder" aria-hidden="true"></li>');return;}var g;var l;var v;var h;var j,m,o;var p;var q=this.getLayoutCache()||{};this.setLayoutCache(q,true);if(!q.attributes){q.attributes={};}var i=0,k,s=0;var u=4;var w=3;var x=[0,0,0];var y=[0,0,0,0];var z=2;var A=2;var B;var C=t.getImageFormat()&&t.getImageFormat().toLowerCase()=="documentthumbnail";var D=t.getImageUrl()&&!C;if(C){u=w=2;x=y=[0,0];z=A=4;}var E=u*x.length;var F=w*y.length;if(D){E--;F--;x[0]++;y[0]++;}t.destroyAggregation("_attributeLabels");t.destroyAggregation("_attributeValues");t.destroyAggregation("_attributeValuesWithoutWhyfoundHiddenTexts");for(;!(z<=0&&A<=0)&&i<d.length;i++){g=d[i];if(C&&s>=4){break;}if(g.isTitle){continue;}if(E<=0&&F<=0&&!g.whyfound){continue;}l=g.name;v=g.value;if(l===undefined||v===undefined){continue;}if(!v||v.trim().length==0){v=n;}o=g.longtext!=undefined&&g.longtext.length>0;h=g.valueWithoutWhyfound;var _=-1,G=-1,H={desktop:1,tablet:1};var I=q.attributes[g.key]||{};q.attributes[g.key]=I;r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute');if(o){B=I.longTextColumnNumber||t._howManyColumnsToUseForLongTextAttribute(h);I.longTextColumnNumber=B;H=B;r.write(' sapUshellSearchResultListItem-LongtextAttribute');}if(E<=0){if(g.whyfound&&z>0){r.write(' sapUshellSearchResultListItem-WhyFoundAttribute-Desktop');z--;}else{r.write(' sapUshellSearchResultListItem-DisplayNoneAttribute-Desktop');}}if(F<=0){if(g.whyfound&&A>0){r.write(' sapUshellSearchResultListItem-WhyFoundAttribute-Tablet');A--;}else{r.write(' sapUshellSearchResultListItem-DisplayNoneAttribute-Tablet');}}if(o&&D&&x[0]==1){G=0;B=I.longTextColumnNumber.desktop<u?I.longTextColumnNumber.desktop:u-1;x[0]+=B;E-=B;}else{for(k=0;k<x.length;k++){if(x[k]+H.desktop<=u){x[k]+=H.desktop;E-=H.desktop;G=k;break;}}}if(G<0){G=x.length;}if(o&&D&&y[0]==1){_=0;B=I.longTextColumnNumber.tablet<w?I.longTextColumnNumber.tablet:w-1;y[0]+=B;F-=B;}else{for(k=0;k<y.length;k++){if(y[k]+H.tablet<=w){y[k]+=H.tablet;F-=H.tablet;_=k;break;}}}if(_<0){_=y.length;}r.write(' sapUshellSearchResultListItem-OrderTablet-'+_);r.write(' sapUshellSearchResultListItem-OrderDesktop-'+G);r.write('"');if(o){r.write(' data-sap-searchresultitem-attributeweight-desktop="'+H.desktop+'"');r.write(' data-sap-searchresultitem-attributeweight-tablet="'+H.tablet+'"');}r.write('>');j=new sap.m.Label({displayOnly:true});j.setText(l);j.addStyleClass("sapUshellSearchResultListItem-AttributeKey");j.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(j);r.write('<span class="sapUshellSearchResultListItem-AttributeValueContainer">');if(g.defaultNavigationTarget){m=new a();m.setHref(g.defaultNavigationTarget.getHref());m.setTarget(g.defaultNavigationTarget.getTarget());m.addStyleClass("sapUshellSearchResultListItem-AttributeLink");}else if(this._isTweet(g)){m=new b();}else{m=new S();}m.setText(v);m.addStyleClass("sapUshellSearchResultListItem-AttributeValue");m.addStyleClass("sapUshellSearchResultListItem-MightOverflow");if(g.whyfound){m.data("ishighlighted","true",true);m.addStyleClass("sapUshellSearchResultListItem-AttributeValueHighlighted");}if(o){m.data("islongtext","true",true);}if(h){p=new sap.ui.core.InvisibleText({});p.setText(h);m.data("tooltippedBy",p.getId(),true);m.addEventDelegate({onAfterRendering:function(){var L=$(m.getDomRef());L.attr("aria-describedby",L.attr("data-tooltippedby"));}});t.addAggregation("_attributeValuesWithoutWhyfoundHiddenTexts",p,true);r.renderControl(p);}r.renderControl(m);r.write('</span>');r.write('</li>');t.addAggregation("_attributeLabels",j,true);t.addAggregation("_attributeValues",m,true);s++;}if(D){var J=u-x[0];var K=w-y[0];if(J>0||K>0){r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-MainAttribute');r.write(' sapUshellSearchResultListItem-OrderTablet-0 sapUshellSearchResultListItem-OrderDesktop-0');r.write('"');r.write(' data-sap-searchresultitem-attributeweight-desktop="'+J+'"');r.write(' data-sap-searchresultitem-attributeweight-tablet="'+K+'"');r.write('></li>');}}},_isTweet:function(i){var m=sap.ushell.renderers.fiori2.search.getModelSingleton();return m.config._tweetAttribute===i.key;},_howManyColumnsToUseForLongTextAttribute:function(d){if(d.length<50){return{tablet:1,desktop:1};}if(d.length<85){return{tablet:2,desktop:2};}if(d.length<135){return{tablet:3,desktop:3};}return{tablet:3,desktop:4};},_renderImageAttribute:function(r,i){var t=this;if(!t.getImageUrl()||t.getImageFormat()&&t.getImageFormat().toLowerCase()=="documentthumbnail"){return;}r.write('<li class="sapUshellSearchResultListItem-GenericAttribute sapUshellSearchResultListItem-ImageAttribute');if(i){r.write(' sapUshellSearchResultListItem-LonelyImageAttribute');}r.write('">');r.write('<div class="sapUshellSearchResultListItem-ImageContainer');if(this.getImageFormat()=="round"){r.write(" sapUshellSearchResultListItem-ImageContainerRound");}r.write('">');if(t.getImageUrl()){r.write('<img class="sapUshellSearchResultListItem-Image');if(this.getImageFormat()=="round"){}r.write('" src="');r.write(t.getImageUrl());r.write('">');}if(this.getImageFormat()!="round"){r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');}r.write('</div>');r.write('</li>');},_renderRelatedObjectsToolbar:function(r){var t=this;var d=t.getNavigationObjects();if(!d||d.length===0){return;}t._showExpandButton=true;var g=t.getAggregation("_relatedObjectActionsToolbar");g.setProperty("navigationObjects",d);g.setProperty("positionInList",this.getPositionInList());r.renderControl(g);},_renderAccessibilityInformation:function(r){var t=this;var p=t.getProperty("parentListItem");if(p){t._renderAriaDescriptionElementForTitle(r,true,true);p.addEventDelegate({onAfterRendering:function(d){var g=$(p.getDomRef());t._addAriaDescriptionToParentListElement(p,true);g.on("focusin",function(d){var h=$(d.relatedTarget);if(h.hasClass("sapUshellSearchResultListItem")||h.closest(".sapUshellSearchResultListItemApps").length>0&&!h.hasClass("sapUshellResultListMoreFooter")){t._renderAriaDescriptionElementForTitle(r,false,false);t._addAriaDescriptionToParentListElement(p,false);}else{t._renderAriaDescriptionElementForTitle(r,true,false);t._addAriaDescriptionToParentListElement(p,true);}});},onsapspace:function(E){if(E.target===E.currentTarget){t.toggleDetails();}},onsapenter:function(E){if(E.target===E.currentTarget){var d=t.getTitleNavigation();if(d){d.performNavigation();}}}});}},_renderAriaDescriptionElementForTitle:function(r,w,d){var t=this;t._searchResultListPrefix=t._searchResultListPrefix||sap.ushell.resources.i18n.getText("result_list_announcement_screenreaders");var l=t.getTitle()+", "+t.getType()+".";if(w){l=t._searchResultListPrefix+" "+l;}var g=t.getAggregation("_titleLabeledByText");g.setText(l);if(d){r.renderControl(g);}},_addAriaDescriptionToParentListElement:function(p,i){var t=this.getAggregation("_titleLabeledByText");var d=t.getId();if(i){var g=this.getTotalCountHiddenElement();if(g){d+=" "+g.getId();}}var h=$(p.getDomRef());h.attr("aria-labelledby",d);},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());r.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var d=r.find(".sapUshellSearchResultListItem-AttributesExpandContainer");var g=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var h=false;if(g.css("display")==="none"){g.css("display","block");h=true;}var i=d.height();var j=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();r.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");if(h){g.css("display","");}var k=this._getElementsInExpandArea();var l=200;var m=l/10;var o={resultListItem:r,attributesExpandContainer:d,currentHeight:i,expandedHeight:j,elementsToFadeInOrOut:k,expandAnimationDuration:l,fadeInOrOutAnimationDuration:m,relatedObjectsToolbar:g};return o;},_getElementsInExpandArea:function(){var t=this;var d=$(t.getDomRef());var g=[];d.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var h=d.find(".sapUshellSearchResultListItem-GenericAttribute:not(.sapUshellSearchResultListItem-ImageAttribute)");if(h.length>0){var i=h.position().top;h.each(function(){if($(this).position().top>i){g.push(this);}});}d.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");return g;},isShowingDetails:function(){var d=this._getExpandAreaObjectInfo();if(d.currentHeight<d.expandedHeight){return false;}return true;},showDetails:function(d){var t=this;if(t.isShowingDetails()){return;}var g=this._getExpandAreaObjectInfo();g.relatedObjectsToolbar.css("opacity",0);g.relatedObjectsToolbar.css("display","block");var r=t.getAggregation("_relatedObjectActionsToolbar");if(r){r._layoutToolbarElements();}t.forwardEllipsis($(t.getDomRef()).find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValueHighlighted"));$(t.getDomRef()).addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var h,s=false;var i=g.attributesExpandContainer.animate({"height":g.expandedHeight},{"duration":g.expandAnimationDuration,"progress":function(j,p,k){if(!s&&p>0.5){h=g.relatedObjectsToolbar.animate({"opacity":1},k).promise();s=true;jQuery.when(i,h).done(function(){t.setProperty("expanded",true,true);$(this).addClass("sapUshellSearchResultListItem-AttributesExpanded");$(this).css("height","");$(g.elementsToFadeInOrOut).css("opacity","");$(t.getDomRef()).removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");var l=sap.ui.core.IconPool.getIconURI("slim-arrow-up");var m=t.getAggregation("_expandButton");m.setTooltip(sap.ushell.resources.i18n.getText("hideDetailBtn_tooltip"));m.setIcon(l);m.rerender();g.relatedObjectsToolbar.css("display","");g.relatedObjectsToolbar.css("opacity","");}.bind(this));}}}).promise();$(g.elementsToFadeInOrOut).animate({"opacity":1},g.fadeInOrOutAnimationDuration);},hideDetails:function(d){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var g=this._getExpandAreaObjectInfo();g.relatedObjectsToolbar.css("opacity",1);g.relatedObjectsToolbar.animate({"opacity":0},g.expandAnimationDuration/2);var h=r.find(".sapUshellSearchResultListItem-MainAttribute").outerHeight(true)+r.find(".sapUshellSearchResultListItem-ExpandSpacerAttribute").outerHeight(true);var s=false;var i=g.attributesExpandContainer.animate({"height":h},{"duration":g.expandAnimationDuration,"progress":function(j,p,k){if(!s&&k<=g.fadeInOrOutAnimationDuration){s=true;var l=$(g.elementsToFadeInOrOut).animate({"opacity":0},g.fadeInOrOutAnimationDuration).promise();jQuery.when(i,l).done(function(){t.setProperty("expanded",false,true);g.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(g.elementsToFadeInOrOut).css("opacity","");g.relatedObjectsToolbar.css("opacity","");var m=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var o=t.getAggregation("_expandButton");o.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));o.setIcon(m);o.rerender();});}}}).promise();},toggleDetails:function(d){var g;var m=sap.ushell.renderers.fiori2.search.getModelSingleton();if(this.isShowingDetails()){g=m.eventLogger.ITEM_HIDE_DETAILS;this.hideDetails(d);}else{g=m.eventLogger.ITEM_SHOW_DETAILS;this.showDetails(d);}m.eventLogger.logEvent({type:g,itemPosition:this.getPositionInList(),executionId:this.getResultSetId()});},isSelectionModeEnabled:function(){var t=this;var i=false;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");if(s){i=s.css("opacity")>0;}return i;},enableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");var g=s.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");var h=200;var i=false;s.animate({width:"2rem"},{"duration":h,"progress":function(j,p,r){if(!i&&p>0.5){g.css("display","");g.animate({opacity:"1.0"},h/2);i=true;}}});},disableSelectionMode:function(d){var t=this;var s=$(t.getDomRef()).find(".sapUshellSearchResultListItem-multiSelect-innerContainer");var g=s.find(".sapUshellSearchResultListItem-multiSelect-selectionBoxContainer");var h=200;g.animate({opacity:"0.0"},h/2,function(){g.css("display","none");});s.animate({width:"0"},h);},toggleSelectionMode:function(d){if(this.isSelectionModeEnabled()){this.disableSelectionMode(d);}else{this.enableSelectionMode(d);}},onAfterRendering:function(){var t=this;var d=$(t.getDomRef());t._showOrHideExpandButton();t._setListItemStatusBasedOnWindowSize();t.forwardEllipsis(d.find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValueHighlighted"));c.attachEventHandlersForTooltip(t.getDomRef());},resizeEventHappened:function(){var t=this;var d=$(t.getDomRef());t._showOrHideExpandButton();t._setListItemStatusBasedOnWindowSize();t.getAggregation("_titleLink").rerender();t.forwardEllipsis(d.find(".sapUshellSearchResultListItem-Title, .sapUshellSearchResultListItem-AttributeKey, .sapUshellSearchResultListItem-AttributeValueHighlighted"));},_getPhoneSize:function(){return 767;},_resetPrecalculatedValues:function(){this._visibleAttributes=undefined;this._detailsArea=undefined;this._showExpandButton=false;},_setListItemStatusBasedOnWindowSize:function(){var w=window.innerWidth;var p=this.getParentListItem();if(this.getTitleNavigation()&&w<=this._getPhoneSize()){p.setType(sap.m.ListType.Active);}else{p.setType(sap.m.ListType.Inactive);}},_showOrHideExpandButton:function(){var t=this;var d=$(t.getDomRef());var g=d.find(".sapUshellSearchResultListItem-ExpandButtonContainer");var i=g.css("visibility")!="hidden";var s=false;var h=d.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");s=h.length>0;var j=t.getImageFormat()&&t.getImageFormat().toLowerCase()=="documentthumbnail";if(!j&&!s){var k=t._getElementsInExpandArea();if(k.length>0){s=true;}}if(i&&!s){g.css("visibility","hidden");g.attr("aria-hidden","true");t.setAriaExpandedState();}else if(!i&&s){g.css("visibility","");g.removeAttr("aria-hidden");t.setAriaExpandedState();}},setAriaExpandedState:function(){var t=this;var d=t.getAggregation("_expandButton");var g=$(d.getDomRef());var h=$(t.getDomRef());var i=t.getParentListItem()?$(t.getParentListItem().getDomRef()):h.closest("li");var j=h.find(".sapUshellSearchResultListItem-ExpandButtonContainer");if(j.css("visibility")=="hidden"){g.removeAttr("aria-expanded");i.removeAttr("aria-expanded");}else{var k=t.getProperty("expanded");if(k){g.attr("aria-expanded","true");i.attr("aria-expanded","true");}else{g.attr("aria-expanded","false");i.attr("aria-expanded","false");}}},_registerItemPressHandler:function(){var t=this;var p=t.getParentListItem();if(p){p.attachPress(function(d){t._performTitleNavigation();});t._registerItemPressHandler=function(){};}},_performTitleNavigation:function(p){var t=p&&p.trackingOnly||false;var d=this.getTitleNavigation();if(d){d.performNavigation({trackingOnly:t});}},forwardEllipsis:function(o){var g=$(this.getDomRef());g.addClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");o.each(function(i,d){c.forwardEllipsis4Whyfound(d);});g.removeClass("sapUshellSearchResultListItem-AttributesPrepareExpansion");}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListItemDocument',['sap/ushell/renderers/fiori2/search/controls/SearchResultListItem','sap/ushell/renderers/fiori2/search/controls/SearchText','sap/ushell/renderers/fiori2/search/SearchHelper'],function(S,a,b){"use strict";var n='\u2013';return S.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItemDocument",{renderer:function(r,c){c._renderer(r);},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write('</div>');},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var c=t.getAdditionalParameters().titleUrl;var d=t.getAggregation("_titleLink");d.setHref(c);d.setText(t.getTitle());if(c.length===0){d.setEnabled(false);}r.renderControl(d);var e=t.getAggregation("_typeText");e.setText(t.getType());r.renderControl(e);r.write('</div>');t._renderImageForPhone(r);r.write('</div>');},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItemDoc-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');this._renderThumbnailSnippetContainer(r);this._renderDocAttributesContainer(r);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write('</ul>');t._renderRelatedObjectsToolbar(r);r.write('</div>');r.write('</div>');},_renderThumbnailContainer:function(r){var t=this;if(!t.getImageUrl()){return;}if(t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainer">');r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainerInner">');var z=new sap.ui.core.Icon({src:sap.ui.core.IconPool.getIconURI("search"),useIconTooltip:false});if(t.getContainsSuvFile()===true){var p=function(){window.open(t.getSuvlink(),'_blank');};z.attachPress(p);}z.addStyleClass("sapUshellSearchResultListItemDoc-ThumbnailZoomIcon");r.renderControl(z);if(t.getContainsSuvFile()===true){r.write('<a target="_blank" href="'+t.getSuvlink()+'">');}else{r.write('<a target="_blank" >');}r.write('<img class="sapUshellSearchResultListItemDoc-Thumbnail" src="');r.write(t.getImageUrl());r.write('</a>');r.write('</div>');r.write('</div>');}else{r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailContainer-hidden">');r.write('</div>');}},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()&&t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItem-TitleImage">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write('</div>');}},_renderDocAttributesContainer:function(r){r.write('<div class="sapUshellSearchResultListItemDoc-AttributesContainer">');var i=this.getAttributes();this._renderAllAttributes(r,i);r.write('</div>');},_renderThumbnailSnippetContainer:function(r){r.write('<div class="sapUshellSearchResultListItemDoc-ThumbnailSnippetContainer">');this._renderThumbnailContainer(r);this._renderSnippetContainer(r);r.write('</div>');},_renderSnippetContainer:function(r){var c=this.getAttributes();for(var i=0;i<c.length;i++){var d=c[i];if(d.longtext){var v=new a();v.setText(d.value);v.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");r.renderControl(v);}}},_renderAllAttributes:function(r,c){var t=this;var d;var l;var v;var e;var p;var i=0,j=0,k=0;var f=8;if(t.getImageUrl()){f--;}var g=function(h){var m;for(var i=0;i<h.length;i++){m=h[i];if(m.key==='FILE_PROPERTY'&&m.value){return true;}}return false;};var C=g(c);t.destroyAggregation("_attributeValues");for(;j<f&&i<c.length;i++){d=c[i];if(d.isTitle||d.longtext){continue;}if(C===true&&d.key!=='FILE_PROPERTY'){continue;}if(!d.value){continue;}if(C===true){var F=JSON.parse(d.value);for(;k<F.length&&k<10;k++){p=F[k];switch(p.type){case"date-time":var D=new Date(p.value);var o=sap.ui.core.format.DateFormat.getDateTimeInstance({style:"medium"},sap.ui.getCore().getConfiguration().getLocale());v=o.format(D);break;case"byte":v=b.formatFileSize(Number(p.value));break;case"integer":v=b.formatInteger(Number(p.value));break;default:v=p.value;}l=p.category+': '+p.name;if(v===undefined){continue;}if(!v||v===""){v=n;}e=new a();e.setText(v);e.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(e);t.addAggregation("_attributeValues",e,true);}}else{l=d.name;v=d.value;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}e=new a();e.setText(v);e.addStyleClass("sapUshellSearchResultListItemDoc-AttributeValue");e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(e);t.addAggregation("_attributeValues",e,true);}j++;}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var c=r.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");var d=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var e=false;if(d.css("display")==="none"){d.css("display","block");e=true;}var f=c.height();var g=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(e){d.css("display","");}var h=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var l=$(this);if(l.css("order")>2){h.push(this);}});var i=200;var j=i/10;var k={resultListItem:r,attributesExpandContainer:c,currentHeight:f,expandedHeight:g,elementsToFadeInOrOut:h,expandAnimationDuration:i,fadeInOrOutAnimationDuration:j,relatedObjectsToolbar:d};return k;},hideDetails:function(c){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var d=r.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);var s=false;var f=e.attributesExpandContainer.animate({"height":d},{"duration":e.expandAnimationDuration,"progress":function(g,p,h){if(!s&&h<=e.fadeInOrOutAnimationDuration){s=true;var i=$(e.elementsToFadeInOrOut).animate({"opacity":0},e.fadeInOrOutAnimationDuration).promise();jQuery.when(f,i).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var j=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var k=t.getAggregation("_expandButton");k.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));k.setIcon(j);k.rerender();});}}}).promise();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListItemNote',['sap/ushell/renderers/fiori2/search/controls/SearchResultListItem','sap/ushell/renderers/fiori2/search/controls/SearchText','sap/ushell/renderers/fiori2/search/SearchHelper'],function(S,a,b){"use strict";var n='\u2013';return S.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListItemNote",{renderer:function(r,c){c._renderer(r);},_renderContentContainer:function(r){r.write('<div class="sapUshellSearchResultListItem-Content">');this._renderTitleContainer(r);this._renderAttributesContainer(r);r.write('</div>');},_renderTitleContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItem-TitleAndImageContainer">');r.write('<div class="sapUshellSearchResultListItem-TitleContainer">');t._renderCheckbox(r);var c=t.getTitleUrl();var d=t.getAggregation("_titleLink");d.setHref(c);d.setText(t.getTitle());if(c.length===0){d.setEnabled(false);}r.renderControl(d);var e=t.getAggregation("_typeText");e.setText(t.getType());r.renderControl(e);r.write('</div>');t._renderImageForPhone(r);r.write('</div>');},_renderAttributesContainer:function(r){var t=this;r.write('<div class="sapUshellSearchResultListItemDoc-AttributesExpandContainer');var e=t.getProperty("expanded");if(e){r.write(" sapUshellSearchResultListItem-AttributesExpanded");}r.write('">');r.write('<div class="sapUshellSearchResultListItem-AttributesAndActions">');r.write('<ul class="sapUshellSearchResultListItem-Attributes">');this._renderThumbnailSnippetContainer(r);this._renderDocAttributesContainer(r);r.write('<div class="sapUshellSearchResultListItem-ExpandSpacerAttribute" aria-hidden="true"></div>');r.write('</ul>');t._renderRelatedObjectsToolbar(r);r.write('</div>');r.write('</div>');},_renderImageForPhone:function(r){var t=this;if(t.getImageUrl()&&t.getContainsThumbnail()===true){r.write('<div class="sapUshellSearchResultListItem-TitleImage">');r.write('<div class="sapUshellSearchResultListItem-ImageContainerAlignmentHelper"></div>');r.write('<img class="sapUshellSearchResultListItem-Image" src="');r.write(t.getImageUrl());r.write('">');r.write('</div>');}},_renderDocAttributesContainer:function(r){r.write('<div class="sapUshellSearchResultListItemNote-AttributesContainer">');var i=this.getAttributes();this._renderAllAttributes(r,i);r.write('</div>');},_renderThumbnailSnippetContainer:function(r){r.write('<div class="sapUshellSearchResultListItemNote-ThumbnailSnippetContainer">');this._renderSnippetContainer(r);r.write('</div>');},_renderSnippetContainer:function(r){var c=this.getAttributes();for(var i=0;i<c.length;i++){var d=c[i];if(d.longtext){var v=new a();v.setText(d.value);v.addStyleClass("sapUshellSearchResultListItemDoc-Snippet");r.renderControl(v);}}},_renderAllAttributes:function(r,c){var t=this;var d;var l;var v;var e;var i=0,j=0;var f=4;if(t.getImageUrl()){f--;}t.destroyAggregation("_attributeValues");for(;j<f&&i<c.length;i++){d=c[i];if(d.isTitle||d.longtext){continue;}if(!d.value){continue;}l=d.name;v=d.value;if(l===undefined||v===undefined){continue;}if(!v||v===""){v=n;}e=new a();e.setText(v);e.addStyleClass("sapUshellSearchResultListItemNote-AttributeValue");e.addStyleClass("sapUshellSearchResultListItem-MightOverflow");r.renderControl(e);t.addAggregation("_attributeValues",e,true);j++;}},_getExpandAreaObjectInfo:function(){var t=this;var r=$(t.getDomRef());var c=r.find(".sapUshellSearchResultListItemDoc-AttributesExpandContainer");var d=r.find(".sapUshellSearchResultListItem-RelatedObjectsToolbar");var e=false;if(d.css("display")==="none"){d.css("display","block");e=true;}var f=c.height();var g=r.find(".sapUshellSearchResultListItem-AttributesAndActions").height();if(e){d.css("display","");}var h=[];r.find(".sapUshellSearchResultListItem-GenericAttribute").each(function(){var l=$(this);if(l.css("order")>2){h.push(this);}});var i=200;var j=i/10;var k={resultListItem:r,attributesExpandContainer:c,currentHeight:f,expandedHeight:g,elementsToFadeInOrOut:h,expandAnimationDuration:i,fadeInOrOutAnimationDuration:j,relatedObjectsToolbar:d};return k;},hideDetails:function(c){var t=this;var r=$(t.getDomRef());if(!t.isShowingDetails()){return;}var e=this._getExpandAreaObjectInfo();var d=r.find(".sapUshellSearchResultListItem-Attributes").outerHeight(true);var s=false;var f=e.attributesExpandContainer.animate({"height":d},{"duration":e.expandAnimationDuration,"progress":function(g,p,h){if(!s&&h<=e.fadeInOrOutAnimationDuration){s=true;var i=$(e.elementsToFadeInOrOut).animate({"opacity":0},e.fadeInOrOutAnimationDuration).promise();jQuery.when(f,i).done(function(){t.setProperty("expanded",false,true);e.attributesExpandContainer.removeClass("sapUshellSearchResultListItem-AttributesExpanded");$(e.elementsToFadeInOrOut).css("opacity","");var j=sap.ui.core.IconPool.getIconURI("slim-arrow-down");var k=t.getAggregation("_expandButton");k.setTooltip(sap.ushell.resources.i18n.getText("showDetailBtn_tooltip"));k.setIcon(j);k.rerender();});}}}).promise();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandler',['sap/ui/base/Object'],function(){"use strict";return sap.ui.base.Object.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandler",{isMultiSelectionAvailable:function(d){return false;},actionsForDataSource:function(d){return[];}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandlerNote',['./SearchResultListSelectionHandler'],function(S){"use strict";return S.extend("sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandlerNote",{isMultiSelectionAvailable:function(d){return true;},actionsForDataSource:function(d){var a=[{text:"Show Selected Items",action:function(s){var m="No Items were selected!";if(s.length>0){m="Following Items were selected:";for(var i=0;i<s.length;i++){m+="\n"+s[i].title;}}sap.m.MessageBox.show(m,{icon:sap.m.MessageBox.Icon.INFORMATION,title:"I'm a Custom Action for testing Multi-Selection",actions:[sap.m.MessageBox.Action.OK]});}}];return a;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultMap',['sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/base/Log'],function(S,L){"use strict";var b=true;var f=function(u){var i=false;$.ajax({url:u,type:"get",async:false,success:function(){i=true;return i;},error:function(){i=false;return i;}});return i;};var m=function(){var i=false;i=f("/sap/hana/spatial/mapClient/map.xsjs?col=32&row=32&level=6");return i;};var g=m();var k=function(c){var r=null;if(c.getModel()&&c.getModel().config&&c.getModel().config.mapsAppId){var s="https://1.base.maps.cit.api.here.com/maptile/2.1/maptile/newest/normal.day/{LOD}/{X}/{Y}/256/png8?";var a="https://2.base.maps.cit.api.here.com/maptile/2.1/maptile/newest/normal.day/{LOD}/{X}/{Y}/256/png8?";var d,e,i,u,h;d='app_id='+c.getModel().config.mapsAppId;e='app_code='+c.getModel().config.mapsAppCode;d=d.replace('mapsAppId','app_id');e=e.replace('mapsAppCode','app_code');i="?"+d+"&"+e;u=s.replace("?",i);h=a.replace("?",i);r=[[u,h]];}return r;};var l=function(u){var a=null;var U=[];try{U=sap.ushell.renderers.fiori2.search.getModelSingleton().config.mapTileLocation.URLPairs;}catch(e){}if(g){a="/sap/hana/spatial/mapClient/map.xsjs?col={X}&row={Y}&level={LOD}";}else if(U&&U.length>0){if(u===0){a=U[0][0];}else{a=U[0][1];}}else{b=false;}if(typeof a!=="string"||a.length<0){b=false;}return a;};return sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultMap',{teststring:'',ContainerContent:null,MapContainer:null,minLat:0,minLon:0,maxLat:0,maxLon:0,centerLat:0,centerLon:0,iNrLocations:0,myMap:null,myMapContainer:null,metadata:{aggregations:{"_map":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},init:function(){var t=this;var M={"MapProvider":[{"name":"HEREMAPS","type":"terrain","description":"","tileX":"256","tileY":"256","maxLOD":"20","copyright":"Tiles Courtesy of HERE Maps","Source":[{"id":"s1","url":l(0)},{"id":"s2","url":l(1)}]}],"MapLayerStacks":[{"name":"DEFAULT","MapLayer":{"name":"layer1","refMapProvider":"HEREMAPS","opacity":"0.9","colBkgnd":"RGB(255,255,255)"}}]};try{jQuery.sap.require("sap.ui.vk.MapContainer","sap.ui.vk.ContainerContent");t.MapContainer=sap.ui.vk.MapContainer;t.ContainerContent=sap.ui.vk.ContainerContent;}catch(e){}var a=new sap.ui.vbm.GeoMap({legendVisible:false,scaleVisible:false,refMapLayerStack:'DEFAULT',mapConfiguration:M,width:'100%',height:'100%',zoomlevel:6,zoomChanged:this.zoomChanged.bind(this),centerChanged:this.centerChanged.bind(this)});if(this.MapContainer){var c=new t.ContainerContent({content:a});this.MapContainer.prototype._onNavbarHome=function(){t.resizeMap();t.centerMap();t.setZoomLevelAfterRendering();};this.myMapContainer=new t.MapContainer({content:[c],showRectangularZoom:true,showHome:true,showFullScreen:false,showSettings:false,showSelection:false});t.myMap=t.myMapContainer.getContent()[0].getAggregation('content');t.setAggregation('_map',this.myMapContainer);}else{t.setAggregation('_map',a);t.myMap=t.getAggregation('_map');}},ifMissingTilesCheckUrlParams:function(c){var U=k(c);if(U&&U.length>0){b=true;var M=c.myMap.getMapConfiguration();M.MapProvider[0].Source[0].url=U[0][0];M.MapProvider[0].Source[1].url=U[0][1];c.myMap.setMapConfiguration(M);}},renderer:function(r,c){c.loadObjects(c);if(!b){c.ifMissingTilesCheckUrlParams(c);}r.write('<div ');r.writeControlData(c);r.addClass('sapUshellSearchResultMap');r.writeClasses();r.write('>');var e;if(!b){e=new sap.m.Label({text:sap.ushell.resources.i18n.getText("mapsNoTiles")});r.renderControl(e);}else if(c.iNrLocations===0){e=new sap.m.Label({text:sap.ushell.resources.i18n.getText("mapsNoCoordinates")});r.renderControl(e);}else{if(c.MapContainer){r.renderControl(c.myMapContainer);}else{r.renderControl(c.myMap);}}r.write('</div>');},splitCoordinates:function(c){var a=c.split(';');return[parseFloat(a[0]),parseFloat(a[1])];},deg2rad:function(d){return Math.PI*d/180;},rad2deg:function(r){return 180*r/Math.PI;},getDistanceFromLatLonInKm:function(e,h,i,j){var R=6371;var n=this.deg2rad(i-e);var o=this.deg2rad(j-h);var a=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(i))*Math.sin(o/2)*Math.sin(o/2);var c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));var d=R*c;return d;},getLatLonDiff:function(v){var a,c,d,e,h,i,j,n;var o,p,q,r;a=v.upperLeft.split(";");c=v.lowerRight.split(";");d=parseFloat(a[1],10);e=parseFloat(c[1],10);n=(d+e)/2;o=d-e;q=o*111;q=Math.floor(q);h=parseFloat(a[0],10);i=parseFloat(c[0],10);if((h<0&&i>0)|(h>0&&i<0)){p=Math.abs(h)+Math.abs(i);}else{p=Math.abs(i-h);}r=this.getDistanceFromLatLonInKm(n,h,n,i);r=Math.floor(r);j="lat= "+o+" ("+q+" km); lon= "+p+" ("+r+" km)";return j;},calculateZoomLevel:function(s,K){if(K===0){K=1;}var e=40075004;var w=s;var a=e/256;var z=0;while((a*w)>(K*1000)&&(z<20)){a=a/2.5;z=z+1;}L.debug('zoomLevel calc: '+z);return z;},getSpotList:function(){var t=this;var s=new sap.ui.vbm.Containers();var r=t.getModel().oData.boResults;var n=0;var R,o,T,c,a,d,e,h,p,q,u,i;for(i=0;i<r.length;i++){R=r[i];o={};if(!R.geoJson){continue;}if(typeof R.geoJson.value==='string'){o=JSON.parse(R.geoJson.value);}else{o.coordinates=R.geoJson.value.coordinates;}T=R.geoJson.label;if(T==="LOC_4326"||T==="LOCATION"||T===undefined){T=R.title;}if(T==="LOC_4326"||T==="LOCATION"||T===undefined){for(var j=0;j<R.itemattributes.length;j++){if(R.itemattributes[j].isTitle===true){T=R.itemattributes[j].value;break;}}}if(T===undefined||typeof T!=='string'){T="unlabeled location";}else{T=T.replace(/<[^>]*>/g,"");}c=o.coordinates;if(!c||c.length===0){continue;}a=c[0];d=c[1];if(isNaN(d)||isNaN(a)){continue;}n++;if(n===1){h=a;p=a;q=d;u=d;}else{if(a<h){h=a;}if(a>p){p=a;}if(d<q){q=d;}if(d>u){u=d;}}t.minLon=h;t.maxLon=p;t.minLat=q;t.maxLat=u;var v=new sap.m.Button({text:T});var B=new sap.m.Button({icon:"sap-icon://map",type:sap.m.ButtonType.Emphasized});var w=new sap.ui.layout.HorizontalLayout({content:[B,v]});e=new sap.ui.vbm.Container({position:a+';'+d+';0',item:w,alignment:6});s.addItem(e);}t.iNrLocations=n;if(n===0){s=t.getSpotList2();}return s;},getSpotList2:function(c){var t=this;var r=t.getModel().oData.origBoResults.elements;var R,o,T,C,a,d,s;var h=new sap.ui.vbm.Containers();var n=0;var i,p,q,u;var v=0;for(var w in r){if(!r.hasOwnProperty(w))continue;R=r[w];if(!R.LOC_4326)continue;o=R.LOC_4326;for(var x in R){if(!R.hasOwnProperty(x))continue;var A=R[x];T="";var y=false;if(A.$$MetaData$$){var z=A.$$MetaData$$.presentationUsage;if(z&&typeof z.length!=="undefined"){for(var j=0;j<z.length;j++){if(z[j]=="Title"){T=A.value;T=T.replace(/<[^>]*>/g,"");y=true;break;}}}}if(y){break;}}C=null;try{C=JSON.parse(o.value).coordinates;}catch(e){}if(!C||C.length===0){continue;}n++;a=C[0];d=C[1];if(isNaN(d)||isNaN(a)){continue;}v++;if(v===1){i=a;p=a;q=d;u=d;}else{if(a<i){i=a;}if(a>p){p=a;}if(d<q){q=d;}if(d>u){u=d;}}t.minLon=i;t.maxLon=p;t.minLat=q;t.maxLat=u;var B=new sap.m.Button({text:T});var D=new sap.m.Button({icon:"sap-icon://map",type:sap.m.ButtonType.Emphasized});var E=new sap.ui.layout.HorizontalLayout({content:[D,B]});s=new sap.ui.vbm.Container({position:a+';'+d+';0',item:E,alignment:6});h.addItem(s);}t.iNrLocations=n;return h;},loadObjects:function(c){var t=this;var s=t.getSpotList();L.debug("++++++");L.debug("number of locations: "+t.iNrLocations);t.myMap.removeAllVos();t.myMap.addVo(s);t.centerMap();var p=S.prototype.parseUrlParameters();for(var a in p){if(a==='box'&&p[a]!=="false"){t.showBoundariesAndCenter();}}},centerMap:function(){var t=this;t.centerLon=t.minLon+(t.maxLon-t.minLon)/2;t.centerLat=t.minLat+(t.maxLat-t.minLat)/2;L.debug("centerMap() returns: centerLat, centerLon: "+t.centerLat+";"+t.centerLon);t.myMap.setCenterPosition(t.centerLon+";"+t.centerLat);},setVisualFrame:function(){var t=this;var v={};v.minLon=t.minLon*0.5;v.maxLon=t.maxLon*1.2;v.minLat=t.minLat*0.8;v.maxLat=t.maxLat*1.2;t.myMap.setVisualFrame(v);},showBoundariesAndCenter:function(){var t=this;var c=new sap.ui.vbm.Spots({items:[new sap.ui.vbm.Spot({type:"Error",text:"center",position:(t.centerLon+" ;  "+t.centerLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"TLeft",position:(t.minLon+" ;  "+t.maxLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"TRight",position:(t.maxLon+" ;  "+t.maxLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"BLeft",position:(t.minLon+" ;  "+t.minLat+";0")}),new sap.ui.vbm.Spot({type:"Error",text:"BRight",position:(t.maxLon+" ;  "+t.minLat+";0")})]});t.myMap.addVo(c);},zoomChanged:function(e){var v=e.getParameter('viewportBB');var z=e.getParameter('zoomLevel');L.debug('zoomLevel ',z,'LatLonDiff:',this.getLatLonDiff(v));},centerChanged:function(e){var c=e.getParameter('centerPoint');L.debug('centerPoint: '+c);},setZoomLevelAfterRendering:function(){var t=this;var i=$(".sapUshellSearchResultMap")[0].id;var s=$("#"+i).width();s=s*0.8;var K=this.getDistanceFromLatLonInKm(this.minLat,this.minLon,this.maxLat,this.maxLon);L.debug('iScreenWidth for zoomLevel calc: '+s);var z=this.calculateZoomLevel(s,K);z=z-1;if(K>599&&K<701){z=6;}if(this.iNrLocations===1||K<2){z=9;}window.setTimeout(function(){t.myMap.setZoomlevel(z);},200);},setZoomLevelAfterRenderingOld:function(s){var t=this;var K=this.getDistanceFromLatLonInKm(this.minLat,this.minLon,this.maxLat,this.maxLon);K=Math.floor(K);L.debug("BOX minLat, minLon, maxLat, maxLon: ",this.minLat,this.minLon,this.maxLat,this.maxLon);L.debug('iKm for zoomLevel calc: '+K);L.debug('iScreenWidth for zoomLevel calc: '+s);var z=this.calculateZoomLevel(s,K);if(z>7){}if(this.iNrLocations===1){this.getAggregation('_map').setZoomlevel(9);}else{window.setTimeout(function(){t.myMap.setZoomlevel(z);},200);}},resizeMap:function(e){var h=$(".sapUshellSearchResultMap").parent().parent().parent().css("height");h=parseInt(h,10);h=0.85*h;h=""+h+"px";$(".sapUshellSearchResultMap").css("height",h);$(".sapUshellSearchResultMap").css("vertical-align","middle");},onAfterRendering:function(e){var t=this;t.resizeMap();t.centerMap();window.onresize=t.resizeMap;t.setZoomLevelAfterRendering();}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchResultTable',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Table.extend('sap.ushell.renderers.fiori2.search.controls.SearchResultTable',{renderer:'sap.m.TableRenderer',onAfterRendering:function(){S.attachEventHandlersForTooltip(this.getDomRef());}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchSelect',['sap/m/Select'],function(){"use strict";return sap.m.Select.extend('sap.ushell.renderers.fiori2.search.controls.SearchSelect',{constructor:function(i,o){o=jQuery.extend({},{visible:"{/businessObjSearchEnabled}",autoAdjustWidth:true,items:{path:"/dataSources",template:new sap.ui.core.Item({key:"{id}",text:"{labelPlural}"})},selectedKey:{path:'/uiFilter/dataSource/id',mode:sap.ui.model.BindingMode.OneWay},change:function(e){var a=this.getSelectedItem();var c=a.getBindingContext();var d=c.getObject();this.getModel().setDataSource(d,false);this.getModel().abortSuggestions();this.getModel().eventLogger.logEvent({type:this.getModel().eventLogger.DROPDOWN_SELECT_DS,dataSourceId:d.id});},enabled:{parts:[{path:"/initializingObjSearch"}],formatter:function(a){return!a;}}},o);sap.m.Select.prototype.constructor.apply(this,[i,o]);this.addStyleClass('searchSelect');},renderer:'sap.m.SelectRenderer',setDisplayMode:function(m){switch(m){case'icon':this.setType(sap.m.SelectType.IconOnly);this.setIcon('sap-icon://slim-arrow-down');break;case'default':this.setType(sap.m.SelectType.Default);break;default:break;}}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchSpreadsheet',["sap/ui/core/mvc/Controller",'sap/ushell/renderers/fiori2/search/SearchResultListFormatter',"sap/ui/export/Spreadsheet"],function(C,S,c){"use strict";return C.extend("sap.ui.export.sample.table.Spreadsheet",{onExport:function(){var t=this;t.exportData={columns:[],rows:[]};if(t.table===undefined){t.table=sap.ui.getCore().byId('ushell-search-result-table');t.model=t.table.getModel();}sap.ui.getCore().byId('dataExportButton').setEnabled(false);var e=t.model.query.clone();e.setCalculateFacets(false);e.setTop(1000);var s=function(b){t._parseColumns(b.items[0]);var f=new S();var d=f.format(b,e.filter.searchTerm,{suppressHighlightedValues:true});for(var i=0;i<d.length;i++){b.items[i].title=d[i].title;b.items[i].titleDescription=d[i].titleDescription;}t._parseRows(b.items);t._doExport();};var a=function(b){t.model.normalSearchErrorHandling(b);sap.ui.getCore().byId('dataExportButton').setEnabled(true);};if(t.model.getProperty("/boCount")>1000){sap.m.MessageBox.information(sap.ushell.resources.i18n.getText("exportDataInfo"),{actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],onClose:function(A){if(A==sap.m.MessageBox.Action.OK){e.getResultSetAsync().then(s,a);}if(A==sap.m.MessageBox.Action.CANCEL){sap.ui.getCore().byId('dataExportButton').setEnabled(true);}}});}else{e.getResultSetAsync().then(s,a);}},_parseColumns:function(f){var t=this;var e=[];var d={label:f.dataSource.labelPlural,property:'title_export_column',type:'string'};var g="";f.titleDescriptionAttributes.forEach(function(a){g=g+a.label+" ";});g=g+"("+sap.ushell.resources.i18n.getText("titleDescription")+")";var h={label:g,property:'title_description_export_column',type:'string'};var j=[];for(var i=0;i<f.detailAttributes.length;i++){if(f.detailAttributes[i].metadata.type!==t.model.sinaNext.AttributeType.ImageUrl){j.push(f.detailAttributes[i]);}}if(t.model.getProperty("/resultToDisplay")!=="searchResultTable"){e.push(d);if(f.titleDescriptionAttributes.length>0){e.push(h);}var l=0;for(var i=0;i<j.length&&l<12;i++){e=e.concat(t._getRelatedColumns(j[i]));l++;}}else{var v=[];t.table.getColumns().forEach(function(a){if(a.getVisible()){v.push(a);}});v.sort(function(a,b){if(a.getOrder()<b.getOrder())return-1;if(a.getOrder()>b.getOrder())return 1;return 0;});v.forEach(function(a){var b=a.getBindingContext().getObject().attributeId;if(b==="SEARCH_TABLE_TITLE_COLUMN"){e.push(d);return;}if(b==="SEARCH_TABLE_TITLE_DESCRIPTION_COLUMN"){e.push(h);return;}for(var i=0;i<j.length;i++){if(b===j[i].id){e=e.concat(t._getRelatedColumns(j[i]));}}});}t.exportData.columns=e;},_getRelatedColumns:function(a){var t=this;var b=[];if(a.hasOwnProperty("value")){b.push(t._getColumn(a));if(a.unitOfMeasure){b.push(t._getColumn(a.unitOfMeasure));}if(a.description){b.push(t._getColumn(a.description));}}if(a.attributes&&a.attributes.length>0){for(var i=0;i<a.attributes.length;i++){var d=a.attributes[i].attribute;if(d&&d.label&&d.id){b.push(t._getColumn(d));}}}return b;},_getColumn:function(a){var t=this;var b={label:a.label,property:a.id};if(a.metadata.type===undefined){b.type='string';return b;}switch(a.metadata.type){case t.model.sinaNext.AttributeType.Double:b.type='number';b.scale=2;break;case t.model.sinaNext.AttributeType.Integer:b.type='number';b.scale=0;break;default:b.type='string';}return b;},_parseRows:function(s){var t=this;var e=[];s.forEach(function(r){var a=r.detailAttributes;var b={};b["title_export_column"]=r.title;if(r.titleDescriptionAttributes.length>0){b["title_description_export_column"]=r.titleDescription;}for(var i=0;i<a.length;i++){b=t._getRelatedValues(b,a[i]);}e.push(b);});t.exportData.rows=e;},_getRelatedValues:function(r,a){if(a.value){r[a.id]=a.value;if(a.unitOfMeasure){r[a.unitOfMeasure.id]=a.unitOfMeasure.value;}if(a.description){r[a.description.id]=a.description.value;}}if(a.attributes){for(var i=0;i<a.attributes.length;i++){var b=a.attributes[i].attribute;if(b&&b.id&&b.valueFormatted){r[b.id]=b.valueFormatted;}}}return r;},_doExport:function(){var t=this;var s={workbook:{columns:t.exportData.columns},dataSource:t.exportData.rows};new c(s).build().then(function(){sap.ui.getCore().byId('dataExportButton').setEnabled(true);},function(){sap.ui.getCore().byId('dataExportButton').setEnabled(true);});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchText',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";return sap.m.Text.extend('sap.ushell.renderers.fiori2.search.controls.SearchText',{renderer:'sap.m.TextRenderer',onAfterRendering:function(){var d=this.getDomRef();S.boldTagUnescaper(d);}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchTileHighlighter',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(H){"use strict";var T=H.Tester;var a=sap.ushell.renderers.fiori2.search.controls.SearchTileHighlighter=function(){this.init.apply(this,arguments);};a.prototype={init:function(){},setHighlightTerms:function(h){this.tester=new T(h,'sapUshellSearchHighlight',true,'or');},highlight:function(t){var n=t.getDomRef();if(!n){return;}sap.ui.core.hyphenation.Hyphenation.getInstance().initialize().then(function(){this.doHighlight(n);}.bind(this));},doHighlight:function(n){if(n.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(n);return;}for(var i=0;i<n.childNodes.length;++i){var c=n.childNodes[i];this.doHighlight(c);}},_softHyphenRegExp:new RegExp('[\u00ad]','g'),removeSoftHyphens:function(t){return t.replace(this._softHyphenRegExp,'');},highlightTextNode:function(n){var t=this.tester.test(this.removeSoftHyphens(n.textContent));if(!t.bMatch){return;}var s=document.createElement('span');s.innerHTML=jQuery.sap.encodeHTML(t.sHighlightedText);H.boldTagUnescaper(s,'sapUshellSearchHighlight');n.parentNode.insertBefore(s,n);n.parentNode.removeChild(n);}};return a;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchTilesContainer',['sap/ushell/renderers/fiori2/search/controls/SearchTilesContainerKeyHandler','sap/ushell/renderers/fiori2/search/controls/SearchTileHighlighter','sap/ushell/renderers/fiori2/search/controls/SearchResultList','sap/m/Button'],function(K,T,S){"use strict";sap.ui.core.Control.extend('sap.ushell.renderers.fiori2.search.controls.SearchTilesContainer',{metadata:{properties:{'totalLength':{type:'int',defaultValue:0},'maxRows':{type:'int',defaultValue:1},'highlightTerms':{type:'string',defaultValue:''},'enableKeyHandler':{type:'boolean',defaultValue:true},'resultList':{type:'sap.ushell.renderers.fiori2.search.controls.SearchResultList'},'addAccInformation':{type:'boolean',defaultValue:false}},aggregations:{'tiles':{type:'sap.ui.core.Control',multiple:true}},events:{showMore:{}}},PHONE_SIZE_STYLE:'sapMTileSmallPhone',constructor:function(){sap.ui.core.Control.prototype.constructor.apply(this,arguments);if(this.getEnableKeyHandler()){this.addEventDelegate(new K(this));}this.tileHighlighter=new T();this._previousTabHandler={onsaptabprevious:function(e){var t;if(jQuery(this.control.getDomRef()).prop("tagName").toLowerCase()==="button"){t=this.control.getDomRef();}else{var b=jQuery(this.control.getDomRef()).find("[role='option']");if(b.length>0){t=b[0];}}if(e.isMarked()||!t||e.target!==t){return;}this.resultList.forwardTab(false);e.setMarked();}};},setHighlightTerms:function(t){this.setProperty('highlightTerms',t,true);},delayedRerender:function(){var t=this;setTimeout(function(){t.rerender();},0);},renderer:function(r,c){var a=c.getModel().getProperty("/appResults");if(!a||a.length===0){return;}r.write('<div');r.writeControlData(c);r.addClass('sapUshellSearchTileContainer');r.writeClasses();r.write('>');c.renderTiles(r,c);r.write('</div>');},logUsageAnalytics:function(t){var i,m,c;if(t.attachPress){t.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.TILE_NAVIGATE,tileTitle:t.eventLoggingData.title,targetUrl:t.eventLoggingData.targetUrl});});return;}if(t&&t.getContent){c=t.getContent();if(c.length!==1){return;}i=c[0];if(!i.attachPress){return;}i.attachPress(function(){m=sap.ushell.renderers.fiori2.search.getModelSingleton();m.eventLogger.logEvent({type:m.eventLogger.TILE_NAVIGATE,tileTitle:t.eventLoggingData.title,targetUrl:t.eventLoggingData.targetUrl});});}},renderTiles:function(r,c){var t=c.getTiles();for(var i=0;i<t.length;i++){var a=t[i];c.logUsageAnalytics(a);c.registerAfterRenderingForTile(a);r.write('<div');r.addClass('sapUshellSearchTileWrapper');r.writeClasses();r.write('>');r.renderControl(a);r.write('</div>');a.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:a});}c.renderPlusTile(r,c);c.tileHighlighter.setHighlightTerms(c.getHighlightTerms());},renderPlusTile:function(r,c){r.write('<div');r.addClass('sapUshellSearchTileWrapper');r.addClass('sapUshellSearchShowMoreTile');r.writeClasses();r.writeAttribute('style','display:none');r.write('>');var b=new sap.m.Button({text:sap.ushell.resources.i18n.getText('showMoreApps'),tooltip:sap.ushell.resources.i18n.getText('showMoreApps'),press:function(){c.fireShowMore();}});b.addEventDelegate(this._previousTabHandler,{resultList:c.getResultList(),control:b});b.addStyleClass('sapUshellSearchShowMoreTileButton');b.addStyleClass('sapMGT');b.addStyleClass('OneByOne');r.renderControl(b);r.write('</div>');},onAfterRendering:function(e){this.limitTileSize();while(this.getNumberRows()>this.getMaxRows()){this.removeLastTile();}var c=this.getDomRef();var n=c.children.length-1;if(this.getTotalLength()>n){this.makePlusTileVisible();this.cutAtRow();}else{c.removeChild(c.children.item(c.children.length-1));}this.getModel().getProperty("/appResults").forEach(function(a){if(a.tile&&typeof a.tile.refresh==='function'){a.tile.refresh();}});this.addAccessibilityInformation();},addAccessibilityInformation:function(){if(!this.getAddAccInformation()){return;}var c=this.getDomRef();var a=c.children;for(var i=0;i<a.length;++i){var b=a[i];var f=b.querySelector('[tabindex]');if(!f){f=b.querySelector('button');}if(!f){continue;}var d=f.getAttribute('aria-label');if((typeof d)==='string'){f.setAttribute('aria-label',sap.ushell.resources.i18n.getText('tile')+' '+d);}f.setAttribute('role','option');f.setAttribute('aria-posinset',i+1);f.setAttribute('aria-setsize',a.length);}},limitTileSize:function(){var a=this.isPhoneSize();var c=this.getDomRef();for(var i=0;i<c.children.length;++i){var t=c.children.item(i);if(!this.findElementByStyleClass(t,'sapMGT')||!this.findElementByStyleClass(t,'OneByOne')){t.classList.add('sapMGT');t.classList.add('OneByOne');}if(a){var b=this.findElementByStyleClass(t,'sapMGT');if(b){b.classList.add(this.PHONE_SIZE_STYLE);}}}},isPhoneSize:function(){var c=this.getDomRef();for(var i=0;i<c.children.length;++i){var t=c.children.item(i);if(this.findElementByStyleClass(t,this.PHONE_SIZE_STYLE)){return true;}}return false;},findElementByStyleClass:function(d,c){if(d.classList.contains(c)){return d;}if(d.children.length===1){return this.findElementByStyleClass(d.children.item(0),c);}return false;},getNumberDisplayedTiles:function(){var c=this.getDomRef();return c.children.length;},registerAfterRenderingForTile:function(t){var a=this;if(t.searchTilesContainerAfterRenderingRegistered){return;}t.addEventDelegate({onAfterRendering:function(){a.tileHighlighter.highlight(t);}});t.searchTilesContainerAfterRenderingRegistered=true;},makePlusTileVisible:function(){var c=this.getDomRef();var p=c.children.item(c.children.length-1);p.style.display='inline-block';},removeLastTile:function(){var c=this.getDomRef();var l=c.children.item(c.children.length-2);l.parentNode.removeChild(l);},cutAtRow:function(){var c=this.getDomRef();while(!this.isLastRowCompletelyFilled()||this.getNumberRows()>this.getMaxRows()){if(c.children.length<=2){break;}this.removeLastTile();}},isLastRowCompletelyFilled:function(){var c=this.getDomRef();var t=this.getTilesPerRow();var a=-1;for(var i=0;i<t;++i){var b=c.children.item(c.children.length-1-i);if(b.style.display==='none'){t++;continue;}if(a<0){a=b.offsetLeft;continue;}if(b.offsetLeft>a){return false;}}return true;},getNumberRows:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length-1;++i){var b=c.children.item(i);if(b.style.display==='none'){continue;}if(t<0||b.offsetLeft<=t){a++;}t=b.offsetLeft;}return a;},getTilesPerRow:function(){var c=this.getDomRef();var t=-1;var a=0;for(var i=0;i<c.children.length;++i){var b=c.children.item(i);if(b.style.display==='none'){continue;}if(b.offsetLeft<=t){return a;}a++;t=b.offsetLeft;}return a;}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/SearchTilesContainerKeyHandler',['sap/ushell/renderers/fiori2/search/SearchHelper'],function(S){"use strict";var d={getAncestorByClass:function(e,c){while(e){if(e.classList.contains(c)){return e;}e=e.parentElement;}return false;}};var T=function(){this.init.apply(this,arguments);};T.prototype={init:function(t,e){this.tilesContainer=t;this.tilesContainerElement=t.getDomRef();this.element=e;},getIndexInTilesContainer:function(){return Array.prototype.indexOf.call(this.tilesContainerElement.children,this.element);},next:function(){if((this.getIndexInTilesContainer()+1)%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.nextElementSibling){return new T(this.tilesContainer,this.element.nextElementSibling);}return null;},previous:function(){if((this.getIndexInTilesContainer())%this.tilesContainer.getTilesPerRow()===0){return null;}if(this.element.previousElementSibling){return new T(this.tilesContainer,this.element.previousElementSibling);}return null;},upper:function(){var i=this.getIndexInTilesContainer()-this.tilesContainer.getTilesPerRow();if(i<0){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},lower:function(){var i=this.getIndexInTilesContainer()+this.tilesContainer.getTilesPerRow();if(i>=this.tilesContainerElement.children.length){return null;}return new T(this.tilesContainer,this.tilesContainerElement.children.item(i));},focus:function(){var e=S.getFocusableTileDomRef(this.element);if(e){e.focus();}}};var K=sap.ushell.renderers.fiori2.search.controls.SearchTilesContainerKeyHandler=function(){this.init.apply(this,arguments);};K.prototype={init:function(t){this.tilesContainer=t;},getFocusedObject:function(e){var t=d.getAncestorByClass(e,'sapUshellSearchTileWrapper');if(!t){return null;}return new T(this.tilesContainer,t);},onsapdown:function(e){this.navigate('lower',e);},onsapup:function(e){this.navigate('upper',e);},onsapleft:function(e){this.navigate('previous',e);},onsapright:function(e){this.navigate('next',e);},navigate:function(m,e){e.stopPropagation();e.preventDefault();var o=this.getFocusedObject(e.target);if(!o){return;}var n=o[m].apply(o,[]);if(!n){return;}n.focus();}};return K;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/twitter/SearchTweet',['sap/ushell/renderers/fiori2/search/controls/twitter/TwitterRenderer'],function(t){"use strict";return sap.ui.core.Control.extend("sap.ushell.renderers.fiori2.search.controls.twitter.SearchTweet",{metadata:{properties:{"text":"string"}},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');t.renderTweet(r,c.getText());r.write('</div>');}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/controls/twitter/TwitterRenderer',[],function(){"use strict";var m={};var e=function(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};var a=function(o,h){for(var k in h){o[k]=h[k];}return o;};var d=function(h){var j=[['amp','&'],['apos','\''],['#x27','\''],['#x2F','/'],['#39','\''],['#47','/'],['lt','<'],['gt','>'],['nbsp',' '],['quot','"']];for(var i=0,k=j.length;i<k;++i)h=h.replace(new RegExp('&'+j[i][0]+';','g'),j[i][1]);return h;};var b=function(s){return s.replace(/&#(\d+);/g,function(h,j){return String.fromCharCode(j);});};var c=function(h){return b(d(h));};m.Token=function(){};m.Token.prototype={init:function(){var h=arguments[0];if(h==='tokenize'){this.text=arguments[1];this.matches=[];this.startIndex=arguments[2];this.regExp.lastIndex=this.startIndex;var j=this.regExp.exec(this.text);this.endIndex=this.startIndex+j[0].length;}if(h==='set'){this.text=arguments[1];this.matches=arguments[2];this.startIndex=0;this.endIndex=this.text.length;}},match:function(h,j){this.regExp.lastIndex=0;return!!this.regExp.exec(h[j]);},getLength:function(){return this.endIndex-this.startIndex;},toString:function(){return this.text.slice(this.startIndex,this.endIndex);},toHighlightedString:function(){var p=[];var h=this.startIndex;for(var i=0;i<this.matches.length;++i){var j=this.matches[i];if(j[0]>h){p.push(e(this.text.slice(h,j[0])));}p.push('<b>'+e(this.text.slice(j[0],j[1]))+'</b>');h=j[1];}if(this.endIndex>h){p.push(e(this.text.slice(h,this.endIndex)));}return p.join('');}};m.TextToken=function(){this.init.apply(this,arguments);};m.TextToken.prototype=a(new m.Token(),{type:'Text',regExp:new RegExp('[\\w]+','g')});m.SpecialCharactersTextToken=function(){this.init.apply(this,arguments);};m.SpecialCharactersTextToken.prototype=a(new m.Token(),{type:'SpecialCharactersText',regExp:new RegExp('[^\\w\\s@#]+','g')});m.UserToken=function(){this.init.apply(this,arguments);};m.UserToken.prototype=a(new m.Token(),{type:'User',regExp:new RegExp('[@]+','g')});m.HashToken=function(){this.init.apply(this,arguments);};m.HashToken.prototype=a(new m.Token(),{type:'Hash',regExp:new RegExp('[#]+','g')});m.WhitespaceToken=function(){this.init.apply(this,arguments);};m.WhitespaceToken.prototype=a(new m.Token(),{type:'Whitespace',regExp:new RegExp('\\s+','g')});m.MatchStartToken=function(){this.init.apply(this,arguments);};m.MatchStartToken.prototype=a(new m.Token(),{type:'MatchStart',regExp:new RegExp('<b>','g'),match:function(h,j){return h.slice(j,j+3)==='<b>';}});m.MatchEndToken=function(){this.init.apply(this,arguments);};m.MatchEndToken.prototype=a(new m.Token(),{type:'MatchEnd',regExp:new RegExp('</b>','g'),match:function(h,j){return h.slice(j,j+4)==='</b>';}});var t=[m.WhitespaceToken,m.MatchStartToken,m.MatchEndToken,m.HashToken,m.UserToken,m.SpecialCharactersTextToken,m.TextToken];var f={};for(var i=0;i<t.length;++i){var g=t[i];f[g.prototype.type]=g;}m.Tokenizer=function(){this.init.apply(this,arguments);};m.Tokenizer.prototype={init:function(h){this.text=h;this.index=0;},getNextToken:function(){if(this.index>=this.text.length){return null;}for(var i=0;i<t.length;++i){var g=t[i];if(g.prototype.match(this.text,this.index)){var h=new g('tokenize',this.text,this.index);this.index+=h.getLength();return h;}}throw'tokenization error';},lookAhead:function(h){h=h||1;var p=this.getPosition();var j=[];for(var i=0;i<h;++i){var k=this.getNextToken();j.push(k);}this.setPosition(p);if(h===1){return j[0];}else{return j;}},getPosition:function(){return this.index;},setPosition:function(p){this.index=p;}};m.MatchTokenizer=function(){this.init.apply(this,arguments);};m.MatchTokenizer.prototype={init:function(h){this.tokenizer=new m.Tokenizer(h);this.matchCounter=0;},getNextToken:function(){var h;var j=[];for(;;){var k=this.tokenizer.lookAhead(1);if(!k){break;}if(k.type==='MatchStart'||k.type==='MatchEnd'){this.tokenizer.getNextToken();switch(k.type){case'MatchStart':this.matchCounter++;break;case'MatchEnd':this.matchCounter--;break;}continue;}if(!h){this.tokenizer.getNextToken();h=k.type;k._match=this.matchCounter>0;j.push(k);continue;}if(h===k.type){this.tokenizer.getNextToken();k._match=this.matchCounter>0;j.push(k);continue;}break;}switch(j.length){case 0:return null;case 1:var r=j[0];if(r._match){r.matches=[[r.startIndex,r.endIndex]];}return r;default:return this.mergeTokens(h,j);}},mergeTokens:function(h,j){var k=[];var l=[];var n=0;for(var i=0;i<j.length;++i){var o=j[i];var p=o.toString();var q=p.length;k.push(p);if(o._match){l.push([n,n+q]);}n+=q;}var r=new f[h]('set',k.join(''),l);return r;},lookAhead:function(h){h=h||1;var p=this.getPosition();var j=[];for(var i=0;i<h;++i){var k=this.getNextToken();j.push(k);}this.setPosition(p);if(h===1){return j[0];}else{return j;}},getPosition:function(){return{internalPosition:this.tokenizer.getPosition(),matchCounter:this.matchCounter};},setPosition:function(p){this.tokenizer.setPosition(p.internalPosition);this.matchCounter=p.matchCounter;}};m.TwitterDocument=function(){this.init.apply(this,arguments);};m.TwitterDocument.prototype={init:function(h){h=c(h);this.nodes=[];this.parse(h);},parse:function(h){var j=new m.MatchTokenizer(h);for(;;){var k=j.lookAhead(2);var l=k[0];var n=k[1];if(!l){break;}var o=null;switch(l.type){case'Whitespace':o=new m.TwitterTextNode();break;case'User':if(n&&n.type==='Text'){o=new m.TwitterUserNode();}else{o=new m.TwitterTextNode();}break;case'Hash':o=new m.TwitterHashNode();if(n&&n.type==='Text'){o=new m.TwitterHashNode();}else{o=new m.TwitterTextNode();}break;case'Text':o=new m.TwitterTextNode();if(l.toString().slice(0,4)==='http'){o=new m.TwitterLinkNode();}else{o=new m.TwitterTextNode();}break;case'SpecialCharactersText':o=new m.TwitterTextNode();break;}if(!o){throw'parse error '+l.toString();}o.parse(j);this.nodes.push(o);}},render:function(r){for(var i=0;i<this.nodes.length;++i){var n=this.nodes[i];n.render(r);}},log:function(){for(var i=0;i<this.nodes.length;++i){var n=this.nodes[i];n.log();}}};m.TwitterTextNode=function(){};m.TwitterTextNode.prototype={type:'TextNode',parse:function(h){var j=h.getNextToken();this.text=j.toString();this.textHighlighted=j.toHighlightedString();},render:function(r){r.write('<span style="display:inline" class="sapMText">');r.write(this.textHighlighted);r.write('</span>');},log:function(){}};m.TwitterUserNode=function(){};m.TwitterUserNode.prototype={type:'UserNode',parse:function(h){var j=h.getNextToken();this.at=j.toString();this.atHighlighted=j.toHighlightedString();var u=h.getNextToken();this.user=u.toString();this.userHighlighted=u.toHighlightedString();},render:function(r){r.write('<a target="_blank" style="display:inline" class="sapMLnk" href="https://twitter.com/'+this.user+'">');r.write(this.atHighlighted+this.userHighlighted);r.write('</a>');},log:function(){}};m.TwitterHashNode=function(){};m.TwitterHashNode.prototype={type:'HashNode',parse:function(h){var j=h.getNextToken();this.hash=j.toString();this.hashHighlighted=j.toHighlightedString();var k=h.getNextToken();this.tag=k.toString();this.tagHighlighted=k.toHighlightedString();},render:function(r){r.write('<a target="_blank" style="display:inline" class="sapMLnk" href="https://twitter.com/hashtag/'+this.tag+'?src=hash">');r.write(this.hashHighlighted+this.tagHighlighted);r.write('</a>');},log:function(){}};m.TwitterLinkNode=function(){};m.TwitterLinkNode.prototype={type:'LinkNode',parse:function(h){var p=[];var j=[];for(;;){var k=h.lookAhead();if(k&&(k.type==='Text'||k.type==='SpecialCharactersText')){h.getNextToken();p.push(k.toString());j.push(k.toHighlightedString());continue;}break;}this.url=p.join('');this.userHighlighted=j.join('');},render:function(r){},log:function(){}};m.renderTweet=function(r,h){var j=new m.TwitterDocument(h);j.render(r);};m.test1=function(){var h=new this.Tokenizer('this <b>i</b>s a #test');for(var i=0;i<20;++i){var j=h.getNextToken();if(!j){break;}}};m.test2=function(){var h=new this.MatchTokenizer('this <b>i</b>s a #test');for(var i=0;i<20;++i){var j=h.getNextToken();if(!j){break;}}};m.test=function(){var h=new m.TwitterDocument('this <b>@test1test2test3</b> is a h<b>tt</b>p://sap.com');h.log();};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.EventConsumer=function(){this.init.apply(this,arguments);};m.prototype={init:function(){},logEvent:function(e){}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/EventLogger',['sap/ushell/renderers/fiori2/search/eventlogging/SinaLogConsumer','sap/ushell/renderers/fiori2/search/eventlogging/UsageAnalyticsConsumer','sap/ushell/renderers/fiori2/search/SearchHelper'],function(S,U,a){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.EventLogger');var m=sap.ushell.renderers.fiori2.search.eventlogging.EventLogger=function(){this.init.apply(this,arguments);};m.newInstance=function(p){var l=new m();l.addConsumer(new S(p.sinaNext));l.addConsumer(new U());return l;};m.prototype={ITEM_NAVIGATE:'ITEM_NAVIGATE',SUGGESTION_SELECT:'SUGGESTION_SELECT',SEARCH_REQUEST:'SEARCH_REQUEST',RESULT_LIST_ITEM_NAVIGATE_CONTEXT:'RESULT_LIST_ITEM_NAVIGATE_CONTEXT',SUGGESTION_REQUEST:'SUGGESTION_REQUEST',TILE_NAVIGATE:'TILE_NAVIGATE',SHOW_MORE:'SHOW_MORE',BROWSER_CLOSE:'BROWSER_CLOSE',LEAVE_PAGE:'LEAVE_PAGE',SESSION_START:'SESSION_START',RESULT_LIST_ITEM_NAVIGATE:'RESULT_LIST_ITEM_NAVIGATE',OBJECT_SUGGESTION_NAVIGATE:'OBJECT_SUGGESTION_NAVIGATE',DROPDOWN_SELECT_DS:'DROPDOWN_SELECT_DS',DATASOURCE_CHANGE:'DATASOURCE_CHANGE',FACET_FILTER_ADD:'FACET_FILTER_ADD',FACET_FILTER_DEL:'FACET_FILTER_DEL',ITEM_SHOW_DETAILS:'ITEM_SHOW_DETAILS',ITEM_HIDE_DETAILS:'ITEM_HIDE_DETAILS',CLEAR_ALL_FILTERS:'CLEAR_ALL_FILTERS',FACET_SHOW_MORE:'FACET_SHOW_MORE',FACET_SHOW_MORE_CLOSE:'FACET_SHOW_MORE_CLOSE',eventMetadata:{SESSION_START:{},ITEM_NAVIGATE:{systemAndClient:'string',sourceUrlArray:'string',targetUrl:'string'},RESULT_LIST_ITEM_NAVIGATE:{targetUrl:'string',positionInList:'integer',executionId:'string'},SUGGESTION_SELECT:{suggestionType:'string',suggestionTitle:'string',suggestionTerm:'string',searchTerm:'string',targetUrl:'string',dataSourceKey:'string'},SEARCH_REQUEST:{searchTerm:'string',dataSourceKey:'string'},RESULT_LIST_ITEM_NAVIGATE_CONTEXT:{systemAndClient:'string',sourceUrlArray:'string',targetUrl:'string'},SUGGESTION_REQUEST:{suggestionTerm:'string',dataSourceKey:'string'},TILE_NAVIGATE:{tileTitle:'string',targetUrl:'string'},SHOW_MORE:{},LEAVE_PAGE:{},BROWSER_CLOSE:{},DROPDOWN_SELECT_DS:{dataSourceId:'string'},DATASOURCE_CHANGE:{dataSourceId:'string'},FACET_FILTER_ADD:{referencedAttribute:'string',clickedValue:'string',clickedPosition:'integer'},FACET_FILTER_DEL:{referencedAttribute:'string',clickedValue:'string',clickedPosition:'integer'},FACET_SHOW_MORE:{referencedAttribute:'string'},FACET_SHOW_MORE_CLOSE:{}},init:function(){this.consumers=[];},addConsumer:function(c){this.consumers.push(c);c.eventLogger=this;},logEvent:function(b){if(!a.isLoggingEnabled()){return;}for(var i=0;i<this.consumers.length;++i){var c=this.consumers[i];try{c.logEvent(b);}catch(e){}}}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/SinaLogConsumer',['sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer'],function(E){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.SinaLogConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.SinaLogConsumer=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{init:function(s){this.sinaNext=s;},logEvent:function(e){this.sinaNext.logUserEvent(e);}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/eventlogging/UsageAnalyticsConsumer',['sap/ushell/renderers/fiori2/search/eventlogging/EventConsumer','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(E,S){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.eventlogging.UsageAnalyticsConsumer');var m=sap.ushell.renderers.fiori2.search.eventlogging.UsageAnalyticsConsumer=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new E(),{init:function(){try{this.analytics=sap.ushell.Container.getService("UsageAnalytics");}catch(e){}},logEvent:function(e){if(!this.analytics){return;}switch(e.type){case this.eventLogger.RESULT_LIST_ITEM_NAVIGATE:this.analytics.logCustomEvent('FLP: Search','Launch Object',[e.targetUrl]);break;case this.eventLogger.SUGGESTION_SELECT:switch(e.suggestionType){case S.APPS:this.analytics.logCustomEvent('FLP: Search','Suggestion Select App',[e.suggestionTitle,e.targetUrl,e.searchTerm]);this.analytics.logCustomEvent('FLP: Application Launch point','Search Suggestions',[e.suggestionTitle,e.targetUrl,e.searchTerm]);break;case S.DATASOURCE:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Datasource',[e.dataSourceKey,e.searchTerm]);break;case S.OBJECTDATA:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;case S.HISTORY:this.analytics.logCustomEvent('FLP: Search','Suggestion Select Object Data',[e.suggestionTerm,e.dataSourceKey,e.searchTerm]);break;}break;case this.eventLogger.SEARCH_REQUEST:this.analytics.logCustomEvent('FLP: Search','Search',[e.searchTerm,e.dataSourceKey]);break;case this.eventLogger.RESULT_LIST_ITEM_NAVIGATE_CONTEXT:this.analytics.logCustomEvent('FLP: Search','Launch Related Object',[e.targetUrl]);break;case this.eventLogger.SUGGESTION_REQUEST:this.analytics.logCustomEvent('FLP: Search','Suggestion',[e.suggestionTerm,e.dataSourceKey]);break;case this.eventLogger.TILE_NAVIGATE:this.analytics.logCustomEvent('FLP: Search','Launch App',[e.tileTitle,e.targetUrl]);this.analytics.logCustomEvent('FLP: Application Launch point','Search Results',[e.titleTitle,e.targetUrl]);break;}}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/BrowserPersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/Personalizer'],function(P){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.BrowserPersonalizationStorage');var m=sap.ushell.renderers.fiori2.search.personalization.BrowserPersonalizationStorage=function(){this.init.apply(this,arguments);};var B=m;m.prototype={init:function(){},getItem:function(k){if(!this._isStorageSupported()){throw'not supported storage';}return this._getStorage(k);},setItem:function(k,d){if(!this._isStorageSupported()){throw'not supported storage';}this._putStorage(k,d);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){return true;}else{return false;}},_getStorage:function(k){return jQuery.sap.storage.get("Search.Personalization."+k);},_putStorage:function(k,s){jQuery.sap.storage.put("Search.Personalization."+k,s);}};m.getInstance=function(){return new jQuery.Deferred().resolve(new B());};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/FLPPersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/Personalizer','sap/ushell/renderers/fiori2/search/SearchHelper'],function(P,S){"use strict";var m=sap.ushell.renderers.fiori2.search.personalization.FLPPersonalizationStorage=function(){this.init.apply(this,arguments);};var F=m;m.prototype={init:function(c){this.container=c;this.save=S.delayedExecution(this.save,2000);},save:function(){this.container.save();},getItem:function(k){k=this.limitLength(k);if(!this._isStorageSupported()){throw'not supported storage';}return this.container.getItemValue(k);},setItem:function(k,d){k=this.limitLength(k);if(!this._isStorageSupported()){throw'not supported storage';}this.container.setItemValue(k,d);this.save();},limitLength:function(k){return k.slice(-40);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){if(jQuery.sap.storage&&jQuery.sap.storage.isSupported()){return true;}else{return false;}}};m.getInstance=function(){var p=sap.ushell.Container.getService("Personalization");return p.getContainer("ushellSearchPersoServiceContainer").then(function(c){return new F(c);});};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/MemoryPersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/Personalizer'],function(P){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.MemoryPersonalizationStorage');var m=sap.ushell.renderers.fiori2.search.personalization.MemoryPersonalizationStorage=function(){this.init.apply(this,arguments);};var M=m;m.prototype={init:function(){this.dataMap={};},getItem:function(k){if(!this._isStorageSupported()){throw'not supported storage';}return this._getStorage(k);},setItem:function(k,d){if(!this._isStorageSupported()){throw'not supported storage';}this._putStorage(k,d);},getPersonalizer:function(k){return new P(k,this);},_isStorageSupported:function(){return true;},_getStorage:function(k){return this.dataMap[k];},_putStorage:function(k,s){this.dataMap[k]=s;}};m.getInstance=function(){return new jQuery.Deferred().resolve(new M());};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage',['sap/ushell/renderers/fiori2/search/personalization/FLPPersonalizationStorage','sap/ushell/renderers/fiori2/search/personalization/BrowserPersonalizationStorage','sap/ushell/renderers/fiori2/search/personalization/MemoryPersonalizationStorage','sap/ushell/renderers/fiori2/search/SearchConfiguration'],function(F,B,M,S){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.PersonalizationStorage');var c=S.getInstance();sap.ushell.renderers.fiori2.search.personalization.PersonalizationStorage={instance:null,isLaunchpad:function(){try{return sap.ushell.Container.getService("Personalization")?true:false;}catch(e){return false;}},getInstance:function(){var t=this;if(this.instancePromise){return this.instancePromise;}switch(c.personalizationStorage){case'auto':if(this.isLaunchpad()){this.instancePromise=F.getInstance();}else{this.instancePromise=B.getInstance();}break;case'browser':this.instancePromise=B.getInstance();break;case'flp':this.instancePromise=F.getInstance();break;case'memory':this.instancePromise=M.getInstance();break;default:}this.instancePromise.then(function(i){t.instance=i;});return this.instancePromise;},getInstanceSync:function(){if(!this.instance){throw'No instance, call async method getInstance for getting the instance';}return this.instance;},isInitialized:function(){return!!this.instance;}};return sap.ushell.renderers.fiori2.search.personalization.PersonalizationStorage;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/personalization/Personalizer',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.personalization.Personalizer');var P=sap.ushell.renderers.fiori2.search.personalization.Personalizer=function(){this.init.apply(this,arguments);};P.prototype={init:function(k,p){this.key=k;this.personalizationStorageInstance=p;},getKey:function(){return this.key;},setPersData:function(d){return(new jQuery.Deferred()).resolve(this.personalizationStorageInstance.setItem(this.key,d));},getPersData:function(){return(new jQuery.Deferred()).resolve(this.personalizationStorageInstance.getItem(this.key));}};return P;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/AppSuggestionProvider',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(S,a,b){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.AppSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{init:function(p){a.prototype.init.apply(this,arguments);this.suggestApplications=S.refuseOutdatedRequests(this.suggestApplications);},abortSuggestions:function(){this.suggestApplications.abort();},combineSuggestionsWithIdenticalTitle:function(s){var c;var d={};for(var i=0;i<s.length;i++){c=s[i];var f=d[c.title+c.subtitle];if(f){if(!f.combinedSuggestionExists){var e={title:'combinedAppSuggestion'+i,subtitle:c.subtitle,sortIndex:f.sortIndex,url:this.model.searchUrlParser.renderFromParameters(this.model.appTopDefault,this.model.sinaNext.createFilter({dataSource:this.model.appDataSource,searchTerm:c.title}),false),label:sap.ushell.resources.i18n.getText("suggestion_in_apps",c.label),icon:""};var g=sap.ushell.resources.i18n.getText("suggestion_in_apps",[""]);e.label=e.label.replace(g,"<i>"+g+"</i>");d[e.title+e.subtitle]=e;f.combinedSuggestionExists=true;}}else{c.sortIndex=i;d[c.title+c.subtitle]=c;}}s=[];for(var h in d){if(d.hasOwnProperty(h)){c=d[h];if(!c.combinedSuggestionExists){s.push(c);}}}s.sort(function(j,k){return j.sortIndex-k.sortIndex;});return s;},addAsterisk4ShowAllApps:function(s){var n=s;s=s.match(/\S+/g);if(s.length>0){var c;var d=[];for(var i=0;i<s.length;i++){c=s[i];if(c&&c.lastIndexOf('*')!==c.length-1){d.push(c+'*');}else{d.push(c);}}n=d.join(' ');}return n;},createShowMoreSuggestion:function(t){var c=sap.ushell.resources.i18n.getText("showAllNApps",t);c=c.replace(/"/g,"");var d=c;var l="<i>"+c+"</i>";return{title:c,tooltip:d,label:l,dataSource:this.model.appDataSource,labelRaw:this.model.getProperty("/uiFilter/searchTerm"),uiSuggestionType:b.SearchTermData,searchTerm:this.model.getProperty("/uiFilter/searchTerm")||''};},getSuggestions:function(){var t=this;var d=t.model.getDataSource();if(d!==t.model.allDataSource&&d!==t.model.appDataSource){return jQuery.when([]);}var s=t.model.getProperty('/uiFilter/searchTerm');return t.suggestApplications(s).then(function(r){var c=r.getElements();c=t.combineSuggestionsWithIdenticalTitle(c);jQuery.each(c,function(i,f){f.uiSuggestionType=b.App;f.dataSource=t.model.appDataSource;f.position=b.properties.App.position;f.key=b.App+f.url+f.icon;});var e=t.suggestionHandler.getSuggestionLimit(b.App);c=c.slice(0,e);if(r.totalResults>e&&d===t.model.appDataSource){c.push(t.createShowMoreSuggestion(r.totalResults));}return c;});},suggestApplications:function(s){return sap.ushell.Container.getService("Search").queryApplications({searchTerm:s,suggestion:true});}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SinaBaseSuggestionProvider',['sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(S,a){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SinaBaseSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new S(),{init:function(){S.prototype.init.apply(this,arguments);},prepareSuggestionQuery:function(f){var t=this;t.suggestionQuery.resetResultSet();t.suggestionQuery.setFilter(f);var s=t.assembleSinaSuggestionTypesAndCalcModes();t.suggestionQuery.setTypes(s.types);t.suggestionQuery.setCalculationModes(s.calculationModes);t.suggestionQuery.setTop(20);},assembleSinaSuggestionTypesAndCalcModes:function(){var b=function(l,e){if(l.indexOf(e)>=0){return;}l.push(e);};var r={types:[],calculationModes:[]};for(var i=0;i<this.suggestionTypes.length;++i){var s=this.suggestionTypes[i];switch(s){case a.SearchTermHistory:b(r.types,this.sinaNext.SuggestionType.SearchTerm);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.History);break;case a.SearchTermData:b(r.types,this.sinaNext.SuggestionType.SearchTerm);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case a.DataSource:b(r.types,this.sinaNext.SuggestionType.DataSource);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;case a.Object:b(r.types,this.sinaNext.SuggestionType.Object);b(r.calculationModes,this.sinaNext.SuggestionCalculationMode.Data);break;}}return r;}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SinaObjectSuggestionFormatter',['sap/ushell/renderers/fiori2/search/SearchNavigationObjectForSinaNavTarget'],function(S){"use strict";var F=function(){this.init.apply(this,arguments);};F.prototype={init:function(){},assembleLabel1:function(s){var t=[];var a=false;var b;var c=s.object.titleAttributes;for(var i=0;i<c.length;++i){b=c[i];t.push(b.valueHighlighted);if(b.isHighlighted){a=true;}}return{label:t.join(' '),isHighlighted:a};},assembleLabel2:function(l,s){var d=s.object.detailAttributes;var a;if(d.length===0){return'';}if(!l){a=this.getFirstHighlightedAttribute(d);if(a){return a.valueHighlighted;}}a=this.getFirstStringAttribute(d);if(a){return a.label+': '+a.valueHighlighted;}return'';},getFirstHighlightedAttribute:function(a){for(var i=0;i<a.length;++i){var b=a[i];if(b.isHighlighted){return b;}}},getFirstStringAttribute:function(a){var s={"Date":40,"Double":70,"GeoJson":130,"ImageBlob":120,"ImageUrl":110,"Integer":60,"String":10,"Time":50,"Timestamp":30};if(a.length===0){return null;}a=a.slice();a.sort(function(c,d){return s[c.metadata.type]-s[d.metadata.type];});var b=a[0];if(s[b.metadata.type]>100){return null;}return b;},assembleNavigation:function(s){if(!s.object.defaultNavigationTarget){return null;}var n=new S(s.object.defaultNavigationTarget);n.setLoggingType('OBJECT_SUGGESTION_NAVIGATE');return n;},assembleImageUrl:function(s){var d=s.object.detailAttributes;for(var i=0;i<d.length;++i){var a=d[i];if(a.metadata.type===a.sina.AttributeType.ImageUrl){return{imageUrl:a.value,imageExists:true,imageIsCircular:a.metadata.format&&a.metadata.format===s.sina.AttributeFormatType.Round};}}return{exists:false};},format:function(s,a){var b={key:a.key,uiSuggestionType:a.uiSuggestionType,dataSource:a.object.dataSource};var l=this.assembleLabel1(a);b.label1=l.label;b.label2=this.assembleLabel2(l.isHighlighted,a);b.titleNavigation=this.assembleNavigation(a);var i=this.assembleImageUrl(a);a.sina.core.extend(b,i);b.position=a.position;s.addSuggestion(b);}};return F;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SinaSuggestionProvider',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/suggestions/SinaBaseSuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType','sap/ushell/renderers/fiori2/search/suggestions/SinaObjectSuggestionFormatter'],function(S,a,b,c){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SinaSuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype=jQuery.extend(new a(),{suggestionLimit:jQuery.device.is.phone?5:7,init:function(p){a.prototype.init.apply(this,arguments);this.dataSourceDeferred=null;this.suggestionQuery=this.sinaNext.createSuggestionQuery();this.sinaObjectSuggestionFormatter=new c(this);},abortSuggestions:function(){this.suggestionQuery.abort();},getSuggestions:function(f){var t=this;this.suggestions=[];this.firstObjectDataSuggestion=true;this.numberSuggestionsByType={};for(var i=0;i<b.types.length;++i){var s=b.types[i];this.numberSuggestionsByType[s]=0;}var d=f.searchTerm;if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(b.SearchTermData)>=0&&d.length<3){return jQuery.when(this.suggestions);}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(b.Object)>=0&&d.length<3){return jQuery.when(this.suggestions);}if(this.suggestionTypes.length===1&&this.suggestionTypes.indexOf(b.DataSource)>=0&&t.model.getDataSource()!==t.model.sinaNext.allDataSource){return jQuery.when(this.suggestions);}t.createAllAndAppDsSuggestions();if(!t.model.config.searchBusinessObjects){return jQuery.when(this.suggestions);}if(t.model.getDataSource()===t.model.appDataSource){return jQuery.when(this.suggestions);}t.prepareSuggestionQuery(f);return t.suggestionQuery.getResultSetAsync().then(function(r){var e=r.items;t.formatSinaSuggestions(e);return t.suggestions;});},createAllAndAppDsSuggestions:function(){if(this.suggestionTypes.indexOf(b.DataSource)<0){return;}if(this.model.getDataSource()!==this.model.allDataSource){return;}var d=[];d.unshift(this.model.appDataSource);d.unshift(this.model.allDataSource);var s=this.model.getProperty('/uiFilter/searchTerm');var e=s.replace(/\*/g,'');var t=new S.Tester(e);for(var i=0;i<d.length;++i){var f=d[i];if(f.id===this.model.getDataSource().id){continue;}var T=t.test(f.label);if(T.bMatch===true){if(this.isSuggestionLimitReached(b.DataSource)){return;}var g={};g.label='<i>'+sap.ushell.resources.i18n.getText("searchInPlaceholder",[""])+'</i> '+T.sHighlightedText;g.dataSource=f;g.position=b.properties.DataSource.position;g.type=this.sinaNext.SuggestionType.DataSource;g.calculationMode=this.sinaNext.SuggestionCalculationMode.Data;g.uiSuggestionType=b.DataSource;g.uiSuggestionType=b.DataSource;this.addSuggestion(g);}}},isSuggestionLimitReached:function(s){var l=this.suggestionHandler.getSuggestionLimit(s);var n=this.numberSuggestionsByType[s];if(n>=l){return true;}return false;},preFormatSuggestions:function(s){for(var i=0;i<s.length;++i){var d=s[i];d.uiSuggestionType=this.getSuggestionType(d);d.position=b.properties[d.uiSuggestionType].position;this.assembleKey(d);if(d.childSuggestions){this.preFormatSuggestions(d.childSuggestions);}}},assembleKey:function(s){switch(s.uiSuggestionType){case b.DataSource:s.key=b.DataSource+s.dataSource.id;break;case b.SearchTermData:s.key=b.SearchTermData+s.searchTerm;if(s.dataSource){s.key+=s.dataSource.id;}break;case b.SearchTermHistory:s.key=b.SearchTermData+s.searchTerm;if(s.dataSource){s.key+=s.dataSource.id;}break;case b.Object:s.key=b.Object+s.object.title;break;}},formatSinaSuggestions:function(s){this.preFormatSuggestions(s);for(var i=0;i<s.length;++i){var d=s[i];if(this.isSuggestionLimitReached(d.uiSuggestionType)){continue;}switch(d.uiSuggestionType){case b.DataSource:if(this.model.getDataSource()!==this.model.allDataSource){continue;}d.label=d.label;this.addSuggestion(d);break;case b.SearchTermData:this.formatSearchTermDataSuggestion(d);break;case b.SearchTermHistory:this.addSuggestion(d);break;case b.Object:this.sinaObjectSuggestionFormatter.format(this,d);break;default:break;}}return this.suggestions;},addSuggestion:function(s){this.suggestions.push(s);this.numberSuggestionsByType[s.uiSuggestionType]+=1;},formatSearchTermDataSuggestion:function(s){if(this.model.getDataSource()===this.model.allDataSource){if(this.firstObjectDataSuggestion){this.firstObjectDataSuggestion=false;if(s.childSuggestions.length>0){s.label=this.assembleSearchInSuggestionLabel(s);s.grouped=true;this.addSuggestion(s);this.addChildSuggestions(s);}else{this.addSuggestion(s);}}else{this.addSuggestion(s);}}else{this.addSuggestion(s);}},addChildSuggestions:function(s){for(var i=0;i<Math.min(2,s.childSuggestions.length);++i){if(this.isSuggestionLimitReached(b.SearchTermData)){return;}var d=s.childSuggestions[i];d.label=this.assembleSearchInSuggestionLabel(d);d.grouped=true;this.addSuggestion(d);}},assembleSearchInSuggestionLabel:function(s){return sap.ushell.resources.i18n.getText("resultsIn",['<span>'+s.label+'</span>',s.filter.dataSource.labelPlural]);},getSuggestionType:function(s){switch(s.type){case this.sinaNext.SuggestionType.SearchTerm:if(s.calculationMode===this.sinaNext.SuggestionCalculationMode.History){return b.SearchTermHistory;}return b.SearchTermData;case this.sinaNext.SuggestionType.SearchTermAndDataSource:if(s.calculationMode===this.sinaNext.SuggestionCalculationMode.History){return b.SearchTermHistory;}return b.SearchTermData;case this.sinaNext.SuggestionType.DataSource:return b.DataSource;case this.sinaNext.SuggestionType.Object:return b.Object;}}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SuggestionHandler',['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/suggestions/SinaSuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/AppSuggestionProvider','sap/ushell/renderers/fiori2/search/suggestions/TimeMerger','sap/ushell/renderers/fiori2/search/suggestions/SuggestionType'],function(S,a,A,T,b){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionHandler');var s=sap.ushell.renderers.fiori2.search.suggestions;s.SuggestionHandler=function(){this.init.apply(this,arguments);};s.SuggestionHandler.prototype={init:function(p){var t=this;t.model=p.model;t.suggestionProviders=[];t.keyboardRelaxationTime=400;t.uiUpdateInterval=500;t.uiClearOldSuggestionsTimeOut=1000;t.appSuggestionProvider=new A({model:t.model,suggestionHandler:this});t.doSuggestionInternal=S.delayedExecution(t.doSuggestionInternal,t.keyboardRelaxationTime);t.timeMerger=new T();},abortSuggestions:function(c){if(c===undefined||c===true){this.model.setProperty("/suggestions",[]);}if(this.clearSuggestionTimer){clearTimeout(this.clearSuggestionTimer);this.clearSuggestionTimer=null;}this.doSuggestionInternal.abort();this.getSuggestionProviders().done(function(d){for(var i=0;i<d.length;++i){var e=d[i];e.abortSuggestions();}});this.timeMerger.abort();},getSuggestionProviders:function(){var t=this;if(t.suggestionProvidersDeferred){return t.suggestionProvidersDeferred;}t.suggestionProvidersDeferred=t.model.initBusinessObjSearch().then(function(){t.sinaNext=t.model.sinaNext;var c=[t.appSuggestionProvider];if(!t.model.config.searchBusinessObjects){return jQuery.when(c);}c.push.apply(c,t.createSinaSuggestionProviders());return jQuery.when(c);});return t.suggestionProvidersDeferred;},createSinaSuggestionProviders:function(){var p=[{suggestionTypes:[b.SearchTermHistory]},{suggestionTypes:[b.SearchTermData]},{suggestionTypes:[b.DataSource]}];if(this.model.config.boSuggestions){p.push({suggestionTypes:[b.Object]});}var c=[];for(var k=0;k<p.length;++k){var d=p[k];c.push(new a({model:this.model,sinaNext:this.sinaNext,suggestionTypes:d.suggestionTypes,suggestionHandler:this}));}return c;},isSuggestionPopupVisible:function(){return jQuery('.searchSuggestion').filter(':visible').length>0;},doSuggestion:function(f){this.abortSuggestions(false);this.doSuggestionInternal(f);},autoSelectAppSuggestion:function(f){return this.appSuggestionProvider.getSuggestions(f).then(function(s){return s[0];});},doSuggestionInternal:function(f){var t=this;t.firstInsertion=true;t.busyIndicator=false;var c=t.model.getProperty("/uiFilter/searchTerm");if(c.length===0){t.insertSuggestions([],0);return;}if(c.trim()==='*'){t.insertSuggestions([],0);return;}t.model.eventLogger.logEvent({type:t.model.eventLogger.SUGGESTION_REQUEST,suggestionTerm:t.model.getProperty('/uiFilter/searchTerm'),dataSourceKey:t.model.getProperty('/uiFilter/dataSource').id});t.getSuggestionProviders().done(function(d){var p=[];var e=d.length;for(var i=0;i<d.length;++i){var g=d[i];p.push(g.getSuggestions(f));}if(t.isSuggestionPopupVisible()){if(t.clearSuggestionTimer){clearTimeout(t.clearSuggestionTimer);}t.clearSuggestionTimer=setTimeout(function(){t.clearSuggestionTimer=null;t.insertSuggestions([],e);},t.uiClearOldSuggestionsTimeOut);}else{t.insertSuggestions([],e);}t.timeMerger.abort();t.timeMerger=new T(p,t.uiUpdateInterval);t.timeMerger.process(function(r){e-=r.length;var s=[];for(var j=0;j<r.length;++j){var h=r[j];s.push.apply(s,h);}if(e>0&&s.length===0){return;}if(t.clearSuggestionTimer){clearTimeout(t.clearSuggestionTimer);t.clearSuggestionTimer=null;}t.insertSuggestions(s,e);});});},generateSuggestionHeader:function(i){var h={};switch(i.uiSuggestionType){case b.App:h.label=sap.ushell.resources.i18n.getText('label_apps');break;case b.DataSource:h.label=sap.ushell.resources.i18n.getText('searchIn');break;case b.SearchTermData:case b.SearchTermHistory:h.label=sap.ushell.resources.i18n.getText('searchFor');break;case b.Object:h.label=i.dataSource.labelPlural;h.dataSource=i.dataSource;break;}h.position=b.properties[i.uiSuggestionType].position;h.suggestionResultSetCounter=this.suggestionResultSetCounter;h.uiSuggestionType=b.Header;return h;},enableBusyIndicator:function(s,e){if(e){s.push({position:b.properties[b.BusyIndicator].position,uiSuggestionType:b.BusyIndicator});return;}else{for(var i=0;i<s.length;++i){var c=s[i];if(c.uiSuggestionType===b.BusyIndicator){s.splice(i,1);return;}}}},checkDuplicate:function(s,c){var d=function(e){return c.uiSuggestionType===b.SearchTermHistory||(c.uiSuggestionType===b.SearchTermData&&!c.dataSource);};if(!d(c)){return{action:'append'};}for(var i=0;i<s.length;++i){var e=s[i];if(!d(e)){continue;}if(c.searchTerm===e.searchTerm){if(c.grouped&&c.uiSuggestionType===b.SearchTermData&&e.uiSuggestionType===b.SearchTermHistory){return{action:'replace',index:i};}else{return{action:'skip'};}}}return{action:'append'};},insertSuggestions:function(i,p){var s=this.model.getProperty('/suggestions').slice();s=this.insertIntoSuggestionList(i,s);if(!this.busyIndicator&&p>0){this.enableBusyIndicator(s,true);this.busyIndicator=true;}if(this.busyIndicator&&p===0){this.enableBusyIndicator(s,false);this.busyIndicator=false;}this.sortSuggestions(s);this.limitSuggestions(s);this.setSuggestionsPopupWidth();this.updateSuggestions(s);},insertIntoSuggestionList:function(c,s){var f=false;if(this.firstInsertion){this.firstInsertion=false;f=true;}if(f){s=[];this.suggestionHeaders={};this.suggestionResultSetCounter=0;this.generatedPositions={maxPosition:b.properties[b.Object].position,position:{}};}this.suggestionResultSetCounter+=1;for(var i=0;i<c.length;++i){var d=c[i];if(d.uiSuggestionType===b.Object){var p=this.generatedPositions.position[d.dataSource.id];if(!p){this.generatedPositions.maxPosition+=1;p=this.generatedPositions.maxPosition;this.generatedPositions.position[d.dataSource.id]=p;}d.position=p;}d.suggestionResultSetCounter=this.suggestionResultSetCounter;d.resultSetPosition=i;var e=this.checkDuplicate(s,d);switch(e.action){case'append':s.push(d);break;case'skip':continue;case'replace':s.splice(e.index,1,d);break;}if(this.isHeaderGenerationEnabled()&&!this.suggestionHeaders[d.position]){s.push(this.generateSuggestionHeader(d));this.suggestionHeaders[d.position]=true;}}return s;},isHeaderGenerationEnabled:function(){if(this.model.getDataSource()===this.model.appDataSource){return false;}if(!this.model.config.boSuggestions&&this.model.getDataSource().type===this.sinaNext.DataSourceType.BusinessObject){return false;}return true;},sortSuggestions:function(s){s.sort(function(c,d){var e=c.position-d.position;if(e!==0){return e;}if(c.uiSuggestionType===b.Header){return-1;}if(d.uiSuggestionType===b.Header){return 1;}if(c.grouped&&!d.grouped){return-1;}if(!c.grouped&&d.grouped){return 1;}e=c.suggestionResultSetCounter-d.suggestionResultSetCounter;if(e!==0){return e;}e=c.resultSetPosition-d.resultSetPosition;return e;});},getSuggestionLimit:function(u){var c=b.properties[u];if(typeof c==='undefined'){return Infinity;}var l;if(this.model.getDataSource()===this.model.sinaNext.allDataSource){l=c.limitDsAll;}else{l=c.limit;}return l;},limitSuggestions:function(s){var n={};for(var i=0;i<s.length;++i){var c=s[i];var d=c.uiSuggestionType;if(d===b.SearchTermHistory){d=b.SearchTermData;}var l=this.getSuggestionLimit(d);var e=n[d];if(typeof e==='undefined'){e=0;n[d]=e;}if(e>=l){s.splice(i,1);--i;continue;}n[d]=e+1;}},setSuggestionsPopupWidth:function(){var i=sap.ui.getCore().byId('searchFieldInShell-input');var c=i.getDomRef().getBoundingClientRect().width/16;c+=2;if(c<20){c=35;}i.setMaxSuggestionWidth((c*16)+'px');},updateSuggestions:function(s){var c=sap.ui.getCore().byId('searchFieldInShell-input');var d=c.getSuggestionRows();var e;for(var i=0;i<d.length;++i){var f=d[i];var g=f.getBindingContext().getObject();if(f.getSelected()){e=g.key;}}this.model.setProperty('/suggestions',s);if(!e){return;}window.setTimeout(function(){var d=c.getSuggestionRows();for(var j=0;j<d.length;++j){var f=d[j];var g=f.getBindingContext().getObject();if(g.key===e){c._oSuggPopover._iPopupListSelectedIndex=j;f.setSelected(true);f.rerender();}}},100);}};return s.SuggestionHandler;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SuggestionProvider',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider');var m=sap.ushell.renderers.fiori2.search.suggestions.SuggestionProvider=function(){this.init.apply(this,arguments);};m.prototype={init:function(p){jQuery.extend(this,p);},abortSuggestions:function(){},getSuggestions:function(){}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/SuggestionType',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps');var m=sap.ushell.renderers.fiori2.search.suggestions.SuggestionTypeProps={};m.App='App';m.DataSource='DataSource';m.SearchTermHistory='SearchTermHistory';m.SearchTermData='SearchTermData';m.Object='Object';m.Header='Header';m.BusyIndicator='BusyIndicator';m.types=[m.App,m.DataSource,m.SearchTermHistory,m.SearchTermData,m.Object];m.properties={App:{position:100,limitDsAll:3,limit:7},DataSource:{position:200,limitDsAll:2,limit:2},SearchTermHistory:{position:400,limitDsAll:7,limit:5},SearchTermData:{position:400,limitDsAll:7,limit:5},Object:{position:300,limitDsAll:3,limit:5},BusyIndicator:{position:900}};return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/suggestions/TimeMerger',[],function(){"use strict";jQuery.sap.declare('sap.ushell.renderers.fiori2.search.suggestions.TimeMerger');var T=sap.ushell.renderers.fiori2.search.suggestions.TimeMerger=function(){this.init.apply(this,arguments);};var c=0;T.prototype={init:function(p,t){this.promiseList=p||[];this.timeDelay=t||1000;this.pending=this.promiseList.length;this.returned=[];this.aborted=false;this.counter=++c;this.errorResult=[];},abort:function(){this.aborted=true;},process:function(p){this.processorCallback=p;this.start();return this;},start:function(){for(var i=0;i<this.promiseList.length;++i){var p=this.promiseList[i];p.then(this.assembleDoneCallback(i),this.assembleErrorCallback(i));}this.scheduleProcessorNotification();},scheduleProcessorNotification:function(){var t=this;if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.processorNotificationSchedule=window.setTimeout(function(){t.notifyProcessor();},this.timeDelay);},notifyProcessor:function(){if(this.aborted){return;}if(this.returned.length>0){this.processorCallback(this.returned);this.returned=[];}if(this.pending>0){this.scheduleProcessorNotification();}},assembleDoneCallback:function(i){var t=this;return function(r){t.pending--;t.returned.push(r);if(t.pending===0){if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.notifyProcessor();}};},assembleErrorCallback:function(i){var t=this;return function(e){t.pending--;t.returned.push(t.errorResult);if(t.pending===0){if(t.processorNotificationSchedule){window.clearTimeout(t.processorNotificationSchedule);t.processorNotificationSchedule=null;}t.notifyProcessor();}};}};return T;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/userpref/SearchPrefs',['sap/ushell/renderers/fiori2/search/userpref/SearchPrefsModel'],function(S){"use strict";var m=sap.ushell.renderers.fiori2.search.userpref.SearchPrefs={};jQuery.extend(m,{model:new S(),getEntry:function(){return{title:sap.ushell.resources.i18n.getText('sp.userProfiling'),editable:true,isSearchPrefsActive:this.model.isSearchPrefsActive.bind(this.model),value:this.model.shortStatus.bind(this.model),onSave:this.model.savePreferences.bind(this.model),onCancel:this.model.cancelPreferences.bind(this.model),content:function(){return this.model.asyncInit().then(function(){var u=sap.ui.view({id:'searchPrefsView',type:sap.ui.core.mvc.ViewType.JS,viewName:'sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog'});u.setModel(this.model);return u;}.bind(this));}.bind(this)};}});return m;});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/userpref/SearchPrefsDialog.view',["sap/m/MessageBox"],function(){"use strict";return sap.ui.jsview("sap.ushell.renderers.fiori2.search.userpref.SearchPrefsDialog",{createContent:function(c){this.firstTimeBeforeRendering=true;var u=new sap.m.Label({text:sap.ushell.resources.i18n.getText("sp.userProfilingField")+':'});var s=new sap.m.Switch({state:{path:"/personalizedSearch",mode:sap.ui.model.BindingMode.TwoWay},ariaLabelledBy:u,enabled:'{/searchPrefsActive}'});this.resetButton=new sap.m.Button({text:sap.ushell.resources.i18n.getText("sp.clearCollectedData"),press:this.resetHistory.bind(this),enabled:{parts:['/searchPrefsActive','/resetButtonWasClicked'],formatter:function(b,r){return b&&!r;}}});var l=new sap.ui.layout.VerticalLayout({content:[new sap.m.Text({text:sap.ushell.resources.i18n.getText('sp.disclaimer')})]});var a=[u,s,l,this.resetButton];return a;},onBeforeRendering:function(){if(this.firstTimeBeforeRendering){this.firstTimeBeforeRendering=false;return;}this.getModel().reload();},resetHistory:function(){this.getModel().resetProfile().then(function(){},function(r){var e=sap.ushell.resources.i18n.getText('sp.resetFailed');e+='\n'+r;sap.m.MessageBox.show(e,{title:sap.ushell.resources.i18n.getText("sp.resetFailedTitle"),icon:sap.m.MessageBox.Icon.ERROR,actions:[sap.m.MessageBox.Action.OK]});});},formatErrorResponse:function(r){var p;try{p=JSON.parse(r);}catch(e){return r;}if(!p.ErrorDetails){return r;}var a=[];for(var i=0;i<p.ErrorDetails.length;++i){var b=p.ErrorDetails[i];a.push(b.Message+' ('+b.Code+')');}return a.join('\n');},switchChangeHandler:function(e){var s=e.getSource();if(s.getState()){return;}var i=sap.ushell.resources.i18n;var d=i.getText("sp.disable");sap.m.MessageBox.confirm(i.getText('sp.disablingUserProfilingMsg'),{title:sap.ushell.resources.i18n.getText("sp.disableUserProfiling"),icon:sap.m.MessageBox.Icon.QUESTION,actions:[d,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==sap.m.MessageBox.Action.CANCEL){s.setState(true);}}});},openMessageBox:function(){var t=this;var i=sap.ushell.resources.i18n;var c=i.getText("sp.clear");sap.m.MessageBox.confirm(i.getText('sp.profileWillBeReset'),{title:sap.ushell.resources.i18n.getText("sp.clearCollectedData"),icon:sap.m.MessageBox.Icon.QUESTION,actions:[c,sap.m.MessageBox.Action.CANCEL],onClose:function(a){if(a==c){t.getModel().resetProfile();}}});}});});
sap.ui.predefine('sap/ushell/renderers/fiori2/search/userpref/SearchPrefsModel',['sap/ui/model/json/JSONModel','sap/ushell/renderers/fiori2/search/SearchModel','sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/SearchHelper'],function(J,S,a,b){"use strict";var p='sap.ushell.renderers.fiori2.search.userpref.SearchPrefsModel';return sap.ui.model.json.JSONModel.extend(p,{asyncInit:function(){var t=this;if(t.initializedDeferred){return t.initializedDeferred;}t.searchModel=sap.ushell.renderers.fiori2.search.getModelSingleton();t.initializedDeferred=t.searchModel.initBusinessObjSearch().then(function(){if(!t.searchModel.config.searchBusinessObjects){t.setProperty('/searchPrefsActive',false);t.setProperty('/personalizedSearch',false);t.setProperty('/resetButtonWasClicked',false);return undefined;}var s=t.searchModel.sinaNext;return b.convertPromiseTojQueryDeferred(s.getConfigurationAsync({forceReload:true})).then(function(c){t.configuration=c;t.setProperty('/searchPrefsActive',c.isPersonalizedSearchEditable);t.setProperty('/personalizedSearch',c.personalizedSearch);t.setProperty('/resetButtonWasClicked',false);});});return t.initializedDeferred;},reload:function(){this.initializedDeferred=false;return this.asyncInit();},shortStatus:function(){return this.asyncInit().then(function(){return this.getProperty('/personalizedSearch')?sap.ushell.resources.i18n.getText('sp.on'):sap.ushell.resources.i18n.getText('sp.off');}.bind(this));},isSearchPrefsActive:function(){return this.asyncInit().then(function(){return this.getProperty('/searchPrefsActive');}.bind(this));},savePreferences:function(){this.configuration.setPersonalizedSearch(this.getProperty('/personalizedSearch'));return b.convertPromiseTojQueryDeferred(this.configuration.saveAsync()).then(function(){this.setProperty('/resetButtonWasClicked',false);}.bind(this));},cancelPreferences:function(){this.setProperty('/personalizedSearch',this.configuration.personalizedSearch);this.setProperty('/resetButtonWasClicked',false);},resetProfile:function(){return b.convertPromiseTojQueryDeferred(this.configuration.resetPersonalizedSearchDataAsync()).then(function(){this.setProperty('/resetButtonWasClicked',true);}.bind(this));}});});
sap.ui.predefine('sap/ushell/ui/appfinder/PinButton',['sap/m/Button'],function(C){"use strict";var P=C.extend("sap.ushell.ui.appfinder.PinButton",{metadata:{properties:{selected:{type:"boolean",group:"Appearance",defaultValue:false}}},renderer:{}});P.prototype.setSelected=function(s){this.setProperty("selected",s,true);this.$("inner").toggleClass("sapUshellPinSelected",s);};P.prototype.onAfterRendering=function(){var s=this.getSelected();this.$("inner").toggleClass("sapUshellPinSelected",s);};return P;});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogEntryContainer',['sap/ui/core/Control','sap/ushell/ui/launchpad/TileContainerUtils'],function(C,T){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogEntryContainer",{metadata:{properties:{header:{type:"string",group:"Appearance",defaultValue:null},catalogSearchTerm:{type:"string",group:"Appearance",defaultValue:null},catalogTagSelector:{type:"object",group:"Appearance",defaultValue:null}},aggregations:{appBoxesContainer:{type:"sap.ushell.ui.appfinder.AppBox",multiple:true},customTilesContainer:{type:"sap.ushell.ui.launchpad.Tile",multiple:true}}},renderer:{render:function(r,c){var t=c.getCustomTilesContainer(),A=c.getAppBoxesContainer(),h,b;r.write("<div");r.writeControlData(c);r.addClass("sapUshellTileContainer sapUshellCatalogTileContainer");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellTileContainerContent");r.writeClasses();r.writeAttribute("tabindex","-1");r.write(">");if(c.getHeader()){h=sap.ushell.resources.i18n.getText(c.getHeader());r.write("<div");r.addClass("sapUshellTileContainerHeader sapUshellCatalogTileContainerHeader");r.writeAttribute("id",c.getId()+"-groupheader");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-title");r.addClass("sapUshellCatalogTileContainerHeaderInner");r.writeClasses();r.write(">");r.write("<");r.write('h2');r.addClass("sapUshellContainerTitle sapUshellCatalogContainerTitle");r.writeClasses();r.writeAttributeEscaped("title",h);r.write(">");r.writeEscaped(h);r.write("</");r.write('h2');r.writeAttribute("id",c.getId()+"-groupheader");r.write(">");r.write("</div>");r.write("</div>");}r.write("<ul");b=c.data('containerHeight');if(b){r.writeAttribute("style",'height:'+b);}r.addClass('sapUshellTilesContainer-sortable');r.addClass('sapUshellInner');r.writeClasses();r.writeAccessibilityState(c,{role:"listbox"});r.write(">");jQuery.each(A,function(){if(this.getVisible()){}if(this.getVisible){r.renderControl(this);}});r.write("</ul>");r.write("<ul");b=c.data('containerHeight');if(b){r.writeAttribute("style",'height:'+b);}r.addClass('sapUshellTilesContainer-sortable');r.addClass('sapUshellInner');r.writeClasses();r.writeAccessibilityState(c,{role:"listbox"});r.write(">");jQuery.each(t,function(){if(this.getVisible()){}if(this.getVisible){r.renderControl(this);}});r.write("</ul>");r.write("</div>");r.write("</div>");}}});a.prototype.setCatalogTagSelector=function(t){};a.prototype.setAfterHandleElements=function(c){this.onAfterHandleElements=c;};a.prototype.onAfterUpdate=function(c){this.fnCallback=c;};a.prototype.setCatalogSearchTerm=function(s){};a.prototype.updateAggregation=function(r){jQuery.sap.log.debug("Updating CatalogEntryContainer. Reason: ",r);try{}catch(e){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}};a.prototype.addNewItem=function(e,n){var N,i,p=e.getPath(),b=e.getObject?e.getObject().src:undefined,c=undefined;if(this.catalogState[n]!="full"){if(this.getAllocatedUnits){if(!this.getAllocatedUnits()){this.catalogState[n]="partial";return false;}}}if(n==="customTilesContainer"){if(b!==undefined){if(b.Chip!==undefined&&b.Chip.getContract!==undefined){c=b.Chip.getContract("preview");}else if(b.getContract!==undefined){c=b.getContract("preview");}if(c!==undefined){c.setEnabled(true);}}var d=sap.ushell.Container.getService("LaunchPage").getCatalogTileView(e.getProperty("src"));e.getProperty("content")[0]=d;}N=T.createNewItem.bind(this)(e,n);T.addNewItem.bind(this)(N,n);i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer(),this.indexingMaps[n].onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true;};a.prototype.getNumberResults=function(r){return{nAppboxes:this.nNumberOfVisibileElements["appBoxesContainer"],nCustom:this.nNumberOfVisibileElements["customTilesContainer"]};};a.prototype.handleElements=function(r){var n=r,b=this.mBindingInfos[n].binding,B=b.getContexts(),i,s,c;if(!this.catalogState){this.catalogState={};}if(!this.catalogState[r]){this.catalogState[r]="start";}if(!this.indexingMaps){this.indexingMaps={};}if(!this.nNumberOfVisibileElements){this.nNumberOfVisibileElements=[];}if(!this.nNumberOfVisibileElements["customTilesContainer"]){this.nNumberOfVisibileElements["customTilesContainer"]=0;}if(!this.nNumberOfVisibileElements["appBoxesContainer"]){this.nNumberOfVisibileElements["appBoxesContainer"]=0;}if(!this.filters){this.filters={};}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();this.indexingMaps[n]=T.indexOnScreenElements(i,false);c=T.markVisibleOnScreenElementsSearchCatalog(B,this.indexingMaps[n],true);if(T.createMissingElementsInOnScreenElementsSearchCatalog(this.indexingMaps[n],B,c,this.addNewItem.bind(this),i,this.filters[n],n,this.processFiltering.bind(this))){if(this.getAllocatedUnits&&this.getAllocatedUnits()){this.catalogState[r]="full";}}i=(n==="appBoxesContainer")?this.getAppBoxesContainer():this.getCustomTilesContainer();s=T.showHideTilesAndHeaders(this.indexingMaps[n],i);this.nNumberOfVisibileElements[n]=s.nCountVisibElelemnts;if(this.fnCallback){this.fnCallback(this);}if(this.onAfterHandleElements){this.onAfterHandleElements(this);}};a.prototype.processFiltering=function(e,n){var p=e.getPath(),i;if(n){i=this.indexingMaps[n].onScreenPathIndexMap[p];if(i.isVisible&&this.currElementVisible){this.currElementVisible();}}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogTileContainer',['jquery.sap.global','sap/ui/base/ManagedObject','sap/ushell/ui/launchpad/TileContainer','./CatalogTileContainerRenderer'],function(q,M,T){"use strict";return T.extend("sap.ushell.ui.launchpad.CatalogTileContainer",{updateTiles:function(r){var n="tiles";if(this.isTreeBinding(n)){M.prototype.updateAggregation.apply(this,arguments);}else{q.sap.log.debug("Updating TileContainer. Reason: ",r);try{this.filterTiles();}catch(e){this.updateAggregation(n);}}}});});
sap.ui.predefine('sap/ushell/ui/launchpad/CatalogsContainer',['sap/ui/core/Control','sap/ushell/ui/launchpad/TileContainerUtils'],function(C,T){"use strict";var a=C.extend("sap.ushell.ui.launchpad.CatalogsContainer",{metadata:{properties:{categoryFilter:{type:"string",defaultValue:"ALL"},categoryAllocateTiles:{type:"int",defaultValue:"0"}},aggregations:{catalogs:{type:"sap.ushell.ui.launchpad.CatalogEntryContainer",multiple:true}}},renderer:{render:function(r,c){var b=c.getCatalogs();if(b.length){c.setBusy(false);}r.write("<div");r.addClass("sapUshellCatalogsContainer");r.writeClasses();r.writeControlData(c);r.write(">");jQuery.each(b,function(i,d){r.renderControl(this);});r.write("</div>");}}});a.prototype.setPagingManager=function(p){jQuery.sap.measure.start("FLP:DashboardManager.CatalogsRendering","CatalogsRendering","FLP");jQuery.sap.measure.pause("FLP:DashboardManager.CatalogsRendering");this.oPagingManager=p;};a.prototype.updateAllocatedUnits=function(n){this.nAllocatedUnits=n;};a.prototype.applyPagingCategoryFilters=function(n,c){var i=this.getCatalogs();this.nAllocatedUnits=n;if(c&&c!="All"&&c!=""){this.sCatalogTerm=c;}else{this.sCatalogTerm="";}if(!this.filters){this.filters={};}if(!this.filters.catalogEntry){this.filters.catalogEntry=function(e){var p=e.getPath(),I=e.getProperty("title")===this.sCatalogTerm,b;if(!this.sCatalogTerm){return;}b=this.indexingMaps.onScreenPathIndexMap[p];if(b){b.isVisible=I;}}.bind(this);}if(!this.filters.pagination){this.filters.pagination=function(e){var p=e.getPath(),b;b=this.indexingMaps.onScreenPathIndexMap[p];if(!this.nAllocatedUnits){b.isVisible=false;}}.bind(this);}if(!this.indexingMaps){return;}this.indexingMaps=T.indexOnScreenElements(i);T.applyFilterOnAllItems(this.mBindingInfos["catalogs"],this.filters,this.processFiltering.bind(this));if(this.indexingMaps){T.showHideTilesAndHeaders(this.indexingMaps,this.getCatalogs());}};a.prototype.processFiltering=function(e){var c=this.getCatalogs(),p=e.getPath(),i=this.indexingMaps.onScreenPathIndexMap[p],o=c[i.aItemsRefrenceIndex],b=this.nAllocatedUnits;if(i.isVisible&&(!this.catalogPagination[p]||this.catalogPagination[p]=="start")){if(this.catalogPagination[p]==undefined){this.catalogPagination[p]="start";o.catalogState={};}else if(this.catalogPagination[p]=="start"){var n=o.nNumberOfVisibileElements;this.nAllocatedUnits+=(n.appBoxesContainer+n.customTilesContainer);}o.handleElements("appBoxesContainer");o.handleElements("customTilesContainer");if(o.catalogState["appBoxesContainer"]=="full"&&o.catalogState["customTilesContainer"]=="full"){this.catalogPagination[p]="full";}if(b-this.nAllocatedUnits>0){this.bSearchResults=true;}else{i.isVisible=false;}}};a.prototype.resetCatalogPagination=function(){this.catalogPagination={};};a.prototype.updateAggregation=function(r){jQuery.sap.log.debug("Updating TileContainer. Reason: ",r);try{jQuery.sap.measure.resume("FLP:DashboardManager.CatalogsRendering");this.filterElements();jQuery.sap.measure.pause("FLP:DashboardManager.CatalogsRendering");}catch(e){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}};a.prototype.addNewItem=function(e,n){var N,b,i,p=e.getPath();N=T.createNewItem.bind(this)(e,n);if(!N.filters){N.filters={};N.filters.appBoxesContainer={};N.filters.customTilesContainer={};N.filters.appBoxesContainer.pagination=function(c){var p=c.getPath(),d;d=this.indexingMaps.appBoxesContainer.onScreenPathIndexMap[p];if(this.getAllocatedUnits){d.isVisible=this.getAllocatedUnits()?true:false;}}.bind(N);N.filters.customTilesContainer.pagination=function(c){var p=c.getPath(),d;d=this.indexingMaps.customTilesContainer.onScreenPathIndexMap[p];if(this.getAllocatedUnits){d.isVisible=this.getAllocatedUnits()?true:false;}}.bind(N);}N.nAllocatedUnits=this.nAllocatedUnits;N.getAllocatedUnits=function(){return this.nAllocatedUnits;}.bind(this);N.elementFiltered=function(c){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits+=c*b;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.elementsVisible=function(c){b=this.oPagingManager.getSizeofSupportedElementInUnits("tile");this.nAllocatedUnits-=c*b;if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.newElementCreated=function(E,c){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);N.currElementVisible=function(){this.nAllocatedUnits-=this.oPagingManager.getSizeofSupportedElementInUnits("tile");if(this.nAllocatedUnits<=0){this.nAllocatedUnits=0;}}.bind(this);T.addNewItem.bind(this)(N,n);i=this.getCatalogs();this.indexingMaps.onScreenPathIndexMap[p]={aItemsRefrenceIndex:i.length-1,isVisible:true};return true;};a.prototype.handleFilters=function(){if(!this.catalogPagination){this.catalogPagination={};}if(!this.catalogsElementsMap){this.catalogsElementsMap={};}if(!this.filters){this.filters={};}};a.prototype.setHandleSearchCallback=function(h){this.handleSearchCallback=h;};a.prototype.filterElements=function(){var n="catalogs",b=this.mBindingInfos[n].binding,B=b.getContexts(),i=this.getCatalogs(),c;if(!this.indexingMaps){this.indexingMaps=T.indexOnScreenElements(i);}this.handleFilters();c=T.markVisibleOnScreenElements(B,this.indexingMaps,false);if(!T.validateOrder(B,i,c)){throw true;}T.createMissingElementsInOnScreenElements(this.indexingMaps,B,c,this.addNewItem.bind(this),i,this.filters,n);i=this.getCatalogs();T.showHideTilesAndHeaders(this.indexingMaps,i);if(this.handleSearchCallback){this.handleSearchCallback();}};return a;});
sap.ui.predefine('sap/ushell/ui/launchpad/ViewPortState',function(){"use strict";},false);
sap.ui.predefine('sap/ushell/ui/shell/ShellFloatingAction',['jquery.sap.global','sap/m/Button','sap/ushell/library','./ShellFloatingActionRenderer'],function(q,B){"use strict";var S=B.extend("sap.ushell.ui.shell.ShellFloatingAction");S.prototype.init=function(){this.addStyleClass("sapUshellShellFloatingAction");if(B.prototype.init){B.prototype.init.apply(this,arguments);}};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);};S.prototype.onAfterRendering=function(){if(this.data("transformY")){this.removeStyleClass('sapUshellShellFloatingActionTransition');q(this.getDomRef()).css('transform',"translateY("+this.data("transformY")+")");}else{this.addStyleClass('sapUshellShellFloatingActionTransition');}};});
sap.ui.predefine('sap/ushell/ui5service/_UserStatus/userstatus.class.factory',["sap/ui/base/EventProvider","sap/ushell/ui/launchpad/UserStatusItem"],function(E,U){"use strict";return function(s){var S=s.serviceRegistry,a=s.serviceFactory,b=s.service;var o=new E(),O={statusChanged:"statusChanged",serviceStateChanged:"serviceStateChanged"},A;var c=b.extend("sap.ushell.ui5service.UserStatus",{init:function(){var t=this,p=this.getInterface();c.prototype.isEnabled=false;p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.UserStatus",new a(p));c.prototype.AvailableStatus={AVAILABLE:"AVAILABLE",AWAY:"AWAY",BUSY:"BUSY",APPEAR_OFFLINE:"APPEAR_OFFLINE"};},_setActiveComponentId:function(i){A=i;},_getActiveComponentId:function(){return A;},_getEventProvider:function(){return o;},_ensureArrayOfObjectOfStrings:function(v,m){var V=jQuery.isArray(v)&&v.every(function(d){return jQuery.isPlainObject(d)&&Object.keys(d).length>0&&Object.keys(d).every(function(k){return typeof d[k]==="string";});});if(!V){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.UserStatus");}return V;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.UserStatus");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.UserStatus");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.UserStatus");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,C;C=p.getContext();if(typeof C==="undefined"){return;}["setStatus","attachStatusChanged","detachStatusChanged"].forEach(function(m){t._addCallAllowedCheck(p,m);});if(C.scopeType==="component"){this._setActiveComponentId(C.scopeObject.getId());return;}jQuery.sap.log.error("Invalid context for UserStatus interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.UserStatus");},setEnabled:function(e){o.fireEvent(O.serviceStateChanged,{data:e});c.prototype.isEnabled=e;this._getUserStatusSetting().then(function(u){if(u===undefined||u.userStatusEnabled===undefined){this._showLegalPopup();}else if(u.userStatusEnabled){this.setStatus(u.userStatusDefault);}else if(!u.userStatusEnabled){this.setStatus(null);}}.bind(this));return;},attachEnabledStatusChanged:function(f){this._getEventProvider().attachEvent(O.serviceStateChanged,f);},detachEnabledStatusChanged:function(f){this._getEventProvider().detachEvent(O.serviceStateChanged,f);},setStatus:function(n){if(!c.prototype.isEnabled){throw new Error("Unable to change status because the UserStatus service is disabled.");}if(!c.prototype.AvailableStatus[n]&&n!==null){throw new Error("Enter a valid status.");}this._getUserStatusSetting().then(function(u){if((n!==null)&&(u===undefined||u.userStatusEnabled===undefined||!u.userStatusEnabled)){throw new Error("Unable to change status; user has not explicitly opted-in to share their online status.");}o.fireEvent(O.statusChanged,{data:n});return;});},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},attachStatusChanged:function(f){this._getEventProvider().attachEvent(O.statusChanged,f);},detachStatusChanged:function(f){this._getEventProvider().detachEvent(O.statusChanged,f);},_getOnlineStatusPopOver:function(u){var p=new sap.m.Popover({placement:sap.m.PlacementType.Bottom,showArrow:true,showHeader:false,content:[new U({status:U.prototype.STATUS_ENUM.AVAILABLE,isOpener:false,press:function(e){d.setStatus(U.prototype.STATUS_ENUM.AVAILABLE);p.close();}}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.AWAY,isOpener:false,press:function(e){d.setStatus(U.prototype.STATUS_ENUM.AWAY);p.close();}}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.BUSY,isOpener:false,press:function(e){d.setStatus(U.prototype.STATUS_ENUM.BUSY);p.close();}}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.APPEAR_OFFLINE,isOpener:false,press:function(e){d.setStatus(U.prototype.STATUS_ENUM.APPEAR_OFFLINE);p.close();}}).addStyleClass('sapUserStatusContainer')]});var d=new U({tooltip:"{i18n>headerActionsTooltip}",enabled:false,ariaLabel:sap.ushell.Container.getUser().getFullName(),image:sap.ui.core.IconPool.getIconURI("account"),status:u?U.prototype.STATUS_ENUM[u]:U.prototype.STATUS_ENUM["AVAILABLE"],press:function(e){var B=sap.ui.getCore().byId(e.mParameters.id);p.openBy(B);}.bind(this),contentList:p}).addStyleClass('sapUserStatusOpener');return d;},_showLegalPopup:function(){var t=this;setTimeout(function(){var T=sap.ui.getCore().getConfiguration().getRTL()?'Left':'Right';var d=sap.ui.Device.system.phone?"auto":"14rem";var f=sap.ui.Device.system.phone?"auto":"10rem";var g=new sap.m.Label({text:sap.ushell.resources.i18n.getText("enableStatusMessageBoxFld")+":",width:d,textAlign:T});var h=new sap.m.Switch("enableStatusSwitch",{type:sap.m.SwitchType.Default,change:function(e){k.setEnabled(e.mParameters.state);jQuery("#"+k.getId()).attr("tabindex",e.mParameters.state?0:-1);}.bind(this)});var i=new sap.m.FlexBox({alignItems:'Center',direction:'Row',items:[g,h]}).addStyleClass('sapUshellUserStatusFlexBox');var j=new sap.m.Label({text:sap.ushell.resources.i18n.getText("userStatusMessageBoxDropdownLabelFld")+":",width:f,textAlign:T}).addStyleClass("sapUshellUserStatusSignInAsLabel");var k=t._getOnlineStatusPopOver(U.prototype.STATUS_ENUM.AVAILABLE.status);jQuery("#"+k.getId()).attr("tabindex",k.getEnabled()?0:-1);var l=new sap.m.Text({text:sap.ushell.resources.i18n.getText("userStatusMessageBoxInfoTextLine1")}).addStyleClass('sapUshellUserStatusLegalTextLine').addStyleClass('sapUshellUserStatusLegalTextFirstLine');var m=new sap.m.Text({text:sap.ushell.resources.i18n.getText("userStatusMessageBoxInfoTextLine2")}).addStyleClass('sapUshellUserStatusLegalTextLine');var n=new sap.m.FlexBox({alignItems:'Center',direction:'Row',items:[j,k]}).addStyleClass('sapUshellUserStatusFlexBox');var p=new sap.ui.layout.VerticalLayout('userStatusDialogLayout',{content:[i,n,l,m]});var q=new sap.m.Button('saveButton',{text:sap.ushell.resources.i18n.getText("okBtn"),press:function(){t._writeUserStatusSettingToPersonalization({userStatusEnabled:h.getState(),userStatusDefault:h.getState()?k.getStatus().status:null});t.setStatus(h.getState()?k.getStatus().status:null);r.close();}});var r=new sap.m.Dialog('agreementMessageBox',{title:sap.ushell.resources.i18n.getText("userStatusAgreementMessageBoxTitle"),modal:true,stretch:sap.ui.Device.system.phone,buttons:[q],afterClose:function(e){t._getUserStatusSetting().then(function(u){if(u===undefined||u.userStatusEnabled===undefined){t._writeUserStatusSettingToPersonalization({userStatusEnabled:false,userStatusDefault:null});t.setStatus(null);}r.destroy();});}}).addStyleClass('sapUshellUserStatusDialog');r.addContent(p);r.open();},100);},_getUserStatusSetting:function(){var p=this._getUserSettingsPersonalizer();return p.getPersData();},_writeUserStatusSettingToPersonalization:function(u){var d,p;try{p=this._getUserSettingsPersonalizer().setPersData(u);}catch(e){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(e.name+": "+e.message);d=new jQuery.Deferred();d.reject(e);p=d.promise();}return p;},_getUserSettingsPersonalizer:function(){this.oUserPersonalizer=this._createUserPersonalizer();return this.oUserPersonalizer;},_createUserPersonalizer:function(){var p=sap.ushell.Container.getService("Personalization"),C,d={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true},P={container:"sap.ushell.services.UserStatus",item:"userStatusData"},e=p.getPersonalizer(P,d,C);return e;}});return c;};});
/*
 * ! OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/m/ColumnHeader',['sap/ui/core/Control','sap/ui/core/Icon','./ColumnHeaderRenderer'],function(C,I,a){"use strict";var b=C.extend("sap.m.ColumnHeader",{library:"sap.m",metadata:{properties:{text:{type:"string",defaultValue:null},sorted:{type:"boolean",defaultValue:false},sortOrder:{type:"string",defaultValue:null},filtered:{type:"boolean",defaultValue:false}},defaultAggregations:"viewSettingsPopover",aggregations:{viewSettingsPopover:{type:"sap.m.ViewSettingsPopover",multiple:false},_sortIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_filterIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}}});b.prototype.setViewSettingsPopover=function(v){this.setAggregation("viewSettingsPopover",v,true);this._attachViewSettingsPopoverEvents();return this;};b.prototype.setSortOrder=function(s){this.setProperty("sortOrder",s);var i=s==="Ascending"?"sap-icon://sort-ascending":"sap-icon://sort-descending";var S=this.getAggregation("_sortIcon");if(!S){this.setAggregation("_sortIcon",new I({src:i,visible:this.getSorted()}));}else{S.setSrc(i);}return this;};b.prototype.setSorted=function(s){this.setProperty("sorted",s);var S=this.getAggregation("_sortIcon");if(!s&&!S){return this;}if(s){if(!S){this.setAggregation("_sortIcon",new I({src:this.getSortOrder()==="Ascending"?"sap-icon://sort-ascending":"sap-icon://sort-descending"}));}else{S.setVisible(true);}}else{S.setVisible(false);}return this;};b.prototype.setFiltered=function(f){this.setProperty("filtered",f);var F=this.getAggregation("_filterIcon");if(!f&&!F){return this;}if(f){if(!F){this.setAggregation("_filterIcon",new I({src:"sap-icon://filter"}));}else{F.setVisible(true);}}else{F.setVisible(false);}return this;};b.prototype.setTableAdapter=function(A){this._oAdapter=A;};b.prototype.getTableAdapter=function(){return this._oAdapter||{interactive:true,rowAggregation:"items"};};b.prototype.onclick=function(e){if(this._isInteractive()){this._openColumnActions();}};b.prototype.onsapselect=b.prototype.onclick;b.prototype._openColumnActions=function(){var v=this.getViewSettingsPopover();if(v!=null){var $=this.$();v.openBy(this);v._getPopover(this).setOffsetY(-$.outerHeight());}};b.prototype._attachViewSettingsPopoverEvents=function(){var v=this.getViewSettingsPopover();if(v){this._detachViewSettingsPopoverEvents(v);v.attachSortSelected(this.onSortSelected,this);v.attachFilterSelected(this.onFilterSelected,this);}};b.prototype._detachViewSettingsPopoverEvents=function(v){v.detachSortSelected(this.onSortSelected,this);v.detachFilterSelected(this.onFilterSelected,this);};b.prototype.onSortSelected=function(){if(!this.getSorted()){this.setSorted(true);}if(this.getSortOrder()===""||this.getSortOrder()==="Descending"){this.setSortOrder("Ascending");}else{this.setSortOrder("Descending");}};b.prototype.onFilterSelected=function(){this.setFiltered(true);};b.prototype.getAccessibilityInfo=function(){var B=sap.ui.getCore().getLibraryResourceBundle("sap.m"),A=this.getText()+" ";if(this._isInteractive()){if(this.getSortOrder()){A+=B.getText("COLUMNHEADER_SORTED")+" ";A+=(this.getSortOrder()==="Ascending"?B.getText("COLUMNHEADER_SORTED_ASCENDING"):B.getText("COLUMNHEADER_SORTED_DESCENDING"))+" ";}if(this.getFiltered()){A+=B.getText("COLUMNHEADER_FILTERED")+" ";}A+=B.getText("COLUMNHEADER_ACCESS_COLUMN_ACTIONS");return{role:"button",focusable:true,description:A};}return{focusable:false,description:A};};b.prototype._isInteractive=function(){return this.getTableAdapter().interactive&&!!this.getViewSettingsPopover();};b.prototype.exit=function(){this._oAdapter=null;};return b;});
sap.ui.predefine('sap/m/ColumnHeaderPopover',['sap/ui/core/Control','sap/ui/model/base/ManagedObjectModel','sap/m/Toolbar','sap/m/ResponsivePopover','sap/m/Button','sap/m/ToggleButton','sap/m/ToolbarSpacer','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/dom/containsOrEquals','sap/m/ColumnPopoverItem'],function(C,M,T,R,B,a,b,F,c,d,e){"use strict";var f=C.extend("sap.m.ColumnHeaderPopover",{library:"sap.m",metadata:{properties:{},aggregations:{items:{type:"sap.m.ColumnPopoverItem",multiple:true,singularName:"item",bindable:true},_popover:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},defaultAggregation:"items"}});f.prototype.init=function(){this._bPopoverCreated=false;this._oShownCustomContent=null;};f.prototype._createPopover=function(){var t=this;this._oShownCustomContent=null;var o=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s=o.getText("COLUMNHEADERPOPOVER_CLOSE_BUTTON");var p=new R({showArrow:false,showHeader:false,placement:"Bottom",verticalScrolling:true,horizontalScrolling:false,beforeClose:function(E){if(t._oShownCustomContent){t._oShownCustomContent.setVisible(false);t._oShownCustomContent=null;}t._cleanSelection(this);}});this.setAggregation("_popover",p);var g=new T();g.bUseExtendedChangeDetection=true;p.addContent(g);var h=new F({path:"visible",operator:c.EQ,value1:true});var i=function(j,k){var I=k.getObject();var l;if(I.isA("sap.m.ColumnPopoverActionItem")){l=t._createActionItem(j,I);}else if(I.isA("sap.m.ColumnPopoverCustomItem")){l=t._createCustomItem(j,I);}I._sRelatedId=l.sId;l._sContentId=I._sContentId;l.destroy=function(){var D=this.getDomRef();if(D&&d(D,document.activeElement)){p.focus();p.removeContent(t._oShownCustomContent);}this.constructor.prototype.destroy.apply(this,arguments);};return l;};g.bindAggregation("content",{path:'/items',filters:[h],length:5,factory:i});g.updateAggregation=function(A){if(this._oShownCustomContent){this._oShownCustomContent=null;}T.prototype.updateAggregation.apply(this,arguments);var j=this.getContent();if(j.length<=2||!(j[j.length-2]instanceof b)){this.addContent(new b());this.addContent(new B({type:"Transparent",icon:"sap-icon://decline",tooltip:s,press:[p.close,p]}));}};var m=new M(this);g.setModel(m);};f.prototype._createActionItem=function(i,I){var t=this;return new B(i,{icon:"{icon}",tooltip:"{text}",type:"Transparent",press:function(){var p=t.getAggregation("_popover");if(t._oShownCustomContent){t._oShownCustomContent.setVisible(false);t._oShownCustomContent=null;t._cleanSelection(p,this);}I.firePress();}});};f.prototype._createCustomItem=function(i,I){var t=this;var p=this.getAggregation("_popover");var o=I.getContent();if(o){o.setVisible(false);I._sContentId=o.sId;}p.addContent(o);return new a(i,{icon:"{icon}",type:"Transparent",tooltip:"{text}",press:function(){if(t._oShownCustomContent){t._oShownCustomContent.setVisible(false);}if(this.getPressed()){t._cleanSelection(p,this);I.fireBeforeShowContent();if(o){o.setVisible(true);t._oShownCustomContent=o;}}else{if(o){o.setVisible(false);t._oShownCustomContent=null;}}}});};f.prototype._cleanSelection=function(p,o){var g=p.getContent()[0],h;h=g.getContent();if(h){h.forEach(function(i){if((!o||i!==o)&&i.getPressed&&i.getPressed()){i.setPressed(false);}});}};f.prototype.openBy=function(o){if(!this._bPopoverCreated){this._createPopover();this._bPopoverCreated=true;}var p=this.getAggregation("_popover");if(!this._bAppendedToUIArea&&!this.getParent()){var s=sap.ui.getCore().getStaticAreaRef();s=sap.ui.getCore().getUIArea(s);s.addContent(this,true);this._bAppendedToUIArea=true;}var O=o.getFocusDomRef();if(O){p.setOffsetY(-O.clientHeight);}p.openBy(o);};f.prototype.invalidate=function(o){var p=this.getAggregation("_popover");if(o===p){C.prototype.invalidate.apply(this,arguments);}return this;};return f;});
sap.ui.predefine('sap/m/ColumnPopoverActionItem',['./ColumnPopoverItem'],function(C){"use strict";var a=C.extend("sap.m.ColumnPopoverActionItem",{library:"sap.m",metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null}},events:{press:{}}}});return a;});
sap.ui.predefine('sap/m/ColumnPopoverCustomItem',['./ColumnPopoverItem'],function(C){"use strict";var a=C.extend("sap.m.ColumnPopoverCustomItem",{library:"sap.m",metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false,singularName:"content"}},events:{beforeShowContent:{}}}});return a;});
sap.ui.predefine('sap/m/ColumnPopoverItem',['sap/ui/core/Element'],function(E){"use strict";var C=E.extend("sap.m.ColumnPopoverItem",{metadata:{library:"sap.m",properties:{visible:{type:"boolean",group:"Misc",defaultValue:true}}}});return C;});
sap.ui.predefine('sap/m/CustomTreeItem',['./TreeItemBase','./ListItemBase','./library',"./CustomTreeItemRenderer"],function(T,L,l,C){"use strict";var a=T.extend("sap.m.CustomTreeItem",{metadata:{library:"sap.m",defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",bindable:"bindable"}}}});a.prototype.getContentAnnouncement=function(){return this.getContent().map(function(c){return L.getAccessibilityText(c);}).join(" ").trim();};return a;});
sap.ui.predefine('sap/m/CustomTreeItemRenderer',['./TreeItemBaseRenderer','sap/ui/core/Renderer'],function(T,R){"use strict";var C=R.extend(T);C.renderLIAttributes=function(r,l){r.addClass("sapMCTI");T.renderLIAttributes.apply(this,arguments);};C.renderLIContent=function(r,l){l.getContent().forEach(function(c){r.renderControl(c);});};return C;},true);
sap.ui.predefine('sap/m/P13nAnyFilterItem',['./library','sap/m/P13nFilterItem'],function(l,P){"use strict";var a=P.extend("sap.m.P13nAnyFilterItem",{metadata:{library:"sap.m",properties:{value1:{type:"any",group:"Misc",defaultValue:null},value2:{type:"any",group:"Misc",defaultValue:null}}}});return a;});
sap.ui.predefine('sap/m/P13nColumnsItem',['./library','sap/ui/core/Item'],function(l,I){"use strict";var P=I.extend("sap.m.P13nColumnsItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string",group:"Misc"},index:{type:"int",group:"Appearance"},visible:{type:"boolean",group:"Appearance"},width:{type:"string",group:"Misc"},total:{type:"boolean"}}}});return P;});
sap.ui.predefine('sap/m/P13nColumnsPanel',['sap/ui/core/library','sap/ui/model/ChangeReason','sap/ui/model/json/JSONModel','sap/ui/model/BindingMode','sap/ui/core/ResizeHandler','sap/ui/core/IconPool','./library','./Table','./Column','./ColumnListItem','./P13nPanel','./P13nColumnsItem','./SearchField','./ScrollContainer','./Text','./Button','./OverflowToolbar','./OverflowToolbarLayoutData','./OverflowToolbarButton','./ToolbarSpacer',"sap/ui/thirdparty/jquery"],function(C,c,J,B,R,I,l,T,d,e,P,f,S,g,h,i,O,j,k,m,q){"use strict";var n=l.OverflowToolbarPriority;var o=l.ButtonType;var p=l.ToolbarDesign;var L=l.ListType;var r=l.ListMode;var s=l.P13nPanelType;var t=P.extend("sap.m.P13nColumnsPanel",{metadata:{library:"sap.m",properties:{visibleItemsThreshold:{type:"int",group:"Behavior",defaultValue:-1}},aggregations:{columnsItems:{type:"sap.m.P13nColumnsItem",multiple:true,singularName:"columnsItem",bindable:"bindable"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"}},events:{addColumnsItem:{parameters:{newItem:{type:"sap.m.P13nColumnsItem"}}},changeColumnsItems:{parameters:{newItems:{type:"sap.m.P13nColumnsItem[]"},existingItems:{type:"sap.m.P13nColumnsItem[]"},items:{type:"object[]"}}},setData:{}}},renderer:function(a,b){a.write("<div");a.writeControlData(b);a.addClass("sapMP13nColumnsPanel");a.writeClasses();a.write(">");var u=b.getAggregation("content");if(u){u.forEach(function(v){a.renderControl(v);});}a.write("</div>");}});t.prototype.init=function(){this._iLiveChangeTimer=0;this._iSearchTimer=0;this._bIgnoreUpdateInternalModel=false;this._bUpdateInternalModel=true;this._bTableItemsChanged=false;this._bOnAfterRenderingFirstTimeExecuted=false;var M=new J({items:[],columnKeyOfMarkedItem:undefined,isMoveDownButtonEnabled:undefined,isMoveUpButtonEnabled:undefined,showOnlySelectedItems:undefined,countOfSelectedItems:0,countOfItems:0});M.setDefaultBindingMode(B.TwoWay);M.setSizeLimit(1000);this.setModel(M,"$sapmP13nColumnsPanel");this.setType(s.columns);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("COLUMSPANEL_TITLE"));this._createTable();this._createToolbar();this.setVerticalScrolling(false);var a=new g({horizontal:false,vertical:true,content:[this._oTable],width:'100%',height:'100%'});this.addAggregation("content",a);var b=this;this._fnHandleResize=function(){var u=false,v,w;if(b.getParent){var $=null,x,H;var y=b.getParent();var z=b._getToolbar();if(y&&y.$){$=y.$("cont");if($.children().length>0&&z.$().length>0){v=a.$()[0].clientHeight;x=$.children()[0].clientHeight;H=z?z.$()[0].clientHeight:0;w=x-H;if(v!==w){a.setHeight(w+'px');u=true;}}}}return u;};this._sContainerResizeListener=R.register(a,this._fnHandleResize);};t.prototype.reInitialize=function(){};t.prototype.onBeforeRendering=function(){this._updateInternalModel();if(!this._getInternalModel().getProperty("/columnKeyOfMarkedItem")){this._setColumnKeyOfMarkedItem(this._getColumnKeyByTableItem(this._getVisibleTableItems()[0]));}this._switchMarkedTableItemTo(this._getTableItemByColumnKey(this._getInternalModel().getProperty("/columnKeyOfMarkedItem")));this._updateControlLogic();};t.prototype.onAfterRendering=function(){if(!this._bOnAfterRenderingFirstTimeExecuted){this._bOnAfterRenderingFirstTimeExecuted=true;window.clearTimeout(this._iLiveChangeTimer);var a=this;this._iLiveChangeTimer=window.setTimeout(function(){a._fnHandleResize();},0);}};t.prototype.getOkPayload=function(){this._updateInternalModel();var M=this._getInternalModel().getProperty("/items");return{tableItems:M.map(function(a){return{columnKey:a.columnKey,index:a.persistentIndex===-1?undefined:a.persistentIndex,visible:a.persistentSelected,width:a.width};}),tableItemsChanged:this._bTableItemsChanged,selectedItems:M.filter(function(a){return a.persistentSelected;}).map(function(a){return{columnKey:a.columnKey};})};};t.prototype.getResetPayload=function(){return{oPanel:this};};t.prototype.exit=function(){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;this._getToolbar().destroy();this._oTable.destroy();this._oTable=null;if(this._getInternalModel()){this._getInternalModel().destroy();}window.clearTimeout(this._iLiveChangeTimer);window.clearTimeout(this._iSearchTimer);};t.prototype.addItem=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("items",a);return this;};t.prototype.insertItem=function(a,b){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("items",a,b);return this;};t.prototype.removeItem=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}a=this.removeAggregation("items",a);return a;};t.prototype.removeAllItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("items");};t.prototype.destroyItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("items");return this;};t.prototype.addColumnsItem=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("columnsItems",a);return this;};t.prototype.insertColumnsItem=function(a,b){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("columnsItems",a,b);return this;};t.prototype.updateColumnsItems=function(a){this.updateAggregation("columnsItems");if(a===c.Change&&!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}};t.prototype.removeColumnsItem=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAggregation("columnsItems",a);};t.prototype.removeAllColumnsItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("columnsItems");};t.prototype.destroyColumnsItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("columnsItems");return this;};t.prototype.onBeforeNavigationFrom=function(){var M=this._getSelectedModelItems();var v=this.getVisibleItemsThreshold();return!(M&&v!==-1&&M.length>v);};t.prototype._notifyChange=function(){this._bTableItemsChanged=true;var a=this.getChangeNotifier();if(a){a(this);}};t.prototype._scrollToSelectedItem=function(a){if(!a){return;}sap.ui.getCore().applyChanges();if(!!a.getDomRef()){a.focus();}};t.prototype._getInternalModel=function(){return this.getModel("$sapmP13nColumnsPanel");};t.prototype._createTable=function(){this._oTable=new T({mode:r.MultiSelect,rememberSelections:false,itemPress:q.proxy(this._onItemPressed,this),selectionChange:q.proxy(this._onSelectionChange,this),columns:[new d({vAlign:C.VerticalAlign.Middle,header:new h({text:{parts:[{path:'/countOfSelectedItems'},{path:'/countOfItems'}],formatter:function(a,b){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[a,b]);}}})})],items:{path:"/items",templateShareable:false,template:new e({cells:[new h({text:"{text}"})],visible:"{visible}",selected:"{persistentSelected}",tooltip:"{tooltip}",type:L.Active})}});this._oTable.setModel(this._getInternalModel());};t.prototype._createToolbar=function(){var a=this;var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");var u=new O(this.getId()+"-toolbar",{design:p.Auto,content:[new m(),new S(this.getId()+"-searchField",{liveChange:function(E){var v=E.getSource().getValue(),D=(v?300:0);window.clearTimeout(a._iSearchTimer);if(D){a._iSearchTimer=window.setTimeout(function(){a._onExecuteSearch();},D);}else{a._onExecuteSearch();}},search:q.proxy(this._onExecuteSearch,this),layoutData:new j({minWidth:"12.5rem",maxWidth:"23.077rem",shrinkable:true,moveToOverflow:false,stayInOverflow:false})}),new i({text:{path:'/showOnlySelectedItems',formatter:function(v){return v?b.getText('COLUMNSPANEL_SHOW_ALL'):b.getText('COLUMNSPANEL_SHOW_SELECTED');}},tooltip:{path:'/showOnlySelectedItems',formatter:function(v){return v?b.getText('COLUMNSPANEL_SHOW_ALL'):b.getText('COLUMNSPANEL_SHOW_SELECTED');}},type:o.Transparent,press:q.proxy(this._onSwitchButtonShowSelected,this),layoutData:new j({moveToOverflow:true,priority:n.High})}),new k({icon:I.getIconURI("collapse-group"),text:b.getText('COLUMNSPANEL_MOVE_TO_TOP'),tooltip:b.getText('COLUMNSPANEL_MOVE_TO_TOP'),type:o.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:q.proxy(this.onPressButtonMoveToTop,this),layoutData:new j({moveToOverflow:true,priority:n.Low,group:2})}),new k({icon:I.getIconURI("slim-arrow-up"),text:b.getText('COLUMNSPANEL_MOVE_UP'),tooltip:b.getText('COLUMNSPANEL_MOVE_UP'),type:o.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:q.proxy(this.onPressButtonMoveUp,this),layoutData:new j({moveToOverflow:true,priority:n.High,group:1})}),new k({icon:I.getIconURI("slim-arrow-down"),text:b.getText('COLUMNSPANEL_MOVE_DOWN'),tooltip:b.getText('COLUMNSPANEL_MOVE_DOWN'),type:o.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:q.proxy(this.onPressButtonMoveDown,this),layoutData:new j({moveToOverflow:true,priority:n.High,group:1})}),new k({icon:I.getIconURI("expand-group"),text:b.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),tooltip:b.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),type:o.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:q.proxy(this.onPressButtonMoveToBottom,this),layoutData:new j({moveToOverflow:true,priority:n.Low,group:2})})]});u.setModel(this._getInternalModel());this.addAggregation("content",u);};t.prototype.onPressButtonMoveToTop=function(){this._moveMarkedTableItem(this._getMarkedTableItem(),this._getVisibleTableItems()[0]);};t.prototype.onPressButtonMoveUp=function(){var v=this._getVisibleTableItems();this._moveMarkedTableItem(this._getMarkedTableItem(),v[v.indexOf(this._getMarkedTableItem())-1]);};t.prototype.onPressButtonMoveDown=function(){var v=this._getVisibleTableItems();this._moveMarkedTableItem(this._getMarkedTableItem(),v[v.indexOf(this._getMarkedTableItem())+1]);};t.prototype.onPressButtonMoveToBottom=function(){var v=this._getVisibleTableItems();this._moveMarkedTableItem(this._getMarkedTableItem(),v[v.length-1]);};t.prototype._onSwitchButtonShowSelected=function(){this._getInternalModel().setProperty("/showOnlySelectedItems",!this._getInternalModel().getProperty("/showOnlySelectedItems"));this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._scrollToSelectedItem(this._getMarkedTableItem());this._updateControlLogic();this._fnHandleResize();};t.prototype._onExecuteSearch=function(){this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._updateControlLogic();};t.prototype._switchVisibilityOfUnselectedModelItems=function(){var b=this._isFilteredByShowSelected();var M=this._getInternalModel().getProperty("/items");M.forEach(function(a){if(a.persistentSelected){a.visible=true;return;}a.visible=!b;});this._getInternalModel().setProperty("/items",M);};t.prototype._getVisibleModelItems=function(){return this._getInternalModel().getProperty("/items").filter(function(M){return!!M.visible;});};t.prototype._moveMarkedTableItem=function(a,b){var M=this._getModelItemByColumnKey(this._getColumnKeyByTableItem(a));var u=this._getModelItemByColumnKey(this._getColumnKeyByTableItem(b));var v=this._getModelItemIndexByColumnKey(M.columnKey);var w=this._getModelItemIndexByColumnKey(u.columnKey);this._moveModelItems(v,w);this._scrollToSelectedItem(this._getMarkedTableItem());this._updateControlLogic();this._fireChangeColumnsItems();this._fireSetData();this._notifyChange();};t.prototype._moveModelItems=function(a,b){var M=this._getInternalModel().getProperty("/items");if(a<0||b<0||a>M.length-1||b>M.length-1){return false;}this._removeStyleOfMarkedTableItem();var u=M.splice(a,1);M.splice(b,0,u[0]);this._updateModelItemsPersistentIndex(M);this._updateCounts(M);this._getInternalModel().setProperty("/items",M);this._switchMarkedTableItemTo(this._getMarkedTableItem());return true;};t.prototype._getModelItemByColumnKey=function(a){var M=this._getInternalModel().getProperty("/items").filter(function(b){return b.columnKey===a;});return M[0];};t.prototype._updateCounts=function(M){var a=0;var b=0;M.forEach(function(u){a++;if(u.persistentSelected){b++;}});this._getInternalModel().setProperty("/countOfItems",a);this._getInternalModel().setProperty("/countOfSelectedItems",b);};t.prototype._sortModelItemsByPersistentIndex=function(M){var u;var v;try{v=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=='undefined'){u=window.Intl.Collator(v,{numeric:true});}}catch(E){}M.forEach(function(a,b){a.localIndex=b;});M.sort(function(a,b){if(a.persistentSelected===true&&(b.persistentSelected===false||b.persistentSelected===undefined)){return-1;}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&b.persistentSelected===true){return 1;}else if(a.persistentSelected===true&&b.persistentSelected===true){if(a.persistentIndex>-1&&a.persistentIndex<b.persistentIndex){return-1;}else if(b.persistentIndex>-1&&a.persistentIndex>b.persistentIndex){return 1;}else{return a.localIndex-b.localIndex;}}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&(b.persistentSelected===false||b.persistentSelected===undefined)){return u?u.compare(a.text,b.text):a.text.localeCompare(b.text,v,{numeric:true});}});M.forEach(function(a){delete a.localIndex;});};t.prototype._getColumnKeyByTableItem=function(a){var b=this._oTable.indexOfItem(a);if(b<0){return null;}return this._oTable.getBinding("items").getContexts()[b].getObject().columnKey;};t.prototype._getModelItemIndexByColumnKey=function(a){var b=-1;this._getInternalModel().getProperty("/items").some(function(M,u){if(M.columnKey===a){b=u;return true;}});return b;};t.prototype._getSelectedModelItems=function(){return this._getInternalModel().getProperty("/items").filter(function(M){return M.persistentSelected;});};t.prototype._getVisibleTableItems=function(){return this._oTable.getItems().filter(function(a){return a.getVisible();});};t.prototype._getTableItemByColumnKey=function(a){var b=this._oTable.getBinding("items").getContexts();var u=this._oTable.getItems().filter(function(v,w){return b[w].getObject().columnKey===a;});return u[0];};t.prototype._getToolbar=function(){return sap.ui.getCore().byId(this.getId()+"-toolbar")||null;};t.prototype._getSearchField=function(){return sap.ui.getCore().byId(this.getId()+"-searchField")||null;};t.prototype._getSearchText=function(){var a=this._getSearchField();return a?a.getValue():"";};t.prototype._isFilteredBySearchText=function(){return!!this._getSearchText().length;};t.prototype._isFilteredByShowSelected=function(){return this._getInternalModel().getData().showOnlySelectedItems;};t.prototype._updateControlLogic=function(){var b=this._isFilteredBySearchText();var a=this._isFilteredByShowSelected();var v=this._getVisibleTableItems();this._getInternalModel().setProperty("/isMoveUpButtonEnabled",v.indexOf(this._getMarkedTableItem())>0);this._getInternalModel().setProperty("/isMoveDownButtonEnabled",v.indexOf(this._getMarkedTableItem())>-1&&v.indexOf(this._getMarkedTableItem())<v.length-1);var u=sap.ui.getCore().byId(this._oTable.getId()+'-sa');if(u){u.setEnabled(!b&&!a);}};t.prototype._updateModelItemsPersistentIndex=function(M){var a=-1;M.forEach(function(b){b.persistentIndex=-1;if(b.persistentSelected){a++;b.persistentIndex=a;}});};t.prototype._fireSetData=function(){this._bIgnoreUpdateInternalModel=true;this.fireSetData();this._bIgnoreUpdateInternalModel=false;};t.prototype._fireChangeColumnsItems=function(){this._bIgnoreUpdateInternalModel=true;var M=this._getInternalModel().getProperty("/items");var E={newItems:[],existingItems:[],items:M.map(function(a){return{columnKey:a.columnKey,visible:a.persistentSelected,index:a.persistentIndex===-1?undefined:a.persistentIndex,width:a.width,total:a.total};})};M.forEach(function(a){var b=this._getColumnsItemByColumnKey(a.columnKey);if(b){b.setVisible(a.persistentSelected);b.setIndex(a.persistentIndex===-1?undefined:a.persistentIndex);if(a.width!==undefined){b.setWidth(a.width);}if(a.total!==undefined){b.setTotal(a.total);}E.existingItems.push(b);}else{E.newItems.push(new f({columnKey:a.columnKey,visible:a.persistentSelected,index:a.persistentIndex===-1?undefined:a.persistentIndex,width:a.width,total:a.total}));}},this);this.fireChangeColumnsItems(E);this._bIgnoreUpdateInternalModel=false;};t.prototype._getColumnsItemByColumnKey=function(a){var b=this.getColumnsItems().filter(function(u){return u.getColumnKey()===a;});return b[0];};t.prototype._getMarkedTableItem=function(){return this._getTableItemByColumnKey(this._getInternalModel().getProperty("/columnKeyOfMarkedItem"));};t.prototype._setColumnKeyOfMarkedItem=function(a){this._getInternalModel().setProperty("/columnKeyOfMarkedItem",a);};t.prototype._onItemPressed=function(E){this._switchMarkedTableItemTo(E.getParameter('listItem'));this._updateControlLogic();};t.prototype._onSelectionChange=function(E){if(!E.getParameter("selectAll")&&E.getParameter("listItems").length===1){this._switchMarkedTableItemTo(E.getParameter("listItem"));}this._selectTableItem();};t.prototype._selectTableItem=function(){this._updateControlLogic();var M=this._getInternalModel().getProperty("/items");this._updateModelItemsPersistentIndex(M);this._updateCounts(M);this._getInternalModel().setProperty("/items",M);this._fireChangeColumnsItems();this._fireSetData();this._notifyChange();var v=this.getValidationExecutor();if(v){v();}};t.prototype._switchMarkedTableItemTo=function(a){this._removeStyleOfMarkedTableItem();var b=this._getColumnKeyByTableItem(a);if(b){this._setColumnKeyOfMarkedItem(b);a.addStyleClass("sapMP13nColumnsPanelItemSelected");}};t.prototype._removeStyleOfMarkedTableItem=function(){if(this._getMarkedTableItem()){this._getMarkedTableItem().removeStyleClass("sapMP13nColumnsPanelItemSelected");}};t.prototype._filterModelItemsBySearchText=function(){var a=this._getSearchText();a=a.replace(/(^\s+)|(\s+$)/g,'');a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var b=new RegExp(a,'igm');if(!b){return;}this._getVisibleModelItems().forEach(function(M){M.visible=false;if(typeof M.text==="string"&&M.text.match(b)){M.visible=true;}if(typeof M.tooltip==="string"&&M.tooltip.match(b)){M.visible=true;}});this._getInternalModel().refresh();};t.prototype._updateInternalModel=function(){if(!this._bUpdateInternalModel){return;}this._bUpdateInternalModel=false;this._removeStyleOfMarkedTableItem();var M=this._getInternalModel().getProperty("/items");this._getInternalModel().setProperty("/items",this.getItems().map(function(b){return{columnKey:b.getColumnKey(),visible:true,text:b.getText(),tooltip:b.getTooltip(),persistentIndex:-1,persistentSelected:b.getVisible(),width:undefined,total:undefined};},this));this.getColumnsItems().forEach(function(b){var u=this._getModelItemByColumnKey(b.getColumnKey());if(!u){return;}if(b.getIndex()!==undefined){u.persistentIndex=b.getIndex();}if(b.getVisible()!==undefined){u.persistentSelected=b.getVisible();}if(b.getWidth()!==undefined){u.width=b.getWidth();}if(b.getTotal()!==undefined){u.total=b.getTotal();}},this);this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();var a=this._getInternalModel().getProperty("/items");this._sortModelItemsByPersistentIndex(a);this._updateCounts(a);this._getInternalModel().setProperty("/items",a);this._switchMarkedTableItemTo(this._getMarkedTableItem());if(q(a).not(M).length!==0||q(M).not(a).length!==0){this._bTableItemsChanged=true;}};return t;});
sap.ui.predefine('sap/m/P13nConditionPanel',['./library','sap/ui/core/library','sap/ui/core/Control','sap/ui/core/format/DateFormat','sap/ui/core/format/NumberFormat','sap/ui/core/IconPool','sap/ui/Device','sap/ui/core/InvisibleText','sap/ui/core/ResizeHandler','sap/ui/core/Item','sap/ui/core/ListItem','sap/ui/model/odata/type/Boolean','sap/ui/model/type/String','sap/ui/model/odata/type/String','sap/ui/model/type/Date','sap/ui/model/type/Time','sap/ui/model/odata/type/DateTime','sap/ui/model/type/Float','./Button','./OverflowToolbar','./OverflowToolbarLayoutData','./ToolbarSpacer','./Text','./SearchField','./CheckBox','./ComboBox','./Select','./Label','./Input','./DatePicker','./TimePicker','./DateTimePicker',"sap/base/Log","sap/ui/thirdparty/jquery"],function(a,c,C,D,N,I,b,d,R,e,L,B,S,f,g,T,h,F,k,O,m,o,q,r,s,t,u,v,x,y,z,A,E,Q){"use strict";var V=c.ValueState;var G=a.ButtonType;var H=a.ToolbarDesign;var J=c.TextAlign;var K=a.OverflowToolbarPriority;var M;var P;var U;var W;var X=C.extend("sap.m.P13nConditionPanel",{metadata:{library:"sap.m",properties:{maxConditions:{type:"string",group:"Misc",defaultValue:'-1'},exclude:{type:"boolean",group:"Misc",defaultValue:false},containerQuery:{type:"boolean",group:"Misc",defaultValue:false},autoAddNewRow:{type:"boolean",group:"Misc",defaultValue:false},disableFirstRemoveIcon:{type:"boolean",group:"Misc",defaultValue:false},alwaysShowAddIcon:{type:"boolean",group:"Misc",defaultValue:true},usePrevConditionSetting:{type:"boolean",group:"Misc",defaultValue:true},autoReduceKeyFieldItems:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null},showLabel:{type:"boolean",group:"Misc",defaultValue:false},displayFormat:{type:"string",group:"Misc",defaultValue:null},validationExecutor:{type:"object",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"}},events:{dataChange:{}}},renderer:function(j,l){j.write("<section");j.writeControlData(l);j.addClass("sapMConditionPanel");j.writeClasses();j.writeStyles();j.write(">");j.write("<div");j.addClass("sapMConditionPanelContent");j.addClass("sapMConditionPanelBG");j.writeClasses();j.write(">");var n=l.getAggregation("content");var p=n.length;for(var i=0;i<p;i++){j.renderControl(n[i]);}j.write("</div>");j.write("</section>");}});X.prototype.setConditions=function(j){if(!j){E.error("sap.m.P13nConditionPanel : aCondition is not defined");}if(this._bIgnoreSetConditions){return;}this._oConditionsMap={};this._aConditionKeys=[];this._iConditions=0;for(var i=0;i<j.length;i++){this._addCondition2Map(j[i]);}this._clearConditions();this._fillConditions();};X.prototype.removeAllConditions=function(){this._oConditionsMap={};this._aConditionKeys=[];this._iConditions=0;this._clearConditions();this._fillConditions();};X.prototype.addCondition=function(i){if(this._bIgnoreSetConditions){return;}i.index=this._iConditions;this._addCondition2Map(i);this._addCondition(i);};X.prototype.insertCondition=function(i,j){if(this._bIgnoreSetConditions){return;}if(j!==undefined){i.index=j;}this._addCondition2Map(i);this._addCondition(i);};X.prototype.removeCondition=function(i){this._clearConditions();if(typeof i=="string"){this._removeConditionFromMap(i);}if(typeof i=="object"){this._removeConditionFromMap(i.key);}this._fillConditions();};X.prototype._addCondition2Map=function(i){if(!i.key){i.key="condition_"+this._iConditions;if(this.getExclude()){i.key="x"+i.key;}}this._iConditions++;this._oConditionsMap[i.key]=i;this._aConditionKeys.push(i.key);};X.prototype._removeConditionFromMap=function(j){this._iConditions--;delete this._oConditionsMap[j];var i=this._aConditionKeys.indexOf(j);if(i>=0){this._aConditionKeys.splice(i,1);}};X.prototype.getConditions=function(){var i;var j=[];if(this._oConditionsMap){for(var l in this._oConditionsMap){i=this._oConditionsMap[l];var n=i.value;if(!n){n=this._getFormatedConditionText(i.operation,i.value1,i.value2,i.exclude,i.keyField,i.showIfGrouped);}if(!i._oGrid||i._oGrid.select.getSelected()){j.push({"key":l,"text":n,"exclude":i.exclude,"operation":i.operation,"keyField":i.keyField,"value1":i.value1,"value2":i.operation===Y.BT?i.value2:null,"showIfGrouped":i.showIfGrouped});}}}return j;};X.prototype.setOperations=function(i,j){j=j||"default";this._oTypeOperations[j]=i;this._updateAllOperations();};X.prototype.setValues=function(i,j){j=j||"default";this._oTypeValues[j]=i;};X.prototype.addOperation=function(i,j){j=j||"default";this._oTypeOperations[j].push(i);this._updateAllOperations();};X.prototype.removeAllOperations=function(i){i=i||"default";this._oTypeOperations[i]=[];this._updateAllOperations();};X.prototype.getOperations=function(i){i=i||"default";return this._oTypeOperations[i];};X.prototype.setKeyFields=function(i){this._aKeyFields=i;this._aKeyFields.forEach(function(j){X._createKeyFieldTypeInstance(j);},this);this._updateKeyFieldItems(this._oConditionsGrid,true);this._updateAllConditionsEnableStates();this._createAndUpdateAllKeyFields();this._updateAllOperations();};X.prototype.addKeyField=function(i){this._aKeyFields.push(i);X._createKeyFieldTypeInstance(i);this._updateKeyFieldItems(this._oConditionsGrid,true,true);this._updateAllConditionsEnableStates();this._createAndUpdateAllKeyFields();this._updateAllOperations();};X._createKeyFieldTypeInstance=function(i){var j;if(!i.typeInstance){switch(i.type){case"boolean":i.typeInstance=new B();break;case"numc":if(!(i.formatSettings&&i.formatSettings.isDigitSequence)){E.error("sap.m.P13nConditionPanel","NUMC type support requires isDigitSequence==true!");i.formatSettings=Q.extend({},i.formatSettings,{isDigitSequence:true});}j=i.formatSettings;if(i.maxLength){j=Q.extend({},j,{maxLength:i.maxLength});}if(!j.maxLength){E.error("sap.m.P13nConditionPanel","NUMC type suppport requires maxLength!");}i.typeInstance=new f({},j);break;case"date":i.typeInstance=new g(Q.extend({},i.formatSettings,{strictParsing:true}),{});break;case"time":i.typeInstance=new T(Q.extend({},i.formatSettings,{strictParsing:true}),{});break;case"datetime":i.typeInstance=new h(Q.extend({},i.formatSettings,{strictParsing:true}),{displayFormat:"Date"});var n=i.typeInstance;if(!n.oFormat){n.formatValue(new Date(),"string");}if(n.oFormat){n.oFormat.oFormatOptions.UTC=false;}break;case"stringdate":sap.ui.getCore().loadLibrary("sap.ui.comp");W=W||sap.ui.requireSync("sap/ui/comp/odata/type/StringDate");i.typeInstance=new W(Q.extend({},i.formatSettings,{strictParsing:true}));break;case"numeric":if(i.precision||i.scale){j={};if(i.precision){j["maxIntegerDigits"]=parseInt(i.precision);}if(i.scale){j["maxFractionDigits"]=parseInt(i.scale);}}i.typeInstance=new F(j);break;default:var l=i.formatSettings;if(i.maxLength){l=Q.extend({},l,{maxLength:i.maxLength});}i.typeInstance=new S({},l);break;}}};X.prototype.removeAllKeyFields=function(){this._aKeyFields=[];this._updateKeyFieldItems(this._oConditionsGrid,true);};X.prototype.getKeyFields=function(){return this._aKeyFields;};X.prototype.setAlwaysShowAddIcon=function(i){this.setProperty("alwaysShowAddIcon",i);if(this._oConditionsGrid){this._oConditionsGrid.toggleStyleClass("conditionRootGrid",this.getLayoutMode()!=="Desktop");}return this;};X.prototype.setLayoutMode=function(l){this.setProperty("layoutMode",l);if(this._oConditionsGrid){this._oConditionsGrid.toggleStyleClass("conditionRootGrid",l!=="Desktop");}this._updateConditionFieldSpans(l);this._clearConditions();this._fillConditions();return this;};X.prototype.setContainerQuery=function(i){this._unregisterResizeHandler();this.setProperty("containerQuery",i);this._registerResizeHandler();this._clearConditions();this._fillConditions();return this;};X.prototype._updateConditionFieldSpans=function(i){if(this._aConditionsFields){var j=i==="Desktop";if(j){this._aConditionsFields[2].SpanFilter="L3 M3 S3";this._aConditionsFields[4].SpanFilter="L2 M2 S2";this._aConditionsFields[5].SpanFilter="L3 M3 S3";this._aConditionsFields[6].SpanFilter="L2 M2 S2";this._aConditionsFields[7].SpanFilter="L1 M1 S1";}var l=i==="Tablet";if(l){this._aConditionsFields[2].SpanFilter="L5 M5 S5";this._aConditionsFields[4].SpanFilter="L5 M5 S5";this._aConditionsFields[5].SpanFilter="L10 M10 S10";this._aConditionsFields[6].SpanFilter="L10 M10 S10";this._aConditionsFields[7].SpanFilter="L1 M1 S1";}}};X.prototype.init=function(){sap.ui.getCore().loadLibrary("sap.ui.layout");M=M||sap.ui.requireSync("sap/ui/layout/Grid");P=P||sap.ui.requireSync("sap/ui/layout/GridData");U=U||sap.ui.requireSync("sap/ui/layout/HorizontalLayout");this.addStyleClass("sapMConditionPanel");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._sFromLabelText=this._oRb.getText("CONDITIONPANEL_LABELFROM");this._sToLabelText=this._oRb.getText("CONDITIONPANEL_LABELTO");this._sValueLabelText=this._oRb.getText("CONDITIONPANEL_LABELVALUE");this._sShowIfGroupedLabelText=this._oRb.getText("CONDITIONPANEL_LABELGROUPING");this._sValidationDialogFieldMessage=this._oRb.getText("CONDITIONPANEL_FIELDMESSAGE");this._oTypeOperations={"default":[]};this._oTypeValues={"default":[]};this._aKeyFields=[];this._oConditionsMap={};this._aConditionKeys=[];this._iConditions=0;this._sLayoutMode="Desktop";this._sConditionType="Filter";this._sAddRemoveIconTooltip="FILTER";this._iBreakPointTablet=b.media._predefinedRangeSets[b.media.RANGESETS.SAP_STANDARD].points[0];this._iBreakPointDesktop=b.media._predefinedRangeSets[b.media.RANGESETS.SAP_STANDARD].points[1];this._oConditionsGrid=new M({width:"100%",defaultSpan:"L12 M12 S12",hSpacing:0,vSpacing:0}).toggleStyleClass("conditionRootGrid",this.getLayoutMode()!=="Desktop");this._oConditionsGrid.addStyleClass("sapUiRespGridOverflowHidden");this._iFirstConditionIndex=0;this._iConditionPageSize=10;this._oInvisibleTextField=new d({text:this._oRb.getText("CONDITIONPANEL_FIELD_LABEL")});this._oInvisibleTextOperator=new d({text:this._oRb.getText("CONDITIONPANEL_OPERATOR_LABEL")});this.addAggregation("content",this._oInvisibleTextField);this.addAggregation("content",this._oInvisibleTextOperator);this.addAggregation("content",this._oConditionsGrid);this._registerResizeHandler();this._aConditionsFields=[{"ID":"select","Label":"","SpanFilter":"L1 M1 S1","SpanSort":"L1 M1 S1","SpanGroup":"L1 M1 S1","Control":"CheckBox","Value":""},{"ID":"keyFieldLabel","Text":"Sort By","SpanFilter":"L1 M1 S1","SpanSort":"L1 M1 S1","SpanGroup":"L1 M1 S1","Control":"Label"},{"ID":"keyField","Label":"","SpanFilter":"L3 M5 S10","SpanSort":"L5 M5 S12","SpanGroup":"L4 M4 S12","Control":"ComboBox"},{"ID":"operationLabel","Text":"Sort Order","SpanFilter":"L1 M1 S1","SpanSort":"L1 M1 S1","SpanGroup":"L1 M1 S1","Control":"Label"},{"ID":"operation","Label":"","SpanFilter":"L2 M5 S10","SpanSort":b.system.phone?"L5 M5 S8":"L5 M5 S9","SpanGroup":"L2 M5 S10","Control":"ComboBox"},{"ID":"value1","Label":this._sFromLabelText,"SpanFilter":"L3 M10 S10","SpanSort":"L3 M10 S10","SpanGroup":"L3 M10 S10","Control":"TextField","Value":""},{"ID":"value2","Label":this._sToLabelText,"SpanFilter":"L2 M10 S10","SpanSort":"L2 M10 S10","SpanGroup":"L2 M10 S10","Control":"TextField","Value":""},{"ID":"showIfGrouped","Label":this._sShowIfGroupedLabelText,"SpanFilter":"L1 M10 S10","SpanSort":"L1 M10 S10","SpanGroup":"L3 M4 S9","Control":"CheckBox","Value":"false"}];this._oButtonGroupSpan={"SpanFilter":"L2 M2 S2","SpanSort":b.system.phone?"L2 M2 S4":"L2 M2 S3","SpanGroup":"L2 M2 S3"};this._updateConditionFieldSpans(this.getLayoutMode());this._fillConditions();};X.prototype._createPaginatorToolbar=function(){this._bPaginatorButtonsVisible=false;var i=this;this._oPrevButton=new k({icon:I.getIconURI("navigation-left-arrow"),tooltip:this._oRb.getText("WIZARD_FINISH"),visible:true,press:function(j){i._iFirstConditionIndex=Math.max(0,i._iFirstConditionIndex-i._iConditionPageSize);i._clearConditions();i._fillConditions();},layoutData:new m({priority:K.NeverOverflow})});this._oNextButton=new k({icon:I.getIconURI("navigation-right-arrow"),tooltip:this._oRb.getText("WIZARD_NEXT"),visible:true,press:function(j){i._iFirstConditionIndex+=i._iConditionPageSize;i._clearConditions();i._fillConditions();},layoutData:new m({priority:K.NeverOverflow})});this._oRemoveAllButton=new k({text:this._oRb.getText("CONDITIONPANEL_REMOVE_ALL"),visible:true,press:function(j){i._aConditionKeys.forEach(function(l,n){if(n>=0){this.fireDataChange({key:l,index:n,operation:"remove",newData:null});}},i);this._iFirstConditionIndex=0;i.removeAllConditions();},layoutData:new m({priority:K.Low})});this._oAddButton=new k({icon:I.getIconURI("add"),tooltip:this._oRb.getText("CONDITIONPANEL_ADD"+(this._sAddRemoveIconTooltipKey?"_"+this._sAddRemoveIconTooltipKey:"")+"_TOOLTIP"),visible:true,press:function(j){var l=i._createConditionRow(i._oConditionsGrid,undefined,null,0);i._changeField(l);setTimeout(function(){l.keyField.focus();});i._updatePaginatorToolbar();},layoutData:new m({priority:K.Low})});this._oHeaderText=new q({wrapping:false,layoutData:new m({priority:K.NeverOverflow})});this._oPageText=new q({wrapping:false,textAlign:J.Center,layoutData:new m({priority:K.NeverOverflow})});this._oFilterField=new r({width:"12rem",layoutData:new m({priority:K.High})});this._oPaginatorToolbar=new O({height:"3rem",design:H.Transparent,content:[this._oHeaderText,new o(),this._oFilterField,this._oPrevButton,this._oPageText,this._oNextButton,this._oRemoveAllButton,this._oAddButton]});};X.prototype._updatePaginatorToolbar=function(){if(this._sConditionType!=="Filter"||this.getMaxConditions()!=="-1"){return;}var i=this._aConditionKeys.length;var p=1+Math.floor(Math.max(0,i-1)/this._iConditionPageSize);var j=1+Math.floor(this._iFirstConditionIndex/this._iConditionPageSize);var l=this.getParent();if(!this._oPaginatorToolbar){if(i>this._iConditionPageSize){this._createPaginatorToolbar();this.insertAggregation("content",this._oPaginatorToolbar,0);this._onGridResize();}else{if(l&&l.setHeaderText){if(this._sOrgHeaderText==undefined){this._sOrgHeaderText=l.getHeaderText();}l.setHeaderText(this._sOrgHeaderText+(i>0?" ("+i+")":""));}return;}}this._oPrevButton.setEnabled(this._iFirstConditionIndex>0);this._oNextButton.setEnabled(this._iFirstConditionIndex+this._iConditionPageSize<i);if(l&&l.setHeaderToolbar){if(!l.getHeaderToolbar()){this.removeAggregation("content",this._oPaginatorToolbar);l.setHeaderToolbar(this._oPaginatorToolbar);l.attachExpand(function(Z){this._setToolbarElementVisibility(Z.getSource().getExpanded()&&this._bPaginatorButtonsVisible);}.bind(this));}}if(l&&l.setHeaderText){if(this._sOrgHeaderText==undefined){this._sOrgHeaderText=l.getHeaderText();}var n=this._sOrgHeaderText+(i>0?" ("+i+")":"");l.setHeaderText(n);this._oHeaderText.setText(n);}else{this._oHeaderText.setText(i+" Conditions");}this._oPageText.setText(j+"/"+p);this._bPaginatorButtonsVisible=this._bPaginatorButtonsVisible||p>1;this._setToolbarElementVisibility(this._bPaginatorButtonsVisible);if(j>p){this._iFirstConditionIndex-=Math.max(0,this._iConditionPageSize);this._clearConditions();this._fillConditions();}var w=0;this._oConditionsGrid.getContent().forEach(function(Z){if(Z.select.getSelected()){w++;}},this);if(p==j&&(i-this._iFirstConditionIndex)>w){this._clearConditions();this._fillConditions();}};X.prototype._setToolbarElementVisibility=function(i){this._oPrevButton.setVisible(i);this._oNextButton.setVisible(i);this._oPageText.setVisible(i);this._oFilterField.setVisible(false);this._oAddButton.setVisible(i);this._oRemoveAllButton.setVisible(i);};X.prototype.exit=function(){this._clearConditions();this._unregisterResizeHandler();this._aConditionsFields=null;this._aKeys=null;this._aKeyFields=null;this._oTypeOperations=null;this._oRb=null;this._sFromLabelText=null;this._sToLabelText=null;this._sValueLabelText=null;this._sValidationDialogFieldMessage=null;this._oConditionsMap=null;this._aConditionKeys=[];};X.prototype._clearConditions=function(){var i=this._oConditionsGrid.getContent();i.forEach(function(j){for(var l in this._aConditionsFields){var n=this._aConditionsFields[l];if(j[n["ID"]]&&j.getContent().indexOf(j[n["ID"]])===-1){j[n["ID"]].destroy();}}},this);this._oConditionsGrid.destroyContent();};X.prototype._fillConditions=function(){var j,l;var i=0,p=this._getMaxConditionsAsNumber(),n=this._aConditionKeys.length;if(this._oConditionsMap){var w=this._sConditionType!=="Filter"||this.getMaxConditions()!=="-1"?9999:this._iConditionPageSize;n=Math.min(n,Math.min(p,this._iFirstConditionIndex+w));for(i=this._iFirstConditionIndex;i<n;i++){l=this._aConditionKeys[i];j=this._oConditionsMap[l];this._createConditionRow(this._oConditionsGrid,j,l);}}this._updatePaginatorToolbar();if((this.getAutoAddNewRow()||this._oConditionsGrid.getContent().length===0)&&this._oConditionsGrid.getContent().length<p){this._createConditionRow(this._oConditionsGrid);}};X.prototype._addCondition=function(j){var i=0;var l=this._getMaxConditionsAsNumber();if(this._oConditionsMap){for(var n in this._oConditionsMap){if(i<l&&j===this._oConditionsMap[n]){this._createConditionRow(this._oConditionsGrid,j,n,i);}i++;}}this._updatePaginatorToolbar();};X.prototype._getMaxConditionsAsNumber=function(){return this.getMaxConditions()==="-1"?9999:parseInt(this.getMaxConditions());};X.prototype.onAfterRendering=function(){if(this.getLayoutMode()){this._sLayoutMode=this.getLayoutMode();return;}};X.prototype._handleMediaChange=function(p){this._sLayoutMode=p.name;this._updateLayout(p);};X.prototype._unregisterResizeHandler=function(){if(this._sContainerResizeListener){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}b.media.detachHandler(this._handleMediaChange,this,b.media.RANGESETS.SAP_STANDARD);};X.prototype._registerResizeHandler=function(){if(this.getContainerQuery()){this._sContainerResizeListener=R.register(this._oConditionsGrid,Q.proxy(this._onGridResize,this));this._onGridResize();}else{b.media.attachHandler(this._handleMediaChange,this,b.media.RANGESETS.SAP_STANDARD);}};X.prototype._getKeyFromConditionGrid=function(i){var j=i.data("_key");if(!j){j=this._createConditionKey();}return j;};X.prototype._createConditionKey=function(){var i=0;var j;do{j="condition_"+i;if(this.getExclude()){j="x"+j;}i++;}while(this._oConditionsMap[j]);return j;};X.prototype._createConditionRow=function(i,j,l,p){var n=null;var w;var Z=this;if(p===undefined){p=i.getContent().length;}var $=new M({width:"100%",defaultSpan:"L12 M12 S12",hSpacing:1,vSpacing:0,containerQuery:this.getContainerQuery()}).data("_key",l);$.addStyleClass("sapUiRespGridOverflowHidden");for(var _ in this._aConditionsFields){var a1;var b1=this._aConditionsFields[_];switch(b1["Control"]){case"CheckBox":a1=new s({enabled:false,visible:false,layoutData:new P({span:b1["Span"+this._sConditionType]})});if(b1["ID"]==="showIfGrouped"){a1.setEnabled(true);a1.setText(b1["Label"]);a1.attachSelect(function(){Z._changeField($);});a1.setSelected(j?j.showIfGrouped:true);}else{if(j){a1.setSelected(true);a1.setEnabled(true);}}break;case"ComboBox":if(b1["ID"]==="keyField"){a1=new t({width:"100%",ariaLabelledBy:this._oInvisibleTextField});var c1=Q.proxy(a1.setSelectedKey,a1);a1.setSelectedKey=function(l){c1(l);var p1=Z.getValidationExecutor();if(p1){p1();}};var d1=Q.proxy(a1.setSelectedItem,a1);a1.setSelectedItem=function(p1){d1(p1);var q1=Z.getValidationExecutor();if(q1){q1();}};a1.setLayoutData(new P({span:b1["Span"+this._sConditionType]}));this._fillKeyFieldListItems(a1,this._aKeyFields);if(a1.attachSelectionChange){a1.attachSelectionChange(function(p1){var q1=Z.getValidationExecutor();if(q1){q1();}Z._handleSelectionChangeOnKeyField(i,$);});}if(a1.attachChange){a1.attachChange(function(p1){$.keyField.close();Z._handleChangeOnKeyField(i,$);});}if(a1.setSelectedItem){if(j){a1.setSelectedKey(j.keyField);this._aKeyFields.forEach(function(e1,p1){var q1=e1.key;if(q1===undefined){q1=e1;}if(j.keyField===q1){a1.setSelectedItem(a1.getItems()[p1]);}},this);}else{if(this.getUsePrevConditionSetting()&&!this.getAutoReduceKeyFieldItems()){if(p>0&&!l){w=i.getContent()[p-1];if(w.keyField.getSelectedKey()){a1.setSelectedKey(w.keyField.getSelectedKey());}else{if(!a1.getSelectedItem()&&a1.getItems().length>0){a1.setSelectedItem(a1.getItems()[0]);}}}else{this._aKeyFields.some(function(e1,p1){if(e1.isDefault){a1.setSelectedItem(a1.getItems()[p1]);return true;}if(!a1.getSelectedItem()&&e1.type!=="boolean"){a1.setSelectedItem(a1.getItems()[p1]);}},this);if(!a1.getSelectedItem()&&a1.getItems().length>0){a1.setSelectedItem(a1.getItems()[0]);}}}else{this._aKeyFields.forEach(function(e1,p1){if(e1.isDefault){a1.setSelectedItem(a1.getItems()[p1]);}},this);}}}}if(b1["ID"]==="operation"){a1=new u({width:"100%",ariaLabelledBy:this._oInvisibleTextOperator,layoutData:new P({span:b1["Span"+this._sConditionType]})});a1.attachChange(function(){Z._handleChangeOnOperationField(i,$);});$[b1["ID"]]=a1;this._updateOperationItems(i,$);if(j){var e1=this._getCurrentKeyFieldItem($.keyField);var f1=this._oTypeOperations["default"];if(e1){if(e1.type&&this._oTypeOperations[e1.type]){f1=this._oTypeOperations[e1.type];}if(e1.operations){f1=e1.operations;}}f1.some(function(p1,q1){if(j.operation===p1){a1.setSelectedKey(p1);return true;}},this);}else{if(this.getUsePrevConditionSetting()){if(p>0&&l===null){var w=i.getContent()[p-1];a1.setSelectedKey(w.operation.getSelectedKey());}}}}if(a1.getSelectedItem&&a1.getSelectedItem()){a1.setTooltip(a1.getSelectedItem().getTooltip()||a1.getSelectedItem().getText());}break;case"TextField":var g1=this._getCurrentKeyFieldItem($.keyField);a1=this._createValueField(g1,b1,$);a1.oTargetGrid=i;if(j&&j[b1["ID"]]!==undefined){var h1=j[b1["ID"]];if(a1 instanceof u){if(typeof h1==="boolean"){a1.setSelectedIndex(h1?2:1);}}else if(h1!==null&&$.oType){if(typeof h1==="string"&&$.oType.getName()==="sap.ui.comp.odata.type.StringDate"){a1.setValue(h1);}else{if(typeof h1==="string"&&["String","sap.ui.model.odata.type.String","sap.ui.model.odata.type.Decimal"].indexOf($.oType.getName())==-1){try{h1=$.oType.parseValue(h1,"string");a1.setValue($.oType.formatValue(h1,"string"));}catch(i1){E.error("sap.m.P13nConditionPanel","Value '"+h1+"' does not have the expected type format for "+$.oType.getName()+".parseValue()");}}else{a1.setValue($.oType.formatValue(h1,"string"));}}}else{a1.setValue(h1);}}break;case"Label":a1=new v({text:b1["Text"]+":",visible:this.getShowLabel(),layoutData:new P({span:b1["Span"+this._sConditionType]})}).addStyleClass("conditionLabel");a1.oTargetGrid=i;break;}$[b1["ID"]]=a1;$.addContent(a1);}n=new U({layoutData:new P({span:this.getLayoutMode()==="Desktop"?"L2 M2 S2":this._oButtonGroupSpan["Span"+this._sConditionType]})}).addStyleClass("floatRight");$.addContent(n);$["ButtonContainer"]=n;var j1=new k({type:G.Transparent,icon:I.getIconURI("sys-cancel"),tooltip:this._oRb.getText("CONDITIONPANEL_REMOVE"+(this._sAddRemoveIconTooltipKey?"_"+this._sAddRemoveIconTooltipKey:"")+"_TOOLTIP"),press:function(){Z._handleRemoveCondition(this.oTargetGrid,$);},layoutData:new P({span:this.getLayoutMode()==="Desktop"?"L1 M1 S1":"L1 M2 S2"})});j1.oTargetGrid=i;n.addContent(j1);$["remove"]=j1;var k1=new k({type:G.Transparent,icon:I.getIconURI("add"),tooltip:this._oRb.getText("CONDITIONPANEL_ADD"+(this._sAddRemoveIconTooltipKey?"_"+this._sAddRemoveIconTooltipKey:"")+"_TOOLTIP"),press:function(){Z._handleAddCondition(this.oTargetGrid,$);},layoutData:new P({span:this.getLayoutMode()==="Desktop"?"L1 M1 S1":"L1 M10 S10"})});k1.oTargetGrid=i;k1.addStyleClass("conditionAddBtnFloatRight");n.addContent(k1);$["add"]=k1;i.insertContent($,p);this._updateOperationItems(i,$);this._changeOperationValueFields(i,$);this._updateAllConditionsEnableStates();this._updateConditionButtons(i);if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(i,false);}if(this._sLayoutMode){this._updateLayout({name:this._sLayoutMode});}if(j){var l1=this._getFormatedConditionText(j.operation,j.value1,j.value2,j.exclude,j.keyField,j.showIfGrouped);j._oGrid=$;j.value=l1;this._oConditionsMap[l]=j;}var m1=$.operation.getSelectedKey();if(m1==="BT"&&$.value1.setMinDate&&$.value2.setMaxDate){var n1=$.value1.getDateValue();var o1=$.value2.getDateValue();this._updateMinMaxDate($,n1,o1);}else{this._updateMinMaxDate($,null,null);}return $;};X.prototype._handleRemoveCondition=function(i,j){var l=i.getContent().indexOf(j);this._removeCondition(i,j);if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(i,false);}if(l>=0){l=Math.min(l,i.getContent().length-1);var j=i.getContent()[l];setTimeout(function(){j.remove.focus();});}this._updatePaginatorToolbar();};X.prototype._handleAddCondition=function(i,j){var p=i.getContent().indexOf(j);var l=this._createConditionRow(i,undefined,null,p+1);this._changeField(l);setTimeout(function(){l.keyField.focus();});this._updatePaginatorToolbar();};X.prototype._getCurrentKeyFieldItem=function(i){if(i.getSelectedKey&&i.getSelectedKey()){var j=i.getSelectedKey();var l=this._aKeyFields;for(var n in l){var p=l[n];if(p.key===j){return p;}}}return null;};X.prototype._createValueField=function(j,n,p){var w;var Z;var $=this;var _={value:n["Value"],width:"100%",placeholder:n["Label"],change:function(i){$._validateAndFormatFieldValue(i);$._changeField(p);},layoutData:new P({span:n["Span"+this._sConditionType]})};if(j&&j.typeInstance){var a1=j.typeInstance;Z=this._findConfig(a1,"ctrl");if(Z==="DateTimePicker"&&a1.getMetadata().getName()==="sap.ui.model.odata.type.DateTime"){if(!(a1.oConstraints&&a1.oConstraints.isDateOnly)){E.error("sap.m.P13nConditionPanel","sap.ui.model.odata.type.DateTime without displayFormat = Date is not supported!");a1.oConstraints=Q.extend({},a1.oConstraints,{isDateOnly:true});}Z="DatePicker";}p.oType=a1;if(Z=="select"){var b1=[];var c1=j.values||this._oTypeValues[Z]||["",a1.formatValue(false,"string"),a1.formatValue(true,"string")];c1.forEach(function(i,e1){b1.push(new e({key:(e1===c1.length-1).toString(),text:i.toString()}));});_={width:"100%",items:b1,change:function(){$._changeField(p);},layoutData:new P({span:n["Span"+this._sConditionType]})};w=new u(_);}else if(Z=="TimePicker"){if(a1.oFormatOptions&&a1.oFormatOptions.style){_.displayFormat=a1.oFormatOptions.style;}w=new z(_);}else if(Z=="DateTimePicker"){if(a1.oFormatOptions&&a1.oFormatOptions.style){_.displayFormat=a1.oFormatOptions.style;}w=new A(_);}else if(Z=="DatePicker"){if(a1.oFormatOptions&&a1.oFormatOptions.style){_.displayFormat=a1.oFormatOptions.style;}w=new y(_);if(a1&&a1.getName()==="sap.ui.comp.odata.type.StringDate"){w.setValueFormat("yyyyMMdd");w.setDisplayFormat(a1.oFormatOptions.style||a1.oFormatOptions.pattern);}}else{w=new x(_);if(this._fSuggestCallback){j=this._getCurrentKeyFieldItem(p.keyField);if(j&&j.key){var d1=this._fSuggestCallback(w,j.key);if(d1){w._oSuggestProvider=d1;}}}}}else{p.oType=null;w=new x(_);}if(Z!=="boolean"&&Z!=="enum"&&w){w.onpaste=function(e1){var f1;if(window.clipboardData){f1=window.clipboardData.getData("Text");}else{f1=e1.originalEvent.clipboardData.getData('text/plain');}var p=e1.srcControl.getParent();var g1=f1.split(/\r\n|\r|\n/g);var h1=p.operation;var op=h1.getSelectedKey();if(g1&&g1.length>1&&op!=="BT"){setTimeout(function(){var i1=g1?g1.length:0;var j1=$._getCurrentKeyFieldItem(p.keyField);var h1=p.operation;for(var i=0;i<i1;i++){if($._aConditionKeys.length>=$._getMaxConditionsAsNumber()){break;}var k1=g1[i].trim();if(k1){var l1={"key":$._createConditionKey(),"exclude":$.getExclude(),"operation":h1.getSelectedKey(),"keyField":j1.key,"value1":k1,"value2":null};$._addCondition2Map(l1);$.fireDataChange({key:l1.key,index:l1.index,operation:"add",newData:l1});}}$._clearConditions();$._fillConditions();},0);}};}if(j&&j.maxLength&&w.setMaxLength){var l=-1;if(typeof j.maxLength==="string"){l=parseInt(j.maxLength);}if(typeof j.maxLength==="number"){l=j.maxLength;}if(l>0&&(!w.getShowSuggestion||!w.getShowSuggestion())){w.setMaxLength(l);}}return w;};X.prototype._fillOperationListItems=function(i,j,l){if(l==="_STRING_"){l="";}if(l==="_TIME_"||l==="_DATETIME_"){l="_DATE_";}if(l==="_BOOLEAN_"||l==="_NUMC_"){l="";}i.destroyItems();for(var n in j){var p=this._oRb.getText("CONDITIONPANEL_OPTION"+l+j[n]);if(p.startsWith("CONDITIONPANEL_OPTION")){p=this._oRb.getText("CONDITIONPANEL_OPTION"+j[n]);}i.addItem(new L({key:j[n],text:p,tooltip:p}));}};X.prototype._fillKeyFieldListItems=function(i,j){i.destroyItems();for(var l in j){var n=j[l];i.addItem(new L({key:n.key,text:n.text,tooltip:n.tooltip?n.tooltip:n.text}));}i.setEditable(i.getItems().length>1);};X.prototype._handleChangeOnOperationField=function(i,j){this._changeOperationValueFields(i,j);this._changeField(j);};X.prototype._handleSelectionChangeOnKeyField=function(i,j){if(this._sConditionType==="Filter"){this._updateOperationItems(i,j);this._createAndUpdateValueFields(i,j);this._changeOperationValueFields(i,j);}this._changeField(j);};X.prototype._handleChangeOnKeyField=function(i,j){if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(i,false,false,j.keyField);}};X.prototype._createAndUpdateAllKeyFields=function(){var i=this._oConditionsGrid.getContent();i.forEach(function(j){this._createAndUpdateValueFields(this._oConditionsGrid,j);this._changeOperationValueFields(this._oConditionsGrid,j);},this);};X.prototype._createAndUpdateValueFields=function(i,j){var l=this._getCurrentKeyFieldItem(j.keyField);var n=function(j,p,w){var Z=p.getValue?p.getValue():"";var $=j.indexOfContent(p);j.removeContent(p);if(p._oSuggestProvider){p._oSuggestProvider.destroy();p._oSuggestProvider=null;}p.destroy();var _=this._aConditionsFields[w];p=this._createValueField(l,_,j);j[_["ID"]]=p;j.insertContent(p,$===-1?j.indexOfContent(j.operation)+1:$);var a1,b1;if(j.oType&&Z){try{a1=j.oType.parseValue(Z,"string");j.oType.validateValue(a1);b1=j.oType.formatValue(a1,"string");p.setValue(b1);}catch(c1){var d1=c1.message;this._makeFieldValid(p,false,d1);p.setValue(Z);}}};Q.proxy(n,this)(j,j.value1,5);Q.proxy(n,this)(j,j.value2,6);};X.prototype._updateAllOperations=function(){var i=this._oConditionsGrid.getContent();i.forEach(function(j){this._updateOperationItems(this._oConditionsGrid,j);this._changeOperationValueFields(this._oConditionsGrid,j);},this);};X.prototype._updateOperationItems=function(i,j){var l="";var n=this._getCurrentKeyFieldItem(j.keyField);var p=j.operation;var w=this._oTypeOperations["default"];var Z=p.getSelectedItem();if(n){if(n.type&&n.type!==""&&this._oTypeOperations[n.type]){l=n.type;w=this._oTypeOperations[l];}if(n.operations){w=n.operations;}}this._fillOperationListItems(p,w,l?"_"+l.toUpperCase()+"_":"");if(Z&&p.getItemByKey(Z.getKey())){p.setSelectedKey(Z.getKey());}else{p.setSelectedItem(p.getItems()[0]);}this._sConditionType="Filter";if(w[0]===Y.Ascending||w[0]===Y.Descending){this._sConditionType="Sort";}if(w[0]===Y.GroupAscending||w[0]===Y.GroupDescending){this._sConditionType="Group";}this._adjustValue1Span(j);};X.prototype._updateKeyFieldItems=function(l,p,w,Z){var n=l.getContent().length;var i;var $={};if(!p){for(i=0;i<n;i++){var _=l.getContent()[i].keyField;var a1=_.getSelectedKey();if(a1!=null&&a1!==""){$[a1]=true;}}}for(i=0;i<n;i++){var _=l.getContent()[i].keyField;var b1=l.getContent()[i].select;var c1=_.getSelectedKey();var j=0;var d1=this._aKeyFields;if(_!==Z){if(w){j=d1.length-1;}else{_.destroyItems();}for(j;j<d1.length;j++){var e1=d1[j];if(e1.key==null||e1.key===""||!$[e1.key]||e1.key===c1){_.addItem(new L({key:e1.key,text:e1.text,tooltip:e1.tooltip?e1.tooltip:e1.text}));}}_.setEditable(_.getItems().length>1);}if(c1){_.setSelectedKey(c1);}else if(_.getItems().length>0){_.setSelectedItem(_.getItems()[0]);}if(!b1.getSelected()){this._aKeyFields.some(function(f1,g1){if(f1.isDefault){_.setSelectedItem(_.getItems()[g1]);return true;}if(!_.getSelectedItem()){if(f1.type!=="boolean"){_.setSelectedItem(_.getItems()[g1]);}}},this);}if(_.getSelectedItem()){_.setTooltip(_.getSelectedItem().getTooltip()||_.getSelectedItem().getText());}}};X.prototype._changeOperationValueFields=function(i,j){var l=j.operation;var n=l.getSelectedKey();var p=j.value1;var w=j.value2;var Z=j.showIfGrouped;if(!n){return;}if(n===Y.BT){if(p.setPlaceholder&&p.getPlaceholder()!==this._sFromLabelText){p.setPlaceholder(this._sFromLabelText);}if(!p.getVisible()){p.setVisible(true);j.insertContent(p,j.getContent().length-1);}if(w.setPlaceholder&&w.getPlaceholder()!==this._sToLabelText){w.setPlaceholder(this._sToLabelText);}if(!w.getVisible()){w.setVisible(true);j.insertContent(w,j.getContent().length-1);}}else{if(n===Y.GroupAscending||n===Y.GroupDescending){if(p.getVisible()){p.setVisible(false);j.removeContent(p);}if(w.getVisible()){w.setVisible(false);j.removeContent(w);}if(l.getVisible()){l.setVisible(false);j.removeContent(l);}Z.setVisible(this._getMaxConditionsAsNumber()!=1);}else{if(n===Y.NotEmpty||n===Y.Empty||n===Y.Initial||n===Y.Ascending||n===Y.Descending||n===Y.Total||n===Y.Average||n===Y.Minimum||n===Y.Maximum){if(p.getVisible()){p.setVisible(false);j.removeContent(p);}if(w.getVisible()){w.setVisible(false);j.removeContent(w);}j.removeContent(Z);}else{if(p.setPlaceholder&&p.getPlaceholder()!==this._sValueLabelText){p.setPlaceholder(this._sValueLabelText);}if(!p.getVisible()){p.setVisible(true);j.insertContent(p,j.getContent().length-1);}if(w.getVisible()){w.setVisible(false);j.removeContent(w);}}}}this._adjustValue1Span(j);};X.prototype._adjustValue1Span=function(i){if(this._sConditionType==="Filter"&&i.value1&&i.operation){var j=i.operation;var n=this._aConditionsFields[5]["Span"+this._sConditionType];if(j.getSelectedKey()!=="BT"){n="L5 M10 S10";}var l=i.value1.getLayoutData();if(l.getSpan()!==n){l.setSpan(n);}}};X.prototype._getIndexOfCondition=function(i){var j=-1;i.getParent().getContent().some(function(l){if(l.select.getSelected()){j++;}return(l===i);},this);return j+this._iFirstConditionIndex;};X.prototype._makeFieldValid=function(i,j,l){if(j){i.setValueState(V.None);i.setValueStateText("");}else{i.setValueState(V.Warning);i.setValueStateText(l?l:this._sValidationDialogFieldMessage);}};X.prototype._validateAndFormatFieldValue=function(i){var j=i.oSource;var l=j.getParent();var n;if(j.getDateValue&&i){n=i.getParameter("value");var p=i.getParameter("valid");this._makeFieldValid(j,p);return;}else{n=j.getValue&&j.getValue();}if(!l){return;}if(this.getDisplayFormat()==="UpperCase"&&n){n=n.toUpperCase();j.setValue(n);}if(l.oType&&n){try{var w=l.oType.parseValue(n,"string");l.oType.validateValue(w);this._makeFieldValid(j,true);n=l.oType.formatValue(w,"string");j.setValue(n);}catch(Z){var $=Z.message;this._makeFieldValid(j,false,$);}}else{this._makeFieldValid(j,true);}};X.prototype._updateMinMaxDate=function(i,j,l){if(i.value1.setMinDate&&i.value2.setMaxDate){if(i.value1&&i.value1.setMaxDate){i.value1.setMaxDate(l instanceof Date?l:null);}if(i.value2&&i.value2.setMinDate){i.value2.setMinDate(j instanceof Date?j:null);}}};X.prototype._changeField=function(i,j){var l=i.keyField.getSelectedKey();if(i.keyField.getSelectedItem()){i.keyField.setTooltip(i.keyField.getSelectedItem().getTooltip()||i.keyField.getSelectedItem().getText());}else{i.keyField.setTooltip(null);}var n=i.operation.getSelectedKey();if(i.operation.getSelectedItem()){i.operation.setTooltip(i.operation.getSelectedItem().getTooltip()||i.operation.getSelectedItem().getText());}else{i.operation.setTooltip(null);}var p=function(j1,k1){var f1;var l1;if(j1.getDateValue&&!(j1.isA("sap.m.TimePicker"))&&k1.getName()!=="sap.ui.comp.odata.type.StringDate"){l1=j1.getDateValue();if(k1&&l1){f1=k1.formatValue(l1,"string");}}else{f1=this._getValueTextFromField(j1);l1=f1;if(k1&&k1.getName()==="sap.ui.comp.odata.type.StringDate"){f1=k1.formatValue(l1,"string");}else if(k1&&f1){try{l1=k1.parseValue(f1,"string");k1.validateValue(l1);}catch(m1){f1="";E.error("sap.m.P13nConditionPanel","not able to parse value "+f1+" with type "+k1.getName());}}}return[l1,f1];}.bind(this);var w=p(i.value1,i.oType);var Z=w[0],$=w[1];w=p(i.value2,i.oType);var _=w[0],a1=w[1];if(n==="BT"){this._updateMinMaxDate(i,Z,_);}else{this._updateMinMaxDate(i,null,null);}var b1=this._getCurrentKeyFieldItem(i.keyField);if(b1&&b1.type==="numc"){if([Y.Contains,Y.EndsWith].indexOf(n)!=-1){Z=i.oType.formatValue(Z,"string");}}var c1=i.showIfGrouped.getSelected();var d1=this.getExclude();var e1=i.select;var f1="";var g1;if(l===""||l==null){l=null;g1=this._getKeyFromConditionGrid(i);this._removeConditionFromMap(g1);this._enableCondition(i,false);var h1=this._getIndexOfCondition(i);if(e1.getSelected()){e1.setSelected(false);e1.setEnabled(false);this._bIgnoreSetConditions=true;this.fireDataChange({key:g1,index:h1,operation:"remove",newData:null});this._bIgnoreSetConditions=false;}return;}this._enableCondition(i,true);f1=this._getFormatedConditionText(n,$,a1,d1,l,c1);var i1={"value":f1,"exclude":d1,"operation":n,"keyField":l,"value1":Z,"value2":n===Y.BT?_:null,"showIfGrouped":c1};g1=this._getKeyFromConditionGrid(i);if(f1!==""){e1.setSelected(true);e1.setEnabled(true);var n="update";if(!this._oConditionsMap[g1]){n="add";}this._oConditionsMap[g1]=i1;if(n==="add"){this._aConditionKeys.splice(this._getIndexOfCondition(i),0,g1);}i.data("_key",g1);this.fireDataChange({key:g1,index:this._getIndexOfCondition(i),operation:n,newData:i1});}else if(this._oConditionsMap[g1]!==undefined){this._removeConditionFromMap(g1);i.data("_key",null);var h1=this._getIndexOfCondition(i);if(e1.getSelected()){e1.setSelected(false);e1.setEnabled(false);this._bIgnoreSetConditions=true;this.fireDataChange({key:g1,index:h1,operation:"remove",newData:null});this._bIgnoreSetConditions=false;}}this._updatePaginatorToolbar();};X.prototype._getValueTextFromField=function(i){if(i instanceof u){return i.getSelectedItem()?i.getSelectedItem().getText():"";}return i.getValue();};X.prototype._updateAllConditionsEnableStates=function(){var i=this._oConditionsGrid.getContent();i.forEach(function(j){var l=this._getCurrentKeyFieldItem(j.keyField);var n=l&&l.key!==undefined?l.key:l;var p=n!==""&&n!==null;this._enableCondition(j,p);},this);};X.prototype._enableCondition=function(i,j){i.operation.setEnabled(j);i.value1.setEnabled(j);i.value2.setEnabled(j);i.showIfGrouped.setEnabled(j);};X.prototype._removeCondition=function(i,j){var l=this._getKeyFromConditionGrid(j);var n=-1;if(j.select.getSelected()){n=this._getIndexOfCondition(j);}this._removeConditionFromMap(l);j.destroy();if(i.getContent().length<1){this._createConditionRow(i);}else{this._updateConditionButtons(i);}if(n>=0){this.fireDataChange({key:l,index:n,operation:"remove",newData:null});}};X.prototype._updateConditionButtons=function(j){var l=this._getMaxConditionsAsNumber();var n=j.getContent().length;for(var i=0;i<n;i++){var p=j.getContent()[i].add;if((this.getAlwaysShowAddIcon()&&(n<l))||(i===n-1&&i<l-1)){p.removeStyleClass("displayNone");}else{p.addStyleClass("displayNone");}var w=j.getContent()[i].remove;if(l===1||(i===0&&n===1&&this.getDisableFirstRemoveIcon())){w.addStyleClass("displayNone");}else{w.removeStyleClass("displayNone");}}};X.prototype.validateConditions=function(){var j=this;var l=function(n){var p=true;for(var i=0;i<n.length;i++){var w=n[i];var Z=j._checkCondition(w,i===n.length-1);p=p&&Z;}return p;};return l(this._oConditionsGrid.getContent());};X.prototype.removeValidationErrors=function(){this._oConditionsGrid.getContent().forEach(function(i){var j=i.value1;var l=i.value2;j.setValueState(V.None);j.setValueStateText("");l.setValueState(V.None);l.setValueStateText("");},this);};X.prototype.removeInvalidConditions=function(){var i=[];this._oConditionsGrid.getContent().forEach(function(j){if(j.value1.getValueState()!==V.None||j.value2.getValueState()!==V.None){i.push(j);}},this);i.forEach(function(j){this._removeCondition(this._oConditionsGrid,j);if(this.getAutoReduceKeyFieldItems()){this._updateKeyFieldItems(this._oConditionsGrid,false);}},this);};X.prototype._checkCondition=function(i,j){var l=true;var n=i.value1;var p=i.value2;var w=n&&(n.getVisible()&&!this._getValueTextFromField(n));var Z=n&&n.getVisible()&&n.getValueState?n.getValueState():V.None;var $=p&&(p.getVisible()&&!this._getValueTextFromField(p));var _=p&&p.getVisible()&&p.getValueState?p.getValueState():V.None;var a1=i.operation.getSelectedKey();if(a1===Y.BT){if(!w?$:!$){if(w){n.setValueState(V.Warning);n.setValueStateText(this._sValidationDialogFieldMessage);}if($){p.setValueState(V.Warning);p.setValueStateText(this._sValidationDialogFieldMessage);}l=false;}else if(Z!==V.None||_!==V.None){l=false;}else{n.setValueState(V.None);n.setValueStateText("");p.setValueState(V.None);p.setValueStateText("");}}if((n.getVisible()&&n.getValueState&&n.getValueState()!==V.None)||(p.getVisible()&&p.getValueState&&p.getValueState()!==V.None)){l=false;}return l;};X.prototype._getFormatedConditionText=function(j,l,n,p,w,Z){var $=X.getFormatedConditionText(j,l,n,p);if(!$){switch(j){case Y.Initial:$="=''";break;case Y.NotEmpty:$="!''";break;case Y.Ascending:$="ascending";break;case Y.GroupAscending:$="ascending";$+=" showIfGrouped:"+Z;break;case Y.Descending:$="descending";break;case Y.GroupDescending:$="descending";$+=" showIfGrouped:"+Z;break;case Y.Total:$="total";break;case Y.Average:$="average";break;case Y.Minimum:$="minimum";break;case Y.Maximum:$="maximum";break;}if(p&&$!==""){$="!("+$+")";}}if(this._aKeyFields&&this._aKeyFields.length>1){var _=null;for(var i=0;i<this._aKeyFields.length;i++){var a1=this._aKeyFields[i];if(typeof a1!=="string"){if(a1.key===w&&a1.text){_=a1.text;}}}if(_&&$!==""){$=_+": "+$;}}return $;};var Y=sap.m.P13nConditionOperation={BT:"BT",EQ:"EQ",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",LT:"LT",LE:"LE",GT:"GT",GE:"GE",Initial:"Initial",Empty:"Empty",NotEmpty:"NotEmpty",Ascending:"Ascending",Descending:"Descending",GroupAscending:"GroupAscending",GroupDescending:"GroupDescending",Total:"Total",Average:"Average",Minimum:"Minimum",Maximum:"Maximum"};X._oConditionMap={"EQ":"=$0","GT":">$0","GE":">=$0","LT":"<$0","LE":"<=$0","Contains":"*$0*","StartsWith":"$0*","EndsWith":"*$0","BT":"$0...$1","Empty":"<$r>"};(function(){var _=sap.ui.getCore().getLibraryResourceBundle("sap.m");X._oConditionMap[Y.Empty]=X._oConditionMap[Y.Empty].replace("$r",_.getText("CONDITIONPANEL_OPTIONEmpty"));})();X._templateReplace=function(i,j){return i.replace(/\$\d/g,function(l){return j[parseInt(l.substr(1))];});};X.getFormatedConditionText=function(i,j,l,n){var p="";switch(i){case Y.Empty:p=X._templateReplace(X._oConditionMap[i],[]);break;case Y.EQ:case Y.GT:case Y.GE:case Y.LT:case Y.LE:case Y.Contains:case Y.StartsWith:case Y.EndsWith:if(j!==""&&j!==undefined){p=X._templateReplace(X._oConditionMap[i],[j]);}break;case Y.BT:if(j!==""&&j!==undefined){if(l!==""&&l!==undefined){p=X._templateReplace(X._oConditionMap[i],[j,l]);}}break;default:break;}if(n&&p!==""){p="!("+p+")";}return p;};X.prototype._updateLayout=function(j){if(!this._oConditionsGrid){return;}var l=this._oConditionsGrid.getContent();var n=this._aConditionsFields.length;var p=n;if(j.name==="Tablet"){p=5;}if(j.name==="Phone"){p=3;}if(this._sConditionType==="Filter"){for(var i=0;i<l.length;i++){var w=l[i];w.ButtonContainer.removeStyleClass("floatRight");w.removeContent(w.ButtonContainer);w.insertContent(w.ButtonContainer,p);if(!this.getAlwaysShowAddIcon()){if(p!==n){w.ButtonContainer.removeContent(w.add);w.addContent(w.add);}else{w.removeContent(w.add);w.ButtonContainer.addContent(w.add);}}}}};X.prototype._onGridResize=function(){if(this._oPaginatorToolbar&&this._oConditionsGrid&&this._oConditionsGrid.getContent().length>0){var i=this._oConditionsGrid.getContent()[0];if(i.remove&&i.remove.$().position()){var w=0;if(this._oPaginatorToolbar.getParent()&&this._oPaginatorToolbar.getParent().getExpandable&&this._oPaginatorToolbar.getParent().getExpandable()){w=48-4;}var j=i.remove.$().position().left-w+i.remove.$().width();this._oPaginatorToolbar.setWidth(j+"px");}}var l=this._oConditionsGrid.getDomRef();if(!l){return;}if(!Q(l).is(":visible")){return;}var w=l.clientWidth;var n={};if(w<=this._iBreakPointTablet){n.name="Phone";}else if((w>this._iBreakPointTablet)&&(w<=this._iBreakPointDesktop)){n.name="Tablet";}else{n.name="Desktop";}if(n.name==="Phone"&&this._sLayoutMode!==n.name){this._updateLayout(n);this._sLayoutMode=n.name;}if(n.name==="Tablet"&&this._sLayoutMode!==n.name){this._updateLayout(n);this._sLayoutMode=n.name;}if(n.name==="Desktop"&&this._sLayoutMode!==n.name){this._updateLayout(n);this._sLayoutMode=n.name;}};X.prototype._findConfig=function(i,j){if(typeof i==="object"){i=i.getMetadata().getName();}var l;while(i&&!(l=this._getConfig(i,j))){i=this._getParentType(i);}return l;};X.prototype._getConfig=function(i,j){var l=this._mOpsForType[i];if(l){return l[j];}};X.prototype._getParentType=function(i){return this._mTypes[i];};X.prototype._mTypes={"base":undefined,"string":"base","numeric":"base","date":"base","time":"base","boolean":"base","int":"numeric","float":"numeric","sap.ui.model.type.Boolean":"boolean","sap.ui.model.type.Date":"date","sap.ui.model.type.FileSize":"string","sap.ui.model.type.Float":"float","sap.ui.model.type.Integer":"int","sap.ui.model.type.String":"string","sap.ui.model.type.Time":"time","sap.ui.comp.odata.type.StringDate":"date","sap.ui.model.odata.type.Boolean":"boolean","sap.ui.model.odata.type.Byte":"int","sap.ui.model.odata.type.Date":"date","sap.ui.model.odata.type.DateTime":"datetime","sap.ui.model.odata.type.DateTimeOffset":"datetime","sap.ui.model.odata.type.Decimal":"float","sap.ui.model.odata.type.Double":"float","sap.ui.model.odata.type.Single":"float","sap.ui.model.odata.type.Guid":"string","sap.ui.model.odata.type.Int16":"int","sap.ui.model.odata.type.Int32":"int","sap.ui.model.odata.type.Int64":"int","sap.ui.model.odata.type.Raw":"string","sap.ui.model.odata.type.SByte":"int","sap.ui.model.odata.type.String":"string","sap.ui.model.odata.type.Time":"time","sap.ui.model.odata.type.TimeOfDay":"time","Edm.Boolean":"sap.ui.model.odata.type.Boolean","Edm.Byte":"sap.ui.model.odata.type.Byte","Edm.Date":"sap.ui.model.odata.type.Date","Edm.DateTime":"sap.ui.model.odata.type.DateTime","Edm.DateTimeOffset":"sap.ui.model.odata.type.DateTimeOffset","Edm.Decimal":"sap.ui.model.odata.type.Decimal","Edm.Double":"sap.ui.model.odata.type.Double","Edm.Single":"sap.ui.model.odata.type.Single","Edm.Guid":"sap.ui.model.odata.type.Guid","Edm.Int16":"sap.ui.model.odata.type.Int16","Edm.Int32":"sap.ui.model.odata.type.Int32","Edm.Int64":"sap.ui.model.odata.type.Int64","Edm.SByte":"sap.ui.model.odata.type.SByte","Edm.String":"sap.ui.model.odata.type.String","Edm.Time":"sap.ui.model.odata.type.Time","Edm.TimeOfDay":"sap.ui.model.odata.type.TimeOfDay"};X.prototype._mOpsForType={"base":{ctrl:"input"},"string":{ctrl:"input"},"date":{ctrl:"DatePicker"},"datetime":{ctrl:"DateTimePicker"},"numeric":{ctrl:"input"},"time":{ctrl:"TimePicker"},"boolean":{ctrl:"select"}};return X;});
sap.ui.predefine('sap/m/P13nDialog',['./Dialog','./library','sap/ui/core/EnabledPropagator','./DialogRenderer','sap/ui/core/library','sap/ui/Device','./Bar','./Button','./Title','sap/m/OverflowToolbarLayoutData','sap/ui/base/ManagedObjectObserver',"sap/ui/thirdparty/jquery","sap/base/Log"],function(D,l,E,a,c,b,B,d,T,O,M,q,L){"use strict";var e=l.OverflowToolbarPriority;var f=l.ListType;var P=l.P13nPanelType;var g=l.ListMode;var h=c.MessageType;var j=l.ButtonType;var N;var k;var m=D.extend("sap.m.P13nDialog",{metadata:{library:"sap.m",properties:{initialVisiblePanelType:{type:"string",group:"Misc",defaultValue:null},showReset:{type:"boolean",group:"Appearance",defaultValue:false},showResetEnabled:{type:"boolean",group:"Appearance",defaultValue:false},validationExecutor:{type:"object",group:"Misc",defaultValue:null}},aggregations:{panels:{type:"sap.m.P13nPanel",multiple:true,singularName:"panel",bindable:"bindable"}},events:{ok:{},cancel:{},reset:{}}},renderer:function(r,C){a.render.apply(this,arguments);var i=C._getVisiblePanelID();var p=C.getVisiblePanel();if(i&&p){r.write("<div");r.writeAttribute("id",i);r.write(">");r.renderControl(p);r.write("</div>");}}});E.apply(m.prototype,[true]);m.prototype.init=function(o){this.addStyleClass("sapMP13nDialog");D.prototype.init.apply(this,arguments);this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._mValidationListener={};this._createDialog();this._mVisibleNavigationItems={};this._bNavigationControlsPromiseResolved=false;this._oNavigationControlsPromise=this._requestRequiredNavigationControls();this._oObserver=new M(_.bind(this));this._oObserver.observe(this,{properties:["showReset","showResetEnabled"],aggregations:["panels"]});};m.prototype.setShowResetEnabled=function(i){return this.setProperty("showResetEnabled",i,true);};m.prototype._createDialog=function(){if(b.system.phone){var t=this;this.setStretch(true);this.setVerticalScrolling(false);this.setHorizontalScrolling(false);this.setCustomHeader(new B(this.getId()+"-phoneHeader",{contentLeft:new d(this.getId()+"-backToList",{visible:false,type:j.Back,press:function(){t._backToList();}}),contentMiddle:new T(this.getId()+"-phoneTitle",{text:this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS"),level:"H2"})}));this.addButton(this._createOKButton());this.addButton(this._createCancelButton());this.addButton(this._createResetButton());}else{this.setHorizontalScrolling(false);this.setContentWidth("65rem");this.setContentHeight("40rem");this.setDraggable(true);this.setResizable(true);this.setTitle(this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS"));this.addButton(this._createOKButton());this.addButton(this._createCancelButton());this.addButton(this._createResetButton());}};m.prototype._showValidationDialog=function(C,F,v){var w=[];var i=[];this._prepareMessages(F,v,w,i);var t=this;return new Promise(function(r){sap.ui.require(["sap/m/MessageBox"],function(n){var s="";if(i.length){i.forEach(function(o,I,p){s=(p.length>1?"• ":"")+o.messageText+"\n"+s;});n.show(s,{icon:n.Icon.ERROR,title:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_TITLE_ERROR"),actions:[n.Action.CLOSE],styleClass:t.$().closest(".sapUiSizeCompact").length?"sapUiSizeCompact":""});}else if(w.length){w.forEach(function(o,I,p){s=(p.length>1?"• ":"")+o.messageText+"\n"+s;});s=s+sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_MESSAGE_QUESTION");n.show(s,{icon:n.Icon.WARNING,title:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_TITLE"),actions:[sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_FIX"),n.Action.IGNORE],onClose:function(A){if(A===n.Action.IGNORE){C();}},styleClass:t.$().closest(".sapUiSizeCompact").length?"sapUiSizeCompact":""});}r();});});};m.prototype._prepareMessages=function(F,v,w,n){if(!F.length&&!v.length){return;}F.forEach(function(p){switch(p){case P.filter:v.push({messageType:h.Warning,messageText:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VALIDATION_MESSAGE")});break;case P.columns:v.push({messageType:h.Warning,messageText:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_VISIBLE_ITEMS_THRESHOLD_MESSAGE")});break;default:L.error("Panel type '"+p+"' is not supported jet.");}});var u=v.filter(function(o,I,p){for(var i=++I;i<p.length;i++){if(o.messageText===p[i].messageText){return false;}}return true;});u.forEach(function(o){if(o.messageType===h.Warning){w.push(o);}else if(o.messageType===h.Error){n.push(o);}});};m.prototype._mapPanelToNavigationItem=function(p){if(!p){return null;}return b.system.phone?new k(p.getId()+"-navItem",{type:f.Navigation,title:p.getTitle()}):new k(p.getId()+"-navItem",{text:p.getTitle()});};m.prototype._switchPanel=function(n){var p=this._getPanelByNavigationItem(n);this.setVerticalScrolling(p.getVerticalScrolling());if(b.system.phone){var o=this._getNavigationControl();if(o){o.setVisible(false);p.beforeNavigationTo();p.setVisible(true);this.getCustomHeader().getContentMiddle()[0].setText(p.getTitle());this.getCustomHeader().getContentLeft()[0].setVisible(true);}}else{this.getPanels().forEach(function(i){if(i===p){i.beforeNavigationTo();i.setVisible(true);}else{i.setVisible(false);}},this);}this.invalidate();this.rerender();};m.prototype._backToList=function(){var n=this._getNavigationControl();if(n){n.setVisible(true);var p=this.getVisiblePanel();p.setVisible(false);this._updateDialogTitle();this.getCustomHeader().getContentLeft()[0].setVisible(false);}};m.prototype.getVisiblePanel=function(){var p=null;this.getPanels().some(function(o){if(o.getVisible()){p=o;return true;}});return p;};m.prototype._getVisiblePanelID=function(){var p=this.getVisiblePanel();if(p){return this.getId()+"-panel_"+p.getId();}return null;};m.prototype._getPanelByNavigationItem=function(n){for(var i=0,p=this.getPanels(),o=p.length;i<o;i++){if(this._getNavigationItemByPanel(p[i])===n){return p[i];}}return null;};m.prototype._getNavigationItemByPanel=function(p){return p?p.data("sapMP13nDialogNavigationItem"):null;};m.prototype.onAfterRendering=function(){D.prototype.onAfterRendering.apply(this,arguments);var C=q(this.getFocusDomRef()).find(".sapMDialogScrollCont");var i=this._getVisiblePanelID();if(i&&C){var p=q(document.getElementById(i));p.appendTo(q(C));}};m.prototype._updateDialogTitle=function(){var p=this.getVisiblePanel();var t=this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS");if(!this._isNavigationControlExpected()&&p){switch(p.getType()){case P.filter:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_FILTER");break;case P.sort:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_SORT");break;case P.group:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_GROUP");break;case P.columns:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_COLUMNS");break;case P.dimeasure:t=this._oResourceBundle.getText("P13NDIALOG_TITLE_DIMEASURE");break;default:t=p.getTitleLarge()||this._oResourceBundle.getText("P13NDIALOG_VIEW_SETTINGS");}}if(b.system.phone){this.getCustomHeader().getContentMiddle()[0].setText(t);}else{this.setTitle(t);}};m.prototype._registerValidationListener=function(p,C){if(this.getPanels().indexOf(p)&&C&&this._mValidationListener[p.getType()]===undefined){this._mValidationListener[p.getType()]=C;}};m.prototype._callValidationExecutor=function(){var v=this.getValidationExecutor();if(v&&!q.isEmptyObject(this._mValidationListener)){var t=this;v(this._getPayloadOfPanels()).then(function(V){var r=t._distributeValidationResult(V);for(var s in t._mValidationListener){var C=t._mValidationListener[s];C(r[s]||[]);}});}};m.prototype._distributeValidationResult=function(r){var o={};r.forEach(function(R){R.panelTypes.forEach(function(t){if(o[t]===undefined){o[t]=[];}o[t].push({columnKey:R.columnKey,messageType:R.messageType,messageText:R.messageText});});});return o;};m.prototype._createOKButton=function(){var t=this;return new d(this.getId()+"-ok",{type:j.Emphasized,text:this._oResourceBundle.getText("P13NDIALOG_OK"),layoutData:new O({priority:e.NeverOverflow}),press:function(){t.setBusy(true);var p=t._getPayloadOfPanels();var F=function(){t.setBusy(false);t.fireOk({payload:p});};var i=[];var C=function(){t.getPanels().forEach(function(o){if(i.indexOf(o.getType())>-1){o.onAfterNavigationFrom();}});F();};t.getPanels().forEach(function(o){if(!o.onBeforeNavigationFrom()){i.push(o.getType());}});var v=[];var V=t.getValidationExecutor();if(V){V(p).then(function(v){if(i.length||v.length){t.setBusy(false);t._showValidationDialog(C,i,v);}else{F();}});}else{if(i.length||v.length){t.setBusy(false);t._showValidationDialog(C,i,v);}else{F();}}}});};m.prototype._createCancelButton=function(){var t=this;return new d(this.getId()+"-cancel",{text:this._oResourceBundle.getText("P13NDIALOG_CANCEL"),layoutData:new O({priority:e.NeverOverflow}),press:function(){t.fireCancel();}});};m.prototype._createResetButton=function(){var t=this;return new d(this.getId()+"-reset",{text:this._oResourceBundle.getText("P13NDIALOG_RESET"),layoutData:new O({priority:e.NeverOverflow}),visible:this.getShowReset(),enabled:this.getShowResetEnabled(),press:function(){t.setShowResetEnabled(false);var p={};t.getPanels().forEach(function(o){p[o.getType()]=o.getResetPayload();});t.fireReset({payload:p});}});};m.prototype._getPayloadOfPanels=function(){var p={};this.getPanels().forEach(function(o){p[o.getType()]=o.getOkPayload();});return p;};m.prototype.exit=function(){D.prototype.exit.apply(this,arguments);this._oObserver.disconnect();this._oObserver=undefined;this._mValidationListener={};this._mVisibleNavigationItems={};this._oNavigationControlsPromise=null;};m.prototype._isInstanceOf=function(o,s){var C=sap.ui.require(s);return o&&typeof C==='function'&&(o instanceof C);};function _(C){if(this._isInstanceOf(C.object,"sap/m/P13nDialog")){var i;switch(C.name){case"panels":var p=C.child?[C.child]:C.children;p.forEach(function(o){switch(C.mutation){case"insert":this._mVisibleNavigationItems[o.getType()]=o.getVisible();o.setVisible(false);o.beforeNavigationTo();this._oObserver.observe(o,{properties:["title"]});o.setValidationExecutor(q.proxy(this._callValidationExecutor,this));o.setValidationListener(q.proxy(this._registerValidationListener,this));break;case"remove":delete this._mVisibleNavigationItems[o.getType()];this._oObserver.unobserve(o);o.setValidationExecutor();o.setValidationListener();break;default:L.error("Mutation '"+C.mutation+"' is not supported jet.");}},this);if(this._bNavigationControlsPromiseResolved){this._updateDialog();}else{this._oNavigationControlsPromise.then(function(){this._updateDialog();}.bind(this));}break;case"showReset":i=this.getButtons();if(i.length>1){i[2].setVisible(C.current);}break;case"showResetEnabled":i=this.getButtons();if(i.length>1){i[2].setEnabled(C.current);i[2].invalidate();}break;default:L.error("The property or aggregation '"+C.name+"' has not been registered.");}}else if(this._isInstanceOf(C.object,"sap/m/P13nPanel")){if(C.name==="title"){var I=this._getNavigationItemByPanel(C.object);if(I){if(b.system.phone){I.setTitle(C.current);}else{I.setText(C.current);}}}}}m.prototype._isNavigationControlExpected=function(){return this._getCountOfVisibleNavigationItems()>1;};m.prototype._getCountOfVisibleNavigationItems=function(){var C=0;for(var t in this._mVisibleNavigationItems){C=this._mVisibleNavigationItems[t]?C+1:C;}return C;};m.prototype._isNavigationControlExists=function(){return b.system.phone?this.getContent().length>0:(!!this.getSubHeader()&&this.getSubHeader().getContentLeft().length>0);};m.prototype._getNavigationControl=function(){if(!this._isNavigationControlExists()){this._createNavigationControl();}return b.system.phone?this.getContent()[0]:this.getSubHeader().getContentLeft()[0];};m.prototype._setVisibleOfNavigationControl=function(v){if(!this._isNavigationControlExists()){return;}return b.system.phone?this.getContent()[0].setVisible(v):this.getSubHeader().setVisible(v);};m.prototype._createNavigationControl=function(){if(b.system.phone){this.addContent(new N(this.getId()+"-navigationItems",{mode:g.None,itemPress:function(o){this._switchPanel(o.getParameter("listItem"));}.bind(this)}));}else{this.setSubHeader(new B(this.getId()+"-navigationBar",{contentLeft:new N(this.getId()+"-navigationItems",{width:'100%',selectionChange:function(o){this._switchPanel(o.getParameter("item"));}.bind(this)})}));}return this._getNavigationControl();};m.prototype._updateDialog=function(){var n=this._getNavigationControl();n.destroyItems();var i=this._determineInitialVisiblePanelType();this.getPanels().forEach(function(p){var o=this._mapPanelToNavigationItem(p);p.data("sapMP13nDialogNavigationItem",o);n.addItem(o);var v=b.system.phone?this._mVisibleNavigationItems[p.getType()]&&this._getCountOfVisibleNavigationItems()===1:this._mVisibleNavigationItems[p.getType()]&&i===p.getType();p.setVisible(v);if(v){if(!b.system.phone){this.setVerticalScrolling(p.getVerticalScrolling());}}o.setVisible(this._mVisibleNavigationItems[p.getType()]);if(v&&n.setSelectedItem){n.setSelectedItem(o);}}.bind(this));this._updateDialogTitle();this._setVisibleOfNavigationControl(this._isNavigationControlExpected());};m.prototype._determineInitialVisiblePanelType=function(){if(this.getInitialVisiblePanelType()&&this._mVisibleNavigationItems[this.getInitialVisiblePanelType()]){return this.getInitialVisiblePanelType();}var t;this.getPanels().some(function(p){if(this._mVisibleNavigationItems[p.getType()]){t=p.getType();return true;}}.bind(this));return t;};m.prototype._requestRequiredNavigationControls=function(){var n=b.system.phone?"sap/m/List":"sap/m/SegmentedButton";var s=b.system.phone?"sap/m/StandardListItem":"sap/m/SegmentedButtonItem";N=sap.ui.require(n);k=sap.ui.require(s);if(N&&k){this._bNavigationControlsPromiseResolved=true;return Promise.resolve();}if(!this._oNavigationControlsPromise){this._oNavigationControlsPromise=new Promise(function(r){sap.ui.require([n,s],function(i,o){N=i;k=o;this._bNavigationControlsPromiseResolved=true;return r();}.bind(this));}.bind(this));}return this._oNavigationControlsPromise;};return m;});
sap.ui.predefine('sap/m/P13nDimMeasureItem',['./library','sap/ui/core/Item'],function(l,I){"use strict";var P=I.extend("sap.m.P13nDimMeasureItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string"},index:{type:"int",defaultValue:-1},visible:{type:"boolean"},role:{type:"string"}}}});return P;});
sap.ui.predefine('sap/m/P13nDimMeasurePanel',['./library','./P13nPanel','./P13nDimMeasureItem','./SearchField','./Table','./Column','./ColumnListItem','./ScrollContainer','./Text','./Select','./ComboBox','./Button','./OverflowToolbar','./OverflowToolbarLayoutData','./OverflowToolbarButton','./ToolbarSpacer','sap/ui/core/library','sap/ui/model/ChangeReason','sap/ui/model/json/JSONModel','sap/ui/model/BindingMode','sap/ui/core/ResizeHandler','sap/ui/core/Item','sap/ui/core/InvisibleText','sap/ui/core/IconPool',"sap/ui/thirdparty/jquery"],function(l,P,c,S,T,C,d,e,f,g,h,B,O,i,j,k,m,n,J,o,R,I,p,q,Q){"use strict";var r=l.OverflowToolbarPriority;var s=l.ButtonType;var t=l.ToolbarDesign;var L=l.ListType;var u=l.ListMode;var v=l.P13nPanelType;var w=P.extend("sap.m.P13nDimMeasurePanel",{metadata:{library:"sap.m",properties:{chartTypeKey:{type:"string",defaultValue:""}},aggregations:{dimMeasureItems:{type:"sap.m.P13nDimMeasureItem",multiple:true,singularName:"dimMeasureItem",bindable:"bindable"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},availableChartTypes:{type:"sap.ui.core.Item",multiple:true,singularName:"availableChartType"}},events:{changeDimMeasureItems:{},changeChartType:{}}},renderer:function(a,b){a.write("<div");a.writeControlData(b);a.addClass("sapMP13nColumnsPanel");a.writeClasses();a.write(">");var x=b.getAggregation("content");if(x){x.forEach(function(y){a.renderControl(y);});}a.write("</div>");}});w.prototype.init=function(){var a=this;this._iLiveChangeTimer=0;this._iSearchTimer=0;this._bIgnoreUpdateInternalModel=false;this._bUpdateInternalModel=true;this._bOnAfterRenderingFirstTimeExecuted=false;var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");this.oAvailableRoleTypes={Dimension:[{key:"category",text:b.getText('COLUMNSPANEL_CHARTROLE_CATEGORY')},{key:"category2",text:b.getText('COLUMNSPANEL_CHARTROLE_CATEGORY2')},{key:"series",text:b.getText('COLUMNSPANEL_CHARTROLE_SERIES')}],Measure:[{key:"axis1",text:b.getText('COLUMNSPANEL_CHARTROLE_AXIS1')},{key:"axis2",text:b.getText('COLUMNSPANEL_CHARTROLE_AXIS2')},{key:"axis3",text:b.getText('COLUMNSPANEL_CHARTROLE_AXIS3')},{key:"axis4",text:b.getText('COLUMNSPANEL_CHARTROLE_AXIS4')}]};var M=new J({availableChartTypes:[],selectedChartTypeKey:null,items:[],columnKeyOfMarkedItem:undefined,isMoveDownButtonEnabled:undefined,isMoveUpButtonEnabled:undefined,showOnlySelectedItems:undefined,countOfSelectedItems:0,countOfItems:0});M.setDefaultBindingMode(o.TwoWay);M.setSizeLimit(1000);this.setModel(M,"$sapmP13nDimMeasurePanel");this.setType(v.dimeasure);this.setTitle(b.getText("CHARTPANEL_TITLE"));this._createTable();this._createToolbar();this.setVerticalScrolling(false);var x=new e({horizontal:false,vertical:true,content:[this._oTable],width:'100%',height:'100%'});this.addAggregation("content",x);this._fnHandleResize=function(){var y=false,z,A;if(a.getParent){var $=null,D,H;var E=a.getParent();var F=a._getToolbar();if(E&&E.$){$=E.$("cont");if($.children().length>0&&F.$().length>0){z=x.$()[0].clientHeight;D=$.children()[0].clientHeight;H=F?F.$()[0].clientHeight:0;A=D-H;if(z!==A){x.setHeight(A+'px');y=true;}}}}return y;};this._sContainerResizeListener=R.register(x,this._fnHandleResize);};w.prototype.onBeforeRendering=function(){this._updateInternalModel();if(!this._getInternalModel().getProperty("/columnKeyOfMarkedItem")){this._setColumnKeyOfMarkedItem(this._getColumnKeyByTableItem(this._getVisibleTableItems()[0]));}this._switchMarkedTableItemTo(this._getTableItemByColumnKey(this._getInternalModel().getProperty("/columnKeyOfMarkedItem")));this._updateControlLogic();};w.prototype.onAfterRendering=function(){var a=this;if(!this._bOnAfterRenderingFirstTimeExecuted){this._bOnAfterRenderingFirstTimeExecuted=true;window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=window.setTimeout(function(){a._fnHandleResize();a._getToolbar()._resetAndInvalidateToolbar();},0);}};w.prototype.getOkPayload=function(){this._updateInternalModel();this._getInternalModel().getProperty("/items").forEach(function(M){if(this._getDimMeasureItemByColumnKey(M.columnKey)){return;}if(!M.persistentSelected){return;}this.addAggregation("dimMeasureItems",new c({columnKey:M.columnKey,visible:M.persistentSelected,index:M.persistentIndex===-1?undefined:M.persistentIndex,role:M.role}));},this);return{dimMeasureItems:this.getDimMeasureItems(),chartTypeKey:this.getChartTypeKey()};};w.prototype.exit=function(){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;this._getToolbar().destroy();this._oTable.destroy();this._oTable=null;if(this._getInternalModel()){this._getInternalModel().destroy();}if(this.oInvisibleChartTypeText){this.oInvisibleChartTypeText.destroy();this.oInvisibleChartTypeText=null;}window.clearTimeout(this._iLiveChangeTimer);window.clearTimeout(this._iSearchTimer);};w.prototype.addItem=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("items",a);return this;};w.prototype.insertItem=function(a,b){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("items",a,b);return this;};w.prototype.removeItem=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}a=this.removeAggregation("items",a);return a;};w.prototype.removeAllItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("items");};w.prototype.destroyItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("items");return this;};w.prototype.addDimMeasureItem=function(D){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("dimMeasureItems",D);return this;};w.prototype.insertDimMeasureItem=function(D,a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("dimMeasureItems",D,a);return this;};w.prototype.updateDimMeasureItems=function(a){this.updateAggregation("dimMeasureItems");if(a===n.Change&&!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}};w.prototype.removeDimMeasureItem=function(D){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAggregation("dimMeasureItems",D);};w.prototype.removeAllDimMeasureItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("dimMeasureItems");};w.prototype.destroyDimMeasureItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("dimMeasureItems");return this;};w.prototype.setChartTypeKey=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.setProperty("chartTypeKey",a);return this;};w.prototype.addAvailableChartType=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("availableChartTypes",a);return this;};w.prototype.insertAvailableChartType=function(a,b){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("availableChartTypes",a,b);return this;};w.prototype.removeAvailableChartType=function(a){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAggregation("availableChartTypes",a);};w.prototype.removeAllAvailableChartType=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("availableChartTypes");};w.prototype.destroyAvailableChartType=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("availableChartTypes");return this;};w.prototype._notifyChange=function(){var a=this.getChangeNotifier();if(a){a(this);}};w.prototype._scrollToSelectedItem=function(a){if(!a){return;}sap.ui.getCore().applyChanges();if(!!a.getDomRef()){a.focus();}};w.prototype._getInternalModel=function(){return this.getModel("$sapmP13nDimMeasurePanel");};w.prototype._createTable=function(){var a=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._oTable=new T({mode:u.MultiSelect,rememberSelections:false,itemPress:Q.proxy(this._onItemPressed,this),selectionChange:Q.proxy(this._onSelectionChange,this),columns:[new C({vAlign:m.VerticalAlign.Middle,header:new f({text:{parts:[{path:'/countOfSelectedItems'},{path:'/countOfItems'}],formatter:function(b,x){return a.getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[b,x]);}}})}),new C({vAlign:m.VerticalAlign.Middle,header:new f({text:a.getText('COLUMNSPANEL_COLUMN_TYPE')})}),new C({vAlign:m.VerticalAlign.Middle,header:new f({text:a.getText('COLUMNSPANEL_COLUMN_ROLE')})})],items:{path:"/items",templateShareable:false,template:new d({cells:[new f({text:"{text}"}),new f({text:{path:'',formatter:function(M){if(M.aggregationRole==="Dimension"){return a.getText('COLUMNSPANEL_TYPE_DIMENSION');}if(M.aggregationRole==="Measure"){return a.getText('COLUMNSPANEL_TYPE_MEASURE');}}}}),new g({selectedKey:"{role}",items:{path:'availableRoleTypes',factory:function(b,x){var A=x.getObject();return new I({key:A.key,text:A.text});}},change:Q.proxy(this._onRoleChange,this)})],visible:"{visible}",selected:"{persistentSelected}",tooltip:"{tooltip}",type:L.Active})}});this._oTable.setModel(this._getInternalModel());};w.prototype._createToolbar=function(){var a=this;var b=sap.ui.getCore().getLibraryResourceBundle("sap.m");var x=new p({text:b.getText('COLUMNSPANEL_CHARTTYPE')});this.oInvisibleChartTypeText=x;var y=new h({placeholder:x.getText(),selectedKey:{path:'/selectedChartTypeKey'},ariaLabelledBy:x,items:{path:'/availableChartTypes',templateShareable:false,template:new I({key:"{key}",text:"{text}"})},selectionChange:Q.proxy(this._onChartTypeChange,this),layoutData:new i({moveToOverflow:false,stayInOverflow:false})});var z=new O(this.getId()+"-toolbar",{design:t.Auto,content:[x,y,new k(),new S(this.getId()+"-searchField",{liveChange:function(E){var V=E.getSource().getValue(),D=(V?300:0);window.clearTimeout(a._iSearchTimer);if(D){a._iSearchTimer=window.setTimeout(function(){a._onExecuteSearch();},D);}else{a._onExecuteSearch();}},search:Q.proxy(this._onExecuteSearch,this),layoutData:new i({minWidth:"12.5rem",maxWidth:"23.077rem",shrinkable:true,moveToOverflow:false,stayInOverflow:false})}),new B({text:{path:'/showOnlySelectedItems',formatter:function(A){return A?b.getText('COLUMNSPANEL_SHOW_ALL'):b.getText('COLUMNSPANEL_SHOW_SELECTED');}},tooltip:{path:'/showOnlySelectedItems',formatter:function(A){return A?b.getText('COLUMNSPANEL_SHOW_ALL'):b.getText('COLUMNSPANEL_SHOW_SELECTED');}},type:s.Transparent,press:Q.proxy(this._onSwitchButtonShowSelected,this),layoutData:new i({moveToOverflow:true,priority:r.High})}),new j({icon:q.getIconURI("collapse-group"),text:b.getText('COLUMNSPANEL_MOVE_TO_TOP'),tooltip:b.getText('COLUMNSPANEL_MOVE_TO_TOP'),type:s.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:Q.proxy(this.onPressButtonMoveToTop,this),layoutData:new i({moveToOverflow:true,priority:r.Low,group:2})}),new j({icon:q.getIconURI("slim-arrow-up"),text:b.getText('COLUMNSPANEL_MOVE_UP'),tooltip:b.getText('COLUMNSPANEL_MOVE_UP'),type:s.Transparent,enabled:{path:'/isMoveUpButtonEnabled'},press:Q.proxy(this.onPressButtonMoveUp,this),layoutData:new i({moveToOverflow:true,priority:r.High,group:1})}),new j({icon:q.getIconURI("slim-arrow-down"),text:b.getText('COLUMNSPANEL_MOVE_DOWN'),tooltip:b.getText('COLUMNSPANEL_MOVE_DOWN'),type:s.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:Q.proxy(this.onPressButtonMoveDown,this),layoutData:new i({moveToOverflow:true,priority:r.High,group:1})}),new j({icon:q.getIconURI("expand-group"),text:b.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),tooltip:b.getText('COLUMNSPANEL_MOVE_TO_BOTTOM'),type:s.Transparent,enabled:{path:'/isMoveDownButtonEnabled'},press:Q.proxy(this.onPressButtonMoveToBottom,this),layoutData:new i({moveToOverflow:true,priority:r.Low,group:2})})]});z.setModel(this._getInternalModel());this.addAggregation("content",z);};w.prototype.onPressButtonMoveToTop=function(){this._moveMarkedTableItem(this._getMarkedTableItem(),this._getVisibleTableItems()[0]);};w.prototype.onPressButtonMoveUp=function(){var V=this._getVisibleTableItems();this._moveMarkedTableItem(this._getMarkedTableItem(),V[V.indexOf(this._getMarkedTableItem())-1]);};w.prototype.onPressButtonMoveDown=function(){var V=this._getVisibleTableItems();this._moveMarkedTableItem(this._getMarkedTableItem(),V[V.indexOf(this._getMarkedTableItem())+1]);};w.prototype.onPressButtonMoveToBottom=function(){var V=this._getVisibleTableItems();this._moveMarkedTableItem(this._getMarkedTableItem(),V[V.length-1]);};w.prototype._onSwitchButtonShowSelected=function(){this._getInternalModel().setProperty("/showOnlySelectedItems",!this._getInternalModel().getProperty("/showOnlySelectedItems"));this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._scrollToSelectedItem(this._getMarkedTableItem());this._updateControlLogic();this._fnHandleResize();};w.prototype._onExecuteSearch=function(){this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._updateControlLogic();};w.prototype._switchVisibilityOfUnselectedModelItems=function(){var b=this._isFilteredByShowSelected();var M=this._getInternalModel().getProperty("/items");M.forEach(function(a){if(a.persistentSelected){a.visible=true;return;}a.visible=!b;});this._getInternalModel().setProperty("/items",M);};w.prototype._getVisibleModelItems=function(){return this._getInternalModel().getProperty("/items").filter(function(M){return!!M.visible;});};w.prototype._getVisibleModelItems=function(){return this._getInternalModel().getProperty("/items").filter(function(M){return!!M.visible;});};w.prototype._moveMarkedTableItem=function(a,b){var M=this._getModelItemByColumnKey(this._getColumnKeyByTableItem(a));var x=this._getModelItemByColumnKey(this._getColumnKeyByTableItem(b));var y=this._getModelItemIndexByColumnKey(M.columnKey);var z=this._getModelItemIndexByColumnKey(x.columnKey);this._moveModelItems(y,z);this._scrollToSelectedItem(this._getMarkedTableItem());this._updateControlLogic();this._fireChangeDimMeasureItems();this._notifyChange();};w.prototype._moveModelItems=function(a,b){var M=this._getInternalModel().getProperty("/items");if(a<0||b<0||a>M.length-1||b>M.length-1){return false;}this._removeStyleOfMarkedTableItem();var x=M.splice(a,1);M.splice(b,0,x[0]);this._updateModelItemsPersistentIndex(M);this._updateCounts(M);this._getInternalModel().setProperty("/items",M);this._switchMarkedTableItemTo(this._getMarkedTableItem());return true;};w.prototype._getModelItemByColumnKey=function(a){var M=this._getInternalModel().getProperty("/items").filter(function(b){return b.columnKey===a;});return M[0];};w.prototype._updateCounts=function(M){var a=0;var b=0;M.forEach(function(x){a++;if(x.persistentSelected){b++;}});this._getInternalModel().setProperty("/countOfItems",a);this._getInternalModel().setProperty("/countOfSelectedItems",b);};w.prototype._sortModelItemsByPersistentIndex=function(M){var x;var y=sap.ui.getCore().getConfiguration().getLocale().toString();try{if(typeof window.Intl!=='undefined'){x=window.Intl.Collator(y,{numeric:true});}}catch(E){}M.forEach(function(a,b){a.localIndex=b;});M.sort(function(a,b){if(a.persistentSelected===true&&(b.persistentSelected===false||b.persistentSelected===undefined)){return-1;}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&b.persistentSelected===true){return 1;}else if(a.persistentSelected===true&&b.persistentSelected===true){if(a.persistentIndex>-1&&a.persistentIndex<b.persistentIndex){return-1;}else if(b.persistentIndex>-1&&a.persistentIndex>b.persistentIndex){return 1;}else{return a.localIndex-b.localIndex;}}else if((a.persistentSelected===false||a.persistentSelected===undefined)&&(b.persistentSelected===false||b.persistentSelected===undefined)){return x?x.compare(a.text,b.text):a.text.localeCompare(b.text,y,{numeric:true});}});M.forEach(function(a){delete a.localIndex;});};w.prototype._getColumnKeyByTableItem=function(a){var b=this._oTable.indexOfItem(a);if(b<0){return null;}return this._oTable.getBinding("items").getContexts()[b].getObject().columnKey;};w.prototype._getModelItemIndexByColumnKey=function(a){var b=-1;this._getInternalModel().getData().items.some(function(M,x){if(M.columnKey===a){b=x;return true;}});return b;};w.prototype._getSelectedModelItems=function(){return this._getInternalModel().getProperty("/items").filter(function(M){return M.persistentSelected;});};w.prototype._getVisibleTableItems=function(){return this._oTable.getItems().filter(function(a){return a.getVisible();});};w.prototype._getTableItemByColumnKey=function(a){var b=this._oTable.getBinding("items").getContexts();var x=this._oTable.getItems().filter(function(y,z){return b[z].getObject().columnKey===a;});return x[0];};w.prototype._getToolbar=function(){return sap.ui.getCore().byId(this.getId()+"-toolbar")||null;};w.prototype._getSearchField=function(){return sap.ui.getCore().byId(this.getId()+"-searchField")||null;};w.prototype._getSearchText=function(){var a=this._getSearchField();return a?a.getValue():"";};w.prototype._isFilteredBySearchText=function(){return!!this._getSearchText().length;};w.prototype._isFilteredByShowSelected=function(){return this._getInternalModel().getData().showOnlySelectedItems;};w.prototype._updateControlLogic=function(){var b=this._isFilteredBySearchText();var a=this._isFilteredByShowSelected();var V=this._getVisibleTableItems();this._getInternalModel().setProperty("/isMoveUpButtonEnabled",V.indexOf(this._getMarkedTableItem())>0);this._getInternalModel().setProperty("/isMoveDownButtonEnabled",V.indexOf(this._getMarkedTableItem())>-1&&V.indexOf(this._getMarkedTableItem())<V.length-1);var x=sap.ui.getCore().byId(this._oTable.getId()+'-sa');if(x){x.setEnabled(!b&&!a);}};w.prototype._updateModelItemsPersistentIndex=function(M){var a=-1;M.forEach(function(b){b.persistentIndex=-1;if(b.persistentSelected){a++;b.persistentIndex=a;}});};w.prototype._fireChangeDimMeasureItems=function(){this._bIgnoreUpdateInternalModel=true;this.fireChangeDimMeasureItems({items:this._getInternalModel().getProperty("/items").map(function(M){return{columnKey:M.columnKey,visible:M.persistentSelected,index:M.persistentIndex===-1?undefined:M.persistentIndex,role:M.role};})});this._bIgnoreUpdateInternalModel=false;};w.prototype._fireChangeChartType=function(){this._bIgnoreUpdateInternalModel=true;this.fireChangeChartType({chartTypeKey:this._getInternalModel().getProperty("/selectedChartTypeKey")});this._bIgnoreUpdateInternalModel=false;};w.prototype._getDimMeasureItemByColumnKey=function(a){var D=this.getDimMeasureItems().filter(function(b){return b.getColumnKey()===a;});return D[0];};w.prototype._getMarkedTableItem=function(){return this._getTableItemByColumnKey(this._getInternalModel().getProperty("/columnKeyOfMarkedItem"));};w.prototype._setColumnKeyOfMarkedItem=function(a){this._getInternalModel().setProperty("/columnKeyOfMarkedItem",a);};w.prototype._onItemPressed=function(E){this._switchMarkedTableItemTo(E.getParameter('listItem'));this._updateControlLogic();};w.prototype._onChartTypeChange=function(E){this._fireChangeChartType();this._notifyChange();};w.prototype._onRoleChange=function(E){this._fireChangeDimMeasureItems();this._notifyChange();};w.prototype._onSelectionChange=function(E){if(!E.getParameter("selectAll")&&E.getParameter("listItems").length===1){this._switchMarkedTableItemTo(E.getParameter("listItem"));}this._selectTableItem();};w.prototype._selectTableItem=function(){this._updateControlLogic();var M=this._getInternalModel().getProperty("/items");this._updateModelItemsPersistentIndex(M);this._updateCounts(M);this._getInternalModel().setProperty("/items",M);this._fireChangeDimMeasureItems();this._notifyChange();};w.prototype._switchMarkedTableItemTo=function(a){this._removeStyleOfMarkedTableItem();var b=this._getColumnKeyByTableItem(a);if(b){this._setColumnKeyOfMarkedItem(b);a.addStyleClass("sapMP13nColumnsPanelItemSelected");}};w.prototype._removeStyleOfMarkedTableItem=function(){if(this._getMarkedTableItem()){this._getMarkedTableItem().removeStyleClass("sapMP13nColumnsPanelItemSelected");}};w.prototype._filterModelItemsBySearchText=function(){var a=this._getSearchText();a=a.replace(/(^\s+)|(\s+$)/g,'');a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var b=new RegExp(a,'igm');if(!b){return;}this._getVisibleModelItems().forEach(function(M){var x=this._getTableItemByColumnKey(M.columnKey);var y=x.getCells();M.visible=false;if(y[0]&&y[0].getText().match(b)){M.visible=true;}if(y[1]&&y[1].getText().match(b)){M.visible=true;}if(y[2]&&y[2].getSelectedItem()&&y[2].getSelectedItem().getText().match(b)){M.visible=true;}if(M.tooltip&&M.tooltip.match(b)){M.visible=true;}},this);this._getInternalModel().refresh();};w.prototype._updateInternalModel=function(){if(!this._bUpdateInternalModel){return;}this._bUpdateInternalModel=false;this._removeStyleOfMarkedTableItem();this._getInternalModel().setProperty("/items",this.getItems().map(function(a){return{columnKey:a.getColumnKey(),visible:true,text:a.getText(),tooltip:a.getTooltip(),aggregationRole:a.getAggregationRole(),availableRoleTypes:this.oAvailableRoleTypes[a.getAggregationRole()],role:a.getRole(),persistentIndex:-1,persistentSelected:undefined};},this));this._getInternalModel().setProperty("/selectedChartTypeKey",this.getChartTypeKey());this._getInternalModel().setProperty("/availableChartTypes",this.getAvailableChartTypes().map(function(a){return{key:a.getKey(),text:a.getText()};},this));this.getDimMeasureItems().forEach(function(D){var a=this._getModelItemByColumnKey(D.getColumnKey());if(!a){return;}if(D.getIndex()!==undefined){a.persistentIndex=D.getIndex();}if(D.getVisible()!==undefined){a.persistentSelected=D.getVisible();}if(D.getRole()!==undefined){a.role=D.getRole();}},this);this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();var M=this._getInternalModel().getProperty("/items");this._sortModelItemsByPersistentIndex(M);this._updateCounts(M);this._getInternalModel().setProperty("/items",M);this._switchMarkedTableItemTo(this._getMarkedTableItem());};return w;});
sap.ui.predefine('sap/m/P13nFilterItem',['./library','sap/ui/core/Item'],function(l,I){"use strict";var P=I.extend("sap.m.P13nFilterItem",{metadata:{library:"sap.m",properties:{operation:{type:"string",group:"Misc",defaultValue:null},value1:{type:"string",group:"Misc",defaultValue:null},value2:{type:"string",group:"Misc",defaultValue:null},columnKey:{type:"string",group:"Misc",defaultValue:null},exclude:{type:"boolean",group:"Misc",defaultValue:false}}}});P.prototype.setOperation=function(o){return this.setProperty("operation",o,true);};P.prototype.setColumnKey=function(k){return this.setProperty("columnKey",k,true);};P.prototype.setValue1=function(v){return this.setProperty("value1",v,true);};P.prototype.setValue2=function(v){return this.setProperty("value2",v,true);};P.prototype.setExclude=function(e){return this.setProperty("exclude",e,true);};return P;});
sap.ui.predefine('sap/m/P13nFilterPanel',['./P13nConditionPanel','./P13nPanel','./library','sap/m/Panel','./P13nFilterItem'],function(P,a,l,b,c){"use strict";var d=l.P13nPanelType;var e=l.P13nConditionOperation;var f=a.extend("sap.m.P13nFilterPanel",{metadata:{library:"sap.m",properties:{maxIncludes:{type:"string",group:"Misc",defaultValue:'-1'},maxExcludes:{type:"string",group:"Misc",defaultValue:'-1'},containerQuery:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},filterItems:{type:"sap.m.P13nFilterItem",multiple:true,singularName:"filterItem",bindable:"bindable"}},events:{addFilterItem:{},removeFilterItem:{},updateFilterItem:{},filterItemChanged:{parameters:{reason:{type:"string"},key:{type:"string"},index:{type:"int"},itemData:{type:"object"}}}}},renderer:function(r,C){r.write("<section");r.writeControlData(C);r.addClass("sapMFilterPanel");r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapMFilterPanelContent");r.addClass("sapMFilterPanelBG");r.writeClasses();r.write(">");var g=C.getAggregation("content");var L=g.length;for(var i=0;i<L;i++){r.renderControl(g[i]);}r.write("</div>");r.write("</section>");}});f.prototype.setConditions=function(C){var I=[];var E=[];if(C.length){for(var i=0;i<C.length;i++){var o=C[i];if(!o.exclude){I.push(o);}else{E.push(o);}}}this._oIncludeFilterPanel.setConditions(I);this._oExcludeFilterPanel.setConditions(E);if(E.length>0){this._oExcludePanel.setExpanded(true);}return this;};f.prototype.getConditions=function(){var i=this._oIncludeFilterPanel.getConditions();var E=this._oExcludeFilterPanel.getConditions();return i.concat(E);};f.prototype.setContainerQuery=function(C){this.setProperty("containerQuery",C);this._oIncludeFilterPanel.setContainerQuery(C);this._oExcludeFilterPanel.setContainerQuery(C);return this;};f.prototype.setLayoutMode=function(m){this.setProperty("layoutMode",m);this._oIncludeFilterPanel.setLayoutMode(m);this._oExcludeFilterPanel.setLayoutMode(m);return this;};f.prototype.validateConditions=function(){return this._oIncludeFilterPanel.validateConditions()&&this._oExcludeFilterPanel.validateConditions();};f.prototype.removeInvalidConditions=function(){this._oIncludeFilterPanel.removeInvalidConditions();this._oExcludeFilterPanel.removeInvalidConditions();};f.prototype.removeValidationErrors=function(){this._oIncludeFilterPanel.removeValidationErrors();this._oExcludeFilterPanel.removeValidationErrors();};f.prototype.onBeforeNavigationFrom=function(){return this.validateConditions();};f.prototype.onAfterNavigationFrom=function(){return this.removeInvalidConditions();};f.prototype.setIncludeOperations=function(o,t){t=t||"default";this._aIncludeOperations[t]=o;if(this._oIncludeFilterPanel){this._oIncludeFilterPanel.setOperations(this._aIncludeOperations[t],t);}};f.prototype.getIncludeOperations=function(t){if(this._oIncludeFilterPanel){return this._oIncludeFilterPanel.getOperations(t);}};f.prototype.setExcludeOperations=function(o,t){t=t||"default";this._aExcludeOperations[t]=o;if(this._oExcludeFilterPanel){this._oExcludeFilterPanel.setOperations(this._aExcludeOperations[t],t);}};f.prototype.getExcludeOperations=function(t){if(this._oExcludeFilterPanel){return this._oExcludeFilterPanel.getOperations(t);}};f.prototype.setKeyFields=function(k){this._aKeyFields=k;if(this._oIncludeFilterPanel){this._oIncludeFilterPanel.setKeyFields(this._aKeyFields);}if(this._oExcludeFilterPanel){this._oExcludeFilterPanel.setKeyFields(this._aKeyFields);}};f.prototype.getKeyFields=function(){return this._aKeyFields;};f.prototype.setMaxIncludes=function(m){this.setProperty("maxIncludes",m);if(this._oIncludeFilterPanel){this._oIncludeFilterPanel.setMaxConditions(m);}this._updatePanel();return this;};f.prototype.setMaxExcludes=function(m){this.setProperty("maxExcludes",m);if(this._oExcludeFilterPanel){this._oExcludeFilterPanel.setMaxConditions(m);}this._updatePanel();return this;};f.prototype._updatePanel=function(){var m=this.getMaxIncludes()==="-1"?1000:parseInt(this.getMaxIncludes());var M=this.getMaxExcludes()==="-1"?1000:parseInt(this.getMaxExcludes());if(m>0){if(M<=0){this._oIncludePanel.setHeaderText(null);this._oIncludePanel.setExpandable(false);this._oIncludePanel.addStyleClass("panelTopMargin");this._oIncludePanel.addStyleClass("panelNoHeader");}}if(M===0){this._oExcludePanel.setHeaderText(null);this._oExcludePanel.setExpandable(false);this._oExcludePanel.addStyleClass("panelNoHeader");}};f.prototype.init=function(){this.setType(d.filter);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("FILTERPANEL_TITLE"));sap.ui.getCore().loadLibrary("sap.ui.layout");this._aKeyFields=[];this.addStyleClass("sapMFilterPanel");this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._aIncludeOperations={};if(!this._aIncludeOperations["default"]){this.setIncludeOperations([e.EQ,e.BT,e.LT,e.LE,e.GT,e.GE]);}if(!this._aIncludeOperations["string"]){this.setIncludeOperations([e.Contains,e.EQ,e.BT,e.StartsWith,e.EndsWith,e.LT,e.LE,e.GT,e.GE],"string");}if(!this._aIncludeOperations["date"]){this.setIncludeOperations([e.EQ,e.BT,e.LT,e.LE,e.GT,e.GE],"date");}if(!this._aIncludeOperations["time"]){this.setIncludeOperations([e.EQ,e.BT,e.LT,e.LE,e.GT,e.GE],"time");}if(!this._aIncludeOperations["datetime"]){this.setIncludeOperations([e.EQ,e.BT,e.LT,e.LE,e.GT,e.GE],"datetime");}if(!this._aIncludeOperations["numeric"]){this.setIncludeOperations([e.EQ,e.BT,e.LT,e.LE,e.GT,e.GE],"numeric");}if(!this._aIncludeOperations["numc"]){this.setIncludeOperations([e.Contains,e.EQ,e.BT,e.EndsWith,e.LT,e.LE,e.GT,e.GE],"numc");}if(!this._aIncludeOperations["boolean"]){this.setIncludeOperations([e.EQ],"boolean");}this._aExcludeOperations={};if(!this._aExcludeOperations["default"]){this.setExcludeOperations([e.EQ]);}this._oIncludePanel=new b({expanded:true,expandable:true,headerText:this._oRb.getText("FILTERPANEL_INCLUDES"),width:"auto"}).addStyleClass("sapMFilterPadding");this._oIncludeFilterPanel=new P({maxConditions:this.getMaxIncludes(),alwaysShowAddIcon:false,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange()});this._oIncludeFilterPanel._sAddRemoveIconTooltipKey="FILTER";for(var t in this._aIncludeOperations){this._oIncludeFilterPanel.setOperations(this._aIncludeOperations[t],t);}this._oIncludePanel.addContent(this._oIncludeFilterPanel);this.addAggregation("content",this._oIncludePanel);this._oExcludePanel=new b({expanded:false,expandable:true,headerText:this._oRb.getText("FILTERPANEL_EXCLUDES"),width:"auto"}).addStyleClass("sapMFilterPadding");this._oExcludeFilterPanel=new P({exclude:true,maxConditions:this.getMaxExcludes(),alwaysShowAddIcon:false,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange()});this._oExcludeFilterPanel._sAddRemoveIconTooltipKey="FILTER";for(var t in this._aExcludeOperations){this._oExcludeFilterPanel.setOperations(this._aExcludeOperations[t],t);}this._oExcludePanel.addContent(this._oExcludeFilterPanel);this.addAggregation("content",this._oExcludePanel);this._updatePanel();};f.prototype.exit=function(){var g=function(o){if(o&&o.destroy){o.destroy();}return null;};this._aKeyFields=g(this._aKeyFields);this._aIncludeOperations=g(this._aIncludeOperations);this._aExcludeOperations=g(this._aExcludeOperations);this._oRb=g(this._oRb);};f.prototype.onBeforeRendering=function(){if(this._bUpdateRequired){this._bUpdateRequired=false;var k=[];var m=(this.getBindingInfo("items")||{}).model;var g=function(n,o,i){var B=i.getBinding(n);if(B&&o){return o.getObject()[B.getPath()];}return i.getMetadata().getProperty(n)?i.getProperty(n):i.getAggregation(n);};this.getItems().forEach(function(i){var o=i.getBindingContext(m);if(i.getBinding("key")){o.getObject()[i.getBinding("key").getPath()]=i.getKey();}k.push({key:i.getColumnKey(),text:g("text",o,i),tooltip:g("tooltip",o,i),maxLength:g("maxLength",o,i),type:g("type",o,i),typeInstance:g("typeInstance",o,i),formatSettings:g("formatSettings",o,i),precision:g("precision",o,i),scale:g("scale",o,i),isDefault:g("isDefault",o,i),values:g("values",o,i)});var n=k.length;if(k[n-1].maxLength===1||k[n-1].maxLength==="1"){var K=k[n-1];var O=this._oIncludeFilterPanel.getOperations(K.type);K.operations=[];O.forEach(function(s){if([e.Contains,e.StartsWith,e.EndsWith].indexOf(s)===-1){K.operations.push(s);}},this);}},this);this.setKeyFields(k);var C=[];m=(this.getBindingInfo("filterItems")||{}).model;this.getFilterItems().forEach(function(F){var o=F.getBindingContext(m);if(F.getBinding("key")&&o){o.getObject()[F.getBinding("key").getPath()]=F.getKey();}C.push({key:F.getKey(),keyField:g("columnKey",o,F),operation:g("operation",o,F),value1:g("value1",o,F),value2:g("value2",o,F),exclude:g("exclude",o,F)});});this.setConditions(C);}};f.prototype.addItem=function(i){a.prototype.addItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.removeItem=function(i){var r=a.prototype.removeItem.apply(this,arguments);this._bUpdateRequired=true;return r;};f.prototype.destroyItems=function(){this.destroyAggregation("items");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.addFilterItem=function(F){this.addAggregation("filterItems",F,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.insertFilterItem=function(F,i){this.insertAggregation("filterItems",F,i,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.updateFilterItems=function(r){this.updateAggregation("filterItems");if(r==="change"&&!this._bIgnoreBindCalls){this._bUpdateRequired=true;this.invalidate();}};f.prototype.removeFilterItem=function(F){F=this.removeAggregation("filterItems",F,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return F;};f.prototype.removeAllFilterItems=function(){var F=this.removeAllAggregation("filterItems",true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return F;};f.prototype.destroyFilterItems=function(){this.destroyAggregation("filterItems");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype._handleDataChange=function(){var t=this;return function(E){var n=E.getParameter("newData");var o=E.getParameter("operation");var k=E.getParameter("key");var C=E.getParameter("index");var F;var I=-1;var g=E.getSource()===t._oExcludeFilterPanel;t.getFilterItems().some(function(h,i){if((!h.getExclude()&&!g)||(h.getExclude()&&g)){C--;}I=i;return C<0;},this);switch(o){case"update":F=t.getFilterItems()[I];if(F){F.setExclude(n.exclude);F.setColumnKey(n.keyField);F.setOperation(n.operation);F.setValue1(n.value1);F.setValue2(n.value2);}t.fireUpdateFilterItem({key:k,index:I,filterItemData:F});t.fireFilterItemChanged({reason:"updated",key:k,index:I,itemData:{columnKey:n.keyField,operation:n.operation,exclude:n.exclude,value1:n.value1,value2:n.value2}});break;case"add":if(C>=0){I++;}F=new c({columnKey:n.keyField,exclude:n.exclude,operation:n.operation});F.setValue1(n.value1);F.setValue2(n.value2);t._bIgnoreBindCalls=true;t.fireAddFilterItem({key:k,index:I,filterItemData:F});t.fireFilterItemChanged({reason:"added",key:k,index:I,itemData:{columnKey:n.keyField,operation:n.operation,exclude:n.exclude,value1:n.value1,value2:n.value2}});t._bIgnoreBindCalls=false;break;case"remove":t._bIgnoreBindCalls=true;t.fireRemoveFilterItem({key:k,index:I});t.fireFilterItemChanged({reason:"removed",key:k,index:I});t._bIgnoreBindCalls=false;break;default:throw"Operation'"+o+"' is not supported yet";}t._notifyChange();};};f.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};return f;});
sap.ui.predefine('sap/m/P13nGroupItem',['./library','sap/ui/core/Item'],function(l,I){"use strict";var P=I.extend("sap.m.P13nGroupItem",{metadata:{library:"sap.m",properties:{operation:{type:"string",group:"Misc",defaultValue:null},columnKey:{type:"string",group:"Misc",defaultValue:null},showIfGrouped:{type:"boolean",group:"Misc",defaultValue:false}}}});P.prototype.setColumnKey=function(v){return this.setProperty("columnKey",v,true);};P.prototype.setOperation=function(v){return this.setProperty("operation",v,true);};P.prototype.setShowIfGrouped=function(v){return this.setProperty("showIfGrouped",v,true);};return P;});
sap.ui.predefine('sap/m/P13nGroupPanel',['./library','./P13nConditionPanel','./P13nPanel','./P13nGroupItem',"sap/ui/thirdparty/jquery"],function(l,P,a,c,q){"use strict";var d=l.P13nPanelType;var e=l.P13nConditionOperation;var f=a.extend("sap.m.P13nGroupPanel",{metadata:{library:"sap.m",properties:{maxGroups:{type:"string",group:"Misc",defaultValue:'-1'},containerQuery:{type:"boolean",group:"Misc",defaultValue:false},layoutMode:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"},groupItems:{type:"sap.m.P13nGroupItem",multiple:true,singularName:"groupItem",bindable:"bindable"}},events:{addGroupItem:{parameters:{}},removeGroupItem:{},updateGroupItem:{}}},renderer:function(r,C){r.write("<section");r.writeControlData(C);r.addClass("sapMGroupPanel");r.writeClasses();r.writeStyles();r.write(">");r.write("<div");r.addClass("sapMGroupPanelContent");r.addClass("sapMGroupPanelBG");r.writeClasses();r.write(">");var b=C.getAggregation("content");var L=b.length;for(var i=0;i<L;i++){r.renderControl(b[i]);}r.write("</div>");r.write("</section>");}});f.prototype.setMaxGroups=function(m){this.setProperty("maxGroups",m);if(this._oGroupPanel){this._oGroupPanel.setMaxConditions(m);}};f.prototype._getConditions=function(){return this._oGroupPanel.getConditions();};f.prototype.setContainerQuery=function(b){this.setProperty("containerQuery",b);this._oGroupPanel.setContainerQuery(b);};f.prototype.setLayoutMode=function(m){this.setProperty("layoutMode",m);this._oGroupPanel.setLayoutMode(m);};f.prototype.validateConditions=function(){return this._oGroupPanel.validateConditions();};f.prototype.removeInvalidConditions=function(){this._oGroupPanel.removeInvalidConditions();};f.prototype.removeValidationErrors=function(){this._oGroupPanel.removeValidationErrors();};f.prototype.onBeforeNavigationFrom=function(){return this.validateConditions();};f.prototype.onAfterNavigationFrom=function(){return this.removeInvalidConditions();};f.prototype.setOperations=function(o){this._aOperations=o;if(this._oGroupPanel){this._oGroupPanel.setOperations(this._aOperations);}};f.prototype.init=function(){this.setType(d.group);this.setTitle(sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("GROUPPANEL_TITLE"));sap.ui.getCore().loadLibrary("sap.ui.layout");this._aKeyFields=[];this.addStyleClass("sapMGroupPanel");if(!this._aOperations){this.setOperations([e.GroupAscending,e.GroupDescending]);}this._oGroupPanel=new P({maxConditions:this.getMaxGroups(),autoReduceKeyFieldItems:true,layoutMode:this.getLayoutMode(),dataChange:this._handleDataChange(),validationExecutor:q.proxy(this._callValidationExecutor,this)});this._oGroupPanel.setOperations(this._aOperations);this._oGroupPanel._sAddRemoveIconTooltipKey="GROUP";this.addAggregation("content",this._oGroupPanel);};f.prototype.exit=function(){var b=function(o){if(o&&o.destroy){o.destroy();}return null;};this._aKeyFields=b(this._aKeyFields);this._aOperations=b(this._aOperations);};f.prototype.onBeforeRendering=function(){if(this._bUpdateRequired){this._bUpdateRequired=false;var k=[];var m=(this.getBindingInfo("items")||{}).model;var g=function(n,o,i){var b=i.getBinding(n);if(b&&o){return o.getObject()[b.getPath()];}return i.getMetadata().getProperty(n)?i.getProperty(n):i.getAggregation(n);};this.getItems().forEach(function(i){var o=i.getBindingContext(m);if(i.getBinding("key")){o.getObject()[i.getBinding("key").getPath()]=i.getKey();}k.push({key:i.getColumnKey(),text:g("text",o,i),tooltip:g("tooltip",o,i)});});k.splice(0,0,{key:null,text:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("P13NDIALOG_SELECTION_NONE")});this._oGroupPanel.setKeyFields(k);var C=[];m=(this.getBindingInfo("groupItems")||{}).model;this.getGroupItems().forEach(function(G){var o=G.getBindingContext(m);if(G.getBinding("key")){o.getObject()[G.getBinding("key").getPath()]=G.getKey();}C.push({key:G.getKey(),keyField:g("columnKey",o,G),operation:g("operation",o,G),showIfGrouped:g("showIfGrouped",o,G)});});this._oGroupPanel.setConditions(C);}};f.prototype.addItem=function(i){a.prototype.addItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.removeItem=function(i){var r=a.prototype.removeItem.apply(this,arguments);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return r;};f.prototype.destroyItems=function(){this.destroyAggregation("items");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.addGroupItem=function(g){this.addAggregation("groupItems",g,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.insertGroupItem=function(g,i){this.insertAggregation("groupItems",g,i,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype.updateGroupItems=function(r){this.updateAggregation("groupItems");if(r==="change"&&!this._bIgnoreBindCalls){this._bUpdateRequired=true;this.invalidate();}};f.prototype.removeGroupItem=function(g){g=this.removeAggregation("groupItems",g,true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return g;};f.prototype.removeAllGroupItems=function(){var g=this.removeAllAggregation("groupItems",true);if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return g;};f.prototype.destroyGroupItems=function(){this.destroyAggregation("groupItems");if(!this._bIgnoreBindCalls){this._bUpdateRequired=true;}return this;};f.prototype._handleDataChange=function(){var t=this;return function(E){var n=E.getParameter("newData");var o=E.getParameter("operation");var k=E.getParameter("key");var i=E.getParameter("index");var g;if(o==="update"){g=t.getGroupItems()[i];if(g){g.setColumnKey(n.keyField);g.setOperation(n.operation);g.setShowIfGrouped(n.showIfGrouped);}t.fireUpdateGroupItem({key:k,index:i,groupItemData:g});t._notifyChange();}if(o==="add"){g=new c({key:k,columnKey:n.keyField,operation:n.operation,showIfGrouped:n.showIfGrouped});t._bIgnoreBindCalls=true;t.fireAddGroupItem({key:k,index:i,groupItemData:g});t._bIgnoreBindCalls=false;t._notifyChange();}if(o==="remove"){t._bIgnoreBindCalls=true;t.fireRemoveGroupItem({key:k,index:i});t._bIgnoreBindCalls=false;t._notifyChange();}};};f.prototype.getOkPayload=function(){if(!this.getModel()){return null;}var s=[];this._oGroupPanel._oConditionsGrid.getContent().forEach(function(C){var o=C.keyField;s.push(o.getSelectedKey());});return{selectedColumnKeys:s};};f.prototype._callValidationExecutor=function(){var v=this.getValidationExecutor();if(v){v();}};f.prototype._updateValidationResult=function(v){this._oGroupPanel._oConditionsGrid.getContent().forEach(function(C){var o=C.keyField;o.setValueStateText("");o.setValueState("None");var s=o.getSelectedKey();v.forEach(function(r){if(r.columnKey===s){o.setValueStateText(r.messageText);o.setValueState(r.messageType);}});});};f.prototype.setValidationListener=function(L){this.setProperty("validationListener",L);if(L){L(this,q.proxy(this._updateValidationResult,this));}};f.prototype._notifyChange=function(){var L=this.getChangeNotifier();if(L){L(this);}};return f;});
sap.ui.predefine('sap/m/P13nItem',['./library','sap/ui/core/Element'],function(l,E){"use strict";var P=E.extend("sap.m.P13nItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:""},visible:{type:"boolean",group:"Misc",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:"text"},typeInstance:{type:"object",group:"Misc",defaultValue:null,since:"1.56"},precision:{type:"string",group:"Misc",defaultValue:null},formatSettings:{type:"object",group:"Misc",defaultValue:null,since:"1.52"},scale:{type:"string",group:"Misc",defaultValue:null},maxLength:{type:"string",group:"Misc",defaultValue:null},width:{type:"string",group:"Misc",defaultValue:null},isDefault:{type:"boolean",group:"Misc",defaultValue:false},values:{type:"string[]",group:"Misc",defaultValue:null},role:{type:"string",defaultValue:null},aggregationRole:{type:"string",defaultValue:null},href:{type:"string",defaultValue:null},target:{type:"string",defaultValue:null},press:{type:"object",defaultValue:null},description:{type:"string",defaultValue:null}}}});return P;});
sap.ui.predefine('sap/m/P13nPanel',['./library','sap/ui/core/Control'],function(l,C){"use strict";var P=C.extend("sap.m.P13nPanel",{metadata:{"abstract":true,library:"sap.m",properties:{title:{type:"string",group:"Appearance",defaultValue:null},titleLarge:{type:"string",group:"Appearance",defaultValue:null},type:{type:"string",group:"Misc",defaultValue:null},verticalScrolling:{type:"boolean",group:"Misc",defaultValue:true},validationExecutor:{type:"object",group:"Misc",defaultValue:null},validationListener:{type:"object",group:"Misc",defaultValue:null},changeNotifier:{type:"object",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.P13nItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{beforeNavigationTo:{}}},renderer:function(r,c){r.write("<span");r.writeControlData(c);r.addClass("sapMP13nPanel");r.writeClasses();r.write(">");r.write("</span>");}});P.prototype.getOkPayload=function(){return{};};P.prototype.getResetPayload=function(){return{};};P.prototype.beforeNavigationTo=function(){this.fireBeforeNavigationTo();};P.prototype.onBeforeNavigationFrom=function(){return true;};P.prototype.onAfterNavigationFrom=function(){};return P;});
sap.ui.predefine('sap/m/P13nSelectionItem',['./library','sap/ui/core/Item'],function(l,I){"use strict";var P=I.extend("sap.m.P13nSelectionItem",{metadata:{library:"sap.m",properties:{columnKey:{type:"string",defaultValue:undefined},selected:{type:"boolean",defaultValue:false}}}});return P;});
sap.ui.predefine('sap/m/P13nSelectionPanel',['./library','./ColumnListItem','./P13nPanel','./SearchField','./Text','./Table','./Column','./ScrollContainer','./P13nSelectionItem','./VBox','./Link','./OverflowToolbar','./OverflowToolbarLayoutData','./ToolbarSpacer','sap/ui/core/library','sap/ui/model/ChangeReason','sap/ui/model/json/JSONModel','sap/ui/model/BindingMode','sap/ui/core/ResizeHandler',"sap/ui/thirdparty/jquery"],function(l,C,P,S,T,a,b,c,d,V,L,O,e,f,g,h,J,B,R,q){"use strict";var i=l.ToolbarDesign;var j=l.ListType;var k=l.ListMode;var m=l.P13nPanelType;var n=P.extend("sap.m.P13nSelectionPanel",{metadata:{library:"sap.m",aggregations:{selectionItems:{type:"sap.m.P13nSelectionItem",multiple:true,singularName:"selectionItem",bindable:"bindable"},content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",visibility:"hidden"}},events:{changeSelectionItems:{parameters:{items:{type:"object[]"}}}}},renderer:function(r,o){r.write("<div");r.writeControlData(o);r.addClass("sapMP13nColumnsPanel");r.writeClasses();r.write(">");var p=o.getAggregation("content");if(p){p.forEach(function(s){r.renderControl(s);});}r.write("</div>");}});n.prototype.init=function(){this._iLiveChangeTimer=0;this._iSearchTimer=0;this._bIgnoreUpdateInternalModel=false;this._bUpdateInternalModel=true;this._bOnAfterRenderingFirstTimeExecuted=false;var M=new J({items:[],countOfSelectedItems:0,countOfItems:0});M.setDefaultBindingMode(B.TwoWay);M.setSizeLimit(1000);this.setModel(M,"$sapmP13nSelectionPanel");this.setType(m.selection);this._createTable();this._createToolbar();this.setVerticalScrolling(false);var s=new c({horizontal:false,vertical:true,content:[this._oTable],width:'100%',height:'100%'});this.addAggregation("content",s);var t=this;this._fnHandleResize=function(){var o=false,p,r;if(t.getParent){var $=null,u,H;var v=t.getParent();var w=t._getToolbar();if(v&&v.$){$=v.$("cont");if($.children().length>0&&w.$().length>0){p=s.$()[0].clientHeight;u=$.children()[0].clientHeight;H=w?w.$()[0].clientHeight:0;r=u-H;if(p!==r){s.setHeight(r+'px');o=true;}}}}return o;};this._sContainerResizeListener=R.register(s,this._fnHandleResize);};n.prototype.onBeforeRendering=function(){this._updateInternalModel();};n.prototype.onAfterRendering=function(){var t=this;if(!this._bOnAfterRenderingFirstTimeExecuted){this._bOnAfterRenderingFirstTimeExecuted=true;window.clearTimeout(this._iLiveChangeTimer);this._iLiveChangeTimer=window.setTimeout(function(){t._fnHandleResize();},0);}};n.prototype.getOkPayload=function(){this._updateInternalModel();var M=this._getInternalModel().getProperty("/items");return{selectionItems:M.map(function(o){return{columnKey:o.columnKey,selected:o.persistentSelected};})};};n.prototype.exit=function(){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;this._getToolbar().destroy();this._oTable.destroy();this._oTable=null;if(this._getInternalModel()){this._getInternalModel().destroy();}window.clearTimeout(this._iLiveChangeTimer);window.clearTimeout(this._iSearchTimer);};n.prototype.addItem=function(I){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("items",I);return this;};n.prototype.insertItem=function(I,o){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("items",I,o);return this;};n.prototype.removeItem=function(I){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}I=this.removeAggregation("items",I);return I;};n.prototype.removeAllItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("items");};n.prototype.destroyItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("items");return this;};n.prototype.addSelectionItem=function(s){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.addAggregation("selectionItems",s);return this;};n.prototype.insertSelectionItem=function(s,I){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.insertAggregation("selectionItems",s,I);return this;};n.prototype.updateSelectionItems=function(r){this.updateAggregation("selectionItems");if(r===h.Change&&!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}};n.prototype.removeSelectionItem=function(s){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAggregation("selectionItems",s);};n.prototype.removeAllSelectionItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}return this.removeAllAggregation("selectionItems");};n.prototype.destroySelectionItems=function(){if(!this._bIgnoreUpdateInternalModel){this._bUpdateInternalModel=true;}this.destroyAggregation("selectionItems");return this;};n.prototype.onBeforeNavigationFrom=function(){return true;};n.prototype._notifyChange=function(){var o=this.getChangeNotifier();if(o){o(this);}};n.prototype._getInternalModel=function(){return this.getModel("$sapmP13nSelectionPanel");};n.prototype._createTable=function(){var t=this;this._oTable=new a({mode:k.MultiSelect,rememberSelections:false,selectionChange:q.proxy(this._onSelectionChange,this),columns:[new b({vAlign:g.VerticalAlign.Middle,header:new T({text:{parts:[{path:'/countOfSelectedItems'},{path:'/countOfItems'}],formatter:function(o,p){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText('COLUMNSPANEL_SELECT_ALL_WITH_COUNTER',[o,p]);}}})})],items:{path:"/items",templateShareable:false,template:new C({cells:new V({items:[new L({href:"{href}",text:"{text}",target:"{target}",enabled:{path:'href',formatter:function(v){if(!v){this.addStyleClass("sapUiCompSmartLink");}return!!v;}},press:function(E){var H=E.getSource().getHref();var I=t.getItems().filter(function(o){return o.getHref()===H&&!!o.getPress();});if(!I.length){return;}var p=I[0].getPress();p(E);}}),new T({visible:{path:'description',formatter:function(D){return!!D;}},text:"{description}"})]}),visible:"{visible}",selected:"{persistentSelected}",tooltip:"{tooltip}",type:j.Active})}});this._oTable.setModel(this._getInternalModel());};n.prototype._createToolbar=function(){var t=this;var o=new O(this.getId()+"-toolbar",{design:i.Auto,content:[new f(),new S(this.getId()+"-searchField",{liveChange:function(E){var v=E.getSource().getValue(),D=(v?300:0);window.clearTimeout(t._iSearchTimer);if(D){t._iSearchTimer=window.setTimeout(function(){t._onExecuteSearch();},D);}else{t._onExecuteSearch();}},search:q.proxy(this._onExecuteSearch,this),layoutData:new e({minWidth:"12.5rem",maxWidth:"23.077rem",shrinkable:true,moveToOverflow:false,stayInOverflow:false})})]});o.setModel(this._getInternalModel());this.addAggregation("content",o);};n.prototype._onExecuteSearch=function(){this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();this._updateControlLogic();};n.prototype._switchVisibilityOfUnselectedModelItems=function(){var s=this._isFilteredByShowSelected();var M=this._getInternalModel().getProperty("/items");M.forEach(function(o){if(o.persistentSelected){o.visible=true;return;}o.visible=!s;});this._getInternalModel().setProperty("/items",M);};n.prototype._getVisibleModelItems=function(){return this._getInternalModel().getProperty("/items").filter(function(M){return!!M.visible;});};n.prototype._getModelItemByColumnKey=function(s){var M=this._getInternalModel().getProperty("/items").filter(function(o){return o.columnKey===s;});return M[0];};n.prototype._updateCounts=function(M){var o=0;var p=0;M.forEach(function(r){o++;if(r.persistentSelected){p++;}});this._getInternalModel().setProperty("/countOfItems",o);this._getInternalModel().setProperty("/countOfSelectedItems",p);};n.prototype._getToolbar=function(){return sap.ui.getCore().byId(this.getId()+"-toolbar")||null;};n.prototype._getSearchField=function(){return sap.ui.getCore().byId(this.getId()+"-searchField")||null;};n.prototype._getSearchText=function(){var s=this._getSearchField();return s?s.getValue():"";};n.prototype._isFilteredBySearchText=function(){return!!this._getSearchText().length;};n.prototype._isFilteredByShowSelected=function(){return false;};n.prototype._updateControlLogic=function(){var I=this._isFilteredBySearchText();var s=this._isFilteredByShowSelected();var t=sap.ui.getCore().byId(this._oTable.getId()+'-sa');if(t){t.setEnabled(!I&&!s);}};n.prototype._fireChangeSelectionItems=function(){this._bIgnoreUpdateInternalModel=true;var M=this._getInternalModel().getProperty("/items");this.fireChangeSelectionItems({items:M.map(function(o){return{columnKey:o.columnKey,selected:o.persistentSelected};})});this._bIgnoreUpdateInternalModel=false;};n.prototype._onSelectionChange=function(){this._selectTableItem();};n.prototype._selectTableItem=function(){var M=this._getInternalModel().getProperty("/items");this._updateCounts(M);this._getInternalModel().setProperty("/items",M);this._fireChangeSelectionItems();this._notifyChange();};n.prototype._filterModelItemsBySearchText=function(){var s=this._getSearchText();s=s.replace(/(^\s+)|(\s+$)/g,'');s=s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');var r=new RegExp(s,'igm');this._getVisibleModelItems().forEach(function(M){M.visible=false;if(M.text&&M.text.match(r)){M.visible=true;}if(M.tooltip&&M.tooltip.match(r)){M.visible=true;}});this._getInternalModel().refresh();};n.prototype._updateInternalModel=function(){if(!this._bUpdateInternalModel){return;}this._bUpdateInternalModel=false;this._getInternalModel().setProperty("/items",this.getItems().map(function(I){return{columnKey:I.getColumnKey(),visible:true,text:I.getText(),tooltip:I.getTooltip(),href:I.getHref(),target:I.getTarget(),persistentSelected:I.getVisible(),description:I.getDescription()};},this));this.getSelectionItems().forEach(function(s){var o=this._getModelItemByColumnKey(s.getColumnKey());if(!o){return;}if(s.getSelected()!==undefined){o.persistentSelected=s.getSelected();}},this);this._switchVisibilityOfUnselectedModelItems();this._filterModelItemsBySearchText();var M=this._getInternalModel().getProperty("/items");this._updateCounts(M);this._getInternalModel().setProperty("/items",M);};return n;});
sap.ui.require.preload({
	"sap/m/MultiEditField.control.xml":'<core:FragmentDefinition xmlns:m="sap.m" xmlns:core="sap.ui.core" type="XML"><m:Select id="select" width="100%" items="{$this&gt;items}" change="_handleSelectionChange"><m:items><core:Item text="{$this&gt;text}" key="{$this&gt;key}" id="itemTemplate"/></m:items></m:Select></core:FragmentDefinition>',
	"sap/m/designtime/Breadcrumbs.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Breadcrumbs currentLocationText="Location"><Link text="Level 1"/><Link text="Level 2"/></Breadcrumbs></core:FragmentDefinition>',
	"sap/m/designtime/Button.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Button text="Button"/></core:FragmentDefinition>',
	"sap/m/designtime/Carousel.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Carousel><pages><VBox><Text text="Page 1"/></VBox><VBox><Text text="Page 2"/></VBox></pages></Carousel></core:FragmentDefinition>',
	"sap/m/designtime/CheckBox.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><CheckBox text="Check Box" selected="false"/></core:FragmentDefinition>',
	"sap/m/designtime/ComboBox.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ComboBox><items><core:Item key="item-1-key" text="Item 1 Text"/><core:Item key="item-2-key" text="Item 2 Text"/></items></ComboBox></core:FragmentDefinition>',
	"sap/m/designtime/DatePicker.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><DatePicker/></core:FragmentDefinition>',
	"sap/m/designtime/DateRangeSelection.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><DateRangeSelection/></core:FragmentDefinition>',
	"sap/m/designtime/DateTimeInput.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><DateTimeInput type="DateTime"/></core:FragmentDefinition>',
	"sap/m/designtime/DateTimePicker.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><DateTimePicker/></core:FragmentDefinition>',
	"sap/m/designtime/DraftIndicator.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><DraftIndicator state="Saved"/></core:FragmentDefinition>',
	"sap/m/designtime/FlexBox.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><FlexBox><items><Button text="1" type="Emphasized" class="sapUiSmallMarginEnd"/><Button text="2" type="Reject" class="sapUiSmallMarginEnd"/><Button text="3" type="Accept"/></items></FlexBox></core:FragmentDefinition>',
	"sap/m/designtime/HBox.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><HBox><Text text="Text 1"/><Text text="Text 2"/><Text text="Text 3"/></HBox></core:FragmentDefinition>',
	"sap/m/designtime/IconTabBar.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><IconTabBar><items><IconTabFilter showAll="true" count="100" text="Items" key="All"><Text text="Items content goes here ..."/></IconTabFilter><IconTabSeparator/><IconTabFilter icon="sap-icon://begin" iconColor="Negative" count="25" text="Open" key="Open"><Text text="Open content goes here ..."/></IconTabFilter><IconTabFilter icon="sap-icon://accept" iconColor="Positive" count="27" text="Completed" key="Completed"><Text text="Completed content goes here ..."/></IconTabFilter></items></IconTabBar></core:FragmentDefinition>',
	"sap/m/designtime/Image.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Image src="https://ui5.sap.com/resources/sap/ui/documentation/sdk/images/logo_ui5.png"/></core:FragmentDefinition>',
	"sap/m/designtime/Input.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Input value="Value"/></core:FragmentDefinition>',
	"sap/m/designtime/Label.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Label text="Label Text"/></core:FragmentDefinition>',
	"sap/m/designtime/Link.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Link href="https://ui5.sap.com" text="Link Text"/></core:FragmentDefinition>',
	"sap/m/designtime/MenuButton.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MenuButton text="Menu Button"><menu><Menu><items><MenuItem text="Menu Item One"/><MenuItem text="Menu Item Two"/></items></Menu></menu></MenuButton></core:FragmentDefinition>',
	"sap/m/designtime/MessagePage.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MessagePage/></core:FragmentDefinition>',
	"sap/m/designtime/MessageStrip.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MessageStrip text="Message Text" showIcon="false" showCloseButton="true"/></core:FragmentDefinition>',
	"sap/m/designtime/MultiComboBox.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MultiComboBox><core:Item key="key-one" text="Item One"/><core:Item key="key-two" text="Item Two"/><core:Item key="key-three" text="Item Three"/></MultiComboBox></core:FragmentDefinition>',
	"sap/m/designtime/MultiInput.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MultiInput value="Value"><tokens><Token text="Token1" key="0001"/><Token text="Token2" key="0002"/></tokens></MultiInput></core:FragmentDefinition>',
	"sap/m/designtime/ObjectAttribute.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ObjectAttribute text="10 units"/></core:FragmentDefinition>',
	"sap/m/designtime/ObjectHeader.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ObjectHeader title="Header Text" number="100.00" numberUnit="$"><statuses><ObjectStatus text="Success" state="Success"/></statuses><attributes><ObjectAttribute text="10 units"/></attributes></ObjectHeader></core:FragmentDefinition>',
	"sap/m/designtime/ObjectIdentifier.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ObjectIdentifier title="Title Text" text="Text" titleActive="fasle"/></core:FragmentDefinition>',
	"sap/m/designtime/ObjectMarker.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ObjectMarker type="Favorite" additionalInfo="Favorite"/></core:FragmentDefinition>',
	"sap/m/designtime/ObjectNumber.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ObjectNumber number="100.00" unit="$"/></core:FragmentDefinition>',
	"sap/m/designtime/ObjectStatus.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ObjectStatus text="Success State" state="Success"/></core:FragmentDefinition>',
	"sap/m/designtime/OverflowToolbar.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><OverflowToolbar><Button text="Button 1"/><Button text="Button 2"/><Button text="Button 3"/></OverflowToolbar></core:FragmentDefinition>',
	"sap/m/designtime/Page.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Page id="pageId" title="Page Title" floatingFooter="true"><headerContent><Button icon="sap-icon://action" tooltip="Share"/></headerContent><content><VBox><Text text="Lorem ipsum dolor st amet magna aliquyam erat, sed diam voluptuaum.       Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.       Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor       invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. Lorem ipsum dolor sit amet."/></VBox></content><footer><OverflowToolbar><ToolbarSpacer/><Button type="Accept" text="Accept"/></OverflowToolbar></footer></Page></core:FragmentDefinition>',
	"sap/m/designtime/Panel.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Panel width="auto" expandable="true" expanded="true"><headerToolbar><Toolbar><Title text="Header"/><ToolbarSpacer/><Button icon="sap-icon://settings"/></Toolbar></headerToolbar><content><Text text="Panel Content"/></content></Panel></core:FragmentDefinition>',
	"sap/m/designtime/PlanningCalendar.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><PlanningCalendar><rows><PlanningCalendarRow title="Team Member 1"/></rows></PlanningCalendar></core:FragmentDefinition>',
	"sap/m/designtime/PlanningCalendarLegend.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:u="sap.ui.unified" xmlns:core="sap.ui.core"><PlanningCalendarLegend><items><u:CalendarLegendItem text="Legend Item 1" type="Type01"/><u:CalendarLegendItem text="Legend Item 2" type="Type02"/><u:CalendarLegendItem text="Legend Item 3" type="Type03"/></items></PlanningCalendarLegend></core:FragmentDefinition>',
	"sap/m/designtime/ProgressIndicator.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ProgressIndicator percentValue="30"/></core:FragmentDefinition>',
	"sap/m/designtime/RadioButton.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><RadioButton groupName="GroupA" text="Option"/></core:FragmentDefinition>',
	"sap/m/designtime/RadioButtonGroup.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><RadioButtonGroup columns="1"><buttons><RadioButton text="Option One"/><RadioButton text="Option Two"/></buttons></RadioButtonGroup></core:FragmentDefinition>',
	"sap/m/designtime/RangeSlider.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><RangeSlider showAdvancedTooltip="true" range="25,75"/></core:FragmentDefinition>',
	"sap/m/designtime/RatingIndicator.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><RatingIndicator maxValue="5" value="3"/></core:FragmentDefinition>',
	"sap/m/designtime/SearchField.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><SearchField placeholder="Search for ..."/></core:FragmentDefinition>',
	"sap/m/designtime/SegmentedButton.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><SegmentedButton selectedKey="one"><items><SegmentedButtonItem text="Button One" key="one"/><SegmentedButtonItem text="Button Two" key="two"/><SegmentedButtonItem text="Button Three" key="three"/></items></SegmentedButton></core:FragmentDefinition>',
	"sap/m/designtime/Select.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Select><items><core:Item key="item-key-1" text="Item Text One"/><core:Item key="item-key-2" text="Item Text Two"/></items></Select></core:FragmentDefinition>',
	"sap/m/designtime/Slider.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Slider value="30"/></core:FragmentDefinition>',
	"sap/m/designtime/StepInput.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><StepInput value="5" min="0" max="10"/></core:FragmentDefinition>',
	"sap/m/designtime/Switch.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Switch/></core:FragmentDefinition>',
	"sap/m/designtime/TabContainer.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><TabContainer><items><TabContainerItem name="Tab Name 1"><content><Text text="Content 1"/></content></TabContainerItem><TabContainerItem name="Tab Name 2"><content><Text text="Content 2"/></content></TabContainerItem><TabContainerItem name="Tab Name 3"><content><Text text="Content 3"/></content></TabContainerItem></items></TabContainer></core:FragmentDefinition>',
	"sap/m/designtime/Text.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Text text="Text"/></core:FragmentDefinition>',
	"sap/m/designtime/TextArea.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><TextArea value="Lorem ipsum dolor" rows="4"/></core:FragmentDefinition>',
	"sap/m/designtime/TimePicker.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><TimePicker/></core:FragmentDefinition>',
	"sap/m/designtime/Title.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Title text="Title Text"/></core:FragmentDefinition>',
	"sap/m/designtime/ToggleButton.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><ToggleButton text="Toggle Button"/></core:FragmentDefinition>',
	"sap/m/designtime/Toolbar.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Toolbar><Button text="Button 1"/><Button text="Button 2"/><Button text="Button 3"/></Toolbar></core:FragmentDefinition>',
	"sap/m/designtime/VBox.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><VBox><Text text="Text 1"/><Text text="Text 2"/><Text text="Text 3"/></VBox></core:FragmentDefinition>',
	"sap/m/designtime/Wizard.create.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Wizard><WizardStep title="Step 1" validated="true"><Text class="sapUiSmallMarginBottom" text="This is the first step."/></WizardStep><WizardStep title="Step 2" validated="true"><Text class="sapUiSmallMarginBottom" text="This is the second step."/></WizardStep><WizardStep title="Step 3" validated="true"><Text class="sapUiSmallMarginBottom" text="This is the last step."/></WizardStep></Wizard></core:FragmentDefinition>',
	"sap/m/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.m","type":"library","embeds":[],"applicationVersion":{"version":"1.64.0"},"title":"The main UI5 control library, with responsive controls that can be used in touch devices as well as desktop browsers.","description":"The main UI5 control library, with responsive controls that can be used in touch devices as well as desktop browsers.","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.64","libs":{"sap.ui.core":{"minVersion":"1.64.0"},"sap.ui.unified":{"minVersion":"1.64.0","lazy":true}}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.m.ActionListItem","sap.m.ActionSelect","sap.m.ActionSheet","sap.m.App","sap.m.Bar","sap.m.BusyDialog","sap.m.BusyIndicator","sap.m.Button","sap.m.Breadcrumbs","sap.m.Carousel","sap.m.CheckBox","sap.m.ColumnHeaderPopover","sap.m.ColumnListItem","sap.m.ColorPalette","sap.m.ColorPalettePopover","sap.m.ComboBox","sap.m.ComboBoxTextField","sap.m.ComboBoxBase","sap.m.CustomListItem","sap.m.CustomTile","sap.m.CustomTreeItem","sap.m.ColumnHeader","sap.m.DatePicker","sap.m.DateRangeSelection","sap.m.DateTimeField","sap.m.DateTimeInput","sap.m.DateTimePicker","sap.m.Dialog","sap.m.DisplayListItem","sap.m.DraftIndicator","sap.m.FacetFilter","sap.m.FacetFilterItem","sap.m.FacetFilterList","sap.m.FeedContent","sap.m.FeedInput","sap.m.FeedListItem","sap.m.FlexBox","sap.m.FormattedText","sap.m.GenericTag","sap.m.GenericTile","sap.m.GroupHeaderListItem","sap.m.GrowingList","sap.m.HBox","sap.m.HeaderContainer","sap.m.IconTabBar","sap.m.IconTabBarSelectList","sap.m.IconTabHeader","sap.m.Image","sap.m.ImageContent","sap.m.Input","sap.m.InputBase","sap.m.InputListItem","sap.m.Label","sap.m.LightBox","sap.m.Link","sap.m.List","sap.m.ListBase","sap.m.ListItemBase","sap.m.MaskInput","sap.m.Menu","sap.m.MenuButton","sap.m.MessagePage","sap.m.MessagePopover","sap.m.MessageView","sap.m.MessageStrip","sap.m.MultiComboBox","sap.m.MultiEditField","sap.m.MultiInput","sap.m.NavContainer","sap.m.NewsContent","sap.m.NumericContent","sap.m.NotificationListBase","sap.m.NotificationListItem","sap.m.NotificationListGroup","sap.m.PagingButton","sap.m.PlanningCalendarLegend","sap.m.ObjectAttribute","sap.m.ObjectHeader","sap.m.ObjectIdentifier","sap.m.ObjectListItem","sap.m.ObjectMarker","sap.m.ObjectNumber","sap.m.ObjectStatus","sap.m.OverflowToolbar","sap.m.OverflowToolbarButton","sap.m.OverflowToolbarToggleButton","sap.m.P13nColumnsPanel","sap.m.P13nSelectionPanel","sap.m.P13nDimMeasurePanel","sap.m.P13nConditionPanel","sap.m.P13nDialog","sap.m.P13nFilterPanel","sap.m.P13nPanel","sap.m.P13nSortPanel","sap.m.Page","sap.m.Panel","sap.m.PDFViewer","sap.m.PlanningCalendar","sap.m.PlanningCalendarHeader","sap.m.Popover","sap.m.ProgressIndicator","sap.m.PullToRefresh","sap.m.QuickView","sap.m.QuickViewCard","sap.m.QuickViewPage","sap.m.RadioButton","sap.m.RadioButtonGroup","sap.m.RangeSlider","sap.m.RatingIndicator","sap.m.ResponsivePopover","sap.m.ScrollContainer","sap.m.SearchField","sap.m.SegmentedButton","sap.m.Select","sap.m.SelectDialog","sap.m.SelectList","sap.m.SelectionDetails","sap.m.Shell","sap.m.SinglePlanningCalendar","sap.m.SinglePlanningCalendarGrid","sap.m.Slider","sap.m.SliderTooltip","sap.m.SliderTooltipContainer","sap.m.SlideTile","sap.m.StepInput","sap.m.SplitApp","sap.m.SplitContainer","sap.m.StandardListItem","sap.m.StandardTreeItem","sap.m.StandardTile","sap.m.Switch","sap.m.Table","sap.m.TableSelectDialog","sap.m.TabContainer","sap.m.TabStrip","sap.m.Text","sap.m.TextArea","sap.m.Tile","sap.m.TileContainer","sap.m.TileContent","sap.m.TimePicker","sap.m.TimePickerSliders","sap.m.Title","sap.m.ToggleButton","sap.m.Token","sap.m.Tokenizer","sap.m.Toolbar","sap.m.ToolbarSpacer","sap.m.ToolbarSeparator","sap.m.Tree","sap.m.TreeItemBase","sap.m.UploadCollection","sap.m.UploadCollectionToolbarPlaceholder","sap.m.upload.UploadSet","sap.m.VBox","sap.m.ViewSettingsDialog","sap.m.ViewSettingsPopover","sap.m.semantic.DetailPage","sap.m.semantic.SemanticPage","sap.m.semantic.ShareMenuPage","sap.m.semantic.FullscreenPage","sap.m.semantic.MasterPage","sap.m.Wizard","sap.m.WizardStep"],"elements":["sap.m.CarouselLayout","sap.m.Column","sap.m.ColumnPopoverActionItem","sap.m.ColumnPopoverCustomItem","sap.m.ColumnPopoverItem","sap.m.FlexItemData","sap.m.FeedListItemAction","sap.m.IconTabFilter","sap.m.IconTabSeparator","sap.m.LightBoxItem","sap.m.OverflowToolbarLayoutData","sap.m.MaskInputRule","sap.m.MenuItem","sap.m.MessageItem","sap.m.MessagePopoverItem","sap.m.PageAccessibleLandmarkInfo","sap.m.P13nFilterItem","sap.m.P13nItem","sap.m.PlanningCalendarRow","sap.m.PlanningCalendarView","sap.m.P13nColumnsItem","sap.m.P13nDimMeasureItem","sap.m.P13nSortItem","sap.m.QuickViewGroup","sap.m.QuickViewGroupElement","sap.m.ResponsiveScale","sap.m.SegmentedButtonItem","sap.m.SelectionDetailsItem","sap.m.SelectionDetailsItemLine","sap.m.SinglePlanningCalendarDayView","sap.m.SinglePlanningCalendarWeekView","sap.m.SinglePlanningCalendarWorkWeekView","sap.m.SinglePlanningCalendarView","sap.m.SuggestionItem","sap.m.TabContainerItem","sap.m.TabStripItem","sap.m.ToolbarLayoutData","sap.m.UploadCollectionItem","sap.m.UploadCollectionParameter","sap.m.upload.Uploader","sap.m.upload.UploadSetItem","sap.m.ViewSettingsCustomItem","sap.m.ViewSettingsCustomTab","sap.m.ViewSettingsFilterItem","sap.m.ViewSettingsItem","sap.m.semantic.SemanticButton","sap.m.semantic.SemanticSelect","sap.m.semantic.AddAction","sap.m.semantic.CancelAction","sap.m.semantic.DeleteAction","sap.m.semantic.DiscussInJamAction","sap.m.semantic.EditAction","sap.m.semantic.FavoriteAction","sap.m.semantic.FilterAction","sap.m.semantic.FilterSelect","sap.m.semantic.FlagAction","sap.m.semantic.ForwardAction","sap.m.semantic.GroupAction","sap.m.semantic.GroupSelect","sap.m.semantic.MainAction","sap.m.semantic.MessagesIndicator","sap.m.semantic.MultiSelectAction","sap.m.semantic.NegativeAction","sap.m.semantic.OpenInAction","sap.m.semantic.PositiveAction","sap.m.semantic.PrintAction","sap.m.semantic.SaveAction","sap.m.semantic.SendEmailAction","sap.m.semantic.SendMessageAction","sap.m.semantic.ShareInJamAction","sap.m.semantic.SortAction","sap.m.semantic.SortSelect"],"types":["sap.m.BackgroundDesign","sap.m.BarDesign","sap.m.ButtonType","sap.m.CarouselArrowsPlacement","sap.m.DateTimeInputType","sap.m.DialogType","sap.m.DeviationIndicator","sap.m.DraftIndicatorState","sap.m.FacetFilterListDataType","sap.m.FacetFilterType","sap.m.FlexAlignItems","sap.m.FlexAlignSelf","sap.m.FlexDirection","sap.m.FlexWrap","sap.m.FlexJustifyContent","sap.m.FlexRendertype","sap.m.FrameType","sap.m.GenericTagDesign","sap.m.GenericTagValueState","sap.m.GenericTileMode","sap.m.GenericTileScope","sap.m.HeaderLevel","sap.m.IBarHTMLTag","sap.m.IconTabFilterDesign","sap.m.ImageMode","sap.m.Size","sap.m.ValueColor","sap.m.ValueCSSColor","sap.m.InputType","sap.m.LabelDesign","sap.m.LinkConversion","sap.m.ListGrowingDirection","sap.m.ListHeaderDesign","sap.m.ListKeyboardMode","sap.m.ListMode","sap.m.ListSeparators","sap.m.ListType","sap.m.LoadState","sap.m.MenuButtonMode","sap.m.ObjectHeaderPictureShape","sap.m.OverflowToolbarPriority","sap.m.P13nPanelType","sap.m.PageBackgroundDesign","sap.m.PanelAccessibleRole","sap.m.PDFViewerDisplayType","sap.m.PlacementType","sap.m.PopinDisplay","sap.m.PopinLayout","sap.m.QuickViewGroupElementType","sap.m.RatingIndicatorVisualMode","sap.m.ScreenSize","sap.m.SelectionDetailsActionLevel","sap.m.SelectListKeyboardNavigationMode","sap.m.SelectType","sap.m.SplitAppMode","sap.m.StandardTileType","sap.m.StringFilterOperator","sap.m.SwipeDirection","sap.m.SwitchType","sap.m.TimePickerMaskMode","sap.m.TileSizeBehavior","sap.m.ToolbarDesign","sap.m.UploadState","sap.m.VerticalPlacementType","sap.m.semantic.SemanticRuleSetType"],"interfaces":["sap.m.IBar","sap.m.IBreadcrumbs","sap.m.IconTab","sap.m.IScale","sap.m.semantic.IGroup","sap.m.semantic.IFilter","sap.m.semantic.ISort","sap.m.ObjectHeaderContainer","sap.m.IOverflowToolbarContent","sap.m.IHyphenation"]}}}}',
	"sap/ui/core/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.ui.core","type":"library","embeds":[],"applicationVersion":{"version":"1.64.0"},"title":"The SAPUI5 Core Runtime.","description":"The SAPUI5 Core Runtime.\\n\\n  Contains the UI5 jQuery plugins (jQuery.sap.*), the Core and all its components,\\n  base classes for Controls, Components and the Model View Controller classes.","ach":"CA-UI5-COR","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"jquery","packagedWithMySelf":true,"version":"0.0.0"},{"name":"jquery_mobile","packagedWithMySelf":true,"version":"0.0.0"},{"name":"qunit-composite","packagedWithMySelf":true,"version":"0.0.0"},{"name":"qunit-reporter-junit","packagedWithMySelf":true,"version":"0.0.0"},{"name":"iscroll","packagedWithMySelf":true,"version":"0.0.0"},{"name":"swipeview","packagedWithMySelf":true,"version":"0.0.0"},{"name":"mobify","packagedWithMySelf":true,"version":"0.0.0"},{"name":"zynga","packagedWithMySelf":true,"version":"0.0.0"},{"name":"less","packagedWithMySelf":true,"version":"0.0.0"},{"name":"datajs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"d3","packagedWithMySelf":true,"version":"0.0.0"},{"name":"jszip","packagedWithMySelf":true,"version":"0.0.0"},{"name":"caja","packagedWithMySelf":true,"version":"0.0.0"},{"name":"cldr","packagedWithMySelf":true,"version":"0.0.0"},{"name":"mobiscroll","packagedWithMySelf":true,"version":"0.0.0"},{"name":"sinonjs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"urijs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"punycodejs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"flexie.js","packagedWithMySelf":true,"version":"0.0.0"},{"name":"handlebars","packagedWithMySelf":true,"version":"0.0.0"},{"name":"requirejs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"crossroadsjs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"hasherjs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"jssignals","packagedWithMySelf":true,"version":"0.0.0"},{"name":"blanket","packagedWithMySelf":true,"version":"0.0.0"},{"name":"array-polyfills","packagedWithMySelf":true,"version":"0.0.0"},{"name":"Element-getAttributeNames-polyfill","packagedWithMySelf":true,"version":"0.0.0"},{"name":"object-assign-polyfill","packagedWithMySelf":true,"version":"0.0.0"},{"name":"unorm","packagedWithMySelf":true,"version":"0.0.0"},{"name":"tdop","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-promise","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-string-method-startsWith","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-string-methods-endsWith","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-string-methods-includes","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-string-methods-repeat","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-string-methods-pad","packagedWithMySelf":true,"version":"0.0.0"},{"name":"klayjs","packagedWithMySelf":true,"version":"0.0.0"},{"name":"bignumber","packagedWithMySelf":true,"version":"0.0.0"},{"name":"lodash","packagedWithMySelf":true,"version":"0.0.0"},{"name":"hyphenopoly","packagedWithMySelf":true,"version":"0.0.0"},{"name":"es6-shim-nopromise","packagedWithMySelf":true,"version":"0.0.0"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.64","libs":{}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.ui.core.ComponentContainer","sap.ui.core.Control","sap.ui.core.HTML","sap.ui.core.Icon","sap.ui.core.InvisibleText","sap.ui.core.LocalBusyIndicator","sap.ui.core.ScrollBar","sap.ui.core.TooltipBase","sap.ui.core.UIComponent","sap.ui.core.XMLComposite","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.JSView","sap.ui.core.mvc.TemplateView","sap.ui.core.mvc.View","sap.ui.core.mvc.XMLView","sap.ui.core.tmpl.DOMElement","sap.ui.core.tmpl.Template","sap.ui.core.tmpl.TemplateControl"],"elements":["sap.ui.core.CustomData","sap.ui.core.Element","sap.ui.core.Item","sap.ui.core.LayoutData","sap.ui.core.ListItem","sap.ui.core.Message","sap.ui.core.SeparatorItem","sap.ui.core.Title","sap.ui.core.VariantLayoutData","sap.ui.core.dnd.DragDropBase","sap.ui.core.dnd.DragInfo","sap.ui.core.dnd.DropInfo","sap.ui.core.dnd.DragDropInfo","sap.ui.core.search.OpenSearchProvider","sap.ui.core.search.SearchProvider","sap.ui.core.tmpl.DOMAttribute"],"types":["any","boolean","float","int","object","string","void","sap.ui.core.AbsoluteCSSSize","sap.ui.core.AccessibleRole","sap.ui.core.AccessibleLandmarkRole","sap.ui.core.BarColor","sap.ui.core.BusyIndicatorSize","sap.ui.core.CalendarType","sap.ui.core.CSSColor","sap.ui.core.CSSSize","sap.ui.core.CSSSizeShortHand","sap.ui.core.Collision","sap.ui.core.ComponentLifecycle","sap.ui.core.Design","sap.ui.core.Dock","sap.ui.core.HorizontalAlign","sap.ui.core.ID","sap.ui.core.IconColor","sap.ui.core.ImeMode","sap.ui.core.IndicationColor","sap.ui.core.MessageType","sap.ui.core.OpenState","sap.ui.core.Orientation","sap.ui.core.Percentage","sap.ui.core.Priority","sap.ui.core.ScrollBarAction","sap.ui.core.Scrolling","sap.ui.core.SortOrder","sap.ui.core.TextAlign","sap.ui.core.TextDirection","sap.ui.core.TitleLevel","sap.ui.core.URI","sap.ui.core.ValueState","sap.ui.core.VerticalAlign","sap.ui.core.Wrapping","sap.ui.core.dnd.DropEffect","sap.ui.core.dnd.DropLayout","sap.ui.core.dnd.DropPosition","sap.ui.core.mvc.ViewType","sap.ui.core.routing.HistoryDirection"],"interfaces":["sap.ui.core.IShrinkable","sap.ui.core.Label","sap.ui.core.PopupInterface","sap.ui.core.Toolbar","sap.ui.core.IContextMenu","sap.ui.core.IFormContent","sap.ui.core.dnd.IDragInfo","sap.ui.core.dnd.IDropInfo","sap.ui.core.IDScope"]}}}}',
	"sap/ui/layout/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.ui.layout","type":"library","embeds":[],"applicationVersion":{"version":"1.64.0"},"title":"SAPUI5 library with layout controls.","description":"SAPUI5 library with layout controls.","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.64","libs":{"sap.ui.core":{"minVersion":"1.64.0"}}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.ui.layout.AlignedFlowLayout","sap.ui.layout.DynamicSideContent","sap.ui.layout.FixFlex","sap.ui.layout.Grid","sap.ui.layout.HorizontalLayout","sap.ui.layout.ResponsiveFlowLayout","sap.ui.layout.ResponsiveSplitter","sap.ui.layout.ResponsiveSplitterPage","sap.ui.layout.Splitter","sap.ui.layout.VerticalLayout","sap.ui.layout.BlockLayoutCell","sap.ui.layout.BlockLayoutRow","sap.ui.layout.BlockLayout","sap.ui.layout.form.Form","sap.ui.layout.form.FormLayout","sap.ui.layout.form.GridLayout","sap.ui.layout.form.ColumnLayout","sap.ui.layout.form.ResponsiveGridLayout","sap.ui.layout.form.ResponsiveLayout","sap.ui.layout.form.SimpleForm","sap.ui.layout.cssgrid.CSSGrid"],"elements":["sap.ui.layout.GridData","sap.ui.layout.ResponsiveFlowLayoutData","sap.ui.layout.SplitterLayoutData","sap.ui.layout.form.FormContainer","sap.ui.layout.form.FormElement","sap.ui.layout.form.GridContainerData","sap.ui.layout.PaneContainer","sap.ui.layout.SplitPane","sap.ui.layout.form.GridElementData","sap.ui.layout.form.ColumnElementData","sap.ui.layout.form.ColumnContainerData","sap.ui.layout.cssgrid.GridItemLayoutData","sap.ui.layout.cssgrid.GridLayoutBase","sap.ui.layout.cssgrid.GridBasicLayout","sap.ui.layout.cssgrid.GridBoxLayout","sap.ui.layout.cssgrid.GridResponsiveLayout"],"types":["sap.ui.layout.BackgroundDesign","sap.ui.layout.GridIndent","sap.ui.layout.GridPosition","sap.ui.layout.GridSpan","sap.ui.layout.BlockBackgroundType","sap.ui.layout.form.GridElementCells","sap.ui.layout.form.SimpleFormLayout","sap.ui.layout.form.ColumnsXL","sap.ui.layout.form.ColumnsL","sap.ui.layout.form.ColumnsM","sap.ui.layout.form.ColumnCells","sap.ui.layout.form.EmptyCells","sap.ui.layout.cssgrid.CSSGridTrack","sap.ui.layout.cssgrid.CSSGridLine","sap.ui.layout.cssgrid.CSSGridGapShortHand"],"interfaces":["sap.ui.layout.cssgrid.IGridConfigurable"]}}}}',
	"sap/ui/test/BlanketReporterUI.view.xml":'<mvc:View controllerName="sap.ui.test.BlanketReporterUI" xmlns="sap.m" xmlns:table="sap.ui.table" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns:form="sap.ui.layout.form"><form:SimpleForm editable="false" layout="ResponsiveGridLayout" title="Blanket Code Coverage" columnsXL="2" columnsL="1" columnsM="1" emptySpanXL="0" emptySpanL="4" emptySpanM="0" emptySpanS="0" labelSpanXL="4" labelSpanL="3" labelSpanM="4" labelSpanS="12" adjustLabelSpan="false" singleContainerFullSize="false"><core:Title text="Line Coverage"/><Label text="Lines"/><Text text="{path:\'/lines/total\',type:\'sap.ui.model.odata.type.Int32\'}"/><Label text="Missed"/><Text text="{path:\'/lines/missed\',type:\'sap.ui.model.odata.type.Int32\'}"/><Label/><ProgressIndicator width="10em" percentValue="{/lines/coverage}" displayValue="{path:\'/lines/coverage\',type:\'sap.ui.model.odata.type.Double\',formatOptions:{minFractionDigits:1,maxFractionDigits:1}} %" state="{= %{/lines/coverage} &lt; %{/threshold} ? \'Error\' : \'Success\'}"/><core:Title text="{= %{/branchTracking} ? \'Branch Coverage\' : \'\'}"/><Label text="Branches" visible="{= %{/branchTracking}}"/><Text text="{path:\'/branches/total\',type:\'sap.ui.model.odata.type.Int32\'}" visible="{= %{/branchTracking}}"/><Label text="Missed" visible="{= %{/branchTracking}}"/><Text text="{path:\'/branches/missed\',type:\'sap.ui.model.odata.type.Int32\'}" visible="{= %{/branchTracking}}"/><Label visible="{= %{/branchTracking}}"/><ProgressIndicator width="10em" percentValue="{/branches/coverage}" displayValue="{path:\'/branches/coverage\',type:\'sap.ui.model.odata.type.Double\',formatOptions:{minFractionDigits:1,maxFractionDigits:1}} %" state="{= %{/branches/coverage} &lt; %{/threshold} ? \'Error\' : \'Success\'}" visible="{= %{/branchTracking}}"/></form:SimpleForm><table:Table id="Files" selectionMode="Single" selectionBehavior="RowOnly" rows="{/files}" rowSelectionChange="onRowSelection" visibleRowCountMode="Interactive" minAutoRowCount="1" visibleRowCount="{/visible}"><table:extension><HBox><CheckBox selected="{/filterThreshold}" text="Below Threshold ({/threshold} %)" select="onFilterThreshold" visible="{= %{/threshold} &gt; 0}"/><CheckBox select="onRowSelection" selected="{/showHits}" text="Show Hits"/></HBox></table:extension><table:columns><table:Column width="5em" hAlign="Right"><table:label><Text text="Lines"/></table:label><table:template><Text text="{path:\'lines/total\',type:\'sap.ui.model.odata.type.Int32\'}"/></table:template></table:Column><table:Column width="5em" hAlign="Right" sortProperty="lines/missed"><table:label><Text text="Missed"/></table:label><table:template><Text text="{path:\'lines/missed\',type:\'sap.ui.model.data.type.Int32\'}"/></table:template></table:Column><table:Column width="5em" hAlign="Right" sortProperty="lines/coverage"><table:label><Text text="%"/></table:label><table:template><Text text="{path:\'lines/coverage\',type:\'sap.ui.model.odata.type.Double\',formatOptions:{minFractionDigits:1,maxFractionDigits:1}}"/></table:template></table:Column><table:Column width="5em" hAlign="Right" visible="{= %{/branchTracking}}"><table:label><Text text="Branches"/></table:label><table:template><Text text="{path:\'branches/total\',type:\'sap.ui.model.odata.type.Int32\'}"/></table:template></table:Column><table:Column width="5em" hAlign="Right" sortProperty="branches/missed" visible="{= %{/branchTracking}}"><table:label><Text text="Missed"/></table:label><table:template><Text text="{path:\'branches/missed\',type:\'sap.ui.model.odata.type.Int32\'}"/></table:template></table:Column><table:Column width="5em" hAlign="Right" sortProperty="branches/coverage" class="{= %{/branches/coverage} &lt; %{/threshold} ? \'blanket_miss\' : \'\'}" visible="{= %{/branchTracking}}"><table:label><Text text="%"/></table:label><table:template><Text text="{path:\'branches/coverage\',type:\'sap.ui.model.odata.type.Double\',formatOptions:{minFractionDigits:1,maxFractionDigits:1}}"/></table:template></table:Column><table:Column filterProperty="name" sortProperty="name" sorted="true"><table:label><Text text="File"/></table:label><table:template><Text text="{name}"/></table:template></table:Column></table:columns></table:Table><core:HTML id="blanket-source" sanitizeContent="true" visible="false"/></mvc:View>',
	"sap/ushell/components/cards/Card.view.xml":'<core:View controllerName="sap.ushell.components.cards.Card" xmlns="sap.m" xmlns:core="sap.ui.core"><GenericTile header="{/data/display_title_text}" subheader="{/data/display_subtitle_text}" press="onPress"><TileContent footer="Card"/></GenericTile></core:View>',
	"sap/ushell/components/cards/Configuration.view.xml":'<core:View controllerName="sap.ushell.components.cards.Configuration" height="100%" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:codeeditor="sap.ui.codeeditor"><VBox fitContainer="true" justifyContent="SpaceBetween"><Title text="Card Manifest"/><codeeditor:CodeEditor id="manifestEditor" value="{/data/editorValue}" type="json"><codeeditor:layoutData><FlexItemData growFactor="1"/></codeeditor:layoutData></codeeditor:CodeEditor></VBox></core:View>',
	"sap/ushell/components/tiles/action/ActionTile.view.xml":'<View controllerName="sap.ushell.components.tiles.action.ActionTile" height="100%" width="100%" xmlns="sap.ui.core" xmlns:ushell="sap.ushell.ui.tile"><ushell:TileBase id="actionTile" title="{i18n&gt;tile.display.action_chip}" subtitle="{/displayText}" icon="sap-icon://action" press="onPress"/></View>',
	"sap/ushell/components/tiles/cdm/applauncher/manifest.json":'{"_version":"1.1.0","sap.flp":{"type":"tile","tileSize":"1x1"},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncher","_version":"1.0.0","type":"component","applicationVersion":{"version":"1.0.0"},"title":"{{title}}","description":"","tags":{"keywords":[]},"ach":"CA-FE-FLP-EU"},"sap.ui":{"_version":"1.1.0","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_belize","sap_belize_plus"]},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncher","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncher.StaticTile","type":"JS"},"handleValidation":false}}',
	"sap/ushell/components/tiles/cdm/applauncherdynamic/manifest.json":'{"_version":"1.1.0","sap.flp":{"type":"tile","tileSize":"1x1"},"sap.app":{"id":"sap.ushell.components.tiles.cdm.applauncherdynamic","_version":"1.0.0","type":"component","applicationVersion":{"version":"1.0.0"},"title":"{{title}}","description":"","tags":{"keywords":[]},"ach":"CA-FE-FLP-EU"},"sap.ui":{"_version":"1.1.0","icons":{"icon":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_belize","sap_belize_plus"]},"sap.ui5":{"_version":"1.1.0","componentName":"sap.ushell.components.tiles.cdm.applauncherdynamic","dependencies":{"minUI5Version":"1.42","libs":{"sap.m":{}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"rootView":{"viewName":"sap.ushell.components.tiles.cdm.applauncherdynamic.DynamicTile","type":"JS"},"handleValidation":false}}',
	"sap/ushell/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.ushell","type":"library","embeds":["components/appfinder","components/cards","components/factsheet","components/homepage","components/shell/MeArea","components/shell/MeArea/fiori3","components/shell/Notifications","components/shell/Search","components/shell/UserImage","components/tiles/cdm/applauncher","components/tiles/cdm/applauncherdynamic","plugins/appwarmup","plugins/ghostapp","plugins/rta-personalize","plugins/rta","renderers/fiori2/search/container"],"applicationVersion":{"version":"1.64.0"},"title":"SAP library: sap.ushell","description":"SAP library: sap.ushell","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"touchpunch","packagedWithMySelf":true,"version":"0.0.0"},{"name":"resize_event","packagedWithMySelf":true,"version":"0.0.0"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.64","libs":{"sap.ui.core":{"minVersion":"1.64.0"},"sap.ui.layout":{"minVersion":"1.64.0"},"sap.m":{"minVersion":"1.64.0"},"sap.ui.table":{"minVersion":"1.64.0","lazy":true}}},"library":{"i18n":false}}}',
	"sap/ushell/plugins/appwarmup/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","id":"sap.ushell.plugins.appwarmup","type":"component","applicationVersion":{"version":"1.0.0"}},"sap.ui":{"_version":"1.1.0","technology":"UI5","supportedThemes":["sap_hcb","sap_bluecrystal"],"deviceTypes":{"desktop":true,"tablet":false,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.54.0","libs":{"sap.ui.core":{"minVersion":"1.54.0"}}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/plugins/ghostapp/manifest.json":'{"_version":"1.2.0","sap.app":{"_version":"1.2.0","id":"sap.ushell.plugins.ghostapp","i18n":"i18n/i18n.properties","type":"application","applicationVersion":{"version":"11.7.0-SNAPSHOT"},"title":"Warmup Application","description":"List report app for code warm-up during idle time","tags":{"keywords":[]},"ach":"MM-FIO-IM-SGM","dataSources":{"mainService":{"uri":"/ghostapp-c9f1f0bd-ff78-4660-9a1f-295814f00fe0/","type":"OData","settings":{"localUri":"localService/metadata.xml"}}},"offline":false,"resources":"resources.json","sourceTemplate":{"id":"ui5template.smarttemplate","version":"1.0.0"}},"sap.fiori":{"_version":"1.1.0","registrationIds":["F1595"],"archeType":"analytical"},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_bluecrystal"]},"sap.ui5":{"_version":"1.1.0","services":{"ShellUIService":{"factoryName":"sap.ushell.plugins.appwarmup.ShellUIService"}},"resources":{"js":[],"css":[]},"config":{"sapFiori2Adaptation":true},"dependencies":{"minUI5Version":"1.53.0-SNAPSHOT","libs":{"sap.ui.core":{},"sap.m":{"lazy":false},"sap.ui.comp":{"lazy":false},"sap.ui.generic.app":{"minVersion":"1.34.0"},"sap.uxap":{"lazy":false},"sap.suite.ui.generic.template":{}}},"models":{"":{"dataSource":"mainService","preload":true,"settings":{"defaultBindingMode":"TwoWay","defaultCountMode":"Inline","refreshAfterChange":false}}},"extends":{"extensions":{}},"contentDensities":{"compact":true,"cozy":true},"componentName":"sap.ushell.plugins.ghostapp"},"sap.ui.generic.app":{"_version":"1.1.0","pages":[{"entitySet":"MaterialMultiStockByDates","component":{"name":"sap.suite.ui.generic.template.ListReport","list":true,"settings":{"smartVariantManagement":true}}}]},"sap.platform.abap":{"_version":"1.1.0","uri":"/sap/bc/ui5_ui5/sap/stock_multimas1"},"sap.platform.hcp":{"_version":"1.1.0","uri":""},"sap.copilot":{"_version":"1.0.0","contextAnalysis":{"allowAddingObjectsFromAppScreenToCollection":false}}}',
	"sap/ushell/plugins/rta-personalize/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","i18n":"i18n/i18n.properties","id":"sap.ushell.plugins.rta-personalize","title":"{{APP_TITLE}}","type":"component","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-FL-RTA"},"sap.ui":{"_version":"1.1.0","technology":"UI5","supportedThemes":["sap_hcb","sap_bluecrystal"],"deviceTypes":{"desktop":true,"tablet":false,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.30.1","libs":{"sap.ui.core":{"minVersion":"1.30.1"},"sap.m":{"minVersion":"1.30.1"},"sap.ui.dt":{"minVersion":"1.30.1","lazy":true},"sap.ui.rta":{"minVersion":"1.30.1","lazy":true}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/plugins/rta/manifest.json":'{"_version":"1.1.0","sap.app":{"_version":"1.1.0","i18n":"i18n/i18n.properties","id":"sap.ushell.plugins.rta","title":"{{APP_TITLE}}","type":"component","applicationVersion":{"version":"1.0.0"},"ach":"CA-UI5-FL-RTA"},"sap.ui":{"_version":"1.1.0","technology":"UI5","supportedThemes":["sap_hcb","sap_bluecrystal"],"deviceTypes":{"desktop":true,"tablet":false,"phone":false}},"sap.ui5":{"_version":"1.1.0","contentDensities":{"compact":true,"cozy":false},"dependencies":{"minUI5Version":"1.30.1","libs":{"sap.ui.core":{"minVersion":"1.30.1"},"sap.m":{"minVersion":"1.30.1"},"sap.ui.dt":{"minVersion":"1.30.1","lazy":true},"sap.ui.rta":{"minVersion":"1.30.1","lazy":true}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}}},"sap.flp":{"type":"plugin"}}',
	"sap/ushell/renderers/fiori2/HeadEndItemsOverflowPopover.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Popover id="headEndItemsOverflow" placement="Bottom" showHeader="false" showArrow="false" class="sapUshellPopupContainer" afterClose=".destroyHeadEndItemsOverflow"><content><List showSeparators="None" items="{path:\'/headEndItems\',filters:{path:\'\',test:\'.isHeadEndItemInOverflow\'},factory:\'.headEndItemsOverflowItemFactory\'}"/></content></Popover></core:FragmentDefinition>',
	"sap/ushell/ui/fiori3/ShellHeader.fragment.xml":'<core:FragmentDefinition xmlns="sap.ushell.ui.shell" xmlns:core="sap.ui.core" xmlns:fiori3="sap.ushell.ui.fiori3"><fiori3:ShellHeader id="shell-header" showLogo="{/showLogo}" visible="{/headerVisible}" headItems="{path:\'/headItems\',factory:\'.shellUpdateAggItem\'}" headEndItems="{path:\'/headEndItems\',factory:\'.shellUpdateAggItem\',filters:[{path:\'\',test:\'.isHeadEndItemNotInOverflow\'}]}" centralAreaElement="{/centralAreaElement}"><fiori3:title><ShellTitle id="shellTitle" text="{/title}"/></fiori3:title><fiori3:appTitle><ShellAppTitle id="shellAppTitle" text="{/application/title}" tooltip="{i18n&gt;shellNavMenu_openMenuTooltip}"/></fiori3:appTitle></fiori3:ShellHeader></core:FragmentDefinition>',
	"sap/ushell/ui/fiori3/ShellLayout.fragment.xml":'<core:FragmentDefinition xmlns="sap.ushell.ui.shell" xmlns:core="sap.ui.core" xmlns:fiori3="sap.ushell.ui.fiori3"><ShellLayout floatingContainerVisible="false" toolAreaVisible="{/currentState/toolAreaVisible}" backgroundColorForce="false" showBrandLine="false" showAnimation="false" enableCanvasShapes="{/enableBackGroundShapes}" id="shell"><canvasSplitContainer><SplitContainer id="shell-split" showSecondaryContent="{/currentState/showPane}" subHeader="{path:\'/currentState/subHeader\',factory:\'.shellUpdateAggItem\'}" secondaryContent="{path:\'/currentState/paneContent\',factory:\'.shellUpdateAggItem\'}"><content><fiori3:AppContainer id="viewPortContainer" afterNavigate=".onAfterNavigate"/></content><secondaryContent/></SplitContainer></canvasSplitContainer><rightFloatingContainer><RightFloatingContainer id="right-floating-container" top="6.875" hideItemsAfterPresentation="true" visible="{/currentState/showRightFloatingContainer}" floatingContainerItems="{path:\'/currentState/RightFloatingContainerItems\',factory:\'.shellUpdateAggItem\'}" insertItemsWithAnimation="{path:\'/animationMode\',formatter:\'.isAnimationModeNotMinimal\'}"/></rightFloatingContainer></ShellLayout></core:FragmentDefinition>',
	"jquery-ui-core.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
(function(q){var M="The file jquery-ui-core.js has been moved to sap.ui.thirdparty.jqueryui! Please update the dependencies accordingly.";if(q&&q.sap&&q.sap.require){q.sap.require("sap.ui.thirdparty.jqueryui.jquery-ui-core");q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery);
},
	"jquery-ui-datepicker.js":function(){(function(q){var M="The file jquery-ui-datepicker.js has been moved to sap.ui.thirdparty.jqueryui! Please update the dependencies accordingly.";if(q&&q.sap&&q.sap.require){q.sap.require("sap.ui.thirdparty.jqueryui.jquery-ui-datepicker");q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery);
},
	"jquery-ui-position.js":function(){(function(q){var M="The file jquery-ui-position.js has been moved to sap.ui.thirdparty.jqueryui! Please update the dependencies accordingly.";if(q&&q.sap&&q.sap.require){q.sap.require("sap.ui.thirdparty.jqueryui.jquery-ui-position");q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery);
},
	"sap/ui/model/odata/datajs.js":function(){(function(q){var M="The file datajs.js has been moved from sap.ui.model.odata to sap.ui.thirdparty! Please update the dependencies accordingly.";if(q&&q.sap&&q.sap.require){q.sap.require("sap.ui.thirdparty.datajs");q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery);
},
	"sap/ui/qunit/qunit.js":function(){(function(q){var M="The file qunit.js has been moved from sap.ui.qunit to sap.ui.thirdparty! Please update the dependencies accordingly.";if(q&&q.sap&&q.sap.require){q.sap.require("sap.ui.thirdparty.qunit");q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery);
},
	"sap/ui/thirdparty/es6-object-assign.js":function(){if(typeof Object.assign!='function'){Object.defineProperty(Object,"assign",{value:function assign(t,v){'use strict';if(t==null){throw new TypeError('Cannot convert undefined or null to object');}t=Object(t);for(var i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null){for(var a in n){if(Object.prototype.hasOwnProperty.call(n,a)){t[a]=n[a];}}}}return t;},writable:true,configurable:true});}
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-blind.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-blind.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-blind.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(['sap/ui/thirdparty/jqueryui/jquery-ui-effect-blind'],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-bounce.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-bounce.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-bounce.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-bounce"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-clip.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-clip.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-clip.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-clip"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-core.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-core.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-drop.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-drop.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-drop.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-drop"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-explode.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-explode.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-explode.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-explode"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-fade.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-fade.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-fade.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-fade"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-fold.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-fold.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-fold.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-fold"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-highlight.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-highlight.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-highlight.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-highlight"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-pulsate.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-pulsate.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-pulsate.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-pulsate"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-scale.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-scale.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-scale.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-scale"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-shake.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-shake.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-shake.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-shake"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-slide.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-slide.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-slide.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-slide"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/jqueryui/jquery-effects-transfer.js":function(){(function(q,s){var M="The file sap/ui/thirdparty/jqueryui/jquery-effects-transfer.js has been renamed to sap/ui/thirdparty/jqueryui/jquery-ui-effect-transfer.js! Please update the dependencies accordingly.";if(s&&s.ui&&s.ui.define){s.ui.define(["sap/ui/thirdparty/jqueryui/jquery-ui-effect-transfer"],function(q){return q;});q.sap.log.warning(M);}else{throw new Error(M);}})(window.jQuery,window.sap);
},
	"sap/ui/thirdparty/klay.js":function(){(function(){var x,y;if(typeof(window)!=='undefined'){x=window;y=x.document;}else{x={Array:function(){}};}function z(){}function E(){}function pb(){}function Ab(){}function Tt(){}function Jt(){}function Jq(){}function Vq(){}function Vs(){}function yl(){}function Yl(){}function gm(){}function Cu(){}function tJ(){}function NJ(){}function PJ(){}function PS(){}function sS(){}function yS(){}function AS(){}function MS(){}function RS(){}function TS(){}function lR(){}function HR(){}function IR(){}function KR(){}function WR(){}function AT(){}function FT(){}function HT(){}function JT(){}function LT(){}function NT(){}function sU(){}function uV(){}function xV(){}function EV(){}function HW(){}function UX(){}function XX(){}function ZX(){}function _X(){}function bY(){}function dY(){}function wY(){}function zY(){}function SY(){}function VY(){}function qZ(){}function tZ(){}function wZ(){}function AZ(){}function d$(){}function g$(){}function j$(){}function w$(){}function z$(){}function C$(){}function F$(){}function I$(){}function L$(){}function N$(){}function R$(){}function X$(){}function _$(){}function k0(){}function m0(){}function s0(){}function w0(){}function A0(){}function C0(){}function E0(){}function G0(){}function V0(){}function Z0(){}function _0(){}function _1(){}function b1(){}function e1(){}function k1(){}function q1(){}function u1(){}function R1(){}function X1(){}function Z1(){}function c2(){}function f2(){}function h2(){}function k2(){}function n2(){}function q2(){}function x2(){}function A2(){}function H2(){}function H4(){}function z4(){}function B4(){}function D4(){}function U4(){}function i3(){}function l3(){}function u3(){}function C3(){}function I3(){}function $5(){}function d7(){}function V7(){}function q8(){}function j3(){}function o3(){}function v3(){}function x3(){}function A3(){}function D3(){}function F3(){}function J3(){}function M3(){}function N3(){}function O3(){}function P3(){}function R3(){}function S3(){}function T3(a){}function sP(a){}function XW(a){}function _t(){Wt()}function lI(){GP()}function J8(){G8()}function m8(){k8()}function CQ(){zQ()}function CV(){AV()}function q0(){p0()}function S0(){J0()}function y9(){w9()}function p4(){qn()}function r4(){Hab()}function s4(){vn()}function v4(){wn()}function y4(){Xcb()}function A4(){Mfb()}function ft(){_s(this)}function uP(){sP(this)}function GU(){tU(this)}function ZW(){XW(this)}function ic(a){this.a=a}function sc(a){this.a=a}function $c(a){this.a=a}function sf(a){this.a=a}function Qg(a){this.a=a}function qh(a){this.a=a}function Vj(a){this.a=a}function Nk(a){this.a=a}function km(a){this.a=a}function dm(a){this.b=a}function En(a){this.a=a}function Hn(a){this.a=a}function Yp(a){this.a=a}function bq(a){this.a=a}function eq(a){this.a=a}function tq(a){this.a=a}function wq(a){this.a=a}function ku(a){this.a=a}function uu(a){this.a=a}function Gu(a){this.a=a}function Uu(a){this.a=a}function WJ(a){this.a=a}function rP(a){this.a=a}function $V(a){this.a=a}function tW(a){this.a=a}function yW(a){this.e=a}function fY(a){this.a=a}function hY(a){this.a=a}function lY(a){this.a=a}function nY(a){this.a=a}function CY(a){this.a=a}function JY(a){this.a=a}function SZ(a){this.a=a}function Z$(a){this.a=a}function b_(a){this.a=a}function d_(a){this.a=a}function f_(a){this.a=a}function w1(a){this.a=a}function y1(a){this.a=a}function E3(a){this.a=a}function q4(a){this.a=a}function x4(a){this.a=a}function F4(a){this.a=a}function $8(a){this.a=a}function a9(a){this.a=a}function l9(a){this.a=a}function C9(a){this.a=a}function k9(a){this.c=a}function z5(a){this.a=a}function C5(a){this.a=a}function F5(a){this.a=a}function J5(a){this.a=a}function _5(a){this.a=a}function u6(a){this.a=a}function v6(a){this.a=a}function V6(a){this.a=a}function X6(a){this.a=a}function Y6(a){this.a=a}function Z6(a){this.d=a}function e7(a){this.a=a}function r7(a){this.a=a}function s7(a){this.a=a}function t7(a){this.a=a}function u7(a){this.b=a}function v7(a){this.a=a}function w7(a){this.a=a}function _7(a){this.c=a}function h8(a){this.a=a}function i8(a){this.a=a}function n8(a){this.a=a}function o8(a){this.b=a}function r8(a){this.b=a}function s8(a){this.c=a}function z8(a){this.a=a}function K8(a){this.a=a}function L8(a){this.a=a}function ju(){this.a=[]}function V8(a){this.a=a}function W8(a){this.a=a}function u5(a){a.b=a.a}function vg(a){a.c=a.d.d}function sX(a,b){a.g=b}function b9(a,b){a.k=b}function m9(a,b){a.a=b}function r9(a,b){a.b=b}function qW(a,b){a.e.k=b}function qu(a){return a.a}function yu(a){return a.a}function Mu(a){return a.a}function $u(a){return a.a}function rv(a){return a.a}function jv(){return null}function Fu(){return null}function Rh(){this.c=this}function D9(){_s(this)}function K9(){_U(this)}function b5(a){a5(this,a)}function GO(a){IO();$O(a)}function mI(a){a.a=new aJ}function IZ(a,b){a.a=b-a.a}function KZ(a,b){a.b=b-a.b}function Dq(){Dq=E;new Jq}function nW(){nW=E;new HW}function ni(){throw new sa}function ii(){throw new sa}function ji(){throw new sa}function li(){throw new sa}function mi(){throw new sa}function dd(){throw new sa}function pj(){throw new sa}function Wn(){throw new sa}function $n(){throw new sa}function qT(){this.a=new GU}function fU(){this.a=new GU}function cV(){this.a=new GU}function pV(){this.a=new GU}function l7(){this.a=new GU}function k7(){this.a=new d7}function A7(){this.a=new n7}function t8(){this.b=new GU}function jJ(){aJ.call(this)}function ZN(){UN.call(this)}function AP(){uP.call(this)}function DP(){uP.call(this)}function q7(){GU.call(this)}function ma(){ft.call(this)}function na(){ft.call(this)}function oa(){ft.call(this)}function pa(){ft.call(this)}function qa(){ft.call(this)}function ra(){ft.call(this)}function sa(){ft.call(this)}function ta(){this.f=new GU}function ua(){this.d=new GU}function jV(){this.a=new Lb}function wa(){throw new sa}function xa(){throw new sa}function ya(){throw new sa}function za(){throw new sa}function Aa(){throw new sa}function Ba(){this.a=new GU}function it(){it=E;ht=new pb}function Da(){Da=E;new j3}function zb(){zb=E;yb=new Ab}function Tq(){Tq=E;Sq=new Vq}function dr(){dr=E;cr=new er}function Gt(){Gt=E;Ft=new Jt}function Bu(){Bu=E;Au=new Cu}function fR(){fR=E;eR=new lR}function VR(){VR=E;UR=new WR}function jS(a){dS(a);return a}function jl(a){Gi();this.a=a}function vi(a){hi();this.a=a}function Uk(a){hi();this.a=a}function Zk(a){hi();this.a=a}function ds(a,b){a.i=b;b.f=a}function Ra(a,b){_p(a.b,b)}function Sa(){ft.call(this)}function Ta(){ft.call(this)}function Ua(){ft.call(this)}function Va(){Ss.call(this)}function Wa(){Ss.call(this)}function Xa(){oa.call(this)}function Ya(){na.call(this)}function gt(a){et.call(this,a)}function Vd(a){Md.call(this,a)}function uh(a){Md.call(this,a)}function Bk(a){Hj.call(this,a)}function Jk(a){dk.call(this,a)}function Lm(a){Em.call(this,a)}function nq(a){vm.call(this,a)}function ap(a){Ro.call(this,a)}function ir(a){Hj.call(this,a)}function Op(a,b){a.a.W().nb(b)}function qb(a,b){return a===b}function Zr(a){return!a?0:a.a}function Rs(a){return!a?0:a.d}function Ts(a){return!a?0:a.j}function zu(a){gt.call(this,a)}function $J(a){gt.call(this,a)}function _J(a){gt.call(this,a)}function EQ(a){_J.call(this,a)}function Tu(){Uu.call(this,{})}function y5(a){b5.call(this,a)}function H5(a){b5.call(this,a)}function WP(a,b,c){XP(a,b.b,c)}function a7(a,b,c){f6(a.c,b,c)}function qV(a,b,c){a.b.Fc(b,c)}function M9(a){$8.call(this,a)}function P9(a){$8.call(this,a)}function YY(){this.a=(sK(),qK)}function cZ(){this.a=(sK(),qK)}function Lb(){this.a=new K9}function Ob(){this.a=new pg}function vT(){vT=E;uT=new AT}function AV(){AV=E;zV=new EV}function p0(){p0=E;o0=new s0}function jc(a){Xo();return a}function kc(a){So(a);return a}function lc(a){et.call(this,a)}function mc(a){gt.call(this,a)}function oc(a){gt.call(this,a)}function Kb(a){this.c=$v(_b(a))}function FI(){this.a=0;this.b=0}function aJ(){OI(this);_I(this)}function cI(){aI==null&&(aI=[])}function tc(a){a.b=null;a.c=0}function mS(a,b){a.b=b;return a}function nS(a,b){a.c=b;return a}function oS(a,b){a.f=b;return a}function pS(a,b){a.g=b;return a}function S7(a,b){a.a=b;return a}function T7(a,b){a.f=b;return a}function U7(a,b){a.k=b;return a}function xc(a,b){return a.e-b.e}function H3(a,b){return a.d-b.d}function Dc(a){return a<0?-a:a}function Ec(a){return isNaN(a)}function gv(a){return new Gu(a)}function iv(a){return new lv(a)}function Pc(a){gt.call(this,a)}function Qc(a){gt.call(this,a)}function Sc(a){gt.call(this,a)}function Tc(a){gt.call(this,a)}function Vc(a){gt.call(this,a)}function et(a){this.f=a;_s(this)}function _2(){this.b=0;this.a=0}function Ws(){Ws=E;Math.log(2)}function Zc(){Zc=E;Xtb=$tb()}function _c(c,a,b){c.set(a,b)}function ad(c,a,b){c.set(a,b)}function Ot(a,b){Nt();Mt.dc(a,b)}function tv(a,b){return $H(a,b)}function zm(a,b){return a.a.B(b)}function aP(a,b){return a.g[b.e]}function bP(a,b){return a.i[b.e]}function cP(a,b){return a.j[b.e]}function dP(a,b){return a.n[b.e]}function eP(a,b){return a.o[b.e]}function Ou(b,a){return a in b.a}function kd(a,b){return a.b-b.b}function ld(a,b){return a.d-b.d}function md(a,b){return a.i-b.i}function nd(a,b){return a>b?a:b}function rd(a,b){return a>b?a:b}function sd(a,b){return a>b?a:b}function vd(a,b){return a<b?a:b}function wd(a,b){return a<b?a:b}function xd(a,b){return a<b?a:b}function yd(a){return!!a&&a.b}function zd(a){uo(a,a.length)}function Ad(a){hq(a,a.length)}function Bd(a){iq(a,a.length)}function Nd(a){mc.call(this,a)}function Od(a){v6.call(this,a)}function Pd(a){C5.call(this,a)}function Qd(a){oc.call(this,a)}function Rd(a){o8.call(this,a)}function Sd(a){Rd.call(this,a)}function Td(a){Ak.call(this,a)}function Ud(){v6.call(this,'')}function Wd(){v6.call(this,'')}function Xd(a){Cl(a);return a.n}function Yd(a){Cl(a);return a.j}function Zd(a){return a.e&&a.e()}function Lk(a,b){return a.a.sb(b)}function Sb(a,b){return a?a:_b(b)}function vW(a,b){return rJ(a.a,b)}function w4(a,b){return t4(a.a,b)}function VH(a,b){return RH(a,b)<0}function ke(a){return Da(),''+a}function qe(a){return!a?null:a.d}function Gr(a){hi();this.a=_b(a)}function I9(){F9();this.g=new Um}function J0(){J0=E;I0=(kP(),hP)}function Et(){ut!=0&&(ut=0);wt=-1}function bS(a){cS(a,a.d);return a}function i7(a,b){a.a.d=b;return a}function g7(a,b){a.a.a=b;return a}function h7(a,b){a.a.c=b;return a}function j7(a,b){a.a.f=b;return a}function z7(a,b){a.a.f=b;return a}function y7(a,b){a.a.b=b;return a}function xe(a,b,c){a.splice(b,c)}function ye(a,b){return Akb(b,a)}function ze(a,b){return a.b.t(b)}function Ce(a,b){return a.c.t(b)}function De(a,b){return a.a.R(b)}function Ee(b,a){return b.get(a)}function Je(b,a){return b.get(a)}function Ke(a,b){return a.test(b)}function Le(a){return a<=0?0-a:a}function Me(a){return Da(),''+a}function Ne(a){return Da(),''+a}function Oe(a){this.a=new og(a)}function Pe(a){this.a=new nv(a)}function nc(a){this.a=Wv(_b(a),19)}function Bf(a){this.b=Wv(_b(a),57)}function Ch(a){this.d=Wv(_b(a),56)}function Ac(a,b){this.d=a;this.e=b}function Ie(a,b){this.b=a;this.a=b}function tm(a,b){this.b=a;this.a=b}function Pf(a,b){this.b=a;this.c=b}function Fk(a,b){this.a=a;this.b=b}function Bn(a,b){this.a=a;this.b=b}function Sn(a,b){this.a=a;this.f=b}function Mc(a,b){Ac.call(this,a,b)}function Hh(a,b){Ac.call(this,a,b)}function yp(a,b){Ac.call(this,a,b)}function bp(a,b){this.b=a;this.c=b}function Oq(a,b){this.e=a;this.c=b}function Yq(a,b){this.a=a;this.b=b}function fs(a,b){this.a=a;this.b=b}function rs(a,b){Ac.call(this,a,b)}function _u(a,b){this.a=a;this.b=b}function Mo(a){this.a=Wv(_b(a),20)}function Ro(a){this.a=Wv(_b(a),20)}function Fp(a){this.a=Wv(_b(a),57)}function vm(a){this.b=Wv(_b(a),35)}function HI(a,b){this.a=a;this.b=b}function RJ(a,b){this.a=a;this.b=b}function jK(a,b){Ac.call(this,a,b)}function Qm(a,b){return bX(a.b,b)}function fv(a){return tu(),a?su:ru}function tK(a){return a==oK||a==pK}function uK(a){return a==rK||a==nK}function RI(a,b){TI(a,b,a.a,a.a.a)}function SI(a,b){TI(a,b,a.c.b,a.c)}function wK(a,b){Ac.call(this,a,b)}function FK(a,b){Ac.call(this,a,b)}function OK(a,b){Ac.call(this,a,b)}function ZK(a,b){Ac.call(this,a,b)}function fL(a,b){Ac.call(this,a,b)}function pM(a,b){Ac.call(this,a,b)}function AM(a,b){Ac.call(this,a,b)}function NM(a,b){Ac.call(this,a,b)}function VM(a,b){Ac.call(this,a,b)}function uN(a,b){Ac.call(this,a,b)}function EN(a,b){Ac.call(this,a,b)}function NN(a,b){Ac.call(this,a,b)}function EO(a,b){Ac.call(this,a,b)}function lP(a,b){Ac.call(this,a,b)}function OS(a,b){this.b=a;this.a=b}function VS(a,b){this.c=a;this.d=b}function wW(a,b){this.a=a;this.c=b}function BW(a,b){this.e=a;this.c=b}function FW(a,b){this.e=a;this.d=b}function fT(a,b){Ac.call(this,a,b)}function DX(a,b){Ac.call(this,a,b)}function MY(a,b){this.a=a;this.b=b}function PY(a,b){this.a=a;this.b=b}function YZ(a,b){Ac.call(this,a,b)}function f0(a,b){Ac.call(this,a,b)}function J1(a,b){Ac.call(this,a,b)}function Y3(a,b){Ac.call(this,a,b)}function h4(a,b){Ac.call(this,a,b)}function $7(a,b){Ac.call(this,a,b)}function y8(a,b){Ac.call(this,a,b)}function q9(a,b){Ac.call(this,a,b)}function MR(a,b){return vk(a.c,b)}function ag(a){return a.b<a.d.Y()}function bg(a){return a.d.c+a.e.c}function cg(a,b){return a.c.ab(b)}function dg(a,b){return a.b.kb(b)}function eg(a,b){return a.b.lb(b)}function fg(a,b){return a.b.pb(b)}function gg(a,b){return a.b.kb(b)}function hg(a,b){return a.b.lb(b)}function dT(a){return a==$S||a==bT}function eT(a){return a==$S||a==_S}function MM(a){return a!=IM&&a!=JM}function lg(a){return Yf(a),a.d.Y()}function ng(a){this.c=a;tY(this)}function og(a){$mb.call(this,a,0)}function pg(){nv.call(this,null)}function xk(){uh.call(this,new K9)}function Ap(){yp.call(this,'KEY',0)}function lr(a){kr();dk.call(this,a)}function Dt(a){x.clearTimeout(a)}function um(a){return a.Vb(a.b.H())}function Pp(a){this.a=Wv(_b(a),144)}function Um(){this.b=(mp(),new K9)}function zg(){zg=E;gsb=new P3}function Ag(){Ag=E;Qpb=new J3}function Bg(){Bg=E;mqb=new O3}function hc(){hc=E;gc=new Kb(',')}function nJ(){nJ=E;Math.pow(2,-65)}function UN(){VN.call(this,0,0,0,0)}function Fg(a,b){Ac.call(this,a,b)}function Gg(a,b){Ac.call(this,a,b)}function Hg(a,b){Ac.call(this,a,b)}function Ig(a,b){Ac.call(this,a,b)}function xQ(a){wJ();CJ.call(this,a)}function Mg(a,b){Ac.call(this,a,b)}function Ng(a,b){this.c=a;this.b=b}function Og(a,b){this.a=a;this.b=b}function Pg(a,b){this.b=a;this.d=b}function Rg(a,b){Ac.call(this,a,b)}function Sg(a,b){Ac.call(this,a,b)}function Tg(a,b){Ac.call(this,a,b)}function Ug(a,b){Ac.call(this,a,b)}function Wg(a,b){Ac.call(this,a,b)}function Xg(a,b){Ac.call(this,a,b)}function Yg(a,b){Ac.call(this,a,b)}function Zg(a,b){Ac.call(this,a,b)}function $g(a,b){Ac.call(this,a,b)}function _g(a,b){Ac.call(this,a,b)}function ah(a,b){Ac.call(this,a,b)}function bh(a,b){Ac.call(this,a,b)}function ch(a,b,c){a.splice(b,0,c)}function dh(a,b,c){a.g[b.e][b.e]=c}function D6(a,b){a.a=b;a.g=0;a.f=0}function BI(a){a.a=0;a.b=0;return a}function rY(a){return zU(a.b.c,a,0)}function hh(a){return Math.ceil(a)}function ih(a){return Math.sqrt(a)}function jh(a,b){return Je(a.a,b)}function kh(a,b){return!!Wvb(a,b)}function lh(a,b){up(a,a.length,b)}function mh(a,b){Ac.call(this,a,b)}function nh(a,b){this.b=a;this.a=b}function oh(a,b){this.d=a;this.e=b}function ph(){xn();this.c=new Lb}function rh(){Ndb();this.a=new Lb}function sh(){Zc();return new Xtb}function Xb(a){if(!a){throw new na}}function dc(a){if(!a){throw new qa}}function Vm(a){if(!a){throw new Ua}}function SV(){this.b=(mp(),new K9)}function Q4(){this.b=(mp(),new K9)}function II(a){this.a=a.a;this.b=a.b}function gw(a){return a==null?null:a}function re(a){return!a?null:a.zb()}function $i(a,b){return a.Nb().sb(b)}function aq(a,b){return a.a.a.a.U(b)}function nl(a,b){return Ll(a.mb(),b)}function B3(a,b){return glb(b.b,a.b)}function h3(a,b){return glb(b.k,a.k)}function Th(a){return Math.floor(a)}function Wh(a,b){return a.a+=''+b,a}function Xh(a,b){a.a+=''+b;return a}function Yh(a,b){a.a+=''+b;return a}function iw(a){Oi(a==null);return a}function T2(a){a.d&&Z2(a);return a.a}function U2(a){a.d&&Z2(a);return a.b}function V2(a){a.d&&Z2(a);return a.c}function bi(a,b){vU(a.a,b);return b}function ci(a){_U(this);he(this,a)}function _4(a){this.c=a;this.e=false}function Jh(){Hh.call(this,'OPEN',0)}function ts(){rs.call(this,'SIZE',0)}function gi(){C5.call(this,'UTF-8')}function oi(){oi=E;Kxb={};Mxb={}}function IO(){IO=E;HO=new DJ(yzb,0)}function Sh(a){_b(a);return new Vh(a)}function ri(a){Da();return a.length}function si(a,b){return GS(a.a,b.a)}function ti(a,b){return _i(a.a,b.a)}function Ys(a,b){return a==b?0:a?1:-1}function Cs(a){return Rs(a.e)-Rs(a.g)}function xI(a){return new HI(a.a,a.b)}function RN(a){return new HI(a.d,a.e)}function tU(a){a.c=xv(UF,syb,1,0,4,1)}function Cp(){yp.call(this,'VALUE',1)}function dX(a){cX.call(this);this.a=a}function Q2(a){this.a=new $2;this.b=a}function Vh(a){this.a=a;Rh.call(this)}function vl(a){this.a=a;Rh.call(this)}function U8(){P8();this.d=(ckb(),bkb)}function Ji(a){if(!a){throw new pa}}function Mi(a){if(!a){throw new qa}}function Ni(a){if(!a){throw new na}}function Oi(a){if(!a){throw new ma}}function Pi(a){if(!a){throw new Ua}}function Qi(){V8.call(this,new gU)}function Kh(){Hh.call(this,'CLOSED',1)}function Im(a){Em.call(this,new Lm(a))}function p7(a,b){++a.d;return BU(a,b)}function Ui(a,b){return ao(a.a,0,b)}function Vi(a,b){return glb(a.a,b.a)}function Al(a){return Pl(a.b.mb(),a.a)}function Dl(a){return Wl(a.a.mb(),a.b)}function q6(a,b){return b==a.c?a.d:a.c}function Zs(a,b){return a<b?-1:a>b?1:0}function _i(a,b){return a<b?-1:a>b?1:0}function aj(a){return a!=null?vb(a):0}function bj(a){this.a=sh();this.b=a}function cj(a){this.a=sh();this.b=a}function Cg(a){this.a=a;xg.call(this,a)}function o4(){n4();this.b=new q4(this)}function Oh(){Oh=E;Nh=Jb(new Kb(', '))}function Gh(){Gh=E;Fh=new Jh;Eh=new Kh}function Il(){Il=E;Gl=new Yl;Hl=new gm}function xp(){xp=E;vp=new Ap;wp=new Cp}function qs(){qs=E;ps=new ts;os=new ws}function wJ(){wJ=E;uJ=new NJ;vJ=new PJ}function lj(a){a.g=new GU;a.b=new GU}function OI(a){a.a=new R3;a.c=new R3}function n4(){n4=E;m4=new U4;l4=new u4}function Uc(){Mc.call(this,'IS_NULL',2)}function qj(){mh.call(this,'Head',1)}function rj(){mh.call(this,'Tail',3)}function pR(a,b){qR.call(this,a,b,null)}function uj(a,b){ipb(a,0,a.length,b)}function x7(a,b){vU(b.a,a.a);return a.a}function CI(a,b){a.a*=b;a.b*=b;return a}function gl(a,b){Gi();this.a=a;this.b=b}function i9(a,b){return a.a[b.d.k][b.k]}function W9(a,b){return a.a[b.d.k][b.k]}function xJ(a,b){return cs(a.b,b.mc())}function Cj(a,b){return qe(Xvb(a.a,b))}function Dj(a,b){return qe(Yvb(a.a,b))}function $T(a,b){return Wv(Dd(a.a,b),20)}function aw(a,b){return a!=null&&Vv(a,b)}function Gj(a){return a.a<a.c.c.length}function Ij(a){return a.a<a.c.a.length}function y$(a,b){return glb(a.i.a,b.i.a)}function S$(a,b){return a.i.b=(So(b),b)}function T$(a,b){return a.i.b=(So(b),b)}function Mj(a,b){return a.a.eb(b)!=null}function Nj(a,b,c){return a.g[b.e][c.e]}function Oj(a){Xo();return Da(),''+a}function Pj(){mh.call(this,'Range',2)}function ws(){rs.call(this,'DISTINCT',1)}function Xc(){Mc.call(this,'NOT_NULL',3)}function mp(){mp=E;lp=new Rb((Oh(),Nh))}function Hj(a){this.d=(ct(),new s8(a))}function Hb(a,b){return Gb(a,new Ud,b).a}function Mb(a,b){return b==null?a.b:Ib(b)}function mt(a){return a==null?null:a.name}function cw(a){return typeof a==='number'}function ew(a){return typeof a==='string'}function Hi(a,b){return new Mk(a,a.Y(),b)}function An(a,b){return new no(a.a,a.b,b)}function Jb(a){_b(Wxb);return new Nb(a,a)}function Do(a){Mh(a,Vyb);return new HU(a)}function Am(a,b){this.a=b;vm.call(this,a)}function tp(a,b){this.a=b;vm.call(this,a)}function If(a,b){this.a=a;Bf.call(this,b)}function ks(a){this.c=a;this.a=Qr(this.c)}function MZ(a){var b;b=a.a;a.a=a.b;a.b=b}function pW(a,b){a.e.j.a=b.a;a.e.j.b=b.b}function hk(a,b,c){a.a=b^1502;a.b=c^_Ab}function uI(a,b,c){a.a+=b;a.b+=c;return a}function DI(a,b,c){a.a-=b;a.b-=c;return a}function zI(a){a.a=-a.a;a.b=-a.b;return a}function UI(a){Pi(a.b!=0);return a.a.a.c}function VI(a){Pi(a.b!=0);return a.c.b.c}function nk(a,b){if(a.a){wo(b);mv(b)}}function rn(a,b,c){var d;d=a.ub(b);d.J(c)}function Iq(a,b){return Zs(b.Yb(),a.Yb())}function o5(a){return Wv(yU(a.a,a.b),128)}function EU(a){return cq(a.c,a.c.length)}function Fv(a){return a.l+a.m*czb+a.h*dzb}function LM(a){return a==EM||a==GM||a==FM}function UH(a){return typeof a==='number'}function vk(a,b){return!!b&&a.b[b.e]==b}function yk(a,b){var c;c=a[WAb];b[WAb]=c}function FQ(a,b){_J.call(this,a);this.b=b}function Ak(a){o8.call(this,a);this.a=a}function Ck(a){r8.call(this,a);this.a=a}function Dk(a){Rd.call(this,a);this.a=a}function Ek(a){V8.call(this,new _W(a))}function Gk(a){this.a=a;u7.call(this,a)}function v5(a){this.c=a;this.a=1;this.b=1}function Rb(a){this.a=a;this.b=$v(_b('='))}function B5(){this.a=new aJ;this.e=new aJ}function tV(){this.a=new fU;this.c=new uV}function cX(){this.i=new FI;this.j=new FI}function Md(a){Xb(a.d.c+a.e.c==0);this.b=a}function _s(a){a.g=null;Ot(a,a.f);return a}function Nl(a){Il();_b(a);return new om(a)}function St(a){Nt();return parseInt(a)||-1}function Qk(a,b){return Dr(a.a,b)!=null}function ok(a,b){return!rk(a,b)&&!qk(a,b)}function Sk(a){return a.$H||(a.$H=++sxb)}function yc(a){return a.d!=null?a.d:''+a.e}function zc(a){return a.d!=null?a.d:''+a.e}function Vk(a){return a.b=Wv(us(a.a),21)}function bw(a){return typeof a==='boolean'}function Xk(a){a.b=new $k(a);a.c=new K9}function Yk(){this.a=new GU;this.d=new GU}function $k(a){co.call(this,a,null,null)}function ug(a,b,c,d){mg.call(this,a,b,c,d)}function BP(a,b,c,d){vP.call(this,a,b,c,d)}function EP(a,b,c,d){vP.call(this,a,b,c,d)}function Kg(a,b,c){_f.call(this,a,b,c,null)}function Lg(a,b,c){_f.call(this,a,b,c,null)}function es(a,b,c){a.i=b;b.f=a;b.i=c;c.f=b}function tI(a,b){mI(this);this.e=a;this.f=b}function yg(a,b){this.d=a;vg(this);this.b=b}function kJ(a){OI(this);_I(this);Ue(this,a)}function Xv(a){Oi(a==null||bw(a));return a}function Yv(a){Oi(a==null||cw(a));return a}function $v(a){Oi(a==null||ew(a));return a}function vI(a,b){a.a+=b.a;a.b+=b.b;return a}function EI(a,b){a.a-=b.a;a.b-=b.b;return a}function U$(a,b){return a.i.a=(So(b),b)+10}function V$(a,b){return a.i.a=(So(b),b)+10}function h6(a,b){return Wv(Qq(a.k,b),24).a}function Bj(a,b){return Lh(a,b),new zr(a,b)}function wl(a,b){return Wv(a.b.sb(b),92).a}function WX(a){return Wv(a,7).b.c.length!=0}function TX(a){return Wv(a,7).e.c.length!=0}function jX(a){return!a.d?-1:zU(a.d.a,a,0)}function lt(a){return a==null?null:a.message}function Cl(a){if(a.n!=null){return}Wkb(a)}function Fl(a,b,c,d){GT(a,b,c,d);return a}function Zl(a,b){Da();return a.indexOf(b)}function QX(a,b){if(!b){throw new ra}a.g=b}function Mn(a){if(a.e.c!=a.b){throw new Sa}}function Xn(a){if(a.f.c!=a.b){throw new Sa}}function Uq(a,b){_b(a);_b(b);return Akb(a,b)}function U6(a,b){this.a=a;this.c=b;this.b=2}function sI(){mI(this);this.e=-1;this.f=true}function Dh(){Vd.call(this,new K9);this.a=3}function CP(a){vP.call(this,a.d,a.b,a.a,a.c)}function FP(a){vP.call(this,a.d,a.b,a.a,a.c)}function r6(a){k6.call(this,a);this.c=new GU}function Oc(){Mc.call(this,'ALWAYS_TRUE',0)}function Rc(){Mc.call(this,'ALWAYS_FALSE',1)}function _T(a){XT();this.a=new Dh;YT(this,a)}function Y9(a){!a.e&&(a.e=new GU);return a.e}function W7(a){var b;b=new V7;b.e=a;return b}function pm(a){var b;b=a[WAb]|0;a[WAb]=b+1}function qm(a,b){a.a.rb(a.b,b);++a.b;a.c=-1}function rm(a,b){Mi(a.c!=-1);a.a.wb(a.c,b)}function wm(a,b){Xo();return a==b?0:a?1:-1}function xm(a,b,c){return a.g[b.e][c.e]*a.d}function xt(a,b,c){return a.apply(b,c);var d}function Bm(a,b,c){return ip(a,Wv(b,17),c)}function m5(a,b){return b==(sN(),rN)?a.c:a.d}function Zi(a,b){return b!=null&&a.Nb().kb(b)}function Fm(a,b){this.e=b;this.f=a;_s(this)}function om(a){this.b=a;this.a=(Il(),Il(),Hl)}function dk(a){hi();this.a=(ct(),new Rd(a))}function hi(){hi=E;new vi((ct(),ct(),vpb))}function e8(){e8=E;d8=PQ(new WQ,(d0(),X_))}function Mm(a){swb.call(this,a,(aY(),Bwb))}function IU(a){tU(this);bo(this.c,0,a.ob())}function tr(a,b,c){this.b=a;this.a=b;this.c=c}function WS(a,b,c){VS.call(this,a,b);this.b=c}function XV(a,b,c){this.b=a;this.a=b;this.c=c}function Wm(a,b){var c;c=a.e;a.e=b;return c}function Xm(a){_U(a.c);a.b.b=a.b;a.b.a=a.b}function Vf(a){a.b?Vf(a.b):Wr(a.f.b,a.e,a.d)}function YI(a){Pi(a.b!=0);return $I(a,a.a.a)}function ZI(a){Pi(a.b!=0);return $I(a,a.c.b)}function Wl(a,b){Il();_b(b);return new Am(a,b)}function np(a,b){mp();return new tp(a.mb(),b)}function bn(a,b){Da();return a.charCodeAt(b)}function en(a,b,c){Da();return a.substr(b,c)}function fn(a){Da();return a==null?Wxb:xb(a)}function gn(a,b,c){return Nj(a,b.g,c.g)*a.d}function Ev(a,b,c){return{'l':a,'m':b,'h':c}}function YU(a,b){return ZU(a,new VS(b.a,b.b))}function SN(a,b,c,d,e){a.d=b;a.e=c;a.c=d;a.b=e}function wS(a,b,c,d,e){a.b=b;a.c=c;a.d=d;a.a=e}function QI(a,b){TI(a,b,a.c.b,a.c);return true}function vU(a,b){a.c[a.c.length]=b;return true}function DJ(a,b){wJ();CJ.call(this,a);this.a=b}function g8(){e8();this.e=new aJ;this.d=new aJ}function pn(){pn=E;Dmb=new D3;Emb=new D3}function qn(){qn=E;yab=VQ(new WQ,(d0(),v_))}function vn(){vn=E;_ab=VQ(new WQ,(d0(),v_))}function wn(){wn=E;qbb=VQ(new WQ,(d0(),v_))}function xn(){xn=E;Zbb=VQ(new WQ,(d0(),v_))}function Wt(){Wt=E;Error.stackTraceLimit=64}function xS(){wS(this,false,false,false,false)}function Bo(a){var b;b=new GU;Jl(b,a);return b}function Eo(a){var b;b=new aJ;ml(b,a);return b}function XQ(a){var b;b=new WQ;QQ(b,a);return b}function Dn(a){var b;b=new x3;b.a=a;return b}function Wv(a,b){Oi(a==null||Vv(a,b));return a}function Fn(a,b){if(a<0||a>=b){throw new Xa}}function pl(a,b){_b(a);_b(b);return new Bl(a,b)}function ul(a,b){_b(a);_b(b);return new El(a,b)}function In(a,b){Da();return a.lastIndexOf(b)}function Jn(a,b,c){return a<b?c<=a:a<=c||a==b}function Kn(a,b,c){this.d=a;this.b=c;this.a=b}function Ln(a,b,c){this.a=a;this.b=b;this.c=c}function On(a,b,c){this.a=a;this.b=b;this.c=c}function Nb(a,b){this.a=a;this.b=Wxb;this.c=b.c}function z3(a){this.c=a.c;this.a=a.e;this.b=a.b}function xg(a){this.d=a;vg(this);this.b=Ed(a.d)}function u4(){FS.call(this);this.a=new x4(this)}function FS(){this.c=new PS;this.d=new KS(this)}function qr(a){var b;b=new Lb;Jl(b,a);return b}function Vn(a){fr(a.a);lW(a.c,a.b);a.b=null}function n5(a){return a.c-Wv(yU(a.a,a.b),128).b}function t5(a,b){return a.c<b.c?-1:a.c==b.c?0:1}function t4(a,b){return tK(a.b.d)?b.xc():b.wc()}function ao(a,b,c){return Da(),a.substr(b,c-b)}function bo(a,b,c){dxb(c,0,a,b,c.length,false)}function co(a,b,c){this.c=a;oh.call(this,b,c)}function Bl(a,b){this.b=a;this.a=b;Rh.call(this)}function El(a,b){this.a=a;this.b=b;Rh.call(this)}function Lq(a,b){this.b=a;this.a=b;Mh(b,'count')}function dl(a){this.b=a;this.a=nj(this.b.a).Kb()}function CJ(a){wJ();this.c=uJ;this.d=vJ;this.b=a}function io(a,b,c){Ng.call(this,a,b);this.a=c}function jo(a,b,c){Ng.call(this,a,b);this.a=c}function yU(a,b){gV(b,a.c.length);return a.c[b]}function PQ(a,b){Wv(yU(a.a,5),18).ib(b);return a}function RQ(a,b){Wv(yU(a.a,0),18).ib(b);return a}function SQ(a,b){Wv(yU(a.a,1),18).ib(b);return a}function TQ(a,b){Wv(yU(a.a,2),18).ib(b);return a}function UQ(a,b){Wv(yU(a.a,3),18).ib(b);return a}function VQ(a,b){Wv(yU(a.a,4),18).ib(b);return a}function iS(a){gS(a,(sK(),oK));a.e=true;return a}function Pt(a){Nt();var b;b=Mt.ec(a);return Qt(b)}function to(a,b){var c;c=xq(a,b);c.g=2;return c}function uo(a,b){var c;for(c=0;c<b;++c){a[c]=0}}function YW(a,b){a.b=b.b;a.c=b.c;a.d=b.d;a.a=b.a}function wo(a){a.a.b=a.b;a.b.a=a.a;a.a=a.b=null}function NX(a){return a.b.c.length+a.e.c.length}function zv(a){return Array.isArray(a)&&a.ad===z}function ol(a,b){return Il(),Tl(new _7(a),b)!=-1}function vv(a,b,c,d,e,f){return wv(a,b,c,d,e,0,f)}function BJ(a,b,c){wJ();FJ.call(this,a.b,b,c,a.d)}function AJ(a,b){wJ();FJ.call(this,a.b,b,a.c,a.d)}function uU(a,b,c){fV(b,a.c.length);ch(a.c,b,c)}function Go(a,b){gV(b,a.a.length);return a.a[b]}function Ho(c){c.sort(function(a,b){return a-b})}function _b(a){if(a==null){throw new ra}return a}function lv(a){if(a==null){throw new ra}this.a=a}function Us(a,b,c){if(a.a!=b){throw new Sa}a.a=c}function Lo(a,b){if(!a){throw new oc((Da(),b))}}function No(a,b){if(!a){throw new Pc((Da(),b))}}function So(a){if(a==null){throw new ra}return a}function To(a){V8.call(this,new gU);Ue(this,a)}function Uo(a){this.a=new og(a.Y());Ue(this,a)}function Vo(a){this.c=a;this.a=new ng(this.c.a)}function Er(a){Gi();this.a=(ct(),new n8(_b(a)))}function Xo(){Xo=E;vkb=(Xo(),false);wkb=true}function Yo(){Yo=E;Flb=xv(PF,Txb,24,256,0,1)}function k8(){k8=E;j8=PQ(RQ(new WQ,(d0(),z_)),X_)}function aS(){aS=E;ZR=new yS;_R=new FS;$R=new AS}function dw(a){return a!=null&&fw(a)&&!(a.ad===z)}function _v(a){return!Array.isArray(a)&&a.ad===z}function cp(a,b){return ew(b)?vs(a,b):Mtb(a.d,b)}function dp(a,b){return aw(b,17)&&vk(a,Wv(b,17))}function ep(a,b){return aw(b,17)&&xZ(a,Wv(b,17))}function fp(a,b){return!(Je(a.a,b)===undefined)}function gp(a,b){var c;c=Usb(a);zpb(c,b);return c}function Kt(a,b){!a&&(a=[]);a[a.length]=b;return a}function ip(a,b,c){g_(a.a,b);return gq(a,b.e,c)}function jp(a,b,c){Da();return a.lastIndexOf(b,c)}function kp(a,b,c){if(!a){throw new oc(Jxb(b,c))}}function up(a,b,c){var d;for(d=0;d<b;++d){a[d]=c}}function Qo(a,b){var c;c=a.a.Y();bc(b,c);return c-b}function ud(a){var b;b=a.i;return!b?(a.i=a.T()):b}function Ae(a){var b;b=a.c;return!b?(a.c=a.gb()):b}function ki(a){var b;b=a.c;return!b?(a.c=a.Jb()):b}function nj(a){if(a.e){return a.e}return a.e=a.Ob()}function oj(a){if(a.f){return a.f}return a.f=a.Pb()}function Hv(a,b){return Ev(a.l&b.l,a.m&b.m,a.h&b.h)}function Dp(a,b){return glb((So(a),a),(So(b),b))}function Ed(a){return aw(a,20)?Wv(a,20).tb():a.mb()}function Ml(a){Il();_b(a);while(a.G()){a.H();a.I()}}function Gp(a){var b;b=a;while(b.g){b=b.g}return b}function LY(a){a.b.i.a+=a.a.f*(a.a.a-1);return null}function Ip(a){Mi(a.b!=-1);a.c.vb(a.a=a.b);a.b=-1}function Jp(a){Pi(a.b>0);return a.a.sb(a.c=--a.b)}function $f(a){a.b?$f(a.b):a.d.V()&&cp(a.f.b,a.e)}function wg(a){Yf(a.d);if(a.d.d!=a.c){throw new Sa}}function Qp(a,b){if(b[WAb]!=a[WAb]){throw new Sa}}function Pl(a,b){Il();_b(a);_b(b);return new tm(a,b)}function Zq(a,b){Gi();Yq.call(this,a,Yi(new h8(b)))}function mg(a,b,c,d){this.a=a;_f.call(this,a,b,c,d)}function GI(a){this.a=Math.cos(a);this.b=Math.sin(a)}function GQ(a,b,c){_J.call(this,a);this.b=b;this.a=c}function NR(a){this.b=new GU;this.a=new GU;this.c=a}function sY(a){this.c=new FI;this.a=new GU;this.b=a}function tu(){tu=E;ru=new uu(false);su=new uu(true)}function o7(a,b){++a.d;return a.c[a.c.length]=b,true}function $p(a,b){TI(a.d,b,a.b.b,a.b);++a.a;a.c=null}function _p(a,b){var c;c=a.a.db(b,a);return c==null}function cq(a,b){var c;c=a.slice(0,b);return Cv(c,a)}function fq(a,b){var c;c=new Array(b);return Cv(c,a)}function gq(a,b,c){var d;d=a.b[b];a.b[b]=c;return d}function hq(a,b){var c;for(c=0;c<b;++c){a[c]=null}}function iq(a,b){var c;for(c=0;c<b;++c){a[c]=false}}function r1(a,b){return Xo(),Wv(b.b,24).a<a?wkb:vkb}function s1(a,b){return Xo(),Wv(b.a,24).a<a?wkb:vkb}function Tk(a,b){return Wv(ki(nj(a.a)).sb(b),21).yb()}function dq(a){return mp(),Wl(Rm(a.a).mb(),(xp(),vp))}function Uh(a){return Il(),new Im(Dl(ul(a.a,new yl)))}function fw(a){return typeof a===Sxb||typeof a===Zxb}function Ct(a){x.setTimeout(function(){throw a},0)}function oI(a,b){return a>0?new tI(a-1,b):new tI(a,b)}function Ib(a){_b(a);return aw(a,345)?Wv(a,345):xb(a)}function sq(a,b){return bwb(a.a,b,(Xo(),vkb))==null}function Po(a,b){var c;c=a.a.Y();$b(b,c);return c-1-b}function hu(a,b,c){var d;d=gu(a,b);iu(a,b,c);return d}function vq(a,b,c){var d;d=xq(a,b);TZ(c,d);return d}function xq(a,b){var c;c=new Kkb;c.i=a;c.d=b;return c}function Mk(a,b,c){this.a=a;bc(c,b);this.c=b;this.b=c}function Av(a,b,c){Ji(c==null||sv(a,c));return a[b]=c}function Pm(a){a.a=null;a.e=null;_U(a.b);a.d=0;++a.c}function Bq(a){oc.call(this,(Da(),a==null?Wxb:a))}function Cq(a){oc.call(this,(Da(),a==null?Wxb:a))}function Om(a){var b;return b=a.f,!b?(a.f=new Pp(a)):b}function Jd(a){var b;return b=a.k,!b?(a.k=new Qg(a)):b}function Be(a){var b;b=a.e;return!b?(a.e=new Fp(a)):b}function Vg(a){var b;b=a.e;!b&&(a.e=b=a.gb());return b}function d6(a){var b,c;b=a.c.f.d;c=a.d.f.d;return b==c}function Kq(a,b){var c;c=new XS(a);rZ(c,b);return c}function Mq(a,b){a.a+=String.fromCharCode(b);return a}function hX(a){if(!a.a&&!!a.d){return a.d.b}return a.a}function _H(a){if(UH(a)){return a|0}return a.l|a.m<<22}function xo(a){Mh(a,Uyb);return $s(PH(PH(5,a),a/10|0))}function Qq(a,b){return ew(b)?Wu(a,b):re(Ju(a.d,b))}function tl(a){return aw(a,19)?Wv(a,19).Y():Ul(a.mb())}function pr(a){return a?new Uo((Oh(),a)):qr(null.mb())}function Tb(a,b){return gw(a)===gw(b)||a!=null&&rb(a,b)}function zT(a,b){return vT(),glb(kc(Yv(a)),kc(Yv(b)))}function Ep(a){return mp(),Wl(a.a.bb().mb(),(xp(),wp))}function Gi(){Gi=E;hi();Fi=new gr((ct(),ct(),vpb))}function kr(){kr=E;hi();jr=new lr((ct(),ct(),xpb))}function $q(a,b){if(a==null){throw new Tc((Da(),b))}}function _q(a,b){Mfb();return(a-b<=0?0-(a-b):a-b)<0.2}function U0(a,b){return a.i.b<b.i.b?-1:a.i.b==b.i.b?0:1}function br(a,b,c,d){a.g[b.e][c.e]=d;a.g[c.e][b.e]=d}function fr(a){Mi(a.c!=-1);a.d.vb(a.c);a.b=a.c;a.c=-1}function hr(a){this.c=a;this.b=a.a.b.a;yk(a.a.c,this)}function ur(a){efb.call(this,new h8(a));this.a=new FI}function er(){Bk.call(this,new ir(new K9));this.a=this}function OQ(){JQ();this.b=(mp(),new K9);this.a=new K9}function zp(){xp();return Bv(tv(jy,1),uyb,188,0,[vp,wp])}function Ih(){Gh();return Bv(tv(dx,1),uyb,159,0,[Fh,Eh])}function ss(){qs();return Bv(tv(Ty,1),uyb,205,0,[ps,os])}function Br(a){We(a.a);a.b=xv(UF,syb,1,a.b.length,4,1)}function Cr(a){!a.b&&(a.b=new Rd(a.c.W()));return a.b}function Dr(a,b){var c;c=new S3;ewb(a,b,c);return c.d}function Fr(a,b){var c;c=xq('',a);c.k=b;c.g=1;return c}function We(a){var b;for(b=a.mb();b.G();){b.H();b.I()}}function yJ(a,b){return aw(b,79)&&qb(a.b,Wv(b,79).mc())}function Z3(){X3();return Bv(tv(iD,1),uyb,175,0,[V3,W3])}function a8(){Z7();return Bv(tv(WD,1),uyb,193,0,[X7,Y7])}function s9(){p9();return Bv(tv(hE,1),uyb,192,0,[o9,n9])}function Wr(a,b,c){return ew(b)?cJ(a,b,c):Ltb(a.d,b,c)}function h5(a,b,c){a.i=0;a.e=0;if(b==c){return}d5(a,b,c)}function g5(a,b,c){a.i=0;a.e=0;if(b==c){return}c5(a,b,c)}function t6(a,b,c,d){this.d=a;this.b=b;this.a=c;this.c=d}function VN(a,b,c,d){this.d=a;this.e=b;this.c=c;this.b=d}function E5(a,b,c,d){this.a=a;this.c=b;this.b=c;this.d=d}function vO(a,b,c,d){Ac.call(this,a,b);this.a=c;this.b=d}function bs(a,b){var c;c=Ee(a.a,b);return c==null?[]:c}function cs(a,b){Da();if(a==b){return 0}return a<b?-1:1}function CR(a,b){var c;c=hR(a.f,b);return vI(zI(c),a.f.d)}function gs(a,b){return dp(a.a,b)?a.b[Wv(b,17).e]:null}function hs(a,b){return gw(a)===gw(b)||a!=null&&rb(a,b)}function Pu(a,b){if(b==null){throw new ra}return Qu(a,b)}function Zv(a){Oi(a==null||fw(a)&&!(a.ad===z));return a}function ls(a){!a.a&&(a.a=new Sd(a.c.bb()));return a.a}function ms(a){!a.d&&(a.d=new o8(a.c.fb()));return a.d}function _I(a){a.a.a=a.c;a.c.b=a.a;a.a.b=a.c.a=null;a.b=0}function us(a){return Pi(a.b<a.d.Y()),a.d.sb(a.c=a.b++)}function vs(a,b){return b==null?Mtb(a.d,null):eub(a.e,b)}function $9(a,b){this.g=a;this.d=Bv(tv(qB,1),Nzb,9,0,[b])}function KS(a){this.c=a;this.b=new Pe(Wv(_b(new MS),56))}function hW(){this.a=new jJ;this.b=(Mh(3,Vyb),new HU(3))}function Dg(a,b){this.a=a;yg.call(this,a,Wv(a.d,20).ub(b))}function Ps(a,b,c,d){this.a=a;this.c=b;this.b=c;this.d=d}function Qs(a,b,c){this.a=Yxb;this.d=a;this.b=b;this.c=c}function $W(){XW(this);this.d=0;this.b=0;this.a=0;this.c=0}function Ss(){this.b=new Lb;this.d=new aJ;this.e=new Ba}function ct(){ct=E;vpb=new F3;wpb=new M3;xpb=new N3}function Lc(){Lc=E;Ic=new Oc;Hc=new Rc;Jc=new Uc;Kc=new Xc}function Z7(){Z7=E;X7=new $7('GREEDY',0);Y7=new $7(zAb,1)}function zQ(){zQ=E;yQ=new AJ((eM(),EL),(Xo(),Xo(),wkb))}function w9(){w9=E;v9=PQ(UQ(TQ(new WQ,(d0(),N_)),B_),M_)}function N6(a,b){var c;c=M6(b);return Wv(Qq(a.c,c),24).a}function PR(a,b){var c;c=Mj(a.a,b);c&&(b.f=null);return c}function nt(a){var b;b=a.b.ob();IT(b,b.length);return b}function NP(a){if(a<0){return-1}if(a>0){return 1}return 0}function mP(){kP();return Bv(tv(Rz,1),uyb,171,0,[jP,gP,hP])}function gL(){eL();return Bv(tv(Fz,1),uyb,166,0,[cL,bL,dL])}function WM(){UM();return Bv(tv(Jz,1),uyb,149,0,[TM,SM,RM])}function FO(){DO();return Bv(tv(Pz,1),uyb,225,0,[BO,AO,CO])}function ZZ(){XZ();return Bv(tv(VB,1),uyb,221,0,[VZ,WZ,UZ])}function A8(){x8();return Bv(tv(_D,1),uyb,173,0,[w8,v8,u8])}function QH(a,b){return SH(Hv(UH(a)?YH(a):a,UH(b)?YH(b):b))}function XI(a){return a.b==0?null:(Pi(a.b!=0),$I(a,a.a.a))}function Ut(a){a.d=a.d-15;a.b=a.b-15;a.c=a.c+15;a.a=a.a+15}function Rn(a){this.b=a;this.c=a;a.e=null;a.c=null;this.a=1}function nZ(a,b,c){this.d=a;this.b=new GU;this.c=b;this.a=c}function Yt(a,b){m9(this,new HI(a.a,a.b));r9(this,Eo(b))}function Xf(a,b){if(b===a){return true}Yf(a);return a.d.t(b)}function $t(a){if(a==neb||a==keb){return true}return false}function VO(a){if(!Gj(new _7(zW(a.e)))){return}OO(a);QO(a)}function Y2(a,b){var c;c=Wv(VX(a.e,b),116);!!c&&(a.d=true)}function bu(a,b){var c;c=a.b.pb(b);IT(c,a.b.Y());return c}function a6(a){var b;b=e6(a,(sN(),rN));b+=e6(a,ZM);return b}function f6(a,b,c){j6(a,b,c,(sN(),ZM),a.f);j6(a,b,c,rN,a.n)}function PX(a,b){!!a.f&&BU(a.f.f,a);a.f=b;!!a.f&&vU(a.f.f,a)}function rX(a,b){!!a.d&&BU(a.d.a,a);a.d=b;!!a.d&&vU(a.d.a,a)}function eW(a,b){!!a.d&&BU(a.d.b,a);a.d=b;!!a.d&&vU(a.d.b,a)}function dW(a,b){!!a.c&&BU(a.c.e,a);a.c=b;!!a.c&&vU(a.c.e,a)}function lu(a){var b;b=Eo(a.b);Ue(b,a.c);Ue(b,a.i);return b}function mu(){if(Lxb==256){Kxb=Mxb;Mxb={};Lxb=0}++Lxb}function nu(){nu=E;Fbb=new Hg(pzb,0);Ebb=new Hg(ozb,1)}function ou(){ou=E;dgb=new Rg(ozb,0);egb=new Rg(pzb,1)}function pu(){ou();return Bv(tv(fF,1),uyb,223,0,[dgb,egb])}function vu(){YN();return Bv(tv(rE,1),uyb,242,0,[uab,tab])}function wu(){nu();return Bv(tv(BE,1),uyb,248,0,[Fbb,Ebb])}function xu(){WN();return Bv(tv(CE,1),uyb,247,0,[Jbb,Kbb])}function Du(){ZY();return Bv(tv(JE,1),uyb,194,0,[jcb,kcb])}function Eu(){tM();return Bv(tv(pF,1),uyb,174,0,[Khb,Lhb])}function Hu(a){ct();return aw(a,63)?new Td(a):new Ak(a)}function Rm(a){var b;return b=a.g,Wv(!b?(a.g=new En(a)):b,20)}function Ju(a,b){return Itb(a,b,bs(a,b==null?0:a.b.Vc(b)))}function tX(a){var b;return b=lX(a),'n_'+(b==null?ke(a.k):b)}function ob(a){return Xd(tb(a))+'@'+(vb(a)>>>0).toString(16)}function Vu(a,b){return wm(jc((So(a),a)),jc((So(b),b)))}function Wu(a,b){return b==null?re(Ju(a.d,null)):jh(a.e,b)}function Rr(a,b,c){return new Ur(a.c,pk(a.b,wk(a.d,b,c)),a.a)}function hw(a){return Math.max(Math.min(a,$xb),-2147483648)|0}function Zu(a){this.e=a;this.b=this.e.a.entries();this.a=[]}function xf(a){this.c=a;this.b=new rnb((new Y6(this.c.a)).a)}function Em(a){this.b=(Il(),Il(),Il(),Gl);this.a=Wv(_b(a),35)}function EJ(a,b,c){wJ();DJ.call(this,a,b);c!=null&&(this.c=c)}function cc(a,b,c){if(a<0||b<a||b>c){throw new mc(Wb(a,b,c))}}function $b(a,b){if(a<0||a>=b){throw new mc(Ub(a,b))}return a}function ac(a,b){if(a==null){throw new Tc((Da(),b))}return a}function Dm(a){if(!Cm(a)){throw new Ua}a.c=a.b;return a.b.H()}function jI(a){function b(){};b.prototype=a||{};return new b}function rr(a){var b;b=new Oe(op(a.length));zpb(b,a);return b}function mv(a){var b;b=a.c.b.b;a.b=b;a.a=a.c.b;b.a=a.c.b.b=a}function nv(a){this.b=null;!a&&(a=(zg(),zg(),gsb));this.a=a}function W6(a){this.b=a;this.a=new MJ(this.b,this.b.c.length)}function Li(a){Gi();_b(a);return a?Ki(a):Ki(Bo(new _7(null)))}function rt(a,b){var c=qt[a.charCodeAt(0)];return c==null?a:c}function $H(a,b){var c=a.a=a.a||[];return c[b]||(c[b]=a.Oc(b))}function CU(a,b,c){var d;Gxb(b,c,a.c.length);d=c-b;xe(a.c,b,d)}function Ur(a,b,c){Ch.call(this,b.a);this.c=a;this.b=b;this.a=c}function ko(a){Vm(a.c);a.e=a.a=a.c;a.c=a.c.c;++a.d;return a.a.f}function lo(a){Vm(a.e);a.c=a.a=a.e;a.e=a.e.e;--a.d;return a.a.f}function MX(a){return MI(Bv(tv(qz,1),Fzb,10,0,[a.f.i,a.i,a.a]))}function GK(){EK();return Bv(tv(Cz,1),uyb,107,0,[DK,AK,BK,CK])}function PK(){NK();return Bv(tv(Dz,1),uyb,122,0,[MK,KK,JK,LK])}function ON(){MN();return Bv(tv(Mz,1),uyb,139,0,[KN,LN,JN,IN])}function FN(){DN();return Bv(tv(Lz,1),uyb,150,0,[BN,CN,AN,zN])}function Nc(){Lc();return Bv(tv(Bw,1),uyb,136,0,[Ic,Hc,Jc,Kc])}function iT(){cT();return Bv(tv(yA,1),uyb,201,0,[$S,bT,_S,aT])}function wN(){sN();return Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN])}function xK(){sK();return Bv(tv(Bz,1),uyb,59,0,[qK,pK,oK,nK,rK])}function c8(){c8=E;b8=Cc((Z7(),Bv(tv(WD,1),uyb,193,0,[X7,Y7])))}function _3(){_3=E;$3=Cc((X3(),Bv(tv(iD,1),uyb,175,0,[V3,W3])))}function u9(){u9=E;t9=Cc((p9(),Bv(tv(hE,1),uyb,192,0,[o9,n9])))}function JI(){TY();return Bv(tv(oF,1),uyb,140,0,[Fhb,Ghb,Ehb])}function KI(){Hgb();return Bv(tv(jF,1),uyb,218,0,[Fgb,Egb,Ggb])}function NI(){G$();return Bv(tv(rF,1),uyb,219,0,[cjb,ajb,bjb])}function PI(){Qjb();return Bv(tv(sF,1),uyb,153,0,[Njb,Pjb,Ojb])}function bJ(){ckb();return Bv(tv(uF,1),uyb,172,0,[_jb,akb,bkb])}function cJ(a,b,c){return b==null?Ltb(a.d,null,c):dub(a.e,b,c)}function wk(a,b,c){return new sk(a,false,null,(Gh(),Fh),true,b,c)}function eJ(a,b){return ep(a.a,b)?gq(a,Wv(b,17).e,null):null}function ql(a){_b(a);return Ql((Il(),new Im(Dl(ul(a.a,new yl)))))}function mJ(a){ct();if(!a){return Bg(),mqb}return new i8(a)}function Oo(a,b){var c,d;d=Qo(a,b);c=a.a.ub(d);return new bp(a,c)}function GJ(a,b){var c,d;d=a.Y();for(c=0;c<d;c++){a.wb(c,b[c])}}function HJ(a,b,c){var d;d=new o3;d.b=b;d.a=c;++b.b;vU(a.d,d)}function fW(a,b,c){!!a.d&&BU(a.d.b,a);a.d=b;!!a.d&&uU(a.d.b,c,a)}function JJ(a,b,c){Gxb(b,c,a.Y());this.c=a;this.a=b;this.b=c-b}function vP(a,b,c,d){sP(this);this.d=a;this.b=b;this.a=c;this.c=d}function zr(a,b){Bk.call(this,W$(_b(a),_b(b)));this.b=a;this.c=b}function MJ(a,b){this.a=a;Z6.call(this,a);fV(b,a.Y());this.b=b}function FJ(a,b,c,d){wJ();EJ.call(this,a,b,c);d!=null&&(this.d=d)}function e5(a,b,c){a.i=0;a.e=0;if(b==c){return}d5(a,b,c);c5(a,b,c)}function QJ(a){Pi(a.a<a.c.c.length);a.b=a.a++;return a.c.c[a.b]}function SJ(a){Pi(a.b.b!=a.d.a);a.c=a.b=a.b.b;--a.a;return a.c.c}function TJ(a,b){var c;c=1-b;a.a[c]=hwb(a.a[c],c);return hwb(a,b)}function S2(a){var b;b=(Ieb(),Ieb(),heb);a.d&&Z2(a);ni();return b}function ZH(a){var b;if(UH(a)){b=a;return b==-0.?0:b}return Nv(a)}function Ii(a){var b;b=(_b(a),new IU((Oh(),a)));Dpb(b);return Yi(b)}function Rl(a){Il();var b;while(true){b=a.H();if(!a.G()){return b}}}function Yn(a){Xn(a);Vm(a.c);a.e=a.a=a.c;a.c=a.c.b;++a.d;return a.a}function Zn(a){Xn(a);Vm(a.e);a.c=a.a=a.e;a.e=a.e.d;--a.d;return a.a}function Wf(a){var b;b=a.Y();if(b==0){return}a.d.Q();a.f.c-=b;$f(a)}function At(a,b,c){var d;d=yt();try{return xt(a,b,c)}finally{Bt(d)}}function zt(b){return function(){return At(b,this,arguments);var a}}function sl(a){if(aw(a,19)){return Wv(a,19).V()}return!a.mb().G()}function gr(a){Gi();this.a=(ct(),aw(a,63)?new Td(a):new Ak(a))}function tM(){tM=E;Khb=new Zg(qzb,0);Lhb=new Zg('TOP_LEFT',1)}function WN(){WN=E;Jbb=new Ig('DOWN',0);Kbb=new Ig('UP',1)}function p9(){p9=E;o9=new q9('LAYER_SWEEP',0);n9=new q9(zAb,1)}function YN(){YN=E;uab=new Fg('UPPER',0);tab=new Fg('LOWER',1)}function wP(a){if(a<0){throw new Sc('Negative array size: '+a)}}function xP(a,b){if(aw(b,21)){return ee(a.a,Wv(b,21))}return false}function zP(a,b){if(aw(b,21)){return ee(a.a,Wv(b,21))}return false}function mR(a,b){if(aw(b,21)){return ee(a.a,Wv(b,21))}return false}function IV(a){var b;b=new hW;qJ(b,a);sJ(b,(eM(),CL),null);return b}function je(a,b){return b===a?'(this Map)':(Da(),b==null?Wxb:xb(b))}function Ld(a,b,c,d){return aw(c,63)?new ug(a,b,c,d):new mg(a,b,c,d)}function BM(){zM();return Bv(tv(Hz,1),uyb,100,0,[yM,xM,uM,vM,wM])}function OM(){KM();return Bv(tv(Iz,1),uyb,28,0,[JM,IM,HM,EM,GM,FM])}function kK(){iK();return Bv(tv(Az,1),uyb,103,0,[cK,fK,gK,hK,dK,eK])}function $K(){YK();return Bv(tv(Ez,1),uyb,133,0,[WK,UK,XK,SK,VK,TK])}function YM(){YM=E;XM=Cc((UM(),Bv(tv(Jz,1),uyb,149,0,[TM,SM,RM])))}function iL(){iL=E;hL=Cc((eL(),Bv(tv(Fz,1),uyb,166,0,[cL,bL,dL])))}function C8(){C8=E;B8=Cc((x8(),Bv(tv(_D,1),uyb,173,0,[w8,v8,u8])))}function EX(){CX();return Bv(tv(pB,1),uyb,132,0,[AX,zX,xX,BX,yX,wX])}function i4(){g4();return Bv(tv(jD,1),uyb,125,0,[e4,b4,f4,d4,c4,a4])}function Vl(a){Il();return Mq(Gb((Oh(),Nh),Mq(new Ud,91),a),93).a}function JR(a,b){ct();var c;c=a.ob();ipb(c,0,c.length,b);GJ(a,c)}function G3(a,b,c,d,e){this.c=a;this.e=b;this.d=c;this.b=d;this.a=e}function LR(a,b,c,d,e){Ac.call(this,a,b);this.a=c;this.b=d;this.c=e}function XR(a,b,c,d,e){Ac.call(this,a,b);this.a=c;this.b=d;this.c=e}function QT(a,b,c){this.a=b;this.c=a;this.b=(_b(c),new IU((Oh(),c)))}function $U(){tU(this);this.b=new HI(Uzb,Uzb);this.a=new HI(Vzb,Vzb)}function X3(){X3=E;V3=new Y3('QUADRATIC',0);W3=new Y3('SCANLINE',1)}function Te(){throw new Vc('Add not supported on this collection')}function pq(a){var b,c;c=fn(a.Zb());b=a.Yb();return b==1?c:c+' x '+b}function tS(a){Pi(a.b!=a.d.c);a.c=a.b;a.b=a.b.a;++a.a;return a.c.c}function zS(a){if(a.Tc()){return null}var b=a.k;var c=fI[b];return c}function bc(a,b){if(a<0||a>b){throw new mc(Vb(a,b,'index'))}return a}function Zf(a,b){var c;Yf(a);c=a.d.nb(b);if(c){--a.f.c;$f(a)}return c}function RT(a,b,c){var d;d=(_b(a),new IU((Oh(),a)));PT(new QT(d,b,c))}function GS(a,b){return cs((Da(),a.toLowerCase()),b.toLowerCase())}function LS(a,b){return cs((Da(),a.toLowerCase()),b.toLowerCase())}function NS(){aY();return Bv(tv(DH,1),uyb,138,0,[Bwb,Cwb,Dwb,Ewb])}function QS(a,b,c,d){Array.prototype.splice.apply(a,[b,c].concat(d))}function TI(a,b,c,d){var e;e=new R3;e.c=b;e.b=c;e.a=d;d.b=c.a=e;++a.b}function Sm(a,b){var c;c=Hu(Bo(new mo(a,b)));Ml(new mo(a,b));return c}function Su(d,a,b){if(b){var c=b.gc();d.a[a]=c(b)}else{delete d.a[a]}}function iu(d,a,b){if(b){var c=b.gc();b=c(b)}else{b=undefined}d.a[a]=b}function XS(a){T3(this);this.d=a.d;this.c=a.c;this.a=a.a;this.b=a.b}function n7(){this.g=new q7;this.c=new q7;this.a=new GU;this.k=new GU}function dR(){this.d=new OQ;this.a=new tV;this.c=new SV;this.b=new CV}function oR(){this.i=new GU;this.g=new FI;this.n=new xS;this.q=new xS}function _Y(a,b,c,d){this.e=a;this.b=new GU;this.d=b;this.a=c;this.c=d}function oT(){oT=E;lT=new FT;mT=new HT;jT=new JT;kT=new LT;nT=new NT}function DO(){DO=E;BO=new EO(ozb,0);AO=new EO(qzb,1);CO=new EO(pzb,2)}function IK(){IK=E;HK=Cc((EK(),Bv(tv(Cz,1),uyb,107,0,[DK,AK,BK,CK])))}function RK(){RK=E;QK=Cc((NK(),Bv(tv(Dz,1),uyb,122,0,[MK,KK,JK,LK])))}function QN(){QN=E;PN=Cc((MN(),Bv(tv(Mz,1),uyb,139,0,[KN,LN,JN,IN])))}function HN(){HN=E;GN=Cc((DN(),Bv(tv(Lz,1),uyb,150,0,[BN,CN,AN,zN])))}function yT(){yT=E;ocb=Cc((ZY(),Bv(tv(JE,1),uyb,194,0,[jcb,kcb])))}function BT(){BT=E;Phb=Cc((tM(),Bv(tv(pF,1),uyb,174,0,[Khb,Lhb])))}function Ao(a){_b(a);return aw(a,19)?new IU((Oh(),Wv(a,19))):Bo(a.mb())}function yY(a){return jc(kc(Xv(rJ(a,(Rib(),Vhb)))))&&rJ(a,uib)!=null}function UY(a){return jc(kc(Xv(rJ(a,(Rib(),Vhb)))))&&rJ(a,uib)!=null}function GT(a,b,c,d){b==null&&(b=Wxb);a.a+=''+(Da(),b.substr(c,d-c))}function IT(a,b){var c;for(c=0;c<b;++c){Av(a,c,new K8(Wv(a[c],21)))}}function Hd(a,b){var c,d;c=Wv(sp(a.b,b),19);if(c){d=c.Y();c.Q();a.c-=d}}function DU(a,b,c){var d;d=(gV(b,a.c.length),a.c[b]);a.c[b]=c;return d}function MT(a){Pi(a.a<a.c.a.length);a.b=a.a;tY(a);return a.c.b[a.b]}function Ul(a){Il();var b;b=0;while(a.G()){a.H();b=PH(b,1)}return $s(b)}function OT(a){this.d=a;this.b=this.d.a.entries();this.a=this.b.next()}function DT(a){this.g=a;this.f=new GU;this.a=vd(this.g.c.c,this.g.d.c)}function kt(a){it();this.e=null;this.f=null;this.a='';this.b=a;this.a=''}function gU(){K9.call(this);Xk(this);this.b.b=this.b;this.b.a=this.b}function Bt(a){a&&It((Gt(),Ft));--ut;if(a){if(wt!=-1){Dt(wt);wt=-1}}}function bW(a){if(!a.c||!a.d){return false}return!!a.c.f&&a.c.f==a.d.f}function pt(){if(Date.now){return Date.now()}return(new Date).getTime()}function lX(a){if(a.c.c.length!=0){return Wv(yU(a.c,0),33).a}return null}function OX(a){if(a.c.c.length!=0){return Wv(yU(a.c,0),33).a}return null}function qd(a){a.d=3;a.c=sm(a);if(a.d!=2){a.d=0;return true}return false}function JU(a,b,c){this.a=a;this.b=b;this.c=c;vU(a.j,this);vU(b.d,this)}function VP(a,b,c,d){var e;a.c?(e=new Gu(hw(d))):(e=new Gu(d));Ru(b,c,e)}function Co(a){var b,c;_b(a);b=xo(a.length);c=new HU(b);zpb(c,a);return c}function Dv(a){var b,c,d;b=a&azb;c=a>>22&azb;d=a<0?bzb:0;return Ev(b,c,d)}function NU(){kbb();return Bv(tv(zE,1),uyb,141,0,[jbb,gbb,hbb,fbb,ibb])}function OU(){Pgb();return Bv(tv(kF,1),uyb,115,0,[Lgb,Kgb,Ngb,Mgb,Ogb])}function PU(){Xib();return Bv(tv(qF,1),uyb,85,0,[Wib,Sib,Tib,Uib,Vib])}function zK(){zK=E;yK=Cc((sK(),Bv(tv(Bz,1),uyb,59,0,[qK,pK,oK,nK,rK])))}function yN(){yN=E;xN=Cc((sN(),Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN])))}function DM(){DM=E;CM=Cc((zM(),Bv(tv(Hz,1),uyb,100,0,[yM,xM,uM,vM,wM])))}function F9(){F9=E;E9=PQ(UQ(UQ(UQ(TQ(new WQ,(d0(),N_)),U_),r_),B_),M_)}function TT(a,b){var c,d;for(d=b.mb();d.G();){c=Wv(d.H(),55);ST(a,c,0,0)}}function VT(a,b,c){var d,e;for(e=a.mb();e.G();){d=Wv(e.H(),55);UT(d,b,c)}}function X8(a,b,c){var d,e;d=0;for(e=0;e<b.length;e++){d+=a.Hc(b[e],d,c)}}function AU(a,b){var c;c=(gV(b,a.c.length),a.c[b]);xe(a.c,b,1);return c}function Kl(a){var b;_b(a);Yb(true);for(b=0;b<0&&Cm(a);b++){Dm(a)}return b}function _U(a){var b;a.d=new bj(a);a.e=new cj(a);b=a[WAb]|0;a[WAb]=b+1}function dV(a){a.g=new Lb;a.o=new Lb;a.c=new Lb;a.j=new GU;a.d=new GU}function fV(a,b){if(a<0||a>b){throw new mc('Index: '+a+', Size: '+b)}}function gV(a,b){if(a<0||a>=b){throw new mc('Index: '+a+', Size: '+b)}}function hV(a,b){var c,d;c=b.yb();d=Wvb(a,c);return!!d&&hs(d.e,b.zb())}function iV(a,b){var c;c=a.d;if(b>0){return Wv(yU(c.a,b-1),9)}return null}function xv(a,b,c,d,e,f){var g;g=yv(e,d);e!=9&&Bv(tv(a,f),b,c,e,g);return g}function pd(a){var b;if(!od(a)){throw new Ua}a.d=1;b=a.c;a.c=null;return b}function _f(a,b,c,d){this.f=a;this.e=b;this.d=c;this.b=d;this.c=!d?null:d.d}function MH(b,c){if(b&&typeof b==Sxb){try{b.__gwt$exception=c}catch(a){}}}function wT(a,b){if(a.a.$b(b.d,a.b)>0){vU(a.c,new WS(b.c,b.d,a.d));a.b=b.d}}function W4(a,b){var c;c=glb(a.j,b.j);if(c==0){return glb(a.k,b.k)}return c}function C6(a){var b,c;c=Wv(yU(a.f,0),7);b=Wv(rJ(c,(Rib(),uib)),7);return b}function M6(a){var b,c;c=Wv(yU(a.f,0),7);b=Wv(rJ(c,(Rib(),uib)),7);return b}function B$(a,b){return glb(kc(Yv(rJ(a,(Rib(),Cib)))),kc(Yv(rJ(b,Cib))))}function vV(){vV=E;Tjb=Cc((Qjb(),Bv(tv(sF,1),uyb,153,0,[Njb,Pjb,Ojb])))}function yV(){yV=E;fkb=Cc((ckb(),Bv(tv(uF,1),uyb,172,0,[_jb,akb,bkb])))}function mK(){mK=E;lK=Cc((iK(),Bv(tv(Az,1),uyb,103,0,[cK,fK,gK,hK,dK,eK])))}function aL(){aL=E;_K=Cc((YK(),Bv(tv(Ez,1),uyb,133,0,[WK,UK,XK,SK,VK,TK])))}function QM(){QM=E;PM=Cc((KM(),Bv(tv(Iz,1),uyb,28,0,[JM,IM,HM,EM,GM,FM])))}function k4(){k4=E;j4=Cc((g4(),Bv(tv(jD,1),uyb,125,0,[e4,b4,f4,d4,c4,a4])))}function K1(){I1();return Bv(tv(GC,1),uyb,109,0,[G1,B1,E1,C1,D1,A1,F1,H1])}function qM(){oM();return Bv(tv(Gz,1),uyb,41,0,[gM,fM,iM,nM,mM,lM,jM,kM,hM])}function FV(){zgb();return Bv(tv(iF,1),uyb,123,0,[ygb,xgb,wgb,ugb,tgb,vgb])}function TV(){_gb();return Bv(tv(lF,1),uyb,124,0,[Ygb,Xgb,$gb,Wgb,Zgb,Vgb])}function bK(){bK=E;aK=new DJ('de.cau.cs.kieler.labels.labelManager',null)}function YV(){if(Date.now){return Date.now()}return(new Date).getTime()}function _V(a){var b;b=Wv(cq(a.b,a.b.length),11);return new Ln(a.a,b,a.c)}function iW(a,b){var c;c=(Da(),b.length);return qb(en(a,a.length-c,c),b)}function lW(a,b){var c;c=new S3;c.c=true;c.d=b.zb();return ewb(a,b.yb(),c)}function He(a,b){var c;c=b.yb();return mp(),new Fk(c,Kd(a.b,c,Wv(b.zb(),19)))}function BU(a,b){var c;c=zU(a,b,0);if(c==-1){return false}a.vb(c);return true}function Cv(a,b){uv(b)!=9&&Bv(tb(b),b._c,b.__elementTypeId$,uv(b),a);return a}function rW(a){Qp(a.c.a.c,a);Pi(a.b!=a.c.a.b);a.a=a.b;a.b=a.b.a;return a.a}function xW(a){Mi(!!a.c);Qp(a.e,a);a.c.I();a.c=null;a.b=onb(a);yk(a.e,a)}function IW(a,b,c){a.a=b;a.c=c;a.b.a.Q();_I(a.d);a.e.a.c=xv(UF,syb,1,0,4,1)}function Ar(a,b,c){Bk.call(this,W$(_b(a),_b(b)));this.b=a;this.c=b;this.a=c}function j9(a,b,c,d){this.b=new l9(this);this.a=a;this.c=b;this.e=c;this.d=d}function _W(a){$mb.call(this,a,0);Xk(this);this.b.b=this.b;this.b.a=this.b}function aX(a,b){oh.call(this,a,b);this.a=xv(yH,syb,183,2,0,1);this.b=true}function bX(a,b){return ew(b)?b==null?!!Ju(a.d,null):fp(a.e,b):!!Ju(a.d,b)}function RR(a,b){return Ws(),(a-b>0?a-b:-(a-b))<=$yb||a==b||isNaN(a)&&isNaN(b)}function Xs(a,b){Ws();return(a-b>0?a-b:-(a-b))<=$yb||a==b||isNaN(a)&&isNaN(b)}function Z5(a){var b,c;b=true;do{b?(c=W5(a)):(c=U5(a));b=!b}while(c);S5(a,a.d)}function Ru(a,b,c){var d;if(b==null){throw new ra}d=Pu(a,b);Su(a,b,c);return d}function sJ(a,b,c){!a.n&&(a.n=new K9);c==null?cp(a.n,b):Wr(a.n,b,c);return a}function zU(a,b,c){for(;c<a.c.length;++c){if(hs(b,a.c[c])){return c}}return-1}function b2(a,b){while(b>=a.a.c.length){vU(a.a,new aJ)}return Wv(yU(a.a,b),20)}function Fe(a,b){var c;c=Wv(rp(a.a,b),19);if(!c){return null}return Kd(a.b,b,c)}function XP(a,b,c){var d;d=Pu(a,Gzb);if(!d){d=new Tu;Ru(a,Gzb,d)}Ru(d.kc(),b,c)}function vX(a,b,c,d,e){var f;f=xq(a,b);TZ(c,f);f.g=e?8:0;f.f=d;f.e=e;return f}function mo(a,b){var c;this.f=a;this.b=b;c=Wv(Qq(a.b,b),126);this.c=!c?null:c.b}function fJ(a,b){var c,d,e;for(d=0,e=b.length;d<e;++d){c=b[d];TI(a,c,a.c.b,a.c)}}function GV(a,b,c,d,e,f){var g;g=IV(d);dW(g,e);eW(g,f);Fd(a.a,d,new XV(g,b,c.f))}function SX(a,b,c){var d;d=0;a.c[c]>0&&(d+=dab(b));a.b[c]&&(d+=eab(b));return d}function VX(a,b){var c;c=Wv(cp(a.c,b),176);if(c){wo(c);return c.e}return null}function $s(a){if(RH(a,$xb)>0){return $xb}if(RH(a,eyb)<0){return eyb}return _H(a)}function Ph(a){Oh();Mh(a,'size');return _H(VH(WH(a,8),Nyb)?WH(a,8):Nyb),new Wd}function YX(a){Fm.call(this,(Da(),a==null?Wxb:xb(a)),aw(a,46)?Wv(a,46):null)}function HU(a){tU(this);Lo(a>=0,'Initial capacity must not be negative')}function JQ(){JQ=E;HQ=VQ(UQ(UQ(new WQ,(d0(),O_)),C_),J_);IQ=TQ(new WQ,G_)}function LX(){LX=E;IX=new UX;GX=new XX;HX=new ZX;FX=new _X;JX=new bY;KX=new dY}function aY(){aY=E;Bwb=new mh('All',0);Cwb=new qj;Dwb=new Pj;Ewb=new rj}function x8(){x8=E;w8=new y8(DAb,0);v8=new y8('LONGEST_PATH',1);u8=new y8(zAb,2)}function Rv(){Rv=E;Ov=Ev(azb,azb,524287);Pv=Ev(0,0,524288);Dv(1);Dv(2);Qv=Dv(0)}function M1(){M1=E;L1=Cc((I1(),Bv(tv(GC,1),uyb,109,0,[G1,B1,E1,C1,D1,A1,F1,H1])))}function eY(){eY=E;obb=Cc((kbb(),Bv(tv(zE,1),uyb,141,0,[jbb,gbb,hbb,fbb,ibb])))}function gY(){gY=E;Tgb=Cc((Pgb(),Bv(tv(kF,1),uyb,115,0,[Lgb,Kgb,Ngb,Mgb,Ogb])))}function iY(){iY=E;$ib=Cc((Xib(),Bv(tv(qF,1),uyb,85,0,[Wib,Sib,Tib,Uib,Vib])))}function jY(a){tvb();hk(this,_H(QH(SH(Lv(UH(a)?YH(a):a,24)),bBb)),_H(QH(a,bBb)))}function tb(a){return ew(a)?$F:cw(a)?HF:bw(a)?EF:_v(a)?a.$c:zv(a)?a.$c:a.$c||$y}function uv(a){return a.__elementTypeCategory$==null?9:a.__elementTypeCategory$}function Ht(a){var b,c;if(a.a){c=null;do{b=a.a;a.a=null;c=Lt(b,c)}while(a.a);a.a=c}}function It(a){var b,c;if(a.b){c=null;do{b=a.b;a.b=null;c=Lt(b,c)}while(a.b);a.b=c}}function oJ(a){nJ();var b,c;c=jzb;for(b=0;b<a.length;b++){a[b]>c&&(c=a[b])}return c}function KQ(a,b){var c;c=Wv(Qq(a.b,b),106);if(!c){c=b.rc();Wr(a.b,b,c)}return c}function qY(a,b){var c;c=Wv(Qq(a.c,b),176);if(c){nk(a,c);return c.e}return null}function R2(a,b,c,d){var e;e=Wv(qY(a.e,b),116);e.b+=c;e.a+=d;tub(a.e,b,e);a.d=true}function tY(a){var b;++a.a;for(b=a.c.a.length;a.a<b;++a.a){if(a.c.b[a.a]){return}}}function bt(a){var b,c,d;for(b=(a.g==null&&(a.g=Pt(a)),a.g),c=0,d=b.length;c<d;++c);}function Tf(a,b){var c,d;Yf(a);d=a.d.V();c=a.d.ib(b);if(c){++a.f.c;d&&Vf(a)}return c}function Mh(a,b){if(a<0){throw new oc(b+' cannot be negative but was: '+a)}return a}function Yb(a){if(!a){throw new oc((Da(),'numberToAdvance must be nonnegative'))}}function nm(a){if(!a.a.G()){a.a=a.b.mb();if(!a.a.G()){throw new Ua}}return a.a.H()}function Xl(a){Il();var b;_b(a);if(aw(a,108)){b=Wv(a,108);return b}return new km(a)}function gu(d,a){var b=d.a[a];var c=(ev(),dv)[typeof b];return c?c(b):kv(typeof b)}function K2(a,b){var c,d;for(d=new _7(a);d.a<d.c.c.length;){c=Wv(QJ(d),7);J2(c,b)}}function Z9(a,b){var c,d,e,f;for(d=a.d,e=0,f=d.length;e<f;++e){c=d[e];W9(a.g,c).a=b}}function hR(a,b){var c;c=EI(xI(Wv(Qq(a.g,b),10)),RN(Wv(Qq(a.f,b),198).b));return c}function sr(a){var b;return!od(Pl((b=(new e7(a.b.a)).a.bb().mb(),new r7(b)),a.a))}function KY(a){var b;Mi(!!a.c);b=a.c.a;$I(a.d,a.c);a.b==a.c?(a.b=b):--a.a;a.c=null}function gW(a){return!!a.c&&!!a.d?a.c.f+'('+a.c+')->'+a.d.f+'('+a.d+')':'e_'+Sk(a)}function gT(a,b){cT();return a==$S&&b==bT||a==bT&&b==$S||a==aT&&b==_S||a==_S&&b==aT}function hT(a,b){cT();return a==$S&&b==_S||a==$S&&b==aT||a==bT&&b==aT||a==bT&&b==_S}function QY(){zhb();return Bv(tv(nF,1),uyb,110,0,[shb,whb,thb,xhb,uhb,yhb,vhb,rhb])}function sM(){sM=E;rM=Cc((oM(),Bv(tv(Gz,1),uyb,41,0,[gM,fM,iM,nM,mM,lM,jM,kM,hM])))}function UM(){UM=E;TM=new VM('OUTSIDE',0);SM=new VM('INSIDE',1);RM=new VM('FIXED',2)}function TY(){TY=E;Fhb=new Yg(tzb,0);Ghb=new Yg('TOP',1);Ehb=new Yg('BOTTOM',2)}function WY(){WY=E;lxb=new gi;kxb=new Pd('ISO-LATIN-1');jxb=new Pd('ISO-8859-1')}function ZY(){ZY=E;jcb=new Mg('CLASSIC',0);kcb=new Mg('IMPROVE_STRAIGHTNESS',1)}function kW(){this.e=new FI;this.a=new $W;this.d=new FI;this.b=new GU;this.c=new GU}function dZ(a,b,c){this.b=b;this.a=a;this.c=c;vU(this.a.e,this);vU(this.b.b,this)}function rZ(a,b){a.d=vd(a.d,b.d);a.c=nd(a.c,b.c);a.a=nd(a.a,b.a);a.b=vd(a.b,b.b)}function $I(a,b){var c;c=b.c;b.a.b=b.b;b.b.a=b.a;b.a=b.b=null;b.c=null;--a.b;return c}function Jl(a,b){Il();var c;_b(a);_b(b);c=false;while(b.G()){c=c|a.ib(b.H())}return c}function uZ(a){var b;Qp(a.e,a);Pi(a.b);a.c=a.a;b=Wv(a.a.H(),21);a.b=onb(a);return b}function sm(a){var b;while(a.b.G()){b=a.b.H();if(a.a.D(b)){return b}}return a.d=2,null}function xZ(a,b){if(!!b&&a.b[b.e]==b){Av(a.b,b.e,null);--a.c;return true}return false}function TH(a){if(ezb<a&&a<dzb){return a<0?Math.ceil(a):Math.floor(a)}return SH(Jv(a))}function rl(a){if(a){if(a.V()){throw new Ua}return a.sb(a.Y()-1)}return Rl(null.mb())}function BZ(a,b){var c;c=a.d;if(b<c.a.c.length-1){return Wv(yU(c.a,b+1),9)}return null}function TZ(a,b){var c;if(!a){return}b.k=a;var d=zS(b);if(!d){fI[a]=[b];return}d.$c=b}function O5(a,b){var c,d;d=false;do{a.i?(c=V5(a,b)):(c=X5(a,b));d=d|c}while(c);return d}function e$(a,b,c){var d,e;d=b;do{e=kc(a.n[d.k])+c;a.n[d.k]=e;d=a.a[d.k]}while(d!=b)}function M4(a){var b,c;for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);b.vc()}}function bI(){cI();var a=aI;for(var b=0;b<arguments.length;b++){a.push(arguments[b])}}function dn(a,b){var c,d;for(c=0,d=a.Y();c<d;++c){if(hs(b,a.sb(c))){return c}}return-1}function or(a,b){var c;ac(a,'set1');ac(b,'set2');c=(hc(),new nc(b));return new tr(a,c,b)}function Rt(a){var b=/function(?:\s+([\w$]+))?\s*\(/;var c=b.exec(a);return c&&c[1]||Xxb}function YQ(a,b,c){nI(c,Tzb,3);NV(a.c,b,rI(c,1));aR(a,b,rI(c,1));BV(b,rI(c,1));pI(c)}function x$(){x$=E;Cgb=Cc((zgb(),Bv(tv(iF,1),uyb,123,0,[ygb,xgb,wgb,ugb,tgb,vgb])))}function A$(){A$=E;chb=Cc((_gb(),Bv(tv(lF,1),uyb,124,0,[Ygb,Xgb,$gb,Wgb,Zgb,Vgb])))}function D$(){D$=E;Hlb=Bv(tv(mw,1),Yyb,26,12,[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15])}function G$(){G$=E;cjb=new _g(szb,0);ajb=new _g('INPUT',1);bjb=new _g('OUTPUT',2)}function de(a){this.c=a;this.b=new rnb((new Y6(a.b)).a);this.a=null;this.d=(Il(),Il(),Hl)}function Nn(a){this.e=a;this.d=new Oe(op(ud(this.e).Y()));this.c=this.e.a;this.b=this.e.c}function qR(a,b,c){this.c=a;oR.call(this);this.b=b;this.j=new VN(b.d,b.e,b.c,b.b);this.a=c}function qI(a,b){if(a.j>0&&a.c<a.j){a.c+=b;!!a.g&&a.g.d>0&&a.e!=0&&qI(a.g,b/a.j*a.g.d)}}function WV(a){if(a.b.d.f.g==(CX(),xX)){return Wv(rJ(a.b.d.f,(Rib(),uib)),7)}return a.b.d}function VV(a){if(a.b.c.f.g==(CX(),xX)){return Wv(rJ(a.b.c.f,(Rib(),uib)),7)}return a.b.c}function od(a){dc(a.d!=3);switch(a.d){case 2:return false;case 0:return true;}return qd(a)}function CZ(a){switch(a.e){case 2:return sN(),rN;case 4:return sN(),ZM;default:return a;}}function DZ(a){switch(a.e){case 1:return sN(),pN;case 3:return sN(),$M;default:return a;}}function Km(a){var b;if(aw(a,90)){b=Wv(a,90);return new Lm(b.a)}else{return Il(),new dm(a)}}function W$(a,b){ct();var c;c=new og(1);ew(a)?cJ(c,a,b):Ltb(c.d,a,b);return new s8(c)}function Is(a,b){if(!a.g){return a.e}else{a.g=Is(a.g,b);--a.a;a.j=XH(a.j,b.c);return Gs(a)}}function Js(a,b){if(!a.e){return a.g}else{a.e=Js(a.e,b);--a.a;a.j=XH(a.j,b.c);return Gs(a)}}function Ue(a,b){var c,d,e;So(b);c=false;for(e=b.mb();e.G();){d=e.H();c=c|a.ib(d)}return c}function nr(a){var b,c,d;b=0;for(d=a.mb();d.G();){c=d.H();b+=c!=null?vb(c):0;b=~~b}return b}function BY(a){var b,c,d,e;for(c=a.a,d=0,e=c.length;d<e;++d){b=c[d];b.B(null)}return null}function a_(a){var b,c,d;d=new jJ;for(c=a.b.mb();c.G();){b=Wv(c.H(),92);QI(d,b.a)}return d}function c_(a){var b,c,d;b=0;for(d=a.mb();d.G();){c=Yv(d.H());b+=(So(c),c)}return b/a.Y()}function e_(a,b){var c;c=Wv(Qq(a.c,b),200);if(!c){c=new ua;c.c=b;Wr(a.c,c.c,c)}return c}function g_(a,b){var c;So(b);c=b.e;if(!a.b[c]){Av(a.b,c,b);++a.c;return true}return false}function hwb(a,b){var c,d;c=1-b;d=a.a[c];a.a[c]=d.a[b];d.a[b]=a;a.b=true;d.b=false;return d}function yI(a,b){var c;if(aw(b,10)){c=Wv(b,10);return a.a==c.a&&a.b==c.b}else{return false}}function Bs(a,b,c){a.g=new Os(b,c);es(a,a.g,a.i);a.d=sd(2,a.d);++a.a;a.j=PH(a.j,c);return a}function As(a,b,c){a.e=new Os(b,c);es(a.f,a.e,a);a.d=sd(2,a.d);++a.a;a.j=PH(a.j,c);return a}function Nu(e,a){var b=e.a;var c=0;for(var d in b){b.hasOwnProperty(d)&&(a[c++]=d)}return a}function he(a,b){var c,d;So(b);for(d=b.bb().mb();d.G();){c=Wv(d.H(),21);a.db(c.yb(),c.zb())}}function vcb(a,b,c){var d;d=a.a.e[Wv(b.a,9).k]-a.a.e[Wv(c.a,9).k];return hw(d>0?1:d<0?-1:0)}function r5(a,b,c){this.g=a;this.d=b;this.e=c;this.a=new GU;p5(this);ct();JR(this.a,null)}function Os(a,b){Xb(b>0);this.b=a;this.c=b;this.j=b;this.a=1;this.d=1;this.e=null;this.g=null}function qcb(a){a.a=null;a.e=null;a.b.c=xv(UF,syb,1,0,4,1);a.f.c=xv(UF,syb,1,0,4,1);a.c=null}function qhb(){ohb();return Bv(tv(mF,1),uyb,113,0,[fhb,hhb,ihb,jhb,khb,lhb,nhb,ehb,ghb,mhb])}function uvb(a){return wvb(a,26)*1.4901161193847656E-8+wvb(a,27)*1.1102230246251565E-16}function Fo(a){return aw(a,87)?Ii(Wv(a,87)):aw(a,88)?Wv(a,88).a:aw(a,63)?new ap(a):new Ro(a)}function Udb(a){var b;b=Wv(rJ(a,(Rib(),hib)),32);return a.g==(CX(),xX)&&(b==(sN(),rN)||b==ZM)}function YT(a,b){if(ZT(a,b)){Fd(a.a,Wv(rJ(b,(Rib(),fib)),18),b);return true}else{return false}}function QQ(a,b){var c;if(b){for(c=0;c<6;c++){Wv(yU(a.a,c),18).jb(Wv(yU(b.a,c),19))}}return a}function rI(a,b){var c;if(a.b){return null}else{c=oI(a.e,a.f);QI(a.a,c);c.g=a;a.d=b;return c}}function hJ(a,b){var c,d;for(d=WI(a,0);d.b!=d.d.c;){c=Wv(tS(d),10);c.a+=b.a;c.b+=b.b}return a}function J9(a,b){var c,d;for(c=0;c<b.length;c++){for(d=0;d<b[c].length;d++){b[c][d]=a[c][d]}}}function P2(a){var b,c;for(c=new _7(a.b.f);c.a<c.c.c.length;){b=Wv(QJ(c),7);Y2(a.a,Reb(b.g))}}function cT(){cT=E;$S=new fT('Q1',0);bT=new fT('Q4',1);_S=new fT('Q2',2);aT=new fT('Q3',3)}function EK(){EK=E;DK=new FK(szb,0);AK=new FK(qzb,1);BK=new FK('HEAD',2);CK=new FK('TAIL',3)}function ckb(){ckb=E;_jb=new bh('AGGRESSIVE',0);akb=new bh('CAREFUL',1);bkb=new bh('OFF',2)}function Dhb(){Dhb=E;Chb=Cc((zhb(),Bv(tv(nF,1),uyb,110,0,[shb,whb,thb,xhb,uhb,yhb,vhb,rhb])))}function Akb(a,b){Xo();return ew(a)?cs(a,$v(b)):cw(a)?Dp(a,Yv(b)):bw(a)?Vu(a,Xv(b)):a.F(b)}function Es(a,b,c){var d;d=b.$b(c,a.b);return d<0?!a.e?0:Es(a.e,b,c):d>0?!a.g?0:Es(a.g,b,c):a.c}function rk(a,b){var c,d;if(!a.b){return false}d=a.e;c=a.a.$b(b,d);return c<0|c==0&a.d==(Gh(),Fh)}function qk(a,b){var c,d;if(!a.c){return false}d=a.g;c=a.a.$b(b,d);return c>0|c==0&a.f==(Gh(),Fh)}function SH(a){var b;b=a.h;if(b==0){return a.l+a.m*czb}if(b==bzb){return a.l+a.m*czb-dzb}return a}function MI(a){var b,c,d,e;b=new FI;for(d=0,e=a.length;d<e;++d){c=a[d];b.a+=c.a;b.b+=c.b}return b}function J6(a){var b,c,d,e;for(c=a.a,d=0,e=c.length;d<e;++d){b=c[d];Q6(a,b,(sN(),pN));Q6(a,b,$M)}}function zo(a){var b,c,d;b=1;for(d=a.mb();d.G();){c=d.H();b=31*b+(c==null?0:vb(c));b=~~b}return b}function Tsb(a){var b,c;b=Wv(a.e&&a.e(),11);c=Wv(cq(b,b.length),11);return new Ln(b,c,b.length)}function R6(a){this.e=gw(rJ(hX(a[0]),(eM(),uL)))===gw((NK(),JK));this.a=a;this.c=new K9;J6(this)}function kR(a){fR();this.g=(mp(),new K9);this.f=new K9;this.b=new K9;this.c=new xk;this.i=a}function odb(a){this.o=a;this.g=new GU;this.j=new aJ;this.n=new aJ;this.e=new GU;this.b=new GU}function OR(a,b){_p(a.a,b);if(b.f){throw new gt('CNode belongs to another CGroup.')}b.f=a}function eI(a,b){typeof window===Sxb&&typeof window['$gwt']===Sxb&&(window['$gwt'][a]=b)}function K5(a,b,c,d){var e,f;e=I5(a,b,c,d);e<0&&(e=-e-1);for(f=c-1;f>=e;f--){a[f+1]=a[f]}a[e]=d}function kab(a,b,c,d){var e,f;e=jab(a,b,c,d);e<0&&(e=-e-1);for(f=c-1;f>=e;f--){a[f+1]=a[f]}a[e]=d}function Xe(a,b){var c,d;So(b);for(d=b.mb();d.G();){c=d.H();if(!a.kb(c)){return false}}return true}function Ll(a,b){Il();var c;_b(b);while(a.G()){c=a.H();if(!Udb(Wv(c,9))){return false}}return true}function wV(a,b){var c,d,e;c=b.k-a.k;if(c==0){d=a.e.a*a.e.b;e=b.e.a*b.e.b;return glb(d,e)}return c}function YH(a){var b,c,d,e;e=a;d=0;if(e<0){e+=dzb;d=bzb}c=hw(e/czb);b=hw(e-c*czb);return Ev(b,c,d)}function n6(a,b){a.c.c=xv(UF,syb,1,0,4,1);o6(a,a.e,b);o6(a,a.a,b);ct();JR(a.c,null);return p6(a)}function c5(a,b,c){a.g=i5(a,b,(sN(),ZM),a.b);a.d=i5(a,c,ZM,a.b);if(a.g.c==0||a.d.c==0){return}f5(a)}function d5(a,b,c){a.g=i5(a,b,(sN(),rN),a.j);a.d=i5(a,c,rN,a.j);if(a.g.c==0||a.d.c==0){return}f5(a)}function pU(a,b,c){return new VN(vd(a.a,b.a)-c/2,vd(a.b,b.b)-c/2,Le(a.a-b.a)+c,Le(a.b-b.b)+c)}function onb(a){if(a.a.G()){return true}if(a.a!=a.d){return false}a.a=new Zu(a.e.d);return a.a.G()}function xU(a,b){var c,d;c=b.ob();d=c.length;if(d==0){return false}bo(a.c,a.c.length,c);return true}function S5(a,b){var c,d;for(c=0;c<a.a.length;c++){for(d=0;d<a.a[c].length;d++){a.a[c][d]=b[c][d]}}}function zpb(a,b){ct();var c,d,e,f;f=false;for(d=0,e=b.length;d<e;++d){c=b[d];f=f|a.ib(c)}return f}function op(a){mp();if(a<3){Mh(a,'expectedSize');return a+1}if(a<Nyb){return hw(a/0.75+1)}return $xb}function ml(a,b){var c;if(aw(b,19)){c=(Oh(),Wv(b,19));return a.jb(c)}return Jl(a,Wv(_b(b),22).mb())}function Ufb(a,b){var c,d;d=a.d.f;if(d.g==(CX(),AX)){return}c=Uh(mX(d));Cm(c)&&Wr(b,a,Wv(Dm(c),12))}function Xob(a,b){var c,d;wP(b);return c=epb(a,0,b),d=xv(mw,Yyb,26,b,12,1),dxb(a,0,d,0,c,true),d}function swb(a,b){var c;this.c=a;c=new GU;Zvb(a,c,b,a.b,null,false,null,false);this.a=new MJ(c,0)}function is(a){if(!a.a){return false}else if(qk(a.c.b,a.a.b)){a.a=null;return false}else{return true}}function ec(a){if(!a){throw new Qc((Da(),'no calls to next() since the last call to remove()'))}}function ev(){ev=E;dv={'boolean':fv,'number':gv,'string':iv,'object':hv,'function':hv,'undefined':jv}}function xR(){xR=E;vR=rr(Bv(tv(Bz,1),uyb,59,0,[(sK(),oK),pK]));wR=rr(Bv(tv(Bz,1),uyb,59,0,[rK,nK]))}function Apb(a){ct();var b,c,d;d=0;for(c=a.mb();c.G();){b=c.H();d=d+(b!=null?vb(b):0);d=d|0}return d}function Hq(a){Dq();var b,c,d;d=0;for(c=Vg(a).mb();c.G();){b=Wv(c.H(),83);d=PH(d,b.Yb())}return $s(d)}function dS(a){var b,c;for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);b.i.Q()}a.c.Dc(a);eS(a)}function eub(a,b){var c;c=Je(a.a,b);if(c===undefined){++a.d}else{a.a[$Ab](b);--a.c;pm(a.b)}return c}function X5(a,b){var c,d,e,f;c=false;d=a.d[b].length;for(e=d-1;e>0;e--){f=e-1;c=c|Y5(a,b,f,e)}return c}function V5(a,b){var c,d,e,f;c=false;d=a.d[b].length;for(f=0;f<d-1;f++){e=f+1;c=c|Y5(a,b,f,e)}return c}function Gv(a,b){var c,d,e;c=a.l+b.l;d=a.m+b.m+(c>>22);e=a.h+b.h+(d>>22);return Ev(c&azb,d&azb,e&bzb)}function Mv(a,b){var c,d,e;c=a.l-b.l;d=a.m-b.m+(c>>22);e=a.h-b.h+(d>>22);return Ev(c&azb,d&azb,e&bzb)}function LI(a,b){var c;for(c=0;c<(Da(),b.length);c++){if(a==b.charCodeAt(c)){return true}}return false}function yP(a,b){var c;for(c=0;c<(Da(),b.length);c++){if(a==b.charCodeAt(c)){return true}}return false}function rJ(a,b){var c,d;if(a.n){d=Qq(a.n,b);if(d!=null){return d}}c=zJ(b);aw(c,5)&&sJ(a,b,c);return c}function lJ(a){var b,c,d;b=new jJ;for(d=WI(a,0);d.b!=d.d.c;){c=Wv(tS(d),10);rn(b,0,new II(c))}return b}function Q6(a,b,c){var d,e,f,g;g=new U6(b,c);f=0;for(e=T6(g);e.G();){d=Wv(e.H(),7);Wr(a.c,d,Elb(f++))}}function Fb(a,b,c){_b(b);if(c.G()){Wh(b,a.C(c.H()));while(c.G()){Wh(b,a.c);Wh(b,a.C(c.H()))}}return b}function g9(a,b,c,d,e){if(d){h9(a,b)}else{d9(a,b,e);e9(a,b,c)}if(b.c.length>1){JR(b,a.b);V9(a.c,b)}}function Bv(a,b,c,d,e){e.$c=a;e._c=b;e.ad=z;e.__elementTypeId$=c;e.__elementTypeCategory$=d;return e}function vS(a,b,c){switch(c.e){case 2:a.b=b;break;case 1:a.c=b;break;case 4:a.d=b;break;case 3:a.a=b;}}function B6(a,b,c){var d,e;e=C6(c).g;d=w6(a,b,e).a;return d-Dc(Wv(Qq(a.c,b),24).a-Wv(Qq(a.c,c),24).a)}function glb(a,b){if(a<b){return-1}if(a>b){return 1}if(a==b){return 0}return isNaN(a)?isNaN(b)?0:1:-1}function Yi(a){switch(a.Y()){case 0:return Fi;case 1:return new Er(a.mb().H());default:return new gr(a);}}function Nt(){Nt=E;var a,b;b=!(!!Error.stackTraceLimit||'stack'in new Error);a=new _t;Mt=b?new Tt:a}function RP(){RP=E;OP=new DJ('intCoordinates',(Xo(),Xo(),vkb));PP=new CJ('jsonObject');QP=new HI(0,0)}function XZ(){XZ=E;VZ=new YZ('MIRROR_X',0);WZ=new YZ('TRANSPOSE',1);UZ=new YZ('MIRROR_AND_TRANSPOSE',2)}function Hgb(){Hgb=E;Fgb=new Tg(tzb,0);Egb=new Tg('INCOMING_ONLY',1);Ggb=new Tg('OUTGOING_ONLY',2)}function Seb(){Ieb();return Bv(tv(_E,1),uyb,60,0,[meb,jeb,ieb,peb,oeb,Heb,Geb,neb,keb,leb,qeb,Eeb,Feb])}function b3(){b3=E;var a,b,c,d;a3=new vsb(_E);for(b=Seb(),c=0,d=b.length;c<d;++c){a=b[c];Bm(a3,a,null)}}function Bpb(a){ct();var b,c,d;d=1;for(c=a.mb();c.G();){b=c.H();d=31*d+(b!=null?vb(b):0);d=d|0}return d}function Tl(a,b){Il();var c,d;ac(b,'predicate');for(d=0;a.G();d++){c=a.H();if(b.D(c)){return d}}return-1}function Or(a,b){var c,d;c=a.c.a;d=b.ac(c);a.b.b&&(d=XH(d,Nr(a,b,c)));a.b.c&&(d=XH(d,Mr(a,b,c)));return d}function bwb(a,b,c){var d,e;d=new aX(b,c);e=new S3;a.b=_vb(a,a.b,d,e);e.b||++a.c;a.b.b=false;return e.d}function gJ(a,b,c){var d,e,f;d=new aJ;for(f=WI(c,0);f.b!=f.d.c;){e=Wv(tS(f),10);QI(d,new II(e))}sn(a,b,d)}function Mp(a,b){var c;if(b===a){return true}if(aw(b,144)){c=Wv(b,144);return a.P().t(c.P())}return false}function Svb(a){var b;b=a.a.c.length;if(b>0){return Fn(b-1,a.a.c.length),AU(a.a,b-1)}else{throw new Ta}}function p2(a){if(a.b.c.length-a.e.c.length<0){QX(a,(sN(),ZM));a.a.a=a.j.a}else{QX(a,(sN(),rN));a.a.a=0}}function $mb(a,b){Lo(a>=0,'Negative initial capacity');Lo(b>=0,'Non-positive load factor');_U(this)}function rnb(a){var b;this.e=a;this.d=new OT(this.e.e);this.a=this.d;this.b=onb(this);b=a[WAb];this[WAb]=b}function Kkb(){++Fkb;this.n=null;this.j=null;this.i=null;this.d=null;this.b=null;this.k=null;this.a=null}function fpb(a){var b,c,d,e;e=1;for(c=0,d=a.length;c<d;++c){b=a[c];e=31*e+(b!=null?vb(b):0);e=e|0}return e}function Cc(a){var b,c,d,e;b={};for(d=0,e=a.length;d<e;++d){c=a[d];b[':'+(c.d!=null?c.d:''+c.e)]=c}return b}function wO(a){uO();var b,c,d,e;for(c=xO(),d=0,e=c.length;d<e;++d){b=c[d];if(Zi(b.a,a)){return b}}return tO}function Itb(a,b,c){var d,e,f;for(e=0,f=c.length;e<f;++e){d=c[e];if(a.b.Uc(b,d.yb())){return d}}return null}function Rmb(a,b,c){var d,e;for(e=c.mb();e.G();){d=Wv(e.H(),21);if(a.Uc(b,d.zb())){return true}}return false}function Wvb(a,b){var c,d,e;e=a.b;while(e){c=a.a.$b(b,e.d);if(c==0){return e}d=c<0?0:1;e=e.a[d]}return null}function Ge(a,b){var c,d;c=Wv(cp(a.a,b),19);if(!c){return null}d=a.b.Z();d.jb(c);a.b.c-=c.Y();c.Q();return d}function y0(a,b,c){var d;d=Wv(b.B(a),9);while(d.g==(CX(),zX)){!d.n&&(d.n=new K9);cp(d.n,c);d=Wv(b.B(d),9)}}function RH(a,b){var c;if(UH(a)&&UH(b)){c=a-b;if(!isNaN(c)){return c}}return Iv(UH(a)?YH(a):a,UH(b)?YH(b):b)}function OH(a){var b;if(aw(a,46)){return a}b=a&&a.__gwt$exception;if(!b){b=new kt(a);Ot(b,a);MH(a,b)}return b}function p6(a){var b,c,d;b=0;for(d=new _7(a.c);d.a<d.c.c.length;){c=Wv(QJ(d),226);b+=b6(a,c.a,c.b)}return b}function pT(a){var b;b=new DT(a);RT(a.a,nT,new h8(Bv(tv(JA,1),syb,160,0,[b])));!!b.d&&vU(b.f,b.d);return b.f}function w6(a,b,c){switch(c.e){case 1:return Wv(Qq(a.d,b),24);case 3:return Wv(Qq(a.j,b),24);}return Elb(0)}function M5(a,b,c){if(!a.d[b.k][c.k]){L5(a,b,c);a.d[b.k][c.k]=true;a.d[c.k][b.k]=true}return a.a[b.k][c.k]}function Ds(a,b,c){var d;d=b.$b(c,a.b);return d<0?!a.e?a:Wv(Sb(Ds(a.e,b,c),a),206):d==0?a:!a.g?null:Ds(a.g,b,c)}function rb(a,b){return ew(a)?qb(a,b):cw(a)?(So(a),a===b):bw(a)?(So(a),a===b):_v(a)?a.t(b):zv(a)?a===b:a===b}function vQ(a,b){return qb(a.b,b)||iW(a.b,b)&&((Da(),b.length)==ri(a.b)||bn(a.b,ri(a.b)-b.length-1)==46)}function L6(a,b){var c,d,e;c=0;for(e=nX(a,b).mb();e.G();){d=Wv(e.H(),7);c+=rJ(d,(Rib(),Bib))!=null?1:0}return c}function Xvb(a,b){var c,d,e;d=null;e=a.b;while(e){c=a.a.$b(b,e.d);if(c>=0){e=e.a[1]}else{d=e;e=e.a[0]}}return d}function Yvb(a,b){var c,d,e;d=null;e=a.b;while(e){c=a.a.$b(b,e.d);if(c<=0){e=e.a[0]}else{d=e;e=e.a[1]}}return d}function u0(a,b,c,d){var e,f;for(f=a.mb();f.G();){e=Wv(f.H(),33);e.i.a=b.a+(d.a-e.j.a)/2;e.i.b=b.b;b.b+=e.j.b+c}}function o$(a,b){var c;if(a.c.length==0){return}c=Wv(FU(a,xv(qB,Nzb,9,a.c.length,0,1)),51);uj(c,new z$);l$(c,b)}function t$(a,b){var c;if(a.c.length==0){return}c=Wv(FU(a,xv(qB,Nzb,9,a.c.length,0,1)),51);uj(c,new C$);l$(c,b)}function _Z(a){var b,c;b=a.g;if(b==(CX(),xX)){c=Wv(rJ(a,(Rib(),hib)),32);return c==(sN(),$M)||c==pN}return false}function Gc(a,b){var c;So(b);c=a[':'+b];kp(!!c,'Enum constant undefined: %s',Bv(tv(UF,1),syb,1,4,[b]));return c}function Zb(a,b,c){if(!a){throw new oc(fc('lowerEndpoint (%s) > upperEndpoint (%s)',Bv(tv(UF,1),syb,1,4,[b,c])))}}function kv(a){ev();throw new zu("Unexpected typeof result '"+a+"'; please report this bug to the GWT team")}function tN(a){switch(a.e){case 1:return pN;case 2:return rN;case 3:return $M;case 4:return ZM;default:return qN;}}function vK(a){switch(a.e){case 2:return pK;case 1:return oK;case 4:return nK;case 3:return rK;default:return qK;}}function Dkb(a){if(a>=48&&a<58){return a-48}if(a>=97&&a<97){return a-97+10}if(a>=65&&a<65){return a-65+10}return-1}function td(a,b){var c,d;for(d=Ep(Be(a.P()));d.b.G();){c=Wv(zm(d,d.b.H()),19);if(c.kb(b)){return true}}return false}function js(a){var b;if(!is(a)){throw new Ua}b=new fs(a.c,a.a);a.b=b;a.a.i==a.c.a?(a.a=null):(a.a=a.a.i);return b}function pp(a,b){mp();var c;if(a===b){return true}else if(aw(b,57)){c=Wv(b,57);return mr(nj(a),c.bb())}return false}function Gq(a,b,c,d){Dq();Mh(c,'oldCount');Mh(d,'newCount');if(a.Cb(b)==c){a.Gb(b,d);return true}else{return false}}function Bh(a,b,c,d,e){_b(c);_b(e);return Rr(new Ur(a.c,pk(a.b,new sk(a.d,true,b,c,false,null,(Gh(),Fh))),a.a),d,e)}function ck(a){hi();switch(a.Y()){case 0:return kr(),jr;case 1:return new Gr(a.mb().H());default:return new lr(a);}}function PH(a,b){var c;if(UH(a)&&UH(b)){c=a+b;if(ezb<c&&c<dzb){return c}}return SH(Gv(UH(a)?YH(a):a,UH(b)?YH(b):b))}function WH(a,b){var c;if(UH(a)&&UH(b)){c=a*b;if(ezb<c&&c<dzb){return c}}return SH(Kv(UH(a)?YH(a):a,UH(b)?YH(b):b))}function XH(a,b){var c;if(UH(a)&&UH(b)){c=a-b;if(ezb<c&&c<dzb){return c}}return SH(Mv(UH(a)?YH(a):a,UH(b)?YH(b):b))}function sK(){sK=E;qK=new wK(szb,0);pK=new wK(pzb,1);oK=new wK(ozb,2);nK=new wK('DOWN',3);rK=new wK('UP',4)}function NK(){NK=E;MK=new OK(szb,0);KK=new OK('POLYLINE',1);JK=new OK('ORTHOGONAL',2);LK=new OK('SPLINES',3)}function eL(){eL=E;cL=new fL('INHERIT',0);bL=new fL('INCLUDE_CHILDREN',1);dL=new fL('SEPARATE_CHILDREN',2)}function G8(){G8=E;D8=TQ(RQ(new WQ,(d0(),p_)),I_);E8=PQ(TQ(SQ(new WQ,j_),h_),i_);F8=PQ(UQ(new WQ,k_),i_)}function P8(){P8=E;M8=TQ(RQ(new WQ,(d0(),p_)),I_);N8=PQ(TQ(SQ(new WQ,j_),h_),i_);O8=PQ(UQ(new WQ,k_),i_)}function deb(a){this.a=new Qi;this.d=new Qi;this.b=new Qi;this.c=new Qi;this.g=new Qi;this.i=new Qi;this.f=a}function UV(a,b,c,d,e,f){this.e=new GU;this.f=(G$(),cjb);vU(this.e,a);this.d=b;this.a=c;this.b=d;this.f=e;this.c=f}function hpb(a,b,c,d,e,f,g,h){var i;i=c;while(f<g){i>=d||b<c&&h.$b(a[b],a[i])<=0?Av(e,f++,a[b++]):Av(e,f++,a[i++])}}function v0(a,b,c,d,e){var f,g;for(g=a.mb();g.G();){f=Wv(g.H(),33);f.i.a=b.a;f.i.b=e?b.b:b.b+d.b-f.j.b;b.a+=f.j.a+c}}function gcb(a,b){xn();var c,d;for(d=Uh(gX(a));Cm(d);){c=Wv(Dm(d),12);if(c.d.f==b||c.c.f==b){return c}}return null}function fdb(a,b,c){var d,e,f;d=0;for(f=WI(a,0);f.b!=f.d.c;){e=kc(Yv(tS(f)));if(e>c){break}else e>=b&&++d}return d}function sn(a,b,c){var d,e,f,g;So(c);g=false;f=WI(a,b);for(e=WI(c,0);e.b!=e.d.c;){d=tS(e);$p(f,d);g=true}return g}function Uf(a,b){var c,d,e;if(b.V()){return false}e=a.Y();c=a.d.jb(b);if(c){d=a.d.Y();a.f.c+=d-e;e==0&&Vf(a)}return c}function qJ(a,b){var c;if(!b){return a}c=!b.n?(ct(),ct(),wpb):b.n;c.V()||(!a.n?(a.n=new ci(c)):he(a.n,c));return a}function Gb(b,c,d){var e;try{Fb(b,c,d)}catch(a){a=OH(a);if(aw(a,181)){e=a;throw new YX(e)}else throw NH(a)}return c}function Qb(b,c,d){var e;try{Pb(b,c,d)}catch(a){a=OH(a);if(aw(a,181)){e=a;throw new YX(e)}else throw NH(a)}return c}function NH(a){var b;if(aw(a,164)){b=Wv(a,164);if(gw(b.b)!==gw((it(),ht))){return gw(b.b)===gw(ht)?null:b.b}}return a}function SW(a,b){var c;c=Wv(rJ(hX(a),(Rib(),zib)),9);while(c){if(c==b){return true}c=Wv(rJ(hX(c),zib),9)}return false}function EZ(a){switch(Wv(rJ(a,(Rib(),mib)),140).e){case 1:sJ(a,mib,(TY(),Ehb));break;case 2:sJ(a,mib,(TY(),Ghb));}}function Kk(a){hi();switch(a.c){case 0:return kr(),jr;case 1:return new Gr(Sl(new ng(a)));default:return new Jk(a);}}function Ti(a){Gi();var b,c;for(b=0,c=a.length;b<c;b++){if(a[b]==null){throw new Tc('at index '+b)}}return new h8(a)}function $4(a,b,c){if(b.length==0||c.length==0){return 0}a.e?(a.b=new y5(a.c)):(a.b=new H5(a.c));return a.b.Gc(b,c)}function pI(a){if(a.i==null){throw new Qc('The task has not begun yet.')}if(!a.b){a.c<a.j&&qI(a,a.j-a.c);a.b=true}}function DR(a,b){var c,d;for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),27);BU(a.b.b,c.b);PR(Wv(c.a,78),Wv(c.b,25))}}function aU(a,b){var c,d;for(d=new _7(a.a);d.a<d.c.c.length;){c=Wv(QJ(d),222);if(YT(c,b)){return}}vU(a.a,new _T(b))}function aV(a){var b,c,d;b=new GU;for(d=new _7(a.b);d.a<d.c.c.length;){c=Wv(QJ(d),251);xU(b,Wv(c.Ac(),19))}return b}function Q0(a,b){var c,d,e;e=new GU;for(d=nX(a,b).mb();d.G();){c=Wv(d.H(),7);e.c[e.c.length]=c}JR(e,new V0);return e}function iX(a){var b,c,d;b=new GU;for(d=new _7(a.f);d.a<d.c.c.length;){c=Wv(QJ(d),7);vU(b,c.b)}return _b(b),new Vh(b)}function mX(a){var b,c,d;b=new GU;for(d=new _7(a.f);d.a<d.c.c.length;){c=Wv(QJ(d),7);vU(b,c.e)}return _b(b),new Vh(b)}function Elb(a){var b,c;if(a>-129&&a<128){b=a+128;c=(Yo(),Flb)[b];!c&&(c=Flb[b]=new z5(a));return c}return new z5(a)}function R5(a){var b,c;b=Z4(a.b,a.d);c=$xb;while(c>b){S5(a,a.d);if(b==0){c=0;break}W5(a);U5(a);c=b;b=Z4(a.b,a.d)}a.c=c}function yvb(){tvb();var a,b,c;c=svb+++YV();a=hw(Math.floor(c*FAb))&bBb;b=hw(c-a*aBb);this.a=a^1502;this.b=b^_Ab}function vb(a){return ew(a)?Pxb(a):cw(a)?hw((So(a),a)):bw(a)?jc((So(a),a))?1231:1237:_v(a)?a.v():zv(a)?Sk(a):Sk(a)}function AQ(a,b,c){var d,e,f;e=new jQ;e.d=c;d=UP(e,b);f=new dR;jc(kc(Xv(rJ(d,yQ))))?YQ(f,d,new sI):BQ(a,f,d);ZP(e,d)}function E6(a,b,c,d){var e,f,g,h;h=new U6(b,d);g=0;for(f=T6(h);f.G();){e=Wv(f.H(),7);Wr(a.i,e,Elb(g++))}Wr(c,b,Elb(g))}function c6(a,b){var c,d,e,f,g;c=0;g=0;for(e=0,f=b.length;e<f;++e){d=b[e];c=i6(a,c,d,(sN(),ZM),a.f);g=i6(a,g,d,rN,a.n)}}function pJ(a,b){var c,d,e,f;if(!a.n){return}for(d=0,e=b.length;d<e;++d){c=b[d];f=Qq(a.n,c);if(f!=null){c.nc();c.oc()}}}function L2(a,b){var c,d,e;for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),75);e=X2(a.a);R2(a.a,e,c.k,c.j);aeb(c,e,true)}}function M2(a,b){var c,d,e;for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),75);e=W2(a.a);R2(a.a,e,c.k,c.j);aeb(c,e,true)}}function PW(a){var b,c;c=Wv(rJ(a,(eM(),sL)),59);if(c==(sK(),qK)){b=Wv(rJ(a,(Rib(),Rhb)),15).a;return b>=1?pK:nK}return c}function Cm(a){_b(a.b);if(a.b.G()){return true}while(a.a.G()){_b(a.b=a.Wb(a.a.H()));if(a.b.G()){return true}}return false}function m7(a){if(a.d!=a.c.d||a.i!=a.g.d){a.a.c=xv(UF,syb,1,0,4,1);xU(a.a,a.c);xU(a.a,a.g);a.d=a.c.d;a.i=a.g.d}return a.a}function Yf(a){var b;if(a.b){Yf(a.b);if(a.b.d!=a.c){throw new Sa}}else if(a.d.V()){b=Wv(Qq(a.f.b,a.e),19);!!b&&(a.d=b)}}function H9(a,b,c,d,e){var f,g,h,i;i=Co(a);g9(b,i,d,e,c);f=0;for(h=new _7(i);h.a<h.c.c.length;){g=Wv(QJ(h),9);a[f++]=g}}function oP(a){var b,c,d;d=Wv(vW(a.a,(eM(),DL)),15).a;for(c=new _7(uW(a.a));c.a<c.c.c.length;){b=Wv(QJ(c),626);qP(a,b,d)}}function WQ(){var a,b;this.a=new HU(6);for(b=0;b<6;b++){vU(this.a,(a=Wv(Zd(mC),11),new Ln(a,Wv(fq(a,a.length),11),0)))}}function W5(a){var b,c,d;d=false;for(c=0;c<a.d.length;c++){a.j=(b=new N5(a.e,a.d,c,0),new b7(c,a.d,b));d=d|O5(a,c)}return d}function H8(a,b,c){var d,e;e=a.a.c;for(d=e.c.length;d<c;d++){uU(e,0,new sY(a.a))}rX(b,Wv(yU(e,e.c.length-c),16));a.b[b.k]=c}function hdb(a,b){var c,d;c=WI(a,0);while(c.b!=c.d.c){d=kc(Yv(tS(c)));if(d==b){return}else if(d>b){SJ(c);break}}$p(c,b)}function dub(a,b,c){var d;d=Je(a.a,b);ad(a.a,b,c===undefined?null:c);if(d===undefined){++a.c;pm(a.b)}else{++a.d}return d}function qgb(a,b,c){if((b-a<=0?0-(b-a):b-a)<uAb||(c-a<=0?0-(c-a):c-a)<uAb){return true}return b-a>uAb?a-c>uAb:c-a>uAb}function Qgb(a){switch(a.e){case 0:return Kgb;case 1:return Lgb;case 2:return Mgb;case 3:return Ngb;default:return Ogb;}}function uS(a,b){switch(b.e){case 2:return a.b;case 1:return a.c;case 4:return a.d;case 3:return a.a;default:return false;}}function vN(a){sN();switch(a.e){case 4:return $M;case 1:return ZM;case 3:return pN;case 2:return rN;default:return qN;}}function c7(a,b){if(b==a.c){return a.d}else if(b==a.d){return a.c}else{throw new oc('Node '+b+' not part of edge '+a)}}function zO(a,b){var c;if(vk(a.a,b)){return Wv(vk(a.a,b)?a.b[b.e]:null,62)}else{c=new ZN;g_(a.a,b);gq(a,b.e,c);return c}}function Zeb(a,b){var c,d,e,f;f=a.g.tb();c=0;while(f.G()){d=kc(Yv(f.H()));e=d-b;if(e>RAb){return c}else e>SAb&&++c}return c}function Usb(a){var b,c,d,e;c=(b=Wv(Zd((d=a.$c,e=d.f,e==IF?d:e)),11),new Ln(b,Wv(fq(b,b.length),11),0));g_(c,a);return c}function yR(a,b){var c,d;for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),27);vU(a.b.b,Wv(c.b,25));OR(Wv(c.a,78),Wv(c.b,25))}}function gpb(a,b,c,d){var e,f,g;for(e=b+1;e<c;++e){for(f=e;f>b&&d.$b(a[f-1],a[f])>0;--f){g=a[f];Av(a,f,a[f-1]);Av(a,f-1,g)}}}function k3(a){var b,c;if(!MM(Wv(rJ(a,(eM(),TL)),28))){for(c=new _7(a.f);c.a<c.c.c.length;){b=Wv(QJ(c),7);QX(b,(sN(),qN))}}}function oX(a,b){switch(b.e){case 1:return pl(a.f,(LX(),GX));case 2:return pl(a.f,(LX(),IX));default:return ct(),ct(),vpb;}}function oW(a,b){if(yJ(b,(eM(),cM))){return rJ(a.e,(Rib(),Jib))}else if(yJ(b,LL)){return rJ(a.e,(Rib(),tib))}return rJ(a.e,b)}function I5(a,b,c,d){var e,f,g;f=b;e=c-1;while(f<=e){g=(f+e)/2|0;if(a[g]==d){return g}else a[g]<d?(f=g+1):(e=g-1)}return-f-1}function Ve(a,b,c){var d,e;for(e=a.mb();e.G();){d=e.H();if(gw(b)===gw(d)||b!=null&&rb(b,d)){c&&e.I();return true}}return false}function epb(a,b,c){var d;kp(b<=c,'%s > %s',Bv(tv(UF,1),syb,1,4,[Elb(b),Elb(c)]));d=a.length;c=c<d?c:d;Gxb(b,c,d);return c-b}function aW(a,b){var c,d,e;c=a;e=0;do{if(c==b){return e}d=Wv(rJ(c,(Rib(),zib)),9);if(!d){throw new na}c=hX(d);++e}while(true)}function U5(a){var b,c,d;d=false;for(c=a.d.length-1;c>=0;c--){a.j=(b=new N5(a.e,a.d,c,1),new b7(c,a.d,b));d=d|O5(a,c)}return d}function k6(a){this.f=(mp(),new K9);this.n=new K9;this.k=new K9;this.g=new Lb;this.i=new Vr((Tq(),Sq));this.j=a;c6(this,a)}function vsb(a){var b;this.a=(b=Wv(a.e&&a.e(),11),new Ln(b,Wv(fq(b,b.length),11),0));this.b=xv(UF,syb,1,this.a.a.length,4,1)}function jf(a,b){var c;if(b===a){return true}if(!aw(b,18)){return false}c=Wv(b,18);if(c.Y()!=a.Y()){return false}return a.lb(c)}function Reb(a){Ieb();switch(a.e){case 1:return meb;case 2:return ieb;case 3:return oeb;case 4:return Geb;default:return Feb;}}function pgb(a,b){switch(b.e){case 1:return a.e.d;case 2:return a.e.c;case 3:return a.e.a;case 4:return a.e.b;default:return 0;}}function xO(){uO();return Bv(tv(Oz,1),uyb,67,0,[rO,qO,sO,iO,hO,jO,mO,lO,kO,pO,oO,nO,fO,eO,gO,cO,bO,dO,_N,$N,aO,tO])}function zM(){zM=E;yM=new AM(szb,0);xM=new AM('JUSTIFIED',1);uM=new AM('BEGIN',2);vM=new AM(qzb,3);wM=new AM('END',4)}function DN(){DN=E;BN=new EN('PORTS',0);CN=new EN('PORT_LABELS',1);AN=new EN('NODE_LABELS',2);zN=new EN('MINIMUM_SIZE',3)}function kP(){kP=E;jP=new lP('UNKNOWN',0);gP=new lP('ABOVE',1);hP=new lP('BELOW',2);iP=new DJ('de.cau.cs.kieler.labelSide',jP)}function Qjb(){Qjb=E;Njb=new ah('EQUALLY_DISTRIBUTED',0);Pjb=new ah('NORTH_STACKED',1);Ojb=new ah('NORTH_SEQUENCE',2)}function gI(){fI={};!Array.isArray&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==='[object Array]'})}function SR(a,b){return Ws(),Ws(),((a-b>0?a-b:-(a-b))<=$yb||a==b||isNaN(a)&&isNaN(b)?0:a<b?-1:a>b?1:Ys(isNaN(a),isNaN(b)))>0}function TR(a,b){return Ws(),Ws(),((a-b>0?a-b:-(a-b))<=$yb||a==b||isNaN(a)&&isNaN(b)?0:a<b?-1:a>b?1:Ys(isNaN(a),isNaN(b)))<0}function Veb(a){var b,c;a.d||cfb(a);c=new jJ;b=a.b.mb();b.H();while(b.G()){QI(c,Wv(b.H(),92).a)}Pi(c.b!=0);$I(c,c.c.b);return c}function $db(a){var b,c,d,e;e=new Qi;b=new IU(a.c);Dpb(b);for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),7);e.a.db(c,e)}return e}function Np(a,b){var c,d,e;_b(b);for(d=(e=a.g,Wv(!e?(a.g=new En(a)):e,20)).mb();d.G();){c=Wv(d.H(),21);Fd(b,c.zb(),c.yb())}return b}function mf(a,b){var c,d,e;if(aw(b,21)){c=Wv(b,21);d=c.yb();e=rp(a.qb(),d);return Tb(e,c.zb())&&(e!=null||a.qb().R(d))}return false}function Yeb(a,b){var c,d,e;e=a.g.tb();while(e.G()){c=kc(Yv(e.H()));d=c-b<=0?0-(c-b):c-b;if(d<RAb){return e.L()-1}}return a.g.Y()}function Vfb(a){var b,c;for(c=new _7(a.a);c.a<c.c.c.length;){b=Wv(QJ(c),9);if(b.g==(CX(),AX)||b.g==wX){return false}}return true}function nI(a,b,c){if(a.b){throw new Qc('The task is already done.')}else if(a.i!=null){return false}else{a.i=b;a.j=c;return true}}function A5(a,b){if(a.f<b.f){return-1}else if(a.f>b.f){return 1}else if(a.g<b.g){return-1}else if(a.g>b.g){return 1}return a.b-b.b}function S8(a,b){if(b.c==a){return b.d}else if(b.d==a){return b.c}throw new oc('Input edge is not connected to the input port.')}function q5(a){var b;if(a.c==0){return}b=Wv(yU(a.a,a.b),128);b.b==1?(++a.b,a.b<a.a.c.length&&u5(Wv(yU(a.a,a.b),128))):--b.b;--a.c}function ZU(a,b){a.b.a=vd(a.b.a,b.c);a.b.b=vd(a.b.b,b.d);a.a.a=nd(a.a.a,b.c);a.a.b=nd(a.a.b,b.d);return a.c[a.c.length]=b,true}function vbb(a,b,c){var d,e;d=kc(a.n[b.f.k])+kc(a.d[b.f.k])+b.i.b+b.a.b;e=kc(a.n[c.f.k])+kc(a.d[c.f.k])+c.i.b+c.a.b;return e-d}function Y5(a,b,c,d){var e,f,g;e=false;if($6(a.j,c,d)){a7(a.j,a.d[b][c],a.d[b][d]);f=a.d[b];g=f[d];f[d]=f[c];f[c]=g;e=true}return e}function fX(a,b,c){var d,e,f,g,h;h=hX(a);e=h.a;d=Wv(rJ(h,(Rib(),Xhb)),15).a;f=h.d;g=a.i;b&&(g.a=g.a-e.b-d-f.a);c&&(g.b=g.b-e.d-d-f.b)}function Q$(a,b){var c,d,e;for(d=Uh(gX(a));Cm(d);){c=Wv(Dm(d),12);e=Wv(b.B(c),9);return new $c(_b(e.i.b+e.j.b/2))}return zb(),zb(),yb}function ifb(a){var b,c,d,e,f;d=gfb(a);b=rAb;f=0;e=0;while(b>0.5&&f<50){e=ofb(d);c=$eb(d,e,true);b=Le(c.b);++f}return $eb(a,e,false)}function jfb(a){var b,c,d,e,f;d=gfb(a);b=rAb;f=0;e=0;while(b>0.5&&f<50){e=nfb(d);c=$eb(d,e,true);b=Le(c.a);++f}return $eb(a,e,false)}function QR(a){var b,c,d;this.a=new Qi;this.e=new Lb;this.f=0;for(c=0,d=a.length;c<d;++c){b=a[c];!this.g&&(this.g=b);OR(this,b)}}function dfb(a){lj(this);this.c=a.c;this.f=a.f;this.e=a.e;this.k=a.k;this.d=a.d;this.g=Eo(a.g);this.j=a.j;this.i=a.i;this.b=Eo(a.b)}function oU(a){switch(a.e){case 1:return sK(),rK;case 4:return sK(),oK;case 2:return sK(),pK;case 3:return sK(),nK;}return sK(),qK}function Xdb(a,b){if(_db(a,b)){_p(a.g,b);return true}b.g!=(sN(),qN)&&_p(a.i,b);b.e.c.length==0?_p(a.c,b):_p(a.b,b);return false}function wU(a,b){var c,d;fV(0,a.c.length);c=Ye(b,xv(UF,syb,1,b.a.Y(),4,1));d=c.length;if(d==0){return false}bo(a.c,0,c);return true}function Zkb(a,b){var c=0;while(!b[c]||b[c]==''){c++}var d=b[c++];for(;c<b.length;c++){if(!b[c]||b[c]==''){continue}d+=a+b[c]}return d}function yt(){var a;if(ut!=0){a=pt();if(a-vt>2000){vt=a;wt=x.setTimeout(Et,10)}}if(ut++==0){Ht((Gt(),Ft));return true}return false}function kS(a){var b,c;for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);b.j.d=-b.j.d-b.j.c;!!b.o&&(b.g.a=-b.g.a+b.o.j.c)}fS(a)}function D2(a,b){var c;c=a;while(b.b<b.d.Y()&&c==a){c=(Pi(b.b<b.d.Y()),Wv(b.d.sb(b.c=b.b++),7)).g}c==a||(Pi(b.b>0),b.a.sb(b.c=--b.b))}function a$(a){var b;if(!LM(Wv(rJ(a,(eM(),TL)),28))){return}b=a.c;b$((gV(0,b.c.length),Wv(b.c[0],16)));b$(Wv(yU(b,b.c.length-1),16))}function NV(a,b,c){nI(c,'Compound graph preprocessor',1);a.a=new xk;RV(a,b,null);MV(a,b);sJ(b,(Rib(),bib),a.a);a.a=null;_U(a.b);pI(c)}function P0(a){var b,c;b=Wv(Dm(Uh(iX(a))),12);c=Wv(Dm(Uh(mX(a))),12);return!jc(kc(Xv(rJ(b,(Rib(),Iib)))))||!jc(kc(Xv(rJ(c,Iib))))}function O6(a,b,c){if(b.g==(CX(),AX)&&c.g==zX){a.d=L6(b,(sN(),pN));a.b=L6(b,$M)}if(c.g==AX&&b.g==zX){a.d=L6(c,(sN(),$M));a.b=L6(c,pN)}}function _8(a,b,c){var d,e,f,g;f=b.g;g=c.g;if(f!=g){return f.e-g.e}else{d=a.a[b.k];e=a.a[c.k];return!d&&!e?0:!d?-1:!e?1:glb(d.a,e.a)}}function jab(a,b,c,d){var e,f,g,h;f=b;e=c-1;while(f<=e){g=f+e>>>1;h=a[g];if(h<d){f=g+1}else if(h>d){e=g-1}else{return g}}return-(f+1)}function Id(a){return aw(a,137)?(ct(),new Dk(Wv(a,137))):aw(a,18)?(ct(),new Rd(Wv(a,18))):aw(a,20)?Hu(Wv(a,20)):(ct(),new o8(a))}function Kd(a,b,c){return aw(c,137)?new Lg(a,b,Wv(c,137)):aw(c,18)?new Kg(a,b,Wv(c,18)):aw(c,20)?Ld(a,b,Wv(c,20),null):new _f(a,b,c,null)}function tn(b,c){var d;d=b.ub(c);try{return d.H()}catch(a){a=OH(a);if(aw(a,74)){throw new mc("Can't get element "+c)}else throw NH(a)}}function rp(b,c){mp();_b(b);try{return b.cb(c)}catch(a){a=OH(a);if(aw(a,119)){return null}else if(aw(a,76)){return null}else throw NH(a)}}function Qu(f,a){var b=f.a;var c;a=String(a);b.hasOwnProperty(a)&&(c=b[a]);var d=(ev(),dv)[typeof c];var e=d?d(c):kv(typeof c);return e}function kgb(a,b,c,d){if(b<c){a.b=0.5*(b+c);a.p=UAb*a.b+0.9*b;a.a=UAb*a.b+0.9*c}else{a.b=0.5*(b+d);a.p=UAb*a.b+0.9*d;a.a=UAb*a.b+0.9*b}}function Vr(a){Ch.call(this,a);this.b=new sk(a,false,null,(Gh(),Fh),false,null,Fh);this.a=new Os(null,1);ds(this.a,this.a);this.c=new Vs}function xT(a){vT();this.c=new GU;this.d=a;switch(a.e){case 0:case 2:this.a=mJ(uT);this.b=Uzb;break;case 3:case 1:this.a=uT;this.b=Vzb;}}function iK(){iK=E;cK=new jK('AUTOMATIC',0);fK=new jK(ozb,1);gK=new jK(pzb,2);hK=new jK('TOP',3);dK=new jK('BOTTOM',4);eK=new jK(qzb,5)}function Pxb(a){oi();var b,c,d;c=':'+a;d=Mxb[c];if(!(d===undefined)){return d}d=Kxb[c];b=d===undefined?Oxb(a):d;mu();Mxb[c]=b;return b}function bk(a,b,c,d,e,f,g){hi();var h,i;i=g.length+6;h=new HU(i);zpb(h,Bv(tv(UF,1),syb,1,4,[a,b,c,d,e,f]));zpb(h,g);return Yj(new _7(h))}function GZ(a){var b;b=Wv(rJ(a,(eM(),JL)),18);if(b.V()){return}if(b.kb((oM(),gM))){b.nb(gM);b.ib(iM)}else if(b.kb(iM)){b.nb(iM);b.ib(gM)}}function HZ(a){var b;b=Wv(rJ(a,(eM(),JL)),18);if(b.V()){return}if(b.kb((oM(),nM))){b.nb(nM);b.ib(lM)}else if(b.kb(lM)){b.nb(lM);b.ib(nM)}}function f$(a,b){var c,d,e,f;e=a.g;c=kc(Yv(rJ(a,(Rib(),Cib))));f=b.g;d=kc(Yv(rJ(b,Cib)));return f!=(CX(),xX)?-1:e!=xX?1:c==d?0:c<d?-1:1}function g6(a,b,c){var d,e;d=xd(h6(a,b.d),h6(a,b.c));e=sd(h6(a,b.d),h6(a,b.c));return $s(Or(Bh(c,Elb(d),(Gh(),Fh),Elb(e),Fh),(qs(),ps)))}function qp(b,c){mp();_b(b);try{return b.R(c)}catch(a){a=OH(a);if(aw(a,119)){return false}else if(aw(a,76)){return false}else throw NH(a)}}function Qh(b,c){Oh();_b(b);try{return xP(b,c)}catch(a){a=OH(a);if(aw(a,119)){return false}else if(aw(a,76)){return false}else throw NH(a)}}function nab(a,b){if(a.e<b.e){return-1}else if(a.e>b.e){return 1}else if(a.f<b.f){return-1}else if(a.f>b.f){return 1}return Sk(a)-Sk(b)}function QZ(a){switch(a.e){case 1:return sN(),rN;case 4:return sN(),$M;case 3:return sN(),ZM;case 2:return sN(),pN;default:return sN(),qN;}}function Ki(a){var b,c;b=cq(a.c,a.c.length);switch(b.length){case 0:return Fi;case 1:c=new Er(b[0]);return c;default:return new gr(Ti(b));}}function EY(a){var b,c,d,e;d=xv(ow,syb,64,a.c.length,0,1);e=0;for(c=new _7(a);c.a<c.c.c.length;){b=Wv(QJ(c),64);d[e++]=b}return new CY(d)}function sW(a){var b,c;if(!a.b){a.b=Do(a.a.b.c.length);for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),33);vU(a.b,new yW(b))}}return a.b}function K6(a,b){var c,d,e;if(a.e){return 1}c=0;for(e=new _7(b.f);e.a<e.c.c.length;){d=Wv(QJ(e),7);c+=d.b.c.length+d.e.c.length}return c}function I6(a){var b,c,d,e;b=false;e=false;for(d=new _7(a.f);d.a<d.c.c.length;){c=Wv(QJ(d),7);b=b|c.g==(sN(),ZM);e=e|c.g==rN}return b&&e}function bV(a){var b,c;this.b=new GU;this.c=a;this.a=false;for(c=new _7(a.b);c.a<c.c.c.length;){b=Wv(QJ(c),9);this.a=this.a|b.g==(CX(),AX)}}function uX(a){cX.call(this);this.g=(CX(),AX);this.f=(Mh(6,Vyb),new HU(6));this.c=(Mh(2,Vyb),new HU(2));this.e=new ZW;this.b=new ZW;this.a=a}function ffb(a,b,c,d,e,f){lj(this);this.e=a;this.f=b;this.d=c;this.c=d;this.g=e;this.b=f;this.j=kc(Yv(e.mb().H()));this.i=kc(Yv(rl(e)))}function Lh(a,b){if(a==null){throw new Tc('null key in entry: null='+b)}else if(b==null){throw new Tc('null value in entry: '+a+'=null')}}function Hab(){Hab=E;Eab=VQ(new WQ,(d0(),v_));Fab=new DJ('linearSegments.inputPrio',Elb(0));Gab=new DJ('linearSegments.outputPrio',Elb(0))}function Cd(a){var b,c,d,e;for(c=(e=(new s7(a.b)).a.bb().mb(),new t7(e));c.a.G();){b=(d=Wv(c.a.H(),21),Wv(d.zb(),19));b.Q()}_U(a.b);a.c=0}function WI(a,b){var c,d;fV(b,a.b);if(b>=a.b>>1){d=a.c;for(c=a.b;c>b;--c){d=d.b}}else{d=a.a.a;for(c=0;c<b;++c){d=d.a}}return new Kn(a,b,d)}function cU(a,b){var c,d,e;e=new FI;for(d=a.mb();d.G();){c=Wv(d.H(),55);UT(c,e.a,0);e.a+=c.e.a+b;e.b=nd(e.b,c.e.b)}e.b>0&&(e.b+=b);return e}function eU(a,b){var c,d,e;e=new FI;for(d=a.mb();d.G();){c=Wv(d.H(),55);UT(c,0,e.b);e.b+=c.e.b+b;e.a=nd(e.a,c.e.a)}e.a>0&&(e.a+=b);return e}function tub(a,b,c){var d,e,f;e=Wv(Qq(a.c,b),176);if(!e){d=new co(a,b,c);Wr(a.c,b,d);mv(d);return null}else{f=Wm(e,c);nk(a,e);return f}}function y3(a,b){if(!Keb(a.b).kb(b.c)){return false}return $t(a.b)?!(Jn(b.d,a.c,a.a)&&Jn(b.a,a.c,a.a)):Jn(b.d,a.c,a.a)&&Jn(b.a,a.c,a.a)}function s6(a,b){return a.c<b.c||a.c==b.c&&d6(a.a)&&d6(b.a)&&h6(a.d,q6(a.a,a.b))>h6(a.d,q6(b.a,b.b))?-1:a.c==b.c&&q6(a.a,a.b)==q6(a.a,a.b)?0:1}function L5(a,b,c){if(a.e){switch(a.b){case 1:g5(a.c,b,c);break;case 0:h5(a.c,b,c);}}else{e5(a.c,b,c)}a.a[b.k][c.k]=a.c.i;a.a[c.k][b.k]=a.c.e}function LW(a,b,c){switch(c.e){case 1:a.a=b.a/2;a.b=0;break;case 2:a.a=b.a;a.b=b.b/2;break;case 3:a.a=b.a/2;a.b=b.b;break;case 4:a.a=0;a.b=b.b/2;}}function Jeb(a){switch(a.e){case 8:return sN(),$M;case 9:return sN(),pN;case 10:return sN(),ZM;case 11:return sN(),rN;default:return sN(),qN;}}function Qt(a){var b,c,d;b='Ot';d=xd(a.length,5);for(c=0;c<d;c++){if(qb(a[c].d,b)){a.length>=c+1&&(a.splice(0,c+1),undefined);break}}return a}function Vv(a,b){if(ew(a)){return!!Uv[b]}else if(a._c){return!!a._c[b]}else if(cw(a)){return!!Tv[b]}else if(bw(a)){return!!Sv[b]}return false}function jQ(){RP();this.i=(mp(),new K9);this.a=new K9;this.k=new K9;this.j=new K9;this.b=new K9;this.n=new K9;this.f=new K9;this.e=new K9}function r$(a,b){var c,d;if(b.a.R(a)){return}else{d=Wv(rJ(a,(Rib(),hib)),32);c=Wv(yU(a.f,0),7);d==(sN(),$M)?QX(c,pN):d==pN&&QX(c,$M);b.a.db(a,b)}}function bbb(a){var b,c;c=sd(1,Wv(rJ(a,(Rib(),Eib)),24).a);a.c.f.g==(CX(),AX)&&a.d.f.g==AX?(b=1):a.c.f.g==AX||a.d.f.g==AX?(b=2):(b=8);return c*b}function P1(a){var b,c,d,e,f;f=Wv(rJ(a,(Rib(),uib)),7);b=Wv(FU(a.b,xv(dB,gAb,12,a.b.c.length,0,1)),47);for(d=0,e=b.length;d<e;++d){c=b[d];eW(c,f)}}function Q1(a){var b,c,d,e,f;c=Wv(rJ(a,(Rib(),uib)),7);b=Wv(FU(a.e,xv(dB,gAb,12,a.e.c.length,0,1)),47);for(e=0,f=b.length;e<f;++e){d=b[e];dW(d,c)}}function Cfb(a){var b,c;T3(this);c=a.i;b=vI(new HI(c.a,c.b),a.j);this.d=vd(c.b,b.b);this.a=nd(c.b,b.b);this.b=vd(c.a,b.a);this.c=nd(c.a,b.a)}function ipb(a,b,c,d){var e,f,g,h;!d&&(d=(zg(),zg(),gsb));e=(f=epb(a,b,c),g=(h=new Array(c-b),Cv(h,a)),dxb(a,b,g,0,f,true),g);jpb(e,a,b,c,-b,d)}function FU(a,b){var c,d,e;e=a.c.length;b.length<e&&(b=(d=new Array(e),Cv(d,b)));for(c=0;c<e;++c){Av(b,c,a.c[c])}b.length>e&&Av(b,e,null);return b}function npb(a,b){var c,d,e;e=a.a.length;b.length<e&&(b=(d=new Array(e),Cv(d,b)));for(c=0;c<e;++c){Av(b,c,a.a[c])}b.length>e&&Av(b,e,null);return b}function xb(a){return ew(a)?a:cw(a)?Me((So(a),a)):bw(a)?Oj(jc((So(a),a))):_v(a)?a.w():zv(a)?ob(a):a.toString?a.toString():'[JavaScriptObject]'}function A6(a){var b,c,d,e,f;f=0;for(c=a.b,d=0,e=c.length;d<e;++d){b=c[d];b.g==(CX(),zX)||Wr(a.c,b,Elb(f++));E6(a,b,a.d,(sN(),$M));E6(a,b,a.j,pN)}}function kbb(){kbb=E;jbb=new Gg('SIMPLE',0);gbb=new Gg(zAb,1);hbb=new Gg('LINEAR_SEGMENTS',2);fbb=new Gg('BRANDES_KOEPF',3);ibb=new Gg(DAb,4)}function Xib(){Xib=E;Wib=new $g(tzb,0);Sib=new $g('FIRST',1);Tib=new $g('FIRST_SEPARATE',2);Uib=new $g('LAST',3);Vib=new $g('LAST_SEPARATE',4)}function Ndb(){Ndb=E;Mdb=new A3;Kdb=TQ(new WQ,(d0(),A_));Ldb=PQ(TQ(new WQ,R_),Q_);Idb=PQ(UQ(TQ(SQ(new WQ,D_),F_),H_),E_);Jdb=PQ(UQ(new WQ,H_),q_)}function ceb(a){var b,c,d,e;for(c=(e=(new e7(a.d.a)).a.bb().mb(),new r7(e));c.a.G();){b=(d=Wv(c.a.H(),21),Wv(d.yb(),12));vU(b.c.e,b);vU(b.d.b,b)}}function vvb(a,b){var c,d;Ni(b>0);if((b&-b)==b){return hw(b*wvb(a,31)*4.6566128730773926E-10)}do{c=wvb(a,31);d=c%b}while(c-d+(b-1)<0);return hw(d)}function zcb(a,b){if(a.c.f==b){return a.d.f}else if(a.d.f==b){return a.c.f}else{throw new oc('Node '+b+' is neither source nor target of edge '+a)}}function Ekb(a,b,c){Ni(a>=0&&a<=1114111);if(a>=ayb){b[c++]=55296+(a-ayb>>10&1023)&byb;b[c]=56320+(a-ayb&1023)&byb;return 2}else{b[c]=a&byb;return 1}}function Ol(a,b){Il();var c,d;while(a.G()){if(!b.G()){return false}c=a.H();d=b.H();if(!(gw(c)===gw(d)||c!=null&&rb(c,d))){return false}}return!b.G()}function JS(a){var b,c,d;tc(a.b.a);a.a=xv(kA,syb,25,a.c.b.a.b.c.length,0,1);b=0;for(d=new _7(a.c.b.a.b);d.a<d.c.c.length;){c=Wv(QJ(d),25);c.k=b++}}function PT(a){var b,c,d,e;JR(a.c,a.a);for(e=new _7(a.c);e.a<e.c.c.length;){d=QJ(e);for(c=new _7(a.b);c.a<c.c.c.length;){b=Wv(QJ(c),160);b.Ec(d)}}}function zW(a){var b,c;if(!a.a){a.a=Do(Wv(a.e,9).c.c.length);for(c=new _7(Wv(a.e,9).c);c.a<c.c.c.length;){b=Wv(QJ(c),33);vU(a.a,new yW(b))}}return a.a}function DW(a){var b,c;if(!a.b){a.b=Do(Wv(a.e,7).c.c.length);for(c=new _7(Wv(a.e,7).c);c.a<c.c.c.length;){b=Wv(QJ(c),33);vU(a.b,new yW(b))}}return a.b}function F6(a){this.b=a;this.c=(mp(),new K9);this.i=new K9;this.d=new K9;this.j=new K9;this.k=gw(rJ(hX(a[0]),(eM(),uL)))===gw((NK(),JK));A6(this)}function sgb(a){switch(a.e){case 1:return 4.71238898038469;default:case 2:return 0;case 3:return 1.5707963267948966;case 4:return 3.141592653589793;}}function Ql(a){Il();var b;b=Kl(a);if(!Cm(a)){throw new mc('position (0) must be less than the number of elements that remained ('+b+')')}return Dm(a)}function un(b,c){var d,e;d=b.ub(c);try{e=d.H();d.I();return e}catch(a){a=OH(a);if(aw(a,74)){throw new mc("Can't remove element "+c)}else throw NH(a)}}function Ye(a,b){var c,d,e,f;f=a.Y();b.length<f&&(b=(e=new Array(f),Cv(e,b)));d=a.mb();for(c=0;c<f;++c){Av(b,c,d.H())}b.length>f&&Av(b,f,null);return b}function qX(a,b,c){if(!!c&&(b<0||b>c.a.c.length)){throw new oc('index must be >= 0 and <= layer node count')}!!a.d&&BU(a.d.a,a);a.d=c;!!c&&uU(c.a,b,a)}function Zvb(a,b,c,d,e,f,g,h){var i,j;if(!d){return}i=d.a[0];!!i&&Zvb(a,b,c,i,e,f,g,h);$vb(a,c,d.d,e,f,g,h)&&b.ib(d);j=d.a[1];!!j&&Zvb(a,b,c,j,e,f,g,h)}function Gxb(a,b,c){if(a<0){throw new mc(jyb+a+' < 0')}if(b>c){throw new mc('toIndex: '+b+' > size '+c)}if(a>b){throw new oc(jyb+a+' > toIndex: '+b)}}function ee(a,b){var c,d,e;c=b.yb();e=b.zb();d=a.cb(c);if(!(gw(e)===gw(d)||e!=null&&rb(e,d))){return false}if(d==null&&!a.R(c)){return false}return true}function h1(a,b,c){var d;d=b.c.f;if(d.g==(CX(),zX)){sJ(a,(Rib(),qib),Wv(rJ(d,qib),7));sJ(a,rib,Wv(rJ(d,rib),7))}else{sJ(a,(Rib(),qib),b.c);sJ(a,rib,c.d)}}function w2(a,b,c){var d;d=b.c.f;if(d.g==(CX(),zX)){sJ(a,(Rib(),qib),Wv(rJ(d,qib),7));sJ(a,rib,Wv(rJ(d,rib),7))}else{sJ(a,(Rib(),qib),b.c);sJ(a,rib,c.d)}}function at(a,b,c){var d,e,f,g,h;bt(a);for(e=(a.i==null&&(a.i=xv(_F,Txb,46,0,0,1)),a.i),f=0,g=e.length;f<g;++f){d=e[f];at(d,b,'\t'+c)}h=a.e;!!h&&at(h,b,c)}function yv(a,b){var c=new Array(b);var d;switch(a){case 11:case 12:d=0;break;case 13:d=false;break;default:return c;}for(var e=0;e<b;++e){c[e]=d}return c}function P5(a){var b,c,d,e;e=xv(qB,Txb,51,a.a.length,0,2);for(c=0;c<e.length;c++){d=a.a[c].length;b=xv(qB,Nzb,9,d,0,1);Gmb(a.a[c],0,b,0,d);e[c]=b}return e}function AW(a){var b,c;if(!a.b){a.b=Do(Wv(a.e,9).f.c.length);for(c=new _7(Wv(a.e,9).f);c.a<c.c.c.length;){b=Wv(QJ(c),7);vU(a.b,new FW(b,a.c))}}return a.b}function sp(b,c){mp();_b(b);try{return ew(c)?vs(b,c):Mtb(b.d,c)}catch(a){a=OH(a);if(aw(a,119)){return null}else if(aw(a,76)){return null}else throw NH(a)}}function Blb(a){var b;b=(D$(),Hlb);return b[a>>>28]|b[a>>24&15]<<4|b[a>>20&15]<<8|b[a>>16&15]<<12|b[a>>12&15]<<16|b[a>>8&15]<<20|b[a>>4&15]<<24|b[a&15]<<28}function ZV(a,b,c){var d,e;if(b.c==(G$(),bjb)&&c.c==ajb){return-1}else if(b.c==ajb&&c.c==bjb){return 1}d=aW(b.a,a.a);e=aW(c.a,a.a);return b.c==bjb?e-d:d-e}function L7(a){var b,c,d,e,f;e=$xb;f=null;for(d=new _7(a.d);d.a<d.c.c.length;){c=Wv(QJ(d),89);if(c.c.j^c.d.j){b=c.d.e-c.c.e-c.a;if(b<e){e=b;f=c}}}return f}function $vb(a,b,c,d,e,f,g){var h,i;if(b.Xc()&&(i=a.a.$b(c,d),i<0||!e&&i==0)){return false}if(b.Yc()&&(h=a.a.$b(c,f),h>0||!g&&h==0)){return false}return true}function Yj(a){hi();var b,c;if(!a.G()){return kr(),jr}c=a.H();if(!a.G()){return new Gr(c)}b=new Qi;_p(b,_b(c));do{_p(b,_b(a.H()))}while(a.G());return ck(b)}function m6(a,b,c){a.e=b;a.a=c;a.d=n6(a,(sN(),ZM));a.d+=n6(a,rN);j6(a,b,c,ZM,a.f);j6(a,b,c,rN,a.n);a.b=n6(a,ZM);a.b+=n6(a,rN);j6(a,c,b,ZM,a.f);j6(a,c,b,rN,a.n)}function hmb(a){var b,c,d;c=(Da(),a.length);d=0;while(d<c&&a.charCodeAt(d)<=32){++d}b=c;while(b>d&&a.charCodeAt(b-1)<=32){--b}return d>0||b<c?a.substr(d,b-d):a}function dxb(a,b,c,d,e,f){var g,h,i;if(gw(a)===gw(c)){a=a.slice(b,b+e);b=0}for(h=b,i=b+e;h<i;){g=h+10000<i?h+10000:i;e=g-h;QS(c,d,f?e:0,a.slice(h,g));h=g;d+=e}}function Nv(a){var b,c,d;if(Iv(a,(Rv(),Qv))<0){return-Fv((b=~a.l+1&azb,c=~a.m+(b==0?1:0)&azb,d=~a.h+(b==0&&c==0?1:0)&bzb,Ev(b,c,d)))}return a.l+a.m*czb+a.h*dzb}function JW(a,b){var c;c=a.f;switch(b.e){case 1:return-(a.i.b+a.j.b);case 2:return a.i.a-c.j.a;case 3:return a.i.b-c.j.b;case 4:return-(a.i.a+a.j.a);}return 0}function KM(){KM=E;JM=new NM(szb,0);IM=new NM('FREE',1);HM=new NM('FIXED_SIDE',2);EM=new NM('FIXED_ORDER',3);GM=new NM('FIXED_RATIO',4);FM=new NM('FIXED_POS',5)}function ZT(a,b){var c,d,e,f;c=Wv(rJ(b,(Rib(),fib)),18);f=Wv(Dd(WT,c),18);for(e=f.mb();e.G();){d=Wv(e.H(),18);if(!Wv(Dd(a.a,d),20).V()){return false}}return true}function HY(a,b,c){this.b=new Dh;this.i=new GU;this.d=new JY(this);this.g=a;this.a=b.c.length;this.c=b;this.e=Wv(yU(this.c,this.c.c.length-1),9);this.f=c;FY(this)}function Pgb(){Pgb=E;Lgb=new Ug('ALWAYS_UP',0);Kgb=new Ug('ALWAYS_DOWN',1);Ngb=new Ug('DIRECTION_UP',2);Mgb=new Ug('DIRECTION_DOWN',3);Ogb=new Ug('SMART',4)}function Iv(a,b){var c,d,e,f,g,h,i,j;i=a.h>>19;j=b.h>>19;if(i!=j){return j-i}e=a.h;h=b.h;if(e!=h){return e-h}d=a.m;g=b.m;if(d!=g){return d-g}c=a.l;f=b.l;return c-f}function K7(a){var b,c,d,e;for(c=(e=(new e7(a.p.a)).a.bb().mb(),new r7(e));c.a.G();){b=(d=Wv(c.a.H(),21),Wv(d.yb(),89));if(b.e&&a.b[b.b]<0){return b}}return null}function TN(a,b){var c,d,e,f,g;d=vd(a.d,b.d);f=vd(a.e,b.e);e=nd(a.d+a.c,b.d+b.c);g=nd(a.e+a.b,b.e+b.b);if(e<d){c=d;d=e;e=c}if(g<f){c=f;f=g;g=c}SN(a,d,f,e-d,g-f)}function hQ(a,b){var c;if(Gzb in a.a){c=Pu(a,Gzb);if(!c.kc()){throw new GQ("The 'properties' property of a graph element must be an object.",c,a)}iQ(c.kc(),b,true)}}function HS(a,b){var c,d,e;d=a.b.j.e;a.a||(d+=a.b.j.b);e=b.b.j.e;b.a||(e+=b.b.j.b);c=glb(d,e);if(c==0){if(!a.a&&b.a){return-1}else if(!b.a&&a.a){return 1}}return c}function kX(a){var b,c;switch(Wv(rJ(hX(a),(Mjb(),ujb)),174).e){case 0:b=a.i;c=a.j;return new HI(b.a+c.a/2,b.b+c.b/2);case 1:return new II(a.i);default:return null;}}function RX(){LX();cX.call(this);this.g=(sN(),qN);this.a=new FI;this.d=new ZW;this.c=(Mh(2,Vyb),new HU(2));this.b=(Mh(4,Vyb),new HU(4));this.e=(Mh(4,Vyb),new HU(4))}function G6(a,b,c){a.d=0;a.b=0;P6(a,b,c);b.g==(CX(),BX)&&c.g==zX?M6(b).g==(sN(),$M)?(a.d=1):(a.b=1):c.g==BX&&b.g==zX&&(M6(c).g==(sN(),$M)?(a.b=1):(a.d=1));O6(a,b,c)}function h9(a,b){var c,d;for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),9);a.a[c.d.k][c.k].a=uvb(a.e);a.a[c.d.k][c.k].d=kc(a.a[c.d.k][c.k].a);a.a[c.d.k][c.k].b=1}}function d9(a,b,c){var d,e,f;for(f=new _7(b);f.a<f.c.c.length;){d=Wv(QJ(f),9);a.a[d.d.k][d.k].e=false}for(e=new _7(b);e.a<e.c.c.length;){d=Wv(QJ(e),9);c9(a,d,c)}}function Ydb(a,b){var c,d,e,f;c=0;d=0;for(f=new _7(b.b);f.a<f.c.c.length;){e=Wv(QJ(f),33);c=nd(c,e.j.a);d+=e.j.b}sJ(b,(Rib(),Lib),new HI(c,d));a.k<c&&(a.k=c);a.j+=d}function Vbb(a,b){this.c=(mp(),new K9);this.a=a;this.b=b;this.d=Wv(rJ(a,(Rib(),Kib)),134);gw(rJ(a,(Mjb(),hjb)))===gw((ZY(),kcb))?(this.e=new Wa):(this.e=new Va)}function Z4(a,b){var c,d,e,f;e=0;for(d=0;d<b.length;d++){c=b[d];if(d<b.length-1){f=b[d+1];e+=$4(a,c,f)}e+=(a.d=new F6(c),x6(a.d));e+=(a.a=new k6(c),a6(a.a))}return e}function S6(a){switch(a.c.e){case 1:return LX(),HX;case 2:return LX(),FX;case 3:return LX(),JX;case 4:return LX(),KX;}throw new Vc("Can't filter on undefined side")}function Pr(b,c){var d;try{d=b.c.a;if(!ok(b.b,c)||!d){return 0}return Es(d,b.d,c)}catch(a){a=OH(a);if(aw(a,119)){return 0}else if(aw(a,76)){return 0}else throw NH(a)}}function J4(a){var b,c,d,e,f;for(d=new rnb((new Y6(a.b)).a);d.b;){c=uZ(d);b=Wv(c.yb(),9);f=Wv(Wv(c.zb(),27).a,9);e=Wv(Wv(c.zb(),27).b,10);vI(BI(b.i),vI(xI(f.i),e))}}function B9(a,b,c){var d,e,f;d=glb(a.a[b.k],a.a[c.k]);if(d==0){e=Wv(rJ(b,(Rib(),oib)),20);f=Wv(rJ(c,oib),20);if(e.kb(c)){return-1}else if(f.kb(b)){return 1}}return d}function ogb(a,b){var c,d;d=vI(xI(a.i),a.a);c=a.f.j;switch(b.e){case 1:return-d.b;case 2:return-d.a+c.a;case 3:return-d.b+c.b;case 4:return-d.a;default:return 0;}}function Z8(a,b){var c,d,e,f;for(e=0;e<b.length;e++){e+1<b.length&&X8(a,b[e+1],(G$(),ajb));f=b[e];c=0;for(d=0;d<f.length;d++){Y8(a,f[d]);c+=a.Hc(f[d],c,(G$(),bjb))}}}function Mfb(){Mfb=E;Lfb=UQ(UQ(RQ(new WQ,(d0(),__)),$_),a0);Hfb=PQ(UQ(TQ(SQ(new WQ,D_),F_),H_),E_);Jfb=TQ(new WQ,A_);Kfb=PQ(TQ(new WQ,R_),Q_);Ifb=PQ(UQ(new WQ,H_),q_)}function dI(b,c,d,e){cI();var f=aI;hG1=c;iG1=d;LH=e;function g(){for(var a=0;a<f.length;a++){f[a]()}}if(b){try{Rxb(g)()}catch(a){b(c,a)}}else{Rxb(g)()}}function clb(a){blb==null&&(blb=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/);if(!Ke(blb,a)){throw new Qd(dyb+a+'"')}return parseFloat(a)}function _gb(){_gb=E;Ygb=new Wg(tzb,0);Xgb=new Wg('LEFTUP',1);$gb=new Wg('RIGHTUP',2);Wgb=new Wg('LEFTDOWN',3);Zgb=new Wg('RIGHTDOWN',4);Vgb=new Wg('BALANCED',5)}function zgb(){zgb=E;ygb=new Sg('V_TOP',0);xgb=new Sg('V_CENTER',1);wgb=new Sg('V_BOTTOM',2);ugb=new Sg('H_LEFT',3);tgb=new Sg('H_CENTER',4);vgb=new Sg('H_RIGHT',5)}function YK(){YK=E;WK=new ZK(tzb,0);UK=new ZK('DIRECTED',1);XK=new ZK('UNDIRECTED',2);SK=new ZK('ASSOCIATION',3);VK=new ZK('GENERALIZATION',4);TK=new ZK('DEPENDENCY',5)}function CX(){CX=E;AX=new DX('NORMAL',0);zX=new DX('LONG_EDGE',1);xX=new DX('EXTERNAL_PORT',2);BX=new DX('NORTH_SOUTH_PORT',3);yX=new DX('LABEL',4);wX=new DX('BIG_NODE',5)}function wv(a,b,c,d,e,f,g){var h,i,j,k,l;k=e[f];j=f==g-1;h=j?d:0;l=yv(h,k);d!=9&&Bv(tv(a,g-f),b[f],c[f],h,l);if(!j){++f;for(i=0;i<k;++i){l[i]=wv(a,b,c,d,e,f,g)}}return l}function gX(a){var b,c,d;b=new GU;for(d=new _7(a.f);d.a<d.c.c.length;){c=Wv(QJ(d),7);vU(b,Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[c.b,c.e]))))))}return _b(b),new Vh(b)}function b7(a,b,c){this.a=c;if(a>=b.length){throw new mc('Greedy SwitchDecider: Free layer layer not in graph.')}this.b=b[a];this.c=new r6(this.b);this.d=new R6(this.b)}function _n(a,b){var c;this.f=a;this.b=this.f.c;c=a.d;bc(b,c);if(b>=(c/2|0)){this.e=a.e;this.d=c;while(b++<c){Zn(this)}}else{this.c=a.a;while(b-->0){Yn(this)}}this.a=null}function qS(a){var b,c,d;for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);d=b.j.d;b.j.d=b.j.e;b.j.e=d;d=b.j.c;b.j.c=b.j.b;b.j.b=d;d=b.g.a;b.g.a=b.g.b;b.g.b=d}fS(a)}function f1(a,b){var c,d,e;d=new MJ(a.b,0);while(d.b<d.d.Y()){c=(Pi(d.b<d.d.Y()),Wv(d.d.sb(d.c=d.b++),33));e=Wv(rJ(c,(eM(),tL)),107);if(e==(EK(),BK)){fr(d);vU(b.b,c)}}}function Vab(a,b,c){var d,e,f,g;g=zU(a.f,b,0);f=new ta;f.b=c;d=new MJ(a.f,g);while(d.b<d.d.Y()){e=(Pi(d.b<d.d.Y()),Wv(d.d.sb(d.c=d.b++),9));e.k=c;vU(f.f,e);fr(d)}return f}function Eq(a,b){Dq();var c,d,e;if(b.V()){return false}if(aw(b,207)){e=Wv(b,207);for(d=e.bb().mb();d.G();){c=Wv(d.H(),83);a.Bb(c.Zb(),c.Yb())}}else{Jl(a,b.mb())}return true}function MN(){MN=E;KN=new NN('DEFAULT_MINIMUM_SIZE',0);LN=new NN('MINIMUM_SIZE_ACCOUNTS_FOR_INSETS',1);JN=new NN('COMPUTE_INSETS',2);IN=new NN('APPLY_ADDITIONAL_INSETS',3)}function MP(a){var b,c,d,e;c=a.a.b+2;e=xv(qz,Fzb,10,c,0,1);e[0]=xI(MX(a.c));d=WI(a.a,0);while(d.b!=d.d.c){b=Wv(tS(d),10);e[d.a]=new HI(b.a,b.b)}e[c-1]=xI(MX(a.d));return e}function ge(a,b,c){var d,e,f;for(e=a.bb().mb();e.G();){d=Wv(e.H(),21);f=d.yb();if(gw(b)===gw(f)||b!=null&&rb(b,f)){if(c){d=new oh(d.yb(),d.zb());e.I()}return d}}return null}function f9(a,b,c){var d,e;d=a.a[b.d.k][b.k];e=a.a[c.d.k][c.k];if(d.a!=null&&e.a!=null){return Dp(d.a,e.a)}else if(d.a!=null){return-1}else if(e.a!=null){return 1}return 0}function beb(a,b,c){var d,e,f;e=b.c;f=b.d;d=c;if(_p(a.a,b)){Xdb(a,e)&&(d=true);Xdb(a,f)&&(d=true);if(d){BU(b.c.e,b);BU(b.d.b,b);_p(a.d,b)}Ydb(a,b);return true}return false}function $eb(a,b,c){var d,e;e=Zeb(a,b);if(e==a.c){return wl(a,Yeb(a,b))}if(c){_eb(a,b,a.c-e);return wl(a,Yeb(a,b))}else{d=new dfb(a);_eb(d,b,a.c-e);return wl(d,Yeb(d,b))}}function $tb(){function b(){try{return(new Map).entries().next().done}catch(a){return false}}if(typeof Map===Zxb&&Map.prototype.entries&&b()){return Map}else{return _tb()}}function Dd(a,b){var c;c=Wv(Qq(a.b,b),19);!c&&(c=a.Z());return aw(c,137)?new Lg(a,b,Wv(c,137)):aw(c,18)?new Kg(a,b,Wv(c,18)):aw(c,20)?Ld(a,b,Wv(c,20),null):new _f(a,b,c,null)}function Gs(a){switch(Rs(a.e)-Rs(a.g)){case-2:Cs(a.g)>0&&(a.g=Ls(a.g));return Ks(a);case 2:Cs(a.e)<0&&(a.e=Ks(a.e));return Ls(a);default:a.d=1+sd(Rs(a.e),Rs(a.g));return a;}}function k5(a,b){this.f=(mp(),new K9);this.b=new K9;this.j=new K9;this.a=a;this.c=b;this.c>0&&j5(this,this.c-1,(sN(),ZM));this.c<this.a.length-1&&j5(this,this.c+1,(sN(),rN))}function jt(a){var b;if(a.c==null){b=gw(a.b)===gw(ht)?null:a.b;a.d=b==null?Wxb:dw(b)?mt(Zv(b)):ew(b)?'String':Xd(tb(b));a.a=a.a+': '+(dw(b)?lt(Zv(b)):b+'');a.c='('+a.d+') '+a.a}}function IY(a){var b,c,d,e;for(c=new _7(a.a.c);c.a<c.c.c.length;){b=Wv(QJ(c),9);for(e=WI(Eo(b.c),0);e.b!=e.d.c;){d=Wv(tS(e),33);rJ(d,(Rib(),uib))==null&&BU(b.c,d)}}return null}function e3(a,b){var c,d,e,f,g;g=new GU;for(d=Wv(gs(a3,a),20).mb();d.G();){c=Wv(d.H(),75);xU(g,c.b)}Dpb(g);K2(g,a.a);for(f=new _7(g);f.a<f.c.c.length;){e=Wv(QJ(f),7);qm(b,e)}}function P7(a){var b,c,d,e;while(a.o.a.c.length!=0){c=Wv(Svb(a.o),27);d=Wv(c.a,61);b=Wv(c.b,89);e=c7(b,d);if(b.d==d){o7(e.g,b);d.e=e.e+b.a}else{o7(e.c,b);d.e=e.e-b.a}vU(a.e.a,d)}}function Tr(a,b,c){var d,e,f;Mh(c,'count');if(!ok(a.b,b)){Xb(c==0);return 0}f=a.c.a;if(!f){c>0&&Lr(a,b,c);return 0}e=xv(mw,Yyb,26,1,12,1);d=Ns(f,a.d,b,c,e);Us(a.c,f,d);return e[0]}function l$(a,b){var c,d,e,f,g;e=Wv(rJ(b,(Rib(),Jib)),15).a*Wv(rJ(b,(Mjb(),qjb)),15).a;g=a[0].i.a+a[0].j.a;for(f=1;f<a.length;f++){c=a[f].i;d=a[f].j;c.a<=g+e&&(c.a=g+e);g=c.a+d.a}}function tvb(){tvb=E;var a,b,c,d;qvb=xv(kw,hyb,26,25,12,1);rvb=xv(kw,hyb,26,33,12,1);d=1.52587890625E-5;for(b=32;b>=0;b--){rvb[b]=d;d*=0.5}c=1;for(a=24;a>=0;a--){qvb[a]=c;c*=0.5}}function f5(a){while(a.g.c!=0&&a.d.c!=0){if(o5(a.g).c>o5(a.d).c){a.i+=a.g.c;q5(a.d)}else if(o5(a.d).c>o5(a.g).c){a.e+=a.d.c;q5(a.g)}else{a.i+=n5(a.g);a.e+=n5(a.d);q5(a.g);q5(a.d)}}}function TP(a){if(!a){throw new EQ('An element is null. The origin of an edge could not be determined, this might be due to an inconsistency within the internal element mappings.')}}function UP(a,b){var c,d;_U(a.i);_U(a.a);_U(a.k);_U(a.j);_U(a.b);_U(a.n);_U(a.f);_U(a.e);if(a.d){d=Pu(a.d,OP.b);!!d&&!!d.ic()&&(a.c=d.ic().a)}c=fQ(a,b,null);bQ(a,b);return c}function kfb(a){var b,c,d,e,f,g;d=hfb(gfb(a));b=rAb;f=0;e=0;while(b>0.5&&f<50){e=ofb(d);c=$eb(d,e,true);b=Le(c.b);++f}g=Yv(tn(Eo(a.g),Eo(a.g).b-1));return $eb(a,(So(g),g)-e,false)}function lfb(a){var b,c,d,e,f,g;d=hfb(gfb(a));b=rAb;f=0;e=0;while(b>0.5&&f<50){e=nfb(d);c=$eb(d,e,true);b=Le(c.a);++f}g=Yv(tn(Eo(a.g),Eo(a.g).b-1));return $eb(a,(So(g),g)-e,false)}function Ze(a){var b,c,d,e;e=new Od('[');b=false;for(d=a.mb();d.G();){c=d.H();b?(e.a+=', ',e):(b=true);Yh(e,c===a?'(this Collection)':(Da(),c==null?Wxb:xb(c)))}e.a+=']';return e.a}function ie(a){var b,c,d,e;e=new Od('{');b=false;for(d=a.bb().mb();d.G();){c=Wv(d.H(),21);b?(e.a+=', ',e):(b=true);Yh(e,je(a,c.yb()));e.a+='=';Yh(e,je(a,c.zb()))}e.a+='}';return e.a}function Ks(a){var b;dc(!!a.g);b=a.g;a.g=b.e;b.e=a;b.j=a.j;b.a=a.a;a.a=1+Zr(a.e)+Zr(a.g);a.j=PH(PH(a.c,Ts(a.e)),Ts(a.g));a.d=1+sd(Rs(a.e),Rs(a.g));b.d=1+sd(Rs(b.e),Rs(b.g));return b}function Ls(a){var b;dc(!!a.e);b=a.e;a.e=b.g;b.g=a;b.j=a.j;b.a=a.a;a.a=1+Zr(a.e)+Zr(a.g);a.j=PH(PH(a.c,Ts(a.e)),Ts(a.g));a.d=1+sd(Rs(a.e),Rs(a.g));b.d=1+sd(Rs(b.e),Rs(b.g));return b}function ZO(a){var b;if(!Gj(new _7(AW(a.e)))){return}b=Wv(oW(a.e,(eM(),TL)),28);b==(KM(),FM)?SO(a.e):b==GM?TO(a.e):jc(kc(Xv(oW(a.e,AL))))||a.e.e.j.a==0&&a.e.e.j.b==0?UO(a.e):WO(a)}function s3(a,b,c){var d,e,f;e=new _7(a);if(e.a<e.c.c.length){f=Wv(QJ(e),33);d=r3(f,b,c);while(e.a<e.c.c.length){f=Wv(QJ(e),33);rZ(d,r3(f,b,c))}return new XS(d)}else{return null}}function u2(a,b){var c,d,e,f,g,h;e=0;for(d=new _7(b.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);for(g=new _7(c.a);g.a<g.c.c.length;){f=Wv(QJ(g),9);h=f.j.a+f.e.c+f.e.b+a.b;e=e>h?e:h}}return e}function sT(a,b){oT();var c;if(a.c==b.c){if(a.b==b.b||gT(a.b,b.b)){c=dT(a.b)?1:-1;if(a.a&&!b.a){return c}else if(!a.a&&b.a){return-c}}return _i(a.b.e,b.b.e)}else{return glb(a.c,b.c)}}function nU(a){var b,c;c=xI(MI(Bv(tv(qz,1),Fzb,10,0,[a.f.i,a.i,a.a])));b=a.f.e;switch(a.g.e){case 1:c.b-=b.d;break;case 2:c.a+=b.c;break;case 3:c.b+=b.a;break;case 4:c.a-=b.b;}return c}function z6(a,b){var c;c=0;if(b.g==(CX(),BX)){if(C6(b).f!=a.a){D6(a,C6(b).f);a.e=true}a.e?++a.g:(c+=a.f)}else if(b.g==zX){a.e?(c+=a.g):++a.f}else if(b.g==AX){D6(a,b);a.e=false}return c}function HV(a,b,c,d,e){var f,g,h,i;i=null;for(h=new _7(d);h.a<h.c.c.length;){g=Wv(QJ(h),187);if(g!=c&&zU(g.e,e,0)!=-1){i=g;break}}f=IV(e);dW(f,c.b);eW(f,i.b);Fd(a.a,e,new XV(f,b,c.f))}function FZ(a){switch(Wv(rJ(a,(Mjb(),vjb)),85).e){case 1:sJ(a,vjb,(Xib(),Uib));break;case 2:sJ(a,vjb,(Xib(),Vib));break;case 3:sJ(a,vjb,(Xib(),Sib));break;case 4:sJ(a,vjb,(Xib(),Tib));}}function iQ(a,b,c){var d,e,f,g;if(a){for(e=(f=Nu(a,xv($F,Txb,2,0,5,1)),new Z6(new h8((new _u(a,f)).b)));e.b<e.d.Y();){d=(Pi(e.b<e.d.Y()),$v(e.d.sb(e.c=e.b++)));g=Pu(a,d);wQ(b,d,g,c)}}}function G5(a,b,c){var d,e,f,g,h,i;e=1;while(e<a){e*=2}i=2*e-1;e-=1;h=xv(mw,Yyb,26,i,12,1);d=0;for(g=0;g<b;g++){f=c[g]+e;++h[f];while(f>0){f%2>0&&(d+=h[f+1]);f=(f-1)/2|0;++h[f]}}return d}function aeb(a,b,c){var d,e,f,g;a.e=b;if(c){for(e=(g=(new e7(a.a.a)).a.bb().mb(),new r7(g));e.a.G();){d=(f=Wv(e.a.H(),21),Wv(f.yb(),12));sJ(d,(Rib(),Mib),a.e);QX(d.c,b.a);QX(d.d,b.b)}}}function g4(){g4=E;e4=new h4(tzb,0);b4=new h4(ozb,1);f4=new h4(pzb,2);d4=new h4('LEFT_RIGHT_CONSTRAINT_LOCKING',3);c4=new h4('LEFT_RIGHT_CONNECTION_LOCKING',4);a4=new h4('EDGE_LENGTH',5)}function N5(a,b,c,d){var e;this.b=d;this.e=a.a;e=b[c];this.d=vv(KH,[Txb,xAb],[227,26],13,[e.length,e.length],2);this.a=vv(mw,[Txb,Yyb],[52,26],12,[e.length,e.length],2);this.c=new k5(b,c)}function fwb(a,b,c,d){var e,f;f=b;e=f.d==null||a.a.$b(c.d,f.d)>0?1:0;while(f.a[e]!=c){f=f.a[e];e=a.a.$b(c.d,f.d)>0?1:0}f.a[e]=d;d.b=c.b;d.a[0]=c.a[0];d.a[1]=c.a[1];c.a[0]=null;c.a[1]=null}function ZQ(a,b,c){var d,e,f,g;nI(c,Tzb,1);NQ(a.d,b);g=sV(a.a,b);if(g.Y()==1){_Q(Wv(g.sb(0),55),c)}else{f=1/g.Y();for(e=g.mb();e.G();){d=Wv(e.H(),55);_Q(d,rI(c,f))}}qV(a.a,g,b);bR(b);pI(c)}function o6(a,b,c){var d,e,f,g,h;h=new U6(b,c);for(g=T6(h);g.G();){f=Wv(g.H(),7);for(e=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[f.b,f.e]))))));Cm(e);){d=Wv(Dm(e),12);bW(d)||l6(a,b,f,d)}}}function _6(a,b){var c,d,e;e=nX(a,b);for(d=e.mb();d.G();){c=Wv(d.H(),7);if(rJ(c,(Rib(),Bib))!=null||Cm(Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[c.b,c.e])))))))){return true}}return false}function Efb(a){var b,c;if(sl(a)){throw new oc(TAb)}for(c=WI(a,0);c.b!=c.d.c;){b=Wv(tS(c),10);this.d=vd(this.d,b.b);this.c=nd(this.c,b.a);this.a=nd(this.a,b.b);this.b=vd(this.b,b.a)}}function wI(a,b,c){if(b<0||c<0){throw new oc('The highx must be bigger then lowx and the highy must be bigger then lowy')}a.a<0?(a.a=0):a.a>b&&(a.a=b);a.b<0?(a.b=0):a.b>c&&(a.b=c);return a}function nX(a,b){switch(b.e){case 1:return pl(a.f,(LX(),HX));case 2:return pl(a.f,(LX(),FX));case 3:return pl(a.f,(LX(),JX));case 4:return pl(a.f,(LX(),KX));default:return ct(),ct(),vpb;}}function K0(a){var b,c,d,e;for(e=(Il(),new Im(Dl(ul(a.a,new yl))));Cm(e);){d=Wv(Dm(e),9);d.g==(CX(),yX)&&sJ(d,(Rib(),pib),(kP(),hP));for(c=Uh(mX(d));Cm(c);){b=Wv(Dm(c),12);M0(b,(kP(),hP))}}}function L0(a){var b,c,d,e;for(e=(Il(),new Im(Dl(ul(a.a,new yl))));Cm(e);){d=Wv(Dm(e),9);d.g==(CX(),yX)&&sJ(d,(Rib(),pib),(kP(),gP));for(c=Uh(mX(d));Cm(c);){b=Wv(Dm(c),12);M0(b,(kP(),gP))}}}function cdb(a,b){this.b=new Lb;switch(a){case 0:this.d=new u6(this);break;case 1:this.d=new J5(this);break;case 2:this.d=new _5(this);break;default:throw new na;}this.c=b;this.a=0.2*b}function uW(a){var b,c,d,e;if(!a.b){a.b=new GU;for(c=new _7(a.a.c);c.a<c.c.c.length;){b=Wv(QJ(c),16);for(e=new _7(b.a);e.a<e.c.c.length;){d=Wv(QJ(e),9);vU(a.b,new BW(d,a.c))}}}return a.b}function l5(a,b){var c,d,e;c=m5(b,a.e);d=Wv(Qq(a.g.f,c),24).a;e=a.a.c.length-1;if(a.a.c.length!=0&&Wv(yU(a.a,e),128).c==d){++Wv(yU(a.a,e),128).a;++Wv(yU(a.a,e),128).b}else{vU(a.a,new v5(d))}}function lmb(a){Da();var b,c;if(a>=ayb){b=55296+(a-ayb>>10&1023)&byb;c=56320+(a-ayb&1023)&byb;return String.fromCharCode(b)+(''+String.fromCharCode(c))}else{return String.fromCharCode(a&byb)}}function KV(a,b,c,d){var e,f,g;e=hX(c);f=PW(e);g=new RX;PX(g,c);switch(d.e){case 1:QX(g,tN(vN(f)));break;case 2:QX(g,vN(f));}sJ(g,(Rib(),tib),Wv(rJ(b,tib),15));sJ(b,uib,g);Wr(a.b,g,b);return g}function l6(a,b,c,d){var e;vU(a.c,new t6(a,c,d,Wv(Qq(a.k,c),24).a));if(d6(d)&&(b==a.e?d.d.f!=a.a&&d.c.f!=a.a:d.d.f!=a.e&&d.c.f!=a.e)){e=c==d.c?d.d:d.c;vU(a.c,new t6(a,e,d,Wv(Qq(a.k,e),24).a))}}function fe(a,b){var c,d,e;if(b===a){return true}if(!aw(b,57)){return false}e=Wv(b,57);if(a.Y()!=e.Y()){return false}for(d=e.bb().mb();d.G();){c=Wv(d.H(),21);if(!a._(c)){return false}}return true}function $Z(a,b){var c,d,e;d=new uX(a);qJ(d,b);sJ(d,(Rib(),gib),b);sJ(d,(eM(),TL),(KM(),FM));sJ(d,lL,(iK(),eK));sX(d,(CX(),xX));c=new RX;PX(c,d);QX(c,(sN(),rN));e=new RX;PX(e,d);QX(e,ZM);return d}function O7(a,b){var c,d,e;e=$xb;for(d=new _7(m7(b));d.a<d.c.c.length;){c=Wv(QJ(d),89);if(c.e&&!a.c[c.b]){a.c[c.b]=true;e=xd(e,O7(a,c7(c,b)))}}a.i[b.b]=a.j;a.g[b.b]=xd(e,a.j++);return a.g[b.b]}function _eb(a,b,c){var d,e,f,g;g=a.g.tb();if(a.e){for(e=0;e<a.c;e++){g.H()}}else{for(e=0;e<a.c-1;e++){g.H()}}f=a.b.tb();d=kc(Yv(g.H()));while(d-b<RAb){d=kc(Yv(g.H()));f.H()}g.M();afb(a,c,b,f,g)}function Lt(b,c){var d,e,f,g;for(e=0,f=b.length;e<f;e++){g=b[e];try{g[1]?g[0].bd()&&(c=Kt(c,g)):g[0].bd()}catch(a){a=OH(a);if(aw(a,46)){d=a;Ct(aw(d,164)?Wv(d,164).cc():d)}else throw NH(a)}}return c}function Qr(a){var b,c,d;d=a.c.a;if(!d){return null}if(a.b.b){b=a.b.e;c=Ds(a.c.a,a.d,b);if(!c){return null}a.b.d==(Gh(),Fh)&&a.d.$b(b,c.b)==0&&(c=c.i)}else{c=a.a.i}return c==a.a||!ok(a.b,c.b)?null:c}function t2(a,b){var c,d,e,f,g,h;f=0;for(d=new _7(b.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);e=0;for(h=new _7(c.a);h.a<h.c.c.length;){g=Wv(QJ(h),9);e+=g.j.b+g.e.a+g.e.d+a.a}e-=a.a;f=f>e?f:e}return f}function M7(a){var b,c,d,e,f;f=$xb;e=$xb;for(d=new _7(m7(a));d.a<d.c.c.length;){c=Wv(QJ(d),89);b=c.d.e-c.c.e;c.d==a&&b<e?(e=b):b<f&&(f=b)}e==$xb&&(e=-1);f==$xb&&(f=-1);return new RJ(Elb(e),Elb(f))}function l8(a,b,c){var d,e,f,g,h;b.k=-1;for(h=oX(b,(G$(),bjb)).mb();h.G();){g=Wv(h.H(),7);for(e=new _7(g.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);f=d.d.f;b!=f&&(f.k<0?c.ib(d):f.k>0&&l8(a,f,c))}}b.k=0}function Bfb(a,b){T3(this);if(0>b){throw new oc('Top must be smaller or equal to bottom.')}else if(0>a){throw new oc('Left must be smaller or equal to right.')}this.d=0;this.c=a;this.a=b;this.b=0}function Ffb(a){var b,c,d;T3(this);if(a.length==0){throw new oc(TAb)}for(c=0,d=a.length;c<d;++c){b=a[c];this.d=vd(this.d,b.b);this.c=nd(this.c,b.a);this.a=nd(this.a,b.b);this.b=vd(this.b,b.a)}}function g0(){d0();return Bv(tv(mC,1),uyb,37,0,[L_,o_,c0,m_,p_,__,z_,T_,j_,D_,S_,P_,I_,s_,h_,N_,W_,F_,G_,A_,Z_,V_,R_,r_,U_,$_,Y_,B_,x_,H_,k_,C_,a0,O_,t_,v_,J_,i_,l_,y_,u_,M_,Q_,E_,w_,X_,K_,n_,b0,q_])}function a5(a,b){var c,d,e,f,g,h,i,j,k;k=0;for(d=0,e=b.length;d<e;++d){c=b[d];for(g=0,h=c.length;g<h;++g){f=c[g];for(j=new _7(f.f);j.a<j.c.c.length;){i=Wv(QJ(j),7);i.k=k++}}}a.a=xv(mw,Yyb,26,k,12,1)}function Sl(a){Il();var b,c,d;b=a.H();if(!a.G()){return b}d=new Ud;d.a+='expected one element but was: <'+b;for(c=0;c<4&&a.G();c++){Yh(d,', '+a.H())}a.G()&&(d.a+=', ...',d);d.a+='>';throw new oc(d.a)}function x6(a){var b,c,d,e,f;b=0;for(d=a.b,e=0,f=d.length;e<f;++e){c=d[e];b+=z6(a,c);if(LM(Wv(rJ(c,(eM(),TL)),28))){nX(c,(sN(),$M)).mb().G()&&(b+=y6(a,c,$M));nX(c,pN).mb().G()&&(b+=y6(a,c,pN))}}return b}function i5(a,b,c,d){var e,f,g,h,i;if(d.d.c+d.e.c==0){for(g=a.a[a.c],h=0,i=g.length;h<i;++h){f=g[h];Wr(d,f,new r5(a,f,c))}}e=Wv(re(Ju(d.d,b)),284);e.b=0;e.c=e.f;e.c==0||u5(Wv(yU(e.a,e.b),128));return e}function Dpb(a){var h;ct();var b,c,d,e,f,g;if(aw(a,63)){for(e=0,d=a.Y()-1;e<d;++e,--d){h=a.sb(e);a.wb(e,a.sb(d));a.wb(d,h)}}else{b=a.tb();f=a.ub(a.Y());while(b.L()<f.N()){c=b.H();g=f.M();b.O(g);f.O(c)}}}function Wb(a,b,c){if(a<0||a>c){return Vb(a,c,'start index')}if(b<0||b>c){return Vb(b,c,'end index')}return fc('end index (%s) must not be less than start index (%s)',Bv(tv(UF,1),syb,1,4,[Elb(b),Elb(a)]))}function SP(a){if(!('id'in a.a)){throw new FQ("Every graph element must specify an 'id' property.",a)}if(!Pu(a,'id').lc()){throw new FQ("Invalid format for 'id'. Must be a string, was "+Pu(a,'id').$c,a)}}function f3(a,b){var c,d,e,f,g,h,i;i=a.b;for(d=Wv(gs(a3,a),20).mb();d.G();){c=Wv(d.H(),75);for(h=(f=(new e7(c.c.a)).a.bb().mb(),new r7(f));h.a.G();){g=(e=Wv(h.a.H(),21),Wv(e.yb(),7));qm(b,g);J2(g,i)}}}function _db(a,b){var c,d,e;for(e=new _7(b.e);e.a<e.c.c.length;){c=Wv(QJ(e),12);if(c.d.f!=a.f){return true}}for(d=new _7(b.b);d.a<d.c.c.length;){c=Wv(QJ(d),12);if(c.c.f!=a.f){return true}}return false}function Z2(a){var b,c,d,e;We(a.c);We(a.b);We(a.a);for(e=(c=(new e7(a.e)).a.bb().mb(),new r7(c));e.a.G();){d=(b=Wv(e.a.H(),21),Wv(b.yb(),60));if(d.c!=2){g_(a.a,d);d.c==0&&g_(a.c,d)}g_(a.b,d)}a.d=false}function mr(b,c){var d;if(b===c){return true}if(aw(c,18)){d=Wv(c,18);try{return b.Y()==d.Y()&&b.lb(d)}catch(a){a=OH(a);if(aw(a,76)){return false}else if(aw(a,119)){return false}else throw NH(a)}}return false}function Ltb(a,b,c){var d,e,f,g;g=b==null?0:a.b.Vc(b);e=(d=Ee(a.a,g),d==null?[]:d);if(e.length==0){_c(a.a,g,e)}else{f=Itb(a,b,e);if(f){return f.Ab(c)}}Av(e,e.length,new oh(b,c));++a.c;pm(a.b);return null}function Vb(a,b,c){if(a<0){return fc(ryb,Bv(tv(UF,1),syb,1,4,[c,Elb(a)]))}else if(b<0){throw new oc(tyb+b)}else{return fc('%s (%s) must not be greater than size (%s)',Bv(tv(UF,1),syb,1,4,[c,Elb(a),Elb(b)]))}}function Ub(a,b){if(a<0){return fc(ryb,Bv(tv(UF,1),syb,1,4,['index',Elb(a)]))}else if(b<0){throw new oc(tyb+b)}else{return fc('%s (%s) must be less than size (%s)',Bv(tv(UF,1),syb,1,4,['index',Elb(a),Elb(b)]))}}function jW(a){var b,c,d,e;e=xv(qB,Txb,51,a.c.c.length,0,2);d=new MJ(a.c,0);while(d.b<d.d.Y()){b=(Pi(d.b<d.d.Y()),Wv(d.d.sb(d.c=d.b++),16));c=d.b-1;e[c]=Wv(FU(b.a,xv(qB,Nzb,9,b.a.c.length,0,1)),51)}return e}function w3(a,b,c,d,e){this.c=e;this.d=b;this.a=c;switch(e.e){case 4:this.b=Le(a.b);break;case 1:this.b=Le(a.d);break;case 2:this.b=Le(a.c-d.j.a);break;case 3:this.b=Le(a.a-d.j.b);break;default:this.b=0;}}function adb(a,b,c,d,e){var f,g,h,i,j;if(b){for(h=b.mb();h.G();){g=Wv(h.H(),9);for(j=pX(g,(G$(),bjb),c).mb();j.G();){i=Wv(j.H(),7);f=Wv(re(Ju(e.d,i)),80);if(!f){f=new odb(a);d.c[d.c.length]=f;mdb(f,i,e)}}}}}function Ofb(a,b){var c,d,e;c=a.c;if(c.a.Y()>1){throw new oc('In straight hyperEdges there may be only one edge.')}QI((e=(new e7(c.a)).a.bb().mb(),d=Wv((new r7(e)).a.H(),21),Wv(d.yb(),12)).a,new HI(b,a.b))}function no(a,b,c){var d,e;this.f=a;d=Wv(Qq(a.b,b),126);e=!d?0:d.a;bc(c,e);if(c>=(e/2|0)){this.e=!d?null:d.c;this.d=e;while(c++<e){lo(this)}}else{this.c=!d?null:d.b;while(c-->0){ko(this)}}this.b=b;this.a=null}function HP(a,b){if(typeof klaycallback===Zxb){klaycallback(b)}else{typeof document!==Czb?Rxb(a(b)):typeof module===Sxb&&module.exports&&Rxb(a(b));typeof document===Czb&&typeof self!==Czb&&self.postMessage(b)}}function _P(a,b){var c,d,e,f;if('x'in a.a){e=Wv(Pu(a,'x'),104);b.i.a=e.a}if('y'in a.a){f=Wv(Pu(a,'y'),104);b.i.b=f.a}if(Jzb in a.a){d=Wv(Pu(a,Jzb),104);b.j.a=d.a}if(Kzb in a.a){c=Wv(Pu(a,Kzb),104);b.j.b=c.a}}function lgb(a,b,c){var d,e;dV(this);b==(ou(),dgb)?_p(this.g,a.c):_p(this.o,a.c);c==dgb?_p(this.g,a.d):_p(this.o,a.d);_p(this.c,a);d=MX(a.c).b;e=MX(a.d).b;kgb(this,d,e,e);this.f=_q(MX(a.c).b,MX(a.d).b)}function p5(a){var b,c,d,e,f,g;g=new U6(a.d,a.e);for(f=T6(g);f.G();){e=Wv(f.H(),7);d=a.e==(sN(),rN)?e.b:e.e;for(c=new _7(d);c.a<c.c.c.length;){b=Wv(QJ(c),12);if(!bW(b)&&b.c.f.d!=b.d.f.d){l5(a,b);++a.f;++a.c}}}}function LQ(a,b,c){var d,e,f,g,h;g=(ct(),new Rd(Wv(yU(b.a,c),18)));h=new HU(g.b.Y());for(e=new r8(g.b.mb());e.b.G();){d=Wv(e.b.H(),37);f=Wv(Qq(a.a,d),31);if(!f){f=e0(d);Wr(a.a,d,f)}h.c[h.c.length]=f}return h}function T5(a,b){var c,d,e,f;d=new MJ(a.f.c,0);while(d.b<d.d.Y()){c=(Pi(d.b<d.d.Y()),Wv(d.d.sb(d.c=d.b++),16));f=b[d.b-1];e=new MJ(c.a,0);while(e.b<e.d.Y()){Pi(e.b<e.d.Y());e.d.sb(e.c=e.b++);rm(e,f[e.b-1])}}}function m2(a){var b,c;if(MM(Wv(rJ(a,(eM(),TL)),28))){for(c=new _7(a.f);c.a<c.c.c.length;){b=Wv(QJ(c),7);b.g==(sN(),qN)&&p2(b)}}else{for(c=new _7(a.f);c.a<c.c.c.length;){b=Wv(QJ(c),7);p2(b)}sJ(a,TL,(KM(),HM))}}function jpb(a,b,c,d,e,f){var g,h,i,j;g=d-c;if(g<7){gpb(b,c,d,f);return}i=c+e;h=d+e;j=i+(h-i>>1);jpb(b,a,i,j,-e,f);jpb(b,a,j,h,-e,f);if(f.$b(a[j-1],a[j])<=0){while(c<d){Av(b,c++,a[i++])}return}hpb(a,i,j,h,b,c,d,f)}function hv(a){if(!a){return Bu(),Au}var b=a.valueOf?a.valueOf():a;if(b!==a){var c=dv[typeof b];return c?c(b):kv(typeof b)}else if(a instanceof Array||a instanceof x.Array){return new ku(a)}else{return new Uu(a)}}function I7(a,b,c){var d,e;d=c.c;e=c.d;if(a.g[d.b]<=a.i[b.b]&&a.i[b.b]<=a.i[d.b]&&a.g[e.b]<=a.i[b.b]&&a.i[b.b]<=a.i[e.b]){if(a.i[d.b]<a.i[e.b]){return false}return true}if(a.i[d.b]<a.i[e.b]){return true}return false}function j5(a,b,c){var d,e,f,g,h,i,j,k;j=0;for(e=a.a[b],f=0,g=e.length;f<g;++f){d=e[f];k=new U6(d,c);for(i=T6(k);i.G();){h=Wv(i.H(),7);Wr(a.f,h,Elb(j));LM(Wv(rJ(d,(eM(),TL)),28))&&++j}LM(Wv(rJ(d,(eM(),TL)),28))||++j}}function Pb(a,b,c){var d,e;_b(b);if(c.G()){e=Wv(c.H(),21);Wh(b,Mb(a.a,e.yb()));Wh(b,a.b);Wh(b,Mb(a.a,e.zb()));while(c.G()){Wh(b,a.a.c);d=Wv(c.H(),21);Wh(b,Mb(a.a,d.yb()));Wh(b,a.b);Wh(b,Mb(a.a,d.zb()))}}return b}function Gd(a,b){var c,d;c=Wv(cp(a.b,b),19);if(!c){return a.$()}d=a.Z();d.jb(c);a.c-=c.Y();c.Q();return aw(d,137)?(ct(),new Dk(Wv(d,137))):aw(d,18)?(ct(),new Rd(Wv(d,18))):aw(d,20)?Hu(Wv(d,20)):(ct(),new o8(d))}function Tm(a,b){var c;b.d?(b.d.b=b.b):(a.a=b.b);b.b?(b.b.d=b.d):(a.e=b.d);if(!b.e&&!b.c){c=Wv(cp(a.b,b.a),126);c.a=0;++a.c}else{c=Wv(Qq(a.b,b.a),126);--c.a;!b.e?(c.b=b.c):(b.e.c=b.c);!b.c?(c.c=b.e):(b.c.e=b.e)}--a.d}function mU(a,b,c){switch(c.e){case 1:return new HI(b.a,vd(a.d.b,b.b));case 2:return new HI(nd(a.c.a,b.a),b.b);case 3:return new HI(b.a,nd(a.c.b,b.b));case 4:return new HI(vd(b.a,a.d.a),b.b);}return new HI(b.a,b.b)}function Oxb(a){var b,c,d,e;b=0;d=(Da(),a.length);e=d-4;c=0;while(c<e){b=a.charCodeAt(c+3)+31*(a.charCodeAt(c+2)+31*(a.charCodeAt(c+1)+31*(a.charCodeAt(c)+31*b)));b=b|0;c+=4}while(c<d){b=b*31+bn(a,c++)}b=b|0;return b}function X9(a,b){var c,d,e;this.a=a;this.c=b;this.b=xv(nE,Txb,673,a.length,0,2);for(c=0;c<a.length;++c){e=a[c].length;this.b[c]=xv(nE,{673:1,3:1,5:1,6:1},102,e,0,1);for(d=0;d<e;++d){this.b[c][d]=new $9(this,a[c][d].c)}}}function sk(a,b,c,d,e,f,g){var h;this.a=Wv(_b(a),56);this.b=b;this.c=e;this.e=c;this.d=Wv(_b(d),159);this.g=f;this.f=Wv(_b(g),159);b&&a.$b(c,c);e&&a.$b(f,f);if(b&&e){h=a.$b(c,f);Zb(h<=0,c,f);h==0&&Xb(d!=(Gh(),Fh)|g!=Fh)}}function eV(a){this.a=a;if(a.c.f.g==(CX(),xX)){this.c=a.c;this.d=Wv(rJ(a.c.f,(Rib(),hib)),32)}else if(a.d.f.g==xX){this.c=a.d;this.d=Wv(rJ(a.d.f,(Rib(),hib)),32)}else{throw new oc('Edge '+a+' is not an external edge.')}}function Xcb(){Xcb=E;Scb=UQ(new WQ,(d0(),x_));Ucb=TQ(new WQ,A_);Vcb=PQ(TQ(new WQ,R_),Q_);Rcb=PQ(UQ(TQ(new WQ,s_),t_),u_);Wcb=TQ(new WQ,Z_);Tcb=PQ(new WQ,y_);Pcb=PQ(UQ(TQ(SQ(new WQ,D_),F_),H_),E_);Qcb=PQ(UQ(new WQ,H_),q_)}function Lr(a,b,c){var d,e,f,g;Mh(c,Xyb);if(c==0){return Pr(a,b)}Xb(ok(a.b,b));g=a.c.a;if(!g){a.d.$b(b,b);e=new Os(b,c);es(a.a,e,a.a);Us(a.c,null,e);return 0}f=xv(mw,Yyb,26,1,12,1);d=zs(g,a.d,b,c,f);Us(a.c,g,d);return f[0]}function i$(a,b,c){var d,e,f,g,h,i;d=0;i=c;if(!b){d=c*(a.c.length-1);i*=-1}for(f=new _7(a);f.a<f.c.c.length;){e=Wv(QJ(f),9);sJ(e,(eM(),lL),(iK(),eK));e.j.a=d;for(h=nX(e,(sN(),ZM)).mb();h.G();){g=Wv(h.H(),7);g.i.a=d}d+=i}}function Fd(a,b,c){var d;d=Wv(Qq(a.b,b),19);if(!d){d=a.Z();if(d.ib(c)){++a.c;Wr(a.b,b,d);return true}else{throw new YX('New Collection violated the Collection spec')}}else if(d.ib(c)){++a.c;return true}else{return false}}function ES(a,b,c){var d,e,f;CS(a,b,c);f=new GU;for(e=new _7(a.b.a.b);e.a<e.c.c.length;){d=Wv(QJ(e),25);if(b.D(d)){vU(f,new OS(d,true));vU(f,new OS(d,false))}}JS(a.d);RT(f,a.c,new h8(Bv(tv(JA,1),syb,160,0,[a.d])));DS(a,b,c)}function R8(a,b){var c,d,e,f,g;a.c[b.k]=true;vU(a.a,b);for(g=new _7(b.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);for(d=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[f.b,f.e]))))));Cm(d);){c=Wv(Dm(d),12);e=S8(f,c).f;a.c[e.k]||R8(a,e)}}}function dQ(a,b,c,d){var e,f,g;if('labels'in b.a){g=Pu(b,'labels');if(!g.hc()){throw new GQ("The 'labels' property of a node must be an array.",g,b)}f=g.hc();for(e=0;e<f.a.length;++e){aw(gu(f,e),69)&&cQ(a,Wv(gu(f,e),69),c,d)}}}function j0(a,b,c){var d,e,f,g,h,i;f=Wv(yU(b.b,0),12).c;d=f.f;e=d.g;i=Wv(yU(c.e,0),12).d;g=i.f;h=g.g;e==(CX(),zX)?sJ(a,(Rib(),qib),Wv(rJ(d,qib),7)):sJ(a,(Rib(),qib),f);h==zX?sJ(a,(Rib(),rib),Wv(rJ(g,rib),7)):sJ(a,(Rib(),rib),i)}function oM(){oM=E;gM=new pM('H_LEFT',0);fM=new pM('H_CENTER',1);iM=new pM('H_RIGHT',2);nM=new pM('V_TOP',3);mM=new pM('V_CENTER',4);lM=new pM('V_BOTTOM',5);jM=new pM('INSIDE',6);kM=new pM('OUTSIDE',7);hM=new pM('H_PRIORITY',8)}function rS(a){aS();var b,c,d;this.b=ZR;this.c=_R;this.d=(sK(),qK);this.g=(VR(),UR);this.a=a;oS(this,new sS);fS(this);for(d=new _7(a.b);d.a<d.c.c.length;){c=Wv(QJ(d),25);if(!c.f){b=new QR(Bv(tv(kA,1),syb,25,0,[c]));vU(a.a,b)}}}function R7(a,b){var c,d,e,f;e=1;b.j=true;for(d=new _7(m7(b));d.a<d.c.c.length;){c=Wv(QJ(d),89);if(!a.c[c.b]){a.c[c.b]=true;f=c7(c,b);if(c.e){e+=R7(a,f)}else if(!f.j&&c.a==c.d.e-c.c.e){c.e=true;_p(a.p,c);e+=R7(a,f)}}}return e}function Abb(a){var b,c,d,e,f,g,h,i;e=Uzb;d=Vzb;for(c=new _7(a.e.c);c.a<c.c.c.length;){b=Wv(QJ(c),16);for(g=new _7(b.a);g.a<g.c.c.length;){f=Wv(QJ(g),9);i=kc(a.n[f.k]);h=i+kc(a.b[a.f[f.k].k]);e=e<i?e:i;d=d>h?d:h}}return d-e}function DQ(a){var b;b=new Tu;Ru(b,'type',new lv((Cl($z),$z.n)));Ru(b,Dzb,new lv(a.f));!!a.b&&Ru(b,'value',a.b);!!a.a&&Ru(b,'context',a.a);Ru(b,Ezb,new lv(Hb(new Kb('\n'),new Z6(new h8((a.g==null&&(a.g=Pt(a)),a.g))))));return b}function D5(a,b){if(a.c<b.c){return-1}else if(a.c>b.c){return 1}else if(a.b<b.b){return-1}else if(a.b>b.b){return 1}else if(a.a!=b.a){return a.a.b-b.a.b}else if(a.d==0&&b.d==1){return-1}else if(a.d==1&&b.d==0){return 1}return 0}function cn(a,b){var c,d,e,f,g;if(b===a){return true}if(!aw(b,20)){return false}g=Wv(b,20);if(a.Y()!=g.Y()){return false}f=g.mb();for(d=a.mb();d.G();){c=d.H();e=f.H();if(!(gw(c)===gw(e)||c!=null&&rb(c,e))){return false}}return true}function st(b){var c=(!qt&&(qt=tt()),qt);var d=b.replace(/[\x00-\x1f\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u2028-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb"\\]/g,function(a){return rt(a,c)});return'"'+d+'"'}function ER(a,b){var c,d,e,f,g,h,i;e=b==1?wR:vR;for(d=(g=(new e7(e.a)).a.bb().mb(),new r7(g));d.a.G();){c=(f=Wv(d.a.H(),21),Wv(f.yb(),59));for(i=Wv(Dd(a.f.c,c),18).mb();i.G();){h=Wv(i.H(),27);BU(a.b.b,h.b);BU(a.b.a,Wv(h.b,25).f)}}}function aR(a,b,c){var d,e,f,g;nI(c,'Recursive layout',2);if(b.b.c.length!=0){g=1/b.b.c.length;for(f=new _7(b.b);f.a<f.c.c.length;){e=Wv(QJ(f),9);d=Wv(rJ(e,(Rib(),sib)),55);if(d){aR(a,d,rI(c,g));$Q(e,d)}}NQ(a.d,b);_Q(b,c)}bR(b);pI(c)}function L3(a,b){oR.call(this);this.d=new Lb;this.b=Wv(rJ(b,(Rib(),Jib)),15).a*Wv(rJ(b,(Mjb(),qjb)),15).a;this.e=this.b*Wv(rJ(b,Ejb),15).a;this.a=new jJ;this.c=new jJ;this.j=new VN(a.j,a.k,0,a.n-a.k);this.o=a.g;this.g.a=a.i;K3(this,a)}function Mtb(a,b){var c,d,e,f,g;f=b==null?0:a.b.Vc(b);d=(c=Ee(a.a,f),c==null?[]:c);for(g=0;g<d.length;g++){e=d[g];if(a.b.Uc(b,e.yb())){if(d.length==1){d.length=0;a.a[$Ab](f)}else{d.splice(g,1)}--a.c;pm(a.b);return e.zb()}}return null}function hU(a,b,c){var d;d=null;!!b&&(d=b.e);ZU(a,new VS(b.i.a-d.b+c.a,b.i.b-d.d+c.b));ZU(a,new VS(b.i.a-d.b+c.a,b.i.b+b.j.b+d.a+c.b));ZU(a,new VS(b.i.a+b.j.a+d.c+c.a,b.i.b-d.d+c.b));ZU(a,new VS(b.i.a+b.j.a+d.c+c.a,b.i.b+b.j.b+d.a+c.b))}function J2(a,b){switch(b.e){case 2:QX(a,(sN(),ZM));a.a.a=a.j.a;a.a.b=a.j.b/2;break;case 4:QX(a,(sN(),rN));a.a.a=0;a.a.b=a.j.b/2;break;case 1:QX(a,(sN(),$M));a.a.a=a.j.a/2;a.a.b=0;break;case 3:QX(a,(sN(),pN));a.a.a=a.j.a/2;a.a.b=a.j.b;}}function Fq(a,b){Dq();var c,d,e;if(b===a){return true}if(aw(b,207)){e=Wv(b,207);if(a.Y()!=e.Y()||Vg(a).Y()!=e.bb().Y()){return false}for(d=e.bb().mb();d.G();){c=Wv(d.H(),83);if(a.Cb(c.Zb())!=c.Yb()){return false}}return true}return false}function wvb(a,b){var c,d,e,f,g,h;f=a.a*_Ab+a.b*1502;h=a.b*_Ab+11;c=Math.floor(h*FAb);f+=c;h-=c*aBb;f%=aBb;a.a=f;a.b=h;if(b<=24){return Th(a.a*qvb[b])}else{e=a.a*(1<<b-24);g=Th(a.b*rvb[b]);d=e+g;d>=2147483648&&(d-=4294967296);return d}}function MW(a,b,c){var d,e,f;if(b==c){return}d=b;do{vI(a,d.d);f=Wv(rJ(d,(Rib(),zib)),9);if(f){e=d.a;uI(a,e.b,e.d);vI(a,f.i);d=hX(f)}}while(f);d=c;do{EI(a,d.d);f=Wv(rJ(d,(Rib(),zib)),9);if(f){e=d.a;DI(a,e.b,e.d);EI(a,f.i);d=hX(f)}}while(f)}function n3(a,b){var c,d,e,f,g,h;c=new GU;h=new Um;for(e=(g=(new e7(a.a)).a.bb().mb(),new r7(g));e.a.G();){d=(f=Wv(e.a.H(),21),Wv(f.yb(),12));Nm(h,d.c,d,null);Nm(h,d.d,d,null)}while(h.a){vU(c,m3(h,b,LM(Wv(rJ(b,(eM(),TL)),28))))}return c}function B7(a,b){var c,d,e,f,g;for(f=new _7(a.e.a);f.a<f.c.c.length;){e=Wv(QJ(f),61);if(e.c.c.length==e.g.c.length){d=e.e;g=M7(e);for(c=e.e-Wv(g.a,24).a+1;c<e.e+Wv(g.b,24).a;c++){b[c]<b[d]&&(d=c)}if(b[d]<b[e.e]){--b[e.e];++b[d];e.e=d}}}}function zR(a,b){var c,d,e,f,g,h,i;e=b==1?wR:vR;for(d=(g=(new e7(e.a)).a.bb().mb(),new r7(g));d.a.G();){c=(f=Wv(d.a.H(),21),Wv(f.yb(),59));for(i=Wv(Dd(a.f.c,c),18).mb();i.G();){h=Wv(i.H(),27);vU(a.b.b,Wv(h.b,25));vU(a.b.a,Wv(h.b,25).f)}}}function ecb(a){xn();var b,c,d,e,f,g,h;c=(mp(),new gU);for(e=new _7(a.e.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);for(g=new _7(d.a);g.a<g.c.c.length;){f=Wv(QJ(g),9);h=a.f[f.k];b=Wv(qY(c,h),20);if(!b){b=new GU;tub(c,h,b)}b.ib(f)}}return c}function cS(a,b){var c,d,e,f;for(d=new _7(a.a.a);d.a<d.c.c.length;){c=Wv(QJ(d),78);c.i=true}for(f=new _7(a.a.b);f.a<f.c.c.length;){e=Wv(QJ(f),25);e.p=jc(kc(Xv(a.f.B(new RJ(e,b)))));e.f.i=e.f.i&jc(kc(Xv(a.f.B(new RJ(e,b)))))}return a}function RY(a,b){var c,d,e,f;e=Eo(mX(b));for(d=WI(e,0);d.b!=d.d.c;){c=Wv(tS(d),12);f=c.d.f;if(f.g==(CX(),wX)&&!(jc(kc(Xv(rJ(f,(Rib(),Vhb)))))&&rJ(f,uib)!=null)){BU(f.d.a,f);PX(c.c,null);PX(c.d,null);return RY(a,f)}else{return b}}return b}function D7(a,b){var c,d,e,f,g,h,i;if(!b.e){throw new oc('The input edge is not a tree edge.')}f=null;e=$xb;for(d=new _7(a.d);d.a<d.c.c.length;){c=Wv(QJ(d),89);h=c.c;i=c.d;if(I7(a,h,b)&&!I7(a,i,b)){g=i.e-h.e-c.a;if(g<e){e=g;f=c}}}return f}function Icb(a,b){var c,d,e,f,g;f=b.a;f.c.f==b.b?(g=f.d):(g=f.c);f.c.f==b.b?(d=f.c):(d=f.d);e=vbb(a.a,g,d);if(e>0&&e<rAb){c=wbb(a.a,d.f,e);e$(a.a,d.f,-c);return c>0}else if(e<0&&-e<rAb){c=xbb(a.a,d.f,-e);e$(a.a,d.f,c);return c>0}return false}function Odb(a,b,c,d,e){var f,g;if(!yI(MI(Bv(tv(qz,1),Fzb,10,0,[e.f.i,e.i,e.a])),c)){b.c==e?rn(b.a,0,new II(c)):QI(b.a,new II(c));if(d&&!De(a.a,c)){g=Wv(rJ(b,(eM(),CL)),44);if(!g){g=new jJ;sJ(b,CL,g)}f=new II(c);TI(g,f,g.c.b,g.c);_p(a.a,f)}}}function Pdb(a){var b,c,d,e,f,g,h;b=0;for(d=new _7(a.a);d.a<d.c.c.length;){c=Wv(QJ(d),9);for(f=Uh(mX(c));Cm(f);){e=Wv(Dm(f),12);if(a==e.d.f.d&&e.c.g==(sN(),rN)){g=MX(e.c).b;h=MX(e.d).b;b=b>(h-g<=0?0-(h-g):h-g)?b:h-g<=0?0-(h-g):h-g}}}return b}function yo(a,b){var c,d,e;if(gw(b)===gw(_b(a))){return true}if(!aw(b,20)){return false}d=Wv(b,20);e=a.Y();if(e!=d.Y()){return false}if(aw(d,63)){for(c=0;c<e;c++){if(!Tb(a.sb(c),d.sb(c))){return false}}return true}else{return Ol(a.mb(),d.mb())}}function I8(a,b){var c,d,e,f,g,h,i,j;e=a.b[b.k];if(e>=0){return e}else{f=1;for(h=new _7(b.f);h.a<h.c.c.length;){g=Wv(QJ(h),7);for(d=new _7(g.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);j=c.d.f;if(b!=j){i=I8(a,j);f=f>i+1?f:i+1}}}H8(a,b,f);return f}}function edb(a,b,c){var d,e,f,g,h,i;d=0;if(a.b!=0&&b.b!=0){f=WI(a,0);g=WI(b,0);h=kc(Yv(tS(f)));i=kc(Yv(tS(g)));e=true;do{h>i-c&&h<i+c&&++d;h<=i&&f.b!=f.d.c?(h=kc(Yv(tS(f)))):i<=h&&g.b!=g.d.c?(i=kc(Yv(tS(g)))):(e=false)}while(e)}return d}function sv(a,b){switch(uv(a)){case 5:return ew(b);case 6:return cw(b);case 7:return bw(b);case 0:return Vv(b,a.__elementTypeId$);case 2:return fw(b)&&!(b.ad===z);case 1:return fw(b)&&!(b.ad===z)||Vv(b,a.__elementTypeId$);default:return true;}}function Lv(a,b){var c,d,e,f,g;b&=63;c=a.h;d=(c&524288)!=0;d&&(c|=-1048576);if(b<22){g=c>>b;f=a.m>>b|c<<22-b;e=a.l>>b|a.m<<22-b}else if(b<44){g=d?bzb:0;f=c>>b-22;e=a.m>>b-22|c<<44-b}else{g=d?bzb:0;f=d?azb:0;e=c>>b-44}return Ev(e&azb,f&azb,g&bzb)}function O9(a,b){switch(a.e){case 1:switch(b.e){case 1:return 1;case 4:return 2;case 3:return 3;case 2:return 4;}break;case 2:switch(b.e){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;}break;default:throw new oc(GAb);}return 0}function hZ(a,b,c){var d,e,f,g,h,i;d=new GU;d.c[d.c.length]=b;i=b;h=0;do{i=mZ(a,i);!!i&&(d.c[d.c.length]=i,true);++h}while(i);g=(c-(d.c.length-1)*a.d.d)/d.c.length;for(f=new _7(d);f.a<f.c.c.length;){e=Wv(QJ(f),9);e.j.a=g}return new RJ(Elb(h),g)}function kZ(a,b,c){var d,e,f,g,h,i;d=new GU;d.c[d.c.length]=b;i=b;h=0;do{i=lZ(a,i);!!i&&(d.c[d.c.length]=i,true);++h}while(i);g=(c-(d.c.length-1)*a.d.d)/d.c.length;for(f=new _7(d);f.a<f.c.c.length;){e=Wv(QJ(f),9);e.j.a=g}return new RJ(Elb(h),g)}function m$(a){var b,c,d,e,f,g;e=Wv(yU(a.f,0),7);g=0;for(d=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[new fY(e),new lY(e)]))))));Cm(d);){c=Wv(Dm(d),7);g+=c.f.i.a+c.i.a+c.a.a}b=Wv(rJ(a,(eM(),SL)),10);f=!b?0:b.a;a.i.a=g/(e.b.c.length+e.e.c.length)-f}function Ueb(a,b){var c,d,e,f;if(b<2*a.c){throw new oc('The knot vector must have at least two time the dimension elements.')}a.j=0;a.i=1;for(d=0;d<a.c;d++){a.g.ib(0)}f=b+1-2*a.c;for(e=1;e<f;e++){a.g.ib(e/f)}if(a.e){for(c=0;c<a.c;c++){a.g.ib(1)}}}function Fs(a){var b,c;c=a.c;a.c=0;ds(a.f,a.i);if(!a.e){return a.g}else if(!a.g){return a.e}else if(a.e.d>=a.g.d){b=a.f;b.e=Is(a.e,b);b.g=a.g;b.a=a.a-1;b.j=XH(a.j,c);return Gs(b)}else{b=a.i;b.g=Js(a.g,b);b.e=a.e;b.a=a.a-1;b.j=XH(a.j,c);return Gs(b)}}function e2(a){var b,c,d,e,f,g;for(e=new _7(a.a);e.a<e.c.c.length;){d=Wv(QJ(e),9);if(d.g==(CX(),BX)){f=Wv(rJ(d,(Rib(),nib)),9);c=d.f;b=(gV(0,c.c.length),Wv(c.c[0],7));g=Wv(rJ(b,uib),7);g.g==(sN(),$M)&&d.k>f.k?QX(g,pN):g.g==pN&&f.k>d.k&&QX(g,$M)}}}function q3(a,b,c){var d,e,f,g,h,i,j;j=a.b;g=0;for(f=new _7(a.a.b);f.a<f.c.c.length;){e=Wv(QJ(f),33);g=nd(g,e.j.a)}i=wfb(a.a.c,a.a.d,b,c,g);Ue(a.a.a,Veb(i));h=s3(a.a.b,i.a,j);d=new XS((!i.k&&(i.k=new Efb(a_(i))),i.k));Ut(d);return!h?d:Kq(d,h)}function wbb(a,b,c){var d,e,f,g,h,i,j;d=c;e=b;do{e=a.a[e.k];g=(j=a.f[e.k],kc(a.n[j.k])+kc(a.d[e.k])-e.e.d);h=iV(e,!e.d?-1:zU(e.d.a,e,0));if(h){f=(i=a.f[h.k],kc(a.n[i.k])+kc(a.d[h.k])+h.j.b+h.e.a);d=vd(d,g-(f+gn(a.j,e,h)))}}while(b!=e);return d}function xbb(a,b,c){var d,e,f,g,h,i,j;d=c;e=b;do{e=a.a[e.k];f=(j=a.f[e.k],kc(a.n[j.k])+kc(a.d[e.k])+e.j.b+e.e.a);h=BZ(e,!e.d?-1:zU(e.d.a,e,0));if(h){g=(i=a.f[h.k],kc(a.n[i.k])+kc(a.d[h.k])-h.e.d);d=vd(d,g-(f+gn(a.j,e,h)))}}while(b!=e);return d}function Sr(b,c,d){var e,f,g;Mh(d,Xyb);if(d==0){return Pr(b,c)}g=b.c.a;f=xv(mw,Yyb,26,1,12,1);try{if(!ok(b.b,c)||!g){return 0}e=Hs(g,b.d,c,d,f)}catch(a){a=OH(a);if(aw(a,119)){return 0}else if(aw(a,76)){return 0}else throw NH(a)}Us(b.c,g,e);return f[0]}function MO(a,b){var c,d,e,f,g;if(a.b){d=Wv(oW(a.e,(eM(),jL)),65);e=d.b+d.c;c=d.d+d.a}else{e=b*2;c=b*2}g=nd(a.o[1]>0?e+a.i[1]*b+a.n[1]:0,a.o[3]>0?e+a.i[3]*b+a.n[3]:0);f=nd(a.o[4]>0?c+a.i[4]*b+a.n[4]:0,a.o[2]>0?c+a.i[2]*b+a.n[2]:0);return new HI(g,f)}function b$(a){var b,c,d,e,f,g;g=Wv(FU(a.a,xv(qB,Nzb,9,a.a.c.length,0,1)),51);uj(g,new g$);c=null;for(e=0,f=g.length;e<f;++e){d=g[e];if(d.g!=(CX(),xX)){break}b=Wv(rJ(d,(Rib(),hib)),32);if(b!=(sN(),rN)&&b!=ZM){continue}!!c&&Wv(rJ(c,oib),20).ib(d);c=d}}function j6(a,b,c,d,e){var f,g,h,i;i=new U6(b,d);for(h=T6(i);h.G();){f=Wv(h.H(),7);Wr(a.k,f,Elb(Wv(Qq(a.k,f),24).a+Wv(re(Ju(e.d,c)),24).a))}i=new U6(c,d);for(g=T6(i);g.G();){f=Wv(g.H(),7);Wr(a.k,f,Elb(Wv(Qq(a.k,f),24).a-Wv(re(Ju(e.d,b)),24).a))}}function hI(a,b,c){var d=fI,h;var e=d[a];var f=e instanceof Array?e[0]:null;if(e&&!f){_=e}else{_=(h=b&&b.prototype,!h&&(h=fI[b]),jI(h));_._c=c;_.constructor=_;!b&&(_.ad=z);d[a]=_}for(var g=3;g<arguments.length;++g){arguments[g].prototype=_}f&&(_.$c=f)}function Wkb(a){if(a.Sc()){var b=a.c;b.Tc()?(a.n='['+b.k):!b.Sc()?(a.n='[L'+b.Qc()+';'):(a.n='['+b.Qc());a.b=b.Pc()+'[]';a.j=b.Rc()+'[]';return}var c=a.i;var d=a.d;d=d.split('/');a.n=Zkb('.',[c,Zkb('$',d)]);a.b=Zkb('.',[c,Zkb('.',d)]);a.j=d[d.length-1]}function Mr(a,b,c){var d;if(!c){return 0}d=a.d.$b(a.b.g,c.b);if(d>0){return Mr(a,b,c.g)}else if(d==0){switch(a.b.f.e){case 0:return PH(b._b(c),b.ac(c.g));case 1:return b.ac(c.g);default:throw new D9;}}else{return PH(PH(b.ac(c.g),b._b(c)),Mr(a,b,c.e))}}function Nr(a,b,c){var d;if(!c){return 0}d=a.d.$b(a.b.e,c.b);if(d<0){return Nr(a,b,c.e)}else if(d==0){switch(a.b.d.e){case 0:return PH(b._b(c),b.ac(c.e));case 1:return b.ac(c.e);default:throw new D9;}}else{return PH(PH(b.ac(c.e),b._b(c)),Nr(a,b,c.g))}}function z2(a,b,c,d){var e,f,g,h;g=new uX(a);sX(g,(CX(),zX));sJ(g,(Rib(),uib),b);sJ(g,(eM(),TL),(KM(),FM));sJ(g,qib,c);sJ(g,rib,d);f=new RX;QX(f,(sN(),rN));PX(f,g);h=new RX;QX(h,ZM);PX(h,g);eW(b,f);e=new hW;qJ(e,b);sJ(e,CL,null);dW(e,h);eW(e,d);return g}function e6(a,b){var c,d,e,f,g,h,i,j,k,l;c=0;for(g=a.j,h=0,i=g.length;h<i;++h){f=g[h];l=new U6(f,b);for(k=T6(l);k.G();){j=Wv(k.H(),7);for(e=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[j.b,j.e]))))));Cm(e);){d=Wv(Dm(e),12);bW(d)||(c+=b6(a,d,j))}}}return c}function qab(a,b){if(a.c<b.c){return-1}else if(a.c>b.c){return 1}else if(a.b<b.b){return-1}else if(a.b>b.b){return 1}else if(a.a!=b.a){return Sk(a.a)-Sk(b.a)}else if(a.d==(YN(),uab)&&b.d==tab){return-1}else if(a.d==tab&&b.d==uab){return 1}return 0}function R4(a){var b,c,d,e,f,g;e=new aJ;for(d=new _7(a.d.a);d.a<d.c.c.length;){c=Wv(QJ(d),61);c.c.c.length==0&&(TI(e,c,e.c.b,e.c),true)}if(e.b>1){b=x7(y7(new A7,a.b++),a.d);for(g=WI(e,0);g.b!=g.d.c;){f=Wv(tS(g),61);f7(i7(h7(j7(g7(new k7,1),0),b),f))}}}function p3(a,b,c,d){var e,f,g,h,i,j;j=0;for(g=new _7(a.a.b);g.a<g.c.c.length;){f=Wv(QJ(g),33);j=nd(j,f.j.a)}i=vfb(a.a.c,b,a.a.d,d,Jeb(a.b),c);Ue(a.a.a,Veb(i));h=s3(a.a.b,i.a,a.b);e=new XS((!i.k&&(i.k=new Efb(a_(i))),i.k));Ut(e);return!h?e:Kq(e,h)}function M0(a,b){var c,d,e,f,g;for(d=new _7(a.b);d.a<d.c.c.length;){c=Wv(QJ(d),33);sJ(c,(Rib(),pib),b)}for(g=new _7(a.c.c);g.a<g.c.c.length;){e=Wv(QJ(g),33);sJ(e,(Rib(),pib),b)}for(f=new _7(a.d.c);f.a<f.c.c.length;){e=Wv(QJ(f),33);sJ(e,(Rib(),pib),b)}}function I1(){I1=E;G1=new J1(tzb,0);B1=new J1('NIKOLOV',1);E1=new J1('NIKOLOV_PIXEL',2);C1=new J1('NIKOLOV_IMPROVED',3);D1=new J1('NIKOLOV_IMPROVED_PIXEL',4);A1=new J1('DUMMYNODE_PERCENTAGE',5);F1=new J1('NODECOUNT_PERCENTAGE',6);H1=new J1('NO_BOUNDARY',7)}function cab(a,b){var c,d,e,f,g;f=0;g=Wv(re(Ju(b.d,a)),24);if(!g){return 0}for(e=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[a.b,a.e]))))));Cm(e);){d=Wv(Dm(e),12);d.c==a?(c=Wv(Qq(b,d.d),24)):(c=Wv(Qq(b,d.c),24));!!c&&g.a>c.a&&(f=sd(f,g.a-c.a-1))}return f}function RZ(a){var b,c;b=Wv(rJ(a,(eM(),HL)),15).a;c=Wv(rJ(a,IL),15).a;sJ(a,IL,new X6(b));sJ(a,HL,new X6(c));switch(Wv(rJ(a,lL),103).e){case 1:sJ(a,lL,(iK(),hK));break;case 2:sJ(a,lL,(iK(),dK));break;case 3:sJ(a,lL,(iK(),fK));break;case 4:sJ(a,lL,(iK(),gK));}}function N0(a){var b,c,d,e,f;for(e=(Il(),new Im(Dl(ul(a.a,new yl))));Cm(e);){d=Wv(Dm(e),9);if(d.g==(CX(),yX)){f=P0(d)?(kP(),hP):(kP(),gP);sJ(d,(Rib(),pib),f)}for(c=Uh(mX(d));Cm(c);){b=Wv(Dm(c),12);f=jc(kc(Xv(rJ(b,(Rib(),Iib)))))?(kP(),gP):(kP(),hP);M0(b,f)}}}function O0(a){var b,c,d,e,f;for(e=(Il(),new Im(Dl(ul(a.a,new yl))));Cm(e);){d=Wv(Dm(e),9);if(d.g==(CX(),yX)){f=P0(d)?(kP(),gP):(kP(),hP);sJ(d,(Rib(),pib),f)}for(c=Uh(mX(d));Cm(c);){b=Wv(Dm(c),12);f=jc(kc(Xv(rJ(b,(Rib(),Iib)))))?(kP(),hP):(kP(),gP);M0(b,f)}}}function jdb(a,b,c){var d,e,f;for(f=new _7(a.e);f.a<f.c.c.length;){d=Wv(QJ(f),118);if(d.b.d<0&&d.c>0){d.b.c-=d.c;d.b.c<=0&&d.b.f>0&&QI(b,d.b)}}for(e=new _7(a.b);e.a<e.c.c.length;){d=Wv(QJ(e),118);if(d.a.d<0&&d.c>0){d.a.f-=d.c;d.a.f<=0&&d.a.c>0&&QI(c,d.a)}}}function agb(a,b,c){var d,e,f;for(f=new _7(a.j);f.a<f.c.c.length;){d=Wv(QJ(f),117);if(d.b.i<0&&d.c>0){d.b.e-=d.c;d.b.e<=0&&d.b.k>0&&QI(b,d.b)}}for(e=new _7(a.d);e.a<e.c.c.length;){d=Wv(QJ(e),117);if(d.a.i<0&&d.c>0){d.a.k-=d.c;d.a.k<=0&&d.a.e>0&&QI(c,d.a)}}}function tj(a){var b,c,d,e,f;f=a.d.c+a.e.c;switch(f){case 0:return dr(),cr;case 1:d=Wv(Sl(new rnb((new Y6(a)).a)),21);return Bj(d.yb(),d.zb());default:e=(mp(),new gU);for(c=new rnb((new Y6(a)).a);c.b;){b=uZ(c);tub(e,_b(b.yb()),_b(b.zb()))}return new ir(e);}}function DS(a,b,c){var d,e,f;for(e=new _7(a.b.a.b);e.a<e.c.c.length;){d=Wv(QJ(e),25);if(!b.D(d)){continue}f=kc(Yv(c.B(d)));if(f>0){!(tK(a.b.d)&&d.q.d)&&!(uK(a.b.d)&&d.q.b)&&(d.j.e+=0>f/2-0.5?0:f/2-0.5);!(tK(a.b.d)&&d.q.a)&&!(uK(a.b.d)&&d.q.c)&&(d.j.b-=f-1)}}}function R9(a,b){switch(a.e){case 1:switch(b.e){case 1:return HAb;case 4:return 0.5;case 3:return IAb;case 2:return JAb;}break;case 2:switch(b.e){case 1:return HAb;case 2:return 0.5;case 3:return IAb;case 4:return JAb;}break;default:throw new oc(GAb);}return 0}function rT(a,b){var c,d,e,f;f=new MJ(a,0);c=(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),48));while(f.b<f.d.Y()){d=(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),48));e=new WS(d.c,c.d,b);Pi(f.b>0);f.a.sb(f.c=--f.b);qm(f,e);Pi(f.b<f.d.Y());f.d.sb(f.c=f.b++);e.a=false;c=d}}function oZ(a){var b,c,d,e,f,g;e=Wv(rJ(a,(Rib(),Zhb)),7);for(g=new _7(a.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);for(d=new _7(f.e);d.a<d.c.c.length;){b=Wv(QJ(d),12);eW(b,e);return f}for(c=new _7(f.b);c.a<c.c.c.length;){b=Wv(QJ(c),12);dW(b,e);return f}}return null}function i6(a,b,c,d,e){var f,g,h,i,j,k;g=b;f=0;h=false;k=new U6(c,d);for(j=T6(k);j.G();){i=Wv(j.H(),7);h=true;Wr(a.k,i,Elb(g));if(LM(Wv(rJ(c,(eM(),TL)),28))||i.b.c.length+i.e.c.length>1){++f;++g}}if(!LM(Wv(rJ(c,(eM(),TL)),28))&&h){++f;++g}Wr(e,c,Elb(f));return g}function nfb(a){var b,c,d,e,f,g,h,i,j,k,l,m;g=a.b.mb();h=Wv(g.H(),92);k=h.a.a;j=k>RAb;i=k<SAb;while(g.G()){c=h;f=k;e=j;d=i;h=Wv(g.H(),92);k=h.a.a;j=k>RAb;i=k<SAb;if(!(j||i)){return c_(h.b)}if(e&&i||d&&j){b=f/(f-k);l=c_(c.b);m=c_(h.b);return b*l+(1-b)*m}}return 0}function ofb(a){var b,c,d,e,f,g,h,i,j,k,l,m;g=a.b.mb();h=Wv(g.H(),92);k=h.a.b;j=k>RAb;i=k<SAb;while(g.G()){c=h;f=k;e=j;d=i;h=Wv(g.H(),92);k=h.a.b;j=k>RAb;i=k<SAb;if(!(j||i)){return c_(h.b)}if(e&&i||d&&j){b=f/(f-k);l=c_(c.b);m=c_(h.b);return b*l+(1-b)*m}}return 0}function b6(a,b,c){var d,e;d=0;if(d6(b)){if(De(a.g,b)){Sr(a.i,Elb(h6(a,b.c)),1)>0;Sr(a.i,Elb(h6(a,b.d)),1)>0;Mj(a.g,b);d+=g6(a,b,a.i)}else{_p(a.g,b);Lr(a.i,Elb(h6(a,b.c)),1);Lr(a.i,Elb(h6(a,b.d)),1)}}else{e=Pr(a.i,Elb(Wv(Qq(a.k,c),24).a));d+=a.g.a.Y()-e}return d}function Keb(a){switch(a.e){case 0:return veb;case 1:return seb;case 2:return reb;case 3:return yeb;case 4:return xeb;case 5:return Deb;case 6:return Ceb;case 7:return web;case 8:return teb;case 9:return ueb;case 11:return Aeb;case 10:return zeb;default:return Beb;}}function Leb(a){switch(a.e){case 0:return neb;case 1:return meb;case 2:return jeb;case 3:return ieb;case 4:return peb;case 5:return oeb;case 6:return Heb;case 7:return Geb;case 8:return leb;case 9:return keb;case 10:return Eeb;case 11:return qeb;default:return Feb;}}function Meb(a){switch(a.e){case 0:return oeb;case 1:return Heb;case 2:return Geb;case 3:return neb;case 4:return meb;case 5:return jeb;case 6:return ieb;case 7:return peb;case 8:return leb;case 9:return keb;case 10:return Eeb;case 11:return qeb;default:return Feb;}}function Neb(a){switch(a.e){case 0:return jeb;case 1:return ieb;case 2:return peb;case 3:return oeb;case 4:return Heb;case 5:return Geb;case 6:return neb;case 7:return meb;case 8:return leb;case 9:return keb;case 10:return Eeb;case 11:return qeb;default:return Feb;}}function fcb(a){var b,c,d,e,f,g,h,i;c=(mp(),new gU);h=new To((Oh(),new h8(a.f)));for(g=(e=(new e7(h.a)).a.bb().mb(),new r7(e));g.a.G();){f=(d=Wv(g.a.H(),21),Wv(d.yb(),9));if(!f){pn();break}i=a.i[f.k];b=Wv(qY(c,i),20);if(!b){b=new GU;tub(c,i,b)}b.ib(f)}return c}function CS(a,b,c){var d,e,f;for(e=new _7(a.b.a.b);e.a<e.c.c.length;){d=Wv(QJ(e),25);if(!b.D(d)){continue}f=kc(Yv(c.B(d)));if(f>0){!(tK(a.b.d)&&d.q.d)&&!(uK(a.b.d)&&d.q.b)&&(d.j.e-=0>f/2-0.5?0:f/2-0.5);!(tK(a.b.d)&&d.q.a)&&!(uK(a.b.d)&&d.q.c)&&(d.j.b+=0>f-1?0:f-1)}}}function T6(a){var b,c,d;d=a.a.f;switch(a.b){case 0:return new _7(a.a.f);case 1:return Pl((c=new W6(d),c),S6(a));case 2:switch(a.c.e){case 2:case 1:return Pl(new _7(d),S6(a));case 3:case 4:return Pl((b=new W6(d),b),S6(a));}}throw new Vc('PortOrder not implemented.')}function CT(a,b){var c;if(!!a.d&&(b.c!=a.e.c||hT(a.e.b,b.b))){vU(a.f,a.d);a.a=a.d.d+a.d.c;a.d=null;a.e=null}eT(b.b)?(a.c=b):(a.b=b);if(b.b==(cT(),$S)&&!b.a||b.b==_S&&b.a||b.b==aT&&b.a||b.b==bT&&!b.a){if(!!a.c&&!!a.b){c=new VN(a.a,a.c.d,b.c-a.a,a.b.d-a.c.d);a.d=c;a.e=b}}}function Cbb(a,b,c,d){this.e=a;this.j=Wv(rJ(a,(Rib(),Kib)),134);this.f=xv(qB,Nzb,9,b,0,1);this.b=xv(HF,Txb,184,b,6,1);this.a=xv(qB,Nzb,9,b,0,1);this.d=xv(HF,Txb,184,b,6,1);this.i=xv(qB,Nzb,9,b,0,1);this.g=xv(HF,Txb,184,b,6,1);this.n=xv(HF,Txb,184,b,6,1);this.k=c;this.c=d}function P6(a,b,c){var d,e;if(b.g==(CX(),BX)&&c.g==BX){if(!LM(Wv(rJ(Wv(rJ(b,(Rib(),uib)),9),(eM(),TL)),28))||Wv(rJ(b,uib),9)!=Wv(rJ(c,uib),9)){return}if(I6(b)||I6(c)){a.d=1;a.b=1;return}e=Wv(yU(b.f,0),7).g;d=Wv(yU(c.f,0),7).g;M6(b).g==(sN(),$M)?H6(a,b,c,e,d):H6(a,c,b,d,e)}}function f7(a){if(!a.a.c||!a.a.d){throw new Qc((Cl(QD),QD.j+' must have a source and target '+(Cl(UD),UD.j)+' specified.'))}if(a.a.c==a.a.d){throw new Qc('Network simplex does not support self-loops: '+a.a+' '+a.a.c+' '+a.a.d)}o7(a.a.c.g,a.a);o7(a.a.d.c,a.a);return a.a}function H6(a,b,c,d,e){if(d==(sN(),ZM)&&e==ZM){N6(a,b)>N6(a,c)?(a.d=K6(a,c)):(a.b=K6(a,b))}else if(d==rN&&e==rN){N6(a,b)<N6(a,c)?(a.d=K6(a,c)):(a.b=K6(a,b))}else if(d==rN&&e==ZM){if(N6(a,b)>N6(a,c)){a.d=K6(a,c);a.b=K6(a,b)}}else{if(N6(a,b)<N6(a,c)){a.d=K6(a,c);a.b=K6(a,b)}}}function W1(a){var b,c,d,e,f,g,h,i;i=a.f.c.length;c=0;b=i;e=2*i;for(h=new _7(a.f);h.a<h.c.c.length;){g=Wv(QJ(h),7);switch(g.g.e){case 2:case 4:g.k=-1;break;case 1:case 3:d=g.b.c.length;f=g.e.c.length;d>0&&f>0?(g.k=b++):d>0?(g.k=c++):f>0?(g.k=e++):(g.k=c++);}}JR(a.f,new Z1)}function i0(a,b,c,d){var e,f,g,h,i;if(c.d.f==b.f){return}e=new uX(a);sX(e,(CX(),zX));sJ(e,(Rib(),uib),c);sJ(e,(eM(),TL),(KM(),FM));d.c[d.c.length]=e;g=new RX;PX(g,e);QX(g,(sN(),rN));h=new RX;PX(h,e);QX(h,ZM);i=c.d;eW(c,g);f=new hW;qJ(f,c);sJ(f,CL,null);dW(f,h);eW(f,i);j0(e,g,h)}function W2(a){var b,c,d,e,f,g,h,i,j;g=rAb;i=rAb;h=null;for(c=new hr(new W8(a.e));c.b!=c.c.a.b;){b=rW(c);if(Wv(b.d,60).c==1){d=Wv(b.e,116).a;j=Wv(b.e,116).b;e=g-d>uAb;f=d-g<uAb&&i-j>uAb;if(e||f){i=Wv(b.e,116).b;g=Wv(b.e,116).a;h=Wv(b.d,60);if(i==0&&g==0){return h}}}}return h}function i1(a,b){var c,d,e,f,g,h;f=a.d;h=Wv(rJ(a,(eM(),dM)),15).a;if(h<0){h=0;sJ(a,dM,new X6(h))}b.j.b=h;g=Math.floor(h/2);d=new RX;QX(d,(sN(),rN));PX(d,b);d.i.b=g;e=new RX;QX(e,ZM);PX(e,b);e.i.b=g;eW(a,d);c=new hW;qJ(c,a);sJ(c,CL,null);dW(c,e);eW(c,f);h1(b,a,c);f1(a,c);return c}function OZ(a){var b,c;c=Wv(rJ(a,(Mjb(),vjb)),85);b=Wv(rJ(a,(Rib(),mib)),140);if(c==(Xib(),Tib)){sJ(a,vjb,Wib);sJ(a,mib,(TY(),Ghb))}else if(c==Vib){sJ(a,vjb,Wib);sJ(a,mib,(TY(),Ehb))}else if(b==(TY(),Ghb)){sJ(a,vjb,Tib);sJ(a,mib,Fhb)}else if(b==Ehb){sJ(a,vjb,Vib);sJ(a,mib,Fhb)}}function QO(a){var b,c,d,e,f;for(d=new _7(zW(a.e));d.a<d.c.c.length;){c=Wv(QJ(d),129);f=new II(c.e.i);e=xO()[c.e.k];b=Wv(gs(a.c,e),283);f.b=b.e+b.a;e.b==(DO(),BO)?(f.a=b.d):e.b==AO?(f.a=b.d+(b.c-c.e.j.a)/2):e.b==CO&&(f.a=b.d+b.c-c.e.j.a);c.e.i.a=f.a;c.e.i.b=f.b;b.a+=c.e.j.b+a.d}}function UO(a){var b,c,d;for(c=new _7(AW(a));c.a<c.c.c.length;){b=Wv(QJ(c),161);d=new II(b.e.i);switch(Wv(b.e,7).g.e){case 4:d.a=0;d.b=a.e.j.b/2;break;case 2:d.a=a.e.j.a;d.b=a.e.j.b/2;break;case 1:d.a=a.e.j.a/2;d.b=0;break;case 3:d.a=a.e.j.a/2;d.b=a.e.j.b;}b.e.i.a=d.a;b.e.i.b=d.b}}function oV(){this.c=xv(kw,hyb,26,(sN(),Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN])).length,12,1);this.b=xv(kw,hyb,26,Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]).length,12,1);this.a=xv(kw,hyb,26,Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]).length,12,1);lh(this.c,Uzb);lh(this.b,Vzb);lh(this.a,Vzb)}function tfb(a,b,c){var d,e,f,g,h,i,j,k;f=kc(Yv(a.b.mb().H()));j=kc(Yv(rl(b.b)));d=CI(xI(a.a),j-c);e=CI(xI(b.a),c-f);k=vI(d,e);CI(k,1/(j-f));this.a=k;this.b=new GU;h=true;g=a.b.mb();g.H();while(g.G()){i=kc(Yv(g.H()));if(h&&i-c>RAb){this.b.ib(c);h=false}this.b.ib(i)}h&&this.b.ib(c)}function G7(a){var b,c,d,e;J7(a,a.n);if(a.d.c.length>0){Bd(a.c);while(R7(a,Wv(QJ(new _7(a.e.a)),61))<a.e.a.c.length){b=L7(a);e=b.d.e-b.c.e-b.a;b.d.j&&(e=-e);for(d=new _7(a.e.a);d.a<d.c.c.length;){c=Wv(QJ(d),61);c.j&&(c.e+=e)}Bd(a.c)}Bd(a.c);O7(a,Wv(QJ(new _7(a.e.a)),61));C7(a)}}function Aab(a,b){var c,d,e,f,g,h,i;c=Vzb;h=(CX(),AX);for(e=new _7(b.a);e.a<e.c.c.length;){d=Wv(QJ(e),9);f=d.g;if(f!=AX){g=Yv(rJ(d,(Rib(),wib)));if(g==null){c=c>0?c:0;d.i.b=c+xm(a.a,f,h)}else{d.i.b=(So(g),g)}}i=xm(a.a,f,h);d.i.b<c+i+d.e.d&&(d.i.b=c+i+d.e.d);c=d.i.b+d.j.b+d.e.a;h=f}}function mdb(a,b,c){var d,e,f;c.db(b,a);vU(a.g,b);f=a.o.d.Lc(b);Ec(a.k)?(a.k=f):(a.k=vd(a.k,f));Ec(a.a)?(a.a=f):(a.a=nd(a.a,f));b.g==a.o.d.Mc()?hdb(a.j,f):hdb(a.n,f);for(e=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[new fY(b),new lY(b)]))))));Cm(e);){d=Wv(Dm(e),7);c.R(d)||mdb(a,d,c)}}function dlb(a){var b,c,d,e,f;d=(Da(),a.length);e=d>0&&(a.charCodeAt(0)==45||a.charCodeAt(0)==43)?1:0;for(b=e;b<d;b++){if(Dkb(a.charCodeAt(b))==-1){throw new Qd(dyb+a+'"')}}f=parseInt(a,10);c=f<eyb;if(isNaN(f)){throw new Qd(dyb+a+'"')}else if(c||f>$xb){throw new Qd(dyb+a+'"')}return f}function H$(a,b,c,d){var e,f,g,h;e=Wv(nX(b,(sN(),rN)).mb().H(),7);f=Wv(nX(b,ZM).mb().H(),7);for(h=new _7(a.f);h.a<h.c.c.length;){g=Wv(QJ(h),7);while(g.b.c.length!=0){eW(Wv(yU(g.b,0),12),e)}while(g.e.c.length!=0){dW(Wv(yU(g.e,0),12),f)}}c||sJ(b,(Rib(),qib),null);d||sJ(b,(Rib(),rib),null)}function jU(a){var b,c,d,e,f,g,h;h=new $U;for(g=new _7(a.b);g.a<g.c.c.length;){f=Wv(QJ(g),9);if(f.g==(CX(),xX)){continue}hU(h,f,new FI);for(e=Uh(mX(f));Cm(e);){d=Wv(Dm(e),12);if(d.c.f.g==xX||d.d.f.g==xX){continue}for(c=WI(d.a,0);c.b!=c.d.c;){b=Wv(tS(c),10);ZU(h,new VS(b.a,b.b))}}}return h}function X4(a,b,c,d){var e,f,g;this.e=new jJ;this.a=a;this.b=b;if(a.b<b.b){this.j=a.a;this.k=a.b;this.n=b.b}else{this.j=b.a;this.k=b.b;this.n=a.b}e=Wv(rJ(d,(eM(),CL)),44);if(e){for(g=WI(e,0);g.b!=g.d.c;){f=Wv(tS(g),10);RR(f.a,a.a)&&QI(this.e,f)}}this.g=c;!!this.g&&(this.i=this.j-c.j.d);this.f=d}function Zj(a){hi();var b,c,d,e,f,g;g=new Qi;zpb(g,a);for(c=(f=(new e7(g.a)).a.bb().mb(),new r7(f));c.a.G();){b=(d=Wv(c.a.H(),21),d.yb());_b(b)}switch(g.a.Y()){case 0:return kr(),jr;case 1:return new Gr((e=(new e7(g.a)).a.bb().mb(),d=Wv((new r7(e)).a.H(),21),d.yb()));default:return new lr(g);}}function $P(a,b,c,d){var e,f,g;VP(a,c,'x',b.i.a+d.a);VP(a,c,'y',b.i.b+d.b);VP(a,c,Jzb,b.j.a);VP(a,c,Kzb,b.j.b);if(aw(b,9)){if(Wv(rJ(b,(eM(),bM)),86).kb((MN(),JN))){e=Wv(b,9).b;g=Pu(c,Lzb);if(!g){g=new Tu;Ru(c,Lzb,g)}f=g.kc();VP(a,f,'left',e.b);VP(a,f,'top',e.d);VP(a,f,'right',e.c);VP(a,f,Azb,e.a)}}}function GR(a,b){var c,d,e,f,g,h,i,j,k,l;g=b==1?wR:vR;for(f=(i=(new e7(g.a)).a.bb().mb(),new r7(i));f.a.G();){e=(h=Wv(f.a.H(),21),Wv(h.yb(),59));for(k=Wv(Dd(a.f.c,e),18).mb();k.G();){j=Wv(k.H(),27);d=Wv(j.b,25);l=Wv(j.a,78);c=l.c;switch(e.e){case 2:case 1:d.j.e+=c;break;case 4:case 3:d.j.d+=c;}}}}function IS(a,b){var c,d,e;b.a?(sq(a.b,b.b),a.a[b.b.k]=Wv(Dj(a.b,b.b),25),c=Wv(Cj(a.b,b.b),25),!!c&&(a.a[c.k]=b.b),undefined):(d=Wv(Dj(a.b,b.b),25),!!d&&d==a.a[b.b.k]&&!!d.f&&d.f!=b.b.f&&d.i.ib(b.b),e=Wv(Cj(a.b,b.b),25),!!e&&a.a[e.k]==b.b&&!!e.f&&e.f!=b.b.f&&b.b.i.ib(e),Qk(a.b,b.b),undefined)}function p1(a,b){var c,d,e,f,g,h,i;e=new GU;for(c=0;c<=a.i;c++){d=new sY(b);d.k=a.i-c;e.c[e.c.length]=d}for(h=new _7(a.o);h.a<h.c.c.length;){g=Wv(QJ(h),9);rX(g,Wv(yU(e,a.i-a.f[g.k]),16))}f=new _7(e);while(f.a<f.c.c.length){i=Wv(QJ(f),16);i.a.c.length==0&&Ip(f)}b.c.c=xv(UF,syb,1,0,4,1);xU(b.c,e)}function N4(a){var b,c,d,e;a.a.a.c=xv(UF,syb,1,0,4,1);for(d=new _7(a.a.b);d.a<d.c.c.length;){b=Wv(QJ(d),25);b.f=null}for(e=new _7(a.a.b);e.a<e.c.c.length;){b=Wv(QJ(e),25);!b.o&&vU(a.a.a,new QR(Bv(tv(kA,1),syb,25,0,[b])))}for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);!!b.o&&OR(b.o.f,b)}}function fc(a,b){var c,d,e,f;a=(Da(),a==null?Wxb:a);c=(a.length+16*b.length,new Wd);f=0;d=0;while(d<b.length){e=a.indexOf('%s',f);if(e==-1){break}GT(c,a,f,e);Xh(c,b[d++]);f=e+2}Fl(c,a,f,a.length);if(d<b.length){c.a+=' [';Xh(c,b[d++]);while(d<b.length){c.a+=', ';Xh(c,b[d++])}c.a+=']'}return c.a}function _vb(a,b,c,d){var e,f;if(!b){return c}else{e=a.a.$b(c.d,b.d);if(e==0){d.d=Wm(b,c.e);d.b=true;return b}f=e<0?0:1;b.a[f]=_vb(a,b.a[f],c,d);if(yd(b.a[f])){if(yd(b.a[1-f])){b.b=true;b.a[0].b=false;b.a[1].b=false}else{yd(b.a[f].a[f])?(b=hwb(b,1-f)):yd(b.a[f].a[1-f])&&(b=TJ(b,1-f))}}}return b}function GY(a,b){var c,d,e,f,g,h,i,j,k,l;i=ri(b.a);h=hw(hh(i/a.a));l=b.a;g=0;j=h;for(f=0;f<a.a;++f){k=(Da(),l.substr((0>g?0:g)<i?0>g?0:g:i,(0>(j<i?j:i)?0:j<i?j:i)-((0>g?0:g)<i?0>g?0:g:i)));g=j;j+=h;d=Wv(yU(a.c,f),9);c=new dX(k);c.j.b=b.j.b;Fd(a.b,b,c);vU(d.c,c)}BU(a.g.c,b);vU(a.i,(e=new PY(a,b),e))}function p8(a,b,c){var d,e,f,g,h,i,j,k,l;b.k=1;f=b.d;for(l=oX(b,(G$(),bjb)).mb();l.G();){k=Wv(l.H(),7);for(e=new _7(k.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);j=d.d.f;if(b!=j){g=j.d;if(g.k<=f.k){h=f.k+1;if(h==c.c.c.length){i=new sY(c);i.k=h;vU(c.c,i);rX(j,i)}else{i=Wv(yU(c.c,h),16);rX(j,i)}p8(a,j,c)}}}}}function SO(a){var b,c,d,e,f;b=a.e.j;for(d=new _7(AW(a));d.a<d.c.c.length;){c=Wv(QJ(d),161);e=Wv(oW(c,(eM(),LL)),15);!e&&(e=new X6(0));f=new II(c.e.i);switch(Wv(c.e,7).g.e){case 4:f.a=-c.e.j.a-e.a;break;case 2:f.a=b.a+e.a;break;case 1:f.b=-c.e.j.b-e.a;break;case 3:f.b=b.b+e.a;}c.e.i.a=f.a;c.e.i.b=f.b}}function PZ(a){var b,c,d;d=Wv(rJ(a,(eM(),JL)),18);if(d.V()){return}c=(b=Wv(Zd(Gz),11),new Ln(b,Wv(fq(b,b.length),11),0));d.kb((oM(),jM))?g_(c,jM):g_(c,kM);d.kb(hM)||g_(c,hM);d.kb(gM)?g_(c,nM):d.kb(fM)?g_(c,mM):d.kb(iM)&&g_(c,lM);d.kb(nM)?g_(c,gM):d.kb(mM)?g_(c,fM):d.kb(lM)&&g_(c,iM);sJ(a,JL,c)}function afb(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;m=Zeb(a,c);for(i=0;i<b;i++){e.J(c);n=new GU;o=Wv(d.H(),92);for(k=m+i;k<a.c;k++){h=o;o=Wv(d.H(),92);vU(n,new tfb(h,o,c))}for(l=m+i;l<a.c;l++){d.M();l>m+i&&d.I()}for(g=new _7(n);g.a<g.c.c.length;){f=Wv(QJ(g),92);d.J(f)}if(i<b-1){for(j=m+i;j<a.c;j++){d.M()}}}}function CW(a){var b,c,d,e;if(a.d&&Wv(a.e,7).f.g==(CX(),BX)){return ct(),ct(),vpb}else if(!a.a){a.a=new GU;for(d=new _7(Wv(a.e,7).b);d.a<d.c.c.length;){b=Wv(QJ(d),12);vU(a.a,new tW(b))}if(a.d){e=Wv(rJ(Wv(a.e,7),(Rib(),Bib)),9);if(e){for(c=Uh(iX(e));Cm(c);){b=Wv(Dm(c),12);vU(a.a,new tW(b))}}}}return a.a}function EW(a){var b,c,d,e;if(a.d&&Wv(a.e,7).f.g==(CX(),BX)){return ct(),ct(),vpb}else if(!a.c){a.c=new GU;for(d=new _7(Wv(a.e,7).e);d.a<d.c.c.length;){b=Wv(QJ(d),12);vU(a.c,new tW(b))}if(a.d){e=Wv(rJ(Wv(a.e,7),(Rib(),Bib)),9);if(e){for(c=Uh(mX(e));Cm(c);){b=Wv(Dm(c),12);vU(a.c,new tW(b))}}}}return a.c}function N1(a,b){var c,d,e,f,g,h,i,j;h=Wv(rJ(a,(Rib(),uib)),7);i=MI(Bv(tv(qz,1),Fzb,10,0,[h.f.i,h.i,h.a])).a;j=a.f.i.b;c=Wv(FU(a.b,xv(dB,gAb,12,a.b.c.length,0,1)),47);for(e=0,f=c.length;e<f;++e){d=c[e];eW(d,h);SI(d.a,new HI(i,j));if(b){g=Wv(rJ(d,(eM(),CL)),44);if(!g){g=new jJ;sJ(d,CL,g)}QI(g,new HI(i,j))}}}function O1(a,b){var c,d,e,f,g,h,i,j;e=Wv(rJ(a,(Rib(),uib)),7);i=MI(Bv(tv(qz,1),Fzb,10,0,[e.f.i,e.i,e.a])).a;j=a.f.i.b;c=Wv(FU(a.e,xv(dB,gAb,12,a.e.c.length,0,1)),47);for(g=0,h=c.length;g<h;++g){f=c[g];dW(f,e);RI(f.a,new HI(i,j));if(b){d=Wv(rJ(f,(eM(),CL)),44);if(!d){d=new jJ;sJ(f,CL,d)}QI(d,new HI(i,j))}}}function X2(a){var b,c,d,e,f,g,h,i,j;g=rAb;i=rAb;h=null;for(c=new hr(new W8(a.e));c.b!=c.c.a.b;){b=rW(c);if(gw(b.d)===gw((Ieb(),keb))||gw(b.d)===gw(leb)){d=Wv(b.e,116).a;j=Wv(b.e,116).b;e=g-d>uAb;f=d-g<uAb&&i-j>uAb;if(e||f){i=Wv(b.e,116).b;g=Wv(b.e,116).a;h=Wv(b.d,60);if(i==0&&g==0){return h}}}}return h}function P4(a,b){var c,d,e,f,g;a.d=b;_U(a.b);a.c=false;h:for(d=new _7(a.d.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);for(f=new _7(c.a);f.a<f.c.c.length;){e=Wv(QJ(f),9);if(!sl(gX(e))){a.c=true;break h}}}g=gp((sK(),qK),Bv(tv(Bz,1),uyb,59,0,[oK,pK]));if(!a.c){g_(g,rK);g_(g,nK)}a.a=new NR(g);O4(a);return a.a}function $2(){var a,b,c,d,e;this.e=(mp(),new gU);this.b=(c=Wv(Zd(_E),11),new Ln(c,Wv(fq(c,c.length),11),0));this.c=(d=Wv(Zd(_E),11),new Ln(d,Wv(fq(d,d.length),11),0));this.a=(e=Wv(Zd(_E),11),new Ln(e,Wv(fq(e,e.length),11),0));for(b=(Ieb(),Ieb(),feb).mb();b.G();){a=Wv(b.H(),60);tub(this.e,a,new _2)}}function gdb(a,b,c){var d,e,f,g,h,i;if(Le(a.k-a.a)<dAb||Le(b.k-b.a)<dAb){return}d=edb(a.n,b.j,c);e=edb(b.n,a.j,c);f=fdb(a.n,b.k,b.a)+fdb(b.j,a.k,a.a);g=fdb(b.n,a.k,a.a)+fdb(a.j,b.k,b.a);h=16*d+f;i=16*e+g;if(h<i){new dZ(a,b,i-h)}else if(h>i){new dZ(b,a,h-i)}else if(h>0&&i>0){new dZ(a,b,0);new dZ(b,a,0)}}function c3(a,b){var c,d,e,f,g,h,i,j,k;j=new GU;k=null;for(d=Wv(gs(a3,a),20).mb();d.G();){c=Wv(d.H(),75);for(i=(f=(new e7(c.c.a)).a.bb().mb(),new r7(f));i.a.G();){g=(e=Wv(i.a.H(),21),Wv(e.yb(),7));qm(b,g);J2(g,a.b)}xU(j,c.b);k=a.a}Dpb(j);K2(j,k);for(h=new _7(j);h.a<h.c.c.length;){g=Wv(QJ(h),7);qm(b,g)}}function GP(){var b={'layout':function(a){Rxb(IP(a))}};if(typeof klayregister===Zxb){klayregister(b)}else{typeof document!==Czb&&(x.$klay=b);typeof module===Sxb&&module.exports&&(module.exports=b);typeof document===Czb&&typeof self!==Czb&&self.addEventListener('message',function(a){b.layout(a.data)},false)}}function _cb(a,b,c,d,e){var f,g,h;h=e?d.b:d.a;if(h>c.k&&h<c.a||c.j.b!=0&&c.n.b!=0&&(Le(h-kc(Yv(UI(c.j))))<dAb&&Le(h-kc(Yv(UI(c.n))))<dAb||Le(h-kc(Yv(VI(c.j))))<dAb&&Le(h-kc(Yv(VI(c.n))))<dAb)){if(!De(a.b,d)){g=Wv(rJ(b,(eM(),CL)),44);if(!g){g=new jJ;sJ(b,CL,g)}f=new II(d);TI(g,f,g.c.b,g.c);_p(a.b,f)}}}function lU(a,b,c){var d,e,f,g,h,i,j,k,l;d=c.c;e=c.d;h=MX(b.c);i=MX(b.d);if(d==b.c){h=mU(a,h,e);i=nU(b.d)}else{h=nU(b.c);i=mU(a,i,e)}j=new kJ(b.a);TI(j,h,j.a,j.a.a);TI(j,i,j.c.b,j.c);g=b.c==d;l=new pV;for(f=0;f<j.b-1;++f){k=new RJ(Wv(tn(j,f),10),Wv(tn(j,f+1),10));g&&f==0||!g&&f==j.b-2?(l.b=k):vU(l.a,k)}return l}function GW(a,b){var c,d,e,f;f=a.g.e-b.g.e;if(f!=0){return f}c=Wv(rJ(a,(eM(),UL)),24);d=Wv(rJ(b,UL),24);if(!!c&&!!d){e=c.a-d.a;if(e!=0){return e}}switch(a.g.e){case 1:return glb(a.i.a,b.i.a);case 2:return glb(a.i.b,b.i.b);case 3:return glb(b.i.a,a.i.a);case 4:return glb(b.i.b,a.i.b);default:throw new Qc(iAb);}}function KO(a,b){var c,d,e,f,g;g=new FI;for(f=new _7(AW(a));f.a<f.c.c.length;){e=Wv(QJ(f),161);switch(Wv(e.e,7).g.e){case 4:case 2:g.b=nd(g.b,e.e.i.b+e.e.j.b+(b?(d=Wv(e.e,7).d,new EP(d.d,d.b,d.a,d.c)).a:0));break;case 1:case 3:g.a=nd(g.a,e.e.i.a+e.e.j.a+(b?(c=Wv(e.e,7).d,new EP(c.d,c.b,c.a,c.c)).c:0));}}return g}function d3(a,b){var c,d,e,f,g,h,i;e=new GU;i=new GU;c=Wv(gs(a3,a),20).mb();while(c.G()){d=Wv(c.H(),75);wU(e,d.b);wU(e,$db(d));if(c.G()){d=Wv(c.H(),75);xU(i,$db(d));xU(i,d.b)}}K2(e,a.b);K2(i,a.a);for(h=new _7(e);h.a<h.c.c.length;){f=Wv(QJ(h),7);qm(b,f)}for(g=new _7(i);g.a<g.c.c.length;){f=Wv(QJ(g),7);qm(b,f)}}function ohb(){ohb=E;fhb=new Xg('COMMENTS',0);hhb=new Xg('EXTERNAL_PORTS',1);ihb=new Xg('HYPEREDGES',2);jhb=new Xg('HYPERNODES',3);khb=new Xg('NON_FREE_PORTS',4);lhb=new Xg('NORTH_SOUTH_PORTS',5);nhb=new Xg('SELF_LOOPS',6);ehb=new Xg('CENTER_LABELS',7);ghb=new Xg('END_LABELS',8);mhb=new Xg('PARTITIONS',9)}function Jxb(a,b){var c,d,e,f;a=(Da(),a==null?Wxb:a);c=(a.length+16*b.length,new Wd);f=0;d=0;while(d<b.length){e=a.indexOf('%s',f);if(e==-1){break}Yh(c,a.substr(f,e-f));Xh(c,b[d++]);f=e+2}Yh(c,en(a,f,a.length-f));if(d<b.length){c.a+=' [';Xh(c,b[d++]);while(d<b.length){c.a+=', ';Xh(c,b[d++])}c.a+=']'}return c.a}function pX(a,b,c){var d,e;e=null;switch(b.e){case 1:e=(LX(),GX);break;case 2:e=(LX(),IX);}d=null;switch(c.e){case 1:d=(LX(),HX);break;case 2:d=(LX(),FX);break;case 3:d=(LX(),JX);break;case 4:d=(LX(),KX);}return!!e&&!!d?pl(a.f,(hc(),new ic(new h8(Bv(tv(tw,1),syb,68,0,[Wv(_b(e),68),Wv(_b(d),68)]))))):(ct(),ct(),vpb)}function vY(a,b,c){var d,e,f,g,h,i,j;i=Eo(mX(b));for(e=WI(i,0);e.b!=e.d.c;){d=Wv(tS(e),12);j=d.d.f;if(!(jc(kc(Xv(rJ(j,(Rib(),Vhb)))))&&rJ(j,uib)!=null)&&j.g==(CX(),wX)&&!jc(kc(Xv(rJ(d,Iib))))&&d.d.g==(sN(),rN)){f=rY(j.d)-rY(b.d);if(f>1){c?(g=rY(b.d)+1):(g=rY(j.d)-1);h=Wv(yU(a.a.c,g),16);rX(j,h)}vY(a,j,c)}}return b}function Hcb(a,b){var c,d,e,f;b.d?(e=a.a.c==(nu(),Fbb)?iX(b.b):mX(b.b)):(e=a.a.c==(nu(),Ebb)?iX(b.b):mX(b.b));f=false;for(d=(Il(),new Im(Dl(ul(e.a,new yl))));Cm(d);){c=Wv(Dm(d),12);if(a.c.a[c.c.f.d.k]===a.c.a[c.d.f.d.k]){continue}f=true;if(De(a.b,a.a.f[zcb(c,b.b).k])){b.c=true;b.a=c;return b}}b.c=f;b.a=null;return b}function K4(a,b,c){var d,e,f,g;d=Wv(rJ(a.d,(eM(),pL)),15).a;for(f=new _7(a.a.b);f.a<f.c.c.length;){e=Wv(QJ(f),25);if(aw(e,93)){g=Wv(e,93).b;if(g.g==(CX(),xX)){switch(Wv(rJ(g,(Rib(),hib)),32).e){case 4:g.i.a=b.a-d;break;case 2:g.i.a=c.a+d-(g.j.a+g.e.c);break;case 1:g.i.b=b.b-d;break;case 3:g.i.b=c.b+d-(g.j.b+g.e.a);}}}}}function Ztb(){if(!Object.create||!Object.getOwnPropertyNames){return false}var a='__proto__';var b=Object.create(null);if(b[a]!==undefined){return false}var c=Object.getOwnPropertyNames(b);if(c.length!=0){return false}b[a]=42;if(b[a]!==42){return false}if(Object.getOwnPropertyNames(b).length==0){return false}return true}function eS(a){var b,c,d,e,f,g,h,i,j;for(g=new _7(a.a.a);g.a<g.c.c.length;){e=Wv(QJ(g),78);e.f=0;e.e.a.Q()}for(f=new _7(a.a.a);f.a<f.c.c.length;){e=Wv(QJ(f),78);for(c=(j=(new e7(e.a.a)).a.bb().mb(),new r7(j));c.a.G();){b=(d=Wv(c.a.H(),21),Wv(d.yb(),25));for(i=b.i.mb();i.G();){h=Wv(i.H(),25);if(h.f!=e){_p(e.e,h);++h.f.f}}}}}function bcb(a,b,c,d){var e,f,g,h;if(b.g==(CX(),wX)){for(f=Uh(iX(b));Cm(f);){e=Wv(Dm(f),12);g=e.c.f;if((g.g==wX||jc(kc(Xv(rJ(g,(Rib(),Vhb))))))&&a.d.a[e.c.f.d.k]==d&&a.d.a[b.d.k]==c){return true}}}if(b.g==zX){for(f=Uh(iX(b));Cm(f);){e=Wv(Dm(f),12);h=e.c.f.g;if(h==zX&&a.d.a[e.c.f.d.k]==d&&a.d.a[b.d.k]==c){return true}}}return false}function cfb(a){var b,c,d,e,f,g;e=a.g.tb();d=a.b.tb();if(a.e){for(c=0;c<a.c;c++){e.H()}}else{for(c=0;c<a.c-1;c++){e.H();e.I()}}b=kc(Yv(e.H()));while(a.i-b>RAb){f=b;g=0;while((b-f<=0?0-(b-f):b-f)<RAb){++g;b=kc(Yv(e.H()));d.H()}if(g<a.c){e.M();afb(a,a.c-g,f,d,e);e.H()}d.M()}if(!a.e){for(c=0;c<a.c-1;c++){e.H();e.I()}}a.e=true;a.d=true}function O2(a){var b,c,d,e;switch(V2(a.a).c){case 4:return Ieb(),oeb;case 3:return Wv(S2(a.a).mb().H(),60);case 2:d=V2(a.a);c=new ng(d);b=Wv(MT(c),60);e=Wv(MT(c),60);return Meb(b)==e?vk(d,(Ieb(),oeb))?ieb:oeb:Leb(Leb(b))==e?Leb(b):Neb(b);case 1:d=V2(a.a);return Meb(Wv(MT(new ng(d)),60));case 0:return Ieb(),peb;default:return null;}}function Q3(a,b){var c;oR.call(this);this.a=Wv(rJ(b,(Rib(),Jib)),15).a;this.c=this.a*Wv(rJ(b,(Mjb(),Ejb)),15).a;this.b=a;this.j=new VN(a.i.a-a.e.b,a.i.b-a.e.d,a.j.a+a.e.b+a.e.c,a.j.b+a.e.d+a.e.a);BI(this.g);c=tl(iX(a))-tl(mX(a));c<0?vS(this.n,true,(sK(),oK)):c>0&&vS(this.n,true,(sK(),pK));a.g==(CX(),xX)&&wS(this.n,false,false,false,false)}function UT(a,b,c){var d,e,f,g,h,i,j,k,l,m;f=new HI(b,c);for(k=new _7(a.b);k.a<k.c.c.length;){j=Wv(QJ(k),9);vI(j.i,f);for(m=new _7(j.f);m.a<m.c.c.length;){l=Wv(QJ(m),7);for(e=new _7(l.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);hJ(d.a,f);g=Wv(rJ(d,(eM(),CL)),44);!!g&&hJ(g,f);for(i=new _7(d.b);i.a<i.c.c.length;){h=Wv(QJ(i),33);vI(h.i,f)}}}}}function TW(a,b,c){var d,e,f,g,h,i,j,k,l,m;f=new HI(b,c);for(k=new _7(a.b);k.a<k.c.c.length;){j=Wv(QJ(k),9);vI(j.i,f);for(m=new _7(j.f);m.a<m.c.c.length;){l=Wv(QJ(m),7);for(e=new _7(l.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);hJ(d.a,f);g=Wv(rJ(d,(eM(),CL)),44);!!g&&hJ(g,f);for(i=new _7(d.b);i.a<i.c.c.length;){h=Wv(QJ(i),33);vI(h.i,f)}}}}}function X0(a,b){var c,d,e,f,g;for(g=new _7(a.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);if(b){if(f.b.c.length!=0){throw new $J((e=lX(a),nAb+(e==null?ke(a.k):e)+oAb+pAb+qAb))}}else{for(d=new _7(f.b);d.a<d.c.c.length;){c=Wv(QJ(d),12);if(gw(rJ(c.c.f,(Mjb(),vjb)))!==gw((Xib(),Tib))){throw new $J((e=lX(a),nAb+(e==null?ke(a.k):e)+oAb+pAb+qAb))}}}}}function y6(a,b,c){var d,e,f,g,h,i,j;d=0;j=nX(b,c);for(i=j.mb();i.G();){h=Wv(i.H(),7);if(Wv(rJ(h,(Rib(),Bib)),9)){g=Wv(rJ(h,Bib),9);nX(g,(sN(),ZM)).mb().G()&&(d+=(f=a.k?1:NX(Wv(yU(g.f,0),7)),f*xd(w6(a,b,c).a-1-Wv(Qq(a.i,h),24).a,B6(a,b,g))));nX(g,rN).mb().G()&&(d+=(e=a.k?1:NX(Wv(yU(g.f,0),7)),e*xd(Wv(Qq(a.i,h),24).a,B6(a,b,g))))}}return d}function J7(a,b){var c,d,e,f,g,h,i;e=xv(mw,Yyb,26,a.e.a.c.length,12,1);for(g=new _7(a.e.a);g.a<g.c.c.length;){f=Wv(QJ(g),61);e[f.b]+=f.c.c.length}h=Eo(b);while(h.b!=0){f=Wv(h.b==0?null:(Pi(h.b!=0),$I(h,h.a.a)),61);for(d=new _7(f.g);d.a<d.c.c.length;){c=Wv(QJ(d),89);i=c.d;i.e=sd(i.e,f.e+c.a);--e[i.b];e[i.b]==0&&(TI(h,i,h.c.b,h.c),true)}}}function nP(a,b,c,d,e,f,g){a.d=d.e.i.a;a.e=d.e.i.b;if(e){a.d+=e.e.i.a;a.e+=e.e.i.b}a.c=b.e.j.a;a.b=b.e.j.b;if(!e){c?(a.d-=g+b.e.j.a):(a.d+=d.e.j.a+g)}else{switch(Wv(e.e,7).g.e){case 0:case 2:a.d+=e.e.j.a+g+f.a+g;break;case 4:a.d-=g+f.a+g+b.e.j.a;break;case 1:a.d+=e.e.j.a+g;a.e-=g+f.b+g+b.e.j.b;break;case 3:a.d+=e.e.j.a+g;a.e+=e.e.j.b+g+f.b+g;}}}function V9(a,b){var c,d,e,f,g,h,i,j,k;e=new GU;for(i=new _7(b);i.a<i.c.c.length;){f=Wv(QJ(i),9);vU(e,a.b[f.d.k][f.k])}S9(a,e);while(k=T9(e)){U9(a,Wv(k.a,102),Wv(k.b,102),e)}b.c=xv(UF,syb,1,0,4,1);for(d=new _7(e);d.a<d.c.c.length;){c=Wv(QJ(d),102);for(g=c.d,h=0,j=g.length;h<j;++h){f=g[h];b.c[b.c.length]=f;a.a[f.d.k][f.k].a=W9(c.g,c.d[0]).a}}}function lS(a){var b,c,d,e,f,g,h;h=(mp(),new K9);for(d=new _7(a.a.b);d.a<d.c.c.length;){b=Wv(QJ(d),25);Wr(h,b,new GU)}for(e=new _7(a.a.b);e.a<e.c.c.length;){b=Wv(QJ(e),25);b.r=Vzb;for(g=b.i.mb();g.G();){f=Wv(g.H(),25);Wv(re(Ju(h.d,f)),20).ib(b)}}for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);b.i.Q();b.i=Wv(re(Ju(h.d,b)),20)}eS(a)}function kU(a){var b,c,d,e,f;e=Wv(yU(a.b,0),9);b=new uX(a);vU(a.b,b);b.j.a=nd(1,e.j.a);b.j.b=nd(1,e.j.b);b.i.a=e.i.a;b.i.b=e.i.b;switch(Wv(rJ(e,(Rib(),hib)),32).e){case 4:b.i.a+=2;break;case 1:b.i.b+=2;break;case 2:b.i.a-=2;break;case 3:b.i.b-=2;}d=new RX;PX(d,b);c=new hW;f=Wv(yU(e.f,0),7);dW(c,f);eW(c,d);vI(BI(d.i),f.i);vI(BI(d.a),f.a);return b}function T8(a){var b,c,d,e,f,g,h,i,j;j=(mp(),new K9);b=0;c=new l7;for(h=a.mb();h.G();){f=Wv(h.H(),9);i=x7(z7(y7(new A7,b++),f),c);Ltb(j.d,f,i)}for(g=a.mb();g.G();){f=Wv(g.H(),9);for(e=Uh(mX(f));Cm(e);){d=Wv(Dm(e),12);if(bW(d)){continue}f7(i7(h7(g7(j7(new k7,sd(1,Wv(rJ(d,(Rib(),Eib)),24).a)),1),Wv(Qq(j,d.c.f),61)),Wv(Qq(j,d.d.f),61)))}}return c}function E2(a){var b,c;if(a.V()){return}c=Wv(a.sb(0),75).f;new g3(a);b=new MJ(c.f,0);e3((Ieb(),neb),b);f3(Eeb,b);D2((sN(),$M),b);d3(meb,b);f3(qeb,b);c3(jeb,b);e3(keb,b);D2(ZM,b);d3(ieb,b);e3(leb,b);c3(peb,b);e3(qeb,b);D2(pN,b);d3(oeb,b);e3(Eeb,b);c3(Heb,b);f3(leb,b);while(b.b<b.d.Y()){Pi(b.b<b.d.Y());b.d.sb(b.c=b.b++)}d3(Geb,b);f3(keb,b);f3(neb,b)}function F2(a){var b,c;if(a.V()){return}c=Wv(a.sb(0),75).f;new g3(a);b=new MJ(c.f,0);e3((Ieb(),neb),b);f3(Eeb,b);D2((sN(),$M),b);c3(meb,b);f3(qeb,b);c3(jeb,b);e3(keb,b);D2(ZM,b);c3(ieb,b);e3(leb,b);c3(peb,b);e3(qeb,b);D2(pN,b);c3(oeb,b);e3(Eeb,b);c3(Heb,b);f3(leb,b);while(b.b<b.d.Y()){Pi(b.b<b.d.Y());b.d.sb(b.c=b.b++)}c3(Geb,b);f3(keb,b);f3(neb,b)}function N7(a){var b,c,d,e,f,g,h,i,j;e=eyb;g=$xb;for(j=new _7(a.e.a);j.a<j.c.c.length;){h=Wv(QJ(j),61);g=xd(g,h.e);e=sd(e,h.e)}f=0;d=xv(mw,Yyb,26,e-g+1,12,1);for(i=new _7(a.e.a);i.a<i.c.c.length;){h=Wv(QJ(i),61);h.e-=g;++d[h.e]}if(a.k){for(c=new _7(a.k.c);c.a<c.c.c.length;){b=Wv(QJ(c),16);d[f++]+=b.a.c.length;if(d.length==f){break}}}return d}function L4(a){var b,c,d,e;M4(a);J4(a);e=new HI(Uzb,Uzb);b=new HI(Vzb,Vzb);for(d=new _7(a.a.b);d.a<d.c.c.length;){c=Wv(QJ(d),25);e.a=vd(e.a,c.j.d);e.b=vd(e.b,c.j.e);b.a=nd(b.a,c.j.d+c.j.c);b.b=nd(b.b,c.j.e+c.j.b)}vI(BI(a.d.d),zI(new HI(e.a,e.b)));vI(BI(a.d.e),EI(new HI(b.a,b.b),e));K4(a,e,b);a.a.a.c=xv(UF,syb,1,0,4,1);a.a.b.c=xv(UF,syb,1,0,4,1)}function j1(a,b){var c,d,e,f,g,h,i,j,k,l;g=a.e;k=Wv(rJ(a,(Rib(),Qib)),20);l=0;if(k){i=0;for(f=k.mb();f.G();){e=Wv(f.H(),9);i=nd(i,e.j.b);l+=e.j.a}l+=b/2*(k.Y()-1);g.d+=i+b}c=Wv(rJ(a,Yhb),20);d=0;if(c){i=0;for(f=c.mb();f.G();){e=Wv(f.H(),9);i=nd(i,e.j.b);d+=e.j.a}d+=b/2*(c.Y()-1);g.a+=i+b}h=l>d?l:d;if(h>a.j.a){j=(h-a.j.a)/2;g.b=nd(g.b,j);g.c=nd(g.c,j)}}function ST(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;g=uI(b.d,c,d);for(l=new _7(b.b);l.a<l.c.c.length;){k=Wv(QJ(l),9);vI(k.i,g);for(n=new _7(k.f);n.a<n.c.c.length;){m=Wv(QJ(n),7);for(f=new _7(m.e);f.a<f.c.c.length;){e=Wv(QJ(f),12);hJ(e.a,g);h=Wv(rJ(e,(eM(),CL)),44);!!h&&hJ(h,g);for(j=new _7(e.b);j.a<j.c.c.length;){i=Wv(QJ(j),33);vI(i.i,g)}}}vU(a.b,k);k.a=a}}function Q8(a,b){var c,d,e,f,g;a.c==null||a.c.length<b.c.length?(a.c=xv(KH,xAb,26,b.c.length,13,1)):Bd(a.c);a.a=new GU;d=0;for(g=new _7(b);g.a<g.c.c.length;){e=Wv(QJ(g),9);e.k=d++}c=new aJ;for(f=new _7(b);f.a<f.c.c.length;){e=Wv(QJ(f),9);if(!a.c[e.k]){R8(a,e);c.b==0||(Pi(c.b!=0),Wv(c.a.a.c,20)).Y()<a.a.c.length?RI(c,a.a):SI(c,a.a);a.a=new GU}}return c}function xfb(a,b,c){var d,e,f,g,h,i,j,k,l;d=sgb(a.g);j=vI(xI(a.i),a.a);k=vI(xI(b.i),b.a);e=vI(new II(j),CI(new GI(d),c));l=vI(new II(k),CI(new GI(d),c));g=CI(EI(new II(e),l),0.5);i=vI(vI(new II(l),g),CI(new GI(d),ih(g.a*g.a+g.b*g.b)));h=new ur(Bv(tv(qz,1),Fzb,10,0,[j,e,i,l,k]));f=$eb(h,0.5,false);h.a=f;b9(h,new Ffb(Bv(tv(qz,1),Fzb,10,0,[f,j,k])));return h}function F7(a,b){var c,d,e,f,g;nI(b,'Network simplex',1);if(a.e.a.c.length<1){pI(b);return}for(f=new _7(a.e.a);f.a<f.c.c.length;){e=Wv(QJ(f),61);e.e=0}g=a.e.a.c.length>=40;g&&Q7(a);H7(a);G7(a);c=K7(a);d=0;while(!!c&&d<a.f){E7(a,c,D7(a,c));c=K7(a);++d}g&&P7(a);a.a?B7(a,N7(a)):N7(a);a.b=null;a.d=null;a.p=null;a.c=null;a.g=null;a.i=null;a.n=null;a.o=null;pI(b)}function uQ(a){var b,c,d,e,f,g,h,i,j,k;j=new Lb;e=(mp(),new K9);for(h=0,i=a.length;h<i;++h){g=a[h];b=g.mc();j.a.db(b,j);b==null?Ltb(e.d,null,g):dub(e.e,b,g);k=ao(b,(Da(),b.lastIndexOf('.'))+1,b.length);if(!De(sQ,k)){j.a.db(k,j);k==null?Ltb(e.d,null,g):dub(e.e,k,g);_p(sQ,k)}}d=(hi(),Yj((f=(new e7(j.a)).a.bb().mb(),new r7(f))));c=tj(e);return new RJ(d,c)}function E7(a,b,c){var d,e,f;if(!b.e){throw new oc('Given leave edge is no tree edge.')}if(c.e){throw new oc('Given enter edge is a tree edge already.')}b.e=false;Mj(a.p,b);c.e=true;_p(a.p,c);d=c.d.e-c.c.e-c.a;I7(a,c.d,b)||(d=-d);for(f=new _7(a.e.a);f.a<f.c.c.length;){e=Wv(QJ(f),61);I7(a,e,b)||(e.e+=d)}a.j=1;Bd(a.c);O7(a,Wv(QJ(new _7(a.e.a)),61));C7(a)}function dU(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(a.V()){return new FI}j=0;l=0;for(e=a.mb();e.G();){d=Wv(e.H(),55);f=d.e;j=nd(j,f.a);l+=f.a*f.b}j=nd(j,Math.sqrt(l)*Wv(rJ(Wv(a.mb().H(),55),(Rib(),Rhb)),15).a);m=0;n=0;i=0;c=b;for(h=a.mb();h.G();){g=Wv(h.H(),55);k=g.e;if(m+k.a>j){m=0;n+=i+b;i=0}UT(g,m,n);c=nd(c,m+k.a);i=nd(i,k.b);m+=k.a+b}return new HI(c+b,n+i+b)}function Nm(a,b,c,d){var e,f,g;g=new Sn(b,c);if(!a.a){a.a=a.e=g;Wr(a.b,b,new Rn(g));++a.c}else if(!d){a.e.b=g;g.d=a.e;a.e=g;e=Wv(Qq(a.b,b),126);if(!e){Wr(a.b,b,new Rn(g));++a.c}else{++e.a;f=e.c;f.c=g;g.e=f;e.c=g}}else{e=Wv(Qq(a.b,b),126);++e.a;g.d=d.d;g.e=d.e;g.b=d;g.c=d;!d.e?(Wv(Qq(a.b,b),126).b=g):(d.e.c=g);!d.d?(a.a=g):(d.d.b=g);d.d=g;d.e=g}++a.d;return g}function hS(a){var b,c,d,e,f,g,h,i;if(a.e){throw new Qc((Cl(nA),'The '+nA.j+Yzb))}a.d==(sK(),qK)&&gS(a,oK);for(c=new _7(a.a.a);c.a<c.c.c.length;){b=Wv(QJ(c),78);b.f=0}for(g=new _7(a.a.b);g.a<g.c.c.length;){f=Wv(QJ(g),25);f.r=Vzb;for(e=f.i.mb();e.G();){d=Wv(e.H(),25);++d.f.f}}a.b.Cc(a);for(i=new _7(a.a.b);i.a<i.c.c.length;){h=Wv(QJ(i),25);h.p=true}return a}function V1(a,b,c,d,e){var f,g,h,i;f=new uX(a);sX(f,(CX(),BX));sJ(f,(eM(),TL),(KM(),FM));sJ(f,(Rib(),uib),b.c.f);g=new RX;sJ(g,uib,b.c);QX(g,e);PX(g,f);sJ(b.c,Bib,f);h=new uX(a);sX(h,BX);sJ(h,TL,FM);sJ(h,uib,b.d.f);i=new RX;sJ(i,uib,b.d);QX(i,e);PX(i,h);sJ(b.d,Bib,h);dW(b,g);eW(b,i);fV(0,c.c.length);ch(c.c,0,f);d.c[d.c.length]=h;sJ(f,aib,Elb(1));sJ(h,aib,Elb(1))}function j2(a,b){var c,d,e,f,g;g=Wv(rJ(a.f,(eM(),TL)),28);f=a.g.e-b.g.e;if(f!=0||g==(KM(),HM)){return f}if(g==(KM(),EM)){c=Wv(rJ(a,UL),24);d=Wv(rJ(b,UL),24);if(!!c&&!!d){e=c.a-d.a;if(e!=0){return e}}}switch(a.g.e){case 1:return glb(a.i.a,b.i.a);case 2:return glb(a.i.b,b.i.b);case 3:return glb(b.i.a,a.i.a);case 4:return glb(b.i.b,a.i.b);default:throw new Qc(iAb);}}function hfb(a){var b,c,d,e,f,g,h,i,j,k,l;h=new GU;f=kc(Yv(a.g.sb(a.g.Y()-1)));for(l=a.g.mb();l.G();){k=Yv(l.H());uU(h,0,f-(So(k),k))}g=lJ(a_(a));j=new GU;e=new _7(h);i=new GU;for(b=0;b<a.c-1;b++){vU(j,Yv(QJ(e)))}for(d=WI(g,0);d.b!=d.d.c;){c=Wv(tS(d),10);vU(j,Yv(QJ(e)));vU(i,new Yt(c,j));gV(0,j.c.length);j.c.splice(0,1)}return new ffb(a.e,a.f,a.d,a.c,h,i)}function zs(a,b,c,d,e){var f,g,h,i,j;f=b.$b(c,a.b);if(f<0){h=a.e;if(!h){e[0]=0;return As(a,c,d)}g=h.d;a.e=zs(h,b,c,d,e);e[0]==0&&++a.a;a.j=PH(a.j,d);return a.e.d==g?a:Gs(a)}else if(f>0){i=a.g;if(!i){e[0]=0;return Bs(a,c,d)}g=i.d;a.g=zs(i,b,c,d,e);e[0]==0&&++a.a;a.j=PH(a.j,d);return a.g.d==g?a:Gs(a)}e[0]=a.c;j=PH(a.c,d);Xb(RH(j,$xb)<=0);a.c+=d;a.j=PH(a.j,d);return a}function iJ(b,c){var d,e,f,g,h,i;f=fmb(c,',|;|\\(|\\)|\\[|\\]|\\{|\\}| |\t|\n');_I(b);try{e=0;h=0;g=0;i=0;while(e<f.length){if(f[e]!=null&&ri(hmb(f[e]))>0){h%2==0?(g=clb(f[e])):(i=clb(f[e]));h>0&&h%2!=0&&QI(b,new HI(g,i));++h}++e}}catch(a){a=OH(a);if(aw(a,130)){d=a;throw new oc('The given string does not match the expected format for vectors.'+d)}else throw NH(a)}}function _bb(a,b,c){var d,e,f,g,h,i,j,k;e=true;for(g=new _7(b.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);j=Vzb;for(i=new _7(f.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);k=kc(c.n[h.k])+kc(c.d[h.k])-h.e.d;d=kc(c.n[h.k])+kc(c.d[h.k])+h.j.b+h.e.a;if(k>j&&d>j){j=kc(c.n[h.k])+kc(c.d[h.k])+h.j.b+h.e.a}else{e=false;a.a&&(pn(),Emb);break}}if(!e){break}}a.a&&(pn(),Emb);return e}function Jv(a){var b,c,d,e,f,g,h,i;if(isNaN(a)){return Rv(),Qv}if(a<-9223372036854775808){return Rv(),Pv}if(a>=9223372036854775807){return Rv(),Ov}e=false;if(a<0){e=true;a=-a}d=0;if(a>=dzb){d=hw(a/dzb);a-=d*dzb}c=0;if(a>=czb){c=hw(a/czb);a-=c*czb}b=hw(a);f=Ev(b,c,d);e&&(g=~f.l+1&azb,h=~f.m+(g==0?1:0)&azb,i=~f.h+(g==0&&h==0?1:0)&bzb,f.l=g,f.m=h,f.h=i,undefined);return f}function JO(a){var b,c,d,e,f,g,h;e=DW(a);if(Gj(new _7(e))){h=new VN(0,0,a.e.j.a,a.e.j.b);for(c=new _7(e);c.a<c.c.c.length;){b=Wv(QJ(c),129);d=new VN(b.e.i.a,b.e.i.b,b.e.j.a,b.e.j.b);TN(h,d)}g=new FP((f=Wv(a.e,7).d,new EP(f.d,f.b,f.a,f.c)));g.d=-h.e;g.a=h.e+h.b-a.e.j.b;g.b=-h.d;g.c=h.d+h.c-a.e.j.a;Wv(a.e,7).d.b=g.b;Wv(a.e,7).d.d=g.d;Wv(a.e,7).d.c=g.c;Wv(a.e,7).d.a=g.a}}function Y0(a){var b,c,d,e,f;for(f=new _7(a.f);f.a<f.c.c.length;){e=Wv(QJ(f),7);for(d=new _7(e.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);if(gw(rJ(c.d.f,(Mjb(),vjb)))!==gw((Xib(),Vib))){throw new $J((b=lX(a),nAb+(b==null?ke(a.k):b)+"' has its layer constraint set to LAST or LAST_SEPARATE, but has "+'at least one outgoing edge. Connections between nodes with these '+qAb))}}}}function Rfb(a,b,c,d){var e,f,g,h,i,j;for(f=new _7(a);f.a<f.c.c.length;){e=Wv(QJ(f),12);g=e.c;if(b.a.R(g)){h=(ou(),dgb)}else if(c.a.R(g)){h=(ou(),egb)}else{throw new oc('Source port must be in one of the port sets.')}i=e.d;if(b.a.R(i)){j=(ou(),dgb)}else if(c.a.R(i)){j=(ou(),egb)}else{throw new oc('Target port must be in one of the port sets.')}vU(d,new lgb(e,h,j))}}function bQ(a,b){var c,d,e,f,g,h;if('edges'in b.a){h=Pu(b,'edges');if(!h.hc()){throw new GQ("The 'edges' property of a node has to be an array.",h,b)}f=h.hc();for(g=0;g<f.a.length;++g){e=gu(f,g);if(!e.kc()){throw new GQ("All elements of the 'edges' property must be objects.",e,b)}aQ(a,e.kc())}}if(Mzb in b.a){d=Pu(b,Mzb).hc();for(g=0;g<d.a.length;++g){c=gu(d,g).kc();bQ(a,c)}}}function fS(a){var b,c,d,e,f,g,h,i;for(d=new _7(a.a.a);d.a<d.c.c.length;){c=Wv(QJ(d),78);c.g=null;for(g=(i=(new e7(c.a.a)).a.bb().mb(),new r7(i));g.a.G();){e=(b=Wv(g.a.H(),21),Wv(b.yb(),25));BI(e.g);(!c.g||e.j.d<c.g.j.d)&&(c.g=e)}for(f=(h=(new e7(c.a.a)).a.bb().mb(),new r7(h));f.a.G();){e=(b=Wv(f.a.H(),21),Wv(b.yb(),25));e.g.a=e.j.d-c.g.j.d;e.g.b=e.j.e-c.g.j.e}}return a}function Nab(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;c=false;n=$yb*a.b.f*a.b.d;for(e=new _7(b.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);j=new _7(d.a);f=Wv(QJ(j),9);k=Gp(a.a[f.k]);while(j.a<j.c.c.length){h=Wv(QJ(j),9);l=Gp(a.a[h.k]);if(k!=l){m=gn(a.b,f,h);g=f.i.b+f.j.b+f.e.a+k.a+m;i=h.i.b-h.e.d+l.a;if(g>i+n){o=k.i+l.i;l.a=(l.i*l.a+k.i*k.a)/o;l.i=o;k.g=l;c=true}}f=h;k=l}}return c}function XY(a){var b,c,d,e,f,g;if(gw(rJ(a,(eM(),TL)))===gw((KM(),GM))||gw(rJ(a,TL))===gw(FM)){for(g=new _7(a.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);if(f.g==(sN(),$M)||f.g==pN){return false}}}if(MM(Wv(rJ(a,TL),28))){for(e=nX(a,(sN(),ZM)).mb();e.G();){d=Wv(e.H(),7);if(d.b.c.length!=0){return false}}}for(c=Uh(mX(a));Cm(c);){b=Wv(Dm(c),12);if(b.c.f==b.d.f){return false}}return true}function KW(a,b){var c,d,e,f,g,h,i,j,k;e=a.f;g=e.j.a;f=e.j.b;if(g<=0&&f<=0){return sN(),qN}j=a.i.a;k=a.i.b;h=a.j.a;c=a.j.b;switch(b.e){case 2:case 1:if(j<0){return sN(),rN}else if(j+h>g){return sN(),ZM}break;case 4:case 3:if(k<0){return sN(),$M}else if(k+c>f){return sN(),pN}}i=(j+h/2)/g;d=(k+c/2)/f;return i+d<=1&&i-d<=0?(sN(),rN):i+d>=1&&i-d>=0?(sN(),ZM):d<0.5?(sN(),$M):(sN(),pN)}function pP(a,b,c,d,e,f,g){var h,i,j,k,l,m;m=new UN;for(j=b.mb();j.G();){h=Wv(j.H(),627);for(l=new _7(sW(h));l.a<l.c.c.length;){k=Wv(QJ(l),129);if(gw(oW(k,(eM(),tL)))===gw((EK(),CK))){nP(m,k,false,d,e,f,g);TN(a,m)}}}for(i=c.mb();i.G();){h=Wv(i.H(),627);for(l=new _7(sW(h));l.a<l.c.c.length;){k=Wv(QJ(l),129);if(gw(oW(k,(eM(),tL)))===gw((EK(),BK))){nP(m,k,true,d,e,f,g);TN(a,m)}}}}function f8(a,b){var c,d,e,f,g,h,i,j;for(i=new _7(b.f);i.a<i.c.c.length;){h=Wv(QJ(i),7);for(e=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[h.b,h.e]))))));Cm(e);){d=Wv(Dm(e),12);c=d.c==h?d.d:d.c;f=c.f;if(b==f){continue}j=Wv(rJ(d,(Rib(),Eib)),24).a;j<0&&(j=0);g=f.k;if(a.b[g]==0){if(d.d==c){a.a[g]-=j+1;a.a[g]<=0&&a.c[g]>0&&QI(a.e,f)}else{a.c[g]-=j+1;a.c[g]<=0&&a.a[g]>0&&QI(a.d,f)}}}}}function tcb(a,b){var c,d,e,f,g,h,i,j,k;for(g=new _7(b.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);for(j=new _7(f.a);j.a<j.c.c.length;){i=Wv(QJ(j),9);k=new GU;h=0;for(e=Uh(iX(i));Cm(e);){c=Wv(Dm(e),12);Wv(rJ(c,(Rib(),Eib)),24).a>h&&(h=Wv(rJ(c,Eib),24).a)}for(d=Uh(iX(i));Cm(d);){c=Wv(Dm(d),12);i.d!=c.c.f.d&&Wv(rJ(c,(Rib(),Eib)),24).a==h&&vU(k,new RJ(c.c.f,c))}JR(k,a.c);uU(a.b,i.k,k)}}}function ucb(a,b){var c,d,e,f,g,h,i,j,k;for(g=new _7(b.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);for(j=new _7(f.a);j.a<j.c.c.length;){i=Wv(QJ(j),9);k=new GU;h=0;for(e=Uh(mX(i));Cm(e);){c=Wv(Dm(e),12);Wv(rJ(c,(Rib(),Eib)),24).a>h&&(h=Wv(rJ(c,Eib),24).a)}for(d=Uh(mX(i));Cm(d);){c=Wv(Dm(d),12);i.d!=c.d.f.d&&Wv(rJ(c,(Rib(),Eib)),24).a==h&&vU(k,new RJ(c.d.f,c))}JR(k,a.c);uU(a.f,i.k,k)}}}function g3(a){b3();var b,c,d,e,f,g,h,i,j,k;this.b=new i3;this.c=new GU;this.a=new GU;for(i=Seb(),j=0,k=i.length;j<k;++j){h=i[j];Bm(a3,h,new GU)}for(c=a.mb();c.G();){b=Wv(c.H(),75);xU(this.a,lu(b));b.g.a.Y()==0?Wv(gs(a3,b.e),20).ib(b):vU(this.c,b)}for(f=(g=(new s7(a3)).a.bb().mb(),new t7(g));f.a.G();){e=(d=Wv(f.a.H(),21),Wv(d.zb(),20));JR(e,this.b)}Dpb(Wv(gs(a3,(Ieb(),neb)),20))}function E$(a,b){var c,d,e,f,g,h,i;i=Wv(rJ(b,(eM(),TL)),28);if(!(i==(KM(),GM)||i==FM)){return}f=(c=Wv(rJ(b,(Rib(),Xhb)),15).a,new HI(b.e.a+b.a.b+b.a.c+2*c,b.e.b+b.a.d+b.a.a+2*c)).b;for(h=new _7(a.a);h.a<h.c.c.length;){g=Wv(QJ(h),9);if(g.g!=(CX(),xX)){continue}d=Wv(rJ(g,hib),32);if(d!=(sN(),ZM)&&d!=rN){continue}e=kc(Yv(rJ(g,Cib)));i==GM&&(e*=f);g.i.b=e-Wv(rJ(g,SL),10).b;fX(g,false,true)}}function fZ(a,b){var c,d,e,f,g,h,i,j;c=new uX(a.d.c);sX(c,(CX(),wX));sJ(c,(eM(),TL),Wv(rJ(b,TL),28));sJ(c,JL,Wv(rJ(b,JL),86));c.k=a.d.b++;vU(a.b,c);c.j.b=b.j.b;c.j.a=0;j=(sN(),ZM);f=Ao(nX(b,j));for(i=new _7(f);i.a<i.c.c.length;){h=Wv(QJ(i),7);PX(h,c)}g=new RX;QX(g,j);PX(g,b);g.i.a=c.j.a;g.i.b=c.j.b/2;e=new RX;QX(e,tN(j));PX(e,c);e.i.b=c.j.b/2;e.i.a=-e.j.a;d=new hW;dW(d,g);eW(d,e);return c}function m3(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;i=new Dh;Np(a,i);e=new deb(b);n=new GU;vU(n,(o=a.j,Wv(um(dq(!o?(a.j=new eq(a)):o)),7)));m=new GU;while(n.c.length!=0){h=Wv(QJ(new _7(n)),7);m.c[m.c.length]=h;d=Sm(a,h);for(g=new r8(d.b.mb());g.b.G();){f=Wv(g.b.H(),12);if(beb(e,f,c)){l=Wv(Gd(i,f),20);for(k=l.mb();k.G();){j=Wv(k.H(),7);zU(m,j,0)!=-1||(n.c[n.c.length]=j,true)}}}BU(n,h)}return e}function fmb(a,b){var c,d,e,f,g,h,i;c=RegExp(b,'g');h=xv($F,Txb,2,0,5,1);d=0;i=a;f=null;while(true){g=c.exec(i);if(g==null||i==''){h[d]=i;break}else{h[d]=ao(i,0,g.index);i=ao(i,g.index+g[0].length,(Da(),i.length));c.lastIndex=0;if(f==i){h[d]=i.substr(0,1);i=en(i,1,i.length-1)}f=i;++d}}if((Da(),a.length)>0){e=h.length;while(e>0&&h[e-1]==''){--e}e<h.length&&(h.length=e,undefined)}return h}function NO(a){var b,c,d,e,f,g;for(g=new _7(AW(a.e));g.a<g.c.c.length;){f=Wv(QJ(g),161);switch(Wv(f.e,7).g.e){case 4:a.q.b=nd(a.q.b,(c=Wv(f.e,7).d,new EP(c.d,c.b,c.a,c.c)).c);break;case 2:a.q.c=nd(a.q.c,(d=Wv(f.e,7).d,new EP(d.d,d.b,d.a,d.c)).b);break;case 1:a.q.d=nd(a.q.d,(e=Wv(f.e,7).d,new EP(e.d,e.b,e.a,e.c)).a);break;case 3:a.q.a=nd(a.q.a,(b=Wv(f.e,7).d,new EP(b.d,b.b,b.a,b.c)).d);}}}function Ns(a,b,c,d,e){var f,g,h;f=b.$b(c,a.b);if(f<0){g=a.e;if(!g){e[0]=0;return d>0?As(a,c,d):a}a.e=Ns(g,b,c,d,e);d==0&&e[0]!=0?--a.a:d>0&&e[0]==0&&++a.a;a.j=PH(a.j,d-e[0]);return Gs(a)}else if(f>0){h=a.g;if(!h){e[0]=0;return d>0?Bs(a,c,d):a}a.g=Ns(h,b,c,d,e);d==0&&e[0]!=0?--a.a:d>0&&e[0]==0&&++a.a;a.j=PH(a.j,d-e[0]);return Gs(a)}e[0]=a.c;if(d==0){return Fs(a)}a.j=PH(a.j,d-a.c);a.c=d;return a}function Q7(a){var b,c,d,e,f,g,h;a.o=new Ba;d=new aJ;for(g=new _7(a.e.a);g.a<g.c.c.length;){f=Wv(QJ(g),61);m7(f).c.length==1&&(TI(d,f,d.c.b,d.c),true)}while(d.b!=0){f=Wv(d.b==0?null:(Pi(d.b!=0),$I(d,d.a.a)),61);if(m7(f).c.length==0){continue}b=Wv(yU(m7(f),0),89);c=f.g.c.length>0;h=c7(b,f);c?p7(h.c,b):p7(h.g,b);m7(h).c.length==1&&(TI(d,h,d.c.b,d.c),true);e=new RJ(f,b);bi(a.o,e);BU(a.e.a,f)}}function Hs(a,b,c,d,e){var f,g,h;f=b.$b(c,a.b);if(f<0){g=a.e;if(!g){e[0]=0;return a}a.e=Hs(g,b,c,d,e);if(e[0]>0){if(d>=e[0]){--a.a;a.j=XH(a.j,e[0])}else{a.j=XH(a.j,d)}}return e[0]==0?a:Gs(a)}else if(f>0){h=a.g;if(!h){e[0]=0;return a}a.g=Hs(h,b,c,d,e);if(e[0]>0){if(d>=e[0]){--a.a;a.j=XH(a.j,e[0])}else{a.j=XH(a.j,d)}}return Gs(a)}e[0]=a.c;if(d>=a.c){return Fs(a)}else{a.c-=d;a.j=XH(a.j,d);return a}}function BQ(a,b,c){var d,e,f,g,h,i,j,k;for(i=new _7(c.b);i.a<i.c.c.length;){h=Wv(QJ(i),9);g=Wv(rJ(h,(Rib(),sib)),55);if(g){k=BQ(a,b,g);h.j.a=(f=Wv(rJ(k,Xhb),15).a,new HI(k.e.a+k.a.b+k.a.c+2*f,k.e.b+k.a.d+k.a.a+2*f)).a;h.j.b=(e=Wv(rJ(k,Xhb),15).a,new HI(k.e.a+k.a.b+k.a.c+2*e,k.e.b+k.a.d+k.a.a+2*e)).b}}j=new sI;d=$v(rJ(c,(eM(),kL)));d!=null&&qb(d,'de.cau.cs.kieler.fixed')?JP(c,j):ZQ(b,c,j);return c}function bR(a){var b,c,d,e,f,g,h,i;h=Wv(rJ(a,(eM(),aM)),18);i=Wv(rJ(a,bM),18);d=Wv(rJ(a,(Rib(),Xhb)),15).a;a.d.a+=d;a.d.b+=d;a.e.a+=2*d;a.e.b+=2*d;sJ(a,Xhb,new X6(0));e=(c=Wv(rJ(a,Xhb),15).a,new HI(a.e.a+a.a.b+a.a.c+2*c,a.e.b+a.a.d+a.a.a+2*c));b=new II(e);if(h.kb((DN(),zN))){g=Wv(rJ(a,IL),15).a;f=Wv(rJ(a,HL),15).a;if(i.kb((MN(),KN))){g<=0&&(g=20);f<=0&&(f=20)}b.a=nd(e.a,g);b.b=nd(e.b,f)}cR(a,e,b)}function rV(a,b,c){var d,e,f,g,h,i,j,k;if(b.k==0){b.k=1;g=c;if(!c){e=new GU;f=(d=Wv(Zd(Kz),11),new Ln(d,Wv(fq(d,d.length),11),0));g=new RJ(e,f)}Wv(g.a,20).ib(b);b.g==(CX(),xX)&&Wv(g.b,18).ib(Wv(rJ(b,(Rib(),hib)),32));for(i=new _7(b.f);i.a<i.c.c.length;){h=Wv(QJ(i),7);for(k=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[new fY(h),new lY(h)]))))));Cm(k);){j=Wv(Dm(k),7);rV(a,j.f,g)}}return g}return null}function QW(a,b,c,d){var e,f,g,h,i;i=new II(b.i);i.a+=b.j.a/2;i.b+=b.j.b/2;h=Wv(rJ(b,(Rib(),tib)),15).a;f=a.e;g=a.a;e=a.d;switch(Wv(rJ(b,hib),32).e){case 1:i.a+=g.b+e.a-c/2;i.b=-d-h;b.i.b=-(g.d+h+e.b);break;case 2:i.a=f.a+g.b+g.c+h;i.b+=g.d+e.b-d/2;b.i.a=f.a+g.c+h-e.a;break;case 3:i.a+=g.b+e.a-c/2;i.b=f.b+g.d+g.a+h;b.i.b=f.b+g.a+h-e.b;break;case 4:i.a=-c-h;i.b+=g.d+e.b-d/2;b.i.a=-(g.b+h+e.a);}return i}function $Q(a,b){var c,d,e,f,g,h,i;for(f=new _7(b.b);f.a<f.c.c.length;){e=Wv(QJ(f),9);g=rJ(e,(Rib(),uib));if(aw(g,7)){h=Wv(g,7);i=QW(b,e,h.j.a,h.j.b);h.i.a=i.a;h.i.b=i.b;QX(h,Wv(rJ(e,hib),32))}}c=(d=Wv(rJ(b,(Rib(),Xhb)),15).a,new HI(b.e.a+b.a.b+b.a.c+2*d,b.e.b+b.a.d+b.a.a+2*d));if(Wv(rJ(b,jib),18).kb((ohb(),hhb))){sJ(a,(eM(),TL),(KM(),FM));Wv(rJ(hX(a),jib),18).ib(khb);WW(a,c,false)}else{WW(a,c,true)}}function VW(a,b,c){var d,e,f,g,h;h=null;switch(b.e){case 1:for(e=new _7(a.f);e.a<e.c.c.length;){d=Wv(QJ(e),7);if(jc(kc(Xv(rJ(d,(Rib(),kib)))))){return d}}h=new RX;sJ(h,(Rib(),kib),(Xo(),Xo(),wkb));break;case 2:for(g=new _7(a.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);if(jc(kc(Xv(rJ(f,(Rib(),yib)))))){return f}}h=new RX;sJ(h,(Rib(),yib),(Xo(),Xo(),wkb));}if(h){PX(h,a);QX(h,c);LW(h.i,a.j,c)}return h}function pk(a,b){var c,d,e,f,g,h,i;_b(b);Xb(a.a.t(b.a));d=a.b;f=a.e;g=a.d;if(a.b){if(b.b){c=a.a.$b(a.e,b.e);if(c<0||c==0&&b.d==(Gh(),Fh)){f=b.e;g=b.d}}}else{d=b.b;f=b.e;g=b.d}e=a.c;h=a.g;i=a.f;if(a.c){if(b.c){c=a.a.$b(a.g,b.g);if(c>0||c==0&&b.f==(Gh(),Fh)){h=b.g;i=b.f}}}else{e=b.c;h=b.g;i=b.f}if(d&&e){c=a.a.$b(f,h);if(c>0||c==0&&g==(Gh(),Fh)&&i==(Gh(),Fh)){f=h;g=(Gh(),Fh);i=Eh}}return new sk(a.a,d,f,g,e,h,i)}function h0(a,b,c,d){var e,f,g,h,i,j,k;if(c.c.f==b.f){return}e=new uX(a);sX(e,(CX(),zX));sJ(e,(Rib(),uib),c);sJ(e,(eM(),TL),(KM(),FM));d.c[d.c.length]=e;g=new RX;PX(g,e);QX(g,(sN(),rN));h=new RX;PX(h,e);QX(h,ZM);eW(c,g);f=new hW;qJ(f,c);sJ(f,CL,null);dW(f,h);eW(f,b);j0(e,g,h);j=new MJ(c.b,0);while(j.b<j.d.Y()){i=(Pi(j.b<j.d.Y()),Wv(j.d.sb(j.c=j.b++),33));k=Wv(rJ(i,tL),107);if(k==(EK(),BK)){fr(j);vU(f.b,i)}}}function Pfb(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;f=c+(b.n+1)*a.a;g=b.b;e=new HI(f,g);for(i=(k=(new e7(b.c.a)).a.bb().mb(),new r7(k));i.a.G();){h=(j=Wv(i.a.H(),21),Wv(j.yb(),12));o=MX(h.d);l=MX(h.c);n=new HI(f,l.b);q=new HI(f,o.b);m=new HI(c-10,l.b);p=new HI(d,o.b);o.a>=d&&l.a>=d&&(m.a=d);o.a<=c&&l.a<=c&&(p.a=c-10);b.c.a.Y()==1?fJ(h.a,Bv(tv(qz,1),Fzb,10,0,[m,n,q,p])):fJ(h.a,Bv(tv(qz,1),Fzb,10,0,[m,n,e,q,p]))}}function cW(a,b){var c,d,e,f,g,h;f=a.c;g=a.d;dW(a,null);eW(a,null);b&&jc(kc(Xv(rJ(g,(Rib(),kib)))))?dW(a,VW(g.f,(G$(),bjb),(sN(),ZM))):dW(a,g);b&&jc(kc(Xv(rJ(f,(Rib(),yib)))))?eW(a,VW(f.f,(G$(),ajb),(sN(),rN))):eW(a,f);for(d=new _7(a.b);d.a<d.c.c.length;){c=Wv(QJ(d),33);e=Wv(rJ(c,(eM(),tL)),107);e==(EK(),CK)?sJ(c,tL,BK):e==BK&&sJ(c,tL,CK)}h=jc(kc(Xv(rJ(a,(Rib(),Iib)))));sJ(a,Iib,(Xo(),h?vkb:wkb));a.a=lJ(a.a)}function efb(a){var b,c,d,e,f,g;lj(this);for(c=a.Y()-1;c<3;c++){a.rb(0,Wv(a.sb(0),10))}if(a.Y()<4){throw new oc('At (least dimension + 1) control points are necessary!')}else{this.c=3;this.e=true;this.f=true;this.d=false;Ueb(this,a.Y()+this.c-1);g=new GU;f=this.g.mb();for(b=0;b<this.c-1;b++){vU(g,Yv(f.H()))}for(e=a.mb();e.G();){d=Wv(e.H(),10);vU(g,Yv(f.H()));this.b.ib(new Yt(d,g));gV(0,g.c.length);g.c.splice(0,1)}}}function scb(a){var b,c,d,e,f,g,h,i,j,k,l;l=new v3;l.d=0;for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);l.d+=f.a.c.length}d=0;e=0;l.a=xv(mw,Yyb,26,a.c.c.length,12,1);j=0;l.e=xv(mw,Yyb,26,l.d,12,1);for(c=new _7(a.c);c.a<c.c.c.length;){b=Wv(QJ(c),16);b.k=d++;l.a[b.k]=e++;k=0;for(i=new _7(b.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);h.k=j++;l.e[h.k]=k++}}l.c=new F5(l);l.b=Do(l.d);tcb(l,a);l.f=Do(l.d);ucb(l,a);return l}function Lab(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;h=xv(mw,Yyb,26,b.c.c.length,12,1);j=xv(pB,uyb,132,b.c.c.length,0,1);for(l=a.a,m=0,n=l.length;m<n;++m){k=l[m];p=0;for(g=new _7(k.f);g.a<g.c.c.length;){e=Wv(QJ(g),9);i=e.g;d=rY(e.d);++h[d];o=a.b.a*a.b.d;h[d]>0&&!!j[d]&&(o=xm(a.b,j[d],i));p=nd(p,e.d.c.b+o)}for(f=new _7(k.f);f.a<f.c.c.length;){e=Wv(QJ(f),9);e.i.b=p+e.e.d;c=e.d;c.c.b=p+e.e.d+e.j.b+e.e.a;j[zU(c.b.c,c,0)]=e.g}}}function n$(a){var b,c,d,e,f,g,h,i,j,k;for(i=new _7(a.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);if(h.g!=(CX(),xX)){continue}e=Wv(rJ(h,(Rib(),hib)),32);if(e==(sN(),ZM)||e==rN){for(d=Uh(gX(h));Cm(d);){c=Wv(Dm(d),12);b=c.a;if(b.b==0){continue}j=c.c;if(j.f==h){f=(Pi(b.b!=0),Wv(b.a.a.c,10));f.b=MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b}k=c.d;if(k.f==h){g=(Pi(b.b!=0),Wv(b.c.b.c,10));g.b=MI(Bv(tv(qz,1),Fzb,10,0,[k.f.i,k.i,k.a])).b}}}}}function U9(a,b,c,d){var e,f,g,h,i,j;g=new _9(a,b,c);i=new MJ(d,0);e=false;while(i.b<i.d.Y()){h=(Pi(i.b<i.d.Y()),Wv(i.d.sb(i.c=i.b++),102));if(h==b||h==c){fr(i)}else if(!e&&kc(W9(h.g,h.d[0]).a)>kc(W9(g.g,g.d[0]).a)){Pi(i.b>0);i.a.sb(i.c=--i.b);qm(i,g);e=true}else if(!!h.e&&h.e.Y()>0){f=(!h.e&&(h.e=new GU),h.e).nb(b);j=(!h.e&&(h.e=new GU),h.e).nb(c);if(f||j){(!h.e&&(h.e=new GU),h.e).ib(g);++g.c}}}e||(d.c[d.c.length]=g,true)}function s2(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;if(c.d.f==b.f){return}e=new uX(a);sX(e,(CX(),zX));sJ(e,(Rib(),uib),c);sJ(e,(eM(),TL),(KM(),FM));d.c[d.c.length]=e;g=new RX;PX(g,e);QX(g,(sN(),rN));h=new RX;PX(h,e);QX(h,ZM);i=c.d;eW(c,g);f=new hW;qJ(f,c);sJ(f,CL,null);dW(f,h);eW(f,i);j=Wv(yU(g.b,0),12).c;k=j.f;l=k.g;m=Wv(yU(h.e,0),12).d;n=m.f;o=n.g;l==zX?sJ(e,qib,Wv(rJ(k,qib),7)):sJ(e,qib,j);o==zX?sJ(e,rib,Wv(rJ(n,rib),7)):sJ(e,rib,m)}function $6(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(h=a.b[b],i=a.b[c],(j=Wv(rJ(h,(Rib(),oib)),20),!!j&&j.Y()!=0&&j.kb(i))||(k=h.g!=(CX(),zX)&&i.g!=zX,l=Wv(rJ(h,nib),9),m=Wv(rJ(i,nib),9),n=!!l&&l!=h||!!m&&m!=i,o=l!=m,p=_6(h,(sN(),$M)),q=_6(i,pN),r=n&&o||p||q,k&&r)||h.g==(CX(),BX)&&i.g==AX||i.g==(CX(),BX)&&h.g==AX){return false}g=a.b[b];d=a.b[c];m6(a.c,g,d);G6(a.d,g,d);f=M5(a.a,g,d)+a.c.d+a.d.d;e=M5(a.a,d,g)+a.c.b+a.d.b;return f>e}function v2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;g=b;m=b.d;k=b.c.f;n=b.d.f;l=rY(k.d);o=rY(n.d);for(h=l;h<o;h++){e=new uX(a);sX(e,(CX(),zX));sJ(e,(Rib(),uib),g);sJ(e,(eM(),TL),(KM(),FM));i=Wv(yU(a.c,h+1),16);rX(e,i);p=Wv(rJ(g,dM),15).a;if(p<0){p=0;sJ(g,dM,new X6(p))}e.j.b=p;j=Math.floor(p/2);d=new RX;QX(d,(sN(),rN));PX(d,e);d.i.b=j;f=new RX;QX(f,ZM);PX(f,e);f.i.b=j;eW(g,d);c=new hW;qJ(c,g);sJ(c,CL,null);dW(c,f);eW(c,m);w2(e,g,c);g=c}}function Qeb(a,b){Ieb();if(a==b){return Reb(a)}switch(a.e){case 1:switch(b.e){case 4:return neb;case 1:return meb;case 2:return jeb;case 3:return qeb;}case 2:switch(b.e){case 1:return jeb;case 2:return ieb;case 3:return peb;case 4:return keb;}case 3:switch(b.e){case 2:return peb;case 3:return oeb;case 4:return Heb;case 1:return qeb;}case 4:switch(b.e){case 3:return Heb;case 4:return Geb;case 1:return neb;case 2:return keb;}}return Feb}function s$(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;l=new Qi;e=null;for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);for(i=new _7(f.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);if(h.g!=(CX(),xX)){continue}k=Wv(rJ(h,(Rib(),gib)),9);if(k){r$(k,l);m=new RX;PX(m,h);n=Wv(rJ(h,hib),32);QX(m,n);o=Wv(yU(k.f,0),7);p=new hW;dW(p,m);eW(p,o)}}e=f}for(c=(j=(new e7(l.a)).a.bb().mb(),new r7(j));c.a.G();){b=(d=Wv(c.a.H(),21),Wv(d.yb(),9));rX(b,e)}return l}function RV(a,b,c){var d,e,f,g,h,i,j,k,l;e=new GU;for(j=new _7(b.b);j.a<j.c.c.length;){i=Wv(QJ(j),9);h=Wv(rJ(i,(Rib(),sib)),55);if(h){d=RV(a,h,i);xU(e,d);PV(a,h,i);if(Wv(rJ(h,jib),18).kb((ohb(),hhb))){for(l=new _7(i.f);l.a<l.c.c.length;){k=Wv(QJ(l),7);if(Qq(a.b,k)==null){f=NW(k,(KM(),IM),k.g,-(k.b.c.length-k.e.c.length),k.j,Wv(rJ(h,(eM(),sL)),59),h);sJ(f,uib,k);Wr(a.b,k,f);vU(h.b,f)}}}}}g=new GU;OV(a,b,c,e,g);!!c&&QV(a,b,c,g);return g}function Obb(a){var b,c,d,e,f,g,h,i,j,k,l,m;b=ecb(a);for(k=(h=(new e7(b)).a.bb().mb(),new r7(h));k.a.G();){j=(e=Wv(k.a.H(),21),Wv(e.yb(),9));l=j.e.d;m=j.j.b+j.e.a;a.d[j.k]=0;c=j;while((f=a.a[c.k])!=j){d=gcb(c,f);a.c==(nu(),Ebb)?(i=d.d.i.b+d.d.a.b-d.c.i.b-d.c.a.b):(i=d.c.i.b+d.c.a.b-d.d.i.b-d.d.a.b);g=kc(a.d[c.k])+i;a.d[f.k]=g;l=nd(l,f.e.d-g);m=nd(m,g+f.j.b+f.e.a);c=f}c=j;do{a.d[c.k]=kc(a.d[c.k])+l;c=a.a[c.k]}while(c!=j);a.b[j.k]=l+m}}function Gcb(a,b,c){var d,e,f,g,h,i,j,k;d=a.a.k==(WN(),Kbb)?Uzb:Vzb;h=Hcb(a,new Pg(b,c));if(!h.a&&h.c){QI(a.d,h);return d}else if(h.a){e=h.a.c;i=h.a.d;if(c){j=a.a.c==(nu(),Fbb)?i:e;f=a.a.c==Fbb?e:i;g=a.a.f[f.f.k];k=kc(a.a.n[g.k])+kc(a.a.d[f.f.k])+f.i.b+f.a.b-kc(a.a.d[j.f.k])-j.i.b-j.a.b}else{j=a.a.c==(nu(),Ebb)?i:e;f=a.a.c==Ebb?e:i;k=kc(a.a.n[a.a.f[f.f.k].k])+kc(a.a.d[f.f.k])+f.i.b+f.a.b-kc(a.a.d[j.f.k])-j.i.b-j.a.b}return k}return d}function FY(a){var b,c,d,e,f;sJ(a.g,(Rib(),Thb),Eo(a.g.c));for(b=1;b<a.c.c.length-1;++b){sJ(Wv(yU(a.c,b),9),(eM(),JL),(oM(),gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,fM]))))}for(d=WI(Eo(a.g.c),0);d.b!=d.d.c;){c=Wv(tS(d),33);e=Wv(rJ(a.g,(eM(),JL)),86);if(Xe(e,gp((oM(),kM),Bv(tv(Gz,1),uyb,41,0,[gM,mM]))));else if(Xe(e,gp(kM,Bv(tv(Gz,1),uyb,41,0,[iM,mM])))){vU(a.e.c,c);BU(a.g.c,c);f=new MY(a,c);sJ(a.g,Uhb,f)}else{GY(a,c);vU(a.i,a.d);sJ(a.g,Uhb,EY(a.i))}}}function OW(a,b,c,d){var e,f,g,h,i,j,k;f=PW(d);h=jc(kc(Xv(rJ(d,(Mjb(),xjb)))));if((h||jc(kc(Xv(rJ(a,(eM(),AL))))))&&!MM(Wv(rJ(a,(eM(),TL)),28))){e=vN(f);i=VW(a,c,c==(G$(),bjb)?e:tN(e))}else{i=new RX;PX(i,a);k=i.i;k.a=b.a-a.i.a;k.b=b.b-a.i.b;wI(k,a.j.a,a.j.b);QX(i,KW(i,f));g=Wv(rJ(d,(Rib(),jib)),18);j=i.g;switch(f.e){case 2:case 1:(j==(sN(),$M)||j==pN)&&g.ib((ohb(),lhb));break;case 4:case 3:(j==(sN(),ZM)||j==rN)&&g.ib((ohb(),lhb));}}return i}function G2(a){var b,c,d,e,f,g,h,i;d=Nl(Ao(a.a));e=(b=Wv(Zd(_E),11),new Ln(b,Wv(fq(b,b.length),11),0));while(d.a.G()||d.b.mb().G()){c=Wv(nm(d),12);h=c.c.g;i=c.d.g;if(h==(sN(),qN)){if(i!=qN){g=Reb(i);sJ(c,(Rib(),Mib),g);QX(c.c,i);g_(e,g);d.a.I()}}else{if(i==qN){g=Reb(h);sJ(c,(Rib(),Mib),g);QX(c.d,h);g_(e,g);d.a.I()}else{g=Qeb(h,i);sJ(c,(Rib(),Mib),g);g_(e,g);d.a.I()}}}e.c==1?(f=Wv(MT(new ng(e)),60)):(f=(Ieb(),Feb));aeb(a,f,false);return f}function AI(b,c){var d,e,f,g;f=0;while(f<(Da(),c.length)&&LI(c.charCodeAt(f),fzb)){++f}d=c.length;while(d>0&&LI(c.charCodeAt(d-1),gzb)){--d}if(f>=d){throw new oc('The given string does not contain any numbers.')}g=fmb(c.substr(f,d-f),',|;|\r|\n');if(g.length!=2){throw new oc('Exactly two numbers are expected, '+g.length+' were found.')}try{b.a=clb(hmb(g[0]));b.b=clb(hmb(g[1]))}catch(a){a=OH(a);if(aw(a,130)){e=a;throw new oc(hzb+e)}else throw NH(a)}}function Qdb(a,b,c){var d,e,f,g,h,i,j,k,l;i=c+b.d.c.a;for(l=new _7(b.f);l.a<l.c.c.length;){k=Wv(QJ(l),7);d=MI(Bv(tv(qz,1),Fzb,10,0,[k.f.i,k.i,k.a]));f=new HI(0,d.b);if(k.g==(sN(),ZM)){f.a=i}else if(k.g==rN){f.a=c}else{continue}if(d.a==f.a){continue}e=k.e.c.length+k.b.c.length>1;for(h=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[k.b,k.e]))))));Cm(h);){g=Wv(Dm(h),12);j=g.c==k?g.d:g.c;Le(MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b-f.b)>1&&Odb(a,g,f,e,k)}}}function FR(a,b){var c,d,e,f,g,h;for(g=new rnb((new Y6(a.f.b)).a);g.b;){f=uZ(g);e=Wv(f.yb(),251);if(b==1){if(e.yc()!=(sK(),rK)&&e.yc()!=nK){continue}}else{if(e.yc()!=(sK(),oK)&&e.yc()!=pK){continue}}d=Wv(Wv(f.zb(),27).b,25);h=Wv(Wv(f.zb(),27).a,78);c=h.c;switch(e.yc().e){case 2:d.j.d=a.e.a;d.j.c=nd(1,d.j.c+c);break;case 1:d.j.d=d.j.d+c;d.j.c=nd(1,d.j.c-c);break;case 4:d.j.e=a.e.b;d.j.b=nd(1,d.j.b+c);break;case 3:d.j.e=d.j.e+c;d.j.b=nd(1,d.j.b-c);}}}function bdb(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;m=(mp(),new K9);h=new GU;adb(a,c,a.d.Mc(),h,m);adb(a,d,a.d.Nc(),h,m);i=new MJ(h,0);while(i.b<i.d.Y()){f=(Pi(i.b<i.d.Y()),Wv(i.d.sb(i.c=i.b++),80));j=new MJ(h,i.b);while(j.b<j.d.Y()){g=(Pi(j.b<j.d.Y()),Wv(j.d.sb(j.c=j.b++),80));gdb(f,g,a.a)}}ddb(h,Wv(rJ(b,(Rib(),Gib)),154));idb(h);n=-1;for(l=new _7(h);l.a<l.c.c.length;){k=Wv(QJ(l),80);if(Le(k.k-k.a)<dAb){continue}n=sd(n,k.i);a.d.Kc(k,e)}a.b.a.Q();return n+1}function r3(a,b,c){var d,e;e=new II(b);d=new II(a.j);switch(c.e){case 1:case 8:case 7:uI(e,-d.a/2,-d.b);uI(b,0,-(0.5+d.b));break;case 3:case 4:case 5:uI(e,-d.a/2,0);uI(b,0,0.5+d.b);break;case 0:uI(e,-d.a/2,-d.b);uI(b,0,-(0.5+-d.b));break;case 10:case 2:uI(e,0,-d.b/2);uI(b,0,-(0.5+d.b));break;case 6:uI(e,-d.a,d.b/2);uI(b,0,-(0.5+d.b));break;case 9:uI(e,-d.a/2,0);uI(b,0,-(0.5+d.b));break;case 11:uI(e,-d.a,-d.b/2);uI(b,0,-(0.5+d.b));}vI(BI(a.i),e);return new Cfb(a)}function Gmb(a,b,c,d,e){pn();var f,g,h,i,j,k,l;$q(a,'src');$q(c,'dest');k=tb(a);h=tb(c);No((k.g&4)!=0,'srcType is not an array');No((h.g&4)!=0,'destType is not an array');j=k.c;f=h.c;No((j.g&1)!=0?j==f:(f.g&1)==0,"Array types don't match");l=a.length;i=c.length;if(b<0||d<0||e<0||b+e>l||d+e>i){throw new oa}if(((j.g&1)==0||(j.g&4)!=0)&&k!=h){if(a===c&&b<d){b+=e;for(g=d+e;g-->d;){c[g]=a[--b]}}else{for(g=d+e;d<g;){c[d++]=a[b++]}}}else e>0&&dxb(a,b,c,d,e,true)}function cR(a,b,c){var d,e,f,g,h;d=Wv(rJ(a,(Mjb(),jjb)),18);c.a>b.a&&(d.kb((zgb(),tgb))?(a.d.a+=(c.a-b.a)/2):d.kb(vgb)&&(a.d.a+=c.a-b.a));c.b>b.b&&(d.kb((zgb(),xgb))?(a.d.b+=(c.b-b.b)/2):d.kb(wgb)&&(a.d.b+=c.b-b.b));if(Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))&&(c.a>b.a||c.b>b.b)){for(h=new _7(a.b);h.a<h.c.c.length;){g=Wv(QJ(h),9);if(g.g==(CX(),xX)){e=Wv(rJ(g,hib),32);e==(sN(),ZM)?(g.i.a+=c.a-b.a):e==pN&&(g.i.b+=c.b-b.b)}}}f=a.a;a.e.a=c.a-f.b-f.c;a.e.b=c.b-f.d-f.a}function Ms(a,b,c,d,e,f){var g,h,i;g=b.$b(c,a.b);if(g<0){h=a.e;if(!h){f[0]=0;if(d==0&&e>0){return As(a,c,e)}return a}a.e=Ms(h,b,c,d,e,f);if(f[0]==d){e==0&&f[0]!=0?--a.a:e>0&&f[0]==0&&++a.a;a.j=PH(a.j,e-f[0])}return Gs(a)}else if(g>0){i=a.g;if(!i){f[0]=0;if(d==0&&e>0){return Bs(a,c,e)}return a}a.g=Ms(i,b,c,d,e,f);if(f[0]==d){e==0&&f[0]!=0?--a.a:e>0&&f[0]==0&&++a.a;a.j=PH(a.j,e-f[0])}return Gs(a)}f[0]=a.c;if(d==a.c){if(e==0){return Fs(a)}a.j=PH(a.j,e-a.c);a.c=e}return a}function gfb(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;i=a.e;n=a.f;g=a.d;o=a.c;k=o-1;p=a.g;l=Eo(a.g.xb(1,a.g.Y()-1));j=new GU;for(c=0;c<a.b.Y()-1;c++){h=CI(EI(xI(Wv(a.b.sb(c+1),92).a),Wv(a.b.sb(c),92).a),o/(kc(Yv(p.sb(c+o)))-kc(Yv(p.sb(c)))));j.c[j.c.length]=h}q=new GU;f=WI(l,0);m=new GU;for(b=0;b<k-1;b++){vU(q,Yv(tS(f)))}for(e=new _7(j);e.a<e.c.c.length;){d=Wv(QJ(e),10);vU(q,Yv(tS(f)));vU(m,new Yt(d,q));gV(0,q.c.length);q.c.splice(0,1)}return new ffb(i,n,g,k,l,m)}function fP(a){this.q=new AP;this.p=new AP;this.o=xv(mw,Yyb,26,(sN(),Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN])).length,12,1);this.i=xv(mw,Yyb,26,Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]).length,12,1);this.j=xv(kw,hyb,26,Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]).length,12,1);this.n=xv(kw,hyb,26,Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]).length,12,1);this.g=xv(Hz,uyb,100,Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]).length,0,1);this.c=new vsb(Oz);this.e=a;zd(this.o);zd(this.i);lh(this.n,0)}function _Q(a,b){var c,d,e,f,g,h,i,j,k,l;g=b.i!=null&&!b.b;g||nI(b,'Component Layout',1);c=Wv(rJ(a,(Rib(),Fib)),20);f=1/c.Y();if(jc(kc(Xv(rJ(a,(eM(),rL)))))){l=0;for(k=c.mb();k.G();){j=Wv(k.H(),31);++l;Yd(tb(j));j.sc(a,rI(b,f))}}else{for(k=c.mb();k.G();){j=Wv(k.H(),31);j.sc(a,rI(b,f))}}for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);xU(a.b,d.a);d.a.c=xv(UF,syb,1,0,4,1)}for(i=new _7(a.b);i.a<i.c.c.length;){h=Wv(QJ(i),9);rX(h,null)}a.c.c=xv(UF,syb,1,0,4,1);g||pI(b)}function S9(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(g=new _7(b);g.a<g.c.c.length;){e=Wv(QJ(g),102);e.e=null;e.c=0}h=null;for(f=new _7(b);f.a<f.c.c.length;){e=Wv(QJ(f),102);k=e.d[0];for(m=Wv(rJ(k,(Rib(),oib)),20).mb();m.G();){l=Wv(m.H(),9);(!e.e&&(e.e=new GU),e.e).ib(a.b[l.d.k][l.k]);++a.b[l.d.k][l.k].c}if(k.g==(CX(),AX)){if(h){for(j=An(new Bn(a.c,h),0);j.c;){i=Wv(ko(j),9);for(d=An(new Bn(a.c,k),0);d.c;){c=Wv(ko(d),9);Y9(a.b[i.d.k][i.k]).ib(a.b[c.d.k][c.k]);++a.b[c.d.k][c.k].c}}}h=k}}}function gQ(a,b,c,d){var e,f,g,h,i,j;SP(b);f=Wv(rJ(d,(Rib(),jib)),18);h=(eM(),KL).b;if(h in b.a&&Pu(b,h).ic().a){return}i=new RX;sJ(i,uib,b);PX(i,c);g=Wv(Pu(b,'id'),97);cJ(a.k,g.a,i);Wr(a.n,i,b);_P(b,i);hQ(b,i);dQ(a,b,i,d);QX(i,Wv(rJ(i,WL),32));j=Wv(rJ(c,TL),28);j==(KM(),JM)&&(j=IM);e=Wv(rJ(d,sL),59);e==(sK(),qK)&&(e=pK);RW(i,j,e,Wv(rJ(i,SL),10));switch(e.e){case 2:case 1:(i.g==(sN(),$M)||i.g==pN)&&f.ib((ohb(),lhb));break;case 4:case 3:(i.g==(sN(),ZM)||i.g==rN)&&f.ib((ohb(),lhb));}}function Q5(a,b){var c,d,e,f,g,h,i,j;a.f=b;e=b.c.c.length;a.a=xv(qB,Txb,51,e,0,2);a.d=xv(qB,Txb,51,e,0,2);a.g=xv(qB,Txb,51,e,0,2);g=new MJ(b.c,0);while(g.b<g.d.Y()){d=(Pi(g.b<g.d.Y()),Wv(g.d.sb(g.c=g.b++),16));h=d.a.c.length;f=g.b-1;a.a[f]=xv(qB,Nzb,9,h,0,1);a.d[f]=xv(qB,Nzb,9,h,0,1);a.g[f]=xv(qB,Nzb,9,h,0,1);j=new MJ(d.a,0);c=0;while(j.b<j.d.Y()){i=(Pi(j.b<j.d.Y()),Wv(j.d.sb(j.c=j.b++),9));i.k=c++;a.d[f][j.b-1]=i;a.a[f][j.b-1]=i;a.g[f][j.b-1]=i}}a.b=new _4(a.d);a.e.c&&(a.b.e=true)}function gZ(a){var b,c,d,e,f,g;e=new GU;for(g=new _7(a.c.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);f.g==(sN(),ZM)&&(e.c[e.c.length]=f,true)}if(a.d.a==(sK(),pK)&&!MM(Wv(rJ(a.c,(eM(),TL)),28))){for(d=Uh(mX(a.c));Cm(d);){c=Wv(Dm(d),12);vU(e,c.c)}}sJ(a.c,(Rib(),Whb),new X6(a.c.j.a));sJ(a.c,Vhb,(Xo(),Xo(),wkb));vU(a.b,a.c);b=null;a.e==1?(b=jZ(a,a.c,rY(a.c.d),a.c.j.a)):a.e==0?(b=iZ(a,a.c,rY(a.c.d),a.c.j.a)):a.e==3?(b=kZ(a,a.c,a.c.j.a)):a.e==2&&(b=hZ(a,a.c,a.c.j.a));!!b&&new HY(a.c,a.b,kc(Yv(b.b)))}function Mab(a,b,c){var d,e,f,g,h,i,j,k;e=b.g;jc(kc(Xv(rJ(b,(Rib(),Vhb)))))&&(e=(CX(),wX));if(b.k>=0){return false}else if(!!c.e&&e==(CX(),wX)&&e!=c.e){return false}else{b.k=c.b;vU(c.f,b)}c.e=e;if(e==(CX(),zX)||e==BX||e==wX){for(g=new _7(b.f);g.a<g.c.c.length;){f=Wv(QJ(g),7);for(k=(d=new _7((new lY(f)).a.e),new nY(d));Gj(k.a);){j=Wv(QJ(k.a),12).d;h=j.f;i=h.g;if(b.d!=h.d){if(e==wX){if(i==wX){if(Mab(a,h,c)){return true}}}else{if(i==zX||i==BX){if(Mab(a,h,c)){return true}}}}}}}return true}function K3(a,b){var c,d,e,f,g,h,i,j,k;fJ(a.a,Bv(tv(qz,1),Fzb,10,0,[b.a,b.b]));Ue(a.c,b.e);a.q.d=a.q.d|b.d;a.q.a=a.q.a|b.c;h=vd(a.j.e,b.k);i=nd(a.j.e+a.j.b,b.n);SN(a.j,b.j,h,0,i-h);_p(a.d,b.f);b.f.c.f==b.f.d.f&&wS(a.n,true,true,true,true);g=new Lb;j=new Lb;for(e=(k=(new e7(a.d.a)).a.bb().mb(),new r7(k));e.a.G();){d=(f=Wv(e.a.H(),21),Wv(f.yb(),12));_p(g,d.c);_p(j,d.d)}c=g.a.Y()-j.a.Y();if(c<0){vS(a.n,true,(sK(),oK));vS(a.n,false,pK)}else if(c>0){vS(a.n,false,(sK(),oK));vS(a.n,true,pK)}}function tP(b,c){var d,e,f,g,h,i,j,k,l,m;h=0;while(h<(Da(),c.length)&&yP(c.charCodeAt(h),fzb)){++h}d=c.length;while(d>0&&yP(c.charCodeAt(d-1),gzb)){--d}if(h<d){l=fmb(c.substr(h,d-h),',|;');try{for(j=0,k=l.length;j<k;++j){i=l[j];g=fmb(i,'=');if(g.length!=2){throw new oc('Expecting a list of key-value pairs.')}f=hmb(g[0]);m=clb(hmb(g[1]));qb(f,'top')?(b.d=m):qb(f,'left')?(b.b=m):qb(f,Azb)?(b.a=m):qb(f,'right')&&(b.c=m)}}catch(a){a=OH(a);if(aw(a,130)){e=a;throw new oc(hzb+e)}else throw NH(a)}}}function Ubb(a,b){var c,d,e,f,g,h,i,j,k;k=new aJ;for(h=(j=(new s7(a.c)).a.bb().mb(),new t7(j));h.a.G();){f=(e=Wv(h.a.H(),21),Wv(e.zb(),200));f.b==0&&(TI(k,f,k.c.b,k.c),true)}while(k.b!=0){f=Wv(k.b==0?null:(Pi(k.b!=0),$I(k,k.a.a)),200);for(d=new _7(f.d);d.a<d.c.c.length;){c=Wv(QJ(d),279);b.k==(WN(),Jbb)?(c.b.a=vd(c.b.a,f.a+c.a)):(c.b.a=nd(c.b.a,f.a+c.a));--c.b.b;c.b.b==0&&QI(k,c.b)}}for(g=(i=(new s7(a.c)).a.bb().mb(),new t7(i));g.a.G();){f=(e=Wv(g.a.H(),21),Wv(e.zb(),200));b.g[f.c.k]=f.a}}function yZ(a,b,c){var d,e,f,g;f=a.i;e=MI(Bv(tv(qz,1),Fzb,10,0,[b.i,b.f.i]));d=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a]));g=b.d;switch(b.g.e){case 4:f.a=vd(e.a,d.a)-g.b-a.j.a-c;f.b=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).b+c;break;case 2:f.a=nd(e.a+b.j.a,d.a)+g.c+c;f.b=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).b+c;break;case 1:f.a=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).a+c;f.b=vd(e.b,d.b)-g.d-a.j.b-c;break;case 3:f.a=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).a+c;f.b=nd(e.b+b.j.b,d.b)+g.a+c;}}function zZ(a,b,c){var d,e,f,g;f=a.i;e=MI(Bv(tv(qz,1),Fzb,10,0,[b.i,b.f.i]));d=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a]));g=b.d;switch(b.g.e){case 4:f.a=vd(e.a,d.a)-g.b-a.j.a-c;f.b=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).b-a.j.b-c;break;case 2:f.a=nd(e.a+b.j.a,d.a)+g.c+c;f.b=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).b-a.j.b-c;break;case 1:f.a=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).a+c;f.b=vd(e.b,d.b)-g.d-a.j.b-c;break;case 3:f.a=MI(Bv(tv(qz,1),Fzb,10,0,[b.f.i,b.i,b.a])).a+c;f.b=nd(e.b+b.j.b,d.b)+g.a+c;}}function MQ(a){var b,c;c=Wv(rJ(a,(Rib(),jib)),18);b=XQ(HQ);jc(kc(Xv(rJ(a,(Mjb(),rjb)))))?RQ(b,(d0(),W_)):TQ(b,(d0(),W_));rJ(a,(bK(),aK))!=null&&QQ(b,IQ);switch(Wv(rJ(a,(eM(),sL)),59).e){case 2:PQ(RQ(b,(d0(),L_)),K_);break;case 3:PQ(RQ(b,(d0(),o_)),n_);break;case 4:PQ(RQ(b,(d0(),c0)),b0);}c.kb((ohb(),fhb))&&PQ(RQ(b,(d0(),m_)),l_);gw(rJ(a,Bjb))!==gw((I1(),G1))&&TQ(b,(d0(),P_));gw(rJ(a,Fjb))!==gw((g4(),e4))&&gw(rJ(a,eib))===gw((NK(),JK))&&PQ(b,(d0(),w_));if(c.kb(mhb)){RQ(b,(d0(),T_));TQ(b,S_)}return b}function zhb(){zhb=E;shb=new XR('ONE_SIDED',0,true,false,false);whb=new XR('TWO_SIDED',1,false,false,false);thb=new XR('ONE_SIDED_BEST_OF_UP_OR_DOWN',2,true,true,false);xhb=new XR('TWO_SIDED_BEST_OF_UP_OR_DOWN',3,false,true,false);uhb=new XR('ONE_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES',4,true,true,true);yhb=new XR('TWO_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES',5,false,true,true);vhb=new XR('ONE_SIDED_ORTHOGONAL_HYPEREDGES',6,true,false,true);rhb=new XR('OFF',7,false,false,false)}function LV(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;l=jc(kc(Xv(rJ(b,(Mjb(),yjb)))));m=null;f==(G$(),ajb)&&d.c.f==c?(m=d.c):f==bjb&&d.d.f==c&&(m=d.d);j=g;if(!g||!l||!!m){k=(sN(),qN);m?(k=m.g):MM(Wv(rJ(c,(eM(),TL)),28))&&(k=f==ajb?rN:ZM);i=JV(a,b,c,f,k,d);h=IV((hX(c),d));if(f==ajb){dW(h,Wv(yU(i.f,0),7));eW(h,e)}else{dW(h,e);eW(h,Wv(yU(i.f,0),7))}j=new UV(d,h,i,Wv(rJ(i,(Rib(),uib)),7),f,!m)}else{vU(g.e,d);n=rd(Wv(rJ(g.d,(eM(),dM)),15).a,Wv(rJ(d,dM),15).a);sJ(g.d,dM,new X6(n))}Fd(a.a,d,new XV(j.d,b,f));return j}function T1(a,b,c,d){var e,f,g,h,i,j,k,l;f=new uX(a);sX(f,(CX(),BX));sJ(f,(eM(),TL),(KM(),FM));e=0;if(b){g=new RX;sJ(g,(Rib(),uib),b);sJ(f,uib,b.f);QX(g,(sN(),rN));PX(g,f);l=Wv(FU(b.b,xv(dB,gAb,12,b.b.c.length,0,1)),47);for(j=0,k=l.length;j<k;++j){i=l[j];eW(i,g)}sJ(b,Bib,f);++e}if(c){h=new RX;sJ(f,(Rib(),uib),c.f);sJ(h,uib,c);QX(h,(sN(),ZM));PX(h,f);l=Wv(FU(c.e,xv(dB,gAb,12,c.e.c.length,0,1)),47);for(j=0,k=l.length;j<k;++j){i=l[j];dW(i,h)}sJ(c,Bib,f);++e}sJ(f,(Rib(),aib),Elb(e));d.c[d.c.length]=f;return f}function MV(a,b){var c,d,e,f,g,h,i;for(g=ud(a.a).mb();g.G();){f=Wv(g.H(),12);if(f.b.c.length>0){d=new IU(Wv(Dd(a.a,f),18));JR(d,new $V(b));e=new MJ(f.b,0);while(e.b<e.d.Y()){c=(Pi(e.b<e.d.Y()),Wv(e.d.sb(e.c=e.b++),33));h=-1;switch(Wv(rJ(c,(eM(),tL)),107).e){case 2:h=d.c.length-1;break;case 1:h=d.c.length/2|0;break;case 3:h=0;}if(h!=-1){i=(gV(h,d.c.length),Wv(d.c[h],114));vU(i.b.b,c);Wv(rJ(hX(i.b.c.f),(Rib(),jib)),18).ib((ohb(),ghb));Wv(rJ(hX(i.b.c.f),jib),18).ib(ehb);fr(e);sJ(c,xib,f)}}}dW(f,null);eW(f,null)}}function H7(a){var b,c,d,e,f,g,h,i,j,k,l;k=a.e.a.c.length;for(g=new _7(a.e.a);g.a<g.c.c.length;){f=Wv(QJ(g),61);f.j=false}a.i=xv(mw,Yyb,26,k,12,1);a.g=xv(mw,Yyb,26,k,12,1);a.n=new GU;e=0;l=new GU;for(i=new _7(a.e.a);i.a<i.c.c.length;){h=Wv(QJ(i),61);h.b=e++;h.c.c.length==0&&vU(a.n,h);xU(l,h.g)}b=0;for(d=new _7(l);d.a<d.c.c.length;){c=Wv(QJ(d),89);c.b=b++;c.e=false}j=l.c.length;if(a.b==null||a.b.length<j){a.b=xv(kw,hyb,26,j,12,1);a.c=xv(KH,xAb,26,j,13,1)}else{Bd(a.c)}a.d=l;a.p=new Ek(op(a.d.c.length));a.j=1}function z0(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;p=a.d;q=b.d;n=Wv(oX(a,(G$(),ajb)).mb().H(),7);t=Wv(oX(a,bjb).mb().H(),7);o=Wv(oX(b,ajb).mb().H(),7);u=Wv(oX(b,bjb).mb().H(),7);l=Wv(FU(n.b,xv(dB,gAb,12,1,0,1)),47);r=Wv(FU(t.e,xv(dB,gAb,12,1,0,1)),47);m=Wv(FU(o.b,xv(dB,gAb,12,1,0,1)),47);s=Wv(FU(u.e,xv(dB,gAb,12,1,0,1)),47);rX(a,q);for(e=0,i=m.length;e<i;++e){c=m[e];eW(c,n)}for(f=0,j=s.length;f<j;++f){c=s[f];dW(c,t)}rX(b,p);for(g=0,k=l.length;g<k;++g){c=l[g];eW(c,o)}for(d=0,h=r.length;d<h;++d){c=r[d];dW(c,u)}}function gR(a){var b,c,d,e,f,g,h,i;for(f=new _7(a.a.b);f.a<f.c.c.length;){e=Wv(QJ(f),25);e.vc()}i=new HI(Uzb,Uzb);b=new HI(Vzb,Vzb);for(d=new _7(a.a.b);d.a<d.c.c.length;){c=Wv(QJ(d),25);i.a=vd(i.a,c.j.d);i.b=vd(i.b,c.j.e);b.a=nd(b.a,c.j.d+c.j.c);b.b=nd(b.b,c.j.e+c.j.b)}for(h=Jd(a.c).mb();h.G();){g=Wv(h.H(),27);c=Wv(g.b,25);i.a=vd(i.a,c.j.d);i.b=vd(i.b,c.j.e);b.a=nd(b.a,c.j.d+c.j.c);b.b=nd(b.b,c.j.e+c.j.b)}a.d=zI(new HI(i.a,i.b));a.e=EI(new HI(b.a,b.b),i);a.a.a.c=xv(UF,syb,1,0,4,1);a.a.b.c=xv(UF,syb,1,0,4,1)}function P$(a){var b,c,d,e,f,g,h;h=Wv(yU(a.f,0),7);if(h.e.c.length!=0&&h.b.c.length!=0){throw new Qc('Interactive layout does not support NORTH/SOUTH ports with incoming _and_ outgoing edges.')}if(h.e.c.length!=0){f=Uzb;for(c=new _7(h.e);c.a<c.c.c.length;){b=Wv(QJ(c),12);g=b.d.f;d=Wv(rJ(g,(eM(),GL)),65);f=vd(f,g.i.a-d.b)}return new $c(_b(f))}if(h.b.c.length!=0){e=Vzb;for(c=new _7(h.b);c.a<c.c.c.length;){b=Wv(QJ(c),12);g=b.c.f;d=Wv(rJ(g,(eM(),GL)),65);e=nd(e,g.i.a+g.j.a+d.c)}return new $c(_b(e))}return zb(),zb(),yb}function JV(a,b,c,d,e,f){var g,h,i,j,k,l,m;j=d==(G$(),ajb)?f.c:f.d;i=PW(b);if(j.f==c){g=Wv(Qq(a.b,j),9);if(!g){g=NW(j,Wv(rJ(c,(eM(),TL)),28),e,d==ajb?-1:1,j.j,i,b);sJ(g,(Rib(),uib),j);Wr(a.b,j,g)}}else{k=Wv(rJ(f,(eM(),dM)),15).a;g=NW((l=new tJ,m=Wv(rJ(b,(Rib(),Jib)),15).a*Wv(rJ(b,(Mjb(),qjb)),15).a/2,sJ(l,tib,new X6(m)),l),Wv(rJ(c,TL),28),e,d==ajb?-1:1,new HI(k,k),i,b);h=KV(a,g,c,d);sJ(g,uib,h);Wr(a.b,h,g)}Wv(rJ(b,(Rib(),jib)),18).ib((ohb(),hhb));MM(Wv(rJ(b,(eM(),TL)),28))?sJ(b,TL,(KM(),HM)):sJ(b,TL,(KM(),IM));return g}function Iab(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A;d=Wv(rJ(b,(Mjb(),wjb)),15).a;v=Wv(rJ(b,Kjb),24).a;m=4;e=3;w=20/v;n=false;i=0;g=$xb;do{f=i!=1;l=i!=0;A=0;for(q=a.a,s=0,u=q.length;s<u;++s){o=q[s];o.g=null;Jab(a,o,f,l,d);A+=Le(o.a)}do{h=Nab(a,b)}while(h);for(p=a.a,r=0,t=p.length;r<t;++r){o=p[r];c=Gp(o).a;if(c!=0){for(k=new _7(o.f);k.a<k.c.c.length;){j=Wv(QJ(k),9);j.i.b+=c}}}if(i==0||i==1){--m;if(m<=0&&(A<g||-m>v)){i=2;g=$xb}else if(i==0){i=1;g=A}else{i=0;g=A}}else{n=A>=g||g-A<w;g=A;n&&--e}}while(!(n&&e<=0))}function vZ(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;l=Wv(FU(a.f,xv(BB,mAb,7,a.f.c.length,0,1)),346);for(j=0,k=l.length;j<k;++j){i=l[j];if(c!=(G$(),ajb)){h=Wv(FU(i.e,xv(dB,gAb,12,i.e.c.length,0,1)),47);for(e=0,f=h.length;e<f;++e){d=h[e];n=Wv(rJ(d.d.f,(Mjb(),vjb)),85);!jc(kc(Xv(rJ(d,(Rib(),Iib)))))&&!(b==(Xib(),Uib)&&n==Vib)&&cW(d,true)}}if(c!=bjb){g=Wv(FU(i.b,xv(dB,gAb,12,i.b.c.length,0,1)),47);for(e=0,f=g.length;e<f;++e){d=g[e];m=Wv(rJ(d.c.f,(Mjb(),vjb)),85);!jc(kc(Xv(rJ(d,(Rib(),Iib)))))&&!(b==(Xib(),Sib)&&m==Tib)&&cW(d,true)}}}}function RW(a,b,c,d){var e,f,g,h,i;g=a.g;if(g==(sN(),qN)&&b!=(KM(),IM)&&b!=(KM(),JM)){g=KW(a,c);QX(a,g);rJ(a,(eM(),LL))==null&&g!=qN&&(a.i.a!=0||a.i.b!=0)&&sJ(a,LL,new X6(JW(a,g)))}if(b==(KM(),GM)){i=0;switch(g.e){case 1:case 3:f=a.f.j.a;f>0&&(i=a.i.a/f);break;case 2:case 4:e=a.f.j.b;e>0&&(i=a.i.b/e);}sJ(a,(Rib(),Cib),i)}h=a.j;if(d){a.a.a=d.a;a.a.b=d.b}else if(b!=IM&&b!=JM&&g!=qN){switch(g.e){case 1:a.a.a=h.a/2;break;case 2:a.a.a=h.a;a.a.b=h.b/2;break;case 3:a.a.a=h.a/2;a.a.b=h.b;break;case 4:a.a.b=h.b/2;}}else{a.a.a=h.a/2;a.a.b=h.b/2}}function zJ(a){var b,c,d,e;if(aw(a.a,10)){return xI(Wv(a.a,10))}else if(aw(a.a,66)){return _V(Wv(a.a,86))}else if(aw(a.a,50)){return Wv(a.a,50).Wc()}else if(aw(a.a,191)){b=new Ob;e=(d=new Mm((new Gk((new v7(Wv(a.a,191).a)).a)).b),new w7(d));while(ag(e.a.a)){sq(b,(c=Vk(e.a),c.yb()))}return b}else if(aw(a.a,13)){return new IU(Wv(a.a,13))}else if(aw(a.a,44)){b=new jJ;e=WI(Wv(a.a,44),0);while(e.b!=e.d.c){QI(b,Wv(tS(e),10))}return b}else if(aw(a.a,58)){b=new aJ;e=WI(Wv(a.a,58),0);while(e.b!=e.d.c){QI(b,tS(e))}return b}else{return a.a}}function o1(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;h=0;o=0;i=Xob(a.f,a.f.length);f=a.d;g=a.i;d=a.a;e=a.b;do{n=0;for(k=new _7(a.p);k.a<k.c.c.length;){j=Wv(QJ(k),9);m=n1(a,j);c=true;(a.q==(I1(),B1)||a.q==E1)&&(c=jc(kc(Xv(m.b))));if(Wv(m.a,24).a<0&&c){++n;i=Xob(a.f,a.f.length);a.d=a.d+Wv(m.a,24).a;o+=f-a.d;f=a.d+Wv(m.a,24).a;g=a.i;d=Ao(a.a);e=Ao(a.b)}else{a.f=Xob(i,i.length);a.d=f;a.a=(_b(d),d?new IU((Oh(),d)):Bo(new _7(null)));a.b=(_b(e),e?new IU((Oh(),e)):Bo(new _7(null)));a.i=g}}++h;l=n!=0&&jc(kc(Xv(b.B(new RJ(Elb(o),Elb(h))))))}while(l)}function yO(a,b,c,d){var e,f,g,h,i,j,k;if(!Gj(new _7(zW(a)))){return d}k=wO(Wv(oW(a,(eM(),JL)),86));for(i=new _7(zW(a));i.a<i.c.c.length;){h=Wv(QJ(i),129);j=wO(Wv(oW(h,JL),86));j==(uO(),tO)&&(j=k);qW(h,j.e);e=zO(c,j);e.c=nd(e.c,h.e.j.a);e.b+=h.e.j.b+b}for(g=new Vo((new L8(c)).a);Ij(g.a);){f=(g.b=MT(g.a),new nh(g.c,g.b));e=Wv(f.b.b[f.a.e],62);e.b-=b;switch(Wv(f.a,67).e){case 12:case 13:case 14:d.d=nd(d.d,e.b+b);break;case 15:d.b=nd(d.b,e.c+b);break;case 17:d.c=nd(d.c,e.c+b);break;case 18:case 19:case 20:d.a=nd(d.a,e.b+b);}}return d}function mgb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;dV(this);c==(ou(),dgb)?_p(this.g,a):_p(this.o,a);n=rAb;m=4.9E-324;for(j=(g=(new e7(b.a)).a.bb().mb(),new r7(g));j.a.G();){h=(e=Wv(j.a.H(),21),Wv(e.yb(),27));k=Wv(h.a,223);d=Wv(h.b,12);l=d.c;l==a&&(l=d.d);k==dgb?_p(this.g,l):_p(this.o,l);p=MI(Bv(tv(qz,1),Fzb,10,0,[l.f.i,l.i,l.a])).b;n=n<p?n:p;m=m>p?m:p}o=MI(Bv(tv(qz,1),Fzb,10,0,[a.f.i,a.i,a.a])).b;kgb(this,o,n,m);for(i=(f=(new e7(b.a)).a.bb().mb(),new r7(f));i.a.G();){h=(e=Wv(i.a.H(),21),Wv(e.yb(),27));_p(this.c,Wv(h.b,12))}this.f=false}function cQ(a,b,c,d){var e,f,g,h,i,j;h=(eM(),KL).b;if(h in b.a&&Pu(b,h).ic().a){return}j=Pu(b,Dzb);if(!j){throw new GQ("Labels must have a property 'text'.",null,b)}else if(!j.lc()){throw new GQ("A label's 'text' property must be a string.",j,b)}i=j.lc().a;f=new dX(i);sJ(f,(Rib(),uib),b);Wr(a.f,f,b);_P(b,f);hQ(b,f);aw(c,9)?vU(Wv(c,9).c,f):aw(c,12)?vU(Wv(c,12).b,f):aw(c,7)&&vU(Wv(c,7).c,f);if(aw(c,12)){g=Wv(rJ(f,tL),107);_P(b,f);sJ(f,tL,g);e=Wv(rJ(d,jib),18);switch(g.e){case 2:case 3:e.ib((ohb(),ghb));case 1:case 0:e.ib((ohb(),ehb));sJ(f,tL,(EK(),AK));}}}function UW(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;f=0;g=0;for(j=new _7(a.a);j.a<j.c.c.length;){h=Wv(QJ(j),9);f=nd(f,h.e.b);g=nd(g,h.e.c)}for(i=new _7(a.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);c=Wv(rJ(h,(eM(),lL)),103);switch(c.e){case 1:o=0;break;case 2:o=1;break;case 5:o=0.5;break;default:d=0;l=0;for(n=new _7(h.f);n.a<n.c.c.length;){m=Wv(QJ(n),7);m.b.c.length==0||++d;m.e.c.length==0||++l}d+l==0?(o=0.5):(o=l/(d+l));}q=a.c;k=h.j.a;r=(q.a-k)*o;o>0.5?(r-=g*2*(o-0.5)):o<0.5&&(r+=f*2*(0.5-o));e=h.e.b;r<e&&(r=e);p=h.e.c;r>q.a-p-k&&(r=q.a-p-k);h.i.a=b+r}}function Kv(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G;c=a.l&8191;d=a.l>>13|(a.m&15)<<9;e=a.m>>4&8191;f=a.m>>17|(a.h&255)<<5;g=(a.h&1048320)>>8;h=b.l&8191;i=b.l>>13|(b.m&15)<<9;j=b.m>>4&8191;k=b.m>>17|(b.h&255)<<5;l=(b.h&1048320)>>8;B=c*h;C=d*h;D=e*h;F=f*h;G=g*h;if(i!=0){C+=c*i;D+=d*i;F+=e*i;G+=f*i}if(j!=0){D+=c*j;F+=d*j;G+=e*j}if(k!=0){F+=c*k;G+=d*k}l!=0&&(G+=c*l);n=B&azb;o=(C&511)<<13;m=n+o;q=B>>22;r=C>>9;s=(D&262143)<<4;t=(F&31)<<17;p=q+r+s+t;v=D>>18;w=F>>5;A=(G&4095)<<8;u=v+w+A;p+=m>>22;m&=azb;u+=p>>22;p&=azb;u&=bzb;return Ev(m,p,u)}function jZ(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;q=a.d.c.c.c.length;if(c>=q-1){return null}e=new GU;e.c[e.c.length]=b;u=b;g=c;o=-1;h=Wv(yU(a.d.c.c,c),16);for(n=0;n<h.a.c.length;++n){r=Wv(yU(h.a,n),9);if(r==b){o=n;break}}p=eZ(a,1,o,c,q,a.a);if(!p){return null}v=a.a;m=0;f=0;while(!!u&&v>1&&g<q-1){k=fZ(a,u);l=Wv(yU(a.d.c.c,g+1),16);w=Wv(p.sb(m++),24).a;s=xd(w,l.a.c.length);qX(k,s,l);!!u&&(e.c[e.c.length]=u,true);u=k;--v;++f;++g}t=(d-(e.c.length-1)*a.d.d)/e.c.length;for(j=new _7(e);j.a<j.c.c.length;){i=Wv(QJ(j),9);i.j.a=t}return new RJ(Elb(f),t)}function iZ(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(c<=0){return null}e=new GU;e.c[e.c.length]=b;u=b;g=c;o=-1;h=Wv(yU(a.d.c.c,c),16);for(n=0;n<h.a.c.length;++n){q=Wv(yU(h.a,n),9);if(q==b){o=n;break}}p=eZ(a,0,o,c,a.d.c.c.c.length,a.a);if(!p){return null}v=a.a;m=0;f=0;t=o;while(!!u&&v>1&&g>1){k=fZ(a,u);h=Wv(yU(a.d.c.c,g),16);l=Wv(yU(a.d.c.c,g-1),16);w=Wv(p.sb(m++),24).a;r=xd(w,l.a.c.length);qX(u,r,l);qX(k,t,h);t=r;!!u&&(e.c[e.c.length]=u,true);u=k;--v;++f;--g}s=(d-(e.c.length-1)*a.d.d)/e.c.length;for(j=new _7(e);j.a<j.c.c.length;){i=Wv(QJ(j),9);i.j.a=s}return new RJ(Elb(f),s)}function sV(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;a.b=a.c;o=Xv(rJ(b,(eM(),_L)));n=o==null||jc((So(o),o));f=Wv(rJ(b,(Rib(),jib)),18).kb((ohb(),hhb));e=Wv(rJ(b,TL),28);c=!(e==(KM(),EM)||e==GM||e==FM);if(n&&(c||!f)){for(l=new _7(b.b);l.a<l.c.c.length;){j=Wv(QJ(l),9);j.k=0}m=new GU;for(k=new _7(b.b);k.a<k.c.c.length;){j=Wv(QJ(k),9);d=rV(a,j,null);if(d){i=new kW;qJ(i,b);sJ(i,fib,Wv(d.b,18));YW(i.a,b.a);for(h=Wv(d.a,20).mb();h.G();){g=Wv(h.H(),9);vU(i.b,g);g.a=i}m.ib(i)}}f&&(a.b=a.a)}else{m=new h8(Bv(tv(mB,1),{38:1,39:1,42:1,3:1,8:1,5:1,6:1},55,0,[b]))}return m}function T4(a){var b,c,d,e,f,g,h,i,j;for(c=new _7(a.a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);for(g=b.i.mb();g.G();){f=Wv(g.H(),25);if(b.f==f.f){continue}tK(a.a.d)?(i=a.a.g.tc(b,f)):(i=a.a.g.uc(b,f));d=b.g.a+b.j.c+i-f.g.a;d=Math.ceil(d);d=0>d?0:d;if(!!b.o&&!!f.o&&aw(b,82)&&aw(f,82)&&!sr(or(Wv(b,82).d,Wv(f,82).d))){e=x7(new A7,a.d);h=hw(hh(f.g.a-b.g.a));f7(i7(h7(j7(g7(new k7,0>h?0:h),1),e),a.c[b.f.d]));f7(i7(h7(j7(g7(new k7,0>-h?0:-h),1),e),a.c[f.f.d]))}else{j=1;(aw(b,82)&&aw(f,93)||aw(f,82)&&aw(b,93))&&(j=2);f7(i7(h7(j7(g7(new k7,hw(d)),j),a.c[b.f.d]),a.c[f.f.d]))}}}}function tQ(){tQ=E;sQ=new Lb;rQ=uQ(Bv(tv(rz,1),syb,79,0,[(eM(),kL),xL]));oQ=uQ(Bv(tv(rz,1),syb,79,0,[ML,UL,(Mjb(),Hjb),yL,(Rib(),Eib),Kjb,Cjb]));kQ=uQ(Bv(tv(rz,1),syb,79,0,[mL,qL,KL,wL,BL,EL,FL,$L,_L,AL,gjb,mjb,njb,xjb,rjb,yjb,Ijb,Djb,ijb]));nQ=uQ(Bv(tv(rz,1),syb,79,0,[IL,HL,DL,dM,LL,Dib,Xhb,Rhb,Jib,Ejb,qjb,wjb]));mQ=uQ(Bv(tv(rz,1),syb,79,0,[WL,lL,sL,uL,tL,vL,zL,NL,OL,PL,QL,RL,TL,VL,hjb,ljb,zjb,ojb,kjb,Ajb,Bjb,sjb,tjb,vjb,Fjb,Gjb,Jjb,Ljb,ujb]));lQ=uQ(Bv(tv(rz,1),syb,79,0,[JL,aM,bM,jjb]));qQ=uQ(Bv(tv(rz,1),syb,79,0,[jL,oL,CL,GL,SL,YL]));pQ=uQ(Bv(tv(rz,1),syb,79,0,[(RP(),OP)]))}function AR(a){var b,c,d,e,f,g,h;b=0;for(f=new _7(a.b.a);f.a<f.c.c.length;){d=Wv(QJ(f),78);d.b=0;d.c=0}zR(a,0);yR(a,a.g);fS(a.c);jS(a.c);c=(sK(),oK);hS(bS(gS(hS(bS(gS(hS(gS(a.c,c)),vK(c)))),c)));gS(a.c,oK);DR(a,a.g);ER(a,0);FR(a,0);GR(a,1);zR(a,1);yR(a,a.d);fS(a.c);for(g=new _7(a.b.a);g.a<g.c.c.length;){d=Wv(QJ(g),78);b+=Le(d.c)}for(h=new _7(a.b.a);h.a<h.c.c.length;){d=Wv(QJ(h),78);d.b=0;d.c=0}c=rK;hS(bS(gS(hS(bS(gS(hS(jS(gS(a.c,c))),vK(c)))),c)));gS(a.c,oK);DR(a,a.d);ER(a,1);FR(a,1);GR(a,0);jS(a.c);for(e=new _7(a.b.a);e.a<e.c.c.length;){d=Wv(QJ(e),78);b+=Le(d.c)}return b}function BR(a){var b,c,d,e,f,g,h;b=new GU;a.g=new GU;a.d=new GU;for(g=new rnb((new Y6(a.f.b)).a);g.b;){f=uZ(g);vU(b,Wv(Wv(f.zb(),27).b,25));tK(Wv(f.yb(),251).yc())?vU(a.d,Wv(f.zb(),27)):vU(a.g,Wv(f.zb(),27))}yR(a,a.d);yR(a,a.g);a.c=new rS(a.b);pS(a.c,(fR(),eR));DR(a,a.d);DR(a,a.g);xU(b,a.c.a.b);a.e=new HI(Uzb,Uzb);a.a=new HI(Vzb,Vzb);for(d=new _7(b);d.a<d.c.c.length;){c=Wv(QJ(d),25);a.e.a=vd(a.e.a,c.j.d);a.e.b=vd(a.e.b,c.j.e);a.a.a=nd(a.a.a,c.j.d+c.j.c);a.a.b=nd(a.a.b,c.j.e+c.j.b)}oS(a.c,new IR);h=0;do{e=AR(a);++h}while((h<2||e>$yb)&&h<10);oS(a.c,new KR);AR(a);iS(a.c);gR(a.f)}function tT(a){oT();var b,c,d,e,f,g,h;h=new qT;for(c=new _7(a);c.a<c.c.c.length;){b=Wv(QJ(c),48);(!h.b||b.c>=h.b.c)&&(h.b=b);if(!h.c||b.c<=h.c.c){h.d=h.c;h.c=b}(!h.e||b.d>=h.e.d)&&(h.e=b);(!h.f||b.d<=h.f.d)&&(h.f=b)}d=new xT((cT(),$S));RT(a,mT,new h8(Bv(tv(JA,1),syb,160,0,[d])));g=new xT(bT);RT(a,lT,new h8(Bv(tv(JA,1),syb,160,0,[g])));e=new xT(_S);RT(a,kT,new h8(Bv(tv(JA,1),syb,160,0,[e])));f=new xT(aT);RT(a,jT,new h8(Bv(tv(JA,1),syb,160,0,[f])));rT(d.c,$S);rT(e.c,_S);rT(f.c,aT);rT(g.c,bT);h.a.c=xv(UF,syb,1,0,4,1);xU(h.a,d.c);xU(h.a,Fo(e.c));xU(h.a,f.c);xU(h.a,Fo(g.c));return h}function $O(a){var b,c,d,e,f,g,h,i,j,k;e=Wv(vW(a,(eM(),DL)),15).a;for(h=new _7(uW(a));h.a<h.c.c.length;){g=Wv(QJ(h),626);c=new fP(g);c.d=e;c.k=Wv(oW(g,XL),15).a;d=Wv(oW(g,VL),149);b=jc(kc(Xv(rJ(Wv(g.e,9),(Rib(),$hb)))));for(k=new _7(AW(g));k.a<k.c.c.length;){j=Wv(QJ(k),161);d==(UM(),SM)?XO(j,b,e):d==TM&&YO(j,e);JO(j)}LO(c,Wv(oW(g,aM),86).kb((DN(),CN)));NO(c);yO(c.e,c.d,c.c,c.p);_O(c);ZO(c);VO(c);i=new CP((f=Wv(g.e,9).b,new BP(f.d,f.b,f.a,f.c)));i.b=c.p.b+c.q.b;i.c=c.p.c+c.q.c;i.d=c.p.d+c.q.d;i.a=c.p.a+c.q.a;Wv(g.e,9).b.b=i.b;Wv(g.e,9).b.d=i.d;Wv(g.e,9).b.c=i.c;Wv(g.e,9).b.a=i.a}}function c1(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;i=Wv(nX(a,(sN(),rN)).mb().H(),7).b;n=Wv(nX(a,ZM).mb().H(),7).e;h=i.c.length;t=MX(Wv(yU(a.f,0),7));while(h-->0){p=(gV(0,i.c.length),Wv(i.c[0],12));e=(gV(0,n.c.length),Wv(n.c[0],12));s=e.d.b;f=zU(s,e,0);fW(p,e.d,f);dW(e,null);eW(e,null);o=p.a;b&&QI(o,new II(t));for(d=WI(e.a,0);d.b!=d.d.c;){c=Wv(tS(d),10);QI(o,new II(c))}r=p.b;for(m=new _7(e.b);m.a<m.c.c.length;){l=Wv(QJ(m),33);r.c[r.c.length]=l}q=Wv(rJ(p,(eM(),CL)),44);g=Wv(rJ(e,CL),44);if(g){if(!q){q=new jJ;sJ(p,CL,q)}for(k=WI(g,0);k.b!=k.d.c;){j=Wv(tS(k),10);QI(q,new II(j))}}}}function XO(a,b,c){var d,e,f,g,h;f=Li(DW(a));if(f.Nb().V()){return}h=0;switch(Wv(a.e,7).g.e){case 4:case 2:h=b&&jc(kc(Xv(rJ(Wv(a.e,7),(Rib(),lib)))))?a.e.j.b:(a.e.j.b-Wv(f.Nb().sb(0),129).pc().b)/2-c;break;case 1:h=a.e.j.b;break;case 3:h=0;}Wv(a.e,7).g==(sN(),pN)&&Ii(f);for(e=new _7(DW(a));e.a<e.c.c.length;){d=Wv(QJ(e),129);g=new II(a.e.i);switch(Wv(a.e,7).g.e){case 4:g.a=a.e.j.a+c;g.b=h+c;h+=c+d.e.j.b;break;case 2:g.a=-d.e.j.a-c;g.b=h+c;h+=c+d.e.j.b;break;case 1:g.a=(a.e.j.a-d.e.j.a)/2;g.b=h+c;h+=c+d.e.j.b;break;case 3:g.a=(a.e.j.a-d.e.j.a)/2;g.b=h-c-d.e.j.b;h-=c+d.e.j.b;}d.e.i.a=g.a;d.e.i.b=g.b}}function jR(a,b){var c,d,e,f,g,h,i,j,k,l;a.a=new NR(Tsb(Bz));for(d=new _7(b.a);d.a<d.c.c.length;){c=Wv(QJ(d),347);h=new QR(Bv(tv(kA,1),syb,25,0,[]));vU(a.a.a,h);for(j=new _7(c.d);j.a<j.c.c.length;){i=Wv(QJ(j),62);k=new pR(a,i);iR(k,Wv(rJ(c.c,(Rib(),fib)),18));if(!bX(a.g,c)){Wr(a.g,c,new HI(i.d,i.e));Wr(a.f,c,k)}vU(a.a.b,k);OR(h,k)}for(g=new _7(c.b);g.a<g.c.c.length;){f=Wv(QJ(g),251);k=new pR(a,f.Bc());Wr(a.b,f,new RJ(h,k));iR(k,Wv(rJ(c.c,(Rib(),fib)),18));if(f.zc()){l=new qR(a,f.zc(),1);iR(l,Wv(rJ(c.c,fib),18));e=new QR(Bv(tv(kA,1),syb,25,0,[]));OR(e,l);Fd(a.c,f.yc(),new RJ(h,l))}}}return a.a}function ccb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;p=b.c.c.length;if(p<3){return}n=xv(mw,Yyb,26,p,12,1);l=0;for(k=new _7(b.c);k.a<k.c.c.length;){j=Wv(QJ(k),16);n[l++]=j.a.c.length}m=new MJ(b.c,2);for(d=1;d<p-1;d++){c=(Pi(m.b<m.d.Y()),Wv(m.d.sb(m.c=m.b++),16));o=new _7(c.a);f=0;h=0;for(i=0;i<n[d+1];i++){t=Wv(QJ(o),9);if(i==n[d+1]-1||bcb(a,t,d+1,d)){g=n[d]-1;bcb(a,t,d+1,d)&&(g=a.d.e[Wv(Wv(Wv(yU(a.d.b,t.k),20).sb(0),27).a,9).k]);while(h<=i){s=Wv(yU(c.a,h),9);if(!bcb(a,s,d+1,d)){for(r=Wv(yU(a.d.b,s.k),20).mb();r.G();){q=Wv(r.H(),27);e=a.d.e[Wv(q.a,9).k];(e<f||e>g)&&_p(a.c,Wv(q.b,12))}}++h}f=g}}}}function _9(a,b,c){var d,e,f,g,h,i;this.g=a;h=b.d.length;i=c.d.length;this.d=xv(qB,Nzb,9,h+i,0,1);for(g=0;g<h;g++){this.d[g]=b.d[g]}for(f=0;f<i;f++){this.d[h+f]=c.d[f]}if(b.e){this.e=Eo(b.e);this.e.nb(c);if(c.e){for(e=c.e.mb();e.G();){d=Wv(e.H(),102);if(d==b){continue}else this.e.kb(d)?--d.c:this.e.ib(d)}}}else if(c.e){this.e=Eo(c.e);this.e.nb(b)}this.f=b.f+c.f;this.a=b.a+c.a;this.a>0?Z9(this,this.f/this.a):W9(b.g,b.d[0]).a!=null&&W9(c.g,c.d[0]).a!=null?Z9(this,(kc(W9(b.g,b.d[0]).a)+kc(W9(c.g,c.d[0]).a))/2):W9(b.g,b.d[0]).a!=null?Z9(this,W9(b.g,b.d[0]).a):W9(c.g,c.d[0]).a!=null&&Z9(this,W9(c.g,c.d[0]).a)}function x9(a,b){var c,d,e,f,g,h,i,j,k,l,m;switch(a.g.e){case 1:d=Wv(rJ(a,(Rib(),uib)),12);c=Wv(rJ(d,vib),44);!c?(c=new jJ):jc(kc(Xv(rJ(d,Iib))))&&(c=lJ(c));j=Wv(rJ(a,qib),7);k=MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a]));if(b<=k.a){return k.b}TI(c,k,c.a,c.a.a);l=Wv(rJ(a,rib),7);m=MI(Bv(tv(qz,1),Fzb,10,0,[l.f.i,l.i,l.a]));if(m.a<=b){return m.b}TI(c,m,c.c.b,c.c);i=WI(c,0);g=Wv(tS(i),10);h=Wv(tS(i),10);while(h.a<b&&i.b!=i.d.c){g=h;h=Wv(tS(i),10)}return g.b+(b-g.a)/(h.a-g.a)*(h.b-g.b);case 3:f=Wv(rJ(Wv(yU(a.f,0),7),(Rib(),uib)),7);e=f.f;switch(f.g.e){case 1:return e.i.b;case 3:return e.i.b+e.j.b;}}return kX(a).b}function KP(a){var b,c,d,e,f,g,h,i,j,k,l,m;k=gw(rJ(a.c.f,(Rib(),sib)))===gw(rJ(a.d.f,sib));g=new FI;c=Wv(rJ(a,(eM(),oL)),44);if(!!c&&c.b>=2){_I(a.a);d=0;for(m=WI(c,0);m.b!=m.d.c;){l=Wv(tS(m),10);if(d==0){b=EI(EI(new HI(l.a,l.b),a.c.i),a.c.f.i);a.c.a.a=b.a;a.c.a.b=b.b}else if(d==c.b-1){b=EI(EI(new HI(l.a,l.b),a.d.i),a.d.f.i);a.d.a.a=b.a;a.d.a.b=b.b}else{QI(a.a,l)}++d}}if(k){for(i=WI(a.a,0);i.b!=i.d.c;){h=Wv(tS(i),10);g.a=nd(g.a,h.a);g.b=nd(g.b,h.b)}}for(f=new _7(a.b);f.a<f.c.c.length;){e=Wv(QJ(f),33);j=Wv(rJ(e,YL),10);if(j){e.i.a=j.a;e.i.b=j.b}if(k){g.a=nd(g.a,e.i.a+e.j.a);g.b=nd(g.b,e.i.b+e.j.b)}}return g}function eQ(a,b,c){var d,e,f,g,h,i,j;SP(b);d=Wv(rJ(c,(Rib(),jib)),18);g=new uX(c);sJ(g,uib,b);vU(c.b,g);f=Wv(Pu(b,'id'),97);cJ(a.i,f.a,g);Wr(a.j,g,b);_P(b,g);hQ(b,g);if('ports'in b.a){j=Pu(b,'ports');if(!j.hc()){throw new GQ("The 'ports' property of the node must be an array.",j,b)}i=j.hc();for(e=0;e<i.a.length;++e){aw(gu(i,e),69)&&gQ(a,Wv(gu(i,e),69),g,c)}}dQ(a,b,g,c);Mzb in b.a&&Pu(b,Mzb).hc().a.length>0&&sJ(g,$hb,(Xo(),Xo(),wkb));h=Wv(rJ(g,(eM(),TL)),28);h==(KM(),JM)?IM:h!=IM&&d.ib((ohb(),khb));jc(kc(Xv(rJ(g,qL))))&&d.ib((ohb(),fhb));if(jc(kc(Xv(rJ(g,AL))))){d.ib((ohb(),jhb));d.ib(ihb);sJ(g,TL,IM)}return g}function iR(a,b){b.V()&&wS(a.n,true,true,true,true);b.t((sN(),eN))&&wS(a.n,true,true,true,false);b.t(_M)&&wS(a.n,false,true,true,true);b.t(mN)&&wS(a.n,true,true,false,true);b.t(oN)&&wS(a.n,true,false,true,true);b.t(fN)&&wS(a.n,false,true,true,false);b.t(aN)&&wS(a.n,false,true,false,true);b.t(nN)&&wS(a.n,true,false,false,true);b.t(lN)&&wS(a.n,true,false,true,false);b.t(jN)&&wS(a.n,true,true,true,true);b.t(cN)&&wS(a.n,true,true,true,true);b.t(jN)&&wS(a.n,true,true,true,true);b.t(bN)&&wS(a.n,true,true,true,true);b.t(kN)&&wS(a.n,true,true,true,true);b.t(iN)&&wS(a.n,true,true,true,true);b.t(hN)&&wS(a.n,true,true,true,true)}function n1(a,b){var c,d,e,f,g,h,i,j,k,l;i=true;e=0;j=a.f[b.k];k=b.j.b+a.n;c=a.c[b.k][2];DU(a.a,j,Elb(Wv(yU(a.a,j),24).a-1+c));DU(a.b,j,kc(Yv(yU(a.b,j)))-k+c*a.e);++j;if(j>=a.i){++a.i;vU(a.a,Elb(1));vU(a.b,k)}else{d=a.c[b.k][1];DU(a.a,j,Elb(Wv(yU(a.a,j),24).a+1-d));DU(a.b,j,kc(Yv(yU(a.b,j)))+k-d*a.e)}(a.q==(I1(),B1)&&(Wv(yU(a.a,j),24).a>a.j||Wv(yU(a.a,j-1),24).a>a.j)||a.q==E1&&(kc(Yv(yU(a.b,j)))>a.k||kc(Yv(yU(a.b,j-1)))>a.k))&&(i=false);for(g=Uh(iX(b));Cm(g);){f=Wv(Dm(g),12);h=f.c.f;if(a.f[h.k]==j){l=n1(a,h);e=e+Wv(l.a,24).a;i=i&&jc(kc(Xv(l.b)))}}a.f[b.k]=j;e=e+a.c[b.k][0];return new RJ(Elb(e),(Xo(),i?wkb:vkb))}function WW(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;m=new II(a.j);r=b.a/m.a;h=b.b/m.b;p=b.a-m.a;f=b.b-m.b;if(c){e=gw(rJ(a,(eM(),TL)))===gw((KM(),FM));for(o=new _7(a.f);o.a<o.c.c.length;){n=Wv(QJ(o),7);switch(n.g.e){case 1:e||(n.i.a*=r);break;case 2:n.i.a+=p;e||(n.i.b*=h);break;case 3:e||(n.i.a*=r);n.i.b+=f;break;case 4:e||(n.i.b*=h);}}}for(j=new _7(a.c);j.a<j.c.c.length;){i=Wv(QJ(j),33);k=i.i.a+i.j.a/2;l=i.i.b+i.j.b/2;q=k/m.a;g=l/m.b;if(q+g>=1){if(q-g>0&&l>=0){i.i.a+=p;i.i.b+=f*g}else if(q-g<0&&k>=0){i.i.a+=p*q;i.i.b+=f}}}a.j.a=b.a;a.j.b=b.b;sJ(a,(eM(),aM),(DN(),d=Wv(Zd(Lz),11),new Ln(d,Wv(fq(d,d.length),11),0)))}function C7(a){var b,c,d,e,f,g,h,i,j,k;d=new GU;for(g=new _7(a.e.a);g.a<g.c.c.length;){e=Wv(QJ(g),61);k=0;e.k.c=xv(UF,syb,1,0,4,1);for(c=new _7(m7(e));c.a<c.c.c.length;){b=Wv(QJ(c),89);if(b.e){vU(e.k,b);++k}}k==1&&(d.c[d.c.length]=e,true)}for(f=new _7(d);f.a<f.c.c.length;){e=Wv(QJ(f),61);while(e.k.c.length==1){j=Wv(QJ(new _7(e.k)),89);a.b[j.b]=j.f;h=j.c;i=j.d;for(c=new _7(m7(e));c.a<c.c.c.length;){b=Wv(QJ(c),89);b==j||(b.e?h==b.c||i==b.d?(a.b[j.b]-=a.b[b.b]-b.f):(a.b[j.b]+=a.b[b.b]-b.f):e==h?b.c==e?(a.b[j.b]+=b.f):(a.b[j.b]-=b.f):b.c==e?(a.b[j.b]-=b.f):(a.b[j.b]+=b.f))}BU(h.k,j);BU(i.k,j);h==e?(e=j.d):(e=j.c)}}}function _fb(a){var b,c,d,e,f,g,h,i,j,k;j=new aJ;h=new aJ;for(f=new _7(a);f.a<f.c.c.length;){d=Wv(QJ(f),77);d.e=d.d.c.length;d.k=d.j.c.length;d.e==0&&(TI(j,d,j.c.b,j.c),true);d.k==0&&d.g.a.Y()==0&&(TI(h,d,h.c.b,h.c),true)}g=-1;while(j.b!=0){d=Wv(un(j,0),77);for(c=new _7(d.j);c.a<c.c.c.length;){b=Wv(QJ(c),117);k=b.b;k.n=sd(k.n,d.n+1);g=sd(g,k.n);--k.e;k.e==0&&(TI(j,k,j.c.b,j.c),true)}}if(g>-1){for(e=WI(h,0);e.b!=e.d.c;){d=Wv(tS(e),77);d.n=g}while(h.b!=0){d=Wv(un(h,0),77);for(c=new _7(d.d);c.a<c.c.c.length;){b=Wv(QJ(c),117);i=b.a;if(i.g.a.Y()!=0){continue}i.n=xd(i.n,d.n-1);--i.k;i.k==0&&(TI(h,i,h.c.b,h.c),true)}}}}function QV(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;i=new GU;for(f=new _7(b.b);f.a<f.c.c.length;){e=Wv(QJ(f),9);for(h=new _7(e.f);h.a<h.c.c.length;){g=Wv(QJ(h),7);k=null;for(t=Wv(FU(g.e,xv(dB,gAb,12,0,0,1)),47),u=0,v=t.length;u<v;++u){s=t[u];if(!SW(s.d.f,c)){r=LV(a,b,c,s,s.c,(G$(),bjb),k);r!=k&&(i.c[i.c.length]=r,true);r.c&&(k=r)}}j=null;for(o=Wv(FU(g.b,xv(dB,gAb,12,0,0,1)),47),p=0,q=o.length;p<q;++p){n=o[p];if(!SW(n.c.f,c)){r=LV(a,b,c,n,n.d,(G$(),ajb),j);r!=j&&(i.c[i.c.length]=r,true);r.c&&(j=r)}}}}for(m=new _7(i);m.a<m.c.c.length;){l=Wv(QJ(m),187);zU(b.b,l.a,0)!=-1||vU(b.b,l.a);l.c&&(d.c[d.c.length]=l,true)}}function WO(a){var b,c,d,e,f,g,h,i,j;d=a.e.e.j;b=Wv(oW(a.e,(eM(),aM)),86).kb((DN(),CN));PO(a);for(f=new _7(AW(a.e));f.a<f.c.c.length;){e=Wv(QJ(f),161);h=Wv(oW(e,LL),15);!h&&(h=new X6(0));i=e.e.j;g=(c=Wv(e.e,7).d,new EP(c.d,c.b,c.a,c.c));j=new II(e.e.i);switch(Wv(e.e,7).g.e){case 4:j.a=-i.a-h.a;j.b=a.s-i.b-(b?g.a:0);a.s-=cP(a,(sN(),rN))+i.b+(b?g.d+g.a:0);break;case 2:j.a=d.a+h.a;j.b=a.a+(b?g.d:0);a.a+=cP(a,(sN(),ZM))+i.b+(b?g.d+g.a:0);break;case 1:j.a=a.f+(b?g.b:0);j.b=-e.e.j.b-h.a;a.f+=cP(a,(sN(),$M))+i.a+(b?g.b+g.c:0);break;case 3:j.a=a.r-i.a-(b?g.c:0);j.b=d.b+h.a;a.r-=cP(a,(sN(),pN))+i.a+(b?g.b+g.c:0);}e.e.i.a=j.a;e.e.i.b=j.b}}function u$(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;k=new Qi;l=new Qi;q=new Qi;r=new Qi;j=Wv(rJ(b,(Rib(),Jib)),15).a;f=j*Wv(rJ(b,(Mjb(),qjb)),15).a;jc(kc(Xv(rJ(b,(eM(),rL)))));for(i=(m=(new e7(c.a)).a.bb().mb(),new r7(m));i.a.G();){h=(g=Wv(i.a.H(),21),Wv(g.yb(),9));n=Wv(rJ(h,hib),32);if(n==(sN(),$M)){l.a.db(h,l);for(e=Uh(iX(h));Cm(e);){d=Wv(Dm(e),12);_p(k,d.c.f)}}else if(n==pN){r.a.db(h,r);for(e=Uh(iX(h));Cm(e);){d=Wv(Dm(e),12);_p(q,d.c.f)}}}if(k.a.Y()!=0){o=new cdb(2,f);p=bdb(o,b,k,l,-j-b.d.b);if(p>0){a.a=j+(p-1)*f;b.d.b+=a.a;b.e.b+=a.a}}if(q.a.Y()!=0){o=new cdb(1,f);p=bdb(o,b,q,r,b.e.b+j-b.d.b);p>0&&(b.e.b+=j+(p-1)*f)}}function Xt(a,b){var c,d,e,f,g,h,i,j,k;if((Da(),b.length)==0){return a.fc(Yxb,Xxb,-1,-1)}k=hmb(b);qb(k.substr(0,3),'at ')&&(k=en(k,3,k.length-3));k=k.replace(/\[.*?\]/g,'');g=k.indexOf('(');if(g==-1){g=k.indexOf('@');if(g==-1){j=k;k=''}else{j=hmb(en(k,g+1,k.length-(g+1)));k=hmb(k.substr(0,g))}}else{c=k.indexOf(')',g);j=k.substr(g+1,c-(g+1));k=hmb(k.substr(0,g))}g=Zl(k,lmb(46));g!=-1&&(k=en(k,g+1,k.length-(g+1)));(k.length==0||qb(k,'Anonymous function'))&&(k=Xxb);h=In(j,lmb(58));e=jp(j,lmb(58),h-1);i=-1;d=-1;f=Yxb;if(h!=-1&&e!=-1){f=j.substr(0,e);i=St(j.substr(e+1,h-(e+1)));d=St(en(j,h+1,j.length-(h+1)))}return a.fc(f,k,i,d)}function idb(a){var b,c,d,e,f,g,h,i,j,k;j=new GU;h=new GU;for(g=new _7(a);g.a<g.c.c.length;){e=Wv(QJ(g),80);e.c=e.b.c.length;e.f=e.e.c.length;e.c==0&&(j.c[j.c.length]=e,true);e.f==0&&e.j.b==0&&(h.c[h.c.length]=e,true)}d=-1;while(j.c.length!=0){e=Wv(AU(j,0),80);for(c=new _7(e.e);c.a<c.c.c.length;){b=Wv(QJ(c),118);k=b.b;k.i=sd(k.i,e.i+1);d=sd(d,k.i);--k.c;k.c==0&&(j.c[j.c.length]=k,true)}}if(d>-1){for(f=new _7(h);f.a<f.c.c.length;){e=Wv(QJ(f),80);e.i=d}while(h.c.length!=0){e=Wv(AU(h,0),80);for(c=new _7(e.b);c.a<c.c.c.length;){b=Wv(QJ(c),118);i=b.a;if(i.j.b>0){continue}i.i=xd(i.i,e.i-1);--i.f;i.f==0&&(h.c[h.c.length]=i,true)}}}}function PV(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;if(!jc(kc(Xv(rJ(c,(eM(),$L)))))){return}for(h=new _7(c.f);h.a<h.c.c.length;){g=Wv(QJ(h),7);l=Wv(FU(g.e,xv(dB,gAb,12,g.e.c.length,0,1)),47);for(j=0,k=l.length;j<k;++j){i=l[j];f=i.d.f==c;e=f&&jc(kc(Xv(rJ(i,$L))));if(e){n=i.c;m=Wv(Qq(a.b,n),9);if(!m){m=NW(n,(KM(),IM),n.g,-1,n.j,Wv(rJ(b,sL),59),b);sJ(m,(Rib(),uib),n);Wr(a.b,n,m);vU(b.b,m)}p=i.d;o=Wv(Qq(a.b,p),9);if(!o){o=NW(p,(KM(),IM),p.g,1,p.j,Wv(rJ(b,sL),59),b);sJ(o,(Rib(),uib),p);Wr(a.b,p,o);vU(b.b,o)}d=IV(i);dW(d,Wv(yU(m.f,0),7));eW(d,Wv(yU(o.f,0),7));Fd(a.a,i,new XV(d,b,(G$(),bjb)));Wv(rJ(b,(Rib(),jib)),18).ib((ohb(),hhb))}}}}function vfb(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t;n=sgb(a.g);p=sgb(c.g);o=vI(xI(a.i),a.a);q=vI(xI(c.i),c.a);g=vI(new II(o),CI(new GI(n),b));h=vI(new II(q),CI(new GI(p),d));j=ogb(a,e);e==(sN(),pN)||e==ZM?(j+=f):(j-=f);m=new FI;r=new FI;switch(e.e){case 1:case 3:m.a=g.a;m.b=o.b+j;r.a=h.a;r.b=m.b;break;case 2:case 4:m.a=o.a+j;m.b=g.b;r.a=m.a;r.b=h.b;break;default:return null;}k=CI(vI(new HI(m.a,m.b),r),0.5);l=new ur(Bv(tv(qz,1),Fzb,10,0,[o,g,m,k,r,h,q]));i=ifb(l);t=jfb(l);switch(e.e){case 1:case 3:l.a=i;s=lfb(l);break;case 2:case 4:l.a=t;s=kfb(l);break;default:return null;}b9(l,new Ffb(Bv(tv(qz,1),Fzb,10,0,[i,t,s,o,q])));return l}function qU(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;f=new eV(b);l=lU(a,b,f);n=nd(Wv(rJ(b,(eM(),dM)),15).a,1);for(k=new _7(l.a);k.a<k.c.c.length;){j=Wv(QJ(k),27);i=pU(Wv(j.a,10),Wv(j.b,10),n);o=true;o=o&YU(c,new HI(i.d,i.e));o=o&YU(c,uI(new HI(i.d,i.e),i.c,0));o=o&YU(c,uI(new HI(i.d,i.e),0,i.b));o&YU(c,uI(new HI(i.d,i.e),i.c,i.b))}m=f.d;h=pU(Wv(l.b.a,10),Wv(l.b.b,10),n);if(m==(sN(),rN)||m==ZM){d.c[m.e]=vd(d.c[m.e],h.e);d.b[m.e]=nd(d.b[m.e],h.e+h.b)}else{d.c[m.e]=vd(d.c[m.e],h.d);d.b[m.e]=nd(d.b[m.e],h.d+h.c)}e=Vzb;g=f.c.f.e;switch(m.e){case 4:e=g.c;break;case 2:e=g.b;break;case 1:e=g.a;break;case 3:e=g.d;}d.a[m.e]=nd(d.a[m.e],e);return f}function OV(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;f=new GU;for(j=new _7(d);j.a<j.c.c.length;){h=Wv(QJ(j),187);g=null;if(h.f==(G$(),bjb)){for(o=new _7(h.e);o.a<o.c.c.length;){n=Wv(QJ(o),12);q=n.d.f;if(hX(q)==b){GV(a,b,h,n,h.b,n.d)}else if(!c||SW(q,c)){HV(a,b,h,d,n)}else{m=LV(a,b,c,n,h.b,bjb,g);m!=g&&(f.c[f.c.length]=m,true);m.c&&(g=m)}}}else{for(l=new _7(h.e);l.a<l.c.c.length;){k=Wv(QJ(l),12);p=k.c.f;if(hX(p)==b){GV(a,b,h,k,k.c,h.b)}else if(!c||SW(p,c)){continue}else{m=LV(a,b,c,k,h.b,ajb,g);m!=g&&(f.c[f.c.length]=m,true);m.c&&(g=m)}}}}for(i=new _7(f);i.a<i.c.c.length;){h=Wv(QJ(i),187);zU(b.b,h.a,0)!=-1||vU(b.b,h.a);h.c&&(e.c[e.c.length]=h,true)}}function TO(a){var b,c,d,e;b=a.e.j;for(d=new _7(AW(a));d.a<d.c.c.length;){c=Wv(QJ(d),161);e=Wv(oW(c,(eM(),LL)),15);!e&&(e=new X6(0));switch(Wv(c.e,7).g.e){case 4:c.e.i.b=b.b*kc(Yv(oW(c,HO)));c.e.i.a=-c.e.j.a-e.a;break;case 2:c.e.i.b=b.b*kc(Yv(oW(c,HO)));c.e.i.a=b.a+e.a;break;case 1:c.e.i.a=b.a*kc(Yv(oW(c,HO)));c.e.i.b=-c.e.j.b-e.a;break;case 3:c.e.i.a=b.a*kc(Yv(oW(c,HO)));c.e.i.b=b.b+e.a;}switch(Wv(c.e,7).g.e){case 4:c.e.i.b=b.b*kc(Yv(oW(c,HO)));c.e.i.a=-c.e.j.a-e.a;break;case 2:c.e.i.b=b.b*kc(Yv(oW(c,HO)));c.e.i.a=b.a+e.a;break;case 1:c.e.i.a=b.a*kc(Yv(oW(c,HO)));c.e.i.b=-c.e.j.b-e.a;break;case 3:c.e.i.a=b.a*kc(Yv(oW(c,HO)));c.e.i.b=b.b+e.a;}}}function C2(a){var b,c,d,e,f,g,h,i,j;f=a.f;e=pr(lu(a));j=WI(Eo(a.g),0);while(j.b!=j.d.c){i=Wv(tS(j),7);if(i.e.c.length==0){for(c=new _7(i.b);c.a<c.c.c.length;){b=Wv(QJ(c),12);d=b.c;if(e.a.R(d)){g=new MJ(f.f,0);h=(Pi(g.b<g.d.Y()),Wv(g.d.sb(g.c=g.b++),7));while(h!=i){h=(Pi(g.b<g.d.Y()),Wv(g.d.sb(g.c=g.b++),7))}qm(g,d);$p(j,d);J2(d,i.g);SJ(j);SJ(j);e.a.eb(d)!=null}}}else{for(c=new _7(i.e);c.a<c.c.c.length;){b=Wv(QJ(c),12);d=b.d;if(e.a.R(d)){g=new MJ(f.f,0);h=(Pi(g.b<g.d.Y()),Wv(g.d.sb(g.c=g.b++),7));while(h!=i){h=(Pi(g.b<g.d.Y()),Wv(g.d.sb(g.c=g.b++),7))}Pi(g.b>0);g.a.sb(g.c=--g.b);qm(g,d);$p(j,d);J2(d,i.g);SJ(j);SJ(j);e.a.eb(d)!=null}}}}}function IP(b){var c,d,e,f,g,h,i,j,k;g=new Uu(b);f=Pu(g,'graph');j=Pu(g,'success');e=Pu(g,'error');h=Pu(g,'options');try{if(!f||!f.kc()){throw new $J("Mandatory parameter missing, 'graph' must be specified")}AQ(new CQ,f.kc(),h?h.kc():null);i=f.kc().a;!!j&&!!j.kc()?HP(j.kc().a,i):HP(null,i)}catch(a){a=OH(a);if(aw(a,73)){k=a;!!e&&!!e.kc()?HP(e.kc().a,DQ(k).a):HP(null,DQ(k).a)}else if(aw(a,54)){c=a;d=new Tu;Ru(d,'type',new lv(Xd(c.$c)));c.bc()!=null?Ru(d,Dzb,new lv(c.bc())):Ru(d,Dzb,new lv('null (sic)'));Ru(d,Ezb,new lv(Hb(new Kb('\n'),new Z6(new h8((c.g==null&&(c.g=Pt(c)),c.g))))));!!e&&!!e.kc()?HP(e.kc().a,d.a):HP(null,d.a);at(c,(pn(),Dmb),'')}else throw NH(a)}}function e9(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(c){d=-1;k=new MJ(b,0);while(k.b<k.d.Y()){h=(Pi(k.b<k.d.Y()),Wv(k.d.sb(k.c=k.b++),9));l=a.a[h.d.k][h.k].a;if(l==null){g=d+1;f=new MJ(b,k.b);while(f.b<f.d.Y()){m=i9(a,(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),9))).a;if(m!=null){g=(So(m),m);break}}l=(d+g)/2;a.a[h.d.k][h.k].a=l;a.a[h.d.k][h.k].d=(So(l),l);a.a[h.d.k][h.k].b=1}d=(So(l),l)}}else{e=0;for(j=new _7(b);j.a<j.c.c.length;){h=Wv(QJ(j),9);a.a[h.d.k][h.k].a!=null&&(e=nd(e,kc(a.a[h.d.k][h.k].a)))}e+=2;for(i=new _7(b);i.a<i.c.c.length;){h=Wv(QJ(i),9);if(a.a[h.d.k][h.k].a==null){l=wvb(a.e,24)*FAb*e-1;a.a[h.d.k][h.k].a=l;a.a[h.d.k][h.k].d=l;a.a[h.d.k][h.k].b=1}}}}function RO(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;i=0;j=0;o=0;n=0;g=0;m=0;l=0;k=0;for(f=new Vo((new L8(a.c)).a);Ij(f.a);){e=(f.b=MT(f.a),new nh(f.c,f.b));d=Wv(e.b.b[e.a.e],62);switch(Wv(e.a,67).e){case 12:case 13:case 14:m+=d.c+b;break;case 15:case 16:case 17:l+=d.c+b;g=nd(g,d.b+b);break;case 18:case 19:case 20:k+=d.c+b;break;case 0:case 1:case 2:o+=d.c+b;break;case 3:case 4:case 5:n+=d.c+b;break;case 6:case 7:case 8:i+=d.b+b;break;case 9:case 10:case 11:j+=d.b+b;}}i-=b;j-=b;o-=b;n-=b;m+=m!=0?b:0;l+=l!=0?b:0;k+=k!=0?b:0;h=a.p.d+g+a.p.a;h+=h!=0?b:0;c.a=nd(c.a,o);c.a=nd(c.a,m);c.a=nd(c.a,l);c.a=nd(c.a,k);c.a=nd(c.a,n);c.b=nd(c.b,i);c.b=nd(c.b,h);c.b=nd(c.b,j)}function T9(a){var b,c,d,e,f,g,h,i;b=null;for(d=new _7(a);d.a<d.c.c.length;){c=Wv(QJ(d),102);kc(W9(c.g,c.d[0]).a);c.b=null;if(!!c.e&&c.e.Y()>0&&c.c==0){!b&&(b=new GU);b.c[b.c.length]=c}}if(b){while(b.c.length!=0){c=Wv(AU(b,0),102);if(!!c.b&&c.b.c.length>0){for(f=(!c.b&&(c.b=new GU),new _7(c.b));f.a<f.c.c.length;){e=Wv(QJ(f),102);if(kc(W9(e.g,e.d[0]).a)==kc(W9(c.g,c.d[0]).a)){if(zU(a,e,0)>zU(a,c,0)){return new RJ(e,c)}}else if(kc(W9(e.g,e.d[0]).a)>kc(W9(c.g,c.d[0]).a)){return new RJ(e,c)}}}for(h=(!c.e&&(c.e=new GU),c.e).mb();h.G();){g=Wv(h.H(),102);i=(!g.b&&(g.b=new GU),g.b);fV(0,i.c.length);ch(i.c,0,c);g.c==i.c.length&&(b.c[b.c.length]=g,true)}}}return null}function R0(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;l=(mp(),new K9);for(k=(Il(),new Im(Dl(ul(a.a,new yl))));Cm(k);){j=Wv(Dm(k),9);e=Q0(j,(sN(),ZM));for(d=new _7(e);d.a<d.c.c.length;){c=Wv(QJ(d),7);for(g=new _7(c.e);g.a<g.c.c.length;){f=Wv(QJ(g),12);kP();p=f.d.f;(p.g==(CX(),zX)||p.g==yX)&&(p=Wv(rJ(p,(Rib(),rib)),7).f);if(Ju(l.d,p)){b=Wv(re(Ju(l.d,p)),171)}else{e.c.length==2?gw(c)===gw((gV(0,e.c.length),e.c[0]))?(b=gP):(b=hP):(b=gP);Ltb(l.d,p,b)}for(i=new _7(f.b);i.a<i.c.c.length;){h=Wv(QJ(i),33);sJ(h,(Rib(),pib),b)}for(o=new _7(f.c.c);o.a<o.c.c.length;){m=Wv(QJ(o),33);sJ(m,(Rib(),pib),b)}for(n=new _7(f.d.c);n.a<n.c.c.length;){m=Wv(QJ(n),33);sJ(m,(Rib(),pib),b)}}}}}function lZ(a,b){var c,d,e,f,g,h,i,j,k;if(tl(mX(b))!=1||Wv(ql(mX(b)),12).d.f.g!=(CX(),zX)){return null}f=Wv(ql(mX(b)),12);c=f.d.f;sX(c,(CX(),wX));sJ(c,(Rib(),qib),null);sJ(c,rib,null);sJ(c,(eM(),TL),Wv(rJ(b,TL),28));sJ(c,JL,Wv(rJ(b,JL),86));e=rJ(f.c,uib);g=null;for(j=nX(c,(sN(),ZM)).mb();j.G();){h=Wv(j.H(),7);if(h.e.c.length!=0){sJ(h,uib,e);k=f.c;h.j.a=k.j.a;h.j.b=k.j.b;h.a.a=k.a.a;h.a.b=k.a.b;xU(h.c,k.c);k.c.c=xv(UF,syb,1,0,4,1);g=h;break}}sJ(f.c,uib,null);if(!sl(nX(b,ZM))){for(i=new _7(Ao(nX(b,ZM)));i.a<i.c.c.length;){h=Wv(QJ(i),7);if(h.e.c.length==0){d=new RX;QX(d,ZM);d.j.a=h.j.a;d.j.b=h.j.b;PX(d,c);sJ(d,uib,rJ(h,uib));PX(h,null)}else{PX(g,c)}}}c.j.b=b.j.b;vU(a.b,c);return c}function _O(a){var b,c,d,e,f,g,h,i,j;f=a.e.e.j;g=new II(f);i=Wv(oW(a.e,(eM(),aM)),86);j=Wv(oW(a.e,bM),86);h=Wv(oW(a.e,TL),28);b=vk(i,(DN(),CN));if(i.c==0){return}f.a=0;f.b=0;d=null;switch(h.e){case 1:case 2:case 3:d=MO(a,a.k);break;case 4:d=new II(g);break;case 5:d=KO(a.e,b);}if(vk(i,BN)){if(d){f.a=nd(f.a,d.a);f.b=nd(f.b,d.b)}if(b){f.a=nd(f.a,a.q.b+a.q.c+a.k);f.b=nd(f.b,a.q.d+a.q.a+a.k)}}vk(i,AN)&&Gj(new _7(zW(a.e)))&&RO(a,a.d,f);if(vk(i,zN)){e=Wv(oW(a.e,IL),15).a;c=Wv(oW(a.e,HL),15).a;if(vk(j,(MN(),KN))){e<=0&&(e=20);c<=0&&(c=20)}if(vk(j,LN)){e>0&&(f.a=nd(f.a,e+a.q.b+a.q.c));c>0&&(f.b=nd(f.b,c+a.q.d+a.q.a))}else{e>0&&(f.a=nd(f.a,e));c>0&&(f.b=nd(f.b,c))}}pW(a.e,f)}function ewb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(!a.b){return false}g=null;m=null;i=new aX(null,null);e=1;i.a[1]=a.b;l=i;while(l.a[e]){j=e;h=m;m=l;l=l.a[e];d=a.a.$b(b,l.d);e=d<0?0:1;d==0&&(!c.c||hs(l.e,c.d))&&(g=l);if(!(!!l&&l.b)&&!yd(l.a[e])){if(yd(l.a[1-e])){m=m.a[j]=hwb(l,e)}else if(!yd(l.a[1-e])){n=m.a[1-j];if(n){if(!yd(n.a[1-j])&&!yd(n.a[j])){m.b=false;n.b=true;l.b=true}else{f=h.a[1]==m?1:0;yd(n.a[j])?(h.a[f]=TJ(m,j)):yd(n.a[1-j])&&(h.a[f]=hwb(m,j));l.b=h.a[f].b=true;h.a[f].a[0].b=false;h.a[f].a[1].b=false}}}}}if(g){c.b=true;c.d=g.e;if(l!=g){k=new aX(l.d,l.e);fwb(a,i,g,k);m==g&&(m=k)}m.a[m.a[1]==l?1:0]=l.a[!l.a[0]?1:0];--a.c}a.b=i.a[1];!!a.b&&(a.b.b=false);return c.b}function v$(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;d=Wv(rJ(a,(eM(),TL)),28);i=a.e;h=a.a;c=Wv(rJ(a,(Rib(),Xhb)),15).a;j=i.a+h.b+h.c+2*c;k=0-h.d-c-a.d.b;n=i.b+h.d+h.a+2*c-a.d.b;l=new GU;o=new GU;for(f=(m=(new e7(b.a)).a.bb().mb(),new r7(m));f.a.G();){e=(g=Wv(f.a.H(),21),Wv(g.yb(),9));switch(d.e){case 1:case 2:case 3:m$(e);break;case 4:p=Wv(rJ(e,SL),10);q=!p?0:p.a;e.i.a=j*kc(Yv(rJ(e,Cib)))-q;fX(e,true,false);break;case 5:r=Wv(rJ(e,SL),10);s=!r?0:r.a;e.i.a=kc(Yv(rJ(e,Cib)))-s;fX(e,true,false);i.a=nd(i.a,e.i.a+e.j.a/2);}switch(Wv(rJ(e,hib),32).e){case 1:e.i.b=k;l.c[l.c.length]=e;break;case 3:e.i.b=n;o.c[o.c.length]=e;}}switch(d.e){case 1:case 2:o$(l,a);o$(o,a);break;case 3:t$(l,a);t$(o,a);}}function OY(a){var b,c,d,e,f,g;d=Wv(rJ(a.a.g,(eM(),JL)),86);if(jf(d,(oM(),b=Wv(Zd(Gz),11),new Ln(b,Wv(fq(b,b.length),11),0))));else if(Xe(d,Usb(gM))){c=Wv(Wv(Dd(a.a.b,a.b),20).sb(0),33);a.b.i.a=c.i.a;a.b.i.b=c.i.b}else if(Xe(d,Usb(iM))){e=Wv(yU(a.a.c,a.a.c.c.length-1),9);f=Wv(Wv(Dd(a.a.b,a.b),20).sb(Wv(Dd(a.a.b,a.b),20).Y()-1),33);g=e.j.a-(f.i.a+f.j.a);a.b.i.a=a.a.g.j.a-g-a.b.j.a;a.b.i.b=f.i.b}else if(Xe(d,gp(mM,Bv(tv(Gz,1),uyb,41,0,[fM])))){c=Wv(Wv(Dd(a.a.b,a.b),20).sb(0),33);a.b.i.a=(a.a.g.j.a-a.b.j.a)/2;a.b.i.b=c.i.b}else if(Xe(d,Usb(mM))){c=Wv(Wv(Dd(a.a.b,a.b),20).sb(0),33);a.b.i.b=c.i.b}else if(Xe(d,Usb(fM))){c=Wv(Wv(Dd(a.a.b,a.b),20).sb(0),33);a.b.i.a=(a.a.g.j.a-a.b.j.a)/2;a.b.i.b=c.i.b}return null}function NZ(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(o=new _7(a);o.a<o.c.c.length;){n=Wv(QJ(o),9);MZ(n.i);MZ(n.j);PZ(n);RZ(n);for(q=new _7(n.f);q.a<q.c.c.length;){p=Wv(QJ(q),7);MZ(p.i);MZ(p.a);MZ(p.j);QX(p,QZ(p.g));f=Wv(rJ(p,(eM(),UL)),24);!!f&&sJ(p,UL,Elb(-f.a));for(e=new _7(p.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);for(c=WI(d.a,0);c.b!=c.d.c;){b=Wv(tS(c),10);MZ(b)}i=Wv(rJ(d,CL),44);if(i){for(h=WI(i,0);h.b!=h.d.c;){g=Wv(tS(h),10);MZ(g)}}for(l=new _7(d.b);l.a<l.c.c.length;){j=Wv(QJ(l),33);MZ(j.i);MZ(j.j)}}for(m=new _7(p.c);m.a<m.c.c.length;){j=Wv(QJ(m),33);MZ(j.i);MZ(j.j)}}if(n.g==(CX(),xX)){sJ(n,(Rib(),hib),QZ(Wv(rJ(n,hib),32)));OZ(n)}for(k=new _7(n.c);k.a<k.c.c.length;){j=Wv(QJ(k),33);MZ(j.j);MZ(j.i)}}}function YP(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;TP(c);if(SW(b.d.f,b.c.f)){k=b.c;l=MI(Bv(tv(qz,1),Fzb,10,0,[k.i,k.a]));j=k.f.b;uI(l,-j.b,-j.d);l.a-=d.a;l.b-=d.b}else{l=MX(b.c)}l.a+=d.a;l.b+=d.b;m=new Tu;VP(a,m,'x',l.a);VP(a,m,'y',l.b);Ru(c,'sourcePoint',m);n=MX(b.d);rJ(b,(Rib(),Pib))!=null&&vI(n,Wv(rJ(b,Pib),10));vI(n,d);o=new Tu;VP(a,o,'x',n.a);VP(a,o,'y',n.b);Ru(c,'targetPoint',o);e=new ju;s=hJ(b.a,d);f=0;for(r=WI(s,0);r.b!=r.d.c;){p=Wv(tS(r),10);i=new Tu;VP(a,i,'x',p.a);VP(a,i,'y',p.b);hu(e,f++,i)}s.b==0?Ru(c,Hzb,null):Ru(c,Hzb,e);g=Wv(rJ(b,(eM(),CL)),44);f=0;if(g){hJ(g,d);h=new ju;for(q=WI(g,0);q.b!=q.d.c;){p=Wv(tS(q),10);i=new Tu;VP(a,i,'x',p.a);VP(a,i,'y',p.b);hu(h,f++,i)}Ru(c,Izb,h)}else{Ru(c,Izb,null)}}function pZ(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;p=a.i;q=a.j;m=a.e;if(b){l=d/2*(b.Y()-1);n=0;for(j=b.mb();j.G();){h=Wv(j.H(),9);l+=h.j.a;n=nd(n,h.j.b)}r=p.a-(l-q.a)/2;g=p.b-m.d+n;e=q.a/(b.Y()+1);f=e;for(i=b.mb();i.G();){h=Wv(i.H(),9);h.i.a=r;h.i.b=g-h.j.b;r+=h.j.a+d/2;k=oZ(h);k.i.a=h.j.a/2-k.a.a;k.i.b=h.j.b;o=Wv(rJ(h,(Rib(),Zhb)),7);if(o.b.c.length+o.e.c.length==1){o.i.a=f-o.a.a;o.i.b=0;PX(o,a)}f+=e}}if(c){l=d/2*(c.Y()-1);n=0;for(j=c.mb();j.G();){h=Wv(j.H(),9);l+=h.j.a;n=nd(n,h.j.b)}r=p.a-(l-q.a)/2;g=p.b+q.b+m.a-n;e=q.a/(c.Y()+1);f=e;for(i=c.mb();i.G();){h=Wv(i.H(),9);h.i.a=r;h.i.b=g;r+=h.j.a+d/2;k=oZ(h);k.i.a=h.j.a/2-k.a.a;k.i.b=0;o=Wv(rJ(h,(Rib(),Zhb)),7);if(o.b.c.length+o.e.c.length==1){o.i.a=f-o.a.a;o.i.b=q.b;PX(o,a)}f+=e}}}function Jab(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;w=0;n=0;for(l=new _7(b.f);l.a<l.c.c.length;){k=Wv(QJ(l),9);m=0;h=0;i=c?Wv(rJ(k,Fab),24).a:eyb;r=d?Wv(rJ(k,Gab),24).a:eyb;j=i>r?i:r;for(t=new _7(k.f);t.a<t.c.c.length;){s=Wv(QJ(t),7);u=k.i.b+s.i.b+s.a.b;if(d){for(g=new _7(s.e);g.a<g.c.c.length;){f=Wv(QJ(g),12);p=f.d;o=p.f;if(b!=a.a[o.k]){q=sd(Wv(rJ(o,Fab),24).a,Wv(rJ(o,Gab),24).a);v=Wv(rJ(f,(Rib(),Eib)),24).a;if(v>=j&&v>=q){m+=o.i.b+p.i.b+p.a.b-u;++h}}}}if(c){for(g=new _7(s.b);g.a<g.c.c.length;){f=Wv(QJ(g),12);p=f.c;o=p.f;if(b!=a.a[o.k]){q=sd(Wv(rJ(o,Fab),24).a,Wv(rJ(o,Gab),24).a);v=Wv(rJ(f,(Rib(),Eib)),24).a;if(v>=j&&v>=q){m+=o.i.b+p.i.b+p.a.b-u;++h}}}}}if(h>0){w+=m/h;++n}}if(n>0){b.a=e*w/n;b.i=n}else{b.a=0;b.i=0}}function Kab(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;n=b.c.length;m=0;for(l=new _7(a.c);l.a<l.c.c.length;){k=Wv(QJ(l),16);r=k.a;if(r.c.length==0){continue}q=new _7(r);j=0;s=null;e=Wv(QJ(q),9);while(e){f=Wv(yU(b,e.k),111);if(f.c>=0){i=null;h=new MJ(k.a,j+1);while(h.b<h.d.Y()){g=(Pi(h.b<h.d.Y()),Wv(h.d.sb(h.c=h.b++),9));i=Wv(yU(b,g.k),111);if(i.d==f.d&&i.c<f.c){break}else{i=null}}if(i){if(s){DU(d,e.k,Elb(Wv(yU(d,e.k),24).a-1));Wv(yU(c,s.k),20).nb(f)}f=Vab(f,e,n++);b.c[b.c.length]=f;vU(c,new GU);if(s){Wv(yU(c,s.k),20).ib(f);vU(d,Elb(1))}else{vU(d,Elb(0))}}}o=null;if(q.a<q.c.c.length){o=Wv(QJ(q),9);p=Wv(yU(b,o.k),111);Wv(yU(c,e.k),20).ib(p);DU(d,o.k,Elb(Wv(yU(d,o.k),24).a+1))}f.d=m;f.c=j++;s=e;e=o}++m}jc(kc(Xv(rJ(a,(eM(),rL)))))&&undefined}function gS(a,b){var c;if(a.e){throw new Qc((Cl(nA),'The '+nA.j+Yzb))}if(!MR(a.a,b)){throw new gt('The direction '+b+' is not supported by the CGraph instance.')}if(b==a.d){return a}c=a.d;a.d=b;switch(c.e){case 0:switch(b.e){case 2:dS(a);break;case 1:kS(a);dS(a);break;case 4:qS(a);dS(a);break;case 3:qS(a);kS(a);dS(a);}break;case 2:switch(b.e){case 1:kS(a);lS(a);break;case 4:qS(a);dS(a);break;case 3:qS(a);kS(a);dS(a);}break;case 1:switch(b.e){case 2:kS(a);lS(a);break;case 4:kS(a);qS(a);dS(a);break;case 3:kS(a);qS(a);kS(a);dS(a);}break;case 4:switch(b.e){case 2:qS(a);dS(a);break;case 1:qS(a);kS(a);dS(a);break;case 3:kS(a);lS(a);}break;case 3:switch(b.e){case 2:kS(a);qS(a);dS(a);break;case 1:kS(a);qS(a);kS(a);dS(a);break;case 4:kS(a);lS(a);}}return a}function c9(a,b,c){var d,e,f,g,h,i,j,k,l;if(a.a[b.d.k][b.k].e){return}else{a.a[b.d.k][b.k].e=true}a.a[b.d.k][b.k].b=0;a.a[b.d.k][b.k].d=0;a.a[b.d.k][b.k].a=null;for(k=new _7(b.f);k.a<k.c.c.length;){j=Wv(QJ(k),7);l=c?new fY(j):new lY(j);for(i=l.mb();i.G();){h=Wv(i.H(),7);g=h.f;if(g.d==b.d){if(g!=b){c9(a,g,c);a.a[b.d.k][b.k].b+=a.a[g.d.k][g.k].b;a.a[b.d.k][b.k].d+=a.a[g.d.k][g.k].d}}else{a.a[b.d.k][b.k].d+=a.d[h.k];++a.a[b.d.k][b.k].b}}}f=Wv(rJ(b,(Rib(),Shb)),20);if(f){for(e=f.mb();e.G();){d=Wv(e.H(),9);if(b.d==d.d){c9(a,d,c);a.a[b.d.k][b.k].b+=a.a[d.d.k][d.k].b;a.a[b.d.k][b.k].d+=a.a[d.d.k][d.k].d}}}if(a.a[b.d.k][b.k].b>0){a.a[b.d.k][b.k].d+=wvb(a.e,24)*FAb*0.07000000029802322-0.03500000014901161;a.a[b.d.k][b.k].a=a.a[b.d.k][b.k].d/a.a[b.d.k][b.k].b}}function Sbb(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(e=new _7(a.a.c);e.a<e.c.c.length;){c=Wv(QJ(e),16);for(i=new _7(c.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);b.i[h.k]=h;b.g[h.k]=b.k==(WN(),Kbb)?Vzb:Uzb}}g=a.a.c;b.c==(nu(),Ebb)&&(g=aw(g,87)?Ii(Wv(g,87)):aw(g,88)?Wv(g,88).a:aw(g,63)?new ap(g):new Ro(g));IW(a.e,b,a.b);Ad(b.n);for(f=g.mb();f.G();){c=Wv(f.H(),16);j=c.a;b.k==(WN(),Kbb)&&(j=aw(j,87)?Ii(Wv(j,87)):aw(j,88)?Wv(j,88).a:aw(j,63)?new ap(j):new Ro(j));for(m=j.mb();m.G();){l=Wv(m.H(),9);b.f[l.k]==l&&Tbb(a,l,b)}}Ubb(a,b);for(d=g.mb();d.G();){c=Wv(d.H(),16);for(m=new _7(c.a);m.a<m.c.c.length;){l=Wv(QJ(m),9);b.n[l.k]=b.n[b.f[l.k].k];if(l==b.f[l.k]){k=kc(b.g[b.i[l.k].k]);(b.k==(WN(),Kbb)&&k>Vzb||b.k==Jbb&&k<Uzb)&&(b.n[l.k]=kc(b.n[l.k])+k)}}}a.e.Jc()}function NQ(a,b){var c,d,e,f,g,h,i,j,k,l,m;pJ(b,Bv(tv(rz,1),syb,79,0,[(Rib(),Jib),Xhb,(Mjb(),Kjb),Rhb]));j=Wv(rJ(b,Jib),15).a;Wv(rJ(b,qjb),15).a*j<2&&sJ(b,qjb,new X6(2/j));k=Wv(rJ(b,(eM(),sL)),59);k==(sK(),qK)&&sJ(b,sL,PW(b));l=Wv(rJ(b,Hjb),24);l.a==0?sJ(b,Gib,new yvb):sJ(b,Gib,new jY(l.a));m=new $jb(b);sJ(b,Kib,m);e=KQ(a,Wv(rJ(b,ljb),180));h=KQ(a,Wv(rJ(b,zjb),180));d=KQ(a,Wv(rJ(b,kjb),180));i=KQ(a,Wv(rJ(b,Ajb),180));f=KQ(a,Dn(Wv(rJ(b,eib),122)));g=new WQ;sJ(b,_hb,g);QQ(QQ(QQ(QQ(QQ(QQ(g,e.qc(b)),h.qc(b)),d.qc(b)),i.qc(b)),f.qc(b)),MQ(b));c=(Mh(30,Vyb),new HU(30));sJ(b,Fib,c);xU(c,LQ(a,g,0));c.c[c.c.length]=e;xU(c,LQ(a,g,1));c.c[c.c.length]=h;xU(c,LQ(a,g,2));c.c[c.c.length]=d;xU(c,LQ(a,g,3));c.c[c.c.length]=i;xU(c,LQ(a,g,4));c.c[c.c.length]=f;xU(c,LQ(a,g,5))}function YO(a,b){var c,d,e,f,g,h;f=Li(DW(a));if(f.Nb().V()){return}e=Wv(rJ(Wv(Wv(Wv(f.Nb().sb(0),129),224).e,33),(kP(),iP)),171);e=e==jP?hP:e;h=0;switch(Wv(a.e,7).g.e){case 4:case 2:e==hP&&(h=a.e.j.b);break;case 3:h=a.e.j.b;}(Wv(a.e,7).g==(sN(),$M)||e==gP)&&(f=Ii(f));for(d=Xl(f.Nb().mb());d.G();){c=Wv(d.H(),129);g=new II(c.e.i);if(e==gP){switch(Wv(a.e,7).g.e){case 1:case 4:g.a=-c.e.j.a-b;g.b=h-b-c.e.j.b;h-=b+c.e.j.b;break;case 2:g.a=a.e.j.a+b;g.b=h-b-c.e.j.b;h-=b+c.e.j.b;break;case 3:g.a=-c.e.j.a-b;g.b=h+b;h+=b+c.e.j.b;}}else{switch(Wv(a.e,7).g.e){case 4:g.a=-c.e.j.a-b;g.b=h+b;h+=b+c.e.j.b;break;case 2:g.a=a.e.j.a+b;g.b=h+b;h+=b+c.e.j.b;break;case 1:g.a=a.e.j.a+b;g.b=h-b-c.e.j.b;h-=b+c.e.j.b;break;case 3:g.a=a.e.j.a+b;g.b=h+b;h+=b+c.e.j.b;}}c.e.i.a=g.a;c.e.i.b=g.b}}function fab(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;d=0;e=0;for(k=0;k<a.length;k++){i=a[k];if(LM(Wv(rJ(i,(eM(),TL)),28))){for(g=nX(i,(sN(),ZM)).mb();g.G();){f=Wv(g.H(),7);if(f.b.c.length+f.e.c.length>0){d+=f.b.c.length+f.e.c.length;Wr(b,f,Elb(d))}}}else{for(h=nX(i,(sN(),ZM)).mb();h.G();){f=Wv(h.H(),7);d+=f.b.c.length+f.e.c.length}for(g=nX(i,ZM).mb();g.G();){f=Wv(g.H(),7);f.b.c.length+f.e.c.length>0&&Wr(b,f,Elb(d))}}}for(j=a.length-1;j>=0;j--){i=a[j];if(LM(Wv(rJ(i,(eM(),TL)),28))){for(m=nX(i,(sN(),rN)).mb();m.G();){l=Wv(m.H(),7);if(l.b.c.length+l.e.c.length>0){e+=l.b.c.length+l.e.c.length;Wr(c,l,Elb(e))}}}else{for(n=nX(i,(sN(),rN)).mb();n.G();){l=Wv(n.H(),7);e+=l.b.c.length+l.e.c.length}for(m=nX(i,rN).mb();m.G();){l=Wv(m.H(),7);l.b.c.length+l.e.c.length>0&&Wr(c,l,Elb(e))}}}}function wfb(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;m=sgb(a.g);o=sgb(b.g);n=vI(xI(a.i),a.a);p=vI(xI(b.i),b.a);i=vI(new HI(n.a,n.b),CI(new GI(m),1.3*c));q=vI(new HI(p.a,p.b),CI(new GI(o),1.3*d));h=Le(i.a-q.a);h<e&&(a.g==(sN(),rN)||a.g==ZM?i.a<q.a?(i.a=q.a-e):(i.a=q.a+e):i.a<q.a?(q.a=i.a+e):(q.a=i.a-e));f=0;g=0;switch(a.g.e){case 4:f=2*(n.a-c)-0.5*(i.a+q.a);break;case 2:f=2*(n.a+c)-0.5*(i.a+q.a);break;case 1:g=2*(n.b-c)-0.5*(i.b+q.b);break;case 3:g=2*(n.b+c)-0.5*(i.b+q.b);}switch(b.g.e){case 4:f=2*(p.a-d)-0.5*(q.a+i.a);break;case 2:f=2*(p.a+d)-0.5*(q.a+i.a);break;case 1:g=2*(p.b-d)-0.5*(q.b+i.b);break;case 3:g=2*(p.b+d)-0.5*(q.b+i.b);}l=new HI(f,g);k=new ur(Bv(tv(qz,1),Fzb,10,0,[n,i,l,q,p]));j=ifb(k);r=jfb(k);k.a=j;b9(k,new Ffb(Bv(tv(qz,1),Fzb,10,0,[j,r,n,p])));return k}function p$(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;i=c.a;e=Wv(rJ(c,(Rib(),Xhb)),15).a;o=c.d;h=(d=Wv(rJ(c,Xhb),15).a,new HI(c.e.a+c.a.b+c.a.c+2*d,c.e.b+c.a.d+c.a.a+2*d));j=h.b;for(m=new _7(a.a);m.a<m.c.c.length;){k=Wv(QJ(m),9);if(k.g!=(CX(),xX)){continue}f=Wv(rJ(k,hib),32);g=Wv(rJ(k,iib),10);n=k.i;switch(f.e){case 2:n.a=c.e.a+e+i.c-o.a;break;case 4:n.a=-o.a-e-i.b;}q=0;switch(f.e){case 2:case 4:if(b==(KM(),GM)){p=kc(Yv(rJ(k,Cib)));n.b=h.b*p-Wv(rJ(k,(eM(),SL)),10).b;q=n.b+g.b;fX(k,false,true)}else if(b==FM){n.b=kc(Yv(rJ(k,Cib)))-Wv(rJ(k,(eM(),SL)),10).b;q=n.b+g.b;fX(k,false,true)}}j=j>q?j:q}c.e.b+=j-h.b;for(l=new _7(a.a);l.a<l.c.c.length;){k=Wv(QJ(l),9);if(k.g!=(CX(),xX)){continue}f=Wv(rJ(k,hib),32);n=k.i;switch(f.e){case 1:n.b=-o.b-e-i.d;break;case 3:n.b=c.e.b+e+i.a-o.b;}}}function $Y(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;e=new GU;for(i=new _7(a.d.f);i.a<i.c.c.length;){g=Wv(QJ(i),7);g.g==(sN(),ZM)&&(e.c[e.c.length]=g,true)}if(a.e.a==(sK(),pK)&&!MM(Wv(rJ(a.d,(eM(),TL)),28))){for(d=Uh(mX(a.d));Cm(d);){c=Wv(Dm(d),12);vU(e,c.c)}}f=a.d.j.a;sJ(a.d,(Rib(),Whb),new X6(a.d.j.a));a.d.j.a=a.c;sJ(a.d,Vhb,(Xo(),Xo(),wkb));vU(a.b,a.d);j=a.d;f-=a.c;k=a.a;while(k>1){b=vd(f,a.c);j=(l=new uX(a.e.c),sX(l,(CX(),wX)),sJ(l,(eM(),TL),Wv(rJ(j,TL),28)),sJ(l,JL,Wv(rJ(j,JL),86)),l.k=a.e.b++,vU(a.b,l),l.j.b=j.j.b,l.j.a=b,m=new RX,QX(m,(sN(),ZM)),PX(m,j),m.i.a=l.j.a,m.i.b=l.j.b/2,n=new RX,QX(n,rN),PX(n,l),n.i.b=l.j.b/2,n.i.a=-n.j.a,o=new hW,dW(o,m),eW(o,n),l);vU(a.e.c.b,j);--k;f-=a.c+a.e.d}new HY(a.d,a.b,a.c);for(h=new _7(e);h.a<h.c.c.length;){g=Wv(QJ(h),7);BU(a.d.f,g);PX(g,j)}}function Qfb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(a.p>b.a||b.p>a.a){return}c=0;d=0;for(l=(g=(new e7(a.o.a)).a.bb().mb(),new r7(g));l.a.G();){j=(e=Wv(l.a.H(),21),Wv(e.yb(),7));qgb(MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b,b.p,b.a)&&++c}for(m=(h=(new e7(a.g.a)).a.bb().mb(),new r7(h));m.a.G();){j=(e=Wv(m.a.H(),21),Wv(e.yb(),7));qgb(MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b,b.p,b.a)&&--c}for(n=(i=(new e7(b.o.a)).a.bb().mb(),new r7(i));n.a.G();){j=(e=Wv(n.a.H(),21),Wv(e.yb(),7));qgb(MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b,a.p,a.a)&&++d}for(k=(f=(new e7(b.g.a)).a.bb().mb(),new r7(f));k.a.G();){j=(e=Wv(k.a.H(),21),Wv(e.yb(),7));qgb(MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b,a.p,a.a)&&--d}if(c<d){new JU(a,b,d-c)}else if(d<c){new JU(b,a,c-d)}else{new JU(b,a,0);new JU(a,b,0)}}function $jb(a){var b;this.f=Wv(rJ(a,(Rib(),Jib)),15).a;this.d=Wv(rJ(a,(Mjb(),Ejb)),15).a;this.a=this.f*Wv(rJ(a,qjb),15).a;this.b=this.f*Wv(rJ(a,pjb),15).a;Wv(rJ(a,Dib),15);this.c=Wv(rJ(a,Dib),15).a;this.e=Wv(rJ(a,(eM(),DL)),15).a;b=(CX(),Bv(tv(pB,1),uyb,132,0,[AX,zX,xX,BX,yX,wX])).length;this.g=vv(lw,[Txb,tAb],[250,26],12,[b,b],2);dh(this,AX,this.f);br(this,AX,zX,this.b);br(this,AX,BX,this.b);br(this,AX,xX,this.c);br(this,AX,yX,this.b);br(this,AX,wX,this.b);dh(this,zX,this.a);br(this,zX,BX,this.a);br(this,zX,xX,this.c);br(this,zX,yX,this.e);br(this,zX,wX,this.b);dh(this,BX,this.a);br(this,BX,xX,this.c);br(this,BX,yX,this.e);br(this,BX,wX,this.b);dh(this,xX,this.c);br(this,xX,yX,this.c);br(this,xX,wX,this.c);dh(this,yX,this.e);br(this,yX,wX,this.e);dh(this,wX,this.f)}function mZ(a,b){var c,d,e,f,g,h,i,j,k;if(tl(iX(b))!=1||Wv(ql(iX(b)),12).c.f.g!=(CX(),zX)){return null}c=Wv(ql(iX(b)),12);d=c.c.f;sX(d,(CX(),AX));sJ(d,(Rib(),qib),null);sJ(d,rib,null);sJ(d,Whb,Wv(rJ(b,Whb),15));sJ(d,Vhb,(Xo(),Xo(),wkb));sJ(d,uib,rJ(b,uib));d.j.b=b.j.b;f=rJ(c.d,uib);g=null;for(j=nX(d,(sN(),rN)).mb();j.G();){h=Wv(j.H(),7);if(h.b.c.length!=0){sJ(h,uib,f);k=c.d;h.j.a=k.j.a;h.j.b=k.j.b;h.a.a=k.a.a;h.a.b=k.a.b;xU(h.c,k.c);k.c.c=xv(UF,syb,1,0,4,1);g=h;break}}sJ(c.d,uib,null);if(tl(nX(b,rN))>1){for(i=WI(Eo(nX(b,rN)),0);i.b!=i.d.c;){h=Wv(tS(i),7);if(h.b.c.length==0){e=new RX;QX(e,rN);e.j.a=h.j.a;e.j.b=h.j.b;PX(e,d);sJ(e,uib,rJ(h,uib));PX(h,null)}else{PX(g,d)}}}sJ(b,uib,null);sJ(b,Vhb,(null,vkb));sX(b,wX);sJ(d,(eM(),TL),Wv(rJ(b,TL),28));sJ(d,JL,Wv(rJ(b,JL),86));uU(a.b,0,d);return d}function NW(a,b,c,d,e,f,g){var h,i,j,k,l,m;l=c;j=new uX(g);sX(j,(CX(),xX));sJ(j,(Rib(),iib),e);sJ(j,(eM(),TL),(KM(),FM));sJ(j,tib,Wv(rJ(a,LL),15));i=Wv(rJ(a,SL),10);!i&&(i=new HI(e.a/2,e.b/2));sJ(j,SL,i);k=new RX;PX(k,j);if(!(b!=IM&&b!=JM)){h=f!=(sK(),qK)?f:pK;d>0?(l=vN(h)):(l=tN(vN(h)));sJ(a,WL,l)}switch(l.e){case 4:sJ(j,(Mjb(),vjb),(Xib(),Tib));sJ(j,dib,(Hgb(),Ggb));j.j.b=e.b;QX(k,(sN(),ZM));k.i.b=i.b;break;case 2:sJ(j,(Mjb(),vjb),(Xib(),Vib));sJ(j,dib,(Hgb(),Egb));j.j.b=e.b;QX(k,(sN(),rN));k.i.b=i.b;break;case 1:sJ(j,mib,(TY(),Ghb));j.j.a=e.a;QX(k,(sN(),pN));k.i.a=i.a;break;case 3:sJ(j,mib,(TY(),Ehb));j.j.a=e.a;QX(k,(sN(),$M));k.i.a=i.a;}if(b==EM||b==GM||b==FM){m=0;switch(l.e){case 4:case 2:m=null.cd;b==GM&&(m/=null.cd);break;case 1:case 3:m=null.cd;b==GM&&(m/=null.cd);}sJ(j,Cib,m)}sJ(j,hib,l);return j}function LP(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;j=new jJ;r=(mp(),new K9);Wr(r,a,MP(a));d=(Mh(2,Vyb),new HU(2));!!a.c&&vU(d,a.c);!!a.d&&vU(d,a.d);for(n=new _7(d);n.a<n.c.c.length;){m=Wv(QJ(n),7);b=new aJ;Ue(b,Ao(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[m.b,m.e])))))));Ve(b,a,true);if(b.b!=0){t=Wv(re(Ju(r.d,a)),34);if(m==a.d){o=t[t.length-1];s=true}else{o=t[0];s=false}for(i=1;i<t.length;i++){s?(p=t[t.length-1-i]):(p=t[i]);c=WI(b,0);while(c.b!=c.d.c){k=Wv(tS(c),12);l=Wv(re(Ju(r.d,k)),34);if(l==null){l=MP(k);Ltb(r.d,k,l)}if(l.length<=i){KY(c)}else{s?(q=l[l.length-1-i]):(q=l[i]);if(p.a!=q.a||p.b!=q.b){e=p.a-o.a;g=p.b-o.b;f=q.a-o.a;h=q.b-o.b;f*g==h*e&&NP(e)==NP(f)&&NP(g)==NP(h)?((e<=0?0-e:e)<(f<=0?0-f:f)||(g<=0?0-g:g)<(h<=0?0-h:h))&&(TI(j,p,j.c.b,j.c),true):i>1&&(TI(j,o,j.c.b,j.c),true);KY(c)}}}o=p}}}return j}function m1(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;a.n=Wv(rJ(a.g,(Rib(),Jib)),15).a*Wv(rJ(a.g,(Mjb(),Ejb)),15).a;a.e=a.n*Wv(rJ(a.g,qjb),15).a;a.i=a.g.c.c.length;h=a.i-1;m=0;a.j=0;a.k=0;a.a=Co(xv(PF,Txb,24,a.i,0,1));a.b=Co(xv(HF,Txb,184,a.i,6,1));for(g=new _7(a.g.c);g.a<g.c.c.length;){e=Wv(QJ(g),16);e.k=h;for(l=new _7(e.a);l.a<l.c.c.length;){k=Wv(QJ(l),9);k.k=m;++m}--h}a.f=xv(mw,Yyb,26,m,12,1);a.c=vv(mw,[Txb,Yyb],[52,26],12,[m,3],2);a.o=new GU;a.p=new GU;b=0;a.d=0;for(f=new _7(a.g.c);f.a<f.c.c.length;){e=Wv(QJ(f),16);h=e.k;d=0;p=0;i=e.a.c.length;j=0;for(l=new _7(e.a);l.a<l.c.c.length;){k=Wv(QJ(l),9);m=k.k;a.f[m]=k.d.k;j+=k.j.b+a.n;c=tl(iX(k));o=tl(mX(k));a.c[m][0]=o-c;a.c[m][1]=c;a.c[m][2]=o;d+=c;p+=o;c>0&&vU(a.p,k);vU(a.o,k)}b-=d;n=i+b;j+=b*a.e;DU(a.a,h,Elb(n));DU(a.b,h,j);a.j=sd(a.j,n);a.k=nd(a.k,j);a.d+=b;b+=p}}function sN(){sN=E;var a;qN=new uN(szb,0);$M=new uN('NORTH',1);ZM=new uN('EAST',2);pN=new uN('SOUTH',3);rN=new uN('WEST',4);dN=(ct(),new Rd((a=Wv(Zd(Kz),11),new Ln(a,Wv(fq(a,a.length),11),0))));eN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[])));_M=Kk(gp(ZM,Bv(tv(Kz,1),uyb,32,0,[])));mN=Kk(gp(pN,Bv(tv(Kz,1),uyb,32,0,[])));oN=Kk(gp(rN,Bv(tv(Kz,1),uyb,32,0,[])));jN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[pN])));cN=Kk(gp(ZM,Bv(tv(Kz,1),uyb,32,0,[rN])));lN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[rN])));fN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[ZM])));nN=Kk(gp(pN,Bv(tv(Kz,1),uyb,32,0,[rN])));aN=Kk(gp(ZM,Bv(tv(Kz,1),uyb,32,0,[pN])));iN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[ZM,rN])));bN=Kk(gp(ZM,Bv(tv(Kz,1),uyb,32,0,[pN,rN])));kN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[pN,rN])));gN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[ZM,pN])));hN=Kk(gp($M,Bv(tv(Kz,1),uyb,32,0,[ZM,pN,rN])))}function q$(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C;u=new GU;for(m=new _7(a.c);m.a<m.c.c.length;){l=Wv(QJ(m),16);for(p=new _7(l.a);p.a<p.c.c.length;){n=Wv(QJ(p),9);if(n.g!=(CX(),xX)){continue}if(rJ(n,(Rib(),gib))==null){continue}q=null;s=null;r=null;for(A=new _7(n.f);A.a<A.c.c.length;){w=Wv(QJ(A),7);switch(w.g.e){case 4:q=w;break;case 2:s=w;break;default:r=w;}}t=Wv(yU(r.e,0),12);i=new kJ(t.a);h=new II(r.i);vI(h,n.i);j=WI(i,0);$p(j,h);v=lJ(t.a);k=new II(r.i);vI(k,n.i);TI(v,k,v.c.b,v.c);B=Wv(rJ(n,gib),9);C=Wv(yU(B.f,0),7);g=Wv(FU(q.b,xv(dB,gAb,12,0,0,1)),47);for(d=0,f=g.length;d<f;++d){b=g[d];eW(b,C);gJ(b.a,b.a.b,i)}g=Wv(FU(s.e,xv(dB,gAb,12,s.e.c.length,0,1)),47);for(c=0,e=g.length;c<e;++c){b=g[c];dW(b,C);gJ(b.a,0,v)}dW(t,null);eW(t,null);u.c[u.c.length]=n}}for(o=new _7(u);o.a<o.c.c.length;){n=Wv(QJ(o),9);rX(n,null)}}function _tb(){function e(){this.obj=this.createObject()};e.prototype.createObject=function(a){return Object.create(null)};e.prototype.get=function(a){return this.obj[a]};e.prototype.set=function(a,b){this.obj[a]=b};e.prototype[$Ab]=function(a){delete this.obj[a]};e.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)};e.prototype.entries=function(){var b=this.keys();var c=this;var d=0;return{'next':function(){if(d>=b.length)return{'done':true};var a=b[d++];return{'value':[a,c.get(a)],'done':false}}}};if(!Ztb()){e.prototype.createObject=function(){return{}};e.prototype.get=function(a){return this.obj[':'+a]};e.prototype.set=function(a,b){this.obj[':'+a]=b};e.prototype[$Ab]=function(a){delete this.obj[':'+a]};e.prototype.keys=function(){var a=[];for(var b in this.obj){b.charCodeAt(0)==58&&a.push(b.substring(1))}return a}}return e}function fQ(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;k=new kW;sJ(k,PP,b);Wr(a.e,b,k);sJ(k,(Rib(),zib),c);!!a.d&&iQ(a.d,k,false);hQ(b,k);if(Lzb in b.a){q=k.a;r=Wv(Pu(b,Lzb),69);p=Wv(Pu(r,'left'),104);!!p&&(q.b=p.a);t=Wv(Pu(r,'top'),104);!!t&&(q.d=t.a);s=Wv(Pu(r,'right'),104);!!s&&(q.c=s.a);e=Wv(Pu(r,Azb),104);!!e&&(q.a=e.a)}l=(d=Wv(Zd(mF),11),new Ln(d,Wv(fq(d,d.length),11),0));sJ(k,jib,l);a.g==null&&(a.g=Xv(rJ(k,(zQ(),yQ))));if(Mzb in b.a){u=Pu(b,Mzb);if(!u.hc()){throw new GQ("The 'children' property of nodes must be an array.",u,b)}j=u.hc();if(j.a.length>0){!!c&&sJ(c,sib,k);h=xv(qB,Nzb,9,j.a.length,0,1);for(n=0;n<j.a.length;++n){i=gu(j,n);if(!i.kc()){throw new GQ("A 'children' array contains a non-object node element.",i,b)}f=eQ(a,i.kc(),k);h[n]=f}for(m=0;m<j.a.length;++m){o=gu(j,m).kc();g=h[m];Mzb in o.a&&!jc(kc(Xv(rJ(g,(eM(),KL)))))&&fQ(a,o,g)}}}return k}function LO(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(!Gj(new _7(AW(a.e)))){return}for(h=new _7(AW(a.e));h.a<h.c.c.length;){g=Wv(QJ(h),161);j=Wv(g.e,7).g.e;++a.o[j];switch(Wv(g.e,7).g.e){case 4:case 2:a.n[j]+=g.e.j.b+(b?(d=Wv(g.e,7).d,new EP(d.d,d.b,d.a,d.c)).a+(e=Wv(g.e,7).d,new EP(e.d,e.b,e.a,e.c)).d:0);break;case 1:case 3:a.n[j]+=g.e.j.a+(b?(f=Wv(g.e,7).d,new EP(f.d,f.b,f.a,f.c)).b+(c=Wv(g.e,7).d,new EP(c.d,c.b,c.a,c.c)).c:0);}}i=Wv(oW(a.e,(eM(),NL)),100);i=i==(zM(),yM)?xM:i;a.g[1]=Wv(oW(a.e,PL),100);a.g[3]=Wv(oW(a.e,QL),100);a.g[4]=Wv(oW(a.e,RL),100);a.g[2]=Wv(oW(a.e,OL),100);for(l=(sN(),Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN])),n=0,p=l.length;n<p;++n){j=l[n];a.g[j.e]=a.g[j.e]==yM?i:a.g[j.e]}a.b=oW(a.e,jL)!=null;for(k=Bv(tv(Kz,1),uyb,32,0,[qN,$M,ZM,pN,rN]),m=0,o=k.length;m<o;++m){j=k[m];a.o[j.e]==1?(a.i[j.e]=2):!a.b&&a.g[j.e]==xM?(a.i[j.e]=a.o[j.e]+1):(a.i[j.e]=a.o[j.e]-1)}}function Tfb(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;i=Wv(a.a,16);p=Wv(a.b,16);j=Wv(b.a,18);q=Wv(b.b,18);if(i){for(l=new _7(i.a);l.a<l.c.c.length;){k=Wv(QJ(l),9);for(t=nX(k,(sN(),ZM)).mb();t.G();){s=Wv(t.H(),7);j.ib(s);for(h=new _7(s.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);if(bW(g)){continue}c.c[c.c.length]=g;Ufb(g,d);r=g.c.f.g;(r==(CX(),AX)||r==BX)&&(e.c[e.c.length]=g,true);v=g.d;u=v.f.d;u==p?q.ib(v):u==i?j.ib(v):BU(c,g)}}}}if(p){for(l=new _7(p.a);l.a<l.c.c.length;){k=Wv(QJ(l),9);for(o=new _7(k.f);o.a<o.c.c.length;){n=Wv(QJ(o),7);for(h=new _7(n.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);bW(g)&&(m=f.a.db(g,f),m==null)}}for(t=nX(k,(sN(),rN)).mb();t.G();){s=Wv(t.H(),7);q.ib(s);for(h=new _7(s.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);if(bW(g)){continue}c.c[c.c.length]=g;Ufb(g,d);r=g.c.f.g;(r==(CX(),AX)||r==BX)&&(e.c[e.c.length]=g,true);v=g.d;u=v.f.d;u==p?q.ib(v):u==i?j.ib(v):BU(c,g)}}}}}function acb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B;t=b.c.length;e=new Cbb(a.b,c,null,null);B=xv(kw,hyb,26,t,12,1);p=xv(kw,hyb,26,t,12,1);o=xv(kw,hyb,26,t,12,1);q=0;for(h=0;h<t;h++){p[h]=$xb;o[h]=eyb}for(i=0;i<t;i++){d=(gV(i,b.c.length),Wv(b.c[i],81));B[i]=Abb(d);B[q]>B[i]&&(q=i);for(l=new _7(a.b.c);l.a<l.c.c.length;){k=Wv(QJ(l),16);for(s=new _7(k.a);s.a<s.c.c.length;){r=Wv(QJ(s),9);w=kc(d.n[r.k])+kc(d.d[r.k]);p[i]=p[i]<w?p[i]:w;o[i]=nd(o[i],w+r.j.b)}}}A=xv(kw,hyb,26,t,12,1);for(j=0;j<t;j++){(gV(j,b.c.length),Wv(b.c[j],81)).k==(WN(),Jbb)?(A[j]=p[q]-p[j]):(A[j]=o[q]-o[j])}f=xv(kw,hyb,26,t,12,1);for(n=new _7(a.b.c);n.a<n.c.c.length;){m=Wv(QJ(n),16);for(v=new _7(m.a);v.a<v.c.c.length;){u=Wv(QJ(v),9);for(g=0;g<t;g++){f[g]=kc((gV(g,b.c.length),Wv(b.c[g],81)).n[u.k])+kc((gV(g,b.c.length),Wv(b.c[g],81)).d[u.k])+A[g]}Ho(f);e.n[u.k]=(f[1]+f[2])/2;e.d[u.k]=0}}return e}function Sfb(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;p=null;c==(ou(),dgb)?(p=a):c==egb&&(p=b);for(r=(m=(new e7(p.a)).a.bb().mb(),new r7(m));r.a.G();){q=(k=Wv(r.a.H(),21),Wv(k.yb(),7));s=MI(Bv(tv(qz,1),Fzb,10,0,[q.f.i,q.i,q.a])).b;v=new Lb;g=new Lb;for(i=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[q.b,q.e]))))));Cm(i);){h=Wv(Dm(i),12);if(jc(kc(Xv(rJ(h,(Rib(),Iib)))))!=d){continue}if(zU(e,h,0)!=-1){h.d==q?(t=h.c):(t=h.d);u=MI(Bv(tv(qz,1),Fzb,10,0,[t.f.i,t.i,t.a])).b;if((u-s<=0?0-(u-s):u-s)<0.2){continue}u<s?a.a.R(t)?_p(v,new RJ(dgb,h)):_p(v,new RJ(egb,h)):a.a.R(t)?_p(g,new RJ(dgb,h)):_p(g,new RJ(egb,h))}}if(v.a.Y()>1){vU(f,new mgb(q,v,c));for(o=(l=(new e7(v.a)).a.bb().mb(),new r7(l));o.a.G();){n=(j=Wv(o.a.H(),21),Wv(j.yb(),27));BU(e,n.b)}}if(g.a.Y()>1){vU(f,new mgb(q,g,c));for(o=(l=(new e7(g.a)).a.bb().mb(),new r7(l));o.a.G();){n=(j=Wv(o.a.H(),21),Wv(j.yb(),27));BU(e,n.b)}}}}function dab(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A;e=0;s=0;r=(mp(),new K9);d=new K9;f=new K9;A=new K9;fab(a,f,A);b=null;q=0;w=0;t=true;i=true;for(m=0,o=a.length;m<o;++m){k=a[m];for(v=new _7(k.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);switch(u.g.e){case 2:e+=cab(u,f);break;case 4:e+=cab(u,A);}}p=k.g;if(i&&(p==(CX(),AX)||p==BX)){j=Wv(rJ(k,(Rib(),nib)),9);if(!j){i=false;continue}if(b!=j){!!b&&Wr(r,b,new RJ(Elb(q),Elb(w)));b=j;q=0;w=0;t=true}k==b&&(t=false);if(t){q+=Wv(rJ(k,aib),24).a;Wr(d,k,Elb(q))}else{w+=Wv(rJ(k,aib),24).a;Wr(d,k,Elb(w))}}}!!b&&Wr(r,b,new RJ(Elb(q),Elb(w)));if(i){h=null;g=0;c=0;t=true;for(l=0,n=a.length;l<n;++l){k=a[l];p=k.g;switch(p.e){case 0:g=Wv(re(Ju(d.d,k)),24).a;c=Wv(Wv(re(Ju(r.d,k)),27).b,24).a;h=k;t=false;break;case 3:g=Wv(re(Ju(d.d,k)),24).a;j=Wv(rJ(k,(Rib(),nib)),9);if(j!=h){c=Wv(Wv(re(Ju(r.d,j)),27).a,24).a;h=j;t=true}break;default:s+=t?g:c-g;}}}return e+s}function S4(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;l=(mp(),new K9);j=new xk;for(d=new _7(a.a.a.b);d.a<d.c.c.length;){b=Wv(QJ(d),25);if(aw(b,93)){k=Wv(b,93).b;Ltb(l.d,k,b)}else if(aw(b,82)){for(f=(o=(new e7(Wv(b,82).d.a)).a.bb().mb(),new r7(o));f.a.G();){e=(g=Wv(f.a.H(),21),Wv(g.yb(),12));Fd(j,e,b)}}}for(c=new _7(a.a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);if(aw(b,93)){k=Wv(b,93).b;for(i=Uh(mX(k));Cm(i);){h=Wv(Dm(i),12);if(bW(h)){continue}q=h.c;t=h.d;if((sN(),jN).kb(h.c.g)&&jN.kb(h.d.g)){continue}r=Wv(Qq(l,h.d.f),25);f7(i7(h7(j7(g7(new k7,0),100),a.c[b.f.d]),a.c[r.f.d]));if(q.g==rN&&TX((LX(),IX,q))){for(n=Wv(Dd(j,h),18).mb();n.G();){m=Wv(n.H(),25);if(m.j.d<b.j.d){p=a.c[m.f.d];s=a.c[b.f.d];if(p==s){continue}f7(i7(h7(j7(g7(new k7,1),100),p),s))}}}if(t.g==ZM&&WX((LX(),GX,t))){for(n=Wv(Dd(j,h),18).mb();n.G();){m=Wv(n.H(),25);if(m.j.d>b.j.d){p=a.c[b.f.d];s=a.c[m.f.d];if(p==s){continue}f7(i7(h7(j7(g7(new k7,1),100),p),s))}}}}}}}function t3(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;g=new z3(a);h=Ao(pl(b,g));JR(h,new C3);e=a.b;switch(e.c){case 2:i=new E3(e.a);c=Al(pl(h,i));od(c)?(j=Wv(pd(c),91).b):(j=15);i=new E3(Jeb(e));c=Al(pl(h,i));od(c)?(f=Wv(pd(c),91).b):(f=15);i=new E3(e.b);c=Al(pl(h,i));od(c)?(k=Wv(pd(c),91).b):(k=15);d=p3(a,j,f,k);_p(b,new w3(d,a.c,a.e,a.a.c.f,e.a));_p(b,new w3(d,a.c,a.e,a.a.c.f,Jeb(e)));_p(b,new w3(d,a.c,a.e,a.a.c.f,e.b));break;case 1:i=new E3(e.a);c=Al(pl(h,i));od(c)?(j=Wv(pd(c),91).b):(j=15);i=new E3(e.b);c=Al(pl(h,i));od(c)?(k=Wv(pd(c),91).b):(k=15);d=q3(a,j,k);_p(b,new w3(d,a.c,a.e,a.a.c.f,e.a));_p(b,new w3(d,a.c,a.e,a.a.c.f,e.b));break;case 0:i=new E3(e.a);c=Al(pl(h,i));od(c)?(j=Wv(pd(c),91).b):(j=15);d=(l=a.b,m=xfb(a.a.c,a.a.d,j),Ue(a.a.a,Veb(m)),n=s3(a.a.b,m.a,l),o=new XS((!m.k&&(m.k=new Efb(a_(m))),m.k)),Ut(o),!n?o:Kq(o,n));_p(b,new w3(d,a.c,a.e,a.a.c.f,e.a));break;default:throw new oc('The loopside must be defined.');}return d}function Pbb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(h=new _7(a.a.c);h.a<h.c.c.length;){f=Wv(QJ(h),16);for(t=new _7(f.a);t.a<t.c.c.length;){s=Wv(QJ(t),9);b.f[s.k]=s;b.a[s.k]=s;b.d[s.k]=0}}i=a.a.c;b.c==(nu(),Ebb)&&(i=aw(i,87)?Ii(Wv(i,87)):aw(i,88)?Wv(i,88).a:aw(i,63)?new ap(i):new Ro(i));for(g=i.mb();g.G();){f=Wv(g.H(),16);n=-1;m=f.a;if(b.k==(WN(),Kbb)){n=$xb;m=aw(m,87)?Ii(Wv(m,87)):aw(m,88)?Wv(m,88).a:aw(m,63)?new ap(m):new Ro(m)}for(v=m.mb();v.G();){u=Wv(v.H(),9);b.c==Ebb?(l=Wv(yU(a.b.f,u.k),20)):(l=Wv(yU(a.b.b,u.k),20));if(l.Y()>0){d=l.Y();j=hw(Math.floor((d+1)/2))-1;e=hw(Math.ceil((d+1)/2))-1;if(b.k==Kbb){for(k=e;k>=j;k--){if(b.a[u.k]==u){p=Wv(l.sb(k),27);o=Wv(p.a,9);if(!De(c,p.b)&&n>a.b.e[o.k]){b.a[o.k]=u;b.f[u.k]=b.f[o.k];b.a[u.k]=b.f[u.k];n=a.b.e[o.k]}}}}else{for(k=j;k<=e;k++){if(b.a[u.k]==u){r=Wv(l.sb(k),27);q=Wv(r.a,9);if(!De(c,r.b)&&n<a.b.e[q.k]){b.a[q.k]=u;b.f[u.k]=b.f[q.k];b.a[u.k]=b.f[u.k];n=a.b.e[q.k]}}}}}}}}function Ieb(){Ieb=E;meb=new LR('N',0,(sN(),$M),$M,0);jeb=new LR('EN',1,ZM,$M,1);ieb=new LR('E',2,ZM,ZM,0);peb=new LR('SE',3,pN,ZM,1);oeb=new LR('S',4,pN,pN,0);Heb=new LR('WS',5,rN,pN,1);Geb=new LR('W',6,rN,rN,0);neb=new LR('NW',7,$M,rN,1);keb=new LR('ENW',8,ZM,rN,2);leb=new LR('ESW',9,ZM,rN,2);qeb=new LR('SEN',10,pN,$M,2);Eeb=new LR('SWN',11,pN,$M,2);Feb=new LR(szb,12,qN,qN,3);feb=bk(meb,jeb,ieb,peb,oeb,Heb,Bv(tv(_E,1),uyb,60,0,[Geb,neb,keb,leb,qeb,Eeb]));heb=(hi(),Zj(Bv(tv(UF,1),syb,1,4,[meb,ieb,oeb,Geb])));geb=Zj(Bv(tv(UF,1),syb,1,4,[jeb,peb,Heb,neb]));veb=new Gr($M);seb=Zj(Bv(tv(UF,1),syb,1,4,[ZM,$M]));reb=new Gr(ZM);yeb=Zj(Bv(tv(UF,1),syb,1,4,[pN,ZM]));xeb=new Gr(pN);Deb=Zj(Bv(tv(UF,1),syb,1,4,[rN,pN]));Ceb=new Gr(rN);web=Zj(Bv(tv(UF,1),syb,1,4,[$M,rN]));teb=Zj(Bv(tv(UF,1),syb,1,4,[ZM,$M,rN]));ueb=Zj(Bv(tv(UF,1),syb,1,4,[ZM,pN,rN]));Aeb=Zj(Bv(tv(UF,1),syb,1,4,[pN,rN,$M]));zeb=Zj(Bv(tv(UF,1),syb,1,4,[pN,ZM,$M]));Beb=(kr(),jr)}function JZ(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;s=0;if(b.e.a==0){for(q=new _7(a);q.a<q.c.c.length;){o=Wv(QJ(q),9);s=nd(s,o.i.a+o.j.a+o.e.c)}}else{s=b.e.a-b.d.a}s-=b.d.a;for(p=new _7(a);p.a<p.c.c.length;){o=Wv(QJ(p),9);IZ(o.i,s-o.j.a);GZ(o);switch(Wv(rJ(o,(eM(),lL)),103).e){case 1:sJ(o,lL,(iK(),gK));break;case 2:sJ(o,lL,(iK(),fK));}r=o.j;for(u=new _7(o.f);u.a<u.c.c.length;){t=Wv(QJ(u),7);IZ(t.i,r.a-t.j.a);IZ(t.a,t.j.a);QX(t,CZ(t.g));g=Wv(rJ(t,UL),24);!!g&&sJ(t,UL,Elb(-g.a));for(f=new _7(t.e);f.a<f.c.c.length;){e=Wv(QJ(f),12);for(d=WI(e.a,0);d.b!=d.d.c;){c=Wv(tS(d),10);c.a=s-c.a}j=Wv(rJ(e,CL),44);if(j){for(i=WI(j,0);i.b!=i.d.c;){h=Wv(tS(i),10);h.a=s-h.a}}for(m=new _7(e.b);m.a<m.c.c.length;){k=Wv(QJ(m),33);IZ(k.i,s-k.j.a)}}for(n=new _7(t.c);n.a<n.c.c.length;){k=Wv(QJ(n),33);IZ(k.i,-k.j.a)}}if(o.g==(CX(),xX)){sJ(o,(Rib(),hib),CZ(Wv(rJ(o,hib),32)));FZ(o)}for(l=new _7(o.c);l.a<l.c.c.length;){k=Wv(QJ(l),33);IZ(k.i,r.a-k.j.a)}}}function LZ(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;s=0;if(b.e.b==0){for(q=new _7(a);q.a<q.c.c.length;){o=Wv(QJ(q),9);s=nd(s,o.i.b+o.j.b+o.e.a)}}else{s=b.e.b-b.d.b}s-=b.d.b;for(p=new _7(a);p.a<p.c.c.length;){o=Wv(QJ(p),9);KZ(o.i,s-o.j.b);HZ(o);switch(Wv(rJ(o,(eM(),lL)),103).e){case 3:sJ(o,lL,(iK(),dK));break;case 4:sJ(o,lL,(iK(),hK));}r=o.j;for(u=new _7(o.f);u.a<u.c.c.length;){t=Wv(QJ(u),7);KZ(t.i,r.b-t.j.b);KZ(t.a,t.j.b);QX(t,DZ(t.g));g=Wv(rJ(t,UL),24);!!g&&sJ(t,UL,Elb(-g.a));for(f=new _7(t.e);f.a<f.c.c.length;){e=Wv(QJ(f),12);for(d=WI(e.a,0);d.b!=d.d.c;){c=Wv(tS(d),10);c.b=s-c.b}j=Wv(rJ(e,CL),44);if(j){for(i=WI(j,0);i.b!=i.d.c;){h=Wv(tS(i),10);h.b=s-h.b}}for(m=new _7(e.b);m.a<m.c.c.length;){k=Wv(QJ(m),33);KZ(k.i,s-k.j.b)}}for(n=new _7(t.c);n.a<n.c.c.length;){k=Wv(QJ(n),33);KZ(k.i,-k.j.b)}}if(o.g==(CX(),xX)){sJ(o,(Rib(),hib),DZ(Wv(rJ(o,hib),32)));EZ(o)}for(l=new _7(o.c);l.a<l.c.c.length;){k=Wv(QJ(l),33);KZ(k.i,r.b-k.j.b)}}}function qP(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;d=new VN(b.e.i.a,b.e.i.b,b.e.j.a,b.e.j.b);e=new UN;if(a.c){for(g=new _7(zW(b));g.a<g.c.c.length;){f=Wv(QJ(g),129);e.d=f.e.i.a+b.e.i.a;e.e=f.e.i.b+b.e.i.b;e.c=f.e.j.a;e.b=f.e.j.b;TN(d,e)}}for(k=new _7(AW(b));k.a<k.c.c.length;){j=Wv(QJ(k),161);l=j.e.i.a+b.e.i.a;m=j.e.i.b+b.e.i.b;if(a.e){e.d=l;e.e=m;e.c=j.e.j.a;e.b=j.e.j.b;TN(d,e)}if(a.d){for(g=new _7(DW(j));g.a<g.c.c.length;){f=Wv(QJ(g),129);e.d=f.e.i.a+l;e.e=f.e.i.b+m;e.c=f.e.j.a;e.b=f.e.j.b;TN(d,e)}}if(a.b){n=new HI(-c,-c);if(gw(oW(b,(eM(),VL)))===gw((UM(),TM))){for(g=new _7(DW(j));g.a<g.c.c.length;){f=Wv(QJ(g),129);n.a+=f.e.j.a+c;n.b+=f.e.j.b+c}}n.a=nd(n.a,0);n.b=nd(n.b,0);pP(d,EW(j),CW(j),b,j,n,c)}}a.b&&pP(d,(ct(),ct(),vpb),(null,vpb),b,null,null,c);i=new FP((h=Wv(b.e,9).e,new EP(h.d,h.b,h.a,h.c)));i.d=b.e.i.b-d.e;i.a=d.e+d.b-(b.e.i.b+b.e.j.b);i.b=b.e.i.a-d.d;i.c=d.d+d.c-(b.e.i.a+b.e.j.a);Wv(b.e,9).e.b=i.b;Wv(b.e,9).e.d=i.d;Wv(b.e,9).e.c=i.c;Wv(b.e,9).e.a=i.a}function XT(){XT=E;WT=new xk;Fd(WT,(sN(),dN),hN);Fd(WT,oN,kN);Fd(WT,oN,hN);Fd(WT,_M,gN);Fd(WT,_M,hN);Fd(WT,eN,iN);Fd(WT,eN,hN);Fd(WT,mN,bN);Fd(WT,mN,hN);Fd(WT,jN,cN);Fd(WT,jN,iN);Fd(WT,jN,bN);Fd(WT,jN,hN);Fd(WT,cN,jN);Fd(WT,cN,kN);Fd(WT,cN,gN);Fd(WT,cN,hN);Fd(WT,lN,lN);Fd(WT,lN,iN);Fd(WT,lN,kN);Fd(WT,fN,fN);Fd(WT,fN,iN);Fd(WT,fN,gN);Fd(WT,nN,nN);Fd(WT,nN,bN);Fd(WT,nN,kN);Fd(WT,aN,aN);Fd(WT,aN,bN);Fd(WT,aN,gN);Fd(WT,iN,eN);Fd(WT,iN,jN);Fd(WT,iN,lN);Fd(WT,iN,fN);Fd(WT,iN,iN);Fd(WT,iN,kN);Fd(WT,iN,gN);Fd(WT,iN,hN);Fd(WT,bN,mN);Fd(WT,bN,jN);Fd(WT,bN,nN);Fd(WT,bN,aN);Fd(WT,bN,bN);Fd(WT,bN,kN);Fd(WT,bN,gN);Fd(WT,bN,hN);Fd(WT,kN,oN);Fd(WT,kN,cN);Fd(WT,kN,lN);Fd(WT,kN,nN);Fd(WT,kN,iN);Fd(WT,kN,bN);Fd(WT,kN,kN);Fd(WT,kN,hN);Fd(WT,gN,_M);Fd(WT,gN,cN);Fd(WT,gN,fN);Fd(WT,gN,aN);Fd(WT,gN,iN);Fd(WT,gN,bN);Fd(WT,gN,gN);Fd(WT,gN,hN);Fd(WT,hN,dN);Fd(WT,hN,oN);Fd(WT,hN,_M);Fd(WT,hN,eN);Fd(WT,hN,mN);Fd(WT,hN,jN);Fd(WT,hN,cN);Fd(WT,hN,iN);Fd(WT,hN,bN);Fd(WT,hN,kN);Fd(WT,hN,gN);Fd(WT,hN,hN)}function Tbb(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(c.n[b.k]!=null){return}i=true;c.n[b.k]=0;g=b;r=c.k==(WN(),Jbb)?Vzb:Uzb;do{e=a.b.e[g.k];f=g.d.a.c.length;h=g.g;if(c.k==Jbb&&e>0||c.k==Kbb&&e<f-1){c.k==Kbb?(j=Wv(yU(g.d.a,e+1),9)):(j=Wv(yU(g.d.a,e-1),9));l=c.f[j.k];k=j.g;Tbb(a,l,c);r=a.e.Ic(r,b,g);c.i[b.k]==b&&(c.i[b.k]=c.i[l.k]);if(c.i[b.k]==c.i[l.k]){q=xm(a.d,h,k);if(c.k==Kbb){d=kc(c.n[b.k]);n=kc(c.n[l.k])+kc(c.d[j.k])-j.e.d-q-g.e.a-g.j.b-kc(c.d[g.k]);if(i){i=false;c.n[b.k]=n<r?n:r}else{c.n[b.k]=d<(n<r?n:r)?d:n<r?n:r}}else{d=kc(c.n[b.k]);n=kc(c.n[l.k])+kc(c.d[j.k])+j.j.b+j.e.a+q+g.e.d-kc(c.d[g.k]);if(i){i=false;c.n[b.k]=n>r?n:r}else{c.n[b.k]=d>(n>r?n:r)?d:n>r?n:r}}}else{q=a.d.f;p=e_(a,c.i[b.k]);m=e_(a,c.i[l.k]);if(c.k==Kbb){o=kc(c.n[b.k])+kc(c.d[g.k])+g.j.b+g.e.a+q-(kc(c.n[l.k])+kc(c.d[j.k])-j.e.d);HJ(p,m,o)}else{o=kc(c.n[b.k])+kc(c.d[g.k])-g.e.d-kc(c.n[l.k])-kc(c.d[j.k])-j.j.b-j.e.a-q;HJ(p,m,o)}}}else{r=a.e.Ic(r,b,g)}g=c.a[g.k]}while(g!=b);Ra(a.e,b)}function sZ(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;m=false;l=false;if(MM(Wv(rJ(d,(eM(),TL)),28))){g=false;h=false;t:for(o=new _7(d.f);o.a<o.c.c.length;){n=Wv(QJ(o),7);for(q=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[new fY(n),new lY(n)]))))));Cm(q);){p=Wv(Dm(q),7);if(!jc(kc(Xv(rJ(p.f,qL))))){if(n.g==(sN(),$M)){g=true;break t}if(n.g==pN){h=true;break t}}}}m=h&&!g;l=g&&!h}if(!m&&!l&&d.c.c.length!=0){k=0;for(j=new _7(d.c);j.a<j.c.c.length;){i=Wv(QJ(j),33);k+=i.i.b+i.j.b/2}k/=d.c.c.length;s=k>=d.j.b/2}else{s=!l}if(s){r=Wv(rJ(d,(Rib(),Qib)),20);if(!r){f=new GU;sJ(d,Qib,f)}else if(m){f=r}else{e=Wv(rJ(d,Yhb),20);if(!e){f=new GU;sJ(d,Yhb,f)}else{r.Y()<=e.Y()?(f=r):(f=e)}}}else{e=Wv(rJ(d,(Rib(),Yhb)),20);if(!e){f=new GU;sJ(d,Yhb,f)}else if(l){f=e}else{r=Wv(rJ(d,Qib),20);if(!r){f=new GU;sJ(d,Qib,f)}else{e.Y()<=r.Y()?(f=e):(f=r)}}}f.ib(a);sJ(a,(Rib(),Zhb),c);if(b.d==c){eW(b,null);c.b.c.length+c.e.c.length==0&&PX(c,null)}else{dW(b,null);c.b.c.length+c.e.c.length==0&&PX(c,null)}_I(b.a)}function rU(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;c=new bV(b);c.a||kU(b);j=jU(b);i=new xk;q=new oV;for(p=new _7(b.b);p.a<p.c.c.length;){o=Wv(QJ(p),9);for(e=Uh(mX(o));Cm(e);){d=Wv(Dm(e),12);if(d.c.f.g==(CX(),xX)||d.d.f.g==xX){k=qU(a,d,j,q);Fd(i,oU(k.d),k.a)}}}g=new GU;for(t=Wv(rJ(c.c,(Rib(),fib)),18).mb();t.G();){s=Wv(t.H(),32);n=q.c[s.e];m=q.b[s.e];h=q.a[s.e];f=null;r=null;switch(s.e){case 4:f=new VN(a.d.a,n,j.b.a-a.d.a,m-n);r=new VN(a.d.a,n,h,m-n);YU(j,new HI(f.d+f.c,f.e));YU(j,new HI(f.d+f.c,f.e+f.b));break;case 2:f=new VN(j.a.a,n,a.c.a-j.a.a,m-n);r=new VN(a.c.a-h,n,h,m-n);YU(j,new HI(f.d,f.e));YU(j,new HI(f.d,f.e+f.b));break;case 1:f=new VN(n,a.d.b,m-n,j.b.b-a.d.b);r=new VN(n,a.d.b,m-n,h);YU(j,new HI(f.d,f.e+f.b));YU(j,new HI(f.d+f.c,f.e+f.b));break;case 3:f=new VN(n,j.a.b,m-n,a.c.b-j.a.b);r=new VN(n,a.c.b-h,m-n,h);YU(j,new HI(f.d,f.e));YU(j,new HI(f.d+f.c,f.e));}if(f){l=new jV;l.d=s;l.b=f;l.c=r;l.a=pr(Wv(Dd(i,oU(s)),18));g.c[g.c.length]=l}}xU(c.b,g);c.d=pT(tT(j));return c}function tt(){var a=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000B','\\f','\\r','\\u000E','\\u000F','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001A','\\u001B','\\u001C','\\u001D','\\u001E','\\u001F'];a[34]='\\"';a[92]='\\\\';a[173]='\\u00ad';a[1536]='\\u0600';a[1537]='\\u0601';a[1538]='\\u0602';a[1539]='\\u0603';a[1757]='\\u06dd';a[1807]='\\u070f';a[6068]='\\u17b4';a[6069]='\\u17b5';a[8203]='\\u200b';a[8204]='\\u200c';a[8205]='\\u200d';a[8206]='\\u200e';a[8207]='\\u200f';a[8232]='\\u2028';a[8233]='\\u2029';a[8234]='\\u202a';a[8235]='\\u202b';a[8236]='\\u202c';a[8237]='\\u202d';a[8238]='\\u202e';a[8288]='\\u2060';a[8289]='\\u2061';a[8290]='\\u2062';a[8291]='\\u2063';a[8292]='\\u2064';a[8298]='\\u206a';a[8299]='\\u206b';a[8300]='\\u206c';a[8301]='\\u206d';a[8302]='\\u206e';a[8303]='\\u206f';a[65279]='\\ufeff';a[65529]='\\ufff9';a[65530]='\\ufffa';a[65531]='\\ufffb';return a}function eab(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;b=0;r=true;w=null;for(d=0;d<a.length;d++){f=a[d];q=f.g;if(q==(CX(),AX)){w=f;r=false}else if(q==BX){if(aw(rJ(f,(Rib(),uib)),12)){continue}c=Wv(rJ(f,uib),9);if(w!=c){w=c;r=true}if(!LM(Wv(rJ(c,(eM(),TL)),28))){continue}m=null;o=null;for(t=new _7(f.f);t.a<t.c.c.length;){s=Wv(QJ(t),7);s.b.c.length==0?s.e.c.length==0||(o=Wv(rJ(s,uib),7)):(m=Wv(rJ(s,uib),7))}for(e=d+1;e<a.length;e++){g=a[e];l=g.g;if(l==AX){break}else if(l==BX){if(gw(rJ(g,uib))!==gw(c)){break}h=null;j=null;for(v=new _7(g.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);u.b.c.length==0?u.e.c.length==0||(j=Wv(rJ(u,uib),7)):(h=Wv(rJ(u,uib),7))}if(r){n=false;p=false;if(!!o&&!!h&&o.k<h.k){++b;p=true}if(!!m&&!!j&&m.k>j.k){++b;n=true}if(!!o&&!!j&&o.k>j.k){++b;p=true}if(!!m&&!!h&&m.k<h.k){++b;n=true}n&&p&&m==o&&--b}else{i=false;k=false;if(!!m&&!!j&&m.k<j.k){++b;k=true}if(!!o&&!!h&&o.k>h.k){++b;i=true}if(!!m&&!!h&&m.k<h.k){++b;i=true}if(!!o&&!!j&&o.k>j.k){++b;k=true}i&&k&&h==j&&--b}}}}}return b}function Oab(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D;for(t=a.a,u=0,v=t.length;u<v;++u){s=t[u];j=$xb;k=$xb;for(o=new _7(s.f);o.a<o.c.c.length;){m=Wv(QJ(o),9);g=!m.d?-1:zU(m.d.a,m,0);if(g>0){l=Wv(yU(m.d.a,g-1),9);B=gn(a.b,m,l);q=m.i.b-m.e.d-(l.i.b+l.j.b+l.e.a+B)}else{q=m.i.b-m.e.d}j=q<j?q:j;if(g<m.d.a.c.length-1){l=Wv(yU(m.d.a,g+1),9);B=gn(a.b,m,l);r=l.i.b-l.e.d-(m.i.b+m.j.b+m.e.a+B)}else{r=2*m.i.b}k=r<k?r:k}i=$xb;f=false;e=Wv(yU(s.f,0),9);for(D=new _7(e.f);D.a<D.c.c.length;){C=Wv(QJ(D),7);p=e.i.b+C.i.b+C.a.b;for(d=new _7(C.b);d.a<d.c.c.length;){c=Wv(QJ(d),12);w=c.c;b=w.f.i.b+w.i.b+w.a.b-p;if((b<=0?0-b:b)<(i<=0?0-i:i)&&(b<=0?0-b:b)<(b<0?j:k)){i=b;f=true}}}h=Wv(yU(s.f,s.f.c.length-1),9);for(A=new _7(h.f);A.a<A.c.c.length;){w=Wv(QJ(A),7);p=h.i.b+w.i.b+w.a.b;for(d=new _7(w.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);C=c.d;b=C.f.i.b+C.i.b+C.a.b-p;if((b<=0?0-b:b)<(i<=0?0-i:i)&&(b<=0?0-b:b)<(b<0?j:k)){i=b;f=true}}}if(f&&i!=0){for(n=new _7(s.f);n.a<n.c.c.length;){m=Wv(QJ(n),9);m.i.b+=i}}}}function bU(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D;l=dU($T(a,(sN(),dN)),b);o=cU($T(a,eN),b);u=cU($T(a,mN),b);B=eU($T(a,oN),b);m=eU($T(a,_M),b);s=cU($T(a,lN),b);p=cU($T(a,fN),b);w=cU($T(a,nN),b);v=cU($T(a,aN),b);C=eU($T(a,cN),b);r=cU($T(a,jN),b);t=cU($T(a,iN),b);A=cU($T(a,bN),b);D=eU($T(a,kN),b);n=eU($T(a,gN),b);q=cU($T(a,hN),b);c=oJ(Bv(tv(kw,1),hyb,26,12,[s.a,B.a,w.a,D.a]));d=oJ(Bv(tv(kw,1),hyb,26,12,[o.a,l.a,u.a,q.a]));e=r.a;f=oJ(Bv(tv(kw,1),hyb,26,12,[p.a,m.a,v.a,n.a]));j=oJ(Bv(tv(kw,1),hyb,26,12,[s.b,o.b,p.b,t.b]));i=oJ(Bv(tv(kw,1),hyb,26,12,[B.b,l.b,m.b,q.b]));k=C.b;h=oJ(Bv(tv(kw,1),hyb,26,12,[w.b,u.b,v.b,A.b]));VT($T(a,dN),c+e,j+k);VT($T(a,hN),c+e,j+k);VT($T(a,eN),c+e,0);VT($T(a,mN),c+e,j+k+i);VT($T(a,oN),0,j+k);VT($T(a,_M),c+e+d,j+k);VT($T(a,fN),c+e+d,0);VT($T(a,nN),0,j+k+i);VT($T(a,aN),c+e+d,j+k+i);VT($T(a,cN),0,j);VT($T(a,jN),c,0);VT($T(a,bN),0,j+k+i);VT($T(a,gN),c+e+d,0);g=new FI;g.a=oJ(Bv(tv(kw,1),hyb,26,12,[c+d+e+f,C.a,t.a,A.a]));g.b=oJ(Bv(tv(kw,1),hyb,26,12,[j+i+k+h,r.b,D.b,n.b]));return g}function Nfb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;d=new jJ;j=null;o=a.c;n=o.f.g;if(n!=(CX(),AX)&&n!=BX){throw new oc('The target node of the edge must be a normal node or a northSouthPort.')}if(n==BX){m=Wv(rJ(o,(Rib(),uib)),7);j=new HI(MI(Bv(tv(qz,1),Fzb,10,0,[m.f.i,m.i,m.a])).a,MI(Bv(tv(qz,1),Fzb,10,0,[o.f.i,o.i,o.a])).b);o=m}SI(d,MI(Bv(tv(qz,1),Fzb,10,0,[o.f.i,o.i,o.a])));g=nd(5,pgb(o.f,o.g));l=new GI(sgb(o.g));l.a*=g;l.b*=g;QI(d,vI(l,MI(Bv(tv(qz,1),Fzb,10,0,[o.f.i,o.i,o.a]))));!!j&&TI(d,j,d.c.b,d.c);f=a;i=a;h=null;c=false;while(f){e=f.a;if(e.b!=0){if(c){QI(d,CI(vI(h,(Pi(e.b!=0),Wv(e.a.a.c,10))),0.5));c=false}else{c=true}h=xI((Pi(e.b!=0),Wv(e.c.b.c,10)));Ue(d,e);_I(e)}i=f;f=Wv(re(Ju(b.d,f)),12)}p=i.d;if(p.f.g==BX){m=Wv(rJ(p,(Rib(),uib)),7);QI(d,new HI(MI(Bv(tv(qz,1),Fzb,10,0,[m.f.i,m.i,m.a])).a,MI(Bv(tv(qz,1),Fzb,10,0,[p.f.i,p.i,p.a])).b));p=m}g=nd(5,pgb(p.f,p.g));l=new GI(sgb(p.g));CI(l,g);QI(d,vI(l,MI(Bv(tv(qz,1),Fzb,10,0,[p.f.i,p.i,p.a]))));SI(d,MI(Bv(tv(qz,1),Fzb,10,0,[p.f.i,p.i,p.a])));k=new efb(d);Ue(a.a,Veb(k))}function bZ(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;if(gw(rJ(a.c,(eM(),TL)))===gw((KM(),GM))||gw(rJ(a.c,TL))===gw(FM)){for(k=new _7(a.c.f);k.a<k.c.c.length;){j=Wv(QJ(k),7);if(j.g==(sN(),$M)||j.g==pN){return false}}}for(d=Uh(mX(a.c));Cm(d);){c=Wv(Dm(d),12);if(c.c.f==c.d.f){return false}}if(MM(Wv(rJ(a.c,TL),28))){n=new GU;for(i=nX(a.c,(sN(),rN)).mb();i.G();){g=Wv(i.H(),7);vU(n,Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[g.b,g.e]))))))}o=(_b(n),new Vh(n));n=new GU;for(h=nX(a.c,ZM).mb();h.G();){g=Wv(h.H(),7);vU(n,Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[g.b,g.e]))))))}b=(_b(n),new Vh(n))}else{o=iX(a.c);b=mX(a.c)}f=!sl(mX(a.c));e=!sl(iX(a.c));if(!f&&!e){return false}if(!f){a.e=1;return true}if(!e){a.e=0;return true}if(Ul((Il(),new Im(Dl(ul(o.a,new yl)))))==1){l=(_b(o),Wv(Ql(new Im(Dl(ul(o.a,new yl)))),12)).c.f;if(l.g==(CX(),zX)&&Wv(rJ(l,(Rib(),qib)),7).f!=a.c){a.e=2;return true}}if(Ul(new Im(Dl(ul(b.a,new yl))))==1){m=(_b(b),Wv(Ql(new Im(Dl(ul(b.a,new yl)))),12)).d.f;if(m.g==(CX(),zX)&&Wv(rJ(m,(Rib(),rib)),7).f!=a.c){a.e=3;return true}}return false}function K$(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;d=new GU;e=$xb;f=$xb;g=$xb;if(c){e=a.e.a;for(p=new _7(b.f);p.a<p.c.c.length;){o=Wv(QJ(p),7);for(i=new _7(o.e);i.a<i.c.c.length;){h=Wv(QJ(i),12);if(h.a.b!=0){k=Wv(UI(h.a),10);if(k.a<e){f=e-k.a;g=$xb;d.c=xv(UF,syb,1,0,4,1);e=k.a}if(k.a<=e){d.c[d.c.length]=h;h.a.b>1&&(g=vd(g,Le(Wv(tn(h.a,1),10).b-k.b)))}}}}}else{for(p=new _7(b.f);p.a<p.c.c.length;){o=Wv(QJ(p),7);for(i=new _7(o.b);i.a<i.c.c.length;){h=Wv(QJ(i),12);if(h.a.b!=0){m=Wv(VI(h.a),10);if(m.a>e){f=m.a-e;g=$xb;d.c=xv(UF,syb,1,0,4,1);e=m.a}if(m.a>=e){d.c[d.c.length]=h;h.a.b>1&&(g=vd(g,Le(Wv(tn(h.a,h.a.b-2),10).b-m.b)))}}}}}if(d.c.length!=0&&f>b.j.a/2&&g>b.j.b/2){n=new RX;PX(n,b);QX(n,(sN(),$M));n.i.a=b.j.a/2;r=new RX;PX(r,b);QX(r,pN);r.i.a=b.j.a/2;r.i.b=b.j.b;for(i=new _7(d);i.a<i.c.c.length;){h=Wv(QJ(i),12);if(c){j=Wv(YI(h.a),10);q=h.a.b==0?MX(h.d):Wv(UI(h.a),10);q.b>=j.b?dW(h,r):dW(h,n)}else{j=Wv(ZI(h.a),10);q=h.a.b==0?MX(h.c):Wv(VI(h.a),10);q.b>=j.b?eW(h,r):eW(h,n)}l=Wv(rJ(h,(eM(),CL)),44);!!l&&Ve(l,j,true)}b.i.a=e-b.j.a/2}}function N2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;r=new GU;s=new GU;t=new GU;for(f=new _7(b);f.a<f.c.c.length;){e=Wv(QJ(f),75);e.k>50?(r.c[r.c.length]=e,true):e.k>0?(s.c[s.c.length]=e,true):(t.c[t.c.length]=e,true)}if(s.c.length==1&&r.c.length==0){xU(r,s);s.c=xv(UF,syb,1,0,4,1)}r.c.length!=0&&vk(U2(a.a),(Ieb(),meb))&&vk(U2(a.a),(Ieb(),oeb))?L2(a,r):xU(s,r);s.c.length==0||M2(a,s);if(t.c.length!=0){c=V2(a.a);if(c.c!=0){k=new _7(t);i=(_b(c),Nl((new vl(c)).a));while(k.a<k.c.c.length){e=Wv(QJ(k),75);while(k.a<k.c.c.length&&e.a.a.Y()<2){e=Wv(QJ(k),75)}if(e.a.a.Y()>1){p=Wv(nm(i),60);aeb(e,p,true);Ip(k);Y2(a.a,p)}}}m=t.c.length;d=O2(a);n=new GU;g=m/T2(a.a).c|0;for(h=0;h<g;h++){xU(n,T2(a.a))}o=m%T2(a.a).c;if(o>3){xU(n,(Ieb(),Ieb(),geb));o-=4}switch(o){case 3:vU(n,Meb(d));case 2:q=Leb(Meb(d));do{q=Leb(q)}while(!vk(U2(a.a),q));n.c[n.c.length]=q;q=Neb(Meb(d));do{q=Neb(q)}while(!vk(U2(a.a),q));n.c[n.c.length]=q;break;case 1:vU(n,Meb(d));}l=new _7(n);j=new _7(t);while(l.a<l.c.c.length&&j.a<j.c.c.length){aeb(Wv(QJ(j),75),Wv(QJ(l),60),true)}}}function G9(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;k=b.c.c.length;a.a=xv(qB,Txb,51,k,0,2);a.b=xv(qB,Txb,51,k,0,2);a.k=xv(qB,Txb,51,k,0,2);i=xv(mw,Yyb,26,k,12,1);g=xv(KH,xAb,26,k,13,1);a.c=xv(KH,xAb,26,k,13,1);a.d=xv(KH,xAb,26,k,13,1);r=0;v=0;m=new MJ(b.c,0);while(m.b<m.d.Y()){j=(Pi(m.b<m.d.Y()),Wv(m.d.sb(m.c=m.b++),16));l=m.b-1;n=j.a.c.length;a.a[l]=xv(qB,Nzb,9,n,0,1);a.k[l]=xv(qB,Nzb,9,n,0,1);a.b[l]=xv(qB,Nzb,9,n,0,1);i[l]=0;g[l]=false;s=new MJ(j.a,0);while(s.b<s.d.Y()){q=(Pi(s.b<s.d.Y()),Wv(s.d.sb(s.c=s.b++),9));a.b[l][s.b-1]=q;q.k=r++;o=Wv(rJ(q,(Rib(),nib)),9);!!o&&(Nm(a.g,o,q,null),true);for(u=new _7(q.f);u.a<u.c.c.length;){t=Wv(QJ(u),7);t.k=v++;for(f=new _7(t.e);f.a<f.c.c.length;){e=Wv(QJ(f),12);e.d.f.d==j&&++i[l]}t.g==(sN(),ZM)?t.e.c.length+t.b.c.length>1&&(a.c[l]=true):t.g==rN&&t.e.c.length+t.b.c.length>1&&(a.d[l]=true)}if(q.g==(CX(),BX)){++i[l];g[l]=true}}}c=true;p=true;for(h=0;h<a.d.length-1;h++){d=a.c[h]||a.d[h+1];c=c&d;p=p&!d}a.j=xv(lw,tAb,26,v,12,1);w=xv(mw,Yyb,26,v,12,1);if(!c){a.i=new io(i,g,w);a.f=a.i}if(!p){a.e=new jo(i,g,w);a.f=a.e}}function iU(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B;a.d=new HI(Uzb,Uzb);a.c=new HI(Vzb,Vzb);for(m=b.mb();m.G();){k=Wv(m.H(),55);for(t=new _7(k.b);t.a<t.c.c.length;){s=Wv(QJ(t),9);a.d.a=vd(a.d.a,s.i.a-s.e.b);a.d.b=vd(a.d.b,s.i.b-s.e.d);a.c.a=nd(a.c.a,s.i.a+s.j.a+s.e.c);a.c.b=nd(a.c.b,s.i.b+s.j.b+s.e.a)}}h=new cV;for(l=b.mb();l.G();){k=Wv(l.H(),55);d=rU(a,k);vU(h.a,d);d.a=d.a|!Wv(rJ(d.c,(Rib(),fib)),18).V()}a.b=(xR(),B=new HR,B.f=new kR(c),B.b=jR(B.f,h),B);BR((o=a.b,new sI,o));a.e=new FI;a.a=a.b.f.e;for(g=new _7(h.a);g.a<g.c.c.length;){e=Wv(QJ(g),347);u=CR(a.b,e);TW(e.c,u.a,u.b);for(q=new _7(e.c.b);q.a<q.c.c.length;){p=Wv(QJ(q),9);if(p.g==(CX(),xX)){r=mU(a,p.i,Wv(rJ(p,(Rib(),hib)),32));vI(BI(p.i),r)}}}for(f=new _7(h.a);f.a<f.c.c.length;){e=Wv(QJ(f),347);for(j=new _7(aV(e));j.a<j.c.c.length;){i=Wv(QJ(j),12);A=new kJ(i.a);rn(A,0,MX(i.c));QI(A,MX(i.d));n=null;for(w=WI(A,0);w.b!=w.d.c;){v=Wv(tS(w),10);if(!n){n=v;continue}if(Xs(n.a,v.a)){a.e.a=vd(a.e.a,n.a);a.a.a=nd(a.a.a,n.a)}else if(Xs(n.b,v.b)){a.e.b=vd(a.e.b,n.b);a.a.b=nd(a.a.b,n.b)}n=v}}}zI(a.e);vI(a.a,a.e)}function U1(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F;p=new HU(b.b);u=new HU(b.b);m=new HU(b.b);B=new HU(b.b);q=new HU(b.b);for(A=WI(b,0);A.b!=A.d.c;){v=Wv(tS(A),7);for(h=new _7(v.e);h.a<h.c.c.length;){f=Wv(QJ(h),12);if(f.c.f==f.d.f){if(v.g==f.d.g){B.c[B.c.length]=f;continue}else if(v.g==(sN(),$M)&&f.d.g==pN){q.c[q.c.length]=f;continue}}}}for(i=new _7(q);i.a<i.c.c.length;){f=Wv(QJ(i),12);V1(a,f,c,d,(sN(),ZM))}for(g=new _7(B);g.a<g.c.c.length;){f=Wv(QJ(g),12);C=new uX(a);sX(C,(CX(),BX));sJ(C,(eM(),TL),(KM(),FM));sJ(C,(Rib(),uib),f);D=new RX;sJ(D,uib,f.d);QX(D,(sN(),rN));PX(D,C);F=new RX;sJ(F,uib,f.c);QX(F,ZM);PX(F,C);sJ(f.c,Bib,C);sJ(f.d,Bib,C);dW(f,null);eW(f,null);c.c[c.c.length]=C;sJ(C,aib,Elb(2))}for(w=WI(b,0);w.b!=w.d.c;){v=Wv(tS(w),7);j=v.b.c.length>0;r=v.e.c.length>0;j&&r?(m.c[m.c.length]=v,true):j?(p.c[p.c.length]=v,true):r&&(u.c[u.c.length]=v,true)}for(o=new _7(p);o.a<o.c.c.length;){n=Wv(QJ(o),7);vU(e,T1(a,n,null,c))}for(t=new _7(u);t.a<t.c.c.length;){s=Wv(QJ(t),7);vU(e,T1(a,null,s,c))}for(l=new _7(m);l.a<l.c.c.length;){k=Wv(QJ(l),7);vU(e,T1(a,k,k,c))}}function ZP(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A;u=new II(b.d);i=new GU;for(t=new _7(b.b);t.a<t.c.c.length;){r=Wv(QJ(t),9);n=Wv(Qq(a.j,r),69);if(n){$P(a,r,n,u);for(w=new _7(r.f);w.a<w.c.c.length;){v=Wv(QJ(w),7);o=Wv(Qq(a.n,v),69);if(o){$P(a,v,o,QP);WP(o,(eM(),WL),new lv(yc(v.g)))}if(gw(rJ(r,(eM(),VL)))!==gw((UM(),RM))){for(q=new _7(v.c);q.a<q.c.c.length;){p=Wv(QJ(q),33);m=Wv(Qq(a.f,p),69);$P(a,p,m,QP)}}}if(Wv(rJ(r,(eM(),JL)),86).Y()!=0){for(q=new _7(r.c);q.a<q.c.c.length;){p=Wv(QJ(q),33);m=Wv(Qq(a.f,p),69);$P(a,p,m,QP)}}for(h=Uh(mX(r));Cm(h);){f=Wv(Dm(h),12);SW(f.d.f,r)||(i.c[i.c.length]=f,true)}}}A=Wv(rJ(b,(Rib(),zib)),9);if(A){for(h=Uh(mX(A));Cm(h);){f=Wv(Dm(h),12);SW(f.d.f,A)&&(i.c[i.c.length]=f,true)}}for(g=new _7(i);g.a<g.c.c.length;){f=Wv(QJ(g),12);l=Wv(Qq(a.b,f),69);YP(a,f,l,u);for(q=new _7(f.b);q.a<q.c.c.length;){p=Wv(QJ(q),33);m=Wv(Qq(a.f,p),69);$P(a,p,m,u)}}c=(d=Wv(rJ(b,Xhb),15).a,new HI(b.e.a+b.a.b+b.a.c+2*d,b.e.b+b.a.d+b.a.a+2*d));k=Wv(rJ(b,zib),9);if(k){k.j.a=c.a;k.j.b=c.b}j=Wv(rJ(b,PP),69);VP(a,j,Jzb,c.a);VP(a,j,Kzb,c.b);for(s=new _7(b.b);s.a<s.c.c.length;){r=Wv(QJ(s),9);e=Wv(rJ(r,sib),55);!!e&&ZP(a,e)}}function Xfb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H;F=new aJ;B=new aJ;r=-1;for(i=new _7(a);i.a<i.c.c.length;){g=Wv(QJ(i),77);g.i=r--;l=0;v=0;for(f=new _7(g.j);f.a<f.c.c.length;){d=Wv(QJ(f),117);v+=d.c}for(e=new _7(g.d);e.a<e.c.c.length;){d=Wv(QJ(e),117);l+=d.c}g.e=l;g.k=v;v==0?(TI(B,g,B.c.b,B.c),true):l==0&&(TI(F,g,F.c.b,F.c),true)}H=new To((Oh(),a));m=a.c.length;q=m+1;s=m-1;o=new GU;while(H.a.Y()!=0){while(B.b!=0){A=(Pi(B.b!=0),Wv($I(B,B.a.a),77));H.a.eb(A)!=null;A.i=s--;agb(A,F,B)}while(F.b!=0){C=(Pi(F.b!=0),Wv($I(F,F.a.a),77));H.a.eb(C)!=null;C.i=q++;agb(C,F,B)}p=eyb;for(j=(t=(new e7(H.a)).a.bb().mb(),new r7(t));j.a.G();){g=(k=Wv(j.a.H(),21),Wv(k.yb(),77));u=g.k-g.e;if(u>=p){if(u>p){o.c=xv(UF,syb,1,0,4,1);p=u}o.c[o.c.length]=g}}if(o.c.length!=0){n=Wv(yU(o,vvb(b,o.c.length)),77);H.a.eb(n)!=null;n.i=q++;agb(n,F,B);o.c=xv(UF,syb,1,0,4,1)}}w=a.c.length+1;for(h=new _7(a);h.a<h.c.c.length;){g=Wv(QJ(h),77);g.i<m&&(g.i+=w)}for(D=new _7(a);D.a<D.c.c.length;){C=Wv(QJ(D),77);c=new MJ(C.j,0);while(c.b<c.d.Y()){d=(Pi(c.b<c.d.Y()),Wv(c.d.sb(c.c=c.b++),117));G=d.b;if(C.i>G.i){fr(c);BU(G.d,d);if(d.c>0){d.a=G;vU(G.j,d);d.b=C;vU(C.d,d)}}}}}function OO(a){var b,c,d;for(d=new Vo((new L8(a.c)).a);Ij(d.a);){c=(d.b=MT(d.a),new nh(d.c,d.b));b=Wv(c.b.b[c.a.e],62);switch(Wv(c.a,67).e){case 0:b.d=0;b.e=-(b.b+a.d);break;case 1:b.d=(a.e.e.j.a-b.c)/2;b.e=-(b.b+a.d);break;case 2:b.d=a.e.e.j.a-b.c;b.e=-(b.b+a.d);break;case 3:b.d=0;b.e=a.e.e.j.b+a.d;break;case 4:b.d=(a.e.e.j.a-b.c)/2;b.e=a.e.e.j.b+a.d;break;case 5:b.d=a.e.e.j.a-b.c;b.e=a.e.e.j.b+a.d;break;case 6:b.d=-(b.c+a.d);b.e=0;break;case 7:b.d=-(b.c+a.d);b.e=(a.e.e.j.b-b.b)/2;break;case 8:b.d=-(b.c+a.d);b.e=a.e.e.j.b-b.b;break;case 9:b.d=a.e.e.j.a+a.d;b.e=0;break;case 10:b.d=a.e.e.j.a+a.d;b.e=(a.e.e.j.b-b.b)/2;break;case 11:b.d=a.e.e.j.a+a.d;b.e=a.e.e.j.b-b.b;break;case 12:b.d=a.q.b+a.d;b.e=a.q.d+a.d;break;case 13:b.d=(a.e.e.j.a-b.c)/2;b.e=a.q.d+a.d;break;case 14:b.d=a.e.e.j.a-a.q.c-b.c-a.d;b.e=a.q.d+a.d;break;case 15:b.d=a.q.b+a.d;b.e=(a.e.e.j.b-b.b)/2;break;case 16:b.d=(a.e.e.j.a-b.c)/2;b.e=(a.e.e.j.b-b.b)/2;break;case 17:b.d=a.e.e.j.a-a.q.c-b.c-a.d;b.e=(a.e.e.j.b-b.b)/2;break;case 18:b.d=a.q.b+a.d;b.e=a.e.e.j.b-a.q.a-b.b-a.d;break;case 19:b.d=(a.e.e.j.a-b.c)/2;b.e=a.e.e.j.b-a.q.a-b.b-a.d;break;case 20:b.d=a.e.e.j.a-a.q.c-b.c-a.d;b.e=a.e.e.j.b-a.q.a-b.b-a.d;}}}function ddb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I;F=new aJ;B=new aJ;o=-1;for(s=new _7(a);s.a<s.c.c.length;){q=Wv(QJ(s),80);q.d=o--;i=0;v=0;for(f=new _7(q.e);f.a<f.c.c.length;){d=Wv(QJ(f),118);v+=d.c}for(e=new _7(q.b);e.a<e.c.c.length;){d=Wv(QJ(e),118);i+=d.c}q.c=i;q.f=v;v==0?(TI(B,q,B.c.b,B.c),true):i==0&&(TI(F,q,F.c.b,F.c),true)}H=(I=new Ob,ml(I,a),I);j=a.c.length;p=j-1;n=j+1;l=new GU;while(H.a.c!=0){while(B.b!=0){A=(Pi(B.b!=0),Wv($I(B,B.a.a),80));Dr(H.a,A)!=null;A.d=p--;jdb(A,F,B)}while(F.b!=0){C=(Pi(F.b!=0),Wv($I(F,F.a.a),80));Dr(H.a,C)!=null;C.d=n++;jdb(C,F,B)}m=eyb;for(t=(h=new Mm((new Gk((new v7(H.a)).a)).b),new w7(h));ag(t.a.a);){q=(g=Vk(t.a),Wv(g.yb(),80));u=q.f-q.c;if(u>=m){if(u>m){l.c=xv(UF,syb,1,0,4,1);m=u}l.c[l.c.length]=q}}if(l.c.length!=0){k=Wv(yU(l,vvb(b,l.c.length)),80);Dr(H.a,k)!=null;k.d=n++;jdb(k,F,B);l.c=xv(UF,syb,1,0,4,1)}}w=a.c.length+1;for(r=new _7(a);r.a<r.c.c.length;){q=Wv(QJ(r),80);q.d<j&&(q.d+=w)}for(D=new _7(a);D.a<D.c.c.length;){C=Wv(QJ(D),80);c=new MJ(C.e,0);while(c.b<c.d.Y()){d=(Pi(c.b<c.d.Y()),Wv(c.d.sb(c.c=c.b++),118));G=d.b;if(C.d>G.d){fr(c);BU(G.b,d);if(d.c>0){d.a=G;vU(G.e,d);d.b=C;vU(C.b,d)}}}}}function e0(a){switch(a.e){case 14:return new wY;case 37:return new SY;case 8:return new YY;case 30:return new cZ;case 38:return new qZ;case 3:return new tZ;case 47:case 1:return new SZ((XZ(),WZ));case 4:return new wZ;case 49:return new AZ;case 23:return new $5;case 13:return new d$;case 34:return new j$;case 40:return new w$;case 35:return new F$;case 44:return new o4;case 28:return new I$;case 39:return new L$;case 27:return new N$;case 6:return new R$;case 31:return new m0;case 9:return new q0;case 43:return new w0;case 17:return new A0;case 18:return new G0;case 29:return new S0;case 11:return new q1;case 12:return new Z0;case 36:return new _0;case 46:case 0:return new SZ((XZ(),VZ));case 41:return new b1;case 15:return new e1;case 33:return new k1;case 42:return new R1;case 22:return new X1;case 19:return new k0;case 10:return new _1;case 7:return new c2;case 24:return new f2;case 21:return new h2;case 16:return new n2;case 45:return new q2;case 26:return new x2;case 20:return new A2;case 25:return new H2;case 5:return new l3;case 32:return new u3;case 48:case 2:return new SZ((XZ(),UZ));default:throw new oc('No implementation is available for the layout processor '+(a.d!=null?a.d:''+a.e));}}function PO(a){var b,c,d,e,f,g,h;c=a.e.e.j;a.b?(b=Wv(oW(a.e,(eM(),jL)),65)):(b=new EP(a.k,a.k,a.k,a.k));e=c.a;(a.b||a.g[1]!=(zM(),xM))&&(e-=b.b+b.c);f=c.a;(a.b||a.g[3]!=(zM(),xM))&&(f-=b.b+b.c);g=c.b;(a.b||a.g[4]!=(zM(),xM))&&(g-=b.d+b.a);d=c.b;(a.b||a.g[2]!=(zM(),xM))&&(d-=b.d+b.a);if(aP(a,(sN(),$M))==(zM(),xM)){a.j[1]=(e-dP(a,$M))/bP(a,$M);a.f=a.b?b.b+(eP(a,$M)==1?a.j[1]:0):a.j[1]}else{a.j[1]=a.k;h=dP(a,$M)+a.j[1]*(eP(a,$M)-1);switch(aP(a,$M).e){case 2:a.f=b.b;break;case 3:a.f=b.b+(e-h)/2;break;case 4:a.f=c.a-h-b.c;}}if(aP(a,pN)==xM){a.j[3]=(f-dP(a,pN))/bP(a,pN);a.r=c.a-(a.b?b.c+(eP(a,pN)==1?a.j[3]:0):a.j[3])}else{a.j[3]=a.k;h=dP(a,pN)+a.j[3]*(eP(a,pN)-1);switch(aP(a,pN).e){case 2:a.r=h+b.b;break;case 3:a.r=c.a-(f-h)/2-b.c;break;case 4:a.r=c.a-b.c;}}if(aP(a,rN)==xM){a.j[4]=(g-dP(a,rN))/bP(a,rN);a.s=c.b-(a.b?b.a+(eP(a,rN)==1?a.j[4]:0):a.j[4])}else{a.j[4]=a.k;h=dP(a,rN)+a.j[4]*(eP(a,rN)-1);switch(aP(a,rN).e){case 2:a.s=h+b.d;break;case 3:a.s=c.b-(g-h)/2-b.a;break;case 4:a.s=c.b-b.a;}}if(aP(a,ZM)==xM){a.j[2]=(d-dP(a,ZM))/bP(a,ZM);a.a=a.b?b.d+(eP(a,ZM)==1?a.j[2]:0):a.j[2]}else{a.j[2]=a.k;h=dP(a,ZM)+a.j[2]*(eP(a,ZM)-1);switch(aP(a,ZM).e){case 2:a.a=b.d;break;case 3:a.a=b.d+(d-h)/2;break;case 4:a.a=c.b-h-b.a;}}}function hab(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I;G=0;g=0;l=b[0].d;B=c[0].d;for(o=0,q=c.length;o<q;++o){m=c[o];if(LM(Wv(rJ(m,(eM(),TL)),28))){s=0;for(v=new _7(m.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);if(u.g==(sN(),$M)){for(f=new _7(u.b);f.a<f.c.c.length;){e=Wv(QJ(f),12);if(e.c.f.d==l){++s;break}}}else{break}}t=0;A=new MJ(m.f,m.f.c.length);while(A.b>0){u=(Pi(A.b>0),Wv(A.a.sb(A.c=--A.b),7));w=0;for(f=new _7(u.b);f.a<f.c.c.length;){e=Wv(QJ(f),12);e.c.f.d==l&&++w}if(w>0){if(u.g==(sN(),$M)){a.a[u.k]=G;++G}else{a.a[u.k]=G+s+t;++t}g+=w}}G+=t}else{r=0;for(v=new _7(m.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);for(f=new _7(u.b);f.a<f.c.c.length;){e=Wv(QJ(f),12);e.c.f.d==l&&++r}a.a[u.k]=G}if(r>0){++G;g+=r}}}C=xv(mw,Yyb,26,g,12,1);i=0;for(n=0,p=b.length;n<p;++n){m=b[n];if(LM(Wv(rJ(m,(eM(),TL)),28))){for(v=new _7(m.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);D=i;for(f=new _7(u.e);f.a<f.c.c.length;){e=Wv(QJ(f),12);F=e.d;F.f.d==B&&kab(C,D,i++,a.a[F.k])}}}else{D=i;for(v=new _7(m.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);for(f=new _7(u.e);f.a<f.c.c.length;){e=Wv(QJ(f),12);F=e.d;F.f.d==B&&kab(C,D,i++,a.a[F.k])}}}}h=1;while(h<G){h*=2}I=2*h-1;h-=1;H=xv(mw,Yyb,26,I,12,1);d=0;for(k=0;k<g;k++){j=C[k]+h;++H[j];while(j>0){j%2>0&&(d+=H[j+1]);j=(j-1)/2|0;++H[j]}}return d}function BV(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J;nI(b,'Compound graph postprocessor',1);c=jc(kc(Xv(rJ(a,(Mjb(),gjb)))));h=Wv(rJ(a,(Rib(),bib)),144);l=new Lb;for(w=h.W().mb();w.G();){v=Wv(w.H(),12);g=new IU(h.U(v));JR(g,new $V(a));F=VV((gV(0,g.c.length),Wv(g.c[0],114)));H=WV(Wv(yU(g,g.c.length-1),114));_I(v.a);C=F.f;SW(H.f,C)?(B=Wv(rJ(C,sib),55)):(B=hX(C));o=Wv(rJ(v,(eM(),CL)),44);if(ol(g,zV)){if(!o){o=new jJ;sJ(v,CL,o)}else{_I(o)}}else!!o&&sJ(v,CL,null);q=null;for(f=new _7(g);f.a<f.c.c.length;){e=Wv(QJ(f),114);u=new FI;MW(u,e.a,B);r=e.b;d=new jJ;gJ(d,0,r.a);hJ(d,u);D=new II(MX(r.c));G=new II(MX(r.d));D.a+=u.a;D.b+=u.b;G.a+=u.a;G.b+=u.b;if(q){d.b==0?(t=G):(t=(Pi(d.b!=0),Wv(d.a.a.c,10)));I=Le(q.a-t.a)>dAb;J=Le(q.b-t.b)>dAb;(!c&&I&&J||c&&(I||J))&&QI(v.a,D)}Ue(v.a,d);d.b==0?(q=D):(q=(Pi(d.b!=0),Wv(d.c.b.c,10)));s=Wv(rJ(r,CL),44);if(s){n=new jJ;gJ(n,0,s);hJ(n,u);Ue(o,n)}if(WV(e)==H){if(hX(H.f)!=e.a){u=new FI;MW(u,hX(H.f),B)}sJ(v,Pib,u)}p=new MJ(r.b,0);while(p.b<p.d.Y()){i=(Pi(p.b<p.d.Y()),Wv(p.d.sb(p.c=p.b++),33));if(gw(rJ(i,xib))!==gw(v)){continue}MW(i.i,hX(r.c.f),B);fr(p);vU(v.b,i)}l.a.db(r,l)}dW(v,F);eW(v,H)}for(k=(A=(new e7(l.a)).a.bb().mb(),new r7(A));k.a.G();){j=(m=Wv(k.a.H(),21),Wv(m.yb(),12));dW(j,null);eW(j,null)}pI(b)}function c$(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I;C=Wv(rJ(a,(eM(),TL)),28);if(!(C!=(KM(),IM)&&C!=JM)){return}p=a.c;o=p.c.length;l=new HU((Mh(o+2,Uyb),$s(PH(PH(5,o+2),(o+2)/10|0))));q=new HU((Mh(o+2,Uyb),$s(PH(PH(5,o+2),(o+2)/10|0))));vU(l,new K9);vU(l,new K9);vU(q,new GU);vU(q,new GU);A=new Lb;for(b=0;b<o;b++){c=(gV(b,p.c.length),Wv(p.c[b],16));D=(gV(b,l.c.length),Wv(l.c[b],57));r=(mp(),new K9);l.c[l.c.length]=r;G=(gV(b,q.c.length),Wv(q.c[b],20));t=new GU;q.c[q.c.length]=t;for(e=new _7(c.a);e.a<e.c.c.length;){d=Wv(QJ(e),9);for(j=Uh(iX(d));Cm(j);){h=Wv(Dm(j),12);H=h.c.f;if(!_Z(H)){continue}A.a.db(H,A);F=Wv(D.cb(rJ(H,(Rib(),uib))),9);if(!F){F=$Z(a,H);D.db(rJ(H,uib),F);G.ib(F)}dW(h,Wv(yU(F.f,1),7))}for(i=Uh(mX(d));Cm(i);){h=Wv(Dm(i),12);I=h.d.f;if(!_Z(I)){continue}A.a.db(I,A);s=Wv(Qq(r,rJ(I,(Rib(),uib))),9);if(!s){s=$Z(a,I);Wr(r,rJ(I,uib),s);t.c[t.c.length]=s}eW(h,Wv(yU(s.f,0),7))}}}for(m=0;m<q.c.length;m++){u=(gV(m,q.c.length),Wv(q.c[m],20));if(u.V()){continue}if(m==0){n=new sY(a);fV(0,p.c.length);ch(p.c,0,n)}else if(m==l.c.length-1){n=new sY(a);p.c[p.c.length]=n}else{n=(gV(m-1,p.c.length),Wv(p.c[m-1],16))}for(g=u.mb();g.G();){f=Wv(g.H(),9);rX(f,n)}}for(w=(B=(new e7(A.a)).a.bb().mb(),new r7(B));w.a.G();){v=(k=Wv(w.a.H(),21),Wv(k.yb(),9));rX(v,null)}}function Pab(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K;I=new GU;for(o=new _7(b.c);o.a<o.c.c.length;){m=Wv(QJ(o),16);for(v=new _7(m.a);v.a<v.c.c.length;){u=Wv(QJ(v),9);u.k=-1;l=eyb;B=eyb;for(D=new _7(u.f);D.a<D.c.c.length;){C=Wv(QJ(D),7);for(e=new _7(C.b);e.a<e.c.c.length;){c=Wv(QJ(e),12);F=Wv(rJ(c,(Rib(),Eib)),24).a;l=l>F?l:F}for(d=new _7(C.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);F=Wv(rJ(c,(Rib(),Eib)),24).a;B=B>F?B:F}}sJ(u,Fab,Elb(l));sJ(u,Gab,Elb(B))}}r=0;for(n=new _7(b.c);n.a<n.c.c.length;){m=Wv(QJ(n),16);for(v=new _7(m.a);v.a<v.c.c.length;){u=Wv(QJ(v),9);if(u.k<0){H=new ta;H.b=r++;Mab(a,u,H);I.c[I.c.length]=H}}}A=Do(I.c.length);k=Do(I.c.length);for(g=0;g<I.c.length;g++){vU(A,new GU);vU(k,Elb(0))}Kab(b,I,A,k);J=Wv(FU(I,xv(wE,NAb,111,I.c.length,0,1)),625);w=Wv(FU(A,xv(sH,{3:1,5:1,6:1,672:1},20,A.c.length,0,1)),672);j=xv(mw,Yyb,26,k.c.length,12,1);for(h=0;h<j.length;h++){j[h]=(gV(h,k.c.length),Wv(k.c[h],24)).a}s=0;t=new GU;for(i=0;i<J.length;i++){j[i]==0&&vU(t,J[i])}q=xv(mw,Yyb,26,J.length,12,1);while(t.c.length!=0){H=Wv(AU(t,0),111);q[H.b]=s++;while(!w[H.b].V()){K=Wv(w[H.b].vb(0),111);--j[K.b];j[K.b]==0&&(t.c[t.c.length]=K,true)}}a.a=xv(wE,NAb,111,J.length,0,1);for(f=0;f<J.length;f++){p=J[f];G=q[f];a.a[G]=p;p.b=G;for(v=new _7(p.f);v.a<v.c.c.length;){u=Wv(QJ(v),9);u.k=G}}return a.a}function JP(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C;nI(b,'Fixed Layout',1);i=Wv(rJ(a,(eM(),uL)),122);p=0;q=0;for(t=new _7(a.b);t.a<t.c.c.length;){r=Wv(QJ(t),9);B=Wv(rJ(r,YL),10);if(B){r.i.a=B.a;r.i.b=B.b;if(Wv(rJ(r,aM),86).kb((DN(),zN))){C=Wv(rJ(r,IL),15).a;j=Wv(rJ(r,HL),15).a;C>0&&j>0&&WW(r,new HI(C,j),true)}}p=nd(p,r.i.a+r.j.a);q=nd(q,r.i.b+r.j.b);for(n=new _7(r.c);n.a<n.c.c.length;){l=Wv(QJ(n),33);B=Wv(rJ(l,YL),10);if(B){l.i.a=B.a;l.i.b=B.b}p=nd(p,r.i.a+l.i.a+l.j.a);q=nd(q,r.i.b+l.i.b+l.j.b)}for(v=new _7(r.f);v.a<v.c.c.length;){u=Wv(QJ(v),7);B=Wv(rJ(u,YL),10);if(B){u.i.a=B.a;u.i.b=B.b}w=r.i.a+u.i.a;A=r.i.b+u.i.b;p=nd(p,w+u.j.a);q=nd(q,A+u.j.b);for(m=new _7(u.c);m.a<m.c.c.length;){l=Wv(QJ(m),33);B=Wv(rJ(l,YL),10);if(B){l.i.a=B.a;l.i.b=B.b}p=nd(p,w+l.i.a+l.j.a);q=nd(q,A+l.i.b+l.j.b)}}for(h=Uh(mX(r));Cm(h);){f=Wv(Dm(h),12);o=KP(f);p=nd(p,o.a);q=nd(q,o.b)}for(g=Uh(iX(r));Cm(g);){f=Wv(Dm(g),12);if(gw(rJ(f.c.f,(Rib(),sib)))!==gw(a)){o=KP(f);p=nd(p,o.a);q=nd(q,o.b)}}}if(i==(NK(),JK)){for(s=new _7(a.b);s.a<s.c.c.length;){r=Wv(QJ(s),9);for(g=Uh(mX(r));Cm(g);){f=Wv(Dm(g),12);k=LP(f);k.b==0?sJ(f,CL,null):sJ(f,CL,k)}}}a.e.a=p;a.e.b=q;sJ(a,aM,(DN(),d=Wv(Zd(Lz),11),new Ln(d,Wv(fq(d,d.length),11),0)));e=Wv(rJ(a,(Rib(),zib)),9);!!e&&sJ(e,aM,(c=Wv(Zd(Lz),11),new Ln(c,Wv(fq(c,c.length),11),0)));pI(b)}function Y8(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G;if(!LM(Wv(rJ(b,(eM(),TL)),28))){if(b.f.c.length>1){A=xv(LF,Txb,15,a.a.length,0,1);j=Do(a.a.length);p=0;o=0;c=2*b.d.a.c.length+1;H:for(w=new _7(b.f);w.a<w.c.c.length;){v=Wv(QJ(w),7);r=v.g==(sN(),$M)||v.g==pN;G=0;if(r){B=Wv(rJ(v,(Rib(),Bib)),9);if(!B){continue}m=false;u=false;for(D=new _7(B.f);D.a<D.c.c.length;){C=Wv(QJ(D),7);gw(rJ(C,uib))===gw(v)&&(C.e.c.length==0?C.b.c.length==0||(m=true):(u=true))}m&&!u?(G=v.g==$M?-(!B.d?-1:zU(B.d.a,B,0)):c-(!B.d?-1:zU(B.d.a,B,0))):u&&!m?(G=(!B.d?-1:zU(B.d.a,B,0))+1):m&&u&&(G=v.g==$M?0:c/2)}else{for(t=new _7(v.e);t.a<t.c.c.length;){s=Wv(QJ(t),12);e=s.d;if(e.f.d==b.d){j.c[j.c.length]=v;continue H}else{G+=a.a[e.k]}}for(l=new _7(v.b);l.a<l.c.c.length;){k=Wv(QJ(l),12);e=k.c;if(e.f.d==b.d){j.c[j.c.length]=v;continue H}else{G-=a.a[e.k]}}}if(v.b.c.length+v.e.c.length>0){A[v.k]=new X6(G/(v.b.c.length+v.e.c.length));p=wd(p,A[v.k].a);o=rd(o,A[v.k].a)}else r&&(A[v.k]=new X6(G))}q=(!b.d?-1:zU(b.d.a,b,0))+1;n=b.d.a.c.length+1;for(i=new _7(j);i.a<i.c.c.length;){h=Wv(QJ(i),7);G=0;g=0;for(f=Uh(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[new fY(h),new lY(h)]))))));Cm(f);){e=Wv(Dm(f),7);if(e.f.d==b.d){G+=jX(e.f)+1;++g}}d=G/g;F=h.g;F==(sN(),ZM)?d<q?(A[h.k]=new X6(p-d)):(A[h.k]=new X6(o+(n-d))):F==rN&&(d<q?(A[h.k]=new X6(o+d)):(A[h.k]=new X6(p-(n-d))))}JR(b.f,new a9(A))}sJ(b,TL,(KM(),EM))}}function O4(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C;B=new GU;a.a.b.c=xv(UF,syb,1,0,4,1);u=(mp(),new K9);for(r=new _7(a.d.c);r.a<r.c.c.length;){p=Wv(QJ(r),16);for(t=new _7(p.a);t.a<t.c.c.length;){s=Wv(QJ(t),9);if(jc(kc(Xv(rJ(s,(eM(),qL)))))){if(!sl(gX(s))){h=Wv(ql(gX(s)),12);v=h.c.f;v==s&&(v=h.d.f);w=new RJ(v,EI(xI(s.i),v.i));Wr(a.b,s,w);continue}}f=new Q3(s,a.d);vU(a.a.b,f);Ltb(u.d,s,f)}}for(q=new _7(a.d.c);q.a<q.c.c.length;){p=Wv(QJ(q),16);for(t=new _7(p.a);t.a<t.c.c.length;){s=Wv(QJ(t),9);f=Wv(re(Ju(u.d,s)),25);for(k=Uh(mX(s));Cm(k);){i=Wv(Dm(k),12);d=WI(i.a,0);l=true;o=null;if(d.b!=d.d.c){b=Wv(tS(d),10);if(i.c.g==(sN(),$M)){C=new X4(b,new HI(b.a,f.j.e),f,i);C.c=true;B.c[B.c.length]=C}if(i.c.g==pN){C=new X4(b,new HI(b.a,f.j.e+f.j.b),f,i);C.d=true;B.c[B.c.length]=C}while(d.b!=d.d.c){c=Wv(tS(d),10);if(!RR(b.b,c.b)){o=new X4(b,c,null,i);B.c[B.c.length]=o;if(l){l=false;if(c.b<f.j.e){o.c=true}else if(c.b>f.j.e+f.j.b){o.d=true}else{o.d=true;o.c=true}}}d.b!=d.d.c&&(b=c)}if(o){g=Wv(Qq(u,i.d.f),25);if(b.b<g.j.e){o.c=true}else if(b.b>g.j.e+g.j.b){o.d=true}else{o.d=true;o.c=true}}}}for(j=Uh(iX(s));Cm(j);){i=Wv(Dm(j),12);if(i.a.b!=0){b=Wv(VI(i.a),10);if(i.d.g==(sN(),$M)){C=new X4(b,new HI(b.a,f.j.e),f,i);C.c=true;B.c[B.c.length]=C}if(i.d.g==pN){C=new X4(b,new HI(b.a,f.j.e+f.j.b),f,i);C.d=true;B.c[B.c.length]=C}}}}}if(B.c.length!=0){ct();JR(B,null);n=(gV(0,B.c.length),Wv(B.c[0],142));e=new L3(n,a.d);for(m=1;m<B.c.length;m++){A=(gV(m,B.c.length),Wv(B.c[m],142));if(RR(e.j.d,A.j)&&!(TR(e.j.e+e.j.b,A.k)||TR(A.n,e.j.e))){K3(e,A)}else{vU(a.a.b,e);e=new L3(A,a.d)}}vU(a.a.b,e)}B.c=xv(UF,syb,1,0,4,1);N4(a)}function eZ(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K,L,M;h=Wv(yU(a.d.c.c,d),16);K=new Lb;o=new Lb;for(n=0;n<h.a.c.length;++n){s=Wv(yU(h.a,n),9);n<c?(D=K.a.db(s,K),D==null):n>c&&(C=o.a.db(s,o),C==null)}L=new Lb;p=new Lb;for(u=(G=(new e7(K.a)).a.bb().mb(),new r7(G));u.a.G();){s=(l=Wv(u.a.H(),21),Wv(l.yb(),9));g=b==1?mX(s):iX(s);for(j=(Il(),new Im(Dl(ul(g.a,new yl))));Cm(j);){i=Wv(Dm(j),12);rY(s.d)!=rY(i.d.f.d)&&_p(L,i.d.f)}}for(v=(H=(new e7(o.a)).a.bb().mb(),new r7(H));v.a.G();){s=(l=Wv(v.a.H(),21),Wv(l.yb(),9));g=b==1?mX(s):iX(s);for(j=(Il(),new Im(Dl(ul(g.a,new yl))));Cm(j);){i=Wv(Dm(j),12);rY(s.d)!=rY(i.d.f.d)&&_p(p,i.d.f)}}if(aZ){pn()}B=Wv(yU(a.d.c.c,d+(b==1?1:-1)),16);q=eyb;r=$xb;for(m=0;m<B.a.c.length;m++){s=Wv(yU(B.a,m),9);L.a.R(s)?(q=q>m?q:m):p.a.R(s)&&(r=r<m?r:m)}if(q<r){for(w=(I=(new e7(L.a)).a.bb().mb(),new r7(I));w.a.G();){s=(l=Wv(w.a.H(),21),Wv(l.yb(),9));for(k=Uh(mX(s));Cm(k);){i=Wv(Dm(k),12);if(rY(s.d)==rY(i.d.f.d)){return null}}for(j=Uh(iX(s));Cm(j);){i=Wv(Dm(j),12);if(rY(s.d)==rY(i.c.f.d)){return null}}}for(A=(F=(new e7(p.a)).a.bb().mb(),new r7(F));A.a.G();){s=(l=Wv(A.a.H(),21),Wv(l.yb(),9));for(k=Uh(mX(s));Cm(k);){i=Wv(Dm(k),12);if(rY(s.d)==rY(i.d.f.d)){return null}}for(j=Uh(iX(s));Cm(j);){i=Wv(Dm(j),12);if(rY(s.d)==rY(i.c.f.d)){return null}}}K.a.Y()==0?(M=0):o.a.Y()==0?(M=B.a.c.length):(M=q+1);for(t=new _7(h.a);t.a<t.c.c.length;){s=Wv(QJ(t),9);if(s.g==(CX(),BX)){return null}}if(f==1){return Co(Bv(tv(PF,1),Txb,24,0,[Elb(M)]))}else if(b==1&&d==e-2||b==0&&d==1){return Co(Bv(tv(PF,1),Txb,24,0,[Elb(M)]))}else{J=eZ(a,b,M,d+(b==1?1:-1),e,f-1);!!J&&b==1&&J.rb(0,Elb(M));return J}}return null}function aQ(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;SP(c);o=(eM(),KL).b;if(o in c.a&&Pu(c,o).ic().a){return}j=Pu(c,'source');k=Pu(c,'sourcePort');l=Pu(c,'target');m=Pu(c,'targetPort');if(!j){throw new GQ("Edges must contain a 'source' property.",null,c)}else if(!j.lc()){throw new GQ("Invalid format of an edge's 'source' property. It must be a string.",j,c)}if(!l){throw new GQ("Edges must contain a 'target' property.",null,c)}else if(!l.lc()){throw new GQ("Invalid format of an edge's 'target' property. It must be a string.",l,c)}r=null;t=null;try{q=Wv(Wu(b.i,j.lc().a),9);!!k&&!!k.lc()&&(r=Wv(Wu(b.k,k.lc().a),7));s=Wv(Wu(b.i,l.lc().a),9);!!m&&!!m.lc()&&(t=Wv(Wu(b.k,m.lc().a),7))}catch(a){a=OH(a);if(aw(a,76)){throw new FQ("An edge's 'source', 'target', 'sourcePort', and 'targetPort' properties have to be strings.",c)}else throw NH(a)}if(!jc(kc(b.g))){if(!q||!s){return}else if(hX(q)!=hX(s)){return}}if(!q||!s){throw new FQ("An edge's source or target node could not be resolved.",c)}p=hX(q);e=new hW;sJ(e,(Rib(),uib),c);h=Wv(Pu(c,'id'),97);cJ(b.a,h.a,e);Wr(b.b,e,c);hQ(c,e);dQ(b,c,e,p);f=Wv(rJ(p,jib),18);q==s&&f.ib((ohb(),nhb));if(!r){r=OW(q,new FI,(G$(),bjb),p)}else if(r.f!=q){throw new EQ('Inconsistent source port reference found.')}if(!t){t=OW(s,new FI,(G$(),ajb),p)}else if(t.f!=s){throw new EQ('Inconsistent target port reference found.')}dW(e,r);eW(e,t);(tl(Sh((Gi(),new gr(Ti(Bv(tv(UF,1),syb,1,4,[r.b,r.e]))))))>1||tl(Sh(new gr(Ti(Bv(tv(UF,1),syb,1,4,[t.b,t.e])))))>1)&&f.ib((ohb(),ihb));if(gw(rJ(p,(Mjb(),kjb)))===gw((p9(),n9))&&!(Hzb in c.a)){d=new jJ;try{i=Pu(c,Hzb).hc();for(g=0;g<i.a.length;++g){n=gu(i,g).kc();u=new HI(Pu(n,'x').jc().a,Pu(n,'y').jc().a);TI(d,u,d.c.b,d.c)}sJ(e,vib,d)}catch(a){a=OH(a);if(aw(a,54)){throw new FQ("Invalid format of an edges 'bendPoints' property.",c)}else throw NH(a)}}sJ(e,CL,null)}function d0(){d0=E;L_=new f0('LEFT_DIR_PREPROCESSOR',0);o_=new f0('DOWN_DIR_PREPROCESSOR',1);c0=new f0('UP_DIR_PREPROCESSOR',2);m_=new f0('COMMENT_PREPROCESSOR',3);p_=new f0('EDGE_AND_LAYER_CONSTRAINT_EDGE_REVERSER',4);__=new f0('SPLINE_SELF_LOOP_PREPROCESSOR',5);z_=new f0('INTERACTIVE_EXTERNAL_PORT_POSITIONER',6);T_=new f0('PARTITION_PREPROCESSOR',7);j_=new f0('BIG_NODES_PREPROCESSOR',8);D_=new f0('LABEL_DUMMY_INSERTER',9);S_=new f0('PARTITION_POSTPROCESSOR',10);P_=new f0('NODE_PROMOTION',11);I_=new f0('LAYER_CONSTRAINT_PROCESSOR',12);s_=new f0('HIERARCHICAL_PORT_CONSTRAINT_PROCESSOR',13);h_=new f0('BIG_NODES_INTERMEDIATEPROCESSOR',14);N_=new f0('LONG_EDGE_SPLITTER',15);W_=new f0('PORT_SIDE_PROCESSOR',16);F_=new f0('LABEL_DUMMY_SWITCHER',17);G_=new f0('LABEL_MANAGEMENT_PROCESSOR',18);A_=new f0('INVERTED_PORT_PROCESSOR',19);Z_=new f0('SELF_LOOP_PROCESSOR',20);V_=new f0('PORT_LIST_SORTER',21);R_=new f0('NORTH_SOUTH_PORT_PREPROCESSOR',22);r_=new f0('GREEDY_SWITCH',23);U_=new f0('PORT_DISTRIBUTER',24);$_=new f0('SPLINE_SELF_LOOP_POSITIONER',25);Y_=new f0('SAUSAGE_COMPACTION',26);B_=new f0('IN_LAYER_CONSTRAINT_PROCESSOR',27);x_=new f0('HYPEREDGE_DUMMY_MERGER',28);H_=new f0('LABEL_SIDE_SELECTOR',29);k_=new f0('BIG_NODES_SPLITTER',30);C_=new f0('LABEL_AND_NODE_SIZE_PROCESSOR',31);a0=new f0('SPLINE_SELF_LOOP_ROUTER',32);O_=new f0('NODE_MARGIN_CALCULATOR',33);t_=new f0('HIERARCHICAL_PORT_DUMMY_SIZE_PROCESSOR',34);v_=new f0('HIERARCHICAL_PORT_POSITION_PROCESSOR',35);J_=new f0('LAYER_SIZE_AND_GRAPH_HEIGHT_CALCULATOR',36);i_=new f0('BIG_NODES_POSTPROCESSOR',37);l_=new f0('COMMENT_POSTPROCESSOR',38);y_=new f0('HYPERNODE_PROCESSOR',39);u_=new f0('HIERARCHICAL_PORT_ORTHOGONAL_EDGE_ROUTER',40);M_=new f0('LONG_EDGE_JOINER',41);Q_=new f0('NORTH_SOUTH_PORT_POSTPROCESSOR',42);E_=new f0('LABEL_DUMMY_REMOVER',43);w_=new f0('HORIZONTAL_COMPACTOR',44);X_=new f0('REVERSED_EDGE_RESTORER',45);K_=new f0('LEFT_DIR_POSTPROCESSOR',46);n_=new f0('DOWN_DIR_POSTPROCESSOR',47);b0=new f0('UP_DIR_POSTPROCESSOR',48);q_=new f0('END_LABEL_PROCESSOR',49)}function Rib(){Rib=E;var a,b;uib=new CJ('origin');_hb=new CJ('processingConfiguration');Fib=new CJ('processors');$hb=new DJ('compoundNode',(Xo(),Xo(),vkb));lib=new DJ('insideConnections',(null,vkb));sib=new CJ('nestedLGraph');zib=new CJ('parentLNode');vib=new CJ('originalBendpoints');wib=new CJ('originalDummyNodePosition');xib=new CJ('originalLabelEdge');Hib=new CJ('representedLabels');pib=new DJ('labelSide',(kP(),jP));Iib=new DJ('reversed',(null,vkb));Gib=new CJ('random');qib=new DJ('longEdgeSource',null);rib=new DJ('longEdgeTarget',null);dib=new DJ('edgeConstraint',(Hgb(),Fgb));nib=new CJ('inLayerLayoutUnit');mib=new DJ('inLayerConstraint',(TY(),Fhb));oib=new DJ('inLayerSuccessorConstraint',new GU);Bib=new CJ('portDummy');aib=new DJ('crossingHint',Elb(0));jib=new DJ('graphProperties',(b=Wv(Zd(mF),11),new Ln(b,Wv(fq(b,b.length),11),0)));hib=new DJ('externalPortSide',(sN(),qN));iib=new DJ('externalPortSize',new FI);gib=new CJ('externalPortReplacedDummy');fib=new DJ('externalPortConnections',(a=Wv(Zd(Kz),11),new Ln(a,Wv(fq(a,a.length),11),0)));Cib=new DJ(yzb,0);Shb=new CJ('barycenterAssociates');Qib=new CJ('TopSideComments');Yhb=new CJ('BottomSideComments');Zhb=new CJ('CommentConnectionPort');kib=new DJ('inputCollect',(null,vkb));yib=new DJ('outputCollect',(null,vkb));cib=new DJ('cyclic',(null,vkb));Whb=new DJ('bigNodeOriginalSize',new X6(0));Vhb=new DJ('bigNodeInitial',(null,vkb));Thb=new DJ('de.cau.cs.kieler.klay.layered.bigNodeLabels',new GU);Uhb=new DJ('de.cau.cs.kieler.klay.layered.postProcess',null);bib=new CJ('crossHierarchyMap');Pib=new CJ('targetOffset');Lib=new DJ('splineLabelSize',new FI);Mib=new DJ('splineLoopSide',(Ieb(),Feb));Nib=new DJ('splineSelfLoopComponents',new GU);Oib=new DJ('splineSelfLoopMargins',new DP);Kib=new CJ('spacings');Aib=new DJ('partitionConstraint',(null,vkb));tib=new AJ((eM(),LL),new X6(0));Jib=new BJ(cM,new X6(20),new X6(1));Dib=new BJ(XL,new X6(10),new X6(1));Xhb=new BJ(pL,new X6(12),new X6(0));Eib=new AJ(ZL,Elb(0));Rhb=new BJ(nL,new X6(cAb),new X6(0));eib=new AJ(uL,(NK(),JK))}function Mjb(){Mjb=E;Bjb=new DJ('de.cau.cs.kieler.klay.layered.nodePromotion',(I1(),G1));Cjb=new FJ('de.cau.cs.kieler.klay.layered.nodePromotionBoundary',Elb(0),Elb(0),Elb(100));Hjb=new DJ(vzb,Elb(1));Ejb=new EJ('de.cau.cs.kieler.klay.layered.inLayerSpacingFactor',new X6(1),new X6(0));qjb=new DJ('de.cau.cs.kieler.klay.layered.edgeSpacingFactor',new X6(0.5));pjb=new DJ('de.cau.cs.kieler.klay.layered.edgeNodeSpacingFactor',new X6(IAb));njb=new DJ('de.cau.cs.kieler.klay.layered.distributeNodes',(Xo(),Xo(),vkb));Ljb=new DJ('de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers',(ckb(),bkb));ljb=new DJ('de.cau.cs.kieler.klay.layered.cycleBreaking',(Z7(),X7));zjb=new DJ('de.cau.cs.kieler.klay.layered.nodeLayering',(x8(),w8));kjb=new DJ('de.cau.cs.kieler.klay.layered.crossMin',(p9(),o9));tjb=new DJ('de.cau.cs.kieler.klay.layered.greedySwitch',(zhb(),whb));Ajb=new DJ('de.cau.cs.kieler.klay.layered.nodePlace',(kbb(),fbb));wjb=new FJ('de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening',new X6(HAb),new X6(0),new X6(1));sjb=new DJ('de.cau.cs.kieler.klay.layered.fixedAlignment',(_gb(),Ygb));ojb=new DJ('de.cau.cs.kieler.klay.layered.edgeLabelSideSelection',(Pgb(),Lgb));mjb=new DJ(uzb,(null,vkb));Kjb=new EJ('de.cau.cs.kieler.klay.layered.thoroughness',Elb(10),Elb(1));vjb=new DJ('de.cau.cs.kieler.klay.layered.layerConstraint',(Xib(),Wib));xjb=new DJ('de.cau.cs.kieler.klay.layered.mergeEdges',(null,vkb));yjb=new DJ('de.cau.cs.kieler.klay.layered.mergeHierarchyEdges',(null,wkb));ujb=new DJ('de.cau.cs.kieler.klay.layered.interactiveReferencePoint',(tM(),Khb));rjb=new DJ('de.cau.cs.kieler.klay.layered.feedBackEdges',(null,vkb));gjb=new DJ('de.cau.cs.kieler.klay.layered.unnecessaryBendpoints',(null,vkb));jjb=new DJ('de.cau.cs.kieler.klay.layered.contentAlignment',(zgb(),gp(ygb,Bv(tv(iF,1),uyb,123,0,[ugb]))));Ijb=new DJ('de.cau.cs.kieler.klay.layered.sausageFolding',(null,vkb));Jjb=new DJ('de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement',(Qjb(),Pjb));hjb=new DJ('de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy',(ZY(),jcb));Djb=new DJ('de.cau.cs.kieler.klay.layered.northOrSouthPort',(null,vkb));Fjb=new DJ('de.cau.cs.kieler.klay.layered.postCompaction',(g4(),e4));Gjb=new DJ('de.cau.cs.kieler.klay.layered.postCompaction.constraints',(X3(),W3));ijb=new DJ('de.cau.cs.kieler.klay.layered.components.compact',(null,vkb))}function uO(){uO=E;rO=new vO('OUT_T_L',0,(Gi(),new Er(gp((oM(),kM),Bv(tv(Gz,1),uyb,41,0,[nM,gM])))),(DO(),BO));qO=new vO('OUT_T_C',1,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(kM,Bv(tv(Gz,1),uyb,41,0,[nM,fM])),gp(kM,Bv(tv(Gz,1),uyb,41,0,[nM,fM,hM]))]))),AO);sO=new vO('OUT_T_R',2,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[nM,iM]))),CO);iO=new vO('OUT_B_L',3,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[lM,gM]))),BO);hO=new vO('OUT_B_C',4,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(kM,Bv(tv(Gz,1),uyb,41,0,[lM,fM])),gp(kM,Bv(tv(Gz,1),uyb,41,0,[lM,fM,hM]))]))),AO);jO=new vO('OUT_B_R',5,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[lM,iM]))),CO);mO=new vO('OUT_L_T',6,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[gM,nM,hM]))),CO);lO=new vO('OUT_L_C',7,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(kM,Bv(tv(Gz,1),uyb,41,0,[gM,mM])),gp(kM,Bv(tv(Gz,1),uyb,41,0,[gM,mM,hM]))]))),CO);kO=new vO('OUT_L_B',8,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[gM,lM,hM]))),CO);pO=new vO('OUT_R_T',9,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[iM,nM,hM]))),BO);oO=new vO('OUT_R_C',10,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(kM,Bv(tv(Gz,1),uyb,41,0,[iM,mM])),gp(kM,Bv(tv(Gz,1),uyb,41,0,[iM,mM,hM]))]))),BO);nO=new vO('OUT_R_B',11,new Er(gp(kM,Bv(tv(Gz,1),uyb,41,0,[iM,lM,hM]))),BO);fO=new vO('IN_T_L',12,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[nM,gM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[nM,gM,hM]))]))),BO);eO=new vO('IN_T_C',13,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[nM,fM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[nM,fM,hM]))]))),AO);gO=new vO('IN_T_R',14,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[nM,iM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[nM,iM,hM]))]))),CO);cO=new vO('IN_C_L',15,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,gM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,gM,hM]))]))),BO);bO=new vO('IN_C_C',16,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,fM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,fM,hM]))]))),AO);dO=new vO('IN_C_R',17,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,iM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[mM,iM,hM]))]))),CO);_N=new vO('IN_B_L',18,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[lM,gM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[lM,gM,hM]))]))),BO);$N=new vO('IN_B_C',19,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[lM,fM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[lM,fM,hM]))]))),AO);aO=new vO('IN_B_R',20,new gr(Ti(Bv(tv(UF,1),syb,1,4,[gp(jM,Bv(tv(Gz,1),uyb,41,0,[lM,iM])),gp(jM,Bv(tv(Gz,1),uyb,41,0,[lM,iM,hM]))]))),CO);tO=new vO(szb,21,(null,Fi),null)}function lab(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,ab,bb,cb,db,eb,fb,gb,hb,ib;$=0;for(G=0,J=b.length;G<J;++G){D=b[G];if(LM(Wv(rJ(D,(eM(),TL)),28))){for(S=new _7(D.f);S.a<S.c.c.length;){R=Wv(QJ(S),7);U=0;for(h=new _7(R.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);D.d!=g.d.f.d&&++U}U>0&&(a.a[R.k]=$++)}}else{L=0;for(S=new _7(D.f);S.a<S.c.c.length;){R=Wv(QJ(S),7);for(h=new _7(R.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);D.d!=g.d.f.d&&++L}a.a[R.k]=$}L>0&&++$}}eb=0;for(H=0,K=c.length;H<K;++H){D=c[H];if(LM(Wv(rJ(D,(eM(),TL)),28))){M=0;for(S=new _7(D.f);S.a<S.c.c.length;){R=Wv(QJ(S),7);if(R.g==(sN(),$M)){for(h=new _7(R.b);h.a<h.c.c.length;){g=Wv(QJ(h),12);if(D.d!=g.c.f.d){++M;break}}}else{break}}O=0;V=new MJ(D.f,D.f.c.length);while(V.b>0){R=(Pi(V.b>0),Wv(V.a.sb(V.c=--V.b),7));U=0;for(h=new _7(R.b);h.a<h.c.c.length;){g=Wv(QJ(h),12);D.d!=g.c.f.d&&++U}if(U>0){if(R.g==(sN(),$M)){a.a[R.k]=eb;++eb}else{a.a[R.k]=eb+M+O;++O}}}eb+=O}else{L=0;for(S=new _7(D.f);S.a<S.c.c.length;){R=Wv(QJ(S),7);for(h=new _7(R.b);h.a<h.c.c.length;){g=Wv(QJ(h),12);D.d!=g.c.f.d&&++L}a.a[R.k]=eb}L>0&&++eb}}T=(mp(),new K9);n=new Qi;for(F=0,I=b.length;F<I;++F){D=b[F];for(cb=new _7(D.f);cb.a<cb.c.c.length;){bb=Wv(QJ(cb),7);for(h=new _7(bb.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);gb=g.d;if(D.d!=gb.f.d){ab=Wv(re(Ju(T.d,bb)),197);fb=Wv(re(Ju(T.d,gb)),197);if(!ab&&!fb){m=new Yk;n.a.db(m,n);vU(m.a,g);vU(m.d,bb);Ltb(T.d,bb,m);vU(m.d,gb);Ltb(T.d,gb,m)}else if(!ab){vU(fb.a,g);vU(fb.d,bb);Ltb(T.d,bb,fb)}else if(!fb){vU(ab.a,g);vU(ab.d,gb);Ltb(T.d,gb,ab)}else if(ab==fb){vU(ab.a,g)}else{vU(ab.a,g);for(Q=new _7(fb.d);Q.a<Q.c.c.length;){P=Wv(QJ(Q),7);Ltb(T.d,P,ab)}xU(ab.a,fb.a);xU(ab.d,fb.d);n.a.eb(fb)!=null}}}}}o=Wv(Ye(n,xv(tE,{674:1,3:1,5:1,6:1},197,n.a.Y(),0,1)),674);C=b[0].d;Z=c[0].d;for(k=0,l=o.length;k<l;++k){j=o[k];j.e=$;j.f=eb;for(S=new _7(j.d);S.a<S.c.c.length;){R=Wv(QJ(S),7);W=a.a[R.k];if(R.f.d==C){W<j.e&&(j.e=W);W>j.b&&(j.b=W)}else if(R.f.d==Z){W<j.f&&(j.f=W);W>j.c&&(j.c=W)}}}ipb(o,0,o.length,(zg(),zg(),gsb));db=xv(mw,Yyb,26,o.length,12,1);d=xv(mw,Yyb,26,eb+1,12,1);for(q=0;q<o.length;q++){db[q]=o[q].f;d[db[q]]=1}f=0;for(r=0;r<d.length;r++){d[r]==1?(d[r]=f):--f}X=0;for(s=0;s<db.length;s++){db[s]+=d[db[s]];X=sd(X,db[s]+1)}i=1;while(i<X){i*=2}ib=2*i-1;i-=1;hb=xv(mw,Yyb,26,ib,12,1);e=0;for(A=0;A<db.length;A++){w=db[A]+i;++hb[w];while(w>0){w%2>0&&(e+=hb[w+1]);w=(w-1)/2|0;++hb[w]}}B=xv(sE,syb,156,o.length*2,0,1);for(t=0;t<o.length;t++){B[2*t]=new Ps(o[t],o[t].e,o[t].b,(YN(),uab));B[2*t+1]=new Ps(o[t],o[t].b,o[t].e,tab)}ipb(B,0,B.length,(null,gsb));N=0;for(u=0;u<B.length;u++){switch(B[u].d.e){case 0:++N;break;case 1:--N;e+=N;}}Y=xv(sE,syb,156,o.length*2,0,1);for(v=0;v<o.length;v++){Y[2*v]=new Ps(o[v],o[v].f,o[v].c,(YN(),uab));Y[2*v+1]=new Ps(o[v],o[v].c,o[v].f,tab)}ipb(Y,0,Y.length,(null,gsb));N=0;for(p=0;p<Y.length;p++){switch(Y[p].d.e){case 0:++N;break;case 1:--N;e+=N;}}return e}function eM(){eM=E;var a,b;mL=new DJ('de.cau.cs.kieler.animate',(Xo(),Xo(),wkb));new DJ('de.cau.cs.kieler.minAnimTime',Elb(400));new DJ('de.cau.cs.kieler.maxAnimTime',Elb(4000));new DJ('de.cau.cs.kieler.animTimeFactor',Elb(100));jL=new DJ('de.cau.cs.kieler.additionalPortSpace',null);qL=new DJ('de.cau.cs.kieler.commentBox',(null,vkb));new CJ('de.cau.cs.kieler.diagramType');tL=new DJ('de.cau.cs.kieler.edgeLabelPlacement',(EK(),DK));vL=new DJ('de.cau.cs.kieler.edgeType',(YK(),WK));xL=new CJ('de.cau.cs.kieler.fontName');yL=new DJ('de.cau.cs.kieler.fontSize',Elb(0));AL=new DJ('de.cau.cs.kieler.hypernode',(null,vkb));CL=new DJ('de.cau.cs.kieler.junctionPoints',new jJ);new DJ('de.cau.cs.kieler.layoutAncestors',(null,vkb));GL=new DJ('de.cau.cs.kieler.margins',new DP);HL=new EJ('de.cau.cs.kieler.minHeight',new X6(0),new X6(0));IL=new EJ('de.cau.cs.kieler.minWidth',new X6(0),new X6(0));KL=new DJ('de.cau.cs.kieler.noLayout',(null,vkb));LL=new CJ('de.cau.cs.kieler.offset');SL=new CJ('de.cau.cs.kieler.klay.layered.portAnchor');UL=new CJ('de.cau.cs.kieler.portIndex');WL=new DJ('de.cau.cs.kieler.portSide',(sN(),qN));new DJ('de.cau.cs.kieler.progressBar',(null,vkb));new DJ('de.cau.cs.kieler.resetConfig',(null,wkb));new DJ('de.cau.cs.kieler.scaleFactor',new X6(1));dM=new DJ('de.cau.cs.kieler.thickness',new X6(1));new DJ('de.cau.cs.kieler.zoomToFit',(null,vkb));kL=new CJ('de.cau.cs.kieler.algorithm');lL=new DJ('de.cau.cs.kieler.alignment',(iK(),cK));nL=new DJ('de.cau.cs.kieler.aspectRatio',new X6(0));oL=new CJ('de.cau.cs.kieler.bendPoints');pL=new DJ('de.cau.cs.kieler.borderSpacing',new X6(-1));rL=new DJ(uzb,(null,vkb));sL=new DJ('de.cau.cs.kieler.direction',(sK(),qK));uL=new DJ('de.cau.cs.kieler.edgeRouting',(NK(),MK));wL=new DJ('de.cau.cs.kieler.expandNodes',(null,vkb));zL=new DJ('de.cau.cs.kieler.hierarchyHandling',(eL(),cL));BL=new DJ('de.cau.cs.kieler.interactive',(null,vkb));DL=new EJ('de.cau.cs.kieler.labelSpacing',new X6(3),new X6(0));EL=new DJ('de.cau.cs.kieler.layoutHierarchy',(null,vkb));JL=new DJ('de.cau.cs.kieler.nodeLabelPlacement',(oM(),b=Wv(Zd(Gz),11),new Ln(b,Wv(fq(b,b.length),11),0)));TL=new DJ('de.cau.cs.kieler.portConstraints',(KM(),JM));VL=new DJ('de.cau.cs.kieler.portLabelPlacement',(UM(),TM));XL=new EJ('de.cau.cs.kieler.portSpacing',new X6(-1),new X6(0));NL=new DJ('de.cau.cs.kieler.portAlignment',(zM(),xM));PL=new DJ('de.cau.cs.kieler.portAlignment.north',yM);QL=new DJ('de.cau.cs.kieler.portAlignment.south',yM);RL=new DJ('de.cau.cs.kieler.portAlignment.west',yM);OL=new DJ('de.cau.cs.kieler.portAlignment.east',yM);YL=new CJ('de.cau.cs.kieler.position');ZL=new CJ('de.cau.cs.kieler.priority');new CJ(vzb);$L=new DJ('de.cau.cs.kieler.selfLoopInside',(null,vkb));_L=new CJ('de.cau.cs.kieler.separateConnComp');aM=new DJ('de.cau.cs.kieler.sizeConstraint',(DN(),a=Wv(Zd(Lz),11),new Ln(a,Wv(fq(a,a.length),11),0)));bM=new DJ('de.cau.cs.kieler.sizeOptions',gp((MN(),KN),Bv(tv(Mz,1),uyb,139,0,[IN])));cM=new EJ('de.cau.cs.kieler.spacing',new X6(-1),new X6(0));FL=new DJ('de.cau.cs.kieler.layoutPartitions',(null,vkb));ML=new CJ('de.cau.cs.kieler.partition')}function wQ(b,c,d,e){tQ();var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(!e){if((!b.n?(ct(),ct(),wpb):b.n).R(new xQ(c))){return}}if(Wv(rQ.a,18).kb(c)){if(!d.lc()){throw new _J(Pzb+c+Qzb+d+').')}o=Wv(Wv(rQ.b,57).cb(c),79);p=d.lc().a;sJ(b,o,p);return}else if(Wv(oQ.a,18).kb(c)){try{if(!d.jc()){throw new Ya}o=Wv(Wv(oQ.b,57).cb(c),79);s=Elb(dlb((Da(),''+d.jc().a)));sJ(b,o,s);return}catch(a){a=OH(a);if(aw(a,130)){throw new _J("Invalid integer format for property '"+c+Qzb+d+').')}else throw NH(a)}}else if(Wv(kQ.a,18).kb(c)){if(!d.ic()){throw new _J(Pzb+c+Qzb+d+').')}o=Wv(Wv(kQ.b,57).cb(c),79);s=(Xo(),d.ic().a?wkb:vkb);sJ(b,o,s);return}else if(Wv(nQ.a,18).kb(c)){if(!d.jc()){throw new _J("Invalid float format for property '"+c+Qzb+d+').')}o=Wv(Wv(nQ.b,57).cb(c),79);s=new V6(d.jc().a);sJ(b,o,s);return}else if(Wv(mQ.a,18).kb(c)){if(!d.lc()){throw new _J(Rzb+c+Qzb+d+').')}l=d.lc().a;m=null;try{vQ((eM(),WL),c)?(m=(sN(),Wv(Gc((yN(),xN),l),32))):vQ(lL,c)?(m=(iK(),Wv(Gc((mK(),lK),l),103))):vQ(sL,c)?(m=(sK(),Wv(Gc((zK(),yK),l),59))):vQ(uL,c)?(m=(NK(),Wv(Gc((RK(),QK),l),122))):vQ(zL,c)?(m=(eL(),Wv(Gc((iL(),hL),l),166))):vQ(NL,c)||vQ(OL,c)||vQ(PL,c)||vQ(QL,c)||vQ(RL,c)?(m=(zM(),Wv(Gc((DM(),CM),l),100))):vQ(TL,c)?(m=(KM(),Wv(Gc((QM(),PM),l),28))):vQ(VL,c)?(m=(UM(),Wv(Gc((YM(),XM),l),149))):vQ(vL,c)?(m=(YK(),Wv(Gc((aL(),_K),l),133))):vQ(tL,c)?(m=(EK(),Wv(Gc((IK(),HK),l),107))):vQ((Mjb(),ljb),c)?(m=(Z7(),Wv(Gc((c8(),b8),l),193))):vQ(zjb,c)?(m=(x8(),Wv(Gc((C8(),B8),l),173))):vQ(ojb,c)?(m=(Pgb(),Wv(Gc((gY(),Tgb),l),115))):vQ(hjb,c)?(m=(ZY(),Wv(Gc((yT(),ocb),l),194))):vQ(kjb,c)?(m=(p9(),Wv(Gc((u9(),t9),l),192))):vQ(Bjb,c)?(m=(I1(),Wv(Gc((M1(),L1),l),109))):vQ(Ajb,c)?(m=(kbb(),Wv(Gc((eY(),obb),l),141))):vQ(Fjb,c)?(m=(g4(),Wv(Gc((k4(),j4),l),125))):vQ(Gjb,c)?(m=(X3(),Wv(Gc((_3(),$3),l),175))):vQ(sjb,c)?(m=(_gb(),Wv(Gc((A$(),chb),l),124))):vQ(tjb,c)?(m=(zhb(),Wv(Gc((Dhb(),Chb),l),110))):vQ(vjb,c)?(m=(Xib(),Wv(Gc((iY(),$ib),l),85))):vQ(Jjb,c)?(m=(Qjb(),Wv(Gc((vV(),Tjb),l),153))):vQ(Ljb,c)?(m=(ckb(),Wv(Gc((yV(),fkb),l),172))):vQ(ujb,c)&&(m=(tM(),Wv(Gc((BT(),Phb),l),174)))}catch(a){a=OH(a);if(aw(a,54)){throw new _J(Rzb+c+Qzb+d+').')}else throw NH(a)}o=Wv(Wv(mQ.b,57).cb(c),79);sJ(b,o,m);return}else if(Wv(lQ.a,18).kb(c)){if(!d.lc()){throw new _J(Rzb+c+Qzb+d+').')}k=d.lc().a;q=null;j=fmb(k,'[\\[\\]\\s,]+');for(h=0,i=j.length;h<i;++h){g=j[h];if(ri(hmb(g))==0){continue}if(vQ((eM(),JL),c)){!q&&(q=(f=Wv(Zd(Gz),11),new Ln(f,Wv(fq(f,f.length),11),0)));g_(q,(oM(),Wv(Gc((sM(),rM),g),41)))}else if(vQ(aM,c)){!q&&(q=(f=Wv(Zd(Lz),11),new Ln(f,Wv(fq(f,f.length),11),0)));g_(q,(DN(),Wv(Gc((HN(),GN),g),150)))}else if(vQ(bM,c)){!q&&(q=(f=Wv(Zd(Mz),11),new Ln(f,Wv(fq(f,f.length),11),0)));g_(q,(MN(),Wv(Gc((QN(),PN),g),139)))}else if(vQ((Mjb(),jjb),c)){!q&&(q=(f=Wv(Zd(iF),11),new Ln(f,Wv(fq(f,f.length),11),0)));g_(q,(zgb(),Wv(Gc((x$(),Cgb),g),123)))}}o=Wv(Wv(lQ.b,57).cb(c),79);sJ(b,o,q);return}else if(Wv(qQ.a,18).kb(c)){if(!d.lc()){throw new _J("Invalid _other_ format for property '"+c+Qzb+d+').')}if(vQ((eM(),YL),c)||vQ(SL,c)){try{r=new FI;AI(r,d.lc().a);o=Wv(Wv(qQ.b,57).cb(c),79);sJ(b,o,r);return}catch(a){a=OH(a);if(aw(a,29)){throw new _J("Invalid KVector format for property '"+c+"' "+d+'.')}else throw NH(a)}}else if(vQ(oL,c)||vQ(CL,c)){try{t=new jJ;iJ(t,d.lc().a);o=Wv(Wv(qQ.b,57).cb(c),79);sJ(b,o,t);return}catch(a){a=OH(a);if(aw(a,29)){throw new _J("Invalid KVectorChain format for property '"+c+"' "+d+'.')}else throw NH(a)}}else if(vQ(GL,c)||vQ(jL,c)){try{n=new DP;tP(n,d.lc().a);o=Wv(Wv(qQ.b,57).cb(c),79);sJ(b,o,n);return}catch(a){a=OH(a);if(aw(a,29)){throw new _J("Invalid Margins format for property '"+c+"' "+d+'.')}else throw NH(a)}}}else if(Wv(pQ.a,18).kb(c)){return}throw new _J("Unsupported layout option '"+c+Qzb+d+').')}var Sxb='object',Txb={3:1,8:1,5:1,6:1},Uxb={3:1,46:1},Vxb={3:1,54:1,46:1},Wxb='null',Xxb='anonymous',Yxb='Unknown',Zxb='function',$xb=2147483647,_xb={181:1,3:1,54:1,46:1},ayb=65536,byb=65535,cyb={3:1,54:1,29:1,46:1},dyb='For input string: "',eyb=-2147483648,fyb={56:1},gyb={23:1,145:1,185:1},hyb={3:1,5:1},iyb='Invalid UTF8 sequence',jyb='fromIndex: ',kyb='java.lang',lyb='com.google.gwt.core.client',myb='com.google.gwt.core.client.impl',nyb='java.io',oyb='java.nio.charset',pyb='javaemul.internal',qyb='com.google.common.base',ryb='%s (%s) must not be negative',syb={3:1,5:1,6:1},tyb='negative size: ',uyb={3:1,8:1,5:1,11:1,6:1},vyb={68:1,136:1,3:1,23:1,17:1},wyb={108:1,35:1},xyb='com.google.common.collect',yyb={108:1,35:1,96:1},zyb={144:1,3:1},Ayb={35:1},Byb={57:1},Cyb='java.util',Dyb={22:1,19:1},Eyb={22:1,19:1,18:1},Fyb={22:1,19:1,20:1},Gyb={22:1,19:1,20:1,63:1},Hyb={35:1,96:1},Iyb={22:1,19:1,18:1,137:1},Jyb={21:1},Kyb='AbstractMapEntry',Lyb={207:1,22:1,19:1},Myb={159:1,3:1,23:1,17:1},Nyb=1073741824,Oyb={22:1},Pyb={3:1,22:1,19:1},Qyb={87:1,3:1,22:1,19:1,20:1,63:1},Ryb={3:1,57:1},Syb={3:1,22:1,19:1,18:1},Tyb={64:1},Uyb='arraySize',Vyb='initialArraySize',Wyb={64:1,188:1,3:1,23:1,17:1},Xyb='occurrences',Yyb={52:1,3:1,5:1},Zyb={205:1,3:1,23:1,17:1},$yb=1.0E-4,_yb='com.google.gwt.json.client',azb=4194303,bzb=1048575,czb=4194304,dzb=17592186044416,ezb=-17592186044416,fzb='([{"\' \t\r\n',gzb=')]}"\' \t\r\n',hzb='The given string contains parts that cannot be parsed as numbers.',izb='de.cau.cs.kieler.core.math',jzb=-1.7976931348623157E308,kzb='de.cau.cs.kieler.core.properties',lzb={79:1,23:1},mzb='de.cau.cs.kieler.core.util',nzb='de.cau.cs.kieler.kiml',ozb='LEFT',pzb='RIGHT',qzb='CENTER',rzb='de.cau.cs.kieler.kiml.options',szb='UNDEFINED',tzb='NONE',uzb='de.cau.cs.kieler.debugMode',vzb='de.cau.cs.kieler.randomSeed',wzb='de.cau.cs.kieler.kiml.util.nodespacing',xzb='de.cau.cs.kieler.kiml.util.labelspacing',yzb='portRatioOrPosition',zzb='NodeMarginCalculator',Azb='bottom',Bzb={286:1,121:1,3:1,5:1},Czb='undefined',Dzb='text',Ezb='stacktrace',Fzb={34:1,3:1,8:1,5:1,6:1},Gzb='properties',Hzb='bendPoints',Izb='junctionPoints',Jzb='width',Kzb='height',Lzb='padding',Mzb='children',Nzb={38:1,39:1,42:1,51:1,71:1,3:1,8:1,5:1,6:1},Ozb='de.cau.cs.kieler.klay.gwt.client.layout',Pzb="Invalid boolean format for property '",Qzb="' (",Rzb="Invalid enum format for property '",Szb='de.cau.cs.kieler.klay.layered',Tzb='Layered layout',Uzb=Infinity,Vzb=-Infinity,Wzb='de.cau.cs.kieler.klay.layered.compaction.components',Xzb='de.cau.cs.kieler.klay.layered.compaction.oned',Yzb=' instance has been finished already.',Zzb='de.cau.cs.kieler.klay.layered.compaction.oned.algs',$zb='de.cau.cs.kieler.klay.layered.compaction.recthull',_zb={68:1},aAb='de.cau.cs.kieler.klay.layered.components',bAb={3:1,5:1,22:1,13:1,19:1,20:1,63:1},cAb=1.600000023841858,dAb=0.001,eAb={31:1},fAb='de.cau.cs.kieler.klay.layered.compound',gAb={38:1,39:1,47:1,42:1,3:1,8:1,5:1,6:1},hAb='de.cau.cs.kieler.klay.layered.graph',iAb='Port side is undefined',jAb='de.cau.cs.kieler.klay.layered.intermediate',kAb='Big nodes pre-processing',lAb=3.4028234663852886E38,mAb={38:1,39:1,42:1,346:1,71:1,3:1,8:1,5:1,6:1},nAb="Node '",oAb="' has its layer constraint set to FIRST or FIRST_SEPARATE, but has ",pAb='at least one incoming edge. Connections between nodes with these ',qAb='layer constraints are not supported.',rAb=1.7976931348623157E308,sAb='Odd port side processing',tAb={250:1,3:1,5:1},uAb=1.0E-8,vAb='de.cau.cs.kieler.klay.layered.intermediate.compaction',wAb='de.cau.cs.kieler.klay.layered.intermediate.greedyswitch',xAb={227:1,3:1,5:1},yAb='de.cau.cs.kieler.klay.layered.networksimplex',zAb='INTERACTIVE',AAb='de.cau.cs.kieler.klay.layered.p1cycles',BAb={106:1,31:1},CAb='de.cau.cs.kieler.klay.layered.p2layers',DAb='NETWORK_SIMPLEX',EAb='de.cau.cs.kieler.klay.layered.p3order',FAb=5.9604644775390625E-8,GAb='Port type is undefined',HAb=0.30000001192092896,IAb=0.699999988079071,JAb=0.8999999761581421,KAb='de.cau.cs.kieler.klay.layered.p3order.constraints',LAb='de.cau.cs.kieler.klay.layered.p3order.counting',MAb='de.cau.cs.kieler.klay.layered.p4nodes',NAb={625:1,3:1,5:1,6:1},OAb='de.cau.cs.kieler.klay.layered.p4nodes.bk',PAb='de.cau.cs.kieler.klay.layered.p5edges',QAb='de.cau.cs.kieler.klay.layered.p5edges.splines',RAb=1.0E-6,SAb=-1.0E-6,TAb='The list of vectors may not be empty.',UAb=0.09999999999999998,VAb='de.cau.cs.kieler.klay.layered.properties',WAb='_gwt_modCount',XAb={3:1,22:1,19:1,20:1,63:1},YAb={3:1,5:1,57:1},ZAb={3:1,5:1,22:1,19:1,50:1,18:1},$Ab='delete',_Ab=15525485,aBb=16777216,bBb=16777215,cBb={3:1,5:1,22:1,19:1,20:1,63:1},dBb={3:1,23:1,17:1,138:1};var _,fI,aI,LH=-1;gI();hI(1,null,{},pb);_.t=function qb(a){return this===a};_.u=function sb(){return this.$c};_.v=function ub(){return Sk(this)};_.w=function wb(){return ob(this)};_.toString=function(){return this.w()};hI(46,1,Uxb);_.bc=function ct(){return this.f};_.w=function dt(){var a,b;return a=Xd(this.$c),b=this.bc(),b!=null?a+': '+b:a};hI(54,46,Vxb);hI(72,54,Vxb,gt);hI(164,72,{164:1,3:1,54:1,46:1},kt);_.bc=function nt(){jt(this);return this.c};_.cc=function ot(){return gw(this.b)===gw(ht)?null:this.b};var ht;var Mt;hI(642,1,{});hI(356,642,{},Tt);_.dc=function Ut(a,b){var c={},k;var d=[];a.__gwt$backingJsError={'fnStack':d};var e=arguments.callee.caller;while(e){var f=(Nt(),e.name||(e.name=Rt(e.toString())));d.push(f);var g=':'+f;var h=c[g];if(h){var i,j;for(i=0,j=h.length;i<j;i++){if(h[i]===e){return}}}(h||(c[g]=[])).push(e);e=e.caller}};_.ec=function Vt(a){var b,c,d,e,f;d=(Nt(),f=a.__gwt$backingJsError,f&&f.fnStack?f.fnStack:[]);c=d.length;e=xv(WF,Txb,146,c,0,1);for(b=0;b<c;b++){e[b]=new Qs(d[b],null,-1)}return e};hI(643,642,{});_.dc=function Yt(c,d){function e(b){if(!('stack'in b)){try{throw b}catch(a){}}return b}var f;typeof d=='string'?(f=e(new Error(d.replace('\n',' ')))):d&&typeof d==Sxb&&'stack'in d?(f=d):(f=e(new Error));c.__gwt$backingJsError=f};_.fc=function Zt(a,b,c,d){return new Qs(b,a+'@'+d,c<0?-1:c)};_.ec=function $t(a){var b,c,d,e,f,g,h;e=(Nt(),h=a.__gwt$backingJsError,h&&h.stack?h.stack.split('\n'):[]);f=xv(WF,Txb,146,0,0,1);b=0;d=e.length;if(d==0){return f}g=Xt(this,e[0]);qb(g.d,Xxb)||(f[b++]=g);for(c=1;c<d;c++){f[b++]=Xt(this,e[c])}return f};hI(357,643,{},_t);_.fc=function au(a,b,c,d){return new Qs(b,a,-1)};var Sv,Tv,Uv;hI(181,54,_xb);hI(351,181,_xb,lc);hI(288,1,{},Kkb);_.Oc=function Lkb(a){var b;b=new Kkb;b.g=4;a>1?(b.c=$H(this,a-1)):(b.c=this);return b};_.Pc=function Rkb(){Cl(this);return this.b};_.Qc=function Tkb(){return Xd(this)};_.Rc=function Vkb(){return Yd(this)};_.Sc=function Xkb(){return(this.g&4)!=0};_.Tc=function Ykb(){return(this.g&1)!=0};_.w=function _kb(){return((this.g&2)!=0?'interface ':(this.g&1)!=0?'':'class ')+(Cl(this),this.n)};_.g=0;var Fkb=1;hI(119,72,{3:1,119:1,54:1,46:1},ma);hI(29,72,cyb,na,oc);hI(95,72,Vxb,oa,mc);hI(231,1,{3:1,231:1});var blb;hI(24,231,{3:1,23:1,24:1,231:1},z5);_.F=function ylb(a){return ti(this,Wv(a,24))};_.t=function zlb(a){return aw(a,24)&&Wv(a,24).a==this.a};_.v=function Alb(){return this.a};_.w=function Clb(){return ke(this.a)};_.a=0;Uv={3:1,345:1,23:1,2:1};hI(350,1,fyb,j3);_.$b=function tmb(a,b){return LS($v(a),$v(b))};hI(257,95,Vxb,Nd);hI(145,1,{23:1,145:1});_.F=function Kmb(a){return si(this,Wv(a,145))};_.t=function Lmb(a){var b;if(a===this){return true}if(!aw(a,145)){return false}b=Wv(a,145);return qb(this.a,b.a)};_.v=function Mmb(){return Pxb(this.a)};_.w=function Nmb(){return this.a};hI(358,29,cyb,Cq);hI(256,29,{3:1,54:1,29:1,46:1,256:1},Bq);hI(185,145,gyb);var jxb,kxb,lxb;hI(289,185,gyb,Pd);_.Zc=function pxb(a,b,c){var d,e;d=xv(jw,hyb,26,c,12,1);for(e=0;e<c;++e){d[e]=a[b+e]&255&byb}return d};hI(355,185,gyb,gi);_.Zc=function rxb(a,b,c){var d,e,f,g,h,i,j,k;f=0;for(j=0;j<c;){++f;e=a[b+j];if((e&192)==128){throw new oc(iyb)}else if((e&128)==0){++j}else if((e&224)==192){j+=2}else if((e&240)==224){j+=3}else if((e&248)==240){j+=4}else{throw new oc(iyb)}if(j>c){throw new mc(iyb)}}g=xv(jw,hyb,26,f,12,1);k=0;h=0;for(i=0;i<c;){e=a[b+i++];if((e&128)==0){h=1;e&=127}else if((e&224)==192){h=2;e&=31}else if((e&240)==224){h=3;e&=15}else if((e&248)==240){h=4;e&=7}else if((e&252)==248){h=5;e&=3}while(--h>0){d=a[b+i++];if((d&192)!=128){throw new oc('Invalid UTF8 sequence at '+(b+i-1)+', byte='+(d>>>0).toString(16))}e=e<<6|d&63}k+=Ekb(e,g,k)}return g};var UF=vq(kyb,'Object',1);var _F=vq(kyb,'Throwable',46);var KF=vq(kyb,'Exception',54);var VF=vq(kyb,'RuntimeException',72);var Zy=vq(lyb,'JavaScriptException',164);var ez=vq(myb,'StackTraceCreator/Collector',642);var bz=vq(myb,'StackTraceCreator/CollectorLegacy',356);var dz=vq(myb,'StackTraceCreator/CollectorModern',643);var cz=vq(myb,'StackTraceCreator/CollectorModernNoSourceMap',357);var wF=vq(nyb,'IOException',181);var zF=vq(nyb,'UnsupportedEncodingException',351);var GF=vq(kyb,'Class',288);var FF=vq(kyb,'ClassCastException',119);var MF=vq(kyb,'IllegalArgumentException',29);var OF=vq(kyb,'IndexOutOfBoundsException',95);var TF=vq(kyb,'Number',231);var PF=vq(kyb,'Integer',24);var $F=vq(kyb,'String',2);var XF=vq(kyb,'String/1',350);var ZF=vq(kyb,'StringIndexOutOfBoundsException',257);var bG=vq(oyb,'Charset',145);var cG=vq(oyb,'IllegalCharsetNameException',358);var dG=vq(oyb,'UnsupportedCharsetException',256);var JH=vq(pyb,'EmulatedCharset',185);var HH=vq(pyb,'EmulatedCharset/LatinCharset',289);var IH=vq(pyb,'EmulatedCharset/UtfCharset',355);hI(669,1,{3:1});var sw=vq(qyb,'Optional',669);hI(601,669,{3:1},Ab);_.t=function Bb(a){return a===this};_.v=function Cb(){return 2040732332};_.w=function Db(){return'Optional.absent()'};_.A=function Eb(a){_b(a);return zb(),yb};var yb;var nw=vq(qyb,'Absent',601);var ow=to(qyb,'Function');hI(208,1,{},Kb);_.C=function Lb(a){return Ib(a)};var rw=vq(qyb,'Joiner',208);hI(363,208,{},Nb);_.C=function Ob(a){return Mb(this,a)};var pw=vq(qyb,'Joiner/1',363);hI(362,1,{},Rb);var qw=vq(qyb,'Joiner/MapJoiner',362);var tw=to(qyb,'Predicate');var gc;hI(244,1,{68:1,244:1,3:1},ic);_.D=function jc(a){var b;for(b=0;b<this.a.a.length;b++){if(!Wv(Go(this.a,b),68).D(a)){return false}}return true};_.t=function kc(a){var b;if(aw(a,244)){b=Wv(a,244);return cn(this.a,b.a)}return false};_.v=function lc(){return Bpb(this.a)+306654252};_.w=function mc(){return'Predicates.and('+Hb((hc(),gc),new Z6(this.a))+')'};var uw=vq(qyb,'Predicates/AndPredicate',244);hI(246,1,{68:1,246:1,3:1},nc);_.D=function oc(b){try{return this.a.kb(b)}catch(a){a=OH(a);if(aw(a,76)){return false}else if(aw(a,119)){return false}else throw NH(a)}};_.t=function pc(a){var b;if(aw(a,246)){b=Wv(a,246);return this.a.t(b.a)}return false};_.v=function qc(){return this.a.v()};_.w=function rc(){return'Predicates.in('+this.a+')'};var vw=vq(qyb,'Predicates/InPredicate',246);hI(245,1,{68:1,245:1,3:1},sc);_.D=function tc(a){return rb(this.a,a)};_.t=function uc(a){var b;if(aw(a,245)){b=Wv(a,245);return rb(this.a,b.a)}return false};_.v=function vc(){return vb(this.a)};_.w=function wc(){return'Predicates.equalTo('+this.a+')'};var ww=vq(qyb,'Predicates/IsEqualToPredicate',245);hI(17,1,{3:1,23:1,17:1});_.F=function Bc(a){return xc(this,Wv(a,17))};_.t=function Dc(a){return this===a};_.v=function Ec(){return Sk(this)};_.w=function Fc(){return zc(this)};_.e=0;var IF=vq(kyb,'Enum',17);hI(136,17,vyb);var Hc,Ic,Jc,Kc;var Bw=vX(qyb,'Predicates/ObjectPredicate',136,IF,Nc);hI(591,136,vyb,Oc);_.D=function Pc(a){return true};_.w=function Qc(){return'Predicates.alwaysTrue()'};var xw=vX(qyb,'Predicates/ObjectPredicate/1',591,Bw,null);hI(592,136,vyb,Rc);_.D=function Sc(a){return false};_.w=function Tc(){return'Predicates.alwaysFalse()'};var yw=vX(qyb,'Predicates/ObjectPredicate/2',592,Bw,null);hI(593,136,vyb,Uc);_.D=function Vc(a){return a==null};_.w=function Wc(){return'Predicates.isNull()'};var zw=vX(qyb,'Predicates/ObjectPredicate/3',593,Bw,null);hI(594,136,vyb,Xc);_.D=function Yc(a){return a!=null};_.w=function Zc(){return'Predicates.notNull()'};var Aw=vX(qyb,'Predicates/ObjectPredicate/4',594,Bw,null);hI(177,669,{177:1,3:1},$c);_.t=function _c(a){var b;if(aw(a,177)){b=Wv(a,177);return rb(this.a,b.a)}return false};_.v=function ad(){return 1502476572+vb(this.a)};_.w=function bd(){return'Optional.of('+this.a+')'};_.A=function cd(a){return new $c(ac(a.B(this.a),'the Function passed to Optional.transform() must not return null.'))};var Cw=vq(qyb,'Present',177);hI(108,1,wyb);_.I=function ed(){dd()};var Xy=vq(xyb,'UnmodifiableIterator',108);hI(651,108,yyb);_.J=function fd(a){throw new sa};_.O=function gd(a){throw new sa};var Yy=vq(xyb,'UnmodifiableListIterator',651);hI(378,651,yyb);_.G=function hd(){return this.b<this.c};_.K=function jd(){return this.b>0};_.H=function kd(){if(this.b>=this.c){throw new Ua}return Lk(this,this.b++)};_.L=function ld(){return this.b};_.M=function md(){if(this.b<=0){throw new Ua}return Lk(this,--this.b)};_.N=function nd(){return this.b-1};_.b=0;_.c=0;var Dw=vq(xyb,'AbstractIndexedListIterator',378);hI(428,108,wyb);_.G=function rd(){return od(this)};_.H=function sd(){return pd(this)};_.d=1;var Ew=vq(xyb,'AbstractIterator',428);hI(653,1,{144:1});_.P=function vd(){var a;return a=this.f,!a?(this.f=this.S()):a};_.T=function wd(){return new Bf(this.P())};_.t=function xd(a){return Mp(this,a)};_.v=function yd(){return this.P().v()};_.V=function zd(){return this.Y()==0};_.W=function Ad(){return ud(this)};_.w=function Bd(){return this.P().w()};var Xw=vq(xyb,'AbstractMultimap',653);hI(294,653,zyb);_.Q=function Nd(){Cd(this)};_.R=function Od(a){return bX(this.b,a)};_.S=function Pd(){return new Ie(this,this.b)};_.T=function Qd(){return new If(this,this.b)};_.$=function Rd(){return Id(this.Z())};_.U=function Sd(a){return Dd(this,a)};_.X=function Td(a){return Gd(this,a)};_.Y=function Ud(){return this.c};_.c=0;var Uw=vq(xyb,'AbstractMapBasedMultimap',294);hI(600,294,zyb);_.Z=function Xd(){return new HU(this.a)};_.$=function Yd(){return Gi(),Gi(),Fi};_.U=function $d(a){return Wv(Dd(this,a),20)};_.X=function _d(a){return Wv(Gd(this,a),20)};_.P=function Wd(){var a;return a=this.f,!a?(this.f=new Ie(this,this.b)):a};_.t=function Zd(a){return Mp(this,a)};var Fw=vq(xyb,'AbstractListMultimap',600);hI(388,1,Ayb);_.G=function ae(){return this.b.b||this.d.G()};_.H=function be(){var a;if(!this.d.G()){a=uZ(this.b);a.yb();this.a=Wv(a.zb(),19);this.d=this.a.mb()}return this.d.H()};_.I=function ce(){this.d.I();this.a.V()&&xW(this.b);--this.c.c};var Kw=vq(xyb,'AbstractMapBasedMultimap/Itr',388);hI(389,388,Ayb,de);var Gw=vq(xyb,'AbstractMapBasedMultimap/1',389);hI(638,1,Byb);_.Q=function ke(){this.bb().Q()};_._=function le(a){return ee(this,a)};_.R=function me(a){return!!ge(this,a,false)};_.ab=function ne(a){var b,c,d;for(c=this.bb().mb();c.G();){b=Wv(c.H(),21);d=b.zb();if(gw(a)===gw(d)||a!=null&&rb(a,d)){return true}}return false};_.t=function oe(a){return fe(this,a)};_.cb=function pe(a){return re(ge(this,a,false))};_.v=function se(){return Apb(this.bb())};_.V=function te(){return this.Y()==0};_.W=function ue(){return new e7(this)};_.db=function ve(a,b){throw new Vc('Put not supported on this map')};_.eb=function we(a){return re(ge(this,a,true))};_.Y=function xe(){return this.bb().Y()};_.w=function ye(){return ie(this)};_.fb=function ze(){return new s7(this)};var tG=vq(Cyb,'AbstractMap',638);hI(654,638,Byb);_.bb=function Ce(){return Ae(this)};_.W=function De(){var a;a=this.d;return!a?(this.d=new Bf(this)):a};_.fb=function Ee(){return Be(this)};var ny=vq(xyb,'Maps/ViewCachingAbstractMap',654);hI(262,654,Byb,Ie);_.cb=function Ne(a){return Fe(this,a)};_.eb=function Qe(a){return Ge(this,a)};_.Q=function Je(){this.a==this.b.b?Cd(this.b):Ml(new xf(this))};_.R=function Ke(a){return qp(this.a,a)};_.hb=function Le(){return new sf(this)};_.gb=function(){return this.hb()};_.t=function Me(a){return this===a||fe(this.a,a)};_.v=function Oe(){return Apb(new Y6(this.a))};_.W=function Pe(){return ud(this.b)};_.Y=function Re(){return bg(this.a)};_.w=function Se(){return ie(this.a)};var Jw=vq(xyb,'AbstractMapBasedMultimap/AsMap',262);hI(640,1,Dyb);_.ib=function $e(a){return Te()};_.jb=function _e(a){return Ue(this,a)};_.Q=function af(){We(this)};_.kb=function bf(a){return Ve(this,a,false)};_.lb=function cf(a){return Xe(this,a)};_.V=function df(){return this.Y()==0};_.nb=function ef(a){return Ve(this,a,true)};_.ob=function ff(){return this.pb(xv(UF,syb,1,this.Y(),4,1))};_.pb=function gf(a){return Ye(this,a)};_.w=function hf(){return Ze(this)};var eG=vq(Cyb,'AbstractCollection',640);hI(641,640,Eyb);_.t=function kf(a){return jf(this,a)};_.v=function lf(){return Apb(this)};var zG=vq(Cyb,'AbstractSet',641);hI(649,641,Eyb);var Jy=vq(xyb,'Sets/ImprovedAbstractSet',649);hI(655,649,Eyb);_.Q=function nf(){this.qb().Q()};_.kb=function of(a){return mf(this,a)};_.V=function pf(){return this.qb().V()};_.nb=function qf(a){var b;if(this.kb(a)){b=Wv(a,21);return this.qb().W().nb(b.yb())}return false};_.Y=function rf(){return this.qb().Y()};var ky=vq(xyb,'Maps/EntrySet',655);hI(387,655,Eyb,sf);_.kb=function tf(a){return Qh(new Y6(this.a.a),a)};_.mb=function uf(){return new xf(this.a)};_.qb=function vf(){return this.a};_.nb=function wf(a){var b;if(!Qh(new Y6(this.a.a),a)){return false}b=Wv(a,21);Hd(this.a.b,b.yb());return true};var Hw=vq(xyb,'AbstractMapBasedMultimap/AsMap/AsMapEntries',387);hI(299,1,Ayb,xf);_.H=function zf(){var a;return a=uZ(this.b),this.a=Wv(a.zb(),19),He(this.c,a)};_.G=function yf(){return this.b.b};_.I=function Af(){xW(this.b);this.c.b.c-=this.a.Y();this.a.Q()};var Iw=vq(xyb,'AbstractMapBasedMultimap/AsMap/AsMapIterator',299);hI(260,649,Eyb,Bf);_.Q=function Cf(){this.b.Q()};_.kb=function Df(a){return this.b.R(a)};_.V=function Ef(){return this.b.V()};_.mb=function Ff(){return mp(),Wl(this.b.bb().mb(),(xp(),vp))};_.nb=function Gf(a){if(this.b.R(a)){this.b.eb(a);return true}return false};_.Y=function Hf(){return this.b.Y()};var ly=vq(xyb,'Maps/KeySet',260);hI(386,260,Eyb,If);_.Q=function Jf(){var a;Ml((a=this.b.bb().mb(),new Pf(this,a)))};_.lb=function Kf(a){return this.b.W().lb(a)};_.t=function Lf(a){return this===a||this.b.W().t(a)};_.v=function Mf(){return this.b.W().v()};_.mb=function Nf(){var a;return a=this.b.bb().mb(),new Pf(this,a)};_.nb=function Of(a){var b,c;c=0;b=Wv(this.b.eb(a),19);if(b){c=b.Y();b.Q();this.a.c-=c}return c>0};var Mw=vq(xyb,'AbstractMapBasedMultimap/KeySet',386);hI(300,1,Ayb,Pf);_.G=function Qf(){return this.c.G()};_.H=function Rf(){this.a=Wv(this.c.H(),21);return this.a.yb()};_.I=function Sf(){var a;ec(!!this.a);a=Wv(this.a.zb(),19);this.c.I();this.b.a.c-=a.Y();a.Q()};var Lw=vq(xyb,'AbstractMapBasedMultimap/KeySet/1',300);hI(216,640,Dyb,_f);_.ib=function ag(a){return Tf(this,a)};_.jb=function bg(a){return Uf(this,a)};_.Q=function cg(){Wf(this)};_.kb=function dg(a){return Yf(this),this.d.kb(a)};_.lb=function eg(a){return Yf(this),this.d.lb(a)};_.t=function fg(a){return Xf(this,a)};_.v=function gg(){return Yf(this),this.d.v()};_.mb=function hg(){return Yf(this),new xg(this)};_.nb=function ig(a){return Zf(this,a)};_.Y=function jg(){return Yf(this),this.d.Y()};_.w=function kg(){Yf(this);return xb(this.d)};var Pw=vq(xyb,'AbstractMapBasedMultimap/WrappedCollection',216);var sH=to(Cyb,'List');hI(297,216,Fyb,mg);_.rb=function ng(a,b){var c;Yf(this);c=this.d.V();Wv(this.d,20).rb(a,b);++this.a.c;c&&Vf(this)};_.sb=function og(a){Yf(this);return Wv(this.d,20).sb(a)};_.tb=function pg(){Yf(this);return new Cg(this)};_.ub=function qg(a){Yf(this);return new Dg(this,a)};_.vb=function rg(a){var b;Yf(this);b=Wv(this.d,20).vb(a);--this.a.c;$f(this);return b};_.wb=function sg(a,b){Yf(this);return Wv(this.d,20).wb(a,b)};_.xb=function tg(a,b){Yf(this);return Ld(this.a,this.e,Wv(this.d,20).xb(a,b),!this.b?this:this.b)};var Rw=vq(xyb,'AbstractMapBasedMultimap/WrappedList',297);hI(385,297,Gyb,ug);var Nw=vq(xyb,'AbstractMapBasedMultimap/RandomAccessWrappedList',385);hI(189,1,Ayb,xg);_.G=function zg(){return wg(this),this.b.G()};_.H=function Ag(){return wg(this),this.b.H()};_.I=function Bg(){this.b.I();--this.d.f.c;$f(this.d)};var Ow=vq(xyb,'AbstractMapBasedMultimap/WrappedCollection/WrappedIterator',189);hI(298,189,Hyb,Cg,Dg);_.J=function Eg(a){var b;b=lg(this.a)==0;(wg(this),Wv(this.b,96)).J(a);++this.a.a.c;b&&Vf(this.a)};_.K=function Fg(){return(wg(this),Wv(this.b,96)).K()};_.L=function Gg(){return(wg(this),Wv(this.b,96)).L()};_.M=function Hg(){return(wg(this),Wv(this.b,96)).M()};_.N=function Ig(){return(wg(this),Wv(this.b,96)).N()};_.O=function Jg(a){(wg(this),Wv(this.b,96)).O(a)};var Qw=vq(xyb,'AbstractMapBasedMultimap/WrappedList/WrappedListIterator',298);hI(295,216,Eyb,Kg);var Sw=vq(xyb,'AbstractMapBasedMultimap/WrappedSet',295);hI(296,216,Iyb,Lg);var Tw=vq(xyb,'AbstractMapBasedMultimap/WrappedSortedSet',296);hI(668,1,Jyb);_.t=function Mg(a){var b;if(aw(a,21)){b=Wv(a,21);return Tb(this.yb(),b.yb())&&Tb(this.zb(),b.zb())}return false};_.v=function Ng(){var a,b;a=this.yb();b=this.zb();return(a==null?0:vb(a))^(b==null?0:vb(b))};_.Ab=function Og(a){throw new sa};_.w=function Pg(){return this.yb()+'='+this.zb()};var Vw=vq(xyb,Kyb,668);hI(390,640,Dyb,Qg);_.Q=function Rg(){Cd(this.a)};_.kb=function Sg(a){return td(this.a,a)};_.mb=function Tg(){return new de(this.a)};_.Y=function Ug(){return this.a.c};var Ww=vq(xyb,'AbstractMultimap/Values',390);hI(656,640,Lyb);_.ib=function Wg(a){return this.Bb(a,1),true};_.Bb=function Xg(a,b){throw new sa};_.jb=function Yg(a){return Eq(this,a)};_.Q=function Zg(){Ml(this.Eb())};_.kb=function $g(a){return this.Cb(a)>0};_.Cb=function _g(a){var b,c;for(c=Vg(this).mb();c.G();){b=Wv(c.H(),83);if(Tb(b.Zb(),a)){return b.Yb()}}return 0};_.gb=function ah(){return new qh(this)};_.bb=function bh(){return Vg(this)};_.t=function dh(a){return Fq(this,a)};_.v=function eh(){return Vg(this).v()};_.V=function fh(){return Vg(this).V()};_.mb=function gh(){return Dq(),new Oq(this,Vg(this).mb())};_.nb=function hh(a){return this.Fb(a,1)>0};_.Fb=function ih(a,b){throw new sa};_.Gb=function jh(a,b){var c,d;return Dq(),Mh(b,'count'),c=this.Cb(a),d=b-c,d>0?this.Bb(a,d):d<0&&this.Fb(a,-d),c};_.Hb=function kh(a,b,c){return Gq(this,a,b,c)};_.Y=function lh(){return Hq(this)};_.w=function mh(){return xb(Vg(this))};var Zw=vq(xyb,'AbstractMultiset',656);hI(657,649,Eyb);_.Q=function nh(){this.Ib().Q()};_.kb=function oh(a){var b,c;if(aw(a,83)){c=Wv(a,83);if(c.Yb()<=0){return false}b=this.Ib().Cb(c.Zb());return b==c.Yb()}return false};_.nb=function ph(a){var b,c,d,e;if(aw(a,83)){c=Wv(a,83);b=c.Zb();d=c.Yb();if(d!=0){e=this.Ib();return e.Hb(b,d,0)}}return false};var xy=vq(xyb,'Multisets/EntrySet',657);hI(396,657,Eyb,qh);_.mb=function rh(){return this.a.Eb()};_.Ib=function sh(){return this.a};_.Y=function th(){return this.a.Db()};var Yw=vq(xyb,'AbstractMultiset/EntrySet',396);hI(384,294,zyb);_.Z=function wh(){return new Oe(op(this.a))};_.$=function xh(){return hi(),kr(),jr};_.U=function zh(a){return Wv(Dd(this,a),18)};_.X=function Ah(a){return Wv(Gd(this,a),18)};_.P=function vh(){var a;return a=this.f,!a?(this.f=new Ie(this,this.b)):a};_.t=function yh(a){return Mp(this,a)};var $w=vq(xyb,'AbstractSetMultimap',384);hI(342,656,Lyb);var _w=vq(xyb,'AbstractSortedMultiset',342);hI(280,600,zyb,Dh);_.a=0;var ax=vq(xyb,'ArrayListMultimap',280);hI(159,17,Myb);var Eh,Fh;var dx=vX(xyb,'BoundType',159,IF,Ih);hI(623,159,Myb,Jh);var bx=vX(xyb,'BoundType/1',623,dx,null);hI(624,159,Myb,Kh);var cx=vX(xyb,'BoundType/2',624,dx,null);var Nh;hI(234,1,Oyb);_.w=function Th(){return Vl(this.c.mb())};var fx=vq(xyb,'FluentIterable',234);hI(170,234,Oyb,Vh);_.mb=function Wh(){return Uh(this)};var ex=vq(xyb,'FluentIterable/2',170);hI(664,1,{});_.w=function Xh(){return xb(ls(this.a.d).b)};var mx=vq(xyb,'ForwardingObject',664);hI(665,664,Dyb);_.ib=function Yh(a){return ls(this.a.d),wa()};_.jb=function Zh(a){return ls(this.a.d),xa()};_.Q=function $h(){ls(this.a.d);ya()};_.kb=function _h(a){return gg(ls(this.a.d),a)};_.lb=function ai(a){return hg(ls(this.a.d),a)};_.V=function bi(){return ls(this.a.d).b.V()};_.mb=function ci(){var a;return a=ls(this.a.d).b.mb(),new z8(a)};_.nb=function di(a){return ls(this.a.d),za()};_.Y=function ei(){return ls(this.a.d).b.Y()};_.ob=function fi(){return nt(ls(this.a.d))};_.pb=function gi(a){return bu(ls(this.a.d),a)};var gx=vq(xyb,'ForwardingCollection',665);hI(660,640,Pyb);_.mb=function ti(){return this.Kb()};_.ib=function oi(a){return ii()};_.jb=function pi(a){return ji()};_.Q=function qi(){li()};_.kb=function ri(a){return a!=null&&Ve(this,a,false)};_.Jb=function si(){switch(this.Y()){case 0:return Gi(),Gi(),Fi;case 1:return Gi(),new Er(this.Kb().H());default:return new Zq(this,this.ob());}};_.nb=function ui(a){return mi()};var sx=vq(xyb,'ImmutableCollection',660);hI(316,660,Pyb,vi);_.mb=function Ai(){return Xl(this.a.mb())};_.kb=function wi(a){return a!=null&&this.a.kb(a)};_.lb=function xi(a){return this.a.lb(a)};_.V=function yi(){return this.a.V()};_.Kb=function zi(){return Xl(this.a.mb())};_.Y=function Bi(){return this.a.Y()};_.ob=function Ci(){return this.a.ob()};_.pb=function Di(a){return this.a.pb(a)};_.w=function Ei(){return xb(this.a)};var hx=vq(xyb,'ForwardingImmutableCollection',316);hI(87,660,Qyb);_.mb=function Pi(){return this.Kb()};_.tb=function Qi(){return this.Lb(0)};_.ub=function Si(a){return this.Lb(a)};_.xb=function Xi(a,b){return this.Mb(a,b)};_.rb=function Ji(a,b){throw new sa};_.t=function Mi(a){return yo(this,a)};_.v=function Ni(){return zo(this)};_.Kb=function Oi(){return this.Lb(0)};_.Lb=function Ri(a){return Hi(this,a)};_.vb=function Ui(a){throw new sa};_.wb=function Vi(a,b){throw new sa};_.Mb=function Wi(a,b){var c;return Yi((c=new Mo(this),new JJ(c,a,b)))};var Fi;var wx=vq(xyb,'ImmutableList',87);hI(667,87,Qyb);_.mb=function gj(){return Xl(this.Nb().mb())};_.xb=function jj(a,b){return Yi(this.Nb().xb(a,b))};_.kb=function _i(a){return Zi(this,a)};_.lb=function aj(a){return this.Nb().lb(a)};_.t=function bj(a){return this.Nb().t(a)};_.sb=function cj(a){return $i(this,a)};_.v=function dj(){return this.Nb().v()};_.V=function ej(){return this.Nb().V()};_.Kb=function fj(){return Xl(this.Nb().mb())};_.Y=function hj(){return this.Nb().Y()};_.Mb=function ij(a,b){return Yi(this.Nb().xb(a,b))};_.ob=function kj(){return this.Nb().pb(xv(UF,syb,1,this.Nb().Y(),4,1))};_.pb=function lj(a){return this.Nb().pb(a)};_.w=function mj(){return xb(this.Nb())};var ix=vq(xyb,'ForwardingImmutableList',667);hI(524,1,Ryb);_.bb=function wj(){return nj(this)};_.W=function Aj(){return oj(this)};_.fb=function Gj(){return this.Rb()};_.Q=function qj(){throw new sa};_.R=function rj(a){return this.cb(a)!=null};_.ab=function sj(a){return this.Rb().kb(a)};_.Pb=function uj(){return new Uk(this)};_.Qb=function vj(){return new Zk(this)};_.t=function xj(a){return pp(this,a)};_.v=function yj(){return nj(this).v()};_.V=function zj(){return this.Y()==0};_.db=function Cj(a,b){return pj()};_.eb=function Dj(a){throw new sa};_.w=function Ej(){var a;return mp(),a=Mq(Ph(this.Y()),123),Qb(lp,a,nj(this).mb()),a.a+='}',a.a};_.Rb=function Fj(){if(this.g){return this.g}return this.g=this.Qb()};_.e=null;_.f=null;_.g=null;var Cx=vq(xyb,'ImmutableMap',524);hI(320,524,Ryb);_.R=function Ij(a){return qp(this.d,a)};_.ab=function Jj(a){return cg(this.d,a)};_.Ob=function Kj(){return ck(new Vj(this))};_.Pb=function Lj(){return ck(Cr(this.d))};_.Qb=function Mj(){return hi(),new vi(ms(this.d))};_.t=function Nj(a){return Ce(this.d,a)};_.cb=function Oj(a){return a==null?null:rp(this.d,a)};_.v=function Pj(){return this.d.c.v()};_.V=function Qj(){return this.d.c.V()};_.Y=function Rj(){return this.d.c.Y()};_.w=function Sj(){return xb(this.d.c)};var kx=vq(xyb,'ForwardingImmutableMap',320);hI(666,665,Eyb);_.t=function Tj(a){return a===this||ze(ls(this.a.d),a)};_.v=function Uj(){return ls(this.a.d).b.v()};var nx=vq(xyb,'ForwardingSet',666);hI(523,666,Eyb,Vj);_.kb=function Wj(b){if(aw(b,21)&&Wv(b,21).yb()==null){return false}try{return gg(ls(this.a.d),b)}catch(a){a=OH(a);if(aw(a,119)){return false}else throw NH(a)}};_.pb=function Xj(a){var b;b=bu(ls(this.a.d),a);ls(this.a.d).b.Y()<b.length&&Av(b,ls(this.a.d).b.Y(),null);return b};var jx=vq(xyb,'ForwardingImmutableMap/1',523);hI(663,660,Syb);_.mb=function ak(){return this.Kb()};_.t=function $j(a){return mr(this,a)};_.v=function _j(){return nr(this)};var Fx=vq(xyb,'ImmutableSet',663);hI(315,663,Syb);_.mb=function jk(){return Xl(new r8(this.a.b.mb()))};_.kb=function ek(a){return a!=null&&dg(this.a,a)};_.lb=function fk(a){return eg(this.a,a)};_.v=function gk(){return this.a.b.v()};_.V=function hk(){return this.a.b.V()};_.Kb=function ik(){return Xl(new r8(this.a.b.mb()))};_.Y=function kk(){return this.a.b.Y()};_.ob=function lk(){return this.a.b.ob()};_.pb=function mk(a){return fg(this.a,a)};_.w=function nk(){return xb(this.a.b)};var lx=vq(xyb,'ForwardingImmutableSet',315);hI(178,1,{178:1,3:1},sk);_.t=function tk(a){var b;if(aw(a,178)){b=Wv(a,178);return this.a.t(b.a)&&this.b==b.b&&this.c==b.c&&this.d==b.d&&this.f==b.f&&Tb(this.e,b.e)&&Tb(this.g,b.g)}return false};_.v=function uk(){return fpb(Bv(tv(UF,1),syb,1,4,[this.a,this.e,this.d,this.g,this.f]))};_.w=function vk(){return Mq(Xh(Mq(Xh(Mq(Yh(Xh(new Ud,this.a),':'),this.d==(Gh(),Eh)?91:40),this.b?this.e:'-\u221E'),44),this.c?this.g:'\u221E'),this.f==Eh?93:41).a};_.b=false;_.c=false;var ox=vq(xyb,'GeneralRange',178);hI(215,384,zyb,xk);_.a=2;var px=vq(xyb,'HashMultimap',215);hI(661,87,Qyb);_.kb=function yk(a){return this.Sb().kb(a)};_.V=function zk(){return this.Sb().V()};_.Y=function Ak(){return this.Sb().Y()};var qx=vq(xyb,'ImmutableAsList',661);hI(275,320,Ryb);_.Rb=function Ck(){return this.Ub()};_.fb=function Ek(){return this.Ub()};_.Ub=function Dk(){return oj(this.Tb())};var rx=vq(xyb,'ImmutableBiMap',275);hI(341,668,{3:1,21:1},Fk);_.yb=function Gk(){return this.a};_.zb=function Hk(){return this.b};_.Ab=function Ik(a){throw new sa};var tx=vq(xyb,'ImmutableEntry',341);hI(436,315,Syb,Jk);var ux=vq(xyb,'ImmutableEnumSet',436);hI(379,378,yyb,Mk);var vx=vq(xyb,'ImmutableList/1',379);hI(266,108,wyb,Nk);_.G=function Ok(){return this.a.G()};_.H=function Pk(){return Wv(this.a.H(),21).yb()};var xx=vq(xyb,'ImmutableMap/1',266);hI(670,663,Syb);_.mb=function Sk(){var a;return a=nj(this.a).Kb(),new Nk(a)};_.Jb=function Qk(){return new jl(this)};_.Kb=function Rk(){var a;return(a=this.c,!a?(this.c=new jl(this)):a).Kb()};var Ex=vq(xyb,'ImmutableSet/Indexed',670);hI(606,670,Syb,Uk);_.mb=function Xk(){var a;return a=nj(this.a).Kb(),new Nk(a)};_.kb=function Vk(a){return this.a.R(a)};_.Kb=function Wk(){var a;return a=nj(this.a).Kb(),new Nk(a)};_.Y=function Yk(){return this.a.Y()};var yx=vq(xyb,'ImmutableMapKeySet',606);hI(604,660,Pyb,Zk);_.mb=function bl(){return new dl(this)};_.kb=function $k(a){return a!=null&&(Il(),Il(),Tl(new dl(this),(hc(),a==null?(Lc(),Jc):new sc(a)))!=-1)};_.Jb=function _k(){var a;a=ki(nj(this.a));return new gl(this,a)};_.Kb=function al(){return new dl(this)};_.Y=function cl(){return this.a.Y()};var Bx=vq(xyb,'ImmutableMapValues',604);hI(282,108,wyb,dl);_.G=function el(){return this.a.G()};_.H=function fl(){return Wv(this.a.H(),21).zb()};var zx=vq(xyb,'ImmutableMapValues/1',282);hI(605,661,Qyb,gl);_.Sb=function hl(){return this.a};_.sb=function il(a){return Wv(this.b.sb(a),21).zb()};var Ax=vq(xyb,'ImmutableMapValues/2',605);hI(311,661,Qyb,jl);_.Sb=function kl(){return this.a};_.sb=function ll(a){return Tk(this.a,a)};var Dx=vq(xyb,'ImmutableSet/Indexed/1',311);hI(414,234,Oyb,vl);_.mb=function wl(){return Nl(this.a)};_.w=function xl(){return Ze(this.a)+' (cycled)'};var Hx=vq(xyb,'Iterables/1',414);hI(105,1,Tyb,yl);_.B=function zl(a){return Wv(a,22).mb()};var Gx=vq(xyb,'Iterables/12',105);hI(415,234,Oyb,Bl);_.mb=function Cl(){return Al(this)};var Ix=vq(xyb,'Iterables/4',415);hI(416,234,Oyb,El);_.mb=function Fl(){return Dl(this)};var Jx=vq(xyb,'Iterables/5',416);var Gl,Hl;hI(424,651,yyb,Yl);_.G=function Zl(){return false};_.K=function $l(){return false};_.H=function _l(){throw new Ua};_.L=function am(){return 0};_.M=function bm(){throw new Ua};_.N=function cm(){return-1};var Lx=vq(xyb,'Iterators/1',424);hI(264,108,wyb,dm);_.G=function em(){return!this.a};_.H=function fm(){if(this.a){throw new Ua}this.a=true;return this.b};_.a=false;var Kx=vq(xyb,'Iterators/11',264);hI(425,1,Ayb,gm);_.G=function hm(){return false};_.H=function im(){throw new Ua};_.I=function jm(){ec(false)};var Mx=vq(xyb,'Iterators/2',425);hI(426,108,wyb,km);_.G=function lm(){return this.a.G()};_.H=function mm(){return this.a.H()};var Nx=vq(xyb,'Iterators/3',426);hI(427,1,Ayb,om);_.G=function pm(){return this.a.G()||this.b.mb().G()};_.H=function qm(){return nm(this)};_.I=function rm(){this.a.I()};var Ox=vq(xyb,'Iterators/4',427);hI(429,428,wyb,tm);var Px=vq(xyb,'Iterators/6',429);hI(261,1,Ayb);_.G=function wm(){return this.b.G()};_.H=function xm(){return um(this)};_.I=function ym(){this.b.I()};var Oy=vq(xyb,'TransformedIterator',261);hI(430,261,Ayb,Am);_.Vb=function Bm(a){return zm(this,a)};var Qx=vq(xyb,'Iterators/7',430);hI(313,1,Ayb);_.G=function Fm(){return Cm(this)};_.H=function Gm(){return Dm(this)};_.I=function Hm(){ec(!!this.c);this.c.I();this.c=null};var Ay=vq(xyb,'MultitransformedIterator',313);hI(90,313,{90:1,35:1},Im);_.Wb=function Jm(a){return Wv(a,35)};var Sx=vq(xyb,'Iterators/ConcatenatedIterator',90);hI(314,313,Ayb,Lm);_.Wb=function Mm(a){return Km(Wv(a,35))};var Rx=vq(xyb,'Iterators/ConcatenatedIterator/1',314);hI(329,653,zyb,Um);_.U=function $m(a){return new Bn(this,a)};_.X=function an(a){return Sm(this,a)};_.Q=function Wm(){Pm(this)};_.R=function Xm(a){return Qm(this,a)};_.S=function Ym(){return new Pp(this)};_.T=function Zm(){return new Hn(this)};_.V=function _m(){return!this.a};_.Y=function bn(){return this.d};_.c=0;_.d=0;var _x=vq(xyb,'LinkedListMultimap',329);hI(647,640,Fyb);_.rb=function en(a,b){throw new Vc('Add not supported on this list')};_.ib=function fn(a){this.rb(this.Y(),a);return true};_.Q=function gn(){this.Xb(0,this.Y())};_.t=function hn(a){return cn(this,a)};_.v=function jn(){return Bpb(this)};_.mb=function kn(){return new Z6(this)};_.tb=function ln(){return this.ub(0)};_.ub=function mn(a){return new MJ(this,a)};_.vb=function nn(a){throw new Vc('Remove not supported on this list')};_.Xb=function on(a,b){var c,d;d=this.ub(a);for(c=a;c<b;++c){d.H();d.I()}};_.wb=function pn(a,b){throw new Vc('Set not supported on this list')};_.xb=function qn(a,b){return new JJ(this,a,b)};_.d=0;var lG=vq(Cyb,'AbstractList',647);hI(648,647,Fyb);_.rb=function vn(a,b){rn(this,a,b)};_.sb=function wn(a){return tn(this,a)};_.mb=function xn(){return this.ub(0)};_.vb=function yn(a){return un(this,a)};_.wb=function zn(b,c){var d,e;d=this.ub(b);try{e=d.H();d.O(c);return e}catch(a){a=OH(a);if(aw(a,74)){throw new mc("Can't set element "+b)}else throw NH(a)}};var yG=vq(Cyb,'AbstractSequentialList',648);hI(276,648,Fyb,Bn);_.ub=function Cn(a){return An(this,a)};_.Y=function Dn(){var a;a=Wv(Qq(this.a.b,this.b),126);return!a?0:a.a};var Vx=vq(xyb,'LinkedListMultimap/1',276);hI(330,648,Fyb,En);_.ub=function Fn(a){return new _n(this.a,a)};_.Y=function Gn(){return this.a.d};var Tx=vq(xyb,'LinkedListMultimap/1EntriesImpl',330);hI(563,649,Eyb,Hn);_.kb=function In(a){return Qm(this.a,a)};_.mb=function Jn(){return new Nn(this.a)};_.nb=function Kn(a){return!Sm(this.a,a).a.V()};_.Y=function Ln(){return bg(this.a.b)};var Ux=vq(xyb,'LinkedListMultimap/1KeySetImpl',563);hI(562,1,Ayb,Nn);_.G=function On(){Mn(this);return!!this.c};_.H=function Pn(){Mn(this);Vm(this.c);this.a=this.c;_p(this.d,this.a.a);do{this.c=this.c.b}while(!!this.c&&!_p(this.d,this.c.a));return this.a.a};_.I=function Qn(){Mn(this);ec(!!this.a);Ml(new mo(this.e,this.a.a));this.a=null;this.b=this.e.c};_.b=0;var Wx=vq(xyb,'LinkedListMultimap/DistinctKeyIterator',562);hI(126,1,{126:1},Rn);_.a=0;var Xx=vq(xyb,'LinkedListMultimap/KeyList',126);hI(560,668,Jyb,Sn);_.yb=function Tn(){return this.a};_.zb=function Un(){return this.f};_.Ab=function Vn(a){var b;b=this.f;this.f=a;return b};var Zx=vq(xyb,'LinkedListMultimap/Node',560);hI(561,1,Hyb,_n);_.J=function ao(a){Wv(a,21);Wn()};_.H=function eo(){return Yn(this)};_.M=function go(){return Zn(this)};_.O=function jo(a){Wv(a,21);$n()};_.G=function bo(){Xn(this);return!!this.c};_.K=function co(){Xn(this);return!!this.e};_.L=function fo(){return this.d};_.N=function ho(){return this.d-1};_.I=function io(){Xn(this);ec(!!this.a);if(this.a!=this.c){this.e=this.a.d;--this.d}else{this.c=this.a.b}Tm(this.f,this.a);this.a=null;this.b=this.f.c};_.b=0;_.d=0;var Yx=vq(xyb,'LinkedListMultimap/NodeIterator',561);hI(241,1,Hyb,mo,no);_.J=function oo(a){this.e=Nm(this.f,this.b,a,this.c);++this.d;this.a=null};_.G=function po(){return!!this.c};_.K=function qo(){return!!this.e};_.H=function ro(){return ko(this)};_.L=function so(){return this.d};_.M=function to(){return lo(this)};_.N=function uo(){return this.d-1};_.I=function vo(){ec(!!this.a);if(this.a!=this.c){this.e=this.a.e;--this.d}else{this.c=this.a.c}Tm(this.f,this.a);this.a=null};_.O=function wo(a){dc(!!this.a);this.a.f=a};_.d=0;var $x=vq(xyb,'LinkedListMultimap/ValueForKeyIterator',241);hI(419,647,Fyb);_.rb=function Go(a,b){this.a.rb(a,b)};_.kb=function Ho(a){return this.a.kb(a)};_.sb=function Io(a){return this.a.sb(a)};_.vb=function Jo(a){return this.a.vb(a)};_.wb=function Ko(a,b){return this.a.wb(a,b)};_.Y=function Lo(){return this.a.Y()};var by=vq(xyb,'Lists/AbstractListWrapper',419);hI(420,419,Gyb);var cy=vq(xyb,'Lists/RandomAccessListWrapper',420);hI(422,420,Gyb,Mo);_.ub=function No(a){return this.a.ub(a)};var ay=vq(xyb,'Lists/1',422);hI(88,647,{88:1,22:1,19:1,20:1},Ro);_.rb=function So(a,b){this.a.rb(Qo(this,a),b)};_.Q=function To(){this.a.Q()};_.sb=function Uo(a){return this.a.sb(Po(this,a))};_.mb=function Vo(){return Oo(this,0)};_.ub=function Wo(a){return Oo(this,a)};_.vb=function Xo(a){return this.a.vb(Po(this,a))};_.Xb=function Yo(a,b){(cc(a,b,this.a.Y()),Fo(this.a.xb(Qo(this,b),Qo(this,a)))).Q()};_.wb=function Zo(a,b){return this.a.wb(Po(this,a),b)};_.Y=function $o(){return this.a.Y()};_.xb=function _o(a,b){return cc(a,b,this.a.Y()),Fo(this.a.xb(Qo(this,b),Qo(this,a)))};var fy=vq(xyb,'Lists/ReverseList',88);hI(220,88,{88:1,22:1,19:1,20:1,63:1},ap);var dy=vq(xyb,'Lists/RandomAccessReverseList',220);hI(421,1,Hyb,bp);_.J=function cp(a){this.c.J(a);this.c.M();this.a=false};_.G=function dp(){return this.c.K()};_.K=function ep(){return this.c.G()};_.H=function fp(){if(!this.c.K()){throw new Ua}this.a=true;return this.c.M()};_.L=function gp(){return Qo(this.b,this.c.L())};_.M=function hp(){if(!this.c.G()){throw new Ua}this.a=true;return this.c.H()};_.N=function ip(){return Qo(this.b,this.c.L())-1};_.I=function jp(){ec(this.a);this.c.I();this.a=false};_.O=function kp(a){dc(this.a);this.c.O(a)};_.a=false;var ey=vq(xyb,'Lists/ReverseList/1',421);var lp;hI(376,261,Ayb,tp);_.Vb=function up(a){return mp(),new Fk(a,aq(this.a,a))};var gy=vq(xyb,'Maps/1',376);hI(188,17,Wyb);var vp,wp;var jy=vX(xyb,'Maps/EntryFunction',188,IF,zp);hI(374,188,Wyb,Ap);_.B=function Bp(a){return Wv(a,21).yb()};var hy=vX(xyb,'Maps/EntryFunction/1',374,jy,null);hI(375,188,Wyb,Cp);_.B=function Dp(a){return Wv(a,21).zb()};var iy=vX(xyb,'Maps/EntryFunction/2',375,jy,null);hI(373,640,Dyb,Fp);_.Q=function Gp(){this.a.Q()};_.kb=function Hp(a){return this.a.ab(a)};_.V=function Ip(){return this.a.V()};_.mb=function Jp(){return Ep(this)};_.nb=function Kp(b){var c,d;try{return Ve(this,b,true)}catch(a){a=OH(a);if(aw(a,45)){for(d=this.a.bb().mb();d.G();){c=Wv(d.H(),21);if(Tb(b,c.zb())){this.a.eb(c.yb());return true}}return false}else throw NH(a)}};_.Y=function Lp(){return this.a.Y()};var my=vq(xyb,'Maps/Values',373);hI(301,654,Byb,Pp);_.cb=function Tp(a){return this.a.R(a)?this.a.U(a):null};_.eb=function Wp(a){return this.a.R(a)?this.a.X(a):null};_.Q=function Qp(){this.a.Q()};_.R=function Rp(a){return this.a.R(a)};_.hb=function Sp(){return new Yp(this)};_.gb=function(){return this.hb()};_.V=function Up(){return this.a.V()};_.W=function Vp(){return this.a.W()};_.Y=function Xp(){return this.a.W().Y()};var qy=vq(xyb,'Multimaps/AsMap',301);hI(393,655,Eyb,Yp);_.mb=function Zp(){return np(this.a.a.W(),new bq(this))};_.qb=function $p(){return this.a};_.nb=function _p(a){var b;if(!mf(this,a)){return false}b=Wv(a,21);Op(this.a,b.yb());return true};var py=vq(xyb,'Multimaps/AsMap/EntrySet',393);hI(395,1,Tyb,bq);_.B=function cq(a){return aq(this,a)};var oy=vq(xyb,'Multimaps/AsMap/EntrySet/1',395);hI(391,656,Lyb,eq);_.Q=function fq(){Pm(this.a)};_.kb=function gq(a){return Qm(this.a,a)};_.Cb=function hq(a){var b;return b=Wv(rp(Om(this.a),a),19),!b?0:b.Y()};_.gb=function iq(){return new wq(this)};_.Db=function jq(){return Om(this.a).Y()};_.Eb=function kq(){return new nq(Ae(Om(this.a)).mb())};_.mb=function lq(){return dq(this)};_.Fb=function mq(a,b){var c,d,e,f,g;Mh(b,Xyb);if(b==0){return g=Wv(rp(Om(this.a),a),19),!g?0:g.Y()}f=Wv(rp(Om(this.a),a),19);if(!f){return 0}e=f.Y();if(b>=e){f.Q()}else{d=f.mb();for(c=0;c<b;c++){d.H();d.I()}}return e};var uy=vq(xyb,'Multimaps/Keys',391);hI(302,261,Ayb,nq);_.Vb=function oq(a){return new tq(Wv(a,21))};var sy=vq(xyb,'Multimaps/Keys/1',302);hI(658,1,{83:1});_.t=function qq(a){var b;if(aw(a,83)){b=Wv(a,83);return this.Yb()==b.Yb()&&Tb(this.Zb(),b.Zb())}return false};_.v=function rq(){var a;a=this.Zb();return(a==null?0:vb(a))^this.Yb()};_.w=function sq(){return pq(this)};var wy=vq(xyb,'Multisets/AbstractEntry',658);hI(394,658,{83:1},tq);_.Yb=function uq(){return Wv(this.a.zb(),19).Y()};_.Zb=function vq(){return this.a.yb()};var ry=vq(xyb,'Multimaps/Keys/1/1',394);hI(392,657,Eyb,wq);_.kb=function xq(a){var b,c;if(aw(a,83)){c=Wv(a,83);b=Wv(Om(this.a.a).cb(c.Zb()),19);return!!b&&b.Y()==c.Yb()}return false};_.V=function yq(){return!this.a.a.a};_.mb=function zq(){return new nq(Ae(Om(this.a.a)).mb())};_.Ib=function Aq(){return this.a};_.nb=function Bq(a){var b,c;if(aw(a,83)){c=Wv(a,83);b=Wv(Om(this.a.a).cb(c.Zb()),19);if(!!b&&b.Y()==c.Yb()){b.Q();return true}}return false};_.Y=function Cq(){return Om(this.a.a).Y()};var ty=vq(xyb,'Multimaps/Keys/KeysEntrySet',392);hI(659,1,fyb);var Cy=vq(xyb,'Ordering',659);hI(398,659,fyb,Jq);_.$b=function Kq(a,b){return Iq(Wv(a,83),Wv(b,83))};var vy=vq(xyb,'Multisets/1',398);hI(397,658,{83:1,3:1},Lq);_.Yb=function Mq(){return this.a};_.Zb=function Nq(){return this.b};_.a=0;var yy=vq(xyb,'Multisets/ImmutableEntry',397);hI(303,1,Ayb,Oq);_.G=function Pq(){return this.d>0||this.c.G()};_.H=function Qq(){if(!(this.d>0||this.c.G())){throw new Ua}if(this.d==0){this.b=Wv(this.c.H(),83);this.f=this.d=this.b.Yb()}--this.d;this.a=true;return this.b.Zb()};_.I=function Rq(){ec(this.a);this.f==1?this.c.I():this.e.Fb(this.b.Zb(),1)>0;--this.f;this.a=false};_.a=false;_.d=0;_.f=0;var zy=vq(xyb,'Multisets/MultisetIteratorImpl',303);hI(622,659,{3:1,56:1},Vq);_.$b=function Wq(a,b){return Uq(Wv(a,23),Wv(b,23))};_.w=function Xq(){return'Ordering.natural()'};var Sq;var By=vq(xyb,'NaturalOrdering',622);hI(343,661,Qyb,Zq);_.ub=function br(a){return Hi(this.b,a)};_.Sb=function $q(){return this.a};_.sb=function _q(a){return $i(this.b,a)};_.Lb=function ar(a){return Hi(this.b,a)};var Dy=vq(xyb,'RegularImmutableAsList',343);hI(559,275,Ryb,er);_.Tb=function fr(){return this.a};var cr;var Ey=vq(xyb,'RegularImmutableBiMap',559);hI(53,667,Qyb,gr);_.Nb=function hr(){return this.a};var Fy=vq(xyb,'RegularImmutableList',53);hI(321,320,Ryb,ir);var Gy=vq(xyb,'RegularImmutableMap',321);hI(265,315,Syb,lr);var jr;var Hy=vq(xyb,'RegularImmutableSet',265);hI(650,641,Eyb);var Ky=vq(xyb,'Sets/SetView',650);hI(377,650,Eyb,tr);_.kb=function ur(a){return De(this.b,a)&&De(this.c,a)};_.lb=function vr(a){return Xe(this.b,a)&&Xe(this.c,a)};_.V=function wr(){return sr(this)};_.mb=function xr(){var a;return Pl((a=(new e7(this.b.a)).a.bb().mb(),new r7(a)),this.a)};_.Y=function yr(){var a;return Ul(Pl((a=(new e7(this.b.a)).a.bb().mb(),new r7(a)),this.a))};var Iy=vq(xyb,'Sets/2',377);hI(328,275,Ryb,zr,Ar);_.fb=function Dr(){return hi(),new Gr(this.c)};_.Tb=function Br(){var a;a=this.a;return!a?(this.a=new Ar(this.c,this.b,this)):a};_.Ub=function Cr(){return hi(),new Gr(this.c)};var Ly=vq(xyb,'SingletonImmutableBiMap',328);hI(127,667,Qyb,Er);_.Nb=function Fr(){return this.a};var My=vq(xyb,'SingletonImmutableList',127);hI(135,663,Syb,Gr);_.mb=function Jr(){return Il(),new dm(this.a)};_.kb=function Hr(a){return rb(this.a,a)};_.Kb=function Ir(){return Il(),new dm(this.a)};_.Y=function Kr(){return 1};var Ny=vq(xyb,'SingletonImmutableSet',135);hI(285,342,{207:1,3:1,22:1,19:1},Ur,Vr);_.Bb=function Wr(a,b){return Lr(this,a,b)};_.Cb=function Xr(a){return Pr(this,a)};_.Db=function Yr(){return $s(Or(this,(qs(),os)))};_.Eb=function $r(){return new ks(this)};_.Fb=function _r(a,b){return Sr(this,a,b)};_.Gb=function as(a,b){return Tr(this,a,b)};_.Hb=function bs(a,b,c){var d,e,f;Mh(c,'newCount');Mh(b,'oldCount');Xb(ok(this.b,a));f=this.c.a;if(!f){if(b==0){c>0&&Lr(this,a,c);return true}else{return false}}e=xv(mw,Yyb,26,1,12,1);d=Ms(f,this.d,a,b,c,e);Us(this.c,f,d);return e[0]==b};_.Y=function cs(){return $s(Or(this,(qs(),ps)))};var Wy=vq(xyb,'TreeMultiset',285);hI(619,658,{83:1},fs);_.Yb=function gs(){var a;a=this.b.c;return a==0?Pr(this.a,this.b.b):a};_.Zb=function hs(){return this.b.b};var Py=vq(xyb,'TreeMultiset/1',619);hI(620,1,Ayb,ks);_.H=function ms(){return js(this)};_.G=function ls(){return is(this)};_.I=function ns(){ec(!!this.b);Tr(this.c,this.b.b.b,0);this.b=null};var Qy=vq(xyb,'TreeMultiset/2',620);hI(205,17,Zyb);var os,ps;var Ty=vX(xyb,'TreeMultiset/Aggregate',205,IF,ss);hI(617,205,Zyb,ts);_._b=function us(a){return a.c};_.ac=function vs(a){return!a?0:a.j};var Ry=vX(xyb,'TreeMultiset/Aggregate/1',617,Ty,null);hI(618,205,Zyb,ws);_._b=function xs(a){return 1};_.ac=function ys(a){return!a?0:a.a};var Sy=vX(xyb,'TreeMultiset/Aggregate/2',618,Ty,null);hI(206,658,{83:1,206:1},Os);_.Yb=function Ps(){return this.c};_.Zb=function Qs(){return this.b};_.w=function Ss(){return Dq(),pq(new Lq(this.b,this.c))};_.a=0;_.c=0;_.d=0;_.j=0;var Uy=vq(xyb,'TreeMultiset/AvlNode',206);hI(616,1,{},Vs);var Vy=vq(xyb,'TreeMultiset/Reference',616);var $y=vq(lyb,'JavaScriptObject$',0);var qt;hI(628,1,{});var _y=vq(lyb,'Scheduler',628);var ut=0,vt=0,wt=-1;hI(360,628,{},Jt);var Ft;var az=vq(myb,'SchedulerImpl',360);hI(646,1,{});_.hc=function bu(){return null};_.ic=function cu(){return null};_.jc=function du(){return null};_.kc=function eu(){return null};_.lc=function fu(){return null};var nz=vq(_yb,'JSONValue',646);hI(214,646,{214:1},ju,ku);_.t=function lu(a){if(!aw(a,214)){return false}return this.a==Wv(a,214).a};_.gc=function mu(){return qu};_.v=function nu(){return Sk(this.a)};_.hc=function ou(){return this};_.w=function pu(){var a,b,c;c=new Od('[');for(b=0,a=this.a.length;b<a;b++){b>0&&(c.a+=',',c);Xh(c,gu(this,b))}c.a+=']';return c.a};var fz=vq(_yb,'JSONArray',214);hI(292,646,{},uu);_.gc=function vu(){return yu};_.ic=function wu(){return this};_.w=function xu(){return Oj(this.a)};_.a=false;var ru,su;var gz=vq(_yb,'JSONBoolean',292);hI(371,72,Vxb,zu);var hz=vq(_yb,'JSONException',371);hI(435,646,{},Cu);_.gc=function Du(){return Fu};_.w=function Eu(){return Wxb};var Au;var iz=vq(_yb,'JSONNull',435);hI(104,646,{104:1},Gu);_.t=function Hu(a){if(!aw(a,104)){return false}return this.a==Wv(a,104).a};_.gc=function Iu(){return Mu};_.v=function Ju(){return hw(kc(this.a))};_.jc=function Ku(){return this};_.w=function Lu(){return this.a+''};_.a=0;var jz=vq(_yb,'JSONNumber',104);hI(69,646,{69:1},Tu,Uu);_.t=function Vu(a){if(!aw(a,69)){return false}return this.a==Wv(a,69).a};_.gc=function Wu(){return $u};_.v=function Xu(){return Sk(this.a)};_.kc=function Yu(){return this};_.w=function Zu(){var a,b,c,d,e,f;f=new Od('{');a=true;e=Nu(this,xv($F,Txb,2,0,5,1));for(c=0,d=e.length;c<d;++c){b=e[c];a?(a=false):(f.a+=', ',f);Yh(f,st(b));f.a+=':';Xh(f,Pu(this,b))}f.a+='}';return f.a};var lz=vq(_yb,'JSONObject',69);hI(361,641,Eyb,_u);_.kb=function av(a){return ew(a)&&Ou(this.a,$v(a))};_.mb=function bv(){return new Z6(new h8(this.b))};_.Y=function cv(){return this.b.length};var kz=vq(_yb,'JSONObject/1',361);var dv;hI(97,646,{97:1},lv);_.t=function mv(a){if(!aw(a,97)){return false}return qb(this.a,Wv(a,97).a)};_.gc=function nv(){return rv};_.v=function ov(){return Pxb(this.a)};_.lc=function pv(){return this};_.w=function qv(){return st(this.a)};var mz=vq(_yb,'JSONString',97);var Ov,Pv,Qv;hI(186,1,{},sI,tI);_.b=false;_.c=0;_.d=-1;_.e=0;_.f=false;_.j=0;var oz=vq('de.cau.cs.kieler.core.alg','BasicProgressMonitor',186);hI(10,1,{10:1,286:1,3:1,5:1},FI,GI,HI,II);_.t=function JI(a){return yI(this,a)};_.v=function KI(){return hw(kc(this.a))+Blb(hw(kc(this.b)))};_.w=function NI(){return'('+this.a+','+this.b+')'};_.a=0;_.b=0;var qz=vq(izb,'KVector',10);hI(58,648,{3:1,5:1,22:1,19:1,58:1,20:1},aJ);_.ib=function bJ(a){return QI(this,a)};_.Q=function cJ(){_I(this)};_.ub=function dJ(a){return WI(this,a)};_.Y=function eJ(){return this.b};_.b=0;var rH=vq(Cyb,'LinkedList',58);hI(44,58,{44:1,286:1,3:1,5:1,22:1,19:1,58:1,20:1},jJ,kJ);_.w=function mJ(){var a,b,c;a=new Od('(');b=WI(this,0);while(b.b!=b.d.c){c=Wv(tS(b),10);Yh(a,c.a+','+c.b);b.b!=b.d.c&&(a.a+='; ',a)}return a.a+=')',a.a};var pz=vq(izb,'KVectorChain',44);var rz=to(kzb,'IProperty');hI(131,1,{179:1,131:1,3:1},tJ);var sz=vq(kzb,'MapPropertyHolder',131);hI(14,1,lzb,AJ,BJ,CJ,DJ,EJ,FJ);_.F=function GJ(a){return xJ(this,Wv(a,79))};_.t=function HJ(a){return yJ(this,a)};_.mc=function IJ(){return this.b};_.nc=function JJ(){return this.c};_.oc=function KJ(){return this.d};_.v=function LJ(){return Pxb(this.b)};_.w=function MJ(){return this.b};var uJ,vJ;var vz=vq(kzb,'Property',14);hI(366,1,{23:1},NJ);_.F=function OJ(a){return-1};var tz=vq(kzb,'Property/1',366);hI(367,1,{23:1},PJ);_.F=function QJ(a){return 1};var uz=vq(kzb,'Property/2',367);hI(27,1,{27:1,22:1},RJ);_.t=function SJ(a){var b,c,d;if(aw(a,27)){c=Wv(a,27);b=this.a==null?c.a==null:rb(this.a,c.a);d=this.b==null?c.b==null:rb(this.b,c.b);return b&&d}else{return false}};_.v=function TJ(){var a,b,c,d,e,f;c=this.a==null?0:vb(this.a);a=c&byb;b=c&-65536;f=this.b==null?0:vb(this.b);d=f&byb;e=f&-65536;return a^e>>16&byb|b^d<<16};_.mb=function UJ(){return new WJ(this)};_.w=function VJ(){return this.a==null&&this.b==null?'pair(null,null)':this.a==null?'pair(null,'+xb(this.b)+')':this.b==null?'pair('+xb(this.a)+',null)':'pair('+xb(this.a)+','+xb(this.b)+')'};var xz=vq(mzb,'Pair',27);hI(431,1,Ayb,WJ);_.G=function XJ(){return!this.c&&(!this.b&&this.a.a!=null||this.a.b!=null)};_.H=function YJ(){if(!this.c&&!this.b&&this.a.a!=null){this.b=true;return this.a.a}else if(!this.c&&this.a.b!=null){this.c=true;return this.a.b}throw new Ua};_.I=function ZJ(){this.c&&this.a.b!=null?(this.a.b=null):this.b&&this.a.a!=null&&(this.a.a=null);throw new qa};_.b=false;_.c=false;var wz=vq(mzb,'Pair/1',431);hI(228,72,Vxb,$J);var yz=vq(nzb,'UnsupportedConfigurationException',228);hI(99,72,Vxb,_J);var zz=vq(nzb,'UnsupportedGraphException',99);var aK;hI(103,17,{103:1,3:1,23:1,17:1},jK);var cK,dK,eK,fK,gK,hK;var Az=vX(rzb,'Alignment',103,IF,kK);var lK;hI(59,17,{59:1,3:1,23:1,17:1},wK);var nK,oK,pK,qK,rK;var Bz=vX(rzb,'Direction',59,IF,xK);var yK;hI(107,17,{107:1,3:1,23:1,17:1},FK);var AK,BK,CK,DK;var Cz=vX(rzb,'EdgeLabelPlacement',107,IF,GK);var HK;hI(122,17,{122:1,3:1,23:1,17:1},OK);var JK,KK,LK,MK;var Dz=vX(rzb,'EdgeRouting',122,IF,PK);var QK;hI(133,17,{133:1,3:1,23:1,17:1},ZK);var SK,TK,UK,VK,WK,XK;var Ez=vX(rzb,'EdgeType',133,IF,$K);var _K;hI(166,17,{166:1,3:1,23:1,17:1},fL);var bL,cL,dL;var Fz=vX(rzb,'HierarchyHandling',166,IF,gL);var hL;var jL,kL,lL,mL,nL,oL,pL,qL,rL,sL,tL,uL,vL,wL,xL,yL,zL,AL,BL,CL,DL,EL,FL,GL,HL,IL,JL,KL,LL,ML,NL,OL,PL,QL,RL,SL,TL,UL,VL,WL,XL,YL,ZL,$L,_L,aM,bM,cM,dM;hI(41,17,{41:1,3:1,23:1,17:1},pM);var fM,gM,hM,iM,jM,kM,lM,mM,nM;var Gz=vX(rzb,'NodeLabelPlacement',41,IF,qM);var rM;hI(100,17,{100:1,3:1,23:1,17:1},AM);var uM,vM,wM,xM,yM;var Hz=vX(rzb,'PortAlignment',100,IF,BM);var CM;hI(28,17,{28:1,3:1,23:1,17:1},NM);var EM,FM,GM,HM,IM,JM;var Iz=vX(rzb,'PortConstraints',28,IF,OM);var PM;hI(149,17,{149:1,3:1,23:1,17:1},VM);var RM,SM,TM;var Jz=vX(rzb,'PortLabelPlacement',149,IF,WM);var XM;hI(32,17,{32:1,3:1,23:1,17:1},uN);var ZM,$M,_M,aN,bN,cN,dN,eN,fN,gN,hN,iN,jN,kN,lN,mN,nN,oN,pN,qN,rN;var Kz=vX(rzb,'PortSide',32,IF,wN);var xN;hI(150,17,{150:1,3:1,23:1,17:1},EN);var zN,AN,BN,CN;var Lz=vX(rzb,'SizeConstraint',150,IF,FN);var GN;hI(139,17,{139:1,3:1,23:1,17:1},NN);var IN,JN,KN,LN;var Mz=vX(rzb,'SizeOptions',139,IF,ON);var PN;hI(62,1,{62:1},UN,VN);_.t=function WN(a){var b;if(a==null||!aw(a,62)){return false}b=Wv(a,62);return hs(this.d,b.d)&&hs(this.e,b.e)&&hs(this.c,b.c)&&hs(this.b,b.b)};_.v=function XN(){return fpb(Bv(tv(UF,1),syb,1,4,[this.d,this.e,this.c,this.b]))};_.w=function YN(){return'Rect[x='+this.d+',y='+this.e+',w='+this.c+',h='+this.b+']'};_.b=0;_.c=0;_.d=0;_.e=0;var Tz=vq(wzb,'Rectangle',62);hI(283,62,{283:1,62:1},ZN);_.a=0;var Nz=vq(xzb,'LabelGroup',283);hI(67,17,{67:1,3:1,23:1,17:1},vO);var $N,_N,aO,bO,cO,dO,eO,fO,gO,hO,iO,jO,kO,lO,mO,nO,oO,pO,qO,rO,sO,tO;var Oz=vX(xzb,'LabelLocation',67,IF,xO);hI(225,17,{225:1,3:1,23:1,17:1},EO);var AO,BO,CO;var Pz=vX(xzb,'TextAlignment',225,IF,FO);var HO;hI(589,1,{},fP);_.a=0;_.b=false;_.d=0;_.f=0;_.k=0;_.r=0;_.s=0;var Qz=vq(wzb,'LabelAndNodeSizeProcessor/NodeData',589);hI(171,17,{171:1,3:1,23:1,17:1},lP);var gP,hP,iP,jP;var Rz=vX(wzb,'LabelSide',171,IF,mP);hI(590,1,{},rP);_.b=true;_.c=true;_.d=true;_.e=true;var Sz=vq(wzb,zzb,590);hI(121,1,Bzb);_.t=function wP(a){var b;if(aw(a,121)){b=Wv(a,121);return this.d==b.d&&this.a==b.a&&this.b==b.b&&this.c==b.c}else{return false}};_.v=function xP(){var a,b;a=hw(kc(this.b))<<16;a|=hw(kc(this.a))&byb;b=hw(kc(this.c))<<16;b|=hw(kc(this.d))&byb;return a^b};_.w=function zP(){return'[top='+this.d+',left='+this.b+',bottom='+this.a+',right='+this.c+']'};_.a=0;_.b=0;_.c=0;_.d=0;var Wz=vq(wzb,'Spacing',121);hI(232,121,Bzb,AP,BP,CP);var Uz=vq(wzb,'Spacing/Insets',232);hI(65,121,{286:1,121:1,65:1,3:1,5:1},DP,EP,FP);var Vz=vq(wzb,'Spacing/Margins',65);hI(364,1,{},jQ);_.c=false;_.d=null;_.g=null;var OP,PP,QP;var Xz=vq(Ozb,'JsonGraphImporter',364);var kQ,lQ,mQ,nQ,oQ,pQ,qQ,rQ,sQ;hI(417,14,lzb,xQ);var Yz=vq(Ozb,'LayoutOptionResolver/DummyProperty',417);hI(348,1,{},CQ);var yQ;var Zz=vq(Ozb,'RecursiveLGraphLayout',348);hI(73,99,{73:1,3:1,54:1,46:1},EQ,FQ,GQ);var $z=vq(Ozb,'UnsupportedJsonGraphException',73);hI(380,1,{},OQ);var HQ,IQ;var _z=vq(Szb,'GraphConfigurator',380);hI(49,1,{},WQ);var aA=vq(Szb,'IntermediateProcessingConfiguration',49);hI(365,1,{},dR);var bA=vq(Szb,'KlayLayered',365);hI(577,1,{},kR);_.i=0;var eR;var eA=vq(Wzb,'ComponentsToCGraphTransformer',577);var UR;hI(578,1,{},lR);_.tc=function mR(a,b){return vd(a.wc(),b.wc())};_.uc=function nR(a,b){return vd(a.xc(),b.xc())};var cA=vq(Wzb,'ComponentsToCGraphTransformer/1',578);hI(25,1,{25:1});_.k=0;_.o=null;_.p=true;_.r=Vzb;var kA=vq(Xzb,'CNode',25);hI(198,25,{198:1,25:1},pR,qR);_.vc=function rR(){this.b.d=this.j.d;this.b.e=this.j.e};_.wc=function sR(){return this.a!=null?kc(this.a):this.c.i};_.xc=function tR(){return this.a!=null?kc(this.a):this.c.i};_.w=function uR(){return''};var dA=vq(Wzb,'ComponentsToCGraphTransformer/CRectNode',198);hI(549,1,{},HR);var vR,wR;var hA=vq(Wzb,'OneDimensionalComponentsCompaction',549);hI(550,1,Tyb,IR);_.B=function JR(a){return xR(),Xo(),Wv(Wv(a,27).a,25).f.f!=0?wkb:vkb};var fA=vq(Wzb,'OneDimensionalComponentsCompaction/lambda$0$Type',550);hI(551,1,Tyb,KR);_.B=function LR(a){return xR(),Xo(),uS(Wv(Wv(a,27).a,25).n,Wv(Wv(a,27).b,59))||Wv(Wv(a,27).a,25).f.f!=0&&uS(Wv(Wv(a,27).a,25).n,Wv(Wv(a,27).b,59))?wkb:vkb};var gA=vq(Wzb,'OneDimensionalComponentsCompaction/lambda$1$Type',551);hI(324,1,{},NR);var iA=vq(Xzb,'CGraph',324);hI(78,1,{78:1},QR);_.b=0;_.c=0;_.d=0;_.f=0;_.i=true;_.j=Vzb;var jA=vq(Xzb,'CGroup',78);hI(470,1,{},WR);_.tc=function XR(a,b){return nd(a.wc(),b.wc())};_.uc=function YR(a,b){return nd(a.xc(),b.xc())};var lA=vq(Xzb,'ISpacingsHandler/1',470);hI(323,1,{},rS);_.e=false;var ZR,$R,_R;var nA=vq(Xzb,'OneDimensionalCompactor',323);hI(554,1,Tyb,sS);_.B=function tS(a){return aS(),Xo(),Wv(Wv(a,27).a,25).f.f!=0?wkb:vkb};var mA=vq(Xzb,'OneDimensionalCompactor/lambda$0$Type',554);hI(335,1,{},xS);_.a=false;_.b=false;_.c=false;_.d=false;var oA=vq(Xzb,'Quadruplet',335);hI(587,1,{},yS);_.Cc=function zS(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;k=Uzb;for(d=new _7(a.a.b);d.a<d.c.c.length;){b=Wv(QJ(d),25);k=vd(k,b.f.g.j.d+b.g.a)}q=new aJ;for(h=new _7(a.a.a);h.a<h.c.c.length;){g=Wv(QJ(h),78);g.j=k;g.f==0&&(TI(q,g,q.c.b,q.c),true)}while(q.b!=0){g=Wv(q.b==0?null:(Pi(q.b!=0),$I(q,q.a.a)),78);e=g.g.j.d;for(n=(p=(new e7(g.a.a)).a.bb().mb(),new r7(p));n.a.G();){l=(f=Wv(n.a.H(),21),Wv(f.yb(),25));s=g.j+l.g.a;l.f.i||l.j.d<s?(l.r=s):(l.r=l.j.d)}e-=g.g.r;g.b+=e;a.d==(sK(),pK)||a.d==nK?(g.c+=e):(g.c-=e);for(m=(o=(new e7(g.a.a)).a.bb().mb(),new r7(o));m.a.G();){l=(f=Wv(m.a.H(),21),Wv(f.yb(),25));for(j=l.i.mb();j.G();){i=Wv(j.H(),25);tK(a.d)?(r=a.g.tc(l,i)):(r=a.g.uc(l,i));i.f.j=nd(i.f.j,l.r+l.j.c+r-i.g.a);i.p||(i.f.j=nd(i.f.j,i.j.d-i.g.a));--i.f.f;i.f.f==0&&QI(q,i.f)}}}for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);b.j.d=b.r}};var pA=vq(Zzb,'LongestPathCompaction',587);hI(588,1,{},AS);_.Dc=function BS(a){var b,c,d,e,f,g,h;for(c=new _7(a.a.b);c.a<c.c.c.length;){b=Wv(QJ(c),25);b.i.Q()}for(e=new _7(a.a.b);e.a<e.c.c.length;){d=Wv(QJ(e),25);for(g=new _7(a.a.b);g.a<g.c.c.length;){f=Wv(QJ(g),25);if(d==f){continue}if(!!d.f&&d.f==f.f){continue}tK(a.d)?(h=a.g.uc(d,f)):(h=a.g.tc(d,f));d!=f.o&&(f.j.d>d.j.d||d.j.d==f.j.d&&d.j.c<f.j.c)&&SR(f.j.e+f.j.b+h,d.j.e)&&TR(f.j.e,d.j.e+d.j.b+h)&&d.i.ib(f)}}};var qA=vq(Zzb,'QuadraticConstraintCalculation',588);hI(317,1,{},FS);_.Dc=function GS(a){this.b=a;ES(this,new RS,new TS)};var xA=vq(Zzb,'ScanlineConstraintCalculator',317);var JA=to($zb,'Scanline/EventHandler');hI(464,1,{160:1},KS);_.Ec=function LS(a){IS(this,Wv(a,235))};var sA=vq(Zzb,'ScanlineConstraintCalculator/ConstraintsScanlineHandler',464);hI(465,1,fyb,MS);_.$b=function NS(a,b){return glb((Wv(a,25).j.d+Wv(a,25).j.c)/2,(Wv(b,25).j.d+Wv(b,25).j.c)/2)};var rA=vq(Zzb,'ScanlineConstraintCalculator/ConstraintsScanlineHandler/lambda$0$Type',465);hI(235,1,{235:1},OS);_.a=false;var tA=vq(Zzb,'ScanlineConstraintCalculator/Timestamp',235);hI(466,1,fyb,PS);_.$b=function QS(a,b){return HS(a,b)};var uA=vq(Zzb,'ScanlineConstraintCalculator/lambda$0$Type',466);hI(467,1,_zb,RS);_.D=function SS(a){return true};var vA=vq(Zzb,'ScanlineConstraintCalculator/lambda$1$Type',467);hI(468,1,Tyb,TS);_.B=function US(a){return 0};var wA=vq(Zzb,'ScanlineConstraintCalculator/lambda$2$Type',468);hI(48,1,{48:1},VS,WS);_.t=function XS(a){var b;if(a==null){return false}if(zA!=tb(a)){return false}b=Wv(a,48);return hs(this.c,b.c)&&hs(this.d,b.d)};_.v=function YS(){return fpb(Bv(tv(UF,1),syb,1,4,[this.c,this.d]))};_.w=function ZS(){return'('+this.c+', '+this.d+(this.a?'cx':'')+this.b+')'};_.a=true;_.c=0;_.d=0;var zA=vq($zb,'Point',48);hI(201,17,{201:1,3:1,23:1,17:1},fT);var $S,_S,aT,bT;var yA=vX($zb,'Point/Quadrant',201,IF,iT);hI(569,1,{},qT);_.b=null;_.c=null;_.d=null;_.e=null;_.f=null;var jT,kT,lT,mT,nT;var IA=vq($zb,'RectilinearConvexHull',569);hI(243,1,{160:1},xT);_.Ec=function yT(a){wT(this,Wv(a,48))};_.b=0;var uT;var BA=vq($zb,'RectilinearConvexHull/MaximalElementsEventHandler',243);hI(571,1,fyb,AT);_.$b=function BT(a,b){return zT(a,b)};var AA=vq($zb,'RectilinearConvexHull/MaximalElementsEventHandler/lambda$0$Type',571);hI(570,1,{160:1},DT);_.Ec=function ET(a){CT(this,Wv(a,48))};_.a=0;_.b=null;_.c=null;_.d=null;_.e=null;var CA=vq($zb,'RectilinearConvexHull/RectangleEventHandler',570);hI(572,1,fyb,FT);_.$b=function GT(a,b){return oT(),Wv(a,48).c==Wv(b,48).c?glb(Wv(b,48).d,Wv(a,48).d):glb(Wv(a,48).c,Wv(b,48).c)};var DA=vq($zb,'RectilinearConvexHull/lambda$0$Type',572);hI(573,1,fyb,HT);_.$b=function IT(a,b){return oT(),Wv(a,48).c==Wv(b,48).c?glb(Wv(a,48).d,Wv(b,48).d):glb(Wv(a,48).c,Wv(b,48).c)};var EA=vq($zb,'RectilinearConvexHull/lambda$1$Type',573);hI(574,1,fyb,JT);_.$b=function KT(a,b){return oT(),Wv(a,48).c==Wv(b,48).c?glb(Wv(b,48).d,Wv(a,48).d):glb(Wv(b,48).c,Wv(a,48).c)};var FA=vq($zb,'RectilinearConvexHull/lambda$2$Type',574);hI(575,1,fyb,LT);_.$b=function MT(a,b){return oT(),Wv(a,48).c==Wv(b,48).c?glb(Wv(a,48).d,Wv(b,48).d):glb(Wv(b,48).c,Wv(a,48).c)};var GA=vq($zb,'RectilinearConvexHull/lambda$3$Type',575);hI(576,1,fyb,NT);_.$b=function OT(a,b){return sT(a,b)};var HA=vq($zb,'RectilinearConvexHull/lambda$4$Type',576);hI(469,1,{},QT);var KA=vq($zb,'Scanline',469);hI(662,1,{});var LA=vq(aAb,'AbstractGraphPlacer',662);hI(222,1,{222:1},_T);var WT;var NA=vq(aAb,'ComponentGroup',222);hI(434,662,{},fU);_.Fc=function gU(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;this.a.c=xv(UF,syb,1,0,4,1);b.b.c=xv(UF,syb,1,0,4,1);if(a.V()){b.e.a=0;b.e.b=0;return}f=Wv(a.sb(0),55);qJ(b,f);for(e=a.mb();e.G();){d=Wv(e.H(),55);aU(this,d)}n=new FI;o=2*Wv(rJ(f,(Rib(),Jib)),15).a;for(i=new _7(this.a);i.a<i.c.c.length;){g=Wv(QJ(i),222);j=bU(g,o);VT(Jd(g.a),n.a,n.b);n.a+=j.a;n.b+=j.b}b.e.a=n.a-o;b.e.b=n.b-o;if(jc(kc(Xv(rJ(f,(Mjb(),ijb)))))&&gw(rJ(f,(eM(),uL)))===gw((NK(),JK))){for(m=a.mb();m.G();){k=Wv(m.H(),55);UT(k,k.d.a,k.d.b)}c=new sU;iU(c,a,o);for(l=a.mb();l.G();){k=Wv(l.H(),55);vI(BI(k.d),c.e)}vI(BI(b.e),c.a)}for(h=new _7(this.a);h.a<h.c.c.length;){g=Wv(QJ(h),222);TT(b,Jd(g.a))}};var MA=vq(aAb,'ComponentGroupGraphPlacer',434);hI(322,1,{},sU);var VA=vq(aAb,'ComponentsCompactor',322);hI(13,647,bAb,GU,HU,IU);_.rb=function JU(a,b){uU(this,a,b)};_.ib=function KU(a){return vU(this,a)};_.jb=function LU(a){return xU(this,a)};_.Q=function MU(){this.c=xv(UF,syb,1,0,4,1)};_.kb=function NU(a){return zU(this,a,0)!=-1};_.sb=function OU(a){return yU(this,a)};_.V=function PU(){return this.c.length==0};_.mb=function QU(){return new _7(this)};_.vb=function RU(a){return AU(this,a)};_.nb=function SU(a){return BU(this,a)};_.Xb=function TU(a,b){CU(this,a,b)};_.wb=function UU(a,b){return DU(this,a,b)};_.Y=function VU(){return this.c.length};_.ob=function WU(){return EU(this)};_.pb=function XU(a){return FU(this,a)};var BG=vq(Cyb,'ArrayList',13);hI(532,13,bAb,$U);_.ib=function _U(a){return ZU(this,Wv(a,48))};var OA=vq(aAb,'ComponentsCompactor/Hullpoints',532);hI(529,1,{347:1},bV);_.a=false;var PA=vq(aAb,'ComponentsCompactor/InternalComponent',529);hI(528,1,Oyb,cV);_.mb=function dV(){return new _7(this.a)};var QA=vq(aAb,'ComponentsCompactor/InternalConnectedComponents',528);hI(531,1,{251:1},eV);_.zc=function gV(){return null};_.Ac=function hV(){return this.a};_.yc=function fV(){return oU(this.d)};_.Bc=function iV(){return this.b};var RA=vq(aAb,'ComponentsCompactor/InternalExternalExtension',531);hI(530,1,{251:1},jV);_.Ac=function mV(){return this.a};_.yc=function kV(){return oU(this.d)};_.zc=function lV(){return this.c};_.Bc=function nV(){return this.b};var SA=vq(aAb,'ComponentsCompactor/InternalUnionExternalExtension',530);hI(534,1,{},oV);var TA=vq(aAb,'ComponentsCompactor/OuterSegments',534);hI(533,1,{},pV);var UA=vq(aAb,'ComponentsCompactor/Segments',533);hI(381,1,{},tV);var WA=vq(aAb,'ComponentsProcessor',381);hI(432,662,{},uV);_.Fc=function vV(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A;if(a.Y()==1){t=Wv(a.sb(0),55);if(t!=b){b.b.c=xv(UF,syb,1,0,4,1);ST(b,t,0,0);qJ(b,t);YW(b.a,t.a);b.e.a=t.e.a;b.e.b=t.e.b}return}else if(a.V()){b.b.c=xv(UF,syb,1,0,4,1);b.e.a=0;b.e.b=0;return}for(h=a.mb();h.G();){f=Wv(h.H(),55);q=0;for(o=new _7(f.b);o.a<o.c.c.length;){n=Wv(QJ(o),9);q+=Wv(rJ(n,(Rib(),Eib)),24).a}f.k=q}JR(a,new xV);e=Wv(a.sb(0),55);b.b.c=xv(UF,syb,1,0,4,1);qJ(b,e);m=0;v=0;for(i=a.mb();i.G();){f=Wv(i.H(),55);s=f.e;m=nd(m,s.a);v+=s.a*s.b}m=nd(m,Math.sqrt(v)*Wv(rJ(b,(Rib(),Rhb)),15).a);u=cAb*Wv(rJ(b,Jib),15).a;w=0;A=0;l=0;c=u;for(g=a.mb();g.G();){f=Wv(g.H(),55);s=f.e;if(w+s.a>m){w=0;A+=l+u;l=0}p=f.d;UT(f,w+p.a,A+p.b);p.a=0;p.b=0;c=nd(c,w+s.a);l=nd(l,s.b);w+=s.a+u}b.e.a=c;b.e.b=A+l;r=Wv(rJ(b,Jib),15).a;if(jc(kc(Xv(rJ(e,(Mjb(),ijb)))))){d=new sU;iU(d,a,r);for(k=a.mb();k.G();){j=Wv(k.H(),55);vI(BI(j.d),d.e)}vI(BI(b.e),d.a)}TT(b,a)};var YA=vq(aAb,'SimpleRowGraphPlacer',432);hI(433,1,fyb,xV);_.$b=function yV(a,b){return wV(Wv(a,55),Wv(b,55))};var XA=vq(aAb,'SimpleRowGraphPlacer/1',433);hI(369,1,eAb,CV);_.sc=function DV(a,b){BV(a,b)};var zV;var $A=vq(fAb,'CompoundGraphPostprocessor',369);hI(370,1,_zb,EV);_.D=function FV(a){var b;return b=Wv(rJ(Wv(a,114).b,(eM(),CL)),44),!!b&&b.b!=0};var ZA=vq(fAb,'CompoundGraphPostprocessor/1',370);hI(368,1,eAb,SV);_.sc=function TV(a,b){NV(this,a,b)};var aB=vq(fAb,'CompoundGraphPreprocessor',368);hI(187,1,{187:1},UV);_.c=false;var _A=vq(fAb,'CompoundGraphPreprocessor/ExternalPort',187);hI(114,1,{114:1},XV);_.w=function YV(){return zc(this.c)+':'+gW(this.b)};var cB=vq(fAb,'CrossHierarchyEdge',114);hI(310,1,fyb,$V);_.$b=function _V(a,b){return ZV(this,Wv(a,114),Wv(b,114))};var bB=vq(fAb,'CrossHierarchyEdgeComparator',310);hI(147,131,{179:1,131:1,147:1,3:1});_.k=0;var lB=vq(hAb,'LGraphElement',147);hI(12,147,{179:1,131:1,12:1,147:1,3:1},hW);_.w=function iW(){return gW(this)};var dB=vq(hAb,'LEdge',12);hI(55,147,{179:1,131:1,55:1,147:1,3:1,22:1},kW);_.mb=function lW(){return new _7(this.c)};_.w=function mW(){if(this.c.c.length==0){return'G-unlayered'+Ze(this.b)}else if(this.b.c.length==0){return'G-layered'+Ze(this.c)}return'G[layerless'+Ze(this.b)+', layers'+Ze(this.c)+']'};var mB=vq(hAb,'LGraph',55);hI(273,1,{});_.pc=function rW(){return this.e.j};var eB=vq(hAb,'LGraphAdapters/AbstractLShapeAdapter',273);hI(240,1,{627:1},tW);_.b=null;var fB=vq(hAb,'LGraphAdapters/LEdgeAdapter',240);hI(325,1,{},wW);_.pc=function xW(){return this.a.e};_.b=null;_.c=false;var gB=vq(hAb,'LGraphAdapters/LGraphAdapter',325);hI(224,273,{129:1,224:1},yW);var hB=vq(hAb,'LGraphAdapters/LLabelAdapter',224);hI(555,273,{626:1},BW);_.a=null;_.b=null;_.c=false;var iB=vq(hAb,'LGraphAdapters/LNodeAdapter',555);hI(556,273,{161:1},FW);_.a=null;_.b=null;_.c=null;_.d=false;var jB=vq(hAb,'LGraphAdapters/LPortAdapter',556);hI(557,1,fyb,HW);_.$b=function IW(a,b){return GW(Wv(a,7),Wv(b,7))};var kB=vq(hAb,'LGraphAdapters/PortComparator',557);hI(168,1,{168:1},ZW,$W);_.t=function _W(a){var b;if(aw(a,168)){b=Wv(a,168);return this.d==b.d&&this.a==b.a&&this.b==b.b&&this.c==b.c}else{return false}};_.v=function aX(){var a,b;a=hw(kc(this.b))<<16;a|=hw(kc(this.a))&byb;b=hw(kc(this.c))<<16;b|=hw(kc(this.d))&byb;return a^b};_.w=function bX(){return'Insets[top='+this.d+',left='+this.b+',bottom='+this.a+',right='+this.c+']'};_.a=0;_.b=0;_.c=0;_.d=0;var nB=vq(hAb,'LInsets',168);hI(165,147,{179:1,131:1,147:1,165:1,3:1});var CB=vq(hAb,'LShape',165);hI(33,165,{179:1,131:1,147:1,33:1,165:1,3:1},dX);_.w=function eX(){return this.a==null?'l_'+this.k:'l_'+this.a};var oB=vq(hAb,'LLabel',33);hI(9,165,{179:1,131:1,147:1,9:1,165:1,3:1},uX);_.w=function vX(){return tX(this)};var qB=vq(hAb,'LNode',9);hI(132,17,{132:1,3:1,23:1,17:1},DX);var wX,xX,yX,zX,AX,BX;var pB=vX(hAb,'LNode/NodeType',132,IF,EX);hI(7,165,{179:1,131:1,147:1,7:1,165:1,3:1},RX);_.w=function SX(){var a;return a=OX(this),a==null?'p_'+this.k:'p_'+a};var FX,GX,HX,IX,JX,KX;var BB=vq(hAb,'LPort',7);hI(399,1,_zb,UX);_.D=function VX(a){return TX(a)};var rB=vq(hAb,'LPort/1',399);hI(400,1,_zb,XX);_.D=function YX(a){return WX(a)};var sB=vq(hAb,'LPort/2',400);hI(401,1,_zb,ZX);_.D=function $X(a){return Wv(a,7).g==(sN(),$M)};var tB=vq(hAb,'LPort/3',401);hI(402,1,_zb,_X);_.D=function aY(a){return Wv(a,7).g==(sN(),ZM)};var uB=vq(hAb,'LPort/4',402);hI(403,1,_zb,bY);_.D=function cY(a){return Wv(a,7).g==(sN(),pN)};var vB=vq(hAb,'LPort/5',403);hI(404,1,_zb,dY);_.D=function eY(a){return Wv(a,7).g==(sN(),rN)};var wB=vq(hAb,'LPort/6',404);hI(190,1,Oyb,fY);_.mb=function gY(){var a;a=new _7(this.a.b);return new hY(a)};var yB=vq(hAb,'LPort/7',190);hI(405,1,Ayb,hY);_.H=function jY(){return Wv(QJ(this.a),12).c};_.G=function iY(){return Gj(this.a)};_.I=function kY(){Ip(this.a)};var xB=vq(hAb,'LPort/7/1',405);hI(169,1,Oyb,lY);_.mb=function mY(){var a;return a=new _7(this.a.e),new nY(a)};var AB=vq(hAb,'LPort/8',169);hI(304,1,Ayb,nY);_.H=function pY(){return Wv(QJ(this.a),12).d};_.G=function oY(){return Gj(this.a)};_.I=function qY(){Ip(this.a)};var zB=vq(hAb,'LPort/8/1',304);hI(16,147,{179:1,131:1,147:1,16:1,3:1,22:1},sY);_.mb=function tY(){return new _7(this.a)};_.w=function uY(){return'L_'+zU(this.b.c,this,0)+Ze(this.a)};var DB=vq(hAb,'Layer',16);hI(437,1,eAb,wY);_.sc=function xY(a,b){var c,d,e,f,g,h,i;nI(b,'Big nodes intermediate-processing',1);this.a=a;for(f=new _7(this.a.c);f.a<f.c.c.length;){e=Wv(QJ(f),16);i=Eo(e.a);c=pl(i,new zY);for(h=Pl(c.b.mb(),c.a);od(h);){g=Wv(pd(h),9);if(gw(rJ(g,(Mjb(),vjb)))===gw((Xib(),Uib))||gw(rJ(g,vjb))===gw(Vib)){d=vY(this,g,false);sJ(d,vjb,Wv(rJ(g,vjb),85));sJ(g,vjb,Wib)}else{vY(this,g,true)}}}pI(b)};var FB=vq(jAb,'BigNodesIntermediateProcessor',437);hI(438,1,_zb,zY);_.D=function AY(a){return yY(Wv(a,9))};var EB=vq(jAb,'BigNodesIntermediateProcessor/1',438);hI(582,1,Tyb,CY);_.B=function DY(a){var b;return BY((b=this,iw(a),b))};var GB=vq(jAb,'BigNodesLabelHandler/CompoundFunction',582);hI(332,1,{},HY);_.a=0;_.e=null;_.f=0;var KB=vq(jAb,'BigNodesLabelHandler/Handler',332);hI(583,1,Tyb,JY);_.B=function KY(a){var b;return IY((b=this,iw(a),b))};var HB=vq(jAb,'BigNodesLabelHandler/Handler/1',583);hI(584,1,Tyb,MY);_.B=function NY(a){var b;return LY((b=this,iw(a),b))};var IB=vq(jAb,'BigNodesLabelHandler/Handler/2',584);hI(585,1,Tyb,PY);_.B=function QY(a){var b;return OY((b=this,iw(a),b))};var JB=vq(jAb,'BigNodesLabelHandler/Handler/3',585);hI(439,1,eAb,SY);_.sc=function TY(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;nI(b,'Big nodes post-processing',1);this.a=a;for(h=new _7(this.a.c);h.a<h.c.c.length;){g=Wv(QJ(h),16);c=pl(g.a,new VY);for(j=Pl(c.b.mb(),c.a);od(j);){i=Wv(pd(j),9);l=Wv(rJ(i,(Rib(),Whb)),15);f=RY(this,i);p=new GU;for(o=nX(f,(sN(),ZM)).mb();o.G();){m=Wv(o.H(),7);p.c[p.c.length]=m;k=m.i.a-f.j.a;m.i.a=l.a+k}i.j.a=l.a;for(n=new _7(p);n.a<n.c.c.length;){m=Wv(QJ(n),7);PX(m,i)}this.a.e.a<i.i.a+i.j.a&&(this.a.e.a=i.i.a+i.j.a);e=Wv(rJ(i,Thb),20);xU(i.c,e);d=Wv(rJ(i,Uhb),64);!!d&&d.B(null)}}pI(b)};var MB=vq(jAb,'BigNodesPostProcessor',439);hI(440,1,_zb,VY);_.D=function WY(a){return UY(Wv(a,9))};var LB=vq(jAb,'BigNodesPostProcessor/1',440);hI(441,1,eAb,YY);_.sc=function ZY(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;nI(b,kAb,1);this.c=a;l=this.c.b;e=0;for(i=new _7(l);i.a<i.c.c.length;){g=Wv(QJ(i),9);g.k=e++}this.d=Wv(rJ(this.c,(Rib(),Jib)),15).a;this.a=Wv(rJ(this.c,(eM(),sL)),59);this.b=l.c.length;f=lAb;for(j=new _7(l);j.a<j.c.c.length;){g=Wv(QJ(j),9);g.g==(CX(),AX)&&g.j.a<f&&(f=g.j.a)}f=50>f?50:f;c=new GU;n=f+this.d;for(k=new _7(l);k.a<k.c.c.length;){g=Wv(QJ(k),9);if(g.g==(CX(),AX)&&g.j.a>n){m=1;d=g.j.a;while(d>f){++m;d=(g.j.a-(m-1)*this.d)/m}vU(c,new _Y(this,g,m,d))}}for(h=new _7(c);h.a<h.c.c.length;){g=Wv(QJ(h),267);XY(g.d)&&$Y(g)}pI(b)};_.b=0;_.d=0;var OB=vq(jAb,'BigNodesPreProcessor',441);hI(267,1,{267:1},_Y);_.a=0;_.c=0;var NB=vq(jAb,'BigNodesPreProcessor/BigNode',267);hI(442,1,eAb,cZ);_.sc=function dZ(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;nI(b,kAb,1);aZ=jc(kc(Xv(rJ(a,(eM(),rL)))));this.c=a;n=new GU;for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);xU(n,f.a)}e=0;for(k=new _7(n);k.a<k.c.c.length;){i=Wv(QJ(k),9);i.k=e++}this.d=Wv(rJ(this.c,(Rib(),Jib)),15).a;this.a=Wv(rJ(this.c,sL),59);this.b=n.c.length;h=lAb;for(l=new _7(n);l.a<l.c.c.length;){i=Wv(QJ(l),9);i.g==(CX(),AX)&&i.j.a<h&&(h=i.j.a)}h=50>h?50:h;c=new GU;p=h+this.d;for(m=new _7(n);m.a<m.c.c.length;){i=Wv(QJ(m),9);if(i.g==(CX(),AX)&&i.j.a>p){o=1;d=i.j.a;while(d>h){++o;d=(i.j.a-(o-1)*this.d)/o}vU(c,new nZ(this,i,o))}}for(j=new _7(c);j.a<j.c.c.length;){i=Wv(QJ(j),268);bZ(i)&&gZ(i)}pI(b)};_.b=0;_.d=0;var aZ=false;var QB=vq(jAb,'BigNodesSplitter',442);hI(268,1,{268:1},nZ);_.a=0;_.e=4;var PB=vq(jAb,'BigNodesSplitter/BigNode',268);hI(443,1,eAb,qZ);_.sc=function rZ(a,b){var c,d,e,f,g,h,i,j;nI(b,'Comment post-processing',1);i=Wv(rJ(a,(Rib(),Jib)),15).a;for(f=new _7(a.c);f.a<f.c.c.length;){e=Wv(QJ(f),16);d=new GU;for(h=new _7(e.a);h.a<h.c.c.length;){g=Wv(QJ(h),9);j=Wv(rJ(g,Qib),20);c=Wv(rJ(g,Yhb),20);if(!!j||!!c){pZ(g,j,c,i);!!j&&xU(d,j);!!c&&xU(d,c)}}xU(e.a,d)}pI(b)};var RB=vq(jAb,'CommentPostprocessor',443);hI(444,1,eAb,tZ);_.sc=function uZ(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;nI(b,'Comment pre-processing',1);h=new _7(a.b);while(h.a<h.c.c.length){g=Wv(QJ(h),9);if(jc(kc(Xv(rJ(g,(eM(),qL)))))){d=0;c=null;i=null;for(n=new _7(g.f);n.a<n.c.c.length;){l=Wv(QJ(n),7);d+=l.b.c.length+l.e.c.length;if(l.b.c.length==1){c=Wv(yU(l.b,0),12);i=c.c}if(l.e.c.length==1){c=Wv(yU(l.e,0),12);i=c.d}}if(d==1&&i.b.c.length+i.e.c.length==1&&!jc(kc(Xv(rJ(i.f,qL))))){sZ(g,c,i,i.f);Ip(h)}else{q=new GU;for(m=new _7(g.f);m.a<m.c.c.length;){l=Wv(QJ(m),7);for(k=new _7(l.e);k.a<k.c.c.length;){j=Wv(QJ(k),12);j.d.e.c.length==0||(q.c[q.c.length]=j,true)}for(f=new _7(l.b);f.a<f.c.c.length;){e=Wv(QJ(f),12);e.c.b.c.length==0||(q.c[q.c.length]=e,true)}}for(p=new _7(q);p.a<p.c.c.length;){o=Wv(QJ(p),12);cW(o,true)}}}}pI(b)};var SB=vq(jAb,'CommentPreprocessor',444);hI(445,1,eAb,wZ);_.sc=function xZ(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Edge and layer constraint edge reversal',1);for(j=new _7(a.b);j.a<j.c.c.length;){i=Wv(QJ(j),9);g=Wv(rJ(i,(Mjb(),vjb)),85);f=null;switch(g.e){case 1:case 2:f=(Hgb(),Ggb);break;case 3:case 4:f=(Hgb(),Egb);}if(f){sJ(i,(Rib(),dib),(Hgb(),Ggb));f==Egb?vZ(i,g,(G$(),bjb)):f==Ggb&&vZ(i,g,(G$(),ajb))}else{if(MM(Wv(rJ(i,(eM(),TL)),28))&&i.f.c.length!=0){c=true;for(l=new _7(i.f);l.a<l.c.c.length;){k=Wv(QJ(l),7);if(!(k.g==(sN(),ZM)&&k.b.c.length-k.e.c.length>0||k.g==rN&&k.b.c.length-k.e.c.length<0)){c=false;break}if(k.g==rN){for(e=new _7(k.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);h=Wv(rJ(d.d.f,vjb),85);if(h==(Xib(),Uib)||h==Vib){c=false;break}}}if(k.g==ZM){for(e=new _7(k.b);e.a<e.c.c.length;){d=Wv(QJ(e),12);h=Wv(rJ(d.c.f,vjb),85);if(h==(Xib(),Sib)||h==Tib){c=false;break}}}}c&&vZ(i,g,(G$(),cjb))}}}pI(b)};var TB=vq(jAb,'EdgeAndLayerConstraintEdgeReverser',445);hI(446,1,eAb,AZ);_.sc=function BZ(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'End label placement',1);g=Wv(rJ(a,(eM(),DL)),15).a;this.a=(mp(),new K9);this.c=new K9;this.b=new K9;for(i=new _7(a.c);i.a<i.c.c.length;){h=Wv(QJ(i),16);for(k=new _7(h.a);k.a<k.c.c.length;){j=Wv(QJ(k),9);for(d=Uh(mX(j));Cm(d);){c=Wv(Dm(d),12);for(f=new _7(c.b);f.a<f.c.c.length;){e=Wv(QJ(f),33);(gw(rJ(e,tL))===gw((EK(),CK))||gw(rJ(e,tL))===gw(BK))&&(l=null,gw(rJ(e,tL))===gw(CK)?(l=c.c):gw(rJ(e,tL))===gw(BK)&&(l=c.d),bX(this.a,l.f)||Wr(this.a,l.f,0),bX(this.c,l.f)||Wr(this.c,l.f,0),bX(this.b,l)||Wr(this.b,l,0),gw(rJ(e,(Rib(),pib)))===gw((kP(),gP))?zZ(e,l,g):yZ(e,l,g),undefined)}}}}pI(b)};var UB=vq(jAb,'EndLabelProcessor',446);hI(269,1,eAb,SZ);_.sc=function TZ(a,b){var c,d,e,f,g;nI(b,'Graph transformation ('+this.a+')',1);e=Ao(a.b);for(d=new _7(a.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);xU(e,c.a)}switch(this.a.e){case 0:JZ(e,a);break;case 1:NZ(e);g=Wv(rJ(a,(Mjb(),ojb)),115);!!g&&sJ(a,ojb,Qgb(g));MZ(a.d);MZ(a.e);break;case 2:JZ(e,a);LZ(e,a);NZ(e);f=Wv(rJ(a,(Mjb(),ojb)),115);!!f&&sJ(a,ojb,Qgb(f));MZ(a.d);MZ(a.e);}pI(b)};var WB=vq(jAb,'GraphTransformer',269);hI(221,17,{221:1,3:1,23:1,17:1},YZ);var UZ,VZ,WZ;var VB=vX(jAb,'GraphTransformer/Mode',221,IF,ZZ);hI(448,1,eAb,d$);_.sc=function e$(a,b){nI(b,'Hierarchical port constraint processing',1);a$(a);c$(a);pI(b)};var YB=vq(jAb,'HierarchicalPortConstraintProcessor',448);hI(449,1,fyb,g$);_.$b=function h$(a,b){return f$(Wv(a,9),Wv(b,9))};var XB=vq(jAb,'HierarchicalPortConstraintProcessor/NodeComparator',449);hI(450,1,eAb,j$);_.sc=function k$(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Hierarchical port dummy size processing',1);i=new GU;l=new GU;h=Wv(rJ(a,(Rib(),Jib)),15).a;k=h*Wv(rJ(a,(Mjb(),qjb)),15).a;c=k*2;for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);i.c=xv(UF,syb,1,0,4,1);l.c=xv(UF,syb,1,0,4,1);for(g=new _7(d.a);g.a<g.c.c.length;){f=Wv(QJ(g),9);if(f.g==(CX(),xX)){j=Wv(rJ(f,hib),32);j==(sN(),$M)?(i.c[i.c.length]=f,true):j==pN&&(l.c[l.c.length]=f,true)}}i$(i,true,c);i$(l,false,c)}pI(b)};var ZB=vq(jAb,'HierarchicalPortDummySizeProcessor',450);hI(451,1,eAb,w$);_.sc=function x$(a,b){var c,d,e,f;nI(b,'Orthogonally routing hierarchical port edges',1);this.a=0;c=s$(a);v$(a,c);u$(this,a,c);q$(a);d=Wv(rJ(a,(eM(),TL)),28);e=a.c;p$((gV(0,e.c.length),Wv(e.c[0],16)),d,a);p$(Wv(yU(e,e.c.length-1),16),d,a);f=a.c;n$((gV(0,f.c.length),Wv(f.c[0],16)));n$(Wv(yU(f,f.c.length-1),16));pI(b)};_.a=0;var aC=vq(jAb,'HierarchicalPortOrthogonalEdgeRouter',451);hI(452,1,fyb,z$);_.$b=function A$(a,b){return y$(Wv(a,9),Wv(b,9))};var $B=vq(jAb,'HierarchicalPortOrthogonalEdgeRouter/1',452);hI(453,1,fyb,C$);_.$b=function D$(a,b){return B$(Wv(a,9),Wv(b,9))};var _B=vq(jAb,'HierarchicalPortOrthogonalEdgeRouter/2',453);hI(454,1,eAb,F$);_.sc=function G$(a,b){var c;nI(b,'Hierarchical port position processing',1);c=a.c;c.c.length>0&&E$((gV(0,c.c.length),Wv(c.c[0],16)),a);c.c.length>1&&E$(Wv(yU(c,c.c.length-1),16),a);pI(b)};var bC=vq(jAb,'HierarchicalPortPositionProcessor',454);hI(471,1,eAb,I$);_.sc=function J$(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;nI(b,'Hyperedge merging',1);n=new MJ(a.c,0);while(n.b<n.d.Y()){m=(Pi(n.b<n.d.Y()),Wv(n.d.sb(n.c=n.b++),16));p=m.a;if(p.c.length==0){continue}h=null;l=null;for(o=0;o<p.c.length;o++){c=(gV(o,p.c.length),Wv(p.c[o],9));g=c.g;if(g==(CX(),zX)&&l==zX){e=Wv(rJ(c,(Rib(),qib)),7);j=Wv(rJ(h,qib),7);f=Wv(rJ(c,rib),7);k=Wv(rJ(h,rib),7);d=!!e||!!f;i=!!j||!!k;if(d&&i&&(e==j||f==k)){H$(c,h,e==j,f==k);gV(o,p.c.length);xe(p.c,o,1);--o;c=h;g=l}}h=c;l=g}}pI(b)};var cC=vq(jAb,'HyperedgeDummyMerger',471);hI(472,1,eAb,L$);_.sc=function M$(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Hypernodes processing',1);for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);for(h=new _7(d.a);h.a<h.c.c.length;){g=Wv(QJ(h),9);if(jc(kc(Xv(rJ(g,(eM(),AL)))))&&g.f.c.length<=2){l=0;k=0;c=0;f=0;for(j=new _7(g.f);j.a<j.c.c.length;){i=Wv(QJ(j),7);switch(i.g.e){case 1:++l;break;case 2:++k;break;case 3:++c;break;case 4:++f;}}l==0&&c==0&&K$(a,g,f<=k)}}}pI(b)};var dC=vq(jAb,'HypernodesProcessor',472);hI(473,1,eAb,N$);_.sc=function O$(a,b){var c,d,e,f,g,h,i,j,k;nI(b,'Layer constraint edge reversal',1);for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);k=-1;c=new GU;j=Wv(FU(f.a,xv(qB,Nzb,9,f.a.c.length,0,1)),51);for(e=0;e<j.length;e++){d=Wv(rJ(j[e],(Rib(),mib)),140);if(k==-1){d!=(TY(),Ghb)&&(k=e)}else{if(d==(TY(),Ghb)){rX(j[e],null);qX(j[e],k++,f)}}d==(TY(),Ehb)&&vU(c,j[e])}for(i=new _7(c);i.a<i.c.c.length;){h=Wv(QJ(i),9);rX(h,null);rX(h,f)}}pI(b)};var eC=vq(jAb,'InLayerConstraintProcessor',473);hI(474,1,eAb,R$);_.sc=function W$(a,b){var c,d,e,f,g,h;if(!Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))){return}for(h=new _7(a.b);h.a<h.c.c.length;){f=Wv(QJ(h),9);if(f.g==(CX(),AX)){e=Wv(rJ(f,(eM(),GL)),65);this.c=vd(this.c,f.i.a-e.b);this.a=nd(this.a,f.i.a+f.j.a+e.c);this.d=vd(this.d,f.i.b-e.d);this.b=nd(this.b,f.i.b+f.j.b+e.a)}}for(g=new _7(a.b);g.a<g.c.c.length;){f=Wv(QJ(g),9);if(f.g!=(CX(),AX)){switch(f.g.e){case 2:d=Wv(rJ(f,(Mjb(),vjb)),85);if(d==(Xib(),Tib)){f.i.a=this.c-10;Q$(f,new X$).A(new Z$(f));break}if(d==Vib){f.i.a=this.a+10;Q$(f,new _$).A(new b_(f));break}c=Wv(rJ(f,mib),140);if(c==(TY(),Ghb)){P$(f).A(new d_(f));f.i.b=this.d-10;break}if(c==Ehb){P$(f).A(new f_(f));f.i.b=this.b+10;break}break;default:throw new oc('The node type '+f.g+' is not supported by the '+lC);}}}};_.a=Vzb;_.b=Vzb;_.c=Uzb;_.d=Uzb;var lC=vq(jAb,'InteractiveExternalPortPositioner',474);hI(475,1,Tyb,X$);_.B=function Y$(a){return Wv(a,12).d.f};var fC=vq(jAb,'InteractiveExternalPortPositioner/lambda$0$Type',475);hI(476,1,Tyb,Z$);_.B=function $$(a){return S$(this.a,a)};var gC=vq(jAb,'InteractiveExternalPortPositioner/lambda$1$Type',476);hI(477,1,Tyb,_$);_.B=function a_(a){return Wv(a,12).c.f};var hC=vq(jAb,'InteractiveExternalPortPositioner/lambda$2$Type',477);hI(478,1,Tyb,b_);_.B=function c_(a){return T$(this.a,a)};var iC=vq(jAb,'InteractiveExternalPortPositioner/lambda$3$Type',478);hI(479,1,Tyb,d_);_.B=function e_(a){return U$(this.a,a)};var jC=vq(jAb,'InteractiveExternalPortPositioner/lambda$4$Type',479);hI(480,1,Tyb,f_);_.B=function g_(a){return V$(this.a,a)};var kC=vq(jAb,'InteractiveExternalPortPositioner/lambda$5$Type',480);hI(37,17,{37:1,3:1,23:1,17:1},f0);var h_,i_,j_,k_,l_,m_,n_,o_,p_,q_,r_,s_,t_,u_,v_,w_,x_,y_,z_,A_,B_,C_,D_,E_,F_,G_,H_,I_,J_,K_,L_,M_,N_,O_,P_,Q_,R_,S_,T_,U_,V_,W_,X_,Y_,Z_,$_,__,a0,b0,c0;var mC=vX(jAb,'IntermediateProcessorStrategy',37,IF,g0);hI(503,1,eAb,k0);_.sc=function l0(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;nI(b,'Inverted port preprocessing',1);j=a.c;i=new MJ(j,0);c=null;s=new GU;while(i.b<i.d.Y()){r=c;c=(Pi(i.b<i.d.Y()),Wv(i.d.sb(i.c=i.b++),16));for(m=new _7(s);m.a<m.c.c.length;){k=Wv(QJ(m),9);rX(k,r)}s.c=xv(UF,syb,1,0,4,1);for(n=new _7(c.a);n.a<n.c.c.length;){k=Wv(QJ(n),9);if(k.g!=(CX(),AX)){continue}if(!MM(Wv(rJ(k,(eM(),TL)),28))){continue}for(q=pX(k,(G$(),ajb),(sN(),ZM)).mb();q.G();){o=Wv(q.H(),7);h=o.b;g=Wv(FU(h,xv(dB,gAb,12,h.c.length,0,1)),47);for(e=0,f=g.length;e<f;++e){d=g[e];h0(a,o,d,s)}}for(p=pX(k,bjb,rN).mb();p.G();){o=Wv(p.H(),7);h=o.e;g=Wv(FU(h,xv(dB,gAb,12,h.c.length,0,1)),47);for(e=0,f=g.length;e<f;++e){d=g[e];i0(a,o,d,s)}}}}for(l=new _7(s);l.a<l.c.c.length;){k=Wv(QJ(l),9);rX(k,c)}pI(b)};var nC=vq(jAb,'InvertedPortProcessor',503);hI(481,1,eAb,m0);_.sc=function n0(a,b){nI(b,'Node and Port Label Placement and Node Sizing',1);GO((nW(),nW(),new wW(a,false)));pI(b)};var oC=vq(jAb,'LabelAndNodeSizeProcessor',481);hI(482,1,eAb,q0);_.sc=function r0(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;nI(b,'Label dummy insertions',1);m=new GU;k=Wv(rJ(a,(eM(),DL)),15).a;l=Wv(rJ(a,sL),59);for(o=new _7(a.b);o.a<o.c.c.length;){n=Wv(QJ(o),9);for(q=new _7(n.f);q.a<q.c.c.length;){p=Wv(QJ(q),7);for(h=new _7(p.e);h.a<h.c.c.length;){g=Wv(QJ(h),12);if(g.c.f!=g.d.f&&ol(g.b,o0)){s=Do(g.b.c.length);c=new uX(a);sX(c,(CX(),yX));sJ(c,(Rib(),uib),g);sJ(c,Hib,s);sJ(c,TL,(KM(),FM));sJ(c,qib,g.c);sJ(c,rib,g.d);m.c[m.c.length]=c;i1(g,c);t=Wv(rJ(g,dM),15).a;if(t<0){t=0;sJ(g,dM,new X6(t))}r=Math.floor(t/2);for(e=new _7(c.f);e.a<e.c.c.length;){d=Wv(QJ(e),7);d.i.b=r}f=c.j;i=new MJ(g.b,0);while(i.b<i.d.Y()){j=(Pi(i.b<i.d.Y()),Wv(i.d.sb(i.c=i.b++),33));if(gw(rJ(j,tL))===gw((EK(),AK))){if(l==(sK(),rK)||l==nK){f.a+=j.j.a+k;f.b=nd(f.b,j.j.b)}else{f.a=nd(f.a,j.j.a);f.b+=j.j.b+k}s.c[s.c.length]=j;fr(i)}}if(l==(sK(),rK)||l==nK){f.a-=k;f.b+=k+t}else{f.b+=k+t}}}}}xU(a.b,m);pI(b)};var o0;var qC=vq(jAb,'LabelDummyInserter',482);hI(483,1,_zb,s0);_.D=function t0(a){return gw(rJ(Wv(a,33),(eM(),tL)))===gw((EK(),AK))};var pC=vq(jAb,'LabelDummyInserter/1',483);hI(484,1,eAb,w0);_.sc=function x0(a,b){var c,d,e,f,g,h,i,j,k,l,m;nI(b,'Label dummy removal',1);e=Wv(rJ(a,(eM(),DL)),15).a;h=Wv(rJ(a,sL),59);for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);j=new MJ(f.a,0);while(j.b<j.d.Y()){i=(Pi(j.b<j.d.Y()),Wv(j.d.sb(j.c=j.b++),9));if(i.g==(CX(),yX)){k=Wv(rJ(i,(Rib(),uib)),12);m=Wv(rJ(k,dM),15).a;c=new II(i.i);gw(rJ(i,pib))===gw((kP(),hP))&&(c.b+=m+e);d=new HI(i.j.a,i.j.b-m-e);l=Wv(rJ(i,Hib),20);h==(sK(),rK)||h==nK?v0(l,c,e,d,gw(rJ(i,pib))!==gw(gP)):u0(l,c,e,d);xU(k.b,l);c1(i,false);fr(j)}}}pI(b)};var rC=vq(jAb,'LabelDummyRemover',484);hI(485,1,eAb,A0);_.sc=function B0(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;nI(b,'Label dummy switching',1);c=new GU;l=new GU;h=new GU;n=new GU;for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);for(k=new _7(f.a);k.a<k.c.c.length;){j=Wv(QJ(k),9);if(j.g==(CX(),yX)){c.c[c.c.length]=j;h.c=xv(UF,syb,1,0,4,1);n.c=xv(UF,syb,1,0,4,1);p=j;do{p=Wv(Dm(Uh(iX(p))),12).c.f;p.g==zX&&(h.c[h.c.length]=p,true)}while(p.g==zX);s=j;do{s=Wv(Dm(Uh(mX(s))),12).d.f;s.g==zX&&(n.c[n.c.length]=s,true)}while(s.g==zX);i=h.c.length;o=n.c.length;if(i>o+1){m=(i+o)/2|0;vU(l,new RJ(j,(gV(m,h.c.length),Wv(h.c[m],9))))}else if(o>i+1){m=((o-i)/2|0)-1;vU(l,new RJ(j,(gV(m,n.c.length),Wv(n.c[m],9))))}}}}for(r=new _7(l);r.a<r.c.c.length;){q=Wv(QJ(r),27);z0(Wv(q.a,9),Wv(q.b,9))}for(e=new _7(c);e.a<e.c.c.length;){d=Wv(QJ(e),9);y0(d,new C0,(Rib(),rib));y0(d,new E0,qib)}pI(b)};var uC=vq(jAb,'LabelDummySwitcher',485);hI(486,1,Tyb,C0);_.B=function D0(a){return Wv(Dm(Uh(iX(Wv(a,9)))),12).c.f};var sC=vq(jAb,'LabelDummySwitcher/lambda$0$Type',486);hI(487,1,Tyb,E0);_.B=function F0(a){return Wv(Dm(Uh(mX(Wv(a,9)))),12).d.f};var tC=vq(jAb,'LabelDummySwitcher/lambda$1$Type',487);hI(488,1,eAb,G0);_.sc=function H0(a,b){nI(b,'Label management',1);iw(rJ(a,(bK(),aK)));pI(b)};var vC=vq(jAb,'LabelManagementProcessor',488);hI(489,1,eAb,S0);_.sc=function T0(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;i=Wv(rJ(a,(Mjb(),ojb)),115);nI(b,'Label side selection ('+i+')',1);j=(_b(a),new Vh(a));switch(i.e){case 0:L0(j);break;case 1:K0(j);break;case 2:O0(j);break;case 3:N0(j);break;case 4:R0(j);}for(h=new _7(a.c);h.a<h.c.c.length;){g=Wv(QJ(h),16);for(d=new _7(g.a);d.a<d.c.c.length;){c=Wv(QJ(d),9);for(n=new _7(c.f);n.a<n.c.c.length;){l=Wv(QJ(n),7);for(f=new _7(l.c);f.a<f.c.c.length;){e=Wv(QJ(f),33);gw(rJ(e,(Rib(),pib)))===gw((kP(),jP))&&sJ(e,pib,I0)}}if(c.g==(CX(),yX)){if(gw(rJ(c,(Rib(),pib)))===gw((kP(),gP))){k=Wv(rJ(c,uib),12);p=Wv(rJ(k,(eM(),dM)),15).a;o=c.j.b-Math.ceil(p/2);for(m=new _7(c.f);m.a<m.c.c.length;){l=Wv(QJ(m),7);l.i.b=o}}}}}pI(b)};var I0;var xC=vq(jAb,'LabelSideSelector',489);hI(490,1,fyb,V0);_.$b=function W0(a,b){return U0(Wv(a,7),Wv(b,7))};var wC=vq(jAb,'LabelSideSelector/1',490);hI(495,1,eAb,Z0);_.sc=function $0(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;nI(b,'Layer constraint application',1);j=a.c;if(j.c.length==0){pI(b);return}f=(gV(0,j.c.length),Wv(j.c[0],16));g=Wv(yU(j,j.c.length-1),16);s=new sY(a);t=new sY(a);for(i=new _7(j);i.a<i.c.c.length;){h=Wv(QJ(i),16);p=Wv(FU(h.a,xv(qB,Nzb,9,h.a.c.length,0,1)),51);for(m=0,o=p.length;m<o;++m){l=p[m];c=Wv(rJ(l,(Mjb(),vjb)),85);switch(c.e){case 1:rX(l,f);X0(l,false);break;case 2:rX(l,s);X0(l,true);break;case 3:rX(l,g);Y0(l);break;case 4:rX(l,t);Y0(l);}}}if(j.c.length>=2){k=true;q=(gV(1,j.c.length),Wv(j.c[1],16));for(n=new _7(f.a);n.a<n.c.c.length;){l=Wv(QJ(n),9);if(gw(rJ(l,(Mjb(),vjb)))===gw((Xib(),Wib))){k=false;break}for(e=Uh(mX(l));Cm(e);){d=Wv(Dm(e),12);if(d.d.f.d==q){k=false;break}}if(!k){break}}if(k){p=Wv(FU(f.a,xv(qB,Nzb,9,f.a.c.length,0,1)),51);for(m=0,o=p.length;m<o;++m){l=p[m];rX(l,q)}BU(j,f)}}if(j.c.length>=2){k=true;r=Wv(yU(j,j.c.length-2),16);for(n=new _7(g.a);n.a<n.c.c.length;){l=Wv(QJ(n),9);if(gw(rJ(l,(Mjb(),vjb)))===gw((Xib(),Wib))){k=false;break}for(e=Uh(iX(l));Cm(e);){d=Wv(Dm(e),12);if(d.c.f.d==r){k=false;break}}if(!k){break}}if(k){p=Wv(FU(g.a,xv(qB,Nzb,9,g.a.c.length,0,1)),51);for(m=0,o=p.length;m<o;++m){l=p[m];rX(l,r)}BU(j,g)}}j.c.length==1&&(gV(0,j.c.length),Wv(j.c[0],16)).a.c.length==0&&AU(j,0);s.a.c.length==0||(fV(0,j.c.length),ch(j.c,0,s));t.a.c.length==0||(j.c[j.c.length]=t,true);pI(b)};var yC=vq(jAb,'LayerConstraintProcessor',495);hI(496,1,eAb,_0);_.sc=function a1(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;nI(b,'Layer size calculation',1);j=rAb;i=4.9E-324;for(g=new _7(a.c);g.a<g.c.c.length;){f=Wv(QJ(g),16);h=f.c;h.a=0;h.b=0;if(f.a.c.length==0){continue}for(l=new _7(f.a);l.a<l.c.c.length;){k=Wv(QJ(l),9);n=k.j;m=k.e;h.a=nd(h.a,n.a+m.b+m.c)}d=Wv(yU(f.a,0),9);o=d.i.b-d.e.d;e=Wv(yU(f.a,f.a.c.length-1),9);c=e.i.b+e.j.b+e.e.a;h.b=c-o;j=j<o?j:o;i=i>c?i:c}a.e.b=i-j;a.d.b-=j;pI(b)};var zC=vq(jAb,'LayerSizeAndGraphHeightCalculator',496);hI(497,1,eAb,b1);_.sc=function d1(a,b){var c,d,e,f,g;nI(b,'Edge joining',1);c=jc(kc(Xv(rJ(a,(Mjb(),gjb)))));for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);g=new MJ(d.a,0);while(g.b<g.d.Y()){f=(Pi(g.b<g.d.Y()),Wv(g.d.sb(g.c=g.b++),9));if(f.g==(CX(),zX)){c1(f,c);fr(g)}}}pI(b)};var AC=vq(jAb,'LongEdgeJoiner',497);hI(498,1,eAb,e1);_.sc=function g1(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;nI(b,'Edge splitting',1);if(a.c.c.length<=2){pI(b);return}f=new MJ(a.c,0);g=(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),16));while(f.b<f.d.Y()){e=g;g=(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),16));for(i=new _7(e.a);i.a<i.c.c.length;){h=Wv(QJ(i),9);for(k=new _7(h.f);k.a<k.c.c.length;){j=Wv(QJ(k),7);for(d=new _7(j.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);m=c.d;l=m.f.d;l!=e&&l!=g&&i1(c,(n=new uX(a),sX(n,(CX(),zX)),sJ(n,(Rib(),uib),c),sJ(n,(eM(),TL),(KM(),FM)),rX(n,g),n))}}}}pI(b)};var BC=vq(jAb,'LongEdgeSplitter',498);hI(499,1,eAb,k1);_.sc=function l1(a,b){var c,d,e,f,g,h,i,j;nI(b,'Node margin calculation',1);c=new rP((nW(),new wW(a,true)));oP(c);h=Wv(rJ(a,(Rib(),Jib)),15).a;for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);for(g=new _7(d.a);g.a<g.c.c.length;){f=Wv(QJ(g),9);j1(f,h);i=f.e;j=Wv(rJ(f,Oib),65);i.b=nd(i.b,j.b);i.c=nd(i.c,j.c);i.a=nd(i.a,j.a);i.d=nd(i.d,j.d)}}pI(b)};var CC=vq(jAb,zzb,499);hI(491,1,eAb,q1);_.sc=function t1(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Node promotion heuristic',1);this.g=a;m1(this);this.q=Wv(rJ(a,(Mjb(),Bjb)),109);j=Wv(rJ(this.g,Cjb),24).a;e=new u1;switch(this.q.e){case 2:case 1:o1(this,e);break;case 3:this.q=(I1(),H1);o1(this,e);h=0;for(g=new _7(this.a);g.a<g.c.c.length;){f=Wv(QJ(g),24);h=sd(h,f.a)}if(h>this.j){this.q=B1;o1(this,e)}break;case 4:this.q=(I1(),H1);o1(this,e);i=0;for(d=new _7(this.b);d.a<d.c.c.length;){c=Yv(QJ(d));i=nd(i,(So(c),c))}if(i>this.k){this.q=E1;o1(this,e)}break;case 6:l=hw(hh(this.f.length*j/100));o1(this,new w1(l));break;case 5:k=hw(hh(this.d*j/100));o1(this,new y1(k));break;default:o1(this,e);}p1(this,a);pI(b)};_.d=0;_.e=0;_.i=0;_.j=0;_.k=0;_.n=0;var HC=vq(jAb,'NodePromotion',491);hI(492,1,Tyb,u1);_.B=function v1(a){return Xo(),Xo(),wkb};var DC=vq(jAb,'NodePromotion/lambda$0$Type',492);hI(493,1,Tyb,w1);_.B=function x1(a){return r1(this.a,a)};_.a=0;var EC=vq(jAb,'NodePromotion/lambda$1$Type',493);hI(494,1,Tyb,y1);_.B=function z1(a){return s1(this.a,a)};_.a=0;var FC=vq(jAb,'NodePromotion/lambda$2$Type',494);hI(109,17,{109:1,3:1,23:1,17:1},J1);var A1,B1,C1,D1,E1,F1,G1,H1;var GC=vX(jAb,'NodePromotionStrategy',109,IF,K1);var L1;hI(500,1,eAb,R1);_.sc=function S1(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;nI(b,sAb,1);n=Wv(rJ(a,(eM(),uL)),122);for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);i=Wv(FU(d.a,xv(qB,Nzb,9,d.a.c.length,0,1)),51);for(g=0,h=i.length;g<h;++g){f=i[g];if(f.g!=(CX(),BX)){continue}if(n==(NK(),LK)){for(k=new _7(f.f);k.a<k.c.c.length;){j=Wv(QJ(k),7);j.b.c.length==0||P1(j);j.e.c.length==0||Q1(j)}}else if(aw(rJ(f,(Rib(),uib)),12)){p=Wv(rJ(f,uib),12);q=Wv(nX(f,(sN(),rN)).mb().H(),7);r=Wv(nX(f,ZM).mb().H(),7);s=Wv(rJ(q,uib),7);t=Wv(rJ(r,uib),7);dW(p,t);eW(p,s);u=new II(r.f.i);u.a=MI(Bv(tv(qz,1),Fzb,10,0,[t.f.i,t.i,t.a])).a;QI(p.a,u);u=new II(q.f.i);u.a=MI(Bv(tv(qz,1),Fzb,10,0,[s.f.i,s.i,s.a])).a;QI(p.a,u)}else{if(f.f.c.length>=2){o=true;l=new _7(f.f);c=Wv(QJ(l),7);while(l.a<l.c.c.length){m=c;c=Wv(QJ(l),7);if(!rb(rJ(m,uib),rJ(c,uib))){o=false;break}}}else{o=false}for(k=new _7(f.f);k.a<k.c.c.length;){j=Wv(QJ(k),7);j.b.c.length==0||N1(j,o);j.e.c.length==0||O1(j,o)}}rX(f,null)}}pI(b)};var IC=vq(jAb,'NorthSouthPortPostprocessor',500);hI(501,1,eAb,X1);_.sc=function Y1(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;nI(b,sAb,1);o=new GU;u=new GU;for(j=new _7(a.c);j.a<j.c.c.length;){i=Wv(QJ(j),16);q=-1;n=Wv(FU(i.a,xv(qB,Nzb,9,i.a.c.length,0,1)),51);for(l=0,m=n.length;l<m;++l){k=n[l];++q;if(!(k.g==(CX(),AX)&&MM(Wv(rJ(k,(eM(),TL)),28)))){continue}LM(Wv(rJ(k,(eM(),TL)),28))||W1(k);sJ(k,(Rib(),nib),k);o.c=xv(UF,syb,1,0,4,1);u.c=xv(UF,syb,1,0,4,1);c=new GU;t=new aJ;ml(t,nX(k,(sN(),$M)));U1(a,t,o,u,c);h=q;for(f=new _7(o);f.a<f.c.c.length;){d=Wv(QJ(f),9);qX(d,h,i);++q;sJ(d,nib,k);g=Wv(yU(d.f,0),7);p=Wv(rJ(g,uib),7);jc(kc(Xv(rJ(p,(Mjb(),Djb)))))||Wv(rJ(d,oib),20).ib(k)}_I(t);for(s=nX(k,pN).mb();s.G();){r=Wv(s.H(),7);TI(t,r,t.a,t.a.a)}U1(a,t,u,null,c);for(e=new _7(u);e.a<e.c.c.length;){d=Wv(QJ(e),9);qX(d,++q,i);sJ(d,nib,k);g=Wv(yU(d.f,0),7);p=Wv(rJ(g,uib),7);jc(kc(Xv(rJ(p,(Mjb(),Djb)))))||Wv(rJ(k,oib),20).ib(d)}c.c.length==0||sJ(k,Shb,c)}}pI(b)};var KC=vq(jAb,'NorthSouthPortPreprocessor',501);hI(502,1,fyb,Z1);_.$b=function $1(a,b){var c,d;return c=a.g,d=b.g,c!=d?c.e-d.e:a.k==b.k?0:c==(sN(),$M)?a.k-b.k:b.k-a.k};var JC=vq(jAb,'NorthSouthPortPreprocessor/lambda$0$Type',502);hI(504,1,eAb,_1);_.sc=function a2(a,b){var c,d,e,f,g,h;nI(b,'Removing partition constraint edges',1);for(d=new _7(a.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);for(f=new _7(c.a);f.a<f.c.c.length;){e=Wv(QJ(f),9);h=new _7(e.f);while(h.a<h.c.c.length){g=Wv(QJ(h),7);jc(kc(Xv(rJ(g,(Rib(),Aib)))))&&Ip(h)}}}pI(b)};var LC=vq(jAb,'PartitionPostprocessor',504);hI(505,1,eAb,c2);_.sc=function d2(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Adding partition constraint edges',1);this.a=new GU;for(h=new _7(a.b);h.a<h.c.c.length;){f=Wv(QJ(h),9);e=Wv(rJ(f,(eM(),ML)),24);b2(this,e.a).ib(f)}for(d=0;d<this.a.c.length-1;d++){for(g=Wv(yU(this.a,d),20).mb();g.G();){f=Wv(g.H(),9);k=new RX;PX(k,f);QX(k,(sN(),ZM));sJ(k,(Rib(),Aib),(Xo(),Xo(),wkb));for(j=Wv(yU(this.a,d+1),20).mb();j.G();){i=Wv(j.H(),9);l=new RX;PX(l,i);QX(l,rN);sJ(l,Aib,(null,wkb));c=new hW;sJ(c,Aib,(null,wkb));sJ(c,(eM(),ZL),Elb(20));dW(c,k);eW(c,l)}}}this.a=null;pI(b)};var MC=vq(jAb,'PartitionPreprocessor',505);hI(506,1,eAb,f2);_.sc=function g2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;nI(b,'Port distribution',1);c=jW(a);n=0;k=0;for(e=0,g=c.length;e<g;++e){d=c[e];for(i=0,j=d.length;i<j;++i){h=d[i];h.k=k++;for(m=new _7(h.f);m.a<m.c.c.length;){l=Wv(QJ(m),7);l.k=n++}}}for(f=new _7(a.c);f.a<f.c.c.length;){d=Wv(QJ(f),16);e2(d)}p=Wv(rJ(a,(Rib(),Gib)),154);o=wvb(p,1)!=0?new P9(xv(lw,tAb,26,n,12,1)):new M9(xv(lw,tAb,26,n,12,1));Z8(o,c);pI(b)};var NC=vq(jAb,'PortDistributionProcessor',506);hI(507,1,eAb,h2);_.sc=function i2(a,b){var c,d,e,f,g;nI(b,'Port order processing',1);g=new k2;for(d=new _7(a.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);for(f=new _7(c.a);f.a<f.c.c.length;){e=Wv(QJ(f),9);MM(Wv(rJ(e,(eM(),TL)),28))&&JR(e.f,g)}}pI(b)};var PC=vq(jAb,'PortListSorter',507);hI(508,1,fyb,k2);_.$b=function l2(a,b){return j2(Wv(a,7),Wv(b,7))};var OC=vq(jAb,'PortListSorter/PortComparator',508);hI(509,1,eAb,n2);_.sc=function o2(a,b){var c,d,e,f,g;nI(b,'Port side processing',1);for(g=new _7(a.b);g.a<g.c.c.length;){e=Wv(QJ(g),9);m2(e)}for(d=new _7(a.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);for(f=new _7(c.a);f.a<f.c.c.length;){e=Wv(QJ(f),9);m2(e)}}pI(b)};var QC=vq(jAb,'PortSideProcessor',509);hI(510,1,eAb,q2);_.sc=function r2(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Restoring reversed edges',1);for(h=new _7(a.c);h.a<h.c.c.length;){g=Wv(QJ(h),16);for(j=new _7(g.a);j.a<j.c.c.length;){i=Wv(QJ(j),9);for(l=new _7(i.f);l.a<l.c.c.length;){k=Wv(QJ(l),7);f=Wv(FU(k.e,xv(dB,gAb,12,k.e.c.length,0,1)),47);for(d=0,e=f.length;d<e;++d){c=f[d];jc(kc(Xv(rJ(c,(Rib(),Iib)))))&&cW(c,false)}}}}pI(b)};var RC=vq(jAb,'ReversedEdgeRestorer',510);hI(511,1,eAb,x2);_.sc=function y2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J;nI(b,'Sausage Folding',1);this.b=Wv(rJ(a,(Rib(),Jib)),15).a;this.a=this.b*Wv(rJ(a,(Mjb(),Ejb)),15).a;o=t2(this,a);n=a.c.c.length;p=u2(this,a);G=n*p;e=Wv(rJ(a,(eM(),sL)),59);e==(sK(),oK)||e==pK||e==qK?(d=Wv(rJ(a,Rhb),15).a):(d=1/Wv(rJ(a,Rhb),15).a);c=G/o;if(d>c){pI(b);return}D=0;f=rAb;do{++D;c=G/D/(o*D);m=f;f=c-d<=0?0-(c-d):c-d}while(c>d);m<f&&--D;B=n/(1>D?1:D)|0;j=B;u=B;J=true;while(j<n){l=Wv(yU(a.c,j),16);C=true;s=null;t=null;K:for(I=new _7(l.a);I.a<I.c.c.length;){H=Wv(QJ(I),9);for(h=Uh(iX(H));Cm(h);){g=Wv(Dm(h),12);if(!!s&&s!=H){C=false;break K}s=H;F=g.c.f;if(!!t&&t!=F){C=false;break K}t=F}}if(J&&C){u=0;J=false}if(j!=u){v=Wv(yU(a.c,u),16);for(r=new _7(Ao(l.a));r.a<r.c.c.length;){q=Wv(QJ(r),9);qX(q,v.a.c.length,v);if(u==0){for(h=new _7(Ao(iX(q)));h.a<h.c.c.length;){g=Wv(QJ(h),12);cW(g,true);sJ(a,cib,(Xo(),Xo(),wkb));v2(a,g);i=new GU;s2(a,g.c,g,i);for(A=new _7(i);A.a<A.c.c.length;){w=Wv(QJ(A),9);qX(w,v.a.c.length-1,v)}}}}}u>=B&&(J=true);++u;++j}k=new MJ(a.c,0);while(k.b<k.d.Y()){l=(Pi(k.b<k.d.Y()),Wv(k.d.sb(k.c=k.b++),16));l.a.c.length==0&&fr(k)}pI(b)};_.a=0;_.b=0;var SC=vq(jAb,'SausageFolding',511);hI(512,1,eAb,A2);_.sc=function B2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;nI(b,'Self-loop processing',1);c=new GU;for(k=new _7(a.c);k.a<k.c.c.length;){j=Wv(QJ(k),16);c.c=xv(UF,syb,1,0,4,1);for(m=new _7(j.a);m.a<m.c.c.length;){l=Wv(QJ(m),9);for(o=new _7(l.f);o.a<o.c.c.length;){n=Wv(QJ(o),7);i=Wv(FU(n.e,xv(dB,gAb,12,n.e.c.length,0,1)),47);for(g=0,h=i.length;g<h;++g){f=i[g];if(f.c.f!=f.d.f){continue}p=f.c;r=f.d;q=p.g;s=r.g;(q==(sN(),$M)||q==pN)&&s==rN?cW(f,false):q==pN&&s==$M?cW(f,false):q==ZM&&s!=ZM&&cW(f,false);q==ZM&&s==rN?vU(c,z2(a,f,r,p)):q==rN&&s==ZM&&vU(c,z2(a,f,p,r))}}}for(e=new _7(c);e.a<e.c.c.length;){d=Wv(QJ(e),9);rX(d,j)}}pI(b)};var TC=vq(jAb,'SelfLoopProcessor',512);hI(513,1,eAb,H2);_.sc=function I2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;nI(b,'Spline SelfLoop positioning',1);k=Wv(rJ(a,(Mjb(),Jjb)),153);for(j=new _7(a.c);j.a<j.c.c.length;){i=Wv(QJ(j),16);for(m=new _7(i.a);m.a<m.c.c.length;){l=Wv(QJ(m),9);g=Wv(rJ(l,(Rib(),Nib)),20);h=new GU;for(e=g.mb();e.G();){c=Wv(e.H(),75);ceb(c);if((n=pr(c.g),Ue(n,c.i),n).a.Y()==0){h.c[h.c.length]=c}else{G2(c);c.g.a.Y()==0||C2(c)}}switch(k.e){case 0:o=new Q2(l);P2(o);N2(o,h);break;case 2:for(f=new _7(h);f.a<f.c.c.length;){c=Wv(QJ(f),75);aeb(c,(Ieb(),meb),true)}break;case 1:for(d=new _7(h);d.a<d.c.c.length;){c=Wv(QJ(d),75);aeb(c,(Ieb(),meb),true)}}switch(k.e){case 0:case 1:F2(g);break;case 2:E2(g);}}}pI(b)};var ZC=vq(jAb,'SplineSelfLoopPositioner',513);hI(515,1,{},Q2);var WC=vq(jAb,'SplineSelfLoopPositioner/DistributedLoopSidesCalculator',515);hI(516,1,{},$2);_.d=true;var VC=vq(jAb,'SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides',516);hI(116,1,{116:1},_2);_.a=0;_.b=0;var UC=vq(jAb,'SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides/SizeOfSide',116);hI(318,1,{},g3);var a3;var XC=vq(jAb,'SplineSelfLoopPositioner/PortReadder',318);hI(514,1,fyb,i3);_.$b=function j3(a,b){return h3(Wv(a,75),Wv(b,75))};var YC=vq(jAb,'SplineSelfLoopPositioner/TextWidthComparator',514);hI(517,1,eAb,l3);_.sc=function o3(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;nI(b,'Spline SelfLoop pre-processing.',1);k=new Qi;for(m=new _7(a.b);m.a<m.c.c.length;){l=Wv(QJ(m),9);k3(l);k.a.Q();for(h=Uh(mX(l));Cm(h);){f=Wv(Dm(h),12);bW(f)&&(n=k.a.db(f,k),n==null)}for(g=(o=(new e7(k.a)).a.bb().mb(),new r7(o));g.a.G();){f=(i=Wv(g.a.H(),21),Wv(i.yb(),12));r=f.c.g;s=f.d.g;(r==(sN(),$M)&&(s==ZM||s==pN)||r==ZM&&s==pN||r==pN&&s==rN||r==rN&&(s==$M||s==ZM))&&cW(f,false)}c=n3(k,l);sJ(l,(Rib(),Nib),c);if(!LM(Wv(rJ(l,(eM(),TL)),28))){q=new Lb;for(e=new _7(c);e.a<e.c.c.length;){d=Wv(QJ(e),75);Ue(q,lu(d));Ue(q,d.i)}j=new MJ(l.f,0);while(j.b<j.d.Y()){p=(Pi(j.b<j.d.Y()),Wv(j.d.sb(j.c=j.b++),7));q.a.R(p)&&fr(j)}}}pI(b)};var $C=vq(jAb,'SplineSelfLoopPreProcessor',517);hI(518,1,eAb,u3);_.sc=function v3(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I;nI(b,'Spline SelfLoop routing',1);D=new I3;for(m=new _7(a.c);m.a<m.c.c.length;){l=Wv(QJ(m),16);for(s=new _7(l.a);s.a<s.c.c.length;){r=Wv(QJ(s),9);u=r.f;n=new Qi;for(d=Wv(rJ(r,(Rib(),Nib)),20).mb();d.G();){c=Wv(d.H(),75);Ue(n,c.a)}v=new GU;for(g=(t=(new e7(n.a)).a.bb().mb(),new r7(t));g.a.G();){f=(h=Wv(g.a.H(),21),Wv(h.yb(),12));B=f.c;G=f.d;k=new _7(f.c.f.f);A=0;F=0;i=0;j=0;while(i<2){e=Wv(QJ(k),7);if(B==e){A=j;++i}if(G==e){F=j;++i}++j}w=Wv(rJ(f,Mib),60);C=w==(Ieb(),neb)||w==keb?u.c.length-(F-A<0?-(F-A):F-A)+1:F-A<0?-(F-A):F-A;vU(v,new G3(A,F,C,w,f))}JR(v,D);p=new Lb;o=new _7(v);if(o.a<o.c.c.length){q=t3(Wv(QJ(o),195),p);while(o.a<o.c.c.length){rZ(q,t3(Wv(QJ(o),195),p))}sJ(r,Oib,(H=new DP,I=new Bfb(r.j.a,r.j.b),H.d=nd(0,I.d-q.d),H.b=nd(0,I.b-q.b),H.a=nd(0,q.a-I.a),H.c=nd(0,q.c-I.c),H))}}}pI(b)};var fD=vq(jAb,'SplineSelfLoopRouter',518);hI(91,1,{91:1},w3);_.w=function x3(){return this.b+': '+this.d+' -> '+this.a+' '+zc(this.c)};_.a=0;_.b=0;_.d=0;var cD=vq(jAb,'SplineSelfLoopRouter/LoopPadding',91);hI(521,1,_zb,z3);_.D=function A3(a){return y3(this,Wv(a,91))};_.a=0;_.c=0;var _C=vq(jAb,'SplineSelfLoopRouter/LoopPadding/EnclosingPredicate',521);hI(520,1,fyb,C3);_.$b=function D3(a,b){return B3(Wv(a,91),Wv(b,91))};var aD=vq(jAb,'SplineSelfLoopRouter/LoopPadding/MarginComparator',520);hI(196,1,_zb,E3);_.D=function F3(a){return Wv(a,91).c==this.a};var bD=vq(jAb,'SplineSelfLoopRouter/LoopPadding/PortSidePredicate',196);hI(195,1,{195:1},G3);_.c=0;_.d=0;_.e=0;var eD=vq(jAb,'SplineSelfLoopRouter/SelfLoopEdge',195);hI(519,1,fyb,I3);_.$b=function J3(a,b){return H3(Wv(a,195),Wv(b,195))};var dD=vq(jAb,'SplineSelfLoopRouter/SelfLoopEdge/StepSizeComparator',519);hI(82,25,{25:1,82:1},L3);_.vc=function M3(){var a,b,c,d;for(b=WI(this.a,0);b.b!=b.d.c;){a=Wv(tS(b),10);a.a=this.j.d}for(d=WI(this.c,0);d.b!=d.d.c;){c=Wv(tS(d),10);c.a=this.j.d}};_.wc=function N3(){return this.b};_.xc=function O3(){return this.e};_.w=function P3(){return Ze(new e7(this.d.a))};_.b=0;_.e=0;var gD=vq(vAb,'CLEdge',82);hI(93,25,{25:1,93:1},Q3);_.vc=function R3(){this.b.i.a=this.j.d+this.b.e.b};_.wc=function S3(){if(this.b.g==(CX(),xX)){return 0}return this.a};_.xc=function T3(){if(this.b.g==(CX(),xX)){return 0}return this.c};_.w=function U3(){return xb(rJ(this.b,(Rib(),uib)))};_.a=0;_.c=0;var hD=vq(vAb,'CLNode',93);hI(175,17,{175:1,3:1,23:1,17:1},Y3);var V3,W3;var iD=vX(vAb,'ConstraintCalculationStrategy',175,IF,Z3);var $3;hI(125,17,{125:1,3:1,23:1,17:1},h4);var a4,b4,c4,d4,e4,f4;var jD=vX(vAb,'GraphCompactionStrategy',125,IF,i4);var j4;hI(455,1,eAb,o4);_.sc=function p4(a,b){var c,d,e;d=Wv(rJ(a,(Mjb(),Fjb)),125);if(d==(g4(),e4)){return}nI(b,'Horizontal Compaction',1);this.a=a;e=new Q4;c=new rS(P4(e,a));pS(c,this.b);switch(Wv(rJ(a,Gjb),175).e){case 1:nS(c,l4);break;default:nS(c,(aS(),$R));}switch(d.e){case 1:hS(c);break;case 2:hS(gS(c,(sK(),pK)));break;case 3:hS(bS(gS(hS(c),(sK(),pK))));break;case 4:hS(bS(oS(gS(hS(c),(sK(),pK)),new H4)));break;case 5:hS(mS(c,m4));}gS(c,(sK(),oK));c.e=true;L4(e);pI(b)};var l4,m4;var sD=vq(vAb,'HorizontalGraphCompactor',455);hI(462,1,{},q4);_.tc=function r4(a,b){var c,d,e;if(aw(a,82)&&aw(b,82)&&!sr(or(Wv(a,82).d,Wv(b,82).d))){return 0}c=null;aw(a,93)&&(c=Wv(a,93).b);d=null;aw(b,93)&&(d=Wv(b,93).b);if(!!c&&c.g==(CX(),xX)||!!d&&d.g==(CX(),xX)){return 0}e=Wv(rJ(this.a.a,(Rib(),Kib)),134);return Nj(e,c?c.g:(CX(),zX),d?d.g:(CX(),zX))};_.uc=function s4(a,b){if(aw(a,82)&&aw(b,82)&&!sr(or(Wv(a,82).d,Wv(b,82).d))){return 1}return vd(a.xc(),b.xc())};var kD=vq(vAb,'HorizontalGraphCompactor/1',462);hI(456,317,{},u4);_.Dc=function v4(a){var b,c,d;this.b=a;ES(this,new z4,this.a);ES(this,new B4,this.a);b=Uzb;for(d=new _7(this.b.a.b);d.a<d.c.c.length;){c=Wv(QJ(d),25);if(aw(c,93)&&Wv(c,93).b.g==(CX(),xX)){continue}b=vd(b,kc(w4(this.a,c)))}b==Uzb&&(b=0);ES(this,new D4,new F4(b))};var qD=vq(vAb,'HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation',456);hI(457,1,Tyb,x4);_.B=function y4(a){return w4(this,a)};var lD=vq(vAb,'HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$0$Type',457);hI(458,1,_zb,z4);_.D=function A4(a){return aw(Wv(a,25),82)};var mD=vq(vAb,'HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$1$Type',458);hI(459,1,_zb,B4);_.D=function C4(a){return aw(Wv(a,25),93)};var nD=vq(vAb,'HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$2$Type',459);hI(460,1,_zb,D4);_.D=function E4(a){return true};var oD=vq(vAb,'HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$3$Type',460);hI(461,1,Tyb,F4);_.B=function G4(a){return this.a};_.a=0;var pD=vq(vAb,'HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$4$Type',461);hI(463,1,Tyb,H4);_.B=function I4(a){return n4(),Xo(),uS(Wv(Wv(a,27).a,25).n,Wv(Wv(a,27).b,59))?vkb:wkb};var rD=vq(vAb,'HorizontalGraphCompactor/lambda$0$Type',463);hI(553,1,{},Q4);_.c=false;var tD=vq(vAb,'LGraphToCGraphTransformer',553);hI(552,1,{},U4);_.Cc=function V4(a){var b,c,d,e,f;this.a=a;this.d=new l7;this.c=xv(UD,syb,61,this.a.a.a.c.length,0,1);this.b=0;for(c=new _7(this.a.a.a);c.a<c.c.c.length;){b=Wv(QJ(c),78);b.d=this.b;f=x7(z7(y7(new A7,this.b),b),this.d);this.c[this.b]=f;++this.b}T4(this);S4(this);R4(this);F7(W7(this.d),new sI);for(e=new _7(this.a.a.b);e.a<e.c.c.length;){d=Wv(QJ(e),25);d.r=this.c[d.f.d].e+d.g.a;d.j.d=d.r}};_.b=0;var uD=vq(vAb,'NetworkSimplexCompaction',552);hI(142,1,{142:1,23:1},X4);_.F=function Y4(a){return W4(this,Wv(a,142))};_.c=false;_.d=true;_.i=0;_.j=0;_.k=0;_.n=0;var vD=vq(vAb,'VerticalSegment',142);hI(586,1,{},_4);_.e=false;var wD=vq(wAb,'AllCrossingsCounter',586);hI(339,1,{});var xD=vq(wAb,'BetweenLayerEdgeAllCrossingsCounter',339);hI(613,1,{},k5);_.c=0;_.e=0;_.i=0;var AD=vq(wAb,'BetweenLayerEdgeTwoNodeCrossingsCounter',613);hI(284,1,{284:1},r5);_.w=function s5(){return'AdjacencyList [node='+this.d+', adjacencies= '+this.a+']'};_.b=0;_.c=0;_.f=0;var zD=vq(wAb,'BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList',284);hI(128,1,{128:1,23:1},v5);_.F=function w5(a){return t5(this,Wv(a,128))};_.w=function x5(){return'Adjacency [position='+this.c+', cardinality='+this.a+', currentCardinality='+this.b+']'};_.a=0;_.b=0;_.c=0;var yD=vq(wAb,'BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList/Adjacency',128);hI(610,339,{},y5);_.Gc=function z5(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb;eb=0;for(I=0,L=a.length;I<L;++I){G=a[I];if(LM(Wv(rJ(G,(eM(),TL)),28))){for(U=new _7(G.f);U.a<U.c.c.length;){T=Wv(QJ(U),7);W=0;for(g=new _7(T.e);g.a<g.c.c.length;){f=Wv(QJ(g),12);G.d!=f.d.f.d&&++W}W>0&&(this.a[T.k]=eb++)}}else{N=0;for(U=new _7(G.f);U.a<U.c.c.length;){T=Wv(QJ(U),7);for(g=new _7(T.e);g.a<g.c.c.length;){f=Wv(QJ(g),12);G.d!=f.d.f.d&&++N}this.a[T.k]=eb}N>0&&++eb}}jb=0;for(J=0,M=b.length;J<M;++J){G=b[J];if(LM(Wv(rJ(G,(eM(),TL)),28))){O=0;for(U=new _7(G.f);U.a<U.c.c.length;){T=Wv(QJ(U),7);if(T.g==(sN(),$M)){for(g=new _7(T.b);g.a<g.c.c.length;){f=Wv(QJ(g),12);if(G.d!=f.c.f.d){++O;break}}}else{break}}Q=0;X=new MJ(G.f,G.f.c.length);while(X.b>0){T=(Pi(X.b>0),Wv(X.a.sb(X.c=--X.b),7));W=0;for(g=new _7(T.b);g.a<g.c.c.length;){f=Wv(QJ(g),12);G.d!=f.c.f.d&&++W}if(W>0){if(T.g==(sN(),$M)){this.a[T.k]=jb;++jb}else{this.a[T.k]=jb+O+Q;++Q}}}jb+=Q}else{N=0;for(U=new _7(G.f);U.a<U.c.c.length;){T=Wv(QJ(U),7);for(g=new _7(T.b);g.a<g.c.c.length;){f=Wv(QJ(g),12);G.d!=f.c.f.d&&++N}this.a[T.k]=jb}N>0&&++jb}}V=new K9;p=new Lb;for(H=0,K=a.length;H<K;++H){G=a[H];for(hb=new _7(G.f);hb.a<hb.c.c.length;){gb=Wv(QJ(hb),7);for(g=new _7(gb.e);g.a<g.c.c.length;){f=Wv(QJ(g),12);lb=f.d;if(G.d!=lb.f.d){fb=Wv(re(Ju(V.d,gb)),204);kb=Wv(re(Ju(V.d,lb)),204);if(!fb&&!kb){o=new B5;p.a.db(o,p);QI(o.a,f);QI(o.e,gb);Ltb(V.d,gb,o);QI(o.e,lb);Ltb(V.d,lb,o)}else if(!fb){QI(kb.a,f);QI(kb.e,gb);Ltb(V.d,gb,kb)}else if(!kb){QI(fb.a,f);QI(fb.e,lb);Ltb(V.d,lb,fb)}else if(fb==kb){QI(fb.a,f)}else{QI(fb.a,f);for(S=WI(kb.e,0);S.b!=S.d.c;){R=Wv(tS(S),7);Ltb(V.d,R,fb)}Ue(fb.a,kb.a);Ue(fb.e,kb.e);p.a.eb(kb)!=null}}}}}q=Wv(Ye(p,xv(CD,{675:1,3:1,5:1,6:1},204,p.a.Y(),0,1)),675);F=a[0].d;db=b[0].d;for(m=0,n=q.length;m<n;++m){l=q[m];l.f=eb;l.g=jb;for(U=WI(l.e,0);U.b!=U.d.c;){T=Wv(tS(U),7);Y=this.a[T.k];if(T.f.d==F){if(Y<l.f){l.f=Y;l.b=Sk(T)}Y>l.c&&(l.c=Y)}else if(T.f.d==db){Y<l.g&&(l.g=Y);Y>l.d&&(l.d=Y)}}}ipb(q,0,q.length,(zg(),zg(),gsb));ib=xv(mw,Yyb,26,q.length,12,1);c=xv(mw,Yyb,26,jb+1,12,1);for(s=0;s<q.length;s++){ib[s]=q[s].g;c[ib[s]]=1}e=0;for(t=0;t<c.length;t++){c[t]==1?(c[t]=e):--e}Z=0;for(u=0;u<ib.length;u++){ib[u]+=c[ib[u]];Z=sd(Z,ib[u]+1)}k=1;while(k<Z){k*=2}nb=2*k-1;k-=1;mb=xv(mw,Yyb,26,nb,12,1);d=0;for(i=0,j=ib.length;i<j;++i){h=ib[i];w=h+k;++mb[w];while(w>0){w%2>0&&(d+=mb[w+1]);w=(w-1)/2|0;++mb[w]}}D=xv(BD,syb,158,q.length*2,0,1);for(v=0;v<q.length;v++){D[2*v]=new E5(q[v],q[v].f,q[v].c,0);D[2*v+1]=new E5(q[v],q[v].c,q[v].f,1)}ipb(D,0,D.length,(null,gsb));P=0;for(B=0,C=D.length;B<C;++B){A=D[B];switch(A.d){case 0:++P;break;case 1:--P;d+=P;}}cb=xv(BD,syb,158,q.length*2,0,1);for(r=0;r<q.length;r++){cb[2*r]=new E5(q[r],q[r].g,q[r].d,0);cb[2*r+1]=new E5(q[r],q[r].d,q[r].g,1)}ipb(cb,0,cb.length,(null,gsb));P=0;for(ab=0,bb=cb.length;ab<bb;++ab){$=cb[ab];switch($.d){case 0:++P;break;case 1:--P;d+=P;}}return d};var DD=vq(wAb,'BetweenLayerHyperedgeAllCrossingsCounter',610);hI(204,1,{204:1,23:1},B5);_.F=function C5(a){return A5(this,Wv(a,204))};_.b=0;_.c=0;_.d=0;_.f=0;_.g=0;var CD=vq(wAb,'BetweenLayerHyperedgeAllCrossingsCounter/Hyperedge',204);hI(158,1,{158:1,23:1},E5);_.F=function F5(a){return D5(this,Wv(a,158))};_.b=0;_.c=0;_.d=0;var BD=vq(wAb,'BetweenLayerHyperedgeAllCrossingsCounter/HyperedgeCorner',158);hI(611,339,{},H5);_.Gc=function J5(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B;B=0;f=0;h=a[0].d;u=b[0].d;for(k=0,m=b.length;k<m;++k){i=b[k];if(LM(Wv(rJ(i,(eM(),TL)),28))){o=0;for(r=new _7(i.f);r.a<r.c.c.length;){q=Wv(QJ(r),7);if(q.g==(sN(),$M)){for(e=new _7(q.b);e.a<e.c.c.length;){d=Wv(QJ(e),12);if(d.c.f.d==h){++o;break}}}else{break}}p=0;t=new MJ(i.f,i.f.c.length);while(t.b>0){q=(Pi(t.b>0),Wv(t.a.sb(t.c=--t.b),7));s=0;for(e=new _7(q.b);e.a<e.c.c.length;){d=Wv(QJ(e),12);d.c.f.d==h&&++s}if(s>0){if(q.g==(sN(),$M)){this.a[q.k]=B;++B}else{this.a[q.k]=B+o+p;++p}f+=s}}B+=p}else{n=0;for(r=new _7(i.f);r.a<r.c.c.length;){q=Wv(QJ(r),7);for(e=new _7(q.b);e.a<e.c.c.length;){d=Wv(QJ(e),12);d.c.f.d==h&&++n}this.a[q.k]=B}if(n>0){++B;f+=n}}}v=xv(mw,Yyb,26,f,12,1);g=0;for(j=0,l=a.length;j<l;++j){i=a[j];if(LM(Wv(rJ(i,(eM(),TL)),28))){for(r=new _7(i.f);r.a<r.c.c.length;){q=Wv(QJ(r),7);w=g;for(e=new _7(q.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);A=d.d;A.f.d==u&&K5(v,w,g++,this.a[A.k])}}}else{w=g;for(r=new _7(i.f);r.a<r.c.c.length;){q=Wv(QJ(r),7);for(e=new _7(q.e);e.a<e.c.c.length;){d=Wv(QJ(e),12);A=d.d;A.f.d==u&&K5(v,w,g++,this.a[A.k])}}}}c=G5(B,f,v);return c};var ED=vq(wAb,'BetweenLayerStraightEdgeAllCrossingsCounter',611);hI(338,1,{},N5);_.b=0;_.e=false;var FD=vq(wAb,'CrossingMatrixFiller',338);hI(447,1,eAb,$5);_.sc=function _5(a,b){var c,d,e,f;nI(b,'Greedy switch crossing reduction',1);this.e=Wv(rJ(a,(Mjb(),tjb)),110);c=a.c.c.length;if(c<2||this.e==(zhb(),rhb)){pI(b);return}Q5(this,a);this.e.b?(this.e.a?R5(this):Z5(this),d=P5(this),e=this.e.a?this.c:Z4(this.b,this.d),this.i=!this.i,this.d=this.g,this.e.a?R5(this):Z5(this),f=this.e.a?this.c:Z4(this.b,this.d),e<=f&&S5(this,d),undefined):this.e.a?R5(this):Z5(this);T5(this,this.a);pI(b)};_.c=0;_.i=true;var GD=vq(wAb,'GreedySwitchProcessor',447);hI(340,1,{},k6);var HD=vq(wAb,'InLayerEdgeAllCrossingsCounter',340);hI(614,340,{},r6);_.b=0;_.d=0;var JD=vq(wAb,'InLayerEdgeTwoNodeCrossingCounter',614);hI(226,1,{226:1,23:1},t6);_.F=function u6(a){return s6(this,Wv(a,226))};_.w=function v6(){return'ComparableEdgeAndPort [port='+this.b+', edge='+this.a+', portPosition='+this.c+']'};_.c=0;var ID=vq(wAb,'InLayerEdgeTwoNodeCrossingCounter/ComparableEdgeAndPort',226);hI(612,1,{},F6);_.e=true;_.f=0;_.g=0;_.k=false;var KD=vq(wAb,'NorthSouthEdgeAllCrossingsCounter',612);hI(615,1,{},R6);_.b=0;_.d=0;_.e=false;var LD=vq(wAb,'NorthSouthEdgeNeighbouringNodeCrossingsCounter',615);hI(143,1,Oyb,U6);_.mb=function V6(){return T6(this)};_.b=0;var ND=vq(wAb,'PortIterable',143);hI(344,1,Ayb,W6);_.H=function Y6(){return Wv(Jp(this.a),7)};_.G=function X6(){return this.a.b>0};_.I=function Z6(){throw new sa};var MD=vq(wAb,'PortIterable/1',344);hI(336,1,{},b7);var OD=vq(wAb,'SwitchDecider',336);hI(89,1,{89:1},d7);_.w=function e7(){return'NEdge[id='+this.b+' w='+this.f+' d='+this.a+']'};_.a=1;_.b=0;_.e=false;_.f=0;var QD=vq(yAb,'NEdge',89);hI(157,1,{},k7);var PD=vq(yAb,'NEdge/NEdgeBuilder',157);hI(278,1,{},l7);var RD=vq(yAb,'NGraph',278);hI(61,1,{61:1},n7);_.b=0;_.d=-1;_.e=0;_.i=-1;_.j=false;var UD=vq(yAb,'NNode',61);hI(333,13,bAb,q7);_.rb=function r7(a,b){++this.d;fV(a,this.c.length);ch(this.c,a,b)};_.ib=function s7(a){return o7(this,a)};_.jb=function t7(a){++this.d;return xU(this,a)};_.Q=function u7(){++this.d;this.c=xv(UF,syb,1,0,4,1)};_.vb=function v7(a){++this.d;return AU(this,a)};_.nb=function w7(a){return p7(this,a)};var SD=vq(yAb,'NNode/ChangeAwareArrayList',333);hI(199,1,{},A7);var TD=vq(yAb,'NNode/NNodeBuilder',199);hI(595,1,{},V7);_.a=false;_.f=$xb;_.j=0;var VD=vq(yAb,'NetworkSimplex',595);hI(193,17,{180:1,193:1,3:1,23:1,17:1},$7);_.rc=function _7(){switch(this.e){case 0:return new g8;case 1:return new m8;default:throw new oc('No implementation is available for the cycle breaker '+(this.d!=null?this.d:''+this.e));}};var X7,Y7;var WD=vX(AAb,'CycleBreakingStrategy',193,IF,a8);var b8;hI(539,1,BAb,g8);_.qc=function h8(a){return d8};_.sc=function i8(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J;nI(b,'Greedy cycle removal',1);r=a.b;J=r.c.length;this.a=xv(mw,Yyb,26,J,12,1);this.c=xv(mw,Yyb,26,J,12,1);this.b=xv(mw,Yyb,26,J,12,1);h=0;for(p=new _7(r);p.a<p.c.c.length;){n=Wv(QJ(p),9);n.k=h;for(w=new _7(n.f);w.a<w.c.c.length;){u=Wv(QJ(w),7);for(f=new _7(u.b);f.a<f.c.c.length;){c=Wv(QJ(f),12);if(c.c.f==n){continue}C=Wv(rJ(c,(Rib(),Eib)),24).a;this.a[h]+=C>0?C+1:1}for(e=new _7(u.e);e.a<e.c.c.length;){c=Wv(QJ(e),12);if(c.d.f==n){continue}C=Wv(rJ(c,(Rib(),Eib)),24).a;this.c[h]+=C>0?C+1:1}}this.c[h]==0?QI(this.d,n):this.a[h]==0&&QI(this.e,n);++h}m=-1;l=1;j=new GU;D=Wv(rJ(a,(Rib(),Gib)),154);while(J>0){while(this.d.b!=0){G=Wv(YI(this.d),9);this.b[G.k]=m--;f8(this,G);--J}while(this.e.b!=0){H=Wv(YI(this.e),9);this.b[H.k]=l++;f8(this,H);--J}if(J>0){k=eyb;for(q=new _7(r);q.a<q.c.c.length;){n=Wv(QJ(q),9);if(this.b[n.k]==0){s=this.c[n.k]-this.a[n.k];if(s>=k){if(s>k){j.c=xv(UF,syb,1,0,4,1);k=s}j.c[j.c.length]=n}}}i=Wv(yU(j,vvb(D,j.c.length)),9);this.b[i.k]=l++;f8(this,i);--J}}F=r.c.length+1;for(h=0;h<r.c.length;h++){this.b[h]<0&&(this.b[h]+=F)}for(o=new _7(r);o.a<o.c.c.length;){n=Wv(QJ(o),9);B=Wv(FU(n.f,xv(BB,mAb,7,n.f.c.length,0,1)),346);for(v=0,A=B.length;v<A;++v){u=B[v];t=Wv(FU(u.e,xv(dB,gAb,12,u.e.c.length,0,1)),47);for(d=0,g=t.length;d<g;++d){c=t[d];I=c.d.f.k;if(this.b[n.k]>this.b[I]){cW(c,true);sJ(a,cib,(Xo(),Xo(),wkb))}}}}this.a=null;this.c=null;this.b=null;_I(this.e);_I(this.d);pI(b)};var d8;var XD=vq(AAb,'GreedyCycleBreaker',539);hI(540,1,BAb,m8);_.qc=function n8(a){return j8};_.sc=function o8(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;nI(b,'Interactive cycle breaking',1);k=new GU;for(m=new _7(a.b);m.a<m.c.c.length;){l=Wv(QJ(m),9);l.k=1;n=kX(l).a;for(j=oX(l,(G$(),bjb)).mb();j.G();){i=Wv(j.H(),7);for(e=new _7(i.e);e.a<e.c.c.length;){c=Wv(QJ(e),12);o=c.d.f;if(o!=l){p=kX(o).a;p<n&&(k.c[k.c.length]=c,true)}}}}for(f=new _7(k);f.a<f.c.c.length;){c=Wv(QJ(f),12);cW(c,true)}k.c=xv(UF,syb,1,0,4,1);for(h=new _7(a.b);h.a<h.c.c.length;){g=Wv(QJ(h),9);g.k>0&&l8(this,g,k)}for(d=new _7(k);d.a<d.c.c.length;){c=Wv(QJ(d),12);cW(c,true)}k.c=xv(UF,syb,1,0,4,1);pI(b)};var j8;var YD=vq(AAb,'InteractiveCycleBreaker',540);hI(543,1,BAb,q8);_.qc=function r8(a){return TQ(RQ(new WQ,(d0(),z_)),I_)};_.sc=function s8(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;nI(b,'Interactive node layering',1);c=new GU;for(l=new _7(a.b);l.a<l.c.c.length;){j=Wv(QJ(l),9);h=j.i.a;g=h+j.j.a;g=h+1>g?h+1:g;p=new MJ(c,0);d=null;while(p.b<p.d.Y()){n=(Pi(p.b<p.d.Y()),Wv(p.d.sb(p.c=p.b++),239));if(n.c>=g){Pi(p.b>0);p.a.sb(p.c=--p.b);break}else if(n.a>h){if(!d){vU(n.b,j);n.c=vd(n.c,h);n.a=nd(n.a,g);d=n}else{xU(d.b,n.b);d.a=nd(d.a,n.a);fr(p)}}}if(!d){d=new t8;d.c=h;d.a=g;qm(p,d);vU(d.b,j)}}f=a.c;i=0;for(o=new _7(c);o.a<o.c.c.length;){n=Wv(QJ(o),239);e=new sY(a);e.k=i++;f.c[f.c.length]=e;for(m=new _7(n.b);m.a<m.c.c.length;){j=Wv(QJ(m),9);rX(j,e);j.k=0}}for(k=new _7(a.b);k.a<k.c.c.length;){j=Wv(QJ(k),9);j.k==0&&p8(this,j,a)}while((gV(0,f.c.length),Wv(f.c[0],16)).a.c.length==0){gV(0,f.c.length);f.c.splice(0,1)}a.b.c=xv(UF,syb,1,0,4,1);pI(b)};var $D=vq(CAb,'InteractiveLayerer',543);hI(239,1,{239:1},t8);_.a=0;_.c=0;var ZD=vq(CAb,'InteractiveLayerer/LayerSpan',239);hI(173,17,{180:1,173:1,3:1,23:1,17:1},y8);_.rc=function z8(){switch(this.e){case 0:return new U8;case 1:return new J8;case 2:return new q8;default:throw new oc('No implementation is available for the layerer '+(this.d!=null?this.d:''+this.e));}};var u8,v8,w8;var _D=vX(CAb,'LayeringStrategy',173,IF,A8);var B8;hI(542,1,BAb,J8);_.qc=function K8(a){var b;b=XQ(D8);jc(kc(Xv(rJ(a,(Mjb(),njb)))))||gw(rJ(a,Ljb))===gw((ckb(),_jb))?QQ(b,E8):gw(rJ(a,Ljb))===gw((ckb(),akb))&&QQ(b,F8);jc(kc(Xv(rJ(a,Ijb))))&&UQ(b,(d0(),Y_));return b};_.sc=function L8(a,b){var c,d,e,f,g;nI(b,'Longest path layering',1);this.a=a;g=this.a.b;this.b=xv(mw,Yyb,26,g.c.length,12,1);c=0;for(f=new _7(g);f.a<f.c.c.length;){d=Wv(QJ(f),9);d.k=c;this.b[c]=-1;++c}for(e=new _7(g);e.a<e.c.c.length;){d=Wv(QJ(e),9);I8(this,d)}g.c=xv(UF,syb,1,0,4,1);this.a=null;this.b=null;pI(b)};var D8,E8,F8;var aE=vq(CAb,'LongestPathLayerer',542);hI(541,1,BAb,U8);_.qc=function V8(a){var b;b=XQ(M8);if(jc(kc(Xv(rJ(a,(Mjb(),njb)))))||gw(rJ(a,Ljb))===gw((ckb(),_jb))){QQ(b,N8);this.d=(ckb(),_jb)}else if(gw(rJ(a,Ljb))===gw((ckb(),akb))){QQ(b,O8);this.d=akb}return b};_.sc=function W8(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Network simplex layering',1);this.b=a;l=Wv(rJ(a,(Mjb(),Kjb)),24).a*4;k=this.b.b;if(k.c.length<1){pI(b);return}for(d=WI(Q8(this,k),0);d.b!=d.d.c;){c=Wv(tS(d),20);f=l*hw(ih(c.Y()));e=T8(c);F7(S7(U7(T7(W7(e),f),this.b),this.d==(ckb(),_jb)),rI(b,1));h=this.b.c;for(j=new _7(e.a);j.a<j.c.c.length;){i=Wv(QJ(j),61);while(h.c.length<=i.e){uU(h,h.c.length,new sY(this.b))}g=Wv(i.f,9);rX(g,Wv(yU(h,i.e),16))}}k.c=xv(UF,syb,1,0,4,1);this.a=null;this.b=null;this.c=null;pI(b)};var M8,N8,O8;var bE=vq(CAb,'NetworkSimplexLayerer',541);hI(326,1,{});var dE=vq(EAb,'AbstractPortDistributor',326);hI(558,1,fyb,a9);_.$b=function b9(a,b){return _8(this,Wv(a,7),Wv(b,7))};var cE=vq(EAb,'AbstractPortDistributor/1',558);hI(564,1,{},j9);var gE=vq(EAb,'BarycenterHeuristic',564);hI(272,1,{272:1},k9);_.b=0;_.d=0;_.e=false;var eE=vq(EAb,'BarycenterHeuristic/BarycenterState',272);hI(565,1,fyb,l9);_.$b=function m9(a,b){return f9(this.a,a,b)};var fE=vq(EAb,'BarycenterHeuristic/lambda$0$Type',565);hI(192,17,{180:1,192:1,3:1,23:1,17:1},q9);_.rc=function r9(){switch(this.e){case 0:return new I9;case 1:return new y9;default:throw new oc('No implementation is available for the crossing minimizer '+(this.d!=null?this.d:''+this.e));}};var n9,o9;var hE=vX(EAb,'CrossingMinimizationStrategy',192,IF,s9);var t9;hI(526,1,BAb,y9);_.qc=function z9(a){var b;b=XQ(v9);Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),khb))&&TQ(b,(d0(),V_));return b};_.sc=function A9(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;nI(b,'Interactive crossing minimization',1);m=0;for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);c=0;j=0;for(i=new _7(d.a);i.a<i.c.c.length;){g=Wv(QJ(i),9);if(g.i.a>0){c+=g.i.a+g.j.a/2;++j}for(l=new _7(g.f);l.a<l.c.c.length;){k=Wv(QJ(l),7);k.k=m++}}c/=j;o=xv(kw,hyb,26,d.a.c.length,12,1);f=0;for(h=new _7(d.a);h.a<h.c.c.length;){g=Wv(QJ(h),9);g.k=f++;o[g.k]=x9(g,c);g.g==(CX(),zX)&&sJ(g,(Rib(),wib),o[g.k])}JR(d.a,new C9(o))}n=new P9(xv(lw,tAb,26,m,12,1));Z8(n,jW(a));pI(b)};var v9;var jE=vq(EAb,'InteractiveCrossingMinimizer',526);hI(527,1,fyb,C9);_.$b=function D9(a,b){return B9(this,Wv(a,9),Wv(b,9))};var iE=vq(EAb,'InteractiveCrossingMinimizer/1',527);hI(525,1,BAb,I9);_.qc=function K9(a){var b;b=XQ(E9);Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),khb))&&TQ(b,(d0(),V_));return b};_.sc=function L9(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H;nI(b,'Layer sweep crossing minimization',1);F=Wv(rJ(a,(Rib(),Gib)),154);q=a.c.c.length;if(q<2){pI(b);return}G9(this,a);d=$xb;H=Wv(rJ(a,(Mjb(),Kjb)),24).a;c=xv(eE,Txb,671,a.c.c.length,0,2);m=0;for(p=new _7(a.c);p.a<p.c.c.length;){o=Wv(QJ(p),16);o.k=m;c[m]=xv(eE,{671:1,3:1,5:1,6:1},272,o.a.c.length,0,1);n=0;for(v=new _7(o.a);v.a<v.c.c.length;){u=Wv(QJ(v),9);u.k=n;c[m][n]=new k9(u);++n}++m}e=new X9(c,this.g);f=new j9(c,e,F,this.j);A=new P9(this.j);t=new M9(this.j);for(G=0;G<H&&d>0;G++){k=wvb(F,1)!=0;j=k?0:q-1;i=this.b[j];C=wvb(F,1)!=0?A:t;H9(i,f,k,false,true);g=$xb;h=true;do{J9(this.b,this.k);D=g;g=0;g+=SX(this.f,i,j);if(k){for(r=1;r<q;r++){l=this.b[r];X8(C,i,(G$(),bjb));H9(l,f,true,!h,false);g+=SX(this.f,l,r);this.d[r]||this.c[r-1]?(g+=lab(this.e,i,l)):(g+=hab(this.i,i,l));i=l}j=q-1}else{for(r=q-2;r>=0;r--){l=this.b[r];X8(C,i,(G$(),ajb));H9(l,f,false,!h,false);g+=SX(this.f,l,r);this.c[r]||this.d[r+1]?(g+=lab(this.e,l,i)):(g+=hab(this.i,l,i));i=l}j=0}h=false;k=!k}while(g<D&&g>0);if(g<d||D<d){if(g<=D){J9(this.b,this.a);d=g}else{J9(this.k,this.a);d=D}}}s=new MJ(a.c,0);while(s.b<s.d.Y()){o=(Pi(s.b<s.d.Y()),Wv(s.d.sb(s.c=s.b++),16));B=this.a[s.b-1];w=new MJ(o.a,0);while(w.b<w.d.Y()){Pi(w.b<w.d.Y());w.d.sb(w.c=w.b++);rm(w,B[w.b-1])}}this.j=null;this.a=null;this.b=null;this.k=null;this.i=null;this.e=null;this.c=null;this.d=null;Pm(this.g);pI(b)};var E9;var kE=vq(EAb,'LayerSweepCrossingMinimizer',525);hI(327,326,{},M9);_.Hc=function N9(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;m=this.a;if(LM(Wv(rJ(a,(eM(),TL)),28))){switch(c.e){case 1:{e=0;h=0;for(l=new _7(a.f);l.a<l.c.c.length;){j=Wv(QJ(l),7);if(j.b.c.length!=0){++e;j.g==(sN(),$M)&&++h}}i=b+h;o=b+e;for(k=oX(a,(G$(),ajb)).mb();k.G();){j=Wv(k.H(),7);if(j.g==(sN(),$M)){m[j.k]=i;--i}else{m[j.k]=o;--o}}return e}case 2:{n=0;for(k=oX(a,(G$(),bjb)).mb();k.G();){j=Wv(k.H(),7);++n;m[j.k]=b+n}return n}default:throw new na;}}else{g=4;f=0;for(l=oX(a,c).mb();l.G();){j=Wv(l.H(),7);d=O9(c,j.g);g=g<d-1?g:d-1;f=f>d?f:d}if(f>g){for(k=oX(a,c).mb();k.G();){j=Wv(k.H(),7);m[j.k]=b+O9(c,j.g)-g}return f-g}return 0}};var lE=vq(EAb,'LayerTotalPortDistributor',327);hI(274,326,{},P9);_.Hc=function Q9(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;l=this.a;if(LM(Wv(rJ(a,(eM(),TL)),28))){switch(c.e){case 1:{e=0;f=0;for(k=new _7(a.f);k.a<k.c.c.length;){i=Wv(QJ(k),7);if(i.b.c.length!=0){++e;i.g==(sN(),$M)&&++f}}d=1/(e+1);g=b+f*d;n=b+1-d;for(j=oX(a,(G$(),ajb)).mb();j.G();){i=Wv(j.H(),7);if(i.g==(sN(),$M)){l[i.k]=g;g-=d}else{l[i.k]=n;n-=d}}break}case 2:{h=0;for(k=new _7(a.f);k.a<k.c.c.length;){i=Wv(QJ(k),7);i.e.c.length==0||++h}d=1/(h+1);m=b+d;for(j=oX(a,(G$(),bjb)).mb();j.G();){i=Wv(j.H(),7);l[i.k]=m;m+=d}break}default:throw new oc(GAb);}}else{for(j=oX(a,c).mb();j.G();){i=Wv(j.H(),7);l[i.k]=b+R9(c,i.g)}}return 1};var mE=vq(EAb,'NodeRelativePortDistributor',274);hI(566,1,{},X9);var oE=vq(KAb,'ForsterConstraintResolver',566);hI(102,1,{102:1},$9,_9);_.w=function aab(){var a,b;b=new Ud;b.a+='[';for(a=0;a<this.d.length;a++){Yh(b,tX(this.d[a]));W9(this.g,this.d[0]).a!=null&&Yh(Yh((b.a+='<',b),Me(kc(W9(this.g,this.d[0]).a))),'>');a<this.d.length-1&&(b.a+=', ',b)}return b.a+=']',b.a};_.a=0;_.c=0;_.f=0;var nE=vq(KAb,'ForsterConstraintResolver/ConstraintGroup',102);hI(331,1,{});var pE=vq(LAb,'AbstractCrossingsCounter',331);hI(568,331,{},io);var qE=vq(LAb,'BarthJuengerMutzelCrossingsCounter',568);hI(567,331,{},jo);var uE=vq(LAb,'HyperedgeCrossingsCounter',567);hI(197,1,{197:1,23:1},Yk);_.F=function pab(a){return nab(this,Wv(a,197))};_.b=0;_.c=0;_.e=0;_.f=0;var tE=vq(LAb,'HyperedgeCrossingsCounter/Hyperedge',197);hI(156,1,{156:1,23:1},Ps);_.F=function sab(a){return qab(this,Wv(a,156))};_.b=0;_.c=0;var sE=vq(LAb,'HyperedgeCrossingsCounter/HyperedgeCorner',156);hI(242,17,{242:1,3:1,23:1,17:1},Fg);var tab,uab;var rE=vX(LAb,'HyperedgeCrossingsCounter/HyperedgeCorner/Type',242,IF,vu);hI(545,1,BAb,p4);_.qc=function Cab(a){return Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))?yab:null};_.sc=function Dab(a,b){var c,d;nI(b,'Interactive node placement',1);this.a=Wv(rJ(a,(Rib(),Kib)),134);for(d=new _7(a.c);d.a<d.c.c.length;){c=Wv(QJ(d),16);Aab(this,c)}pI(b)};var yab;var vE=vq(MAb,'InteractiveNodePlacer',545);hI(546,1,BAb,r4);_.qc=function Rab(a){return Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))?Eab:null};_.sc=function Sab(a,b){nI(b,'Linear segments node placement',1);this.b=Wv(rJ(a,(Rib(),Kib)),134);Pab(this,a);Lab(this,a);Iab(this,a);Oab(this);this.a=null;this.b=null;pI(b)};var Eab,Fab,Gab;var xE=vq(MAb,'LinearSegmentsNodePlacer',546);hI(111,1,{111:1,23:1},ta);_.F=function Xab(a){return kd(this,Wv(a,111))};_.t=function Yab(a){var b;if(aw(a,111)){b=Wv(a,111);return this.b==b.b}return false};_.v=function Zab(){return this.b};_.w=function $ab(){return'ls'+Ze(this.f)};_.a=0;_.b=0;_.c=-1;_.d=-1;_.i=0;var wE=vq(MAb,'LinearSegmentsNodePlacer/LinearSegment',111);hI(548,1,BAb,s4);_.qc=function dbb(a){return Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))?_ab:null};_.sc=function ebb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J;H=Wv(rJ(a,(Rib(),Kib)),134);u=(mp(),new K9);t=0;e=new l7;for(i=new _7(a.c);i.a<i.c.c.length;){g=Wv(QJ(i),16);D=null;C=null;for(n=new _7(g.a);n.a<n.c.c.length;){m=Wv(QJ(n),9);++t;s=x7(new A7,e);s.f=m;Ltb(u.d,m,s);m.e.d=hh(m.e.d);if(C){r=new d7;r.f=0;r.a=hw(Th(D.e.d+D.j.b+D.e.a+gn(H,Wv(C.f,9),m)));r.c=C;r.d=s;o7(C.g,r);o7(s.c,r)}D=m;C=s}}for(j=new _7(a.c);j.a<j.c.c.length;){g=Wv(QJ(j),16);for(n=new _7(g.a);n.a<n.c.c.length;){m=Wv(QJ(n),9);for(A=new _7(m.f);A.a<A.c.c.length;){w=Wv(QJ(A),7);J=w.i.b+w.a.b;if(J!=Math.floor(J)){v=J-ZH(TH(Math.round(J)));w.i.b-=v}}}}for(h=new _7(a.c);h.a<h.c.c.length;){g=Wv(QJ(h),16);for(n=new _7(g.a);n.a<n.c.c.length;){m=Wv(QJ(n),9);for(l=Uh(mX(m));Cm(l);){k=Wv(Dm(l),12);if(bW(k)){continue}if(k.d.f.d==g){continue}G=k.c.f.e.d+k.c.i.b+k.c.a.b;I=k.d.f.e.d+k.d.i.b+k.d.a.b;c=I-G;B=hw(c);d=x7(new A7,e);o=new d7;o.f=bbb(k);o.a=B>0?B:0;o.c=d;o.d=Wv(Qq(u,k.c.f),61);o7(o.c.g,o);o7(o.d.c,o);F=new d7;F.f=bbb(k);F.a=B<0?-B:0;F.c=d;F.d=Wv(Qq(u,k.d.f),61);o7(F.c.g,F);o7(F.d.c,F)}}}f=Wv(rJ(a,(Mjb(),Kjb)),24).a*hw(Math.sqrt(t));F7(S7(T7(W7(e),f),false),rI(b,1));for(q=new _7(e.a);q.a<q.c.c.length;){p=Wv(QJ(q),61);if(p.f!=null){m=Wv(p.f,9);m.i.b=p.e+m.e.d}}};var _ab;var yE=vq(MAb,'NetworkSimplexPlacer',548);hI(141,17,{180:1,141:1,3:1,23:1,17:1},Gg);_.rc=function mbb(){switch(this.e){case 0:return new v4;case 1:return new p4;case 2:return new r4;case 3:return new ph;case 4:return new s4;default:throw new oc('No implementation is available for the node placer '+(this.d!=null?this.d:''+this.e));}};var fbb,gbb,hbb,ibb,jbb;var zE=vX(MAb,'NodePlacementStrategy',141,IF,NU);var obb;hI(544,1,BAb,v4);_.qc=function tbb(a){return Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))?qbb:null};_.sc=function ubb(a,b){var c,d,e,f,g,h,i,j,k,l;nI(b,'Simple node placement',1);l=Wv(rJ(a,(Rib(),Kib)),134);h=0;for(f=new _7(a.c);f.a<f.c.c.length;){d=Wv(QJ(f),16);g=d.c;g.b=0;c=null;for(j=new _7(d.a);j.a<j.c.c.length;){i=Wv(QJ(j),9);!!c&&(g.b+=Nj(l,i.g,c.g)*l.d);g.b+=i.e.d+i.j.b+i.e.a;c=i}h=nd(h,g.b)}for(e=new _7(a.c);e.a<e.c.c.length;){d=Wv(QJ(e),16);g=d.c;k=(h-g.b)/2;c=null;for(j=new _7(d.a);j.a<j.c.c.length;){i=Wv(QJ(j),9);!!c&&(k+=Nj(l,i.g,c.g)*l.d);k+=i.e.d;i.i.b=k;k+=i.j.b+i.e.a;c=i}}pI(b)};var qbb;var AE=vq(MAb,'SimpleNodePlacer',544);hI(81,1,{81:1},Cbb);_.w=function Dbb(){var a;a='';this.c==(nu(),Fbb)?(a+=pzb):this.c==Ebb&&(a+=ozb);this.k==(WN(),Jbb)?(a+='DOWN'):this.k==Kbb?(a+='UP'):(a+='BALANCED');return a};var DE=vq(OAb,'BKAlignedLayout',81);hI(248,17,{248:1,3:1,23:1,17:1},Hg);var Ebb,Fbb;var BE=vX(OAb,'BKAlignedLayout/HDirection',248,IF,wu);hI(247,17,{247:1,3:1,23:1,17:1},Ig);var Jbb,Kbb;var CE=vX(OAb,'BKAlignedLayout/VDirection',247,IF,xu);hI(596,1,{},Og);var EE=vq(OAb,'BKAligner',596);hI(599,1,{},Vbb);var HE=vq(OAb,'BKCompactor',599);hI(279,1,{279:1},o3);_.a=0;var FE=vq(OAb,'BKCompactor/ClassEdge',279);hI(200,1,{200:1},ua);_.a=0;_.b=0;var GE=vq(OAb,'BKCompactor/ClassNode',200);hI(547,1,BAb,ph);_.qc=function hcb(a){return Wv(rJ(a,(Rib(),jib)),18).kb((ohb(),hhb))?Zbb:null};_.sc=function icb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;nI(b,'Brandes & Koepf node placement',1);this.b=a;this.d=scb(a);this.a=jc(kc(Xv(rJ(a,(Mjb(),mjb)))));this.e=gw(rJ(a,sjb))===gw((_gb(),Vgb));ccb(this,a);n=(Mh(4,Vyb),new HU(4));switch(Wv(rJ(a,sjb),124).e){case 3:o=new Cbb(a,this.d.d,(WN(),Jbb),(nu(),Ebb));n.c[n.c.length]=o;break;case 1:p=new Cbb(a,this.d.d,(WN(),Kbb),(nu(),Ebb));n.c[n.c.length]=p;break;case 4:s=new Cbb(a,this.d.d,(WN(),Jbb),(nu(),Fbb));n.c[n.c.length]=s;break;case 2:t=new Cbb(a,this.d.d,(WN(),Kbb),(nu(),Fbb));n.c[n.c.length]=t;break;default:o=new Cbb(a,this.d.d,(WN(),Jbb),(nu(),Ebb));p=new Cbb(a,this.d.d,Kbb,Ebb);s=new Cbb(a,this.d.d,Jbb,Fbb);t=new Cbb(a,this.d.d,Kbb,Fbb);n.c[n.c.length]=s;n.c[n.c.length]=t;n.c[n.c.length]=o;n.c[n.c.length]=p;}c=new Og(a,this.d);for(f=new _7(n);f.a<f.c.c.length;){d=Wv(QJ(f),81);Pbb(c,d,this.c);Obb(d)}k=new Vbb(a,this.d);for(g=new _7(n);g.a<g.c.c.length;){d=Wv(QJ(g),81);Sbb(k,d)}if(this.a){for(h=new _7(n);h.a<h.c.c.length;){d=Wv(QJ(h),81);pn();d+' size is '+Abb(d)}}j=null;if(this.e){i=acb(this,n,this.d.d);_bb(this,a,i)&&(j=i)}if(!j){for(h=new _7(n);h.a<h.c.c.length;){d=Wv(QJ(h),81);_bb(this,a,d)&&(!j||Abb(j)>Abb(d))&&(j=d)}}!j&&(j=(gV(0,n.c.length),Wv(n.c[0],81)));for(m=new _7(a.c);m.a<m.c.c.length;){l=Wv(QJ(m),16);for(r=new _7(l.a);r.a<r.c.c.length;){q=Wv(QJ(r),9);q.i.b=kc(j.n[q.k])+kc(j.d[q.k])}}if(this.a){pn();'Blocks: '+ecb(j);'Classes: '+fcb(j)}for(e=new _7(n);e.a<e.c.c.length;){d=Wv(QJ(e),81);d.f=null;d.b=null;d.a=null;d.d=null;d.i=null;d.g=null;d.n=null}qcb(this.d);this.c.a.Q();pI(b)};_.a=false;_.e=false;var Zbb;var IE=vq(OAb,'BKNodePlacer',547);hI(194,17,{194:1,3:1,23:1,17:1},Mg);var jcb,kcb;var JE=vX(OAb,'CompactionStrategy',194,IF,Du);var ocb;hI(597,1,{},v3);_.d=0;var LE=vq(OAb,'NeighborhoodInformation',597);hI(598,1,fyb,F5);_.$b=function xcb(a,b){return vcb(this,Wv(a,27),Wv(b,27))};var KE=vq(OAb,'NeighborhoodInformation/NeighborComparator',598);hI(334,1,{});var PE=vq(OAb,'ThresholdStrategy',334);hI(602,334,{},Va);_.Ic=function Dcb(a,b,c){return this.a.k==(WN(),Kbb)?Uzb:Vzb};_.Jc=function Ecb(){};var ME=vq(OAb,'ThresholdStrategy/NullThresholdStrategy',602);hI(249,1,{249:1},Pg);_.c=false;_.d=false;var NE=vq(OAb,'ThresholdStrategy/Postprocessable',249);hI(603,334,{},Wa);_.Ic=function Kcb(a,b,c){var d,e,f;e=b==c;d=this.a.a[c.k]==b;if(!(e||d)){return a}f=a;if(this.a.c==(nu(),Fbb)){e&&(f=Gcb(this,b,true));(f==Infinity||f==-Infinity)&&d&&(f=Gcb(this,c,false))}else{e&&(f=Gcb(this,b,true));(f==Infinity||f==-Infinity)&&d&&(f=Gcb(this,c,false))}return f};_.Jc=function Lcb(){var a,b,c,d;while(this.d.b!=0){d=Wv(XI(this.d),249);c=Hcb(this,d);if(!c.a){continue}a=c.a;if(this.c.a[a.c.f.d.k]===this.c.a[a.d.f.d.k]){continue}b=Icb(this,d);b||bi(this.e,d)}while(this.e.a.c.length!=0){Icb(this,Wv(Svb(this.e),249))}};var OE=vq(OAb,'ThresholdStrategy/SimpleThresholdStrategy',603);hI(423,1,{180:1},x3);_.rc=function Ncb(){switch(this.a.e){case 1:return new rh;case 3:return new A4;default:return new y4;}};var QE=vq(PAb,'EdgeRouterFactory',423);hI(538,1,BAb,y4);_.qc=function Zcb(a){var b,c;c=Wv(rJ(a,(Rib(),jib)),18);b=new WQ;if(c.kb((ohb(),ihb))){QQ(b,Scb);QQ(b,Ucb)}if(c.kb(khb)||jc(kc(Xv(rJ(a,(Mjb(),rjb)))))){QQ(b,Ucb);c.kb(lhb)&&QQ(b,Vcb)}c.kb(hhb)&&QQ(b,Rcb);c.kb(nhb)&&QQ(b,Wcb);c.kb(jhb)&&QQ(b,Tcb);c.kb(ehb)&&QQ(b,Pcb);c.kb(ghb)&&QQ(b,Qcb);return b};_.sc=function $cb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;nI(b,'Orthogonal edge routing',1);m=Wv(rJ(a,(Rib(),Kib)),134);jc(kc(Xv(rJ(a,(eM(),rL)))));k=new cdb(0,m.a);o=0;f=new MJ(a.c,0);g=null;h=null;do{i=f.b<f.d.Y()?(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),16)):null;j=!i?null:i.a;if(g){UW(g,o);o+=g.c.a}n=!g?o:o+m.b;l=bdb(k,a,h,j,n);d=!g||nl(h,(Ndb(),Mdb));e=!i||nl(j,(Ndb(),Mdb));if(l>0){c=m.b+(l-1)*m.a;!!i&&(c+=m.b);c<m.f&&!d&&!e&&(c=m.f);o+=c}else!d&&!e&&(o+=m.f);g=i;h=j}while(i);a.e.a=o;pI(b)};var Pcb,Qcb,Rcb,Scb,Tcb,Ucb,Vcb,Wcb;var RE=vq(PAb,'OrthogonalEdgeRouter',538);hI(277,1,{},cdb);_.a=0;_.c=0;var XE=vq(PAb,'OrthogonalRoutingGenerator',277);hI(118,1,{118:1},dZ);_.w=function ldb(){return this.a+'->'+this.b};_.c=0;var SE=vq(PAb,'OrthogonalRoutingGenerator/Dependency',118);hI(80,1,{80:1,23:1},odb);_.F=function pdb(a){return ld(this,Wv(a,80))};_.t=function qdb(a){var b;if(aw(a,80)){b=Wv(a,80);return this.d==b.d}return false};_.v=function rdb(){return this.d};_.w=function sdb(){var a,b,c,d;a=new Od('{');d=new _7(this.g);while(d.a<d.c.c.length){c=Wv(QJ(d),7);b=lX(c.f);b==null&&(b='n'+jX(c.f));a.a+=''+b;d.a<d.c.c.length&&(a.a+=',',a)}a.a+='}';return a.a};_.a=NaN;_.c=0;_.d=0;_.f=0;_.i=0;_.k=NaN;var TE=vq(PAb,'OrthogonalRoutingGenerator/HyperNode',80);hI(580,1,{},J5);_.Kc=function udb(a,b){var c,d,e,f,g,h,i,j,k,l;l=b+a.i*this.a.c;for(h=new _7(a.g);h.a<h.c.c.length;){g=Wv(QJ(h),7);i=MI(Bv(tv(qz,1),Fzb,10,0,[g.f.i,g.i,g.a])).a;for(d=new _7(g.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);j=c.d;k=MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).a;if((i-k<=0?0-(i-k):i-k)>dAb){e=new HI(i,l);QI(c.a,e);_cb(this.a,c,a,e,false);f=new HI(k,l);QI(c.a,f);_cb(this.a,c,a,f,false)}}}};_.Lc=function vdb(a){return a.f.i.a+a.i.a+a.a.a};_.Mc=function wdb(){return sN(),pN};_.Nc=function xdb(){return sN(),$M};var UE=vq(PAb,'OrthogonalRoutingGenerator/NorthToSouthRoutingStrategy',580);hI(581,1,{},_5);_.Kc=function zdb(a,b){var c,d,e,f,g,h,i,j,k,l;l=b-a.i*this.a.c;for(h=new _7(a.g);h.a<h.c.c.length;){g=Wv(QJ(h),7);i=MI(Bv(tv(qz,1),Fzb,10,0,[g.f.i,g.i,g.a])).a;for(d=new _7(g.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);j=c.d;k=MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).a;if((i-k<=0?0-(i-k):i-k)>dAb){e=new HI(i,l);QI(c.a,e);_cb(this.a,c,a,e,false);f=new HI(k,l);QI(c.a,f);_cb(this.a,c,a,f,false)}}}};_.Lc=function Adb(a){return a.f.i.a+a.i.a+a.a.a};_.Mc=function Bdb(){return sN(),$M};_.Nc=function Cdb(){return sN(),pN};var VE=vq(PAb,'OrthogonalRoutingGenerator/SouthToNorthRoutingStrategy',581);hI(579,1,{},u6);_.Kc=function Edb(a,b){var c,d,e,f,g,h,i,j,k,l;l=b+a.i*this.a.c;for(h=new _7(a.g);h.a<h.c.c.length;){g=Wv(QJ(h),7);i=MI(Bv(tv(qz,1),Fzb,10,0,[g.f.i,g.i,g.a])).b;for(d=new _7(g.e);d.a<d.c.c.length;){c=Wv(QJ(d),12);j=c.d;k=MI(Bv(tv(qz,1),Fzb,10,0,[j.f.i,j.i,j.a])).b;if((i-k<=0?0-(i-k):i-k)>dAb){e=new HI(l,i);QI(c.a,e);_cb(this.a,c,a,e,true);f=new HI(l,k);QI(c.a,f);_cb(this.a,c,a,f,true)}}}};_.Lc=function Fdb(a){return a.f.i.b+a.i.b+a.a.b};_.Mc=function Gdb(){return sN(),ZM};_.Nc=function Hdb(){return sN(),rN};var WE=vq(PAb,'OrthogonalRoutingGenerator/WestToEastRoutingStrategy',579);hI(535,1,BAb,rh);_.qc=function Sdb(a){var b,c;c=Wv(rJ(a,(Rib(),jib)),18);b=new WQ;if(c.kb((ohb(),khb))||jc(kc(Xv(rJ(a,(Mjb(),rjb)))))){QQ(b,Kdb);c.kb(lhb)&&QQ(b,Ldb)}c.kb(ehb)&&QQ(b,Idb);c.kb(ghb)&&QQ(b,Jdb);return b};_.sc=function Tdb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;nI(b,'Polyline edge routing',1);l=Wv(rJ(a,(Rib(),Jib)),15).a;c=Wv(rJ(a,(Mjb(),qjb)),15).a;q=0;if(a.c.c.length!=0){r=Pdb(Wv(yU(a.c,0),16));q=0.4*c*r}f=new MJ(a.c,0);while(f.b<f.d.Y()){e=(Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),16));d=nl(e,Mdb);d&&q>0&&(q-=l);UW(e,q);i=0;for(k=new _7(e.a);k.a<k.c.c.length;){j=Wv(QJ(k),9);h=0;for(n=Uh(mX(j));Cm(n);){m=Wv(Dm(n),12);o=MX(m.c).b;p=MX(m.d).b;if(e==m.d.f.d){s=m.c;t=m.d;u=(MI(Bv(tv(qz,1),Fzb,10,0,[s.f.i,s.i,s.a])).b+MI(Bv(tv(qz,1),Fzb,10,0,[t.f.i,t.i,t.a])).b)/2;s.g==(sN(),ZM)?(v=new HI(q+s.f.d.c.a+0.4*c*(o-p<=0?0-(o-p):o-p),u)):(v=new HI(q-0.4*c*(o-p<=0?0-(o-p):o-p),u));rn(m.a,0,v);if(m.c.g==rN){o=0;p=0}}h=h>(p-o<=0?0-(p-o):p-o)?h:p-o<=0?0-(p-o):p-o}switch(j.g.e){case 0:case 4:case 1:case 3:Qdb(this,j,q);}i=i>h?i:h}if(f.b<f.d.Y()){r=Pdb((Pi(f.b<f.d.Y()),Wv(f.d.sb(f.c=f.b++),16)));i=i>r?i:r;Pi(f.b>0);f.a.sb(f.c=--f.b)}g=0.4*c*i;!d&&f.b<f.d.Y()&&(g+=l);q+=e.c.a+g}this.a.a.Q();a.e.a=q;pI(b)};var Idb,Jdb,Kdb,Ldb,Mdb;var ZE=vq(PAb,'PolylineEdgeRouter',535);hI(536,1,_zb,A3);_.D=function Wdb(a){return Udb(Wv(a,9))};var YE=vq(PAb,'PolylineEdgeRouter/1',536);hI(75,1,{75:1},deb);_.w=function eeb(){var a,b,c,d;c=new Ud;!!this.e&&Yh(Yh(c,zc(this.e)),': ');for(b=WI(lu(this),0);b.b!=b.d.c;){a=Wv(tS(b),7);Yh(Yh(Mq(Yh(c,(d=OX(a),d==null?'p_'+a.k:'p_'+d)),32),zc(a.g)),' / ')}return Ui(c,ri(c.a)-2-1)};_.j=0;_.k=0;var $E=vq(QAb,'ConnectedSelfLoopComponent',75);hI(60,17,{60:1,3:1,23:1,17:1},LR);_.c=0;var feb,geb,heb,ieb,jeb,keb,leb,meb,neb,oeb,peb,qeb,reb,seb,teb,ueb,veb,web,xeb,yeb,zeb,Aeb,Beb,Ceb,Deb,Eeb,Feb,Geb,Heb;var _E=vX(QAb,'LoopSide',60,IF,Seb);hI(203,1,{},dfb,efb,ffb);_.w=function pfb(){return this.b.w()};_.c=0;_.d=false;_.e=false;_.f=false;_.i=0;_.j=0;var bF=vq(QAb,'NubSpline',203);hI(92,1,{92:1},Yt,tfb);var aF=vq(QAb,'NubSpline/PolarCP',92);hI(281,203,{},ur);var cF=vq(QAb,'NubsSelfLoop',281);hI(112,1,{},Bfb,Cfb,XS,Efb,Ffb);_.a=jzb;_.b=rAb;_.c=jzb;_.d=rAb;var dF=vq(QAb,'Rectangle',112);hI(537,1,BAb,A4);_.qc=function Yfb(a){var b,c;b=new WQ;c=Wv(rJ(a,(Rib(),jib)),18);c.kb((ohb(),nhb))&&QQ(b,Lfb);c.kb(ehb)&&QQ(b,Hfb);if(c.kb(khb)||jc(kc(Xv(rJ(a,(Mjb(),rjb)))))){QQ(b,Jfb);c.kb(lhb)&&QQ(b,Kfb)}c.kb(ghb)&&QQ(b,Ifb);return b};_.sc=function $fb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K,L;nI(b,'Spline edge routing',1);u=Wv(rJ(a,(Rib(),Jib)),15).a;this.a=u*Wv(rJ(a,(Mjb(),qjb)),15).a;L=0;q=new _7(a.c);r=null;J=(mp(),new K9);I=new GU;i=true;j=true;do{A=q.a<q.c.c.length?Wv(QJ(q),16):null;m=new GU;g=new GU;s=new Qi;C=new Qi;G=new Qi;Tfb(new RJ(r,A),new RJ(s,C),g,J,I,G);Sfb(s,C,(ou(),dgb),true,g,m);Sfb(s,C,dgb,false,g,m);Sfb(s,C,egb,true,g,m);Sfb(s,C,egb,false,g,m);Rfb(g,s,C,m);H=new MJ(m,0);while(H.b<H.d.Y()){k=(Pi(H.b<H.d.Y()),Wv(H.d.sb(H.c=H.b++),77));K=new MJ(m,H.b);while(K.b<K.d.Y()){l=(Pi(K.b<K.d.Y()),Wv(K.d.sb(K.c=K.b++),77));Qfb(k,l)}}Xfb(m,Wv(rJ(a,Gib),154));_fb(m);B=L+10;if(A){j=!A||nl(A.a,(Ndb(),Mdb));t=-1;for(e=new _7(m);e.a<e.c.c.length;){c=Wv(QJ(e),77);t=sd(t,c.n)}++t;if(t>0){n=(t+1)*this.a;n<u&&!i&&!j&&(n=u);B+=n}else i||j||Vfb(r)||Vfb(A)||(B+=u);UW(A,B)}for(F=(w=(new e7(G.a)).a.bb().mb(),new r7(w));F.a.G();){D=(h=Wv(F.a.H(),21),Wv(h.yb(),12));v=D.c.f.i;hJ(D.a,v);for(p=new _7(D.b);p.a<p.c.c.length;){o=Wv(QJ(p),33);vI(o.i,v)}}for(f=new _7(m);f.a<f.c.c.length;){c=Wv(QJ(f),77);c.f?Ofb(c,L):Pfb(this,c,L,B)}if(A){L=B+A.c.a+10}else{t=-1;for(e=new _7(m);e.a<e.c.c.length;){c=Wv(QJ(e),77);t=sd(t,c.n)}t>=0&&(L+=(t+2)*this.a)}r=A;i=j}while(A);for(d=new _7(I);d.a<d.c.c.length;){c=Wv(QJ(d),12);Nfb(c,J)}a.e.a=L;pI(b)};_.a=3;var Hfb,Ifb,Jfb,Kfb,Lfb;var hF=vq(QAb,'SplineEdgeRouter',537);hI(117,1,{117:1},JU);_.w=function cgb(){return this.a+' ->('+this.c+') '+this.b};_.c=0;var eF=vq(QAb,'SplineEdgeRouter/Dependency',117);hI(223,17,{223:1,3:1,23:1,17:1},Rg);var dgb,egb;var fF=vX(QAb,'SplineEdgeRouter/SideToProcess',223,IF,pu);hI(77,1,{77:1,23:1},lgb,mgb);_.F=function ngb(a){return md(this,Wv(a,77))};_.a=0;_.b=0;_.e=0;_.f=false;_.i=0;_.k=0;_.n=0;_.p=0;var gF=vq(QAb,'SplineEdgeRouter/SplineHyperEdge',77);hI(123,17,{123:1,3:1,23:1,17:1},Sg);var tgb,ugb,vgb,wgb,xgb,ygb;var iF=vX(VAb,'ContentAlignment',123,IF,FV);var Cgb;hI(218,17,{218:1,3:1,23:1,17:1},Tg);var Egb,Fgb,Ggb;var jF=vX(VAb,'EdgeConstraint',218,IF,KI);hI(115,17,{115:1,3:1,23:1,17:1},Ug);var Kgb,Lgb,Mgb,Ngb,Ogb;var kF=vX(VAb,'EdgeLabelSideSelection',115,IF,OU);var Tgb;hI(124,17,{124:1,3:1,23:1,17:1},Wg);var Vgb,Wgb,Xgb,Ygb,Zgb,$gb;var lF=vX(VAb,'FixedAlignment',124,IF,TV);var chb;hI(113,17,{113:1,3:1,23:1,17:1},Xg);var ehb,fhb,ghb,hhb,ihb,jhb,khb,lhb,mhb,nhb;var mF=vX(VAb,'GraphProperties',113,IF,qhb);hI(110,17,{110:1,3:1,23:1,17:1},XR);_.a=false;_.b=false;_.c=false;var rhb,shb,thb,uhb,vhb,whb,xhb,yhb;var nF=vX(VAb,'GreedySwitchType',110,IF,QY);var Chb;hI(140,17,{140:1,3:1,23:1,17:1},Yg);var Ehb,Fhb,Ghb;var oF=vX(VAb,'InLayerConstraint',140,IF,JI);hI(174,17,{174:1,3:1,23:1,17:1},Zg);var Khb,Lhb;var pF=vX(VAb,'InteractiveReferencePoint',174,IF,Eu);var Phb;var Rhb,Shb,Thb,Uhb,Vhb,Whb,Xhb,Yhb,Zhb,$hb,_hb,aib,bib,cib,dib,eib,fib,gib,hib,iib,jib,kib,lib,mib,nib,oib,pib,qib,rib,sib,tib,uib,vib,wib,xib,yib,zib,Aib,Bib,Cib,Dib,Eib,Fib,Gib,Hib,Iib,Jib,Kib,Lib,Mib,Nib,Oib,Pib,Qib;hI(85,17,{85:1,3:1,23:1,17:1},$g);var Sib,Tib,Uib,Vib,Wib;var qF=vX(VAb,'LayerConstraint',85,IF,PU);var $ib;hI(219,17,{219:1,3:1,23:1,17:1},_g);var ajb,bjb,cjb;var rF=vX(VAb,'PortType',219,IF,NI);var gjb,hjb,ijb,jjb,kjb,ljb,mjb,njb,ojb,pjb,qjb,rjb,sjb,tjb,ujb,vjb,wjb,xjb,yjb,zjb,Ajb,Bjb,Cjb,Djb,Ejb,Fjb,Gjb,Hjb,Ijb,Jjb,Kjb,Ljb;hI(153,17,{153:1,3:1,23:1,17:1},ah);var Njb,Ojb,Pjb;var sF=vX(VAb,'SelfLoopPlacement',153,IF,PI);var Tjb;hI(134,1,{134:1},$jb);_.a=0;_.b=0;_.c=0;_.d=0;_.e=0;_.f=0;var tF=vq(VAb,'Spacings',134);hI(172,17,{172:1,3:1,23:1,17:1},bh);var _jb,akb,bkb;var uF=vX(VAb,'WideNodesStrategy',172,IF,bJ);var fkb;hI(644,1,{});var xF=vq(nyb,'OutputStream',644);hI(645,644,{});var vF=vq(nyb,'FilterOutputStream',645);hI(291,645,{},D3);var yF=vq(nyb,'PrintStream',291);hI(255,1,{});_.w=function mkb(){return this.a};var AF=vq(kyb,'AbstractStringBuilder',255);hI(621,95,Vxb,Xa);var BF=vq(kyb,'ArrayIndexOutOfBoundsException',621);hI(290,72,Vxb,pa,Pc);var CF=vq(kyb,'ArrayStoreException',290);hI(252,46,Uxb);var JF=vq(kyb,'Error',252);hI(84,252,Uxb,D9,YX);var DF=vq(kyb,'AssertionError',84);Sv={3:1,349:1,23:1};var vkb,wkb;var EF=vq(kyb,'Boolean',349);Tv={3:1,23:1,184:1,231:1};var HF=vq(kyb,'Double',184);hI(15,231,{3:1,23:1,15:1,231:1},V6,X6);_.F=function mlb(a){return Vi(this,Wv(a,15))};_.t=function nlb(a){return aw(a,15)&&Wv(a,15).a==this.a};_.v=function olb(){return hw(this.a)};_.w=function plb(){return Ne(this.a)};_.a=0;var LF=vq(kyb,'Float',15);hI(101,72,Vxb,qa,Qc);var NF=vq(kyb,'IllegalStateException',101);var Flb;var Hlb;hI(608,72,Vxb,Sc);var QF=vq(kyb,'NegativeArraySizeException',608);hI(76,72,{3:1,54:1,76:1,46:1},ra,Tc);var RF=vq(kyb,'NullPointerException',76);hI(130,29,{3:1,54:1,29:1,130:1,46:1},Ya,Qd);var SF=vq(kyb,'NumberFormatException',130);hI(146,1,{3:1,146:1},Qs);_.t=function $lb(a){var b;if(aw(a,146)){b=Wv(a,146);return this.c==b.c&&hs(this.d,b.d)&&hs(this.a,b.a)&&hs(this.b,b.b)}return false};_.v=function _lb(){return fpb(Bv(tv(UF,1),syb,1,4,[Elb(this.c),this.a,this.d,this.b]))};_.w=function amb(){return this.a+'.'+this.d+'('+(this.b!=null?this.b:'Unknown Source')+(this.c>=0?':'+this.c:'')+')'};_.c=0;var WF=vq(kyb,'StackTraceElement',146);hI(98,255,{345:1},Ud,Wd,Od);var YF=vq(kyb,'StringBuilder',98);var Dmb,Emb;hI(45,72,{3:1,54:1,46:1,45:1},sa,Vc);var aG=vq(kyb,'UnsupportedOperationException',45);hI(213,638,Byb);_.Q=function _mb(){_U(this)};_.R=function anb(a){return bX(this,a)};_.ab=function bnb(a){return Rmb(this,a,this.e)||Rmb(this,a,this.d)};_.bb=function cnb(){return new Y6(this)};_.cb=function dnb(a){return Qq(this,a)};_.db=function enb(a,b){return Wr(this,a,b)};_.eb=function fnb(a){return cp(this,a)};_.Y=function gnb(){return bg(this)};var hG=vq(Cyb,'AbstractHashMap',213);hI(120,641,Eyb,Y6);_.Q=function jnb(){this.a.Q()};_.kb=function knb(a){return xP(this,a)};_.mb=function lnb(){return new rnb(this.a)};_.nb=function mnb(a){var b;if(xP(this,a)){b=Wv(a,21).yb();this.a.eb(b);return true}return false};_.Y=function nnb(){return this.a.Y()};var gG=vq(Cyb,'AbstractHashMap/EntrySet',120);hI(148,1,Ayb,rnb);_.H=function tnb(){return uZ(this)};_.G=function snb(){return this.b};_.I=function unb(){xW(this)};_.b=false;var fG=vq(Cyb,'AbstractHashMap/EntrySetIterator',148);hI(162,1,Ayb,Z6);_.G=function xnb(){return this.b<this.d.Y()};_.H=function ynb(){return Pi(this.G()),this.d.sb(this.c=this.b++)};_.I=function znb(){fr(this)};_.b=0;_.c=-1;var iG=vq(Cyb,'AbstractList/IteratorImpl',162);hI(43,162,Hyb,MJ);_.J=function Gnb(a){qm(this,a)};_.K=function Hnb(){return this.b>0};_.L=function Inb(){return this.b};_.M=function Jnb(){return Jp(this)};_.N=function Knb(){return this.b-1};_.O=function Lnb(a){rm(this,a)};var jG=vq(Cyb,'AbstractList/ListIteratorImpl',43);hI(258,647,Fyb,JJ);_.rb=function Nnb(a,b){fV(a,this.b);this.c.rb(this.a+a,b);++this.b};_.sb=function Onb(a){gV(a,this.b);return this.c.sb(this.a+a)};_.vb=function Pnb(a){var b;gV(a,this.b);b=this.c.vb(this.a+a);--this.b;return b};_.wb=function Qnb(a,b){gV(a,this.b);return this.c.wb(this.a+a,b)};_.Y=function Rnb(){return this.b};_.a=0;_.b=0;var kG=vq(Cyb,'AbstractList/SubList',258);hI(36,641,Eyb,e7);_.Q=function Tnb(){this.a.Q()};_.kb=function Unb(a){return this.a.R(a)};_.mb=function Vnb(){var a;return a=this.a.bb().mb(),new r7(a)};_.nb=function Wnb(a){if(this.a.R(a)){this.a.eb(a);return true}return false};_.Y=function Xnb(){return this.a.Y()};var nG=vq(Cyb,'AbstractMap/1',36);hI(40,1,Ayb,r7);_.G=function Znb(){return this.a.G()};_.H=function $nb(){var a;return a=Wv(this.a.H(),21),a.yb()};_.I=function _nb(){this.a.I()};var mG=vq(Cyb,'AbstractMap/1/1',40);hI(211,640,Dyb,s7);_.Q=function bob(){this.a.Q()};_.kb=function cob(a){return this.a.ab(a)};_.mb=function dob(){var a;return a=this.a.bb().mb(),new t7(a)};_.Y=function eob(){return this.a.Y()};var pG=vq(Cyb,'AbstractMap/2',211);hI(212,1,Ayb,t7);_.G=function gob(){return this.a.G()};_.H=function hob(){var a;return a=Wv(this.a.H(),21),a.zb()};_.I=function iob(){this.a.I()};var oG=vq(Cyb,'AbstractMap/2/1',212);hI(210,1,{210:1,21:1});_.t=function kob(a){var b;if(!aw(a,21)){return false}b=Wv(a,21);return hs(this.d,b.yb())&&hs(this.e,b.zb())};_.yb=function lob(){return this.d};_.zb=function mob(){return this.e};_.v=function nob(){return aj(this.d)^aj(this.e)};_.Ab=function oob(a){return Wm(this,a)};_.w=function pob(){return this.d+'='+this.e};var qG=vq(Cyb,'AbstractMap/AbstractEntry',210);hI(163,210,{210:1,163:1,21:1},oh);var rG=vq(Cyb,'AbstractMap/SimpleEntry',163);hI(652,1,Jyb);_.t=function rob(a){var b;if(!aw(a,21)){return false}b=Wv(a,21);return hs(this.yb(),b.yb())&&hs(this.zb(),b.zb())};_.v=function sob(){return aj(this.yb())^aj(this.zb())};_.w=function tob(){return this.yb()+'='+this.zb()};var sG=vq(Cyb,Kyb,652);hI(639,638,Byb);_._=function wob(a){return hV(this,a)};_.R=function xob(a){return kh(this,a)};_.bb=function yob(){return new u7(this)};_.cb=function zob(a){return re(Wvb(this,a))};_.W=function Aob(){return new v7(this)};var xG=vq(Cyb,'AbstractNavigableMap',639);hI(287,641,Eyb,u7);_.kb=function Cob(a){return aw(a,21)&&hV(this.b,Wv(a,21))};_.mb=function Dob(){return new Mm(this.b)};_.nb=function Eob(a){var b;if(aw(a,21)){b=Wv(a,21);return lW(this.b,b)}return false};_.Y=function Fob(){return this.b.c};var uG=vq(Cyb,'AbstractNavigableMap/EntrySet',287);hI(229,641,Iyb,v7);_.Q=function Hob(){tc(this.a)};_.kb=function Iob(a){return kh(this.a,a)};_.mb=function Job(){var a;return a=new Mm((new Gk(this.a)).b),new w7(a)};_.nb=function Kob(a){if(kh(this.a,a)){Dr(this.a,a);return true}return false};_.Y=function Lob(){return this.a.c};var wG=vq(Cyb,'AbstractNavigableMap/NavigableKeySet',229);hI(230,1,Ayb,w7);_.G=function Nob(){return ag(this.a.a)};_.H=function Oob(){var a;return a=Vk(this.a),a.yb()};_.I=function Pob(){Vn(this.a)};var vG=vq(Cyb,'AbstractNavigableMap/NavigableKeySet/1',230);hI(4,1,Ayb,_7);_.G=function Uob(){return Gj(this)};_.H=function Vob(){return QJ(this)};_.I=function Wob(){Ip(this)};_.a=0;_.b=-1;var AG=vq(Cyb,'ArrayList/1',4);hI(94,647,XAb,h8);_.kb=function ppb(a){return dn(this,a)!=-1};_.sb=function qpb(a){return Go(this,a)};_.wb=function rpb(a,b){var c;c=(gV(a,this.a.length),this.a[a]);Av(this.a,a,b);return c};_.Y=function spb(){return this.a.length};_.ob=function tpb(){return npb(this,xv(UF,syb,1,this.a.length,4,1))};_.pb=function upb(a){return npb(this,a)};var CG=vq(Cyb,'Arrays/ArrayList',94);var vpb,wpb,xpb;hI(413,1,fyb,i8);_.$b=function Jpb(a,b){return zT(b,a)};var DG=vq(Cyb,'Collections/2',413);hI(406,647,XAb,F3);_.kb=function Lpb(a){return false};_.sb=function Mpb(a){gV(a,0);return null};_.mb=function Npb(){return ct(),Ag(),Qpb};_.tb=function Opb(){return ct(),Ag(),Qpb};_.Y=function Ppb(){return 0};var FG=vq(Cyb,'Collections/EmptyList',406);hI(407,1,Hyb,J3);_.J=function Tpb(a){throw new sa};_.G=function Upb(){return false};_.K=function Vpb(){return false};_.H=function Wpb(){throw new Ua};_.L=function Xpb(){return 0};_.M=function Ypb(){throw new Ua};_.N=function Zpb(){return-1};_.I=function $pb(){throw new qa};_.O=function _pb(a){throw new qa};var Qpb;var EG=vq(Cyb,'Collections/EmptyListIterator',407);hI(409,638,Ryb,M3);_.R=function bqb(a){return false};_.ab=function cqb(a){return false};_.bb=function dqb(){return ct(),xpb};_.cb=function eqb(a){return null};_.W=function fqb(){return ct(),xpb};_.Y=function gqb(){return 0};_.fb=function hqb(){return ct(),vpb};var GG=vq(Cyb,'Collections/EmptyMap',409);hI(408,641,Syb,N3);_.kb=function jqb(a){return false};_.mb=function kqb(){return ct(),Ag(),Qpb};_.Y=function lqb(){return 0};var HG=vq(Cyb,'Collections/EmptySet',408);hI(410,1,fyb,O3);_.$b=function qqb(a,b){return ye(Wv(a,23),Wv(b,23))};var mqb;var IG=vq(Cyb,'Collections/ReverseComparator',410);hI(411,647,{3:1,22:1,19:1,20:1},n8);_.kb=function sqb(a){return hs(this.a,a)};_.sb=function tqb(a){gV(a,1);return this.a};_.Y=function uqb(){return 1};var JG=vq(Cyb,'Collections/SingletonList',411);hI(217,1,Dyb,o8);_.ib=function Aqb(a){return wa()};_.jb=function Bqb(a){return xa()};_.Q=function Cqb(){ya()};_.kb=function Dqb(a){return this.b.kb(a)};_.lb=function Eqb(a){return this.b.lb(a)};_.V=function Fqb(){return this.b.V()};_.mb=function Gqb(){return new r8(this.b.mb())};_.nb=function Hqb(a){return za()};_.Y=function Iqb(){return this.b.Y()};_.ob=function Jqb(){return this.b.ob()};_.pb=function Kqb(a){return this.b.pb(a)};_.w=function Lqb(){return xb(this.b)};var LG=vq(Cyb,'Collections/UnmodifiableCollection',217);hI(152,1,Ayb,r8);_.G=function Oqb(){return this.b.G()};_.H=function Pqb(){return this.b.H()};_.I=function Qqb(){Aa()};var KG=vq(Cyb,'Collections/UnmodifiableCollectionIterator',152);hI(233,217,Fyb,Ak);_.rb=function Sqb(a,b){throw new sa};_.t=function Tqb(a){return this.a.t(a)};_.sb=function Uqb(a){return this.a.sb(a)};_.v=function Vqb(){return this.a.v()};_.V=function Wqb(){return this.a.V()};_.tb=function Xqb(){return new Ck(this.a.ub(0))};_.ub=function Yqb(a){return new Ck(this.a.ub(a))};_.vb=function Zqb(a){throw new sa};_.wb=function $qb(a,b){throw new sa};_.xb=function _qb(a,b){return new Ak(this.a.xb(a,b))};var NG=vq(Cyb,'Collections/UnmodifiableList',233);hI(309,152,Hyb,Ck);_.J=function brb(a){throw new sa};_.K=function crb(){return this.a.K()};_.L=function drb(){return this.a.L()};_.M=function erb(){return this.a.M()};_.N=function frb(){return this.a.N()};_.O=function grb(a){throw new sa};var MG=vq(Cyb,'Collections/UnmodifiableListIterator',309);hI(305,1,Byb,s8);_.Q=function nrb(){throw new sa};_.R=function orb(a){return this.c.R(a)};_.ab=function prb(a){return cg(this,a)};_.bb=function qrb(){return ls(this)};_.t=function rrb(a){return Ce(this,a)};_.cb=function srb(a){return this.c.cb(a)};_.v=function trb(){return this.c.v()};_.V=function urb(){return this.c.V()};_.W=function vrb(){return Cr(this)};_.db=function wrb(a,b){throw new sa};_.eb=function xrb(a){throw new sa};_.Y=function yrb(){return this.c.Y()};_.w=function zrb(){return xb(this.c)};_.fb=function Arb(){return ms(this)};var RG=vq(Cyb,'Collections/UnmodifiableMap',305);hI(151,217,Eyb,Rd);_.t=function Grb(a){return ze(this,a)};_.v=function Hrb(){return this.b.v()};var TG=vq(Cyb,'Collections/UnmodifiableSet',151);hI(412,151,Eyb,Sd);_.kb=function Orb(a){return gg(this,a)};_.lb=function Prb(a){return hg(this,a)};_.mb=function Qrb(){var a;return a=this.b.mb(),new z8(a)};_.ob=function Rrb(){return nt(this)};_.pb=function Srb(a){return bu(this,a)};var QG=vq(Cyb,'Collections/UnmodifiableMap/UnmodifiableEntrySet',412);hI(263,1,Ayb,z8);_.H=function Vrb(){return new K8(Wv(this.a.H(),21))};_.G=function Urb(){return this.a.G()};_.I=function Wrb(){throw new sa};var OG=vq(Cyb,'Collections/UnmodifiableMap/UnmodifiableEntrySet/1',263);hI(306,1,Jyb,K8);_.t=function Yrb(a){return this.a.t(a)};_.yb=function Zrb(){return this.a.yb()};_.zb=function $rb(){return this.a.zb()};_.v=function _rb(){return this.a.v()};_.Ab=function asb(a){throw new sa};_.w=function bsb(){return xb(this.a)};var PG=vq(Cyb,'Collections/UnmodifiableMap/UnmodifiableEntrySet/UnmodifiableEntry',306);hI(307,233,Gyb,Td);var SG=vq(Cyb,'Collections/UnmodifiableRandomAccessList',307);hI(308,151,Iyb,Dk);_.t=function esb(a){return this.a.t(a)};_.v=function fsb(){return this.a.v()};var UG=vq(Cyb,'Collections/UnmodifiableSortedSet',308);var gsb;hI(522,1,fyb,P3);_.$b=function jsb(a,b){So(a);So(b);return Akb(Wv(a,23),b)};var VG=vq(Cyb,'Comparators/1',522);hI(202,72,Vxb,Sa);var WG=vq(Cyb,'ConcurrentModificationException',202);hI(609,72,Vxb,Ta);var XG=vq(Cyb,'EmptyStackException',609);hI(319,638,Byb,vsb);_.db=function Bsb(a,b){return Bm(this,a,b)};_.Q=function wsb(){Br(this)};_.R=function xsb(a){return dp(this.a,a)};_.ab=function ysb(a){var b,c;for(c=new ng(this.a);c.a<c.c.a.length;){b=MT(c);if(hs(a,this.b[b.e])){return true}}return false};_.bb=function zsb(){return new L8(this)};_.cb=function Asb(a){return gs(this,a)};_.eb=function Csb(a){return eJ(this,a)};_.Y=function Dsb(){return this.a.c};var _G=vq(Cyb,'EnumMap',319);hI(236,641,Eyb,L8);_.Q=function Gsb(){Br(this.a)};_.kb=function Hsb(a){return zP(this,a)};_.mb=function Isb(){return new Vo(this.a)};_.nb=function Jsb(a){var b;if(zP(this,a)){b=Wv(a,21).yb();eJ(this.a,b);return true}return false};_.Y=function Ksb(){return this.a.a.c};var ZG=vq(Cyb,'EnumMap/EntrySet',236);hI(237,1,Ayb,Vo);_.H=function Nsb(){return this.b=MT(this.a),new nh(this.c,this.b)};_.G=function Msb(){return Ij(this.a)};_.I=function Osb(){Mi(!!this.b);eJ(this.c,this.b);this.b=null};var YG=vq(Cyb,'EnumMap/EntrySetIterator',237);hI(238,652,Jyb,nh);_.yb=function Qsb(){return this.a};_.zb=function Rsb(){return this.b.b[this.a.e]};_.Ab=function Ssb(a){return gq(this.b,this.a.e,a)};var $G=vq(Cyb,'EnumMap/MapEntry',238);hI(86,641,{22:1,19:1,86:1,18:1});var cH=vq(Cyb,'EnumSet',86);hI(66,86,{22:1,19:1,86:1,66:1,18:1},Ln);_.ib=function btb(a){return g_(this,Wv(a,17))};_.kb=function ctb(a){return dp(this,a)};_.mb=function dtb(){return new ng(this)};_.nb=function etb(a){return ep(this,a)};_.Y=function ftb(){return this.c};_.c=0;var bH=vq(Cyb,'EnumSet/EnumSetImpl',66);hI(167,1,Ayb,ng);_.H=function ltb(){return MT(this)};_.G=function ktb(){return Ij(this)};_.I=function mtb(){Mi(this.b!=-1);Av(this.c.b,this.b,null);--this.c.c;this.b=-1};_.a=-1;_.b=-1;var aH=vq(Cyb,'EnumSet/EnumSetImpl/IteratorImpl',167);hI(30,213,YAb,K9,og,ci);_.Uc=function qtb(a,b){return gw(a)===gw(b)||a!=null&&rb(a,b)};_.Vc=function rtb(a){var b;b=vb(a);return b|0};var dH=vq(Cyb,'HashMap',30);hI(50,641,ZAb,Lb,Oe,Uo);_.ib=function ztb(a){return _p(this,a)};_.Q=function Atb(){this.a.Q()};_.Wc=function Btb(){return new Uo(this)};_.kb=function Ctb(a){return De(this,a)};_.V=function Dtb(){return this.a.Y()==0};_.mb=function Etb(){var a;return a=(new e7(this.a)).a.bb().mb(),new r7(a)};_.nb=function Ftb(a){return Mj(this,a)};_.Y=function Gtb(){return this.a.Y()};_.w=function Htb(){return Ze(new e7(this.a))};var eH=vq(Cyb,'HashSet',50);hI(418,1,Oyb,bj);_.mb=function Otb(){return new Zu(this)};_.c=0;var gH=vq(Cyb,'InternalHashCodeMap',418);hI(312,1,Ayb,Zu);_.H=function Rtb(){return this.d=this.a[this.c++],this.d};_.G=function Qtb(){var a;if(this.c<this.a.length){return true}a=this.b.next();if(!a.done){this.a=a.value[1];this.c=0;return true}return false};_.I=function Stb(){Mtb(this.e,this.d.yb());this.c!=0&&--this.c};_.c=0;_.d=null;var fH=vq(Cyb,'InternalHashCodeMap/1',312);var Xtb;hI(382,1,Oyb,cj);_.mb=function gub(){return new OT(this)};_.c=0;_.d=0;var jH=vq(Cyb,'InternalStringMap',382);hI(293,1,Ayb,OT);_.H=function jub(){return this.c=this.a,this.a=this.b.next(),new On(this.d,this.c,this.d.d)};_.G=function iub(){return!this.a.done};_.I=function kub(){eub(this.d,this.c.value[0])};var hH=vq(Cyb,'InternalStringMap/1',293);hI(383,652,Jyb,On);_.yb=function mub(){return this.b.value[0]};_.zb=function nub(){if(this.a.d!=this.c){return jh(this.a,this.b.value[0])}return this.b.value[1]};_.Ab=function oub(a){return dub(this.a,this.b.value[0],a)};_.c=0;var iH=vq(Cyb,'InternalStringMap/2',383);hI(155,30,YAb,gU,_W);_.Q=function yub(){Xm(this)};_.R=function zub(a){return bX(this.c,a)};_.ab=function Aub(a){var b;b=this.b.a;while(b!=this.b){if(hs(b.e,a)){return true}b=b.a}return false};_.bb=function Bub(){return new W8(this)};_.cb=function Cub(a){return qY(this,a)};_.db=function Dub(a,b){return tub(this,a,b)};_.eb=function Eub(a){return VX(this,a)};_.Y=function Fub(){return bg(this.c)};_.a=false;var nH=vq(Cyb,'LinkedHashMap',155);hI(176,163,{210:1,163:1,176:1,21:1},$k,co);var kH=vq(Cyb,'LinkedHashMap/ChainEntry',176);hI(270,641,Eyb,W8);_.Q=function Mub(){Xm(this.a)};_.kb=function Nub(a){return mR(this,a)};_.mb=function Oub(){return new hr(this)};_.nb=function Pub(a){var b;if(mR(this,a)){b=Wv(a,21).yb();VX(this.a,b);return true}return false};_.Y=function Qub(){return bg(this.a.c)};var mH=vq(Cyb,'LinkedHashMap/EntrySet',270);hI(271,1,Ayb,hr);_.H=function Uub(){return rW(this)};_.G=function Tub(){return this.b!=this.c.a.b};_.I=function Vub(){Mi(!!this.a);Qp(this.c.a.c,this);wo(this.a);cp(this.c.a.c,this.a.d);yk(this.c.a.c,this);this.a=null};var lH=vq(Cyb,'LinkedHashMap/EntrySet/EntryIterator',271);hI(70,50,ZAb,Qi,Ek,To);_.Wc=function Zub(){return new To(this)};var oH=vq(Cyb,'LinkedHashSet',70);hI(372,1,Hyb,Kn);_.J=function dvb(a){$p(this,a)};_.G=function evb(){return this.b!=this.d.c};_.K=function fvb(){return this.b.b!=this.d.a};_.H=function gvb(){return tS(this)};_.L=function hvb(){return this.a};_.M=function ivb(){return SJ(this)};_.N=function jvb(){return this.a-1};_.I=function kvb(){KY(this)};_.O=function lvb(a){Mi(!!this.c);this.c.c=a};_.a=0;_.c=null;var pH=vq(Cyb,'LinkedList/ListIteratorImpl',372);hI(259,1,{},R3);var qH=vq(Cyb,'LinkedList/Node',259);hI(74,72,{3:1,54:1,46:1,74:1},Ua);var tH=vq(Cyb,'NoSuchElementException',74);hI(154,1,{154:1},yvb,jY);_.a=0;_.b=0;var qvb,rvb,svb=0;var uH=vq(Cyb,'Random',154);hI(607,647,cBb);_.rb=function Avb(a,b){Fn(a,this.a.c.length+1);uU(this.a,a,b)};_.ib=function Bvb(a){return vU(this.a,a)};_.jb=function Cvb(a){return xU(this.a,a)};_.Q=function Evb(){this.a.c=xv(UF,syb,1,0,4,1)};_.kb=function Fvb(a){return zU(this.a,a,0)!=-1};_.lb=function Gvb(a){return Xe(this.a,a)};_.sb=function Hvb(a){Fn(a,this.a.c.length);return yU(this.a,a)};_.V=function Ivb(){return this.a.c.length==0};_.mb=function Jvb(){return new _7(this.a)};_.vb=function Kvb(a){return Fn(a,this.a.c.length),AU(this.a,a)};_.Xb=function Lvb(a,b){CU(this.a,a,b)};_.wb=function Mvb(a,b){Fn(a,this.a.c.length);return DU(this.a,a,b)};_.Y=function Nvb(){return this.a.c.length};_.xb=function Ovb(a,b){return new JJ(this.a,a,b)};_.ob=function Pvb(){return EU(this.a)};_.pb=function Qvb(a){return FU(this.a,a)};_.w=function Rvb(){return Ze(this.a)};var GH=vq(Cyb,'Vector',607);hI(337,607,cBb,Ba);var vH=vq(Cyb,'Stack',337);hI(253,639,Ryb,pg,nv);_.Q=function kwb(){tc(this)};_.bb=function lwb(){return new Gk(this)};_.db=function mwb(a,b){return bwb(this,a,b)};_.eb=function nwb(a){return Dr(this,a)};_.Y=function owb(){return this.c};_.c=0;var EH=vq(Cyb,'TreeMap',253);hI(182,1,Ayb,Mm);_.H=function uwb(){return Vk(this)};_.G=function twb(){return ag(this.a)};_.I=function vwb(){Vn(this)};var wH=vq(Cyb,'TreeMap/EntryIterator',182);hI(209,287,Eyb,Gk);_.Q=function xwb(){tc(this.a)};var xH=vq(Cyb,'TreeMap/EntrySet',209);hI(183,163,{210:1,163:1,21:1,183:1},aX);_.b=false;var yH=vq(Cyb,'TreeMap/Node',183);hI(254,1,{},S3);_.w=function Awb(){return'State: mv='+this.c+' value='+this.d+' done='+this.a+' found='+this.b};_.a=false;_.b=false;_.c=false;var zH=vq(Cyb,'TreeMap/State',254);hI(138,17,dBb,mh);_.Xc=function Hwb(){return false};_.Yc=function Iwb(){return false};var Bwb,Cwb,Dwb,Ewb;var DH=vX(Cyb,'TreeMap/SubMapType',138,IF,NS);hI(352,138,dBb,qj);_.Yc=function Lwb(){return true};var AH=vX(Cyb,'TreeMap/SubMapType/1',352,DH,null);hI(353,138,dBb,Pj);_.Xc=function Nwb(){return true};_.Yc=function Owb(){return true};var BH=vX(Cyb,'TreeMap/SubMapType/2',353,DH,null);hI(354,138,dBb,rj);_.Xc=function Qwb(){return true};var CH=vX(Cyb,'TreeMap/SubMapType/3',354,DH,null);hI(191,641,{3:1,22:1,19:1,18:1,137:1,191:1},Ob,Pe);_.ib=function Xwb(a){return sq(this,a)};_.Q=function Ywb(){tc(this.a)};_.kb=function Zwb(a){return kh(this.a,a)};_.mb=function $wb(){var a;return a=new Mm((new Gk((new v7(this.a)).a)).b),new w7(a)};_.nb=function _wb(a){return Qk(this,a)};_.Y=function axb(){return this.a.c};var FH=vq(Cyb,'TreeSet',191);var sxb=0;var Kxb,Lxb=0,Mxb;var mw=Fr('int','I');var KH=Fr('boolean','Z');var jw=Fr('char','C');var kw=Fr('double','D');var lw=Fr('float','F');var Rxb=zt;var gG1=gG1=dI;bI(lI);eI('permProps',[[['locale','default'],['user.agent','gecko1_8']]]);var hG1,iG1,jG1=function(){},kG1=function(){};gG1(null,'klay',null);})();
},
	"sap/ui/thirdparty/mobify-carousel.js":'var Mobify=window.Mobify=window.Mobify||{};Mobify.$=Mobify.$||window.Zepto||window.jQuery;Mobify.UI=Mobify.UI||{classPrefix:""};(function($,d){$.support=$.support||{};$.extend($.support,{"touch":"ontouchend"in d});})(Mobify.$,document);Mobify.UI.Utils=(function($){var a={},h=$.support;a.events={down:"touchstart mousedown",move:"touchmove mousemove",up:"touchend touchcancel mouseup"};a.getCursorPosition=function(e){e=e.originalEvent||e;var T=e.touches&&e.touches[0];return{x:T?T.clientX:e.clientX,y:T?T.clientY:e.clientY}};a.getProperty=function(n){var p=["Webkit","Moz","O","ms",""],c=document.createElement("div").style;for(var i=0;i<p.length;++i){if(c[p[i]+n]!==undefined){return p[i]+n;}}return;};$.extend(h,{"transform":!!(a.getProperty("Transform")),"transform3d":!!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix())});var t=a.getProperty("Transform");if(h.transform3d){a.translateX=function(e,c){if(typeof c=="number")c=c+"px";e.style[t]="translate3d("+c+",0,0)";};}else if(h.transform){a.translateX=function(e,c){if(typeof c=="number")c=c+"px";e.style[t]="translate("+c+",0)";};}else{a.translateX=function(e,c){if(typeof c=="number")c=c+"px";e.style.left=c;};}var b=a.getProperty("Transition"),d=a.getProperty("TransitionDuration");a.setTransitions=function(e,c){if(c){e.style[d]="";}else{e.style[d]="0s";}};a.requestAnimationFrame=(function(){var p=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1000/60);});var r=function(){p.apply(window,arguments);};return r;})();return a;})(Mobify.$);Mobify.UI.Carousel=(function($,U){var d={dragRadius:10,moveRadius:20,classPrefix:undefined,classNames:{outer:"sapMCrsl",inner:"sapMCrslInner",item:"sapMCrslItem",center:"sapMCrslCenter",touch:"has-touch",dragging:"dragging",active:"sapMCrslActive"}},h=$.support;var C=function(e,o){this.setOptions(o);this.initElements(e);this.initOffsets();this.initAnimation();this.bind();};C.defaults=d;C.prototype.setOptions=function(o){var a=this.options||$.extend({},d,o);a.classNames=$.extend({},a.classNames,o.classNames||{});a.classPrefix=a.classPrefix||Mobify.UI.classPrefix;this.options=a;};C.prototype.initElements=function(e){this._index=1;this.element=e;this.$element=$(e);this.$inner=this.$element.find("."+this._getClass("inner"));this.$items=this.$inner.children();this.$start=this.$items.eq(0);this.$sec=this.$items.eq(1);this.$current=this.$items.eq(this._index);this._length=this.$items.length;this._alignment=this.$element.hasClass(this._getClass("center"))?0.5:0;};C.prototype.initOffsets=function(){this._offset=0;this._offsetDrag=0;};C.prototype.initAnimation=function(){this.animating=false;this.dragging=false;this.hasActiveTransition=false;this._needsUpdate=false;this._sTransitionEvents="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";this._enableAnimation();};C.prototype._getClass=function(i){return this.options.classPrefix+this.options.classNames[i];};C.prototype._enableAnimation=function(){if(this.animating){return;}U.setTransitions(this.$inner[0],true);this.$inner.removeClass(this._getClass("dragging"));this.animating=true;};C.prototype._disableAnimation=function(){if(!this.animating){return;}U.setTransitions(this.$inner[0],false);this.$inner.addClass(this._getClass("dragging"));this.animating=false;};C.prototype.update=function(){if(this._needsUpdate){return;}var s=this;this._needsUpdate=true;U.requestAnimationFrame(function(){s._update();});};C.prototype._update=function(){var a,c,x;if(!this._needsUpdate){return;}a=this.$items.eq(this._index-1);c=a.prop("offsetLeft")+a.prop("clientWidth")*this._alignment,startOffset=this.$start.prop("offsetLeft")+this.$start.prop("clientWidth")*this._alignment;this._offset=-(c-startOffset);x=Math.round(this._offset+this._offsetDrag);if(this.$inner){U.translateX(this.$inner[0],x);}this._needsUpdate=false;};C.prototype.setLoop=function(l){this._bLoop=l;};C.prototype.getLoop=function(){return this._bLoop;};C.prototype.setRTL=function(r){this._bRTL=r;};C.prototype.getRTL=function(){return this._bRTL;};C.prototype.changeAnimation=function(t,c,o,a){if(this.$inner){var b=this.$inner,T="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var f=function(){b.unbind(T,f);b.removeClass(t);if(c){c.apply(o,a);}};b.addClass(t);b.bind(T,f);}};C.prototype.resize=function(){this.changeAnimation("sapMCrslHideNonActive");this.update();};C.prototype.touchstart=function(e){if(this._fnStart){this._fnStart.call(this,e);}else{jQuery.sap.log.warning("Mobify\'s \'start\' method not available yet.")}};C.prototype.touchmove=function(e){if(jQuery(e.target).is("input, textarea, select, [contenteditable=\'true\']")){return;}if(this._fnDrag){this._fnDrag.call(this,e);}else{jQuery.sap.log.warning("Mobify\'s \'drag\' method not available yet.")}};C.prototype.touchend=function(e){if(this._fnEnd){this._fnEnd.call(this,e);}else{jQuery.sap.log.warning("Mobify\'s \'end\' method not available yet.")}};C.prototype.bind=function(){var a=Math.abs,b=false,c=false,f=this.options.dragRadius,x,g,j,k,s=this,l=this.$element,m=this.$inner,o=this.options,n=this.$element.width(),p=false,q=false;if(!s._fnStart){s._fnStart=function start(e){if(e.isMarked("delayedMouseEvent")){return;}var E=jQuery(e.target).control(0);if(E instanceof sap.m.Slider||E instanceof sap.m.Switch||E instanceof sap.m.IconTabBar){c=true;return;}b=true;c=false;x=U.getCursorPosition(e);g=0;j=0;k=false;s._disableAnimation();p=s._index==1;q=s._index==s._length;};s._fnDrag=function drag(e){if(!b||c||e.isMarked("delayedMouseEvent")){return;}e.setMarked();var i=U.getCursorPosition(e);g=x.x-i.x;j=x.y-i.y;if(k||a(g)>a(j)&&(a(g)>f)){k=true;e.preventDefault();if(p&&(g<0)){g=g*(-n)/(g-n);}else if(q&&(g>0)){g=g*(n)/(g+n);}s._offsetDrag=-g;s.update();}else if((a(j)>a(g))&&(a(j)>f)){c=true;}};s._fnEnd=function end(e){if(!b||e.isMarked("delayedMouseEvent")){return;}b=false;s._enableAnimation();if(!c&&a(g)>o.moveRadius){if(g>0){s.getRTL()?s.prev():s.next();}else{s.getRTL()?s.next():s.prev();}}else{s._offsetDrag=0;s.update();}};}function r(e){if(k){e.preventDefault();e.stopPropagation();e.setMarked();}}m.on("click.carousel",r).on("mouseout.carousel",s._fnEnd);l.on("click","[data-slide]",function(e){var i=jQuery(e.target).closest(".sapMCrsl");if(i[0]!=l[0]){return;}e.preventDefault();var t=$(this).attr("data-slide"),u=parseInt(t,10);if(isNaN(u)){s[t]();}else{}});l.on("afterSlide",function(e,t,u){var F=u-1,A=s._getClass("active");if(e.target!=this){return;}var I=s.$element[0].id,P=I.replace(/(:|\\.)/g,"\\\\$1")+"-pageIndicator";for(var i=F;i<F+s.options.numberOfItemsToShow;i++){var v=s.$items.eq(i);v.addClass(A);}s.$element.find("#"+P+\' > [data-slide=\\\'\'+t+\'\\\']\').removeClass(s._getClass("active"));s.$element.find("#"+P+\' > [data-slide=\\\'\'+u+\'\\\']\').addClass(s._getClass("active"));if(s.$items[u-1]){this.setAttribute("aria-activedescendant",s.$items[u-1].id);}});l.trigger("beforeSlide",[1,1]);l.trigger("afterSlide",[1,1]);s.update();};C.prototype.unbind=function(){this.$inner.off();};C.prototype.onTransitionComplete=function(){this.$inner.unbind(this._sTransitionEvents,this.onTransitionComplete);var a=this._getClass("active"),i;for(i=0;i<this.$items.length;i++){if(i!=this._index-1){this.$items.eq(i).removeClass(a);}}this.hasActiveTransition=false;this.$element.trigger("afterSlide",[this._prevIndex,this._index]);};C.prototype.destroy=function(){this.unbind();this.$element.trigger("destroy");this.$element.remove();this.$element=null;this.$inner=null;this.$start=null;this.$current=null;this._needsUpdate=false;};C.prototype.move=function(n,o){if(this._length===0||this.hasActiveTransition==true){return;}var a=this.$element,b=this.$inner,c=this.$items,e=this.$start,f=this.$current,l=this._length,i=this._index;o=o||{};if(n<1){if(this._bLoop){n=this._length;}else{n=1;}}else if(n>this._length){if(this._bLoop){n=1;}else{n=l;}}if(n+this.options.numberOfItemsToShow>this._length){n=this._length-this.options.numberOfItemsToShow+1;}var t=true;if(n==this._index){t=false;}if(t){a.trigger("beforeSlide",[i,n]);}this._offsetDrag=0;this._prevIndex=this._index;this._index=n;this.update();if(t){this.hasActiveTransition=true;b.bind(this._sTransitionEvents,jQuery.proxy(this.onTransitionComplete,this));}};C.prototype.next=function(){this.move(this._index+1);};C.prototype.prev=function(){this.move(this._index-1);};return C;})(Mobify.$,Mobify.UI.Utils);(function($){$.fn.carousel=function(a,o){var i=$.extend({},$.fn.carousel.defaults,o);if(typeof a=="object"){i=$(i,a);o=null;a=null;}this.each(function(){var b=$(this),c=this._carousel;if(!c){c=new Mobify.UI.Carousel(this,i);}if(a){c[a](o);if(a==="destroy"){c=null;}}this._carousel=c;});return this;};$.fn.carousel.defaults={};})(Mobify.$);\n',
	"sap/ui/thirdparty/mobiscroll/js/mobiscroll-datetime.js":function(){(function($){var c=$.mobiscroll,e=new Date(),g={startYear:e.getFullYear()-100,endYear:e.getFullYear()+1,shortYearCutoff:'+10',showNow:false,stepHour:1,stepMinute:1,stepSecond:1,separator:' '},q=function(h){var l=$(this),n={},r;if(l.is('input')){switch(l.attr('type')){case'date':r='yy-mm-dd';break;case'datetime':r='yy-mm-ddTHH:ii:ssZ';break;case'datetime-local':r='yy-mm-ddTHH:ii:ss';break;case'month':r='yy-mm';n.dateOrder='mmyy';break;case'time':r='HH:ii:ss';break;}var u=l.attr('min'),z=l.attr('max');if(u){n.minDate=c.parseDate(r,u);}if(z){n.maxDate=c.parseDate(r,z);}}var i,k,A,B,C,D,E,F,G,H=$.extend({},h.settings),s=$.extend(h.settings,g,n,H),I=0,J=[],K=[],o={},f={y:'getFullYear',m:'getMonth',d:'getDate',h:b1,i:c1,s:d1,a:e1},p=s.preset,L=s.dateOrder,M=s.timeWheels,N=L.match(/D/),O=M.match(/a/i),P=M.match(/h/),Q=p=='datetime'?s.dateFormat+s.separator+s.timeFormat:p=='time'?s.timeFormat:s.dateFormat,R=new Date(),S=s.stepHour,T=s.stepMinute,U=s.stepSecond,V=s.minDate||new Date(s.startYear,0,1),W=s.maxDate||new Date(s.endYear,11,31,23,59,59);r=r||Q;if(p.match(/date/i)){$.each(['y','m','d'],function(j,v){i=L.search(new RegExp(v,'i'));if(i>-1){K.push({o:i,v:v});}});K.sort(function(a,b){return a.o>b.o?1:-1;});$.each(K,function(i,v){o[v.v]=i;});C=[];for(k=0;k<3;k++){if(k==o.y){I++;B=[];A=[];D=V.getFullYear();E=W.getFullYear();for(i=D;i<=E;i++){A.push(i);B.push(L.match(/yy/i)?i:(i+'').substr(2,2));}_(C,A,B,s.yearText);}else if(k==o.m){I++;B=[];A=[];for(i=0;i<12;i++){var X=L.replace(/[dy]/gi,'').replace(/mm/,i<9?'0'+(i+1):i+1).replace(/m/,(i+1));A.push(i);B.push(X.match(/MM/)?X.replace(/MM/,'<span class="dw-mon">'+s.monthNames[i]+'</span>'):X.replace(/M/,'<span class="dw-mon">'+s.monthNamesShort[i]+'</span>'));}_(C,A,B,s.monthText);}else if(k==o.d){I++;B=[];A=[];for(i=1;i<32;i++){A.push(i);B.push(L.match(/dd/i)&&i<10?'0'+i:i);}_(C,A,B,s.dayText);}}J.push(C);}if(p.match(/time/i)){G=true;K=[];$.each(['h','i','s','a'],function(i,v){i=M.search(new RegExp(v,'i'));if(i>-1){K.push({o:i,v:v});}});K.sort(function(a,b){return a.o>b.o?1:-1;});$.each(K,function(i,v){o[v.v]=I+i;});C=[];for(k=I;k<I+4;k++){if(k==o.h){I++;B=[];A=[];for(i=0;i<(P?12:24);i+=S){A.push(i);B.push(P&&i==0?12:M.match(/hh/i)&&i<10?'0'+i:i);}_(C,A,B,s.hourText);}else if(k==o.i){I++;B=[];A=[];for(i=0;i<60;i+=T){A.push(i);B.push(M.match(/ii/)&&i<10?'0'+i:i);}_(C,A,B,s.minuteText);}else if(k==o.s){I++;B=[];A=[];for(i=0;i<60;i+=U){A.push(i);B.push(M.match(/ss/)&&i<10?'0'+i:i);}_(C,A,B,s.secText);}else if(k==o.a){I++;var Y=M.match(/A/);_(C,[0,1],Y?['AM','PM']:['am','pm'],s.ampmText);}}J.push(C);}function Z(d,i,a){if(o[i]!==undefined){return+d[o[i]];}if(a!==undefined){return a;}return R[f[i]]?R[f[i]]():f[i](R);}function _(C,k,v,a){C.push({values:v,keys:k,label:a});}function a1(v,a){return Math.floor(v/a)*a;}function b1(d){var a=d.getHours();a=P&&a>=12?a-12:a;return a1(a,S);}function c1(d){return a1(d.getMinutes(),T);}function d1(d){return a1(d.getSeconds(),U);}function e1(d){return O&&d.getHours()>11?1:0;}function f1(d){var a=Z(d,'h',0);return new Date(Z(d,'y'),Z(d,'m'),Z(d,'d',1),Z(d,'a')?a+12:a,Z(d,'i',0),Z(d,'s',0));}function g1(t,v){return $('.dw-li',t).index($('.dw-li[data-val="'+v+'"]',t));}function h1(t,v,z,a){if(v<0){return 0;}if(v>z){return $('.dw-li',t).length;}return g1(t,v)+a;}h.setDate=function(d,a,t,b,j){var i;for(i in o){h.temp[o[i]]=d[f[i]]?d[f[i]]():f[i](d);}h.setValue(h.temp,a,t,b,j);};h.getDate=function(t){return f1(t?h.temp:h.values);};h.convert=function(a){var x=a;if(!$.isArray(a)){x=[];$.each(a,function(i,o){$.each(o,function(j,o){if(i==='daysOfWeek'){if(o.d){o.d='w'+o.d;}else{o='w'+o;}}x.push(o);});});}return x;};h.format=Q;h.buttons.now={text:s.nowText,css:'dwb-n',handler:function(){h.setDate(new Date(),false,0.3,true,true);}};if(s.showNow){s.buttons.splice($.inArray('set',s.buttons)+1,0,'now');}F=s.invalid?h.convert(s.invalid):false;return{wheels:J,headerText:s.headerText?function(v){return c.formatDate(Q,f1(h.temp),s);}:false,formatResult:function(d){return c.formatDate(r,f1(d),s);},parseValue:function(v){var d=c.parseDate(r,v,s),i,a=[];for(i in o){a[o[i]]=d[f[i]]?d[f[i]]():f[i](d);}return a;},validate:function(a,i,b,j1){var k1=h.temp,l1={y:V.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},m1={y:W.getFullYear(),m:11,d:31,h:a1(P?11:23,S),i:a1(59,T),s:a1(59,U),a:1},n1={h:S,i:T,s:U,a:1},y=Z(k1,'y'),m=Z(k1,'m'),o1=true,p1=true;$.each(['y','m','d','a','h','i','s'],function(x,i){if(o[i]!==undefined){var u=l1[i],z=m1[i],q1=31,r1=Z(k1,i),t=$('.dw-ul',a).eq(o[i]);if(i=='d'){q1=32-new Date(y,m,32).getDate();z=q1;if(N){$('.dw-li',t).each(function(){var l=$(this),d=l.data('val'),w=new Date(y,m,d).getDay(),X=L.replace(/[my]/gi,'').replace(/dd/,d<10?'0'+d:d).replace(/d/,d);$('.dw-i',l).html(X.match(/DD/)?X.replace(/DD/,'<span class="dw-day">'+s.dayNames[w]+'</span>'):X.replace(/D/,'<span class="dw-day">'+s.dayNamesShort[w]+'</span>'));});}}if(o1&&V){u=V[f[i]]?V[f[i]]():f[i](V);}if(p1&&W){z=W[f[i]]?W[f[i]]():f[i](W);}if(i!='y'){var i1=g1(t,u),i2=g1(t,z);$('.dw-li',t).removeClass('dw-v').slice(i1,i2+1).addClass('dw-v');if(i=='d'){$('.dw-li',t).removeClass('dw-h').slice(q1).addClass('dw-h');}}if(r1<u){r1=u;}if(r1>z){r1=z;}if(o1){o1=r1==u;}if(p1){p1=r1==z;}if(F&&i=='d'){var d,j,k,v,u1=new Date(y,m,1).getDay(),w1=[];for(j=0;j<F.length;j++){d=F[j];v=d+'';if(!d.start){if(d.getTime){if(d.getFullYear()==y&&d.getMonth()==m){w1.push(d.getDate()-1);}}else if(!v.match(/w/i)){v=v.split('/');if(v[1]){if(v[0]-1==m){w1.push(v[1]-1);}}else{w1.push(v[0]-1);}}else{v=+v.replace('w','');for(k=v-u1;k<q1;k+=7){if(k>=0){w1.push(k);}}}}}$.each(w1,function(i,v){$('.dw-li',t).eq(v).removeClass('dw-v');});r1=h.getValidCell(r1,t,j1).val;}k1[o[i]]=r1;}});if(G&&F){var dd,v,r1,X,s1,t1,j,v1,v2,i1,i2,y1,z1,A1,B1,C1,D1={},d=Z(k1,'d'),E1=new Date(y,m,d),w=['a','h','i','s'];$.each(F,function(i,t){if(t.start){t.apply=false;dd=t.d;v=dd+'';X=v.split('/');if(dd&&((dd.getTime&&y==dd.getFullYear()&&m==dd.getMonth()&&d==dd.getDate())||(!v.match(/w/i)&&((X[1]&&d==X[1]&&m==X[0]-1)||(!X[1]&&d==X[0])))||(v.match(/w/i)&&E1.getDay()==+v.replace('w','')))){t.apply=true;D1[E1]=true;}}});$.each(F,function(i,t){if(t.start&&(t.apply||(!t.d&&!D1[E1]))){s1=t.start.split(':');t1=t.end.split(':');for(j=0;j<3;j++){if(s1[j]===undefined){s1[j]=0;}if(t1[j]===undefined){t1[j]=59;}s1[j]=+s1[j];t1[j]=+t1[j];}s1.unshift(s1[0]>11?1:0);t1.unshift(t1[0]>11?1:0);if(P){if(s1[1]>=12){s1[1]=s1[1]-12;}if(t1[1]>=12){t1[1]=t1[1]-12;}}y1=true;z1=true;$.each(w,function(i,v){if(o[v]!==undefined){r1=Z(k1,v);B1=0;C1=0;i1=0;i2=undefined;A1=$('.dw-ul',a).eq(o[v]);for(j=i+1;j<4;j++){if(s1[j]>0){B1=n1[v];}if(t1[j]<m1[w[j]]){C1=n1[v];}}v1=a1(s1[i]+B1,n1[v]);v2=a1(t1[i]-C1,n1[v]);if(y1){i1=h1(A1,v1,m1[v],0);}if(z1){i2=h1(A1,v2,m1[v],1);}if(y1||z1){$('.dw-li',A1).slice(i1,i2).removeClass('dw-v');}r1=h.getValidCell(r1,A1,j1).val;y1=y1&&r1==a1(s1[i],n1[v]);z1=z1&&r1==a1(t1[i],n1[v]);k1[o[v]]=r1;}});}});}}};};c.i18n.en=$.extend(c.i18n.en,{dateFormat:'mm/dd/yy',dateOrder:'mmddy',timeWheels:'hhiiA',timeFormat:'hh:ii A',monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNamesShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],dayNamesShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],monthText:'Month',dayText:'Day',yearText:'Year',hourText:'Hours',minuteText:'Minutes',secText:'Seconds',ampmText:'&nbsp;',nowText:'Now'});$.each(['date','time','datetime'],function(i,v){c.presets[v]=q;c.presetShort(v);});c.formatDate=function(f,e,a){if(!e){return null;}var s=$.extend({},g,a),b=function(m){var n=0;while(i+1<f.length&&f.charAt(i+1)==m){n++;i++;}return n;},d=function(m,v,l){var n=''+v;if(b(m)){while(n.length<l){n='0'+n;}}return n;},j=function(m,v,s,l){return(b(m)?l[v]:s[v]);},i,o='',k=false;for(i=0;i<f.length;i++){if(k){if(f.charAt(i)=="'"&&!b("'")){k=false;}else{o+=f.charAt(i);}}else{switch(f.charAt(i)){case'd':o+=d('d',e.getDate(),2);break;case'D':o+=j('D',e.getDay(),s.dayNamesShort,s.dayNames);break;case'o':o+=d('o',(e.getTime()-new Date(e.getFullYear(),0,0).getTime())/86400000,3);break;case'm':o+=d('m',e.getMonth()+1,2);break;case'M':o+=j('M',e.getMonth(),s.monthNamesShort,s.monthNames);break;case'y':o+=(b('y')?e.getFullYear():(e.getYear()%100<10?'0':'')+e.getYear()%100);break;case'h':var h=e.getHours();o+=d('h',(h>12?(h-12):(h==0?12:h)),2);break;case'H':o+=d('H',e.getHours(),2);break;case'i':o+=d('i',e.getMinutes(),2);break;case's':o+=d('s',e.getSeconds(),2);break;case'a':o+=e.getHours()>11?'pm':'am';break;case'A':o+=e.getHours()>11?'PM':'AM';break;case"'":if(b("'")){o+="'";}else{k=true;}break;default:o+=f.charAt(i);}}}return o;};c.parseDate=function(f,v,a){var s=$.extend({},g,a),d=s.defaultValue||new Date();if(!f||!v){return d;}v=(typeof v=='object'?v.toString():v+'');var b=s.shortYearCutoff,y=d.getFullYear(),m=d.getMonth()+1,h=d.getDate(),j=-1,k=d.getHours(),n=d.getMinutes(),o=0,p=-1,r=false,t=function(i){var l=(F+1<f.length&&f.charAt(F+1)==i);if(l){F++;}return l;},u=function(i){t(i);var l=(i=='@'?14:(i=='!'?20:(i=='y'?4:(i=='o'?3:2)))),A=new RegExp('^\\d{1,'+l+'}'),B=v.substr(V).match(A);if(!B){return 0;}V+=B[0].length;return parseInt(B[0],10);},w=function(A,s,l){var B=(t(A)?l:s),i;for(i=0;i<B.length;i++){if(v.substr(V,B[i].length).toLowerCase()==B[i].toLowerCase()){V+=B[i].length;return i+1;}}return 0;},x=function(){V++;},V=0,F;for(F=0;F<f.length;F++){if(r){if(f.charAt(F)=="'"&&!t("'")){r=false;}else{x();}}else{switch(f.charAt(F)){case'd':h=u('d');break;case'D':w('D',s.dayNamesShort,s.dayNames);break;case'o':j=u('o');break;case'm':m=u('m');break;case'M':m=w('M',s.monthNamesShort,s.monthNames);break;case'y':y=u('y');break;case'H':k=u('H');break;case'h':k=u('h');break;case'i':n=u('i');break;case's':o=u('s');break;case'a':p=w('a',['am','pm'],['am','pm'])-1;break;case'A':p=w('A',['am','pm'],['am','pm'])-1;break;case"'":if(t("'")){x();}else{r=true;}break;default:x();}}}if(y<100){y+=new Date().getFullYear()-new Date().getFullYear()%100+(y<=(typeof b!='string'?b:new Date().getFullYear()%100+parseInt(b,10))?0:-100);}if(j>-1){m=1;h=j;do{var z=32-new Date(y,m-1,32).getDate();if(h<=z){break;}m++;h-=z;}while(true);}k=(p==-1)?k:((p&&k<12)?(k+12):(!p&&k==12?0:k));var e=new Date(y,m-1,h,k,n,o);if(e.getFullYear()!=y||e.getMonth()+1!=m||e.getDate()!=h){return d;}return e;};})(jQuery);
},
	"sap/ui/thirdparty/mobiscroll/js/mobiscroll-scroller.js":function(){(function($){$.mobiscroll.classes.Scroller=function(I,J){var m,K,v,L,N,O,P,Q,R,T,U,V,W,X,Y,Z,_,a1,b1,c1,d1,p,e1,f1,g1,h1,i1,j1,k1,l1,m1,n1,o1,p1,q1,r1=this,e=I,s1=$(e),s=F({},H),t1={},iv={},v1={},w1={},x1=[],y1=[],z1=s1.is('input'),A1=false,B1=function(e){if(C(e)&&!h&&!Y&&!q1&&!K1(this)){e.preventDefault();h=true;_=s.mode!='clickpick';h1=$('.dw-ul',this);M1(h1);a1=iv[i1]!==undefined;p=a1?P1(h1):v1[i1];b1=B(e,'Y');c1=new Date();d1=b1;R1(h1,i1,p,0.001);if(_){h1.closest('.dwwl').addClass('dwa');}$(document).on(M,C1).on(G,D1);}},C1=function(e){if(_){e.preventDefault();e.stopPropagation();d1=B(e,'Y');R1(h1,i1,c(p+(b1-d1)/K,e1-1,f1+1));}if(b1!==d1){a1=true;}},D1=function(e){var t=new Date()-c1,b=c(p+(b1-d1)/K,e1-1,f1+1),d,i,j,k=h1.offset().top;if(t<300){d=(d1-b1)/t;i=(d*d)/s.speedUnit;if(d1-b1<0){i=-i;}}else{i=d1-b1;}j=Math.round(p-i/K);if(!i&&!a1){var l=Math.floor((d1-k)/K),o=$($('.dw-li',h1)[l]),w=_;if(U1('onValueTap',[o])!==false){j=l;}else{w=true;}if(w){o.addClass('dw-hl');setTimeout(function(){o.removeClass('dw-hl');},200);}}if(_){V1(h1,j,0,true,Math.round(b));}h=false;h1=null;$(document).off(M,C1).off(G,D1);},E1=function(e){if(q1){q1.removeClass('dwb-a');}q1=$(this);$(document).on(G,F1);if(!q1.hasClass('dwb-d')&&!q1.hasClass('dwb-nhl')){q1.addClass('dwb-a');}if(q1.hasClass('dwwb')){if(C(e)){J1(e,q1.closest('.dwwl'),q1.hasClass('dwwbp')?W1:X1);}}},F1=function(e){if(Y){clearInterval(j1);Y=false;}if(q1){q1.removeClass('dwb-a');q1=null;}$(document).off(G,F1);},G1=function(e){if(e.which==38&&!e.altKey){J1(e,$(this),X1);}else if(e.which==40&&!e.altKey){J1(e,$(this),W1);}else if(e.which==33){J1(e,$(this),Y1);}else if(e.which==34){J1(e,$(this),Z1);}},H1=function(e){if(Y){clearInterval(j1);Y=false;}},I1=function(e){if(!K1(this)){e.preventDefault();e=e.originalEvent||e;var d=e.wheelDelta?(e.wheelDelta/120):(e.detail?(-e.detail/3):0),t=$('.dw-ul',this);M1(t);V1(t,Math.round(v1[i1]-d),d<0?1:2);}};function J1(e,w,b){e.stopPropagation();e.preventDefault();if(!Y&&!K1(w)&&!w.hasClass('dwa')){Y=true;var t=w.find('.dw-ul');M1(t);clearInterval(j1);j1=setInterval(function(){b(t);},s.delay);b(t);}}function K1(Q){if($.isArray(s.readonly)){var i=$('.dwwl',L).index(Q);return s.readonly[i];}return s.readonly;}function L1(i){var b='<div class="dw-bf">',P=x1[i],w=P.values?P:f(P),l=1,d=w.labels||[],k=w.values,o=w.keys||k;$.each(k,function(j,v){if(l%20==0){b+='</div><div class="dw-bf">';}b+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+o[j]+'"'+(d[j]?' aria-label="'+d[j]+'"':'')+' style="height:'+K+'px;line-height:'+K+'px;"><div class="dw-i">'+v+'</div></div>';l++;});b+='</div>';return b;}function M1(t){e1=$('.dw-li',t).index($('.dw-v',t).eq(0));f1=$('.dw-li',t).index($('.dw-v',t).eq(-1));i1=$('.dw-ul',L).index(t);}function N1(v){var t=s.headerText;return t?(typeof t==='function'?t.call(e,v):t.replace(/\{value\}/i,v)):'';}function O1(){r1.temp=r1.values?r1.values.slice(0):s.parseValue(s1.val()||'',r1);$1();}function P1(t){var b=window.getComputedStyle?getComputedStyle(t[0]):t[0].style,d,j;if(A){$.each(['t','webkitT','MozT','OT','msT'],function(i,v){if(b[v+'ransform']!==undefined){d=b[v+'ransform'];return false;}});d=d.split(')')[0].split(', ');j=d[13]||d[5];}else{j=b.top.replace('px','');}return Math.round(m-(j/K));}function Q1(t,i){clearTimeout(iv[i]);delete iv[i];t.closest('.dwwl').removeClass('dwa');}function R1(t,i1,b,d,j){var k=(m-b)*K,l=t[0].style,i;if(k==w1[i1]&&iv[i1]){return;}if(d&&k!=w1[i1]){U1('onAnimStart',[L,i1,d]);}w1[i1]=k;l[z+'Transition']='all '+(d?d.toFixed(3):0)+'s ease-out';if(A){l[z+'Transform']='translate3d(0,'+k+'px,0)';}else{l.top=k+'px';}if(iv[i1]){Q1(t,i1);}if(d&&j){t.closest('.dwwl').addClass('dwa');iv[i1]=setTimeout(function(){Q1(t,i1);},d*1000);}v1[i1]=b;}function S1(b,t,d){var i=$('.dw-li[data-val="'+b+'"]',t),j=$('.dw-li',t),v=j.index(i),l=j.length;if(!i.hasClass('dw-v')){var k=i,o=i,w=0,u1=0;while(v-w>=0&&!k.hasClass('dw-v')){w++;k=j.eq(v-w);}while(v+u1<l&&!o.hasClass('dw-v')){u1++;o=j.eq(v+u1);}if(((u1<w&&u1&&d!==2)||!w||(v-w<0)||d==1)&&o.hasClass('dw-v')){i=o;v=v+u1;}else{i=k;v=v-w;}}return{cell:i,v:v,val:i.attr('data-val')};}function T1(b,i1,d,j,k){if(U1('validate',[L,i1,b,j])!==false){$('.dw-ul',L).each(function(i){var t=$(this),l=i==i1||i1===undefined,o=S1(r1.temp[i],t,j),w=o.cell;if(!(w.hasClass('dw-sel'))||l){r1.temp[i]=o.val;if(!s.multiple){$('.dw-sel',t).removeAttr('aria-selected');w.attr('aria-selected','true');}$('.dw-sel',t).removeClass('dw-sel');w.addClass('dw-sel');R1(t,i,o.v,l?b:0.1,l?k:false);}});v=s.formatResult(r1.temp);if(r1.live){$1(d,d,0,true);}$('.dwv',L).html(N1(v));if(d){U1('onChange',[v]);}}}function U1(b,d){var j;d.push(r1);$.each([W,t1,J],function(i,v){if(v&&v[b]){j=v[b].apply(e,d);}});return j;}function V1(t,b,d,V,i){b=c(b,e1,f1);var j=$('.dw-li',t).eq(b),o=i===undefined?b:i,k=i!==undefined,l=i1,w=V?(b==o?0.1:Math.abs((b-o)*s.timeUnit)):0;r1.temp[l]=j.attr('data-val');R1(t,l,b,w,k);setTimeout(function(){T1(w,l,true,d,k);},10);}function W1(t){var b=v1[i1]+1;V1(t,b>f1?e1:b,1,true);}function X1(t){var b=v1[i1]-1;V1(t,b<e1?f1:b,2,true);}function Y1(t){V1(t,e1,2,true);}function Z1(t){V1(t,f1,2,true);}function $1(b,d,t,i,j,k){if(A1&&!i){T1(t,undefined,k);}v=s.formatResult(r1.temp);if(!j){r1.values=r1.temp.slice(0);r1.val=v;}if(b){if(z1){s1.val(v);if(d){l1=true;s1.change();}}U1('onValueFill',[v,d]);}}function _1(b,d){var i;n1.on(b,function(e){clearTimeout(i);i=setTimeout(function(){if((U&&d)||!d){r1.position(!d);}},200);});}r1.position=function(b){var i=L.width(),j=n1[0].innerHeight||n1.innerHeight();if(!(P===i&&Q===j&&b)&&!m1&&(U1('onPosition',[L,i,j])!==false)&&g1){var w,l,t,k,o,ap,at,al,u1,a2,b2,dh,R1,d2=0,e2=0,sl=n1.scrollLeft(),st=n1.scrollTop(),wr=$('.dwwr',L),d=$('.dw',L),i2={},j2=s.anchor===undefined?s1:s.anchor;if(/modal|bubble/.test(s.display)){$('.dwc',L).each(function(){w=$(this).outerWidth(true);d2+=w;e2=(w>e2)?w:e2;});w=d2>i?e2:d2;wr.width(w).css('white-space',d2>i?'':'nowrap');}R=d.outerWidth();T=d.outerHeight(true);U=T<=j&&R<=i;r1.scrollLock=U;if(s.display=='modal'){l=(i-R)/2;t=st+(j-T)/2;}else if(s.display=='bubble'){R1=true;u1=$('.dw-arrw-i',L);ap=j2.offset();at=Math.abs($(s.context).offset().top-ap.top);al=Math.abs($(s.context).offset().left-ap.left);k=j2.outerWidth();o=j2.outerHeight();l=c(al-(d.outerWidth(true)-k)/2-sl,3,i-R-3);t=at-T;if((t<st)||(at>st+j)){d.removeClass('dw-bubble-top').addClass('dw-bubble-bottom');t=at+o;}else{d.removeClass('dw-bubble-bottom').addClass('dw-bubble-top');}a2=u1.outerWidth();b2=c(al+k/2-(l+(R-a2)/2)-sl,0,a2);$('.dw-arr',L).css({left:b2});}else{if(s.display=='top'){t=st;}else if(s.display=='bottom'){t=st+j-T;}}i2.top=t<0?0:t;i2.left=l;d.css(i2);N.height(0);dh=Math.max(t+T,s.context=='body'?$(document).height():o1.scrollHeight);N.css({height:dh,left:sl});if(R1&&((t+T>st+j)||(at>st+j))){m1=true;setTimeout(function(){m1=false;},300);n1.scrollTop(Math.min(t+T-j,dh-j));}}P=i;Q=j;};r1.enable=function(){s.disabled=false;if(z1){s1.prop('disabled',false);}};r1.disable=function(){s.disabled=true;if(z1){s1.prop('disabled',true);}};r1.setValue=function(b,d,t,i,j){r1.temp=$.isArray(b)?b.slice(0):s.parseValue.call(e,b+'',r1);$1(d,j===undefined?d:j,t,false,i,d);};r1.getValue=function(){return r1.values;};r1.getValues=function(){var b=[],i;for(i in r1._selectedValues){b.push(r1._selectedValues[i]);}return b;};r1.changeWheel=function(b,t,d){if(L){var i=0,l=b.length;$.each(s.wheels,function(j,o){$.each(o,function(k,w){if($.inArray(i,b)>-1){x1[i]=w;$('.dw-ul',L).eq(i).html(L1(i));l--;if(!l){r1.position();T1(t,undefined,d);return false;}}i++;});if(!l){return false;}});}};r1.isVisible=function(){return A1;};r1.tap=function(b,d){var i,j;if(s.tap){b.on('touchstart.dw mousedown.dw',function(e){e.preventDefault();i=B(e,'X');j=B(e,'Y');}).on('touchend.dw',function(e){if(Math.abs(B(e,'X')-i)<20&&Math.abs(B(e,'Y')-j)<20){d.call(this,e);}a();});}b.on('click.dw',function(e){if(!n){d.call(this,e);}e.preventDefault();});};r1.show=function(d){var k,l=0,o='';if(s.disabled||A1){return;}g=s1;if(s.display=='top'){V='slidedown';}if(s.display=='bottom'){V='slideup';}O1();U1('onBeforeShow',[]);if(V&&!d){o='dw-'+V+' dw-in';}var t='<div role="dialog" class="'+s.theme+' dw-'+s.display+(y?' dw'+y.replace(/\-$/,''):'')+(Z?'':' dw-nobtn')+'"><div class="dw-persp">'+(!g1?'<div class="dw dwbg dwi">':'<div class="dwo"></div><div class="dw dwbg '+o+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>')+'<div class="dwwr"><div aria-live="assertive" class="dwv'+(s.headerText?'':' dw-hidden')+'"></div><div class="dwcc">',u1=$.isArray(s.minWidth),a2=$.isArray(s.maxWidth),b2=$.isArray(s.fixedWidth);$.each(s.wheels,function(i,b){t+='<div class="dwc'+(s.mode!='scroller'?' dwpm':' dwsc')+(s.showLabel?'':' dwhl')+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';$.each(b,function(j,w){x1[l]=w;k=w.label!==undefined?w.label:j;t+='<td><div class="dwwl dwrc dwwl'+l+'">'+(s.mode!='scroller'?'<a href="#" tabindex="-1" class="dwb-e dwwb dwwbp" style="height:'+K+'px;line-height:'+K+'px;"><span>+</span></a><a href="#" tabindex="-1" class="dwb-e dwwb dwwbm" style="height:'+K+'px;line-height:'+K+'px;"><span>&ndash;</span></a>':'')+'<div class="dwl">'+k+'</div><div tabindex="0" aria-live="off" aria-label="'+k+'" role="listbox" class="dwww"><div class="dww" style="height:'+(s.rows*K)+'px;'+(s.fixedWidth?('width:'+(b2?s.fixedWidth[l]:s.fixedWidth)+'px;'):(s.minWidth?('min-width:'+(u1?s.minWidth[l]:s.minWidth)+'px;'):'min-width:'+s.width+'px;')+(s.maxWidth?('max-width:'+(a2?s.maxWidth[l]:s.maxWidth)+'px;'):''))+'"><div class="dw-ul">';t+=L1(l);t+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>';l++;});t+='</tr></table></div></div>';});t+='</div>';if(g1&&Z){t+='<div class="dwbc">';$.each(p1,function(i,b){b=(typeof b==='string')?r1.buttons[b]:b;t+='<span'+(s.btnWidth?' style="width:'+(100/p1.length)+'%"':'')+' class="dwbw '+b.css+'"><a href="#" class="dwb dwb'+i+' dwb-e" role="button">'+b.text+'</a></span>';});t+='</div>';}t+='</div></div></div></div>';L=$(t);N=$('.dw-persp',L);O=$('.dwo',L);A1=true;T1();U1('onMarkupReady',[L]);if(g1){L.appendTo(s.context);if(V&&!d){L.addClass('dw-trans');setTimeout(function(){L.removeClass('dw-trans').find('.dw').removeClass(o);},350);}}else if(s1.is('div')){s1.html(L);}else{L.insertAfter(s1);}U1('onMarkupInserted',[L]);if(g1){$(window).on('keydown.dw',function(e){if(e.keyCode==13){r1.select();}else if(e.keyCode==27){r1.cancel();}});if(s.scrollLock){L.on('touchmove',function(e){if(U){e.preventDefault();}});}$('input,select,button',o1).each(function(){if(!this.disabled){if($(this).attr('autocomplete')){$(this).data('autocomplete',$(this).attr('autocomplete'));}$(this).addClass('dwtd').prop('disabled',true).attr('autocomplete','off');}});_1('scroll.dw',true);}r1.position();_1('orientationchange.dw resize.dw',false);L.on('DOMMouseScroll mousewheel','.dwwl',I1).on('keydown','.dwwl',G1).on('keyup','.dwwl',H1).on('selectstart mousedown',E).on('click','.dwb-e',E).on('touchend',function(){if(s.tap){a();}}).on('keydown','.dwb-e',function(e){if(e.keyCode==32){e.preventDefault();e.stopPropagation();$(this).click();}});setTimeout(function(){$.each(p1,function(i,b){r1.tap($('.dwb'+i,L),function(e){b=(typeof b==='string')?r1.buttons[b]:b;b.handler.call(this,e,r1);});});if(s.closeOnOverlay){r1.tap(O,function(){r1.cancel();});}L.on(S,'.dwwl',B1).on(S,'.dwb-e',E1);},300);U1('onShow',[L,v]);};r1.hide=function(b,q1,d){if(!A1||(!d&&U1('onClose',[v,q1])===false)){return;}$('.dwtd',o1).each(function(){$(this).prop('disabled',false).removeClass('dwtd');if($(this).data('autocomplete')){$(this).attr('autocomplete',$(this).data('autocomplete'));}else{$(this).removeAttr('autocomplete');}});if(L){var i=g1&&V&&!b;if(i){L.addClass('dw-trans').find('.dw').addClass('dw-'+V+' dw-out');}if(b){L.remove();}else{setTimeout(function(){L.remove();if(g){q=true;g.focus();}},i?350:1);}n1.off('.dw');}w1={};A1=false;};r1.select=function(){if(r1.hide(false,'set')!==false){$1(true,true,0,true);U1('onSelect',[r1.val]);}};r1.attachShow=function(s1,b){y1.push(s1);if(s.display!=='inline'){s1.on((s.showOnFocus?'focus.dw':'')+(s.showOnTap?' click.dw':''),function(d){if((d.type!=='focus'||(d.type==='focus'&&!q))&&!n){if(b){b();}g=s1;r1.show();}setTimeout(function(){q=false;},300);});}};r1.cancel=function(){if(r1.hide(false,'cancel')!==false){U1('onCancel',[r1.val]);}};r1.init=function(b){W=r.themes[b.theme||s.theme];X=r.i18n[b.lang||s.lang];F(J,b);U1('onThemeLoad',[X,J]);F(s,W,X,J);s.buttons=s.buttons||['set','cancel'];s.headerText=s.headerText===undefined?(s.display!=='inline'?'{value}':false):s.headerText;r1.settings=s;s1.off('.dw');var d=r.presets[s.preset];if(d){t1=d.call(e,r1);F(s,t1,J);}m=Math.floor(s.rows/2);K=s.height;V=s.animate;g1=s.display!=='inline';p1=s.buttons;n1=$(s.context=='body'?window:s.context);o1=$(s.context)[0];if(!s.setText){p1.splice($.inArray('set',p1),1);}if(!s.cancelText){p1.splice($.inArray('cancel',p1),1);}if(s.button3){p1.splice($.inArray('set',p1)+1,0,{text:s.button3Text,handler:s.button3});}r1.context=n1;r1.live=!g1||($.inArray('set',p1)==-1);r1.buttons.set={text:s.setText,css:'dwb-s',handler:r1.select};r1.buttons.cancel={text:(r1.live)?s.closeText:s.cancelText,css:'dwb-c',handler:r1.cancel};r1.buttons.clear={text:s.clearText,css:'dwb-cl',handler:function(){r1.trigger('onClear',[L]);s1.val('');if(!r1.live){r1.hide();}}};Z=p1.length>0;if(A1){r1.hide(true,false,true);}if(g1){O1();if(z1){if(k1===undefined){k1=e.readOnly;}e.readOnly=true;}r1.attachShow(s1);}else{r1.show();}if(z1){s1.on('change.dw',function(){if(!l1){r1.setValue(s1.val(),false,0.2);}l1=false;});}};r1.option=function(o,b){var d={};if(typeof o==='object'){d=o;}else{d[o]=b;}r1.init(d);};r1.destroy=function(){r1.hide(true,false,true);$.each(y1,function(i,v){v.off('.dw');});$(window).off('.dwa');if(z1){e.readOnly=k1;}delete u[e.id];U1('onDestroy',[]);};r1.getInst=function(){return r1;};r1.getValidCell=S1;r1.trigger=U1;u[e.id]=r1;r1.values=null;r1.val=null;r1.temp=null;r1.buttons={};r1._selectedValues={};r1.init(J);};function a(){n=true;setTimeout(function(){n=false;},300);}function c(v,m,b){return Math.max(m,Math.min(v,b));}function f(w){var b={values:[],keys:[]};$.each(w,function(k,v){b.keys.push(k);b.values.push(v);});return b;}var g,h,n,q,r=$.mobiscroll,u=r.instances,x=r.util,y=x.prefix,z=x.jsPrefix,A=x.has3d,B=x.getCoord,C=x.testTouch,D=function(){},E=function(e){e.preventDefault();},F=$.extend,S='touchstart mousedown',M='touchmove mousemove',G='touchend mouseup',H=F(r.defaults,{width:70,height:40,rows:3,delay:300,disabled:false,readonly:false,closeOnOverlay:true,showOnFocus:true,showOnTap:true,showLabel:true,wheels:[],theme:'',display:'modal',mode:'scroller',preset:'',lang:'en-US',context:'body',scrollLock:true,tap:true,btnWidth:true,speedUnit:0.0012,timeUnit:0.1,formatResult:function(d){return d.join(' ');},parseValue:function(v,b){var d=v.split(' '),e=[],i=0,l;$.each(b.settings.wheels,function(j,m){$.each(m,function(k,w){w=w.values?w:f(w);l=w.keys||w.values;if($.inArray(d[i],l)!==-1){e.push(d[i]);}else{e.push(l[0]);}i++;});});return e;}});r.i18n.en=r.i18n['en-US']={setText:'Set',selectedText:'Selected',closeText:'Close',cancelText:'Cancel',clearText:'Clear'};$(window).on('focus',function(){if(g){q=true;}});$(document).on('mouseover mouseup mousedown click',function(e){if(n){e.stopPropagation();e.preventDefault();return false;}});})(jQuery);
},
	"sap/ui/thirdparty/punycode.js":function(){;(function(r){var f=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var a=typeof module=='object'&&module&&!module.nodeType&&module;var b=typeof global=='object'&&global;if(b.global===b||b.window===b||b.self===b){r=b;}var p,c=2147483647,d=36,e=1,g=26,s=38,h=700,l=72,o=128,u='-',v=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,z={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},A=d-e,B=Math.floor,C=String.fromCharCode,D;function E(t){throw new RangeError(z[t]);}function F(i,j){var k=i.length;var m=[];while(k--){m[k]=j(i[k]);}return m;}function G(i,j){var k=i.split('@');var m='';if(k.length>1){m=k[0]+'@';i=k[1];}i=i.replace(y,'\x2E');var n=i.split('.');var q=F(n,j).join('.');return m+q;}function H(i){var j=[],k=0,m=i.length,n,q;while(k<m){n=i.charCodeAt(k++);if(n>=0xD800&&n<=0xDBFF&&k<m){q=i.charCodeAt(k++);if((q&0xFC00)==0xDC00){j.push(((n&0x3FF)<<10)+(q&0x3FF)+0x10000);}else{j.push(n);k--;}}else{j.push(n);}}return j;}function I(i){return F(i,function(j){var k='';if(j>0xFFFF){j-=0x10000;k+=C(j>>>10&0x3FF|0xD800);j=0xDC00|j&0x3FF;}k+=C(j);return k;}).join('');}function J(i){if(i-48<10){return i-22;}if(i-65<26){return i-65;}if(i-97<26){return i-97;}return d;}function K(i,j){return i+22+75*(i<26)-((j!=0)<<5);}function L(i,n,j){var k=0;i=j?B(i/h):i>>1;i+=B(i/n);for(;i>A*g>>1;k+=d){i=B(i/A);}return B(k+(A+1)*i/(i+s));}function M(m){var q=[],Q=m.length,R,i=0,n=o,S=l,T,j,U,V,w,k,W,t,X;T=m.lastIndexOf(u);if(T<0){T=0;}for(j=0;j<T;++j){if(m.charCodeAt(j)>=0x80){E('not-basic');}q.push(m.charCodeAt(j));}for(U=T>0?T+1:0;U<Q;){for(V=i,w=1,k=d;;k+=d){if(U>=Q){E('invalid-input');}W=J(m.charCodeAt(U++));if(W>=d||W>B((c-i)/w)){E('overflow');}i+=W*w;t=k<=S?e:(k>=S+g?g:k-S);if(W<t){break;}X=d-t;if(w>B(c/X)){E('overflow');}w*=X;}R=q.length+1;S=L(i-V,R,V==0);if(B(i/R)>c-n){E('overflow');}n+=B(i/R);i%=R;q.splice(i++,0,n);}return I(q);}function N(i){var n,w,Q,R,S,j,m,q,k,t,T,U=[],V,W,X,Y;i=H(i);V=i.length;n=o;w=0;S=l;for(j=0;j<V;++j){T=i[j];if(T<0x80){U.push(C(T));}}Q=R=U.length;if(R){U.push(u);}while(Q<V){for(m=c,j=0;j<V;++j){T=i[j];if(T>=n&&T<m){m=T;}}W=Q+1;if(m-n>B((c-w)/W)){E('overflow');}w+=(m-n)*W;n=m;for(j=0;j<V;++j){T=i[j];if(T<n&&++w>c){E('overflow');}if(T==n){for(q=w,k=d;;k+=d){t=k<=S?e:(k>=S+g?g:k-S);if(q<t){break;}Y=q-t;X=d-t;U.push(C(K(t+Y%X,0)));q=B(Y/X);}U.push(C(K(q,0)));S=L(w,W,Q==R);w=0;++Q;}}++w;++n;}return U.join('');}function O(i){return G(i,function(j){return v.test(j)?M(j.slice(4).toLowerCase()):j;});}function P(i){return G(i,function(j){return x.test(j)?'xn--'+N(j):j;});}p={'version':'1.3.2','ucs2':{'decode':H,'encode':I},'decode':M,'encode':N,'toASCII':P,'toUnicode':O};if(typeof define=='function'&&typeof define.amd=='object'&&define.amd){define('punycode',function(){return p;});}else if(f&&a){if(module.exports==f){a.exports=p;}else{for(D in p){p.hasOwnProperty(D)&&(f[D]=p[D]);}}}else{r.punycode=p;}}(this));
},
	"sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.controller.js":function(){(function(){"use strict";sap.ui.controller("tiles.indicatorHarveyBall.HarveyBallTile",{onInit:function(){this.getView().setModel(new sap.ui.model.json.JSONModel());this.initializeVariables();this.attachHandlers();this.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Loading);this.readChipConfiguration();},attachHandlers:function(){var t=this;var c=this.getVariable("chip");if(c.visible){c.visible.attachVisible(function(v){if(v){t.onVisible();}else{t.abortAllOpenODataRequests();}});}this.getVariable("tile").attachPress(function(){t.abortAllOpenODataRequests();var i=t.getVariable("indicatorUtils");t.getVariable("cache").setKpivalueById(t.getVariable("chipId"),null);window.location.hash=i.getNavigationTarget(t.getVariable("evalData"),t.getVariable("system"));});},initializeVariables:function(){this._variables={};this._oDataRequests={};var v=this.getView();var V=v.getViewData();var t=v.oTile;var c=V.chip;this.setVariable("indicatorUtils",sap.ushell.components.tiles.indicatorTileUtils.util);this.setVariable("cache",sap.ushell.components.tiles.indicatorTileUtils.cache);this.setVariable("hasAppeared",false);this.setVariable("chip",c);this.setVariable("tile",t);this.setVariable("tileControl",t.getTileContent()[0].getContent());this.setVariable("configurationString",c.configuration.getParameterValueAsString("tileConfiguration"));this.setVariable("system",c.url.getApplicationSystem());},getVariable:function(k){return this._variables[k];},setVariable:function(k,v){this._variables[k]=v;},readChipConfiguration:function(){var t=this;var c=this.getVariable("chip");var u=this.getVariable("indicatorUtils");u.getParsedChip(this.getVariable("configurationString"),function(e){t.setVariable("evalData",e);t.setVariable("chipId",e.TILE_PROPERTIES.id);t.setVariable("tileProperties",e.TILE_PROPERTIES);if(c.preview){c.preview.setTargetUrl(u.getNavigationTarget(e,t.getVariable("system")));t.loadPreviewData();if(c.preview.isEnabled()){t.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Loaded);}else{t.loadActualData();}}});},loadPreviewData:function(){var t=this.getVariable("indicatorUtils").getTileTitleSubtitle(this.getVariable("chip"));this.getView().getModel().setData({fractionValue:34,value:100,size:sap.suite.ui.commons.InfoTileSize.Auto,frameType:"OneByOne",color:"Good",state:sap.suite.ui.commons.LoadState.Loading,header:t.title||this.getVariable("indicatorUtils").getChipTitle(this.getVariable("evalData")),subheader:t.subTitle||this.getVariable("indicatorUtils").getChipSubTitle(this.getVariable("evalData"))});},loadActualData:function(){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.getVariable("cache").setEvaluationById(this.getVariable("chipId"),this.getVariable("evalData"));this.onEvalFiltersFetched();}else{this.fetchEvalFilters(this.onEvalFiltersFetched);}},registerOpenODataRequest:function(k,r){this._oDataRequests[k]=r;},deregisterOpenODataRequest:function(k){delete this._oDataRequests[k];},abortAllOpenODataRequests:function(){for(var a in this._oDataRequests){try{this.getVariable("indicatorUtils").abortPendingODataCalls(this._oDataRequests[a]);delete this._oDataRequests[a];}catch(e){}}},fetchKpiValue:function(p){function m(o,u,C,S,g){var D=o.read(u,null,null,true,function(h){t.deregisterOpenODataRequest(C.type);if(h&&h.results&&h.results.length){try{if(C.thresholds&&C.thresholds.length){t._setThresholdValues(h.results[0]);}k[C.type]=h.results[0][C.measure];k.unit=k.unit||h.results[0][C.unit]||"";if(--d==0){t.getVariable("cache").setKpivalueById(t.getVariable("chipId"),k);S.call(t,k);}}catch(e){t.logError(e);}}else{g.call(t,"no data");}},function(e){t.deregisterOpenODataRequest(C.type);if(e&&e.response){g.call(t,e.message);}});t.registerOpenODataRequest(C.type,D);}var t=this;var i=this.getVariable("indicatorUtils");var c=this.getVariable("cache").getKpivalueById(this.getVariable("chipId"));if(c){p.fnS.call(t,c);}else{var M=p.measure1,s=p.measure2;var u=p.url,E=p.entitySet;var v=p.filters;var f=p.fractionFilters.concat(v);var q,Q;var a,b,k;var d=2;f.forEach(function(e){e.value=e.value+"";e.valueTo=e.valueTo+"";});if(p.thresholds&&p.thresholds.length){q=i.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(u),E,M+","+p.thresholds,null,v);}else{q=i.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(u),E,M,null,v);}Q=i.prepareQueryServiceUri(this.getVariable("chip").url.addSystemToServiceUrl(u),E,s,null,f);a=q.unit[0];b=Q.unit[0];k={kpiValue:null,fractionValue:null,unit:""};if(q){m(q.model,q.uri,{measure:M,type:"kpiValue",unit:a,thresholds:p.thresholds},p.fnS,p.fnE);}if(Q){m(Q.model,Q.uri,{measure:s,type:"fractionValue",unit:b},p.fnS,p.fnE);}if(!(q&&Q)){p.fnE.call(t,"Error Preparing Query Service URI");}}},_setThresholdValues:function(d){var t=this.getVariable("oThreshold");if(t){if(this.getVariable("evalData").EVALUATION.VALUES_SOURCE=="RELATIVE"){if(t["TA"].COLUMN_NAME){t["TA"].VALUE=parseFloat(d[t["TA"].COLUMN_NAME]);for(var e in t){if(!t[e].COLUMN_NAME){t[e].VALUE=t["TA"].VALUE*t[e].VALUE/100;}}}}else{for(var e in t){if(t[e].COLUMN_NAME){t[e].VALUE=parseFloat(d[t[e].COLUMN_NAME]);}}}}this.setVariable("oThreshold",t);},getThresholdObject:function(){var t=this.getVariable("oThreshold");if(!t){var T=this.getVariable("evalData").EVALUATION_VALUES;var t={};for(var i=0,l=T.length;i<l;i++){t[T[i].TYPE]={VALUE:parseFloat(T[i].FIXED),COLUMN_NAME:T[i].COLUMN_NAME};}this.setVariable("oThreshold",t);}return t;},hasSomeValue:function(){var f=true;if(arguments.length){for(var i=0,l=arguments.length;i<l;i++){if(!(arguments[i]||arguments[i]=="0")){f=false;break;}}}else{f=false;}return f;},getTrendColor:function(k){var c="Neutral";var t,g,W,a,C,b;if(this.getVariable("tileProperties").isFractionMeasure){t=this.getThresholdObject();g=this.getVariable("evalData").EVALUATION.GOAL_TYPE;if(g=="MA"){W=t.WL;C=t.CL;if(this.hasSomeValue(W,C)){c="Good";if(k<C.VALUE){c="Error";}else if(k<=W.VALUE){c="Critical";}}}else if(g=='MI'){a=t.WH;b=t.CH;if(this.hasSomeValue(a,b)){c="Error";if(k<a.VALUE){c="Good";}else if(k<=b.VALUE){c="Critical";}}}else{W=t.WL;C=t.CL;a=t.WH;b=t.CH;if(this.hasSomeValue(a,b,C,W)){if(k<=C.VALUE||k>=a.VALUE){c="Error";}else if((W.VALUE>=k&&k>=C.VALUE)||(b.VALUE>=k&&k>=a.VALUE)){c="Critical";}else{c="Good";}}}}return sap.suite.ui.commons.InfoTileValueColor[c];},_getThresholdMeasures:function(){var t=[];var T=this.getThresholdObject();for(var e in T){if(T[e].COLUMN_NAME){t.push(T[e].COLUMN_NAME);}}return t;},onEvalFiltersFetched:function(){var t=this;if(this.getVariable("chip").visible.isVisible()&&!this.getVariable("hasAppeared")){try{var k=this.getVariable("evalData");var u=k.EVALUATION.ODATA_URL;var E=k.EVALUATION.ODATA_ENTITYSET;var a=this.getVariable("tileProperties");var h=[];var v=this.getVariable("indicatorUtils").prepareFilterStructure(k.EVALUATION_FILTERS,k.ADDITIONAL_FILTERS);var f=k.EVALUATION.COLUMN_NAME;var b=f;var c=[];if(a.isFractionMeasure){b=a.harveyTotalMeasure;c=this._getThresholdMeasures();}else{h=this.getVariable("indicatorUtils").prepareFilterStructure(a.harveyFilters||h);}this.setVariable("totalMeasure",b);this.setVariable("fractionMeasure",f);this.fetchKpiValue({measure1:b,measure2:f,entitySet:E,thresholds:c,url:u,filters:v,fractionFilters:h,fnS:function(d){d.kpiValue=Number(d.kpiValue);d.fractionValue=Number(d.fractionValue);t.setVariable("kpiValue",d.kpiValue);t.setVariable("fractionValue",d.fractionValue);t.onKpiValueFetched(d.kpiValue,d.unit,d.fractionValue);},fnE:this.logError});t.setVariable("hasAppeared",true);}catch(e){this.logError(e);}}},fetchEvalFilters:function(s){var t=this;try{var a=this.getVariable("cache").getEvaluationById(this.getVariable("chipId"));if(a){this.getVariable("evalData").EVALUATION_FILTERS=a.EVALUATION_FILTERS;s();}else{var d=this.getVariable("indicatorUtils").getFilterFromRunTimeService(this.getVariable("evalData"),function(f){t.deregisterOpenODataRequest("kpiFilterRequest");t.getVariable("evalData").EVALUATION_FILTERS=f;t.getVariable("cache").setEvaluationById(t.getVariable("chipId"),t.getVariable("evalData"));s.call(t);},function(e){this.logError(e);t.deregisterOpenODataRequest("kpiFilterRequest");});this.registerOpenODataRequest("kpiFilterRequest",d);}}catch(e){this.logError(e);}},onKpiValueFetched:function(k,a,f,b){var i=this.getVariable("indicatorUtils");var s=k;var d=f;var e=this.getVariable("evalData");var g=e.EVALUATION.SCALING;if(g==-2){s*=100;d*=100;}var c=this.isACurrencyMeasure(this.getVariable("totalMeasure"));s=i.getLocaleFormattedValue(Number(s),g,null,c,a);c=this.isACurrencyMeasure(this.getVariable("fractionMeasure"));d=i.getLocaleFormattedValue(Number(d),g,null,c,a);this.getView().getModel().setProperty("/totalLabel",s+" "+a);this.getView().getModel().setProperty("/fractionLabel",d+" "+b);this.getView().getModel().setProperty("/color",this.getTrendColor(f));this.getView().getModel().setProperty("/value",k);this.getView().getModel().setProperty("/fractionValue",f);var n=i.getNavigationTarget(this.getVariable("evalData"),this.getVariable("system"));this.getVariable("tile").$().wrap("<a href ='"+n+"'/>");this.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Loaded);},logError:function(e){this.getVariable("tile").setState(sap.suite.ui.commons.LoadState.Failed);this.getVariable("indicatorUtils").logError(e,this.getVariable("tile"));},onVisible:function(i){if(!this.getVariable("hasAppeared")){if(Number(this.getVariable("chip").configuration.getParameterValueAsString("isSufficient"))){this.onEvalFiltersFetched();}else{this.fetchEvalFilters(this.onEvalFiltersFetched);}}},onExit:function(){this.abortAllOpenODataRequests();}});}());
},
	"sap/ushell/components/tiles/indicatorHarveyBall/HarveyBallTile.view.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.components.tiles.indicatorTileUtils.smartBusinessUtil");jQuery.sap.require("sap.ui.model.analytics.odata4analytics");jQuery.sap.require("sap.ca.ui.model.format.NumberFormat");sap.ui.getCore().loadLibrary("sap.suite.ui.commons");sap.ui.jsview("tiles.indicatorHarveyBall.HarveyBallTile",{getControllerName:function(){},createContent:function(c){var m=new sap.suite.ui.commons.HarveyBallMicroChart({total:"{/value}",size:"{/size}",totalLabel:"{/totalLabel}",items:[new sap.suite.ui.commons.HarveyBallMicroChartItem({fraction:"{/fractionValue}",fractionLabel:"{/fractionLabel}",color:"{/color}"})]});var t=new sap.suite.ui.commons.TileContent({size:"{/size}",content:m});this.oTile=new sap.suite.ui.commons.GenericTile({subheader:"{/subheader}",frameType:"{/frameType}",size:"{/size}",header:"{/header}",tileContent:[t]});}});}());
},
	"sap/ushell/components/tiles/indicatorTileUtils/indicatorTileHelper.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper");sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper=function(t){this.tile=t;};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setErrorState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Failed);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setLoadingState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loading);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setLoadedState=function(){this.getTile().setState(sap.suite.ui.commons.LoadState.Loaded);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTrendDown=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Down);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTrendUp=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.Up);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTrendNeutral=function(){this.getTile().setIndicator(sap.suite.ui.commons.DeviationIndicator.None);};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdGood=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdBad=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdCritical=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setThresholdNeutral=function(){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.calculateThreshold=function(a,v,i){};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.setTile=function(t){this.tile=t;};sap.ushell.components.tiles.indicatorTileUtils.indicatorTileHelper.prototype.getTile=function(){return this.tile;};}());
},
	"sap/ushell/components/tiles/sbtilecontent.js":function(){jQuery.sap.declare("sap.ushell.components.tiles.sbtilecontent");sap.ui.define(["sap/m/TileContent","sap/m/TileContentRenderer","sap/ui/core/Control"],function(T,R,C){"use strict";var t=C.extend("numeric.TileContent_Timestamp",{ontap:function(e){if(this.getParent().getRefreshOption()){e.preventDefault();e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}this.getParent().fireRefresh();}},renderer:function(r,c){r.write("<div");r.writeElementData(c);r.addClass("sapMTileCntFtrTxt");if(c.getParent().getRefreshOption()){r.addClass("sapMLnk");}r.writeClasses();r.addStyle("position","absolute");r.addStyle("z-index","2");r.addStyle(r.getConfiguration().getRTL()?"left":"right","auto");r.writeStyles();r.write(">");var a=c.getParent().getTimestamp();if(a){if(!c.getParent().getRefreshOption()){r.writeEscaped(a);}else if(r.getConfiguration().getRTL()){r.writeEscaped(a+"\u2009");r.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");}else{r.writeIcon("sap-icon://refresh","sapMCmpTileUnitInner");r.writeEscaped("\u2009"+a);}}r.write("</div>");}});return T.extend("sap.ushell.components.tiles.sbtilecontent",{metadata:{properties:{timestamp:{type:"string"},refreshOption:{type:"boolean"}},events:{refresh:{}}},init:function(){this.addDependent(this._oTimestamp=new t());},getAltText:function(){var a=T.prototype.getAltText.apply(this,arguments);if(this.getTimestamp()){a+=(a===""?"":"\n")+this.getTimestamp();}return a;},renderer:{_renderFooter:function(r,c){R._renderFooter.apply(this,arguments);r.renderControl(c._oTimestamp);}}});},true);
},
	"sap/ushell/renderers/fiori2/search/SearchConfiguration.js":function(){(function(g){"use strict";sap.ui.define(['sap/ushell/renderers/fiori2/search/controls/SearchResultListSelectionHandler','sap/base/Log'],function(D,L){var a=D.getMetadata().getName();jQuery.sap.declare('sap.ushell.renderers.fiori2.search.SearchConfiguration');var u={multiSelect:{type:'bool'},sinaProvider:{type:'string'},odataProvider:{type:'bool'},searchBusinessObjects:{type:'bool'},charts:{type:'bool'},maps:{type:'bool'},newpie:{type:'bool'},mapsAppCode:{type:'string'},mapsAppId:{type:'string'},personalizationStorage:{type:'string'},boSuggestions:{type:'bool'},_tweetAttribute:{type:'string'},_eshClickableObjectType:{type:'bool'}};var S=sap.ushell.renderers.fiori2.search.SearchConfiguration=function(){this.init.apply(this,arguments);};S.prototype={init:function(p){try{var c=g['sap-ushell-config'].renderers.fiori2.componentData.config.esearch;jQuery.extend(true,this,c);}catch(e){}this.handleOutdatedConfigurationParameters();this.setDefaults();this.readUrlParameters();this.setModulePaths();this.createDefaultDataSourceConfig();},setModulePaths:function(){if(!this.modulePaths){return;}for(var i=0;i<this.modulePaths.length;++i){var m=this.modulePaths[i];jQuery.sap.registerModulePath(m.moduleName,m.urlPrefix);}},handleOutdatedConfigurationParameters:function(){try{var c=g['sap-ushell-config'].renderers.fiori2.componentData.config;if(c.searchBusinessObjects!==undefined&&this.searchBusinessObjects===undefined){if(c.searchBusinessObjects==='hidden'||c.searchBusinessObjects===false){this.searchBusinessObjects=false;}else{this.searchBusinessObjects=true;}}if(c.enableSearch!==undefined&&this.enableSearch===undefined){this.enableSearch=c.enableSearch;}}catch(e){}},setDefaults:function(){if(this.searchBusinessObjects===undefined){this.searchBusinessObjects=true;}if(this.odataProvider===undefined){this.odataProvider=false;}if(this.multiSelect===undefined){this.multiSelect=true;}if(this.charts===undefined){this.charts=true;}if(this.maps===undefined){this.maps=undefined;}if(this.newpie===undefined){this.newpie=false;}if(this.dataSources===undefined){this.dataSources={};}if(this.enableSearch===undefined){this.enableSearch=true;}if(this.personalizationStorage===undefined){this.personalizationStorage='auto';}if(this.boSuggestions===undefined){this.boSuggestions=false;}if(this._eshClickableObjectType===undefined){this._eshClickableObjectType=true;}this.dataSourceConfigurations={};this.dataSourceConfigurations_Regexes=[];if(this.dataSources){for(var i=0;i<this.dataSources.length;i++){var d=this.dataSources[i];if(d.id){this.dataSourceConfigurations[d.id]=d;}else if(d.regex){var f=d.regexFlags||undefined;var r=new RegExp(d.regex,f);if(r){d.regex=r;this.dataSourceConfigurations_Regexes.push(d);}}else{var m="Following datasource configuration does neither include a valid id nor a regular expression, therefore it is ignored:\n"+JSON.stringify(d);L.warning(m,'sap.ushell.renderers.fiori2.search.SearchConfiguration');}}}this.dataSources=undefined;this.documentDataSource={searchResultListItem:'sap.ushell.renderers.fiori2.search.controls.SearchResultListItemDocument'};this.dataSourceConfigurations['noteprocessorurl']=this.dataSourceConfigurations['noteprocessorurl']||{};this.dataSourceConfigurations['noteprocessorurl'].searchResultListItem=this.dataSourceConfigurations['noteprocessorurl'].searchResultListItem||'sap.ushell.renderers.fiori2.search.controls.SearchResultListItemNote';this.dataSourceConfigurations['noteprocessorurl'].searchResultListSelectionHandler=this.dataSourceConfigurations['noteprocessorurl'].searchResultListSelectionHandler||'sap.ushell.renderers.fiori2.search.controls.SearchResultListSelectionHandlerNote';},createDefaultDataSourceConfig:function(){this.defaultDataSourceConfig={searchResultListItem:undefined,searchResultListItemControl:undefined,searchResultListItemContent:undefined,searchResultListItemContentControl:undefined,searchResultListSelectionHandler:a,searchResultListSelectionHandlerControl:D};},readUrlParameters:function(){var p=this.parseUrlParameters();for(var b in p){if(b==='demoMode'){this.searchBusinessObjects=true;this.enableSearch=true;continue;}var c=u[b];if(!c){continue;}var v=p[b];switch(c.type){case'bool':v=(v==='true'||v==='');break;default:}this[b]=v;}},parseUrlParameters:function(){var U=sap.ushell.Container.getService("URLParsing");var p=U.parseParameters(g.location.search);var n={};for(var k in p){var v=p[k];if(v.length!==1){continue;}v=v[0];if(typeof v!=='string'){continue;}n[k]=v;}return n;},loadCustomModulesAsync:function(){var t=this;if(t._loadCustomModulesProm){return t._loadCustomModulesProm;}var d,b=[];for(var c in t.dataSourceConfigurations){d=t.loadCustomModulesForDataSourceIdAsync(c);b.push(d);}t._loadCustomModulesProm=Promise.all(b);return t._loadCustomModulesProm;},loadCustomModulesForDataSourcesAsync:function(d,b){var c=[];for(var i=0;i<d.length;i++){var e=Array.isArray(b)&&b.length>i&&b[i]||{};var f=this.loadCustomModulesForDataSourceAsync(d[i],e);c.push(f);}return Promise.all(c);},loadCustomModulesForDataSourceAsync:function(d,b){b=b||{};return this.loadCustomModulesForDataSourceIdAsync(d.id,b);},loadCustomModulesForDataSourceIdAsync:function(d,b){if(!d){return Promise.resolve();}this._dataSourceLoadingProms=this._dataSourceLoadingProms||{};var c=this._dataSourceLoadingProms[d];if(!c){var e=[{moduleAttrName:"searchResultListItem",controlAttrName:"searchResultListItemControl"},{moduleAttrName:"searchResultListItemContent",controlAttrName:"searchResultListItemContentControl"},{moduleAttrName:"searchResultListSelectionHandler",controlAttrName:"searchResultListSelectionHandlerControl"}];var f=this._prepareDataSourceConfigurationForDataSource(d,b);var h,j=[];for(var i=0;i<e.length;i++){h=this._doLoadCustomModulesAsync(d,f,e[i].moduleAttrName,e[i].controlAttrName);j.push(h);}c=Promise.all(j);c._resolvedOrFailed=false;c.then(function(){c._resolvedOrFailed=true;});this._dataSourceLoadingProms[d]=c;}return c;},_doLoadCustomModulesAsync:function(d,b,m,c,f,h){var t=this;return new Promise(function(r,i){if(b[m]&&(!b[c]||b[c]==t.defaultDataSourceConfig[c])){try{sap.ui.require([b[m].replace(/[.]/g,'/')],function(k){b[c]=k;r();});}catch(e){var j="Could not load custom module '"+b[m]+"' for data source with id '"+d+"'. ";j+="Falling back to default data source configuration.";L.warning(j,'sap.ushell.renderers.fiori2.search.SearchConfiguration');b[m]=f||t.defaultDataSourceConfig[m];b[c]=h||t.defaultDataSourceConfig[c];r();}}else{if(!b[c]){b[m]=f||t.defaultDataSourceConfig[m];b[c]=h||t.defaultDataSourceConfig[c];}r();}});},getDataSourceConfig:function(d){if(this._dataSourceLoadingProms&&this._dataSourceLoadingProms[d.id]&&!this._dataSourceLoadingProms[d.id]._resolvedOrFailed){return this.defaultDataSourceConfig;}var c=this.dataSourceConfigurations[d.id];if(!c){c=this.defaultDataSourceConfig;this.dataSourceConfigurations[d.id]=c;}return c;},_prepareDataSourceConfigurationForDataSource:function(d,b){var c={};if(this.dataSourceConfigurations[d]){c=this.dataSourceConfigurations[d];}else{for(var i=0;i<this.dataSourceConfigurations_Regexes.length;i++){if(this.dataSourceConfigurations_Regexes[i].regex.test(d)){c=this.dataSourceConfigurations_Regexes[i];break;}}}if(b&&b.isDocumentConnector){if(!c.searchResultListItem){c.searchResultListItem=this.documentDataSource.searchResultListItem;}else{var m="Will attempt to load '"+c.searchResultListItem+"' instead of '"+this.documentDataSource.searchResultListItem+"' for data source '"+d+"'";L.warning(m,'sap.ushell.renderers.fiori2.search.SearchConfiguration');}}this.dataSourceConfigurations[d]=c;return c;},isLaunchpad:function(){try{return!!sap.ushell.Container.getService("CrossApplicationNavigation");}catch(e){return false;}},getSina:function(){return{};}};var s;S.getInstance=function(){if(s){return s;}s=new S();return s;};return S;});})(window);
},
	"sap/ushell/renderers/fiori2/search/SearchFacetDialogModel.js":function(){(function(g){"use strict";sap.ui.define(['sap/ushell/renderers/fiori2/search/SearchModel'],function(S){return S.extend("sap.ushell.renderers.fiori2.search.SearchFacetDialogModel",{constructor:function(s){var t=this;S.prototype.constructor.apply(t,[{searchModel:s}]);t.aFilters=[];},prepareFacetList:function(){var t=this;var m=t.getDataSource();t.setProperty('/facetDialog',t.oFacetFormatter.getDialogFacetsFromMetaData(m,t));},facetDialogSingleCall:function(p){var t=this;t.chartQuery.dimension=p.sAttribute;t.chartQuery.top=p.sAttributeLimit;return t.chartQuery.getResultSetAsync().then(function(r){var f=t.oFacetFormatter.getDialogFacetsFromChartQuery(r,t,p.bInitialFilters);var F=jQuery.extend(true,{},f);f.items4pie=F.items;var a=0,b=0,c=0,d=0;for(var i=0;i<f.items4pie.length;i++){if(i<9){f.items4pie[i].pieReady=true;if(f.items4pie[i].value>0){a+=f.items4pie[i].value;}}else{f.items4pie[i].pieReady=false;if(f.items4pie[i].value>0){b+=f.items4pie[i].value;}}}c=b*100/(a+b);c=Math.ceil(c);d=a/9;d=Math.floor(d);if(c>0){var n=f.items4pie[0].clone([true,true]);n.value=d;n.label=sap.ushell.resources.i18n.getText("facetPieChartOverflowText2",[c,9]);n.pieReady=true;n.valueLabel=""+d;n.isPieChartDummy=true;f.items4pie.push(n);}for(var j=0;j<f.items4pie.length;j++){f.items4pie[j].percentageMissingInBigPie=c;}t.setProperty(p.sBindingPath+"/items4pie",f.items4pie);t.setProperty(p.sBindingPath+"/items",f.items);},function(e){var a=sap.ushell.resources.i18n.getText('searchError');var b=e.message;sap.m.MessageBox.error(b,{icon:sap.m.MessageBox.Icon.NONE,title:a,actions:sap.m.MessageBox.Action.OK,onClose:null,styleClass:"",initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit});});},resetChartQueryFilterConditions:function(){var t=this;if(t.chartQuery){t.chartQuery.resetConditions();}},hasFilterCondition:function(f){var t=this;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){return true;}}return false;},hasFilter:function(i){var t=this;var f=i.filterCondition;return t.hasFilterCondition(f);},addFilter:function(i){var t=this;if(!t.hasFilter(i)){t.aFilters.push(i);}},removeFilter:function(a){var t=this;var f=a.filterCondition;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){t.aFilters.splice(i,1);return;}}},changeFilterAdvaced:function(a,A){var t=this;var f=a.filterCondition;for(var i=0;i<t.aFilters.length;i++){if(t.aFilters[i].filterCondition.equals&&t.aFilters[i].filterCondition.equals(f)){t.aFilters[i].advanced=A;return;}}},addFilterCondition:function(f,a){this.chartQuery.filter.autoInsertCondition(f);},getAttributeDataType:function(f){switch(f.dataType){case"Integer":return"number";case"Double":return"number";case"Timestamp":return"timestamp";case"Date":return"date";case"String":if(f.matchingStrategy===this.sinaNext.MatchingStrategy.Text){return"text";}return"string";default:return"string";}}});});})(window);
},
	"sap/ushell/renderers/fiori2/search/SearchModel.js":function(){(function(g){"use strict";sap.ui.define(['sap/ushell/renderers/fiori2/search/SearchHelper','sap/ushell/renderers/fiori2/search/SearchResultListFormatter','sap/ushell/renderers/fiori2/search/SearchFacetsFormatter','sap/ushell/renderers/fiori2/search/SearchTabStripsFormatter','sap/ushell/renderers/fiori2/search/suggestions/SuggestionHandler','sap/ushell/renderers/fiori2/search/SearchConfiguration','sap/ushell/renderers/fiori2/search/personalization/PersonalizationStorage','sap/ushell/renderers/fiori2/search/eventlogging/EventLogger','sap/ushell/renderers/fiori2/search/SearchUrlParser'],function(S,c,d,f,h,l,P,E,m){sap.ushell.renderers.fiori2.search.getModelSingleton=function(){if(!sap.ushell.renderers.fiori2.search.oModel){sap.ushell.renderers.fiori2.search.oModel=new sap.ushell.renderers.fiori2.search.SearchModel();}return sap.ushell.renderers.fiori2.search.oModel;};var n;var o=sap.ui.model.json.JSONModel.extend("sap.ushell.renderers.fiori2.search.SearchModel",{constructor:function(p){var t=this;p=p||{};sap.ui.model.json.JSONModel.prototype.constructor.apply(t,[]);t.config=l.getInstance();t.setSizeLimit(1000);t.suggestionHandler=new h({model:this});t.searchApplications=S.refuseOutdatedRequests(t.searchApplications,'search');t.pageSize=10;t.appTopDefault=20;t.boTopDefault=t.pageSize;t.setProperty('/isQueryInvalidated',true);t.setProperty('/isBusy',false);t.setProperty('/busyDelay',0);t.setProperty('/tableColumns',[]);t.setProperty('/tableSortableColumns',[]);t.setProperty('/tableResults',[]);t.setProperty('/results',[]);t.setProperty('/appResults',[]);t.setProperty('/boResults',[]);t.setProperty('/origBoResults',[]);t.setProperty('/count',0);t.setProperty('/boCount',0);t.setProperty('/appCount',0);t.setProperty('/facets',[]);t.setProperty('/dataSources',[t.allDataSource,t.appDataSource]);t.setProperty('/appSearchDataSource',null);t.setProperty('/currentPersoServiceProvider',null);t.setProperty('/businessObjSearchEnabled',true);t.setProperty('/initializingObjSearch',false);t.setProperty('/suggestions',[]);t.setProperty('/resultToDisplay',S.loadResultViewType());t.setProperty('/displaySwitchVisibility',false);t.setProperty('/documentTitle','Search');t.setProperty('/top',t.boTopDefault);t.setProperty('/orderBy',{});t.setProperty('/facetVisibility',false);t.setProperty('/focusIndex',0);t.setProperty('/errors',[]);t.setProperty('/isErrorPopovered',false);this.setProperty("/nlqSuccess",false);this.setProperty("/nlqDescription","");this.setProperty("/firstSearchWasExecuted",false);t.setProperty('/multiSelectionAvailable',false);t.setProperty('/multiSelectionEnabled',false);t.setProperty('/multiSelection/actions',[]);if(p.searchModel&&p.searchModel._initBusinessObjSearchProm){t._initBusinessObjSearchProm=p.searchModel._initBusinessObjSearchProm;t.oFacetFormatter=new sap.ushell.renderers.fiori2.search.SearchFacetsFormatter(t);}t.initBusinessObjSearch();t.searchUrlParser=new m({model:this});},createSina:function(){var s=new jQuery.Deferred();sap.ui.require(['sap/ushell/renderers/fiori2/search/sinaNext/sina/sinaFactory'],function(a){if(!this.config.searchBusinessObjects){a.createAsync('dummy').then(function(b){s.resolve(b);},function(e){s.reject(e);});return;}var t=[];if(window.location.href.indexOf("demo/FioriLaunchpad.")!==-1){t=['sample'];}else{t=['abap_odata','inav2','dummy'];}if(this.config.sinaConfiguration){t=[this.config.sinaConfiguration];}a.createByTrialAsync(t).then(function(b){s.resolve(b);},function(e){s.reject(e);});}.bind(this));return s;},initBusinessObjSearch:function(){var t=this;if(t._initBusinessObjSearchProm){return t._initBusinessObjSearchProm;}t.setProperty("/initializingObjSearch",true);t.setProperty("/isBusy",true);var a={label:sap.ushell.resources.i18n.getText("genericLoading"),labelPlural:sap.ushell.resources.i18n.getText("genericLoading"),enabled:false,id:'$$Loading$$'};t.setProperty("/dataSource",a);t.setProperty("/dataSources",[a]);t._initBusinessObjSearchProm=this.createSina().then(function(s){t.sinaNext=s;t.eventLogger=E.newInstance({sinaNext:t.sinaNext});t.eventLogger.logEvent({type:t.eventLogger.SESSION_START});t.createAllAndAppDataSource();t.setProperty('/defaultDataSource',t.allDataSource);if(s.provider.id==='dummy'){t.setProperty('/defaultDataSource',t.appDataSource);t.setProperty('/businessObjSearchEnabled',false);t.config.searchBusinessObjects=false;t.setProperty('/facetVisibility',false);}if(s.provider.id==='inav2'&&t.config.isLaunchpad()){sap.ushell.Container.addRemoteSystem(new sap.ushell.System({alias:"ENTERPRISE_SEARCH",platform:"abap",baseUrl:"/ENTERPRISE_SEARCH"}));}t.setProperty('/uiFilter',t.sinaNext.createFilter());t.loadDataSources();t.resetDataSource(false);t.resetFilterConditions(false);t.query=t.sinaNext.createSearchQuery();if(t.config.multiSelect){t.query.setMultiSelectFacets(true);}t.oFacetFormatter=new sap.ushell.renderers.fiori2.search.SearchFacetsFormatter(t);t.tabStripFormatter=new f.Formatter(t.allDataSource);t.dataSourceTree=t.tabStripFormatter.tree;t.setProperty("/initializingObjSearch",false);t.setProperty("/isBusy",false);},function(e){var b=sap.ushell.resources.i18n.getText('searchError');var i=sap.ushell.resources.i18n.getText('searchInitialError');if(e.message){i=i+" "+e.message;}sap.m.MessageBox.error(i,{icon:sap.m.MessageBox.Icon.NONE,title:b,actions:sap.m.MessageBox.Action.OK,onClose:null,styleClass:"",initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit});});return t._initBusinessObjSearchProm;},initPersonalization:function(){var t=this;if(this.initPersonalizationPromise){return this.initPersonalizationPromise;}this.initPersonalizationPromise=P.getInstance().then(function(p){var a=false;try{a=p.getItem('search-facet-panel-button-state');}catch(e){}t.setFacetVisibility(a,false);},function(){return jQuery.Deferred().resolve(true);});return this.initPersonalizationPromise;},isBusinessObjSearchConfigured:function(){try{var a=window['sap-ushell-config'].renderers.fiori2.componentData.config;return a.searchBusinessObjects!=='hidden';}catch(e){return true;}},isBusinessObjSearchEnabled:function(){return this.getProperty('/businessObjSearchEnabled');},setProperty:function(a,v,C,A){var t=this;var r=sap.ui.model.json.JSONModel.prototype.setProperty.apply(this,arguments);switch(a){case'/boResults':case'/appResults':t.calculateResultList();break;case'/appCount':case'/boCount':r=t.setProperty('/count',t.getProperty('/appCount')+t.getProperty('/boCount'));break;default:break;}return r;},getPersonalizationStorageInstance:function(){return P.getInstanceSync();},getSearchBoxTerm:function(){return this.getProperty('/uiFilter/searchTerm')||'';},setSearchBoxTerm:function(s,a){var t=this;var b=s.replace(/^\s+/,"");this.setProperty('/uiFilter/searchTerm',b);this.calculateSearchButtonStatus();if(b.length===0){return;}if(a||a===undefined){t._firePerspectiveQuery();}},getLastSearchTerm:function(){return this.query.getSearchTerm();},setFacetVisibility:function(v,a){if(sap.ui.Device.system.phone){v=false;}this.setProperty('/facetVisibility',v);try{this.getPersonalizationStorageInstance().setItem('search-facet-panel-button-state',v);}catch(e){}if((a||a===undefined)){this._firePerspectiveQuery({preserveFormerResults:true});}},getFacetVisibility:function(){return this.getProperty('/facetVisibility');},getTop:function(){return this.getProperty('/top');},setTop:function(t,a){this.setProperty('/top',t);if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetTop:function(){this.setProperty('/focusIndex',0);if(this.isAppCategory()){this.setTop(this.appTopDefault,false);}else{this.setTop(this.boTopDefault,false);}},getOrderBy:function(){return this.getProperty('/orderBy');},setOrderBy:function(a,b){this.setProperty('/orderBy',a);if(b||b===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},resetOrderBy:function(a){this.setProperty('/orderBy',{});if(a||a===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}},isEqualOrderBy:function(a,q){if(!a.orderBy){return q.length===0;}if(q.length!==1){return false;}var b=q[0];if(b.id!==a.orderBy){return false;}if(a.sortOrder==='ASC'){return b.order===this.sinaNext.SortOrder.Ascending;}else{return b.order===this.sinaNext.SortOrder.Descending;}},getDocumentTitle:function(){var s=this.getSearchBoxTerm();var a=this.getDataSource().label;var t;if(this.getDataSource()===this.allDataSource){t=sap.ushell.resources.i18n.getText('searchTileTitleProposalAll',[s]);}else{t=sap.ushell.resources.i18n.getText('searchTileTitleProposal',[s,a]);}return t;},resetQuery:function(){if(this.getProperty('/initializingObjSearch')){return;}S.hasher.reset();this.resetTop();this.setSearchBoxTerm('');this.resetDataSource(false);this.resetFilterConditions(false);this.query.resetConditions();this.query.setSearchTerm('random-jgfhfdskjghrtekjhg');this.setProperty('/facets',[]);this.setProperty('/results',[]);this.setProperty('/appResults',[]);this.setProperty('/boResults',[]);this.setProperty('/origBoResults',[]);this.setProperty('/count',0);this.setProperty('/boCount',0);this.setProperty('/appCount',0);},createAllAndAppDataSource:function(){this.allDataSource=this.sinaNext.getAllDataSource();this.allDataSource.label=sap.ushell.resources.i18n.getText("label_all");this.allDataSource.labelPlural=sap.ushell.resources.i18n.getText("label_all");this.appDataSource=this.sinaNext._createDataSource({id:'$$APPS$$',label:sap.ushell.resources.i18n.getText("label_apps"),labelPlural:sap.ushell.resources.i18n.getText("label_apps"),type:this.sinaNext.DataSourceType.Category});},loadDataSources:function(){var t=this;var a=this.sinaNext.getBusinessObjectDataSources();a=a.slice();var b=[];a.forEach(function(e){if(!e.usage.appSearch){b.push(e);}else{t.setProperty("/appSearchDataSource",e);}});if(!this.config.odataProvider&&this.config.isLaunchpad()){b.splice(0,0,this.appDataSource);b.splice(0,0,this.allDataSource);}else{b.splice(0,0,this.allDataSource);}this.setProperty("/dataSources",b);this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder());},resetDataSource:function(a){this.setDataSource(this.getDefaultDataSource(),a);},isAllCategory:function(){var a=this.getProperty("/uiFilter/dataSource");return a===this.allDataSource;},isOtherCategory:function(){var a=this.getProperty("/uiFilter/dataSource");return a.type===this.sinaNext.DataSourceType.Category&&!this.isAllCategory();},isAppCategory:function(){var a=this.getProperty("/uiFilter/dataSource");return a===this.appDataSource;},getDataSource:function(){return this.getProperty("/uiFilter/dataSource");},getDefaultDataSource:function(){return this.getProperty("/defaultDataSource");},setDataSource:function(a,b,r){if(this.getDataSource()!==a){this.eventLogger.logEvent({type:this.eventLogger.DATASOURCE_CHANGE,dataSourceId:a.id});}this.updateDataSourceList(a);this.getProperty("/uiFilter").setDataSource(a);if(r||r===undefined){this.resetTop();}this.setProperty("/searchTermPlaceholder",this.calculatePlaceholder());this.calculateSearchButtonStatus();if(b||b===undefined){this._firePerspectiveQuery();}},getServerDataSources:function(){var t=this;if(t.getDataSourcesDeffered){return t.getDataSourcesDeffered;}t.getDataSourcesDeffered=t.sina.getDataSources().then(function(a){return jQuery.grep(a,function(b){return b.getType()!=='Category';});});return t.getDataSourcesDeffered;},notifyFilterChanged:function(){jQuery.each(this.aBindings,function(i,b){if(b.sPath==='/uiFilter/rootCondition'){b.checkUpdate(true);}});},addFilterCondition:function(a,b){if(a.attribute||a.conditions){this.getProperty("/uiFilter").autoInsertCondition(a);}else{this.setDataSource(a,false);}if(b||b===undefined){this._firePerspectiveQuery({preserveFormerResults:false});}this.notifyFilterChanged();},removeFilterCondition:function(a,b){if(a.attribute||a.conditions){this.getProperty("/uiFilter").autoRemoveCondition(a);}else{this.setDataSource(a,false);}if(b||b===undefined){this._firePerspectiveQuery({preserveFormerResults:true});}this.notifyFilterChanged();},resetFilterConditions:function(a){this.getProperty("/uiFilter").resetConditions();if(a||a===undefined){this._firePerspectiveQuery();}this.notifyFilterChanged();},doSuggestion:function(){this.suggestionHandler.doSuggestion(this.getProperty('/uiFilter').clone());},abortSuggestions:function(){this.suggestionHandler.abortSuggestions();},autoSelectAppSuggestion:function(a){return this.suggestionHandler.autoSelectAppSuggestion(a);},_firePerspectiveQuery:function(a,p){var t=this;this.initBusinessObjSearch().then(function(){var b=function(){return t._doFirePerspectiveQuery(a,p);};t.initPersonalization().then(b);});},_doFirePerspectiveQuery:function(a,p){var t=this;var b,e;if(jQuery.isPlainObject(a)){b=a.deserialization;e=a.preserveFormerResults;}else{b=a?a:undefined;e=p?p:undefined;}var u=this.getProperty('/uiFilter');if(u.equals(this.query.filter)&&this.getTop()===this.query.top&&this.isEqualOrderBy(this.getOrderBy(),this.query.sortOrder)&&this.getCalculateFacetsFlag()===this.query.calculateFacets&&!this.getProperty('/isQueryInvalidated')){return(new jQuery.Deferred()).resolve();}if(S.getUrlParameter('nlq')==='true'){this.query.setNlq(true);}if((this.query.filter.dataSource&&u.dataSource!==this.query.filter.dataSource)||(this.query.filter.searchTerm&&u.searchTerm!==this.query.filter.searchTerm)){this.resetOrderBy(false);}if(!b&&!e){if(!u.equals(this.query.filter)){this.resetTop();}}if(u.searchTerm!==this.query.filter.searchTerm||!u.rootCondition.equals(this.query.filter.rootCondition)){this.tabStripFormatter.invalidate(this.getDataSource());}if(this.getProperty('/isQueryInvalidated')===true){this.query.resetResultSet();this.setProperty('/isQueryInvalidated',false);}this.query.setFilter(this.getProperty('/uiFilter').clone());this.query.setTop(this.getTop());this.query.setSortOrder(this.assembleSortOrder());this.query.setCalculateFacets(this.getCalculateFacetsFlag());this.cleanErrors();this.setProperty("/queryFilter",this.query.filter);sap.ui.getCore().getEventBus().publish("allSearchStarted");if(b){this.setProperty('/busyDelay',0);}else{this.setProperty('/busyDelay',600);}this.setProperty('/isBusy',true);this.abortSuggestions();this.calculateVisibility();if(!b){this.updateSearchURLSilently();}this.eventLogger.logEvent({type:this.eventLogger.SEARCH_REQUEST,searchTerm:this.getProperty('/uiFilter/searchTerm'),dataSourceKey:this.getProperty('/uiFilter/dataSource').id});return jQuery.when.apply(null,[this.normalSearch(e),this.appSearch()]).then(function(){t.setProperty('/tabStrips',t.tabStripFormatter.format(t.getDataSource(),t.perspective,t));return t.oFacetFormatter.getFacets(t.getDataSource(),t.perspective,t).then(function(i){if(i&&i.length>0){i[0].change=jQuery.sap.now();t.setProperty('/facets',i);}});}).always(function(){document.title=t.getDocumentTitle();sap.ui.getCore().getEventBus().publish("allSearchFinished");t.setProperty('/isBusy',false);t.setProperty("/firstSearchWasExecuted",true);t.notifyFilterChanged();});},assembleSortOrder:function(){var a=this.getOrderBy();if(!a.orderBy){return[];}var b=this.sinaNext.SortOrder.Ascending;if(a.sortOrder==='DESC'){b=this.sinaNext.SortOrder.Descending;}return[{id:a.orderBy,order:b}];},getCalculateFacetsFlag:function(){if(this.getDataSource().type===this.sinaNext.DataSourceType.Category||this.getFacetVisibility()){return true;}else{return false;}},appSearch:function(){var t=this;this.setProperty("/appResults",[]);this.setProperty("/appCount",0);if(!this.isAllCategory()&&!this.isAppCategory()){return jQuery.when(true);}var a=this.query.filter.dataSource===this.allDataSource?this.appTopDefault:this.query.top;return this.searchApplications(this.query.filter.searchTerm,a,0).then(function(r){t.setProperty("/appCount",r.totalResults);t.setProperty("/appResults",r.getElements());},function(e){t.pushError({type:"error",title:e.name,description:e,keep:e.keep});return jQuery.when(true);});},searchApplications:function(s,t,a){return sap.ushell.Container.getService("Search").queryApplications({searchTerm:s,top:t,skip:a});},transferLog:function(a){var b=a.getMessages();for(var i=0;i<b.length;++i){var e=b[i];this.pushError({type:e.severity,title:e.text,description:''});}},normalSearch:function(p){var t=this;if(!p){t.resetAndDisableMultiSelection();}if(!t.isBusinessObjSearchEnabled()||t.isAppCategory()){this.setProperty("/boResults",[]);this.setProperty("/origBoResults",[]);this.setProperty("/boCount",0);this.setProperty("/nlqSuccess",false);this.setProperty("/nlqDescription","");return jQuery.when(true);}var q=new jQuery.Deferred();var s=function(a){t.transferLog(a.log);t.perspective=a;t.setProperty("/nlqSuccess",false);if(a.nlqSuccess){t.setProperty("/nlqSuccess",true);t.setProperty("/nlqDescription",a.title);}t._afterSearchPrepareResultList(t.perspective,p).then(function(){q.resolve();});};var e=function(a){t.normalSearchErrorHandling(a);t.perspective=null;q.resolve();};t.setDataSource(t.getDataSource(),false,false);t.query.setCalculateFacets(t.getCalculateFacetsFlag());t.query.getResultSetAsync().then(function(a){return s(a);},e);return q;},_prepareTableResults:function(r){var t=this;var i,j,k;var e=[];var p=this.sinaNext.dataSourceMap[this.getDataSource().id].attributesMetadata;for(i=0;i<p.length;i++){if(p[i].usage.Detail&&p[i].group===undefined&&p[i].type!=="GeoJson"&&p[i].id.match(/latitude|longitude/i)==null&&p[i].type!==t.sinaNext.AttributeType.ImageUrl){e.push(p[i]);}}var q=function(a,b){if(a.usage.Detail.displayOrder<b.usage.Detail.displayOrder)return-1;if(a.usage.Detail.displayOrder>b.usage.Detail.displayOrder)return 1;return 0;};e.sort(q);var s=r;for(i=0;i<r.length;i++){s[i].cells=[];for(j=0;j<e.length;j++){s[i].cells[j]={};}}for(i=0;i<r.length;i++){var u=r[i].itemattributes;for(j=0;j<e.length;j++){for(k=0;k<u.length;k++){if(e[j].id===u[k].key){s[i].cells[j]={value:u[k].value};}}}if(r[i].hasTitleDescription){s[i].cells.unshift({value:r[i].titleDescription});}s[i].cells.unshift({value:r[i].title,uri:r[i].uri,titleNavigation:r[i].titleNavigation,isTitle:true});if(r[i].navigationObjects!==undefined&&r[i].navigationObjects.length>0){s[i].cells.push({value:sap.ushell.resources.i18n.getText("intents"),navigationObjects:r[i].navigationObjects,isRelatedApps:true});}}t.setProperty("/tableResults",s);var v=[];var w=[];var x=2;for(i=0;i<e.length;i++){if(e[i].id.match(/latitude|longitude/i)==null&&e[i].type!==t.sinaNext.AttributeType.ImageUrl){v.push({name:e[i].label,key:"searchColumnKey"+x,attributeId:e[i].id});x++;}}if(r[0].hasTitleDescription){var y="";e.forEach(function(A){if(A.usage.TitleDescription){y=y+A.label+" ";}});y=y+"("+sap.ushell.resources.i18n.getText("titleDescription")+")";v.unshift({name:y,key:"searchColumnKey1",attributeId:"SEARCH_TABLE_TITLE_DESCRIPTION_COLUMN"});}v.unshift({name:t.getDataSource().label,key:"searchColumnKey0",attributeId:"SEARCH_TABLE_TITLE_COLUMN"});var z=s[0].cells.length-1;if(s[0].cells[z].isRelatedApps){v.push({name:sap.ushell.resources.i18n.getText("intents"),key:"searchColumnKey"+(v.length+1),attributeId:"SEARCH_APPS_AS_ID"});}for(i=0;i<v.length;i++){v[i].index=i;}t.setProperty("/tableColumns",v);for(i=0;i<p.length;i++){var A=p[i];if(A.isSortable){w.push({name:A.label,key:"searchSortableColumnKey"+i,attributeId:A.id,selected:t.getProperty("/orderBy").orderBy===A.id});}}var B=function(a,b){if(a.name<b.name)return-1;if(a.name>b.name)return 1;return 0;};w.sort(B);w.unshift({name:sap.ushell.resources.i18n.getText("defaultRank"),key:"searchSortableColumnKeyDefault",attributeId:"",selected:jQuery.isEmptyObject(t.getProperty("/orderBy"))});t.setProperty("/tableSortableColumns",w);},_afterSearchPrepareResultList:function(s,p){var t=this;t.setProperty("/boCount",s.totalCount);var i;var a=[];if(false&&p){var _=t.getProperty("/boResults");for(i=0;i<_.length;i++){if(_[i].expanded||_[i].selected){a.push(_[i]);}}}t.setProperty("/boResults",[]);t.setProperty("/origBoResults",s.items);t.setProperty("/boCount",0);var b=new c();var e=b.format(s,t.query.filter.searchTerm);var k;var q=[];var r=[];for(i=0;i<e.length;i++){k=e[i];q.push(k.dataSource);r.push({isDocumentConnector:k.isDocumentConnector});}var u=t.config.loadCustomModulesForDataSourcesAsync(q,r);if(false&&a&&a.length>0){var R=t.sina.ResultElementKeyStatus;var v=[];for(i=0;i<e.length;i++){k=e[i];if(k.keystatus===R.OK){for(var j=0;j<a.length;j++){var w=a[j];if(w.keystatus===R.OK&&w.key===k.key){k.selected=w.selected;k.expanded=w.expanded;a.splice(j,1);break;}}}else{v.push(k);}}if(v.length>0){var x=[];var y="";for(i=0;i<v.length;i++){var z=v[i].dataSource.key;if(jQuery.inArray(z,x)<0){x.push(z);y+=z+"\n";}}t.pushError({type:"warning",title:sap.ushell.resources.i18n.getText("preserveFormerResultErrorTitle"),description:sap.ushell.resources.i18n.getText("preserveFormerResultErrorDetails",y)});}}var A=$.Deferred();Promise.all([Promise.resolve(s),u]).then(function(B){var s=B[0];if(!t.isAllCategory()&&!t.isOtherCategory()&&!t.isAppCategory()&&s.totalCount>0){if(s.items[0].titleDescriptionAttributes.length>0){e.forEach(function(C){C.hasTitleDescription=true;});}t._prepareTableResults(e);}t.setProperty("/boCount",s.totalCount);t.setProperty("/boResults",e);t.enableOrDisableMultiSelection();A.resolve();});return A.promise();},resetAndDisableMultiSelection:function(){this.setProperty("/multiSelectionAvailable",false);this.setProperty("/multiSelectionEnabled",false);},enableOrDisableMultiSelection:function(){var a=this.getDataSource();var b=this.config.getDataSourceConfig(a);var s=new b.searchResultListSelectionHandlerControl();if(s){this.setProperty("/multiSelectionAvailable",s.isMultiSelectionAvailable());}else{this.setProperty("/multiSelectionAvailable",false);}},_endWith:function(s,a){return s.indexOf(a,s.length-a.length)!==-1;},calculatePlaceholder:function(){var t=this;if(t.isAllCategory()){return sap.ushell.resources.i18n.getText("search");}else{return sap.ushell.resources.i18n.getText("searchInPlaceholder",t.getDataSource().labelPlural);}},updateDataSourceList:function(a){var b=this.getProperty('/dataSources');while(b.length>0&&b[0]!==this.allDataSource){b.shift();}if(a===this.allDataSource||a===this.appDataSource){return;}if(a&&a.id){if(a.id.indexOf('~')>=0){return;}}for(var i=0;i<b.length;++i){var e=b[i];if(e===a){return;}}b.unshift(a);this.setProperty('/dataSources',b);},invalidateQuery:function(){this.setProperty('/isQueryInvalidated',true);},autoStartApp:function(){var t=this;if(t.getProperty("/appCount")&&t.getProperty("/appCount")===1&&t.getProperty("/count")&&t.getProperty("/count")===1){var a=t.getProperty("/appResults");if(a&&a.length>0&&a[0]&&a[0].url&&t.getProperty('/uiFilter/searchTerm')&&a[0].tooltip&&t.getProperty('/uiFilter/searchTerm').toLowerCase().trim()===a[0].tooltip.toLowerCase().trim()){if(a[0].url[0]==='#'){window.location.href=a[0].url;}else{window.open(a[0].url,'_blank');}}}},getResultToDisplay:function(){return this.getProperty('/resultToDisplay');},setResultToDisplay:function(t){this.setProperty('/resultToDisplay',t);S.saveResultViewType(t);},calculateVisibility:function(){var t=this;if(t.isAppCategory()){t.setResultToDisplay("appSearchResult");t.setProperty('/displaySwitchVisibility',false);}else if(t.isAllCategory()||t.isOtherCategory()){t.setResultToDisplay("searchResultList");t.setProperty('/displaySwitchVisibility',false);}else{var r=t.getResultToDisplay();if(!(r==="searchResultList"||r==="searchResultTable"||r==="searchResultMap")){t.setResultToDisplay("searchResultList");}t.setProperty('/displaySwitchVisibility',true);}},calculateSearchButtonStatus:function(){if(this.getDataSource()===this.getProperty('/defaultDataSource')&&this.getSearchBoxTerm().length===0){this.setProperty('/searchButtonStatus','close');}else{this.setProperty('/searchButtonStatus','search');}},calculateResultList:function(){var t=this;var r=[];var b=t.getProperty('/boResults');if(b&&b.length){r.push.apply(r,b);}var a=t.getProperty('/appResults');if(a&&a.length>0){var e={type:'appcontainer',tiles:a};if(r.length>0){if(r.length>3){r.splice(3,0,e);}else{r.push(e);}}else{r=[e];}}sap.ui.model.json.JSONModel.prototype.setProperty.apply(this,['/results',r]);},getDebugInfo:function(){var t=[this.sinaNext.getDebugInfo()];return t.join('\n');},getErrors:function(){return this.getProperty('/errors');},cleanErrors:function(){this.setProperty('/errors',jQuery.grep(this.getProperty('/errors'),function(e){return e.keep;}));},pushError:function(e){var t=this;e.title=e.title==="[object Object]"?sap.ushell.resources.i18n.getText('searchError'):e.title;var a=this.getProperty('/errors');a.push(e);t.setProperty('/errors',a);},normalSearchErrorHandling:function(e){if(!e){return;}this.setProperty("/boResults",[]);this.setProperty("/origBoResults",[]);this.setProperty("/boCount",0);this.setProperty("/nlqSuccess",false);this.setProperty("/nlqDescription","");var s=function(t){return t.replace(/<(?:.|\n)*?>|[{}]/gm,'');};if(e instanceof this.sinaNext.core.Exception){this.pushError({type:"error",title:e.message,description:s(e.description)+'\n'+this.getDebugInfo(),keep:e.keep});return;}this.pushError({type:"error",title:e.toString(),description:e.toString()+'\n'+this.getDebugInfo(),keep:e.keep});},updateSearchURLSilently:function(){var H=this.renderSearchURL();S.hasher.setHash(H);},renderSearchURL:function(){return this.searchUrlParser.render();},parseURL:function(){this.searchUrlParser.parse();}});o.injectSearchShellHelper=function(_){n=n||_;};return o;});})(window);
},
	"sap/ushell/renderers/fiori2/search/container/Component-preload.js":function(){
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configuratorFactory.js":function(){window.sinaRequire=window.sinaRequire||(window.sap&&window.sap.ui&&window.sap.ui.require)||window.require;window.sinaDefine=window.sinaDefine||(window.sap&&window.sap.ui&&window.sap.ui.define)||window.define;window.sinaLog=window.sinaLog||(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.log)||window.console;sinaDefine(['../core/core','./configurators/CustomFunctionConfigurator','./configurators/TemplateConfigurator','./configurators/TextResourceConfigurator','./configurators/SimpleValueConfigurator','./configurators/ListConfigurator','./configurators/ObjectConfigurator'],function(c,C,T,a,S,L,O){"use strict";var b=[C,L,O,T,a,S];var m={createConfiguratorAsync:function(o){o.createConfiguratorAsync=m.createConfiguratorAsync.bind(m);for(var i=0;i<b.length;++i){var d=b[i];if(d.prototype.isSuitable(o)){return m._createAsync(d,o);}}},_createAsync:function(d,o){var e=new d(o);return c.Promise.resolve().then(function(){return e.initResourceBundleAsync();}.bind(this)).then(function(){return e.initAsync();}.bind(this)).then(function(){return e;}.bind(this));}};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/Configurator.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({_init:function(o){this.type=o.type;this.typeContext=o.typeContext;this.configuration=o.configuration;this.createConfiguratorAsync=o.createConfiguratorAsync;},createContext:function(o,a){if(!o){return{objectStack:[a],configuratorStack:[this]};}var b=o.objectStack.slice();b.push(a);var d=o.configuratorStack.slice();d.push(this);return{objectStack:b,configuratorStack:d};},getResourceBundle:function(a){for(var i=a.configuratorStack.length-1;i>=0;--i){var b=a.configuratorStack[i];if(b.resourceBundle){return b.resourceBundle;}}},getEvaluateTemplateFunction:function(a){var b=function(e,o){return function(t){return e(t,o);};};for(var i=a.configuratorStack.length-1;i>=0;--i){var d=a.configuratorStack[i];var o=a.objectStack[i];if(d.type&&d.type.evaluateTemplate){return b(d.type.evaluateTemplate,o);}}},initResourceBundleAsync:function(){if(!this.configuration.resourceBundle){return undefined;}return this.loadResourceBundleAsync(this.configuration.resourceBundle).then(function(r){this.resourceBundle=r;}.bind(this));},loadResourceBundleAsync:function(u){if(!window.jQuery){return c.Promise.resolve({getText:function(i){return i;}});}return new c.Promise(function(r,a){jQuery.sap.resources({url:u,async:true}).then(function(b){r(b);},function(e){a(e);});});},configure:function(){},configureAsync:function(){var a=arguments;return c.Promise.resolve().then(function(){return this.configure.apply(this,a);}.bind(this));},isInitialOrForced:function(v){if(this.force||typeof v==='undefined'||(c.isObject(v)&&v===null)||(c.isString(v)&&v.length===0)){return true;}return false;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/CustomFunctionConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){if(c.isObject(this.configuration)){this.customFunction=this.configuration.func;this.force=this.configuration.force;return;}this.customFunction=this.configuration;this.force=false;},isSuitable:function(o){if(c.isFunction(o.configuration)){return true;}if(c.isObject(o.configuration)&&o.configuration.hasOwnProperty('func')){return true;}},configure:function(v,a){if(this.isInitialOrForced(v)){return this.customFunction(v,a);}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/ListConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){this.elements=[];this.cache={};var p=[];for(var i=0;i<this.configuration.length;++i){var e=this.configuration[i];p.push(this.createElementConfiguratorAsync(this.type,e,i));}return c.Promise.all(p);},isSuitable:function(o){if(o.typeContext&&o.typeContext.multiple&&c.isList(o.configuration)){return true;}},createElementConfiguratorAsync:function(t,a,i){return this.createConfiguratorAsync({type:t,configuration:a}).then(function(b){this.elements.push({configuration:a,configurator:b,id:i});}.bind(this));},getElement:function(l){var a=this.typeContext.getElementId(l);var e=this.cache[a];if(e){return e;}for(var i=0;i<this.elements.length;++i){e=this.elements[i];if(this.matchId(l,e)){this.cache[a]=e;return e;}}},matchId:function(l,e){var a=this.typeContext.getElementId(l);var b=this.typeContext.getElementId(e.configuration);var m;if(c.isObject(b)&&b.hasOwnProperty('regExp')){if(!b.regExpObj){b.regExpObj=new RegExp(b.regExp,b.regExpFlags);}m=b.regExpObj.test(a);}else{m=a===b;}return m;},createEmptyUsedElements:function(){var u=[];for(var i=0;i<this.elements.length;++i){u.push(false);}return u;},configure:function(l,a){if(!l){l=[];}a=this.createContext(a,l);var u=this.createEmptyUsedElements();var e,b,n;for(var i=0;i<l.length;++i){b=l[i];e=this.getElement(b);if(!e){continue;}var d=e.configurator.configure(b,a);if(d!==b){l[i]=d;}u[e.id]={index:i};}var f;var g=0;if(this.typeContext.createElement){for(var j=0;j<u.length;++j){var h=u[j];e=this.elements[j];if(h){f=h;continue;}var t=this.typeContext.createElement(e.configuration,a);n=e.configurator.configure(t,a);var k=(f?f.index:-1)+g+1;l.splice(k,0,n);g++;if(this.typeContext.postProcessCreatedElement){this.typeContext.postProcessCreatedElement(n,a);}}}return l;},configureAsync:function(l,a){if(!l){l=[];}a=this.createContext(a,l);var u=this.createEmptyUsedElements();var b;var n=0;var d=function(f){if(f>=l.length){return null;}var g=l[f];var h=this.getElement(g);if(!h){return d(f+1);}u[h.id]={index:f};return c.Promise.resolve().then(function(){return h.configurator.configureAsync(g,a);}.bind(this)).then(function(i){if(i!==g){l[f]=i;}return d(f+1);}.bind(this));}.bind(this);var e=function(f){if(f>=this.elements.length){return null;}var g=this.elements[f];var h=u[f];if(h){b=h;return e(f+1);}var t=this.typeContext.createElement(g.configuration,a);return c.Promise.resolve().then(function(){return g.configurator.configureAsync(t,a);}.bind(this)).then(function(i){var j=(b?b.index:-1)+n+1;l.splice(j,0,i);n++;if(this.typeContext.postProcessCreatedElement){this.typeContext.postProcessCreatedElement(i,a);}return e(f+1);}.bind(this));}.bind(this);return c.Promise.resolve().then(function(){return d(0);}.bind(this)).then(function(){if(!this.typeContext.createElement){return null;}return e(0);}.bind(this)).then(function(){return l;}.bind(this));}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/ObjectConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(o){this.properties=[];var p=[];for(var i=0;i<this.type.properties.length;++i){var a=this.type.properties[i];var b=this.configuration[a.name];if(!b){continue;}p.push(this.createPropertyConfiguratorAsync(a,b));}return c.Promise.all(p);},createPropertyConfiguratorAsync:function(p,a){return this.createConfiguratorAsync({type:p.type,typeContext:p,configuration:a}).then(function(b){this.properties.push({name:p.name,configurator:b});}.bind(this));},isSuitable:function(o){if(c.isObject(o.configuration)&&c.isObject(o.type)&&o.type.type==='object'){return true;}},configure:function(o,a){a=this.createContext(a,o);this.object=o;for(var i=0;i<this.properties.length;++i){var p=this.properties[i];o[p.name]=p.configurator.configure(o[p.name],a);}return o;},configureAsync:function(o,a){a=this.createContext(a,o);this.object=o;var b=function(p){return c.Promise.resolve().then(function(){return p.configurator.configureAsync(o[p.name],a);}).then(function(v){o[p.name]=v;});};return c.Promise.all(c.map(this.properties,b)).then(function(){return o;}.bind(this));}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/SimpleValueConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){if(c.isObject(this.configuration)){this.value=this.configuration.value;this.force=this.configuration.force;return;}this.value=this.configuration;this.force=false;},isSuitable:function(o){if(c.isString(o.type)&&['string','integer','object'].indexOf(o.type)>=0){return true;}return false;},configure:function(v,a){if(this.isInitialOrForced(v)){return this.value;}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/TemplateConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){this.template=this.configuration.template;this.force=this.configuration.force;},isSuitable:function(o){if(c.isString(o.type)&&['string'].indexOf(o.type)>=0&&c.isObject(o.configuration)&&o.configuration.hasOwnProperty('template')){return true;}return false;},configure:function(v,a){if(this.isInitialOrForced(v)){var e=this.getEvaluateTemplateFunction(a);return e(this.configuration.template);}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/configurationEngine/configurators/TextResourceConfigurator.js":function(){sinaDefine(['../../core/core','./Configurator'],function(c,C){"use strict";return C.derive({initAsync:function(){this.resourceKey=this.configuration.resourceKey;this.force=this.configuration.force;},isSuitable:function(o){if(c.isString(o.type)&&['string'].indexOf(o.type)>=0&&c.isObject(o.configuration)&&o.configuration.resourceKey){return true;}return false;},configure:function(v,a){if(this.isInitialOrForced(v)){var r=this.resourceBundle||this.getResourceBundle(a);return r.getText(this.resourceKey);}return v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/LabelCalculator.js":function(){sinaDefine(['./core'],function(c){"use strict";var D=c.Exception.derive({_init:function(p){p.message='Duplicate node';c.Exception.prototype._init.apply(this,arguments);this.node=p.node;}});var N=c.defineClass({_init:function(p,n,l){this.parent=p;this.nodeId=n;this.labelCalculator=l;this.childMap={};this.children=[];},insert:function(k,o){if(k.length===0){this.data=this.labelCalculator.options.data(o);this.obj=o;this.calculateLabel();return;}var a=k[0];var s=this.childMap[a];if(k.length===1&&s){throw new D({node:s});}if(!s){s=new N(this,a,this.labelCalculator);this.childMap[a]=s;this.children.push(s);if(this.children.length===2){this.children[0].recalculateLabels();}}s.insert(k.slice(1),o);},recalculateLabels:function(){var l=[];this.collectLeafs(l);for(var i=0;i<l.length;++i){l[i].calculateLabel();}},collectLeafs:function(l){if(this.isLeaf()){l.push(this);return;}for(var i=0;i<this.children.length;++i){this.children[i].collectLeafs(l);}},isLeaf:function(){return this.children.length===0;},hasSibling:function(){return this.parent&&this.parent.children.length>=2;},isChildOfRoot:function(){return this.parent&&this.parent.nodeId==='__ROOT';},collectPath:function(k,f){if(!this.parent){return;}if(f||this.hasSibling()||this.isChildOfRoot()){k.push(this.nodeId);f=true;}if(this.parent){this.parent.collectPath(k,f);}},calculateLabel:function(){var k=[];this.collectPath(k);k.reverse();this.labelCalculator.options.setLabel(this.obj,k,this.data);}});return c.defineClass({_init:function(o){this.options=o;this.rootNode=new N(null,'__ROOT',this);},calculateLabel:function(o){var k=this.options.key(o);try{this.rootNode.insert(k,o);}catch(e){if(e instanceof D){this.options.setFallbackLabel(e.node.obj,e.node.data);this.options.setFallbackLabel(o,this.options.data(o));return;}throw e;}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/Log.js":function(){sinaDefine(['./core'],function(c){"use strict";var L=c.defineClass({ERROR:'error',WARNING:'warning',INFO:'info',_init:function(){this.messages=[];},getMessages:function(){return this.messages;},addMessage:function(s,t){this.messages.push({severity:s,text:t});}});return L;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/ajax.js":function(){sinaDefine(['./core','./util'],function(c,u){"use strict";var m={};m.parseHeaders=function(h){var a={};var l=h.split('\n');for(var i=0;i<l.length;++i){var b=l[i];var d=b.indexOf(':');if(d>=0){var n=b.slice(0,d).toLowerCase();var v=b.slice(d+1);a[n]=v.trim();}}return a;};m.encodeUrlParameters=function(p){var r=[];for(var n in p){var v=p[n];r.push(encodeURIComponent(n)+'='+encodeURIComponent(v));}return r.join('&');};m.addEncodedUrlParameters=function(a,p){if(!p){return a;}var e=m.encodeUrlParameters(p);if(e.length>0){a+='?'+e;}return a;};m.Exception=c.Exception.derive({_init:function(x){this.xhttp=x;this.status=x.status;this.statusText=x.statusText;this.responseText=x.responseText;this.headers=m.parseHeaders(x.getAllResponseHeaders());c.Exception.prototype._init.apply(this,[{message:this.status+': '+this.statusText,description:this.responseText}]);}});m.request=function(p){return new Promise(function(r,a){var x=new XMLHttpRequest();x.onreadystatechange=function(){if(x.readyState==4&&(x.status==200||x.status==201||x.status==204)){r({data:x.responseText,headers:m.parseHeaders(x.getAllResponseHeaders())});return;}if(x.readyState==4){a(new m.Exception(x));}};var b=m.addEncodedUrlParameters(p.url,p.parameters);x.open(p.method,b,true);for(var h in p.headers){var d=p.headers[h];x.setRequestHeader(h,d);}x.send(p.data);});};m.Client=c.defineClass({_init:function(p){this._client=new m._Client(p);this.recordOptions={mode:u.getUrlParameter('recordingMode')||p.recordingMode||"none",path:u.getUrlParameter('recordingPath')||p.recordingPath||"",requestNormalization:p.requestNormalization||this._defaultRequestNormalization};this.records={};},_encodeObj:function(d){var r=[];for(var p in d)if(d.hasOwnProperty(p)){r.push(encodeURIComponent(p)+"="+encodeURIComponent(d[p]));}return r.join("&");},getJson:function(a,d){var t=this;if(d){var D='?'+t._encodeObj(d);a=a+D;}if(t.recordOptions.mode==="none"){return t._client.getJson(a);}if(t.recordOptions.mode==="replay"){return t._replay(a,null);}return t._client.getJson(a).then(function(r){return t._record(a,null,r);});},getXML:function(a){var t=this;if(t.recordOptions.mode==="none"){return t._client.getXML(a);}if(t.recordOptions.mode==="replay"){return t._replayXML(a);}return t._client.getXML(a).then(function(r){return t._recordXML(a,r);});},postJson:function(a,p){p=JSON.parse(JSON.stringify(p));var t=this;if(t.recordOptions.mode==="none"){return t._client.postJson(a,p);}if(t.recordOptions.mode==="replay"){return t._replay(a,p);}return t._client.postJson(a,p).then(function(r){return t._record(a,p,r);});},mergeJson:function(a,p){p=JSON.parse(JSON.stringify(p));var t=this;if(t.recordOptions.mode==="none"){return t._client.mergeJson(a,p);}if(t.recordOptions.mode==="replay"){return t._replay(a,p);}return t._client.mergeJson(a,p).then(function(r){return t._record(a,p,r);});},request:function(p){return this._client.request(p);},_record:function(a,p,r){var t=this;var k=a+JSON.stringify(t.recordOptions.requestNormalization(p));if(t.records[k]===undefined&&k.indexOf("NotToRecord")===-1){t.records[k]=JSON.parse(JSON.stringify(r.data));}return t._client.putJson(t.recordOptions.path,t.records).then(function(){return r;});},_recordXML:function(a,r){var t=this;var k=a;if(t.records[k]===undefined&&k.indexOf("NotToRecord")===-1){t.records[k]=r;}return t._client.putJson(t.recordOptions.path,t.records).then(function(){return r;});},_replay:function(a,p){var t=this;var k=a+JSON.stringify(t.recordOptions.requestNormalization(p));return t._client.getJson(t.recordOptions.path).then(function(r){return{data:r.data[k]};});},_replayXML:function(a){var t=this;var k=a;return t._client.getJson(t.recordOptions.path).then(function(r){return r.data[k];});},_defaultRequestNormalization:function(p){if(p===null){return"";}delete p.SessionID;delete p.SessionTimestamp;return p;}});m._Client=c.defineClass({_init:function(p){this.csrf=p.csrf;this.csrfByPassCache=p.csrfByPassCache||false;this.csrfToken=null;this.csrfFetchRequest=p.csrfFetchRequest||null;},jsonHeaders:{'Content-Type':'application/json','Accept':'application/json'},xmlHeaders:{'Content-Type':'application/xml','Accept':'application/xml'},getJson:function(a){return this.request({headers:this.jsonHeaders,method:'GET',url:a}).then(function(r){if(r.data.length===0){r.data='{}';}if(typeof(r.data)!=="object"){r.data=JSON.parse(r.data);}return r;});},getXML:function(a){return this.request({headers:this.xmlHeaders,method:'GET',url:a}).then(function(r){return r.data;});},postJson:function(a,d){return this.request({headers:this.jsonHeaders,method:'POST',url:a,data:JSON.stringify(d)}).then(function(r){if(r.data.length===0){r.data='{}';}if(typeof(r.data)!=="object"){r.data=JSON.parse(r.data);}return r;});},mergeJson:function(a,d){return this.request({headers:this.jsonHeaders,method:'MERGE',url:a,data:JSON.stringify(d)}).then(function(r){if(r.data.length===0){r.data='{}';}if(typeof(r.data)!=="object"){r.data=JSON.parse(r.data);}return r;});},putJson:function(d,a){return this.request({method:'PUT',url:d,data:JSON.stringify(a)}).catch(function(e){throw e;});},_fetchCsrf:function(){if(this.csrfFetchRequestPromise){return this.csrfFetchRequestPromise;}this.csrfFetchRequest.headers=this.csrfFetchRequest.headers||{};this.csrfFetchRequest.headers['x-csrf-token']='fetch';this.csrfFetchRequest.parameters=this.csrfFetchRequest.parameters||{};if(this.csrfByPassCache){this.csrfFetchRequest.parameters['_']=Date.now();}this.csrfFetchRequestPromise=m.request(this.csrfFetchRequest).then(function(r){this.csrfFetchRequestPromise=null;this.csrfToken=r.headers['x-csrf-token'];return r;}.bind(this));return this.csrfFetchRequestPromise;},_requestWithCsrf:function(p,r){if(m.addEncodedUrlParameters(this.csrfFetchRequest.url,this.csrfFetchRequest.parameters)===m.addEncodedUrlParameters(p.url,p.parameters)){return this._fetchCsrf();}if(r&&!this.csrfToken){return this._fetchCsrf().then(function(){return this._requestWithCsrf(p,false);}.bind(this));}p.headers=p.headers||{};p.headers['x-csrf-token']=this.csrfToken;return m.request(p).catch(function(e){if(r&&e.headers['x-csrf-token']&&e.headers['x-csrf-token'].toLowerCase()==='required'){return this._fetchCsrf().then(function(){return this._requestWithCsrf(p,false);}.bind(this));}return c.Promise.reject(e);}.bind(this));},request:function(p){if(!this.csrf){return m.request(p);}if(!this.csrfFetchRequest){this.csrfFetchRequest=p;}return this._requestWithCsrf(p,true);}});return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/core.js":function(){window.sinaRequire=window.sinaRequire||(window.sap&&window.sap.ui&&window.sap.ui.require)||window.require;window.sinaDefine=window.sinaDefine||(window.sap&&window.sap.ui&&window.sap.ui.define)||window.define;window.sinaLog=window.sinaLog||(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.log)||window.console;sinaDefine([],function(){"use strict";var m={};m.map=function(l,c,h){var r=[];for(var i=0;i<l.length;++i){r.push(c.apply(h,[l[i]]));}return r;};m.filter=function(l,c){var r=[];for(var i=0;i<l.length;++i){var h=l[i];if(c(h)){r.push(h);}}return r;};m.object=function(p){var T=function(){};T.prototype=p;return new T();};m.extend=function(o,c){for(var k in c){o[k]=c[k];}return o;};m.firstCharToUpper=function(t,r){if(r){if(t[0]==='_'){t=t.slice(1);}}return t[0].toUpperCase()+t.slice(1);};m.isList=function(o){if(Object.prototype.toString.call(o)==='[object Array]'){return true;}return false;};m.isObject=function(o){if(m.isList(o)){return false;}return typeof o==='object';};m.isEmptyObject=function(o){for(var p in o){if(o.hasOwnProperty(p))return false;}return JSON.stringify(o)===JSON.stringify({});};m.isFunction=function(o){return typeof o==='function';};m.isString=function(o){return(typeof o)==='string';};m.isSimple=function(o){return(typeof o)!=='object'&&(typeof o)!=='function';};m.Promise=Promise;var g=function(){var c=(function(){return function(){if(arguments[0]==='_suppress_init_'){return;}this._genericInit.apply(this,arguments);};})();return c;};var B=g();B.prototype={_getClassHierarchyPrototypes:function(){var p=[];var c=this.constructor.prototype;while(c){p.push(c);c=c.constructor.superPrototype;}p.reverse();return p;},_genericInit:function(){var c=arguments[0]||{};var p=this._getClassHierarchyPrototypes();for(var i=0;i<p.length;++i){var h=p[i];if(h.hasOwnProperty('_beforeInitProperties')){h._beforeInitProperties.apply(this,arguments);}this._initPropertiesOfPrototype(h,c);if(h.hasOwnProperty('_afterInitProperties')){h._afterInitProperties.apply(this,arguments);}}if(this._init){this._init.apply(this,arguments);}},_initPropertiesOfPrototype:function(p,c){var s=function(j,l,n){if(!j.aggregation){return;}if(!n){return;}if(m.isList(n)){for(var i=0;i<n.length;++i){var o=n[i];o.parent=l;}}else{n.parent=l;}};if(!p.hasOwnProperty('_meta')||!p._meta.properties){return;}for(var h in p._meta.properties){var j=p._meta.properties[h];var k=c[h];if(k!==undefined){this[h]=k;s(j,this,this[h]);continue;}if(j.required){throw new m.Exception('initialization property missing:'+h);}if(j.default!==undefined){if(m.isFunction(j.default)){this[h]=j.default.apply(this,[]);}else{this[h]=j.default;}}s(j,this,this[h]);}},_initClone:function(){},_equals:function(o){if(!o){return false;}if(!m.isObject(o)){return false;}if(o.constructor!==this.constructor){return false;}return true;},equals:function(o,c){var p=this._getClassHierarchyPrototypes();for(var i=0;i<p.length;++i){var h=p[i];if(!h.hasOwnProperty('_equals')){continue;}if(!h._equals.apply(this,[o,c])){return false;}}return true;},clone:function(){var c=new this.constructor('_suppress_init_');var p=this._getClassHierarchyPrototypes();for(var i=0;i<p.length;++i){var h=p[i];if(!h.hasOwnProperty('_initClone')){continue;}h._initClone.apply(c,[this]);}return c;}};B.prototype.constructor=B;var a=function(p,c){var h='get'+m.firstCharToUpper(c,true);if(p[h]){return;}p[h]=function(v){return this[c];};};var b=function(p,c){var h='set'+m.firstCharToUpper(c,true);if(p[h]){return;}p[h]=function(v){this[c]=v;};};var d=function(p){if(!p.hasOwnProperty('_meta')){return;}var c=p._meta.properties;if(!c){return;}for(var h in c){var i=c[h];if(i.getter){a(p,h);}if(i.setter){b(p,h);}}};var e=function(p,c){var C=g();if(!p){p=B;}C.prototype=m.extend(new p('_suppress_init_'),c);C.superPrototype=p.prototype;C.prototype.constructor=C;d(C.prototype);C.derive=function(h){return e(C,h);};return C;};m.defineClass=function(p){return e(null,p);};m.Exception=m.defineClass({_init:function(p){if(m.isString(p)){this.previous=null;this.message=p;this.description='';return;}this.previous=p.previous;this.message=p.message;this.description=p.description||'';},toString:function(){if(this.description){return this.message+'\n'+this.description;}return this.message;}});m.equals=function(o,c,h){if(m.isList(o)){return m._equalsList(o,c,h);}if(m.isObject(o)){return m._equalsObject(o,c,h);}return o===c;};m._equalsList=function(l,c,o){if(o===undefined){o=true;}if(l.length!==c.length){return false;}if(o){for(var i=0;i<l.length;++i){if(!m.equals(l[i],c[i],o)){return false;}}return true;}else{var h={};for(var j=0;j<l.length;++j){var n=l[j];var p=false;for(var k=0;k<c.length;++k){var q=c[k];if(h[k]){continue;}if(m.equals(n,q,o)){p=true;h[k]=true;break;}}if(!p){return false;}}return true;}};m._equalsObject=function(o,c,h){if(o.equals){return o.equals(c);}if(!m.isObject(c)){return false;}for(var p in o){var i=o[p];var j=c[p];if(!m.equals(i,j,h)){return false;}}return true;};m.clone=function(o){if(m.isList(o)){return m._cloneList(o);}if(m.isObject(o)){return m._cloneObject(o);}return o;};m._cloneList=function(l){var c=[];for(var i=0;i<l.length;++i){var h=l[i];c.push(m.clone(h));}return c;};m._cloneObject=function(o){if(o.clone){return o.clone();}var c={};for(var p in o){var v=o[p];c[p]=m.clone(v);}return c;};var f=0;m.generateId=function(){return'#'+(++f);};m.generateGuid=function(){return'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16).toUpperCase();});};m.executeSequentialAsync=function(t,c){if(!t){return m.Promise.resolve();}var h=function(i){if(i>=t.length){return undefined;}var j=t[i];return Promise.resolve().then(function(){if(c){return c(j);}return j();}).then(function(){return h(i+1);});};return h(0);};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/lang.js":function(){sinaDefine(['./core'],function(c){"use strict";return{getLanguagePreferences:function(){var a=typeof InstallTrigger!=='undefined';var b=false||!!document.documentMode;var d=!b&&!!window.StyleMedia;var e=!!window.chrome&&!!window.chrome.webstore;var l=[];if(b||d){var f=window.navigator.browserLanguage||window.navigator.language;l.splice(0,0,this._getLanguageCountryObject(f));}else if(a||e){var g=window.navigator.language;var h=window.navigator.languages.slice();var j=h.indexOf(g);if(j>-1){h.splice(j,1);}l.splice(0,0,this._getLanguageCountryObject(g));for(var i=0;i<h.length;i++){var k=this._getLanguageCountryObject(h[i]);if(k){l.splice(l.length,0,k);}}}else{l.splice(0,0,this._getLanguageCountryObject(window.navigator.language));}return l;},_getLanguageCountryObject:function(l){var a,b;var d={};if(l.length===2){a=l;b='';}else if(l.length===5&&l.indexOf('-')===2){a=l.substr(0,2);b=l.substr(3);}else{return undefined;}d.Language=a;d.Country=b;return d;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/core/util.js":function(){sinaDefine(['./core'],function(c){"use strict";var m={};m.sampleProviderInstanceCounter=0;m.timeoutDecorator=function(o,t){var d=function(){var a=this;var b=arguments;return new c.Promise(function(r,e){var f=false;var g=setTimeout(function(){f=true;e(new c.Exception('timeout'));},t);return o.apply(a,b).then(function(h){if(f){return;}clearTimeout(g);r(h);},function(h){if(f){return;}clearTimeout(g);e(h);});});};return d;};m.refuseOutdatedResponsesDecorator=function(o){var a=0;var d=function(){var r=++a;return o.apply(this,arguments).then(function(b){return new c.Promise(function(e,f){if(r!==a){return;}e(b);});},function(e){return new c.Promise(function(b,f){if(r!==a){return;}f(e);});});};d.abort=function(){++a;};return d;};m.getUrlParameter=function(n,u){if(!u)u=window.location.href;n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),a=r.exec(u);if(!a)return null;if(!a[2])return'';return decodeURIComponent(a[2].replace(/\+/g," "));};m.filterString=function(t,r){for(var i=0;i<r.length;++i){var a=r[i];var b=0;while(b>=0){b=t.indexOf(a);if(b>=0){t=t.slice(0,b)+t.slice(b+a.length);}}}return t;};m.generateTimestamp=function(){var p=function(n,a){var s="000000000"+n;return s.substr(s.length-a);};var d=new Date();return''+d.getUTCFullYear()+p(d.getUTCMonth()+1,2)+p(d.getUTCDate(),2)+p(d.getUTCHours(),2)+p(d.getUTCMinutes(),2)+p(d.getUTCSeconds(),2)+p(d.getUTCMilliseconds(),3);};m.DelayedConsumer=c.defineClass({_init:function(p){p=p||{};this.timeDelay=p.timeDelay||1000;this.consumer=p.consumer||function(){};this.consumerContext=p.consumerContext||null;this.objects=[];},add:function(o){this.objects.push(o);if(this.objects.length===1){setTimeout(this.consume.bind(this),this.timeDelay);}},consume:function(){this.consumer.apply(this.consumerContext,[this.objects]);this.objects=[];}});m.dateToJson=function(d){return{type:'Timestamp',value:d.toJSON()};};m.dateFromJson=function(j){if(j.type!=='Timestamp'){throw new c.Exception('Not a timestampe '+j);}return new Date(j.value);};m.getBaseUrl=function(u){var b='';if(u){b=u;}else{u='/sap/ushell/renderers/fiori2/search/container/';var i=window.location.pathname.indexOf(u);if(i>-1){b=window.location.pathname.slice(0,i);}}return b;};m.addPotentialNavTargetsToAttribute=function(r){if(r.items){var a=r.items;for(var i=0;i<a.length;i++){var b=a[i];b=this.addGeoDataIfAvailable(b);var d=b.detailAttributes;for(var j=0;j<d.length;j++){var e=d[j];var s=e.sina;var v=e.value;var f=e.metadata;if(typeof v==='string'&&e.metadata.type!=="ImageUrl"){var g=v.match(/^[^\0-\x20,:;<>@\[\\\]^_`]+@[^\0-,.-@\[\\\]^_`\{\|\}~]+\.[^\0-,.-@\[\\\]^_`\{\|\}~]+$/g);var h=v.match(/^(?!\d*$)(?=(?:[()\[\]+\-\/ ]*\d[()\[\]+\-\/ ]*){9,15}$)\+?(?:\d+|\(\d+(?: \d+)*\)|\[\d+\]|[\/ ]|\d-\d)+$/g);var u=v.match(/^https?:\/\/(?=[^\/])\S+$/gi);if(f.semantics==s.AttributeSemanticsType.EmailAddress){e.defaultNavigationTarget=s._createNavigationTarget({label:v,targetUrl:'mailto:'+v});}else if(f.semantics==s.AttributeSemanticsType.PhoneNr){e.defaultNavigationTarget=s._createNavigationTarget({label:v,targetUrl:'tel:'+v});}else if(f.semantics==s.AttributeSemanticsType.HTTPURL){e.defaultNavigationTarget=s._createNavigationTarget({label:v,targetUrl:v,target:"_blank"});}else if(g!==null&&g.length===1){e.defaultNavigationTarget=s._createNavigationTarget({label:g[0],targetUrl:'mailto:'+g[0]});}else if(h!==null&&h[0].match(/\d\d\d/)!==null){e.defaultNavigationTarget=s._createNavigationTarget({label:h[0],targetUrl:'tel:'+h[0]});}else if(u!==null&&u[0].match(/\w\w\w/)!==null){e.defaultNavigationTarget=s._createNavigationTarget({label:u[0],targetUrl:u[0],target:"_blank"});}}}}}return r;};m.removePureAdvancedSearchFacets=function(r){var d=r.sina.getDataSource(r.query.filter.dataSource.id);for(var i=0;i<r.facets.length;i++){var a=r.facets[i].query.dimension;var b=d.attributeMetadataMap[a];if(b&&b.usage.AdvancedSearch&&b.usage.Facet===undefined){r.facets.splice(i,1);i=i-1;}}return r;};m.isMapsAttribute=function(a,r,i){var b=false;var l,d,n,v,e,f,g,h;n=a.id;v=a.value;if(n.match(/latitude/i)!==null){if(!isNaN(v)){g=n;l=v;e=i;}b=true;}else if(n.match(/longitude/i)!==null){if(!isNaN(v)){h=n;d=v;f=i;}b=true;}else if(n.match(/LOC_4326/)){f=i;e=i;var L=JSON.parse(v);var C=L.coordinates;if(C&&C.length>1){d=C[0];l=C[1];}b=true;}if(r===undefined||r===true){return b;}else{return{lat:l,lon:d,latAttribName:g,lonAttribName:h,latIndex:e,lonIndex:f};}};m.addGeoDataIfAvailable=function(a){var r,b,l,d,e,f,g;b=a.detailAttributes;for(var i=0;i<b.length;i++){r=this.isMapsAttribute(b[i],false,i);l=r.lat?r.lat:l;d=r.lon?r.lon:d;f=r.latIndex?r.latIndex:f;g=r.lonIndex?r.lonIndex:g;if(l&&d){break;}}if(l&&d){if(f===g){b.splice(f,1);}else if(f>g){b.splice(f,1);b.splice(g,1);}else{b.splice(g,1);b.splice(f,1);}var n={sina:a.sina,type:"GeoJson",id:"LOC_4326",label:"LOC_4326",isCurrency:false,IsBoolean:false,IsKey:false,IsSortable:true,isUnitOfMeasure:false,semanticObjectType:[],isQuantity:"",usage:{"Map":"coordinates"}};var v='{ "type": "Point", "coordinates": ['+d+', '+l+', 0] }';var h={id:"LOC_4326",label:"LOC_4326",isHighlighted:false,value:v,valueFormatted:v,valueHighlighted:a.sina,metadata:n,sina:a.sina};b.push(h);e=a.sina.getDataSource(a.dataSource.id);if(!e.attributeMetadataMap.LOC_4326){e.attributesMetadata.push(n);e.attributeMetadataMap["LOC_4326"]=n;}else{e.attributeMetadataMap.LOC_4326.type="GeoJson";e.attributeMetadataMap.LOC_4326.usage={"Map":"coordinates"};}}return a;};m.cacheDecorator=function(o){var a={};return function(i){if(a.hasOwnProperty(i)){return a[i];}var v=o.apply(this,[i]);a[i]=v;return v;};};m.escapeRegExp=function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");};m.evaluateTemplate=function(t,o){var p=new RegExp('{{(.*)}}');var g=function(t){var a=p.exec(t);if(!a){return null;}return a[1];};var r=function(t,a,v){var b=new RegExp('{{'+m.escapeRegExp(a)+'}}','g');t=t.replace(b,v);return t;};var e=function(t){var a=g(t);if(!a){return t;}t=r(t,a,o[a]);return e(t);};return e(t);};m.extractRegExp=new RegExp('<b>(.*?)<\\/b>','g');m.extractHighlightedTerms=function(t){var a;var r=[];do{a=m.extractRegExp.exec(t);if(a){r.push(a[1]);}}while(a);return r;};m.appendRemovingDuplicates=function(l,a){for(var i=0;i<a.length;++i){var e=a[i];if(l.indexOf(e)<0){l.push(e);}}};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/FacetParser.js":function(){sinaDefine(['../../core/core','../../sina/SearchQuery','./typeConverter'],function(c,S,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},parse:function(q,d){if(d.ValueHelp){this.prepareValueHelpFacet(q,d);}var f=[];if(!d.Facets||!d.Facets.results){return[];}for(var i=0;i<d.Facets.results.length;i++){var a=d.Facets.results[i];var b=a.Type;if(b==='DataSource'){f.push(this.parseDataSourceFacet(q,a));}else{if(q.filter.dataSource.type===q.sina.DataSourceType.Category){continue;}f.push(this.parseChartFacet(q,a));}}return c.Promise.all(f);},prepareValueHelpFacet:function(q,d){var s=d.ValueHelp.results;var a=this.sina.getDataSource(q.filter.dataSource.id);var b=d.ValueHelpAttribute;var m=a.getAttributeMetadata(b);var e={Id:d.ValueHelpAttribute,Name:m.label,Type:"AttributeValue",Values:{results:[]}};var r=[];for(var i=0;i<s.length;i++){var f=s[i];r.push({Description:f.ValueFormatted,NumberOfObjects:f.NumberOfInstances,Type:"AttributeValue",ValueLow:f.Value,ValueLowFormatted:f.ValueFormatted,ValueHigh:"",ValueHighFormatted:""});}e.Values.results=r;d.Facets={};d.Facets.results=[];d.Facets.results[0]=e;},parseDataSourceFacet:function(q,f){var d=q;if(q instanceof S){d=this.sina.createDataSourceQuery({dataSource:q.filter.dataSource,filter:q.filter.clone()});}var a=[];for(var i=0;i<f.Values.results.length;i++){var b=f.Values.results[i];var e=this.sina.getDataSource(b.ValueLow);if(!e){e=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:b.ValueLow,label:b.Description});}a.push(this.sina._createDataSourceResultSetItem({dataSource:e,dimensionValueFormatted:e.labelPlural,measureValue:b.NumberOfObjects,measureValueFormatted:(b.NumberOfObjects).toString()}));}var r=this.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:a,query:d});if(q instanceof S){return d._setResultSet(r);}return r;},createAttributeFilterCondition:function(a,m,b){if(b.Type==="AttributeRange"){var d=[];if(b.ValueLow&&b.ValueLow.length!==0){d.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.odata2Sina(m.type,b.ValueLow)}));}if(b.ValueHigh&&b.ValueHigh.length!==0){d.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.odata2Sina(m.type,b.ValueHigh)}));}return this.sina.createComplexCondition({attributeLabel:m.label,valueLabel:b.Description,operator:this.sina.LogicalOperator.And,conditions:d});}else{return this.sina.createSimpleCondition({attributeLabel:m.label,attribute:a,value:t.odata2Sina(m.type,b.ValueLow),valueLabel:b.Description});}},parseChartFacet:function(q,f){var d=this.sina.getDataSource(q.filter.dataSource.id);var a=f.Id;var m=d.getAttributeMetadata(a);var b,e=q;if(q instanceof S){b=q.filter.clone();b.setDataSource(d);b.setRootCondition(q.filter.rootCondition.clone());e=this.sina.createChartQuery({filter:b,dimension:f.Id});}var g=[];for(var i=0;i<f.Values.results.length;i++){var h=f.Values.results[i];g.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(a,m,h),dimensionValueFormatted:h.Description,measureValue:h.NumberOfObjects,measureValueFormatted:h.ValueLowFormatted}));}var r=this.sina._createChartResultSet({title:m.label,items:g,query:e});if(q instanceof S){return e._setResultSet(r);}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/ItemParser.js":function(){sinaDefine(['../../sina/SinaObject','../../core/util','./typeConverter','../tools/fiori/FioriIntentsResolver','../../sina/NavigationTarget'],function(S,u,t,I,N){"use strict";return S.derive({_init:function(p){this.provider=p;this.sina=p.sina;this.intentsResolver=this.sina._createFioriIntentsResolver();this.suvNavTargetResolver=this.sina._createSuvNavTargetResolver();},parse:function(s,d){if(d.ResultList.SearchResults===null){return Promise.resolve([]);}var i=d.ResultList.SearchResults.results;return this.parseItems(i);},parseItems:function(a){var b=[];for(var i=0;i<a.length;++i){var c=a[i];var d=this.parseItem(c);b.push(d);}return Promise.all(b);},parseItem:function(a){var i,j,k;var b={};var c=[];var d=[];var e=[];var f,g,s,h,l,m;var n={};var o=[];var p=[];var q={};var w=[];var r=[];var v;var x=this.sina.getDataSource(a.DataSourceId);var y,z,A,B;var C=[];var D=a.Score/100;var E,F;for(j=0;j<a.Attributes.results.length;j++){y=a.Attributes.results[j];z=x.getAttributeMetadata(y.Id);A=this.sina._createSearchResultSetItemAttribute({id:y.Id,label:z.label,value:t.odata2Sina(z.type,y.Value),isHighlighted:y.Snippet.indexOf("<b>")>-1&&y.Snippet.indexOf("</b>")>-1,metadata:z,groups:[]});if(u.getUrlParameter('resultValueFormatted')==="true"){A.valueFormatted=y.ValueFormatted;A.valueHighlighted=y.Snippet;}else{A.valueFormatted=y.ValueFormatted||'';A.valueHighlighted=y.Snippet||y.ValueFormatted||'';}b[A.id]=A;u.appendRemovingDuplicates(C,u.extractHighlightedTerms(A.valueHighlighted));if(z.isUnitOfMeasure||z.isCurrency){n[y.Id]=A;}if(z.unitOfMeasureAttribute){g=n[z.unitOfMeasureAttribute.id];if(g){A.unitOfMeasure=g;}else{o.push(A);}}if(z.descriptionAttribute){f=b[z.descriptionAttribute.id];if(f){A.description=f;}else{p.push(A);}}if(z.suvUrlAttribute&&z.suvMimeTypeAttribute){l=b[z.suvUrlAttribute]||z.suvUrlAttribute.id;m=b[z.suvMimeTypeAttribute]||z.suvMimeTypeAttribute.id;q[y.Id]={suvThumbnailAttribute:A,suvTargetUrlAttribute:l,suvTargetMimeTypeAttribute:m};}if(z.usage.Navigation){if(z.usage.Navigation.mainNavigation){v=this.sina._createNavigationTarget({label:A.value,targetUrl:A.value,target:"_blank"});}}if(z.usage.Detail){e.push(A);}if(!z.usage.Title&&!z.usage.Detail&&!z.isDescription&&(A.isHighlighted||(A.descriptionAttribute&&A.descriptionAttribute.isHighlighted))){w.push(A);}if(z.usage.Title){c.push(A);}if(z.usage.TitleDescription){d.push(A);}B=x.attributeMetadataMap[A.id]._private.semanticObjectType;if(B&&B.length>0){r.push({name:B,value:A.value,type:A.metadata.type});}}for(i=0;i<o.length;i++){A=o[i];z=x.getAttributeMetadata(A.id);if(z.unitOfMeasureAttribute){g=n[z.unitOfMeasureAttribute.id];if(g){A.unitOfMeasure=g;}}}for(i=0;i<p.length;i++){A=p[i];z=x.getAttributeMetadata(A.id);if(z.descriptionAttribute){f=b[z.descriptionAttribute.id];if(f){A.description=f;}}}for(h in q){s=q[h];if(typeof s.suvTargetUrlAttribute=="string"){s.suvTargetUrlAttribute=b[s.suvTargetUrlAttribute];}if(typeof s.suvTargetMimeTypeAttribute=="string"){s.suvTargetMimeTypeAttribute=b[s.suvTargetMimeTypeAttribute];}if(!(s.suvTargetUrlAttribute||s.suvTargetMimeTypeAttribute)){delete q[h];}}var G,H;for(j=0;j<x.attributesMetadata.length;j++){z=x.attributesMetadata[j];if(z.type==this.sina.AttributeType.Group){F=this.sina._createSearchResultSetItemAttributeGroup({id:z.id,metadata:z,label:z.label,template:z.template,attributes:[]});if(z.usage.Detail){e.push(F);}if(z.usage.Title){c.push(F);}if(z.usage.TitleDescription){d.push(F);}for(k=0;k<z.attributes.length;k++){G=z.attributes[k];A=b[G.attribute.id];if(A){H=this.sina._createSearchResultSetItemAttributeGroupMembership({group:F,attribute:A,metadata:G});F.attributes.push(H);A.groups.push(H);}}}}c.sort(function(L,M){return L.metadata.usage.Title.displayOrder-M.metadata.usage.Title.displayOrder;});e.sort(function(L,M){return L.metadata.usage.Detail.displayOrder-M.metadata.usage.Detail.displayOrder;});if(a.HitAttributes!==null){for(k=0;k<a.HitAttributes.results.length;k++){y=a.HitAttributes.results[k];z=x.getAttributeMetadata(y.Id);E=t.odata2Sina(z.type,u.filterString(y.Snippet,['<b>','</b>']));A=this.sina._createSearchResultSetItemAttribute({id:y.Id,label:z.label,value:E,valueFormatted:E,valueHighlighted:y.Snippet,isHighlighted:y.Snippet.indexOf("<b>")>-1&&y.Snippet.indexOf("</b>")>-1,metadata:z});u.appendRemovingDuplicates(C,u.extractHighlightedTerms(A.valueHighlighted));w.push(A);}}e=e.concat(w);this.suvNavTargetResolver.resolveSuvNavTargets(x,q,C);B=x._private.semanticObjectType;var J=x._private.system;var K=x._private.client;return this.intentsResolver.resolveIntents({semanticObjectType:B,semanticObjectTypeAttributes:r,systemId:J,client:K,fallbackDefaultNavigationTarget:v}).then(function(L){var M=L&&L.defaultNavigationTarget;var O=L&&L.navigationTargets;return this.sina._createSearchResultSetItem({dataSource:x,titleAttributes:c,titleDescriptionAttributes:d,detailAttributes:e,defaultNavigationTarget:M,navigationTargets:O,score:D});}.bind(this));}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/MetadataParser.js":function(){sinaDefine(['../../core/core','../../sina/SinaObject','./typeConverter'],function(c,S,t){"use strict";return S.derive({_init:function(p){this.provider=p;this.sina=p.sina;},fillMetadataBuffer:function(d,a){if(d.attributesMetadata[0].id!=='dummy'){return;}d.attributesMetadata=[];d.attributeMetadataMap={};var i;var b=[];var e=[];var f=[];var g=[];var p;var h;var u={};var j={dataSourceAnnotations:{},attributeAnnotations:{}};j.dataSourceAnnotations=this._parseAnnotationsIntoJsonStructure(d._private.annotations);for(i=0;i<a.length;i++){h=a[i];p=this.fillPublicMetadataBuffer(d,h,u);var k=h.Annotations&&h.Annotations.results||[];var l=j.attributeAnnotations[p.id.toUpperCase()]=this._parseAnnotationsIntoJsonStructure(k);var m=false,s="SEMANTICS";for(var n in l){if(n.substr(0,s.length)==s){m=true;break;}}if(h.Semantics&&!m){var o;switch(h.Semantics){case"EMAIL.ADDRESS":case"TELEPHONE.TYPE":case"CURRENCYCODE":case"UNITOFMEASURE":o="TRUE";break;case"QUANTITY.UNITOFMEASURE":case"AMOUNT.CURRENCYCODE":o=h.UnitAttribute;break;}if(o){l[s+h.Semantics]=o;}}if(p._private.temporaryUsage.Title!==undefined){b.push(p);}if(p._private.temporaryUsage.Detail!==undefined){if(h.isSummary){e.push(p);}else{f.push(p);}}}var q=this.sina._createCDSAnnotationsParser({dataSource:d,cdsAnnotations:j});var r=q.parseCDSAnnotationsForDataSource(d,j);if(!r.dataSourceIsCdsBased){b.sort(this._createSortFunction("Title"));for(i=0;i<b.length;++i){var v=b[i].id;h=d.getAttributeMetadata(v);h.usage.Title=h._private.temporaryUsage.Title;h.usage.Title.displayOrder=i;}var w=this._createSortFunction("Detail");e.sort(w);f.sort(w);g.push.apply(g,e);g.push.apply(g,f);for(i=0;i<g.length;++i){g[i].usage.Detail=g[i]._private.temporaryUsage.Detail;g[i].usage.Detail.displayOrder=i;}}for(i=0;i<d.attributesMetadata.length;i++){h=d.attributesMetadata[i];if(h._private.temporaryUsage){for(var x in h._private.temporaryUsage){if(x!="Title"&&x!="Detail"){h.usage[x]=h._private.temporaryUsage[x];}}}}},_arrayIncludesEntry:function(a,e,b){var i;if(b){for(i=0;i<a.length;i++){if(b(a[i],e)){return true;}}}else{for(i=0;i<a.length;i++){if(a[i]==e){return true;}}}return false;},_parseAnnotationsIntoJsonStructure:function(a){if(a.length==0){return{};}var i,j;var p={};var b,d;var f,g;var h;var k=[];var l;var m=function(v,w){return v.annotationPointer==w.annotationPointer&&v.annotationName==w.annotationName;};try{for(j=0;j<a.length;j++){b=/\[\d+\]$/g;g=p;h=a[j].Name.split(".");for(i=0;i<h.length;i++){f=h[i].toUpperCase();d=b.exec(f);if(d!==null){f=f.substring(0,d.index);}g[f]=g[f]||{};if(d!==null&&d[0].length>0){l={annotationPointer:g,annotationName:f};if(!this._arrayIncludesEntry(k,l,m)){k.push(l);}if(i<h.length-1){g[f][d[0]]=g[f][d[0]]||{};g=g[f][d[0]];}else{g[f][d[0]]=a[j].Value;}}else if(i<h.length-1){g=g[f];}else{g[f]=a[j].Value;}}}var n;var o;var q,r,s;var u=/\[\d+\]/g;for(j=0;j<k.length;j++){n=k[j].annotationPointer;f=k[j].annotationName;o=n[f];q=[];s={};for(r in o){if(r.match(u)){q.push(o[r]);}else{s[r]=o[r];}}if(Object.keys(s).length>0){q.push(s);}n[f]=q;}}catch(e){return{};}return p;},_createSortFunction:function(u){return function(a,b){if(a._private.temporaryUsage[u].displayOrder<b._private.temporaryUsage[u].displayOrder){return-1;}else if(a._private.temporaryUsage[u].displayOrder>b._private.temporaryUsage[u].displayOrder){return 1;}else{return 0;}};},fillPublicMetadataBuffer:function(d,a,u){var b=a.Displayed&&a.DisplayOrder?a.DisplayOrder:-1;var e=this._parseAttributeTypeAndFormat(a);var p=this.sina._createAttributeMetadata({id:a.Id,label:a.Name!==""?a.Name:a.Id,isKey:a.Key,isSortable:a.Sortable,usage:{},type:e.type,format:e.format,matchingStrategy:this._parseMatchingStrategy(a)});p._private.semanticObjectType=a.SemanticObjectTypeId;p._private.temporaryUsage=a.UIAreas?this._parseUsage(a,b):{};d.attributesMetadata.push(p);d.attributeMetadataMap[p.id]=p;return p;},_parseMatchingStrategy:function(a){if(a.TextIndexed){return this.sina.MatchingStrategy.Text;}else{return this.sina.MatchingStrategy.Exact;}},_parseAttributeTypeAndFormat:function(a){for(var i=0;i<a.UIAreas.results.length;i++){var p=a.UIAreas.results[i];var b=p.Id;switch(b){case'SUMMARY':continue;case'DETAILS':continue;case'TITLE':continue;case'#HIDDEN':case'HIDDEN':continue;case'FACTSHEET':continue;case'DETAILIMAGE':case'PREVIEWIMAGE':return{type:this.sina.AttributeType.ImageUrl};case'LONGTEXT':return{type:this.sina.AttributeType.String,format:this.sina.AttributeFormatType.LongText};default:throw new c.Exception('Unknown presentation usage '+p);}}switch(a.EDMType){case'Edm.String':case'Edm.Binary':case'Edm.Boolean':case'Edm.Byte':case'Edm.Guid':return{type:this.sina.AttributeType.String};case'Edm.Double':case'Edm.Decimal':case'Edm.Float':return{type:this.sina.AttributeType.Double};case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':return{type:this.sina.AttributeType.Integer};case'Edm.Time':return{type:this.sina.AttributeType.Time};case'Edm.DateTime':if(a.TypeLength>8){return{type:this.sina.AttributeType.Timestamp};}return{type:this.sina.AttributeType.Date};case'GeoJson':return{type:this.sina.AttributeType.GeoJson};default:throw new c.Exception('Unknown data type '+a.EDMType);}},_parseUsage:function(a,d){var u=a.UIAreas.results;var b=a.AdvancedSearchRelevant;var f=a.Facet;var e={};u.forEach(function(g){var i=g.Id;if(i==="TITLE"){e.Title={displayOrder:d};}if(i==="SUMMARY"||i==="DETAILIMAGE"||i==="PREVIEWIMAGE"){a.isSummary=true;e.Detail={displayOrder:d};}if(i==="DETAILS"||i==="LONGTEXT"){e.Detail={displayOrder:d};}});if(b){e.AdvancedSearch={};}if(f){e.Facet={};}return e;},parseDynamicMetadata:function(s){var a;try{a=s.ResultList.SearchResults.results;}catch(e){return;}for(var i=0;i<a.length;++i){var b=a[i];if(!b.HitAttributes||!b.HitAttributes.results){continue;}var d=this.sina.getDataSource(b.DataSourceId);var h=b.HitAttributes.results;for(var j=0;j<h.length;++j){var f=h[j];this.parseDynamicAtributeMetadata(d,f);}}},parseDynamicAtributeMetadata:function(d,a){var b;var m=d.getAttributeMetadata(a.Id);if(m){if(!m._private.dynamic){return;}a.UIAreas=a.UIAreas||{results:[]};b=this._parseAttributeTypeAndFormat(a);m.label=a.Name;m.type=b.type;m.format=b.format;}else{a.UIAreas=a.UIAreas||{results:[]};b=this._parseAttributeTypeAndFormat(a);var m=this.sina._createAttributeMetadata({id:a.Id,label:a.Name,isKey:false,isSortable:false,usage:{},type:b.type,format:b.format,matchingStrategy:this.sina.MatchingStrategy.Exact,_private:{dynamic:true}});d.attributesMetadata.push(m);d.attributeMetadataMap[m.id]=m;}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/NlqParser.js":function(){sinaDefine(['../../core/core','../../core/util'],function(c,u){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},getActiveResult:function(r){for(var i=0;i<r.length;++i){var a=r[i];if(a.IsCurrentQuery){return a;}}return null;},parse:function(d){var n={success:false,description:''};if(!d||!d.ResultList||!d.ResultList.NLQQueries||!d.ResultList.NLQQueries.results){return n;}var r=d.ResultList.NLQQueries.results;var a=this.getActiveResult(r);if(!a){return n;}n.success=true;n.description=a.Description;return n;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','../../core/lang','../../sina/SinaObject','./ajax','./ajaxTemplates','./conditionSerializer','./dataSourceSerializer','./FacetParser','./ItemParser','./NlqParser','./suggestionParser','./suggestionTermSplitter','./labelCalculation','./UserEventLogger','./MetadataParser'],function(c,u,l,S,a,b,d,e,F,I,N,f,s,g,U,M){"use strict";return S.derive({id:'abap_odata',_initAsync:function(h){this.requestPrefix='/sap/opu/odata/sap/ESH_SEARCH_SRV';this.sina=h.sina;this.ajaxClient=a.createAjaxClient();this.metadataLoadPromises={};this.internalMetadata={};this.labelCalculator=g.createLabelCalculator();this.userEventLogger=new U(this);this.metadataParser=new M(this);this.itemParser=new I(this);this.nlqParser=new N(this);this.facetParser=new F(this);this.suggestionParser=new f(this,this.itemParser);this.sessionId=c.generateGuid();this.sorsNavigationTargetGenerator=this.sina._createSorsNavigationTargetGenerator({urlPrefix:'#Action-search&/top=10&filter=',getPropertyMetadata:function(m){return{name:m.id,label:m.label,semanticObjectType:m._private.semanticObjectType,response:!!(m.usage&&(m.usage.Detail||m.usage.Title)),request:true};}.bind(this)});return this.loadServerInfo().then(function(i){this.serverInfo=i.d.results[0];if(!this.supports('Search')){return Promise.reject(new c.Exception('Enterprise Search is not active'));}return this.loadBusinessObjectDataSources();}.bind(this)).then(function(){return{capabilities:this.sina._createCapabilities({fuzzy:false})};}.bind(this));},supports:function(h,k){for(var i=0;i<this.serverInfo.Services.results.length;++i){var m=this.serverInfo.Services.results[i];if(m.Id==h){if(!k){return true;}for(var j=0;j<m.Capabilities.length;++j){var n=m.Capabilities[j];if(n.Capability===k){return true;}}}}return false;},loadServerInfo:function(){var r=this.buildQueryUrl(this.requestPrefix,"/ServerInfos?$expand=Services/Capabilities");var h=this.buildQueryUrl(this.requestPrefix,"/$metadata");var i=this.ajaxClient.getJson(r);var m=this.ajaxClient.getXML(h);return Promise.all([i,m]).then(function(v){var j=v[0];var k=v[1];var p=new DOMParser();var D=p.parseFromString(k,"text/xml");if(D.documentElement.nodeName!="parsererror"){this.serviceXML=D;}return j.data;}.bind(this));},loadBusinessObjectDataSources:function(){var r="/DataSources?$expand=Annotations,Attributes/UIAreas,Attributes/Annotations&$filter=Type eq 'View'";if(this.serviceXML){var h="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSource]>NavigationProperty[Name=Annotations],"+"Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSourceAttribute]>NavigationProperty[Name=Annotations]";var j=this.serviceXML.querySelectorAll(h);if(j.length!=2){r="/DataSources?$expand=Attributes/UIAreas&$filter=Type eq 'View'";}var k="Schema[Namespace=ESH_SEARCH_SRV]>EntityType[Name=DataSource]>Property[Name=IsInternal]";j=this.serviceXML.querySelectorAll(k);if(j.length>0){r=r+" and IsInternal eq false";}}var m=this.buildQueryUrl(this.requestPrefix,r);return this.ajaxClient.getJson(m).then(function(n){var o=n.data.d.results;for(var i=0;i<o.length;++i){var p=o[i];var q=p.Name;if(!q){q=p.Id;}var t=p.NamePlural;if(!t){t=q;}var v=this.sina._createDataSource({id:p.Id,label:q,labelPlural:t,type:this.sina.DataSourceType.BusinessObject,usage:p.Id.endsWith("TRANSACTIONS~")?{appSearch:{}}:{},attributesMetadata:[{id:'dummy'}]});v._private.system=p.SourceSystem;v._private.client=p.SourceClient;v._private.semanticObjectType=p.SemanticObjectTypeId;v._private.annotations=p.Annotations&&p.Annotations.results||[];this.labelCalculator.calculateLabel(v);this.metadataParser.fillMetadataBuffer(v,p.Attributes.results);this.sorsNavigationTargetGenerator.registerObjectType({type:v.id,label:v.label,properties:v.attributesMetadata});if(v.id.endsWith("TRANSACTIONS~")&&this.appSearchDataSource===undefined){this.appSearchDataSource=v;}}this.sorsNavigationTargetGenerator.finishRegistration();}.bind(this));},assembleOrderBy:function(q){var r=[];for(var i=0;i<q.sortOrder.length;++i){var h=q.sortOrder[i];var j=(h.order===this.sina.SortOrder.Descending)?'desc':'asc';r.push({AttributeId:h.id,SortOrder:j});}return r;},excludeDataSourceInRequestTemplate:function(r,h){if(!h.usage.appSearch&&this.appSearchDataSource){r.d.ExcludedDataSources=[e.serialize(this.appSearchDataSource)];}},executeSearchQuery:function(q){var i,r;var h=b.searchRequest;if(q.nlq){h=b.nlqSearchRequest;}h=JSON.parse(JSON.stringify(h));var j=q.filter.rootCondition.clone();var k=d.serialize(q.filter.dataSource,j);if(k.SubFilters.length!==0){h.d.Filter=k;}else{delete h.d.Filter;}h.d.DataSources=[e.serialize(q.filter.dataSource)];this.excludeDataSourceInRequestTemplate(h,q.filter.dataSource);h.d.QueryOptions.SearchTerms=q.filter.searchTerm;h.d.QueryOptions.Top=q.top;h.d.QueryOptions.Skip=q.skip;h.d.OrderBy=this.assembleOrderBy(q);this.addSessionId(h);if(!q.calculateFacets){delete h.d.MaxFacetValues;delete h.d.Facets;}else{h.d.MaxFacetValues=5;h.d.Facets=[{"Values":[]}];}var m=this.buildQueryUrl(this.requestPrefix,"/SearchQueries");return this.ajaxClient.postJson(m,h).then(function(n){r=n;return this.metadataParser.parseDynamicMetadata(r.data.d);}.bind(this)).then(function(){return this.itemParser.parse(q,r.data.d);}.bind(this)).then(function(n){i=n;return this.facetParser.parse(q,r.data.d);}.bind(this)).then(function(n){var o=this.nlqParser.parse(r.data.d);var t=o.success?o.description:'Search Result List';return this.sina._createSearchResultSet({id:r.data.d.ResultList.ExecutionID,title:t,query:q,items:i,nlqSuccess:o.success,totalCount:r.data.d.ResultList.TotalHits,facets:n});}.bind(this)).then(function(n){this.sorsNavigationTargetGenerator.generateNavigationTargets(n);return n;}.bind(this));},executeChartQuery:function(q){var r="";var h={};var i=q.filter.rootCondition.clone();var j;if(this.decideValueHelp(q)){h=JSON.parse(JSON.stringify(b.valueHelperRequest));h.d.ValueHelpAttribute=q.dimension;j=d.serialize(q.filter.dataSource,i);if(j.SubFilters.length!==0){h.d.Filter=j;}else{delete h.d.Filter;}h.d.ValueFilter=this.getFilterValueFromConditionTree(q.dimension,j);h.d.QueryOptions.SearchTerms=q.filter.searchTerm;h.d.DataSources=[e.serialize(q.filter.dataSource)];r=this.buildQueryUrl(this.requestPrefix,"/ValueHelpQueries");}else{h=JSON.parse(JSON.stringify(b.chartRequest));j=d.serialize(q.filter.dataSource,i);if(j.SubFilters.length!==0){h.d.Filter=j;}else{delete h.d.Filter;}h.d.DataSources=[e.serialize(q.filter.dataSource)];h.d.QueryOptions.SearchTerms=q.filter.searchTerm;h.d.QueryOptions.Skip=0;this.addSessionId(h);h.d.FacetRequests=[{DataSourceAttribute:q.dimension}];h.d.MaxFacetValues=q.top;r=this.buildQueryUrl(this.requestPrefix,"/SearchQueries");}this.excludeDataSourceInRequestTemplate(h,q.filter.dataSource);return this.ajaxClient.postJson(r,h).then(function(k){return this.facetParser.parse(q,k.data.d);}.bind(this)).then(function(k){if(k.length>0){return k[0];}return this.sina._createChartResultSet({title:q.filter.dataSource.getAttributeMetadata(q.dimension).label,items:[],query:q});}.bind(this));},decideValueHelp:function(q){var h=q.filter.rootCondition.conditions;for(var i=0;i<h.length;i++){if(q.filter._getAttribute(h[i])===q.dimension){return true;}}return false;},executeSuggestionQuery:function(q){return c.Promise.all([this.executeRegularSuggestionQuery(q),this.executeObjectSuggestionQuery(q)]).then(function(r){var h=[];h.push.apply(h,r[1]);h.push.apply(h,r[0]);return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:h});}.bind(this));},isObjectSuggestionQuery:function(q){return q.types.indexOf('Object')>=0&&q.filter.dataSource.type===q.sina.DataSourceType.BusinessObject;},executeObjectSuggestionQuery:function(q){if(!this.supports('ObjectSuggestions')||!this.isObjectSuggestionQuery(q)){return c.Promise.resolve([]);}var r=JSON.parse(JSON.stringify(b.objectSuggestionRequest));var h=q.filter.rootCondition.clone();var i=d.serialize(q.filter.dataSource,h);if(i.SubFilters.length!==0){r.d.Filter=i;}else{delete r.d.Filter;}r.d.DataSources=[e.serialize(q.filter.dataSource)];this.excludeDataSourceInRequestTemplate(r,q.filter.dataSource);r.d.QueryOptions.Top=q.top;r.d.QueryOptions.Skip=q.skip;r.d.QueryOptions.SearchTerms=q.filter.searchTerm;this.addSessionId(r);var j=this.buildQueryUrl(this.requestPrefix,"/SuggestionsQueries");return this.ajaxClient.postJson(j,r).then(function(k){return this.suggestionParser.parseObjectSuggestions(q,k.data);}.bind(this));},executeRegularSuggestionQuery:function(q){var r=JSON.parse(JSON.stringify(b.suggestionRequest));var h=q.filter.searchTerm;var i=s.split(this,h);var j=q.filter.rootCondition.clone();var k=d.serialize(q.filter.dataSource,j);if(k.SubFilters.length!==0){r.d.Filter=k;}else{delete r.d.Filter;}r.d.DataSources=[e.serialize(q.filter.dataSource)];this.excludeDataSourceInRequestTemplate(r,q.filter.dataSource);r.d.QueryOptions.Top=q.top;r.d.QueryOptions.Skip=q.skip;r.d.SuggestionInput=i.suggestionTerm;r.d.QueryOptions.SearchTerms=i.searchTerm===null?"":i.searchTerm;if(!this.includeSuggestionTypes(q,r)){return[];}this.addSessionId(r);var m=this.buildQueryUrl(this.requestPrefix,"/SuggestionsQueries");return this.ajaxClient.postJson(m,r).then(function(n){return this.suggestionParser.parseRegularSuggestions(q,n.data);}.bind(this)).then(function(n){s.concatenate(this,i,n);return n;}.bind(this));},includeSuggestionTypes:function(q,h){var k={SearchTerm:{Data:'IncludeAttributeSuggestions',History:'IncludeHistorySuggestions'},Object:{},DataSource:{Data:'IncludeDataSourceSuggestions'}};var m=q.types;var n=q.calculationModes;var o=false;for(var i=0;i<m.length;i++){var p=m[i];for(var j=0;j<n.length;j++){var r=n[j];var v=k[p][r];if(typeof v==='undefined'){continue;}h.d[v]=true;o=true;}}return o;},addSessionId:function(r){r.d.QueryOptions.ClientSessionID=this.sessionId;var t=new Date().getTime();r.d.QueryOptions.ClientCallTimestamp="\\/Date("+t+")\\/";},getFilterValueFromConditionTree:function(h,j){if(j.ConditionAttribute&&j.ConditionAttribute===h){return j.ConditionValue;}else if(j.SubFilters){var i;var r=null;for(i=0;r===null&&i<j.SubFilters.length;i++){r=this.getFilterValueFromConditionTree(h,j.SubFilters[i]);}return r;}return null;},getConfigurationAsync:function(){var r=this.buildQueryUrl(this.requestPrefix,"/PersonalizedSearchMainSwitches?$filter=Selected eq true");return this.ajaxClient.getJson(r).then(function(h){var i={personalizedSearch:false,personalizedSearchIsEditable:false};switch(h.data.d.results[0].MainSwitch){case 3:i.isPersonalizedSearchEditable=true;break;case 4:i.isPersonalizedSearchEditable=true;break;case 2:i.isPersonalizedSearchEditable=false;break;case 1:i.isPersonalizedSearchEditable=false;break;}r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.getJson(r).then(function(h){if(h.data.d.IsEnabledForPersonalizedSearch){i.personalizedSearch=true;}return this.sina._createConfiguration(i);}.bind(this));}.bind(this));},saveConfigurationAsync:function(h){var i={"IsEnabledForPersonalizedSearch":h.personalizedSearch};var r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.mergeJson(r,i);},resetPersonalizedSearchDataAsync:function(){var h={"ClearPersonalizedSearchHistory":true};var r=this.buildQueryUrl(this.requestPrefix,"/Users('<current>')");return this.ajaxClient.mergeJson(r,h);},logUserEvent:function(h){return this.userEventLogger.logUserEvent(h);},buildQueryUrl:function(q,h){var w=window.location.href;var r="";var i="";var j="";var k="";i=w.indexOf("esh-system=sid(");if(i!==-1){var m=w.substring(i).indexOf(")");if(m!==-1){j=w.substring(i+15,i+m);if(j.length!==0){k=";o=sid("+j+")";}}}if(j.length===0){i=w.indexOf("esh-system=");if(i!==-1){var n=w.substring(i).indexOf("&");var o=w.substring(i).indexOf("#");if(n!==-1&&o!==-1){if(n<o){j=w.substring(i+11,i+n);}else{j=w.substring(i+11,i+o);}}if(n!==-1&&o===-1){j=w.substring(i+11,i+n);}if(n===-1&&o!==-1){j=w.substring(i+11,i+o);}if(n===-1&&o===-1){j=w.substring(i+11);}}if(j.length!==0){k=";o="+j;}}r=q+k+h;return r;},getDebugInfo:function(){return'Searchsystem: '+this.serverInfo.SystemId+' Client: '+this.serverInfo.Client+' SinaProvider :'+this.id;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/UserEventLogger.js":function(){sinaDefine(['../../core/core','../../core/util','./ajaxTemplates'],function(c,u,a){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.delayedConsumer=new u.DelayedConsumer({timeDelay:2000,consumer:this.processEvents,consumerContext:this});},logUserEvent:function(e){e.timeStamp=new Date().getTime();if(e.type!=='ITEM_NAVIGATE'){this.delayedConsumer.add(e);}if(e.type==='ITEM_NAVIGATE'&&e.sourceUrlArray.length!==0){this.incrementClickCounter(e.targetUrl,e.systemAndClient);}},processEvents:function(e){var t=this;var r={ID:1,SessionID:this.provider.sessionId,Events:[]};for(var i=0;i<e.length;++i){var b=e[i];var d="\\/Date("+b.timeStamp+")\\/";var o={ID:i+1,Type:b.type,Timestamp:d,ExecutionID:b.executionId,Parameters:[]};for(var n in b){if(n==='type'||n==='timeStamp'){continue;}var v=b[n];if(typeof v==='undefined'){continue;}if(typeof v!=='object'){v=v.toString();}else{v=JSON.stringify(v);}o.Parameters.push({Name:n,Value:v});}r.Events.push(o);}var f=t.provider.buildQueryUrl(t.provider.requestPrefix,"/InteractionEventLists");return t.provider.ajaxClient.postJson(f,r);},incrementClickCounter:function(t,s){if(!t){return undefined;}if(t.indexOf("#")===-1){return undefined;}var g=function(H){return H.split("-")[0];};var b=function(H){return H.split("-")[1].split("&")[0];};var d=function(p){var m=p;var n=[];for(var i=0,o=m.length;i<o;i++){var q=m[i];if(q.indexOf("sap-system")!==-1){continue;}var v=q.split("=")[0];var w=q.split("=")[1];n.push({Name:v,Value:w});}return n;};var e=this;var h=t.split("?");var f=g(h[0]).split("#")[1];var j=b(h[0]);var k=h[1]!==undefined?d(h[1].split("&")):[];var r=JSON.parse(JSON.stringify(a.navigationEvent));r.SemanticObjectType=f;r.Intent=j;if(s.systemId.length===0||s.client.length===0){delete r.System;delete r.Client;}else{r.System=s.systemId;r.Client=s.client;}r.Parameters=k;var l=e.provider.buildQueryUrl(e.provider.requestPrefix,"/NavigationEvents");return e.provider.ajaxClient.postJson(l,r);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/ajax.js":function(){sinaDefine(['../../core/core','../../core/ajax'],function(c,a){"use strict";var m={};m.Exception=c.Exception.derive({_init:function(d){c.Exception.prototype._init.apply(this,[d]);}});var p=function(d){try{var f=JSON.parse(d.responseText);var g=[];if(f&&f.error&&f.error.code){g.push(f.error.code);}if(f&&f.error&&f.error.message&&f.error.message.value){g.push(f.error.message.value);}if(g.length===0){return c.Promise.reject(d);}return c.Promise.reject(new m.Exception({message:g.join('\n'),previous:d}));}catch(e){return c.Promise.reject(d);}};var b=function(o){return function(){return o.apply(this,arguments).then(function(r){return r;}.bind(this),function(e){if(!(e instanceof a.Exception)){return c.Promise.reject(e);}return p(e);}.bind(this));};};m.createAjaxClient=function(){var d=new a.Client({csrf:true,requestNormalization:function(e){if(e===null){return{};}if(e.Events!==undefined){return{"NotToRecord":true};}delete e.SessionID;delete e.SessionTimestamp;if(e.d&&e.d.QueryOptions){delete e.d.QueryOptions.ClientSessionID;delete e.d.QueryOptions.ClientCallTimestamp;delete e.d.QueryOptions.ClientServiceName;delete e.d.QueryOptions.ClientLastExecutionID;}return e;}});d.postJson=b(d.postJson);d.getJson=b(d.getJson);d.mergeJson=b(d.mergeJson);return d;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/ajaxTemplates.js":function(){sinaDefine([],function(){"use strict";var m={};m.searchRequest={"d":{"Id":"1","QueryOptions":{"SearchTerms":"","Top":10,"Skip":0,"SearchType":"","ClientSessionID":"","ClientServiceName":"","ClientLastExecutionID":""},"DataSources":[],"ExcludedDataSources":[],"OrderBy":[],"ResultList":{"SearchResults":[{"HitAttributes":[],"Attributes":[]}]},"ExecutionDetails":[],"MaxFacetValues":5,"Facets":[{"Values":[]}]}};m.nlqSearchRequest={"d":{"Id":"1","ActivateNLQ":true,"QueryOptions":{"SearchTerms":"","Top":10,"Skip":0,"SearchType":"","ClientSessionID":"","ClientServiceName":"","ClientLastExecutionID":""},"DataSources":[],"ExcludedDataSources":[],"OrderBy":[],"ResultList":{"SearchResults":[{"HitAttributes":[],"Attributes":[]}],"NLQQueries":[{"NLQConnectorQueries":[{"SearchFilter":{"SubFilters":[{"SubFilters":[{"SubFilters":[{"SubFilters":[{"SubFilters":[{"SubFilters":[]}]}]}]}]}]}}]}]},"ExecutionDetails":[],"MaxFacetValues":5,"Facets":[{"Values":[]}]}};m.chartRequest={"d":{"Id":"1","DataSources":[],"ExcludedDataSources":[],"QueryOptions":{"SearchTerms":"","Skip":0,"SearchType":"F"},"FacetRequests":[],"MaxFacetValues":5,"Facets":[{"Values":[]}],"ExecutionDetails":[]}};m.valueHelperRequest={"d":{"Id":"1","ValueHelpAttribute":"","ValueFilter":"","DataSources":[],"ExcludedDataSources":[],"QueryOptions":{"Top":1000,"Skip":0,"SearchType":"V"},"ValueHelp":[]}};m.suggestionRequest={"d":{"Id":"1","SuggestionInput":"","IncludeAttributeSuggestions":false,"IncludeHistorySuggestions":false,"IncludeDataSourceSuggestions":false,"DetailLevel":1,"QueryOptions":{"Top":0,"Skip":0,"SearchType":"S","SearchTerms":""},"Filter":{},"DataSources":[],"ExcludedDataSources":[],"Suggestions":[],"ExecutionDetails":[]}};m.objectSuggestionRequest={"d":{"Id":"1","IncludeAttributeSuggestions":true,"QueryOptions":{"SearchTerms":"a","Top":10,"Skip":0},"DataSources":[{"Id":"UIA000~EPM_BPA_DEMO~","Type":"View"}],"ExcludedDataSources":[],"ObjectSuggestions":{"SearchResults":[{"HitAttributes":[],"Attributes":[]}]},"ExecutionDetails":[]}};m.navigationEvent={"SemanticObjectType":"","Intent":"","System":"","Client":"","Parameters":[]};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/conditionSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator','./typeConverter'],function(c,C,a,t){"use strict";var b=c.defineClass({_init:function(d){this.dataSource=d;},convertSinaToOdataOperator:function(s){switch(s){case a.Eq:return'EQ';case a.Lt:return'LT';case a.Gt:return'GT';case a.Le:return'LE';case a.Ge:return'GE';case a.Co:return'EQ';case a.Bw:return'EQ';case a.Ew:return'EQ';case'And':return"AND";case'Or':return"OR";default:throw new c.Exception('unknow comparison operator '+s);}},serializeComplexCondition:function(d){var r={"Id":1,"OperatorType":this.convertSinaToOdataOperator(d.operator),"SubFilters":[]};var s=d.conditions;for(var i=0;i<s.length;++i){var e=s[i];r.SubFilters.push(this.serialize(e));}return r;},serializeSimpleCondition:function(d){var m;var e;var f;m=this.dataSource.getAttributeMetadata(d.attribute);e=m.type;f={"ConditionAttribute":d.attribute,"ConditionOperator":this.convertSinaToOdataOperator(d.operator),"ConditionValue":t.sina2Odata(e,d.value,{operator:d.operator})};return f;},serializeBetweenCondition:function(d){var m;var e;var f;var v;var g;m=this.dataSource.getAttributeMetadata(d.conditions[0].attribute);e=m.type;if(d.conditions[0].operator==="Ge"){v=d.conditions[0].value;g=d.conditions[1].value;}else{v=d.conditions[1].value;g=d.conditions[0].value;}f={"ConditionAttribute":d.conditions[0].attribute,"ConditionOperator":"BT","ConditionValue":t.sina2Odata(e,v),"ConditionValueHigh":t.sina2Odata(e,g)};return f;},serialize:function(d){if(d instanceof C){if(d.operator==="And"&&d.conditions[0]&&(d.conditions[0].operator==="Ge"||d.conditions[0].operator==="Gt"||d.conditions[0].operator==="Le"||d.conditions[0].operator==="Lt")){if(d.conditions.length===1){return this.serializeSimpleCondition(d.conditions[0]);}else{return this.serializeBetweenCondition(d);}}else{return this.serializeComplexCondition(d);}}else{return this.serializeSimpleCondition(d);}}});return{serialize:function(d,e){var s=new b(d);return s.serialize(e);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/dataSourceSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator'],function(c,C,a){"use strict";return{serialize:function(d){if(d===d.sina.getAllDataSource()){return{Id:'<All>',Type:'Category'};}var t;switch(d.type){case d.sina.DataSourceType.Category:t='Category';break;case d.sina.DataSourceType.BusinessObject:t='View';break;}return{Id:d.id,Type:t};}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/labelCalculation.js":function(){sinaDefine(['../../core/core','../../core/LabelCalculator'],function(c,L){"use strict";var m={};m.createLabelCalculator=function(){return new L({key:function(d){return[d.labelPlural,d._private.system,d._private.client];},data:function(d){return{label:d.label,labelPlural:d.labelPlural};},setLabel:function(d,l,a){l[0]=a.label;d.label=l.join(' ');l[0]=a.labelPlural;d.labelPlural=l.join(' ');},setFallbackLabel:function(d,a){d.label=a.label+' duplicate '+d.id;d.labelPlural=d.label;}});};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/test.js":function(){sinaDefine(['./testLabelCalculator','./testConfiguration','./testAjaxClient'],function(){"use strict";});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/testAjaxClient.js":function(){sinaDefine(['../../../core/ajax','../ajaxTemplates'],function(a,b){"use strict";QUnit.test('AjaxClient-1',function(c){var d=c.async();var e=new a.Client({csrf:true});e.getJson('/sap/es/ina/GetServerInfo').then(function(s){e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});QUnit.test('AjaxClient-2',function(c){var d=c.async();var e=new a.Client({csrf:true,csrfFetchRequest:{method:'GET',url:'/sap/es/ina/GetServerInfo',headers:a.Client.prototype.jsonHeaders}});e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/testConfiguration.js":function(){sinaDefine(['../../../sina/sinaFactory'],function(s){"use strict";QUnit.test('Configuration',function(a){var d=a.async();s.createAsync('../Provider').then(function(b){b.getConfigurationAsync().then(function(c){c.setPersonalizedSearch(false);c.saveAsync().then(function(){c.resetPersonalizedSearchDataAsync().then(function(){a.equal(1,1);d();});});});});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/qunit/testLabelCalculator.js":function(){sinaDefine(['../LabelCalculator'],function(L){"use strict";var t=function(a,s){var d=[];var l=new L();for(var i=0;i<s.length;++i){var b=s[i];l.calculateLabel(b.dataSource);d.push(b.dataSource);for(var j=0;j<=i;++j){a.equal(b.labels[j],d[j].label,'label comparison');a.equal(b.labelsPlural[j],d[j].labelPlural,'label plural comparison');}}};QUnit.test("LabelCalculator 1",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order'],labelsPlural:['Purchase Orders','Sales Orders']},{dataSource:{id:'CES002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES 002','Sales Order CES 003'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES 002','Sales Orders CES 003']}]);});QUnit.test("LabelCalculator 2",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003']},{dataSource:{id:'CES003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES','Sales Order'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES','Sales Orders']}]);});QUnit.test("LabelCalculator - system and client not sufficient for unique key",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_PO_DEMO_2~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order','Purchase Order#1'],labelsPlural:['Purchase Orders','Purchase Orders#1']}]);});QUnit.test("LabelCalculator - category",function(a){t(a,[{dataSource:{id:'EPM_Demo',label:'Procurement',labelPlural:'Procurement'},labels:['Procurement'],labelsPlural:['Procurement']}]);});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/suggestionParser.js":function(){sinaDefine(['../../core/core','./typeConverter'],function(c,t){"use strict";return c.defineClass({_init:function(p,i){this.provider=p;this.sina=p.sina;this.itemParser=i;},parseObjectSuggestions:function(q,d){if(!d.d.ObjectSuggestions||!d.d.ObjectSuggestions.SearchResults||!d.d.ObjectSuggestions.SearchResults.results){return[];}var s=[];var o=d.d.ObjectSuggestions.SearchResults.results;for(var i=0;i<o.length;++i){var a=o[i];s.push(this.parseObjectSuggestion(a));}return c.Promise.all(s);},parseObjectSuggestion:function(o){return this.itemParser.parseItem(o).then(function(a){var b=c.map(a.titleAttributes,function(d){return d.valueFormatted;}).join(' ');return this.sina._createObjectSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,label:b,object:a});}.bind(this));},parseRegularSuggestions:function(q,d){var s=[];var a;var p;var b=[];var e;var f;if(!d.d.Suggestions||!d.d.Suggestions.results){return[];}var r=d.d.Suggestions.results;for(var i=0;i<r.length;i++){a=null;e=r[i];switch(e.Type){case'H':a=this.parseSearchTermSuggestion(q,e);break;case'A':a=this.parseSearchTermAndDataSourceSuggestion(q,e);a.type='A';a.cell=e;break;case'M':a=this.parseDataSourceSuggestion(q,e);break;}if(a){if(a.type==='A'){if(b[a.searchTerm]===undefined){f=this._getParentCell(a.cell);p=this.parseSearchTermSuggestion(q,f);b[a.searchTerm]=p;}delete a.type;delete a.cell;b[a.searchTerm].childSuggestions.push(a);}else{s.push(a);}}}Object.keys(b).forEach(function(k){s.push(b[k]);});return s;},parseDataSourceSuggestion:function(q,a){var b=this.sina.SuggestionCalculationMode.Data;var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}var f=q.filter.clone();f.setDataSource(d);return this.sina._createDataSourceSuggestion({calculationMode:b,dataSource:d,label:a.SearchTermsHighlighted});},parseSearchTermSuggestion:function(q,a){var b=this.parseCalculationMode(a.Type);var f=q.filter.clone();f.setSearchTerm(a.SearchTerms);return this.sina._createSearchTermSuggestion({searchTerm:a.SearchTerms,calculationMode:b,filter:f,label:a.SearchTermsHighlighted});},parseSearchTermAndDataSourceSuggestion:function(q,a){var b=this.parseCalculationMode(a.Type);var f=q.filter.clone();f.setSearchTerm(a.SearchTerms);var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}f.setDataSource(d);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.SearchTerms,dataSource:d,calculationMode:b,filter:f,label:a.SearchTermsHighlighted});},parseCalculationMode:function(s){switch(s){case'H':return this.sina.SuggestionCalculationMode.History;case'A':case'M':return this.sina.SuggestionCalculationMode.Data;}},_getParentCell:function(a){var p={};p=a;p.FromDataSource="<All>";p.FromDataSourceAttribute="";p.Type="A";return p;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/suggestionTermSplitter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){if(!s.searchTerm){return;}var t;var b=[];var d=s.searchTerm.split(' ');for(var k=0;k<d.length;k++){t=d[k];t=t.trim();b.push({term:t,regExp:new RegExp(this.escapeRegExp(t),'i')});}for(var i=0;i<a.length;++i){var e=a[i];var n=[];for(var j=0;j<b.length;++j){var f=b[j];if(!f.regExp.test(e.filter.searchTerm)){n.push(f.term);}}var p=[];var g=n.join(' ');for(var l=0;l<n.length;l++){t=n[l];p.push('<b>'+t+'</b>');}p=p.join(' ');e.label=p+' '+e.label;e.filter.searchTerm=e.searchTerm=g+' '+e.filter.searchTerm;this.concatenate(s,e.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/abap_odata/typeConverter.js":function(){sinaDefine(['../../core/core','../../sina/util','../../sina/AttributeType'],function(c,s,A){"use strict";return{sina2Odata:function(a,v,b){b=b||{};switch(a){case A.Double:return v.toString();case A.Integer:return v.toString();case A.String:return this.sina2OdataString(v,b);case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.sina2OdataDate(v);case A.Time:return this.sina2OdataTime(v);case A.Timestamp:return this.sina2OdataTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},odata2Sina:function(a,v){switch(a){case A.Double:return parseFloat(v);case A.Integer:return parseInt(v,10);case A.String:return v;case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.odata2SinaDate(v);case A.Time:return this.odata2SinaTime(v);case A.Timestamp:return this.odata2SinaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},odata2SinaTimestamp:function(v){if(v.length===0){return"";}v=v.trim();var y,m,d,h,a,b,e;y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(5,7),10);d=parseInt(v.slice(8,10),10);h=parseInt(v.slice(11,13),10);a=parseInt(v.slice(14,16),10);b=parseInt(v.slice(17,19),10);e=parseInt(v.slice(20,20+6),10);return new Date(Date.UTC(y,m-1,d,h,a,b,e/1000));},sina2OdataTimestamp:function(v){if(v.length===0){return"";}var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var d=v.getUTCDate();var h=v.getUTCHours();var a=v.getUTCMinutes();var b=v.getUTCSeconds();var e=v.getUTCMilliseconds()*1000;var r=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+'T'+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'.'+this.addLeadingZeros(e.toString(),7)+'Z';return r;},odata2SinaTime:function(v){if(v.length===0){return"";}v=v.trim();return v;},sina2OdataTime:function(v){if(v.length===0){return"";}return v;},odata2SinaDate:function(v){if(v.length===0){return"";}v=v.trim();return v.slice(0,4)+'/'+v.slice(5,7)+'/'+v.slice(8,10);},sina2OdataDate:function(v){if(v.length===0){return"";}return v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);},sina2OdataString:function(v,a){return s.convertOperator2Wildcards(v,a.operator);},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/dummy/Provider.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({id:'dummy',_initAsync:function(p){return Promise.resolve();}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/FacetParser.js":function(){sinaDefine(['../../core/core','../../sina/SearchQuery','./typeConverter'],function(c,S,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.Exception=c.Exception.derive({_init:function(a){c.Exception.prototype._init.apply(this,[a]);}});},parse:function(q,d,l){var v=d['@com.sap.vocabularies.Search.v1.Facets'];if(d.error&&!v){return c.Promise.reject(new this.Exception({message:d.error.message,description:'Server-side Error',previous:d.error}));}if(!v){return Promise.resolve([]);}if(d.error){l.addMessage(l.WARNING,'Server-side Warning: '+d.error.message);}var f=[];for(var i=0;i<v.length;i++){var a=v[i];var r;if(q.filter.dataSource===q.sina.getAllDataSource()){try{r=this.parseDataSourceFacet(q,a);}catch(e){l.addMessage(l.WARNING,'Error occurred by parsing result item number '+i+': '+e.message);}}else{if(q.filter.dataSource.type===q.sina.DataSourceType.Category){continue;}if(a["@com.sap.vocabularies.Search.v1.Facet"]["Dimensions"][0].PropertyType==="GeometryPolygonFacet"){continue;}try{r=this.parseChartFacet(q,a);}catch(e){l.addMessage(l.WARNING,'Error occurred by parsing result item number '+i+': '+e.message);}}f.push(r);}return c.Promise.all(f);},parseDataSourceFacet:function(q,f){var d=q;if(q instanceof S){d=this.sina.createDataSourceQuery({dataSource:q.filter.dataSource,filter:q.filter.clone()});}var a=[];for(var i=0;i<f.Items.length;i++){var b=f.Items[i];var e=this.sina.getDataSource(b.scope);if(!e){e=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:b.ValueLow,label:b.Description});}a.push(this.sina._createDataSourceResultSetItem({dataSource:e,dimensionValueFormatted:e.labelPlural,measureValue:b._Count,measureValueFormatted:(b._Count).toString()}));}var r=this.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:a,query:d});if(q instanceof S){return d._setResultSet(r);}return r;},createAttributeFilterCondition:function(a,m,b){if(typeof b[a]==='object'&&(b[a].hasOwnProperty('From')||b[a].hasOwnProperty('From'))){var f=this.sina.createComplexCondition({attributeLabel:m.label,valueLabel:this.formatFacetValue(b[a],m),operator:this.sina.LogicalOperator.And,conditions:[]});var l,u;if(!b[a].From){u=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.odata2Sina(m.type,b[a].To)});f.conditions.push(u);}else if(!b[a].To){l=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.odata2Sina(m.type,b[a].From)});f.conditions.push(l);}else{l=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.odata2Sina(m.type,b[a].From)});f.conditions.push(l);u=this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.odata2Sina(m.type,b[a].To)});f.conditions.push(u);}return f;}else{return this.sina.createSimpleCondition({attributeLabel:m.label,attribute:a,value:b[a],valueLabel:t.odata2Sina(m.type,b[a])});}},formatFacetValue:function(v,m){var i='';if(v['@com.sap.vocabularies.Common.v1.Label']){return v['@com.sap.vocabularies.Common.v1.Label'];}if(typeof v==='object'&&(v.hasOwnProperty('From')||v.hasOwnProperty('To'))){v=(v.From||i)+'...'+(v.To||i);}return v;},parseChartFacet:function(q,f){var d=q.filter.dataSource;var a='';if(q.dimension){a=q.dimension;}else if(f["@com.sap.vocabularies.Search.v1.Facet"]&&f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions&&f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0]&&f["@com.sap.vocabularies.Search.v1.Facet"].Dimensions[0].PropertyName){a=f["@com.sap.vocabularies.Search.v1.Facet"]["Dimensions"][0].PropertyName;}var m=d.getAttributeMetadata(a);var b=[];var e;var g=q;e=q.filter.clone();e.setDataSource(d);e.setRootCondition(q.filter.rootCondition.clone());g=this.sina.createChartQuery({filter:e,dimension:a});for(var i=0;i<f.Items.length;i++){var h=f.Items[i];b.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(a,m,h),dimensionValueFormatted:this.formatFacetValue(h[a],m),measureValue:h['_Count'],measureValueFormatted:h['_Count']}));}var r=this.sina._createChartResultSet({title:m.label,items:b,query:g});if(q instanceof S){return g._setResultSet(r);}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/ItemParser.js":function(){sinaDefine(['../../core/core','../../core/util','./typeConverter','../tools/fiori/FioriIntentsResolver','../../sina/NavigationTarget','../../sina/AttributeType'],function(c,u,t,I,N,A){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.intentsResolver=this.sina._createFioriIntentsResolver();this.suvNavTargetResolver=this.sina._createSuvNavTargetResolver();this.Exception=c.Exception.derive({_init:function(a){c.Exception.prototype._init.apply(this,[a]);}});},parse:function(s,d,l){if(d.error&&!d.value){return c.Promise.reject(new this.Exception({message:d.error.message,description:'Server-side Error',previous:d.error}));}if(!d.value){return Promise.resolve([]);}if(d.error){l.addMessage(l.WARNING,'Server-side Warning: '+d.error.message);}var a=d.value;var b=[];for(var i=0;i<a.length;++i){var f=a[i];var g;try{g=this.parseItem(f);b.push(g);}catch(e){l.addMessage(l.WARNING,'Error occurred by parsing result item number '+i+': '+e.message);}}return Promise.all(b);},parseItem:function(a){var i,k;var b=[];var d=[];var e=[];var f,g;var h={};var j;var l={};var m=[];var n=[];var s={};var o;var p=a['@odata.context'];var q=p.lastIndexOf('#');if(q>-1){p=p.slice(q+1);}var r=this.sina.getDataSource(p);var w=a['@com.sap.vocabularies.Search.v1.WhyFound']||{};var v={};var x='';var y={};var z,B,C,D;var E=[];var F;var G=a["@com.sap.vocabularies.Search.v1.Ranking"];var H=this.preParseItem(a);for(var J in H){var K=H[J];v=r.getAttributeMetadata(J);if(!v){throw'unknown attribute '+J;}if(v.id=="LOC_4326"){v.usage={Detail:{displayOrder:-1}};}var L=t.odata2Sina(v.type,K.value);var M='';if(v.type===A.Timestamp){var O=sap.ui.core.format.DateFormat.getDateTimeInstance();M=O.format(L);}else{M=L!==undefined?L.toString():'';}var P="";for(var Q in w){if(Q===J&&w[Q][0]){P=w[Q][0];delete w[Q];}}P=this.calculateValueHighlighted(K,v,P);j=this.sina._createSearchResultSetItemAttribute({id:v.id,label:v.label,value:L,valueFormatted:M,valueHighlighted:P||M,isHighlighted:P.length>0?true:false,metadata:v,groups:[]});u.appendRemovingDuplicates(E,u.extractHighlightedTerms(j.valueHighlighted));if(v.isUnitOfMeasure||v.isCurrency){h[j.id]=j;}if(v.unitOfMeasureAttribute){g=h[v.unitOfMeasureAttribute.id];if(g){j.unitOfMeasure=g;}else{m.push(j);}}if(v.descriptionAttribute){f=l[v.descriptionAttribute.id];if(f){j.description=f;}else{n.push(j);}}if(v.suvUrlAttribute&&v.suvMimeTypeAttribute){C=l[v.suvUrlAttribute]||v.suvUrlAttribute.id;D=l[v.suvMimeTypeAttribute]||v.suvMimeTypeAttribute.id;y[v.id]={suvThumbnailAttribute:j,suvTargetUrlAttribute:C,suvTargetMimeTypeAttribute:D};}if(v.usage.Title){b.push(j);}if(v.usage.TitleDescription){e.push(j);}if(v.usage.Detail){d.push(j);}if(v.usage.Navigation){if(v.usage.Navigation.mainNavigation){F=this.sina._createNavigationTarget({label:j.value,targetUrl:j.value,target:"_blank"});}}l[j.id]=j;x=r.attributeMetadataMap[v.id]._private.semanticObjectType||'';if(x.length>0){s[x]=L;}}for(i=0;i<m.length;i++){j=m[i];v=r.getAttributeMetadata(j.id);if(v.unitOfMeasureAttribute){g=h[v.unitOfMeasureAttribute.id];if(g){j.unitOfMeasure=g;}}}for(i=0;i<n.length;i++){j=n[i];v=r.getAttributeMetadata(j.id);if(v.descriptionAttribute){f=l[v.descriptionAttribute.id];if(f){j.description=f;}}}for(B in y){z=y[B];if(typeof z.suvTargetUrlAttribute=="string"){z.suvTargetUrlAttribute=l[z.suvTargetUrlAttribute];}if(typeof z.suvTargetMimeTypeAttribute=="string"){z.suvTargetMimeTypeAttribute=l[z.suvTargetMimeTypeAttribute];}if(!(z.suvTargetUrlAttribute||z.suvTargetMimeTypeAttribute)){delete y[B];}}var R,S;for(i=0;i<r.attributesMetadata.length;i++){v=r.attributesMetadata[i];if(v.type==this.sina.AttributeType.Group){o=this.sina._createSearchResultSetItemAttributeGroup({id:v.id,metadata:v,label:v.label,template:v.template,attributes:[]});if(v.usage.Detail){d.push(o);}if(v.usage.Title){b.push(o);}for(k=0;k<v.attributes.length;k++){R=v.attributes[k];j=l[R.attribute.id];if(j){S=this.sina._createSearchResultSetItemAttributeGroupMembership({group:o,attribute:j,metadata:R});o.attributes.push(S);j.groups.push(S);}}}}b.sort(function(W,X){return W.metadata.usage.Title.displayOrder-X.metadata.usage.Title.displayOrder;});d.sort(function(W,X){return W.metadata.usage.Detail.displayOrder-X.metadata.usage.Detail.displayOrder;});for(var T in w){if(w[T][0]){v=r.getAttributeMetadata(T);j=this.sina._createSearchResultSetItemAttribute({id:v.id||T,label:v.label||T,value:null,valueFormatted:w[T][0],valueHighlighted:w[T][0],isHighlighted:true,metadata:v});d.push(j);delete w[T];}}this.suvNavTargetResolver.resolveSuvNavTargets(r,y,E);x=r._private.semanticObjectType||'';var U=r._private.system||'';var V=r._private.client||'';return this.intentsResolver.resolveIntents({semanticObjectType:x,semanticObjectTypeAttributes:s,systemId:U,client:V,fallbackDefaultNavigationTarget:F}).then(function(W){var X=W&&W.defaultNavigationTarget;var Y=W&&W.navigationTargets;return this.sina._createSearchResultSetItem({dataSource:r,titleAttributes:b,titleDescriptionAttributes:e,detailAttributes:d,defaultNavigationTarget:X,navigationTargets:Y,score:G});}.bind(this));},preParseItem:function(i){var a={};for(var o in i){if(o[0]==='@'||o[0]==='_'){continue;}var v=i[o];var p;var s=o.split('@');p=s[0];var b=a[p];if(!b){b={};a[p]=b;}if(s.length===1){b.value=v;continue;}if(s.length===2){b[s[1]]=v;continue;}throw'more than two @ in property name';}return a;},_getFirstItemIfArray:function(v){if(Array.isArray(v)){v=v[0];}return v;},calculateValueHighlighted:function(s,m,a){var i='com.sap.vocabularies.Search.v1.Highlighted';var b='com.sap.vocabularies.Search.v1.Snippets';var v='';if(m.format==='MultilineText'){v=s[i];if(v){return this._getFirstItemIfArray(v);}v=s[b];if(v){return this._getFirstItemIfArray(v);}return a;}else{v=s[b];if(v){return this._getFirstItemIfArray(v);}v=s[i];if(v){return this._getFirstItemIfArray(v);}return this._getFirstItemIfArray(a);}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/MetadataParser.js":function(){sinaDefine(['../../core/core','./typeConverter'],function(c,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.presentationUsageConversionMap={TITLE:'TITLE',SUMMARY:'SUMMARY',DETAIL:'DETAIL',IMAGE:'IMAGE',THUMBNAIL:'THUMBNAIL',HIDDEN:'HIDDEN'};this.accessUsageConversionMap={AUTO_FACET:'AUTO_FACET',SUGGESTION:'SUGGESTION'};},_getWindow:function(){if(typeof window==="undefined"){return new Promise(function(r,a){sinaRequire(['jsdom','fs'],function(j,f){var b=f.readFileSync("./node_modules/jquery/dist/jquery.js","utf-8");j.env({html:"<html><body></body></html>",src:[b],done:function(e,w){if(!e){r(w);}else{a(e);}}});});});}else{return Promise.resolve(window);}},parseResponse:function(m){var a=this;var b={businessObjectMap:{},businessObjectList:[],dataSourceMap:{},dataSourcesList:[]};return this._getWindow().then(function(w){w.$(m).find('Schema').each(function(){var $=w.$(this);var h=a._parseEntityType($,w);a._parseEntityContainer($,h,b,w);});return Promise.resolve(b);});},_parseEntityType:function(s,w){var a=this;var h={};s=w.$(s);s.find('EntityType').each(function(){var b=w.$(this).attr('Name');var d={schema:s.attr('Namespace'),keys:[],attributeMap:{},resourceBundle:'',labelResourceBundle:'',label:'',labelPlural:'',annotations:{}};h[b]=d;w.$(this).find('Key>PropertyRef').each(function(){d.keys.push(w.$(this).attr('Name'));});w.$(this).find('Annotation[Term="Search.searchable"]').each(function(){w.$(this).siblings('Annotation').each(function(){var $=w.$(this);var f=$.attr('Term');if(f!==undefined&&f.length>0){f=f.toUpperCase();var g=a._getValueFromElement(this);if(f==='ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.BUNDLE'){var r=g;try{d.resourceBundle=jQuery.sap.resources({url:r,language:sap.ui.getCore().getConfiguration().getLanguage()});}catch(e){sinaLog.error("Resource bundle of "+b+" '"+r+"' can't be found:"+e.toString());}}else if(f==='ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.KEY'){var k=g;if(k&&d.resourceBundle){var T=d.resourceBundle.getText(k);if(T){d.labelResourceBundle=T;}}}else if(f==='UI.HEADERINFO.TYPENAME'){d.label=g;}else if(f==='UI.HEADERINFO.TYPENAMEPLURAL'){d.labelPlural=g;}else if(f==='UI.HEADERINFO.TITLE.TYPE'){a._setAnnotationValue(d.annotations,f,g);}else if(f==='UI.HEADERINFO.TITLE.VALUEQUALIFIER'){a._setAnnotationValue(d.annotations,f,g);}else{a._setAnnotationValue(d.annotations,f,g);}}});});w.$(this).find('Property').each(function(e){var f=w.$(this).attr('Name');var g={labelRaw:f,label:null,type:w.$(this).attr('Type'),presentationUsage:[],isFacet:false,isSortable:false,supportsTextSearch:false,displayOrder:e,annotationsAttr:{},unknownAnnotation:[]};d.attributeMap[f]=g;w.$(this).find('Annotation').each(function(){var k=w.$(this).attr('Term');if(k!==undefined&&k.length>0){k=k.toUpperCase();var l=a._getValueFromElement(this);if(l==undefined){w.$(this).children("Collection").children("Record").each(function(){l=l||[];var m={};l.push(m);w.$(this).children("PropertyValue").each(function(){var n=w.$(this).attr("property");if(n!==undefined&&n.length>0){n=n.toUpperCase();var o=a._getValueFromElement(this);if(o!==undefined){m[n]=o;}}});});}if(l!==undefined){switch(k){case'SAP.COMMON.LABEL':if(!g.label){g.label=l;}break;case'ENTERPRISESEARCHHANA.UIRESOURCE.LABEL.KEY':if(l&&d.resourceBundle){var T=d.resourceBundle.getText(l);if(T){g.label=T;}}break;case'ENTERPRISESEARCH.KEY':g.isKey=l;break;case'ENTERPRISESEARCH.PRESENTATIONMODE':w.$(this).find('Collection>String').each(function(){var p=a._getValueFromElement(this);p=a.presentationUsageConversionMap[p];if(p){g.presentationUsage.push(p);}});break;case'ENTERPRISESEARCHHANA.ISSORTABLE':g.isSortable=l;break;case'ENTERPRISESEARCHHANA.SUPPORTSTEXTSEARCH':g.supportsTextSearch=l;break;case'ENTERPRISESEARCH.FILTERINGFACET.DEFAULT':g.isFacet=l;break;case'ENTERPRISESEARCH.DISPLAYORDER':g.displayOrder=l;break;default:if(k.startsWith("UI")||k.startsWith("OBJECTMODEL")||k.startsWith("SEMANTICS")){a._setAnnotationValue(g.annotationsAttr,k,l);}else{g.unknownAnnotation.push(w.$(this));}}}}});var j=g.annotationsAttr.UI&&g.annotationsAttr.UI.IDENTIFICATION;if(j){if(j.POSITION!==undefined){g.displayOrder=j.POSITION;}else if(Array.isArray(j)){for(var i=0;i<j.length;i++){if(j[i].TYPE==undefined&&j[i].POSITION!==undefined){g.displayOrder=j[i].POSITION;break;}}}}});});return h;},_setAnnotationValue:function(a,b,v){var d=b.split(".");var e;var f=a;var g="___temporaryDummyEntriesForArrays___";var i;for(i=0;i<d.length-1;i++){e=d[i];if(f[e]===undefined){f[e]={};f=f[e];}else if(Array.isArray(f[e])){f[g]=f[g]||{};if(!f[g][e]){f[g][e]={};f[e].push(f[g][e]);}f=f[g][e];}else{f=f[e];}}if(i<d.length){e=d[i];if(f[e]===undefined){f[e]=v;}else if(Array.isArray(f[e])){if(Array.isArray(v)){f[e]=f[e].concat(v);}else{f[g]=f[g]||{};if(!f[g][e]){f[g][e]=v;f[e].push(f[g][e]);}else{for(var p in v){if(!f[g][e][p]){f[g][e][p]=v[p];}}}}}}},_getValueFromElement:function(a){var $=window.$(a);var v=$.text();if(!v||v.trim().length==0){v=undefined;if($.attr('string')!==undefined){v=$.attr('string');}else if($.attr('decimal')!==undefined){try{v=Number.parseFloat($.attr('decimal'));if(isNaN(v)){v=undefined;}}catch(e){v=undefined;}}else if($.attr('int')!==undefined){try{v=Number.parseInt($.attr('int'),10);if(isNaN(v)){v=undefined;}}catch(e){v=undefined;}}else if($.attr('bool')!==undefined){v=$.attr('bool')=="true"?true:false;}}return v;},_parseEntityContainer:function(s,h,a,w){var b=this;s.find('EntityContainer>EntitySet').each(function(){if(w.$(this).attr('Name')&&w.$(this).attr('EntityType')){var n=w.$(this).attr('Name');var e=w.$(this).attr('EntityType');var d=e.slice(e.lastIndexOf('.')+1);var f=h[d];if(f===undefined){throw'EntityType '+d+' has no corresponding meta data!';}var g=b.sina._createDataSource({id:n,label:f.labelResourceBundle||f.label||n,labelPlural:f.labelResourceBundle||f.labelPlural||f.label||n,type:b.sina.DataSourceType.BusinessObject,attributesMetadata:[{id:'dummy'}]});g.annotations=f.annotations;a.dataSourceMap[g.id]=g;a.dataSourcesList.push(g);f.name=n;f.dataSource=g;a.businessObjectMap[n]=f;a.businessObjectList.push(f);}});},fillMetadataBuffer:function(d,a){if(d.attributesMetadata[0].id!=='dummy'){return;}d.attributesMetadata=[];d.attributeMetadataMap={};var b={dataSourceAnnotations:{},attributeAnnotations:{}};b.dataSourceAnnotations=d.annotations;for(var f in a.attributeMap){try{this.fillPublicMetadataBuffer(d,a.attributeMap[f],b);}catch(e){}}var p=this.sina._createCDSAnnotationsParser({dataSource:d,cdsAnnotations:b});p.parseCDSAnnotationsForDataSource();},fillPublicMetadataBuffer:function(d,a,b){var e=a.displayOrder;var f=b.attributeAnnotations[a.labelRaw]={};jQuery.extend(f,a.annotationsAttr);var g=this._parseAttributeTypeAndFormat(a);if(g.type){var p=this.sina._createAttributeMetadata({id:a.labelRaw,label:a.label||a.labelRaw,isKey:a.isKey||false,isSortable:a.isSortable,usage:this._parseUsage(a,e)||{},type:g.type,format:g.format,matchingStrategy:this._parseMatchingStrategy(a)});p._private.semanticObjectType=a.SemanticObjectTypeId;d.attributesMetadata.push(p);d.attributeMetadataMap[p.id]=p;}},_parseMatchingStrategy:function(a){if(a.supportsTextSearch===true){return this.sina.MatchingStrategy.Text;}else{return this.sina.MatchingStrategy.Exact;}},_parseAttributeTypeAndFormat:function(a){for(var i=0;i<a.presentationUsage.length;i++){var p=a.presentationUsage[i]||'';switch(p.toUpperCase()){case'SUMMARY':continue;case'DETAIL':continue;case'TITLE':continue;case'HIDDEN':continue;case'FACTSHEET':continue;case'THUMBNAIL':case'IMAGE':return{type:this.sina.AttributeType.ImageUrl};case'LONGTEXT':return{type:this.sina.AttributeType.String,format:this.sina.AttributeFormatType.Longtext};default:throw new c.Exception('Unknown presentation usage '+p);}}switch(a.type){case'Edm.Binary':if(a.annotationsAttr){if(a.annotationsAttr.SEMANTICS&&a.annotationsAttr.SEMANTICS.CONTACT&&a.annotationsAttr.SEMANTICS.CONTACT.PHOTO||a.annotationsAttr.SEMANTICS&&a.annotationsAttr.SEMANTICS.IMAGEURL){return{type:this.sina.AttributeType.ImageBlob};}}case'Edm.String':case'Edm.Boolean':case'Edm.Byte':case'Edm.Guid':return{type:this.sina.AttributeType.String};case'Edm.Double':case'Edm.Decimal':case'Edm.Float':case'Edm.Single':case'Edm.SingleRange':return{type:this.sina.AttributeType.Double};case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':return{type:this.sina.AttributeType.Integer};case'Edm.Time':return{type:this.sina.AttributeType.Time};case'Edm.DateTime':if(a.TypeLength>8){return{type:this.sina.AttributeType.Timestamp};}return{type:this.sina.AttributeType.Timestamp};case'Collection(Edm.String)':return{type:this.sina.AttributeType.String};case'Edm.GeometryPoint':return{type:this.sina.AttributeType.GeoJson};case'GeoJson':return{type:this.sina.AttributeType.GeoJson};default:return null;}},_parseUsage:function(a,d){var u={};for(var i=0;i<a.presentationUsage.length;i++){var b=a.presentationUsage[i].toUpperCase()||'';if(b==="TITLE"){u.Title={displayOrder:d};}if(b==="SUMMARY"||b==="DETAIL"||b==="IMAGE"||b==="THUMBNAIL"||b==="LONGTEXT"){u.Detail={displayOrder:d};}}if(a.isFacet){u.AdvancedSearch={displayOrder:d};u.Facet={displayOrder:d};}return u;},parseDynamicMetadata:function(s){var d=s.data;if(!d){return;}var m=d['@com.sap.vocabularies.Search.v1.Metadata'];if(!m){return;}var a=this.getUniqueDataSourceFromSearchResult(s);if(!a){return;}for(var b in m){var e=m[b];this.parseDynamicAttributeMetadata(a,b,e);}},parseDynamicAttributeMetadata:function(d,a,b){var e=d.getAttributeMetadata(a);var f=this._parseAttributeTypeAndFormat({presentationUsage:[],type:b['$Type']});if(e){if(!e._private.dynamic){return;}e.label=b['@SAP.Common.Label'];e.type=f.type;e.format=f.format;}else{e=this.sina._createAttributeMetadata({id:a,label:b['@SAP.Common.Label'],isKey:false,isSortable:false,usage:{},type:f.type,format:f.format,matchingStrategy:this.sina.MatchingStrategy.Exact,_private:{dynamic:true}});d.attributesMetadata.push(e);d.attributeMetadataMap[e.id]=e;}},getUniqueDataSourceFromSearchResult:function(s){var d=s.data;if(!d){return;}var a=d.value;if(!a){return;}var p;for(var i=0;i<a.length;++i){var b=a[i];var e=b['@odata.context'];if(!e){return;}var f=e.split('#')[1];if(!f){return;}if(p&&p!==f){return;}p=f;}return this.sina.getDataSource(f);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','../../core/Log','../../core/lang','../../sina/SinaObject','./ajax','./conditionSerializer','./dataSourceSerializer','./FacetParser','./ItemParser','./suggestionParser','./suggestionTermSplitter','./MetadataParser'],function(c,u,L,l,S,a,b,d,F,I,e,s,M){"use strict";return S.derive({id:'hana_odata',_initAsync:function(f){var p=u.getBaseUrl(f.url);if(p[p.length-1]==='/'){this.requestPrefix=p+'es/odata/callbuildin.xsjs';}else{this.requestPrefix=p+'/es/odata/callbuildin.xsjs';}this.sina=f.sina;this.ajaxClient=a.createAjaxClient();this.metadataLoadPromises={};this.internalMetadata={};this.metadataParser=new M(this);this.itemParser=new I(this);this.facetParser=new F(this);this.suggestionParser=new e(this);return this.loadServerInfo().then(function(g){this.serverInfo=g;if(!this.supports('Search')){return Promise.reject(new c.Exception('Enterprise Search is not active'));}return this.loadBusinessObjectDataSources();}.bind(this)).then(function(){if(this.sina.dataSources.length===0){return Promise.reject(new c.Exception('Enterprise Search is not active - no datasources'));}return{capabilities:this.sina._createCapabilities({fuzzy:false})};}.bind(this));},supports:function(f,g){var h=this.serverInfo.services;for(var i in h){if(i===f){if(!g){return true;}var k=h[i].Capabilities;for(var j=0;j<k.length;++j){var m=k[j];if(m===g){return true;}}}}return false;},loadServerInfo:function(){var f={rawServerInfo:{Services:[{Service:'Search',Capabilities:[{Capability:'SemanticObjectType'}]},{Service:'Suggestions2',Capabilities:[{Capability:'ScopeTypes'}]}]},services:{Suggestions:{suggestionTypes:['objectdata']},Search:{capabilities:['SemanticObjectType']}}};return Promise.resolve(f);},loadBusinessObjectDataSources:function(){var t=this;var r=this.buildQueryUrl(this.requestPrefix,"/$metadata");return this.ajaxClient.getXML(r).then(function(f){t.metadataParser.parseResponse(f).then(function(g){for(var i=0;i<g.dataSourcesList.length;++i){var h=g.dataSourcesList[i];t.metadataParser.fillMetadataBuffer(h,g.businessObjectMap[h.id]);}});});},assembleOrderBy:function(q){var r=[];for(var i=0;i<q.sortOrder.length;++i){var f=q.sortOrder[i];var g=(f.order===this.sina.SortOrder.Descending)?'desc':'asc';r.push({AttributeId:f.id,SortOrder:g});}return r;},translateOrder:function(o){var r='desc';if(o==='Ascending'){r='asc';}return r;},executeSearchQuery:function(q){var r=q.filter.rootCondition.clone();var f=b.serialize(q.filter.dataSource,r);var g=this._escapeSearchTerm(q.filter.searchTerm);var h=d.serialize(q.filter.dataSource);var t=q.top||10;var i=q.skip||0;var k=q.facetTop||5;var o=q.sortOrder;var m='';var n="Search.search(query='";if(q.filter.dataSource!==this.sina.getAllDataSource()){n+="SCOPE:"+h.Id+" ";}var p='';var v='';if(g){p='(';v=')';}n+=f+" "+p+g+v+"')";var w='filter('+n+')';var x={$count:true,$top:t,$skip:i,$apply:w,whyfound:true};if(Array.isArray(o)){for(var j=0;j<o.length;j++){var y=o[j];if(j===0){m+=y.id+' '+this.translateOrder(y.order);}else{m+=','+y.id+' '+this.translateOrder(y.order);}}}if(m.length>0){x['$orderby']=m;}var z=this.buildQueryUrl(this.requestPrefix,'/$all');if(q.calculateFacets){x.facets='all';x.facetlimit=k;}var A,B;var C=new L();return this.ajaxClient.getJson(z,x).then(function(D){B=D;return this.metadataParser.parseDynamicMetadata(B);}.bind(this)).then(function(D){return this.itemParser.parse(q,B.data,C);}.bind(this)).then(function(D){A=D;var E=B.data['@com.sap.vocabularies.Search.v1.SearchStatistics'].ConnectorStatistics;if(q.getDataSource()===this.sina.getAllDataSource()&&E&&Array.isArray(E)&&E.length===1){var G=[{"@com.sap.vocabularies.Search.v1.Facet":{"PropertyName":"scope","isConnectorFacet":true},"Items":[{"scope":E[0].OdataID,"_Count":B.data["@odata.count"]}]}];return this.facetParser.parse(q,G);}return this.facetParser.parse(q,B.data,C);}.bind(this)).then(function(D){return this.sina._createSearchResultSet({title:'Search Result List',query:q,items:A,totalCount:B.data['@odata.count']||0,facets:D,log:C});}.bind(this));},executeChartQuery:function(q){var f=this._escapeSearchTerm(q.filter.searchTerm);var g=d.serialize(q.filter.dataSource);var r=q.filter.rootCondition.clone();var h=new L();var i=15;var j=r.removeAttributeConditions(q.dimension);var k=j.deleted;var m=b.serialize(q.filter.dataSource,r);var t=q.top||5;var n="Search.search(query='";if(g!==this.sina.getAllDataSource()){n+="SCOPE:"+g.Id+" ";}var p='';var o='';if(f){p='(';o=')';}if(k===true){if(!j.value||j.value===''||j.value.match(/^[*\s]+$/g)!==null){j.value='*';n+='('+j.attribute+':"'+'*")'+' '+p+f;}else{n+='('+j.attribute+':EQ'+':"'+j.value+'*")'+' '+p+f;}}else{n+=m+" "+p+f;}n+=o+"')";var v='filter('+n+')';var w={$count:true,$top:0,$apply:v};var x=this.buildQueryUrl(this.requestPrefix,'/$all');var y='all';w.facetlimit=t;if(q.dimension){y=q.dimension;var z=q.filter.dataSource.getAttributeMetadata(q.dimension);if((z.type==='Double'||z.type==='Integer')&&t>=20){w.facetlimit=i;}}w.facets=y;return this.ajaxClient.getJson(x,w).then(function(A){var B=this.facetParser.parse(q,A.data,h);return B;}.bind(this)).then(function(A){if(A.length>0){return A[0];}return this.sina._createChartResultSet({title:q.filter.dataSource.getAttributeMetadata(q.dimension).label,items:[],query:q,log:h});}.bind(this));},executeSuggestionQuery:function(q){var f={SearchTerm:{Data:'SuggestObjectData',History:'SuggestSearchHistory'},Object:{},DataSource:{Data:'SuggestDataSources'}};var g=q.types;var h=q.calculationModes;var k=c.Promise.resolve({items:[]});for(var i=0;i<g.length;i++){var m=g[i];for(var j=0;j<h.length;j++){var n=h[j];var v=f[m][n];switch(v){case"SuggestObjectData":return this._fireSuggestionQuery(q);default:return k;}}}},_escapeSearchTerm:function(t){if(t){t=t.replace(/[\\]/g,'\\$&');}return t;},_fireSuggestionQuery:function(q){var f=this._escapeSearchTerm(q.filter.searchTerm);var g=s.split(this,f);var r=q.filter.rootCondition.clone();var h=b.serialize(q.filter.dataSource,r);var i="GetSuggestion(term='";if(q.filter.dataSource!==this.sina.getAllDataSource()){i+="SCOPE:"+q.filter.dataSource.id+" ";}i+=h+" "+f+"')";var j={};var k=this.buildQueryUrl(this.requestPrefix,'/$all/'+i);return this.ajaxClient.getJson(k,j).then(function(m){var n=[];if(m.data.value){n=this.suggestionParser.parse(q,m.data.value);}s.concatenate(this,g,n);return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:n});}.bind(this));},getFilterValueFromConditionTree:function(f,g){if(g.ConditionAttribute&&g.ConditionAttribute===f){return g.ConditionValue;}else if(g.SubFilters){var i;var r=null;for(i=0;r===null&&i<g.SubFilters.length;i++){r=this.getFilterValueFromConditionTree(f,g.SubFilters[i]);}return r;}return null;},logUserEvent:function(f){},buildQueryUrl:function(q,f){var r=q+'/v5'+f;return r;},getDebugInfo:function(){return' SinaProvider :'+this.id;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/ajax.js":function(){sinaDefine(['../../core/core','../../core/ajax'],function(c,a){"use strict";var m={};m.Exception=c.Exception.derive({_init:function(d){c.Exception.prototype._init.apply(this,[d]);}});var p=function(d){try{return c.Promise.reject(new m.Exception({message:JSON.parse(d.responseText).error.details,description:'Error by hana odata ajax call',previous:d}));}catch(e){return c.Promise.reject(d);}};var b=function(o){return function(){return o.apply(this,arguments).then(function(r){return r;}.bind(this),function(e){if(!(e instanceof a.Exception)){return c.Promise.reject(e);}return p(e);}.bind(this));};};m.createAjaxClient=function(){var d=new a.Client({csrf:false});d.postJson=b(d.postJson);d.getJson=b(d.getJson);d.mergeJson=b(d.mergeJson);return d;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/conditionSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator','./typeConverter','../../sina/AttributeType'],function(c,C,a,t,A){"use strict";var b=c.defineClass({_init:function(d){this.dataSource=d;},convertSinaToOdataOperator:function(s){switch(s){case a.Eq:return':EQ(S)';case a.Lt:return':LT';case a.Gt:return':GT';case a.Le:return':LE';case a.Ge:return':GE';case a.Co:return':EQ';case a.Bw:return':EQ';case a.Ew:return':EQ';case'And':return"AND";case'Or':return"OR";default:throw new c.Exception('unknow comparison operator '+s);}},serializeComplexCondition:function(d){var r={"Id":1,"OperatorType":this.convertSinaToOdataOperator(d.operator),"SubFilters":[]};var s=d.conditions;for(var i=0;i<s.length;++i){var e=s[i];r.SubFilters.push(this.serialize(e));}var f="";if(r.SubFilters.length>1){f=r.SubFilters.join(' '+r.OperatorType+' ');}else if(r.SubFilters.length===1){f=r.SubFilters[0];}if(r.SubFilters.length>1){f='('+f+')';}return f;},serializeSimpleCondition:function(d){var m;var e;var f;m=this.dataSource.getAttributeMetadata(d.attribute);e=m.type;f={"ConditionAttribute":d.attribute,"ConditionOperator":this.convertSinaToOdataOperator(d.operator),"ConditionValue":t.sina2Odata(e,d.value,{operator:d.operator})};var q='';if(e===A.String||e===A.Timestamp){q='"';}return'('+f.ConditionAttribute+f.ConditionOperator+':'+q+f.ConditionValue+q+')';},serializeBetweenCondition:function(d){var m;var e;m=this.dataSource.getAttributeMetadata(d.conditions[0].attribute);e=m.type;var q='';if(e===A.Date||e===A.Time||e===A.Timestamp){q='"';}var r=d.conditions[0].attribute+this.convertSinaToOdataOperator(d.conditions[0].operator)+':'+q+t.sina2Odata(e,d.conditions[0].value,{operator:d.conditions[0].operator})+q;r+=" AND ";r+=d.conditions[1].attribute+this.convertSinaToOdataOperator(d.conditions[1].operator)+":"+q+t.sina2Odata(e,d.conditions[1].value,{operator:d.conditions[1].operator})+q;r="("+r+")";return r;},serialize:function(d){if(d instanceof C){if(d.operator==="And"&&d.conditions.length>1&&d.conditions[0]&&(d.conditions[0].operator==="Ge"||d.conditions[0].operator==="Gt"||d.conditions[0].operator==="Le"||d.conditions[0].operator==="Lt")){return this.serializeBetweenCondition(d);}else{return this.serializeComplexCondition(d);}}else{return this.serializeSimpleCondition(d);}}});return{serialize:function(d,e){var s=new b(d);return s.serialize(e);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/dataSourceSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator'],function(c,C,a){"use strict";return{serialize:function(d){if(d===d.sina.getAllDataSource()){return{Id:'<All>',Type:'Category'};}var t;switch(d.type){case d.sina.DataSourceType.Category:t='Category';break;case d.sina.DataSourceType.BusinessObject:t='View';break;}return{Id:d.id,Type:t};}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/suggestionParser.js":function(){sinaDefine(['../../core/core','./typeConverter'],function(c,t){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},parse:function(q,d){var s=[];var a;var b;for(var i=0;i<d.length;i++){a=null;b=d[i];a=this.parseSearchTermSuggestion(q,b);s.push(a);}return s;},parseDataSourceSuggestion:function(q,a){var b=this.sina.SuggestionCalculationMode.Data;var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}var f=q.filter.clone();f.setDataSource(d);return this.sina._createDataSourceSuggestion({calculationMode:b,dataSource:d,label:a.SearchTermsHighlighted});},parseSearchTermSuggestion:function(q,a){var f=q.filter.clone();f.setSearchTerm(a.term);return this.sina._createSearchTermSuggestion({searchTerm:a.term,calculationMode:this.sina.SuggestionCalculationMode.Data,filter:f,label:a.term});},parseSearchTermAndDataSourceSuggestion:function(q,a){var b=this.parseCalculationMode(a.Type);var f=q.filter.clone();f.setSearchTerm(a.SearchTerms);var d=this.sina.getDataSource(a.FromDataSource);if(!d){return null;}f.setDataSource(d);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.SearchTerms,dataSource:d,calculationMode:b,filter:f,label:a.SearchTermsHighlighted});},parseCalculationMode:function(s){switch(s){case'H':return this.sina.SuggestionCalculationMode.History;case'A':case'M':return this.sina.SuggestionCalculationMode.Data;}},_getParentCell:function(a){var p={};p=a;p.FromDataSource="<All>";p.FromDataSourceAttribute="";p.Type="A";return p;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/suggestionTermSplitter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){if(!s.searchTerm){return;}var t;var b=[];var d=s.searchTerm.split(' ');for(var k=0;k<d.length;k++){t=d[k];t=t.trim();b.push({term:t,regExp:new RegExp(this.escapeRegExp(t),'i')});}for(var i=0;i<a.length;++i){var e=a[i];var n=[];for(var j=0;j<b.length;++j){var f=b[j];if(!f.regExp.test(e.filter.searchTerm)){n.push(f.term);}}var p=[];var g=n.join(' ');for(var l=0;l<n.length;l++){t=n[l];p.push('<b>'+t+'</b>');}p=p.join(' ');e.label=p+' '+e.label;e.filter.searchTerm=e.searchTerm=g+' '+e.filter.searchTerm;this.concatenate(s,e.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/hana_odata/typeConverter.js":function(){sinaDefine(['../../core/core','../../sina/util','../../sina/AttributeType'],function(c,s,A){"use strict";return{sina2Odata:function(a,v,b){switch(a){case A.Double:return v.toString();case A.Integer:return v.toString();case A.String:return this.sina2OdataString(v,b);case A.ImageUrl:case A.ImageBlob:return v;case A.GeoJson:return v;case A.Date:return this.sina2OdataDate(v);case A.Time:return this.sina2OdataTime(v);case A.Timestamp:return this.sina2OdataTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},sina2OdataString:function(v,a){return s.convertOperator2Wildcards(v,a.operator);},odata2Sina:function(a,v){switch(a){case A.Double:if(!v){return 0.000;}return parseFloat(v);case A.Integer:if(!v){return 0;}return parseInt(v,10);case A.String:if(!v){return'';}return v;case A.ImageUrl:case A.ImageBlob:if(!v){return'';}return v;case A.GeoJson:if(!v){return{};}return v;case A.Date:if(!v){return'1970-01-01';}return this.odata2SinaDate(v);case A.Time:if(!v){return'00:00:00';}return this.odata2SinaTime(v);case A.Timestamp:if(!v){return'1970-01-01T00:00:00.0000000Z';}return this.odata2SinaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},odata2SinaTimestamp:function(v){v=v.trim();var y,m,d,h,a,b;y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(5,7),10);d=parseInt(v.slice(8,10),10);h=parseInt(v.slice(11,13),10);a=parseInt(v.slice(14,16),10);b=parseInt(v.slice(17,19),10);return new Date(Date.UTC(y,m-1,d,h,a,b));},sina2OdataTimestamp:function(v){var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var d=v.getUTCDate();var h=v.getUTCHours();var a=v.getUTCMinutes();var b=v.getUTCSeconds();var r=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+'T'+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'Z';return r;},odata2SinaTime:function(v){v=v.trim();return v;},sina2OdataTime:function(v){return v;},odata2SinaDate:function(v){v=v.trim();return v.slice(0,4)+'/'+v.slice(5,7)+'/'+v.slice(8,10);},sina2OdataDate:function(v){return v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/FacetParser.js":function(){sinaDefine(['../../core/core','./pivotTableParser','../../sina/SearchQuery','./typeConverter'],function(c,p,S,t){"use strict";return c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;},parse:function(q,d){var f=[];if(!d.ResultsetFacets||!d.ResultsetFacets.Elements){return[];}for(var i=0;i<d.ResultsetFacets.Elements.length;i++){var a=d.ResultsetFacets.Elements[i];var b=a.Metadata.Cube.ObjectName;if(b==='$$DataSources$$'){f.push(this.parseDataSourceFacet(q,a));}else{if(q.filter.dataSource.type===q.sina.DataSourceType.Category){continue;}f.push(this.parseChartFacet(q,a));}}return c.Promise.all(f);},parseDataSourceFacet:function(q,f){var d=q;if(q instanceof S){d=this.sina.createDataSourceQuery({dataSource:q.filter.dataSource,filter:q.filter.clone()});}var a=p.parse(f.ResultSet);var b=[];for(var i=0;i<a.cells.length;i++){var e=a.cells[i];var g=this.sina.getDataSource(e.$$DataSource$$[0].Value);if(!g){g=this.sina._createDataSource({type:this.sina.DataSourceType.Category,id:e.$$DataSource$$[0].Value,label:e.$$DataSource$$[0].ValueFormatted});}b.push(this.sina._createDataSourceResultSetItem({dataSource:g,dimensionValueFormatted:e.$$DataSource$$[0].ValueFormatted,measureValue:e.Value,measureValueFormatted:e.ValueFormatted}));}var r=this.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:b,query:d});if(q instanceof S){return d._setResultSet(r);}return r;},createAttributeFilterCondition:function(a,m,b){switch(b.$$AttributeValue$$.length){case 2:return this.sina.createSimpleCondition({attribute:a,value:t.ina2Sina(m.type,b.$$AttributeValue$$[0].Value),attributeLabel:m.label,valueLabel:b.$$AttributeValue$$[0].ValueFormatted});case 3:var d=this.sina.createComplexCondition({attributeLabel:m.label,valueLabel:b.$$AttributeValue$$[0].ValueFormatted,operator:this.sina.LogicalOperator.And});var e=[];if(b.$$AttributeValue$$[1].Value){e.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Ge,value:t.ina2Sina(m.type,b.$$AttributeValue$$[1].Value)}));}if(b.$$AttributeValue$$[2].Value){e.push(this.sina.createSimpleCondition({attribute:a,operator:this.sina.ComparisonOperator.Le,value:t.ina2Sina(m.type,b.$$AttributeValue$$[2].Value)}));}d.conditions=e;return d;default:throw new c.Exception('parse error facets');}},parseChartFacet:function(q,f){var d=this.sina.getDataSource(f.Metadata.Cube.DataSource.ObjectName);var a=f.Metadata.Cube.ObjectName;var m=d.getAttributeMetadata(a);var b=q;if(q instanceof S){var e=q.filter.clone();e.setDataSource(d);e.setRootCondition(q.filter.rootCondition.clone());b=this.sina.createChartQuery({filter:e,dimension:f.Metadata.Cube.ObjectName});}var g=p.parse(f.ResultSet);var h=[];for(var i=0;i<g.cells.length;i++){var j=g.cells[i];h.push(this.sina._createChartResultSetItem({filterCondition:this.createAttributeFilterCondition(a,m,j),dimensionValueFormatted:j.$$AttributeValue$$[0].ValueFormatted||j.$$AttributeValue$$[0].Value,measureValue:j.Value,measureValueFormatted:j.ValueFormatted}));}var r=this.sina._createChartResultSet({title:m.label,items:h,query:b});if(q instanceof S){return b._setResultSet(r);}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/ItemParser.js":function(){sinaDefine(['../../core/core','../../core/util','./pivotTableParser','./typeConverter','../tools/fiori/FioriIntentsResolver','../../sina/NavigationTarget'],function(c,u,p,t,I,N){"use strict";return c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;this.intentsResolver=this.sina._createFioriIntentsResolver();},parse:function(s,d){var a=this.parseTotalCount(d);d=p.parse(d);if(d.axes.length===0){return Promise.resolve({totalCount:0,items:[]});}var b=d.axes[0];var e=[];for(var i=0;i<b.length;++i){var f=b[i];this.provider.metadataParser.parseSearchRequestMetadata(f);var g=this.parseItem(f);e.push(g);}return Promise.all(e).then(function(h){return{totalCount:a,items:h};}.bind(this));},parseTotalCount:function(d){if(d.ItemLists&&d.ItemLists[0]&&d.ItemLists[0].TotalCount){return d.ItemLists[0].TotalCount.Value;}return 0;},parseItem:function(a){var b=[];var d=[];var s=[];var e=this.sina.getDataSource(a.$$DataSourceMetaData$$[0].ObjectName);for(var m=0;m<a.$$ResultItemAttributes$$.length;++m){var f=a.$$ResultItemAttributes$$[m];var g=e.getAttributeMetadata(f.Name);var h=this.sina._createSearchResultSetItemAttribute({id:f.Name,label:e.getAttributeMetadata(f.Name).label,value:t.ina2Sina(g.type,f.Value),valueFormatted:f.ValueFormatted||f.Value,valueHighlighted:f.ValueFormatted||f.Value,isHighlighted:false,metadata:g});if(g.usage.Title){b.push(h);}if(g.usage.Detail){d.push(h);}for(var i=0;i<a.$$AttributeMetadata$$.length;i++){var j=a.$$AttributeMetadata$$[i];if(j.Name==f.Name){if(j.SemanticObjectType&&j.SemanticObjectType.length>0){s.push({name:j.SemanticObjectType,value:h.value,type:h.metadata.type});}break;}}}b.sort(function(x,y){return x.metadata.usage.Title.displayOrder-y.metadata.usage.Title.displayOrder;});d.sort(function(x,y){return x.metadata.usage.Detail.displayOrder-y.metadata.usage.Detail.displayOrder;});this.parseWhyFound(e,b,d,a);var l;for(var k=0;k<a.$$RelatedActions$$.length;++k){var r=a.$$RelatedActions$$[k];if(r.Type==="GeneralUri"||r.Type==="SAPNavigation"){var n=r.Description;var o=encodeURI(r.Uri);l=this.sina._createNavigationTarget({label:n,targetUrl:o});}}var q=a.$$DataSourceMetaData$$[0].SemanticObjectType;var v=a.$$DataSourceMetaData$$[0].SystemId;var w=a.$$DataSourceMetaData$$[0].Client;return this.intentsResolver.resolveIntents({semanticObjectType:q,semanticObjectTypeAttributes:s,systemId:v,client:w,fallbackDefaultNavigationTarget:l}).then(function(x){var y=x&&x.defaultNavigationTarget;var z=x&&x.navigationTargets;var A=this.sina._createSearchResultSetItem({dataSource:e,titleAttributes:b,titleDescriptionAttributes:[],detailAttributes:d,defaultNavigationTarget:y,navigationTargets:z});return A;}.bind(this));},parseWhyFound:function(d,a,b,e){var i,w,f,j,g;for(i=0;i<e.$$WhyFound$$.length;i++){w=e.$$WhyFound$$[i];f=this.getResponseAttributeId(d,w.Name);for(j=0;j<a.length;++j){g=a[j];if(f===g.id){w.matched=true;g.valueHighlighted=w.Value;g.isHighlighted=true;break;}}for(j=0;j<b.length;++j){g=b[j];if(f===g.id){w.matched=true;g.valueHighlighted=w.Value;g.isHighlighted=true;break;}}}for(i=0;i<e.$$WhyFound$$.length;i++){w=e.$$WhyFound$$[i];if(w.matched){continue;}f=this.getResponseAttributeId(d,w.Name);var m=d.getAttributeMetadata(f);if(!m){throw new c.Exception('metadata misssing for '+f);}g=this.sina._createSearchResultSetItemAttribute({id:m.id,label:m.label,value:null,valueFormatted:u.filterString(w.Value,['<b>','</b>']),valueHighlighted:w.Value,isHighlighted:true,metadata:m});b.push(g);}},getResponseAttributeId:function(d,r){var a=this.provider.getInternalMetadataAttribute(d,r);if(!a){return r;}var b=this.provider.getInternalMetadataAttribute(d,a.correspondingSearchAttributeName);if(!b){return r;}return b.Name;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/MetadataParser.js":function(){sinaDefine(['../../core/core','./pivotTableParser','./typeConverter'],function(c,p,t){"use strict";return c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;},normalizeAttributeMetadata:function(a){a.IsKey=a.isKey;},parseRequestAttributes:function(d,a){var b=a.Cube.Dimensions;var f=[];for(var i=0;i<b.length;++i){var e=b[i];if(e.Name.slice(0,2)==='$$'){continue;}var g=e.Attributes[0];this.normalizeAttributeMetadata(g);f.push(g);}this.provider.fillInternalMetadata(d,'metadataRequest',f);},parseResponseAttributes:function(d,a){var f=[];var b=a.Cube.Dimensions[0].Attributes;for(var i=0;i<b.length;++i){var e=b[i];if(e.Name.slice(0,2)==='$$'){continue;}this.normalizeAttributeMetadata(e);f.push(e);}this.provider.fillInternalMetadata(d,'metadataRequest',f);},parseMetadataRequestMetadata:function(d,a){var m=this.provider.getInternalMetadataLoadStatus(d);if(m.metadataRequest){return;}this.parseRequestAttributes(d,a);this.parseResponseAttributes(d,a);this.fillPublicMetadataBuffer(d);},parseSearchRequestMetadata:function(i){var d=this.sina.getDataSource(i.$$DataSourceMetaData$$[0].ObjectName);var m=this.provider.getInternalMetadataLoadStatus(d);if(m.searchRequest){return;}this.provider.fillInternalMetadata(d,'searchRequest',i.$$AttributeMetadata$$);this.fillPublicMetadataBuffer(d);this.calculateAttributeDisplayOrder(d,i);},fillPublicMetadataBuffer:function(d){d.attributesMetadata=[];d.attributeMetadataMap={};var a=this.provider.getInternalMetadataAttributes(d);for(var i=0;i<a.length;++i){var b=a[i];var e=this._parseAttributeTypeAndFormat(b);var f=this.sina._createAttributeMetadata({type:e.type,format:e.format,id:b.Name,label:b.Description,isSortable:this._parseIsSortable(b),isKey:b.IsKey,matchingStrategy:this._parseMatchingStrategy(b),usage:this._parseUsage(b)});d.attributesMetadata.push(f);d.attributeMetadataMap[b.Name]=f;}d._configure();},calculateAttributeDisplayOrder:function(d,a){var b,e,i;var f=[];var g=[];var h=[];var k=[];for(var j=0;j<a.$$ResultItemAttributes$$.length;++j){var l=a.$$ResultItemAttributes$$[j];var m=this.provider.getInternalMetadataAttribute(d,l.Name);if(m.presentationUsage.indexOf('Title')>=0||m.IsTitle){f.push(l.Name);}if(m.presentationUsage.indexOf('Summary')>=0||m.presentationUsage.indexOf('Image')>=0||m.presentationUsage.indexOf('Thumbnail')>=0){g.push(l.Name);}else if(m.presentationUsage.indexOf('Detail')>=0){h.push(l.Name);}}for(i=0;i<f.length;++i){b=f[i];e=d.getAttributeMetadata(b);e.usage.Title.displayOrder=i;}k.push.apply(k,g);k.push.apply(k,h);for(i=0;i<k.length;++i){b=k[i];e=d.getAttributeMetadata(b);e.usage.Detail.displayOrder=i;}},_parseIsSortable:function(a){if(typeof a.IsSortable==='undefined'){return false;}return a.IsSortable;},_parseMatchingStrategy:function(a){if(a.hasFulltextIndex){return this.sina.MatchingStrategy.Text;}else{return this.sina.MatchingStrategy.Exact;}},_parseUsage:function(a){var u={};if(a.presentationUsage.indexOf('Title')>=0||a.IsTitle){u.Title={displayOrder:0};}if(a.presentationUsage.indexOf('Summary')>=0||a.presentationUsage.indexOf('Image')>=0||a.presentationUsage.indexOf('Thumbnail')>=0||a.presentationUsage.indexOf('Detail')>=0){u.Detail={displayOrder:0};}if(a.accessUsage.indexOf('AutoFacet')>=0){u.Facet={displayOrder:0};}if(a.accessUsage.indexOf('AdvancedSearch')>=0){u.AdvancedSearch={displayOrder:0};}return u;},_parseAttributeTypeAndFormat:function(a){for(var i=0;i<a.presentationUsage.length;i++){var b=a.presentationUsage[i];switch(b){case'Summary':continue;case'Detail':continue;case'Title':continue;case'Hidden':continue;case'FactSheet':continue;case'Thumbnail':case'Image':return{type:this.sina.AttributeType.ImageUrl};case'Text':return{type:this.sina.AttributeType.String,format:this.sina.AttributeFormatType.Longtext};default:throw new c.Exception('Unknown presentation usage '+b);}}switch(a.DataType){case'Integer':case'Long':return{type:this.sina.AttributeType.Integer};case'Double':return{type:this.sina.AttributeType.Double};case'String':return{type:this.sina.AttributeType.String};case'Date':return{type:this.sina.AttributeType.Date};case'Time':return{type:this.sina.AttributeType.Time};case'Timestamp':return{type:this.sina.AttributeType.Timestamp};case'GeoJson':return{type:this.sina.AttributeType.GeoJson};default:throw new c.Exception('Unknown data type '+a.DataType);}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','../../core/lang','./ajax','./ajaxTemplates','./pivotTableParser','./conditionSerializer','./dataSourceSerializer','./FacetParser','./ItemParser','./suggestionParser','./suggestionTermSplitter','./labelCalculation','./UserEventLogger','./MetadataParser'],function(c,u,l,a,b,p,d,e,F,I,s,f,g,U,M){"use strict";return c.defineClass({id:'inav2',_initAsync:function(h){this.urlPrefix='/sap/es/ina';this.getServerInfoUrl=this.urlPrefix+'/GetServerInfo';this.getResponseUrl=this.urlPrefix+'/GetResponse';this.sina=h.sina;this.ajaxClient=a.createAjaxClient();this.metadataLoadPromises={};this.internalMetadata={};this.labelCalculator=g.createLabelCalculator();this.userEventLogger=new U(this);this.metadataParser=new M(this);this.itemParser=new I(this);this.facetParser=new F(this);this.executeSearchQuery=this.addMetadataLoadDecorator(this.executeSearchQuery);this.executeChartQuery=this.addMetadataLoadDecorator(this.executeChartQuery);this.executeSuggestionQuery=this.addMetadataLoadDecorator(this.executeSuggestionQuery);this.sessionId=c.generateGuid();return this.loadServerInfo().then(function(i){this.serverInfo=i;this.userEventLogger.delayedInit();if(!this.supports('Search')){return Promise.reject(new c.Exception('Enterprise Search is not active'));}return this.loadBusinessObjectDataSources();}.bind(this)).then(function(){return{capabilities:this.sina._createCapabilities({fuzzy:this.supports('Search','OptionFuzzy')})};}.bind(this));},addMetadataLoadDecorator:function(h){return function(){var i=arguments;var q=arguments[0];var j=q.filter.dataSource;return Promise.resolve().then(function(){return this.loadMetadata(j);}.bind(this)).then(function(){return h.apply(this,i);}.bind(this));}.bind(this);},loadMetadata:function(h){if(h.type===this.sina.DataSourceType.Category){return c.Promise.resolve();}var i=this.metadataLoadPromises[h.id];if(i){return i;}b.loadDataSourceMetadataRequest.DataSource.ObjectName=h.id;this.addLanguagePreferences(b.loadDataSourceMetadataRequest);i=this.ajaxClient.postJson(this.getResponseUrl,b.loadDataSourceMetadataRequest).then(function(r){this.metadataParser.parseMetadataRequestMetadata(h,r.data);}.bind(this));this.metadataLoadPromises[h.id]=i;return i;},supports:function(h,k){for(var i=0;i<this.serverInfo.Services.length;++i){var m=this.serverInfo.Services[i];if(m.Service==h){if(!k){return true;}for(var j=0;j<m.Capabilities.length;++j){var n=m.Capabilities[j];if(n.Capability===k){return true;}}}}return false;},loadServerInfo:function(){return this.ajaxClient.getJson(this.getServerInfoUrl).then(function(r){return r.data;}.bind(this));},loadBusinessObjectDataSources:function(){var t=this;t.addLanguagePreferences(b.loadDataSourcesRequest);if(t.supports('Search','PluralDescriptionForDataSource')){b.loadDataSourcesRequest.Search.NamedValues.push({AttributeName:"DescriptionPlural",Name:"DescriptionPlural"});}return t.ajaxClient.postJson(t.getResponseUrl,b.loadDataSourcesRequest).then(function(r){t._processDataSourcesResponse(r,false);},function(h){var i=t.serverInfo.ServerInfo.SystemId+t.serverInfo.ServerInfo.Client+"~ESH_CONNECTOR~";b.fallbackLoadDataSourcesRequest.DataSource.ObjectName=i;return t.ajaxClient.postJson(t.getResponseUrl,b.fallbackLoadDataSourcesRequest).then(function(r){t._processDataSourcesResponse(r,true);});});},_processDataSourcesResponse:function(r,h){var j=p.parse(r.data);var k=j.axes[0];for(var i=0;i<k.length;++i){var m=k[i];var n='';var o='';var q='';if(!h){if(c.isObject(m.Description)){n=m.Description.Value;}else{n=m.Description;}if(c.isObject(m.DescriptionPlural)){o=m.DescriptionPlural.Value;}else{o=m.DescriptionPlural;}if(c.isObject(m.ObjectName)){q=m.ObjectName.Value;}else{q=m.ObjectName;}}else{m.$$ResultItemAttributes$$.forEach(function(v){if(v.Name==="DESCRIPTION"){n=v.Value;}if(v.Name==="DESCRIPTION_PLURAL"){o=v.Value;}if(v.Name==="OBJECT_NAME"){q=v.Value;}});}if(!n){n=q;}if(!o){o=n;}var t=this.sina._createDataSource({id:q,label:n,labelPlural:o,type:this.sina.DataSourceType.BusinessObject,attributesMetadata:[{id:'dummy'}]});this.labelCalculator.calculateLabel(t);}},getInternalMetadataAttributes:function(h){var i=[];var j=this.internalMetadata[h.id];if(!j){return i;}for(var k in j.data){i.push(j.data[k]);}return i;},getInternalMetadataAttribute:function(h,i){return this.internalMetadata[h.id].data[i];},getInternalMetadataLoadStatus:function(h){var i=this.internalMetadata[h.id];if(!i){return{};}return i.loadStatus;},fillInternalMetadata:function(h,j,k){var m=this.internalMetadata[h.id];if(!m){m={loadStatus:{},data:{}};this.internalMetadata[h.id]=m;}for(var i=0;i<k.length;++i){var n=k[i];var o=m.data[n.Name];if(!o){o={};m.data[n.Name]=o;}for(var q in n){o[q]=n[q];}}m.loadStatus[j]=true;},addTemplateConditions:function(r){r.addCondition({attribute:'$$RenderingTemplatePlatform$$',operator:this.sina.ComparisonOperator.Eq,value:'html'});r.addCondition({attribute:'$$RenderingTemplateTechnology$$',operator:this.sina.ComparisonOperator.Eq,value:'Tempo'});r.addCondition({attribute:'$$RenderingTemplateType$$',operator:this.sina.ComparisonOperator.Eq,value:'ResultItem'});r.addCondition({attribute:'$$RenderingTemplateType$$',operator:this.sina.ComparisonOperator.Eq,value:'ItemDetails'});},assembleOrderBy:function(q){var r=[];for(var i=0;i<q.sortOrder.length;++i){var h=q.sortOrder[i];var j=(h.order===this.sina.SortOrder.Descending)?'DESC':'ASC';r.push({AttributeName:h.id,SortOrder:j});}return r;},executeSearchQuery:function(q){var h,r;var i=q.filter.rootCondition.clone();this.addTemplateConditions(i);b.searchRequest.Search.Filter=d.serialize(q.filter.dataSource,i);b.searchRequest.DataSource=e.serialize(q.filter.dataSource);b.searchRequest.Search.SearchTerms=q.filter.searchTerm;b.searchRequest.Search.Top=q.top;b.searchRequest.Search.Skip=q.skip;b.searchRequest.Options=this.assembleRequestOptions(q);b.searchRequest.Search.OrderBy=this.assembleOrderBy(q);b.searchRequest.Search.Expand=['Grid','Items','TotalCount'];this.addLanguagePreferences(b.searchRequest);this.addSessionId(b.searchRequest);if(q.calculateFacets){b.searchRequest.Search.Expand.push('ResultsetFacets');}return this.ajaxClient.postJson(this.getResponseUrl,b.searchRequest).then(function(j){r=j;return this.itemParser.parse(q,r.data);}.bind(this)).then(function(j){h=j;return this.facetParser.parse(q,r.data);}.bind(this)).then(function(j){return this.sina._createSearchResultSet({id:r.data.ExecutionID,title:'Search Result List',query:q,items:h.items,totalCount:h.totalCount,facets:j});}.bind(this));},executeChartQuery:function(q){var r=q.filter.rootCondition.clone();this.addTemplateConditions(r);b.chartRequest.Search.Filter=d.serialize(q.filter.dataSource,r);b.chartRequest.DataSource=e.serialize(q.filter.dataSource);b.chartRequest.Search.SearchTerms=q.filter.searchTerm;b.chartRequest.Search.Top=1;b.chartRequest.Search.Skip=0;b.chartRequest.Facets.Attributes=[q.dimension];b.chartRequest.Facets.MaxNumberOfReturnValues=q.top;b.chartRequest.Options=this.assembleRequestOptions(q);this.addLanguagePreferences(b.chartRequest);this.addSessionId(b.chartRequest);return this.ajaxClient.postJson(this.getResponseUrl,b.chartRequest).then(function(h){return this.facetParser.parse(q,h.data);}.bind(this)).then(function(h){if(h.length>0){return h[0];}return this.sina._createChartResultSet({title:q.filter.dataSource.getAttributeMetadata(q.dimension).label,items:[],query:q});}.bind(this));},executeSuggestionQuery:function(q){var h=q.filter.searchTerm;var i=f.split(this,h);var r=q.filter.rootCondition.clone();if(i.searchTerm){r.addCondition(q.sina.createSimpleCondition({attribute:'$$SearchTerms$$',value:i.searchTerm}));}r.addCondition(q.sina.createSimpleCondition({attribute:'$$SuggestionTerms$$',value:i.suggestionTerm}));b.suggestionRequest.Suggestions2.Filter=d.serialize(q.filter.dataSource,r);b.suggestionRequest.DataSource=e.serialize(q.filter.dataSource);b.suggestionRequest.Options=this.assembleSuggestionOptions(q);if(b.suggestionRequest.Options.length===0){return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:[]});}b.suggestionRequest.Suggestions2.Top=q.top;b.suggestionRequest.Suggestions2.Skip=q.skip;this.addLanguagePreferences(b.suggestionRequest);this.addSessionId(b.suggestionRequest);return this.ajaxClient.postJson(this.getResponseUrl,b.suggestionRequest).then(function(j){var k=s.parse(this,q,j.data);f.concatenate(this,i,k);return this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:k});}.bind(this));},addSessionId:function(r){if(!this.supports('Search','SessionHandling')){delete r.SessionID;delete r.SessionTimestamp;return;}r.SessionID=this.sessionId;r.SessionTimestamp=parseInt(u.generateTimestamp(),10);},addLanguagePreferences:function(r){if(!this.supports('Search','LanguagePreferences')){delete r.LanguagePreferences;return;}r.LanguagePreferences=l.getLanguagePreferences();},assembleSuggestionOptions:function(q){var h={SearchTerm:{Data:'SuggestObjectData',History:'SuggestSearchHistory'},Object:{},DataSource:{Data:'SuggestDataSources'}};if(!this.supports('Suggestions2','ScopeTypes')){delete h.SearchTerm.History;delete h.DataSource.Data;}var o=[];var k=q.types;var m=q.calculationModes;for(var i=0;i<k.length;i++){var n=k[i];for(var j=0;j<m.length;j++){var r=m[j];var v=h[n][r];if(!v){continue;}o.push(v);}}return o;},assembleRequestOptions:function(q){var O=['SynchronousRun'];if(this.decideValueHelp(q)){O.push('ValueHelpMode');}return O;},decideValueHelp:function(q){var h=q.filter.rootCondition.conditions;for(var i=0;i<h.length;i++){if(q.filter._getAttribute(h[i])===q.dimension){return true;}}return false;},getConfigurationAsync:function(){if(!this.supports('PersonalizedSearch','SetUserStatus')){return c.Promise.resolve(this.sina._createConfiguration({personalizedSearch:false,personalizedSearchIsEditable:false}));}return this.ajaxClient.postJson(this.getResponseUrl,b.getConfigurationRequest).then(function(r){var h={personalizedSearch:false,personalizedSearchIsEditable:false};h.personalizedSearch=r.data.Data.PersonalizedSearch.SessionUserActive;switch(r.data.Data.PersonalizedSearch.PersonalizationPolicy){case'Opt-In':h.isPersonalizedSearchEditable=true;break;case'Opt-Out':h.isPersonalizedSearchEditable=true;break;case'Enforced':h.isPersonalizedSearchEditable=false;break;case'Disabled':h.isPersonalizedSearchEditable=false;break;}return this.sina._createConfiguration(h);}.bind(this));},saveConfigurationAsync:function(h){if(!this.supports('PersonalizedSearch','SetUserStatus')){return c.Promise.resolve();}b.saveConfigurationRequest.SearchConfiguration.Data.PersonalizedSearch.SessionUserActive=h.personalizedSearch;return this.ajaxClient.postJson(this.getResponseUrl,b.saveConfigurationRequest);},resetPersonalizedSearchDataAsync:function(){if(!this.supports('PersonalizedSearch','ResetUserData')){return c.Promise.resolve();}return this.ajaxClient.postJson(this.getResponseUrl,b.resetPersonalizedSearchDataRequest);},logUserEvent:function(h){return this.userEventLogger.logUserEvent(h);},getDebugInfo:function(){return'Searchsystem: '+this.serverInfo.ServerInfo.SystemId+' Client: '+this.serverInfo.ServerInfo.Client;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/UserEventLogger.js":function(){sinaDefine(['../../core/core','../../core/util','./ajaxTemplates'],function(c,u,a){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;this.eventLoggingActive=false;this.clickCounterActive=false;this.delayedConsumer=new u.DelayedConsumer({timeDelay:2000,consumer:this.processEvents,consumerContext:this});},delayedInit:function(){this.eventLoggingActive=this.provider.supports('SearchInteractionLogging','SearchInteractionLogging');this.clickCounterActive=this.provider.supports('PersonalizedSearch');},logUserEvent:function(e){e.timeStamp=u.generateTimestamp();if(this.eventLoggingActive&&e.type!=='ITEM_NAVIGATE'){this.delayedConsumer.add(e);}if(this.clickCounterActive&&e.type==='ITEM_NAVIGATE'&&e.sourceUrlArray.length!==0){this.incrementClickCounter(e.sourceUrlArray,e.targetUrl,e.systemAndClient);}},processEvents:function(e){var r={SearchInteractionLogging:{SessionID:this.provider.sessionId,EventList:[]}};for(var i=0;i<e.length;++i){var b=e[i];var d={Type:b.type,Timestamp:b.timeStamp,ParameterList:[]};for(var n in b){if(n==='type'||n==='timeStamp'){continue;}var v=b[n];d.ParameterList.push({Name:n,Value:v});}r.SearchInteractionLogging.EventList.push(d);}return this.provider.ajaxClient.postJson(this.provider.getResponseUrl,r);},incrementClickCounter:function(s,t,b){if(!t){return undefined;}if(t.indexOf("#")===-1){return undefined;}if(!this.provider.supports('PersonalizedSearch','SetUserStatus')){return undefined;}var g=function(H){return H.split("-")[0];};var d=function(H){return H.split("-")[1].split("&")[0];};var e=function(p){var o=p;var q=[];for(var i=0,r=o.length;i<r;i++){var v=o[i];if(v.indexOf("sap-system")!==-1){continue;}var w=v.split("=")[0];var x=v.split("=")[1];q.push({Name:w,Value:x});}return q;};var N=a.incrementClickCounterRequest.SearchConfiguration.ClientEvent.NavigationEventList;var h=s;var f=g(h[0]);N[0].SourceApplication.SemanticObjectType=f;var j=d(h[0]);N[0].SourceApplication.Intent=j;var k=h[1]!==undefined?e(h[1].split("&")):[];N[0].SourceApplication.ParameterList=k;h=t.split("?");var l=g(h[0]).split("#")[1];N[1].TargetApplication.SemanticObjectType=l;var m=d(h[0]);N[1].TargetApplication.Intent=m;var n=h[1]!==undefined?e(h[1].split("&")):[];N[1].TargetApplication.ParameterList=n;var S={"System":b.systemId,"Client":b.client};delete N[1].TargetApplication['System'];delete N[1].TargetApplication['Client'];N[1].TargetApplication=jQuery.extend(N[1].TargetApplication,S);return this.provider.ajaxClient.postJson(this.provider.getResponseUrl,a.incrementClickCounterRequest);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/ajax.js":function(){sinaDefine(['../../core/core','../../core/ajax'],function(c,a){"use strict";var m={};m.Exception=c.Exception.derive({_init:function(d){c.Exception.prototype._init.apply(this,[d]);}});var p=function(d){try{var f=JSON.parse(d.responseText);var g=f.Error.Code+': '+f.Error.Message;var h=[];if(f.ErrorDetails){for(var i=0;i<f.ErrorDetails.length;++i){var k=f.ErrorDetails[i];h.push(k.Code+': '+k.Message);}}if(f.Messages){for(var j=0;j<f.Messages.length;++j){var l=f.Messages[j];h.push(l.Number+': '+l.Text+' ('+l.Type+')');}}h=h.join('\n');return c.Promise.reject(new m.Exception({message:g,description:h,previous:d}));}catch(e){return c.Promise.reject(d);}};var b=function(o){return function(){return o.apply(this,arguments).then(function(r){return r;}.bind(this),function(e){if(!(e instanceof a.Exception)){return c.Promise.reject(e);}return p(e);}.bind(this));};};m.createAjaxClient=function(){var d=new a.Client({csrf:true,csrfByPassCache:true});d.postJson=b(d.postJson);d.getJson=b(d.getJson);d.mergeJson=b(d.mergeJson);return d;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/ajaxTemplates.js":function(){sinaDefine([],function(){"use strict";var m={};m.loadDataSourcesRequest={"DataSource":{"ObjectName":"$$DataSources$$","PackageName":"ABAP"},"Options":["SynchronousRun"],"Search":{"Top":1000,"Skip":0,"OrderBy":[{"AttributeName":"Description","SortOrder":"ASC"},{"AttributeName":"ObjectName","SortOrder":"ASC"}],"Expand":["Grid","Items"],"Filter":{"Selection":{"Operator":{"Code":"And","SubSelections":[{"MemberOperand":{"AttributeName":"SupportedService","Comparison":"=","Value":"Search"}},{"MemberOperand":{"AttributeName":"Type","Comparison":"=","Value":"View"}}]}}},"NamedValues":[{"AttributeName":"ObjectName","Name":"ObjectName"},{"AttributeName":"Description","Name":"Description"},{"AttributeName":"Type","Name":"Type"}]},"SearchTerms":"*","ServiceVersion":204};m.fallbackLoadDataSourcesRequest={"DataSource":{"SchemaName":"","PackageName":"ABAP","ObjectName":"","type":"Connector"},"Search":{"Top":1000,"Skip":0,"OrderBy":[{"AttributeName":"DESCRIPTION","SortOrder":"ASC"}],"Expand":["Grid","Items","TotalCount"],"Filter":{},"NamedValues":[{"AttributeName":"$$ResultItemAttributes$$","Name":"$$ResultItemAttributes$$"},{"AttributeName":"$$RelatedActions$$","Name":"$$RelatedActions$$"}],"SearchTerms":"*","SelectedValues":[]},"SearchTerms":"*"};m.searchRequest={"DataSource":{},"Options":["SynchronousRun"],"Search":{"Expand":["Grid","Items","ResultsetFacets","TotalCount"],"Filter":{"Selection":{"Operator":{"Code":"And","SubSelections":[{"MemberOperand":{"AttributeName":"$$RenderingTemplatePlatform$$","Comparison":"=","Value":"html"}},{"MemberOperand":{"AttributeName":"$$RenderingTemplateTechnology$$","Comparison":"=","Value":"Tempo"}},{"MemberOperand":{"AttributeName":"$$RenderingTemplateType$$","Comparison":"=","Value":"ResultItem"}}]}}},"Top":10,"Skip":0,"SearchTerms":"S*","NamedValues":[{"Function":"WhyFound","Name":"$$WhyFound$$"},{"Function":"RelatedActions","Name":"$$RelatedActions$$"},{"AttributeName":"$$RelatedActions.Proxy$$"}]},"ServiceVersion":204};m.chartRequest={"DataSource":{},"Options":["SynchronousRun"],"Search":{"Expand":["Grid","ResultsetFacets","TotalCount"],"Filter":{},"Top":10,"Skip":0,"SearchTerms":"*","NamedValues":[{"Function":"WhyFound","Name":"$$WhyFound$$"},{"AttributeName":"$$RelatedActions$$"},{"AttributeName":"$$RelatedActions.Proxy$$"}],"OrderBy":[]},"ServiceVersion":204,"Facets":{"MaxNumberOfReturnValues":1000,"Attributes":[]}};m.suggestionRequest={"DataSource":{},"Options":["SynchronousRun"],"Suggestions2":{"Expand":["Grid","Items"],"Precalculated":false,"AttributeNames":[]},"ServiceVersion":204};m.getConfigurationRequest={"SearchConfiguration":{"Action":"Get","Data":{"PersonalizedSearch":{}}}};m.saveConfigurationRequest={"SearchConfiguration":{"Action":"Update","Data":{"PersonalizedSearch":{"SessionUserActive":true}}}};m.resetPersonalizedSearchDataRequest={"SearchConfiguration":{"Action":"Update","Data":{"PersonalizedSearch":{"ResetUserData":true}}}};m.incrementClickCounterRequest={"SearchConfiguration":{"Action":"Update","ClientEvent":{"NavigationEventList":[{"SourceApplication":{"SemanticObjectType":"Action","Intent":"search","ParameterList":[{"Name":"searchterm","Value":"*"},{"Name":"datasource","Value":"{\"label\":\"Purchase Order\",\"labelPlural\":\"Purchase Orders\",\"SchemaName\":{\"label\":\"\",\"value\":\"\"},\"PackageName\":{\"label\":\"ABAP\",\"value\":\"ABAP\"},\"ObjectName\":{\"label\":\"CES002~EPM_PO_DEMO~\",\"value\":\"CES002~EPM_PO_DEMO~\"},\"Type\":\"BusinessObject\"}"},{"Name":"top","Value":"10"},{"Name":"filter","Value":"{\"operator\":\"And\",\"label\":\"DefaultRoot\",\"conditions\":[]}"}]}},{"TargetApplication":{"SemanticObjectType":"EPMPurchaseOrder","Intent":"displayFactSheet","ParameterList":[{"Name":"PurchaseOrderInternalId","Value":"3440B5B014B21EE798DDB43D63E56068"}]}}]}}};m.loadDataSourceMetadataRequest={"DataSource":{"ObjectName":"CER002~EPM_EMPLOYEES_DEMO~","PackageName":"ABAP","SchemaName":""},"Options":["SynchronousRun"],"Metadata":{"Context":"Search","Expand":["Cube"]},"ServiceVersion":204};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/conditionSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator','./typeConverter'],function(c,C,a,t){"use strict";var b=c.defineClass({_init:function(d){this.dataSource=d;},convertSinaToInaOperator:function(s){switch(s){case a.Eq:return'=';case a.Lt:return'<';case a.Gt:return'>';case a.Le:return'<=';case a.Ge:return'>=';case a.Co:return'=';case a.Bw:return'=';case a.Ew:return'=';default:throw new c.Exception('unknow comparison operator '+s);}},serializeComplexCondition:function(d){var r={Selection:{Operator:{Code:d.operator,SubSelections:[]}}};var s=d.conditions;for(var i=0;i<s.length;++i){var e=s[i];r.Selection.Operator.SubSelections.push(this.serialize(e));}return r;},serializeSimpleCondition:function(d){if(!d.value){return undefined;}var e=d.attribute;var f;if(e.slice(0,2)==='$$'){f=this.dataSource.sina.AttributeType.String;}else{var m=this.dataSource.getAttributeMetadata(e);f=m.type;}var o='MemberOperand';if(e==='$$SuggestionTerms$$'||e==='$$SearchTerms$$'){o='SearchOperand';}var r={};r[o]={AttributeName:e,Comparison:this.convertSinaToInaOperator(d.operator),Value:t.sina2Ina(f,d.value,{operator:d.operator})};return r;},serialize:function(d){if(d instanceof C){return this.serializeComplexCondition(d);}else{return this.serializeSimpleCondition(d);}}});return{serialize:function(d,e){var s=new b(d);return s.serialize(e);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/dataSourceSerializer.js":function(){sinaDefine(['../../core/core','../../sina/ComplexCondition','../../sina/ComparisonOperator'],function(c,C,a){"use strict";return{serialize:function(d){if(d.id==='All'&&d.type===d.sina.DataSourceType.Category){return{ObjectName:'$$ALL$$',PackageName:'ABAP',SchemaName:'',Type:'Category'};}var t;switch(d.type){case d.sina.DataSourceType.Category:t='Category';break;case d.sina.DataSourceType.BusinessObject:t='Connector';break;}return{ObjectName:d.id,PackageName:'ABAP',SchemaName:'',Type:t};}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/labelCalculation.js":function(){sinaDefine(['../../core/core','../../core/LabelCalculator'],function(c,L){"use strict";var m={};var s=function(i){if(i[6]!=='~'){return{system:'__DUMMY',client:'__DUMMY'};}return{system:i.slice(0,3),client:i.slice(3,6)};};m.createLabelCalculator=function(){return new L({key:function(d){var a=s(d.id);return[d.labelPlural,a.system,a.client];},data:function(d){return{label:d.label,labelPlural:d.labelPlural};},setLabel:function(d,l,a){l[0]=a.label;d.label=l.join(' ');l[0]=a.labelPlural;d.labelPlural=l.join(' ');},setFallbackLabel:function(d,a){d.label=a.label+' duplicate '+d.id;d.labelPlural=d.label;}});};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/pivotTableParser.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var m={};m.ResultSetParser=function(){this._init.apply(this,arguments);};m.ResultSetParser.prototype={_init:function(o){this.resultSet=o.resultSet;},parseNamedValue:function(n){var v;var a;var b;for(var p in n){switch(p){case'Name':a=n[p];break;case'Value':v=n[p];break;default:if(!b){b={};}b[p]=n[p];}}if(b){b.Value=v;return{name:a,value:b};}else{return{name:a,value:v};}},formatItem:function(a){var l;if(a.NamedValues){l=a.NamedValues;}if(!l){return a;}var o={};for(var i=0;i<l.length;++i){var n=l[i];var p=this.parseNamedValue(n);o[p.name]=this.formatItem(p.value);}return o;},formatItems:function(a){var r={};for(var i=0;i<a.length;++i){var b=a[i];var f=this.formatItem(b);c.extend(r,f);}return r;},parse:function(){if(!this.resultSet.Grids||!this.resultSet.Grids[0]||!this.resultSet.Grids[0].Axes){return{cells:[],axes:[]};}this.enhance(this.resultSet);var g=this.resultSet.Grids[0];if(g.Cells.length>0){return this.parseWithCells(g);}else{return this.parseWithoutCells(g);}},parseWithCells:function(g){var r={cells:[]};for(var i=0;i<g.Cells.length;i++){var a=g.Cells[i];var b=[];for(var j=0;j<a.Index.length;j++){var d=a.Index[j];var e=g.Axes[j];var f=this.resolve(e,d);b.push.apply(b,f);}var h=c.extend({},a);delete h.Index;b.push(h);r.cells.push(this.formatItems(b));}return r;},parseWithoutCells:function(g){var r={axes:[]};for(var i=0;i<g.Axes.length;++i){var a=g.Axes[i];var b=[];r.axes.push(b);for(var j=0;j<a.Tuples.length;++j){var d=this.resolve(a,j);b.push(this.formatItems(d));}}return r;},resolve:function(a,b){var d=[];if(a.Tuples.length===0){return d;}var t=a.Tuples[b];for(var i=0;i<t.length;++i){var e=t[i];var f=a.Dimensions[i].ItemList.Items[e];d.push(f);}return d;},enhance:function(r){var a={};for(var i=0;i<r.ItemLists.length;++i){var b=r.ItemLists[i];a[b.Name]=b;}for(var h=0;h<r.Grids.length;++h){var g=r.Grids[h];for(var j=0;j<g.Axes.length;++j){var d=g.Axes[j];for(var k=0;k<d.Dimensions.length;++k){var e=d.Dimensions[k];e.ItemList=a[e.ItemListName];}}}}};m.parse=function(r){var p=new m.ResultSetParser({resultSet:r});return p.parse();};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/test.js":function(){sinaDefine(['./testLabelCalculator','./testConfiguration','./testAjaxClient'],function(){"use strict";});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/testAjaxClient.js":function(){sinaDefine(['../../../core/ajax','../ajaxTemplates'],function(a,b){"use strict";QUnit.test('AjaxClient-1',function(c){var d=c.async();var e=new a.Client({csrf:true});e.getJson('/sap/es/ina/GetServerInfo').then(function(s){e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});QUnit.test('AjaxClient-2',function(c){var d=c.async();var e=new a.Client({csrf:true,csrfFetchRequest:{method:'GET',url:'/sap/es/ina/GetServerInfo',headers:a.Client.prototype.jsonHeaders}});e.postJson('/sap/es/ina/GetResponse',b.loadDataSourcesRequest).then(function(r){c.ok(r.data.ItemLists[0].Items.length>0);d();});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/testConfiguration.js":function(){sinaDefine(['../../../sina/sinaFactory'],function(s){"use strict";QUnit.test('Configuration',function(a){var d=a.async();s.createAsync('../Provider').then(function(b){b.getConfigurationAsync().then(function(c){c.setPersonalizedSearch(false);c.saveAsync().then(function(){c.resetPersonalizedSearchDataAsync().then(function(){a.equal(1,1);d();});});});});});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/qunit/testLabelCalculator.js":function(){sinaDefine(['../LabelCalculator'],function(L){"use strict";var t=function(a,s){var d=[];var l=new L();for(var i=0;i<s.length;++i){var b=s[i];l.calculateLabel(b.dataSource);d.push(b.dataSource);for(var j=0;j<=i;++j){a.equal(b.labels[j],d[j].label,'label comparison');a.equal(b.labelsPlural[j],d[j].labelPlural,'label plural comparison');}}};QUnit.test("LabelCalculator 1",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order'],labelsPlural:['Purchase Orders','Sales Orders']},{dataSource:{id:'CES002~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order','Sales Order CER','Sales Order CES 002','Sales Order CES 003'],labelsPlural:['Purchase Orders','Sales Orders CER','Sales Orders CES 002','Sales Orders CES 003']}]);});QUnit.test("LabelCalculator 2",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003']},{dataSource:{id:'CES003~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES']},{dataSource:{id:'CES003~EPM_SO_DEMO~',label:'Sales Order',labelPlural:'Sales Orders'},labels:['Purchase Order CER 002','Purchase Order CER 003','Purchase Order CES','Sales Order'],labelsPlural:['Purchase Orders CER 002','Purchase Orders CER 003','Purchase Orders CES','Sales Orders']}]);});QUnit.test("LabelCalculator - system and client not sufficient for unique key",function(a){t(a,[{dataSource:{id:'CER002~EPM_PO_DEMO~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order'],labelsPlural:['Purchase Orders']},{dataSource:{id:'CER002~EPM_PO_DEMO_2~',label:'Purchase Order',labelPlural:'Purchase Orders'},labels:['Purchase Order','Purchase Order#1'],labelsPlural:['Purchase Orders','Purchase Orders#1']}]);});QUnit.test("LabelCalculator - category",function(a){t(a,[{dataSource:{id:'EPM_Demo',label:'Procurement',labelPlural:'Procurement'},labels:['Procurement'],labelsPlural:['Procurement']}]);});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/suggestionParser.js":function(){sinaDefine(['../../core/core','./pivotTableParser','./typeConverter'],function(c,p,t){"use strict";var S=c.defineClass({_init:function(a){this.provider=a;this.sina=a.sina;},parseSuggestions:function(q,d){d=p.parse(d);var s=[];var a;var b;for(var i=0;i<d.cells.length;i++){a=null;var e=d.cells[i];if(e.$$Attribute$$!=='$$AllAttributes$$'){continue;}switch(e.$$Term$$.Scope){case'SearchHistory':if(e.$$DataSource$$==='$$AllDataSources$$'){a=this.parseSearchTermSuggestion(q,e);}break;case'ObjectData':if(e.$$DataSource$$==='$$AllDataSources$$'){a=this.parseSearchTermSuggestion(q,e);b=a;}else{a=this.parseSearchTermAndDataSourceSuggestion(q,e);if(a&&a.filter.dataSource!==b.filter.dataSource){b.childSuggestions.push(a);}a=null;}break;case'DataSources':if(e.$$DataSource$$==='$$AllDataSources$$'){a=this.parseDataSourceSuggestion(q,e);}break;}if(a){s.push(a);}}return s;},parseDataSourceSuggestion:function(q,a){var d=this.sina.getDataSource(a.$$Term$$.Value);if(!d){return null;}var f=q.filter.clone();f.setDataSource(d);return this.sina._createDataSourceSuggestion({calculationMode:this.sina.SuggestionCalculationMode.Data,dataSource:d,label:a.$$Term$$.ValueFormatted});},parseSearchTermSuggestion:function(q,a){var b=this.parseCalculationMode(a.$$Term$$.Scope);var f=q.filter.clone();f.setSearchTerm(a.$$Term$$.Value);return this.sina._createSearchTermSuggestion({searchTerm:a.$$Term$$.Value,calculationMode:b,filter:f,label:a.$$Term$$.ValueFormatted});},parseSearchTermAndDataSourceSuggestion:function(q,a){var b=this.parseCalculationMode(a.$$Term$$.Scope);var f=q.filter.clone();f.setSearchTerm(a.$$Term$$.Value);var d=this.sina.getDataSource(a.$$DataSource$$);if(!d){return null;}f.setDataSource(d);return this.sina._createSearchTermAndDataSourceSuggestion({searchTerm:a.$$Term$$.Value,dataSource:d,calculationMode:b,filter:f,label:a.$$Term$$.ValueFormatted});},parseCalculationMode:function(s){switch(s){case'SearchHistory':return this.sina.SuggestionCalculationMode.History;case'ObjectData':return this.sina.SuggestionCalculationMode.Data;}}});return{parse:function(a,s,d){var b=new S(a);return b.parseSuggestions(s,d);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/suggestionTermSplitter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";var S=c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},split:function(t){var s=t.lastIndexOf(' ');if(s<0){return{searchTerm:null,suggestionTerm:t};}var a=t.slice(0,s);a=a.replace(/\s+$/,"");if(a.length===0){return{searchTerm:null,suggestionTerm:t};}var b=t.slice(s);b=b.replace(/^\s+/,"");if(b.length===0){return{searchTerm:null,suggestionTerm:t};}return{searchTerm:a,suggestionTerm:b};},concatenate:function(s,a){if(!s.searchTerm){return;}var t;var b=[];var d=s.searchTerm.split(' ');for(var k=0;k<d.length;k++){t=d[k];t=t.trim();b.push({term:t,regExp:new RegExp(this.escapeRegExp(t),'i')});}for(var i=0;i<a.length;++i){var e=a[i];if(e.suggestionType!==this.sina.SuggestionType.SearchTerm&&e.suggestionType!==this.sina.SuggestionType.SearchTermAndDataSource){continue;}var n=[];for(var j=0;j<b.length;++j){var f=b[j];if(!f.regExp.test(e.filter.searchTerm)){n.push(f.term);}}var p=[];var g=n.join(' ');for(var l=0;l<n.length;l++){t=n[l];p.push('<b>'+t+'</b>');}p=p.join(' ');e.label=p+' '+e.label;e.filter.searchTerm=e.searchTerm=g+' '+e.filter.searchTerm;this.concatenate(s,e.childSuggestions);}},escapeRegExp:function(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}});return{split:function(p,t){var s=new S(p,t);return s.split(t);},concatenate:function(p,s,a){var b=new S(p);return b.concatenate(s,a);}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/inav2/typeConverter.js":function(){sinaDefine(['../../core/core','../../sina/util','../../sina/AttributeType','../../sina/ComparisonOperator'],function(c,s,A,C){"use strict";return{sina2Ina:function(a,v,b){b=b||{};switch(a){case A.Double:return v.toString();case A.Integer:return v.toString();case A.String:return this.sina2InaString(v,b);case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.sina2InaDate(v,b);case A.Time:return this.sina2InaTime(v);case A.Timestamp:return this.sina2InaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},ina2Sina:function(a,v){switch(a){case A.Double:return parseFloat(v);case A.Integer:return parseInt(v,10);case A.String:return v;case A.ImageUrl:return v;case A.ImageBlob:throw new c.Exception('not implemented');case A.GeoJson:return v;case A.Date:return this.ina2SinaDate(v);case A.Time:return this.ina2SinaTime(v);case A.Timestamp:return this.ina2SinaTimestamp(v);default:throw new c.Exception('unknown attribute type '+a);}},ina2SinaTimestamp:function(v){v=v.trim();var y,m,a,h,b,e,f;if(v.indexOf('-')>=0){y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(5,7),10);a=parseInt(v.slice(8,10),10);h=parseInt(v.slice(11,13),10);b=parseInt(v.slice(14,16),10);e=parseInt(v.slice(17,19),10);f=parseInt(v.slice(20,20+6),10);}else{y=parseInt(v.slice(0,4),10);m=parseInt(v.slice(4,6),10);a=parseInt(v.slice(6,8),10);h=parseInt(v.slice(8,10),10);b=parseInt(v.slice(10,12),10);e=parseInt(v.slice(12,14),10);f=parseInt(v.slice(15,15+6),10);}var d=new Date(Date.UTC(y,m-1,a,h,b,e,f/1000));return d;},sina2InaTimestamp:function(v){var y=v.getUTCFullYear();var m=v.getUTCMonth()+1;var d=v.getUTCDate();var h=v.getUTCHours();var a=v.getUTCMinutes();var b=v.getUTCSeconds();var e=v.getUTCMilliseconds()*1000;var r=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+' '+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'.'+this.addLeadingZeros(e.toString(),6);return r;},ina2SinaTime:function(v){v=v.trim();if(v.length===6){return v.slice(0,2)+':'+v.slice(2,4)+':'+v.slice(4,6);}if(v.length===8){return v.slice(0,2)+':'+v.slice(3,5)+':'+v.slice(6,8);}throw new c.Exception('time conversion error '+v);},sina2InaTime:function(v){return v.slice(0,2)+':'+v.slice(3,5)+':'+v.slice(6,8);},ina2SinaDate:function(v){v=v.trim();if(v.length===8){return v.slice(0,4)+'/'+v.slice(4,6)+'/'+v.slice(6,8);}if(v.length===27){return v.slice(0,4)+'/'+v.slice(5,7)+'/'+v.slice(8,10);}throw new c.Exception('date conversion error '+v);},sina2InaDate:function(v,a){var r=v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);if(a.operator===C.Lt||a.operator===C.Le){r+=' 23:59:59.0000000';}else{r+=' 00:00:00.0000000';}return r;},sina2InaString:function(v,a){return s.convertOperator2Wildcards(v,a.operator);},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/FacetMode.js":function(){sinaDefine([],function(){"use strict";return{'tree':'tree','flat':'flat'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/FederationMethod.js":function(){sinaDefine(['./FederationType'],function(F){"use strict";var m={};m.ranking={};m.ranking.sort=function(r){var c=[];for(var j=0;j<r.length;j++){c=c.concat(r[j]);}c.sort(function(a,b){var d=b.score-a.score;return d;});return c;};m.roundRobin={};m.roundRobin.sort=function(r){var s=[];for(var i=0;i<r.length;i++){s=m.roundRobin.mergeMultiResults(s,r[i],i+1);}return s;};m.roundRobin.mergeMultiResults=function(f,s,a){if(a<1){return[];}if(a===1){return s;}var b=f.length;var c=s.length;var r=[];for(var k=0;k<b;k++){r.push(f[k]);}for(var i=0;i<b;i++){if(i>=c){break;}r.splice(a*(i+1)-1,0,s[i]);}if(c>b){r=r.concat(s.slice(b-c));}return r;};m.advancedRoundRobin={};m.advancedRoundRobin.sort=function(c){var d=[];for(var j=0;j<c.length;j++){d=d.concat(c[j]);}var e;var f={};for(var i=0;i<d.length;i++){e=d[i].dataSource.id;if(!f[e]){f[e]=[];}f[e].push(d[i]);}var g=[];var h=0;for(var k in f){var l=f[k][0];e=l.dataSource.id;var s=l.score;g.push({dataSourceId:e,score:s,index:h});h++;}g.sort(function(a,b){var t=b.score-a.score;if(t===0){t=a.index-b.index;}return t;});var n=[];var o=0;for(var r=0;r<d.length;){var p=g[o];var q=f[p.dataSourceId];if(q.length>0){n.push(q.shift());r++;}o=(o+1)%g.length;}return n;};return m;});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/FederationType.js":function(){sinaDefine([],function(){"use strict";return{'ranking':'ranking','round_robin':'roundRobin','advanced_round_robin':'advancedRoundRobin'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/Provider.js":function(){sinaDefine(['../../core/core','../../sina/sinaFactory','./ProviderHelper','./FederationMethod','./FederationType','./FacetMode'],function(c,s,P,F,a,b){"use strict";return c.defineClass({id:'multi',_initAsync:function(p){this.sina=p.sina;this.facetMode=b[p.facetMode]||b['flat'];this.federationType=a[p.federationType]||a['advanced_round_robin'];this.multiSina=[];this.multiDataSourceMap={};this.sina.dataSourceMap[this.sina.allDataSource.id]=this.sina.allDataSource;this.providerHelper=new P(this);this.federationMethod=F;var d=function(e){if(e>=p.subProviders.length){if(this.multiSina.length<1){return c.Promise.reject(new c.Exception('sina creation by trial failed'));}else{return undefined;}}var f=p.subProviders[e];return s.createAsync(f).then(function(g){this.providerHelper.updateProviderId(g);for(var i=0;i<g.dataSources.length;i++){var h=g.dataSources[i];var m=this.providerHelper.calculateMultiDataSourceId(h.id,g.provider.id);this.providerHelper.createMultiDataSource(m,h);this.multiDataSourceMap[m]=h;}this.multiSina.push(g);return d(e+1);}.bind(this),function(){return d(e+1);}.bind(this));}.bind(this);return d(0);},executeSearchQuery:function(q){var t=this;var d;t.searchResultSet=t.sina._createSearchResultSet({title:'Search Multi Result List',query:q,items:[],totalCount:0,facets:[]});t.searchResultSetItemList=[];if(q.filter.dataSource===t.sina.allDataSource){t.searchResultSet.facets.push(t.sina._createDataSourceResultSet({title:q.filter.dataSource.label,items:[],query:q}));var e=[];for(var i=0;i<t.multiSina.length;i++){d=t.multiSina[i].createSearchQuery({calculateFacets:q.calculateFacets,multiSelectFacets:q.multiSelectFacets,dataSource:t.multiSina[i].allDataSource,searchTerm:q.getSearchTerm(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});e.push(d.getResultSetAsync());}return c.Promise.all(e).then(function(r){for(var j=0;j<r.length;j++){var g=r[j];for(var k=0;k<g.items.length;k++){var h=g.items[k];var m=t.providerHelper.calculateMultiDataSourceId(h.dataSource.id,h.sina.provider.id);var l=t.sina.dataSourceMap[m];h.dataSource=l;h.sina=t.sina;}t.searchResultSet.totalCount+=g.totalCount;t.searchResultSetItemList.push(g.items);if(g.facets[0]){if(t.facetMode===b['tree']){var f=t.sina.getDataSource(t.providerHelper.calculateMultiDataSourceId(g.query.filter.dataSource.id,g.sina.provider.id));t.searchResultSet.facets[0].items.push(t.sina._createDataSourceResultSetItem({dataSource:f,dimensionValueFormatted:t.providerHelper.calculateMultiDataSourceLabel(g.query.filter.dataSource.label,g.sina.provider),measureValue:g.totalCount,measureValueFormatted:g.totalCount}));}else{var n=t.providerHelper.updateDataSourceFacets(g.facets);n[0].items.forEach(function(o){t.searchResultSet.facets[0].items.push(o);});}}}t.searchResultSet.items=t.federationMethod[t.federationType].sort(t.searchResultSetItemList);t.searchResultSet.items=t.searchResultSet.items.slice(q.skip,q.top);return t.searchResultSet;});}else{var f=t.multiDataSourceMap[q.filter.dataSource.id];d=f.sina.createSearchQuery({calculateFacets:q.calculateFacets,multiSelectFacets:q.multiSelectFacets,dataSource:f,searchTerm:q.getSearchTerm(),rootCondition:q.getRootCondition(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});return d.getResultSetAsync().then(function(g){t.searchResultSet.items=g.items;t.searchResultSet.totalCount=g.totalCount;for(var i=0;i<t.searchResultSet.items.length;i++){var r=t.searchResultSet.items[i];var h=t.providerHelper.calculateMultiDataSourceId(r.dataSource.id,r.sina.provider.id);t.providerHelper.updateAttributesMetadata(r.dataSource,t.sina.dataSourceMap[h]);r.dataSource=t.sina.dataSourceMap[h];r.sina=t.sina;}var m;if(g.facets.length===1&&g.facets[0].items[0].dataSource){m=g.facets;m[0].title=t.providerHelper.calculateMultiDataSourceLabel(g.facets[0].title,g.facets[0].sina.provider);t.providerHelper.updateDataSourceFacets(m);}else{m=[];for(var k=0;k<g.facets.length;k++){var j=g.facets[k];m.push(t.providerHelper.createMultiChartResultSet(j));}}t.searchResultSet.facets=m;return t.searchResultSet;});}},executeChartQuery:function(q){var t=this;var d=t.multiDataSourceMap[q.filter.dataSource.id];var e=d.sina.createChartQuery({dimension:q.dimension,dataSource:d,searchTerm:q.getSearchTerm(),rootCondition:q.getRootCondition(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});return e.getResultSetAsync().then(function(f){return t.providerHelper.createMultiChartResultSet(f);});},executeSuggestionQuery:function(q){var t=this;var d;if(q.filter.dataSource===t.sina.allDataSource){var e=[];for(var i=0;i<t.multiSina.length;i++){d=t.multiSina[i].createSuggestionQuery({types:q.types,calculationModes:q.calculationModes,dataSource:t.multiSina[i].allDataSource,searchTerm:q.getSearchTerm(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});e.push(d.getResultSetAsync());}return c.Promise.all(e).then(function(r){var m=t.sina._createSuggestionResultSet({title:'Multi Suggestions',query:q,items:[]});for(var j=0;j<r.length;j++){var g=t.providerHelper.updateSuggestionDataSource(r[j]);m.items=t.federationMethod['roundRobin'].mergeMultiResults(m.items,g.items,j+1);}return m;});}else{var f=t.multiDataSourceMap[q.filter.dataSource.id];d=f.sina.createSuggestionQuery({types:q.types,calculationModes:q.calculationModes,dataSource:f,searchTerm:q.getSearchTerm(),top:q.top,skip:q.skip,sortOrder:q.sortOrder});return d.getResultSetAsync().then(function(r){return t.providerHelper.updateSuggestionDataSource(r);});}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/multi/ProviderHelper.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({_init:function(p){this.provider=p;this.sina=p.sina;},calculateMultiDataSourceLabel:function(l,p){if(p.label){var i=p.label||p.id;return l+' - '+i;}else{return l;}},calculateMultiDataSourceId:function(i,a){return a+'_'+i;},updateProviderId:function(a){var i=0;for(;;){if(i!==0){a.provider.id=a.provider.id+"_"+i;}var d=this.findSinaById(a.provider.id);if(d){i++;continue;}else{break;}}},createMultiDataSource:function(i,d){return this.sina._createDataSource({id:i,label:this.calculateMultiDataSourceLabel(d.label,d.sina.provider),labelPlural:this.calculateMultiDataSourceLabel(d.labelPlural,d.sina.provider),type:d.type,hidden:d.hidden,attributesMetadata:d.attributesMetadata});},findSinaById:function(p){for(var i=0;i<this.provider.multiSina.length;i++){var a=this.provider.multiSina[i];if(p===a.provider.id){return a;}}return undefined;},updateAttributesMetadata:function(d,a){a.attributesMetadata=d.attributesMetadata;a.attributeMetadataMap=d.attributeMetadataMap;},updateSuggestionDataSource:function(r){for(var i=0;i<r.items.length;i++){var a=r.items[i];if(a.childSuggestions){for(var j=0;j<a.childSuggestions.length;j++){var b=a.childSuggestions[j];var d=this.calculateMultiDataSourceId(b.dataSource.id,b.sina.provider.id);b.dataSource=this.sina.dataSourceMap[d];b.filter.dataSource=this.sina.dataSourceMap[d];}}if(a.dataSource){var m=this.calculateMultiDataSourceId(a.dataSource.id,a.sina.provider.id);var e=this.createMultiDataSource(m,a.dataSource);a.dataSource=e;a.sina=this.sina;}}return r;},createMultiChartResultSet:function(a){var t=this;var m=t.sina._createChartResultSet({id:a.id,items:[],query:a.query,title:a.title});for(var i=0;i<a.items.length;i++){var b=a.items[i];var d=t.sina.parseConditionFromJson(b.filterCondition.toJson());m.items.push(t.sina._createChartResultSetItem({filterCondition:d,dimensionValueFormatted:b.dimensionValueFormatted,measureValue:b.measureValue,measureValueFormatted:b.measureValueFormatted}));}return m;},updateDataSourceFacets:function(r){for(var j=0;j<r[0].items.length;j++){var f=r[0].items[j];if(f.dataSource){var a=this.calculateMultiDataSourceId(f.dataSource.id,f.sina.provider.id);if(!this.provider.multiDataSourceMap[a]){this.createMultiDataSource(a,f.dataSource);this.provider.multiDataSourceMap[a]=f.dataSource;}f.dataSource=this.sina.dataSourceMap[a];}}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/Provider.js":function(){sinaDefine(['../../core/core','../../core/util','./template','./template2','../../sina/NavigationTarget'],function(c,u,t,a,N){"use strict";return c.defineClass({id:'sample',instanceCounterStr:"0",_initAsync:function(p){var b=this;b.sina=p.sina;b.NavigationTarget=N;this.sina.util.sampleProviderInstanceCounter++;b.instanceCounterStr=""+this.sina.util.sampleProviderInstanceCounter;var d;var f=0;if(document.location.href.indexOf("use=sample1")>0){f=1;}else if(document.location.href.indexOf("use=sample2")>0){f=2;}if(f===1){b.templateProvider=a;}else if(f===2){b.templateProvider=t;}else if(parseInt(b.instanceCounterStr,10)%2===1){b.templateProvider=t;}else{b.templateProvider=a;}d=b.templateProvider(b);d._init(d);var r=c.Promise.resolve({capabilities:this.sina._createCapabilities({fuzzy:false})});return r;},getSuggestionList:function(b){var l=this._stringify(b);var r=new RegExp("\"valueFormatted\"\:\"([^\"/]+?)\",","g");var m=[];l.replace(r,function(){m.push(arguments[1]);});var s=m.toString().split(' ');s=s.toString().split(',');m=m.concat(s);m=m.filter(function(i,p){if(i!==''){return m.indexOf(i)==p;}});return m;},_stringify:function(o){var b=[];var s=JSON.stringify(o,function(k,v){if(typeof v==='object'&&v!==null){if(b.indexOf(v)!==-1){return undefined;}b.push(v);}return v;});b=null;return s;},adjustImageViewing:function(){var b,d,l;try{$(".sapUshellSearchResultListItem-Image").on('mouseenter',function(){b=$(this).clone();$('body').append(b);d=($(window).height()-$(b).outerHeight())*0.33;l=($(window).width()-$(b).outerWidth())*0.33;b.css({position:"absolute",top:d+"px",left:l+"px"}).show();});$(".sapUshellSearchResultListItem-Image").on('mouseleave',function(){b.remove();});}catch(e){}},applyFilters:function(b,s){var d=[];if(!s.filter.rootCondition.conditions.length>0||!s.filter.rootCondition.conditions[0].conditions.length>0){return b;}var e=[];var f=[];for(var g=0;g<s.filter.rootCondition.conditions.length;g++){var l=s.filter.rootCondition.conditions[g].conditions;for(var h=0;h<l.length;h++){e.push([l[h].attribute,l[h].value]);f.push(l[h].attribute);}}var o=false;for(var i=0;i<b.length;i++){var q=b[i];var r=[];for(var j=0;j<e.length;j++){o=false;for(var k=0;k<q.detailAttributes.length;k++){var v=q.detailAttributes[k];if(v.id===e[j][0]&&v.value===e[j][1]){o=true;}}for(var m=0;m<q.titleAttributes.length;m++){var w=q.titleAttributes[m];if(w.id===e[j][0]&&w.value===e[j][1]){o=true;}}e[j][2]=o;r.push(o);}if(r.toString().match(/false/)===null){d.push(q);}else{var x=[];var y=f.filter(function(q,A){return f.indexOf(q)==A;});for(var n=0;n<y.length;n++){o=false;var z=y[n];for(var p=0;p<e.length;p++){if(e[p][0]===z&&e[p][2]===true){o=true;break;}}x.push(o);}if(x.toString().match(/false/)===null){d.push(q);}}}return d;},adjustHighlights:function(b,s){var n=[];var d="";for(var i=0;i<b.length;i++){var e=b[i];var f=true;d="";e.titleHighlighted=this.addHighlight(e.title,s);if(e.titleHighlighted!==e.title){f=false;}for(var j=0;j<e.detailAttributes.length;j++){var g=e.detailAttributes[j];d=g.metadata.type;if(d==="String"||d==="Integer"){g.valueHighlighted=this.addHighlight(g.valueFormatted,s);if(g.valueHighlighted!==g.valueFormatted){f=false;}}}for(var k=0;k<e.titleAttributes.length;k++){var h=e.titleAttributes[k];d=h.metadata.type;if(d==="String"||d==="Integer"){h.valueHighlighted=this.addHighlight(h.valueFormatted,s);if(h.valueHighlighted!==h.valueFormatted){f=false;}}}if(f===false||s==="*"){n.push(e);}}return n;},addHighlight:function(h,s){if(typeof h!='string'||typeof s!='string'){return h;}var p=h.toLowerCase().indexOf(s.toLowerCase());if(p>-1){var b=p+s.length;var n=h.substring(0,p)+'<b>'+h.substring(p,b)+'</b>'+h.substring(b);return n;}else{return h;}},addSuvLinkToSearchResultItem:function(s,b,d){var e=this.sina._createSuvNavTargetResolver();if(!b){b='/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/docs/test.suv';}if(!d){d=['said','aware'];}var f={};f.obj={suvThumbnailAttribute:s,suvTargetMimeTypeAttribute:{value:'application/vnd.sap.universal-viewer+suv'},suvTargetUrlAttribute:{value:b}};e.resolveSuvNavTargets(null,f,d);},augmentDetailAttributes:function(r){for(var i=0;i<r.length;i++){var b=r[i].detailAttributes;for(var j=0;j<b.length;j++){var d=b[j];d=u.addPotentialNavTargetsToAttribute(this.sina,d);}}return r;},executeSearchQuery:function(s){var b=this;b.searchQuery=s;return new c.Promise(function(r,d){var e,f,g;var i=b.templateProvider(b);var h=i.searchResultSetItemArray;h=b.augmentDetailAttributes(h);var j=i.searchResultSetItemArray2;j=b.augmentDetailAttributes(j);var k=h.concat(j);var l=i.searchResultSetItemArray3;b.searchQuery=s;f=s.filter.searchTerm;g=s.filter.dataSource.id;var m=b.generateFacets(s);var n;if(g==="Scientists"||g==="Folklorists"){n=b.adjustHighlights(h,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}else if(g==="Mysterious_Sightings"||g==="Urban_Legends"){n=b.adjustHighlights(j,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}else if(g==="Publications"){n=b.adjustHighlights(l,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}else if(g==="All"){n=b.adjustHighlights(h,f);n=b.applyFilters(n,s);var o=n.length;n=b.adjustHighlights(j,f);n=b.applyFilters(n,s);var p=n.length;m[0].items[0].measureValue=o;m[0].items[0].measureValueFormatted=''+o;m[0].items[1].measureValue=p;m[0].items[1].measureValueFormatted=''+p;n=b.adjustHighlights(k,f);n=b.applyFilters(n,s);e=b.sina._createSearchResultSet({items:n,facets:m,type:"",query:s,title:"",totalCount:n.length});}r(e);});},executeSuggestionQuery:function(q){var b=this;var d=q.filter.searchTerm;var e=this.templateProvider(this);var f=e.searchResultSetItemArray.concat(e.searchResultSetItemArray2).concat(e.searchResultSetItemArray3);var g=this.getSuggestionList(f);var h=g.filter(function(s){var k=new RegExp("^"+d,"gi");return s.match(k);});if(h.length===0){h=g;}var j=[];var S=function(k){var l=b.sina.SuggestionCalculationMode.Data;var m=q.filter.clone();m.setSearchTerm(k);return b.sina._createSearchTermSuggestion({searchTerm:k,calculationMode:l,filter:m,label:k});};for(var i=0;i<h.length;i++){j.push(new S(h[i]));}var r=this.sina._createSuggestionResultSet({title:'Suggestions',query:q,items:j});return new c.Promise(function(k,l){k(r);});},executeChartQuery:function(q){var b=this.generateFacets(q);var w=1;if(q.dimension==="LOCATION"||b.length===1){w=0;}return new c.Promise(function(r,d){r(b[w]);});},getChartResultSetItemsForLocations:function(r){var b=[];var d=this;var l;var e=[];var f,i,j,k,g;for(i=0;i<r.length;i++){g=r[i].detailAttributes;for(j=0;j<g.length;j++){if(g[j].id==="LOCATION"){l=g[j].value;if(e.indexOf(l)===-1){e.push(l);f=d.sina._createChartResultSetItem({filterCondition:d.sina.createSimpleCondition({attribute:"LOCATION",operator:d.sina.ComparisonOperator.Equals,value:l}),dimensionValueFormatted:l,measureValue:1,measureValueFormatted:'1',dataSource:d.searchQuery.filter.dataSource});b.push(f);}else{for(k=0;k<b.length;k++){if(b[k].filterCondition.value===l){b[k].measureValue=b[k].measureValue+1;b[k].measureValueFormatted=''+b[k].measureValue;}}}}}}return b;},getChartResultSetItemsForPublications:function(r){var b=[];var d=this;var l;var e=[];var f,i,j,k,g;for(i=0;i<r.length;i++){g=r[i].detailAttributes;for(j=0;j<g.length;j++){if(g[j].id==="PUBLICATION"){l=g[j].value;if(e.indexOf(l)===-1){e.push(l);f=d.sina._createChartResultSetItem({filterCondition:d.sina.createSimpleCondition({attribute:"PUBLICATION",operator:d.sina.ComparisonOperator.Equals,value:l}),dimensionValueFormatted:l,measureValue:1,measureValueFormatted:'1',dataSource:d.searchQuery.filter.dataSource});b.push(f);}else{for(k=0;k<b.length;k++){if(b[k].filterCondition.value===l){b[k].measureValue=b[k].measureValue+1;b[k].measureValueFormatted=''+b[k].measureValue;}}}}}}return b;},getSientistOrFolkloristFacet:function(s,r){var b=this;var d;var e=[];var f,i,j,k,g,h;var l=[];for(i=0;i<r.length;i++){g=r[i].titleAttributes;if(s.filter.dataSource.id==="Mysterious_Sightings"||s.filter.dataSource.id==="Urban_Legends"||s.filter.dataSource.id==="Publications"){g=r[i].detailAttributes;}for(j=0;j<g.length;j++){if(g[j].id==="SCIENTIST"||g[j].id==="FOLKLORIST"){d=g[j].value;h=g[j].id;if(e.indexOf(d)===-1){e.push(d);f=b.sina._createChartResultSetItem({filterCondition:b.sina.createSimpleCondition({attribute:g[j].id,operator:b.sina.ComparisonOperator.Equals,value:d}),dimensionValueFormatted:d,measureValue:1,measureValueFormatted:'1',dataSource:b.searchQuery.filter.dataSource});l.push(f);}else{for(k=0;k<l.length;k++){if(l[k].filterCondition.value===d){l[k].measureValue=l[k].measureValue+1;l[k].measureValueFormatted=''+l[k].measureValue;}}}}}}return[l,h];},getTopFacetOnly:function(s){var b=this;var d=s.filter.sina.allDataSource;var e=[b.sina._createDataSourceResultSetItem({dataSource:s.filter.sina.dataSources[1],dimensionValueFormatted:d.labelPlural,measureValue:4,measureValueFormatted:'4'}),b.sina._createDataSourceResultSetItem({dataSource:s.filter.sina.dataSources[2],dimensionValueFormatted:d.labelPlural,measureValue:5,measureValueFormatted:'5'}),b.sina._createDataSourceResultSetItem({dataSource:s.filter.sina.dataSources[3],dimensionValueFormatted:d.labelPlural,measureValue:1,measureValueFormatted:'1'})];var f=[b.sina._createDataSourceResultSet({title:s.filter.dataSource.label,titleHighlighted:s.filter.dataSource.label,items:e,query:s})];return f;},generateFacets:function(s){var b=this;if(s.filter.dataSource.id==="All"){return b.getTopFacetOnly(s);}var d=[];var e;var g=this.templateProvider(this);var f=b.sina.createFilter({searchTerm:b.searchQuery.filter.searchTerm,dataSource:b.searchQuery.filter.dataSource,rootCondition:b.searchQuery.filter.rootCondition.clone()});var h=[];var r,i,j;if(s.filter.dataSource.id==="Publications"){r=g.searchResultSetItemArray3;}else if(s.filter.dataSource.id==="Scientists"||s.filter.dataSource.id==="Folklorists"){r=g.searchResultSetItemArray;}else if(s.filter.dataSource.id==="Urban_Legends"||s.filter.dataSource.id==="Mysterious_Sightings"){r=g.searchResultSetItemArray2;}if(s.filter.dataSource.id==="Scientists"||s.filter.dataSource.id==="Mysterious_Sightings"){h=b.getChartResultSetItemsForLocations(r);e=b.sina._createChartResultSet({items:h,query:b.sina.createChartQuery({filter:f,dimension:"LOCATION"}),title:"Locations",type:''});d.push(e);}i=b.getSientistOrFolkloristFacet(s,r);h=i[0];j=i[1];e=b.sina._createChartResultSet({items:h,query:b.sina.createChartQuery({filter:f,dimension:j}),title:j.charAt(0).toUpperCase()+j.slice(1).toLowerCase()+"s",type:''});d.push(e);return d;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template.js":function(){sinaDefine(['./template_metadata','./template_details_folklorists','./template_details_legends','./template_details_publications'],function(t,a,b,c){"use strict";this.template_metadata=t;this.template_details_folklorists=a;this.template_details_legends=b;this.template_details_publications=c;return function(C){var g={};g.metadata=[];g.metadata2=[];g.metadata3=[];g.getMetadataById=function(m,n){var r=null;for(var i=0;i<m.length;i++){if(m[i].id===n){r=m[i];break;}}return r;};g.searchResultSetItemArray=[];g.searchResultSetItemArray2=[];g.searchResultSetItemArray3=[];g.chartResultSetArray=[];var d,e;g._init=function(m){var n=m.metadata;var o=m.metadata2;var p=m.metadata3;C.sina._createDataSource({id:"Folklorists",label:"Folklorist",labelPlural:"Folklorists",type:C.sina.DataSourceType.BusinessObject,attributesMetadata:n});C.sina._createDataSource({id:"Urban_Legends",label:"Urban Legend",labelPlural:"Urban Legends",type:C.sina.DataSourceType.BusinessObject,attributesMetadata:o});C.sina._createDataSource({id:"Publications",label:"Publication",labelPlural:"Publications",type:C.sina.DataSourceType.BusinessObject,attributesMetadata:p});};if(C.sina){g.metadata=t(C).metadata;g.metadata2=t(C).metadata2;g.metadata3=t(C).metadata3;}if(C.searchQuery&&C.searchQuery.filter&&C.searchQuery.filter.dataSource&&C.sina&&C.NavigationTarget&&C.sina.getDataSource("Folklorists")){d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'George Fegrus',valueFormatted:'George Fegrus',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).george;C.addSuvLinkToSearchResultItem(e[10]);g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Shira Chess',valueFormatted:'Shira Chess',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).shira;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Benjamin Radford',valueFormatted:'Benjamin Radford',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).benjamin;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Richard Beardsley',valueFormatted:'Richard Beardsley',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).richard;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Rosalie Hankey',valueFormatted:'Rosalie Hankey',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).rosalie;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Bill Scott',valueFormatted:'Bill Scott',metadata:g.getMetadataById(g.metadata,"FOLKLORIST")})];e=a(C,g).bill;g.searchResultSetItemArray.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Folklorists"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).alligator;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e,defaultNavigationTarget:new C.NavigationTarget({label:'Alligators in the Sewers, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Sewer_alligator',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).slenderman;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Slender Man, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Slender_Man',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).chupacabra;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Chupacabra, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Chupacabra',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).hitchhiker;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Vanishing Hitchhiker, Wikipedia',targetUrl:'https://en.wikipedia.org/wiki/Vanishing_hitchhiker',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).hitchhiker2;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:'Journal Article "The Vanishing Hitchhiker" by Richard K. Beardsley and Rosalie Hankey in the California Folklore Quarterly.',targetUrl:'https://www.jstor.org/stable/1495600',target:'_blank'})}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];e=b(C,g).babytrain;g.searchResultSetItemArray2.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Urban_Legends"),titleAttributes:d,detailAttributes:e,titleDescriptionAttributes:[],defaultNavigationTarget:new C.NavigationTarget({label:"Baby Train, Wikipedia",targetUrl:'https://en.wikipedia.org/wiki/Baby_Train',target:'_blank'})}));var s;var f=[];var h=C.searchQuery.filter.searchTerm;h=h.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var j=h.split(" ");for(var i=0;i<j.length;i++){var k=j[i];if(k.match(/\w/)!==null){f.push(k);}}var l=(document.location.href.indexOf("addFileViewerSuvs=true")>-1)?true:false;d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Sewer Alligator',valueFormatted:'Sewer Alligator',valueHighlighted:'Sewer Alligator',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).alligatorbook;if(l){s="/fileviewer-testdata/test.suv";C.addSuvLinkToSearchResultItem(e[0],s,f);}else{C.addSuvLinkToSearchResultItem(e[0],null,f);}g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Sewer Alligator',titleHighlighted:'',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Slender Man',valueFormatted:'',valueHighlighted:'Slender Man',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).slendermanbook;if(l){s="/fileviewer-testdata/spiegel.suv";C.addSuvLinkToSearchResultItem(e[0],s,f);}else{C.addSuvLinkToSearchResultItem(e[0]);}g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Slender Man',titleHighlighted:'',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Chupacabra',valueFormatted:'',valueHighlighted:'Chupacabra',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).chupacabrabook;if(l){s="/fileviewer-testdata/adminguide.suv";C.addSuvLinkToSearchResultItem(e[0],s,f);}else{C.addSuvLinkToSearchResultItem(e[0]);}g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Chupacabra',titleHighlighted:'',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Vanishing Hitchhiker',valueFormatted:'',valueHighlighted:'Vanishing Hitchhiker',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).hitchhikerbook;C.addSuvLinkToSearchResultItem(e[0]);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Vanishing Hitchhiker',titleHighlighted:'',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'Vanishing Hitchhiker',valueFormatted:'',valueHighlighted:'Vanishing Hitchhiker',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).hitchhiker2book;C.addSuvLinkToSearchResultItem(e[0]);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'Vanishing Hitchhiker',titleHighlighted:'',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));d=[C.sina._createSearchResultSetItemAttribute({id:'CAPTION',value:'The Baby Train',valueFormatted:'',valueHighlighted:'The Baby Train',isHighlighted:false,label:'Caption',metadata:g.getMetadataById(g.metadata3,"PUB")})];e=c(C,g).babytrainbook;C.addSuvLinkToSearchResultItem(e[0]);g.searchResultSetItemArray3.push(C.sina._createSearchResultSetItem({dataSource:C.sina.getDataSource("Publications"),title:'The Baby Train',titleHighlighted:'',titleAttributes:d,titleDescriptionAttributes:[],detailAttributes:e}));}return g;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template2.js":function(){sinaDefine([],function(){"use strict";return function(c){var g={};g.metadata=[];g.metadata2=[];g.getMetadataById=function(l,a){var r=null;for(var i=0;i<l.length;i++){if(l[i].id===a){r=l[i];break;}}return r;};g.searchResultSetItemArray=[];g.searchResultSetItemArray2=[];g.chartResultSetArray=[];var t,d;g._init=function(m){var a=m.metadata;var b=m.metadata2;c.sina._createDataSource({id:"Scientists",label:"Scientist",labelPlural:"Scientists",type:c.sina.DataSourceType.BusinessObject,attributesMetadata:a});c.sina._createDataSource({id:"Mysterious_Sightings",label:"Mysterious Sighting",labelPlural:"Mysterious Sightings",type:c.sina.DataSourceType.BusinessObject,attributesMetadata:b});};if(c.sina){g.metadata=[c.sina._createAttributeMetadata({id:'SCIENTIST',label:'Scientist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX',label:'Sex',type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,hasDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX_DESC',label:'Description for Gender',type:c.sina.AttributeType.String,usage:'detail',isSortable:false,isKey:false,isDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DISCIPLINE',label:'Discipline',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',format:'round',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SALARY',label:'Salary',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'CURRENCY',label:'Currency',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isCurrency:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'HEIGHT',label:'Height',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'UOM_HEIGHT',label:'Unit of Measure for Height Attribute',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isUnitOfMeasure:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PHONE',label:'Phone',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'EMAIL',label:'Email',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];g.metadata2=[c.sina._createAttributeMetadata({id:'CAPTION',label:'Caption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'title',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SCIENTIST',label:'Scientist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'URL',label:'URL',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];}if(c.searchQuery&&c.searchQuery.filter&&c.searchQuery.filter.dataSource&&c.sina&&c.NavigationTarget&&c.sina.getDataSource("Scientists")){t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Hannah White',valueFormatted:'Hannah White',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2800',valueFormatted:'1000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'175',valueFormatted:'175',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Galapagos',valueFormatted:'Galapagos',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'PHONE',valueHighlighted:'',isHighlighted:false,label:'Phone',value:'+1 212 6539539',valueFormatted:'+1 212 6539539',metadata:g.getMetadataById(g.metadata,"PHONE")}),c.sina._createSearchResultSetItemAttribute({id:'EMAIL',valueHighlighted:'',isHighlighted:false,label:'Contact',value:'hannah.white@acme.com',valueFormatted:'hannah.white@acme.com',metadata:g.getMetadataById(g.metadata,"EMAIL")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Hannah White (Field Office, Allagash, Maine)',value:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',valueFormatted:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',defaultNavigationTarget:c.sina._createNavigationTarget({label:'Send Mail',targetUrl:'mailto:hanna.white@acme.com'}),metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Multidisciplinary',valueFormatted:'Multidisciplinary',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♀',valueFormatted:'♀',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Female',valueFormatted:'Female',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_hannah.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_hannah.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Robert Sarmast',valueFormatted:'Robert Sarmast',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3000',valueFormatted:'3000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'188',valueFormatted:'188',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Cyprus',valueFormatted:'Off East Cyprus',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Robert Sarmast (Offices)',value:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',valueFormatted:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Ancient History',valueFormatted:'Ancient History',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_RobertSarmast.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scientist_RobertSarmast.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Zecharia Sitchin',valueFormatted:'Zecharia Sitchin',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3200',valueFormatted:'3200.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'165',valueFormatted:'165',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Zecharia Sitchin (NYU)',value:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',valueFormatted:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Archeology',valueFormatted:'Archeology',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/sitchin.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/sitchin.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Alan F. Alford',valueFormatted:'Alan F. Alford',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2100',valueFormatted:'2100.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'182',valueFormatted:'182',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Alan F. Alford (Eridu Books)',value:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',valueFormatted:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Egyptology',valueFormatted:'Egyptology',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alford.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alford.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Klaus Schmidt',valueFormatted:'Klaus Schmidt',metadata:g.getMetadataById(g.metadata,"SCIENTIST")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'1500',valueFormatted:'1500.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'195',valueFormatted:'195',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Göbekli Tepe',valueFormatted:'Göbekli Tepe, Turkey',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Klaus Schmidt (Institut für Ur- und Frühgeschichte, Erlangen)',value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Prehistory',valueFormatted:'Prehistory',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/kschmidt.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/kschmidt.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];g.searchResultSetItemArray.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Scientists"),titleAttributes:t,titleDescriptionAttributes:[],detailAttributes:d}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'5123',valueFormatted:'5123.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'169',valueFormatted:'169',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... ',valueFormatted:'"I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... I heard the sound of a baby crying... "',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Galapagos',valueFormatted:'Galapagos',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Isabela Island, Ecuador',value:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',valueFormatted:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Hannah White',valueFormatted:'Hannah White',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/galapagos.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/galapagos.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'Alien species pathways to the Galapagos Islands, Ecuador',targetUrl:'https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5597199/',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'4300',valueFormatted:'4300.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'171',valueFormatted:'171',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Cyprus',valueFormatted:'Off East Cyprus',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Robert Sarmast',valueFormatted:'Robert Sarmast',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Atlantis, Off East Cyprus',value:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',valueFormatted:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'The discovery could mean a tourism bonanza for Cyprus once the word gets out',valueFormatted:'"The discovery could mean a tourism bonanza for Cyprus once the word gets out"',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/atlantis.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/atlantis.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'Robert Sarmast on the Hunt for Atlantis',targetUrl:'https://www.youtube.com/watch?v=6f8jzITECRM',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Zecharia Sitchin',valueFormatted:'Zecharia Sitchin',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Stone of the Pregnant Woman (Hajar al-Hibla), Baalbek, Lebanon',value:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',valueFormatted:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'it would be impossible for ancient humans with their limited technology to accomplish such a thing',valueFormatted:'it would be impossible for ancient humans with their limited technology to accomplish such a thing',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/megalith.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/megalith.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'In The News: Baalbek',targetUrl:'http://www.sitchin.com/landplace.htm',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Baalbek',valueFormatted:'Baalbek, Lebanon',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Alan F. Alford',valueFormatted:'Alan F. Alford',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Temple Compex, Baalbek, Lebanon',value:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',valueFormatted:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Was the temple platorm a huge landing site for the aliens who once visited our planet?',valueFormatted:'Was the temple platorm a huge landing site for the aliens who once visited our planet?',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/heliopolis.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/heliopolis.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'The Mystery of the Stones at Baalbek',targetUrl:'http://www.eridu.co.uk/Author/Mysteries_of_the_World/Baalbek/baalbek2.html',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Wycliffe Well',valueFormatted:'Wycliffe Well',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Hannah White',valueFormatted:'Hannah White',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Wycliffe Well, NT, Australia',value:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',valueFormatted:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Numerous people have reported seeing strange lights in the sky while staying a Wycliffe.',valueFormatted:'Numerous people have reported seeing strange lights in the sky while staying a Wycliffe.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Wycliffe_Well.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Wycliffe_Well.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:'Wycliffe Well Australia\'s premier UFO hotspot',targetUrl:'https://www.youtube.com/watch?v=hMDRHqcatyg',target:'_blank'})}));t=[c.sina._createSearchResultSetItemAttribute({id:'CAPTION',valueHighlighted:'',isHighlighted:false,label:'Caption',value:'',valueFormatted:'',metadata:g.getMetadataById(g.metadata2,"CAPTION")})];d=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Göbekli Tepe',valueFormatted:'Göbekli Tepe',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'SCIENTIST',valueHighlighted:'',isHighlighted:false,label:'Scientist',value:'Klaus Schmidt',valueFormatted:'Klaus Schmidt',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Göbekli Tepe, Şanlıurfa',value:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',valueFormatted:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'11,000 year old stone structures that predate stonehenge by 6,000 years - crafted and arranged by prehistoric people who had not yet developed metal tools or even pottery; but no evidence that people resided there.',valueFormatted:'11,000 year old stone structures that predate stonehenge by 6,000 years - crafted and arranged by prehistoric people who had not yet developed metal tools or even pottery; but no evidence that people resided there.',metadata:g.getMetadataById(g.metadata2,"SCIENTIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Goebekli_Tepe_Urfa.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/Goebekli_Tepe_Urfa.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];g.searchResultSetItemArray2.push(c.sina._createSearchResultSetItem({dataSource:c.sina.getDataSource("Mysterious_Sightings"),titleAttributes:t,detailAttributes:d,titleDescriptionAttributes:[],defaultNavigationTarget:new c.NavigationTarget({label:"Gobekli Tepe: The World's First Temple?",targetUrl:'https://www.smithsonianmag.com/history/gobekli-tepe-the-worlds-first-temple-83613665/',target:'_blank'})}));}return g;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_details_folklorists.js":function(){sinaDefine([],function(){"use strict";return function(c,g){var r={};r.george=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2800',valueFormatted:'1000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'175',valueFormatted:'175',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Schaumburg, Illionois',valueFormatted:'Schaumburg, Illionois',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'WEBSITE',valueHighlighted:'',isHighlighted:false,label:'Website',value:'https://www.abebooks.com/Journal-American-Folklore-Society-Vol-368/22552416159/bd',valueFormatted:'https://www.abebooks.com/Journal-American-Folklore-Society-Vol-368/22552416159/bd',metadata:g.getMetadataById(g.metadata,"WEBSITE")}),c.sina._createSearchResultSetItemAttribute({id:'SUMMARY',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'While most legends are based on rumors, embellished half truths or unsubstantiated claims, the legend of \'aligators in the sewers\' can be traced back to historical documentation.',valueFormatted:'While most legends are based on rumors, embellished half truths or unsubstantiated claims, the legend of \'aligators in the sewers\' can be traced back to historical documentation.',metadata:g.getMetadataById(g.metadata,"SUMMARY")}),c.sina._createSearchResultSetItemAttribute({id:'PHONE',valueHighlighted:'',isHighlighted:false,label:'Phone',value:'+1 212 6539539',valueFormatted:'+1 212 6539539',metadata:g.getMetadataById(g.metadata,"PHONE")}),c.sina._createSearchResultSetItemAttribute({id:'EMAIL',valueHighlighted:'',isHighlighted:false,label:'Contact',value:'george.fergus@acme.com',valueFormatted:'george.fergus@acme.com',metadata:g.getMetadataById(g.metadata,"EMAIL")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'George Fergus (Field Office, Schaumburg, Illinois',value:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',valueFormatted:'{ "type": "Point", "coordinates": [-69.040601, 47.082589] }',defaultNavigationTarget:c.sina._createNavigationTarget({label:'Send Mail',targetUrl:'mailto:george.fergus@acme.com'}),metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Alligator  Legends',valueFormatted:'Alligator  Legends',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata,"PUB")})];r.shira=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3000',valueFormatted:'3000.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'188',valueFormatted:'188',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'University of Georgia',valueFormatted:'University of Georgia',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Shira Chess (Offices)',value:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',valueFormatted:'{ "type": "Point", "coordinates": [-118.236036, 34.050492] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Entertainment and Media Studies',valueFormatted:'Entertainment and Media Studies',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♀',valueFormatted:'♀',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Female',valueFormatted:'Female',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_chess.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_chess.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.benjamin=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'3200',valueFormatted:'3200.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'165',valueFormatted:'165',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Center for Inquiry (CFI), Amherst, New York',valueFormatted:'Center for Inquiry (CFI), Amherst, New York',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Center for Inquiry (CFI), Amherst, New York',value:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',valueFormatted:'{ "type": "Point", "coordinates": [-73.995589, 40.730355] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Paranormal Investigations',valueFormatted:'Paranormal Investigations',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_radford.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_radford.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.richard=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'2100',valueFormatted:'2100.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'182',valueFormatted:'182',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Site Location',value:'Cripple Creek, Colorado',valueFormatted:'Cripple Creek, Colorado',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'University of California, Berkeley',value:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',valueFormatted:'{ "type": "Point", "coordinates": [-1.387958, 50.933494] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Anthropologist',valueFormatted:'Anthropologist',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_beardsley.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_beardsley.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.rosalie=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'1500',valueFormatted:'1500.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'195',valueFormatted:'195',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Birthplace',value:'Des Plaines, Illinois',valueFormatted:'Des Plaines, Illinois',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'Tulelake, California',value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Applied Antropology',valueFormatted:'Applied Antropology',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♀',valueFormatted:'♀',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Female',valueFormatted:'Female',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_handkey.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/folklorist_handkey.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];r.bill=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'1500',valueFormatted:'1500.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'195',valueFormatted:'195',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Birthplace',value:'Bundaberg, Australia',valueFormatted:'Bundaberg, Australia',metadata:g.getMetadataById(g.metadata,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'fieldoffice',valueHighlighted:'',isHighlighted:false,label:'A small town north of Sydney',value:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',valueFormatted:'{ "type": "Point", "coordinates": [11.016959, 49.600319] }',metadata:g.getMetadataById(g.metadata,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DISCIPLINE',valueHighlighted:'',isHighlighted:false,label:'Discipline',value:'Author and folklorist',valueFormatted:'Author and folklorist',metadata:g.getMetadataById(g.metadata,"DISCIPLINE")}),c.sina._createSearchResultSetItemAttribute({id:'SEX',valueHighlighted:'',isHighlighted:false,label:'Sex',value:'♂',valueFormatted:'♂',metadata:g.getMetadataById(g.metadata,"SEX"),description:c.sina._createSearchResultSetItemAttribute({id:'SEX_DESC',valueHighlighted:'',isHighlighted:false,label:'Description for Gender',value:'Male',valueFormatted:'Male',metadata:g.getMetadataById(g.metadata,"SEX_DESC")})}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scott.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/scott.jpg',metadata:g.getMetadataById(g.metadata,"PIC")})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_details_legends.js":function(){sinaDefine([],function(){"use strict";return function(c,g){var r={};r.alligator=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'5123',valueFormatted:'5123.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'169',valueFormatted:'169',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems involved in developing the network of utilities beneath Manhattan island, reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',valueFormatted:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems involved in developing the network of utilities beneath Manhattan island, reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'NYC',valueFormatted:'NYC',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'New York City',value:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',valueFormatted:'{ "type": "Point", "coordinates": [-91.132139, -0.828628] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'George Fergus',valueFormatted:'George Fergus',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alligator.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/alligator.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.slenderman=[c.sina._createSearchResultSetItemAttribute({id:'SALARY',valueHighlighted:'',isHighlighted:false,label:'Salary',value:'4300',valueFormatted:'4300.00',metadata:g.getMetadataById(g.metadata,"SALARY"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'CURRENCY',valueHighlighted:'',isHighlighted:false,label:'Currency',value:'Euro',valueFormatted:'€',metadata:g.getMetadataById(g.metadata,"CURRENCY")})}),c.sina._createSearchResultSetItemAttribute({id:'HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Height',value:'171',valueFormatted:'171',metadata:g.getMetadataById(g.metadata,"HEIGHT"),unitOfMeasure:c.sina._createSearchResultSetItemAttribute({id:'UOM_HEIGHT',valueHighlighted:'',isHighlighted:false,label:'Unit of Measure for Height',value:'cm',valueFormatted:'cm',metadata:g.getMetadataById(g.metadata,"UOM_HEIGHT")})}),c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'University of Georgia',valueFormatted:'University of Georgia',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Shira Chess',valueFormatted:'Shira Chess',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'University of Georgia',value:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',valueFormatted:'{ "type": "Point", "coordinates": [35.102514, 34.824097] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',valueFormatted:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/slender_man.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/slender_man.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.chupacabra=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Puerto Rico',valueFormatted:'Puerto Rico',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Benjamin Radford',valueFormatted:'Benjamin Radford',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Chupacabra, sighting, Puerto Rico',value:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',valueFormatted:'{ "type": "Point", "coordinates": [36.199993, 33.999453] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:' The first purported sightings were reported in Puerto Rico. The name comes from the animal\'s reported habit of attacking and drinking the blood of livestock, including goats.',valueFormatted:' The first purported sightings were reported in Puerto Rico. The name comes from the animal\'s reported habit of attacking and drinking the blood of livestock, including goats.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/chupacabra.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/chupacabra.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.hitchhiker=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'University of California, Berkeley',valueFormatted:'University of California, Berkeley',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Rosalie Hankey',valueFormatted:'Rosalie Hankey',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'University of California, Berkeley',value:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',valueFormatted:'{ "type": "Point", "coordinates": [36.204944, 34.006899] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.',valueFormatted:'People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/hitchhiker.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/hitchhiker.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.hitchhiker2=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'Cripple Creek, Colorado',valueFormatted:'Cripple Creek, Colorado',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Richard Beardsley',valueFormatted:'Richard Beardsley',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'Wycliffe Well, NT, Australia',value:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',valueFormatted:'{ "type": "Point", "coordinates": [134.236761, -20.795279] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Public knowledge of the story expanded greatly with the 1981 publication of Jan Harold Brunvand\'s book The Vanishing Hitchhiker. Brunvand suggests that the story can be traced as far back as the 1870s and has "recognizable parallels in Korea, Tsarist Russia, among Chinese-Americans, Mormons, and Ozark mountaineers".',valueFormatted:'Public knowledge of the story expanded greatly with the 1981 publication of Jan Harold Brunvand\'s book The Vanishing Hitchhiker. Brunvand suggests that the story can be traced as far back as the 1870s and has "recognizable parallels in Korea, Tsarist Russia, among Chinese-Americans, Mormons, and Ozark mountaineers".',metadata:g.getMetadataById(g.metadata2,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/vanishing.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/vanishing.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];r.babytrain=[c.sina._createSearchResultSetItemAttribute({id:'LOCATION',valueHighlighted:'',isHighlighted:false,label:'Location',value:'A small town',valueFormatted:'A small town',metadata:g.getMetadataById(g.metadata2,"LOCATION")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Bill Scott',valueFormatted:'Bill Scott',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'sightinglocation',valueHighlighted:'',isHighlighted:false,label:'a little town on the coast, not too far north of Sydney',value:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',valueFormatted:'{ "type": "Point", "coordinates": [38.855842, 37.217718] }',metadata:g.getMetadataById(g.metadata2,"LOC_4326")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'a small town had an unusually high birth rate because a train would pass through the town at 5:00 am and blow its whistle, waking up all the residents. Since it was too late to go back to sleep and too early to get up, couples would find other ways to amuse themselves in bed. This resulted in the mini-baby boom.',valueFormatted:'a small town had an unusually high birth rate because a train would pass through the town at 5:00 am and blow its whistle, waking up all the residents. Since it was too late to go back to sleep and too early to get up, couples would find other ways to amuse themselves in bed. This resulted in the mini-baby boom.',metadata:g.getMetadataById(g.metadata2,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'PIC',valueHighlighted:'',isHighlighted:false,label:'Picture',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/babytrain.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/babytrain.jpg',metadata:g.getMetadataById(g.metadata2,"PIC")})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_details_publications.js":function(){sinaDefine([],function(){"use strict";return function(c,g){var r={};r.alligatorbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Quote',value:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems said aware to be involved in developing the network of utilities beneath Manhattan island, aware of reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',valueFormatted:'Robert Daley\'s "The World Beneath The City" (1959), a history of the problems said aware to be involved in developing the network of utilities beneath Manhattan island, aware of reports that sewer inspectors first saw aligators in 1935, and confirms that their average length was about 2 feet. ',metadata:g.getMetadataById(g.metadata3,"DESC")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'George Fergus',valueFormatted:'George Fergus',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")})];r.slendermanbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Shira Chess',valueFormatted:'Shira Chess',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',valueFormatted:'Slender Man is a fictional character that originated as an Internet meme created by Something Awful forums user Victor Surge in 2009, depicted as a thin, unnaturally tall man with a blank and usually featureless face and wearing a black suit, commonly said to stalk, abduct, or traumatize people, particularly children.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.chupacabrabook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Benjamin Radford',valueFormatted:'Benjamin Radford',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:' The first purported sightings were reported in Puerto Rico. The name comes from the animal\'s reported habit of attacking and drinking the blood of livestock, including goats.',valueFormatted:' The first purported sightings were reported in Puerto Rico. The name comes from the animal\'s reported habit of attacking and drinking the blood of livestock, including goats.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.hitchhikerbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Rosalie Hankey',valueFormatted:'Rosalie Hankey',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.',valueFormatted:'People traveling by vehicle meet with or are accompanied by a hitchhiker who subsequently vanishes without explanation, often from a moving vehicle. The vanishing hitchhiker can also leave some form of information that encourages the motorist to make subsequent contact.',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.hitchhiker2book=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Richard Beardsley',valueFormatted:'Richard Beardsley',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'Public knowledge of the story expanded greatly with the 1981 publication of Jan Harold Brunvand\'s book The Vanishing Hitchhiker. Brunvand suggests that the story can be traced as far back as the 1870s and has "recognizable parallels in Korea, Tsarist Russia, among Chinese-Americans, Mormons, and Ozark mountaineers".',valueFormatted:'Public knowledge of the story expanded greatly with the 1981 publication of Jan Harold Brunvand\'s book The Vanishing Hitchhiker. Brunvand suggests that the story can be traced as far back as the 1870s and has "recognizable parallels in Korea, Tsarist Russia, among Chinese-Americans, Mormons, and Ozark mountaineers".',metadata:g.getMetadataById(g.metadata3,"DESC")})];r.babytrainbook=[c.sina._createSearchResultSetItemAttribute({id:'PUBLICATION',valueHighlighted:'',isHighlighted:false,label:'Publication',value:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',valueFormatted:'/sap/bc/ui5_ui5/ui2/ushell/resources/sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/images/suv_thumbnail.jpg',metadata:g.getMetadataById(g.metadata3,"PUB")}),c.sina._createSearchResultSetItemAttribute({id:'FOLKLORIST',valueHighlighted:'',isHighlighted:false,label:'Folklorist',value:'Bill Scott',valueFormatted:'Bill Scott',metadata:g.getMetadataById(g.metadata3,"FOLKLORIST")}),c.sina._createSearchResultSetItemAttribute({id:'DESC',valueHighlighted:'',isHighlighted:false,label:'Summary',value:'a small town had an unusually high birth rate because a train would pass through the town at 5:00 am and blow its whistle, waking up all the residents. Since it was too late to go back to sleep and too early to get up, couples would find other ways to amuse themselves in bed. This resulted in the mini-baby boom.',valueFormatted:'a small town had an unusually high birth rate because a train would pass through the town at 5:00 am and blow its whistle, waking up all the residents. Since it was too late to go back to sleep and too early to get up, couples would find other ways to amuse themselves in bed. This resulted in the mini-baby boom.',metadata:g.getMetadataById(g.metadata3,"DESC")})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/sample/template_metadata.js":function(){sinaDefine([],function(){"use strict";return function(c){var r={};r.metadata=[c.sina._createAttributeMetadata({id:'FOLKLORIST',label:'Folklorist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'WEBSITE',label:'Website',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0}},isURL:true,isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SUMMARY',label:'Summary',type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0}},isURL:true,isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX',label:'Sex',type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,hasDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SEX_DESC',label:'Description for Gender',type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,isDescription:true,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DISCIPLINE',label:'Discipline',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',format:'round',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'SALARY',label:'Salary',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'CURRENCY',label:'Currency',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isCurrency:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'HEIGHT',label:'Height',type:c.sina.AttributeType.Integer,usage:'detail',isSortable:true,isQuantity:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'UOM_HEIGHT',label:'Unit of Measure for Height Attribute',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isUnitOfMeasure:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PHONE',label:'Phone',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PUB',label:'Publication',type:c.sina.AttributeType.ImageUrl,format:c.sina.AttributeFormatType.DocumentThumbnail,usage:{Title:'Title',AdvancedSearch:{displayOrder:0}},presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'EMAIL',label:'Email',type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];r.metadata2=[c.sina._createAttributeMetadata({id:'CAPTION',label:'Caption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'title',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOCATION',label:'Location',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'LOC_4326',label:'LOC_4326',type:c.sina.AttributeType.GeoJson,usage:{type:'Detail',displayOrder:1},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'FOLKLORIST',label:'Folklorist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Title:'Title',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Descritption',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'PIC',label:'picture',type:c.sina.AttributeType.ImageUrl,usage:'title',presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'URL',label:'URL',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];r.metadata3=[c.sina._createAttributeMetadata({id:'PUB',label:'Publication',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.ImageUrl,format:c.sina.AttributeFormatType.DocumentThumbnail,usage:{Title:'Title',AdvancedSearch:{displayOrder:0}},presentationUsage:'Thumbnail',isSortable:false,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'FOLKLORIST',label:'Folklorist',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,usage:{Detail:'Detail',AdvancedSearch:{displayOrder:0},Facet:{}},isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact}),c.sina._createAttributeMetadata({id:'DESC',label:'Description',dataType:c.sina.AttributeType.String,type:c.sina.AttributeType.String,format:c.sina.AttributeFormatType.LongText,usage:'detail',isSortable:true,isKey:false,matchingStrategy:c.sina.MatchingStrategy.Exact})];return r;};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/cds/CDSAnnotationsParser.js":function(){sinaDefine(['../../../sina/SinaObject'],function(S){"use strict";return S.derive({_init:function(p){this._datasource=p.dataSource;this._cdsAnnotations=p.cdsAnnotations;this._parsedAttributes={};this._knownAttributeGroups={};this._knownAttributeGroupsArray=[];this._knownAttributeGroupsUsages={};this._detailAttributesPrioHigh=[];this._detailAttributesPrioMedium=[];this._detailAttributesIgnorePrio=[];this._unitOfMeasureAttributes={};this._descriptionAttributes={};this._defaultTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextLast;},_setParsedAttribute:function(a,b){this._parsedAttributes[a.toUpperCase()]=b;},_getParsedAttribute:function(a){return this._parsedAttributes[a.toUpperCase()];},_setUnitOfMeasureAttribute:function(a,b){this._unitOfMeasureAttributes[a.toUpperCase()]=b;},_getUnitOfMeasureAttribute:function(a){return this._unitOfMeasureAttributes[a.toUpperCase()];},_setDescriptionAttribute:function(a,b){this._descriptionAttributes[a.toUpperCase()]=b;},_getDescriptionAttribute:function(a){return this._descriptionAttributes[a.toUpperCase()];},_setknownAttributeGroup:function(q,a){this._knownAttributeGroups[q.toUpperCase()]=a;},_getknownAttributeGroup:function(q){return this._knownAttributeGroups[q.toUpperCase()];},_setknownAttributeGroupUsage:function(q,u){this._knownAttributeGroupsUsages[q.toUpperCase()]=u;},_getknownAttributeGroupUsage:function(q){return this._knownAttributeGroupsUsages[q.toUpperCase()];},parseCDSAnnotationsForDataSource:function(){var p={dataSourceIsCdsBased:false,detailAttributesAreSorted:false,titleAttributesAreSorted:false};this._parseDefaultTextArrangement();this._parseAttributeAnnotations(p);this._parseDataSourceAnnotations();return p;},_parseDefaultTextArrangement:function(){try{var d=this._cdsAnnotations.dataSourceAnnotations.UI&&this._cdsAnnotations.dataSourceAnnotations.UI.TEXTARRANGEMENT;if(d){switch(d.toUpperCase()){case"TEXT_FIRST":this._defaultTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextFirst;break;case"TEXT_LAST":this._defaultTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextLast;break;case"TEXT_ONLY":this._defaultTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextOnly;break;case"TEXT_SEPARATE":this._defaultTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextSeparate;break;}}}catch(e){}},_parseAttributeAnnotations:function(p){for(var i=0;i<this._datasource.attributesMetadata.length;i++){var a=this._datasource.attributesMetadata[i];this._setParsedAttribute(a.id,a);var b=this._cdsAnnotations.attributeAnnotations[a.id]||{};if(Object.keys(b).length>0){p.dataSourceIsCdsBased=true;try{if(b.UI!==undefined){this._parseSingleAnnotationOrArray(a,b.UI.IDENTIFICATION,this._parseIdentification);this._parseSingleAnnotationOrArray(a,b.UI.CONNECTEDFIELDS,this._parseConnectedFields);this._parseURLsForDocumentResultItemThumbnail(a,b.UI.IDENTIFICATION,b.SEMANTICS);if(b.UI.MULTILINETEXT!==undefined){a.format=this.sina.AttributeFormatType.MultilineText;}}this._parseSemantics(a,b.SEMANTICS);this._parseDescriptionAttribute(a,b.OBJECTMODEL,b.UI);}catch(e){}}}this._datasource.attributesMetadata=this._datasource.attributesMetadata.concat(this._knownAttributeGroupsArray);this._datasource.attributeMetadataMap=Object.assign(this._datasource.attributeMetadataMap,this._knownAttributeGroups);this._sortAttributes(p);this._cleanUpUnitOfMeasures();this._cleanUpDescriptions();},_parseDataSourceAnnotations:function(){if(Object.keys(this._cdsAnnotations.dataSourceAnnotations).length>0){try{var u=this._cdsAnnotations.dataSourceAnnotations.UI;var h=u&&u.HEADERINFO;var t=h&&h.TITLE;var a,g,b;if(t){a=t.TYPE&&t.TYPE.toUpperCase();if(a=="AS_CONNECTED_FIELDS"){g=t.VALUEQUALIFIER;if(g&&g.trim().length>0){b=this._getknownAttributeGroup(g);if(b){b.usage.Title={displayOrder:1};}}}else if(!a){var c=t.VALUE;if(c){var d=this._getParsedAttribute(c);if(d){d.usage.Title={displayOrder:1};}}}var f=t.URL;if(f){var i=this._getParsedAttribute(f);if(i){i.usage.Navigation={mainNavigation:true};}}}var j=h&&h.DESCRIPTION;if(j){a=j.TYPE;if(a=="AS_CONNECTED_FIELDS"){g=j.VALUEQUALIFIER;if(g&&g.trim().length>0){b=this._getknownAttributeGroup(g);if(b){b.usage.TitleDescription={displayOrder:1};}}}else if(!a){var k=j.VALUE;if(k){var l=this._getParsedAttribute(k);if(l){l.usage.TitleDescription={};}}}}}catch(e){}}},_parseConnectedFields:function(a,c){var q=c.QUALIFIER;if(q){var b=this._getknownAttributeGroup(q);if(!b){var u=this._getknownAttributeGroupUsage(q)||{};b=this.sina._createAttributeGroupMetadata({id:q,label:c.GROUPLABEL||"",template:c.TEMPLATE||"",attributes:[],usage:u});this._setknownAttributeGroup(q,b);this._knownAttributeGroupsArray.push(b);this._datasource.attributeGroupsMetadata.push(b);this._datasource.attributeGroupMetadataMap[q]=b;if(u&&u._Detail){if(u._Detail.importance=="HIGH"){this._detailAttributesPrioHigh.push(b);}else if(u._Detail.importance=="MEDIUM"){this._detailAttributesPrioMedium.push(b);}else{this._detailAttributesIgnorePrio.push(b);}}}else{if(c.GROUPLABEL&&!b.label){b.label=c.GROUPLABEL;}if(c.TEMPLATE&&!b.template){b.template=c.TEMPLATE;}}if(c.NAME){var d=this.sina._createAttributeGroupMembership({group:b,attribute:a,nameInGroup:c.NAME});b.attributes.push(d);a.groups.push(d);}}},_parseAttributePositions:function(a,i){var b=i.IMPORTANCE&&i.IMPORTANCE.toUpperCase();var p=i.POSITION;if(b&&!p){p=Number.MAX_VALUE;}if(p!==undefined){switch(b){case"HIGH":case"MEDIUM":case undefined:p=this._parsePosition(p);var t=i.TYPE&&i.TYPE.toUpperCase();if(t==="AS_CONNECTED_FIELDS"){var q=i.VALUEQUALIFIER;if(q){var c=this._getknownAttributeGroup(q);if(c){c.usage._Detail=c.usage._Detail||{};if(c.usage._Detail.displayOrder==undefined){c.usage._Detail.displayOrder=p;}if(c.usage&&c.usage._Detail){if(b=="HIGH"){this._detailAttributesPrioHigh.push(c);}else if(b=="MEDIUM"){this._detailAttributesPrioMedium.push(c);}else{this._detailAttributesIgnorePrio.push(c);}}}else{var u=this._getknownAttributeGroupUsage(q);if(!u){u={_Detail:{displayOrder:p,importance:b}};this._setknownAttributeGroupUsage(q,u);}}}}else if(!t){a.usage=a.usage||{};a.usage._Detail=a.usage._Detail||{};if(a.usage._Detail.displayOrder===undefined){a.usage._Detail.displayOrder=p;}if(b=="HIGH"){this._detailAttributesPrioHigh.push(a);}else if(b=="MEDIUM"){this._detailAttributesPrioMedium.push(a);}else{this._detailAttributesIgnorePrio.push(a);}}}}},_parseIdentification:function(a,i){this._parseAttributePositions(a,i);},_parseURLsForDocumentResultItemThumbnail:function(a,i,s){var u=i&&i.URL;if(u&&s&&s.IMAGEURL){var b=this._getPropertyFromObject(this._cdsAnnotations.attributeAnnotations,u);if(b){var m=b.SEMANTICS&&b.SEMANTICS.URL&&b.SEMANTICS.URL.MIMETYPE;if(m){var c=this._getPropertyFromObject(this._datasource.attributeMetadataMap,u);var d=this._getPropertyFromObject(this._datasource.attributeMetadataMap,m);a.suvUrlAttribute=c;a.suvMimeTypeAttribute=d;a.format=this.sina.AttributeFormatType.DocumentThumbnail;}}}},_parseSemantics:function(a,s){if(s){if(s.CONTACT&&s.CONTACT.PHOTO!==undefined){a.format=this.sina.AttributeFormatType.Round;if(a.type!==this.sina.AttributeType.ImageBlob){a.type=this.sina.AttributeType.ImageUrl;}}if(s.IMAGEURL!==undefined){if(a.type!==this.sina.AttributeType.ImageBlob){a.type=this.sina.AttributeType.ImageUrl;}}if(s.NAME!==undefined){if(s.NAME.GIVENNAME!==undefined){a.semantics=this.sina.AttributeSemanticsType.FirstName;}if(s.NAME.FAMILYNAME!==undefined){a.semantics=this.sina.AttributeSemanticsType.LastName;}}if(s.EMAIL&&s.EMAIL.ADDRESS!==undefined){a.semantics=this.sina.AttributeSemanticsType.EmailAddress;}if(s.TELEPHONE&&s.TELEPHONE.TYPE!==undefined){a.semantics=this.sina.AttributeSemanticsType.PhoneNr;}if(s&&s.URL!==undefined){a.semantics=this.sina.AttributeSemanticsType.HTTPURL;}if(s&&s.CURRENCYCODE!==undefined){a.isCurrency=true;a.isUnitOfMeasureForAttributes=[];}if(s&&s.UNITOFMEASURE!==undefined){a.isUnitOfMeasure=true;a.isUnitOfMeasureForAttributes=[];}var u;var b=s.QUANTITY&&s.QUANTITY.UNITOFMEASURE;if(b){a.isQuantity=true;u=this._getParsedAttribute(b);if(u){if(u.isUnitOfMeasure){a.unitOfMeasureAttribute=u;u.isUnitOfMeasureForAttributes.push(a);}}else{u=this._getUnitOfMeasureAttribute(b)||[];this._setUnitOfMeasureAttribute(b,u);u.push({attribute:a,annotationName:"SEMANTICS.QUANTITY.UNITOFMEASURE"});}}var c=s.AMOUNT&&s.AMOUNT.CURRENCYCODE;if(c){u=this._getParsedAttribute(c);if(u){if(u.isCurrency){a.unitOfMeasureAttribute=u;u.isUnitOfMeasureForAttributes.push(a);}}else{u=this._getUnitOfMeasureAttribute(c)||[];this._setUnitOfMeasureAttribute(c,u);u.push({attribute:a,annotationName:"SEMANTICS.AMOUNT.CURRENCYCODE"});}}}},_parseDescriptionAttribute:function(a,o,u){var d=o&&o.TEXT&&o.TEXT.ELEMENT;if(d){var b=this._getParsedAttribute(d);if(b){b.isDescription=true;a.descriptionAttribute=b;b.isDescriptionForAttributes=b.isDescriptionForAttributes||[];b.isDescriptionForAttributes.push(a);}else{b=this._getDescriptionAttribute(d)||[];this._setDescriptionAttribute(d,b);b.push(a);}var t=u&&u.TEXTARRANGEMENT;if(t){switch(t.toUpperCase()){case"TEXT_FIRST":a.descriptionTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextFirst;break;case"TEXT_LAST":a.descriptionTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextLast;break;case"TEXT_ONLY":a.descriptionTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextOnly;break;case"TEXT_SEPARATE":a.descriptionTextArrangement=this.sina.AttributeDescriptionTextArrangement.TextSeparate;break;}}else{a.descriptionTextArrangement=this._defaultTextArrangement;}}},_cleanUpUnitOfMeasures:function(){for(var u in this._unitOfMeasureAttributes){var a=this._getParsedAttribute(u);if(a){var b=this._getUnitOfMeasureAttribute(u);for(var i=0;i<b.length;i++){var c=b[i].attribute;var d=b[i].annotationName;if((d.toUpperCase()=="SEMANTICS.QUANTITY.UNITOFMEASURE"&&a.isUnitOfMeasure)||(d.toUpperCase()=="SEMANTICS.AMOUNT.CURRENCYCODE"&&a.isCurrency)){c.unitOfMeasureAttribute=a;a.isUnitOfMeasureForAttributes.push(c);}}}}},_cleanUpDescriptions:function(){for(var d in this._descriptionAttributes){var a=this._getParsedAttribute(d);if(a){a.isDescription=true;var b=this._getDescriptionAttribute(d);for(var i=0;i<b.length;i++){var c=b[i];c.descriptionAttribute=a;a.isDescriptionForAttributes=a.isDescriptionForAttributes||[];a.isDescriptionForAttributes.push(c);}}}},_sortAttributes:function(p){var i;var s=this._createSortFunction("_Detail");if(this._detailAttributesPrioHigh.length>0||this._detailAttributesPrioMedium.length>0){if(this._detailAttributesPrioHigh.length>0){p.dataSourceIsCdsBased=true;}this._detailAttributesPrioHigh.sort(s);this._detailAttributesPrioMedium.sort(s);var d=this._detailAttributesPrioHigh.concat(this._detailAttributesPrioMedium);for(i=0;i<d.length;++i){d[i].usage.Detail=d[i].usage._Detail;d[i].usage.Detail.displayOrder=i;}p.detailAttributesAreSorted=true;}else if(this._detailAttributesIgnorePrio.length>0){p.dataSourceIsCdsBased=true;this._detailAttributesIgnorePrio.sort(s);for(i=0;i<this._detailAttributesIgnorePrio.length;++i){this._detailAttributesIgnorePrio[i].usage.Detail=this._detailAttributesIgnorePrio[i].usage._Detail;this._detailAttributesIgnorePrio[i].usage.Detail.displayOrder=i;}p.detailAttributesAreSorted=true;}},_parseSingleAnnotationOrArray:function(a,b,p){if(b!==undefined){if(Array.isArray(b)){for(var j=0;j<b.length;j++){p.apply(this,[a,b[j]]);}}else{p.apply(this,[a,b]);}}},_createSortFunction:function(u){return function(a,b){if(a.usage[u].displayOrder<b.usage[u].displayOrder){return-1;}else if(a.usage[u].displayOrder>b.usage[u].displayOrder){return 1;}else{return 0;}};},_parsePosition:function(p){if(typeof p==='string'){try{p=parseInt(p,10);}catch(e){p=Number.MAX_VALUE;}}if(typeof p!=='number'||isNaN(p)){p=Number.MAX_VALUE;}return p;},_getPropertyFromObject:function(o,p){if(o[p]){return o[p];}p=p.toLowerCase();for(var k in o){if(k.toLowerCase()==p){return o[k];}}return undefined;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/fiori/FioriIntentsResolver.js":function(){sinaDefine(['../../../sina/SinaObject','./NavigationTargetForIntent'],function(S,N){"use strict";return S.derive({_init:function(){if(typeof sap!=="undefined"&&sap.ushell&&sap.ushell.Container){this._launchpadNavigation=sap.ushell.Container.getService("SmartNavigation")||sap.ushell.Container.getService("CrossApplicationNavigation");this._fioriFrontendSystemInfo={systemId:sap.ushell.Container.getLogonSystem().getName(),client:sap.ushell.Container.getLogonSystem().getClient()};this._primaryIntentAction="-displayFactSheet";this._suppressInSearchTag="suppressInEnterpriseSearch".toLowerCase();}},resolveIntents:function(a){var t=this;if(!t._launchpadNavigation||!a){return Promise.resolve({defaultNavigationTarget:a.fallbackDefaultNavigationTarget});}if(Array.isArray(a)){var p=[];for(var k=0;k<a.length;k++){var b=t._doResolveIntents(a[k]);p.push(b);}return Promise.all(p);}else{return t._doResolveIntents(a);}},_doResolveIntents:function(a){var t=this;var s=a.semanticObjectType;var b=a.semanticObjectTypeAttributes;var c=a.systemId;var d=a.client;var f=a.fallbackDefaultNavigationTarget;if(!s||s.length==0){return Promise.resolve({defaultNavigationTarget:f});}if(!b||b.length==0){return Promise.resolve();}var e={};var v;for(var i=0;i<b.length;i++){v=this.convertAttributeValueToUI5DataTypeFormats(b[i].value,b[i].type);e[b[i].name]=v;}var g={};g.systemId=c||(t._fioriFrontendSystemInfo&&t._fioriFrontendSystemInfo.systemId);g.client=d||(t._fioriFrontendSystemInfo.client&&t._fioriFrontendSystemInfo.client);if(c&&c.trim().length>0&&d&&d.trim().length>0&&(!t._fioriFrontendSystemInfo||!(t._fioriFrontendSystemInfo.systemId==c&&t._fioriFrontendSystemInfo.client==d))){g.urlParameter="sap-system=sid("+c+"."+d+")";}var p=new Promise(function(r,j){if(t._launchpadNavigation.getPrimaryIntent){t._launchpadNavigation.getPrimaryIntent(s,e).done(function(k){r(k);}).fail(function(){r();});}else{r();}});var h=new Promise(function(r,j){var k;if(t._launchpadNavigation.getLinks){k=t._launchpadNavigation.getLinks({semanticObject:s,params:e,withAtLeastOneUsedParam:true,sortResultOnTexts:true});}else{k=t._launchpadNavigation.getSemanticObjectLinks(s,e);}k.done(function(l){r(l);}).fail(function(){r();});});return Promise.all([p,h]).then(function(j){var i;var k=j[0];var l,m=j[1];var n;var r={};var o;if(k&&!t._shallIntentBeSuppressed(k)){o=t._getNavigationTargetForIntent(k,g);r.defaultNavigationTarget=o;}var q=r.defaultNavigationTarget!==undefined;r.navigationTargets=[];for(i=0;i<m.length;i++){l=m[i];if(t._shallIntentBeSuppressed(l)){continue;}n=t._getNavigationTargetForIntent(l,g);if(!q&&l.intent.substring(l.intent.indexOf("-"),l.intent.indexOf("?"))===t._primaryIntentAction){r.defaultNavigationTarget=n;q=true;}else if(!o||!n.isEqualTo(o)){r.navigationTargets.push(n);}}return r;});},_shallIntentBeSuppressed:function(a){if(a.tags){for(var i=0;i<a.tags.length;i++){if(a.tags[i].toLowerCase()===this._suppressInSearchTag){return true;}}}return false;},_getNavigationTargetForIntent:function(i,s){var t=this;var a=i.intent;if(s.urlParameter){if(a.indexOf('?')===-1){a+="?";}else{a+="&";}a+=s.urlParameter;}var e={target:{shellHash:a}};var b=t._launchpadNavigation.hrefForExternal(e);var n=t.sina._createNavigationTargetForIntent({label:i.text,targetUrl:b,externalTarget:e,systemId:s.systemId,client:s.client});return n;},convertAttributeValueToUI5DataTypeFormats:function(v,s){var y,m,d,h,a,b,c;switch(s){case this.sina.AttributeType.Timestamp:y=v.getUTCFullYear();m=v.getUTCMonth()+1;d=v.getUTCDate();h=v.getUTCHours();a=v.getUTCMinutes();b=v.getUTCSeconds();c=v.getUTCMilliseconds()*1000;v=this.addLeadingZeros(y.toString(),4)+'-'+this.addLeadingZeros(m.toString(),2)+'-'+this.addLeadingZeros(d.toString(),2)+'T'+this.addLeadingZeros(h.toString(),2)+':'+this.addLeadingZeros(a.toString(),2)+':'+this.addLeadingZeros(b.toString(),2)+'.'+this.addLeadingZeros(c.toString(),3);break;case this.sina.AttributeType.Date:v=v.slice(0,4)+'-'+v.slice(5,7)+'-'+v.slice(8,10);break;}return v;},addLeadingZeros:function(v,l){return'00000000000000'.slice(0,l-v.length)+v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/fiori/NavigationTargetForIntent.js":function(){sinaDefine(['../../../sina/NavigationTarget'],function(N){"use strict";var _;if(typeof sap!=="undefined"&&sap.ushell&&sap.ushell.Container){_=(sap.ushell.Container.getService("SmartNavigation")||sap.ushell.Container.getService("CrossApplicationNavigation"));}return N.derive({_meta:{properties:{externalTarget:{required:true},systemId:{required:false},client:{required:false}}},performNavigation:function(p){p=p||{};var s=p.suppressTracking||false;var t=p.trackingOnly||false;if(_){if(!s){this._trackNavigation();}if(!t){_.toExternal(this.externalTarget);}}else{N.prototype.performNavigation.apply(this,arguments);}},_trackNavigation:function(){if(_&&_.trackNavigation){_.trackNavigation({target:this.externalTarget.target});}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/fiori/SuvNavTargetResolver.js":function(){sinaDefine(['../../../sina/SinaObject'],function(S){"use strict";var g=function(){var t=[];$.each(document.styleSheets,function(i,c){if(c.href){var f=c.href.toString();var r=/themes\/(.+)\/library.css/;var m=r.exec(f);if(m!==null){t.push(m[1]);return false;}}});return t[0];};var a=function(u){var r=u;var t=g();if(!t){return r;}t="sap-theme="+t+"&";if(u.indexOf("sap-theme=")===-1){if(u.indexOf("?")!==-1){r=u.replace("?","?"+t);}}return r;};return S.derive({_init:function(){this.suvMimeType="application/vnd.sap.universal-viewer+suv";this.suvViewerBasePath="/sap/bc/ui5_ui5/ui2/ushell/resources/sap/fileviewer/viewer/web/viewer.html?file=";},addHighlightTermsToUrl:function(u,h){if(!h){return u;}u+='&searchTerms='+encodeURIComponent(JSON.stringify({'terms':h}));return u;},resolveSuvNavTargets:function(d,s,b){for(var c in s){var o;var e=s[c];var t=e.suvThumbnailAttribute;if(e.suvTargetMimeTypeAttribute.value==this.suvMimeType){o=this.suvViewerBasePath+encodeURIComponent(e.suvTargetUrlAttribute.value);o=this.addHighlightTermsToUrl(o,b);o=a(o);t.defaultNavigationTarget=this.sina._createNavigationTarget({label:e.suvTargetUrlAttribute.value,targetUrl:o,target:'_blank'});}else{o=e.suvTargetUrlAttribute.value;t.defaultNavigationTarget=this.sina._createNavigationTarget({label:e.suvTargetUrlAttribute.value,targetUrl:o,target:'_blank'});}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/sors/JoinConditions.js":function(){sinaDefine(['../../../core/core','./NavigationTargetTemplate'],function(c,N){"use strict";return c.defineClass({_init:function(p){this.sina=p.sina;this.navigationTargetGenerator=p.navigationTargetGenerator;this.sourceObjectType=p.sourceObjectType;this.targetObjectType=p.targetObjectType;this.conditions=[];},add:function(a){this.conditions.push(a);},hasDuplicateSemanticObject:function(){var m={};for(var i=0;i<this.conditions.length;++i){var a=this.conditions[i];if(m[a.semanticObjectType]){return true;}m[a.semanticObjectType]=true;}return false;},hasDistinctValue:function(s,p){var v;for(var i=0;i<this.conditions.length;++i){var a=this.conditions[i];if(a.semanticObjectType!==s){continue;}if(!v){v=a[p];continue;}if(v!==a[p]){return false;}}return true;},generateNavigationTargetTemplates:function(){if(this.hasDuplicateSemanticObject()){return this.createSingleConditionsTemplates();}else{return this.createMultipleConditionsTemplates();}},createSingleConditionsTemplates:function(){var n=[];for(var i=0;i<this.conditions.length;++i){var a=this.conditions[i];var s=this.hasDistinctValue(a.semanticObjectType,'sourcePropertyName');var t=this.hasDistinctValue(a.semanticObjectType,'targetPropertyName');if(!s&&!t){continue;}var b=new N({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:'dummy',sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:[a]});b._condition=a;n.push(b);}this.assembleSingleConditionTemplateLabels(n);return n;},createMultipleConditionsTemplates:function(){return[new N({sina:this.sina,navigationTargetGenerator:this.navigationTargetGenerator,label:this.navigationTargetGenerator.objectTypeMap[this.targetObjectType].label,sourceObjectType:this.sourceObjectType,targetObjectType:this.targetObjectType,conditions:this.conditions})];},assembleSingleConditionTemplateLabels:function(n){var t={};var a,l,b,m;for(var i=0;i<n.length;++i){b=n[i];m=this.navigationTargetGenerator.objectTypeMap[this.targetObjectType];l=m.label+' to:'+m.propertyMap[b._condition.targetPropertyName].label;b.label=l;a=t[l];if(!a){a=[];t[l]=a;}a.push(b);}m=this.navigationTargetGenerator.objectTypeMap[this.sourceObjectType];for(l in t){a=t[l];if(a.length>1){for(var j=0;j<a.length;++j){b=a[j];b.label+=' from:'+m.propertyMap[b._condition.sourcePropertyName].label;}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/sors/NavigationTargetGenerator.js":function(){sinaDefine(['../../../core/core','../../../core/util','../../../sina/SinaObject','./JoinConditions'],function(c,u,S,J){"use strict";return S.derive({_init:function(p){this.active=this.checkActive();this.getPropertyMetadata=p.getPropertyMetadata;this.urlPrefix=p.urlPrefix;this.navigationTargetTemplatesInitialized=false;this.navigationTargetTemplatesMap={};this.objectTypeMap={};this.ignoredSemanticObjectTypes={LastChangedByUser:true,CreationDate:true,CreatedByUser:true};},checkActive:function(){var s=u.getUrlParameter('sors');if(s==='true'){return true;}return false;},cleanup:function(){this.objectTypeMap=null;},registerObjectType:function(o){if(!this.active){return;}var m={type:o.type,label:o.label,propertyMap:{}};this.objectTypeMap[o.type]=m;for(var i=0;i<o.properties.length;++i){var p=o.properties[i];var a=this.getPropertyMetadata(p);this.filterSemanticObjectType(a);m.propertyMap[a.name]=a;}},filterSemanticObjectType:function(p){if(this.ignoredSemanticObjectTypes[p.semanticObjectType]){delete p.semanticObjectType;}},finishRegistration:function(){if(!this.active){return;}this.calculateNavigationTargetTemplates();},calculateNavigationTargetTemplates:function(){if(this.navigationTargetTemplatesInitialized){return;}var j=this.collectJoinConditions();this.navigationTargetTemplatesMap=this.createNavTargetTemplatesFromJoinConditions(j);this.cleanup();this.navigationTargetTemplatesInitialized=true;},createNavTargetTemplatesFromJoinConditions:function(j){var n={};for(var s in j){var o=j[s];var a=[];for(var t in o){var b=o[t];if(!b){continue;}a.push.apply(a,b.generateNavigationTargetTemplates());}if(a.length!==0){n[s]=a;}}return n;},collectJoinConditions:function(){var s=this.createIndex();var j={};for(var o in this.objectTypeMap){var a=this.collectJoinConditionsForObjectType(s,o);if(!c.isEmptyObject(a)){j[o]=a;}}return j;},collectJoinConditionsForObjectType:function(s,o){var a={};var b=this.objectTypeMap[o];var g=function(f){var l=a[f];if(!l){l=new J({sina:this.sina,navigationTargetGenerator:this,sourceObjectType:o,targetObjectType:f});a[f]=l;}return l;}.bind(this);for(var p in b.propertyMap){var d=b.propertyMap[p];var e=d.semanticObjectType;if(!d.response){continue;}if(!e){continue;}var t=s[e];for(var f in t){if(f===b.type){continue;}var h=this.objectTypeMap[f];var i=t[f];for(var j in i){var k=h.propertyMap[j];if(!k.request){continue;}var l=g(f);l.add({sourcePropertyName:p,targetPropertyName:j,semanticObjectType:e});}}}return a;},createIndex:function(){var s={};for(var o in this.objectTypeMap){this.createIndexForObjectType(s,o);}return s;},createIndexForObjectType:function(s,o){var a=this.objectTypeMap[o];for(var p in a.propertyMap){var b=a.propertyMap[p];var d=b.semanticObjectType;if(!d){continue;}var e=s[d];if(!e){e={};s[d]=e;}var f=e[a.type];if(!f){f={};e[a.type]=f;}var g=f[p];if(!g){g=true;f[p]=true;}}},formatItem:function(a){var b=function(d,e){for(var i=0;i<e.length;++i){var f=e[i];d[f.id]=f;}};var d={};b(d,a.detailAttributes);b(d,a.titleAttributes);return d;},generateNavigationTargetsForItem:function(a){var n=this.navigationTargetTemplatesMap[a.dataSource.id];if(!n){return undefined;}var f=this.formatItem(a);var b=[];for(var i=0;i<n.length;++i){var d=n[i];var e=d.generate(f);if(!e){continue;}b.push(e);}return b;},generateNavigationTargets:function(s){if(!this.active){return;}for(var i=0;i<s.items.length;++i){var a=s.items[i];var n=this.generateNavigationTargetsForItem(a);a.navigationTargets=a.navigationTargets||[];a.navigationTargets.push.apply(a.navigationTargets,n);}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/providers/tools/sors/NavigationTargetTemplate.js":function(){sinaDefine(['../../../core/core'],function(c){"use strict";return c.defineClass({_init:function(p){this.sina=p.sina;this.navigationTargetGenerator=p.navigationTargetGenerator;this.label=p.label;this.sourceObjectType=p.sourceObjectType;this.targetObjectType=p.targetObjectType;this.conditions=p.conditions;},generate:function(d){var a=this.sina.getDataSource(this.targetObjectType);var f=this.sina.createFilter({dataSource:a,searchTerm:'*'});for(var i=0;i<this.conditions.length;++i){var b=this.conditions[i];var e=this.sina.createSimpleCondition({attribute:b.targetPropertyName,attributeLabel:a.getAttributeMetadata(b.targetPropertyName).label,operator:this.sina.ComparisonOperator.Eq,value:d[b.sourcePropertyName].value,valueLabel:d[b.sourcePropertyName].valueFormatted});f.autoInsertCondition(e);}return this.sina._createNavigationTarget({label:this.label,targetUrl:this.navigationTargetGenerator.urlPrefix+encodeURIComponent(JSON.stringify(f.toJson()))});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeDescriptionTextArrangement.js":function(){sinaDefine([],function(){"use strict";return{TextFirst:'TextFirst',TextLast:'TextLast',TextOnly:'TextOnly',TextSeparate:'TextSeparate'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeFormatType.js":function(){sinaDefine([],function(){"use strict";return{Round:'Round',DocumentThumbnail:'DocumentThumbnail',LongText:'LongText',MultilineText:'MultilineText'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeGroupMembership.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{group:{required:true},attribute:{required:true},nameInGroup:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeGroupMetadata.js":function(){sinaDefine(['../core/core','./SinaObject','./AttributeType','./AttributeMetadataBase'],function(c,S,A,a){"use strict";return a.derive({_meta:{properties:{type:{required:false,default:A.Group},label:{required:false},isSortable:{required:false,default:false},template:{required:false},attributes:{required:true,default:function(){return[];}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeMetadata.js":function(){sinaDefine(['../core/core','./SinaObject','./AttributeMetadataBase'],function(c,S,A){"use strict";return A.derive({_meta:{properties:{type:{required:true},label:{required:true},isSortable:{required:true},format:{required:false},isKey:{required:true},isDescription:{required:false},isDescriptionForAttributes:{required:false,aggregation:true},descriptionAttribute:{required:false},descriptionTextArrangement:{required:false},isQuantity:{required:false},isCurrency:{required:false},isUnitOfMeasure:{required:false},isUnitOfMeasureForAttributes:{required:false,aggregation:true},unitOfMeasureAttribute:{required:false},semantics:{required:false},matchingStrategy:{required:true},groups:{required:false,default:function(){return[];}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeMetadataBase.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{id:{required:true},usage:{required:true},displayOrder:{required:false}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeSemanticsType.js":function(){sinaDefine([],function(){"use strict";return{PhoneNr:'PhoneNr',EmailAddress:'EmailAddress',HTTPURL:'HTTPURL',FirstName:'FirstName',LastName:'LastName'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeType.js":function(){sinaDefine([],function(){"use strict";return{Double:'Double',Integer:'Integer',String:'String',ImageUrl:'ImageUrl',ImageBlob:'ImageBlob',GeoJson:'GeoJson',Date:'Date',Time:'Time',Timestamp:'Timestamp',Group:'Group'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/AttributeUsageType.js":function(){sinaDefine([],function(){"use strict";return{AdvancedSearch:'AdvancedSearch',Facet:'Facet',Title:'Title',Detail:'Detail',Navigation:'Navigation'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Capabilities.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{fuzzy:{required:false,default:false}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ChartQuery.js":function(){sinaDefine(['../core/core','./FacetQuery'],function(c,F){"use strict";return F.derive({_meta:{properties:{top:{default:5},dimension:{required:true}}},_initClone:function(o){this.dimension=o.dimension;},_equals:function(o){return this.dimension===o.dimension;},_execute:function(q){return this.sina.provider.executeChartQuery(q);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ChartResultSet.js":function(){sinaDefine(['../core/core','./FacetResultSet','./FacetType'],function(c,F,a){"use strict";return F.derive({type:a.Chart});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ChartResultSetItem.js":function(){sinaDefine(['../core/core','./FacetResultSetItem'],function(c,F){"use strict";return F.derive({_meta:{properties:{filterCondition:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ComparisonOperator.js":function(){sinaDefine([],function(){"use strict";return{'Eq':'Eq','Gt':'Gt','Lt':'Lt','Ge':'Ge','Le':'Le','Co':'Co','Bw':'Bw','Ew':'Ew'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ComplexCondition.js":function(){sinaDefine(['../core/core','./Condition','./ConditionType'],function(c,C,a){"use strict";return C.derive({_meta:{properties:{operator:{required:false,default:function(){return this.sina.LogicalOperator.And;}},conditions:{required:false,default:function(){return[];}}}},type:a.Complex,_initClone:function(o){this.operator=o.operator;this.conditions=[];for(var i=0;i<o.conditions.length;++i){this.conditions.push(o.conditions[i].clone());}},_equals:function(o){if(this.operator!==o.operator){return false;}if(this.conditions.length!==o.conditions.length){return false;}var m={};for(var i=0;i<this.conditions.length;++i){var b=this.conditions[i];var d=false;for(var j=0;j<o.conditions.length;++j){if(m[j]){continue;}var e=o.conditions[j];if(b.equals(e)){d=true;m[j]=true;break;}}if(!d){return false;}}return true;},addCondition:function(b){if(!(b instanceof C)){b=this.sina.createSimpleCondition(b);}this.conditions.push(b);},removeConditionAt:function(i){this.conditions.splice(i,1);},hasFilters:function(){return this.conditions.length>=1;},removeAttributeConditions:function(b){var r={deleted:false,attribute:'',value:''};for(var i=0;i<this.conditions.length;++i){var s=this.conditions[i];switch(s.type){case a.Complex:r=s.removeAttributeConditions(b);break;case a.Simple:if(s.attribute===b){r={deleted:true,attribute:s.attribute,value:s.value};this.removeConditionAt(i);i--;}break;}}this.cleanup();return r;},cleanup:function(){var r=false;var d=function(b){for(var i=0;i<b.conditions.length;++i){var s=b.conditions[i];switch(s.type){case a.Complex:d(s);if(s.conditions.length===0){r=true;b.removeConditionAt(i);i--;}break;case a.Simple:break;}}};do{r=false;d(this);}while(r);},resetConditions:function(){this.conditions.splice(0,this.conditions.length);},_getAttribute:function(){if(this.conditions.length===0){return null;}return this.conditions[0]._getAttribute();},toJson:function(){var r={type:'Complex',operator:this.operator,conditions:[],valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};for(var i=0;i<this.conditions.length;++i){var b=this.conditions[i];r.conditions.push(b.toJson());}if(this.userDefined){r.userDefined=true;}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Condition.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{attributeLabel:{required:false},valueLabel:{required:false},userDefined:{required:false}}},_initClone:function(o){this.attributeLabel=o.attributeLabel;this.valueLabel=o.valueLabel;this.userDefined=o.userDefined;},_equals:function(o){return true;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ConditionType.js":function(){sinaDefine([],function(){"use strict";return{Simple:'Simple',Complex:'Complex'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Configuration.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{personalizedSearch:{required:true,setter:true},isPersonalizedSearchEditable:{required:true}}},resetPersonalizedSearchDataAsync:function(){return this.sina.provider.resetPersonalizedSearchDataAsync(this);},saveAsync:function(){return this.sina.provider.saveConfigurationAsync(this);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSource.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{type:{required:true},id:{required:true},label:{required:true},labelPlural:{required:false},hidden:{required:false,default:false},usage:{required:false,default:{}},attributesMetadata:{required:false,default:function(){return[];}},attributeMetadataMap:{required:false,default:function(){return{};}},attributeGroupsMetadata:{required:false,default:function(){return[];}},attributeGroupMetadataMap:{required:false,default:function(){return{};}}}},equals:function(){throw new c.Exception('use === operator for comparison of datasources');},_afterInitProperties:function(){if(!this.labelPlural||this.labelPlural.length===0){this.labelPlural=this.label;}if(this.type===this.sina.DataSourceType.BusinessObject&&this.attributesMetadata.length===0){throw'attributes of datasource are missing';}this.attributeMetadataMap=this.createAttributeMetadataMap(this.attributesMetadata);},_configure:function(){var f=this.sina.metadataFormatters;if(!f){return;}for(var i=0;i<f.length;++i){var a=f[i];a.format({dataSources:[this]});}},createAttributeMetadataMap:function(a){var m={};for(var i=0;i<a.length;++i){var b=a[i];m[b.id]=b;}return m;},getAttributeMetadata:function(i){return this.attributeMetadataMap[i];},toJson:function(){return{type:this.type,id:this.id,label:this.label,labelPlural:this.labelPlural};}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceQuery.js":function(){sinaDefine(['../core/core','./FacetQuery'],function(c,F){"use strict";return F.derive({_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceResultSet.js":function(){sinaDefine(['../core/core','./FacetResultSet','./FacetType'],function(c,F,a){"use strict";return F.derive({type:a.DataSource});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceResultSetItem.js":function(){sinaDefine(['../core/core','./FacetResultSetItem'],function(c,F){"use strict";return F.derive({_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceSuggestion.js":function(){sinaDefine(['../core/core','./Suggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.DataSource,_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/DataSourceType.js":function(){sinaDefine([],function(){"use strict";return{BusinessObject:'BusinessObject',Category:'Category'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/EqualsMode.js":function(){sinaDefine([],function(){"use strict";return{CheckFireQuery:'CheckFireQuery'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetQuery.js":function(){sinaDefine(['../core/core','./Query'],function(c,Q){"use strict";return Q.derive({});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetResultSet.js":function(){sinaDefine(['../core/core','./ResultSet'],function(c,R){"use strict";return R.derive({toString:function(){var r=[];r.push('--Facet');r.push(R.prototype.toString.apply(this,arguments));return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetResultSetItem.js":function(){sinaDefine(['../core/core','./ResultSetItem'],function(c,R){"use strict";return R.derive({_meta:{properties:{dimensionValueFormatted:{required:true},measureValue:{required:true},measureValueFormatted:{required:true}}},toString:function(){return this.dimensionValueFormatted+':'+this.measureValueFormatted;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/FacetType.js":function(){sinaDefine([],function(){"use strict";return{Chart:'Chart',DataSource:'DataSource'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Filter.js":function(){sinaDefine(['../core/core','./SinaObject','./SimpleCondition','./ComplexCondition'],function(c,S,a,C){"use strict";return S.derive({_meta:{properties:{dataSource:{required:false,default:function(){return this.sina.getAllDataSource();}},searchTerm:{required:false,default:'',setter:true},rootCondition:{required:false,default:function(){return this.sina.createComplexCondition();},setter:true}}},_initClone:function(o){this.dataSource=o.dataSource;this.searchTerm=o.searchTerm;this.rootCondition=o.rootCondition.clone();},_equals:function(o){return this.dataSource===o.dataSource&&this.searchTerm===o.searchTerm&&this.rootCondition.equals(o.rootCondition);},_getAttribute:function(b){if(b instanceof a){return b.attribute;}for(var i=0;i<b.conditions.length;++i){var d=this._getAttribute(b.conditions[i]);if(d){return d;}}},setDataSource:function(d){if(this.dataSource===d){return;}this.dataSource=d;this.resetConditions();},resetConditions:function(){this.rootCondition.resetConditions();},autoInsertCondition:function(b){if(!(this.rootCondition instanceof C)){throw new c.Exception('cannot auto insert condition - condition is not a complex condition');}var d=this._getAttribute(b);var m,e;for(var i=0;i<this.rootCondition.conditions.length;++i){e=this.rootCondition.conditions[i];var f=this._getAttribute(e);if(f===d){m=e;break;}}if(!m){m=this.sina.createComplexCondition({operator:this.sina.LogicalOperator.Or});this.rootCondition.addCondition(m);}for(var j=0;j<m.conditions.length;++j){e=m.conditions[j];if(e.equals(b)){return;}}m.addCondition(b);},autoRemoveCondition:function(b){var r=function(d,b){for(var i=0;i<d.conditions.length;++i){var s=d.conditions[i];if(s.equals(b)){d.removeConditionAt(i);i--;continue;}if(s instanceof C){r(s,b);if(s.conditions.length===0){d.removeConditionAt(i);i--;continue;}}}};r(this.rootCondition,b);},toJson:function(){return{dataSource:this.dataSource.toJson(),searchTerm:this.searchTerm,rootCondition:this.rootCondition.toJson()};}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/LogicalOperator.js":function(){sinaDefine([],function(){"use strict";return{And:'And',Or:'Or'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/MatchingStrategy.js":function(){sinaDefine([],function(){"use strict";return{Exact:'Exact',Text:'Text'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/NavigationTarget.js":function(){sinaDefine(['./SinaObject'],function(S){"use strict";return S.derive({_meta:{properties:{targetUrl:{required:true},label:{required:true},target:{required:false}}},performNavigation:function(p){p=p||{};var t=p.trackingOnly||false;if(!t){if(this.target){window.open(this.targetUrl,this.target);}else{window.open(this.targetUrl);}}},isEqualTo:function(o){if(!o){return false;}return this.targetUrl==o.targetUrl;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ObjectSuggestion.js":function(){sinaDefine(['../core/core','./Suggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.Object,_meta:{properties:{object:{required:true,aggregation:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Query.js":function(){sinaDefine(['../core/core','../core/util','./SinaObject'],function(c,u,S){"use strict";return S.derive({_meta:{properties:{filter:{required:false,default:function(){return this.sina.createFilter();}},top:{required:false,default:10,setter:true},skip:{required:false,default:0,setter:true},sortOrder:{required:false,default:function(){return[];},setter:true}}},_afterInitProperties:function(p){if(p.dataSource){this.filter.setDataSource(p.dataSource);}if(p.searchTerm){this.filter.setSearchTerm(p.searchTerm);}if(p.rootCondition){this.filter.setRootCondition(p.rootCondition);}if(this.requestTimeout){this._execute=u.timeoutDecorator(this._execute,this.requestTimeout);}this._execute=u.refuseOutdatedResponsesDecorator(this._execute);},_initClone:function(o){this.top=o.top;this.skip=o.skip;this.filter=o.filter.clone();this.sortOrder=c.clone(o.sortOrder);},_equals:function(o){return this.top===o.top&&this.skip===o.skip&&this.filter.equals(o.filter)&&c.equals(this.sortOrder,o.sortOrder);},abort:function(){this._execute.abort();},getResultSetAsync:function(){if(this.equals(this._lastQuery,this.sina.EqualsMode.CheckFireQuery)){return this._resultSetPromise;}if(this._lastQuery&&!this.filter.equals(this._lastQuery.filter)){this.setSkip(0);}this._lastQuery=this._createReadOnlyClone();var r;this._resultSetPromise=this._execute(this._lastQuery).then(function(R){r=R;}.bind(this)).then(function(){return this._formatResultSetAsync(r);}.bind(this)).then(function(){return r;});return this._resultSetPromise;},_formatResultSetAsync:function(r){},_setResultSet:function(r){this._lastQuery=this._createReadOnlyClone();this._resultSetPromise=c.Promise.resolve().then(function(){return this._formatResultSetAsync(r);}.bind(this)).then(function(){return r;}.bind(this));return this._resultSetPromise;},_createReadOnlyClone:function(){var q=this.clone();q.getResultSetAsync=function(){throw new c.Exception('this query is readonly');};return q;},resetResultSet:function(){this._lastQuery=null;this._resultSetPromise=null;},getSearchTerm:function(){return this.filter.searchTerm;},getDataSource:function(){return this.filter.dataSource;},getRootCondition:function(){return this.filter.rootCondition;},setSearchTerm:function(s){this.filter.setSearchTerm(s);},setDataSource:function(d){this.filter.setDataSource(d);},setRootCondition:function(r){this.filter.setRootCondition(r);},resetConditions:function(){this.filter.resetConditions();},autoInsertCondition:function(a){this.filter.autoInsertCondition(a);},autoRemoveCondition:function(a){this.filter.autoRemoveCondition(a);},setFilter:function(f){if(!this.filter.equals(f)){this.setSkip(0);}this.filter=f;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ResultSet.js":function(){sinaDefine(['../core/core','./SinaObject','../core/Log'],function(c,S,L){"use strict";return S.derive({_meta:{properties:{id:{required:false,default:function(){return c.generateId();}},title:{required:true},items:{required:false,default:function(){return[];},aggregation:true},query:{required:true},log:{required:false,default:function(){return new L();}}}},toString:function(){var r=[];for(var i=0;i<this.items.length;++i){var a=this.items[i];r.push(a.toString());}return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/ResultSetItem.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchQuery.js":function(){sinaDefine(['../core/core','./Query'],function(c,Q){"use strict";return Q.derive({_meta:{properties:{calculateFacets:{required:false,default:false,setter:true},multiSelectFacets:{required:false,default:false,setter:true},nlq:{required:false,default:false,setter:true},facetTop:{required:false,default:5,setter:true}}},_initClone:function(o){this.calculateFacets=o.calculateFacets;this.multiSelectFacets=o.multiSelectFacets;this.nlq=o.nlq;this.facetTop=o.facetTop;},_equals:function(o,m){if(this.nlq!==o.nlq){return false;}if(this.multiSelectFacets!==o.multiSelectFacets){return false;}if(this.facetTop!==o.facetTop){return false;}switch(m){case this.sina.EqualsMode.CheckFireQuery:if(o.calculateFacets&&!this.calculateFacets){return true;}return this.calculateFacets===o.calculateFacets;default:return this.calculateFacets===o.calculateFacets;}},_execute:function(q){var f;var a=[];if(this.multiSelectFacets){f=this._collectAttributesWithFilter(q);a=this._createChartQueries(q,f);}var r=[];r.push(this.sina.provider.executeSearchQuery(q));for(var i=0;i<a.length;++i){var b=a[i];var d=q.filter.dataSource.getAttributeMetadata(b.dimension);if(d.usage.Facet){r.push(b.getResultSetAsync());}}return Promise.all(r).then(function(e){var s=e[0];var g=e.slice(1);this._mergeFacetsToSearchResultSet(s,g);return s;}.bind(this));},_formatResultSetAsync:function(r){return c.executeSequentialAsync(this.sina.searchResultSetFormatters,function(f){return f.formatAsync(r);});},_collectAttributesWithFilter:function(q){var a={};this._doCollectAttributes(a,q.filter.rootCondition);return Object.keys(a);},_doCollectAttributes:function(a,b){switch(b.type){case this.sina.ConditionType.Simple:a[b.attribute]=true;break;case this.sina.ConditionType.Complex:for(var i=0;i<b.conditions.length;++i){var s=b.conditions[i];this._doCollectAttributes(a,s);}break;}},_createChartQuery:function(q,f){var a=this.sina.createChartQuery({dimension:f,top:this.facetTop});a.setFilter(q.filter.clone());a.filter.rootCondition.removeAttributeConditions(f);return a;},_createChartQueries:function(q,f){var a=[];for(var i=0;i<f.length;++i){var b=f[i];var d=this._createChartQuery(q,b);a.push(d);}return a;},_mergeFacetsToSearchResultSet:function(s,a){this._addSelectedFiltersToSearchResultSet(s);for(var i=0;i<a.length;++i){var b=a[i];this._addChartResultSetToSearchResultSet(s,b);}},_calculateFacetTitle:function(a,d){var b=a._getAttribute();var e=d.getAttributeMetadata(b);return e.label;},_addSelectedFiltersToSearchResultSet:function(s){for(var j=0;j<s.query.filter.rootCondition.conditions.length;j++){var a=s.query.filter.rootCondition.conditions[j].conditions;var b=this._calculateFacetTitle(a[0],s.query.filter.dataSource);var d;switch(a[0].type){case this.sina.ConditionType.Simple:d=a[0].attribute;break;case this.sina.ConditionType.Complex:d=a[0].conditions[0].attribute;break;}var m=this._findMatchFacet(d,s.facets);var e=s.facets[m];if(!e){var f=this._createChartQuery(s.query,d);e=this.sina._createChartResultSet({title:b,items:[],query:f});s.facets.splice(m,1,e);}var g=null;if(a.length===1){g=s.totalCount;}var h=[];for(var k=0;k<a.length;k++){var i;if(this._findFilterConditionInFacetItemList(a[k],e.items)>=0){i=this._findFilterConditionInFacetItemList(a[k],e.items);h.push(e.items[i]);}else{h.push(this.sina._createChartResultSetItem({filterCondition:a[k],dimensionValueFormatted:a[k].valueLabel||a[k].value,measureValue:g,measureValueFormatted:a[k].valueLabel||a[k].value}));}}e.items=h;}},_addChartResultSetToSearchResultSet:function(s,d){if(d.items.length===0){return;}var e=d.query.dimension;var f=this._findMatchFacet(e,s.facets);var g=s.facets[f];var h=g.items;var i=false;var j=[];for(var m=0;m<h.length;m++){var k=this._findFilterConditionInFacetItemList(h[m].filterCondition,d.items);if(k>=0){if(this._isRangeFacet(d.query)){j.push(d.items[k]);}}else{if(this._isRangeFacet(d.query)){i=true;}j.push(h[m]);}}j.sort(function(a,b){return b.measureValue-a.measureValue;});if(this._isRangeFacet(d.query)){if(i){d.items=j;}}else{d.items=d.items.concat(j);}s.facets.splice(f,1,d);},_findMatchFacet:function(d,f){var i=0;for(;i<f.length;i++){var a=f[i];if(a.query.dimension===d){break;}}return i;},_findFilterConditionInFacetItemList:function(f,a){var b=-1;for(var i=0;i<a.length;i++){var d=a[i];if(f.equals(d.filterCondition)){b=i;break;}}return b;},_isRangeFacet:function(q){var d=q.filter.dataSource.getAttributeMetadata(q.dimension);if(d.type===q.sina.AttributeType.Double){return true;}else{return false;}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSet.js":function(){sinaDefine(['../core/core','./ResultSet'],function(c,R){"use strict";return R.derive({_meta:{properties:{facets:{required:false,default:function(){return[];}},totalCount:{required:true},nlqSuccess:{required:false,default:false}}},toString:function(){var r=[];r.push(R.prototype.toString.apply(this,arguments));for(var i=0;i<this.facets.length;++i){var f=this.facets[i];r.push(f.toString());}return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItem.js":function(){sinaDefine(['../core/core','./ResultSetItem'],function(c,R){"use strict";return R.derive({_meta:{properties:{dataSource:{required:true},titleAttributes:{required:true,aggregation:true},titleDescriptionAttributes:{required:false,aggregation:true},detailAttributes:{required:true,aggregation:true},defaultNavigationTarget:{required:false,aggregation:true},navigationTargets:{required:false,aggregation:true},score:{required:false,default:0}}},toString:function(){var i;var r=[];var t=[];for(i=0;i<this.titleAttributes.length;++i){var a=this.titleAttributes[i];t.push(a.toString());}r.push('--'+t.join(' '));for(i=0;i<this.detailAttributes.length;++i){var d=this.detailAttributes[i];r.push(d.toString());}return r.join('\n');}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttribute.js":function(){sinaDefine(['../core/core','./SinaObject','./SearchResultSetItemAttributeBase'],function(c,S,a){"use strict";return a.derive({_meta:{properties:{label:{required:true},value:{required:true},valueFormatted:{required:false},valueHighlighted:{required:false},isHighlighted:{required:true},unitOfMeasure:{required:false},description:{required:false},defaultNavigationTarget:{required:false,aggregation:true},navigationTargets:{required:false,aggregation:true},groups:{required:false,defaul:function(){return[];}}}},toString:function(){return this.label+':'+this.valueFormatted;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttributeBase.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{id:{required:true},metadata:{required:true}}},toString:function(){return this.id;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttributeGroup.js":function(){sinaDefine(['../core/core','./SinaObject','./SearchResultSetItemAttributeBase'],function(c,S,a){"use strict";return a.derive({_meta:{properties:{label:{required:false},template:{required:false},attributes:{required:true,default:function(){return[];}}}},toString:function(){var v="",p=0;var m,r=RegExp("{[a-z]+}","gi");while((m=r.exec(this.template))!==null){v+=this.template.substring(p,m.index);var b=m[0].slice(1,-1);v+=this.attributes[b]&&this.attributes[b].valueFormatted||"";p=r.lastIndex;}v+=this.template.substring(p);return this.label+':'+v;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchResultSetItemAttributeGroupMembership.js":function(){sinaDefine(['../core/core','./SinaObject'],function(c,S){"use strict";return S.derive({_meta:{properties:{group:{required:true},attribute:{required:true},metadata:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchTermAndDataSourceSuggestion.js":function(){sinaDefine(['../core/core','./SearchTermSuggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.SearchTermAndDataSource,_meta:{properties:{dataSource:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SearchTermSuggestion.js":function(){sinaDefine(['../core/core','./Suggestion','./SuggestionType'],function(c,S,a){"use strict";return S.derive({type:a.SearchTerm,_meta:{properties:{searchTerm:{required:true},filter:{required:true},childSuggestions:{required:false,default:function(){return[];}}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SimpleCondition.js":function(){sinaDefine(['../core/core','../core/util','./Condition','./ConditionType'],function(c,u,C,a){"use strict";return C.derive({_meta:{properties:{operator:{required:false,default:function(){return this.sina.ComparisonOperator.Eq;}},attribute:{required:true},value:{required:true}}},type:a.Simple,_initClone:function(o){this.operator=o.operator;this.attribute=o.attribute;this.value=o.value;},_equals:function(o){if(this.attribute!==o.attribute||this.operator!==o.operator){return false;}if(this.value.equals){return this.value.equals(o.value.equals);}if(this.value instanceof Date&&o.value instanceof Date){return this.value.getTime()===o.value.getTime();}return this.value===o.value;},_getAttribute:function(){return this.attribute;},toJson:function(){var j;if(this.value instanceof Date){j=u.dateToJson(this.value);}else{j=this.value;}var r={type:'Simple',operator:this.operator,attribute:this.attribute,value:j,valueLabel:this.valueLabel,attributeLabel:this.attributeLabel};if(this.userDefined){r.userDefined=true;}return r;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Sina.js":function(){sinaDefine(['../core/core','../core/util','./SearchQuery','./ChartQuery','./DataSourceQuery','./SuggestionQuery','./Filter','./DataSource','./ComplexCondition','./SimpleCondition','./AttributeMetadata','./AttributeGroupMetadata','./AttributeGroupMembership','./SearchResultSetItemAttribute','./SearchResultSetItemAttributeGroup','./SearchResultSetItemAttributeGroupMembership','./SearchResultSetItem','./SearchResultSet','./AttributeType','./AttributeFormatType','./AttributeSemanticsType','./AttributeDescriptionTextArrangement','./DataSourceType','./SuggestionType','./SuggestionCalculationMode','./FacetType','./MatchingStrategy','./LogicalOperator','./ComparisonOperator','./AttributeUsageType','./FacetResultSet','./FacetResultSetItem','./SearchTermSuggestion','./SearchTermAndDataSourceSuggestion','./DataSourceSuggestion','./ObjectSuggestion','./SuggestionResultSet','./ChartResultSet','./DataSourceResultSet','./ChartResultSetItem','./DataSourceResultSetItem','./EqualsMode','./SortOrder','./Capabilities','./ConditionType','./Configuration','../providers/inav2/typeConverter','./NavigationTarget','../providers/tools/fiori/FioriIntentsResolver','../providers/tools/fiori/NavigationTargetForIntent','../providers/tools/cds/CDSAnnotationsParser','../providers/tools/fiori/SuvNavTargetResolver','../providers/tools/sors/NavigationTargetGenerator','./formatters/ConfigSearchResultSetFormatter','./formatters/ConfigMetadataFormatter','./formatters/Formatter','./formatters/NavtargetsInResultSetFormatter','./formatters/RemovePureAdvancedSearchFacetsFormatter','./formatters/ResultValueFormatter'],function(c,u,S,C,D,a,F,b,d,e,A,f,g,h,k,l,m,n,o,p,q,r,s,t,v,w,M,L,x,y,z,B,E,G,H,O,I,J,K,N,P,Q,R,T,U,V,W,X,Y,Z,$,_,a1,b1,c1,d1,e1,f1,g1){"use strict";return c.defineClass({AttributeType:o,AttributeFormatType:p,AttributeSemanticsType:q,AttributeDescriptionTextArrangement:r,DataSourceType:s,AttributeUsageType:y,MatchingStrategy:M,LogicalOperator:L,ComparisonOperator:x,FacetType:w,SuggestionCalculationMode:v,SuggestionType:t,EqualsMode:Q,SortOrder:R,ConditionType:U,SearchResultSet:n,SearchResultSetItem:m,SearchResultSetItemAttribute:h,ObjectSuggestion:O,_init:function(i){this.core=c;this.util=u;this.inav2TypeConverter=W;this.provider=i;this.createSearchQuery=this.generateFactoryMethod(S);this.createChartQuery=this.generateFactoryMethod(C);this.createSuggestionQuery=this.generateFactoryMethod(a);this.createDataSourceQuery=this.generateFactoryMethod(D);this.createFilter=this.generateFactoryMethod(F);this.createComplexCondition=this.generateFactoryMethod(d);this.createSimpleCondition=this.generateFactoryMethod(e);this._createAttributeMetadata=this.generateFactoryMethod(A);this._createAttributeGroupMetadata=this.generateFactoryMethod(f);this._createAttributeGroupMembership=this.generateFactoryMethod(g);this._createSearchResultSetItemAttribute=this.generateFactoryMethod(h);this._createSearchResultSetItemAttributeGroup=this.generateFactoryMethod(k);this._createSearchResultSetItemAttributeGroupMembership=this.generateFactoryMethod(l);this._createSearchResultSetItem=this.generateFactoryMethod(m);this._createSearchResultSet=this.generateFactoryMethod(n);this._createSearchTermSuggestion=this.generateFactoryMethod(E);this._createSearchTermAndDataSourceSuggestion=this.generateFactoryMethod(G);this._createDataSourceSuggestion=this.generateFactoryMethod(H);this._createObjectSuggestion=this.generateFactoryMethod(O);this._createSuggestionResultSet=this.generateFactoryMethod(I);this._createChartResultSet=this.generateFactoryMethod(J);this._createDataSourceResultSet=this.generateFactoryMethod(K);this._createChartResultSetItem=this.generateFactoryMethod(N);this._createDataSourceResultSetItem=this.generateFactoryMethod(P);this._createCapabilities=this.generateFactoryMethod(T);this._createConfiguration=this.generateFactoryMethod(V);this._createNavigationTarget=this.generateFactoryMethod(X);this._createSorsNavigationTargetGenerator=this.generateFactoryMethod(a1);this._createFioriIntentsResolver=this.generateFactoryMethod(Y);this._createNavigationTargetForIntent=this.generateFactoryMethod(Z);this._createCDSAnnotationsParser=this.generateFactoryMethod($);this._createSuvNavTargetResolver=this.generateFactoryMethod(_);this.searchResultSetFormatters=[];this.metadataFormatters=[];this.dataSources=[];this.dataSourceMap={};this.allDataSource=this._createDataSource({id:'All',label:'All',type:this.DataSourceType.Category});this.searchResultSetFormatters.push(new e1());if(this.util.getUrlParameter('resultValueFormatted')==="true"){this.searchResultSetFormatters.push(new g1());}},_initAsync:function(i){i=i||{};this.isDummyProvider=i.provider.indexOf("dummy")>-1;this.provider.label=i.label;return c.Promise.resolve().then(function(){return this._evaluateConfigurationAsync(i);}.bind(this)).then(function(){i.sina=this;return this.provider._initAsync.apply(this.provider,[i]);}.bind(this)).then(function(j){j=j||{};this.capabilities=j.capabilities||this._createCapabilities();return this._formatMetadataAsync();}.bind(this)).then(function(){if(this.getBusinessObjectDataSources().length===0&&!this.isDummyProvider){return Promise.reject(new c.Exception('Not active - no datasources'));}}.bind(this));},_formatMetadataAsync:function(){return c.executeSequentialAsync(this.metadataFormatters,function(i){return i.formatAsync({dataSources:this.dataSources});}.bind(this));},_evaluateConfigurationAsync:function(h1){var i1=[];if(h1.searchResultSetFormatters){for(var i=0;i<h1.searchResultSetFormatters.length;++i){var j1=h1.searchResultSetFormatters[i];if(!(j1 instanceof d1)){j1=new b1(j1);}this.searchResultSetFormatters.push(j1);i1.push(j1.initAsync());}}if(h1.metadataFormatters){for(var j=0;j<h1.metadataFormatters.length;++j){var k1=h1.metadataFormatters[j];if(!(k1 instanceof d1)){k1=new c1(k1);}this.metadataFormatters.push(k1);i1.push(k1.initAsync());}}return c.Promise.all(i1);},loadMetadata:function(i){if(this.provider.loadMetadata){return this.provider.loadMetadata(i);}return c.Promise.resolve();},createDataSourceMap:function(j){var h1={};for(var i=0;i<j.length;++i){var i1=j[i];h1[i1.id]=i1;}return h1;},generateFactoryMethod:function(i){return function(j){j=j||{};j.sina=this;return new i(j);};},_createDataSource:function(i){i=i||{};i.sina=this;var j=new b(i);if(this.dataSourceMap[j.id]===j){throw new c.Exception('cannot create an already existing datasource: "'+j.id+'"');}this.dataSources.push(j);this.dataSourceMap[j.id]=j;return j;},getAllDataSource:function(){return this.allDataSource;},getBusinessObjectDataSources:function(){var j=[];for(var i=0;i<this.dataSources.length;++i){var h1=this.dataSources[i];if(!h1.hidden&&h1.type===this.DataSourceType.BusinessObject){j.push(h1);}}return j;},getDataSource:function(i){return this.dataSourceMap[i];},getConfigurationAsync:function(i){if(!this.provider.getConfigurationAsync){return c.Promise.resolve(this._createConfiguration({personalizedSearch:false,isPersonalizedSearchEditable:false}));}i=i||{};if(this.configurationPromise&&!i.forceReload){return this.configurationPromise;}this.configurationPromise=this.provider.getConfigurationAsync();return this.configurationPromise;},logUserEvent:function(i){if(!this.provider.logUserEvent){return;}this.provider.logUserEvent(i);},getDebugInfo:function(){var i=['Sina Provider:'+this.provider.id];if(this.provider.getDebugInfo){var j=this.provider.getDebugInfo();if(j){i.push(j);}}return i.join('\n');},parseDataSourceFromJson:function(j){var i=this.getDataSource(j.id);if(i){return i;}if(j.type!==this.DataSourceType.Category){throw new c.Exception('Datasource in URL does not exist '+j.id);}i=this._createDataSource(j);return i;},parseSimpleConditionFromJson:function(j){var i;if(c.isObject(j.value)){i=u.dateFromJson(j.value);}else{i=j.value;}return this.createSimpleCondition({operator:j.operator,attribute:j.attribute,value:i,attributeLabel:j.attributeLabel,valueLabel:j.valueLabel,userDefined:j.userDefined?true:false});},parseComplexConditionFromJson:function(j){var h1=[];for(var i=0;i<j.conditions.length;++i){var i1=j.conditions[i];h1.push(this.parseConditionFromJson(i1));}return this.createComplexCondition({operator:j.operator,conditions:h1,attributeLabel:j.attributeLabel,valueLabel:j.valueLabel,userDefined:j.userDefined?true:false});},parseConditionFromJson:function(j){switch(j.type){case'Simple':return this.parseSimpleConditionFromJson(j);case'Complex':return this.parseComplexConditionFromJson(j);default:throw new c.Exception('unknown condition type "'+j.type+'"');}},parseFilterFromJson:function(j){return this.createFilter({searchTerm:j.searchTerm,rootCondition:this.parseConditionFromJson(j.rootCondition),dataSource:this.parseDataSourceFromJson(j.dataSource)});}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SinaObject.js":function(){sinaDefine(['../core/core'],function(c){"use strict";return c.defineClass({_meta:{properties:{sina:{required:false,getter:true},_private:{required:false,default:function(){return{};}}}},_initClone:function(o){this.sina=o.sina;},_equals:function(o){return this.sina===o.sina;}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SortOrder.js":function(){sinaDefine([],function(){"use strict";return{Ascending:'Ascending',Descending:'Descending'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/Suggestion.js":function(){sinaDefine(['../core/core','./ResultSetItem'],function(c,R){"use strict";return R.derive({_meta:{properties:{calculationMode:{required:true},label:{required:true}}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionCalculationMode.js":function(){sinaDefine([],function(){"use strict";return{Data:'Data',History:'History'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionQuery.js":function(){sinaDefine(['../core/core','../core/util','./Query','./SuggestionType','./SuggestionCalculationMode'],function(c,u,Q,S,a){"use strict";return Q.derive({_meta:{properties:{types:{default:function(){return[S.DataSource,S.Object,S.SearchTerm];},setter:true},calculationModes:{default:function(){return[a.Data,a.History];},setter:true}}},requestTimeout:false,_initClone:function(o){this.types=o.types.slice();this.calculationModes=o.calculationModes.slice();},_equals:function(o){return c.equals(this.types,o.types,false)&&c.equals(this.calculationModes,o.calculationModes,false);},_execute:function(q){return this.sina.provider.executeSuggestionQuery(q);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionResultSet.js":function(){sinaDefine(['../core/core','./ResultSet'],function(c,R){"use strict";return R.derive({});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/SuggestionType.js":function(){sinaDefine([],function(){"use strict";return{SearchTerm:'SearchTerm',SearchTermAndDataSource:'SearchTermAndDataSource',Object:'Object',DataSource:'DataSource'};});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ConfigFormatter.js":function(){sinaDefine(['../../core/core','./Formatter','../../configurationEngine/configuratorFactory'],function(c,F,a){"use strict";return F.derive({_init:function(t,b){this.type=t;this.configuration=b;},initAsync:function(){return a.createConfiguratorAsync({type:this.type,configuration:this.configuration}).then(function(b){this.configurator=b;}.bind(this));},formatAsync:function(o){return this.configurator.configureAsync(o);},format:function(o){return this.configurator.configure(o);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ConfigMetadataFormatter.js":function(){sinaDefine(['../../core/core','./ConfigFormatter'],function(c,C){"use strict";var m={type:'object',typeName:'DataSources',properties:[{name:'dataSources',multiple:true,getElementId:function(d){return d.id;},type:{type:'object',typeName:'DataSource',properties:[{name:'label',type:'string'},{name:'labelPlural',type:'string'},{name:'attributesMetadata',multiple:true,getElementId:function(a){return a.id;},type:{type:'object',typeName:'AttributeMetadata',properties:[{name:'label',type:'string'},{name:'format',type:'string'}]}}]}}]};return C.derive({_init:function(a){return C.prototype._init.apply(this,[m,a]);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ConfigSearchResultSetFormatter.js":function(){sinaDefine(['../../core/core','./ConfigFormatter','../../core/util'],function(c,C,u){"use strict";var a=function(e){if(e.__templateAttributeMapCache){return e.__templateAttributeMapCache;}var m=e.__templateAttributeMapCache={};var f;for(var i=0;i<e.detailAttributes.length;++i){f=e.detailAttributes[i];m[f.id]=f.value;}for(var j=0;j<e.titleAttributes.length;++j){f=e.titleAttributes[j];m[f.id]=f.value;}return m;};var b={type:'object',typeName:'SearchResultSetItemAttribute',properties:[{name:'label',type:'string'},{name:'value',type:'string'},{name:'valueFormatted',type:'string'},{name:'valueHighlighted',type:'string'}]};var d={name:'detailAttributes',multiple:true,getElementId:function(e){return e.id;},createElement:function(e,f){var g=f.objectStack[0].sina;var h=g._createAttributeMetadata({type:g.AttributeType.String,id:e.id,label:'',isSortable:false,isKey:false,matchingStrategy:g.MatchingStrategy.Exact,usage:{Detail:{}}});var n=g._createSearchResultSetItemAttribute({id:e.id,label:'',value:'',valueFormatted:'',valueHighlighted:'',isHighlighted:false,metadata:h});n.parent=f.objectStack[2];return n;},postProcessCreatedElement:function(e){e.valueFormatted=e.valueFormatted||e.value;e.valueHighlighted=e.valueHighlighted||e.valueFormatted;},type:b};var t=c.extend({},d);t.name='titleAttributes';var s={type:'object',typeName:'SearchResultSet',properties:[{name:'items',multiple:true,getElementId:function(i){return i.dataSource.id;},type:{type:'object',typeName:'SearchResultResultSetItem',evaluateTemplate:function(e,i){var f=a(i);return u.evaluateTemplate(e,f);},properties:[{name:'title',type:'string'},t,d,{name:'navigationTargets',multiple:true,getElementId:function(n){return n.label;},createElement:function(n,e){var f=e.objectStack[0].sina;var g=f._createNavigationTarget({label:'',targetUrl:''});g.parent=e.objectStack[2];return g;},type:{type:'object',typeName:'NavigationTarget',properties:[{name:'label',type:'string'},{name:'targetUrl',type:'string'}]}}]}}]};return C.derive({_init:function(e){return C.prototype._init.apply(this,[s,e]);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/Formatter.js":function(){sinaDefine(['../../core/core'],function(c){"use strict";return c.defineClass({initAsync:function(){},format:function(o){return o;},formatAsync:function(o){o=this.format(o);return c.Promise.resolve(o);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/NavtargetsInResultSetFormatter.js":function(){sinaDefine(['../../core/core','./Formatter','../../core/util'],function(c,F,u){"use strict";return F.derive({initAsync:function(){},format:function(r){return r;},formatAsync:function(r){r=u.addPotentialNavTargetsToAttribute(r);return c.Promise.resolve(r);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/RemovePureAdvancedSearchFacetsFormatter.js":function(){sinaDefine(['../../core/core','./Formatter','../../core/util'],function(c,F,u){"use strict";return F.derive({initAsync:function(){},format:function(r){return u.removePureAdvancedSearchFacets(r);},formatAsync:function(r){r=u.removePureAdvancedSearchFacets(r);return c.Promise.resolve(r);}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/formatters/ResultValueFormatter.js":function(){sinaDefine(['../../core/core','./Formatter'],function(c,F){"use strict";return F.derive({initAsync:function(){},format:function(r){return this._formatDataInUI5Form(r);},formatAsync:function(r){r=this._formatDataInUI5Form(r);return c.Promise.resolve(r);},_formatDataInUI5Form:function(r){if(!sap&&!sap.ui&&!sap.ui.core&&!sap.ui.core.format){return r;}var t=this;t.sina=r.sina;r.items.forEach(function(i){if(t.sina.getDataSource(i.dataSource.id)===undefined){return;}if(jQuery.isEmptyObject(t.sina.getDataSource(i.dataSource.id).attributeMetadataMap)){return;}t.attributeMap=t.sina.getDataSource(i.dataSource.id).attributeMetadataMap;i.titleAttributes.forEach(function(a){t._formatHybridAttribute(a);});i.titleDescriptionAttributes.forEach(function(a){t._formatHybridAttribute(a);});i.detailAttributes.forEach(function(a){t._formatHybridAttribute(a);});});return r;},_formatHybridAttribute:function(a){var t=this;if(a.attributes){for(var i=0;i<a.attributes.length;i++){t._formatSingleAttribute(a.attributes[i].attribute);}}if(a.description){var d=a.description;t._formatSingleAttribute(d);}if(t.attributeMap[a.id]){t._formatSingleAttribute(a);}},_formatSingleAttribute:function(a){var t=this;if(a.valueFormatted===undefined){a.valueFormatted=t._getFormattedValue(a);}a.valueHighlighted=a.valueFormatted;if(a.isHighlighted){a.valueHighlighted='<b>'+a.valueHighlighted+'</b>';}},_getFormattedValue:function(a){var t=this.sina.AttributeType;var u=undefined;var v=a.value;switch(this.attributeMap[a.id].type){case t.Integer:u=sap.ui.core.format.NumberFormat.getIntegerInstance();break;case t.Double:u=sap.ui.core.format.NumberFormat.getFloatInstance({"decimals":2});break;case t.Timestamp:if(isNaN(Date.parse(a.value))===false){u=sap.ui.core.format.DateFormat.getDateTimeInstance();}break;case t.Date:if(isNaN(Date.parse(a.value))===false){u=sap.ui.core.format.DateFormat.getDateInstance();v=new Date(a.value);}break;case t.Time:if(isNaN(Date.parse("1970/01/01 "+a.value))===false){u=sap.ui.core.format.DateFormat.getTimeInstance();v=new Date("1970/01/01 "+a.value);}break;}if(u&&u.format(v)!==undefined){return u.format(v);}else{return a.value;}}});});
},
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/sinaFactory.js":'window.sinaRequire=window.sinaRequire||(window.sap&&window.sap.ui&&window.sap.ui.require)||window.require;window.sinaDefine=window.sinaDefine||(window.sap&&window.sap.ui&&window.sap.ui.define)||window.define;window.sinaLog=window.sinaLog||(window.jQuery&&window.jQuery.sap&&window.jQuery.sap.log)||window.console;var modules=["../core/core","../core/util","./Sina"];var isSapRequire=window.sap&&window.sap.ui&&window.sap.ui.require&&window.sap.ui.require===window.sinaRequire;if(!isSapRequire){modules.push("module");}sinaDefine(modules,function(c,u,S,m){"use strict";return{createAsync:function(a){return this._normalizeConfiguration(a).then(function(a){return new c.Promise(function(r,b){sinaRequire([a.provider],function(p){var d=new p();var s=new S(d);return s._initAsync.apply(s,[a]).then(function(){r(s);},function(e){b(e);});},function(e){sinaLog.error("require error: "+e);b(e);});});});},createByTrialAsync:function(i,a){var b;return Promise.all(c.map(i,this._normalizeConfiguration.bind(this))).then(function(n){b=n;return this._mixinUrlConfiguration(b);}.bind(this)).then(function(){return this._createSinaRecursively(b,a);}.bind(this));},_normalizeConfiguration:function(a){return new c.Promise(function(r,b){if(c.isString(a)&&a.indexOf("/")>=0&&a.indexOf("Provider")<0&&a[0]!=="{"){sinaRequire([a],function(a){this._normalizeConfiguration(a).then(function(a){r(a);});}.bind(this));return;}if(c.isString(a)&&a[0]!=="{"){a=\'{ "provider" : "\'+a+\'"}\';}if(c.isString(a)){a=JSON.parse(a);}if(a.provider.indexOf("/")<0){if(isSapRequire){a.provider=this._calculateProviderUrlSap(a.provider);}else{a.provider=this._calculateProviderUrl(a.provider);}}r(a);}.bind(this));},_calculateProviderUrlSap:function(p){var a="sap/ushell/renderers/fiori2/search/sinaNext/providers/";var s="/Provider";return a+p+s;},_calculateProviderUrl:function(p){var a=m.uri.split("/").slice(0,-1).join("/")+"/../providers/";var s="/Provider";return a+p+s;},_readConfigurationFromUrl:function(){var s=u.getUrlParameter("sinaConfiguration");if(s){return this._normalizeConfiguration(s);}var a=u.getUrlParameter("sinaProvider");if(a){return this._normalizeConfiguration(a);}return c.Promise.resolve();},_createSinaRecursively:function(a,b){b=b||function(){return true;};var d=function(i){if(i>=a.length){return c.Promise.reject(new c.Exception("sina creation by trial failed"));}var e=a[i];return this.createAsync(e).then(function(s){if(b(s)){return s;}return d(i+1);}.bind(this),function(){return d(i+1);}.bind(this));}.bind(this);return d(0);},_mixinUrlConfiguration:function(a){return this._readConfigurationFromUrl().then(function(b){if(!b){return;}var f=false;for(var i=0;i<a.length;++i){var d=a[i];if(d.provider.indexOf("/dummy/Provider")<0&&d.provider!==b.provider){a.splice(i,1);i--;continue;}if(d.provider===b.provider){f=true;this._mergeConfiguration(d,b);}}if(!f){a.splice(0,0,b);}}.bind(this));},_mergeConfiguration:function(a,b){for(var p in b){a[p]=b[p];}}};});\n',
	"sap/ushell/renderers/fiori2/search/sinaNext/sina/util.js":function(){sinaDefine(['./ComparisonOperator'],function(C){"use strict";var m={};m.convertOperator2Wildcards=function(v,o){if(o===C.Eq){return v;}else{var r=[];var a=v.split(' ');for(var i=0;i<a.length;i++){var t=a[i].trim();if(t.length===0){continue;}switch(o){case C.Co:t='*'+t+'*';break;case C.Bw:t=t+'*';break;case C.Ew:t='*'+t;break;default:break;}r.push(t);}return r.join(' ');}};return m;});
}
},"sap/fiori/core-ext-light"
);
//# sourceMappingURL=core-ext-light-0.js.map