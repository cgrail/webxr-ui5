/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/f/cards/BaseContent","sap/m/List","sap/m/StandardListItem","sap/ui/base/ManagedObject","sap/f/cards/ActionEnablement"],function(B,s,S,M,A){"use strict";var L=B.extend("sap.f.cards.ListContent",{renderer:{}});L.prototype._getList=function(){if(this._bIsBeingDestroyed){return null;}var l=this.getAggregation("_content");if(!l){l=new s({id:this.getId()+"-list",growing:false,showNoData:false,showSeparators:"None"});this.setAggregation("_content",l);}return l;};L.prototype.init=function(){B.prototype.init.apply(this,arguments);var l=this._getList();var t=this;l.attachUpdateFinished(function(){if(t._iVisibleItems){var I=l.getItems();for(var i=t._iVisibleItems+1;i<I.length;i++){I[i].setVisible(false);}}});this._oItemTemplate=new S({iconDensityAware:false});};L.prototype.exit=function(){if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null;}};L.prototype.setConfiguration=function(c){B.prototype.setConfiguration.apply(this,arguments);if(!c){return this;}if(c.items){this._setStaticItems(c.items);return this;}if(c.item){this._setItem(c.item);}return this;};L.prototype._setItem=function(i){i.title&&this._bindItemProperty("title",i.title.value);i.description&&this._bindItemProperty("description",i.description.value);i.icon&&i.icon.src&&this._bindItemProperty("icon",i.icon.src);i.highlight&&this._bindItemProperty("highlight",i.highlight);i.info&&this._bindItemProperty("info",i.info.value);i.info&&this._bindItemProperty("infoState",i.info.state);this._attachActions(i,this._oItemTemplate);var p="/";var c=this.getConfiguration();if(c.data&&c.data.path){p=c.data.path;}this._getList().bindItems({path:p,template:this._oItemTemplate});};L.prototype._setStaticItems=function(i){var l=this._getList();i.forEach(function(I){var o=new S({iconDensityAware:false,title:I.title?I.title:"",description:I.description?I.description:"",icon:I.icon?I.icon:"",infoState:I.infoState?I.infoState:"None",info:I.info?I.info:"",highlight:I.highlight?I.highlight:"None"});if(I.action){o.setType("Navigation");if(I.action.url){o.attachPress(function(){window.open(I.action.url,I.target||"_blank");});}}l.addItem(o);});};L.prototype._bindItemProperty=function(p,P){if(!P){return;}var b=M.bindingParser(P);if(b){this._oItemTemplate.bindProperty(p,b);}else{this._oItemTemplate.setProperty(p,P);}};A.enrich(L);return L;});
