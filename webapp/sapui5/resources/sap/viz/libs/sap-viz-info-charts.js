/* SAP CVOM 4.0 Â© <2012-2014> SAP SE. All rights reserved. Build Version 7.13.0, Build Context N/A */
sap.viz.extapi.env.Language.register({id:'language',value:{IDS_BASESINGLECHART:"Base Single Chart",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_TRELLISCOMBINATIONEXCHART:"Trellis Combination Chart",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_BULLETFORECASTVALUES:"Forecast Values",IDS_TRELLISPERCENTAGEHORIZONTALAREACHART:"Trellis 100% Horizontal Area Chart",IDS_ANIMATION:"animation",IDS_COLORING_TYPE_POSITIVE:"Good",IDS_INVALID_DATE:"Invalid date",IDS_ITEM_SELECTED:"item selected",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_GRIDVISIBLE:"gridVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_TREECHART:"Tree",IDS_TRELLISHORIZONTALLINECHART:"Trellis Horizontal Line Chart",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_MULTIPIEWITHDEPTHCHART:"Multiple Pie with Depth Chart",IDS_TRELLISBARCHART:"Trellis Bar Chart",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart with 2 X-Axes",IDS_TIMEVALUEBUBBLECHART:"Time Bubble Chart",IDS_FORMAT:"Format",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_LABEL:"Label",IDS_TRELLISPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart",IDS_SECONDARYVALUES:"Secondary Values",IDS_DATA_FRAME:"Data Frame",IDS_SEMANTIC_DEFAULT_TITLE:"Semantic Rules",IDS_TIMEBUBBLECHART:"Time Bubble Chart",IDS_COLORING_TYPE_NEUTRAL:"Neutral",IDS_NETLINK:"Network Link",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_TRELLISAREACHART:"Trellis Area Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_INCREASING:"Increasing",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_VALUE_AXIS:"Value Axis",IDS_ABOVE_IS_GOOD:"Above is Good",IDS_TIMESERIESCOLUMNCHART:"Column Chart for Date/Time Series",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_TRELLISHORIZONTALCOMBINATIONCHART:"Trellis Combined Bar Line Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_ENDCOLUMN:"endColumn",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DEFAULTMND:"All Measures",IDS_VALUE_SELECTED:"value selected",IDS_MARKERS:"Markers",IDS_TAGFAMILY:"Tags Family",IDS_POSITIVE_INFINITY:"+Infinity",IDS_PRIMARYVALUES:"Primary Values",IDS_DONUTWITHDEPTHCHART:"Doughnut with Depth Chart",IDS_LEGEND_TITLE:"Title of Legend",IDS_TREENODE:"Tree Node",IDS_VERTICALBULLETCHART:"Vertical Bullet Chart",IDS_FISCALPERIOD:"Fiscal Period",IDS_CATEGORY_AXIS2:"Category Axis 2",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_TRELLISBULLETCHART:"Trellis Bullet Chart",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDONUTWITHDEPTHCHART:"Multiple Doughnut with Depth Chart",IDS_AUTOBINNINGOTHERS:"Others",IDS_PIESECTORSIZE:"Sector Size",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_COLORING_TYPE_OTHER:"Other",IDS_COLUMNCONFIG:"columnConfig",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_TAGNAME:"Tags Name",IDS_STARTCOLOR:"startcolor",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_STARTCOLUMN:"startColumn",IDS_TYPE:"Type",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_NUMBERCHART_VALUE:"Value",IDS_TRELLISSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart",IDS_SHAPE:"Shape",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_SCATTERCHART:"Scatter Plot",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_WATERFALLTYPE:"Waterfall Type",IDS_SEMANTICCOLOROTHERS:"Others",IDS_REGIONCOLOR:"Region Color",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_BORDER:"Border",IDS_ITEMS_SELECTED:"items selected",IDS_TRENDLINE_LINEAR:"Linear Regression",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_REFERENCEVALUES:"Reference Values",IDS_WATERFALLCHART:"Waterfall Chart",IDS_TRELLISHORIZONTALAREACHART:"Trellis Horizontal Area Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_DUALTIMESERIESCOMBINATIONCHART:"Combined Column Line Chart for Date/Time Series with 2 Y-Axes",IDS_VISIBLE:"visible",IDS_GRIDLINE:"Gridline",IDS_BULLETADDITIONALVALUES:"Additional Values",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_SIZE:"size",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_TRELLISSCATTERCHART:"Trellis Scatter Chart",IDS_TARGET:"Target",ID_FORECAST_VALUES:"Forecast Values",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_TARGETVALUES:"Target Values",IDS_LOWCOLUMN:"lowColumn",IDS_TIMESERIESBUBBLECHART:"Bubble Chart for Date/Time Series",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_FILLVISIBLE:"fillVisible",IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart with 2 Y-Axes",IDS_END_OF_PERIOD:"End of Period",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_PIECHART:"Pie Chart",IDS_VERTICALBARCHART:"Column Chart",IDS_TIME_FROM:"From",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart",IDS_ISNOVALUE:"No value",IDS_BUBBLEWIDTH:"Bubble Width",IDS_TIMESERIESSCATTERCHART:"Scatter Plot for Date/Time Series",IDS_BUBBLESIZE:"Bubble Size",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_TIMESERIESSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart for Date/Time Series",IDS_VALUEFORMAT:"valueFormat",IDS_PIEWITHDEPTHCHART:"Pie with Depth Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_REFINEVISIBLE:"reflineVisible",IDS_TRELLISSTACKEDBARCHART:"Trellis Stacked Bar Chart",IDS_HEATMAPCHART:"Heat Map",IDS_BULLETACTUALVALUES:"Actual Values",IDS_DUALLINECHART:"Line Chart with 2 Y-Axes",IDS_BELOW_IS_BAD:"Below is Bad",IDS_WIDTH:"Width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MEKKOCHART:"Marimekko chart",IDS_COMBINATIONEXCHART:"Combination Chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Marimekko Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_TRELLISRADARCHART:"Trellis Radar Chart",IDS_TRELLISVERTICALBULLETCHART:"Trellis Vertical Bullet Chart",IDS_HEADERVISIBLE:"headerVisible",IDS_FISCALYEAR:"Fiscal Year",IDS_LINECHART:"Line Chart",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Marimekko Chart",IDS_NUMBERCHART:"Numeric Point",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_MARKER:"Marker",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_SEMANTICTOTAL:"Total",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_TRELLIS_COLUMN:"Trellis Column",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_PERCENTAGEMEKKOCHART:"100% Marimekko Chart",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_RADARCHART:"Radar Chart",IDS_TRELLISCOMBINATIONCHART:"Trellis Combined Column Line Chart",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_TRELLISPERCENTAGEAREACHART:"Trellis 100% Area Chart",IDS_TRELLISDUALSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart with 2 Y-Axes",IDS_SELECTABILITY:"Selectability",IDS_AXISVISIBLE:"axisVisible",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_ERROR_INVALIDE_DATA_MULTIPLEUNITS:"Some measures have different units.",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_AXISLABELS:"Axis Labels",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_COLORING_TYPE_CRITICAL:"Warning",IDS_TRELLIS_ROW:"Trellis Row",IDS_TIMESERIESBULLETCHART:"Bullet Chart for Date/Time Series",IDS_MULTILINECHART:"Multiple Line Chart",IDS_BARCHART:"Bar Chart",IDS_3D_BAR:"3D Bar Chart",IDS_TRELLISCOLUMNCHART:"Trellis Column Chart",IDS_DATAUPDATING:"dataUpdating",IDS_3D_COLUMN:"3D Column Chart",IDS_TRELLISPIECHART:"Trellis Pie Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_NETWORKCHART:"Network Chart",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_DECREASING:"Decreasing",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart with 2 X-Axes",IDS_COLOR:"color",IDS_TEXT:"Text",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_TRELLISLINECHART:"Trellis Line Chart",IDS_DATALOADING:"dataLoading",IDS_BASECHART:"Base Chart",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_TRELLISDUALCOLUMNCHART:"Trellis Column Chart with 2 Y-Axes",IDS_LINECONFIG:"lineConfig",IDS_VALUES_SELECTED:"values selected",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_TRELLISDONUTCHART:"Trellis Doughnut Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_HIGHCOLUMN:"highColumn",IDS_TREEMAPCHART:"Tree Map",IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART:"100% Stacked Column Chart for Date/Time Series",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_TIMELINECHART:"Line Chart for Date/Time Series",IDS_SEMANTICCOLORRANGE:"Semantic Range",IDS_MODE:"Mode",IDS_TRELLISDUALLINECHART:"Trellis Line Chart with 2 Y-Axes",IDS_TIME_TO:"To",IDS_COLORING_TYPE_NEGATIVE:"Bad",IDS_BULLETCHART:"Bullet Chart",IDS_AREACHART:"Area Chart",IDS_TIMESERIESCOMBINATIONCHART:"Combined Column Line Chart for Date/Time Series",IDS_FORECAST_VALUES:"Forecast Values",IDS_LINE:"Line",IDS_ENDCOLOR:"endcolor",IDS_CATEGORY_AXIS:"Category Axis",IDS_TIMESERIESSTACKEDCOLUMNCHART:"Stacked Column Chart for Date/Time Series",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_VALUE_AXIS2:"Value Axis 2",IDS_WEIGHT:"weight",IDS_REGIONSHAPE:"Region Shape",IDS_DONUTCHART:"Donut Chart",IDS_TITLE:"Title",IDS_TIMESERIESWATERFALLCHART:"Waterfall Chart for Date/Time Series",IDS_CURRENT_SELECTION:"Current Selection",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_COLUMNSEQUENCE:"columnSequence",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_RADARAXES:"Radar Axes",IDS_HORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart",IDS_DAY:"Day",IDS_PERCENTAGEDONUTCHART:"100% Donut Chart",IDS_DRAWINGEFFECT:"drawingEffect",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_TRELLISBUBBLECHART:"Trellis Bubble Chart",IDS_TRELLISDUALBARCHART:"Trellis Bar Chart with 2 X-Axes",IDS_TRELLISDUALHORIZONTALLINECHART:"Trellis Horizontal Line Chart with 2 X-Axes",IDS_TAGWEIGHT:"Tags Weight",IDS_BAR:"Bar",IDS_STACKEDCOMBINATIONCHART:"Combined Stacked Line Chart",IDS_POSITION:"Position",IDS_TRELLISDUALSTACKEDBARCHART:"Trellis Stacked Bar Chart with 2 X-Axes",IDS_NEGATIVE_INFINITY:"-Infinity",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_DUALSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart with 2 Y-Axes",IDS_MULTIDONUTCHART:"Multiple Doughnut Chart",IDS_RECTANGLETITLE:"Rectangle Title",}});sap.viz.moduleloader.originalDefine=define;sap.viz.moduleloader.originalRequire=require;sap.viz.moduleloader.originalRequirejs=requirejs;var define=sap.viz.moduleloader.define;var require=sap.viz.moduleloader.require.config({context:'info'});var requirejs=require;define('sap/viz/chart/layout/BaseLayout',['sap/viz/framework/property/PropertyManager'],function(P){function B(c){this.config=new P();this.config.add({container:c,totalWidth:0,totalHeight:0});}var p=B.prototype;p.layout=function(c){};p._dictToArray=function(d){var a=[];for(var k in d){if(d.hasOwnProperty(k)){a.push(d[k]);}}return a;};p.destroy=function(){this.config.destroy();this.config=null;};return B;});define('sap/viz/chart/layout/DockLayout',["sap/viz/framework/common/util/oo",'sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/PositionUtil',"sap/viz/chart/layout/BaseLayout"],function(o,C,T,N,P,B){var D=function(){D.superclass.constructor.apply(this,arguments);this.config.add({padding:null,paddingLeft:null,paddingRight:null,paddingTop:null,paddingBottom:null,isTrellis:false});};o.extend(D,B);D.Position={top:"top",bottom:"bottom",left:"left",right:"right"};var M=108;var c=5;var d=0;var F=C.AXIS.FIX_SPACING_MAX_IN_PX;var e=C.TITLE.FIX_SPACING_MAX_IN_PX;function h(b,p,m,i){var a=p.minWidth||0;var j=p.minHeight||0;if(b.width<a||b.height<j){return false;}if(p.width&&p.height){if(p.width<p.minWidth||p.height<p.minHeight){return false;}}if(i===false&&m.maxWidth&&m.maxWidth<p.minWidth){return false;}if(i===true&&m.maxHeight&&m.maxHeight<p.minHeight){return false;}return true;}function g(w,a,l){var r={};if(l==null){return r;}[{d:'width',md:'maxWidth',pd:w},{d:'height',md:'maxHeight',pd:a}].forEach(function(b){var i,j;i=parseFloat(l[b.d])>=0&&N.getSizeValue(l[b.d],b.pd);j=N.getSizeValue(l[b.md],b.pd);if(i>j){r[b.md]=i;}else if(l[b.md]){r[b.md]=j;}});return r;}function f(a,w,b){var i=N.getPositiveInt;var j=C.PADDING.DEFAULT;if(j<1&&j>0){j=j*Math.min(w,b);}var p=i(a.get("padding"),j);var k=i(a.get("paddingTop"),p);var l=i(a.get("paddingRight"),p);var m=i(a.get("paddingBottom"),p);var n=i(a.get("paddingLeft"),p);var q=a.get('isFixedPadding');if(!q&&(w<=M||b<=M)){k=Math.min(c,k);l=Math.min(c,l);m=Math.min(c,m);n=Math.min(c,n);a.set('paddingTop',k);a.set('paddingRight',l);a.set('paddingBottom',m);a.set('paddingLeft',n);}return{paddingTop:k,paddingRight:l,paddingBottom:m,paddingLeft:n};}function s(x){return x.option.spacing;}D.prototype.layout=function(j,k){var l=this.config;var w=l.get('totalWidth');var m=l.get('totalHeight');var n=l.get('isFixedPadding');var p=s;var q=f(l,w,m);var r={x:q.paddingLeft,y:q.paddingTop,width:(w-(q.paddingLeft+q.paddingRight))>0?(w-(q.paddingLeft+q.paddingRight)):d,height:(m-(q.paddingTop+q.paddingBottom))>0?(m-(q.paddingTop+q.paddingBottom)):d};var t=r.width;var u=r.height;var v=this._dictToArray(j);v.sort(function(a,b){return a.option.priority-b.option.priority;});var x={};var y=l.get('isTrellis');var z=function(r){if(r.width<1){r.width=0;}if(r.height<1){r.height=0;}};for(var i=0;i<v.length;i++){var A=v[i];var E=A.option;var G=A.module;var H=g(t,u,E);var I=P.isHorizontal(E.position);var J=(I?parseFloat(E.height)>=0:parseFloat(E.width)>=0)&&A.module.properties().visible===true;if(E&&E.position){var K,L;var O=p(A);if(O){K=O.spacingWithMainToRough||0;L=O.spacingMaxInPX||0;}else{K=0;L=0;}if(J){r.maxWidth=N.getSizeValue(E.width,r.width-Math.min(K*r.width,L));r.maxHeight=N.getSizeValue(E.height,r.height-(G.alias==='title'?0:Math.min(K*r.height,L)));}var Q=G.getPreferredSize(r,y,J,k);if(!J&&!h(r,Q,H,I)){x[G.alias]={x:0,y:0,width:0,height:0};continue;}var R={width:J?N.getSizeValue(E.width,r.width-Math.min(K*r.width,L)):Q.width,height:J?N.getSizeValue(E.height,r.height-(G.alias==='title'?0:Math.min(K*r.height,L))):Q.height};if(I){if(Q.maxSize&&Q.maxSize.width<r.width){R.actualWidth=Q.maxSize.width;}R.width=r.width;if(H.maxHeight&&H.maxHeight<R.height){R.height=H.maxHeight;}}else{if(Q.maxSize&&Q.maxSize.height<r.height){R.actualHeight=Q.maxSize.height;}R.height=r.height;if(H.maxWidth&&H.maxWidth<R.width){R.width=H.maxWidth;}}if(!J&&(R.width===0||R.height===0)){K=0;L=0;}var S=E.position;if(D.Position[S]===undefined){if(E.defaultPosition){S=E.defaultPosition;}}var U=0;var V=n&&R.width!==0&&R.height!==0;if(S===D.Position.top){U=V?e:(J&&G.alias==='title'?0:Math.min(K*r.height,L));R.x=r.x;R.y=r.y;r.y+=(R.height+U);r.height-=(R.height+U);}else if(S===D.Position.bottom){U=V?e:(J&&G.alias==='title'?0:Math.min(K*r.height,L));r.height-=R.height;R.x=r.x;R.y=r.y+r.height;if(n&&G.alias==='legendGroup'){U=F;}r.height-=U;if(r.height<0){r.height=0;}}else if(S===D.Position.left){U=V?e:Math.min(K*r.width,L);R.x=r.x;R.y=r.y;r.x+=R.width+U;r.width-=(R.width+U);}else if(S===D.Position.right){U=V?e:Math.min(K*r.width,L);r.width-=R.width;R.x=r.x+r.width;R.y=r.y;r.width-=U;if(r.width<0){r.width=0;}}x[G.alias]=R;if(J){z(r);if(!h(R,Q,H,I)){x[G.alias]={x:x[G.alias].x?x[G.alias].x:0,y:x[G.alias].y?x[G.alias].y:0,width:0,height:0};}}}else{x[G.alias]={x:r.x,y:r.y,width:r.width,height:r.height};}}return x;};return D;});define('sap/viz/chart/layout/GridLayout',["sap/viz/framework/common/util/oo",'sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/PositionUtil',"sap/viz/chart/layout/DockLayout"],function(o,C,T,N,P,D){var G=function(){G.superclass.constructor.apply(this,arguments);this.config.add({legendGroup:{layout:{respectPlotPosition:true,alignment:"topLeft",}},title:{layout:{respectPlotPosition:true}}});};o.extend(G,D);G.prototype.layout=function(c,a){var p=D.Position;var r=G.superclass.layout.call(this,c,a);var b=this._getCenterModuleKey(c,p);if(b==null){for(var i in c){if(c.hasOwnProperty(i)){var d=c[i].module;d.setSize(r[i]);if(d.layout){d.layout();}}}return r;}var e=r[b];var f=c[b].module;f.setSize(e);if(f.layout){f.layout(a,e);}var g=e.x;var h=e.y;var j=e.width;var k=e.height;if(f.getPlotPosition){var l=f.getPlotPosition();g+=l.x;j=l.width;h+=l.y;k=l.height;}for(var m in c){if(c.hasOwnProperty(m)){if(m===b){continue;}var n=c[m].option;var q=n.position||n.defaultPosition;if((m!==C.LEGEND_GROUP.KEY||this.config.get("legendGroup.layout.respectPlotPosition"))&&(m!==C.TITLE.KEY||this.config.get("title.layout.respectPlotPosition"))){if(q==="top"||q==="bottom"){r[m].x=g;r[m].width=j;}else if(q==="left"||q==="right"){r[m].y=h;r[m].height=k;}}if(m===C.LEGEND_GROUP.KEY&&this.config.get("legendGroup.layout.alignment")==="center"){if((q==="left"||q==="right")&&r[m].actualHeight&&r[m].actualHeight<r[m].height){r[m].y+=(r[m].height-r[m].actualHeight)/2;}else if((q==="top"||q==="bottom")&&r[m].actualWidth&&r[m].actualWidth<r[m].width){r[m].x+=(r[m].width-r[m].actualWidth)/2;}}if(m===C.LEGEND_GROUP.KEY&&a.isRTL&&this.config.get("legendGroup.layout.alignment")==="topLeft"&&(q==="top"||q==="bottom")){var s=r[m].width-r[m].actualWidth;if(s>0){r[m].x+=s;}}var t=c[m].module;t.setSize(r[m]);if(t.layout){t.layout();}}}return r;};G.prototype._getCenterModuleKey=function(c,p){for(var k in c){if(c.hasOwnProperty(k)){var a=c[k].option;var b=a.position||a.defaultPosition;if(p[b]==null){return k;}}}return null;};return G;});define('sap/viz/chart/components/UIComponent',["sap/viz/framework/common/util/EventDispatch","sap/viz/framework/core/Runtime","sap/viz/framework/property/PropertyManager"],function Setup(E,R,P){var U=function(r,o){o=o||{};this._options=o;this._name=o.name?o.name:null;this._eventDispatch=new E();this._data=null;this.alias=o.alias||null;this._renderTo='SVG';this._size={width:0,height:0};this._realSize={width:0,height:0};this._runtime=r?r:R._create(o);var p=o.properties||this._runtime._propertyMgr;this._properties=(this._name)?p.proxy(this._name):p;if(r==null){this._addDefaultProperties();}};U.prototype._isRTL=function(){var i=false;var e=this._runtime.envManager();if(e){i=e.isRTL();}return i;};U.prototype.properties=function(p){if(arguments.length===0||typeof p==='string'){return this._properties.get(p);}this._properties.set(p);};U.prototype.runtime=function(){return this._runtime;};U.prototype.isVisible=function(){return true;};U.prototype.getName=function(){return this._name;};U.prototype.setData=function(d){this._data=d;return this;};U.prototype.getData=function(){return this._data;};U.prototype.renderTo=function(d){if(arguments.length){this._renderTo=d;return this;}return this._renderTo;};U.prototype.setSize=function(s){if(s.width!=null){this._size.width=s.width;this._realSize.width=s.width;}if(s.height!=null){this._size.height=s.height;this._realSize.height=s.height;}return this;};U.prototype.getSize=function(){return{height:this._size.height,width:this._size.width};};U.prototype.clearSize=function(){this._size.height=0;this._size.width=0;return this;};U.prototype.setRealSize=function(s){if(s.width!=null){this._realSize.width=s.width;}if(s.height!=null){this._realSize.height=s.height;}return this;};U.prototype.getPreferredSize=function(m){};U.prototype.render=function(r){};U.prototype.getDispatch=function(){return this._eventDispatch;};U.prototype.destroy=function(){if(this._eventDispatch){this._eventDispatch.destroy();}this._runtime=null;this._eventDispatch=null;this._data=null;if(this._properties&&this._properties.origin!=this._properties){this._properties.destroy();}this._properties=null;this._size=null;this._name=null;this._options=null;this._renderTo=null;this._realSize=null;this.alias=null;};U.prototype._exposeMoreEvents=function(){this._eventDispatch.addEventTypes.apply(this._eventDispatch,arguments);return this;};U.prototype._addDefaultProperties=function(){};U.prototype.statusChanged=function(s){};return U;});define('sap/viz/chart/components/util/BoundUtil',[],function Setup(){var c='v-bound';var B={drawBound:function(s,w,h,a,b){var r;if(w<0||h<0){return null;}if(s.select('.'+c).node()==null){r=s.insert('rect',':first-child').attr('class',c).attr('width',w).attr('height',h);if(b){r.attr("fill","transparent");}else{r.attr('visibility','hidden');}}else{r=s.select('.'+c).attr('width',w).attr('height',h);}if(a){for(var i in a){if(a.hasOwnProperty(i)){r.attr(i,a[i]);}}}return r;}};return B;});define('sap/viz/chart/components/util/StyleUtils',[],function(){var c={color:"fill",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",letterSpacing:"letter-spacing",fontStyle:"font-style"};var s={};s.convertToCss=function(a){var r=[];for(var n in c){if(a[n]!=null){r.push(c[n]+":"+a[n]);}}return r.join(";");};s.buildParentStyle=function(a,p){var r={};var b;for(b in a){if(a.hasOwnProperty(b)){r[b]=(p&&p[b])||a[b];}}return r;};return s;});define('sap/viz/chart/components/util/TextUtils',['sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/UADetector',"sap/viz/framework/common/util/GeometryUtils",'sap/viz/chart/components/util/StyleUtils'],function Setup(T,N,U,G,S){var n="http://www.w3.org/2000/svg";var a;var b;var c;var d;var f;var g;var j=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var t={};var k=[];var l={};var m={};var o=[];var p={};function q(){var s=document.body.appendChild(document.createElementNS(n,"svg"));s.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:1px;height:1px";return s;}function u(){if(!a){if(!b){b=q();}a=b.appendChild(document.createElementNS(n,"text"));}return a;}function v(e,h){var a=u();if(!h){a.removeAttribute("style");}else{if(!T.isString(h)){var r=U.isIE()?h.ownerSVGElement.getComputedStyle(h):window.getComputedStyle(h);var y="";j.forEach(function(i){var s=r.getPropertyValue(i);if(s!==null){y+=i+":"+s+";";}});h=y;}a.style.cssText=h;}if(e===undefined||e===null){e="";}a.textContent=e;return a;}function w(a){var e=a.textContent;if(e.substr(e.length-1,1)===' '){var s='M';a.textContent=s;var h=a.getComputedTextLength();a.textContent=e+s;var i=a.getComputedTextLength();var r=i-h;a.textContent=e;return r;}else{return a.getComputedTextLength();}}function x(a,i){return(U.isIE()&&(i<=0||(a.getSubStringLength(0,(i-1))<a.getSubStringLength(0,i))));}function z(e,h,r,s,y,H,I,J){J=J||"";var K={};var L=0;K.realLength=0;var M="";var O;if(e){O=e.toString();M=O+J;}function P(){if(h){h.textContent="";}K.text="";}if(r<=0){P();return K;}var a,Q;a=y?u():v(M,s||h);Q=I?a.getBoundingClientRect().width:w(a);if(Q<=r){if(h){h.textContent=M;}K.text=M;K.realLength=Q;return K;}var R="..."+s;if(!o[R]){a.textContent="...";o[R]=I?a.getBoundingClientRect().width:w(a);}else{if(M.length>3){if(r<o[R]/3*4){P();return K;}}else if(r<o[R]/3*M.length){P();return K;}}L=o[R];r-=L;a.textContent=M;var i;var V=false;if(r>0){var W=M.length;var X=J&&J.length||0;i=Math.ceil(r/Q*W)-X;var Y;if(!x(a,i)||J){a.textContent=e.toString().substring(0,i)+J;Y=I?a.getBoundingClientRect().width:w(a);}else{Y=a.getSubStringLength(0,i);}var Z=Y;var $=Y<=r;var _=$?+1:-1;while(0<i&&i<=W){Z=B($,O,J,i,a,h,K,s,r,H,I,L,Z);if(Z===-1){V=true;break;}i+=_;}}if(!V){P();}return K;}function A(s){if(T.isExist(s)){var e=s[s.length-1]===' ';while(e){s=s.substring(0,s.length-1);e=s[s.length-1]===' ';}}return s;}function B(e,h,r,i,a,s,y,H,I,J,K,L,M){var O=h.substring(0,i)+r;var P,Q;if(!x(a,i)||r){a.textContent=O;P=K?a.getBoundingClientRect().width:w(a);}else{P=a.getSubStringLength(0,i);}if((e&&P>I)||(!e&&P<=I)){O=e?h.substring(0,i-1):h.substring(0,i);var R=false;if(K){var V=A(O);O=V.substring(0,V.length-1);R=O.length===0;}if(J){Q=R?"":r+"..."+O;}else{Q=R?"":O+"..."+r;}if(s){s.textContent=Q;s.appendChild(document.createElementNS(s.namespaceURI,"title")).textContent=h+r;}y.text=Q;y.realLength=(e?M:P)+L;return-1;}return P;}function C(h){var i={};var r=[];h.forEach(function(e){if(!i[e]){i[e]=true;r.push(e);}});return r;}function D(e){if("[]\\^$.|?*+(){}".split("").indexOf(e)>-1){return"\\"+e;}else{return e;}}function E(s,e){if(s==null||s===""){return s;}var h=C(s.split(""));var r="["+h.map(D).join("")+"]+";var i=true;if(e==="start"){r="^"+r;i=false;}else if(e==="end"){r=r+"$";i=false;}return i?new RegExp(r,"g"):new RegExp(r);}function F(e){return E(e.join(""));}return{measure:function(e,s){if(e===''){return{width:0,height:0,x:0,y:0};}var h=G.getBBox(v(e,s));return{width:h.width,height:h.height,x:h.x,y:h.y};},measureInCanvas:function(e,h,i,r){if(!r||!h||!i){return;}var s=0;if(!c){c=document.createElement("canvas");c.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:0px;height:0px;visibility:hidden";document.body.appendChild(c);}if(c.getContext){if(!d){d=c.getContext("2d");}var y=i+" "+h+" "+r;if(f!=y){f=y;d.font=y;}s=d.measureText(e).width;}if(!l[h]){l[h]=N.preciseSimple(parseFloat(h)*1.2);}var H=l[h];return{width:s,height:H};},fastMeasure:function(e,h,i,r,s,y){var H=e+h+i+r+s;if(y){H+=y;}var I=t[H];if(!I){var J="font-size:"+h+"; font-weight:"+i+"; font-family:"+r+"; letter-spacing:"+s;if(y){J=J+'; font-style: '+y;}t[H]=this.measure(e,J);I=t[H];}return{width:I.width,height:I.height,x:I.x,y:I.y};},bestMeasureFun:function(e,h,r,s){if(!g){var i;var y=100;var H="Test";var I=new Date().getTime();for(i=0;i<y;i++){this.measureInCanvas(H,e,h,r);}var J=new Date().getTime();var K=J-I;var L=new Date().getTime();for(i=0;i<y;i++){this.measure(H,"font-size:"+e+"; font-weight:"+h+"; font-family:"+r+"; letter-spacing:"+s);}var M=new Date().getTime();var O=M-L;if(K<O){g="C";}else{g="M";}}return g;},superFastMeasure:function(e,h,i,r){var s,y,H,I,J;if(arguments.length===2){J=this.parseStyle(h);y=J.FontSize;H=J.FontWeight;I=J.FontFamily;}else if(arguments.length===4){y=h;H=i;I=r;}s=e+y+H+I;var K=k[s];if(!K){if(this.bestMeasureFun(y,H,I)==="C"){k[s]=this.measureInCanvas(e,y,H,I);}else{k[s]=this.measure(e,"font-size:"+y+"; font-weight:"+H+"; font-family:"+I);}K=k[s];}return K;},canvasMeasure:function(e,h,i,r,L){var s,y,H,I,J,K;if(arguments.length===2){K=this.parseStyle(h);y=K.FontSize;H=K.FontWeight;I=K.FontFamily;J=K.LetterSpacing;}else{y=h;H=i;I=r;if(L!==undefined&&L!==null){J=L;}}y=y.toString();var M=y[y.length-1];if(!isNaN(parseFloat(M))){y+="px";}if(J!==undefined&&J!==null){J=J.toString();M=J[J.length-1];if(!isNaN(parseFloat(M))){J+="px";}}s=e+y+H+I;if(J!==undefined&&J!==null){s+=J;}var O=m[s];if(!O){O=(m[s]=this.measureInCanvas(e,y,H,I));}return O;},ellipsis:function(e,h,i,r,s,y){var H=z(e,h,i,r,false,(s&&s.reverseDots),(s&&s.hasLetterSpacing),y);if(s&&s.needRealLength){return H;}else{return H.text;}},ellipsisInCircle:function(e,i,r,h,s){var a=v(e,i);var y=Math.sqrt(Math.pow(r,2)-Math.pow(h+G.getBBox(a).height/2,2))*2;z(e,i,y,s,true);},verticalCentralOffset:function(e,h){var i=v(e,h);var r=G.getBBox(i);var s=-r.y;var y=parseInt(i.ownerSVGElement.getComputedStyle(i)["fontSize"],0);return(s-(r.height-y))/2;},parseStyle:function(s){var e={};var h=s.toLowerCase();e.FontSize=this.getStyleValue(h,"font-size");e.FontWeight=this.getStyleValue(h,"font-weight");e.FontFamily=this.getStyleValue(h,"font-family");e.LetterSpacing=this.getStyleValue(h,"letter-spacing");return e;},getStyleValue:function(s,e){var r,i,h;i=s.indexOf(e);if(i>=0){i=s.indexOf(":",i)+1;h=s.indexOf(";",i);if(h<0){h=s.length;}r=s.substring(i,h);}return r;},getTextBaselineOffset:function(s){var e=this.fastMeasure("Tag",s['fontSize'],s['fontWeight'],s['fontFamily'],s['letterSpacing']);return e.height+e.y;},getAbsoluteTextBaselineOffset:function(s){var e=this.fastMeasure("Tag",s['fontSize'],s['fontWeight'],s['fontFamily'],s['letterSpacing']);return e.y;},getTextBBox:function(e){var h;if(e.parentNode){h=G.getBBox(e);}else{if(!b){b=q();}b.appendChild(e);h=G.getBBox(e);}return h;},validateFontStyle:function(s){if(T.isNumber(s)){return s+"px";}return s;},destroy:function(){if(b&&b.parentNode){b.parentNode.removeChild(b);}b=null;a=null;t=[];k=[];l={};m={};o=[];if(c){c.parentNode.removeChild(c);}c=null;d=null;f=null;},wrapText:function(e,h,r,s,y){var H,I=false,J=0;var K=T.isString(y)?y:S.convertToCss(y);var L=[];var M=this.getTextLength("M...",K);if(s===1){H=this.getTextLength(e,K);if(r===undefined||r===null){I=true;J=H;}else{I=H>r;J=Math.min(H,r);}return{"lines":[e],"maxWidth":J,"beyond":I,"lineWidthArray":[J]};}var O=F(h);var P=String(e).trim();if(P===""){return{"lines":[e],"maxWidth":J,"beyond":I,"lineWidthArray":[J]};}var Q=[];var R=P.split(O);var V=R.length;if(V<=1){Q=[e];J=this.getTextLength(e,K);if(r===undefined||r===null){I=true;}else{I=J>r;J=Math.min(J,r);}L=[J];}else{var W;if(O===""){W=Array.apply(null,new Array(V-1)).map(String.prototype.valueOf,"");}else{W=P.match(O);}var X=W.length;var Y=0;var Z="";var $;for(var i=0;i<V;++i){if(I){Z=Z+(i<X?R[i]+W[i]:R[i]);}else{var _=Z+(i<X?R[i]+W[i]:R[i]);$=H;H=this.getTextLength(_,K);++Y;if(H>r){if(Y===1||Q.length===s-1){I=true;J=r>M?r:M;Z=_;continue;}else{Q.push(Z);L.push($);--i;Y=0;Z="";}}else{J=Math.max(J,H);Z=_;if(i===V-1){Q.push(Z);L.push(H);}}}}if(I){Q.push(Z);L.push(J);}}return{"lines":Q,"maxWidth":J,"beyond":I,"lineWidthArray":L};},drawWrappedText:function(e,h,r,s,H,I,J,K){var L;var M;var O=true;if(K){L=K.isRTL;M=K.ellipsisOptions;O=K.middleText;}if(T.isString(h)){h=this.wrapText(h,r,H,s,J);}e.selectAll('tspan').remove();e.selectAll('title').remove();var P=h.lines;var Q=P.length;var y=0;for(var i=0;i<Q;++i){var R=e.append("tspan").attr('aria-hidden',true);if(h.beyond){this.ellipsis(P[i],R.node(),H,S.convertToCss(J),M);R.selectAll('title').remove();}else{R.node().textContent=P[i];}R.attr("y",y).attr("x",0).attr('font-weight',J['fontWeight']).attr('font-family',J['fontFamily']).attr('font-size',J['fontSize']).attr('letter-spacing',J['letterSpacing']).attr('font-style',J['fontStyle']);y+=I;var V;if(O){V=h.lineWidthArray[i];R.attr("x",(H-V)/2);}else if(L){V=h.beyond?R.node().getComputedTextLength():h.maxWidth;R.attr("x",H-V);}}e.attr("height",I*Q);if(h.beyond){e.append("title").node().textContent=h.lines.join("");}var W=0;if(h&&h.maxWidth){W=h.maxWidth;}return W;},getTextLength:function(e,h){var i=e+h;var r=p[i];if(!r){var a=v(e,h);p[i]=w(a);r=p[i];}return r;}};});define('sap/viz/chart/components/title/Title',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/framework/common/lang/LangManager','sap/viz/chart/components/util/BoundUtil','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/StyleUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/TitleUtil'],function(o,U,l,B,T,S,a,P,b){var c=function(r,d){c.superclass.constructor.apply(this,arguments);this._wrapper=null;this._height=0;this._width=0;this._pfSize={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0};var t=this;r.zoneManager().add({tempPropertyZone:{title:{value:[],readonly:true,serializable:false,get:function(){var e=[],f,h;if(t.isVisible()){f=t._wrapper.node().getBoundingClientRect();h=[[]];h[0].push([f.left,f.top]);h[0].push([f.right,f.top]);h[0].push([f.right,f.bottom]);h[0].push([f.left,f.bottom]);e.push({"name":'title',"bound":h});if(t._wrapper&&t._wrapper.node()){var i=t._wrapper.node().ownerSVGElement;P.calcOffsetFromChart(i,e);}}return e;}}}});var p=this._properties;['height'].forEach(function(e){var f={set:function(v,i){if(v===null||parseFloat(v)>=0){return v;}else{return i.value;}}},h={layout:{}};h.layout[e]=f;p.add(h);});var g=this.runtime().graphicModel();if(g){g.registerExposedModule(d.name);}};o.extend(c,U);c.prototype.setPosition=function(p){this._position=p;};c.prototype.setSize=function(v){this._width=v.width;this._height=v.height;};c.prototype.getSize=function(){return{width:this._width,height:this._height};};c.prototype.getPosition=function(){var p="layout.position",d=this._position||this._properties.get(p);if(["top","bottom"].indexOf(d)==-1){d=this._properties.getDefault(p);}return d||"top";};c.prototype._getPostfix=function(){var d=this._runtime.statusManager().get("dynamicScale");return d&&d.onlyChartTitle&&d.postfix||"";};c.prototype.getPreferredSize=function(d,i,e,f){this._pfSize={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0};if(this._properties.get("visible")===true){var g=this._properties.get("style.fontSize");var h=this._properties.get("style.fontWeight");var j=this._properties.get("style.fontFamily");var k=this._properties.get("style.letterSpacing");var t=this._properties.get("text");if(f&&f._semanticDisplayStyleRules&&f._semanticDisplayStyleRules.title){var m=f._semanticDisplayStyleRules.title;if(m.fontWeight){h=m.fontWeight;}if(m.fontFamily){j=m.fontFamily;}}var n=b.getTextShow(t);n+=this._getPostfix();var p=T.fastMeasure(n,g,h,j,k);this._pfSize.width=this._pfSize.maxWidth=p.width;this._pfSize.height=this._pfSize.maxHeight=p.height;var q=T.fastMeasure("...",g,h,j,k);this._pfSize.minWidth=q.width;this._pfSize.minHeight=q.height;this._pfSize.width=Math.max(this._pfSize.minWidth,this._pfSize.width);this._pfSize.height=Math.max(this._pfSize.minHeight,this._pfSize.height);this._pfSize.hideOversize=true;this._pfSize.maxSizeConstant=1/3;}return this._pfSize;};c.prototype.isVisible=function(){var i=this._properties.get("visible");return i===true&&this._width>0&&this._height>0;};c.prototype.render=function(r,s){var t=this._properties.get("text");var d=b.getTextShow(t);var w=r.selectAll('text.v-title').data([d]);this._wrapper=w;var e=this.isVisible();if(e){var f=this._width;var h=this._height;var g=this._properties.get("alignment");var i,j,k,m,n;if(s&&s.title){var p=s.title;if(p.fontWeight){i=p.fontWeight;}if(p.fontFamily){j=p.fontFamily;}if(p.color){k=p.color;}if(p.letterSpacing){m=p.letterSpacing;}if(p.fontStyle){n=p.fontStyle;}}var q={color:k||this._properties.get("style.color"),fontFamily:j||this._properties.get("style.fontFamily"),fontSize:this._properties.get("style.fontSize"),fontWeight:i||this._properties.get("style.fontWeight"),letterSpacing:m||this._properties.get("style.letterSpacing"),fontStyle:n||this._properties.get("style.fontStyle")};B.drawBound(r,f,h,undefined,true);var u=g||"center";var v=null;var z=this.runtime().envManager();if(z){v=z.textAnchor();}var A={};A.reverseDots=(z&&z.reverseDots());var C=this._pfSize.width;var D=this._pfSize.width/2;if(this._pfSize.width>f){C=f;D=f/2;}var E={right:f-C,center:f/2-D,left:0}[u];if(E==null){E=f/2-D;}var x;var y;w.exit().remove();w.enter().append('text').attr('class','v-title viz-title-label');var F=this.runtime().effectManager().register({fillColor:q.color});w.attr('fill',F).attr('font-family',q.fontFamily).attr('font-size',q.fontSize).attr('font-weight',q.fontWeight).attr('font-style',q.fontStyle).attr('text-anchor',v).attr('x',E).attr('y','top'==this.getPosition()?this._pfSize.height/2:h-this._pfSize.height/2).attr('dominant-baseline','central');if(a.isIE()){w.attr('y','top'==this.getPosition()?this._pfSize.height:h).attr('dominant-baseline','auto');}T.ellipsis(d,w.node(),f,S.convertToCss(q),A,this._getPostfix());}else{r.selectAll('text.v-title').remove();}};c.prototype.destroy=function(){c.superclass.destroy.call(this);this.clear();this._wrapper=null;this._height=null;this._width=null;};c.prototype.clear=function(){if(this._wrapper){this._wrapper.remove();}};c.prototype.supportFixedLayout=true;return c;});define('sap/viz/chart/components/Background',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent',"sap/viz/framework/common/util/DataGraphics"],function(o,U,D){var a=d3.dispatch;var C='v-background-border',b='viz-plot-background-border';var c='v-background-body',e='viz-plot-background';var f="v-morphable-background";function B(r,d){B.superclass.constructor.apply(this,arguments);this._eDispatch=new a('initialized');}o.extend(B,U);var p=B.prototype;p.render=function(s){var g=this._properties;if(g.get('visible')&&this._size.width>0&&this._size.height>0){var h=s.select('.'+c);if(h.empty()){h=s.append('svg:rect').attr('class',c+' '+e+' '+f);}var r=this._data&&this._data.color||g.get('color')||'transparent';D.setData(h.node(),{color:r});var i=this._size;var j=i.height;var w=i.width;var k=this.runtime().effectManager().register({graphType:'background',fillColor:r,drawingEffect:g.get('drawingEffect'),direction:g.get('gradientDirection')});h.attr('x',0).attr('y',0).attr('width',w).attr('height',j).attr('style',"fill:"+k);var n=!(this._data&&this._data.hasBorder===false);if(n){var l=[];if(g.get('border.left.visible')){l.push({x1:0,y1:0,x2:0,y2:j});}if(g.get('border.right.visible')){l.push({x1:w,y1:0,x2:w,y2:j});}if(g.get('border.top.visible')){l.push({x1:0,y1:0,x2:w,y2:0});}if(g.get('border.bottom.visible')){l.push({x1:0,y1:j,x2:w,y2:j});}var m=s.selectAll("."+C).data(l);m.enter().append('svg:line').attr('class',C+' '+b);m.exit().remove();m.attr('x1',function(d){return d.x1;}).attr('y1',function(d){return d.y1;}).attr('x2',function(d){return d.x2;}).attr('y2',function(d){return d.y2;});m.style("stroke",g.get('border.stroke')).style("stroke-width",g.get('border.strokeWidth'));}}else{var t=s.node();while(t.hasChildNodes()){t.removeChild(t.firstChild);}}this._eDispatch.initialized();return this;};p.adjustPosition=function(s,d){if(!s||!d){return;}var g=this._properties;if(g.get('visible')&&this._size.width>0&&this._size.height>0){var h=s.select("."+c);h.attr("x",d.x);h.attr("y",d.y);h.attr("width",d.width);h.attr("height",d.height);var j=s.selectAll("."+C)[0];var k,x,y,l;for(var i=0;i<j.length;i++){k=j[i];x=Number(k.getAttribute("x1"));y=Number(k.getAttribute("y1"));l=Number(k.getAttribute("x2"));if(x===0&&y===0&&l===0){k.setAttribute("x1",d.x);k.setAttribute("y1",d.y);k.setAttribute("x2",d.x);k.setAttribute("y2",d.y+d.height);}else if(x>0&&y===0&&l>0){k.setAttribute("x1",d.x+d.width);k.setAttribute("y1",d.y);k.setAttribute("x2",d.x+d.width);k.setAttribute("y2",d.y+d.height);}else if(x===0&&y===0&&l>0){k.setAttribute("x1",d.x);k.setAttribute("y1",d.y);k.setAttribute("x2",d.x+d.width);k.setAttribute("y2",d.y);}else if(x===0&&y>0&&l>0){k.setAttribute("x1",d.x);k.setAttribute("y1",d.y+d.height);k.setAttribute("x2",d.x+d.width);k.setAttribute("y2",d.y+d.height);}}}};p.destroy=function(){B.superclass.destroy.call(this);this._eDispatch.on('initialized',null);this._eDispatch=null;};return B;});define('sap/viz/chart/components/scrollbar/Scrollbar',["sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/PositionUtil'],function Setup(C,o,U,O,T,a,P){var S="v-m-scrollbarThumb";var b="v-m-scrollbarTrack";var c=function(r,f){c.superclass.constructor.apply(this,arguments);this._exposeMoreEvents("scroll");this._thumbSpace=c.getThumbSpace(f.location);this._thumbSize=0;this._trackSize=0;this._contentSize=0;this._borderWidth=0;this._spacingPadding=0;this._thumbPosition=0;this._minThumbPosition=0;this._maxThumbPosition=0;this._isExist=true;this._isVisible=true;this._position="bottom";this._selection=null;this._wrapper=null;this._thumbNode=null;this._trackNode=null;this._thumbHover=false;};o.extend(c,U);c.getThumbSpace=function(l){if(a.isMobile()){return 7;}else{if(l==="legend"){return 8;}return 12;}};c.prototype._notNeedDesktopInteraction=function(){return a.isMobile()||this.runtime().effectManager().ghostEffect();};c.prototype._initSetting=function(){var p=this._properties;if(!a.isMobile()){this._borderWidth=g(p,"border.width");this._borderWidth=Math.min(this._borderWidth,4);this._borderWidth=Math.max(this._borderWidth,0);}this._spacingPadding=g(p,"spacing");this._spacingPadding=Math.min(this._spacingPadding,4);this._spacingPadding=Math.max(this._spacingPadding,0);};function g(p,k){var v=parseFloat(p.get(k));if(T.isNaN(v)){v=parseFloat(p.getDefault(k));}return v;}c.prototype.render=function(f){c.superclass.render.apply(this,arguments);if(f){this._selection=f;this._wrapper=this._selection.selectAll('g');if(this._wrapper.empty()){this._wrapper=this._selection.append('g');}}if(!this._selection){return;}if(this._isExist){var i=this._isVertical();var h=i?"height":"width";var t=this._trackSize||this._size[h];t=parseFloat(t);this._trackSize=t;var j=this._contentSize||this._realSize[h];j=parseFloat(j);if(j<t){j=t;}this._contentSize=j;this._thumbSpace=parseFloat(this._thumbSpace);var k=this._thumbSpace;var p=this._properties;this.getThumbRatio();var l=parseFloat(this._borderWidth);var m=a.isMobile()?p.getDefault("border.color"):p.get("border.color");var n=this._spacingPadding;var w=this._wrapper;var v=this._isVisible?"visible":"hidden";var q=w.select("rect."+b);if(q.empty()){q=w.append('rect').attr('class',b);}q.attr("visibility",v).attr("fill",p.get("track.fill"));q.attr("stroke-width",l).attr("stroke",m);if(i){q.attr('width',k).attr('height',t);}else{q.attr('width',t).attr('height',k);}this._trackNode=q;var r=w.select("rect."+S);if(r.empty()){r=w.append('rect').attr('class',S);}var u=this._thumbHover?"thumb.hoverFill":"thumb.fill";r.attr("visibility",v).attr("fill",p.get(u));var x=this._thumbSize;var y=n+l;if(i){r.attr('width',k-y*2).attr('height',x).attr('transform','translate('+y+', '+(this._thumbPosition+y)+')');}else{r.attr('width',x).attr('height',k-y*2).attr('transform','translate('+(this._thumbPosition+y)+', '+y+')');}this._thumbNode=r;this.show(1600);if(this._notNeedDesktopInteraction()){return;}(function handleMouseEvent(z,A,B){function D(N){return N.bind(B);}var E=D(function(N){this._startPos=undefined;var Q=this._thumbSize;var R=this._trackNode.node().getBoundingClientRect();if(this._isVertical()){if(N.clientY<(R.top+this._thumbPosition)){Q=-Q;}}else{if(N.clientX<(R.left+this._thumbPosition)){Q=-Q;}}this._scroll(Q);var V=this.runtime();if(V){V.fireInteractionEvent("scrollbarReleased");}return false;});var F=D(function(N){if(this._isVertical()){this._startPos=N.clientY;}else{this._startPos=N.clientX;}this._thumbHover=true;this._thumbNode.attr('fill',this._properties.get('thumb.hoverFill'));this._isPressed=true;s(N);});var G=D(function(N){this._startPos=undefined;this._isPressed=false;if(this._thumbNode&&N.target!==this._thumbNode.node()){this._thumbNode.attr('fill',this._properties.get('thumb.fill'));this._thumbHover=false;}var Q=this.runtime();if(Q){Q.fireInteractionEvent("scrollbarReleased");}});var H=D(function(N){if(this._startPos!==undefined){if(this._isVertical()){this._scroll(N.clientY-this._startPos);this._startPos=N.clientY;}else{this._scroll(N.clientX-this._startPos);this._startPos=N.clientX;}}});var I=D(function(){this._thumbNode.attr('fill',this._properties.get('thumb.hoverFill'));this._thumbHover=true;});var J=D(function(){if(!this._isPressed){if(this._thumbNode){this._thumbHover=false;this._thumbNode.attr('fill',this._properties.get('thumb.fill'));}}});function K(){var N=window;if(N.addEventListener===undefined){N=document.body;}return N;}function L(N){H(N);N.preventDefault();s(N);return false;}function M(N){G(N);var Q=K();Q.removeEventListener("mousemove",L,true);Q.removeEventListener("mouseup",M,true);return false;}z.on('mouseover',I).on('mouseleave',J).on('mousedown',function(){var N=d3.event;F(N);var Q=K();Q.addEventListener('mousemove',L,true);Q.addEventListener('mouseup',M,true);s(N);return false;});A.on('click',function(){return E(d3.event);});})(r,q,this);}else{if(this._wrapper){this._wrapper.remove();this._wrapper=null;this._thumbNode=null;this._trackNode=null;}}};var s=function(f){if(f&&f.stopPropagation){f.stopPropagation();}};c.prototype._isFull=function(){return this._trackSize>=this._contentSize;};c.prototype.destroy=function(){this._eventDispatch.on("scroll",null);c.superclass.destroy.call(this);this._thumbSpace=0;this._thumbSize=0;this._trackSize=0;this._contentSize=0;this._borderWidth=0;this._spacingPadding=0;this._thumbPosition=0;this._maxThumbPosition=0;this._minThumbPosition=0;this._isExist=true;this._isVisible=true;this._position="bottom";this._selection=null;this._wrapper=null;this._thumbNode=null;this._trackNode=null;};c.prototype.getPreferredSize=function(){var r={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._isExist){var t=this._thumbSpace;if(this._isVertical()){r.maxWidth=r.width=t;}else{r.maxHeight=r.height=t;}r.spacings[0].interval=t;}return r;};c.prototype.setPosition=function(p){this._position=p;return this;};c.prototype._isVertical=function(){return P.isVertical(this._position);};c.prototype._isHorizontal=function(){return P.isHorizontal(this._position);};c.prototype.isExist=function(_){if(!arguments.length){return this._isExist;}this._isExist=!!_;return this;};c.prototype.isVisible=function(_){if(!arguments.length){return this._isVisible;}this._isVisible=!!_;return this;};c.prototype.setTrackSize=function(_){this._trackSize=+_;return this;};c.prototype.getTrackSize=function(){return this._trackSize;};c.prototype.getContentSize=function(){return this._contentSize;};c.prototype.setContentSize=function(_){this._contentSize=+_;return this;};c.prototype.getThumbSize=function(){return this._thumbSize;};c.prototype.isThumbOverTrack=function(f){var i=false;var t=this._thumbPosition;var m=this._minThumbPosition;var h=this._maxThumbPosition;if(t===m&&(t+f)<m){i=true;}if(Math.floor(t)===Math.floor(h)&&(t+f)>h){i=true;}return i;};c.prototype.getThumbRatio=function(){this._initSetting();var t=this._trackSize;var f=this._contentSize;var h=this._borderWidth;var i=this._spacingPadding;var j=this._thumbSpace;var k=2*(i+h);if(t<=0||f<=0){return null;}if(f<t){f=t;}var l=0;if(f!==0){l=(t-h)*t/f;}var m=j*2;if(m>t){m=t;}if(l<m){l=m;}this._thumbSize=l;this._maxThumbPosition=t-l-k;this._minThumbPosition=0;this._offsetRatio=(f-t)/(t-k-l);return this._offsetRatio;};c.prototype._scroll=function(f,h,i){var j=Math.min(this._maxThumbPosition,Math.max(this._minThumbPosition,this._thumbPosition+f));if((!i&&h)||this._thumbPosition!==j){this.setThumbPosition(j);var k=-Math.ceil(j*this._offsetRatio);this._eventDispatch.scroll({offset:k,reachMax:j===this._maxThumbPosition});}};c.prototype.getThumbPosition=function(){return this._thumbPosition;};c.prototype.setThumbPosition=function(p){if(!this._isExist){return;}var f=+p;var t=this._thumbSpace;var h=this._spacingPadding;var i=this._borderWidth;var j=h+i;this._thumbPosition=Math.min(this._maxThumbPosition,f);if(this._thumbNode){if(this._isVertical()){this._thumbNode.attr('transform','translate('+j+', '+(this._thumbPosition+j)+')');}else{this._thumbNode.attr('transform','translate('+(this._thumbPosition+j)+', '+j+')');}}return this;};function d(){if(this._thumbNode){this._thumbNode.attr("visibility","visible");}if(this._trackNode){this._trackNode.attr("visibility","visible");}}function e(){if(this._thumbNode){this._thumbNode.attr("visibility","hidden");}if(this._trackNode){this._trackNode.attr("visibility","hidden");}}c.prototype.show=function(t,f){var h=d.bind(this),i=e.bind(this);if(!f&&(this._isFull()||!this.isVisible())){i();return;}h();if(a.isMobile()){if(!t){t=800;}if(this._timeoutId){window.clearTimeout(this._timeoutId);}this._timeoutId=window.setTimeout(i,t);}};return c;});define('sap/viz/chart/components/scrollbar/PaginationScrollbar',['sap/viz/framework/common/util/oo','sap/viz/chart/components/scrollbar/Scrollbar'],function Setup(o,S){var a="scroll";var P=function(r,b){P.superclass.constructor.apply(this,arguments);var p=b.properties||this._runtime._propertyMgr;this._properties=p.proxy("plotArea.scrollbar");this._thumbRatio=0;};o.extend(P,S);P.prototype._scroll=function(d,f){P.superclass._scroll.apply(this,arguments);var s={};this._thumbRatio=this._thumbPosition/this._maxThumbPosition;s.position=this._thumbRatio;if(this.runtime()){this.runtime().eventDispatcher().fire(a,s);}};return P;});define('sap/viz/chart/components/legend/BaseLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/chart/components/util/BoundUtil',"sap/viz/framework/common/util/TypeUtils",'sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/framework/common/lang/LangManager',"sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/StyleUtils',"sap/viz/framework/interaction/Constants"],function(a,U,B,T,b,P,F,l,C,O,S,I){var M="measureNames";var c=3;var d=function(r,o){d.superclass.constructor.apply(this,arguments);this._type="BaseLegend";this._title=undefined;this._bindingFields=null;this._parent=null;this._pos={x:0,y:0};this._titleMarginBottom=0.5;this._width=0;this._height=0;this._position=null;var t=this;var f={},g={};f[this._name]={value:[],readonly:true,serializable:false,get:function(){var i=[],z,j,k,m,q,s,u;z=t.getZonePrefix();if(t.isVisible()&&t._properties.get('title.visible')&&t._parent){var v=t._parent.select(".viz-legend-title.v-title").node();j=v?v.getBoundingClientRect():null;if(j&&j.width>1.5&&j.height>1.5){m=[[]];m[0].push([j.left,j.top]);m[0].push([j.right,j.top]);m[0].push([j.right,j.bottom]);m[0].push([j.left,j.bottom]);i.push({"name":z+' title',"bound":m});}}if(t._parent&&t._parent.select(".v-bound").node()){s=t._parent.select(".v-bound").node().getBoundingClientRect();if(s.width>1.5&&s.height>1.5){k={left:s.left,right:s.right,top:s.top,bottom:s.bottom};if(i.length>0){k.top=i[0].bound[0][3][1]+1;}q=[[]];q[0].push([k.left,k.top]);q[0].push([k.right,k.top]);q[0].push([k.right,k.bottom]);q[0].push([k.left,k.bottom]);i.push({"name":z,"bound":q});}u=t._parent.node().ownerSVGElement;}P.calcOffsetFromChart(u,i);return i;}};var n=o&&o.options&&o.options.noFeeding;if(!n){g[this._name]={value:[],readonly:true,serializable:false,get:function(){var i,z,j;if(t._parent&&!t._isDedicated){var k=d3.select(t._parent.node().ownerSVGElement);z=t.getZonePrefix();i=F.buildRes(z,j,k,true);}return i;}};this.runtime().zoneManager().add({tempPropertyZone:f,tempFeedingZone:g});}else{this.runtime().zoneManager().add({tempPropertyZone:f,});}var p=this._properties;this._orientation=null;this._titleFont={'fontFamily':p.get('title.style.fontFamily'),'fontSize':p.get('title.style.fontSize'),'fontWeight':p.get('title.style.fontWeight'),'color':p.get('title.style.color'),'fontStyle':p.get('title.style.fontStyle')};var h=this.runtime().graphicModel();if(h){h.registerExposedModule(o.name);}};a.extend(d,U);d.prototype.getType=function(){return this._type;};d.prototype._addDefaultProperties=function(){this._properties.add({'visible':true,'title':{'visible':false,'text':null,'style':{'color':'#000000','fontFamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontSize':'14px','fontWeight':'bold','fontStyle':'normal'}},'label':{'style':{'color':'#000000','fontFamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontSize':'12px','fontWeight':'normal','fontStyle':'normal'}}});};d.prototype.visible=function(){return this._properties.get("visible");};d.prototype.setPosition=function(p){this._position=p;};d.prototype.getPosition=function(){return this._position;};d.prototype.setOrientation=function(o){this._orientation=o;};d.prototype.setDedicated=function(_){this._isDedicated=_;};d.prototype.isHorizontal=function(){return(this._orientation==='top')||(this._orientation==='bottom');};d.prototype.render=function(s,f){this._pos={x:0,y:0};var g;var t=s.selectAll('text.v-title');if(this.isVisible()||this._isDedicated){var p=this._properties;g=B.drawBound(s,this._width,this._height,undefined,true);g.attr("x",null);g.attr("y",null);if(!f){g.attr("stroke",null).attr("stroke-width",null);}if(this._properties.get("title.visible")===true){if(t.empty()){t=s.append('text').attr('class','v-title viz-legend-title');}else{t.html("");}var h=null;var i=this.runtime().envManager();if(i){h=i.textAnchor();}t.attr("text-anchor",h);var j;j={"fill":p.get('title.style.color'),"font-family":p.get('title.style.fontFamily'),"font-size":p.get('title.style.fontSize'),"font-weight":p.get('title.style.fontWeight'),"font-style":p.get('title.style.fontStyle')};var k=this._getWrapText();k=(k&&k>1)?k:1;var m=parseInt(this._titleFont.fontSize,10);var o={};o.isRTL=this._isRTL();o.ellipsisOptions={};o.middleText=false;o.ellipsisOptions.reverseDots=(i&&i.reverseDots());b.drawWrappedText(t,this._titleText,[" "],k,this._width,m,this._titleFont,o);var n=parseInt(t.attr("height"));this._pos.y=this._pos.y+n;t.attr('font-weight',j['font-weight']).attr('fill',j.fill).attr('font-family',j['font-family']).attr('font-size',j['font-size']).attr('font-style',j['font-style']).attr('x',this._pos.x).attr('y',this._pos.y).attr('visibility','inherit');t.selectAll("tspan").attr("dy","1em");this._pos.y=this._pos.y+m*this._titleMarginBottom;}else{t.remove();}}else{var q;if(this._properties._props['legendGroup.layout.width']&&this._properties._props['legendGroup.layout.height']){q={width:this._properties._props['legendGroup.layout.width'].value,height:this._properties._props['legendGroup.layout.height'].value};}if(this.visible()&&q&&(q.width||q.height)){g=B.drawBound(s,q.width||this._originWidth,q.height||this._originHeight);}else{g=B.drawBound(s,0,0);}t.remove();}if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._properties.origin.get("legendGroup.layout.position")==="top"||this._properties.origin.get("legendGroup.layout.position")==="bottom")){this._renderedWidth=0;var r=t.node();if(r){this._renderedWidth=r.getBoundingClientRect().width;}}if(g){this._bound=g.node();}return this;};d.prototype.width=function(w){if(!arguments.length){return this._width;}this._width=w;if(w>0){this._originWidth=w;}return this;};d.prototype.height=function(h){if(!arguments.length){return this._height;}this._height=h;if(h>0){this._originHeight=h;}return this;};d.prototype.setSize=function(s){this._width=s.width;this._height=s.height;if(s.width>0){this._originWidth=s.width;}if(s.height>0){this._originHeight=s.height;}};d.prototype.setBindingFields=function(_){this._bindingFields=_;return this;};d.prototype.parent=function(p){if(!arguments.length){return this._parent;}this._parent=p;return this;};d.prototype.getParent=function(){return this._parent;};d.prototype._getTitleText=function(){var t="";var u=this._properties.get("title.text");if(T.isString(u)){t=u;}else if(this._bindingFields&&this._bindingFields.length){t=this._constructTitle(this._bindingFields);}else{t=l.get('IDS_LEGEND_TITLE');}return t;};d.prototype.getLegendTitleText=function(){return this._getTitleText();};d.prototype._constructTitle=function(h){var t=h.filter(function(g){return!g.hidden;}).map(function(o){if(o.id===M){return o.name||l.get("IDS_DEFAULTMND")||o.id;}return o.name||o.id;});var f=[];for(var i=0;i<t.length;i++){if(h&&h.length>1&&h[i].id===M&&h[i].values.length===1){continue;}f.push(t[i]);}return f.join(" / ");};d.prototype._getTitlePreferredSize=function(f){this._setupThemeStyleDef();var p={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(this._properties.get("title.visible")){var t=parseInt(this._titleFont.fontSize,10);var g=S.convertToCss(this._titleFont);var h=this._getTitleText();var i=this._getWrapText();h=b.wrapText(h,[" "],f.maxWidth,i,this._properties.get("title.style"));var j=h.lines.length;p={maxHeight:t*(j+this._titleMarginBottom),minWidth:b.getTextLength("M...",g),minHeight:t*(j+this._titleMarginBottom),maxWidth:h.maxWidth};this._titleText=h;}return p;};d.prototype.getData=function(){return this._data;};d.prototype.setData=function(v){this._data=v;return this;};d.prototype.data=function(v){if(!arguments.length){return this.getData();}return this.setData(v);};d.prototype.destroy=function(){this._properties=null;this._title=null;this._parent=null;this._bindingFields=null;this._pos=null;this._titleMarginBottom=null;this._width=null;this._height=null;this._titleFont=null;this._orientation=null;this._isDedicated=null;this._wrap=null;d.superclass.destroy.call(this);};d.prototype.hasData=function(){return true;};d.prototype.getPreferredSize=function(f){var r={width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(!this.hasData()){return r;}this._pos={x:0,y:0};var g=O.extend(false,f);g.maxWidth=g.maxWidth||g.width;g.maxHeight=g.maxHeight||g.height;if(this.visible()||this._isDedicated){var t=this._getTitlePreferredSize(g);g.height-=t.maxHeight;var h=this._getBodyPreferredSize(g);r={width:(t.maxWidth>h.maxWidth?t.maxWidth:h.maxWidth),height:t.maxHeight+h.maxHeight,maxWidth:(t.maxWidth>h.maxWidth?t.maxWidth:h.maxWidth),maxHeight:t.maxHeight+h.maxHeight,minWidth:(t.minWidth>h.minWidth?t.minWidth:h.minWidth),minHeight:t.minHeight+h.minHeight};if(this._isDedicated){this._width=r.maxWidth;this._height=r.maxHeight;}}return r;};d.prototype.isVisible=function(){return this.visible()&&this._width>0&&this._height>0;};d.prototype.isSelectable=function(){var p=this._properties.origin,s=(p.get('interaction.selectability.mode')||"").toUpperCase(),f=(p.get("interaction.selectability.behavior")||"").toUpperCase();return!((s===I.SELECTION_MODE.NONE)||(p.get('interaction.selectability.legendSelection')===false)||(s===I.SELECTION_MODE.SINGLE&&f!==I.SELECTION_BEHAVIOR.SERIES));};d.prototype._setupThemeStyleDef=function(){var p=this._properties.proxy('title.style');var t;t={"fill":p.get('color'),"font-family":p.get('fontFamily'),"font-size":p.get('fontSize'),"font-weight":p.get('fontWeight'),"font-style":p.get('fontStyle')};if(t){if(t.fill){this._titleFont.color=t.fill;}if(t['font-family']){this._titleFont.fontFamily=t['font-family'];}if(t['font-size']){this._titleFont.fontSize=t['font-size'];}if(t['font-weight']){this._titleFont.fontWeight=t['font-weight'];}if(t['font-style']){this._titleFont.fontStyle=t['font-style'];}}};d.prototype._adjustRendererOption=function(r){};d.prototype._getWrapText=function(){var f=1;if(!this._isRTL()){var g=this._properties.origin.get('legendGroup.layout.position');if(g==="left"||g==="right"){f=this._properties.origin.get('legendGroup.linesOfWrap');if(isNaN(f)||f<1){f=1;}else if(f>c){f=c;}}}return f;};d.prototype.getZonePrefix=function(){return'legend';};var e=function(f){var r=false;if(f==='SizeLegend'){r=true;}return r;};return d;});define('sap/viz/chart/components/util/DrawUtil',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/SVG'],function Setup(T,S){var s={};var p={};var B=2;function g(a){var b="_";return a.type+b+a.rx+b+a.ry;}var D={};D.createMarkerData=function(a){return S.generateMarkerPath(a);};D.createElements=function(d,a){return d.append("path").attr("class",a.className);};D.createElement=function(d,a,e){var b=d.append("path").attr("class",a.className);a.node=b;D.drawGraph(a,e);return b;};D.drawGraph=function(a,e){return D.updateGraph(a,e,D.createGraph(a));};D.createGraph=function(a){var b={type:(typeof a.graphType==='string')?a.graphType:a.graphType.type,rx:Math.round(a.rx),ry:Math.round(a.ry),borderWidth:Math.round(a.borderWidth),innerBorder:a.dpPattern==='noFill'};var r=D.createMarkerData(b);if(!r&&a.defaultShape){b.type=a.defaultShape;r=D.createMarkerData(b);}return r;};D.updateGraph=function(a,e,d){var c=a.graphType.style;var o=a.opacity;if(!o){o=1;}var f=e?e.register(a):a.fillColor;var b=a.borderColor;if(a.dpPattern==='noFill'){b=f;f=a.bgColor;}if(e&&b){b=e.register({fillColor:b});}var n=a.node;n.setAttribute("class",a.className);n.setAttribute("fill",f);if(f!=="transparent"||b!=="transparent"){n.setAttribute("stroke-width",a.borderWidth);n.setAttribute("stroke",b);n.setAttribute("opacity",o);var h=a.fillOpacity;if(h!=null){n.setAttribute("fill-opacity",h);}}if(c){Object.keys(c).forEach(function(k){this.setAttribute(k,c[k]);},n);}n.setAttribute("stroke-opacity",a.strokeOpacity);if(d){n.setAttribute("d",d);}return n;};D.rgb2Hex=function(r){return"#"+((1<<24)+(r.r<<16)+(r.g<<8)+r.b).toString(16).slice(1);};D.colorLinerTransform=function(r,l,c){var o=r.color2rgba(c);var f=1,a=0;f=l.factor;a=l.constant;return{r:Math.min(255,Math.round(o.r*f+a)),g:Math.min(255,Math.round(o.g*f+a)),b:Math.min(255,Math.round(o.b*f+a))};};D.barUpdate=function(n,c,a){var b=c.graphic;var w=a.width;var h=a.height;var m=a.minSize;var r=n.querySelector("rect");if(r){r.setAttribute("width",w);r.setAttribute("height",h);if(b.stroke){var d=m>b.strokeWidth+B?b.strokeWidth:m-B;if(d>=1){r.setAttribute('stroke',b.stroke);r.setAttribute('stroke-width',b.strokeWidth);}else{r.removeAttribute('stroke');r.removeAttribute('stroke-width');}}}if(b.pattern==="noFill"&&c.path){var e=n.querySelector("path");if(e){e.setAttribute("d",c.path);}}};return D;});define('sap/viz/chart/components/util/DataPointUtils',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils"],function(S,D,C,a,T){var b=C.CSS.CLASS.DATAPOINT,c="g",d="."+b,e=C.CSS.CLASS.DATAPOINTDEFAULT;var f="data-highlighted";var g="data-id";var h="data-datapoint-id";var j="data-datastack-id";var k="data-recap-id";var A="data-area-id";function l(i,s){var o=s.getNodes(s.NodeType.DATA_POINT,false);var t=m(o,i);return[].slice.apply(t);}function m(i,o){return n.findIdsWithClassId(i,o,h);}var n={findArea:function(p,i){return p.querySelector("["+A+"='"+i+"']");},setAreaId:function(i,o){i.setAttribute(A,o);},findAll:function(p){return p.querySelectorAll(d);},find:function(p,i){return p.querySelector("."+b+"["+g+"='"+i+"']");},findByDataPointId:function(p,i){return p.querySelector("["+h+"='"+i+"']");},findIdsWithClassId:function(o,p,q){if(!T.isArray(p)){p=[p];}var r={};var i;for(i=p.length;i--;){r[p[i]]=1;}var s={};var t=[];for(i=o.length;i--;){var u=o[i];var v=u.getAttribute(q);if(r[v]){s[v]=u;t.push(v);}}var w=[];for(i=t.length;i--;){w.push(s[t[i]]);}return w;},findByDataStackIds:function(i,o){return n.findIdsWithClassId(i,o,j);},findByDataRecapIds:function(i,o){return n.findIdsWithClassId(i,o,k);},findByDataPointIds:m,isDataPoint:function(i){return D.matches(i,d);},setDataId:function(i,o){i.setAttribute(g,o);},getDataId:function(i){return i.getAttribute(g);},setDataPointId:function(i,o){i.setAttribute(h,o);},getDataStackId:function(i,o){return i.getAttribute(j);},getDataRecapId:function(i,o){return i.getAttribute(k);},setDataStackId:function(i,o){i.setAttribute(j,o);},setDataRecapId:function(i,o){i.setAttribute(k,o);},getDataPointId:function(i){return i.getAttribute(h);},highlight:function(i){i.setAttribute(f,"true");},unhighlight:function(i){i.removeAttribute(f);},isHighlighted:function(i){return i.getAttribute(f)==="true";},create:function(p,i){var o=S.create(c,p);o.setAttribute("class",b+' '+e+' '+C.CSS.CLASS.MORPHABLEDATAPOINT);o.setAttribute(g,i);return o;},setContext:function(i,o){return a.setContext(i,o);},getContext:function(i){return a.getContext(i);},getAdditionCtx:function(i){return a.getAdditionCtx(i);},getAdditionCtxByDataModel:function(i,o){var p=a.getAdditionCtx(i);if(p!=null){return p;}var q=this.getDataPointId(i);var r=o.getDataPoint(q);if(r==null){return null;}return r.additionCtx();},getContextByDataModel:function(i,o){var p=a.getContext(i);if(p!=null){return p;}var q=this.getDataPointId(i);var r=o.getDataPoint(q);if(r==null){return null;}return r.context();},getDataPointByDataLabel:function(t,s){var i=this.getDataPointId(t);var o=s.getNodes(s.NodeType.DATA_POINT,false);return m(o,i)[0];},getNodes:function(i,s){if(s.isBigDataMode()){return i;}return l(i,s);},getNodeDom:l};return n;});define('sap/viz/chart/behavior/config/SelectionUtil',['sap/viz/framework/chartmodel/DataSelector','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/RuleUtil','sap/viz/framework/common/util/ObjectUtils'],function(D,a,b,C,S,T,c,R,O){var d="date";var f=S.RANGE_SELECTION.OFFSET;function g(e,i){var j=n(e,i);var z=i.getNodes(i.NodeType.DATA_POINT,false);var A=b.findByDataPointIds(z,j);return[].slice.apply(A);}function h(e,z){var A=z.getSemanticManager().isHideSemanticLegend();var B=b.getDataPointId(e);var E=z.getDataModel().getDataPoint(B);if(A&&E._isSemantic){return null;}var F;var G=z.getNodes(z.NodeType.LEGEND_ITEM,false);for(var i=0;!F&&i<G.length;i++){var H=a.getContext(G[i]).ctx;var I=g(H,z);for(var j=0;!F&&j<I.length;j++){var J=b.getDataPointId(I[j]);if(J===B){F=G[i];}}}return F;}function u(e,z){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){var A=e.getStatus("selectedDataPoints")||[];var B;var E;if(z){B=e.NodeType.MBC_LEGEND_ITEM;E=C.CSS.CLASS.MBCLEGENDITEM;}else{B=e.NodeType.LEGEND_ITEM;E=C.CSS.CLASS.LEGENDITEM;}var F=e.getNodes(B,false);for(var i=0;i<F.length;i++){var G=d3.select(F[i]);var H=a.getContext(F[i]).ctx;if(z){H=O.extend({},H);delete H.measureName;}var I=n(H,e);var J=(I&&I.length);for(var j=0;(J&&j<I.length);j++){J=(A.indexOf(I[j])>=0);}G.classed(E+C.CSS.CLASS.SELECTED,J);}if(z){y(e);}else{w(e);}}}function k(e,z,A){var B=z._bindingFeeds,E;if(B){for(var i=0;i<B.length;i++){if(z["_"+B[i]]&&z["_"+B[i]].metaData){var F=z["_"+B[i]].metaData;for(var j=0;j<F.length;j++){if(F[j].dataType&&F[j].dataType.toLowerCase()===A){E=F[j].id;}}}}}return E;}function p(e,i,j,z){var A=k(e,i,j);if(T.isExist(A)){l(e,A,j,z);}}function l(e,j,z,A){if(T.isArray(e)||T.isPlainObject(e)){for(var i in e){if(e.hasOwnProperty(i)){if(i===j){R.parseRules[z](e,i,A);e[i+c.DIMENSION_PARSED_VALUE_SUFFIX]=e[i];delete e[i];}else{l(e[i],j,z,A);}}}}}function m(e,i,j,z){var A=i.getDataModel();if(j){e=O.clone(e,true);p(e,A,d,z);}var B=new D(e,A);return B.getDataPoints();}function n(e,i,j,z){var A=m(e,i,j,z);return A.map(function(B){return(B.id).toString();});}function o(e,i){var j=e.getProperties().get("interaction.selectability");if(!j){return false;}var z=e.getProperties().get("interaction.selectability.behavior");var A=z?z.toUpperCase():z;var B=j.mode?j.mode.toUpperCase():j.mode;var E=e.getNodes(i);if(!j.legendSelection||B===S.SELECTION_MODE.NONE||(B===S.SELECTION_MODE.SINGLE&&A!==S.SELECTION_BEHAVIOR.SERIES)||!E.node()){return false;}else{return true;}}function q(e,i){var j=i.getStatus("lassoStartPoint");var I=i.getStatus("rangeSelection");var z=i._rootNode.node().style;if(!j&&I){var A=e.data.point;var B=i.getBBox(i.BoxType.RANGE_SELECTION);var E=i.getBBox(i.BoxType.PLOT_BOUND_NODE);if(E.x>A.x||E.x+E.width<A.x||E.y>A.y||E.y+E.height<A.y){z.cursor="default";}else if(Math.abs(A.x-B.x)<=f||Math.abs(A.x-B.x-B.width)<=f){z.cursor="col-resize";}else if(B.x<A.x&&B.x+B.width>A.x){z.cursor="move";}else{z.cursor="default";}}else{z.cursor="default";}}function r(i,e){var j=i.map(function(F){return F.data;});var z=e.getStatusManager();var A=e._getRenderType();var B={dataTimeLevel:null,showAsUTC:false};var E=/timeseries.*column|timeseries.*combination|timeseries_bullet|timeseries_waterfall/;if(E.test(A)){B={dataTimeLevel:z.get("timeLevels")[0],showAsUTC:e.getProperties().get("general.showAsUTC")};}B.originProps=e.getProperties();return n(j,e,true,B);}function s(e){var i=e.getStatus("selectedDataPoints");if(e.getStatus("rangeSelection")){e.setStatus("selectedDataPoints",[]);e.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:b.getNodes(i,e),isAnyOtherSelected:false});e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null);}}function t(e,j){var z=[];for(var i=0,A=j.length;i<A;i++){var B=e.mappingDataPointInfo(j[i]);if(B){z.push(B);}}z=z.sort(function(E,F){return E.seqId-F.seqId;});return z;}function v(i,j){var z=[];var A=i.getDataModel();if(A&&A._timeAxis){var B=A.timeAxis().metaData.map(function(e){return e.id;});j.forEach(function(e){var E=A.getDataPoint(e);if(E&&E._data&&z.indexOf(E._data[B+c.DIMENSION_PARSED_VALUE_SUFFIX])<0){z.push(E._data[B+c.DIMENSION_PARSED_VALUE_SUFFIX]);}});}return z;}var w=function(e){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){e.getNodes(e.NodeType.LEGEND_ITEM).each(function(){var i=d3.select(this);if(i.classed(C.CSS.CLASS.LEGENDITEM)){var j="transparent";var z=i.select("rect").classed(C.CSS.CLASS.HOVER_SHADOW);if(i.classed(C.CSS.CLASS.LEGENDITEM+C.CSS.CLASS.SELECTED)){var A=(z?"legend.hoverSelectedShadow.color":"legend.mouseDownShadow.color");j=e.getProperties().get(A);}else if(z){j=e.getProperties().get("legend.hoverShadow.color");}i.select("rect").attr("fill",j);}});}};function x(e,i,j){var z=e.getProperties().get(i);var A;if(z&&z.color){A=z.color;}else{A=j;}return A;}var y=function(e){if(!e.isTrellis()&&e.getProperties().get("legend.selectionFeedback")){e.getNodes(e.NodeType.MBC_LEGEND_ITEM).each(function(){var i=d3.select(this);if(i.classed(C.CSS.CLASS.MBCLEGENDITEM)){var j=null;var z=null;var A=i.classed(C.CSS.CLASS.HOVER_SHADOW);if(i.classed(C.CSS.CLASS.MBCLEGENDITEM+C.CSS.CLASS.SELECTED)){z=C.MBCLEGEND.VISIBLE_STROKE_WIDTH;if(A){j=x(e,"legend.hoverSelectedShadow");}else{j=x(e,"legend.mouseDownShadow",C.MBCLEGEND.HOVER_SHADOW_MOUSE_DOWN_COLOR);}}else if(A){z=C.MBCLEGEND.VISIBLE_STROKE_WIDTH;j=x(e,"legend.hoverShadow",C.MBCLEGEND.HOVER_SHADOW_COLOR);}i.attr("stroke",j);i.attr("stroke-width",z);}});}};return{getDataPointIds:n,getDataPointNodes:g,isLegendTriggerable:o,getTargets:r,getDataPoint:function(e){return b.getContext(e);},getDataPointContext:function(e){return e;},hasDataPoint:function(e,i){return e&&e.some(function(j){return+j===+i;});},processTimeCursor:q,getDpInfos:t,cleanRangeSelection:s,getSelectedPeriods:v,getCorrespondingLegendItem:h,updateCorrespondingSelectedLegendItems:u,resetLegendSelectionEffect:w,resetMBCLegendSelectionEffect:y,getColorProperty:x};});define('sap/viz/chart/components/util/ColorUtil',["sap/viz/framework/common/util/DataGraphics"],function(D){var a="#000000";var L="#ffffff";var b="#333333";var c=116;var d="#ffffff";var S=1.2;var e=0.7;var C={};var g=function(f){var r=f;r=r.toLowerCase();r=d3.rgb(r);return r;};C.getMixedColor=function(f,h,i){var m=f;if(i!==1){if(h.toLowerCase()==="transparent"){h="#ffffff";}var r=g(f);var j=g(h);var k=d3.rgb(r.r*i+j.r*(1-i),r.g*i+j.g*(1-i),r.b*i+j.b*(1-i));m=k.toString();}return m;};C.getReferenceColorValue=function(r){r=r.toLowerCase();var f=/([a-z]+)\((.*)\)/i.exec(r);var h;if(f&&f[1]==="rgba"&&f[2]){var i=f[2].split(",");var o=i[3];r=d3.rgb(i[0],i[1],i[2]);h=d3.rgb(C.getMixedColor(r.toString(),d,o));}else{h=g(r);}var j=((h.r*299)+(h.g*587)+(h.b*114))/1000;return j;};C.getDataLabelColor=function(f,i){var l=a;if(i){l=b;}else{if(f){if(f.toLowerCase()==="transparent"){f="#ffffff";}var r=C.getReferenceColorValue(f);if(r<=c){l=L;}}}return l;};C.getStrokeColorAdjustValue=function(r){var f=C.getBackgroundColor(r);if(f.toLowerCase()==="transparent"){f="#ffffff";}var h=C.getReferenceColorValue(f);var i=e;if(h<=c){i=S;}return i;};C.getBackgroundColor=function(r){var f="transparent";var h="v-background-body";var p;var t;for(t=r;t;t=t.parentNode){if(!d3.select(t).select("."+h).empty()){p=t;break;}}if(p){var i=d3.select(p).select("."+h).node();var j;if(i){j=D.getData(i);if(j){f=j.color;}}if(!f||f.toLowerCase()==="transparent"){var k;if(p.parentNode&&p.parentNode.parentNode){k=d3.select(p.parentNode.parentNode).select("."+h).node();}if(k){j=D.getData(k);if(j){f=j.color;}}}if(!f){f="transparent";}}return f;};C.getBgColor=function(p,f){var h="#ffffff";for(var i=0;i<f.length;++i){var t=p.get(f[i]);if(t&&t!=="transparent"){h=t;break;}}return h;};return C;});define('sap/viz/chart/components/plots/PlotHelper',['jquery'],function($){var p={'pie':{options:{isDonut:false}},'donut':{options:{isDonut:true}},'column':{options:{isHorizontal:false}},'stacked_column':{options:{isSupportFlexibleStack:true,isHorizontal:false,}},'100_stacked_column':{options:{isHorizontal:false}},'bar':{options:{isHorizontal:true}},'bullet':{options:{isHorizontal:true}},'vertical_bullet':{options:{isHorizontal:false}},'stacked_bar':{options:{isHorizontal:true}},'100_stacked_bar':{options:{isHorizontal:true}},'line':{options:{isHorizontal:false}},'area':{options:{isHorizontal:false}},'horizontal_area':{options:{isHorizontal:true}},'horizontal_line':{options:{isHorizontal:true}},'100_area':{options:{isHorizontal:false}},'100_horizontal_area':{options:{isHorizontal:true}},'combination':{options:{isHorizontal:false}},'horizontal_combination':{options:{isHorizontal:true}},'bubble':{options:{}},'time_bubble':{options:{}},'scatter':{options:{}},'timeseries_scatter':{options:{}},'timeseries_bubble':{options:{}},'stacked_combination':{options:{isHorizontal:false}},'horizontal_stacked_combination':{options:{isHorizontal:true}},'mekko':{options:{isHorizontal:false}},'100_mekko':{},'timeseries_line':{options:{isHorizontal:false}},'timeseries_column':{options:{isHorizontal:false}},'timeseries_stacked_column':{options:{isHorizontal:false}},'timeseries_100_stacked_column':{options:{isHorizontal:false}},'timeseries_combination':{options:{isHorizontal:false}},'dual_timeseries_combination':{options:{isHorizontal:false}},'timeseries_stacked_combination':{options:{isHorizontal:false}},'horizontal_mekko':{options:{isHorizontal:true}},'100_horizontal_mekko':{options:{isHorizontal:true}},'timeseries_waterfall':{options:{isHorizontal:false}},'waterfall':{options:{isHorizontal:false}},'stacked_waterfall':{options:{isHorizontal:false}},'horizontal_waterfall':{options:{isHorizontal:true}},'horizontal_stacked_waterfall':{options:{isHorizontal:true}},'radar':{options:{isHorizontal:false}},'heatmap':{options:{}},'treemap':{options:{}},'timeseries_bullet':{options:{isHorizontal:false}},'combinationEx':{options:{}}};return{register:function(a,c){p[a]=c;},create:function(r,a,b,o){var c=p[r];var d=o?$.extend(true,{},c?c.options:{},o):c.options;d.name="plotArea";d.renderType=r;return new a(b,d);},getOptions:function(r){var c=p[r];return c&&c.options;}};});define('sap/viz/chart/components/util/ChartConstants',[],function Setup(){var C="_";var H="horizontal";var a="combination";var S="stacked";var b="column";var B="bar";var c="bullet";var L="line";var d="scatter";var e="bubble";var P="pie";var T='timeseries_scatter';var f="categoryAxisNavigator";var g="categoryAxis2Navigator";var h="timeAxisNavigator";var D="datapointNavigator";var i="legendNavigator";var j="colorLegendNavigator";var M="mbcLegendNavigator";var k="heatmap";var l="treemap";var W="waterfall";var m="timeseries_waterfall";var A="area";var R='radar';var n="100";var o={"STACKED":S,"COMBINATION":a,"COLUMN":b,"BAR":B,"BULLET":c,"LINE":L,"SCATTER":d,"BUBBLE":e,"PIE":P,"TIMESCATTER":T,"COLUMN_COMBINATION":b+C+a,"STACKED_COLUMN":S+C+b,"STACKED_BAR":S+C+B,"STACKED_COMBINATION":S+C+a,"HORIZONTAL_COMBINATION":H+C+a,"HORIZONTAL_STACKED_COMBINATION":H+C+S+C+a,"CATEGORYAXIS_NAVIGATOR":f,"CATEGORYAXIS2_NAVIGATOR":g,"TIMEAXIS_NAVIGATOR":h,"DATAPOINT_NAVIGATOR":D,"LEGEND_NAVIGATOR":i,"COLORLEGEND_NAVIGATOR":j,"MBCLEGEND_NAVIGATOR":M,"HEATMAP":k,"TREEMAP":l,"WATERFALL":W,"TIMEWATERFALL":m,"AREA":A,"RADAR":R,"PERCENT_STACKED_COLUMN":n+C+S+C+b,"PERCENT_STACKED_BAR":n+C+S+C+B};return o;});define('sap/viz/chart/components/util/ChartTypeUtils',["sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/util/ChartConstants"],function Setup(P,C){var c={addTrellisType:function(a){var T=[];for(var i=0;i<a.length;++i){if(a[i].indexOf("info/")>=0&&a[i].indexOf("info/trellis_")===-1){var t=a[i].replace("info/","info/trellis_");T.push(t);}}return[].concat(a,T);},getChartTypeProperty:function(r){var a={};if(r.indexOf(C.STACKED)>-1){if(r.search(/bar|column/)!==-1){a.type=C.STACKED_COLUMN;}else if(r.indexOf(C.STACKED_COMBINATION)>-1){a.type=C.STACKED_COMBINATION;}}else{if(r.search(/bar|column/)!==-1){a.type=C.COLUMN;}else if(r.indexOf(C.BULLET)>-1){a.type=C.BULLET;}else if(r.indexOf(C.LINE)>-1){a.type=C.LINE;}else if(r.indexOf(C.COMBINATION)>-1){a.type=C.COLUMN_COMBINATION;}else if(r.search(/pie|donut/)!==-1){a.type=C.PIE;}else if(r.search(/^timeseries.*(scatter|bubble)/)!==-1){a.type=C.TIMESCATTER;}else if(r.search(/(scatter|bubble)/)!==-1){a.type=C.SCATTER;}else if(r.indexOf(C.HEATMAP)>-1){a.type=C.HEATMAP;}else if(r.indexOf(C.TREEMAP)>-1){a.type=C.TREEMAP;}else if(r.indexOf(C.WATERFALL)>-1){a.type=C.WATERFALL;}else if(r.indexOf(C.AREA)>-1){a.type=C.AREA;}else if(r.indexOf(C.RADAR)>-1){a.type=C.RADAR;}}var o=P.getOptions(r);if(!o){return null;}if(o.isHorizontal!==undefined){a.isVerticalRender=!o.isHorizontal;}return a;}};return c;});define('sap/viz/chart/components/accessibility/ChartComponentNavigator',["sap/viz/framework/common/util/ObjectUtils"],function(O){function C(o){this._isVerticalRender=o.isVerticalRender;this._renderType=o.renderType;this._navigatorType=o.navigatorType;this._constants={"UP":"up","DOWN":"down","LEFT":"left","RIGHT":"right"};O.extendByRepalceArray(true,this._constants,o.chartConstants);}var p=C.prototype;p.init=function(){};p.destroy=function(){this._renderType=null;this._isVerticalRender=null;this._constants=null;this._navigatorType=null;};p.left=function(i){return null;};p.right=function(i){return null;};p.up=function(i){return null;};p.down=function(i){return null;};p.getFirstStartPoint=function(){return null;};return C;});define('sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory',["sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(C,a,b){var f={};f.createNavigator=function(o,n){var r=o.renderType;var c=C.getChartTypeProperty(r);if(!c){return null;}o.renderType=c.type;if(c.isVerticalRender!==undefined){o.isVerticalRender=c.isVerticalRender;}o.chartConstants=a;o.isDual=r.indexOf("dual")>-1;o.isPercentage=r.indexOf("100")>-1;o.isTimeColumn=/timeseries_column/.test(r);o.isTimeWaterfall=/timeseries_waterfall/.test(r);o.isTimeBullet=/timeseries_bullet/.test(r);o.navigatorType=n;var d=this.get(n,c.type)||b;return new d(o);};var m={};f.get=function(n,r){if(n===a.DATAPOINT_NAVIGATOR){return m[r];}else{return m[n];}};f.register=function(n,r,c){if(n===a.DATAPOINT_NAVIGATOR){m[r]=c;}else{m[n]=c;}};return f;});define('sap/viz/chart/components/accessibility/ColorLegendNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(o,C){function a(b){a.superclass.constructor.apply(this,arguments);this._legendLabels=this.buildLegendLabels(b.cells);this._cells=b.cells;this._horizontalSingle=this._cells.length==1?true:false;}o.extend(a,C);var p=a.prototype;p.buildLegendLabels=function(c){var l=[];this._verticalSingle=true;for(var i=0;i<c.length;++i){if(c[i].length>1){this._verticalSingle=false;}for(var j=0;j<c[i].length;++j){var b=c[i][j].id;var d={row:i,col:j};l[b]=d;}}return l;};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._cells=null;this._legendLabels=null;};p.up=function(i){if(this._horizontalSingle){return this.getSiblingCell(i,-1);}else{return this.getNextRowCell(i,-1);}};p.down=function(i){if(this._horizontalSingle){return this.getSiblingCell(i,1);}else{return this.getNextRowCell(i,1);}};p.left=function(i){if(this._verticalSingle){return this.getNextRowCell(i,-1);}else{return this.getSiblingCell(i,-1);}};p.right=function(i){if(this._verticalSingle){return this.getNextRowCell(i,1);}else{return this.getSiblingCell(i,1);}};p.getCell=function(i){var b=this._legendLabels[i];return this._cells[b.row][b.col]||null;};p.getSiblingCell=function(i,d){var b=this._legendLabels[i];var s=this._cells[b.row][b.col+d];return s?s:null;};p.getNextRowCell=function(i,d){var b=this._legendLabels[i];var n=this._cells[b.row+d];if(!n){return null;}return n[b.col]!=null?n[b.col]:n[n.length-1];};p.getFirstStartPoint=function(){return this._cells[0][0];};p.isLastCellID=function(i){if(this._cells){var l=this._cells.length;var b=this._cells[l-1].length;return i===this._cells[l-1][b-1].id;}else{return false;}};return a;});define('sap/viz/chart/scales/BaseScale',[],function(){var B=function(d,r){this.__className="sap.viz.scale.BaseScale";this._scale=undefined;this._type=null;this._domain=d;this._range=r;this._metaData=null;this._isReset=false;this._option=null;};B.prototype.scale=function(v){};B.prototype.getDomain=function(){return this._domain;};B.prototype.setDomain=function(d){this._domain=d;this._isReset=true;return this;};B.prototype.getRange=function(){return this._range;};B.prototype.setRange=function(r){this._range=r;this._isReset=true;return this;};B.prototype.getOption=function(){return this._option;};B.prototype.setOption=function(o){this._option=o;return this;};B.prototype.getMetaData=function(){return this._metaData;};B.prototype.normalizeValue=function(v){return v;};B.prototype.destroy=function(){this._domain=null;this._range=null;var s=this._scale;if(s){if(s.domain){s.domain([]);}if(s.range){s.range([]);}}this._scale=null;this._type=null;this._metaData=null;this.__className=null;};return B;});define('sap/viz/chart/scales/ValueScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale',"sap/viz/framework/common/util/NumberUtils"],function(o,B,N){var V=function(d,r,a,b){V.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.ValueScale";this._tickHint=undefined;this._domainFixed=a?a:[false,false];this._type="linear";this._min="auto";this._max="auto";this._dataBound=b&&b.dataBound;this._autoDomain=[];this._domainChanged=false;this._zeroAdjusted=true;this.maximizedDomain=b&&b.maximizedDomain;this._allowDecimals=b&&b.hasOwnProperty("allowDecimals")?b.allowDecimals:true;this._initScale();};o.extend(V,B);V.prototype.scale=function(v){this._ensureScaled();return this._scale(v);};V.prototype.nice=function(){this._ensureScaled();this._scale=this._scale.nice();this._domain=this._scale.domain();this._range=this._scale.range();return this;};V.prototype.ticks=function(n){this._ensureScaled();var r=this._scale.ticks(n);if(!this.getAllowDecimals()){r=r.filter(function(a){return!N.isFloat(a);});}return r;};V.prototype.getTickHint=function(){return this._tickHint;};V.prototype.setTickHint=function(n){this._tickHint=n;};V.prototype.isFixed=function(){return this._domainFixed&&(this._domainFixed[0]||this._domainFixed[1]);};V.prototype.getDataBound=function(){return this._dataBound;};V.prototype.getDomainFixed=function(){return this._domainFixed;};V.prototype.setDomainFixed=function(d){this._domainFixed=d;};V.prototype.getDomainChanged=function(){return this._domainChanged;};V.prototype.setDomainChanged=function(d){this._domainChanged=d;};V.prototype.getAllowDecimals=function(){return this._allowDecimals;};V.prototype.setAllowDecimals=function(a){this._allowDecimals=a;};V.prototype.getZeroAdjusted=function(){return this._zeroAdjusted;};V.prototype.setZeroAdjusted=function(_){this._zeroAdjusted=_;};V.prototype.total=function(v){if(this._domain){this._scale.domain([0,v]);}};V.prototype._ensureScaled=function(){if(this._scale===undefined||this._isReset===true){this._initScale();}};V.prototype._initScale=function(){this._scale=d3.scale.linear();if(this._domain){this._scale.domain(this._domain);}if(this._range){this._scale.range(this._range);}this._isReset=false;};V.prototype.getAutoDomain=function(){return this._autoDomain;};V.prototype.setAutoDomain=function(d){this._autoDomain=d;return this;};V.prototype.destroy=function(){V.superclass.destroy.call(this);this._domainFixed=null;this._autoDomain=null;this._min=null;this._max=null;this._isReset=null;this._tickHint=null;this._domainChanged=null;this._zeroAdjusted=null;};return V;});define('sap/viz/chart/scales/ScalesFactory',[],function(){var r=[];var S={};S.register=function(c,s,a){r.push({chartType:c,scaleType:s,scaleClass:a});};S.getScale=function(c,s){var a=null;for(var i=r.length-1;i>=0;--i){var b=r[i];if(b.chartType===c&&b.scaleType===s){a=b.scaleClass;break;}if(!a&&!b.chartType&&b.scaleType===s){a=b.scaleClass;}}return a;};return S;});define('sap/viz/chart/scales/ScaleUtil',["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/chart/scales/ScalesFactory","sap/viz/framework/common/util/DataUtils","sap/viz/framework/scale/ScaleUtil",],function Setup(N,T,O,b,S,D,c){var M=["measureNamesDimension","measureNames"];var h=c.hasNoNullValue;function d(a,i){var v=false;if(!/timeseries/.test(a._chartType)){var k=a.valueAxis().values[i];var l=a.valueAxis2().values[i];v=h(k,l);}else{var m=a.color();var s=a.getInitSeries();var n=m.rowArray.length;var L=s.length/n;for(var j=i*L;!v&&j<(i+1)*L;j++){v=s[j].some(function(e){return e.valueAxis!=null;});}}return v;}function f(a,i){var v=false;var j;if(!/timeseries/.test(a._chartType)){var k=a.valueAxis().values;var l=a.valueAxis2().values;if(a.color().rowArray){for(j=0;!v&&j<k.length;++j){v=h(k[j][i],l[j][i]);}}else{v=h(k[i],l[i]);}}else{var s=a.shape();var L=s.rowArray.length;var m=a.getInitSeries();for(j=i;!v&&j<m.length;j+=L){v=m[j].some(function(e){return e.valueAxis!=null;});}}return v;}var g={generateUniqueDomain:function(a,e,m,r,k,l,t){a=a.filter(function(n,i){return!m[i].hidden;});e=Math.min(e,m.filter(function(n){return!n.hidden;}).length);if(a.length===0){return[];}var o=[];var p=a[0].length;var i,j;var q={};for(i=0;i<p;++i){if(l&&(t==="color"?!d(k,i):!f(k,i))){continue;}var v=[];for(j=0;j<e;++j){v.push(a[j][i]);}var s=D.valuesToString(v);if(q.hasOwnProperty(s)){q[s].oriIndex.push(i);continue;}v.oriIndex=[i];q[s]=v;o.push(v);}return o;},getRoughTickNum:function(_){var a=1;var r=-1;var e=_.getRange();var i=Math.abs(e[0]-e[e.length-1]);if(i>10){r=a+Math.round(i/100);}else{r=a;}if(!_.getAllowDecimals()){var t=_.ticks(r);var j=2;var k=t[1]-t[0];if(N.isFloat(k)){r=Math.floor(t.length*k);if(r<j){r=Math.ceil(_._domain[1]-_._domain[0]);r=Math.max(r,j);}}}_.setTickHint(r);return r;},nice:function(_,t){if(!_.isFixed()){return this.perfect(_,t);}else{var a=_.getDomainFixed();if(!(a[0]&&a[1])){var e=_.getDomain();var r=_.getRange();var s=S.getScale(null,"value");var i=new s(e,r,a);this.perfect(i);var j=i.getDomain();if(a[0]){_.setDomain([e[0],j[1]]);}else{_.setDomain([j[0],e[1]]);}}return this.getRoughTickNum(_);}},perfect:function(_,t){var q=_.nice();var a=1;var e=100;var i=_.getDomain(),j=i.length;i=N.preciseObject(i);var o=i[0];var k=i[1];var r=(t||this.getRoughTickNum(_));var l=q.ticks(r);l=N.preciseObject(l);var m=true;var n;if(l.length===0){m=false;}else if(l.length>1){n=l[1]-l[0];}else{var p=Math.abs(i[0]-l[0]);var s=Math.abs(i[j-1]-l[0]);if(p>s){n=p;}else{n=s;}}var u=a;var v=l.length;if(m){u=v;var w,x;if(i[0]<i[1]){w=0;x=j-1;}else{w=j-1;x=0;}if(l[0]!==i[w]){i[w]=l[0]-n;u++;}if(l[v-1]!==i[x]){i[x]=l[v-1]+n;u++;}}q.tickNum=u;q.distance=n;q.setTickHint(u-1);var y=N.preciseObject(i);q.setDomain(y);q.setAutoDomain(y);return u-1;},sync:function(_,a){var e=_.getDomain();var j=a.getDomain();if((e[0]>e[1]&&j[0]<j[1])||(e[0]<e[1]&&j[0]>j[1])||(e[0]<0&&e[1]<0)||(j[0]<0&&j[1]<0)||(e[0]>0&&e[1]>0)||(j[0]>0&&j[1]>0)){return;}var p=0;var n=0;var k=0;var l=0;var t=_.tickNum;var m=a.tickNum;var o=(e[1]-e[0])/(t-1);o=N.preciseSimple(o);var i,q,r;for(i=0;i<t;i++){q=N.preciseSimple(e[0]+i*o);if(q>0){p++;}else if(q<0){n++;}}var s=(j[1]-j[0])/(m-1);s=N.preciseSimple(s);for(i=0;i<m;i++){q=N.preciseSimple(j[0]+i*s);if(q>0){k++;}else if(q<0){l++;}}if(p>k){r=p-k;if(j[0]<j[1]){j[1]+=(r*Math.abs(s));a.tickNum+=r;}else if(j[0]>j[1]){j[0]+=(r*Math.abs(s));a.tickNum+=r;}}else if(p<k){r=k-p;if(e[0]<e[1]){e[1]+=(r*Math.abs(o));_.tickNum+=r;}else if(e[0]>e[1]){e[0]+=(r*Math.abs(o));_.tickNum+=r;}}if(n>l){r=n-l;if(j[0]<j[1]){j[0]-=(r*Math.abs(s));a.tickNum+=r;}else if(j[0]>j[1]){j[1]-=(r*Math.abs(s));a.tickNum+=r;}}else if(n<l){r=l-n;if(e[0]<e[1]){e[0]-=(r*Math.abs(o));_.tickNum+=r;}else if(e[0]>e[1]){e[1]-=(r*Math.abs(o));_.tickNum+=r;}}e[0]=N.preciseSimple(e[0]);e[1]=N.preciseSimple(e[1]);j[0]=N.preciseSimple(j[0]);j[1]=N.preciseSimple(j[1]);_.setDomain(e);a.setDomain(j);_.setTickHint(_.tickNum-1);a.setTickHint(a.tickNum-1);},domainArrayCompare:function(l,r){function j(a){var e=null;if(typeof(a)==='string'||!a){e=a;}else if(typeof(a)==='object'&&(a.d||a.v)){e=a.v||a.d;}return e;}function k(o,p){var e=j(p);for(var i=0;i<o.length;i++){var a=j(o[i]);if(e===a){return i;}}return-1;}if(l===r){return true;}if(!l||!r){return false;}if(l.length!==r.length){return false;}var m=r.slice(0);for(var i=0;i<l.length;i++){var n=k(m,l[i]);if(n===-1){return false;}else{m.splice(n,1);}}return true;},findScaleResult:function(s,t,a){if(!s){return null;}a=a||g.domainArrayCompare;var r=s.results;var e,i;for(i=0;i<r.length;i++){e=r[i];if(a(e.dataContext,t)){return e;}}return null;},shrinkedDomainFromColumns:function(a,e){var r=[];a=a||[];e=e||[];for(var R=0;R<a.length;R++){var i=[];for(var C=0;C<e.length;C++){var j=e[C];if(j>=a[R].length){break;}i.push(a[R][j]);}if(i.length>0){r.push(i);}}return r;},shrinkedDomain:function(a,m){function e(l){var v=l.values;if(v.length>1){var n=v[0];for(var i=1;i<v.length;i++){if(n!==v[i]){return false;}}}return true;}var j=[];if(!T.isExist(m)||m.length<=1){return a;}for(var k=0;k<m.length;k++){var l=m[k];if(M.indexOf(l.id)===-1||!e(l)){j.push(k);}}return g.shrinkedDomainFromColumns(a,j);},};return g;});define('sap/viz/chart/scales/ScaleConstant',[],function(){var S={};S.TYPE_VALUE_SCALE_MEKKO="mekko";S.PATTERN_DEFAULT_VALUE={"AC":{"color":"#323232"},"FC":{"color":"#3F3F3F","pattern":"hatching","stroke":"#ffffff","strokeWidth":"1px"},"PY":{"color":"#969696"},"PL":{"color":"#ffffff","pattern":"nonFill","stroke":"#323232","strokeWidth":"1px"}};S.DEFAULTPATTERN="pattern";S.DEFAULTPATTERN2="pattern2";S.PATTERN_DEFAULT_VALUE[S.DEFAULTPATTERN]={"color":"black","pattern":"solid","stroke":"rgb(187, 189, 191)","strokeWidth":"1px"};S.PATTERN_DEFAULT_VALUE[S.DEFAULTPATTERN2]={"color":"rgb(50, 50, 50)","pattern":"nonFill","stroke":"rgb(128, 128, 128)","strokeWidth":"1px"};return S;});define('sap/viz/chart/scales/ValueScaleUtil',["sap/viz/framework/common/util/NumberUtils","sap/viz/chart/scales/ScaleUtil","sap/viz/chart/scales/ScaleConstant","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ScalesFactory"],function(N,S,a,T,b){var R='layout';var D=7;var L=3;var c=6;var d={};d.getStackedArrayValues=function(e,r){if(T.isArray(e)){var t=[0,0];for(var i in e){if(e.hasOwnProperty(i)){d.getStackedArrayValues(e[i],t);}}if(t[0]<r[0]){r[0]=t[0];}if(t[1]>r[1]){r[1]=t[1];}}else{if(+e<0){r[0]+= +e;}else{r[1]+= +e;}}};d.prepareValueScaleData=function(e,r,f){if(r===R){var g=[];var h=function(e,k,g){if(e.values.hasOwnProperty(k)){g[k]=[];g[k][0]=0;g[k][1]=0;d.getStackedArrayValues(e.values[k],g[k]);}};if(f&&f.length>0){for(var j=0;j<f.length;j++){h(e,f[j],g);}}else{for(var i in e.values){if(e.values.hasOwnProperty(i)){h(e,i,g);}}}e.range=g;}};d.getTicksPosition=function(t,s){var e=[];for(var i=0,l=t.length;i<l;++i){e.push(s.scale(t[i]));}return e;};d.getTicks=function(_){function g(i,f){f=f.map(function(e){return N.precise(e);});var j;var k;var l=i.length;if(i[0]<=i[l-1]){j=i[0];k=i[l-1];}else{j=i[l-1];k=i[0];}if(f.length>0){if(f[0]!==j){f.unshift(j);}if(f[f.length-1]!==k){f.push(k);}}return f;}var t=_.getTickHint()||D;var f=_.ticks(t);var h=g(_.getDomain(),f);return N.preciseObject(h);};d.perfectTicks=function(s,t){return S.nice(s,t);};d.perfectTimeTicks=function(s){var e=s.getDomain();var h=1000*60*60;var f=h*24;var m=f*30;var y=m*12;if(N.isNoValue(e[0])){e[0]=0;}if(N.isNoValue(e[1])){e[1]=e[0]+1;}var g=e[1]-e[0];var k=new Date(e[0]);var l=new Date(e[1]);k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);l.setMinutes(0);l.setSeconds(0);l.setMilliseconds(0);var t;if(g<3*f){l.setHours(l.getHours()+1);t={get:Date.prototype.getHours,set:Date.prototype.setHours,format:"dd/mm/yyyy hh:mm"};g=(l.getTime()-k.getTime())/h;}else if(g<3*m){k.setHours(0);l.setHours(0);l.setDate(l.getDate()+1);t={get:Date.prototype.getDate,set:Date.prototype.setDate,format:"dd/mm/yyyy"};g=(l.getTime()-k.getTime())/f;}else if(g<3*y){k.setHours(0);k.setDate(1);l.setHours(0);l.setDate(1);l.setMonth(l.getMonth()+1);t={get:Date.prototype.getMonth,set:Date.prototype.setMonth,format:"mm/yyyy"};g=(l.getFullYear()-k.getFullYear())*12+l.getMonth()-k.getMonth();}else{k.setHours(0);k.setDate(1);k.setMonth(0);l.setHours(0);l.setDate(1);l.setMonth(0);l.setFullYear(l.getFullYear()+1);t={get:Date.prototype.getFullYear,set:Date.prototype.setFullYear,format:"yyyy"};g=l.getFullYear()-k.getFullYear();}var n=S.getRoughTickNum(s);var i;var j=1;if(n>2){n=N.preciseSimple(n);g=N.preciseSimple(g);for(i=0;i<n-1;i++){var o=false;for(j=n-1;j>1;j--){if((g+i)%j===0){o=true;break;}}if(o){break;}}}if(n>2){s.tickNum=j+1;s.timeUnitGap=(g+i)/j;}else{s.tickNum=n;s.timeUnitGap=g;}t.set.apply(l,[t.get.apply(l,[])+i]);var p=s.getDomainFixed();if(!p[0]&&!p[1]){s.setDomain([k.getTime(),l.getTime()]);}else if(!p[0]){s.setDomain([k.getTime(),e[1]]);}else if(!p[1]){s.setDomain([e[0],l.getTime()]);}s.timeUnit=t;};d.syncTicks=function(s,e){if(!s.isFixed()&&!e.isFixed()){S.sync(s,e);}};d.correctNoValueDomain=function(e){var r=e.slice();r[0]=N.isNoValue(r[0])?0:e[0];r[1]=N.isNoValue(r[1])?e[0]+1:e[1];return r;};d.extendDomainForDataLabel=function(e,f,t,i){var g=e.slice(),m,h,r,j;if(g[0]>0){g[0]=0;}else if(g[1]<0){g[1]=0;}j=i?[t[0]?t[0].width:0,t[1]?t[1].width:0]:[t[0]?t[0].height:0,t[1]?t[1].height:0];if(g[1]>0&&g[0]<0){if(j[0]+j[1]>=f[1]/2){g[1]=e[1]+(e[1]-e[0])/(1+j[0]/j[1]);g[0]=g[1]-2*(e[1]-e[0]);}else{var o=[g[0],g[1]];g[0]=(j[0]*o[1]-f[1]*o[0]+j[1]*o[0])/(j[0]+j[1]-f[1]);g[1]=(f[1]*o[1]-j[1]*g[0])/(f[1]-j[1]);}}else if(g[1]>0){if(j[1]>=f[1]/2){g[1]=g[1]*2;}else{g[1]=(j[1]*g[1])/(f[1]-j[1])+g[1];}}else if(g[0]<0){if(j[0]>f[1]/2){g[0]=g[0]*2;}else{g[0]=(j[0]*g[0])/(f[1]-j[0])+g[0];}}return g;};d.generateValueScale=function(e,s){var m=null;var f=null;if(s){m=+s.min;if(isNaN(m)){m=null;}f=+s.max;if(isNaN(f)){f=null;}}var g=m!=null;var h=f!=null;var i=s.minMax||{};if(i.min===undefined){i.min=0;}if(i.max===undefined){i.max=0;}var j=g?parseFloat(m):i.min;var k=h?parseFloat(f):i.max;if(j>=k){if(g===true){g=false;h=false;j=i.min;k=i.max;}else if(h===true){g=false;h=true;j=i.min;}}if(!g&&!h){if(k===0&&j===0&&!(s&&s.allowZeroMinMax===true)){k=1;}}if(T.isExist(s)&&T.isExist(s.allowZeroMinMax)){delete s.allowZeroMinMax;}var l=null;s=s||{};s.maximizedDomain=e.maximizedDomain;var n=b.getScale(s.type,"value");l=new n([j,k],[0,1],[g,h],s);l.setAutoDomain([i.min,i.max]);return l;};return d;});define('sap/viz/chart/components/util/ValueAxisUtils',["sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/scales/ScaleConstant","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ScalesFactory"],function(A,N,V,a,S,T,b){var d=[0,1];var c=function(i,r,m,o,t){var s=b.getScale(t,"value");var v=new s(i,r,m,{maximizedDomain:o&&o.maximizedDomain,mekkoValue:o&&o.getMekkoValue&&o.getMekkoValue()});if(o&&o.getDomainChanged){v.setDomainChanged(o.getDomainChanged());}if(o&&o.getZeroAdjusted){v.setZeroAdjusted(o.getZeroAdjusted());}if(o&&o.getAllowDecimals){v.setAllowDecimals(o.getAllowDecimals());}return v;};function f(m,n){if(m._minmax){return m._minmax;}n=n||[Infinity,-Infinity];for(var i=m.length;i--;){var o=m[i];if(o instanceof Array){n=f(o,n);}else if(o!=null){if(o<n[0]){n[0]=o;}if(o>n[1]){n[1]=o;}}}return n;}function e(s,v){if(s&&v){var i=s.getDomain().slice();if(!i.length){i=d.slice();}var m=s.getDomainFixed().slice();var n,o;if(!m[0]||!m[1]){var q=[];var r=f(v);if(s.getDomainChanged()){q=i;}else{q=r;}v._minmax=r;n=q[0];o=q[1];}var t=m[0]?parseFloat(i[0]):n;var u=m[1]?parseFloat(i[1]):o;if(n>o){m=[false,false];t=n;u=o;}return{domain:[t,u],domainFixed:m};}else{return null;}}function p(i,s,z){var m=i.domain.slice(),n=i.domainFixed.slice();if(!n[0]){if(m[0]<0){m[0]=m[0]*(1+s);}else if(z){m[0]=0;}else{m[0]=m[0]*(1-s);}}if(!n[1]){if(m[1]<0){if(z){m[1]=0;}else{m[1]*=(1-s);}}else{m[1]*=(1+s);}}return{domain:a.correctNoValueDomain(m),domainFixed:n};}function g(i,s){var m=i.domain.slice(),n=i.domainFixed.slice(),o=m[0]===m[1]?1:Math.floor((m[1]-m[0])*s);m[0]-=n[0]?0:o;m[1]+=n[1]?0:o;return{domain:a.correctNoValueDomain(m),domainFixed:n};}function h(i,m){return(i.start>=m.start&&i.start<=m.end)||(i.end>=m.start&&i.end<=m.end)||(m.start>=i.start&&m.start<=i.end)||(m.end>=i.start&&m.end<=i.end);}function j(m,n){var o=m.length;var t=[];for(var B=0;B<=(o-1);B++){var q=true;for(var i=0;i<o-1;i+=(B+1)){var r=m[i];if(i!==0){var s=t[t.length-1];if(h(r,s)){if(n&&r.value===0){t.push(r);continue;}if(t.length>1){q=false;break;}}else{t.push(r);}}else{t.push(r);}}if(m.length&&t.length){var u=m[o-1];var v=t[t.length-1];if(h(u,v)){if(!(n&&v.value===0)){t.pop();}}t.push(u);}if(q){break;}else{t=[];}}return t;}function k(i,s){if(0===i[0]&&0===i[1]){i[1]=1;}if(!s.getAllowDecimals()){i[0]=Math.floor(i[0]);i[1]=Math.ceil(i[1]);}}var l={isOverLapped:h,calculateLabelsToDrawHelper:j,calcScale:function(s,r,o){var i=s.getDomain().slice();var m=s.getDomainFixed();var n=s.getAutoDomain().slice();var q=s.isFixed();if(i[0]>0&&!(q&&m[0])){if(s.getZeroAdjusted()||i[0]===i[1]){i[0]=0;}}if(i[1]<0&&!(q&&m[1])){if(s.getZeroAdjusted()||i[0]===i[1]){i[1]=0;}}if(n[0]>0){n[0]=0;}if(n[1]<0){n[1]=0;}if(o.domain){if(!(q&&m[0])&&o.domain[0]!=null){i[0]=o.domain[0];}if(!(q&&m[1])&&o.domain[1]!=null){i[1]=o.domain[1];}}if(o.isLineChart){var t=Math.abs((i[1]-i[0])*5/(r[1]-r[0]));if(i[0]!==0&&!(q&&m[0])){i[0]-=t;}if(i[1]!==0&&!(q&&m[1])){i[1]+=t;}if(!o.keepAutoScale){var u=Math.abs((n[1]-n[0])*5/(r[1]-r[0]));if(n[0]!==0){n[0]-=u;}if(n[1]!==0){n[1]+=u;}}}k(i,s);k(n,s);var v=s&&s.getType&&s.getType();var w=c([i[0],i[1]],r,m,s,v);var x=c([n[0],n[1]],r,[false,false],s,v);var y=a.perfectTicks(w);a.perfectTicks(x);if(w.isFixed()){w.setAutoDomain(x.getDomain());}return{scale:w,tickHint:y,autoScale:x};},calcPercentageScale:function(r){var i=c([0,1],r);var t=a.perfectTicks(i);return{scale:i,tickHint:t};},updateScatterValueAxis:function(i,r,s,m){var n=m?g:p;var o=m?a.perfectTimeTicks:a.perfectTicks;var q=i.scale;var t=n(e(q,i.values),s,q.getZeroAdjusted());var u=t.domain;k(u,q);var v=c(u,r,t.domainFixed,q),w=o(v);var x=q.getAutoDomain();var y=c([x[0],x[1]],r,[false,false],q);x=n(e(y,i.values),s,q.getZeroAdjusted()).domain;k(x,q);y=c(x,r,[false,false],q);o(y);v.setAutoDomain(y.getDomain());return{scale:v,tickHint:w};},getTrellisBaseValueIndex:function(s,i){if(s===0){return 0;}else if(i===0){return 1;}else if(s<0&&i<0){return(s>i)?0:1;}else if(s>0&&i>0){return(s<i)?0:1;}else{return-1;}},visibleRangeTransform:function(i,s,m){if(!T.isNumeric(s)||s<i[0]){s=i[0];}if(!T.isNumeric(m)||m>i[1]){m=i[1];}if(s>=m){return null;}if(s>i[1]||m<i[0]){return null;}return{ratio:(i[1]-i[0])/(m-s),delta:(i[0]-s)/(i[1]-i[0])};},getTimeAxisDomain:function(s,t,r,D,i,m){var n,o,q;if(i){n=s.height;o=r.height;q=t.y;}else{n=s.width;o=r.width;q=t.x;}q=Math.abs(q);var u=[],v=D[1]-D[0];if(m){u[0]=D[0]+(v*q/o);u[1]=D[0]+(v*(q+n)/o);}else{u[0]=D[0]+parseInt(v*q/o);u[1]=D[0]+parseInt(v*(q+n)/o);}return u;}};return l;});define('sap/viz/chart/components/util/SeriesUtil',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/util/ChartConstants','sap/viz/framework/chartmodel/ContextBuilder'],function(T,C,N,a,b){var c=N.convertColor;var L=C.LINE_TYPE;function d(e,i,m,n,o){var q=i.position;var r=o?o.x:0;var s=o?o.y:0;var x=q.x+r;var y=q.y+s;var t=x+q.width;var v=y+q.height;if(n){if(m){x=t;t-=q.width;}e.push([x,y]);e.push([t,y]);e.push([t,v]);e.push([x,v]);}else{if(m){v=y;y+=q.height;}e.push([x,v]);e.push([x,y]);e.push([t,y]);e.push([t,v]);}}function p(e,i){e.graphic={color:e.color,width:1,opacity:1};delete e.color;e.isHorizontal=i;}function f(e,s){var i=e.graphic.fill;var m=e.rawData.dp.context();var n=e.rawData.dp.additionCtx();var o=s.analyzeDataPoint("color",m,false,n);if(o&&o.color){i=c(o.color);}return i;}function g(e,s,i,m){var n=i;var o=s.analyzeDataPoint("lineColor",e,false,m);if(o&&o.lineColor){n=c(o.lineColor);}return n;}function h(e,s,i,m){var t=i||"solid";var n=s.analyzeDataPoint("lineType",e,false,m);if(n&&(n.lineType===L.DOT||n.lineType===L.DASHED||n.lineType===L.DOTTED)){t=n.lineType;}return t;}function j(s){var m=0;if(s){s.forEach(function(e){var n=0;for(var i=0;i<e.length;i++){if(e[i].valueAxis){n++;}}m=Math.max(m,n);});}return m;}function k(s,e){return(s/e<10);}function l(e,s,i){var m=b.buildSeriesLineContext(e,s);var n=i.analyzeSeriesStyle(m,"line");return n&&n.line&&n.line.type;}var u={getMaxSeriesLength:j,isBigDensityMode:k,addRectSeriesPathPoints:d,parseSemanticColor:f,parseSemanticLineColor:g,parseSemanticLineType:h,parseSeriesLineType:l,getSeriesType:function(i,e,m){var n;if(i){switch(m){case a.COLUMN_COMBINATION:n=i.color?i.color.mndIndex:-1;break;case a.STACKED_COMBINATION:if(i.color){n=i.color.mndIndex;}else if(i.color2){n=i.color2.mndIndex;}else{n=-1;}break;}return e[n]||a.LINE;}return a.LINE;}};return u;});define('sap/viz/chart/components/trendline/algorithm/Linear',[],function(){function c(a){var b,y,e,f,g,s,h,j,n=a.length;b=y=e=f=g=0;var m=+a[0].x;a.forEach(function(d){m=m<+d.x?m:+d.x;});m=m<0?-1*m:m;for(var i=0;i<n;i++){var k=(+a[i].x-m);b+=k;y+= +a[i].y;e+=k*a[i].y;f+=k*k;g+=a[i].y*a[i].y;}var r=((n*f)-(b*b));if(r===0){return false;}s=(((n*e)-(b*y)))/r;h=(y-(s*b))/n-s*m;return function(x){return s*x+h;};}function v(d){return(d instanceof Array)&&d.length>1;}return{type:"Linear",compute:c,validate:v};});define('sap/viz/chart/components/trendline/Trendline',['sap/viz/framework/common/util/Constants','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/ColorUtils','sap/viz/framework/common/util/TypeUtils','./algorithm/Linear'],function(C,V,O,S,D,T,a,b,L){var g=D.getDimensionParsedValue;var c=0.1;function e(s){for(var i=0;i<s.length;i++){if(s[i]){return s[i];}}return null;}var U={seriesAxisId:function(s){var d=e(s);if(d){return d.hasOwnProperty("valueAxis")?"valueAxis":"valueAxis2";}return null;},indexOfObj:function(d,l){for(var i=0;i<l.length;i++){if(O.deepEqual(d,l[i])){return i;}}return-1;},seriesAxisHasTime:function(s){var d=e(s);if(d){return d.hasOwnProperty("timeAxis");}return false;},findMapObj:function(d,l){var r=[];for(var i=0;i<l.length;i++){if(O.deepEqual(d,l[i])){r.push(i);}}return r;}};function t(s,i){return s.map(function(d){return{x:g(d.timeAxis[0]),y:(d.valueAxis instanceof Array)?d.valueAxis[0]:d.valueAxis};}).filter(function(d){if(d){if(!b.isExist(d.y)&&i.invalidity){if(i.invalidity==="connect"){d.y=0;return true;}else{return false;}}}return!!d;});}var f={yy:function(s,i){var x;if(U.seriesAxisHasTime(s)){x=t(s,i);}else{x=s.map(function(d){return{x:(d.valueAxis instanceof Array)?d.valueAxis[0]:d.valueAxis,y:(d.valueAxis2 instanceof Array)?d.valueAxis2[0]:d.valueAxis2};});}x=x.sort(function(p,q){return p.x<q.x?-1:(p.x>q.x?1:0);}).reduce(function(l,d){var p=l[l.length-1];if(p.x!==d.x||p.y!==d.y){l.push(d);}return l;},[x[0]]);return x;},spread:function(s,l){var x;if(U.seriesAxisHasTime(s)){return t(s,l);}else{var p=U.seriesAxisId(s);return s.map(function(d,i){return{x:i+1,y:d[p]};}).filter(function(d){return!!d;});}}};function h(i,l,s,r,p){if(U.seriesAxisHasTime(s)){var q=Math.max.apply(null,s.map(function(d){return g(d.timeAxis[0]);}));var v=p[0];var w;for(var x=1;x<=l;x++){w=T.getNperiodByTimeLevel(v,q,x,true);r.push({x:w,y:i(w)});}}else{var y=Math.max.apply(null,r.map(function(d){return d.x;}));for(var z=0;z<l;z++,y++){r.push({x:y+1,y:i(y+1)});}}}var P=(function(){var N={color:{name:"stroke"},type:{name:"stroke-dasharray",fn:function(d,l){switch(d){case C.LINE_TYPE.DASHED:return C.LINE_DASH_TYPE_ARRAY;case C.LINE_TYPE.SOLID:return d;default:return"1, "+(+l.size)*2;}}},size:{name:"stroke-width"}};function p(d){return Object.keys(d).reduce(function(l,w){var x=d[w],y=N[w];if(y){l[y.name]=y.fn?y.fn(x,d):x;if(y.name==="stroke-dasharray"&&x!==C.LINE_TYPE.DASHED&&x!==C.LINE_TYPE.SOLID){l["stroke-linecap"]="round";}}return l;},{});}function i(l){var w=[];if(l._seriesType==="yy"){var x={};l.seriesContext.forEach(function(d){var y=JSON.stringify(d);if(!x[y]){w.push(d);x[y]=true;}});}else{w=l.seriesContext;}return w.map(function(d){return{seriesContext:d};});}function q(d,l){var w,x;if(d._seriesType==="yy"){var y=U.findMapObj(l.seriesContext,d.seriesContext);if(y.length>0){x=[];y.forEach(function(z){d.series[z].forEach(function(A){x.push(A);});});w=y[0];}}else{w=U.indexOfObj(l.seriesContext,d.seriesContext);if(w!==-1||w<d.series.length){x=d.series[w];}}return{series:x,seriesId:w};}function r(d,w,x,y){if(!d||!d.lines||(d.lines!=="all"&&!b.isArray(d.lines))){return[];}var z=d.lines;if(w.seriesContext===null||w.seriesContext.length===0){if(z==="all"&&w.series&&w.series.length>0){var A=w.series[0];if(!A||A.length<2){return null;}var B=f[w._seriesType](A,x),E=k(B);if(!E){return null;}var F=+d.defaultStyle.forecast||0;if(F>0){h(E,F,A,B,y);}return[{seriesId:0,seriesContext:null,series:A,raw:B,fx:E,forecast:F}];}}else{var G=z==="all"?i(w):z;return G.map(function(l){if(l&&b.isPlainObject(l)){var B,E,H=q(w,l);var I=H.series,J=H.seriesId;if(!I||I.length<2){return null;}B=f[w._seriesType](I,x);E=k(B);if(B.length<2||!E){return null;}var F=+l.forecast||+d.defaultStyle.forecast||0;if(F>0){h(E,F,I,B,y);}return{seriesId:J,seriesContext:l.seriesContext,series:I,raw:B,fx:E,forecast:F};}});}}function s(d,l,w,x){var y,z=d[w];if(z&&z.scale){y=z.scale.scale(l[w]);y=a.fromCSSColor(y).lighter(c).toString();if(x){y=x.register({fillColor:y});}}return y;}function v(d,l,w,x){if(!d||!d.lines||(d.lines!=="all"&&!b.isArray(d.lines))){return[];}var y=d.lines,z=d.defaultStyle;var A=w&&w.rules&&w.rules.map(function(I){return I.dataContext&&I.dataContext[0];});if(l&&l.seriesContext===null||l.seriesContext.length===0){if(y==="all"&&l.series&&l.series.length>0){var B=l.series[0];if(!B||B.length<1){return null;}var E=e(B);if(!E){return null;}var F=E.color2?"color2":"color",G=a.isCSSColorString(z.color)?z.color:s(l,E,F,x);return[{style:p(O.extend(true,{},z,{color:G})),colorBind:E[F]}];}}else{var H=y==="all"?i(l):y;return H.map(function(I){if(I&&b.isPlainObject(I)){var J=q(l,I),B=J.series,K=J.seriesId;if(!B||B.length<1){return null;}var M={};if(A){var Q=U.indexOfObj(I.seriesContext,A);var R=Q===-1?null:w.rules[Q];if(R&&R.properties&&R.properties.line){M.color=R.properties.line.color;M.color=a.isCSSColorString(M.color)&&M.color;M.size=R.properties.line.width;}}if(I.type){M.type=I.type;}if(I.size){M.size=I.size;}var E=e(B);if(!E){return null;}var F=E.color2?"color2":"color";if(a.isCSSColorString(I.color)){M.color=I.color;}else{M.color=a.isCSSColorString(z.color)?z.color:s(l,E,F,x);}return{text:I.displayName,style:p(O.extend(true,{},z,M)),colorBind:E[F],seriesContext:I.seriesContext};}});}}return{basic:r,color:v};})();function j(i,r){var v=r.map(function(d){return i(d.x);});return[Math.min.apply(null,v),Math.max.apply(null,v)];}function k(i){var d=L;if(!d.validate(i)){return null;}return d.compute(i);}function u(p,r,d){if(typeof p._trendlineValueDomain!=="function"){return null;}var i=p._trendlineValueDomain(d),l=Object.keys(i).length;if(l===0){return null;}var q=/line/.test(p._options.renderType);var s=Object.keys(i).reduce(function(v,w){var x=d[w].scale.getDomain(),y=i[w];if(x[0]>y[0]||x[1]<y[1]){var z=Math.min(x[0],y[0]),A=Math.max(x[1],y[1]);var B=V.calcScale(d[w].scale,r[w],{isLineChart:q,domain:[z,A]});B.scale.setRange([0,1]);B.metaData=d[w].metaData;v[w]=B;}return v;},{});return s;}function m(p,v,d,x){if(typeof p._trendlineValueDomain==="function"){var i=p._trendlineValueDomain(d,x),l=Object.keys(i).length;if(l!==0){var q=i.valueAxis[0];var r=i.valueAxis[1];q=v[0]>q?q:v[0];r=v[1]>r?v[1]:r;return[q,r];}}return v;}function n(d,i){if(!d||d.length<2||!i){return;}var l=0;i.forEach(function(p){if(p&&p.fx&&p.forecast){var q=p.raw.length;l=p.raw[q-1].x>l?p.raw[q-1].x:l;}});if(l>0){d[1]=l;}}function o(d,i,s){if(!d||!i){return;}var l=0;i.forEach(function(r){if(r&&r.raw&&r.fx&&r.forecast){l=r.forecast<l?l:r.forecast;}});for(var p=0;p<l;p++){var v=[];for(var q=0;q<d[0].length;q++){v.push("");}d.push(v);}}return{calculate:k,Parser:P,updateValueScale:u,Utils:U,domainPerTrendline:j,getValueScaleDomain:m,expandTimeAxisDomain:n,expandCategoryDomain:o};});define('sap/viz/chart/components/trendline/mixin/legendItems',['sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/lang/LangManager','sap/viz/chart/components/trendline/Trendline',],function(O,C,D,L,T){var _={};_[C.CSS.CLASS.LEGENDITEM]=false;_["v-trendline-legend-item"]=true;function f(a,s){var k=s&&Object.keys(s);var r=[];if(k){for(var i=0;i<a.length;i++){var b=true;k.forEach(function(c){var d=a[i].context[c+D.DIMENSION_VALUE_SUFFIX]||a[i].context[c];if(s[c]!==d){b=false;return;}});if(b){r=O.extend(true,[],a[i].data);break;}}}return r;}return function(l,i){var d=l._data,p=l._properties.parentLevel.get("plotArea.trendLine"),a=l._properties.parentLevel.get("plotArea.dataPointStyleMode"),s=l._properties.parentLevel.get("plotArea.seriesStyle"),b=this._properties.get("dataPointStyle"),c=T.Parser.color(p,d,s,l._runtime._effectMgr),e=[];if((!b||!a||a!=="override")&&c&&c.length>0){c.map(function(g){if(!g){return null;}var h=O.extend(true,{},g.style,{fill:"none"});var t=g.text;if(!t){t=f(i,g.seriesContext);t.callback=function(v){if(v&&v!==""){return L.get("IDS_TRENDLINE_LINEAR")+": "+v;}else{return L.get("IDS_TRENDLINE_LINEAR");}};}e.push({data:t,color:g.style.stroke,context:g.seriesContext,cls:_,shape:{type:"line",style:h}});});}return e;};});define('sap/viz/chart/components/legend/ColorLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/BaseLegend','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/behavior/config/SelectionUtil','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataUtils','sap/viz/framework/chartmodel/DataSelector','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/chart/components/util/StyleUtils','sap/viz/framework/common/util/GeometryUtils','sap/viz/chart/components/util/ColorUtil',"sap/viz/framework/common/util/StatusConstants","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/ColorLegendNavigator","sap/viz/chart/components/util/ChartConstants",'sap/viz/chart/components/trendline/mixin/legendItems'],function(o,B,T,D,N,S,c,f,O,C,g,h,l,p,q,G,r,s,t,I,u,v){"use strict";var H=C.LEGEND.HORIZONTAL_OFFSET;var w=C.CSS.CLASS.LEGENDITEM,z="v-legend-element";function A(a,b){A.superclass.constructor.apply(this,arguments);this._labelFont={'fontFamily':null,'fontSize':null,'fontWeight':null,'color':null,'fontStyle':null};var d=this.runtime().semanticManager();d.addDataPointChangeCallback(this._onDataPointChange.bind(this));this._defaultItemMargin=this._properties.getDefault("itemMargin");this._colorLabelSize=1;this._markerMargin={right:0.5,bottom:0.5,left:1,top:0};this._maxItemsNum=12;this._maxItemTextWidth=80;this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._scrollBar=undefined;this._type="ColorLegend";this._noFillSupport=b&&b.options&&b.options.noFillSupport;this._scrollThumbSpace=S.getThumbSpace("legend");this._contentSize=0;this._pageCount=2;this._domID=O.guid();this._isOverflow=false;this._overflowOffset=0;this._lastRowOffset=0;this._markerSize=0;this._cDomain=null;this._offset={x:0,y:0};this.BGCOLORPROPS=["general.background.color"];}o.extend(A,B);function E(a,d){var b=[];var k=Object.keys(d).sort();for(var i=0;i<k.length;i++){var e=d[k[i]];var j=e&&e.scale&&e.scale._type;if(j==="color"){b.push(e);}else if(j==="shape"){a.setShapeScale(e);}}a.setColorScale(b);}A.prototype._addDefaultProperties=function(){A.superclass._addDefaultProperties.call(this);this._properties.add({'drawingEffect':'normal','formatString':null,'hoverShadow':{'color':"#cccccc"},'isScrollable':false,'itemMargin':0.5,'marker':{'size':null,'shape':"squareWithRadius"},'mouseDownShadow':{'color':"#808080"},'scrollbar':{'thumb':{'fill':"#e5e5e5",'hoverFill':"#dedede"},'track':{'fill':"f7f7f7"}}});};A.prototype._onDataPointChange=function(){this._colorShapeScale=null;};A.prototype.setData=function(a){this._data=a;E(this,a);return this;};A.prototype.setColorScale=function(a){this._colorScale=c.isArray(a)?a:[a];this._colorShapeScale=null;return this;};A.prototype.setShapeScale=function(a){this._shapeScale=a;return this;};A.prototype.isVisible=function(){return A.superclass.isVisible.apply(this,arguments)&&this.hasData();};A.prototype.getScrollbar=function(){return this._scrollBar;};A.prototype.scroll=function(a,i){if(this._scrollBar){this._scrollBar._scroll(a,true,i);this._scrollBar.show();}};A.prototype._scroll=function(a){if(a.reachMax){this.loadMore();}var b=a.offset;if(this.isHorizontal()){this._offset.x=b;this._offset.y=0;}else{this._offset.x=0;this._offset.y=b;}this._setTranslate();};A.prototype.loadMore=function(n){n=+n;if(isNaN(n)){n=2;}this._pageCount+=n;this.render(this._parent,true);var a=this.runtime();if(a&&a._interaction&&a._interaction._service){f.updateCorrespondingSelectedLegendItems(a._interaction._service);}};A.prototype._setTranslate=function(){if(!this._isRTL()){this._parent.select(".v-groups").attr('transform','translate('+this._offset.x+', '+this._offset.y+')');}else{var a=this._parent.select(".v-groups");var b=G.getBBox(a.node());if(this._cDomain.width>b.width){if(this._scrollBar&&this._scrollBar._isVisible){a.attr('transform','translate('+(this._offset.x+this._cDomain.width-b.width+H-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+', '+this._offset.y+')');}else{a.attr('transform','translate('+(this._offset.x+this._cDomain.width-b.width+H+this._cDomain.markerMarginRight-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+', '+this._offset.y+')');}}else{a.attr('transform','translate('+(this._offset.x+this._cDomain.markerMarginRight)+', '+this._offset.y+')');}}};var F=function(a,x,y,b,i){var d=a.select(".v-split-lines");if(d.empty()){d=a.append("g").classed('v-split-lines',true);}var e=d.select("line");if(e.empty()){e=d.append("line");}e=e.node();e.setAttribute("stroke","#d8d8d8");e.setAttribute("stroke-width",1);e.setAttribute("shape-rendering","crispEdges");e.setAttribute("x1",x);e.setAttribute("y1",y);if(i){e.setAttribute("x2",x);e.setAttribute("y2",y+b);}else{e.setAttribute("x2",x+b);e.setAttribute("y2",y);}};A.prototype._drawSplitLine=function(a,b){var i=false;if(b._intervalIndex>=0&&b._intervalLen>0&&(b.length-1)>b._intervalIndex){i=true;}if(i){if(!this.isHorizontal()){var d=b[b._intervalIndex+1].pos.y;d-=(b._intervalLen/2);var e=this._isScrollable()?b.width-this._scrollThumbSpace:b.width;F(a,0,d,e,false);}else{var j=b[b._intervalIndex+1].pos.x;j-=b._intervalLen;F(a,j,0,b.eachRowHeight,true);}}else{a.selectAll(".v-split-lines").remove();}};A.prototype._createLegendContent=function(a,b,d){var e=this._labelFont;var i=a.selectAll('g.v-content').data(['content']);i.enter().append('g').classed('v-content',true);i.exit().remove();i.attr('transform','translate(0, '+this._pos.y+')').attr('font-size',e.fontSize).attr('font-family',e.fontFamily).attr('font-weight',e.fontWeight).attr('fill',e.color).attr('font-style',e.fontStyle);var j=i.selectAll("rect.v-legend-body-bound").data(['bound']);j.enter().append('rect').classed('v-legend-body-bound',true).attr("fill","transparent");j.exit().remove();j.attr("x",this._isRTL()?0:-H);j.attr("width",this._width+H).attr("height",this._height-this._pos.y);var k=i.selectAll('g.v-groups').data(['groups']);k.enter().append('g').classed('v-groups',true).classed('v-label',true).classed('viz-legend-valueLabel',true);k.exit().remove();k.attr('transform','translate(0, 0)');this._createGroupItems(k,b);this._handleOverflow(i,b,d);this._drawSplitLine(k,b);if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._position==="top"||this._position==="bottom")){var m=k.node();if(m){var n=m.getBoundingClientRect().width;if(this._width+H>n){j.attr("width",parseFloat(n));}}}else{if(this._isRTL()){var x=G.getBBox(k.node());if(b.width>x.width){if(this._scrollBar&&this._scrollBar._isVisible){k.attr('transform','translate('+(b.width-x.width+H-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+', 0)');}else{k.attr('transform','translate('+(b.width-x.width+H+b.markerMarginRight+(this._lastRowOffset?0:this._overflowOffset))+', 0)');}}else{k.attr('transform','translate('+b.markerMarginRight+', 0)');}}}return i;};var P=["noFill","solid"];A.prototype._getGroupItemInfo=function(a){var b=this;var e=a.width;var i=a.textHeight;var m=a.markerSize;var j=this._getMarkerWidth(m);var k=this._isScrollable();var n=this.isHorizontal();var x=this._markerMargin;var y=this.runtime().propertyManager();var L=this._properties.get("drawingEffect");var M=this._properties.get('showFullLabel');var Q=this._options&&this._options.options?this._options.options.defaultMarkerShape:null;var R=a.eachItemWidth;if(!this.isHorizontal()||(!k&&R>e)){R=e;if(k){R-=this._scrollThumbSpace;}}var U=R-a.miscWidth;if(n){U=Math.min(U,e);}var V=n&&a.length===1&&a.columnCount===2;var W=this.runtime().semanticManager();return a.map(function(d){if(n){if(k&&b._isOverflow){U=d.labelWidth;}else if(M){U=Math.min(d.labelWidth,e-m-x.right*i);}if(V){U=Math.min(U,e-a.miscWidth-a.ellipsisWidth);}}var X=0;if(n){if(!k&&M){X=U+j+x.right*i+H;}else{var Y=R+H-x.right*i;if(b._isOverflow||k){var Z=H+d.labelWidth+j+(x.right+x.left/2)*i;if(!k&&Y<Z){Z=Y;}X=Z;if(V){X=Math.min(X,U+a.miscWidth);}}else{X=Y;}}}else{X=R+H;}var $={drawingEffect:L,borderWidth:0,rx:m/2,ry:m/2,direction:'vertical',fillColor:d.color,graphType:d.shape,defaultShape:Q,borderColor:"transparent"};$.dpPattern=d.pattern;if(!d.isSemantic){var _=b._getSereisStyle(d.ctx,b._data,W,"dataPoint");if(_&&_.dataPoint){if(_.dataPoint.pattern){var a1=_.dataPoint.pattern;var b1=W._chartType;if(d.seriesShape==="line"&&P.indexOf(a1)===-1||b1==="info/area"){a1=null;}$.patternEffect=$.dpPattern=a1;}if(_.dataPoint.color){$.fillColor=N.convertColor(_.dataPoint.color);}}}if($.dpPattern==='noFill'&&!b._noFillSupport){$.patternEffect=$.dpPattern=null;}if($.dpPattern==='noFill'){$.borderColor=y.get("plotArea.background.color");if(!$.borderColor||$.borderColor==='transparent'){$.borderColor=y.get("general.background.color");}$.borderWidth=1;if(y.get("plotArea.dataPoint.stroke.visible")){$.borderColor=y.get("plotArea.dataPoint.stroke.color");}}var c1=b.runtime().semanticManager().isUseSemanticPattern();if(c1&&d.pattern){$.patternEffect=d.pattern;}return{eventLayerWidth:X,shapeOptions:$,expectedWidth:U};});};A.prototype._getSereisStyle=function(a,d,b,e){var i=false;var j=d&&d.valueAxis;if(a&&!a["measureNames"]&&j&&j.metaData&&j.metaData.length===1){a["measureNames"]=j.metaData[0].id;i=true;}var k=b.analyzeSeriesStyle(a,e);if(i){delete a["measureNames"];}return k;};function J(a){var b=0;a.forEach(function(d){if(d.cls){b++;}});return b;}A.prototype._createGroupItems=function(a,b){var e=this._labelFont;var k=this._getGroupItemInfo(b);var m=a.selectAll('g.'+z).data(b);m.enter().append('g').classed(z+" "+w,true);m.each(function(d){if(!d.cls){d3.select(this).classed(w,true);}else{d3.select(this).classed(d.cls);}});m.exit().remove();m.attr('transform',function(d){return'translate ('+(d.pos.x-H)+','+d.pos.y+')';});m.attr('legendlabel-id',function(d){return d.id;});if(this.isSelectable()){var n=this._colorShapeScale.getLength()-J(b);m.attr('aria-posinset',function(d){return d.id+1;}).attr('aria-setsize',n);}var x=m.selectAll('rect').data(['rect']);x.enter().append('rect');x.exit().remove();x.attr('height',function(d,i,j){return c.isArray(b[j].text)?((b[j].line||b[j].text.length)*b.eachRowHeight):b.eachRowHeight;}).attr('fill','transparent').attr('width',function(d,i,j){return k[j].eventLayerWidth;});this._createShapeItems(m,b,k);var y,L;var M=m.selectAll('text').data(['text']);M.enter().append('text');M.exit().remove();var Q=null;var R=this.runtime().envManager();if(R){Q=R.textAnchor();}M.attr("text-anchor",Q);var U=this;M.each(function(d,i,j){var V=d3.select(this);if(U._isRTL()){V.attr("transform","translate("+0+", "+b.textY+")");}else{V.attr("transform","translate("+b.textX+", "+b.textY+")");}if(c.isArray(b[j].text)){y=b[j].text.join("");L=b[j].line||b[j].text.length;}else if(c.isString(b[j].text)){y=b[j].text;L=1;}else{y=String(b[j].text);L=1;}var W={};W.isRTL=U._isRTL();W.ellipsisOptions=b.ellipsisOptions;T.drawWrappedText(V,y,[" "],L,U._isRTL()?(k[j].eventLayerWidth-H-U._markerSize-b.markerMarginRight):k[j].expectedWidth,b.eachRowHeight,e,W);V.selectAll("tspan").attr("dy","0.85em");});x.each(function(){var M=this.parentNode.getElementsByTagName("text")[0];if(M){while(this.childNodes.length!==0){this.removeChild(this.childNodes[0]);}var d=M.getElementsByTagName("title")[0];if(d!==undefined&&d.textContent!==""){M.appendChild(d);}}});};A.prototype._cleanLegendItemsWithLine=function(a){a.selectAll('line').remove();a.selectAll('g').remove();};A.prototype._getBGColor=function(){var a=this.runtime().propertyManager();var b="plotArea.dataPoint.stroke.color";var d="plotArea.dataPoint.stroke.visible";return r.getBgColor(a,a.get(d)?this.BGCOLORPROPS.concat(b):this.BGCOLORPROPS);};A.prototype._createShapeItems=function(a,b,e){var k=this.runtime().effectManager();var m=this.runtime().propertyManager();this._cleanLegendItemsWithLine(a);var n=a.selectAll('path').data(['shape']);n.enter().append('path');n.exit().remove();var x=this._isRTL();if(!x){n.attr('transform','translate('+b.shapeX+','+b.shapeY+')');}var y=this._getBGColor();n.each(function(d,i,j){var L=e[j].shapeOptions;L.node=this;L.bgColor=y;D.drawGraph(L,k);if(x){this.setAttribute('transform','translate('+(e[j].eventLayerWidth-H-b.markerSize/2)+','+b.shapeY+')');}});n.attr("class","v-legend-marker");};function K(i,a,b){var n=b.querySelector('[legendlabel-id="'+a[i].id+'"]');return n.getBoundingClientRect();}A.prototype._handleOverflow=function(a,b,d){var e=a.selectAll('.v-groups').node();var i=a.selectAll('.v-overflow');if(this._isOverflow===true){var j=b.width;var k=b.height;var m=this._isScrollable();var n=this.isHorizontal();var L=b.textHeight;var M=b.colorMarkerSize;if(i.empty()){i=a.append('g').attr('class','v-overflow');}if(!m){if(!i.selectAll('g').empty()){a.selectAll('defs').remove();a.attr('clip-path',null);i.selectAll('g').remove();i.attr('transform','translate(0, 0)');}if(b.length!==0){var Q=a.selectAll('.v-overflow text');if(Q.empty()){Q=i.append('text').text('...');Q.attr('dy','');}e.appendChild(i.node());var R=e.getBoundingClientRect();var U=b[b.length-1];var V=K(b.length-1,b,e);var x=V.left-R.left;var y=U.pos.y;var W,X;var Y;if(b.columnCount>1){Y=0;var Z=this._getMaxNumOfItems();if(Z<this._colorShapeScale.getLength()&&b.rowCount>Math.floor(Z/b.columnCount)){if(Z%b.columnCount===0){W=b.columnCount*U.rowIndex;X=K(W,b,e);x=X.left-R.left;y+=b.eachRowHeight;}else{x=V.right-R.left+H;}}else{if(b.length>b.columnCount){W=U.rowIndex*b.columnCount-1;X=K(W,b,e);x=X.left-R.left;}else{x=V.right-R.left+H;}}}else{Y=b.textX-H;if(c.isArray(U.text)){y+=(b.eachRowHeight*(U.line||U.text.length));}else{y+=b.eachRowHeight;}}if(!this._isRTL()){i.attr('transform','translate('+(x-H+Y)+','+y+')');}else{if(this._position==="top"||this._position==="bottom"){if(b.columnCount>1){this._overflowOffset=2*Q.node().getComputedTextLength()+H+Y;i.attr('transform','translate('+(-this._overflowOffset+this._lastRowOffset)+','+y+')');}else{i.attr('transform','translate('+(b.eachItemWidth-2*Q.node().getComputedTextLength()-2*H-this._markerSize)+','+y+')');}}else{i.attr('transform','translate('+(b.width-2*Q.node().getComputedTextLength()-H-this._markerSize)+','+y+')');}}Q.attr('x',this._isRTL()?0:H).attr('y',b.textY).attr('dy','0.85em');var $=null;var _=this.runtime().envManager();if(_){$=_.textAnchor();}Q.attr("text-anchor",$);}}else{a.node().appendChild(i.node());if(!i.selectAll('text').empty()){i.selectAll('text').remove();}if(!d){this._scrollBar=undefined;}if(this._scrollBar===undefined){this._scrollBar=new S(this.runtime(),{name:'legend.scrollbar',location:"legend"});}if(a.selectAll('.legend-clip-rect').empty()){a.insert('svg:defs',":first-child").append('svg:clipPath').attr('id','legend_'+this._domID).append('rect').attr('class','legend-clip-rect').attr('x',n?0:-5).attr('style','stroke: blue; fill: none;');}var a1=n?(j+'px'):((j+5)+'px');var b1=n?((k-this._pos.y+5)+'px'):((k-this._pos.y)+'px');a.selectAll('.legend-clip-rect').attr('width',a1).attr('height',b1).attr('y',n?-5:0);a.attr('clip-path','url(#'+'legend_'+this._domID+')');var c1,d1;var e1=this._scrollBar._properties;var f1=parseFloat(e1.get("border.width"))||e1.getDefault("border.width");f1=f1>4?4:f1;f1=f1<0?0:f1;if(d){c1=this._scrollBar.getThumbPosition();d1=this._scrollBar.getThumbRatio();}if(n){this._scrollBar.setTrackSize(j-this._pos.x-2*f1);i.attr('transform','translate('+f1+', '+b.eachRowHeight+')');}else{this._scrollBar.setTrackSize(k-this._pos.y-2*f1);i.attr('transform','translate('+(j-this._scrollThumbSpace-f1/2)+', '+''+f1+')');}this._scrollBar.getDispatch().on("scroll.legend",this._scroll.bind(this));this._scrollBar.setPosition(this._orientation).setContentSize(this._contentSize).render(i);var g1=this._scrollBar.getThumbRatio();if(d&&g1!==d1){this._scrollBar.setThumbPosition(c1/g1*d1);this._setTranslate();}}}else{if(!i.empty()){a.selectAll('defs').remove();i.remove();this._scrollBar=undefined;}a.attr('clip-path',null);}};A.prototype.render=function(a,b){this._parent=a;this._overflowOffset=0;this._lastRowOffset=0;A.superclass.render.apply(this,arguments);if((!this.isVisible()&&!this._isDedicated)||!this._colorShapeScale){a.selectAll('g.v-content').remove();return this;}var d=this._getAvailableDomain();var e=this._createLegendContent(this._parent,d,b).node();if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._position==="top"||this._position==="bottom")){if(e){var i=e.getBoundingClientRect().width;if(!this._renderedWidth||this._renderedWidth<i){this._renderedWidth=i;}if(this._bound){var j=this._bound.getAttribute("width");this._bound.setAttribute("x",0);if(parseFloat(j)>0){this._bound.setAttribute("width",Math.min(j,this._renderedWidth));this._bound.setAttribute("x",-H);if(this._isRTL()){var k=a.select('rect.v-legend-body-bound');k.attr('x',parseFloat(k.attr('x'))+(this._lastRowOffset?0:this._overflowOffset));var m=a.selectAll('g.v-groups');var n=G.getBBox(m.node());m.attr('transform','translate('+(Math.min(j,this._renderedWidth)-n.width+(this._lastRowOffset?0:this._overflowOffset))+', 0)');if(this._properties.get("title.visible")===true){var x=a.select('.viz-legend-title');var y=x.node();x.select('tspan').attr("x",Math.min(j,this._renderedWidth)-y.getBoundingClientRect().width-this._markerSize);}}}}if(!this._isScrollable()||(this._isScrollable()&&this._width>this._renderedWidth)){this._width=this._renderedWidth;}}}this._postRenderer=this._properties.get("postRenderer");if(this._postRenderer){var L={dataModel:this._data,DataSelector:h,domain:d.slice(),effectManager:this.runtime().effectManager(),itemInfo:this._getGroupItemInfo(d)};var M={target:a,x:d.postRenderX,y:d.postRenderY,markerSize:d.markerSize};this._adjustRendererOption(M);this._postRenderer(L,M);}return this;};A.prototype._getContentDomain=function(b){var a=this._getWrapText();var d=this._colorShapeScale;var e=this._properties.origin.get("general.hideNoValueLabel");var j;if(this._isScrollable()){j=d.getLength();}else{j=Math.min(d.getLength(),this._getMaxNumOfItems());}var k=[];for(var i=0;i<j;i++){k.push(d.getItem(i));}k=this._sort(k);var m=this._calcDomain(k,e);m.width=b.width;m.height=b.height;m.maxWidth=b.maxWidth||b.width;m.maxHeight=b.maxHeight||b.height;m.wrap=a;m.len=j;this._calcMetaInfo(m);this._calcItemLayout(m);this._calcItemPosition(m);return m;};A.prototype._calcDomain=function(a,b){return a.map(function(d,i){d.id=i;var e=this._toValueString(d.data,b);var j=d.color;if(c.isString(j)&&j&&j.indexOf("url")===-1){j=N.convertColor(j);}return{id:i,val:d.data,text:e,ctx:d.context,color:j,cls:d.cls,shape:d.shape,pattern:d.pattern,isSemantic:d.isSemanticItem};},this);};A.prototype._getMarkerWidth=function(m){return m;};A.prototype._calcMetaInfo=function(a){var b=this._labelFont;var d=b.fontSize;var e=parseInt(b.fontSize,10);var m=this._markerMargin;var j=this._properties.get("marker.size");j=j&&parseFloat(j);var k=this.isHorizontal();var n=this._isScrollable();var x=m.bottom*e;var y=this._colorLabelSize*e;var L=this._getMarkerWidth(y);var M=(1+m.bottom)*e;var Q=(k?m.left+m.right:m.right)*e;if(j&&j>e){x=m.bottom*j;y=j;L=this._getMarkerWidth(y);M=(1+m.bottom)*j;}this._markerSize=y;var R=a.maxWidth-Q-L;if(n){R-=this._scrollThumbSpace;}var U;if(k||n){U=a.length;}else{if(!c.isNumeric(a.height)){a.height=M*a.len;}U=Math.min(Math.floor(a.height*2/M),a.length);}var V=0;for(var i=0;i<U;i++){var W=a[i].text;var X={width:T.getTextLength(W,q.convertToCss(b))};if(X.width>R&&a.wrap>1){var Y=T.wrapText(a[i].text,[" "],R,a.wrap,b);a[i].text=Y.lines;X={height:e*Y.lines.length,width:Y.maxWidth};}a[i].textSize=X;V=Math.max(V,X.width);}if(k){V=Math.min(V,this._maxItemTextWidth);}var Z=V+y+Q;if(!k&&n){Z+=this._scrollThumbSpace;}if(!c.isNumeric(a.width)){a.width=Z;}var $=Math.max(y,e);var _=m.bottom*e/2;var a1=y/2+H;var b1=$/2+_;var c1=y+m.right*e+H;var d1=(($-e)/2+_);var e1=y/2+H;var f1=$/2+_;a.shapeX=a1;a.shapeY=b1;a.textX=c1;a.textY=d1;a.postRenderX=e1;a.postRenderY=f1;a.overallHeight=$;a.maxHeight=a.height-this._pos.y;a.maxTextWidth=V;a.minTextWidth=T.getTextLength("M...",q.convertToCss(b));a.ellipsisWidth=T.getTextLength("...",q.convertToCss(b));a.ellipsisItemWidth=a.ellipsisWidth+H;a.eachRowHeight=M;a.markerSize=y;a.textHeight=e;a.colorMarkerSize=j;a.paddingWidth=Q;a.paddingBottom=x;a.miscWidth=y+Q;a.eachItemWidth=Z;a.availableLabelCount=U;a.maxRowCount=Math.floor(a.maxHeight/a.eachRowHeight);a._intervalLen=0;var g1={};var h1=this.runtime().envManager();g1.reverseDots=(h1&&h1.reverseDots());a.ellipsisOptions=g1;a.markerMarginRight=m.right*e;this._cDomain=a;this._getIntervalInfo(a);if(this._maxWidth!==0){a.width=Math.min(this._maxWidth,a.width);}};A.prototype._calcHorizontalFullLegendLayout=function(d){var e=d.length;if(this._getMaxNumOfItems()<this._colorShapeScale.getLength()){e++;}var m=e;var n=1;var i,j,k,x,y;var L=[];var M=d.maxRowCount;for(m=1;m<=e;++m){var Q=Math.ceil(e/m);n=Math.min(Q,M);var R=Math.max(n*m,2);var U=[];for(i=0;i<m;++i){var V=0;for(j=0;j<n;++j){y=j*m+i;if(y!==R-1||R>=d.length){x=d[y];if(x){V=Math.max(V,x.textSize.width);}}}U[i]=V;}var W=0;for(j=0;j<m;++j){W+=U[j]+d.miscWidth;}if(W<=d.width||m===1){L.push({totalRowCount:Q,columnCount:m,rowCount:n,actualCount:R<e?R-1:e,holeCount:e%m&&(m-e%m),columnWidths:U});}}L.sort(function(a,b){if(a.actualCount===b.actualCount){if(a.totalRowCount===b.totalRowCount){return a.holeCount-b.holeCount;}return a.totalRowCount-b.totalRowCount;}return b.actualCount-a.actualCount;});var X=L[0];for(i=d.length;i--;){if(i<X.columnCount*X.rowCount){d[i].labelWidth=X.columnWidths[i%X.columnCount];}}return{columnCount:X.columnCount,rowCount:X.rowCount};};A.prototype._calcItemLayout=function(a){var b=a.availableLabelCount;var d=1;var e=b;var j;var i,k;var m=a.eachRowHeight*C.LEGEND.SEMANTIC_ITEMS_INTERVAL;if(this.isHorizontal()){if(this._isScrollable()){d=b;e=1;}else{if(this._properties.get('showFullLabel')){var n=this._calcHorizontalFullLegendLayout(a);d=n.columnCount;e=n.rowCount;}else{var x;if(this._getMaxNumOfItems()<this._colorShapeScale.getLength()){x=1;}else{x=0;}d=Math.max(Math.floor((a.width)/a.eachItemWidth),1);e=Math.ceil((b+x)/d);if(this._maxRowCount&&e>this._maxRowCount){e=this._maxRowCount;}e=Math.min(a.maxRowCount,e);j=Math.min(a.maxTextWidth,this._maxItemTextWidth);}if(d===1&&b>1&&a.eachRowHeight*2>a.height-this._pos.y){d=2;}if(this._getMaxNumOfItems()===d&&d!=this._colorShapeScale.getLength()){e=Math.min(a.maxRowCount,2);}}if(e===1&&a._intervalIndex>=0){a._intervalLen=m;}}else{if(a._intervalIndex>=0){a._intervalLen=m;}}for(i=a.length;i--;){k=a[i];k.labelWidth=k.labelWidth||j||(k.textSize&&k.textSize.width);k.itemWidth=k.labelWidth+a.miscWidth;}if(this.isHorizontal()&&a.maxRowCount===1&&b>d){var y=a.ellipsisItemWidth;for(i=0;i<d;++i){y+=a[i].itemWidth;}if(y<=a.width-this._pos.x){d++;}}for(i=a.length;i--;){k=a[i];k.colIndex=i%d;k.rowIndex=Math.floor(i/d);}a.columnCount=d;a.rowCount=e;if(!this._maxRowCount){this._maxRowCount=e;}};A.prototype._calcItemPosition=function(a){var b=this._isScrollable();var d=this.isHorizontal();var e=this._colorShapeScale.getLength();var j=a.eachRowHeight;var k=a.columnCount,m=a.rowCount;a.lastRowIdxOffset=k*m-a.length;if(a.lastRowIdxOffset<0){a.lastRowIdxOffset=1;}var x=0;var y=0;var n=a.length;var L,M,Q;this._isOverflow=Math.min(this._getMaxNumOfItems(),a.length)<this._colorShapeScale.getLength();for(var i=0;i<a.length;i++){var R=a[i];if(d){if(!b){if(R.colIndex===0&&i>0){x=0;y+=j;}if(R.colIndex===a.columnCount-1&&((e-i>1&&y+j*2>a.height-this._pos.y)||(R.colIndex>0&&x+R.itemWidth>a.width-this._pos.x))){this._isOverflow=true;n=i;if(i===0){n=1;R.pos={x:x,y:y};}break;}R.pos={x:x,y:y};if(this._isRTL()){if(m>1&&a.lastRowIdxOffset>0&&R.rowIndex===m-1){var U=R.rowIndex-1,V=R.colIndex+a.lastRowIdxOffset;var W=U*k+V;R.pos.x=a[W].pos.x;R.itemWidth=a[W].itemWidth;R.labelWidth=a[W].labelWidth;if(R.colIndex===0){this._lastRowOffset=R.pos.x;}}}x+=R.itemWidth;if(a._intervalIndex>=0&&i===a._intervalIndex){x+=a._intervalLen;}}else{var X=a.width-this._pos.x;if(x+R.itemWidth>X){this._isOverflow=true;}X=a._intervalLen+a.width*this._pageCount-this._pos.x;R.pos={x:x,y:y};x+=R.itemWidth;if(a._intervalIndex>=0&&i===a._intervalIndex){x+=a._intervalLen;}if(x>X){n=i+1;break;}}}else{var Y=a.height-this._pos.y;a.lines=a.lines!==undefined?a.lines:0;M=0;Q=c.isArray(R.text)?R.text.length:1;if(a._intervalIndex>=0&&i>a._intervalIndex){M=a._intervalLen;}L=Math.floor((Y+a.paddingBottom-M)/j);if(c.isArray(R.text)){a.lines+=Q;}else{a.lines+=1;}var Z=(j*a.lines+M)-a.paddingBottom;if(Z>Y){this._isOverflow=true;}if(this._isOverflow){Y=b?a.height*this._pageCount-this._pos.y:Y-a.textHeight;}if(L<=0){n=0;break;}if(Z>Y){if(!b){if(c.isArray(R.text)&&(Q>1)){if(a.lines===L+Q){break;}var $=L+Q-a.lines;if(i!==a.length-1){$=$-1;}else{this._isOverflow=false;}if($===0){n=i;}else{n=i+1;}R.line=$;R.pos={x:0,y:j*(a.lines-Q)+M};}else{n=i-1;}}else{a.lines=a.lines-1;n=i;}break;}else{R.pos={x:0,y:j*(a.lines-(c.isArray(R.text)?Q:1))+M};if(!b&&a.lines===L&&i!==a.length-1){if(c.isArray(R.text)&&(Q>1)){R.line=Q-1;n=i+1;}else{n=i;}}}}}a.splice(n,a.length-n);};A.prototype._getItemCells=function(a){var b=[];var d,i,j,e=J(a);if(this._isScrollable()){var k=this.isHorizontal();var m=this._colorShapeScale.getLength()-e;var n=k?1:m;var x=k?m:1;for(i=0;i<n;++i){d=[];for(j=0;j<x;++j){d.push({id:k?j:i});}b.push(d);}}else{for(i=0;i<a.length-e;i++){var y=a[i];var L=y.rowIndex;var M=y.colIndex;d=b[L]=b[L]||[];d[M]={id:y.id};}}return b;};A.prototype._getContentSize=function(a){var b=0;if(this._isScrollable()){if(this.isHorizontal()){var d=a[a.length-1];b=d.pos.x+d.itemWidth;}else{b=a.eachRowHeight*a.lines+a._intervalLen;}}return b;};A.prototype._getAvailableDomain=function(){var a=this._getContentDomain({height:this._height,width:this._width});this._cells=this._getItemCells(a);this._contentSize=this._getContentSize(a);return a;};A.prototype._getIntervalInfo=function(a){a._intervalLen=0;a._intervalIndex=-1;var b=[];if(this._colorShapeScale.items){b=this._colorShapeScale.items();}if(!this.getOrderByFunc()&&b.length>1){for(var i=0;i<b.length;++i){if(!b[i].isSemanticItem){a._intervalIndex=i-1;break;}}}};A.prototype.getOffset=function(){return{x:this._offset.x,y:this._offset.y};};A.prototype.getActiveLevels=function(){return this._cells;};A.prototype._getMaxNumOfItems=function(){var m=this._properties.get("maxNumOfItems");var a=parseInt(m);if(m==null){a=Number.POSITIVE_INFINITY;}else{if(a.toString()!==m.toString()){a=Number.POSITIVE_INFINITY;}else if(isNaN(a)){a=Number.POSITIVE_INFINITY;}else if(a<1){a=Number.POSITIVE_INFINITY;}else{a=Math.floor(a);}}return a;};A.prototype._getBodyPreferredSize=function(b){var m=0;var a=0;var d=0;var e=0;var i;var k=this._isScrollable();var n=this.isHorizontal();this._maxWidth=0;this._setupThemeStyleDef();var x=this._colorShapeScale.getLength();this._maxRowCount=0;if(x>0){var y=this._markerMargin;i=this._getContentDomain(b);var L=i.lines;L=Math.min(L,this._getMaxNumOfItems());var M=i.eachRowHeight;d=Math.min(i.minTextWidth,i.maxTextWidth)+i.miscWidth;if(n){a=b.width;if(k){m=M+this._scrollThumbSpace;e=m;}else{m=i.rowCount*M;e=M;}}else{a=i.eachItemWidth;if(k){d+=this._scrollThumbSpace;}if(!k&&L<x){L++;}m=M*L+i._intervalLen;e=M+(x>1?i.textHeight:0);}}if(k&&this._getMaxNumOfItems()<this._colorShapeScale.getLength()){var Q=0;if(this._getMaxNumOfItems()-1>i._intervalIndex&&i._intervalIndex>-1){Q=i.eachRowHeight*C.LEGEND.SEMANTIC_ITEMS_INTERVAL;}if(n){var R=0;var U=Math.min(this._getMaxNumOfItems(),i.length);for(var j=0;j<U;++j){var V=i[j].textSize.width+i.markerSize+i.paddingWidth;R+=V;}a=R+Q;this._maxWidth=a;if(a<d){d=a;}}else{m=this._getMaxNumOfItems()*i.eachRowHeight+Q;if(m<e){e=m;}}}return{maxWidth:a,maxHeight:m,minWidth:d,minHeight:e};};A.prototype._sort=function(i){var a=this.getOrderByFunc();return a?i.sort(a):i;};A.prototype.getOrderByFunc=function(){var a=this._properties.get("order");if(typeof a==="function"){var b=this._toValueString.bind(this);return function(m,n){return a(b(m.data),b(n.data));};}return undefined;};A.prototype._shouldInitColorShapeScale=function(){return!this._colorShapeScale&&this._colorScale;};A.prototype._initColorShapeScale=function(){if(this._shouldInitColorShapeScale()){var m=this._buildColorShapeScale(this._colorScale);this._colorShapeScale=m;this.setBindingFields(m.getBindingFields());if(this._properties&&this._properties.parentLevel&&this._properties.parentLevel.get("plotArea.trendLine")){m._items=m._items.concat(this._ColorShapeItemHooks(this,m._items));}}};A.prototype._buildColorShapeScale=function(a){var b=this.runtime().semanticManager();var m=this.runtime().markManager();var d=this._getLegendMarkerShape();if(!d&&m.getMode()==="single"){d=m.getShape();}var i=this._properties.get('ignoreNoValue');if(d&&!m.locked()){m.setShape(d);}var e=new p(m);this._hasOnlyOneMeasure=false;if(b.hasDataPointColorStyle()||b.hasDataPointLineStyle()){e.setSemanticColorScale(b.getDataPointColorScale());}if(!b.isOverrideMode()||(!b.hasDataPointColorStyle()&&!b.hasDataPointLineStyle())){for(var j=0;j<a.length;j++){e.addColorScale(a[j]);}}if(this._shapeScale!==null){e.setShapeScale(this._shapeScale);}e.merge(d,i,this._data);return e;};A.prototype._getLegendMarkerShape=function(){var a=this._properties.get("marker.shape")||this._properties.origin.get('plotArea.marker.shape');if(C.LEGEND_MARKER_SHAPE.indexOf(a)===-1){a=this._properties.getDefault("marker.shape")||this._properties.origin.getDefault('plotArea.marker.shape');}return a;};A.prototype._setupThemeStyleDef=function(){A.superclass._setupThemeStyleDef.apply(this,arguments);var a=this._properties;this._markerMargin.bottom=l.getPositiveNumber(a.get("itemMargin"),this._defaultItemMargin);var b=this._labelFont;a=a.proxy('label.style');b.color=a.get("color");b.fontFamily=a.get("fontFamily");b.fontSize=parseFloat(a.get("fontSize"))+"px";b.fontWeight=a.get("fontWeight");b.fontStyle=a.get("fontStyle");};A.prototype._isScrollable=function(){return(this._properties.get('isScrollable')&&!this._properties.origin.get("interaction.noninteractiveMode"));};A.prototype.setBindingFields=function(_){A.superclass.setBindingFields.apply(this,arguments);this._displayTextsConverter=g.getDisplayTextsConverter(this._bindingFields,this._mndIndex);return this;};A.prototype.destroy=function(){A.superclass.destroy.apply(this,arguments);this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._displayTextsConverter=null;this._properties=null;this._colorLabelSize=null;this._markerMargin=null;this._maxItemsNum=null;this._maxItemTextWidth=null;if(this._scrollBar){this._scrollBar.destroy();}this._scrollBar=null;this._hasOnlyOneMeasure=null;this._labelFont=null;this._type=null;this._scrollThumbSpace=null;this._contentSize=null;this._pageCount=null;this._domID=null;this._isOverflow=null;this._cDomain=null;this.BGCOLORPROPS=null;};A.prototype._toValueString=function(a,b){var d=a;if(c.isArray(a)){if(b===true){d=this._displayTextsConverter(a,true).filter(function(e){return e!==undefined;});}else{d=this._displayTextsConverter(a);}d=d.join(" / ");}if(a&&a.callback&&typeof a.callback==="function"){return a.callback(d);}return d;};A.prototype.hasData=function(){this._initColorShapeScale();return this._colorShapeScale&&this._colorShapeScale.getLength()>0;};A.prototype.statusChanged=function(a){if(a===s.LOCALE_CHANGED){this._colorShapeScale=null;}};t.register(u.COLORLEGEND_NAVIGATOR,null,I);A.prototype._ColorShapeItemHooks=v;return A;});define('sap/viz/chart/components/container/UIContainer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent",'sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/FunctionUtils'],function(C,o,U,L,F){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._renderType=(b&&b.renderType!=null)?b.renderType:null;this._children={};this._layoutAlgorithm=null;this._layoutResult=null;this._selections=null;};o.extend(a,U);a.prototype.setLayoutAlgorithm=function(l){this._layoutAlgorithm=l;return this;};a.prototype.addAutoLayoutProperties=function(s){var p=this._properties;var t=this;[{name:"autoWidth",key:"width"},{name:"autoHeight",key:"height"}].forEach(function(b){var c=s+".layout."+b.name;p.origin.add(c,{defaultValue:0,readonly:true,serializable:false,get:function(){var l=t._layoutResult;if(l){var m=l[s];if(m&&m[b.key]){return m[b.key];}}return 0;}});});};a.prototype.setChild=function(k,m,b){if(k&&m instanceof U){m.alias=k;var c=this._children[k]=this._children[k]||{};c.module=m;c.option=b||{};if(m.supportFixedLayout===true){this.addAutoLayoutProperties(k);}}return this;};a.prototype.getChild=function(k){if(k&&this._children&&this._children[k]){return this._children[k];}return null;};a.prototype._configLayout=function(){};a.prototype._postLayout=function(l){};a.prototype.layout=function(b){var c=this._configLayout(b);b=b||{};b.isRTL=this._isRTL();if(this._layoutAlgorithm&&this._layoutAlgorithm.layout){this._layoutAlgorithm.config.add({isFixedPadding:this._properties.origin.get('general.layout.isFixedPadding')});this._layoutResult=this._layoutAlgorithm.layout(c||this._children,b);this._postLayout(this._layoutResult);return this._layoutResult;}return{};};a.prototype._initRenderBase=function(p){if(this._selections==null){this._selections={};}var n=p.node();for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._selections[k]!=null){continue;}var r=this._children[k].module.renderTo();if(r.toLowerCase()==='div'||r==='BorderDIVFlow'){if(n.tagName.toLowerCase()!=='div'){F.error(L.getLogMessage('IDS_ERROR_NODE_DIV_IN_SVG'));}this._selections[k]=p.append("div").attr('class','v-m-'+k).style('height','100%').style('width','100%');}else{if(n.tagName.toLowerCase()==='div'){this._selections[k]=p.append("svg").style({'position':'absolute','width':'100%','height':'100%'}).append("g").attr('class','v-m-'+k);}else{this._selections[k]=p.append("g").attr('class','v-m-'+k);}}}}};a.prototype.supportExportToContentType=function(b){var l=this._children.length;for(var i=0;i<l;i++){if(this._children.supportExportToContentType){return this._children.supportExportToContentType(b);}}};a.prototype.exportContent=function(b){var l=this._children.length;for(var i=0;i<l;i++){if(this._children.exportContent){return this._children.exportContent(b);}}};a.prototype.clearSize=function(k){if(!k){this._size.height=0;this._size.width=0;}for(var b in this._children){if(this._children.hasOwnProperty(b)){var c=this._children[b].module;if(c&&c.clearSize){c.clearSize();}}}return this;};a.prototype.destroy=function(){a.superclass.destroy.call(this);var k;for(k in this._selections){if(this._selections.hasOwnProperty(k)&&this._selections[k]){this._selections[k].remove();}}for(k in this._children){if(this._children.hasOwnProperty(k)){if(this._children[k]==null){continue;}var c=this._children[k].module;if(c&&c.destroy){c.destroy();}this._children[k]=null;}}this._selections=null;this._renderType=null;this._children=null;if(this._layoutAlgorithm&&this._layoutAlgorithm.destroy){this._layoutAlgorithm.destroy();}this._layoutAlgorithm=null;};a.prototype.calculatePaddingInPX=function(p,w,h){var c,b;var d,e;var f,g;var m=Math.min(w,h);c=C.PADDING.DEFAULT;if(c<1&&c>0){c=c*m;}b=p.get("general.layout.padding");if(b<1&&b>0){b=b*m;}d=p.get("general.layout.paddingTop");if(d<1&&d>0){d=d*m;}e=p.get("general.layout.paddingRight");if(e<1&&e>0){e=e*m;}f=p.get("general.layout.paddingBottom");if(f<1&&f>0){f=f*m;}g=p.get("general.layout.paddingLeft");if(g<1&&g>0){g=g*m;}return{constantPaddingInPX:c,propertyPaddingInPX:b,propertyPaddingTopInPX:d,propertyPaddingRightInPX:e,propertyPaddingBottomInPX:f,propertyPaddingLeftInPX:g};};a.prototype.statusChanged=function(s){for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._children[k].module.statusChanged){this._children[k].module.statusChanged(s);}}}};return a;});define('sap/viz/chart/layout/LegendLayout',["sap/viz/framework/common/util/oo",'sap/viz/framework/common/util/PositionUtil',"sap/viz/chart/layout/BaseLayout"],function(o,P,B){function L(){L.superclass.constructor.apply(this,arguments);this.config.add({position:'',spacing:12,legendPreferSizes:null});}o.extend(L,B);L.prototype.layout=function(c){var r={},i=false,a=this.config,w=a.get('totalWidth'),h=a.get('totalHeight'),l=a.get('legendPreferSizes'),p=a.get('position'),s=a.get('spacing'),b=P.isHorizontal(p),d=this._dictToArray(c),e=_(d,w,h,l,b);var f=0,g,j=e.availableSize,k=e.referenceSize,m=e.referenceMinSizes,n=e.maxSizes,q=e.minSizes;if(d3.sum(n)<=j){i=true;}for(var t=0,u=d.length;t<u;t++){var v=d[t].module;var x={x:0,y:0};var y=n[t];var z=q[t];if(b){x.x=f;}else{x.y=f;}if(i&&m[t]<k){f=f+y;g=y;}else{if(j<z||m[t]>k){x.width=x.height=0;r[v.alias]=x;continue;}else if(j>y){f=f+y;g=y;j=j-y-s;}else{f=f+j;g=j;j=0;}}if(b){x.width=g;x.height=h;}else{x.width=w;x.height=g;}f+=s;r[v.alias]=x;}return r;};function _(c,w,h,l,i){var a,r,m=[],b=[],d=[];if(i){a=w;r=h;c.forEach(function(e){var p=l[e.module.alias];m.push(p.maxWidth);b.push(p.minWidth);d.push(p.minHeight);});}else{a=h;r=w;c.forEach(function(e){var p=l[e.module.alias];m.push(p.maxHeight);b.push(p.minHeight);d.push(p.minWidth);});}return{'availableSize':a,'referenceSize':r,'maxSizes':m,'minSizes':b,'referenceMinSizes':d};}return L;});define('sap/viz/chart/components/legend/LegendGroup',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/UIContainer','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/PositionUtil','sap/viz/chart/layout/LegendLayout','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/ObjectUtils'],function(o,U,T,D,P,L,C,N,O){var a=function(r,b){a.superclass.constructor.apply(this,arguments);var t=this;this._subSelection={};this._position=null;this._defaultPosition=null;this._legendPreferSizes=null;this.setLayoutAlgorithm(new L());this._isDedicated=false;this._maxSize={width:0,height:0};this._height=0;this._width=0;this._spacing=12;var p=this._properties;['height','width'].forEach(function(e){var c={set:function(v,d){if(v===null||parseFloat(v)>=0){return v;}else{return d.value;}}};p.add('layout.'+e,c);});p.add('visible',{get:function(v,c){var d=t._children;for(var k in d){if(d.hasOwnProperty(k)){var e=d[k].module;if(e.visible()){return true;}}}return false;}});this.runtime().statusManager().add('legendGroup.isHorizontal');};o.extend(a,U);var V=["right","left","top","bottom","auto"];a.prototype.getPosition=function(){var p="layout.position",b=this._defaultPosition||this._position||this._properties.get(p);return V.indexOf(b)!==-1?b:this._properties.getDefault(p);};a.prototype.setPosition=function(p){this._position=p;};a.prototype.setDefaultPosition=function(p){this._defaultPosition=p;};a.prototype.visible=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.visible()){return true;}}}return false;};a.prototype._isPropVisible=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.properties('visible')){return true;}}}return false;};a.prototype.isVisible=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.isVisible()){return true;}}}return false;};a.prototype._configLayout=function(){var c={};if(this._isPropVisible()){var b=this._children;var s;if(this._isDedicated){s={width:this._maxSize.width,height:this._maxSize.height+this._spacing};}else{s={height:this._height,width:this._width};}for(var k in b){if(b.hasOwnProperty(k)){var d=b[k];var m=d.module;if(m.visible()||this._isDedicated){c[k]=d;}}}this._layoutAlgorithm.config.set({totalWidth:s.width,totalHeight:s.height,position:this.getPosition()||this._properties.get('layout.position'),spacing:this._spacing,legendPreferSizes:this._legendPreferSizes});}return c;};a.prototype._postLayout=function(){var r=this._layoutResult;for(var k in r){if(r.hasOwnProperty(k)){var l=this._children[k].module;var s=r[k];if(s){l.width(s.width).height(s.height);}}}};function g(r,b){if(r===undefined||r===null||(T.isFunction(r)&&!r())){return b;}var c=d3.select(r());if(c.empty()){return b;}return c;}a.prototype.render=function(r){var b=this._properties.get('renderTo');r=g(b,r);r.select('.v-m-highlight').remove();r.attr('role','listbox');var c=this._isDedicated?d3.select(b()):undefined;var d=this._children;var l=null;if(this._isPropVisible()){l=this.layout();}var w=[];var x=0;for(var k in d){if(d.hasOwnProperty(k)){var e=d[k].module;var f=null;if(c&&!c.empty()){f=c.selectAll('.v-m-'+k);if(f.empty()){f=c.append('g').attr('class','v-m-'+k);}r.selectAll('.v-m-'+k).selectAll('*').remove();}else{if(this._subSelection[k]){f=r.selectAll('.v-m-'+k);}else{this._subSelection[k]=r.append('g').attr('class','v-m-'+k);f=this._subSelection[k];}}if(this._isDedicated&&c){var h=e.height();c.attr('height',h).attr('width',this._maxSize.width);}e.render(f);if(!e.visible()){continue;}if(l&&l[k]&&l[k].x!==undefined&&l[k].y!==undefined){f.attr('transform','translate('+l[k].x+','+l[k].y+')');}if(this._properties.get("layout.alignment")==="center"&&(this._properties.get("layout.position")==="top"||this._properties.get("layout.position")==="bottom")){if(e._width<l[k].width){x+=(l[k].width-e._width)/2;}var j={};j.wrapper=f;j.layoutInfo=l[k];w.push(j);}}}for(var i=0;i<w.length;i++){var m=w[i];var n=m.layoutInfo;m.wrapper.attr('transform','translate('+(n.x+x)+','+n.y+')');}this._properties.setDefault("computedVisibility",this.isVisible(),true);};a.prototype.setSize=function(s){var c=this._children;this._height=s.height;this._width=s.width;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.visible()){b.setSize({height:s.height,width:s.width});}}}return this;};a.prototype.resetPreviousLimit=function(r){if(this._width&&(this._position==="left"||this._position==="right")){r.width=this._width;r.minWidth=this._width;r.maxWidth=this._width;}else if(this._height&&(this._position==="top"||this._position==="bottom")){r.height=this._height;r.minHeight=this._height;r.maxHeight=this._height;}};a.prototype.paginationOptions=function(){var d=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(d&&d.getPaginationOptions){p=d.getPaginationOptions();}return p;};a.prototype.getPreferredSize=function(b,i,c,d){var r={width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0};if(!this._isPropVisible()){return r;}var p=this._properties;var e=(!i&&this._properties.origin.get("legendGroup.forceToShow"));var m=b.maxHeight=N.getSizeValue(p.get('layout.maxHeight'),b.height);var f=b.maxWidth=b.maxWidth||N.getSizeValue(p.get('layout.maxWidth'),b.width);var l=p.get('layout.position');var h=[],j=[],k=[],n=[];var q=this._children;var s=0;var t=0;this._legendPreferSizes={};var u=p.get('renderTo');if(u!==undefined&&u!==null&&T.isFunction(u)&&u()){this._isDedicated=true;}else{this._isDedicated=false;}for(var v in q){if(q.hasOwnProperty(v)){var w=q[v].module;w.setDedicated(this._isDedicated);w.setPosition(this.getPosition());if(w.visible()||this._isDedicated){if(this._isDedicated){w.setOrientation('right');}else{w.setOrientation(this.getPosition()||l);}var x=w.getPreferredSize(b);this._legendPreferSizes[v]=x;if(!this._isDedicated&&!e){if(w.isHorizontal()){if(x.minHeight>m||x.minWidth>b.width){continue;}}else{if(x.minWidth>f||x.minHeight>b.height){continue;}}}h.push(x.minWidth);k.push(x.minHeight);j.push(x.maxWidth);n.push(x.maxHeight);}}}var y;if(e){y={width:d3.max(h),height:d3.max(k)};}else{y={width:d3.min(h),height:d3.min(k)};}var z={width:d3.max(j),height:d3.max(n)};if(y.width>0||y.height>0||z.width>0||z.height>0){if(this.isHorizontal()){t=b.maxHeight>z.height?z.height:b.maxHeight;s=z.width;this._maxSize.width=d3.sum(j);this._maxSize.height=z.height;}else{s=b.maxWidth>z.width?z.width:b.maxWidth;t=z.height;this._maxSize.height=d3.sum(n);this._maxSize.width=z.width;}}if(!this._isDedicated){if(e){if(s<y.width){s=y.width;}if(t<y.height){t=y.height;}}r={width:s,height:t,minWidth:y.width,maxWidth:z.width,minHeight:y.height,maxHeight:z.height};if(this._isRTL()||this._properties.get("layout.alignment")==="center"){r.maxSize=O.clone(this._maxSize);}}var A=d.pagination;if((d.dataChanged&&A&&A.mode===C.PAGINATION_MODE.UPDATE)||(!d.isSizeChanged&&d.propertiesChanged===false&&A&&A.mode===C.PAGINATION_MODE.UPDATE&&!c)){this.resetPreviousLimit(r);}return r;};a.prototype.isHorizontal=function(){var p=this.getPosition();if(!p){p=this._properties.get("layout.position");}var i=P.isHorizontal(p);this.runtime().statusManager().set('legendGroup.isHorizontal',i);return i;};a.prototype.setData=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;b.setData.apply(b,arguments);}}};a.prototype.destroy=function(){a.superclass.destroy.call(this);this.clear();this._position=null;this._subSelection=null;this._legendPreferSizes=null;this._isDedicated=null;this._maxSize=null;this._height=null;this._width=null;};a.prototype.clear=function(){for(var k in this._subSelection){if(this._subSelection.hasOwnProperty(k)&&this._subSelection[k]){this._subSelection[k].remove();this._subSelection[k]=null;}}};a.prototype.supportFixedLayout=true;return a;});define('propertyDefs',[],function(){return{"":{"general.accDescription":null,"general.background.border.bottom.visible":false,"general.background.border.left.visible":false,"general.background.border.right.visible":false,"general.background.border.stroke":"#d8d8d8","general.background.border.strokeWidth":1,"general.background.border.top.visible":false,"general.background.color":"transparent","general.background.drawingEffect":"normal","general.background.gradientDirection":"vertical","general.background.visible":true,"general.layout.isFixedPadding":false,"general.layout.padding":24,"general.layout.paddingBottom":null,"general.layout.paddingLeft":null,"general.layout.paddingRight":null,"general.layout.paddingTop":null,"general.tabIndex":0,"legend.drawingEffect":"normal","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.label.style.color":"#000000","legend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","legend.label.style.fontSize":"12px","legend.label.style.fontStyle":"normal","legend.label.style.fontWeight":"normal","legend.marker.size":null,"legend.postRenderer":null,"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legend.title.style.color":"#000000","legend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","legend.title.style.fontSize":"14px","legend.title.style.fontStyle":"normal","legend.title.style.fontWeight":"bold","legend.title.text":null,"legend.title.visible":false,"legend.visible":true,"legendGroup.computedVisibility":{"defaultValue":true,"readonly":true,"serializable":false},"legendGroup.forceToShow":false,"legendGroup.layout.alignment":"topLeft","legendGroup.layout.height":null,"legendGroup.layout.maxHeight":0.25,"legendGroup.layout.maxWidth":0.25,"legendGroup.layout.position":"right","legendGroup.layout.width":null,"legendGroup.linesOfWrap":1,"legendGroup.renderTo":{"defaultValue":null,"serializable":false},"plotArea.dataPoint.stroke.color":"#000000","plotArea.dataPoint.stroke.visible":false,"title.alignment":"center","title.layout.height":null,"title.layout.maxHeight":0.2,"title.layout.respectPlotPosition":true,"title.style.color":"#333333","title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","title.style.fontSize":"16px","title.style.fontStyle":"normal","title.style.fontWeight":"bold","title.text":null,"title.visible":false,"tooltip.background.borderColor":"#cccccc","tooltip.background.color":"#ffffff","tooltip.bodyDimensionLabel.color":"#666666","tooltip.bodyDimensionValue.color":"#666666","tooltip.bodyMeasureLabel.color":"#666666","tooltip.bodyMeasureValue.color":"#000000","tooltip.closeButton.backgroundColor":"#ffffff","tooltip.closeButton.borderColor":"#cccccc","tooltip.footerLabel.color":"#000000","tooltip.formatString":null,"tooltip.layinChart":true,"tooltip.postRender":null,"tooltip.preRender":{"defaultValue":null,"serializable":false},"tooltip.separationLine.color":"#a7a9ac","tooltip.showFullText":{"access":"internal","defaultValue":false},"tooltip.unitFormatType":"FinancialUnits","tooltip.visible":true},"_bullet":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.ignoreNoValue":false,"legend.label.text.target":null,"legend.maxNumOfItems":null,"legend.order":{"defaultValue":null,"serializable":false},"legendGroup.layout.respectPlotPosition":true,"plotArea.actualColor":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E"],"plotArea.additionalColor":["#A7BFE5","#CFF9AA","#FFFF91","#FFE0AC","#FF9DAF","#BBA6D5","#6DC8E6","#E9FF7C","#FFFF9F","#FFAC8B","#D983B7","#3396E4","#40DB74","#FFEA50","#FF8953","#E560A1","#6F69C1"],"plotArea.background.border.bottom.visible":false,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":false,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":false,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.dataPoint.stroke.color":"#ffffff","plotArea.dataPoint.stroke.visible":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":false,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":{"access":"internal","defaultValue":null},"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.target.shadowColor":"","plotArea.target.valueColor":"#333333","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"_dual":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryValuesColorPalette":{"defaultValue":["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.secondaryValuesColorPalette":{"defaultValue":["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"],"serializable":false},"plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#8FBADD","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":true,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true,"valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#F6A09B","valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":true,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"_pie":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(0%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":false,"interaction.selected.stroke.width":"1px","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"plotArea.alignment.vertical":{"access":"internal","defaultValue":"top"},"plotArea.background.border.bottom.visible":false,"plotArea.background.border.left.visible":false,"plotArea.background.border.right.visible":false,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":false,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.distance":0.1,"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.line.color":"#a8a8a8","plotArea.dataLabel.line.visible":true,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"colorAndPercentage","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.highlight.contextInfos":[],"plotArea.markerRenderer":null,"plotArea.radius":0.38,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"tooltip.bodyMeasureValue.type":"value"},"_scatter":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.adjustScale":false,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorDepth":1,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.opacity":0.8,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.shapeDepth":1,"plotArea.shapePalette":{"defaultValue":["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],"serializable":false},"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"_trellis":{},"_xy":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"_xySimple":{},"info/100_area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.areaRenderer":null,"plotArea.areaStyle":{"access":"internal","defaultValue":null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"value","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"tooltip.bodyMeasureValue.type":"percentage","valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/100_dual_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_dual_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_horizontal_area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.areaRenderer":null,"plotArea.areaStyle":{"access":"internal","defaultValue":null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"value","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"tooltip.bodyMeasureValue.type":"percentage","valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/100_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"tooltip.bodyMeasureValue.type":"percentage"},"info/DEFAULT":{"legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false}},"info/area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.area.stroke.color":"#000000","plotArea.area.stroke.visible":false,"plotArea.areaRenderer":null,"plotArea.areaStyle":{"access":"internal","defaultValue":null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.position":"outsideFirst","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true},"info/bubble":{"plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.showNegativeValues":true,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits","valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.allowDecimals":true,"valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/bullet":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.label.text.negativeGap":null,"legend.label.text.positiveGap":null,"plotArea.forecastColor":["#D5DADC"],"plotArea.gap.negativeColor":"#e34352","plotArea.gap.positiveColor":"#87c27e","plotArea.gap.type":"both","plotArea.gap.visible":false,"valueAxis.layout.position":"top"},"info/column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true},"info/combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"valueAxis.label.allowDecimals":true},"info/donut":{"plotArea.highlight.centerName.style.color":null,"plotArea.highlight.centerName.style.fontFamily":"Arial, Helvetica, sans-serif","plotArea.highlight.centerName.style.fontSize":"14px","plotArea.highlight.centerName.style.fontStyle":"normal","plotArea.highlight.centerName.style.fontWeight":"normal","plotArea.highlight.centerName.visible":true,"plotArea.highlight.centerValue.style.color":null,"plotArea.highlight.centerValue.style.fontFamily":"Arial, Helvetica, sans-serif","plotArea.highlight.centerValue.style.fontSize":"22px","plotArea.highlight.centerValue.style.fontStyle":"normal","plotArea.highlight.centerValue.style.fontWeight":"normal","plotArea.highlight.centerValue.visible":true,"plotArea.highlight.highlightContext":[],"plotArea.highlight.unhighlightSliceColor":"#dddddd","plotArea.innerRadiusRatio":0.5},"info/dual_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.position":"outsideFirst","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["line","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_horizontal_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["line","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_horizontal_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_line":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.showLine":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":{"access":"internal","defaultValue":null},"plotArea.lineVisible":true,"plotArea.marker.displayMode":"manual","plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"plotArea.width":2,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.label.allowDecimals":true,"valueAxis2.label.allowDecimals":true},"info/dual_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/dual_timeseries_combination":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.title.applyAxislineColor":false,"valueAxis2.label.allowDecimals":true},"info/heatmap":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"categoryAxis2.axisLine.size":1,"categoryAxis2.axisLine.visible":true,"categoryAxis2.axisTick.shortTickVisible":null,"categoryAxis2.axisTick.visible":true,"categoryAxis2.color":"#6c6c6c","categoryAxis2.hoverShadow.color":"#cccccc","categoryAxis2.label.alignment":"top","categoryAxis2.label.hideSubLevels":false,"categoryAxis2.label.parentStyle.color":null,"categoryAxis2.label.parentStyle.fontFamily":null,"categoryAxis2.label.parentStyle.fontSize":null,"categoryAxis2.label.parentStyle.fontStyle":null,"categoryAxis2.label.parentStyle.fontWeight":null,"categoryAxis2.label.style.color":"#333333","categoryAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis2.label.style.fontSize":"12px","categoryAxis2.label.style.fontStyle":"normal","categoryAxis2.label.style.fontWeight":"normal","categoryAxis2.label.visible":true,"categoryAxis2.labelRenderer":null,"categoryAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis2.layout.height":null,"categoryAxis2.layout.maxHeight":0.3,"categoryAxis2.layout.maxWidth":0.3,"categoryAxis2.layout.width":null,"categoryAxis2.mouseDownShadow.color":"#808080","categoryAxis2.title.applyAxislineColor":false,"categoryAxis2.title.style.color":"#000000","categoryAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis2.title.style.fontSize":"14px","categoryAxis2.title.style.fontStyle":"normal","categoryAxis2.title.style.fontWeight":"bold","categoryAxis2.title.style.letterSpacing":null,"categoryAxis2.title.text":null,"categoryAxis2.title.visible":false,"categoryAxis2.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.formatString":null,"legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.marker.shape":"squareWithRadius","legend.mouseDownShadow.color":"#e8eff6","legend.onlyShowStartEndLabel":{"access":"internal","defaultValue":false},"legend.selectionFeedback":false,"legend.unitFormatType":"FinancialUnits","legendGroup.layout.respectPlotPosition":true,"plotArea.autoLegendValues":{"access":"internal","defaultValue":[],"readonly":true,"serializable":false},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.border.visible":true,"plotArea.colorPalette":{"defaultValue":[],"serializable":false},"plotArea.dataLabel.formatString":"0.0","plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"white","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.defaultOthersStyle.color":"#000000","plotArea.dimensionLabel.renderer":null,"plotArea.dimensionLabel.style.color":null,"plotArea.dimensionLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dimensionLabel.style.fontSize":"12px","plotArea.dimensionLabel.style.fontStyle":"normal","plotArea.dimensionLabel.style.fontWeight":"normal","plotArea.dimensionLabel.visible":true,"plotArea.endColor":{"defaultValue":"#73C03C","serializable":false},"plotArea.legendValues":{"defaultValue":[],"serializable":false},"plotArea.nullColor":{"access":"internal","defaultValue":"#e0e0e0"},"plotArea.startColor":"#C2E3A9","propertyZone":{"defaultValue":null,"readonly":true,"serializable":false}},"info/horizontal_area":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.areaRenderer":null,"plotArea.areaStyle":{"access":"internal","defaultValue":null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/horizontal_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"valueAxis.label.allowDecimals":true},"info/horizontal_waterfall":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":null,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"horizontal","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPoint.color.total":"#848f94","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"solid","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/line":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.showLine":false,"plotArea.adjustScale":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.isFixedDataPointSize":false,"plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":{"access":"internal","defaultValue":null},"plotArea.lineVisible":true,"plotArea.marker.displayMode":"manual","plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"plotArea.width":2,"valueAxis.label.allowDecimals":true,"valueAxis.layout.direction":"bottomUp"},"info/pie":{},"info/radar":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.area.color":null,"interaction.deselected.area.opacity":0.12,"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.area.color":null,"interaction.selected.area.opacity":0.4,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.area.opacity":0.3,"plotArea.area.visible":false,"plotArea.areaStyle":{"access":"internal","defaultValue":null},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"darken(20%)","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.visible":true,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.lineStyle":{"access":"internal","defaultValue":null},"plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.polarAxis.axisLine.size":1,"plotArea.polarAxis.axisLine.visible":true,"plotArea.polarAxis.color":"#999999","plotArea.polarAxis.hoverShadow.color":"#cccccc","plotArea.polarAxis.label.style.color":"#666666","plotArea.polarAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.polarAxis.label.style.fontSize":"12px","plotArea.polarAxis.label.style.fontStyle":"normal","plotArea.polarAxis.label.style.fontWeight":"normal","plotArea.polarAxis.label.visible":true,"plotArea.polarAxis.labelRenderer":null,"plotArea.polarAxis.mouseDownShadow.color":"#808080","plotArea.polarAxis.title.style.color":"#000000","plotArea.polarAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.polarAxis.title.style.fontSize":"14px","plotArea.polarAxis.title.style.fontStyle":"normal","plotArea.polarAxis.title.style.fontWeight":"bold","plotArea.polarAxis.title.style.letterSpacing":null,"plotArea.polarAxis.title.text":null,"plotArea.polarAxis.title.visible":false,"plotArea.polarAxis.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.seriesStyle":null,"plotArea.valueAxis.label.allowDecimals":true,"plotArea.valueAxis.label.formatString":null,"plotArea.valueAxis.label.style.color":"#333333","plotArea.valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.valueAxis.label.style.fontSize":"12px","plotArea.valueAxis.label.style.fontStyle":"normal","plotArea.valueAxis.label.style.fontWeight":"normal","plotArea.valueAxis.label.unitFormatType":"FinancialUnits","plotArea.valueAxis.label.visible":true,"plotArea.valueAxis.title.style.color":"#000000","plotArea.valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.valueAxis.title.style.fontSize":"14px","plotArea.valueAxis.title.style.fontStyle":"normal","plotArea.valueAxis.title.style.fontWeight":"bold","plotArea.valueAxis.title.style.letterSpacing":null,"plotArea.valueAxis.title.text":null,"plotArea.valueAxis.title.visible":false,"plotArea.valueAxis.visible":true,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false}},"info/scatter":{"plotArea.markerSize":10,"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits","valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.allowDecimals":true,"valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"valueAxis.label.allowDecimals":true},"info/stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.series":null,"valueAxis.label.allowDecimals":true},"info/stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"valueAxis.label.allowDecimals":true},"info/time_bubble":{"general.defaultTimePeriodColor":"#ff0000","general.timePeriodStyle":null,"interaction.selectability.axisLabelSelection":true,"plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.showNegativeValues":true,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"valueAxis.axisTick.fixedTicks":null,"valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.allowDecimals":true,"valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.style.letterSpacing":null,"valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/timeseries_100_stacked_column":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_bubble":{"general.defaultTimePeriodColor":"#ff0000","general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.plotLassoMode":"standard","plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits"},"info/timeseries_bullet":{"general.defaultTimePeriodColor":"#ff0000","general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","plotArea.background.border.left.visible":false,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_column":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.allowDecimals":true},"info/timeseries_combination":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.allowDecimals":true},"info/timeseries_line":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.showLine":false,"plotArea.adjustScale":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.dataPoint.invalidity":"break","plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":{"access":"internal","defaultValue":null},"plotArea.lineVisible":true,"plotArea.marker.hoverOnlyMode":{"access":"internal","defaultValue":true,"serializable":false},"plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.scrollbar.visible":{"access":"internal","defaultValue":true},"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"plotArea.width":2,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.interval.keyLabel":{"access":"internal","defaultValue":null},"timeAxis.interval.number":{"access":"internal","defaultValue":1},"timeAxis.interval.unit":{"access":"internal","defaultValue":""},"timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.allowDecimals":true},"info/timeseries_scatter":{"general.defaultTimePeriodColor":"#ff0000","general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.plotLassoMode":"standard","plotArea.markerSize":10,"plotArea.trendLine.defaultStyle.color":null,"plotArea.trendLine.defaultStyle.forecast":0,"plotArea.trendLine.defaultStyle.size":2,"plotArea.trendLine.defaultStyle.type":"dot","plotArea.trendLine.lines":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits"},"info/timeseries_stacked_column":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null,"valueAxis.label.allowDecimals":true},"info/timeseries_stacked_combination":{"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.hideNoValueLabel":{"access":"internal","defaultValue":false},"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.groupByShape":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":{"access":"internal","defaultValue":null},"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null,"valueAxis.label.allowDecimals":true},"info/timeseries_waterfall":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.defaultTimePeriodColor":"#ff0000","general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.groupData":false,"general.respectOrderInGroup":false,"general.showAsUTC":false,"general.timePeriodStyle":null,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectByTimeAxisGroup":{"access":"internal","defaultValue":true},"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoMode":"standard","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.syncValueAxis":false,"interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.recapTitle":"","plotArea.dataLabel.renderer":null,"plotArea.dataLabel.showRecap":false,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"solid","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.startValue":0,"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.fiscal.periodNumbers":{"access":"internal","defaultValue":null},"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.style.letterSpacing":null,"timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":null,"valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/treemap":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.formatString":null,"legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.marker.shape":"squareWithRadius","legend.mouseDownShadow.color":"#e8eff6","legend.onlyShowStartEndLabel":{"access":"internal","defaultValue":false},"legend.selectionFeedback":false,"legend.unitFormatType":"FinancialUnits","plotArea.autoLegendValues":{"access":"internal","defaultValue":[],"readonly":true,"serializable":false},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.border.visible":true,"plotArea.colorPalette":{"defaultValue":[],"serializable":false},"plotArea.dataLabel.formatString":"0.0","plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"white","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.text":{"defaultValue":null,"serializable":false},"plotArea.dataLabel.truncationBehavior":"truncate","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.defaultOthersStyle.color":"#000000","plotArea.dimensionLabel.renderer":null,"plotArea.dimensionLabel.style.color":null,"plotArea.dimensionLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dimensionLabel.style.fontSize":"12px","plotArea.dimensionLabel.style.fontStyle":"normal","plotArea.dimensionLabel.style.fontWeight":"normal","plotArea.dimensionLabel.visible":true,"plotArea.endColor":{"defaultValue":"#73C03C","serializable":false},"plotArea.labelPosition":"center","plotArea.legendValues":{"defaultValue":[],"serializable":false},"plotArea.nullColor":{"access":"internal","defaultValue":"#e0e0e0"},"plotArea.startColor":"#C2E3A9","propertyZone":{"defaultValue":null,"readonly":true,"serializable":false}},"info/vertical_bullet":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"legend.label.text.negativeGap":null,"legend.label.text.positiveGap":null,"plotArea.background.border.bottom.visible":true,"plotArea.forecastColor":["#D5DADC"],"plotArea.gap.negativeColor":"#e34352","plotArea.gap.positiveColor":"#87c27e","plotArea.gap.type":"both","plotArea.gap.visible":false},"info/waterfall":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.style.letterSpacing":null,"categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.enableScalingFactor":{"access":"internal","defaultValue":false},"general.groupData":false,"general.respectOrderInGroup":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableInternalEvents":{"access":"internal","defaultValue":false},"interaction.enableKeyboard":false,"interaction.extraEventInfo":{"access":"internal","defaultValue":false,"readonly":false,"serializable":true},"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.keyboard.color":"#000000","interaction.keyboard.width":"1px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"access":"internal","defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverSelectedShadow.color":"#dde8f1","legend.hoverShadow.color":"#f0f0f0","legend.ignoreNoValue":false,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":null,"legend.marker.shape":"squareWithRadius","legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#e8eff6","legend.order":{"defaultValue":null,"serializable":false},"legend.selectionFeedback":false,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPoint.color.total":"#848f94","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"solid","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#333333","plotArea.referenceLine.defaultStyle.label.color":"#ffffff","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"11px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":2,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.allowDecimals":true,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.style.letterSpacing":null,"valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true}};});define('sap/viz/chart/metadata/properties/PropertyLoader',['propertyDefs','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/core/ChartPropertyRegistry',"sap/viz/framework/property/PropertyManager","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/Constants"],function(p,O,T,P,a,C,b){var c=[];var e={};var f=['Title','Legend','Tooltip','Interaction','plotArea'];var g=['Title','Legend','Tooltip','Interaction'];function h(d,i,q,r,s){if((!s||s(i))&&d[r]){O.extend(true,q,j(d[r]));}return q;}function j(d){for(var i in d){if(a.isValidValue(d[i])){d[i]={defaultValue:d[i]};}}return d;}function m(i,q,r){if(q.isEmpty){return i;}var s=g;if(r){s=f;}if(s.length){i=O.extend(true,{},i);}s.forEach(function(d){var t=q.metadata['extend'+d];if(t){return;}var u=new RegExp("^"+d,"i");for(var v in i){if(u.test(v)){delete i[v];}}});if(q.metadata['extendInteraction']){i['interaction.behaviorType']={defaultValue:null};}return O.extend(false,i,q.properties);}function k(t,d){var i=o(t);if(!i[t]){t="info/DEFAULT";}var q=e[t];if(!q||d){q=e[t]={};h(i,t,q,'');h(i,t,q,'_xy',function(t){return(/bar|column|line|combination/).test(t)&&!(/dual/).test(t);});h(i,t,q,'_xySimple',function(t){return(/bar|column|line|combination/).test(t)&&!(/trellis/).test(t);});h(i,t,q,'_dual',function(t){return(/dual/).test(t);});h(i,t,q,'_trellis',function(t){return(/trellis/).test(t);});h(i,t,q,'_scatter',function(t){return(/scatter|bubble/).test(t);});h(i,t,q,'_pie',function(t){return(/pie|donut/).test(t);});h(i,t,q,'_bullet',function(t){return(/bullet/).test(t);});h(i,t,q,'_mekko',function(t){return(/mekko/).test(t);});h(i,t,q,t);}return q;}function l(t){var d=C.getMetadataWithFamily(t);var i=d&&d.family===b.EXTENSION.FAMILYNAME;var q=P.get(t);var r=k(t,c.length>1);return m(r,q,i);}function n(d){var i;for(i=0;i<c.length;i++){if(c[i].propDefs===d){return;}}var q={propDefs:d,chartTypes:[]};for(i in d){if(d.hasOwnProperty(i)){if(i.indexOf("info/")>=0&&i!=="info/DEFAULT"){q.chartTypes.push(i);}}}c.push(q);}function o(t){var d=c[0].propDefs;if(c.length>1){for(var i=0;i<c.length;i++){if(c[i].chartTypes.indexOf(t)>=0){d=c[i].propDefs;break;}}}return d;}if(T.isArray(p)){p.forEach(function(d){n(d);});}else{n(p);}return{getProperties:l,addPropertyDefs:n};});define('sap/viz/chart/components/util/ScrollbarUtil',["sap/viz/framework/common/util/TypeUtils"],function Setup(T){function g(e){var a=0;switch(e.name){case"wheelmove":a=0.1;if(e.data.wheelDelta>0){a=-a;}break;case"leftarrow":case"uparrow":a=-0.06;break;case"rightarrow":case"downarrow":a=0.06;break;}return a;}function s(e,a,m,l,i,b){if(a){var o=g(e)*a.getThumbSize();if(!a.isThumbOverTrack(o)){e.data.originalEvent.preventDefault();var c=a.getThumbRatio();o*=(T.isNumber(c)?c:1);if(l){m.scroll(o);}else{var d=m.getOffset();if(i){d.y-=o;}else{d.x-=o;}m.scroll(d);b.fireEvent("hideDetail",{mode:"actionMode"});}}}}var r={showScrollbar:function(a,f){var m=a.getModule("main");if(!m){m=a.getModule("plot");}if(m){var S,h;if(m.getVScrollbar&&m.getVScrollbar()){S=m.getVScrollbar();S.show(null,f);}if(m.getHScrollbar&&m.getHScrollbar()){h=m.getHScrollbar();h.show(null,f);}}},onScrollKeyboardHandler:function(e,a){var m=a.getModule("main")||a.getModule("plot");if(!m||!T.isFunction(m.scroll)){return;}var i;var b;var c=e.name;if(["leftarrow","rightarrow"].indexOf(c)>-1){b=m.getHScrollbar();i=false;}else if(["wheelmove","uparrow","downarrow"].indexOf(c)>-1){b=m.getVScrollbar();i=true;}else{return;}s(e,b,m,false,i,a);},onLegendScrollWheelHandler:function(e,a){var m=a.getModule("legendGroup.legend");if(!m||!T.isFunction(m.scroll)){return;}var p=m.getPosition();if(p==="left"||p==="right"){s(e,m.getScrollbar(),m,true);}}};return r;});define('sap/viz/chart/components/plots/PlotGeometryKeeper',["sap/viz/framework/common/util/ObjectUtils"],function(O){function a(s){var c=s.getStatus("plotArea.window")||{},n=s.getStatusManager().get("plotArea.window")||{};return!O.deepEqual(c,n);}var p={key:"plot.realsize",save:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var r=s.getModule("main.plot").getRealSize(),c=s.getStatusManager().get("plot.transform.scale");if(c.x===1){delete r.width;}if(c.y===1){delete r.height;}s.setStatus(this.key,r);},load:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var c=s.getStatus(this.key),m=s.getModule("main"),d=s.getModule("main.plot");if(c&&m&&d){var v=d.getSize();if(v.width>0&&v.height>0){var l=m.getZoomer().limits();var e=s.getStatusManager().get("sizeChanged");var x=e?Number.MAX_VALUE:l.x.max||Number.MAX_VALUE;var y=e?Number.MAX_VALUE:l.y.max||Number.MAX_VALUE;s.getStatusManager().set("plot.transform.scale",{x:Math.max(1,Math.min((c.width||0)/v.width,x)),y:Math.max(1,Math.min((c.height||0)/v.height,y))});}}},clear:function(s){s.removeStatus(this.key);}};var b={key:"plot.scroll",save:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var c=s.getModule("main.plot").getOffset(),v=s.getStatusManager().get("plot.offsetInValue");s.setStatus(this.key+".pixel",c);s.setStatus(this.key+".value",v);},load:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var c=s.getModule("main"),d=s.getStatus(this.key+".pixel"),v=s.getStatus(this.key+".value");if(d&&c){c.scroll(d);}if(v){s.getStatusManager().set("plot.offsetInValue",v);}},clear:function(s){s.removeStatus(this.key+".pixel");s.removeStatus(this.key+".value");}};function o(s,c,d){var h=s.h,v=s.v;return{x:h?h._scale.invert(-c.x/d.width):null,y:v?v._scale.invert((d.height+c.y)/d.height):null};}return{hasRangeChange:a,size:p,scroll:b,offsetInValue:o};});define('sap/viz/chart/behavior/config/PlotScrollBehaviorConfig',["sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/chart/components/plots/PlotGeometryKeeper"],function(U,S,P){var s=["info/bar","info/column","info/dual_bar","info/dual_column","info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/combinationEx","info/horizontal_combination","info/bullet","info/vertical_bullet","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/dual_combination","info/dual_horizontal_combination","info/timeseries_scatter","info/timeseries_bubble"];var a=["info/bubble","info/scatter","info/waterfall","info/horizontal_waterfall"];function h(b){return b.getModule("main").getVScrollbar().isExist();}var p=function(e,b){if(U.isMobile()||!b.getProperties().get("plotArea.isFixedDataPointSize")){return;}S.onScrollKeyboardHandler(e,b);};return[{"id":"wheel_move_on_eventLayer_single","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange","v-m-datapoints"],"supportedChartTypes":s.concat(a)},"handler":function(e,b){if(!e.data.originalEvent.ctrlKey&&h(b)){if(!b.getDataModel().getPaginationOptions()){S.onScrollKeyboardHandler(e,b);P.scroll.save(b);}}}},{"id":"on_plot_scroll","triggerEvent":{"name":"plotScroll"},"handler":function(e,b){b.fireEvent('hideDetail',{mode:'actionMode'});}},{id:"save_scroll_position_on_scrollbar_release",triggerEvent:{name:"scrollbarReleased"},handler:function(e,b){b.fireEvent("saveZoom",{scroll:true});}}];});define('sap/viz/chart/behavior/config/handler/AxisBehaviorHandler',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataGraphics'],function(C,S,U,O,D,a,b,T,d){var B=S.BEHAVIOR;var e=C.CSS.CLASS;var H='#333333';var f='parsedValue';function g(){}var p=g.prototype;function h(s){var c=s.getProperties().get("interaction.selectability");if(!c){return false;}var t=s.getProperties().get("interaction.selectability.behavior");var i=t?t.toUpperCase():t;var r=c.mode?c.mode.toUpperCase():c.mode;var u=s.getNodes(s.NodeType.AXIS_ITEM);if(!c.axisLabelSelection||r===S.SELECTION_MODE.NONE||(r===S.SELECTION_MODE.SINGLE&&i!==S.SELECTION_BEHAVIOR.CATEGORY)||!u.node()){return false;}else{return true;}}function j(s){var c=s.getProperties().get("interaction.selectability");if(!c){return false;}var i=c.mode?c.mode.toUpperCase():c.mode;var r=s.getNodes(s.NodeType.TIMEAXIS_ITEM)||s.getNodes(s.NodeType.TIMEAXIS_ITEM_UPPERLEVEL);if(!c.axisLabelSelection||i===S.SELECTION_MODE.NONE||i===S.SELECTION_MODE.SINGLE||!r.node()){return false;}else{return true;}}function k(c){var i=c;while(i&&i.getAttribute){if(D.hasClass(i,e.AXIS.CONTAINER)){break;}i=i.parentNode;}return i;}function l(c){var i=c.data.currentTarget;var r=k(i);var s=a.getContext(r);if(s&&s.name){return s.name;}else{return"categoryAxis";}}function m(c,s){var i=l(c);if(i&&i.toLowerCase()==="categoryaxis"){var r=s.getModule("main.categoryAxis.axisBody");return r&&r.isOnlyShowingFirstAndLastLabel&&r.isOnlyShowingFirstAndLastLabel();}return false;}var n=function(c,s){var i=c.data.currentTarget,r=a.getContext(i);if(!r.hasOwnProperty('rectX')){return;}b.cleanRangeSelection(s);var t={},u=s.getDataModel()._timeAxis.metaData[0].id;t[u+'.'+f]=r.range;return b.getDataPointIds(t,s);};p.getTargetsAndCtxs=function(i,r,s){var t={};var u;var v=O.extendByRepalceArray({},a.getContext(i).ctx);if(r){u=a.getContext(r);if(u){if(v&&v.or&&T.isArray(v.or)){v.or.forEach(function(c){O.extendByRepalceArray(c,u.ctx);});}else{O.extendByRepalceArray(v,u.ctx);}}}t.targets=b.getDataPointIds(v,s);t.ctxs=this.filterCtx(v,u);return t;};p.hoverOnAxisLabel=function(c,s){if(s.getStatus("rangeSelection")){return;}if(!h(s)||m(c,s)){return;}var i=s._getRenderType().indexOf("radar")>-1;var r="plotArea.polarAxis";var t=i?r:l(c);s.fireEvent("processUnhighlight");var u=s.getProperties().get(t+".hoverShadow.color");if(u){d3.select(c.data.currentTarget).select("rect").attr("fill",c.data.byKeyboard?"transparent":u).classed(e.HOVER_SHADOW,true);}var v=this.getTargetsAndCtxs(c.data.currentTarget,null,s).targets;s.fireEvent("processHighlight",{targets:v,});};p.hoverOnTimeAxisLabel=function(c,s){if(s.getStatus("rangeSelection")){return;}if(!j(s)){return;}s.fireEvent("processUnhighlight");var i=s.getProperties().get("timeAxis.hoverShadow.color");if(i){d3.select(c.data.currentTarget).select("rect").attr("fill",c.data.byKeyboard?"transparent":i).classed(e.HOVER_SHADOW,true);}var r=c.data.currentTarget;var t=a.getContext(r);var u=k(r);if(u){var v=u.querySelector(".v-label-upperLevel[timelabel-id='"+t.id+"']");if(v){var w=s.getProperties().get("timeAxis.label.style.color")||H;var x=s.getEffectManager();w=x.register({fillColor:w});v.setAttribute("fill",w);}}var y=n(c,s);s.fireEvent("processHighlight",{targets:y,});};p.hoverOnNonAxisLabel=function(c,s){if(!(h(s)||j(s))){return;}s.fireEvent("processUnhighlight");};var o=function(c,s){var i=c.selectAll(".v-m-highlight")[0];if(i.length>0){var r=s.getStatus("selectedDataPoints").length;switch(r){case 0:d3.select(i[i.length-1]).remove();break;case 1:if(i.length===1){var t=d.getData(i[0].parentNode)||{};if(!t.isZeroValue){d3.select(i[0]).remove();}}break;}}};var q=function(c){if(c.node()){return c;}return null;};p.cleanAxisHoverEffect=function(c,s){s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND).attr("fill","transparent").classed(e.HOVER_SHADOW,false).classed(e.FOCUS_SHADOW,false);var r=s.getNodes(s.NodeType.TIMEAXIS_ITEM_UPPERLEVEL,false);if(r&&r.length>0){var t=k(r[0]);var u=t.querySelectorAll(".v-label-upperLevel");var v=s.getProperties().get("timeAxis.label.style.parentColor");for(var i=0;i<u.length;i++){u[i].setAttribute("fill",v);}}var w=q(s.getNodes(s.NodeType.MAIN_NODE))||q(s.getNodes(s.NodeType.PLOT_NODE));o(w,s);};p.clickOnAxisLabel=function(c,s){if(!h(s)||m(c,s)){return;}var i=c.data.currentTarget;var r=k(i);var t=this.getTargetsAndCtxs(i,r,s);var u=t.targets;var v=t.ctxs;s.fireEvent("processSelection",{ctx:v,targets:u,deselectable:true,ctrlKeyPressed:c.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:u,point:c.data.point});};p.clickOnTimeAxisLabel=function(c,s){if(!j(s)){return;}var t=n(c,s);s.fireEvent("processSelection",{targets:t,deselectable:true,ctrlKeyPressed:c.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:t,point:c.data.point});};p.filterCtx=function(c){return c;};p.downOnAxisLabel=function(c,s){if(m(c,s)){return;}var i;if(h(s)){var r=l(c);i=s.getProperties().get(r+".mouseDownShadow.color");}else if(j(s)){i=s.getProperties().get("timeAxis"+".mouseDownShadow.color");}else{return;}s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND).attr("fill","transparent").classed(e.HOVER_SHADOW,false);if(i){d3.select(c.data.currentTarget).select("rect").attr("fill",i).classed(e.FOCUS_SHADOW,true);}};p.upOnAxisLabel=function(c,s){if(m(c,s)){return;}var i;if(h(s)){var r=l(c);i=s.getProperties().get(r+".hoverShadow.color");}else if(j(s)){i=s.getProperties().get("timeAxis"+".hoverShadow.color");}else{return;}var t=s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND);t.attr("fill","transparent").classed(e.FOCUS_SHADOW,false);if(U.isMobile()){t.classed(e.HOVER_SHADOW,false);}else{if(i){d3.select(c.data.currentTarget).select("rect").attr("fill",i).classed(e.HOVER_SHADOW,true);}}};return g;});define('sap/viz/chart/behavior/config/AxisBehaviorConfig',["sap/viz/chart/behavior/config/handler/AxisBehaviorHandler",'sap/viz/framework/common/util/Constants'],function(A,C){var a="v-axis-item";var m="v-mbc-axis-item";var t="v-timeaxis-item";var b="v-timeaxis-item-upperLevel";var c="v-axis-mekko-item";return[{"id":"axisBehaviorDefinition","handler":A,"handlerType":"class","triggerEvent":[{"name":"hover","targets":a,"excludeTargets":c,"method":"hoverOnAxisLabel"},{"name":"hover","excludeTargets":[a,t,b,C.CSS.CLASS.LEGENDITEM],"method":"hoverOnNonAxisLabel"},{"name":"hover","targets":[t,b],"method":"hoverOnTimeAxisLabel"},{"name":"cleanAxisHoverEffect","method":"cleanAxisHoverEffect"},{"name":"click","targets":a,"excludeTargets":[c,m],"method":"clickOnAxisLabel"},{"name":"click","targets":[t,b],"method":"clickOnTimeAxisLabel"},{"name":"down","targets":[a,t,b],"excludeTargets":c,"method":"downOnAxisLabel"},{"name":"up","targets":[a,t,b],"excludeTargets":c,"method":"upOnAxisLabel"}]}];});define('sap/viz/chart/behavior/config/HighlightHelper',["sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/RuleUtil",'sap/viz/framework/common/util/DOM',"sap/viz/framework/common/effect/EffectManager","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/ChartConstants"],function(D,a,T,b,R,c,E,U,C,d){var g=function(s,e,p,u,q,r,v){var w=v?v:a.getData(e);var x,y=u?u:w.color,z=s.getEffectManager();if(p){if(T.isFunction(p)){x=p(y);}else if(T.isString(p)){x=z.parseColorProperty(p,y);}}var A=s.isHorizontal();var B=null;if(r&&r.isReverse){B=B===A?null:(A?'horizontal':'vertical');}else{B=B===A?null:(A?'vertical':'horizontal');}var F=w.shape;var G=w.r;if(q&&y){y=z.register({drawingEffect:q,fillColor:y,patternEffect:w.pattern,isNegative:w.isNegative,direction:B,graphType:F,radius:G});}if(q&&x){x=z.register({drawingEffect:q,fillColor:x,patternEffect:w.pattern,isNegative:w.isNegative,direction:B,graphType:F,radius:G});}return{defaultColor:y,customizedColor:x};};var f=function(p,e,r){var w;if(e==null){e=0;}if(!T.isNumber(e)){e=+e.match(/[0-9]+/);}if(!p){w=e;}else if(T.isNumber(p)){w=p;}else{if(!T.isNumber(w)){w=+p.match(/[0-9]+/);}}if(w>4){w=e;}return(r===undefined?w:w*r)+'px';};function t(e,r){return D.rgb2Hex(D.colorLinerTransform(new E(),{constant:0,factor:r?r:1},e));}function h(e){return T.isArray(e)?e:[e];}function i(s,e,p,q,r,u,v){var z=d3.select('.'+C.CSS.CLASS.ZEROVALUEHOVER).node();var w=d3.select(e).selectAll(p);if(T.isExist(z)&&T.isExist(v)){if(v.isZeroOnFirstTab){w=d3.select(z).selectAll(p);}}if(!u&&w&&w[0]&&w[0].length>1){var x=w[0];w=d3.select(x[x.length-1]);}var y=T.isExist(v)?v.isZeroValue:false;if(!y){w.attr("stroke-dasharray",undefined);}if(q.visible===true){var A=g(s,e,q.color);var B=A.customizedColor||A.defaultColor;w.attr("stroke",B);w.attr("stroke-width",f(q.width,r));}else{w.attr("stroke",undefined);w.attr("stroke-width",undefined);}}function j(s,e,p,q,r,u){var v=a.getData(e);var w=T.isExist(q.opacity)?q.opacity:1;e.setAttribute("fill-opacity",w);var x=d3.select(e).selectAll(p);if(u){x.attr("fill-opacity",w);}x.attr("stroke-opacity",w);if(!r){var y=(v.pattern==='noFill'?null:s.getProperties().get('plotArea.drawingEffect'));var z=g(s,e,q.color,null,y);var A=z.customizedColor||z.defaultColor;if(v.pattern==='noFill'){x[0][0].setAttribute("stroke",A);}else{x.attr('fill',A);}}}function k(){var r=['v-datapoint','v-legend-item','v-axis-item','v-timeaxis-item','v-timeaxis-item-upperLevel','v-datalabel','v-mbc-legend-item','v-m-scrollbarTrack','v-area','v-area-point','v-area-ref-line','v-area-ref-line-selected','v-selected-area','v-nonLeafDimensionLabel'];if(!U.isMobile()){r.push('v-m-action-layerrange');}return r;}function m(e){var p=e||window.event;return{x:p.layerX||p.offsetX,y:p.layerY||p.offsetY};}function l(p,e){return{left:p.x-e.x,top:p.y-e.y};}function n(e,p,r){if(!p||!p.getAttribute){return null;}if(c.hasClass(p,e)){return p;}if(p!==r.node()){return n(e,p.parentNode,r);}return null;}var o={transformColor:t,turnToArray:h,getColors:g,drawStroke:i,drawFill:j,getWidth:f,getDeselAllExTargets:k,getLayerCoord:l,tryToFindNode:n};return o;});define('sap/viz/chart/behavior/config/ContextualDataUtil',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/DataUtils','sap/viz/chart/behavior/config/SelectionUtil',"sap/viz/framework/common/util/DataContextUtils"],function(C,O,D,a,b,S,c){function g(q){var t;if(q&&q.timeAxis&&q.timeAxis()){t=q.timeAxis().metaData.map(function(e){return e.id;});}return t;}function d(e,q){var s=e&&e._rawData&&e._rawData.measures&&e._rawData.measures();return c.convertBigNumString(s,q);}function r(e,q){var s=e;if(q&&q.length){s=O.extend(true,{},e);q.forEach(function(t){delete s[t+b.DIMENSION_PARSED_VALUE_SUFFIX];});}return s;}function f(s,t,e,q,u){var v=q.getDataModel();var w=g(v);var x=t==="datapoint";var y=s.map(function(z){var A=a.getDataPointId(z);if(!A){return;}var B=x?v.getDataPoint(A).context():D.getContext(z);B=d(v,B);B=r(B,w);return{target:z,data:B};});if(u){y.dateTimeRange=u;}q.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:y,point:e});}function h(e,t,q,s,u){var v=s.getDataModel();var w=g(v);var x=e.map(function(y){if(!y){return;}var z=v.getDataPoint(y).context();z=d(v,z);z=r(z,w);return{target:null,data:z};});if(u){x.dateTimeRange=u;}s.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:x,point:q});}function i(e,t,s){var q=[];var u=k(e,e.data.currentTarget,s);var v=d(s.getDataModel(),D.getContext(u));q.push({target:u,data:v});s.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:q,point:e.data.point});}function j(e,t,q,s){var u={context:D.getContext(e.data.currentTarget).ctx,target:e.data.currentTarget};s.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:[],context:u,point:e.data.point});}function k(e,q,s){var t=n(e.data.originalEvent);var u=m(q);return l(t,u,s);}function l(e,q,s){var t=s.isHorizontal();var u=t?"y":"x";var v,w,x;q.forEach(function(y){x=o(y);var z=Math.abs(x[u]-e[u]);if(!w||!v){w=y;v=z;return;}if(z<v){v=z;w=y;}});return w;}function m(t){if(t){var e=D.getData(t).dataPoints;return e;}}function n(e){var q=e||window.event;return{x:q.pageX,y:q.pageY};}function o(e){var q=e.getBoundingClientRect();return{x:q.left+q.width/2,y:q.top+q.height/2};}function p(t,s){var e=D.getContext(t);var q=D.getData(t);if(!q){return null;}var u=q.timeField,v={};if(!u||u.length===0){return null;}u=u[0];v[u]=e[u];return S.getDataPointNodes(v,s).sort(function(w,x){var y=D.getData(w).seriesIndex;var z=D.getData(x).seriesIndex;return y-z;});}return{getTimeField:g,removeTimeSuffix:r,fireContextualDataEvent:f,fireContextualDataEventByIDs:h,fireContextualDataEventForArea:i,fireContextualDataEventForLegendItem:j,getDataPointsByTimeField:p};});define('sap/viz/chart/behavior/config/ContextualDataConfig',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/framework/common/util/DataGraphics"],function(C,O,D,a,H,S,b,c){var d="v-axis-item",e="v-nonLeafDimensionLabel",v="v-m-valueAxis",f="v-m-valueAxis2",g="v-m-categoryAxis",h="v-m-categoryAxis2",t="v-m-timeAxis";var l="v-m-legend",s="v-m-sizeLegend",j="v-legend-item";var k="v-m-title";var m="v-datapoint",n="v-datalabel",o="v-selected-area",p="v-area";var q="v-m-plot",r="v-m-plot-bound";var u="v-m-background",w="v-subtitle";var x="v-m-action-layerrange-content";var y="v-trellistitle-left",z="v-trellistitle-right",A="v-trellistitle-bottom",B="v-trellistitle-top";var E=C.CSS.CLASS;var F=b.getTimeField,G=b.removeTimeSuffix,I=b.fireContextualDataEvent,J=b.fireContextualDataEventByIDs,K=b.fireContextualDataEventForArea;return[{id:"right_click_anywhere",triggerEvent:{name:"contextmenu"},handler:function(i,L){L.fireEvent("hideDetail",{mode:"actionMode"}).fireEvent("hideDetail",{mode:"infoMode"});}},{"id":"right_click_on_axis","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[v,f,g,h,t],"excludeTargets":[d,e]},"handler":function(i,L){var M;var N=i.data.currentTarget;if(D.hasClass(N,v)){M='valueAxis';}else if(D.hasClass(N,f)){M='valueAxis2';}else if(D.hasClass(N,g)){M='categoryAxis';}else if(D.hasClass(N,h)){M='categoryAxis2';}else if(D.hasClass(N,t)){M='timeAxis';}I([],M,i.data.point,L);}},{"id":"right_click_on_axis_label","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[d,e]},"handler":function(i,L){var M=i.data.currentTarget;var N=M;while(N&&N.getAttribute){if(D.hasClass(N,E.AXIS.CONTAINER)){break;}N=N.parentNode;}var P=O.extendByRepalceArray({},a.getContext(M).ctx);if(N){var Q=a.getContext(N);if(Q){O.extendByRepalceArray(P,Q.ctx);}}if(L.isBigDataMode()){var R=S.getDataPointIds(P,L);J(R,'axisLabel',i.data.point,L);}else{var T=S.getDataPointNodes(P,L);I(T,'axisLabel',i.data.point,L);}}},{"id":"right_click_on_axis_label_treemap","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[d,e],"supportedChartTypes":"info/treemap"},"handler":function(i,L){var M=i.data.currentTarget;var N=a.getContext(M);var P=S.getDataPointNodes(N,L);I(P,'axisLabel',i.data.point,L);}},{"id":"right_click_on_legend","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[j,l,s]},"handler":function(i,L){var M=i.data.currentTarget;if(D.hasClass(M,j)){b.fireContextualDataEventForLegendItem(i,'legend',i.data.point,L);}else{I([],'legend',i.data.point,L);}}},{"id":"right_click_on_title","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":k},"handler":function(i,L){I([],'title',i.data.point,L);}},{"id":"right_click_on_trellis_title","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[y,z,A,B]},"handler":function(i,L){I([],'trellis_title',i.data.point,L);}},{"id":"right_click_on_chartarea","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[u,w]},"handler":function(i,L){I([],'chartArea',i.data.point,L);}},{"id":"right_click_on_datapoint","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[m,n]},"handler":function(i,L){if(!L.getStatus('rangeSelection')){var M;if(L.getProperties().get('interaction.selectByTimeAxisGroup')){M=b.getDataPointsByTimeField(i.data.currentTarget,L);}else{M=H.turnToArray(i.data.currentTarget);}if(M){I(M,'datapoint',i.data.point,L);}}else{I([],'plot',i.data.point,L);}}},{"id":"right_click_on_area","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[p,o]},"handler":function(i,L){K(i,'datapoint',L);}},{"id":"right_click_on_lasso_box","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[x]},"handler":function(i,L){var M=L.getStatus('selectedDataPoints');var N=a.getNodes(M,L);var P=L.getStatus('rangeDomain');var Q=L.getDataModel()._timeAxis.metaData[0].id;var R=P&&P.length===2?{start:{},end:{}}:null;if(R){R.start[Q]=P[0];R.end[Q]=P[1];}I(N,'plot',i.data.point,L,R);}},{"id":"right_click_on_plot","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[q,r],"excludeTargets":[m,n,d,e,p,o]},"handler":function(L,M){if(!M.isBigDataMode()){I([],'plot',L.data.point,M);return;}var N=L.data.originalEvent;var P=M.getOffsetMatrix(M.OffsetType.PLOT_NODE,true);var Q={left:L.data.pointToChart.x-P.e,top:L.data.pointToChart.y-P.f};var R=M.getModule("main.plot");var T=R.getOffset();Q.left-=T.x;Q.top-=T.y;var U=R.hitTest(Q);if(U.length===0){I([],'plot',L.data.point,M);return;}var V=M.getDataModel();var W,X,Y;for(var i=0;i<U.length;i++){W=U[i];Y=V.getDataPoint(W.dataId);if(Y){var Z=F(V);X=G(Y.context(),Z);break;}}if(Y==null){I([],'plot',L.data.point,M);}else{M.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:'datapoint',data:[{target:null,data:X}],point:L.data.point});}}}];});define('sap/viz/chart/behavior/config/AlignToUtil',["sap/viz/framework/common/util/TypeUtils"],function(T){var C={l:function(d){return{x:d.left,y:d.top+d.height/2};},r:function(d){return{x:d.right,y:d.top+d.height/2};}};function c(d){if(!T.isArray(d)){d=[d];}var o={};d.forEach(function(e){var s=C[e.source.pos](e.source.dom.getBoundingClientRect()),t=C[e.target.pos](e.target.dom.getBoundingClientRect());m(o,{x:t.x-s.x,y:t.y-s.y},e.aspects||"xy");});return o;}function m(o,n,d){d.split("").forEach(function(p){if(n.hasOwnProperty(p)){o[p]=n[p];}});}function b(e,s,t,r){var d={isAnchored:true,point:e.data.point,targets:t,forceStyle:{padding:"0px"}};var l=s.getModule('legendGroup');var f=l?l.getPosition().charAt(0):null;if(f==='l'||f==='r'){d.point.offset={x:f==="l"?10:-10};d.point.alignTo={source:{pos:f},target:{dom:r,pos:f==='l'?'r':'l'}};}return d;}function a(e,s,t,y,x){var d={isAnchored:true,point:e.data.point,targets:t,forceStyle:{padding:"0px"}};var l=s.getModule('legendGroup');var f=l?l.getPosition().charAt(0):null;if(f==='l'||f==='r'){d.point.offset={x:f==="l"?10:-10};d.point.alignTo=[{aspects:"y",source:{pos:f},target:{dom:y,pos:f==='l'?'r':'l'}},{aspects:"x",source:{pos:f},target:{dom:x,pos:f==='l'?'r':'l'}}];}return d;}var A={calculate:c,getTooltipData:b,getMBCTooltipData:a};return A;});define('sap/viz/chart/behavior/config/handler/LegendBehaviorHandler',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/AlignToUtil","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/ScrollbarUtil"],function(C,S,U,D,a,b,A,c,d){var B=S.BEHAVIOR;var e=C.CSS.CLASS;var L="legendPanLastPos";var f=function(){};f.prototype={standAloneInitialized:function(g,s){s.getProperties().origin.add({legend:{mouseDownShadow:{color:"#808080"},hoverShadow:{color:"#cccccc"}},interaction:{selectability:{legendSelection:true}}});},getTargetsFromCtx:function(g,h,s){if(s.isBigDataMode()){var p=s.getModule("main.plot");if(p.setLastSeries){p.setLastSeries(g,true);}}return this._getTargets(g,h,s);},dragStart:function(g,s){if(!s.getProperties().get("legend.isScrollable")||s.getProperties().get("interaction.noninteractiveMode")||!U.isMobile()){return;}g.data.originalEvent.preventDefault();var p=g.data.point;var m=s.getModule('legendGroup.legend');var h=m.isHorizontal()?p.x:p.y;s.setStatus(L,h);s.fireEvent("hideDetail",{mode:"infoMode"}).fireEvent("hideDetail",{mode:"actionMode"});},dragMove:function(g,s){if(!s.getProperties().get("legend.isScrollable")||s.getProperties().get("interaction.noninteractiveMode")||!U.isMobile()){return;}if(!s.getStatus(L)){return;}var m=s.getModule('legendGroup.legend');if(!m){return;}g.data.originalEvent.preventDefault();var p=g.data.point;var h=s.getStatus(L);var o;if(m.isHorizontal()){o=h-p.x;s.setStatus(L,p.x);}else{o=h-p.y;s.setStatus(L,p.y);}if(m.scroll){m.scroll(o);}},dragEnd:function(g,s){s.removeStatus(L);},hover:function(g,s){if(s.getStatus("rangeSelection")){return;}s.fireEvent("processUnhighlight");if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}this.highlightLegendItem(g,s);var h=D.getContext(g.data.currentTarget).ctx;var i=this.getTargetsFromCtx(h,g,s);s.setStatus("hoveringLegend",true);s.fireEvent("processHighlight",{targets:i,});},highlightLegendItem:function(g,s){var t=d3.select(g.data.currentTarget);t.select("rect").attr("fill",g.data.byKeyboard?"transparent":s.getProperties().get("legend.hoverShadow.color")).classed(e.HOVER_SHADOW,true);if(!g.data.byKeyboard){a.resetLegendSelectionEffect(s);}},syncSelectedLegendItems:function(g,s){a.updateCorrespondingSelectedLegendItems(s);},nonHover:function(g,s){s.fireEvent("processUnhighlight");s.setStatus("hoveringLegend",false);},cleanLegendHoverEffect:function(g,s){var l=s.getNodes(s.NodeType.LEGEND_ITEM);l.selectAll("rect").attr("fill","transparent").classed(e.HOVER_SHADOW,false).classed(e.FOCUS_SHADOW,false);a.resetLegendSelectionEffect(s);s.getNodes(s.NodeType.LEGEND_GROUP).select(".v-m-highlight").remove();},click:function(g,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}a.cleanRangeSelection(s);var h=D.getContext(g.data.currentTarget).ctx;var t=this.getTargetsFromCtx(h,g,s);s.fireEvent("processSelection",{ctx:{series:h},targets:t,deselectable:true,ctrlKeyPressed:g.data.ctrlKey});var i=c.parent(g.data.target,".v-legend-item")||g.data.target;var j=A.getTooltipData(g,s,t,i);s.fireEvent("processMultipleSelectionTooltip",j);},_getTargets:function(g,h,s){return a.getDataPointIds(g,s);},mouseDown:function(g,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}s.getNodes(s.NodeType.LEGEND_ITEM).selectAll("rect").attr("fill","transparent").classed(e.HOVER_SHADOW,false);a.resetLegendSelectionEffect(s);d3.select(g.data.currentTarget).select("rect").attr("fill",s.getProperties().get("legend.mouseDownShadow.color")).classed(e.FOCUS_SHADOW,true);},mouseUp:function(g,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}var l=s.getNodes(s.NodeType.LEGEND_ITEM);l.selectAll("rect").classed(e.FOCUS_SHADOW,false);if(U.isMobile()){l.selectAll("rect").attr("fill","transparent").classed(e.HOVER_SHADOW,false);}else{this.highlightLegendItem(g,s);}a.resetLegendSelectionEffect(s);},mouseWheel:function(g,s){if(s.getProperties().get("legend.isScrollable")){d.onLegendScrollWheelHandler(g,s);}}};return f;});define('sap/viz/chart/behavior/config/LegendBehaviorConfig',["sap/viz/chart/behavior/config/handler/LegendBehaviorHandler",'sap/viz/framework/common/util/Constants'],function(L,C){var a="v-legend-item";var b="v-legend-bullet";return[{"id":"legendBehaviorDefinition","handler":L,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"dragstart","targets":[a,b],"method":"dragStart"},{"name":"dragmove","targets":[a,b],"method":"dragMove"},{"name":"dragend","targets":[a,b],"method":"dragEnd"},{"name":"hover","targets":a,"method":"hover"},{"name":"highlightLegendItem","excludeTargets":a,"method":"highlightLegendItem"},{"name":"syncSelectedLegendItems","excludeTargets":a,"method":"syncSelectedLegendItems"},{"name":"hover","excludeTargets":[a,C.CSS.CLASS.DATAPOINT,C.CSS.CLASS.DATALABEL,C.CSS.CLASS.AXIS.LABEL_SELECTION,C.CSS.CLASS.AXIS.LABEL_SELECTION_TIMEAXIS,C.CSS.CLASS.AXIS.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL],"method":"nonHover"},{"name":"cleanLegendHoverEffect","method":"cleanLegendHoverEffect"},{"name":"click","targets":a,"method":"click"},{"name":"down","targets":a,"method":"mouseDown"},{"name":"up","targets":a,"method":"mouseUp"},{"name":"wheelmove","targets":["v-content"],"method":"mouseWheel"}]}];});define('sap/viz/chart/behavior/config/LassoDecoration',["sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/interaction/Constants'],function(D,F,C){var L="lasso";var R="range";var a='rgba(102,151,231, 0.25)';var b='rgba(102,151,231, 0.5)';var c="rgb(102,151,231)";var d=1;var e="3px";var f="0px";var g=C.RANGE_SELECTION.OFFSET;var i=function(h,s){this._actionLayer=h;this._startPoint=null;this._shapeModel=null;this._service=s;this._shapeLine={points:[],width:f,color:c,pointerEvent:"none"};};i.prototype.start=function(p,h,k,m){var l;this._startPoint=j(p,h);var n;var o;if(m==='range'){this._mode=R;}else{this._mode=L;}var s=this._service;var q=this._shapeModel;n=this._actionLayer.createLayer(this._mode);var r=this._shapeLine;if(this._mode===R){var P=false;s.fireEvent("hideDetail",{mode:"actionMode"});if(q&&s.getStatus("rangeSelection")){if(q.x-g<=this._startPoint.x&&this._startPoint.x<=q.x+q.width+g){P=true;var t=Math.abs(this._startPoint.x-q.x);var u=Math.abs(q.x+q.width-this._startPoint.x);if(t<=u&&t<=g){this._direction="right";o=q.x;}else if(u<=g){this._direction="left";o=q.x+q.width;}else{this._direction="drag";}}if(o){r.points=[[o,q.y],[o,q.y+q.height]];r.width=e;n.addPolyLine(r);}}if(!P){s.setStatus("rangeSelection",true);this._direction=null;this._actionLayer.clear(this._mode);q=this._shapeModel={x:this._startPoint.x,y:k.y-p.y-d,width:0,height:k.height+d*2,fill:a,strokeWidth:d+"px",stroke:c};o=q.x;r.points=[[o,q.y],[o,q.y+q.height]];r.width=e;n.addPolyLine(r);l={};l.x=k.x-p.x;l.y=k.y-p.y;l.width=k.width;l.height=k.height;n.addRect(this._shapeModel);this._actionLayer.drawLayer(n,l);}}else{this._actionLayer.clear(this._mode);n=this._actionLayer.createLayer(this._mode);this._shapeModel={x:this._startPoint.x,y:this._startPoint.y,width:0,height:0,pointerEvent:'none',fill:'rgba(64,176,240, 0.4)',strokeWidth:'2px',stroke:'rgb(64, 176, 240)'};n.addRect(this._shapeModel);this._direction=null;this._actionLayer.drawLayer(n);}};function j(p,h){var x=h.x-(p.x||p.left);var y=h.y-(p.y||p.top);return{'x':x,'y':y};}i.prototype.moveTo=function(p,k,l,m){var s=this._service;if(this._startPoint&&this._shapeModel){var n=this._startPoint;var o=this._shapeModel;var q;if(this._mode===R){q=j(p,l);}var r=j(p,k);var t={x:k.x,y:k.y};var u;if(this._direction){if(this._direction==='right'){if(r.x<=q.x){o.width=o.width-q.x+o.x;o.x=q.x;t.x=l.x;}else if(r.x<o.x+o.width){o.width=o.width-r.x+o.x;o.x=r.x;}else{o.x=o.x+o.width-2;o.width=2;}u=o.x;}else if(this._direction==='left'){if(r.x>=q.x+l.width){o.width=q.x+l.width-o.x;t.x=l.x+l.width;}else if(r.x>o.x){o.width=r.x-o.x;}else{o.width=2;}u=o.x+o.width;}else if(this._direction==='drag'){this._startPoint=r;var v=r.x-n.x;if((o.x<=q.x&&o.x+o.width>=q.x+l.width)||(o.x<=q.x&&v<0)||(o.x+o.width>=q.x+l.width&&v>0)){return;}if(o.x<q.x){if(o.x+o.width+v<=q.x+l.width){o.x=o.x+v;}else{o.x=q.x+l.width-o.width;}}else if(o.x+o.width>=q.x+l.width){if(o.x+v>=q.x){o.x=o.x+v;}else{o.x=q.x;}}else{if(o.x+v<q.x){o.x=q.x;}else if(o.x+o.width+v>q.x+l.width){o.x=q.x+l.width-o.width;}else{o.x=o.x+v;}}o.fill=b;}}else{u=r.x;var x=Math.min(r.x,n.x);var y=Math.min(r.y,n.y);var w=Math.abs(r.x-n.x);var h=Math.abs(r.y-n.y);o.x=x;o.width=w;if(this._mode===L){o.y=y;o.height=h;}else{if(x<q.x){o.x=q.x;o.width-=q.x-x;}if(o.x+o.width>q.x+l.width){o.width=q.x+l.width-o.x;}if(t.x<l.x){t.x=l.x;}if(t.x>l.x+l.width){t.x=l.x+l.width;}if(u<o.x){u=o.x;}if(u>o.x+o.width){u=o.x+o.width;}}}var z=this._actionLayer.createLayer(this._mode);z.addRect(o);if(u&&this._mode===R){this._shapeLine.points=[[u,o.y],[u,o.y+o.height]];this._shapeLine.width=e;z.addPolyLine(this._shapeLine);}this._actionLayer.drawLayer(z);if(this._mode===R){s.fireEvent("timeRangeChanged",{mode:"actionMode",point:t,target:m.data.target,bTimeRange:true});}}};i.prototype.end=function(){if(this._mode===L){this._actionLayer.clear(L);}else{var l=this._actionLayer.createLayer(this._mode);this._shapeModel.fill=a;l.addRect(this._shapeModel);this._shapeLine.points=[];this._shapeLine.width=f;l.addPolyLine(this._shapeLine);this._actionLayer.drawLayer(l);}};i.prototype.rangeRecover=function(h){var s=this._service;this._actionLayer.clear();var k=s.getStatus("rangeDomain");if(!k){return;}var l=k[0];var m=k[1];var n=s.getDataModel();if(n&&n._rawData&&F.isFiscal(n._rawData)){l=F.fiscalToQuantity(l,s.getProperties());m=F.fiscalToQuantity(m,s.getProperties());}var o=s.getModule("main.plot");var p=s.getModule("main.timeAxis.axisBody");var t=p.getScale();var q=t.getRange();var r=q[1]-q[0];var u=s.getBBox(s.BoxType.PLOT_BOUND_NODE);var v=s.getBBox(s.BoxType.ROOT_NODE);if(!u||!v){return;}var w=j(v,u);var x=o.getRealSize();var y=o.getOffset();var z=s.getTransformScaleRatio();var A=t.scale(l)/r*x.width+y.x;A*=z.x;var B=(t.scale(m)-t.scale(l))/r;var E=B*x.width*z.x;this._shapeModel={x:A+w.x,y:w.y-d,width:E,height:u.height+d*2,fill:a,strokeWidth:d+"px",stroke:c};this._mode=R;var G=this._actionLayer.createLayer(this._mode);G.addRect(this._shapeModel);s.setStatus("rangeSelection",true);this._actionLayer.drawLayer(G,{x:w.x,y:w.y,width:u.width,height:u.height});};i.prototype.changeRangeEffect=function(h){var k=h.data.direction;if(k==='up'){this._shapeModel.fill=a;}else{this._shapeModel.fill=b;}var l=this._actionLayer.createLayer(this._mode);l.addRect(this._shapeModel);this._actionLayer.drawLayer(l);};i.prototype.getBoundingClientRect=function(){return this._actionLayer.getBoundingClientRect(this._shapeModel);};i.prototype.getShapeModel=function(){return this._shapeModel;};i.prototype.destroy=function(){this._actionLayer=null;this._shapeModel=null;this._startPoint=null;this._mode=null;this._shapeLine=null;};return i;});define('sap/viz/chart/components/util/BoundingBoxUtils',[],function Setup(){var c={};c.intersects=function(a,b){return(a.left<=(b.left+b.width)&&b.left<=(a.left+a.width)&&a.top<=(b.top+b.height)&&b.top<=(a.top+a.height));};c.intersection=function(b,a){if(c.intersects(b,a)){var x=Math.max(b.left,a.left),d=Math.min(b.left+b.width,a.left+a.width),y=Math.max(b.top,a.top),e=Math.min(b.top+b.height,a.top+a.height);return{x:x,y:y,left:x,top:y,width:d-x,height:e-y};}return null;};c.contains=function(b,p){return p.x>=b.left&&p.x<=(b.left+b.width)&&p.y>=b.top&&p.y<=(b.top+b.height);};return c;});define('sap/viz/chart/behavior/config/handler/LassoBehaviorHandler',["sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/behavior/config/LassoDecoration","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/behavior/config/SelectionUtil"],function(C,U,L,D,B,a,T,b,A,S){var c=U.isMobile;function g(e,i){return{left:e.left-i.left,top:e.top-i.top,width:e.width,height:e.height};}function d(e){if(c()){return e.data.point;}var i=e.data.originalEvent||window.event;return{x:i.pageX,y:i.pageY};}function f(){}f.prototype={standAloneInitialized:function(e,s){s.getProperties().origin.add({interaction:{selectability:{plotLassoSelection:true}}});},initialized:function(e,s){this._lassoDecoration=new L(s._getActionLayer(),s);s.setStatus("lassoStartPoint",null);s.setStatus("lassoEndPoint",null);s.setStatus("lassoCoveredDataPoints",[]);},unloadClear:function(e,s){if(this._lassoDecoration){this._lassoDecoration.destroy();this._lassoDecoration=null;delete this._lassoDecoration;}s.removeStatus("lassoStartPoint");s.removeStatus("lassoEndPoint");s.removeStatus("lassoCoveredDataPoints");s.removeStatus("rangeDomain");s.removeStatus("rangeSelection");},lassoStart:function(e,s){var i=this._lassoDecoration;if(!i){return;}var j=s.getProperties().get("interaction.selectability");if(!j){return;}var q=s.getProperties().get("interaction.selectability.plotLassoMode");var r=j.mode?j.mode.toUpperCase():j.mode;if(!j.plotLassoSelection||r===C.SELECTION_MODE.NONE||r===C.SELECTION_MODE.SINGLE){return;}var t=e.data.point;var u=s.getBBox(q==='range'?s.BoxType.PLOT_BOUND_NODE:s.BoxType.ROOT_NODE);var v=s.getBBox(s.BoxType.ROOT_NODE);if(!B.contains(u,t)){return;}s.setStatus("lassoStartPoint",d(e));i.start(v,t,u,q);s.fireEvent("hideDetail",{mode:"infoMode",action:"interrupt"}).fireEvent("hideDetail",{mode:"actionMode",action:"interrupt"}).fireEvent("cleanLegendHoverEffect").fireEvent("cleanAxisHoverEffect").fireExternalEvent("lassoStart");},lassoMove:function(e,s){this._drawLassoRect(e,s);},_getStartEnd:function(s,r){return r;},_postProcessTargets:function(s,t){if(s._getChartType()&&s._getChartType().indexOf("bullet")>-1){t=A.unique(t);}return t;},lassoEnd:function(i,s){if(this._validLasso(s)){var j=s.getProperties().get('interaction.selectByTimeAxisGroup');var q=this._lassoDecoration;var r=i.data.point;s.setStatus("lassoEndPoint",r);var t=null;var u=s.getNodes(s.NodeType.DATA_POINT);var v=this._lassoDecoration.getBoundingClientRect();var w=s.getModule("main.plot");if(s.getStatus("rangeSelection")&&w&&w.hitTestForRangeSelection){var R=s.getStatus("rangeDomain");var x=this._getStartEnd(s,{start:R[0],end:R[1]});t=w.hitTestForRangeSelection(x);}else if(s.isBigDataMode()&&w&&w.hitTest){var y=g(v,s.getBBox(s.BoxType.PLOT_BOUND_NODE));t=w.hitTest(y).map(function(e){return(e.dataId).toString();});}else{t=p.call(this,s);}t=this._postProcessTargets(s,t);if(s.getStatus("rangeSelection")){var z=s.getStatus("selectedDataPoints");s.setStatus("selectedDataPoints",[]);var E=z.filter(function(e){return t.indexOf(e)<0;});if(E&&E.length>0){s.fireEvent("deselectDataPoint",{targets:D.getNodes(E,s),isAnyOtherSelected:t.length>0});s.fireEvent("dispatchDataEvent",{targets:E,isSelected:false});if(t.length===0){s.fireEvent("clearPlot",{isGray:false,rangeSelection:"clear"});}}if(t.length===0){s.fireEvent("dispatchDataEvent",{targets:[],isSelected:true});}}q.end();if(!s.getStatus("rangeSelection")||t.length>0){this._fireEvent(i,s,t,r,true);}else if(s.getStatus("rangeSelection")&&t.length===0){s.fireEvent("showDetail",{mode:"actionMode",point:r,bLassoEnd:true});}s.fireExternalEvent("lassoEnd");}s.setStatus("lassoStartPoint",null);S.processTimeCursor(i,s);},lassoEndForArea:function(e,s){if(this._validLasso(s)){var i=this._lassoDecoration;var j=s.getStatus("lassoStartPoint");var q=d(e);s.setStatus("lassoEndPoint",q);var r=null;r=n.call(this,s,j,q);i.end();this._fireEvent(e,s,r,e.data.point,true);s.setStatus("lassoStartPoint",null);s.fireExternalEvent("lassoEnd");}},lassoEndForComboEx:function(e,s){if(this._validLasso(s)){var j=s.getStatus("lassoStartPoint"),q=d(e);s.setStatus("lassoEndPoint",q);var r=p.call(this,s);var u=Array.prototype.slice.call(s.getNodes(s.NodeType.DATA_POINT,false)),v=s.getStatusManager().get("plotArea.series").map(function(t,i){return t.type==="area";}),w=[].filter.call(u,function(i){return v[b.getData(i).seriesIndex];});var x=n.call(this,s,j,q,w);r=r.concat(x.filter(function(t){return r.indexOf(t)===-1;}));this._lassoDecoration.end();this._fireEvent(e,s,r,e.data.point,true);s.setStatus("lassoStartPoint",null);s.fireExternalEvent("lassoEnd");}},_validLasso:function(s){var e=this._lassoDecoration;if(!e){return false;}var i=s.getProperties().get("interaction.selectability");if(!i){return false;}var j=i.mode?i.mode.toUpperCase():i.mode;if(!i.plotLassoSelection||j===C.SELECTION_MODE.NONE||j===C.SELECTION_MODE.SINGLE||!s.getStatus("lassoStartPoint")){return false;}return true;},_fireEvent:function(e,s,i,j,q){s.fireEvent("processSelection",{targets:i,deselectable:false,ctrlKeyPressed:e.data.ctrlKey});var r=s.getStatus("selectedDataPoints");if(r.length&&i.length){var t=e.data.target;while(t){if(t.getAttribute){if(a.hasClass(t,"v-datalabel")){t=D.getDataPointByDataLabel(t,s);if(!c()){s.setStatus("hoveringDataPoint",t);}break;}if(a.hasClass(t,"v-datapoint")){if(!c()){s.setStatus("hoveringDataPoint",t);}break;}t=t.parentNode;}else{t=undefined;}}if(!t){t=this._getShowDetailTarget(r,s);}if(q){this._fireShowDetail(s,t,j);}}else{this._fireHideDetail(s);}},_fireShowDetail:function(s,e,i){s.fireEvent("showDetail",{target:e,mode:"actionMode",point:i,bLassoEnd:true,action:"select"});},_fireHideDetail:function(s){s.fireEvent("hideDetail",{mode:"actionMode"});},_drawLassoRect:function(e,s){var i=this._lassoDecoration;if(!i){return;}var j=s.getProperties().get("interaction.selectability");if(!j){return;}var q=j.mode?j.mode.toUpperCase():j.mode;if(!j.plotLassoSelection||q===C.SELECTION_MODE.NONE||q===C.SELECTION_MODE.SINGLE||!s.getStatus("lassoStartPoint")){return;}e.data.originalEvent.preventDefault();i.moveTo(s.getBBox(s.BoxType.ROOT_NODE),e.data.point,s.getBBox(s.BoxType.PLOT_BOUND_NODE),e);},_getBoundSelection:function(s){return s.getNodes(s.NodeType.PLOT_BOUND_SELECTION,false);},_isCovered:function(e,j){var r=e.getBoundingClientRect();for(var i=-1;++i<j.length;){if(B.intersects(r,j[i])){return true;}}return false;},_getShowDetailTarget:function(s,e){var i=e.getProperties().get("interaction.selectByTimeAxisGroup");var j=[];if(i){j=S.getSelectedPeriods(e,s);}if(s.length===1||(i&&j.length===1)){var q=e.getNodes(e.NodeType.DATA_POINT_GROUP,false)[0];return D.findByDataPointId(q,s[0]);}},_getTargets:function(e,s){var i=s.getNodes(s.NodeType.DATA_POINT,false);return[].slice.call(i).filter(function(j){return this._isCovered(j,e);},this).map(function(j){var q=b.getData(j);return D.getDataPointId(j);});}};function h(v,e){return v.x*e.y-v.y*e.x;}function l(e,i){var x=e.point1.x;var y=e.point1.y;var j=e.point2.x;var q=e.point2.y;var r=i.point1.x;var s=i.point1.y;var t=i.point2.x;var u=i.point2.y;var w={"x":x-r,"y":y-s};var z={"x":j-r,"y":q-s};var E={"x":t-r,"y":u-s};var v=h(w,E)*h(z,E);w={"x":r-x,"y":s-y};z={"x":t-x,"y":u-y};E={"x":j-x,"y":q-y};return(v<=0&&h(w,E)*h(z,E)<=0)?true:false;}f._isContains=function(t,e){var i,j;var r=false;for(i=0,j=e.length-1;i<e.length;j=i++){if((e[i].y>t.y)!=(e[j].y>t.y)&&(t.x<(e[j].x-e[i].x)*(t.y-e[i].y)/(e[j].y-e[i].y)+e[i].x)){r=!r;}}return r;};function k(e,i){var r=[];e.forEach(function(j){r.push({"x":j.x+i.x,"y":j.y+i.y});});return r;}f._isIntersect=function(e,q){var i,j,r,s;for(i=1;i<e.length;i++){for(j=1;j<q.length;j++){r={"point1":e[i-1],"point2":e[i]};s={"point1":q[j-1],"point2":q[j]};if(l(r,s)){return true;}}}return false;};function m(s,e){var i=[];i.push({"x":s.x,"y":s.y});i.push({"x":e.x,"y":s.y});i.push({"x":e.x,"y":e.y});i.push({"x":s.x,"y":e.y});i.push({"x":s.x,"y":s.y});return i;}function n(s,e,i,j){var q=o.call(this,s);var r=j||s.getNodes(s.NodeType.DATA_POINT,false);var t=m(e,i);var u=s.getNodes(s.NodeType.PLOT_BOUND_SELECTION,false)[0].getBoundingClientRect(),v={x:u.left+window.pageXOffset,y:u.top+window.pageYOffset};return[].slice.call(r).filter(function(w){var x=this._isCovered(w,q);if(x){return true;}else{var y=b.getGraphicInfo(w);var z=k(y.areaPath,v);if(f._isIntersect(z,t)||f._isContains(e,z)){return true;}}return false;},this).map(function(w){return D.getDataPointId(w);});}function o(s){var e=this._lassoDecoration.getBoundingClientRect();var i=[];var j=this._getBoundSelection(s);if(!(j instanceof window.NodeList)&&!T.isArray(j)){j=[j];}j.forEach(function(q){var r=B.intersection(e,q.getBoundingClientRect());if(r){i.push(r);}});return i;}function p(s){var e=o.call(this,s);return this._getTargets(e,s);}return f;});define('sap/viz/chart/behavior/config/LassoBehaviorConfig',["sap/viz/chart/behavior/config/handler/LassoBehaviorHandler"],function(L){var e="v-m-root";var a=['info/timeseries_line','info/timeseries_column','info/timeseries_scatter','info/timeseries_bubble',"info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_stacked_combination","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];return[{"id":"lassoBehaviorDefinition","handler":L,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialized"},{"name":"beforeBehaviorUnloaded","method":"unloadClear"},{"name":"lassostart","targets":e,"excludeTargets":"v-m-scrollbarThumb","method":"lassoStart"},{"name":"lassomove","targets":e,"method":"lassoMove"},{"name":"lassoend","targets":e,"method":"lassoEnd"},{"name":"lassoend","targets":e,"supportedChartTypes":["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/trellis_area","info/trellis_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],"method":"lassoEndForArea"},{"name":"lassoend","targets":e,"supportedChartTypes":["info/combinationEx"],"method":"lassoEndForComboEx"}]}];});define('sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler',["sap/viz/framework/common/util/Constants",'sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/components/util/SeriesUtil",'sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM',"sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/ContextualDataUtil"],function(C,S,U,D,H,a,b,c,d,f,T,g){var B=S.BEHAVIOR;var h=C.CSS.CLASS;var L=C.LINE_TYPE;var j="datapoint";var k="dataline";var l=2;var m=h.LIGHT_LINE;var n="data-from";var o="data-to";var p=H.getColors;function q(e,i){return e&&e.getDataPointShape&&e.getDataPointShape(i);}function r(e,i,y,V,W){var X=f.getData(i);var Y=X[y?"next":"prev"];if(!Y){return;}var Z=i.parentNode;var $=D.findByDataPointId(Z,Y);var _=D.getDataPointId(i);var a1=y?[_,Y]:[Y,_];var b1=Z.querySelector("."+m+"["+n+"='"+a1[0]+"']"+"["+o+"='"+a1[1]+"']");if(V&&$&&D.isHighlighted($)){var c1=Z.querySelector("."+h.LINES_GROUP);var d1=f.getData(c1);var e1=e.isHorizontal();var f1=[f.getData($).translate.slice(),X.translate.slice(),];if(y){f1.reverse();}f1[0].id=a1[0];f1[1].id=a1[1];var g1=e.getSemanticManager();var h1=d1.color;var i1=null;var j1;var k1=e.getDataModel();var l1=w.getPlot(e,i);var m1=null;if(l1.getDefaultLineRenderer){m1=l1.getDefaultLineRenderer()?l1.getDefaultLineRenderer().expose:null;}var n1=b.parseSeriesLineType(l1.getData(),X.seriesIndex,g1);if(g1.hasDataPointLineStyle()){var o1=e.getEffectManager();var p1=[D.getContextByDataModel(i,k1),D.getContextByDataModel($,k1)];var q1=[D.getAdditionCtxByDataModel(i,k1),D.getAdditionCtxByDataModel($,k1)];h1=o1.register({fillColor:b.parseSemanticLineColor(p1,g1,h1,q1)});var r1=b.parseSemanticLineType(p1,g1,null,q1);if(r1===L.DASHED||r1===L.DOTTED||r1===L.DOT){n1=r1;}}var s1={graphic:{color:h1,width:d1.width},points:f1,isHorizontal:e1,ctx:f.getContext(i)};if(n1===C.LINE_TYPE.DASHED||n1===C.LINE_TYPE.DOTTED){i1=C.LINE_DASH_TYPE_ARRAY;}else if(n1===C.LINE_TYPE.DOT){i1="0,"+(d1.width*2);s1.graphic.linecap="round";}if(i1){s1.graphic.dash=i1;}var t1;if(W){t1=W(s1,m1)||m1.renderer(s1);}if(t1){if(b1){d.empty(b1);}else{b1=c.create("g");b1.setAttribute("class",m);b1.setAttribute("fill-opacity","1");b1.setAttribute("stroke-opacity","1");}b1.setAttribute(n,a1[0]);b1.setAttribute(o,a1[1]);b1.appendChild(t1);Z.insertBefore(b1,c1.nextElementSibling);}}else{if(b1){Z.removeChild(b1);}}}function s(e,i,y){var V=i.getProperties().get('interaction.selectByTimeAxisGroup');var W=t(i);if(!W){return false;}var X=W.mode?W.mode.toUpperCase():W.mode;if(!W.plotStdSelection||X===S.SELECTION_MODE.NONE||!y){return;}var Y=i.getStatus("selectedDataPoints");if(i.getStatus("rangeSelection")){i.setStatus("selectedDataPoints",[]);i.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:D.getNodes(Y,i),isAnyOtherSelected:false});i.setStatus("rangeSelection",false);}var Z=e.data;var $;if(V){var _=g.getDataPointsByTimeField(y,i);var a1=_.length,b1=this;$=[];_.forEach(function(dp){$.push(b1._getDataPoint(dp,i));});}else{$=this._getDataPoint(y,i);}var c1=this._hasDataPoint(i.getStatus("selectedDataPoints"),this._getDataPoint(y,i));i.fireEvent("processSelection",{targets:$,deselectable:true,ctrlKeyPressed:Z.ctrlKey});if(this._hasDataPoint(i.getStatus("selectedDataPoints"),this._getDataPoint(y,i))){i.fireEvent("showDetail",{target:y,mode:"actionMode",point:Z.point,action:"select"});}else{i.fireEvent("hideDetail",{target:y,mode:"actionMode",action:"deselect"}).setStatus("isHoveringDeselectedDataPoint",c1);}}function t(e){return e.getProperties().get("interaction.selectability");}function u(e,i,y){var V=e.getSize();var W=y.getMaskManager();var X={x:i.e,y:i.f,width:V.width,height:V.height};W.addRect(X);}function v(e,i,y){if(!y){return;}var V=e.data.point;if(i.getStatus("rangeSelection")){return;}var W=i.getStatus("hoveringDataPoint");var X=this._getDataPoint(y,i);var Y=this._hasDataPoint(i.getStatus("selectedDataPoints"),X);if(W){if(W===y){if(!i.getStatus("isHoveringDeselectedDataPoint")){i.fireEvent("showDetail",{target:y,mode:Y?"actionMode":"infoMode",point:V,action:"hover"});}return;}i.fireEvent("unhoverOnDataPoint",{targets:W,byKeyboard:e.data.byKeyboard});}if(W!==y){i.setStatus("isHoveringDeselectedDataPoint",false);}W=y;i.setStatus("hoveringLegend",false);i.fireEvent("hoverOnDataPoint",{targets:W,byKeyboard:e.data.byKeyboard}).fireEvent("showDetail",{target:y,mode:Y?"actionMode":"infoMode",point:V,action:"hover"}).setStatus("hoveringDataPoint",W).setStatus("hoveredDataPointId",D.getDataPointId(W));}function w(){}var x=w.prototype;x.standAloneInitialized=function(e,i){i.getProperties().origin.add({interaction:{selectability:{plotStdSelection:true}}});};x.initialize=function(e,i){i.setStatus("hoveringDataPoint",null);i.setStatus("isHoveringDeselectedDataPoint",false);};x.clickOnDataPoint=function(e,i){s.call(this,e,i,e.data.currentTarget);};x.hoverOnDataPoint=function(e,i){v.call(this,e,i,e.data.currentTarget);};x.clickOnDataLabel=function(e,i){s.call(this,e,i,D.getDataPointByDataLabel(e.data.currentTarget,i));};x.hoverOnDataLabel=function(e,i){v.call(this,e,i,D.getDataPointByDataLabel(e.data.currentTarget,i));};x.isHoveringDataPointHighlighted=function(e){var i=e.getStatus("highlightedDataPoints");var y=e.getStatus("hoveringDataPoint");var V=false;var W;if(y){W=D.getDataPointId(y);if(i&&i.length>0&&i.indexOf(W)>=0){V=true;}}return V;};x.hoverOnNonDataPoint=function(e,i){i.setStatus("isHoveringDeselectedDataPoint",false);var y=i.getStatus("hoveringDataPoint");if(y&&!this.isHoveringDataPointHighlighted(i)){i.fireEvent("unhoverOnDataPoint",{targets:y});}i.setStatus("hoveringDataPoint",null);i.fireEvent("hideDetail",{mode:"infoMode",target:"nonDataPoint",action:"interrupt"});};x.hoverOnTimeArea=function(e,i){a.processTimeCursor(e,i);};x.selectDataPoint=function(i,y){var V=H.turnToArray(i.data.targets);V.forEach(function(e){var W=d3.select(e);W.classed(h.DATAPOINTDEFAULT,false);W.classed(h.DATAPOINTSELECTED,true);});};x.deselectDataPoint=function(i,y){var V=H.turnToArray(i.data.targets);V.forEach(function(e){var W=d3.select(e);W.classed(h.DATAPOINTSELECTED,false);if(!W.classed(h.DATAPOINTHOVER)){W.classed(h.DATAPOINTDEFAULT,true);}});};x.hoverEffectOnDataPoint=function(i,y){var V=H.turnToArray(i.data.targets);V.forEach(function(e){var W=d3.select(e);W.classed(h.DATAPOINTDEFAULT,false);W.classed(h.DATAPOINTHOVER,true);});};x.unhoverOnDataPoint=function(i,y){y.setStatus("hoveringDataPoint",null);var V=H.turnToArray(i.data.targets);V.forEach(function(e){var W=d3.select(e);W.classed(h.DATAPOINTHOVER,false);if(!W.classed(h.DATAPOINTSELECTED)){W.classed(h.DATAPOINTDEFAULT,true);}});};function z(y,V,W,X,Y){var Z,$,_,a1,b1,c1,d1,e1,f1,g1,h1;var i1=null;var j1=null;var k1=X.getSemanticManager();var l1=[];var m1={points:[]};var i=0,n1=y.length;if(k1.hasDataPointLineStyle()){var o1=X.getEffectManager();k1.beginSession();for(;i<n1;i++){$=y[i];if(j1!==$.seqId-1||i1!==$.seriesIndex){if(m1.points.length>=2){Z=Y.getSeriesStyle(i1);m1.width=Z.lineWidth;m1.color=a1;m1.type=c1;l1.push(m1);}g1=null;m1={points:[]};}e1=[$.rawData.dp.context()];h1=[$.rawData.dp.additionCtx()];d1=y[i+1];f1=$.data.translate.slice();f1.id=$.dataId;if(g1==null){m1.points.push(f1);}g1=null;if(d1&&$.seqId===d1.seqId-1&&$.seriesIndex===d1.seriesIndex){e1.push(d1.rawData.dp.context());h1.push(d1.rawData.dp.additionCtx());g1=d1.data.translate.slice();g1.id=d1.dataId;}Z=Y.getSeriesStyle($.seriesIndex);_=o1.register({fillColor:b.parseSemanticLineColor(e1,k1,Z.color,h1)});b1=b.parseSemanticLineType(e1,k1,null,h1);if(m1.points.length>=2&&(a1!==_||c1!==b1)){Z=Y.getSeriesStyle(i1);m1.width=Z.lineWidth;m1.color=a1;m1.type=c1;l1.push(m1);g1=null;m1={points:[f1]};}else if(g1){m1.points.push(g1);}a1=_;c1=b1;i1=$.seriesIndex;j1=$.seqId;}if(m1.points.length>=2){Z=Y.getSeriesStyle(i1);m1.width=Z.lineWidth;m1.color=a1;m1.type=c1;l1.push(m1);}k1.endSession();}else{for(;i<n1;i++){$=y[i];if(m1.points.length>0&&(j1!==$.seqId-1||i1!==$.seriesIndex)){Z=Y.getSeriesStyle(i1);m1.width=Z.lineWidth;m1.color=Z.color;m1.type=Z.lineType;l1.push(m1);m1={points:[]};}f1=$.data.translate.slice();f1.id=$.dataId;m1.points.push(f1);i1=$.seriesIndex;j1=$.seqId;}if(m1.points.length>0){Z=Y.getSeriesStyle(i1);m1.width=Z.lineWidth;m1.color=Z.color;m1.type=Z.lineType;l1.push(m1);}}var p1=X.isHorizontal();var q1=w.getLineRenderer(X);var r1=null;if(Y.getDefaultLineRenderer){r1=Y.getDefaultLineRenderer().expose;}l1.forEach(function(e){if(e.type===L.DASHED||e.type===L.DOTTED){e.strokeDashArray=C.LINE_DASH_TYPE_ARRAY;}else if(e.type===L.DOT){e.strokeDashArray="0,"+(e.width*2);e.linecap="round";}delete e.type;e.isHorizontal=p1;e.offset=W;e.renderer=q1;e.defaultLineRenderer=r1;V.addPolyLine(e);});}function A(y,V,W,X,Y){var Z=X.getProperties();var $,_,a1,b1;var c1=null;var d1=Z.get('interaction.selected.color');var e1=X.isHorizontal();var f1=X.getSemanticManager();var g1=[];var h1={points:[]};var i=0,i1=y.length;if(f1.hasDataPointColorStyle()){var j1=X.getEffectManager();f1.beginSession();for(;i<i1;i++){$=y[i];_=H.getColors(X,null,d1,null,null,null,{color:b.parseSemanticColor($,f1)});b1=_.customizedColor||_.defaultColor;if(h1.points.length!==0&&(c1!==$.seriesIndex||a1!==b1)){h1.color=a1;g1.push(h1);h1={points:[]};}b.addRectSeriesPathPoints(h1.points,$,!!$.negative,e1);c1=$.seriesIndex;a1=b1;}f1.endSession();}else{for(;i<i1;i++){$=y[i];if(h1.points.length!==0&&c1!==$.seriesIndex){h1.color=a1;g1.push(h1);h1={points:[]};a1=null;}b.addRectSeriesPathPoints(h1.points,$,!!$.negative,e1);if(!a1){_=H.getColors(X,null,d1,null,null,null,{color:$.graphic.fill});a1=_.customizedColor||_.defaultColor;}c1=$.seriesIndex;}}if(h1.points.length>0){h1.color=a1;g1.push(h1);}g1.forEach(function(e){e.isHorizontal=e1;e.offset=W;e.width=1;e.pointerEvent="none";V.addPolyLine(e);});}function E(e,i){if(!i.getStatus("rangeSelection")){return;}var y=i.getBBox(i.BoxType.RANGE_SELECTION);var V=e.data.point;if(!(V.x>=y.left&&V.x<=y.right&&V.y>=y.top&&V.y<=y.bottom)){return;}i.fireEvent("showDetail",{mode:'actionMode',point:e.data.point,bLassoEnd:true});}function F(e,i){if(i.getStatus("rangeSelection")){var y=i.getBBox(i.BoxType.RANGE_SELECTION);var V=e.data.point;if(!!y&&!!V&&V.x>=y.x&&V.x<=y.x+y.width&&V.y>=y.y&&V.y<=y.y+y.height){i.fireEvent("showDetail",{mode:'actionMode',point:V,bLassoEnd:true});return true;}}return false;}w.showDetailForRangeSelectionWhenHover=E;w.showDetailForRangeSelection=F;w.updateRangeEffect=function(e,i){if(!P(e,i)){return;}i.fireEvent({name:"changeRangeEffect",data:{direction:"down",target:e.data.target}});};w.recoverRangeEffect=function(e,i){if(!P(e,i)){return;}i.fireEvent({name:"changeRangeEffect",data:{direction:"up",target:e.data.target}});};w.renderLightLine=function(e,i,y,V){r(e,i,true,y,V);r(e,i,false,y,V);};w.getLineRenderer=function(e,i){var y=w.getPlot(e,i);return y?y.getLineRenderer():null;};w.getPlot=function(e,i){var y;var V;if(i&&f.getData(i)){V=f.getData(i).trellisInfo;}if(V){y=e.getModule("main").getChildPlot(V);}else{y=e.getModule("main.plot");}return y;};w.selectOnLineOnNormalMode=function(i,y){var V=H.turnToArray(i.data.targets);var W=y.getProperties();y._getDecorationLayer().clear();y.fireEvent(i,true);var X=W.get('interaction.selected');var Y=T.isExist(W.get('plotArea.markerRenderer'));var Z;V.forEach(function(e){var $=f.getData(e);var _=!$.isZeroValue;D.highlight(e);Z=w.getLineRenderer(y,e);w.renderLightLine(y,e,true,Z);H.drawStroke(y,e,'path, rect',X.stroke,1,undefined,$);H.drawFill(y,e,'path, rect',X,Y,_);});};function G(e,i){var y=I(e,i);if(!y){return;}var V=y.elements;var W=y.dlLayer;var X=y.offset;var Y=y.plotModule;var Z=y.actionLayer;var $=a.getDpInfos(Y,V);z($,W,X,i,Y);Z.drawLayer(W);}w.selectOnLineDuringBigData=function(e,i){return G(e.data.targets,i);};w.highlightOnLineDuringBigData=function(e,i){var y=i.getStatus('selectedDataPoints');var V=y.concat(e.data.targets);return G(V,i);};w.unhighlightOnLineDuringBigData=function(e,i){var y=i.getStatus('selectedDataPoints');return G(y,i);};w.selectOnBarOnNormalMode=function(i,y){var V=H.turnToArray(i.data.targets);var W=y.getProperties();y._getDecorationLayer().clear();y.fireEvent(i,true);var X=W.get('interaction.selected');var Y=T.isExist(W.get('plotArea.markerRenderer'));V.forEach(function(e){var Z=f.getData(e);var $="rect";if(Z.pattern==="noFill"){$="rect, path";}H.drawStroke(y,e,'rect',X.stroke,1,undefined,Z);H.drawFill(y,e,$,X,Y);});};w.highlightOnCombDuringBigData=function(e,i){var y=i.getStatus('selectedDataPoints');var V=y.concat(e.data.targets);return J(V,i);};w.unhighlightOnCombDuringBigData=function(e,i){var y=i.getStatus('selectedDataPoints');return J(y,i);};function I(e,i){var y=H.turnToArray(e);var V=i._getDecorationLayer();V.clear(k);var W=i.getModule("main.plot");if(!W){return null;}var X=i.getOffsetMatrix(i.OffsetType.PLOT_NODE,true);var Y=W.getOffset();Y.x+=X.e;Y.y+=X.f;var Z=V.createLayer(k);u(W,X,Z);return{elements:y,dlLayer:Z,offset:Y,plotModule:W,actionLayer:V};}function J(e,y){var V=I(e,y);if(!V){return;}var W=V.elements;var X=V.dlLayer;var Y=V.offset;var Z=V.plotModule;var $=V.actionLayer;var _=a.getDpInfos(Z,W);var a1=[];var b1=[];var c1=y.getDataModel();for(var i=0;i<_.length;i++){var d1=_[i];var e1=c1.getDataPoint(d1.dataId);if(e1){var f1=q(Z,e1);if(f1==="line"){b1.push(d1);}else if(f1==="bar"){a1.push(d1);}}}A(a1,X,Y,y,Z);z(b1,X,Y,y,Z);$.drawLayer(X);}function K(e,i){var y=I(e,i);if(!y){return;}var V=y.elements;var W=y.dlLayer;var X=y.offset;var Y=y.plotModule;var Z=y.actionLayer;var $=a.getDpInfos(Y,V);A($,W,X,i,Y);Z.drawLayer(W);}w.selectOnBarDuringBigData=function(e,i){return K(e.data.targets,i);};w.highlightOnBarDuringBigData=function(e,i){var y=i.getStatus('selectedDataPoints');var V=y.concat(e.data.targets);return K(V,i);};w.unhighlightOnBarDuringBigData=function(e,i){var y=i.getStatus('selectedDataPoints');return K(y,i);};w.hoverOnLineDuringBigData=function(e,y,V){if(!y.isBigDataMode()||y.getStatus("rangeSelection")){return;}var W=e.data.originalEvent;var X=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var Y={left:e.data.pointToChart.x-X.e,top:e.data.pointToChart.y-X.f};var Z=y.getModule("main.plot");var $=Z.getOffset();Y.left-=$.x;Y.top-=$.y;var _=y._getDecorationLayer();_.clear(j);var a1,b1;var c1=y.getDataModel();if(!V){var d1=Z.hitTest(Y);if(d1.length===0){y.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return;}for(var i=0;i<d1.length;i++){V=d1[i];b1=c1.getDataPoint(V.dataId);if(b1){a1=V.data.translate;break;}}}else{b1=c1.getDataPoint(V.dataId);a1=V.data.translate;}if(b1==null){return;}$=Z.getOffset();$.x+=X.e+a1[0];$.y+=X.f+a1[1];var e1=y.getProperties().get('interaction.hover');var f1=y.getSemanticManager();var g1=f1.analyzeDataPoint("color",b1.context(),false,b1.additionCtx());if(g1&&g1.color){V.graphic.fill=g1.color;}var h1={color:V.graphic.fill,shape:V.graphic.shape,r:V.graphic.size};var i1=H.getColors(y,null,e1.stroke.color,null,V.graphic.drawingEffect,null,h1),j1=H.getColors(y,null,e1.color,null,V.graphic.drawingEffect,null,h1);var k1=_.createLayer(j,$);var l1=e1.stroke&&e1.stroke.visible===false;k1.addPath({d:c.generateMarkerPath({type:V.graphic.shape,rx:V.graphic.size/2,ry:V.graphic.size/2,borderWidth:2}),stroke:l1?'none':(i1.customizedColor?i1.customizedColor:i1.defaultColor),pointerEvent:"none",fill:j1.customizedColor?j1.customizedColor:j1.defaultColor,opacity:e1.opacity?e1.opacity:1,strokeWidth:l1?'none':(e1.stroke&&e1.stroke.width?e1.stroke.width:"2px")});_.drawLayer(k1);var m1="infoMode";if(a.hasDataPoint(y.getStatus("selectedDataPoints"),b1.id)){m1="actionMode";}y.fireEvent("showTooltipHoverOnPlot",{target:b1.id,mode:m1,point:{x:e.data.point.x,y:e.data.point.y-Y.top+a1[1]},action:"hover"});};var M=w.getGroupTargets=function(e,i){var y=H.turnToArray(e.data.targets),V=[];y.forEach(function(W){if(V.indexOf(W)===-1){var X=g.getDataPointsByTimeField(W,i);V=V.concat(X);}});return V;};w.hoverEffectDuringNormalMode=function(i,y){var V=y.getProperties().get('interaction.selectByTimeAxisGroup');if(V){var W=M(i,y);if(W.length>0){i.data.targets=W;}}y.fireEvent(i,true);var X=y.getProperties();var Y=H.turnToArray(i.data.targets);var Z=X.get('interaction.hover');var $=T.isExist(X.get('plotArea.markerRenderer'));var _=y.getModule("main.plot");var a1=y.getDataModel();Y.forEach(function(e){if(y.isTrellis()){H.drawStroke(y,e,'rect',Z.stroke,2);H.drawFill(y,e,'rect, path',Z,$);}else{var b1=D.getDataPointId(e);var c1=a1.getDataPoint(b1);if(c1){var d1=q(_,c1);if(d1==="line"){H.drawStroke(y,e,'path, rect',Z.stroke,2);H.drawFill(y,e,'path, rect',Z,$,true);}else{if(!i.data.byKeyboard){var e1=f.getData(e);H.drawStroke(y,e,'rect',Z.stroke,2,undefined,e1);}H.drawFill(y,e,'rect, path',Z,$);}}}});};w.unhoverEffectDuringNormalMode=function(i,y){var V=y.getProperties().get('interaction.selectByTimeAxisGroup');if(V){var W=M(i,y);if(W.length>0){i.data.targets=W;}}y.fireEvent(i,true);var X=T.isArray(i.data.targets)?i.data.targets[0]:i.data.targets;if(T.isExist(X)){var Y=X.parentNode;var Z=d3.select(Y).selectAll('.'+h.ZEROVALUEHOVER);Z.remove();}var $=H.turnToArray(i.data.targets);var _=y.getProperties();var a1;var b1=T.isExist(_.get('plotArea.markerRenderer'));var c1=y.getModule("main.plot");var d1=y.getDataModel();$.forEach(function(e){var e1=D.getDataPointId(e);var f1=d1.getDataPoint(e1);var g1=q(c1,f1);var h1;var i1=1;var j1;if(d3.select(e).classed(h.DATAPOINTSELECTED)){a1=_.get('interaction.selected');h1=true;}else{if(y.shouldUseDeselectedColor()){a1=_.get('interaction.deselected');}else{a1=_.get('plotArea.dataPoint');j1=f.getData(e);if(j1){i1=j1.strokeWidth;}}h1=false;}if(g1==="line"){H.drawStroke(y,e,'path, rect',a1.stroke,i1);H.drawFill(y,e,'path, rect',a1,b1,true);if(!h1){Q(y,e);}}else{j1=f.getData(e);H.drawStroke(y,e,'rect',a1.stroke,i1,undefined,j1);H.drawFill(y,e,'rect, path',a1,b1);}});};w.hoverOnBarDuringBigData=function(e,y,V){y.setStatus("hoveringOnPlotEvent",null);if(!y.isBigDataMode()||y.getStatus("rangeSelection")){return;}var W=e.data.originalEvent;var X=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var Y={left:e.data.pointToChart.x-X.e,top:e.data.pointToChart.y-X.f};var Z=y.getModule("main.plot");var $=Z.getOffset();Y.left-=$.x;Y.top-=$.y;var _=y._getDecorationLayer();_.clear(j);var a1=_.createLayer(j);u(Z,X,a1);var b1,c1;var d1=y.getDataModel();if(!V){var e1=Z.hitTest(Y);if(e1.length===0){y.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return;}for(var i=0;i<e1.length;i++){V=e1[i];c1=d1.getDataPoint(V.dataId);if(c1){b1=V.position;break;}}}else{c1=d1.getDataPoint(V.dataId);b1=V.position;}if(c1==null){return;}y.setStatus("hoveringOnPlotEvent",e);$=Z.getOffset();$.x+=X.e;$.y+=X.f;var f1=y.getProperties().get('interaction.hover');var g1=y.getSemanticManager();var h1=g1.analyzeDataPoint("color",c1.context(),false,c1.additionCtx());if(h1&&h1.color){V.graphic.fill=h1.color;}var i1={color:V.graphic.fill};var j1=H.getColors(y,null,"darken(20%)",null,V.graphic.drawingEffect,null,i1);var k1=H.getColors(y,null,f1.color,null,V.graphic.drawingEffect,null,i1);var l1=k1.defaultColor;var m1=j1.customizedColor;if(k1.customizedColor){l1=m1=k1.customizedColor;}a1.addRect({x:b1.x+$.x,y:b1.y+$.y,width:b1.width,height:b1.height,stroke:m1,pointerEvent:"none",fill:l1,opacity:!isNaN(+f1.opacity)?+f1.opacity:1,strokeWidth:"2px"});_.drawLayer(a1);var n1="infoMode";if(a.hasDataPoint(y.getStatus("selectedDataPoints"),c1.id)){n1="actionMode";}y.fireEvent("showTooltipHoverOnPlot",{target:c1.id,mode:n1,point:{x:e.data.point.x,y:e.data.point.y},action:"hover"});};function N(e,i,V,W,X,Y){if(e.getStatus("rangeSelection")){var Z=e.getStatus("selectedDataPoints");e.setStatus("selectedDataPoints",[]);e.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:D.getNodes(Z,e),isAnyOtherSelected:false});e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null);}e.fireEvent("processSelection",{targets:[(V.id).toString()],deselectable:true,ctrlKeyPressed:i.data.ctrlKey});if(a.hasDataPoint(e.getStatus("selectedDataPoints"),V.id)){var y;if(X){y=i.data.point.y-W.top+Y.data.translate[1];}else{y=i.data.point.y;}e.fireEvent("showTooltipClickBigData",{target:V.id,mode:"actionMode",point:{x:i.data.point.x,y:y}});}else{e.fireEvent("hideTooltipClickBigData",{target:V.id,mode:"actionMode"});e._getDecorationLayer().clear(j);}}function O(e,i){e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null);e.fireEvent(i,true);}w.clickOnCombDuringBigData=function(e,y){if(F(e,y)){return;}if(y.isBigDataMode()){var V=e.data.originalEvent;var W=V.target;var X=H.tryToFindNode("v-m-plot",W,y._rootNode);if(X){var Y=y.getBBox(y.BoxType.PLOT_NODE);var Z=H.getLayerCoord(e.data.point,Y);var $=y.getModule("main.plot");var _=$.hitTest(Z,true);var a1=y.getDataModel();for(var i=0;i<_.length;i++){var b1=_[i];var c1=a1.getDataPoint(b1.dataId);if(c1){var d1=q($,c1);if(d1==="line"){N(y,e,c1,Z,true,b1);return;}else if(d1==="bar"){N(y,e,c1,Z);return;}}}}}if(!y.getProperties().get("interaction.enableDeselectAll")){return;}O(y,e);};w.clickOnLineDuringBigData=function(e,y){if(F(e,y)){return;}if(y.isBigDataMode()&&y.getProperties().get("interaction.selectability.plotStdSelection")){var V=e.data.originalEvent;var W=V.target;var X=H.tryToFindNode("v-m-plot",W,y._rootNode);if(X){var Y=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var Z={left:e.data.pointToChart.x-Y.e,top:e.data.pointToChart.y-Y.f};var $=y.getModule("main.plot");var _=$.getOffset();Z.left-=_.x;Z.top-=_.y;var a1=$.hitTest(Z,y.isCombChart());var b1=y.getDataModel();for(var i=0;i<a1.length;i++){var c1=b1.getDataPoint(a1[i].dataId);if(!c1){continue;}N(y,e,c1,Z,true,a1[i]);return;}}}O(y,e);};w.clickOnBarDuringBigData=function(e,y){if(F(e,y)){return;}if(!y.isBigDataMode()||!y.getProperties().get("interaction.selectability.plotStdSelection")){y.setStatus("rangeSelection",false);y.setStatus("rangeDomain",null);y.fireEvent(e,true);return;}var V=e.data.originalEvent;var W=V.target;var X=H.tryToFindNode("v-m-plot",W,y._rootNode);if(X){var Y=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var Z={left:e.data.pointToChart.x-Y.e,top:e.data.pointToChart.y-Y.f};var $=y.getModule("main.plot");var _=$.getOffset();Z.left-=_.x;Z.top-=_.y;var a1=$.hitTest(Z,y.isCombChart());var b1=y.getDataModel();for(var i=0;i<a1.length;i++){var c1=b1.getDataPoint(a1[i].dataId);if(!c1){continue;}N(y,e,c1,Z,false);return;}}O(y,e);};w.hoverOnCombDuringBigData=function(e,y){y.setStatus("hoveringOnPlotEvent",null);if(!y.isBigDataMode()||y.getStatus("rangeSelection")){return;}var V=e.data.originalEvent;var W=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var X={left:e.data.pointToChart.x-W.e,top:e.data.pointToChart.y-W.f};var Y=y.getModule("main.plot");var Z=Y.getOffset();X.left-=Z.x;X.top-=Z.y;var $=Y.hitTest(X,true);var _=y._getDecorationLayer();if($.length===0){_.clear(j);y.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return;}var a1,b1;var c1=y.getDataModel();for(var i=0;i<$.length;i++){b1=$[i];a1=c1.getDataPoint(b1.dataId);if(a1){break;}}if(a1){if(q(Y,a1)==="bar"){w.hoverOnBarDuringBigData(e,y,b1);}else{w.hoverOnLineDuringBigData(e,y,b1);}}else{_.clear(j);}};w.selectOnCombinationDuringBigData=function(e,y){var V=H.turnToArray(e.data.targets);var W=y.getProperties();var X=y._getDecorationLayer();X.clear(k);var Y=y.getModule("main.plot");if(!Y){return;}var Z=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var $=Y.getOffset();$.x+=Z.e;$.y+=Z.f;var _=X.createLayer(k);u(Y,Z,_);var a1=[];var b1=[];for(var i=0;i<V.length;i++){var c1=Y.mappingDataPointInfo(V[i]);if(c1){var d1=q(Y,c1.seriesIndex);if(d1==="line"){b1.push(c1);}else if(d1==="bar"){a1.push(c1);}}}a1=a1.sort(function(e1,f1){return e1.seqId-f1.seqId;});b1=b1.sort(function(e1,f1){return e1.seqId-f1.seqId;});A(a1,_,$,y,Y);z(b1,_,$,y,Y);X.drawLayer(_);};var R=S.RANGE_SELECTION.OFFSET;function P(e,i){var y=e.data.point;var V=i.getBBox(i.BoxType.RANGE_SELECTION);var W=false;if(V&&V.x+R<y.x&&y.x<V.x+V.width-R){W=true;}return W;}x.clearPlot=function(e,i){var y=i.getNodes(i.NodeType.DATA_POINT_GROUP);function V(){var Y=i.getProperties();if(Y){var Z=Y.get('interaction.deselected.opacity');y.each(function(){this.setAttribute("fill-opacity",Z);this.setAttribute("stroke-opacity",Z);});}}function W(){y.each(function(){this.removeAttribute("fill-opacity");this.removeAttribute("stroke-opacity");});}var X=e.data.isGray;if(U.isIE()&&U.version()<=9){if(X){window.setTimeout(V,0);}else{window.setTimeout(W,0);}}else{if(X){V();}else{W();}}};x._getDataPoint=function(e,i){return D.getDataPointId(e);};x._hasDataPoint=function(e,i){return a.hasDataPoint(e,i);};w.clearForTime=function(e,i){i.fireEvent(e,true);if(!e.data.rangeSelection){i._getDecorationLayer().clear();i._getActionLayer().clear();}};w.clickOnNonSelection=function(e,i,y){if(!i.getProperties().get("interaction.enableDeselectAll")){return;}if(y.indexOf(i._getChartType())>-1){if(F(e,i)){return;}i.setStatus("rangeSelection",false);i.setStatus("rangeDomain",null);}i.fireEvent(e,true);};w.cleanBar=function(e,i){var y=e.data.isGray;var V=e.data.rangeSelection;var W=V&&V!=="clear";var X=i.getProperties();if(i.isBigDataMode()){var Y=i.getNodes(i.NodeType.BAR_SERIES,false);if(y||W){var Z=X.get('interaction.deselected.color');Y.forEach(function($){var _=p(i,$,Z);var a1=_.customizedColor||_.defaultColor;$.setAttribute("stroke",a1);});}else{Y.forEach(function($){var _=f.getData($);var a1=_.color;$.setAttribute("stroke",a1);});}}};w.cleanLine=function(i,y){var V=i.data.isGray;var W=i.data.rangeSelection;var X=W&&W!=="clear";var Y=y.getProperties();var Z=Y.get('interaction.deselected');var $=y.getNodes(y.NodeType.LINE,false);$.forEach(function(e){var _=p(y,e,Z.color);if((V||X)&&_.customizedColor){e.setAttribute('stroke',_.customizedColor);}else{e.setAttribute('stroke',_.defaultColor);}});};var Q=w.setMakerOpacity=function(i,e){var y=f.getData(e);if(!(y.type&&y.type.toLowerCase()==='line')){return;}var V=i.getProperties();var W=V.has("plotArea.line.marker.visible")?V.get("plotArea.line.marker.visible"):V.get("plotArea.marker.visible");var X=i.getModule("main.plot");if(X&&X.isMarkerVisible){W=X.isMarkerVisible();}var Y=e.firstChild;if(!W){Y.setAttribute("fill-opacity","0");Y.setAttribute("stroke-opacity","0");}};return w;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfig',["sap/viz/framework/common/util/Constants","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler"],function(C,D){var a=C.CSS.CLASS;var d=a.DATAPOINT;var b=a.DATALABEL;var c=a.AREA;var e=a.AREA_POINT;var s=a.AREA_SELECTED;var f=["info/timeseries_line","info/timeseries_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_stacked_combination","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];return[{"id":"dataPointBehaviorDefinition","handler":D,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialize"},{"name":"click","targets":d,"excludeTargets":["v-m-action-layerrange"],"method":"clickOnDataPoint"},{"name":"hover","targets":d,"method":"hoverOnDataPoint"},{"name":"click","targets":b,"excludeTargets":["v-m-action-layerrange"],"method":"clickOnDataLabel"},{"name":"hover","targets":b,"method":"hoverOnDataLabel"},{"name":"hover","excludeTargets":[d,b,c,e,s,],"method":"hoverOnNonDataPoint"},{"name":"selectDataPoint","method":"selectDataPoint"},{"name":"deselectDataPoint","method":"deselectDataPoint"},{"name":"hoverOnDataPoint","method":"hoverEffectOnDataPoint"},{"name":"unhoverOnDataPoint","method":"unhoverOnDataPoint"},{"name":"clearPlot","method":"clearPlot"},{"name":"hover","supportedChartTypes":f,"targets":["v-m-root","v-m-action-layerrange"],"method":"hoverOnTimeArea"}]}];});define('sap/viz/chart/behavior/config/tooltip/TooltipUtils',["sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/format/UnitFormat"],function(F,T,L,U){var I="Invalid date";var a=U.SUPPORT_CUSTOM_COMPONENTS.TOOLTIP;function g(e,h,u,i,j){if(!e){return"";}var r,p;if(T.isString(h)){r=h;}else if(T.isPlainObject(h)){var s=h[i];if(T.isArray(s)){r=s[0];p=s[1];}else if(T.isString(s)){r=s;}}else if(T.isArray(h)){r=h[0];p=h[1];}p=p||F.getPercentagePattern(2);var o={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.TOOLTIP)};var k=U.format(e.value,r,u,o);if(j){k+=" "+j;}k+=" (";k+=U.format(e.percentage,p,u,o);k+=")";return k;}function f(e,p,s,n,h){if(!T.isArray(e.data)){return e;}var j=e.data;var l=p.get("tooltip.bodyMeasureValue.type");var m=p.get('general.showAsUTC');for(var i=-1,k=0;++i<j.length;){var r=j[i];var v=r.value;var o=r["value.d"];var q=r.id;if(v===null){continue;}var t=p.get("tooltip.formatString");var u=r.formatString;var w=r.formatString;if(T.isArray(w)){w=w[0];}var x=null;var y=r.bothValue;if(!r.bTimeRange&&r.type==="Measure"){if(r.strValue!=null){v=r.strValue;}if(j.timeMeasure!==undefined&&j.timeMeasure===k){r.value=F.format(new Date(parseInt(v)),w||F.DEFAULT_FORMAT_DATE_TIME,m);}else{var z=p.get("tooltip.unitFormatType");t=t||u;if(y&&l&&l==="valueAndPercentage"){r.value=g(y,t,z,q,r.unit);}else{var A=y&&l==="percentage";if(s){var B=s._getChartType();if(B&&B.indexOf("timeseries_100_stacked_column")>-1){A=true;l="percentage";}}var C=y&&l==="value";if(T.isPlainObject(t)){x=t[q];if(T.isArray(x)){x=A?x[1]:x[0];}}else if(T.isString(t)){x=t;}else if(T.isArray(t)){x=A?t[1]:t[0];}if(A){x=x||F.getPercentagePattern(2);v=y?y[l]:v;}else if(C){v=y?y[l]:v;}var D={decimalFormatString:U.getDecimalFormatString(a)};var E=h||U.format;r.value=E(v,x,z,D);if(!n&&r.unit&&(!y||C)){r.value+=" "+r.unit;}}}++k;}else if(r.type==="Dimension"&&((j.timeDimensions!==undefined&&j.timeDimensions.indexOf(i)>=0))){b(r,t,m);}}return e;}function b(r,e,i){var v=r["value.d"],h,m=r.formatString;if(r.timeAxis){if(v&&T.isString(v)){r.value={day:v};}else{r.value=r.timeAxis.getFormatTimeValue(r.value);}}else{var j=F.DEFAULT_FORMAT_DATE_TIME;var D=new Date(r.value);if(!isNaN(D.getTime())){if(T.isExist(e)&&T.isExist(e[r.id])){h=e[r.id];}h=h||m||j;r.value={day:F.format(D,h,i)};}else{r.value={day:L.get('IDS_INVALID_DATE')||I};}if(v!=null){r.value={day:v};}}}function c(s,e,r){var h={};if(e){if(e.patternFill){h.pattern=e.patternFill;}else if(e.pattern){h.pattern=e.pattern;}if(e.color){h.color=e.color;if(e.actual&&h.color["v-primary"]){h.color["v-primary"]["id"]=e.actual;}if(e.additional&&h.color["v-additional"]){h.color["v-additional"]["id"]=e.additional;}if(e.forecast&&h.color["v-forecast"]){h.color["v-forecast"]["id"]=e.forecast;}}if(e.fill){h.color=e.fill;}if(e.shape){h.shape=e.shape;}if(e.type){h.type=e.type;}if(e.type==='line'){d(s,h,e,r);}}return h;}function d(s,e,h,r){var i=s.getSemanticManager();var j=h.seriesIndex;var p=s.getModule("main.plot");var k=p.getSeriesStyle(j,null,true);e.lineInfo={};if(r){var o=i.getOthersStyle('color,lineType,lineColor');if(r.properties&&r.properties.lineColor){e.lineInfo.lineColor=r.properties.lineColor;}else{if(!i.isOverrideMode()){e.lineInfo.lineColor=h.color;}else{e.lineInfo.lineColor=o.properties.lineColor||o.properties.color;if(!e.lineInfo.lineColor){e.lineInfo.lineColor=k&&k.color||"#000000";}}}e.lineInfo.lineType=k&&k.lineType;if(r.properties&&r.properties.lineType){e.lineInfo.lineType=r.properties.lineType;}else if(o.lineType){e.lineInfo.lineType=o.lineType;}}else{if(k){e.lineInfo.lineColor=k.color;e.lineInfo.lineType=k.lineType;}}var l=s.getProperties();if(l.get("plotArea.dataPoint.stroke.visible")){e.stroke={};e.stroke.visible=true;e.stroke.color=l.get("plotArea.dataPoint.stroke.color");}}return{format:f,formatTimeDimension:b,buildEventGraphicInfo:c};});define('sap/viz/chart/behavior/config/handler/TooltipTimerHandler',['sap/viz/framework/core/config'],function Setup(c){var S={Cleared:"Cleared",Active:"Active",Standby:"Standby",Appeared:"Appeared",Selected:"Selected",Deselected:"Deselected"};var a=1000;var b=100;var H=5000;var D=1000;function T(){this._init();}T.prototype.setShowTooltipHandler=function(d){this._showHandler=d;};T.prototype.setHideTooltipHandler=function(d){this._hideHandler=d;};T.prototype.setMode=function(m){this._mode=m;};T.prototype._setStatus=function(s){this._status=s;var h="_"+S[s].toLowerCase()+"Handler";this[h]();};T.prototype._clearedHandler=function(){this._isFirstShow=true;this._hideHandler();};T.prototype._activeHandler=function(){this._hideHandler();this._currentTime=Date.now();if(!this._isFirstShow&&this._currentTime-this._lastTime<D){this._timer=b;}else{this._timer=a;}if(this._showTimeOut){clearTimeout(this._showTimeOut);}function s(){this._setStatus(S.Appeared);}var d=c.globalSetting("disableTooltipTimer");if(d){s.call(this);}else{this._showTimeOut=setTimeout(s.bind(this),this._timer);}};T.prototype._standbyHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._hideHandler();};T.prototype._appearedHandler=function(){this._lastTime=Date.now();this._isFirstShow=false;this._showHandler();if(this._mode!=="actionMode"){if(this._hideTimeOut){clearTimeout(this._hideTimeOut);}var h=function(){this._setStatus(S.Cleared);};var d=c.globalSetting("disableTooltipTimer");if(!d){this._hideTimeOut=setTimeout(h.bind(this),this._hideTimer);}}};T.prototype._selectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._showHandler();this._lastTime=Date.now();};T.prototype._deselectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._hideHandler();};T.prototype.hover=function(t){switch(this._status){case S.Cleared:if(t!=="nonDataPoint"){this._setStatus(S.Active);}break;case S.Active:if(t==="nonDataPoint"){this._setStatus(S.Standby);}else{this._setStatus(S.Active);}break;case S.Appeared:if(t==="nonDataPoint"){this._setStatus(S.Standby);}else if(i(this._target,t)){if(this._mode!=="actionMode"){this._setStatus(S.Appeared);}}else{this._setStatus(S.Active);}break;case S.Standby:if(t!=="nonDataPoint"){this._setStatus(S.Active);}break;case S.Selected:case S.Deselected:if(t!=="nonDataPoint"&&!i(this._target,t)){this._setStatus(S.Active);}break;}this._target=t;};function i(o,n){var d=o&&o.getAttribute?o.getAttribute("data-datapoint-id"):o;var e=n&&n.getAttribute?n.getAttribute("data-datapoint-id"):n;return e===d;}T.prototype.select=function(t){this._setStatus(S.Selected);this._target=t;};T.prototype.deselect=function(t){this._setStatus(S.Deselected);this._target=t;};T.prototype.interrupt=function(){this._setStatus(S.Standby);};T.prototype._init=function(){this._status=S.Cleared;this._showTimeOut=null;this._hideTimeOut=null;this._timer=a;this._hideTimer=H;this._showHandler=null;this._hideHandler=null;this._currentTime=null;this._lastTime=null;this._target=null;this._isFirstShow=true;};T.prototype.reset=function(){clearTimeout(this._showTimeOut);clearTimeout(this._hideTimeOut);this._init();};return T;});define('sap/viz/chart/behavior/config/tooltip/Tooltip',["sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/log/Logger","sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/FiscalUtil',"sap/viz/chart/behavior/config/AlignToUtil","sap/viz/chart/components/util/TextUtils"],function Setup(T,a,O,l,U,L,N,C,F,A,b){var D="values selected";var c="value selected";var d={INFO_MODE:"infoMode",ACTION_MODE:"actionMode"};var f=8;var g=f+"px";var h={padding:"10px",paddingNum:10,paddingBottom:"10",paddingTop:"10",horizontalLine:{borderBottom:"solid 1px",borderBottomNum:1,marginTop:"10px",marginTopNum:10},dimensionName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:g,paddingBottomNum:f,whiteSpace:"nowrap",overflow:"hidden"},dimensionValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:g,paddingBottomNum:f,paddingLeft:"7px",paddingLeftNum:7,whiteSpace:"nowrap",overflow:"hidden"},measureName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:g,paddingBottomNum:f,whiteSpace:"nowrap",overflow:"hidden"},measureValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:g,paddingBottomNum:f,paddingLeft:"7px",paddingLeftNum:7,whiteSpace:"nowrap",overflow:"hidden"},selectedText:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold",marginTop:"8px",marginTopNum:8},closeButton:{size:20,borderSize:2,borderStyle:"solid",forkSize:10},mouseMarginTop:3,truncatedWidth:140,contentMaxSize:"42px",truncatedHeight:12,borderWidth:"1px",borderWidthNum:1,borderStyle:"solid",borderRadius:"3px",boxShadow:"1px 1px #AFAFAF"};var j=N.getPositiveNumber;function s(v,e){if(a.isFunction(v)){return v;}else{return e.defaultValue;}}var k=function(e){this._properties=e;this._properties.add({"tooltip":{"preRender":{set:s},"postRender":{set:s},"formatString":{set:function(v,i){if(a.isString(v)||a.isPlainObject(v)||a.isArray(v)){return v;}else{return i.defaultValue;}}},"unitFormatType":{set:function(v,i){if(a.isString(v)){return v;}else{return i.defaultValue;}}}}});this._display=O.extend(true,{},h);this._tooltipMode=O.extend(true,{},d);this._defaultToolTipColors={backgroundColor:"",borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:"",dimensionName:"",dimensionValue:"",measureName:"",measureValue:"",separationLineSingleColor:"",footerLabelColor:"",closeButtonBackground:"#ffffff",closeButtonBorderColor:"#cccccc"};this._data=null;this._semanticResult=null;this._div=null;this._borderDiv=null;this._mainDiv=null;this._isShown=false;this._closeButtonDiv=null;this._extensionDiv=null;this._mode=null;this._dimensionOrMeasureTitles=[];this._maxRatio=0.75;this._isRTL=false;if(U.isWindowsSurface()){this._touchEvent={touchstart:"pointerdown",touchend:"pointerup"};}else{this._touchEvent={touchstart:"touchstart",touchend:"touchend"};}};function m(_){if(_==null){return l.get("IDS_ISNOVALUE");}else{return _;}}k.prototype.isActionMode=function(){return this._mode===d.ACTION_MODE;};k.prototype.isInfoMode=function(){return this._mode===this._tooltipMode.INFO_MODE;};k.prototype.shouldShowFullText=function(){return this._properties.get("tooltip.showFullText");};k.prototype._willHaveScrollbar=function(){return this.isActionMode()&&this._isTextTooTall&&!this.shouldShowFullText();};k.prototype.onClose=function(e){this._onClose=e;};k.prototype._clearGlobalValues=function(){this._dimensionOrMeasureTitles=[];};k.prototype._getTooltipContainer=function(){return this._div.node().parentNode;};k.prototype._getRootParent=function(){return this._rootNode&&this._rootNode.parentNode;};k.prototype.createNode=function(e){if(e!==null&&e!==undefined){var i=d3.select(e);this._div=i.select(".v-m-tooltip");if(this._div.node()===null){this._div=i.append("div").attr("class","v-m-tooltip");}}return this;};k.prototype._formatTooltipData=function(e,i){return T.format(e,this._properties,i);};var t=function(i,v,x){if(i){try{return i(v,x);}catch(e){L.error("ERROR in Tooltip callback");}}};k.prototype.showTooltip=function(e,v,x,y){if(!this._div||this._getTooltipContainer()===null){this.createNode(e.container);}this._rootNode=e.root;this._mode=e.mode;this._data=this._formatTooltipData(e,y);this._semanticResult=v;if(this._borderDiv!==null){this._borderDiv.remove();}this._isRTL=x;this._isTextTooTall=false;this._isTextTooLong=false;this._maxUntruncatedTextWidth=null;var z=false;var i;for(i=0;i<C.RTL_LANG.length;i++){if(l.currentLanguage.indexOf(C.RTL_LANG[i])===0){z=true;break;}}if(this._properties.get("tooltip.visible")){this._borderDiv=this._div.append("div").attr("class","v-background");if(this._data.data&&this._data.data.rangeSelectionStage==="inLasso"){this._div.node().style["pointer-events"]="none";}else{this._div.node().style["pointer-events"]="";}this._mainDiv=this._borderDiv.append("div").attr("class","v-tooltip-mainDiv").style("position","relative").style("direction",z?"rtl":null);if(n()){this._borderDiv.style('-webkit-overflow-scrolling','auto');this._closeButtonDiv=this._borderDiv.append("div").attr("class","v-closeButton").style("position","absolute").style("direction",z?"rtl":null);var B=this;this._closeButtonDiv.on(this._touchEvent.touchstart,function(){d3.event.stopPropagation();d3.event.preventDefault();},true).on(this._touchEvent.touchend,function(){if(B._onClose&&a.isFunction(B._onClose)){B._onClose.call(B);}B.hideTooltip(B._mode);d3.event.stopPropagation();d3.event.preventDefault();},true);}this._extensionDiv=this._borderDiv.append("div").attr("class","v-tooltip-extension").style("position","relative").style("display","block").style("margin-top","10px");this._updateTooltipColor();if(this.isActionMode()){var E=t(this._properties.get("tooltip.preRender"),this._extensionDiv);if(a.isExist(E)&&(E instanceof Object)&&a.isExist(E.then)&&a.isFunction(E.then)){var G=function(){this._renderTooltip();};E.then(G.bind(this));}else{this._renderTooltip();}}else{this._renderTooltip();}t(this._properties.get("tooltip.postRender"),this._borderDiv);this._isShown=true;}};k.prototype.isShown=function(){return this._isShown;};k.prototype.hideTooltip=function(e){if(e==null||e===this._mode){if(this._borderDiv){this._borderDiv.remove();this._borderDiv=null;}if(this._mainDiv){this._mainDiv=null;}if(this._extensionDiv){this._extensionDiv=null;}if(this._closeButtonDiv){this._closeButtonDiv.on(this._touchEvent.touchend,null);this._closeButtonDiv.on(this._touchEvent.touchstart,null);this._closeButtonDiv=null;}this._defaultToolTipColors.background="";this._defaultToolTipColors.border="";this._defaultToolTipColors.dimensionName="";this._defaultToolTipColors.dimensionValue="";this._defaultToolTipColors.measureName="";this._defaultToolTipColors.measureValue="";this._defaultToolTipColors.separationLineSingleColor="";if(this._div){this._div.style("visibility","hidden").style("padding","0px").style("max-height","").style("top","-65535px").style("left","-65535px");}this._clearGlobalValues();this._isShown=false;}};k.prototype._calculateDesktopPos=function(e,i){var x=i.x;var y=i.y;var v=+this._display.paddingBottom;var z=+this._display.paddingTop;var B=this._display.mouseMarginTop;var E=this._div.node();var G=E.offsetWidth;var H=E.offsetHeight;if((x+G/2)>e.right){x=e.right-G;}else if(x-G/2<e.left){x=e.left;}else{x=x-G/2;}if(!this.isInfoMode()&&(y-B-H)<e.top){y=y+13-z;}else if(this.isInfoMode()&&(y-v-B-H)<e.top){y=y+13;}else{y=y-B-H;if(this.isInfoMode()){y=y-v;}}if(y+H>e.bottom){if(i.y<=(e.bottom+e.top)/2){y=i.y+13;if(!this.isInfoMode()){y=y-z;}}else{y=i.y-B-H;if(this.isInfoMode()){y=y-v;}}}return{"x":x,"y":y};};k.prototype._calculateMobilePos=function(e,i){var x=i.x;var y=i.y;var v=this._display.closeButton.size;var z=this._display.mouseMarginTop;var B=this._div.node();var E=B.offsetWidth;var G=B.offsetHeight;if((x+E/2+v/2)>e.right){x=e.right-E-v/2;}else if(x-E/2<e.left){x=e.left;}else{x=x-E/2-v/2;}if((y-z-G-v/2)<e.top){y=y+13+v/2;}else{y=y-z-G;}if(y+G+v/2>e.bottom){if(i.y<=(e.bottom+e.top)/2){y=i.y+13+v/2;}else{y=i.y-z-G;}}return{"x":x,"y":y};};function n(){return U.isMobile()&&(!U.isIE()||U.isPointerEnabled());}k.prototype._calculatePos=function(e){var i;if(a.isExist(e.alignTo)){var v=this._div.node();[].concat(e.alignTo).forEach(function(E){if(E.source.dom){return;}else if(!E.source.selector){E.source.dom=v;}else{E.source.dom=v.querySelector(E.source.selector);}});i=A.calculate(e.alignTo);}else{var x=this._getLimit();var y=this._getTooltipContainer().getBoundingClientRect();var z=n()?this._calculateMobilePos:this._calculateDesktopPos;var B=z.call(this,x,e);i={"x":B.x-y.left,"y":B.y-y.top};}if(e.offset){i.x+=e.offset.x||0;i.y+=e.offset.y||0;}return i;};k.prototype._getMaxWidth=function(){var e=(this._getRootParent()&&+this._getRootParent().offsetWidth)||0;var i=j(this._getTooltipContainer().getAttribute("actualWidth"),0);return Math.max(e,i)*this._maxRatio;};k.prototype._getMaxWidthForText=function(){var e=Math.max(this._getMaxWidth()-2*(this._display.paddingNum+this._display.borderWidthNum),0);if(w(this._data)){e=Math.max(this._getReservedSpaceForSelection().width,e);}return Math.max(e,this._maxUntruncatedTextWidth);};k.prototype._getMaxHeight=function(){var e=(this._getRootParent()&&+this._getRootParent().offsetHeight)||0;var i=j(this._getTooltipContainer().getAttribute("actualHeight"),0);var v=Math.max(e,i)*this._maxRatio;if(w(this._data)){v-=this._getReservedSpaceForSelection().height;}return Math.max(v,0);};k.prototype._getMaxHeightForText=function(){return Math.max(this._getMaxHeight()-2*this._display.paddingNum,0);};k.prototype._getLimit=function(){function v(e,i,H){if(!e){return 0;}return e.hasAttribute(i)?j(e.getAttribute(i),0):e[H];}var x;if(this._properties.get("tooltip.layinChart")&&!this.shouldShowFullText()){var y=this._getTooltipContainer();var z=y.getBoundingClientRect();var B=v(y,"actualWidth","offsetWidth");var E=v(y,"actualHeight","offsetHeight");x={top:z.top,left:z.left,bottom:z.top+E,right:z.left+B};}else{var G=[0,0];["clientWidth","clientHeight"].forEach(function(e,i){if(document.documentElement[e]){G[i]=document.documentElement[e];}else if((document.body)&&(document.body[e])){G[i]=document.body[e];}});x={top:0,left:0,bottom:G[1],right:G[0]};}return x;};k.prototype._adjustTooltipHeight=function(e){this._div.style("max-height",(e/2-this._display.truncatedHeight)+"px");};k.prototype._renderTooltip=function(){if(!this._extensionDiv.node()||this._extensionDiv.node().childNodes.length===0){this._extensionDiv.remove();}var e=this._getTextsAndStyles();if(e){if(this.shouldLayout()){e=this.layout(e);}this._drawContent(e);this._postUpdateTable(this._data.data);}this._updateSelection();this._updateBorderDiv();this._updateDiv();this._adjustCloseBtnForMobile();};k.prototype._postUpdateTable=function(e){};k.prototype._updateBorderDiv=function(){this._borderDiv.style("background",this._defaultToolTipColors.backgroundColor);this._borderDiv.style("border-color",this._defaultToolTipColors.border);var e=["borderTopColor","borderBottomColor","borderLeftColor","borderRightColor"];var i=["border-top-color","border-bottom-color","border-left-color","border-right-color"];for(var v=0;v<e.length;v++){if(this._defaultToolTipColors[e[v]]!==""){this._borderDiv.style([i[v]],this._defaultToolTipColors[e[v]]);}}this._borderDiv.style("border-style",this._display.borderStyle).style("border-width",this._display.borderWidth).style("border-radius",this._display.borderRadius).style("box-shadow",this._display.boxShadow).style("overflow-x","hidden").style("overflow-y","auto").style("padding",this._display.padding);};k.prototype._updateDiv=function(){this._div.style("position","absolute").style("left","0px").style("top","0px").style("width","auto").style("height","auto").style("float","left").style("visibility","hidden").style("line-height","normal");this._addPadding();if(this.isActionMode()){this._div.style("padding-bottom",this._display.paddingBottom+"px");if(!n()){this._div.style("padding-top",this._display.paddingTop+"px");}}else{this._div.style("padding-top","0px");}var e;if(document.documentElement.clientHeight){e=document.documentElement.clientHeight;}else if((document.body)&&(document.body.clientHeight)){e=document.body.clientHeight;}if(this._div.node().offsetHeight>e){this._adjustTooltipHeight(e);}this._div.style("visibility","visible").style("white-space","nowrap");if(this._data.forceStyle){this._div.style(this._data.forceStyle);}var i=this._calculatePos(this._data.position);this._div.style("left",i.x+"px").style("top",i.y+"px");};k.prototype._adjustCloseBtnForMobile=function(){if(n()){var e=this._div.node();var i=this._getPaddingForCloseBtn(e);var v=e.offsetWidth-parseInt(i.paddingRight);var x=this._display.closeButton.size,y=x/2;var z=this._display.closeButton.forkSize,B=z/2;var E=this._display.closeButton.borderSize;var G=y-B;var H=y-E/2;var I="-webkit-transform";if(U.isWindowsSurface()){I="transform";}var J={"position":"absolute","height":this._display.closeButton.borderSize,"width":z+"px","border-bottom-color":this._defaultToolTipColors.closeButtonBorderColor,"border-bottom-width":this._display.closeButton.borderSize+"px","border-bottom-style":this._display.closeButton.borderStyle,"top":H+"px","left":G+"px"};J[I]="rotate(-45deg)";this._closeButtonDiv.append("div").style(J);J[I]="rotate(45deg)";this._closeButtonDiv.append("div").style(J);var K=y-parseInt(i.paddingTop);this._closeButtonDiv.style("left",v-y-this._display.closeButton.borderSize+'px').style("top",-K+"px").style("width",x+"px").style("height",x+"px").style("border-width",this._display.closeButton.borderSize+"px").style("border-radius",x+"px").style("border-style",this._display.closeButton.borderStyle).style("border-color",this._defaultToolTipColors.closeButtonBorderColor).style("background",this._defaultToolTipColors.closeButtonBackground);}};k.prototype._getPaddingForCloseBtn=function(e){if(e){var i=/(\d*)px/i;var v=e.style;var x=v.paddingRight;var y=v.paddingTop;var z=i.exec(x);x=(z&&z[1])||0;z=i.exec(y);y=(z&&z[1])||0;return{"paddingRight":x,"paddingTop":y};}return{"paddingRight":0,"paddingTop":0};};k.prototype._addPadding=function(){if(this.isActionMode()){this._div.style("padding-bottom",this._display.paddingBottom+"px");}};k.prototype._getReservedSpaceForSelection=function(){var e=this._getStyleForSelection();var i=this._getTextForSelection();var v=this.measure(i,e);var x=v.height+this._display.horizontalLine.borderBottomNum+this._display.horizontalLine.marginTopNum+this._display.selectedText.marginTopNum;return{height:x,width:v.width};};k.prototype._getReservedSpaceForScrollbar=function(){if(this.shouldShowFullText()){return 0;}else if(n()){var M=10;return M;}else if(U.isIE()){var I=30;return I;}else{var e=20;return e;}};function o(e){if(e.selectedNumber<=0){return false;}return e.selectedNumber>1||(e.data&&e.data.rangeSelectionStage==="lassoEnd");}function w(e){return e.data&&e.selectedNumber>0&&o(e);}k.prototype._getStyleForSelection=function(){var e=u(this._display.selectedText);if(this._defaultToolTipColors.footerLabelColor!==""){e+=";color:"+this._defaultToolTipColors.footerLabelColor;}if(!this._data.data){e=e.replace(/margin-top:[0-9]+px/,"margin-top:0px");}return e;};k.prototype._getTextForSelection=function(){var e=this._data.selectedNumber===1;var v=e?l.get("IDS_VALUE_SELECTED"):l.get("IDS_VALUES_SELECTED");if(!v){v=e?c:D;}return this._data.selectedNumber+" "+v;};k.prototype._updateSelection=function(){if(this.isActionMode()){var e=this._data;if(w(e)){var i=this._mainDiv.append("div").attr("class","v-separationline").style("margin-top",this._display.horizontalLine.marginTop).style("border-bottom-width","1px").style("border-bottom-style","solid");if(this._defaultToolTipColors.separationLineSingleColor!==""){i.style("border-bottom-color",this._defaultToolTipColors.separationLineSingleColor);}}if(o(e)||!e.data){var v=this._getStyleForSelection();var x=this._getTextForSelection();this._mainDiv.append("div").attr("style",v).attr("class","v-footer-label tooltipfooterlabel").text(x);}}};k.prototype._processTimeRange=function(e){var v=e.length;var i=0;if(v<2||!e[i].bTimeRange){return;}if(e[0].value.time&&e[0].value.day&&e[0].value.day===e[1].value.day){e[0].value.day=null;}};k.prototype._getDimensionTextAndStyle=function(e,i,v,x){var y=O.extend(true,{},this._display.dimensionName);var z=O.extend(true,{},this._display.dimensionValue);var B=v.bTimeRange||v.bValueDate;var E=B?(v.value.time||v.value.day):v.value;if(x&&(!B||!v.value.time||!v.value.day)){y.paddingBottom="0px";z.paddingBottom="0px";}if(v.bValueDate){z.paddingLeft="0px";}var G=[];var H=[];var I,J;if(!v.bValueDate){if(this._defaultToolTipColors.dimensionName!==""){y.color=this._defaultToolTipColors.dimensionName;}if(this._isRTL){y._float="left";}var K;var M=this._semanticResult;if(M&&M.dataName){K=M.dataName[v.id];}J=m(a.isExist(K)?K:v.name)+":";H.push(J);G.push(y);}var P=m(E);var Q=O.extend(true,{},z);if(this._defaultToolTipColors.dimensionValue!==""){Q.color=this._defaultToolTipColors.dimensionValue;}H.push(P);G.push(Q);if(B&&v.value.day&&v.value.time){if(x){z=O.extend(true,{},this._display.dimensionValue);z.paddingBottom="0px";z.color=this._defaultToolTipColors.dimensionValue;Q=z;}P=m(v.value.day);H.push(P);G.push(Q);v.drawAsTwoRow=true;}i.push(G);e.push(H);};function p(e,i,v){var x=[];for(var y=0;y<e.length;y++){if(i.indexOf(y)>-1){if(v){x.push(e[y]);x.push(e[y]);}else{if(e[y].length===2){x.push([e[y][0]]);x.push([e[y][1]]);}else{x.push(e[y].slice(0,2));x.push(e[y].slice(2));}}}else{x.push(e[y]);}}return x;}k.prototype._getTextsAndStyles=function(){var e=this._data.data,v=this._semanticResult;if(e&&e.length){var x,y,z,B,E,G;var H=[],I=[];for(var i=-1;++i<e.length;){if(e[i].type==="Dimension"){var J=e[i];if(F.hasFiscalLevel(this._properties)){F.tooltipDataToDate(J);}H.push(J);}else if(e[i].type==="Measure"){I.push(e[i]);}}this._processTimeRange(H);var K=[],M=[];var P=[];for(i=0;i<H.length;++i){var Q=i===H.length-1&&I.length===0;if(Q){x=O.extend(true,{},this._display.dimensionName);x.paddingBottom="0px";y=O.extend(true,{},this._display.dimensionValue);y.paddingBottom="0px";}else{x=this._display.dimensionName;y=this._display.dimensionValue;}this._getDimensionTextAndStyle(K,M,H[i],Q);if(H[i].drawAsTwoRow){P.push(i);}}if(P.length>0){H=p(H,P,true);K=p(K,P);M=p(M,P);}var R=[],S=[];for(i=-1;++i<I.length;){x=O.extend(true,{},this._display.measureName);y=O.extend(true,{},this._display.measureValue);if(i===I.length-1){x.paddingBottom="0px";y.paddingBottom="0px";}if(this._defaultToolTipColors.measureName!==""){x.color=this._defaultToolTipColors.measureName;}if(this._isRTL){x._float="left";}var V;if(v&&v.dataName){V=v.dataName[I[i].id];}var W=m(a.isExist(V)?V:I[i].name)+":";var X=m(I[i].value);if(this._defaultToolTipColors.measureValue!==""){y.color=this._defaultToolTipColors.measureValue;}R.push([W,X]);S.push([x,y]);}return{dimTexts:K,dimStyles:M,msrTexts:R,msrStyles:S,dims:H,measures:I};}};k.prototype._drawContent=function(e){var i=e.dimTexts;var v=e.dimStyles;var x=e.msrTexts;var y=e.msrStyles;var z=e.dims;var B=e.measures;var E;var G=this._mainDiv.append("div").attr("class","v-tooltip-mainDiv-scrollable-container");var H=G.append("table").attr("class","v-tooltip-dimension-measure").style("border-collapse","collapse");if(!this._isTextTooLong){this.drawToTable(H,z,i,v,true);this.drawToTable(H,B,x,y,false);}else{E=this._getMaxWidthForText();if(this.isActionMode()){if(this._isTextTooTall){E-=this._getReservedSpaceForScrollbar();}this.drawLongTextToTable(E,H,z,i,v,true);this.drawLongTextToTable(E,H,B,x,y,false);}else{this.drawLongTextToTable(E,H,z,i,v,true);this.drawLongTextToTable(E,H,B,x,y,false);}}if(this._isTextTooTall){var I=H.node().offsetHeight;this._isTextTooTall=I>this._getMaxHeight();}if(this._willHaveScrollbar()){var J=this._getMaxHeightForText();G.style("height",J+"px").style("overflow-y","scroll");}if(this._isTextTooLong){var K=H.node().offsetWidth;this._isTextTooLong=K>E;}if(this._isTextTooLong&&!this.shouldShowFullText()){G.style("width",this._getMaxWidthForText()+"px").style("overflow-x","hidden");}};k.prototype.calculateLineNum=function(e,i){if(this._isRTL){return 1;}return this.isActionMode()&&i>0?Math.ceil(e/i)+2:2;};k.prototype.measureWrappedText=function(i,v,x,y){var z=this.measure(i,v);var B;if(z.width<x||y){return z;}var E=this.calculateLineNum(z.width,x);var G=b.wrapText(i,[" "],x,E,u(v));if(G.lines.length===1){return z;}else{var H=0;var I=0;G.lines.forEach(function(e){var J=this.measure(e,v);H+=J.height;I=Math.max(I,J.width);},this);B=H;return{height:B,width:I};}};k.prototype.shouldLayout=function(){return true;};k.prototype.measure=function(e,i){var v=b.fastMeasure(e,i.fontSize,i.fontWeight,i.fontFamily);var x=i.paddingBottomNum||0;var y=i.paddingLeftNum||0;var z=1;v.height+=x+z;v.width+=y+z;return v;};k.prototype.layout=function(e){var i=e.dimTexts;var v=e.dimStyles;var x=e.msrTexts;var y=e.msrStyles;var z=e.dims;var B=e.measures;var E=i.concat(x);var G=v.concat(y);var H=z.concat(B);var I=this._getMaxWidthForText();var J=this._getMaxHeightForText();var K=0;var M=0;var P,Q;var R;var S;var V;var W;var X=0;var Y=this._isRTL?"right":"left";var Z=E.length;var $=0;var _=[];var a1=[];var b1=this.isInfoMode()&&!this.shouldShowFullText();function c1(p1){if(X>J){p1._isTextTooTall=true;if(b1){Z=P;return true;}}return false;}for(P=0;P<E.length;P++){R=E[P];S=G[P];V=H[P];if(R.length===2){var d1=this.measure(R[0],S[0]);var e1=this.measure(R[1],S[1]);X+=Math.max(d1.height,e1.height);if(c1(this)){break;}W=e1.width;K=Math.max(K,d1.width);M=Math.max(M,W);if(K+M>I){this._isTextTooLong=true;}}else if(R.length===1){var f1=this.measure(R[0],S[0]);X+=f1.height;if(c1(this)){break;}W=f1.width;if(W>I){this._isTextTooLong=true;}}if(q(V)){_.push(R.length===2?R[1]:R[0]);a1.push(S.length===2?S[1]:S[0]);}}if(this._isTextTooLong){for(P=0;P<G.length;P++){var g1=G[P];for(Q=0;Q<g1.length;Q++){var h1=g1[Q];h1.paddingLeft="0px";h1.paddingLeftNum=0;h1._float=Y;if(P===G.length-1&&Q===g1.length-1){h1.paddingBottom="0px";h1.paddingBottomNum=0;}else{h1.paddingBottom=g;h1.paddingBottomNum=f;}}}}var i1=false;function j1(p1){if(!i1&&p1._willHaveScrollbar()&&p1._maxUntruncatedTextWidth>0){p1._maxUntruncatedTextWidth+=p1._getReservedSpaceForScrollbar();i1=true;}}if(_.length>0){for(P=0;P<_.length;P++){W=this.measure(_[P],a1[P]).width;this._maxUntruncatedTextWidth=Math.max(this._maxUntruncatedTextWidth,W);}j1(this);}I=this._getMaxWidthForText();if((!this._isTextTooTall||b1||this.shouldShowFullText())&&this._isTextTooLong){X=0;var k1=false;for(P=0;P<Z&&!k1;P++){R=E[P];S=G[P];V=H[P];for(Q=0;Q<R.length;Q++){var l1=R.length===2&&Q===0?false:q(V);var m1=this.measureWrappedText(R[Q],S[Q],I,l1);X+=m1.height;if(this.shouldShowFullText()){this._maxUntruncatedTextWidth=Math.max(this._maxUntruncatedTextWidth,m1.width);}if(X>J){this._isTextTooTall=true;if(!this.shouldShowFullText()){k1=true;}if(b1){Z=P;$=Q;break;}}}}}if(this._isTextTooTall&&b1){E=E.slice(0,Z+1);H=H.slice(0,Z+1);G=G.slice(0,Z+1);if($===1){E[Z][1]="...";G[Z][1]._float=Y;}else{E[Z]=["..."];G[Z][0]._float=Y;}var n1=z.length;var o1=H.length;i=E.slice(0,n1);v=G.slice(0,n1);z=H.slice(0,n1);x=E.slice(n1);y=G.slice(n1);B=H.slice(n1);e.dimTexts=i;e.dimStyles=v;e.msrTexts=x;e.msrStyles=y;e.dims=z;e.measures=B;}j1(this);return e;};function r(e,i,v,x){var y=v.append("td").attr("style",u(e)).text(i).attr("class",x);return y;}k.prototype.drawToTable=function(e,i,v,x,y){for(var z=0;z<v.length;z++){var B=v[z];var E=x[z];var G=e.append("tr");var H,I;var J=i[z];if(B.length===2){I=y?"v-body-dimension-label":"v-body-measure-label";H=r(E[0],B[0],G,I);this._dimensionOrMeasureTitles.push(H);I=y?"v-body-dimension-value":"v-body-measure-value";H=r(E[1],B[1],G,I);}else if(B.length===1){I=y?"v-body-dimension-value":"v-body-measure-value";H=r(E[0],B[0],G,I);if(J.bValueDate||J.bTimeRange){H.attr("colspan","2");}}if(J.bTimeRange){H.attr("align","right");}}};function q(i){return i.type==="Measure"||i.bTimeRange||i.bValueDate;}k.prototype.renderLongTextIntoCell=function(e,i,v,x,y,z){var B=[e];i=u(i);var E=this.measure(e,i).width;if(E>z&&!v){var G=this.calculateLineNum(E,z);var H=b.wrapText(e,[" "],z,G,i);B=H.lines;if(!this.shouldShowFullText()){var I=B.length-1;B[I]=b.ellipsis(B[I],null,z,i);}}for(var J=0;J<B.length;J++){var K=y.append("tr");var M=K.append("td").attr("style",i).text(B[J]).attr("class",x);}};k.prototype.drawLongTextToTable=function(e,i,v,x,y,z){for(var B=0;B<x.length;B++){var E=x[B];var G=y[B];var H=v[B];var I,J;if(E.length===2){J=z?"v-body-dimension-label":"v-body-measure-label";this.renderLongTextIntoCell(E[0],G[0],false,J,i,e);this._dimensionOrMeasureTitles.push(I);J=z?"v-body-dimension-value":"v-body-measure-value";this.renderLongTextIntoCell(E[1],G[1],q(H),J,i,e);}else if(E.length===1){J=z?"v-body-dimension-value":"v-body-measure-value";this.renderLongTextIntoCell(E[0],G[0],q(H),J,i,e);}}};function u(i){if(a.isString(i)){return i;}var e="";var v={_float:"float",color:"color",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",whiteSpace:"white-space",textOverflow:"text-overflow",overflow:"overflow",paddingLeft:"padding-left",paddingBottom:"padding-bottom",marginTop:"margin-top",};for(var x in v){if(v.hasOwnProperty(x)&&i[x]){e+=v[x]+":"+i[x]+";";}}return e;}k.prototype._getStyle=function(i){return u(i);};k.prototype.destroy=function(){this._extensionDiv=null;this._mainDiv=null;this._properties=null;this._display=null;this._defaultToolTipColors=null;this._data=null;this._semanticResult=null;};k.prototype._updateTooltipColor=function(){var e=this._properties.get("tooltip");var i=this._defaultToolTipColors;i.backgroundColor=e.background.color;i.border=e.background.borderColor;if(e.bodyDimensionLabel&&e.bodyDimensionLabel.color){i.dimensionName=e.bodyDimensionLabel.color;}if(e.bodyDimensionValue&&e.bodyDimensionValue.color){i.dimensionValue=e.bodyDimensionValue.color;}if(e.bodyMeasureLabel&&e.bodyMeasureLabel.color){i.measureName=e.bodyMeasureLabel.color;}if(e.bodyMeasureValue&&e.bodyMeasureValue.color){i.measureValue=e.bodyMeasureValue.color;}if(e.separationLine&&e.separationLine.color){i.separationLineSingleColor=e.separationLine.color;}if(e.footerLabel&&e.footerLabel.color){i.footerLabelColor=e.footerLabel.color;}if(e.closeButton&&e.closeButton.backgroundColor){i.closeButtonBackground=e.closeButton.backgroundColor;}if(e.closeButton&&e.closeButton.borderColor){i.closeButtonBorderColor=e.closeButton.borderColor;}};return k;});define('sap/viz/chart/behavior/config/TooltipClassMap',["sap/viz/chart/behavior/config/tooltip/Tooltip",],function(T){var m={"*":T};var a={};a.register=function(c,h){for(var i=0;i<c.length;++i){m[c[i]]=h;}};a.get=function(c){return m[c]||m["*"];};return a;});define('sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler',["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/FormatManager',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/DOM","sap/viz/chart/behavior/config/handler/TooltipTimerHandler","sap/viz/chart/behavior/config/ContextualDataUtil","sap/viz/chart/behavior/config/TooltipClassMap"],function(D,C,a,O,T,F,b,L,c,d,f,g){var M="measureNames";var h="_context_row_number";var k="Dimension";var R="inLasso";var l="lassoEnd";function m(e,j){var v={body:[],footer:[],point:e.position,selectedValues:e.selectedNumber};if(j){v.plotArea=j;}var w=e.data;if(w&&w.length){for(var i=-1;++i<w.length;){var x=w[i];if(x.type==="Measure"){v.body.push({name:x.name,val:[{value:x.value}]});}else if(x.type==="Dimension"){v.footer.push({label:{val:x.name},value:{val:x.value}});}}}return v;}function n(i,j){var v=false;if(j.getProperties()){var w=j.getProperties().get("interaction.decorations");if(T.isArray(w)){w.forEach(function(e){if(e.name==='hideDetail'){e.fn.call(this,j.getStatus('tooltipMode'));v=true;}});}}if(!v){if(i.isShown()){i.hideTooltip();j.setStatus("tooltipMode",null);j.fireExternalEvent("hideTooltip",{name:C.Event.TooltipHide.name});}}}function o(e,i){if(T.isExist(e[i+a.DIMENSION_DISPLAYNAME_SUFFIX])){return e[i+a.DIMENSION_DISPLAYNAME_SUFFIX];}else if(T.isExist(e[i])){return e[i];}return null;}function p(e,i,j){if(T.isExist(e[i])){return e[i];}else if(j===true&&e[i]===undefined){return undefined;}return null;}function q(e,i){for(var v in i){if(i.hasOwnProperty(v)){for(var j=0;j<i[v].length;++j){var w=i[v][j];if(w.id===e){return w;}}}}return null;}function r(e,i){if(T.isExist(e[i+a.DIMENSION_DISPLAYNAME_SUFFIX])){return e[i+a.DIMENSION_DISPLAYNAME_SUFFIX];}return null;}function s(i,j){var v,w;if(j){w=j.timeField;}else{v=i.getDataModel().timeAxis();w=v.metaData.map(function(e){return e.id;});}return w;}var t=d3.format(".2%");var u=function(){};u.processDateFormat=function(e,j,v){if(e.timeDimensions!==undefined){var w=e.timeDimensions;for(var i=0;i<w.length;++i){var x=e[w[i]];x.bValueDate=true;if(j){x.timeAxis=v;}}}};u.prototype={standAloneInitialized:function(e,i){i.getProperties().origin.add({tooltip:{layinChart:true,visible:true,background:{color:"#ffffff",borderColor:"#cccccc"},bodyDimensionLabel:{color:"#666666"},bodyDimensionValue:{color:"#666666"},bodyMeasureLabel:{color:"#666666"},bodyMeasureValue:{color:"#000000"},closeButton:{backgroundColor:"#ffffff",borderColor:"#cccccc"},footerLabel:{color:"#000000"},separationLine:{color:"#a7a9ac"},preRender:null,postRender:null,formatString:null,unitFormatType:"FinancialUnits"}});},createTooltipInstance:function(e){var i=g.get(e._getChartType());return new i(e.getProperties());},initialized:function(e,i){this._tooltipModule=this.createTooltipInstance(i);this._tooltipModule.onClose(function(){i.fireExternalEvent("hideTooltip",{name:C.Event.TooltipHide.name});});i.setStatus("tooltipMode",null);this._createTooltipTimerHandler();},_createTooltipTimerHandler:function(){this._tooltipTimerHandler=new d();},unloadedClear:function(e,i){var j=this._tooltipModule;if(j){n.call(this,j,i);j.destroy();}delete this._tooltipModule;i.removeStatus("tooltipMode");this._tooltipTimerHandler.reset();},refreshedTooltip:function(e,i){var j=this._tooltipModule;if(!j){return;}n.call(this,j,i);this._tooltipTimerHandler.reset();},_getShowTooltipHandler:function(e,i){function j(){var v=this._tooltipModule;if(!v){return;}var w=this._handleShowDetail(e,i);var x=e.data.mode;i.setStatus("tooltipMode",x);i.fireExternalEvent("showTooltip",{name:C.Event.TooltipShow.name,data:w.eventtData});}return j.bind(this);},_getHideTooltipHandler:function(i,j){function v(){var w=this._tooltipModule;if(!w){return;}var x=j.getStatus("tooltipMode");if(!x||i.data.mode!==x){return;}var y=j.getProperties().get("interaction.decorations");var z=false;if(T.isArray(y)){y.forEach(function(e){if(e.name==='hideDetail'){e.fn.call(this,i.data.mode);z=true;}});}n.call(this,w,j);}return v.bind(this);},showDetail:function(e,i){var j=e.data.action;var v=this._getShowTooltipHandler(e,i);var w=this._getHideTooltipHandler(e,i);if(j){this._tooltipTimerHandler.setShowTooltipHandler(v);this._tooltipTimerHandler.setHideTooltipHandler(w);this._tooltipTimerHandler.setMode(e.data.mode);this._tooltipTimerHandler[j](e.data.target);}else{v();}},_handleShowDetail:function(i,j){var v,w=this._tooltipModule;var x=j.getProperties().get("tooltip.applyTimeAxisFormat");var y=j.getProperties().get("tooltip.formatString");var z;var A=j.getModule("main.timeAxis");if(A){var B=j.getDataModel();if(B&&B._timeAxis){z=B._timeAxis.metaData[0].id;x=x&&!(T.isExist(y)&&T.isExist(y[z]));}}if(i.data.target&&!j.getStatus("rangeSelection")){j.fireEvent("extractTooltipData",{target:i.data.target});v=j.getStatus("tooltipData");u.processDateFormat(v,x,A);}else if(j.getStatus("rangeSelection")){var E=j.getStatus("rangeDomain");var G="From";var H="To";v=[{id:z,name:L.get("IDS_TIME_FROM")||G,value:E[0],type:k,bTimeRange:true,timeAxis:x?A:null},{id:z,name:L.get("IDS_TIME_TO")||H,value:E[1],type:k,bTimeRange:true,timeAxis:x?A:null}];v.timeDimensions=[0,1];v.rangeSelectionStage=R;if(i.data.bLassoEnd){v.rangeSelectionStage=l;}}var I=i.data.mode;var J={"data":v,"container":this._getTooltipContainer(j),"root":j.getRootContainer(),"mode":I,"position":i.data.point,"isAnchored":!!i.data.isAnchored,"forceStyle":i.data.forceStyle};if(!v||v.rangeSelectionStage!==R){J["selectedNumber"]=j.getStatus("selectedDataPoints").length;}var K=m(J,j.getBBox(j.BoxType.PLOT_NODE));var N=j.getProperties().get("interaction.decorations");var P=false;if(T.isArray(N)){N.forEach(function(e){if(e.name==='showDetail'){e.fn.call(this,O.extend(true,{},J));P=true;}});}if(!P){this._processDecoration(w,J,j,i.data.target);}return{eventtData:K,tooltipData:J};},_processDecoration:function(i,j,v,w){var x=v?v.getSemanticManager():null,y;try{y=x?x.analyzeDataPoint('color,lineColor,lineType,pattern',b.getContext(w),true,b.getAdditionCtx(w)||{}):null;}catch(e){y=null;}var z=v?v.getEnvManager():null;var A=false;if(z){A=z.isRTL();}i.showTooltip(j,y,A,v);},_getTooltipContainer:function(e){return e.getTooltipContainer();},hideDetail:function(e,i){var j=e.data.action;var v=this._getHideTooltipHandler(e,i);if(j){this._tooltipTimerHandler.setHideTooltipHandler(v);this._tooltipTimerHandler[j](e.data.target);}else{v();}},showTooltipHoverOnPlot:function(e,i){i.fireEvent("showDetail",e.data);},hideTooltipHoverOnPlot:function(e,i){i.fireEvent("hideDetail",e.data);},showTooltipClickBigData:function(e,i){e.data.action="select";i.fireEvent("showDetail",e.data);},hideTooltipClickBigData:function(e,i){e.data.action="deselect";i.fireEvent("hideDetail",e.data);},extractTooltipData:function(e,v){var w=v.getDataModel();var x=w.getBindingMetaData();var y=v.getProperties().get("general.hideNoValueLabel");var z=e.data.target,A,B=[],E=[],G=[],H=[];if(z.context){A=z.context;}else if(T.isString(z)||T.isNumber(z)){A=w.getDataPoint(z).context();}else{A=b.getContextByDataModel(z,w);}function q(P){for(var i in x){if(x.hasOwnProperty(i)){for(var j=0;j<x[i].length;++j){var Z=x[i][j];if(Z.id===P){return Z;}}}}return null;}var I=w.context()&&w.context().metaData;function J(P){for(var i=0;I&&i<I.length;++i){if(I[i].id===P){return I[i];}}return null;}var K=v._statusMgr.get("data.unit");var N;for(var P in A){if(A.hasOwnProperty(P)){N=null;if(P===M){continue;}var Q=q(P)||{};var S=null,U,V=Q.type,W;U=V;if(V==="Dimension"){S=B;W=o(A,P);}else if(V==="Measure"||P===h){S=E;W=(A[P]==null?A[P]:+A[P]);if(V==="Measure"&&typeof(A[P])==='string'){N=A[P];}}else{Q=J(P)||{};if(!Q.showInTooltip){continue;}U=Q.type;if(U==="Dimension"){S=G;}else{S=H;}W=o(A,P);}var X=this.decorateFieldName((Q.name||P),P,w,z,v.getProperties());var Y={"id":P,"name":X,"value":W,"strValue":N,"type":U,"formatString":Q.formatString};if(T.isExist(r(A,P))){Y["value"+a.DIMENSION_DISPLAYNAME_SUFFIX]=r(A,P);Y["value"+a.DIMENSION_VALUE_SUFFIX]=p(A,P,y);}if(K[Y.id]){Y.unit=K[Y.id];}if(S){S.push(Y);}}}v.setStatus("tooltipData",B.concat(G).concat(E).concat(H));},decorateFieldName:function(e,i,j,v,w){return e;},extractTooltipDataPie:function(i,j){j.fireEvent(i,true);var v=j.getProperties().get('tooltip.bodyMeasureValue.type');var w=j.getStatus("tooltipData");w.forEach(function(e){if(e.type==="Measure"&&i.data.target instanceof SVGElement){var x=D.getData(i.data.target).percentage;if(T.isNaN(x)){var y=d3.select(i.data.target.childNodes[0]).datum();x=(y.endAngle-y.startAngle)/(2*Math.PI);}e.bothValue={value:e.strValue?e.strValue:e.value,percentage:x,primaryKey:(v==="percentage")?"percentage":"value"};}});j.setStatus("tooltipData",w);},extractTooltipDataPercentage:function(i,j){j.fireEvent(i,true);var v=j.getStatus("tooltipData");v.forEach(function(e){if(e.type==="Measure"&&i.data.target instanceof SVGElement){e.value=D.getData(i.data.target).percentageValue;var w=D.getContext(i.data.target);e.bothValue={value:w[w.measureNames],percentage:e.value,primaryKey:"percentage"};}});j.setStatus("tooltipData",v);},extractTooltipDataTimebubble:function(e,i){i.fireEvent(e,true);var j=i.getStatus("tooltipData");j.timeMeasure=0;i.setStatus("tooltipData",j);},extractTooltipDataPercentageMekko:function(i,j){j.fireEvent(i,true);var v=j.getStatus("tooltipData");var w=j.getDataModel().getBindingMetaData();var x;if(w){x=w.valueAxis[0]?w.valueAxis[0].id:undefined;}v.forEach(function(e){if(e.type==="Measure"&&e.id===x){e.value=D.getData(i.data.target).percentageValue;var y=D.getContext(i.data.target);e.bothValue={value:y[y.measureNames],percentage:e.value,primaryKey:"percentage"};e.value=t(e.value);}});j.setStatus("tooltipData",v);},extractTooltipDataTimeStackedColumnPercentage:function(j,v){v.fireEvent(j,true);var w=v.getStatus("tooltipData");var x=j.data.target;var y=D.getData(x);var z=s(v,y);var A,B=[];w.forEach(function(e,i){if(z.indexOf(e.id)>=0){B.push(i);}if(e.type==="Measure"){e.value=y.percentageValue;A=D.getContext(x);e.bothValue={value:A[A.measureNames],percentage:e.value,primaryKey:"percentage"};}});w.timeDimensions=B;v.setStatus("tooltipData",w);},extractTooltipDataTimeWaterfall:function(e,j){j.fireEvent(e,true);var v=j.getDataModel();var w=v.getBindingMetaData();var x=j.getStatus("tooltipData");var y=D.getData(e.data.target);var z=[],A=[],B=[],E;var G=s(j,y);var H=j.getProperties().get("interaction.selectByTimeAxisGroup");for(var i=0;i<x.length;++i){if(G.indexOf(x[i].id)>=0){z.push(i);if(H){A.push(x[i]);}}else if(x[i].type==='Dimension'){if(H){B.push(x[i].id);}}else if(x[i].type==='Measure'){if(H){E=x[i].formatString;}}}x.timeDimensions=z;var I=j._statusMgr.get("data.unit"),J=[];if(H){var K=j.getProperties().get("plotArea.dataLabel.recapTitle")||L.get("IDS_END_OF_PERIOD");var N=f.getDataPointsByTimeField(e.data.target,j);if(N){N.forEach(function(P){var Q=D.getContext(P);var S=q(Q.measureNames,w);var U=D.getData(P).recap;var V='',W=Q[Q.measureNames];B.forEach(function(Y){V+=(Q[Y+'.d']||Q[Y]||L.get("IDS_ISNOVALUE"))+' / ';});V+=S.name||S.id;A.push({formatString:E,id:Q.measureNames,name:V,type:'Measure',value:W,color:D.getData(P).color,unit:I[Q.measureNames]});if(U){var X=j.getDataModel().valueAxis().metaData[0];A.push({formatString:X.formatString,id:X.id,name:K,type:'Measure',value:U.value,unit:I[X.id]});}});}A.timeDimensions=z;x=A;}j.setStatus("tooltipData",x);},extractTooltipDataTimeLine:function(e,j){j.fireEvent(e,true);var v=j.getStatus("tooltipData");var w=D.getData(e.data.target);var x=s(j,w);var y=[];for(var i=0;i<v.length;++i){if(x.indexOf(v[i].id)>=0){y.push(i);}}v.timeDimensions=y;j.setStatus("tooltipData",v);},extractTooltipDataWaterfall:function(i,j){j.fireEvent(i,true);var v=j.getStatus("tooltipData");v=v.filter(function(e){var w=j.getDataModel();var x=w.waterfallType()?w.waterfallType().metaData:undefined;var y=x&&x[0]?x[0].id:undefined;return e.id!==y;});j.setStatus("tooltipData",v);},extractTooltipDataCombination:function(i,j){j.fireEvent(i,true);var v=j.getProperties().get("general.hideNoValueLabel");if(!v){return;}var w=j.getStatus("tooltipData");w=w.filter(function(e){if(e.hasOwnProperty("value"+a.DIMENSION_VALUE_SUFFIX)&&e["value"+a.DIMENSION_VALUE_SUFFIX]===undefined){return false;}return true;});j.setStatus("tooltipData",w);},extractTooltipDataComboEx:function(e,i){this.extractTooltipDataCombination(e,i);var j=i.getStatus("tooltipData");var v=e.data.target;if(!c.hasClass(v,"v-datapoint")){v=[].filter.call(i.getNodes(i.NodeType.DATA_POINT,false),function(w){return w.getAttribute("data-id")===e.data.target.getAttribute("data-id");})[0];}Object.defineProperty(j,"seriesType",{enumerable:false,value:D.getData(v).seriesType});i.setStatus("tooltipData",j);}};return u;});define('sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler',["sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil",'sap/viz/framework/chartmodel/DataSelector',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/Constants",'sap/viz/framework/interaction/Constants','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/behavior/config/tooltip/TooltipUtils','sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/lang/LangManager'],function(H,S,D,c,C,d,e,O,T,f,g,h,L){var j=d.SELECTION_MODE;var k="datapoint";var M="measureNames";var l="_context_row_number";var m="Dimension";var n="Measure";var o="timeAxis";var p="color";var W="waterfallType";var P="percentage";var s=function(a){if(!a.isTrellis()&&a.getProperties().get("legend.selectionFeedback")){a.fireEvent("syncSelectedLegendItems");a.fireEvent("syncSelectedMBCLegendItems");}};var q=function(){};q.prototype.initializedClearSelection=function(a,b){b.setStatus("selectedDataPoints",[]);};q.prototype.unloadedClearSelection=function(a,b){var i=b.getStatus("selectedDataPoints");if(i&&i.length){b.fireEvent("clearPlot",{isGray:false});}b.removeStatus("selectedDataPoints");};q.prototype.refreshedKeepSelection=function(a,b){var i=b.getProperties().get("interaction.selectability.mode");var x=i?i.toUpperCase():i;var y=b.getStatus("selectedDataPoints");var z=b.getStatus("rangeSelection")&&b.getStatus("rangeDomain");var A=false;if(!b.getStatusManager().get("interaction.holdSelection")||x===j.NONE||x===j.SINGLE){if(y.length||z){b.fireEvent("clearPlot",{isGray:false});if(z){b.removeStatus("rangeDomain");b.removeStatus("rangeSelection");}}b.setStatus("selectedDataPoints",[]);A=true;}else if(y.length){b.fireEvent("clearPlot",{isGray:!z,rangeSelection:z}).fireEvent("selectDataPoint",{targets:this._getNodes(y,b),disableAnimation:true}).setStatus("selectedDataPoints",y);}s(b);return A;};q.prototype.reRenderKeepSelection=function(a,b){var i=b.getStatus("selectedDataPoints");var x=b.getStatus("hoveringDataPoint");var y=b.getStatus("rangeSelection")&&b.getStatus("rangeDomain");if(i.length){var z=this._getNodes(i,b);b.fireEvent("clearPlot",{isGray:!y,rangeSelection:y}).fireEvent("selectDataPoint",{targets:z,disableAnimation:true}).setStatus("selectedDataPoints",i);}if(x){b.fireEvent("hoverOnDataPoint",{targets:x});}if(y){b.fireEvent("rangeRecover");}if(b.getStatus("hoveringOnPlotEvent")){b.fireEvent(b.getStatus("hoveringOnPlotEvent"));}var A=b._getDecorationLayer();A.clear(k);};q.prototype.deselectAll=function(a,b){var i=b.getStatus("selectedDataPoints");b.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:this._getNodes(i,b),isAnyOtherSelected:false}).fireEvent("hideDetail",{mode:"actionMode"}).setStatus("selectedDataPoints",[]);s(b);if(i&&i.length){b.fireEvent("dispatchDataEvent",{targets:i,isSelected:false});}if(b.getProperties().get("interaction.enableInternalEvents")){b.fireExternalEvent("_selectionDetails",{'name':'_selectionDetails','data':[]});}};q.prototype.processMultipleSelectionTooltip=function(a,b){var i=b.getStatus("selectedDataPoints");if(i.length&&S.hasDataPoint(i,a.data.targets[0])){b.fireEvent("showDetail",{target:null,mode:"actionMode",point:a.data.point,forceStyle:a.data.forceStyle,isAnchored:a.data.isAnchored});}else{b.fireEvent("hideDetail",{mode:"actionMode"});}};var r={};r[j.SINGLE]=1;r[j.MULTIPLE]=1;r[j.EXCLUSIVE]=1;r[j.INCLUSIVE]=1;var t=['id','label','value','type','unit','unbound'];q.prototype.processSelection=function(a,b){var x=b.getStatus("selectedDataPoints");if(!x){return;}if(!x.length){b.fireEvent("clearPlot",{isGray:!b.getStatus("rangeSelection"),rangeSelection:b.getStatus("rangeSelection")});}var y=a.data;var z=String(y.mode).toUpperCase();var A=H.turnToArray(y.targets);var B=[];var E=[];var F=[];var G={};var i,I;if(!r[z]){var J=b.getProperties().get("interaction.selectability.mode");z=J?String(J).toUpperCase():J;}var K=b.getProperties().get("interaction.selectability.behavior");var N=K?K.toUpperCase():K;var Q=b.getProperties().get('interaction.selectByTimeAxisGroup');if(!Q&&z===j.SINGLE&&N===d.SELECTION_BEHAVIOR.DATAPOINT){A=[A[0]];}for(i=A.length;i--;){G[A[i]]=1;}for(i=0,I=x.length;i<I;++i){var R=x[i];if(G[R]){F.push(R);G[R]=2;}else{B.push(R);}}for(i=0,I=A.length;i<I;++i){if(G[A[i]]===1){E.push(A[i]);}}var U=E.concat(x);var V=y.ctrlKeyPressed;var X=[];var Y=[];var Z=false;if(y.deselection===true){X=B;Y=F;Z=true;}else{if(z===j.SINGLE){if(N===d.SELECTION_BEHAVIOR.CATEGORY&&F.length&&x.length!==A.length){X=A;Y=B;}else{if(F.length&&x.length===A.length){Z=true;}X=E;Y=x;}}else if(!V&&z===j.EXCLUSIVE){X=A;Y=B;}else if(!V&&z===j.INCLUSIVE){X=U;}else if(V||z===j.MULTIPLE){if(!y.deselectable||E.length){X=U;}else{X=B;Y=F;Z=true;}}}this._fireEventForProcessSelection(b,Y,X,E,y.fireEvents);b.setStatus("selectedDataPoints",X);s(b);if(b.getProperties().get("interaction.enableInternalEvents")){this._fireSelectionDetails(b,X,Q);}var $={isDeselect:Z,ctrlKey:V};return $;};q.prototype.processHighlight=function(a,b){if(!b.isTrellis()&&!b.isDisableSyncHightlight()){if(b.isBigDataMode()){var i=b.getStatus("selectedDataPoints");if(!i.length){b.fireEvent("clearPlot",{isGray:!b.getStatus("rangeSelection"),rangeSelection:b.getStatus("rangeSelection")});}}var x=H.turnToArray(a.data.targets);if(x&&x.length>0){b.fireEvent("hoverOnDataPoint",{targets:this._getNodes(x,b)});b.setStatus("highlightedDataPoints",x);}}};q.prototype.processUnhighlight=function(a,b){b.fireEvent("cleanAxisHoverEffect");b.fireEvent("cleanLegendHoverEffect");b.fireEvent("cleanMBCHoverEffect");if(!b.isTrellis()&&!b.isDisableSyncHightlight()){if(b.isBigDataMode()){var i=b.getStatus("selectedDataPoints");if(!i.length){b.fireEvent("clearPlot");}}var x=b.getStatus("highlightedDataPoints");if(x&&x.length>0){if(x&&x.length){b.fireEvent("unhoverOnDataPoint",{targets:this._getNodes(x,b)});}b.setStatus("highlightedDataPoints",[]);}}};q.prototype._fireSelectionDetails=function(a,b,x){var y=function(N,Q){for(var i=0;N&&i<N.length;++i){if(N[i].id===Q){return N[i];}}return null;};var z=function(i,N){for(var Q in i){if(i.hasOwnProperty(Q)){var R=y(i[Q],N);if(R){return{role:Q,metaData:R};}}}return null;};var A=a.getDataModel();var B=A&&A.getBindingMetaData();var E=A&&A.context()&&A.context().metaData;var F=a.getStatusManager().get("data.unit");var G=a.getSemanticManager();var I;if(x){I=a.getProperties().get("plotArea.dataLabel.recapTitle")||L.get("IDS_END_OF_PERIOD");}var J=this;var K=b.map(function(N){var Q=A&&A.getDataPoint(N);if(!Q){return{'data':null,'displayData':[]};}var R=O.clone(Q.context());var U=G.analyzeDataPoint('color,lineColor,lineType,pattern',R,true,Q.additionCtx());var V=U&&U.dataName||{};var X=R[M];delete R[M];var Y=[],Z=[],$=[],_=[],a1=[],b1=[];for(var c1 in R){if(R.hasOwnProperty(c1)&&c1!==l){var d1=z(B,c1)||{'metaData':{}};var e1=null,f1=d1.role,g1,h1,i1=false,j1=null,k1=d1.metaData.type,l1=d1.metaData.name;if(k1===m){if(f1===W){continue;}else if(f1===o){e1=Y;h1=R[c1+e.DIMENSION_PARSED_VALUE_SUFFIX];g1=R[c1];}else{if(f1===p){e1=Z;}else{e1=$;}g1=R[c1+e.DIMENSION_DISPLAYNAME_SUFFIX]||R[c1];}}else if(k1===n){e1=_;g1=R[c1];R[c1]=(g1==null?g1:+g1);if(c1===X&&R.hasOwnProperty(P)){j1={value:g1,percentage:R[P]};}}else{d1=y(E,c1)||{};l1=d1.name;if(!d1.showInTooltip){continue;}i1=true;k1=d1.type;if(k1===m){e1=a1;g1=R[c1+e.DIMENSION_DISPLAYNAME_SUFFIX]||R[c1];}else{e1=b1;g1=R[c1];}}if(e1){e1.push({"id":c1,"label":V[c1]||l1||c1,"value":g1,"value.d":h1,"type":k1,"formatString":d1.formatString,'unit':F[c1],'unbound':i1,'bothValue':j1});}}}var m1,n1=a.getModule("main.plot");if(a.isBigDataMode()){m1=n1.mappingDataPointInfo(N).graphic;}else{if(n1){var o1=n1.getSeriesIndex(Q);var p1=Q.address(Q.addressType.CATEGORY);var q1=n1.getSeries();if(q1&&q1[o1]){var r1=q1[o1].getDataPoints();if(r1&&r1[p1]){m1=r1[p1].getData();}if(!m1){var s1;for(var i=0;i<r1.length;i++){s1=r1[i];if(s1&&s1.getData&&s1.getData()){m1=s1.getData();break;}}}}}if(!m1){var t1=J._getNodes([N],a)[0];if(t1){m1=h.getData(t1);}}}if(x){var u1=m1.recap;if(u1){var v1=a.getDataModel().valueAxis().metaData[0];_.push({"id":v1.id,"label":I,"value":u1.value,"value.d":u1.value,"type":n,"formatString":v1.formatString,'unit':F[v1.id],'unbound':false});}}var w1=Y.concat(Z).concat($).concat(a1).concat(b1).concat(_);var x1=a.getProperties();if(Y.length>0){var y1=Y.map(function(C1,i){return i;});w1.timeDimensions=y1;var z1=x1.get("tooltip.applyTimeAxisFormat");var A1=x1.get("tooltip.formatString");var B1=a.getModule("main.timeAxis");var id=A.timeAxis().metaData[0].id;z1=z1&&!(T.isExist(A1)&&T.isExist(A1[id]));g.processDateFormat.call(null,w1,z1,B1);}var D1=function(C1){return Object.keys(C1).reduce(function(R,c1){if(t.indexOf(c1)!==-1){R[c1]=C1[c1];}return R;},{});};w1=f.format({data:w1},x1,a,true).data.map(function(C1){var F1,G1=(C1.timeAxis&&C1.timeAxis.getFiscalUnitLabels&&C1.timeAxis.getFiscalUnitLabels());if(G1&&G1.length>0){F1=G1.map(function(H1,I1){var J1=D1(C1);J1.label=H1;J1.value=I1===0?C1.value.fiscalyear:C1.value.fiscalperiod;return J1;});}else{F1=D1(C1);}return F1;});var E1=[];w1.forEach(function(R){if(T.isArray(R)){E1=E1.concat(R);}else{E1.push(R);}});return{'data':R,'displayData':E1,'graphicInfo':f.buildEventGraphicInfo(a,m1,U)};});a.fireExternalEvent("_selectionDetails",{'name':'_selectionDetails','data':K});};q.prototype._fireEventForProcessSelection=function(a,b,i,x,y){if(b.length){a.fireEvent("deselectDataPoint",{targets:this._getNodes(b,a),isAnyOtherSelected:i.length>0});}if(i.length){a.fireEvent("selectDataPoint",{targets:this._getNodes(i,a)});}else{a.fireEvent("clearPlot",{isGray:false});}if(y!==false){if(x.length){a.fireEvent("dispatchDataEvent",{targets:x,isSelected:true});}if(b.length){a.fireEvent("dispatchDataEvent",{targets:b,isSelected:false});}}};function u(a,i,b,x){var y,z;if(i){y=C.Event.SelectData.name;z="selectData";}else{y=C.Event.DeSelectData.name;z="deselectData";}var A={name:y,data:b,type:x};if(i&&a.getStatus("rangeSelection")){var B=a.getStatus("rangeDomain");var E=a.getDataModel();var F=E._timeAxis.metaData[0].id;var G={},I={};G[F]=B[0];I[F]=B[1];A.dateTimeRange={start:G,end:I};}a.fireExternalEvent(z,A);}q.prototype.dispatchDataEvent=function(a,b){var i=a.data.targets;var x=this._buildEventData(i,b);var y=a.data.isSelected;u(b,y,x,"dataPoint");};q.prototype.dispatchRangeDataEvent=function(a,b){var i=a.data.targets;var x,y;if(b.isBigDataMode()){x=w(i,b);y="range";}else{x=this._buildEventData(i,b);y="dataPoint";}var z=a.data.isSelected;u(b,z,x,y);};q.prototype._buildEventData=function(a,b){var x=b.getDataModel();var y=b.getNodes(b.NodeType.DATA_POINT,false);var z={};for(var i=y.length;i--;){var A=c.getDataPointId(y[i]);z[A]=y[i];}return a.map(function(B){var E=x.getDataPoint(B);return{target:z[B]||null,data:E.context()};});};q.prototype._getNodes=function(a,b){return c.getNodes(a,b);};q.prototype._hasDataPoint=function(a,b){return S.hasDataPoint(a,b);};function v(a,b){var x=[],y=[];var z,i;for(var A in b){if(b.hasOwnProperty(A)){if(a.horizontal.indexOf(A)!==-1||a.vertical.indexOf(A)!==-1){z=b[A];for(i=0;i<z.length;i++){x.push(z[i].id);}continue;}z=b[A];for(i=0;i<z.length;i++){if(z[i].id==="measureNames"){continue;}y.push(z[i].id);}}}return{axisDef:x,seriesDef:y};}function w(x,y){var z=y.getModule("main.plot");if(!z){return;}var A=z.getAxisBinding();var B=y.getDataModel();var E=v(A,B.getBindingMetaData());var F=[],G=null,i;var I=null;var J=null;var K=E.axisDef;var N=E.seriesDef;x=x.slice().sort(function(a,b){return a-b;});var Q=[];for(i=0;i<x.length;i++){Q.push(B.getDataPoint(x[i]));}for(i=0;i<Q.length;i++){var R=Q[i];var U=R.address(R.addressType.SERIES);if(i!==0&&(J!==R.id-1||I!==U)){F.push(G);G=null;}var V=R.context();if(G==null){G={};N.forEach(function(a){G[a]=e.getContextValue(V,a);});K.forEach(function(a){var b=e.getContextValue(V,a);G[a]={min:b,max:b};});}else{K.forEach(function(a){var b=e.getContextValue(V,a);G[a].min=Math.min(b,G[a].min);G[a].max=Math.max(b,G[a].max);});}I=U;J=R.id;}if(G!=null){F.push(G);}return F;}return q;});define('sap/viz/chart/behavior/config/RuntimeSelectionHelperConfig',["sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/HighlightHelper"],function(R,H){return[{"id":"runtimeSelectionHelperDefinition","handler":R,"handlerType":"class","triggerEvent":[{"name":"afterBehaviorLoaded","method":"initializedClearSelection"},{"name":"beforeBehaviorUnloaded","method":"unloadedClearSelection"},{"name":"afterChartRendered","method":"refreshedKeepSelection"},{"name":"reRenderComplete","method":"reRenderKeepSelection"},{"name":"click","excludeTargets":H.getDeselAllExTargets(),"method":"deselectAll"},{"name":"processMultipleSelectionTooltip","method":"processMultipleSelectionTooltip"},{"name":"processSelection","method":"processSelection"},{"name":"processHighlight","method":"processHighlight"},{"name":"processUnhighlight","method":"processUnhighlight"},{"name":"dispatchDataEvent","declaredEvents":["selectData","deselectData"],"method":"dispatchDataEvent"},{"name":"dispatchDataEvent","declaredEvents":["selectData","deselectData"],"supportedChartTypes":["info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_watefall"],"method":"dispatchRangeDataEvent"}]}];});define('sap/viz/chart/behavior/config/SelectionTreeUtil',["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/interaction/Constants'],function(O,A,T,C){var M="measureNames";var b="*";var g={bindings:["color","color2"],selectionTree:"seriesSelectionTree",metaInfo:"seriesMetaInfo"};var c={bindings:["color","shape"],maxDimension:[1,1],selectionTree:"seriesSelectionTree",metaInfo:"seriesMetaInfo"};var h=null;var d={categoryAxis:{bindings:["categoryAxis"],selectionTree:"categorySelectionTree",metaInfo:"categoryMetaInfo"},categoryAxis2:{bindings:["categoryAxis2"],selectionTree:"category2SelectionTree",metaInfo:"category2MetaInfo"},series:g};function f(a,e,i,j,k,z){var B=a.getProperties().get("interaction.selectability");var D=B.mode?B.mode.toUpperCase():B.mode;var E=B.behavior?B.behavior.toUpperCase():B.behavior;var F;if(E===C.SELECTION_BEHAVIOR.CATEGORY){F=o(j,z);if(!k){s(i,F,z,0);}else{r(i,F,z,0);}a.setStatus(e,i);}else if(E===C.SELECTION_BEHAVIOR.SERIES){F=o(j,z);if(!k){s(i,F,z,0);}else{r(i,F,z,0);}a.setStatus(e,i);}}function l(a,e,i){var j=a.getProperties().get("interaction.selectability");var k=e.mode||(j.mode?j.mode.toUpperCase():j.mode);var z=j.behavior?j.behavior.toUpperCase():j.behavior;var B;if(e.isDeselect){B=a.getStatus(i);}else{B=(((k===C.SELECTION_MODE.EXCLUSIVE)&&!e.ctrlKey)||k===C.SELECTION_MODE.SINGLE&&!e.isDeselect)?{}:a.getStatus(i);}return B;}function s(a,i,e,z){if(!e[z]){return;}var B=e[z].id;var D;if(i.hasOwnProperty(B)){D=(i[B]&&i[B]["in"])?i[B]["in"]:[i[B]];}else{D=(e[z].values);}if(!a.children){a.children=[];}for(var j=0;j<D.length;++j){var E=D[j];for(var k=0;k<a.children.length;++k){if(a.children[k].value===E){break;}}var F;if(k<a.children.length){s(a.children[k],i,e,z+1);F=a.children[k];}else{F={dimension:B,maxChildren:e[z+1]?e[z+1].values.length:0,value:E,children:[]};a.children.push(F);s(F,i,e,z+1);}}}function r(a,i,e,z){if(!e[z]){return true;}var B=e[z].id;var D;if(i.hasOwnProperty(B)){D=(i[B]["in"])?i[B]["in"]:[i[B]];}else{D=(e[z].values);}for(var j=0;j<D.length;++j){var E=D[j];if(!a.children){return;}for(var k=0;k<a.children.length;++k){if(a.children[k].value===E){if(r(a.children[k],i,e,z+1)){a.children.splice(k,1);}break;}}if(a.children.length===0){return true;}}}function m(a,e,j){for(var i=0;i<a.children.length;++i){var k=a.children[i];var z=O.clone(j);z[k.dimension]=k.value;if(k.children.length===0){e.push({data:z});}else{m(k,e,z);}}}function n(j,k){var z=[];for(var i=0;i<j.length;++i){var B={},D=false;B.id=j[i].id;B.type=j[i].type;if(k[i].some(function(e){return e===null;})){D=true;}B.values=k[i]?A.unique(k[i],function(a){return a?a.toString():false;}):[];if(D){B.values.push(null);}if(j[i].hidden){B.hidden=true;}if(B.id===M&&B.values.length<2&&j.length>1){continue;}z.push(B);}return z;}function o(a,i){var j=i.filter(function(e){return e.id==="measureNames";})[0];if(j){var k=[];var z=O.clone(a);for(var B in z){if(z.hasOwnProperty(B)){if(j.values.indexOf(B)>-1){delete z[B];k.push(B);}}}if(k.length){z[M]={"in":k};}return z;}else{return a;}}function p(i,a,e,j){var k,z;var B={};if(e===C.SELECTION_BEHAVIOR.CATEGORY){z="categoryAxis";k=a.getStatus(d[z].metaInfo);B[z]=q(i,k);B[z]=t(B[z],k);z="categoryAxis2";k=a.getStatus(d[z].metaInfo);B[z]=q(i,k);B[z]=t(B[z],k);}else if(e===C.SELECTION_BEHAVIOR.SERIES){z="series";k=a.getStatus(d[z].metaInfo);B[z]=q(i,k);}else{return i;}if(B[z]&&j){u(B[z],k);}return B;}function q(i,a){var j=null;if(a){var k=a.filter(function(e){return e.id==="measureNames";})[0];var z=O.clone(i);for(var B in z){if(z.hasOwnProperty(B)){var D=a.filter(function(e){return e.id===B;});if(D.length===0){if(!k||k.values.indexOf(B)<0){delete z[B];}else{z[B]="*";}}}}if(!T.isEmptyObject(z)){j=z;}}return j;}function t(i,a){var e=O.clone(i);if(!a||!e){return null;}a.forEach(function(j){if(j.hidden){delete e[j.id];}});return T.isEmptyObject(e)?null:e;}function u(a,e){for(var i=0;i<e.length;++i){var j=e[i];if(!a[j.id]){a[j.id]=j.values[0];}}}function v(a){var e=(a.getDataModel()&&a.getDataModel().chartType)?a.getDataModel().chartType():null;switch(e){case"info/bubble":case"info/scatter":case"info/timeseries_bubble":case"info/timeseries_scatter":d.series=c;break;case"info/heatmap":case"info/treemap":d.series=h;break;default:d.series=g;}}function w(a){if(a._dataModelMgr&&a.getDataModel()){var z=a.getDataModel();v(a);for(var B in d){if(d.hasOwnProperty(B)&&d[B]){var D=d[B].bindings;var E=[],F=[];for(var i=0;i<D.length;++i){var G=z[D[i]];if(G&&!T.isEmptyObject(G())){var H=G();var I=H.metaData;var J=H.values;if(I&&J){var K=d[B].maxDimension;var L=K?(K[i]||I.length):I.length;var N;for(var j=0;j<L;++j){for(var k=0;k<E.length;++k){if(E[k].id===I[j].id){if(J[j]){if(J[j][0]&&J[j][0].v){N=J[j].map(function(e){return(e&&e.v);});}else{N=J[j];}F[k]=F[k].concat(N);}break;}}if(k===E.length){E.push(I[j]);if(J[j]){if(J[j][0]&&J[j][0].v){N=J[j].map(function(e){return(e&&e.v);});}else{N=J[j];}F.push(N);}}}}}}if(E.length&&F.length){var P=n(E,F);a.setStatus(d[B].selectionTree,{});a.setStatus(d[B].metaInfo,P);}}}}}function x(a,e){var i=a.getProperties().get("interaction.selectability.behavior");i=i?i.toUpperCase():i;var j=a.getDataModel().chartType();var k=false;if(e==="DATAPOINT"){if(i===C.SELECTION_BEHAVIOR.SERIES){if(a.getStatus("seriesMetaInfo")&&j.indexOf("bullet")<=-1&&j.indexOf("timeseries_waterfall")<=-1&&j!=="info/heatmap"){k=true;}}else if(i===C.SELECTION_BEHAVIOR.CATEGORY){if(a.getStatus("categoryMetaInfo")||(j==="info/heatmap"&&a.getStatus("categoryMetaInfo")&&a.getStatus("category2MetaInfo"))){k=true;}}else{k=true;}}else if(i===C.SELECTION_BEHAVIOR.DATAPOINT){k=true;}else if(i===e){if(!(i===C.SELECTION_BEHAVIOR.SERIES&&j.indexOf('waterfall')>-1)){k=true;}}return k;}function y(a,e){var i;if(e===C.SELECTION_BEHAVIOR.CATEGORY){i=d.categoryAxis.selectionTree;a.setStatus(i,{});i=d.categoryAxis2.selectionTree;a.setStatus(i,{});}else if(e===C.SELECTION_BEHAVIOR.SERIES){i=d.series.selectionTree;a.setStatus(i,{});}}return{getSelectionResult:m,filterDimension:q,applyDimensionalSelection:f,initSelectionTree:w,removeSelectionTree:r,getSelectionTree:l,applyFilterDimension:p,bindingConfig:d,isSelectable:x,emptySelectionTree:y};});define('sap/viz/chart/behavior/config/handler/SelectionAPIHandler',['sap/viz/framework/interaction/Constants',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/SelectionTreeUtil",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/behavior/config/ContextualDataUtil"],function(C,D,O,T,S,a,b,c,A,d,f){function s(e,h){h.fireEvent("hideDetail",{mode:"infoMode"});h.fireEvent("hideDetail",{mode:"actionMode"});var t=h.getProperties().get("interaction.selectability.behavior");var j=h.getProperties().get("interaction.selectability.mode");var k=j?j.toUpperCase():j;var l=t?t.toUpperCase():t;var o=e.options||{};var m;if(o.selectionMode){m=String(o.selectionMode).toUpperCase();}var v=false;for(var p in C.SELECTION_MODE){if(C.SELECTION_MODE.hasOwnProperty(p)&&p===m){v=true;break;}}if(!v){if(o.hasOwnProperty('clearSelection')&&k!==C.SELECTION_MODE.NONE){m=o.clearSelection?C.SELECTION_MODE.EXCLUSIVE:C.SELECTION_MODE.INCLUSIVE;if(l!==C.SELECTION_BEHAVIOR.DATAPOINT){a.emptySelectionTree(h,l);}}else{m=k;}}m=m?m.toUpperCase():m;if(m===C.SELECTION_MODE.NONE){e.success=false;return;}var q=e.items;var r=[];var u=true;var w,x;var y={};var z=[],B=[];if(m===C.SELECTION_MODE.RANGE){var E=h.getProperties().get("interaction.selectability.plotLassoMode");E=E?E.toUpperCase():E;var F=h.getProperties().get("interaction.selectability.plotLassoSelection");if(F&&E===C.SELECTION_MODE.RANGE&&T.isArray(q)&&q.length===2){var G=h.getDataModel(),I=G.dimensions(),J=G._timeAxis.metaData[0].id;w=q[0].data?new Date(q[0].data[J]).getTime():null;x=q[1].data?new Date(q[1].data[J]).getTime():null;if(T.isNaN(w)||T.isNaN(x)){e.success=false;return;}var K=[{data:{}}];if(w>x){var L=w;w=x;x=L;}var M=h.getExtendTimeRange();if(w>M[1]||x<M[0]){e.success=false;return;}w=Math.max(w,M[0]);x=Math.min(x,M[1]);K[0].data[J]={min:w,max:x};r=this._getTargets(K,h);}else{e.success=false;return;}}else if(T.isArray(q)&&q.length){if(h.getProperties().get("interaction.behaviorType")===C.BEHAVIOR.NOHOVER_BEHAVIOR_ID&&l!==C.SELECTION_BEHAVIOR.DATAPOINT){u=false;if(a.isSelectable(h,"DATAPOINT")){var N=false;if(k===C.SELECTION_MODE.SINGLE&&l===C.SELECTION_BEHAVIOR.SERIES){N=true;}for(var i=0;i<q.length;++i){var P=a.applyFilterDimension(q[i].data,h,l,N);var Q;var R;if(P){for(var U in P){if(P.hasOwnProperty(U)&&P[U]){Q=this._getTargets([{data:P[U]}],h);if(Q.length>0){if(r.length===0){z=Q;B[U]=[];B[U].push(P[U]);}r=r.concat(Q);u=true;y[U]=y[U]||[];y[U].push(P[U]);}}}}}r=A.unique(r);}}else{r=this._getTargets(q,h);u=r.length>0;}}e.success=u;if(u){var V=h.getProperties().get("interaction.selectByTimeAxisGroup");if(V){var W=[];r.forEach(function(Y){if(W.indexOf(Y)===-1){var Z=h.getNodes(h.NodeType.DATA_POINT_GROUP,false)[0];var $=D.findByDataPointId(Z,Y);var _=f.getDataPointsByTimeField($,h).map(function(n){return D.getDataPointId(n);});W=W.concat(_);}});if(W.length>0){r=A.unique(W);}}if(h.getStatus("rangeSelection")||m===C.SELECTION_MODE.RANGE){h._actionLayer.clear();h.setStatus("rangeSelection",false);var X=h.getStatus("selectedDataPoints");if(X&&X.length>0){h.setStatus("selectedDataPoints",[]).fireEvent("clearPlot");if(o.deselection===true){h.fireEvent("dispatchDataEvent",{targets:X,isSelected:false}).fireEvent("deselectDataPoint",{targets:D.getNodes(X,h),isAnyOtherSelected:false});return;}else{h.fireEvent("deselectDataPoint",{targets:D.getNodes(X,h),isAnyOtherSelected:r.length>0});}}}if(m===C.SELECTION_MODE.RANGE){h.setStatus('rangeDomain',[w,x]);h.fireEvent('rangeRecover');if(r.length>0){h.fireEvent("processSelection",{targets:r,mode:C.SELECTION_MODE.EXCLUSIVE});}}else{h.setStatus('rangeDomain',null);if(k===C.SELECTION_MODE.SINGLE&&l!==C.SELECTION_BEHAVIOR.DATAPOINT){y=B;r=z;}h.fireEvent("processSelection",{ctx:y,targets:r,deselection:o.deselection,mode:m,fireEvents:o.fireEvents});}}}function g(e){var h=e.getStatus("selectedDataPoints");var r=T.isArray(h)&&h.length?this._buildGetSelectionResult(h,e):[];var p=e.getProperties().get("interaction.selectability.plotLassoMode");if(p&&p.toUpperCase()===C.SELECTION_MODE.RANGE){var i=e.getProperties().get("interaction.selectability.mode");i=i?i.toUpperCase():i;if(i!==C.SELECTION_SINGLE&&i!==C.SELECTION_NONE){var j=e.getStatus("rangeDomain");var k=e.getDataModel(),l=k.dimensions(),m=k._timeAxis.metaData[0].id;r.dateTimeRange=j&&j.length===2&&m?{start:{},end:{}}:null;if(r.dateTimeRange){r.dateTimeRange.start[m]=j[0];r.dateTimeRange.end[m]=j[1];}}}var t=e.getProperties().get("interaction.selectability.behavior");var n=t?t.toUpperCase():t;if(e.getProperties().get("interaction.behaviorType")===C.BEHAVIOR.NOHOVER_BEHAVIOR_ID&&n!==C.SELECTION_BEHAVIOR.DATAPOINT){var o;var q=[];if(n===C.SELECTION_BEHAVIOR.CATEGORY){o=e.getStatus("categorySelectionTree");if(!T.isEmptyObject(o)&&o){a.getSelectionResult(o,q,{});}o=e.getStatus("category2SelectionTree");if(!T.isEmptyObject(o)&&o){var u=[];a.getSelectionResult(o,u,{});r.category=q.concat(u);}else{r.category=q;}}else if(n===C.SELECTION_BEHAVIOR.SERIES){o=e.getStatus("seriesSelectionTree");if(!T.isEmptyObject(o)&&o){a.getSelectionResult(o,q,{});}r.series=q;}}return r;}var H=function(){};H.prototype.initialize=function(e,h){if(h.getProperties().get("interaction.behaviorType")===C.BEHAVIOR.NOHOVER_BEHAVIOR_ID){a.initSelectionTree(h);}var t=this;h.getStatusManager().add("interaction.selectedDataPoints",{serializable:false,set:function(i){s.call(t,i||{},h);},get:function(){return g.call(t,h);}});};H.prototype._getTargets=function(i,e){return S.getTargets(i,e);};H.prototype._buildGetSelectionResult=function(h,i){var t,m=[],j=[],k=i.getDataModel(),l=i.getSemanticManager();if(k&&k.timeAxis&&k.timeAxis()){t=k.timeAxis().metaData.map(function(e){return e.id;});}if(k&&k._rawData&&k._rawData.data()){var n=k._rawData.data().metadata;if(n&&n.fields){m=n.fields.filter(function(e){return e.semanticType==="Measure";});j=n.fields.filter(function(e){return e.semanticType==="Dimension";});}}return h.map(function(e){var o=k.getDataPoint(e);var p=O.clone(o.context());delete p["measureNames"];delete p["_id"];delete p[t+b.DIMENSION_PARSED_VALUE_SUFFIX];var r={data:p};var q=l.analyzeDataPoint('color,lineColor,lineType,pattern',o.context(),true,o.additionCtx());var u=q&&q.dataName||{};m.forEach(function(v){var w=v.id;if(p.hasOwnProperty(w)&&v.hasOwnProperty('unit')){r.unit=r.unit||{};r.unit[w]=v.unit;}if(r.data[w]!=null){r.data[w]=+r.data[w];}if(u.hasOwnProperty(w)){r.dataName=r.dataName||{};r.dataName[w]=u[w];}});j.forEach(function(v){var w=v.id;if(u.hasOwnProperty(w)){r.dataName=r.dataName||{};r.dataName[w]=u[w];}});return r;});};return H;});define('sap/viz/chart/behavior/config/SelectionAPIConfig',["sap/viz/chart/behavior/config/handler/SelectionAPIHandler"],function(S){return[{"id":"selectionAPIDefinition","handler":S,"handlerType":"class","triggerEvent":[{"name":"afterBehaviorLoaded","method":"initialize"}]}];});define('sap/viz/chart/behavior/config/PinchBehaviorConfig',["sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/interaction/Constants'],function(D,S,U,P,C){var c=["info/bar","info/column","info/dual_bar","info/dual_column","info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/combinationEx","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/dual_combination","info/dual_horizontal_combination","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/waterfall","info/stacked_waterfall","info/horizontal_waterfall","info/horizontal_stacked_waterfall"],b=["info/bubble","info/scatter","info/time_bubble","info/timeseries_bubble","info/timeseries_scatter"],t=["info/timeseries_waterfall","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/timeseries_bullet"];var a=c.concat(b,t);function d(s){var g=s.getModule("main"),h=g.getHScrollbar(),v=g.getVScrollbar(),j='';if(h&&h.isExist){j+="x";}if(v&&v.isExist){j+="y";}return j;}function z(g,h){if(!U.isMobile()){return null;}var j=h.getModule("main"),s=g.data.scale,r=h.getStatus("ratioBeforePinch");return j.getZoomer().zoom({x:r.x*s,y:r.y*s},g.data.point);}function i(g,s){var h=s.getModule("main.plot");s.setStatus("canvasBBox",h.getSize());s.fireEvent(g,true);}var T=2;var e=C.RANGE_SELECTION.OFFSET;function p(x,y,s,g){var h=false,j=s.getModule("main").getHScrollbar(),v=s.getModule("main").getVScrollbar(),k=j?j._isFull():true,l=v?v._isFull():true,m=j?j.isThumbOverTrack(-x):true,n=v?v.isThumbOverTrack(-y):true,o=false;switch(g){case"x":o=(Math.abs(x)<T&&y!==0);h=k||m;break;case"y":o=(Math.abs(y)<T&&x!==0);h=l||n;break;case"xy":h=((k&&l)||(m&&n)||(k&&n)||(m&&l));break;}return o||h;}function f(g,s){if(!U.isMobile()){return;}if(s.getStatus("dragAsLasso")){s.fireEvent({name:"lassomove",data:g.data});return;}var h=s.getStatus("panLastPoint");if(!h){return;}var j=g.data.point,k=d(s),x=j.x-h.x,y=j.y-h.y,o=s.getStatusManager().get("plot.transform.translate"),l={x:o.x+x,y:o.y+y},m=p(x,y,s,k);s.setStatus("panLastPoint",j);s.getStatusManager().set("plot.transform.translate",l);if(!m&&g.data.originalEvent.cancelable){g.data.originalEvent.preventDefault();}else if(U.isWindowsSurface()||U.isWindowsPhone()){window.scrollBy(-x,-y);}S.showScrollbar(s);s.setStatus("needToPreventDefault",!m);}return[{"id":"initialized_pinch","triggerEvent":{"name":"afterChartRendered","supportedChartTypes":a},"handler":i},{"id":"pinchstart_on_eventLayer","triggerEvent":{"name":"pinchstart","targets":"v-m-root","supportedChartTypes":a},"handler":function(g,s){if(U.isMobile()){s.setStatus("ratioBeforePinch",s.getStatusManager().get("plot.transform.scale"));return z(g,s);}else{return null;}}},{"id":"pinchmove_on_eventLayer","triggerEvent":{"name":"pinchmove","targets":"v-m-root","supportedChartTypes":a},"handler":z},{"id":"pinchend_on_eventLayer","triggerEvent":{"name":"pinchend","targets":"v-m-root","supportedChartTypes":a},"handler":z},{"id":"2Xfingertouch_show_indicator","triggerEvent":{"name":"touchchange","targets":"v-m-root","supportedChartTypes":a},"handler":function(g,s){if(!U.isMobile()||g.data.totalTouchesNumber!==2){return;}s.fireEvent("hideDetail",{mode:"actionMode"});S.showScrollbar(s,true);}},{"id":"pan_start_on_plot_pinch","triggerEvent":{"name":"dragstart","targets":["v-m-plot","v-m-action-layerrange-content","v-m-datapoints"],"supportedChartTypes":a},"handler":function(g,s){if(!U.isMobile()){return;}if(s.getStatus("rangeSelection")){var r=s.getBBox(s.BoxType.RANGE_SELECTION);if(r){var h=g.data.point;if(h.x>=r.left-e&&h.x<=r.right+e&&h.y>=r.top&&h.y<=r.bottom){s.setStatus("dragAsLasso",true);s.fireEvent({name:"lassostart",data:g.data});return;}}}s.fireEvent("hideDetail",{mode:"actionMode"});s.setStatus("panLastPoint",g.data.point);if(s.getStatus("needToPreventDefault")&&g.data.originalEvent.cancelable){g.data.originalEvent.preventDefault();}S.showScrollbar(s);}},{"id":"pan_move_on_plot_pinch","triggerEvent":{"name":"dragmove","targets":["v-m-plot","v-m-action-layerrange-content","v-m-datapoints"],"supportedChartTypes":a},"handler":f},{"id":"pan_end_on_plot_pinch","triggerEvent":{"name":"dragend","targets":["v-m-plot","v-m-action-layerrange-content","v-m-datapoints"],"supportedChartTypes":a},"handler":function(g,s){if(!U.isMobile()){return;}if(s.getStatus("dragAsLasso")){s.fireEvent({name:"lassoend",data:g.data});s.removeStatus("dragAsLasso");return;}if(s.getStatus("needToPreventDefault")&&g.data.originalEvent.cancelable){g.data.originalEvent.preventDefault();}s.removeStatus("panLastPoint");P.scroll.save(s);}}];});define('sap/viz/chart/behavior/config/TooltipBehaviorConfig',["sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler"],function(T){return[{"id":"tooltipBehaviorDefinition","handler":T,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialized"},{"name":"beforeBehaviorUnloaded","method":"unloadedClear"},{"name":"afterChartRendered","method":"refreshedTooltip"},{"name":"showDetail","method":"showDetail"},{"name":"hideDetail","method":"hideDetail"},{"name":"showTooltipHoverOnPlot","method":"showTooltipHoverOnPlot"},{"name":"hideTooltipHoverOnPlot","method":"hideTooltipHoverOnPlot"},{"name":"showTooltipClickBigData","method":"showTooltipClickBigData"},{"name":"hideTooltipClickBigData","method":"hideTooltipClickBigData"},{"name":"extractTooltipData","method":"extractTooltipData"},{"name":"extractTooltipData","supportedChartTypes":["info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/trellis_100_stacked_bar","info/trellis_100_stacked_column","info/trellis_100_dual_stacked_bar","info/trellis_100_dual_stacked_column","info/100_area","info/100_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],"method":"extractTooltipDataPercentage"},{"name":"extractTooltipData","supportedChartTypes":["info/pie","info/donut",'info/trellis_pie','info/trellis_donut'],"method":"extractTooltipDataPie"},{"name":"extractTooltipData","supportedChartTypes":["info/time_bubble"],"method":"extractTooltipDataTimebubble"},{"name":"extractTooltipData","supportedChartTypes":["info/100_mekko","info/100_horizontal_mekko"],"method":"extractTooltipDataPercentageMekko"},{"name":"extractTooltipData","supportedChartTypes":["info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/timeseries_bullet"],"method":"extractTooltipDataTimeLine"},{"name":"extractTooltipData","supportedChartTypes":["info/waterfall","info/stacked_waterfall","info/horizontal_waterfall","info/horizontal_stacked_waterfall"],"method":"extractTooltipDataWaterfall"},{"name":"extractTooltipData","supportedChartTypes":["info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_combination","info/dual_horizontal_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination"],"method":"extractTooltipDataCombination"},{"name":"extractTooltipData","supportedChartTypes":["info/combinationEx","info/trellis_combinationEx"],"method":"extractTooltipDataComboEx"},{"name":"extractTooltipData","supportedChartTypes":["info/timeseries_100_stacked_column"],"method":"extractTooltipDataTimeStackedColumnPercentage"},{"name":"extractTooltipData","supportedChartTypes":["info/timeseries_waterfall"],"method":"extractTooltipDataTimeWaterfall"}]}];});define('sap/viz/chart/behavior/config/ZoomBehaviorConfig',["sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants"],function(P,a,D,C){var b=["info/100_dual_stacked_bar","info/100_dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/bar","info/bullet","info/vertical_bullet","info/column","info/combination","info/combinationEx","info/dual_combination","info/dual_bar","info/dual_column","info/dual_stacked_bar","info/dual_stacked_column","info/horizontal_combination","info/dual_horizontal_combination","info/stacked_bar","info/stacked_column","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_horizontal_line","info/dual_line","info/horizontal_line","info/line","info/scatter","info/bubble","info/time_bubble","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_bubble","info/timeseries_scatter","info/timeseries_combination","info/timeseries_bullet","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/timeseries_waterfall","info/waterfall","info/stacked_waterfall","info/horizontal_stacked_waterfall","info/horizontal_waterfall","info/area"];var A=["stroke","stroke-opacity","stroke-width","fill","fill-opacity"];return[{id:"restore_size_and_position_on_render",triggerEvent:{name:"afterChartRendered"},handler:function(e,s){var p=s.getProperties();if(p.get("plotArea.scrollbar.visible")===false){s.setStatus("plotArea.window",[]);return;}if((p.get("plotArea.isFixedDataPointSize")===false)&&(p.get("interaction.zoom.enablement")!=="enabled")&&!p.get("plotArea.window.start")&&!p.get("plotArea.window.end")){return;}if(a.hasRangeChange(s)){s.setStatus("plotArea.window",s.getStatusManager().get("plotArea.window"));a.size.save(s);a.scroll.save(s);}else{a.size.load(s);a.scroll.load(s);}}},{id:"discard_saved_zoom_onscalechange",triggerEvent:{name:"scalesUpdated"},handler:function(e,c){if(e.data instanceof Array&&e.data.some(function(s){return s.feed!=="color"&&s.feed!=="shape";})){a.size.clear(c);a.scroll.clear(c);}}},{id:"discard_saved_zoom_ondatachange",triggerEvent:{name:"dataUpdated"},handler:function(e,s){a.size.clear(s);a.scroll.clear(s);}},{id:"discard_saved_zoom",triggerEvent:{name:"discardSavedZoom"},handler:function(e,s){a.size.clear(s);a.scroll.clear(s);}},{id:"save_zoom",triggerEvent:{name:"saveZoom","supportedChartTypes":b},handler:function(e,s){a.size.save(s);a.scroll.save(s);}},{"id":"zoom_on_mousewheel_area_prezoom","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange"],"supportedChartTypes":["info/combinationEx"]},"handler":function(e,s){if(!e.data.originalEvent.ctrlKey){return;}var c=[].slice.call(s.getNodes(s.NodeType.DATA_POINT,false)),d=c.filter(function(n){return D.getData(n).seriesType==="area";});s.setStatus("areaDpStyles",d.filter(function(n){return n.getAttribute("opacity")!=="0";}).map(function(n){var p=n.querySelector("path");return{dataId:n.getAttribute("data-id"),opacity:n.getAttribute("opacity"),pathAttrs:A.map(function(f){return p.getAttribute(f);})};}));}},{"id":"zoom_on_mousewheel","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange","v-m-datapoints"],"supportedChartTypes":b},"handler":function(e,s){if(e.data.originalEvent.ctrlKey){s.getNodes(s.NodeType.LEGEND_GROUP).select(".v-m-highlight").remove();s.getNodes(s.NodeType.MAIN_NODE).select(".v-m-highlight").remove();var d=e.data.wheelDelta>0?"in":"out";var i=s.isBigDataMode();s.getModule("main").getZoomer().zoomInOut(d,e.data.point,C.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS_MOSUSEWHEEL);e.data.originalEvent.preventDefault();var c=s.isBigDataMode();if(i&&!c){var f=s._getDecorationLayer();f.clear();}}}},{"id":"zoom_on_mousewheel_area_rehighlight","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange"],"supportedChartTypes":["info/combinationEx"]},"handler":function(e,s){var c=s.getStatus("areaDpStyles");if(!e.data.originalEvent.ctrlKey||!c||!c.length){return;}var d=s.getNodes(s.NodeType.DATA_POINT,false),f=[].reduce.call(d,function(g,n){g[n.getAttribute("data-id")]=n;return g;},{});c.forEach(function(j){var g=f[j.dataId],p;if(g){g.setAttribute("opacity",j.opacity);p=g.querySelector("path");A.forEach(function(k,i){p.setAttribute(k,j.pathAttrs[i]);});}});var h=s.getStatus("hoveringDataPoint");if(h){s.setStatus("hoveringDataPoint",f[h.getAttribute("data-id")]);}s.removeStatus("areaDpStyles");}}];});define('sap/viz/chart/behavior/config/ScreenReaderUtil',["jquery","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils",'sap/viz/chart/behavior/config/ContextualDataUtil',"sap/viz/chart/behavior/config/SelectionUtil",'sap/viz/framework/interaction/Constants'],function(q,D,L,a,C,T,c,S,d){var H="hours";var M="minutes";var e="senconds";var s=function(b,n){var r=b.rootContainer;if(r.attr("markARIAforNonInteractive")==="true"){return;}r.attr("markARIAforNonInteractive","true");var o=n._getRenderType();var p=b.rootElement;var t=p.node();var u=b.chartAppId;var v=p.append('g').attr('class',C.CSS.CLASS.NONINTERACTIVEARIA);var w=r.attr('aria-labelledby');var x=t.querySelectorAll('.v-datapoint');w+=f(x,v,n,1,'DataPoint',u);var y;if(m(n)){y=t.querySelectorAll('.v-timeaxis-item');}else{var z=t.querySelector('.v-m-categoryAxis');y=z?z.querySelectorAll('.v-axis-item'):[];}w+=f(y,v,n,2,'Axis',u);var A=k(n)||l(n)?t.querySelectorAll('.v-mbc-legend-item'):t.querySelectorAll('.v-legend-item');w+=f(A,v,n,3,'Legend',u);var B=t.querySelector('.v-m-categoryAxis2');if(B){y=B.querySelectorAll('.v-axis-item');w+=f(y,v,n,4,'Axis2',u);}r.attr('aria-labelledby',w);};var f=function(b,n,o,p,r,u){if(b.length===0){return"";}else{var v,w='';var x=m(o);for(var t=0;t<b.length;t++){w+=' '+i(o,b[t],x,p,true);}v=u+'-Aria'+r;n.append('g').attr('aria-label',w).attr('id',v);return' '+v;}};var g=function(b,n){var r=n.rootContainer;var o=r.node();if(o.getAttribute("markARIAforNonInteractive")){var p=n.chartAppId;o.removeAttribute("markARIAforNonInteractive");o.setAttribute('aria-labelledby',p+"-title");var t=n.rootElement.node().querySelector('.'+C.CSS.CLASS.NONINTERACTIVEARIA);if(t){t.parentNode.removeChild(t);}}};var h=function(b,t,m){i(b,t,m,null,false);};var i=function(n,t,m,o,p){o=o||n.getStatus("tabOrder");if(!p&&!j(n,o)){return;}var r=t.getAttribute("data-datapoint-id");var u="";var v;var w;var x=n.getStatusManager().get("data.unit");switch(o){case 1:if(k(n)&&!r){u=' Category Axis Item '+u;u+=t.nextSibling.value;if(!p){d3.select(t).attr("role","option");}break;}u=' Data Value '+u;if(n&&r){w=D.getContextByDataModel(t,n.getDataModel());}if(w){if(k(n)){delete w.level;delete w.levelNum;delete w.realLabelWidth;}v=Object.keys(w);if(m){var y=n.getDataModel().measures();var z=n._dataModelMgr._bindings;var A=[],B=[];for(var b in z){if(y.indexOf(z[b].feed)!==-1){A=A.concat(z[b].source);}}var E=v.filter(function(_){if(A.indexOf(_)===-1){return _;}else{B.push(_);}});v=E.concat(B);}var F={};var G=[];var I=[];var J=[];var K;v.forEach(function(_){if(/(\.d)$/.test(_)){G.push(_);}else{I.push(_);}});if(G.length>0){I.forEach(function(_){K=G.indexOf(_+".d");if(K>-1){G.splice(K,1);}});G.forEach(function(_){K=G.indexOf(_+".d");if(K>-1){G.splice(K,1);}});}J=I.concat(G);if(J.length!==v.length){v.forEach(function(_){if(J.indexOf(_)>-1&&v.indexOf(_+".d")>-1){F[_]=w[_+".d"];}else if(J.indexOf(_)>-1){F[_]=w[_];}});w=F;v=J;}}if(!p){d3.select(t).attr("role","listitem");}break;case 2:case 4:u=(m?' Time Axis Item ':' Category Axis Item ')+u;u+=a.getContext(t).text;if(!p){d3.select(t).attr("role","option");}break;case 3:if(t.getAttribute('aria-posinset')==='1'){var N=n.getProperties();if(N.get('legend.title.visible')){u=" Legend title is "+n.getModule("legendGroup.legend").getLegendTitleText()+". ";}}u=u+' Legend Item ';v=a.getContext(t).val;if(!T.isArray(v)){if(v==='N/A'){v=L.get("IDS_ISNOVALUE");u+=v;}else{var O=a.getContext(t).ctx;var P=O.measureName;if(P){var Q=O[P].min;var R=O[P].openmax;if(Q===-Number.MAX_VALUE){u+=" below "+R;}else if(R===Number.MAX_VALUE){u+=" above "+Q;}else{u+=Q+" to "+R;}}else{u+=v;}}v=null;}else{var U=[];v.forEach(function(_){if(!T.isString(_)&&T.isPlainObject(_)){U.push(_.d);}});v=U.length>0?U:v;}if(!p){d3.select(t).attr("role","option");}break;}var V=n.getProperties().get("interaction.selectByTimeAxisGroup");if(v){v.forEach(function(_){if(o!==3&&w){var a1=w[_];if(!T.isExist(a1)){a1=L.get("IDS_ISNOVALUE");}if(_!==C.BINDING.MEASURE_NAMES&&_!==C.BINDING.CONTEXT_ID_NAME&&!(/(\.parsedValue)$/.test(_))){var b1=n.getModule("main.timeAxis");if(_.toLowerCase()===C.DATA_TYPE.DATE&&b1){var c1=false;var d1=b1.getFormatTimeValue(w.Date);if(n.getProperties().get("interaction.behaviorType")==="noHoverBehavior"){var e1=new Date(a1);u=d1.day+" "+e1.getHours()+" "+H+" "+e1.getMinutes()+" "+M+" "+e1.getSeconds()+" "+e+" ";}else{if(n.getProperties().get("tooltip")){c1=n.getProperties().get("tooltip").applyTimeAxisFormat;}if(c1){u=(d1.time===null)?d1.day+" ":d1.time+" "+d1.day+" ";}else{var f1=new Date(a1);u=d1.day+" "+f1.getHours()+" "+H+" "+f1.getMinutes()+" "+M+" "+f1.getSeconds()+" "+e+" ";}}}else{if(!V){if(x&&x[_]){u+=_+" "+a1+x[_]+" ";}else{u+=_+" "+a1+" ";}}}}}else{if(!T.isExist(_)){_=L.get("IDS_ISNOVALUE");}u+=_+" ";}});if(V&&o===1){var W=n.getDataModel().color().metaData;var X=W?W.map(function(_){return _.id;}):[];W=n.getDataModel().context().metaData;var Y=W?W.filter(function(_){return _.showInTooltip&&_.type==='Dimension';}).map(function(_){return _.id;}):[];X=X.concat(Y);var Z=n.getProperties().get("plotArea.dataLabel.recapTitle")||L.get("IDS_END_OF_PERIOD");var $=c.getDataPointsByTimeField(t,n);$.forEach(function(_){var a1=a.getContext(_);var b1="",c1="";for(var d1 in a1){if(a1.hasOwnProperty(d1)){if(d1!==C.BINDING.MEASURE_NAMES&&d1.toLowerCase()!==C.DATA_TYPE.DATE&&!(/(\.parsedValue)$/.test(d1))){if(X.indexOf(d1)===-1){c1+=d1+" "+a1[d1]+" ";}else{b1+=a1[d1]+" ";}}}}u+=b1+c1;var e1=a.getData(_).recap;if(e1){u+=Z+" "+e1.value;}});}}if(!p&&o===1&&S.hasDataPoint(n.getStatus("selectedDataPoints"),r)){u=u+' is selected';}u+=". ";if(!p){d3.select(t).attr('aria-label',u).attr("focusable",true).style('outline','none');if(typeof t.focus==="function"){t.focus();}else{HTMLElement.prototype.focus.call(t);}}else if(o===3){u+=t.getAttribute('aria-posinset')+" of "+t.getAttribute('aria-setsize')+". ";}return u;};var j=function(b,t){var n=true;var o=b.getProperties().get("interaction.selectability");if(!o){n=false;}else{var p=(o.mode||"").toUpperCase();var r=(o.behavior||"").toUpperCase();if(p===d.SELECTION_MODE.NONE){n=false;}else{switch(t){case 1:n=o.plotStdSelection;break;case 3:if(!o.legendSelection||(p===d.SELECTION_MODE.SINGLE&&r!==d.SELECTION_BEHAVIOR.SERIES)){n=false;}break;case 2:case 4:if(!o.axisLabelSelection||(p===d.SELECTION_MODE.SINGLE&&r!==d.SELECTION_BEHAVIOR.CATEGORY)){n=false;}break;}}}return n;};var k=function(b){var n=b._getRenderType();return(n.indexOf("treemap")>-1);};var l=function(b){var n=b._getRenderType();return(n.indexOf("heatmap")>-1);};var m=function(b){var n=b._getRenderType();return(n.indexOf("timeseries")>-1);};return{clearNonInteractiveAria:g,setInteractiveScreenReaderDesc:h,setNonInteractiveScreenReaderDesc:s};});define('sap/viz/chart/behavior/config/ScreenReaderConfig',["sap/viz/chart/behavior/config/ScreenReaderUtil"],function(S){var c=[{"id":"focus_chart_on_non_interactive_mode","triggerEvent":{"name":"focusOnChart"},"handler":function(e,s){S.clearNonInteractiveAria(s,e.data);var a=e.data.rootContainer.node();var i=s._propertyMgr.get('interaction.noninteractiveMode');if(i){a.onfocusin=function(){S.setNonInteractiveScreenReaderDesc(e.data,s);};}else if(a.onfocusin){a.onfocusin=null;}}}];return c;});define('sap/viz/chart/behavior/config/handler/KeyboardBehaviorHandler',['sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/UADetector",'sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/ScrollbarUtil","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/interaction/Constants','sap/viz/chart/behavior/config/ContextualDataUtil',"sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/behavior/config/ScreenReaderUtil","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/chart/components/util/ChartTypeUtils"],function(S,U,C,a,b,c,D,d,P,f,T,L,g,h,k,O,l,B,n){var o=0.05;var A=0.95;var q="tabOrder";var r=b.DATAPOINT_NAVIGATOR;var s=b.CATEGORYAXIS_NAVIGATOR;var t=b.CATEGORYAXIS2_NAVIGATOR;var u=b.TIMEAXIS_NAVIGATOR;var w=b.LEGEND_NAVIGATOR;var z=b.COLORLEGEND_NAVIGATOR;var M=b.MBCLEGEND_NAVIGATOR;var E='parsedValue';var F="mainNode";var G="legendGroup";var H="plotNode";var I=C.CSS.CLASS.CATEGORY_BOUND_SELECTION;var J=C.CSS.CLASS.CATEGORY2_BOUND_SELECTION;var K=C.CSS.CLASS.TIME_BOUND_SELECTION;var N=C.CSS.CLASS.LEGEND_BOUND_SELECTION;var Q=C.CSS.CLASS.PLOT_BOUND_SELECTION;var R=C.CSS.CLASS.LEGEND_ITEM_BOUND_SELECTION;var V=C.CSS.CLASS.AXIS_ITEM_BOUND_SELECTION;var W=C.CSS.CLASS.DATAPOINTHOVER;var Z=C.CSS.CLASS.ZEROVALUEHOVER;var X=C.CSS.CLASS.ZERO_LINE_GROUP;var Y=C.CSS.CLASS.STACK;var $="v-focusInside";var _={RECT:2,LINE:1};var a1=function(e){return e.getModule("legendGroup.legend").getScrollbar();};var b1=function(e){var x=e.getModule("main");if(!x){return null;}var i=e.isHorizontal();if(i===undefined){return null;}if(i){return x.getVScrollbar();}else{return x.getHScrollbar();}};var c1=function(e,i,j,m){var p=null;var v=i.name;var x=i.data.originalEvent.altKey;if(x){switch(v){case"uparrow":p=e.upSeries(j);break;case"downarrow":p=e.downSeries(j);break;case"leftarrow":p=e.leftSeries(j);break;case"rightarrow":p=e.rightSeries(j);break;}}else{switch(v){case"uparrow":var y=0;if(m){y=d1(m).getOffset();}p=e.up(j,y);break;case"downarrow":p=e.down(j);break;case"leftarrow":p=e.left(j);break;case"rightarrow":p=e.right(j);break;}}return p;};function d1(e){return e.getModule('main.plot')||e.getModule('plot');}function e1(e){return e.getModule('main')||e.getModule('plot');}function f1(e,p,i,j,m,v){if(e.height!==p.height){i=i||{x:m.x};i.y=null;if(v){if(j.y+j.height+m.y>p.height){i.y=-(j.y+j.height-p.height*A);}else if(j.y+j.height+m.y<p.height*o){if(j.height>=p.height*(1-o)){i.y=-(j.y+j.height-p.height*A);}else{i.y=-(j.y-p.height*(1-A));}}}else{if(j.y+m.y>p.height*(1-o)){if(j.height>=p.height*(1-o)){i.y=-(j.y-p.height*(1-A));}else{i.y=-(j.y+j.height-p.height*A);}}else if(j.y+m.y<0){i.y=-(j.y-p.height*(1-A));}}}return i;}function g1(e,p,i,j,m,v){if(e.width!==p.width){i=i||{y:m.y};i.x=null;if(v){if(j.x+m.x<0){i.x=-(j.x-p.width*(1-A));}else if(j.x+m.x>p.width*(1-o)){if(j.width>p.width*(1-o)){i.x=-(j.x-p.width*(1-A));}else{i.x=-(j.x+j.width-p.width*A);}}}else{if(j.x+j.width+m.x<p.width*o){if(j.width>p.width*(1-o)){i.x=-(j.x+j.width-p.width*A);}else{i.x=-(j.x-p.width*(1-A));}}else if(j.x+j.width+m.x>p.width){i.x=-(j.x+j.width-p.width*A);}}}return i;}function h1(e,i,p,j,m){var v=d1(i);var x=e1(i);var y=v.getOffset();var F1=v.getSize();var G1=v.getRealSize();var H1=null;var I1=i._getRenderType().indexOf("bubble")>-1;var J1=i._getRenderType().indexOf("scatter")>-1;var K1={x:p.x,y:p.y,width:p.width,height:p.height};if(p.width===0||p.height===0){p.width=0;p.height=0;}if(I1||J1){K1=p;}if(j==null&&p.r!=null){if(p.x<-y.x||p.x+p.r>-y.x+F1.width||p.y<-y.y||p.y+p.r>-y.y+F1.height){if(e==="leftarrow"){H1={x:-p.x,y:null};}else if(e==="rightarrow"){H1={x:F1.width-p.x-p.width,y:null};}else if(e==="downarrow"){H1={x:null,y:F1.height-p.y-p.height};}else{H1={x:null,y:-p.y};}}if(m.needAdjust){if(["rightarrow","leftarrow"].indexOf(e)!==-1){H1=f1(G1,F1,H1,p,y,true);}else{H1=g1(G1,F1,H1,p,y,true);}}}else if(j===true){if(K1.y<-y.y||K1.y+K1.height>F1.height-y.y){if("downarrow"===e){var L1=K1.y+K1.height-F1.height;H1={x:null,y:-L1};}else{H1={x:null,y:-K1.y};}}if(m.needAdjust){H1=g1(G1,F1,H1,p,y,m.isNegative);}}else{if(K1.x<-y.x||K1.x+K1.width>F1.width-y.x){if("rightarrow"===e){var M1=K1.x+K1.width-F1.width;H1={x:-M1,y:null};}else{H1={x:-K1.x,y:null};}}if(m.needAdjust){H1=f1(G1,F1,H1,p,y,m.isNegative);}}if(H1){x.scroll(H1);if(this._isTimeseries){var N1=this[u];var O1=i.getModule("main.timeAxis.axisBody").getActiveLabels();N1.updateCells(O1);}return true;}return false;}var i1=function(e,i,j){if(!j){return;}var m=i.getNodes(i.NodeType.LEGEND_BODY_BOUND_SELECTION,false)[0];if(!m){return;}var v=m.getBoundingClientRect();if(!v){return;}var p=j.getBoundingClientRect();var x=0;if(U.isIE()||U.isFirefox()){x=2;}var y;if(p.right>v.right+x){y=(p.right-v.right);}else if(p.left<v.left-x){y=(p.left-v.left);}else if(p.top<v.top-x){y=(p.top-v.top);}else if(p.bottom>v.bottom+x){y=(p.bottom-v.bottom);}if(y!=null){var F1=i.getModule("legendGroup.legend");var G1=F1.getScrollbar();if(G1&&G1.isExist()){var H1=G1.getThumbRatio();y/=H1?H1:1;F1.scroll(y);}e.data.originalEvent.preventDefault();}};function j1(e,i,j,m,p,v){if(!m){if(p){var F1=i.getStatus("keyArrowHoveredDataPoint");if(F1){i.fireEvent("unhoverOnDataPoint",{targets:F1});}}return;}if(j==='hover'){l.setInteractiveScreenReaderDesc(i,m,p);}var G1=i.getStatus("tabOrder");if(G1===1&&e.name==="tab"&&i.getProperties().get("interaction.selectability.plotStdSelection")){v1(d3.select(m),true);}var H1=m.getBoundingClientRect();var I1=i.getBBox(i.BoxType.PLOT_BOUND_NODE);var J1,K1,L1,M1,N1;var x,y;if(G1===1){J1=Math.max(H1.left,I1.left);K1=Math.min(H1.right,I1.right);L1=Math.max(H1.top,I1.top);M1=null;N1=i._getRenderType();if(N1.indexOf("pie")>-1||N1.indexOf("donut")>-1||N1.indexOf("bubble")>-1||N1.indexOf("scatter")>-1||N1.indexOf("heatmap")>-1||N1.indexOf("treemap")>-1){M1=Math.min(H1.bottom,I1.bottom);}x=(J1+K1)/2;y=M1?(L1+M1)/2:L1;}else{x=(H1.left+H1.right)/2;y=(H1.top+H1.bottom)/2;}i.fireEvent(j,{target:m,ctrlKey:e.data.originalEvent.ctrlKey,point:{x:x,y:y},byKeyboard:!!v});}var k1=function(m,e,i,j,p,v){if(i){var x=j.getProperties().get("interaction.keyboard");x.color=j.getEffectManager().register({fillColor:x.color});x.angle=j.getProperties().get('categoryAxis.label.angle');var y=j.getProperties().get('interaction.selectByTimeAxisGroup');var F1=f.getData(e);if(T.isExist(F1)){for(var G1 in F1){if(F1.hasOwnProperty(G1)&&!x.hasOwnProperty(G1)){x[G1]=F1[G1];}}}var H1=j._getRenderType();x.renderType=H1;x.isVerticalRender=n.getChartTypeProperty(H1).isVerticalRender;if(p===1&&y){var I1=k.getDataPointsByTimeField(e,j);if(I1){I1.forEach(function(J1){u1(m,d3.select(J1),i,x);});}}else{u1(m,v?d3.select(e.parentNode):d3.select(e),i,x);}}};var l1=function(e){return e.indexOf(b.PERCENT_STACKED_COLUMN)>-1||e.indexOf(b.PERCENT_STACKED_BAR)>-1;};var m1=function(e){return e.indexOf(b.TIMEWATERFALL)>-1;};var n1=function(e,p){e.a=!p.isAllZero&&p.isAllValueNegative&&!l1(p.renderType)&&!p.isNegative?-1:1;return e;};var o1=function(e,p){e.d=!p.isAllZero&&p.isAllValueNegative&&!l1(p.renderType)&&!p.isNegative?1:-1;return e;};var p1=function(e,p){if(p.isZeroValue){var i=p.isVerticalRender?o1:n1;e=i(e,p);}return e;};var q1=function(e,p){if(p.isZeroValue){for(var i in e){if(e[i]===0){e[i]=_.RECT;}}}return e;};var r1=function(e,i,p,j){if(p.renderType.indexOf('stacked')>-1&&p.isZeroValue){if(!p.isVerticalRender){return e.left>=i.left&&e.right<=i.right;}else{return e.top+j>=i.top&&e.bottom-j<=i.bottom;}}return false;};var s1=function(p,e){var i={deltaX:0,deltaY:0};if(e.isZeroValue){if(!e.isVerticalRender){if(p.hoverPos.left<p.axisPos.right){i.deltaX=Math.abs(p.hoverPos.left-p.axisPos.right);}if(p.hoverPos.top<p.plotPos.top){i.deltaY=Math.abs(p.hoverPos.top-p.plotPos.top);}if(p.hoverPos.left<p.wtfLinePos.right){i.deltaX=Math.abs(p.hoverPos.left-p.wtfLinePos.right);}}else{if(p.hoverPos.left<p.plotPos.left){i.deltaX=Math.abs(p.hoverPos.left-p.plotPos.left);}if(p.hoverPos.bottom>p.axisPos.top){i.deltaY=Math.abs(p.hoverPos.bottom-p.axisPos.top);}if(p.hoverPos.bottom>p.wtfLinePos.top){i.deltaY=Math.abs(p.hoverPos.bottom-p.wtfLinePos.top);}}}return i;};var t1=function(e,j,m){var p=e[0];for(var i=1;i<e.length;++i){if(m){if(Math.abs(e[i].getBoundingClientRect().left-j.left)<Math.abs(p.getBoundingClientRect().left-j.left)){p=e[i];}}else{if(Math.abs(e[i].getBoundingClientRect().top-j.top)<Math.abs(p.getBoundingClientRect().top-j.top)){p=e[i];}}}return p;};var u1=function(m,e,j,v){v1(e);var F1=e.select(j),G1=F1.node();if(!G1){return;}var H1=d3.select(e.node().parentNode).node();var I1=T.isExist(H1)?H1.getBoundingClientRect():{};var J1=f.getData(G1);if(T.isExist(J1)){v.bTinyValue=J1.bTinyValue;}var K1=G1.getBoundingClientRect(),L1=parseFloat(v.width)||1,M1=L1+', '+L1;var N1=e.append("g").attr("class","v-m-highlight");var O1={rect:null,line:null};var P1;if(v.renderType){P1=v.renderType.indexOf('stacked')>-1;}var Q1=v.angle;if(P1&&v.isZeroValueInStack&&v.isZeroOnFirstTab){O1.line=N1.append('line').attr('class','v-highlight-bound').attr("stroke",v.color).attr("stroke-width",v.width).attr("stroke-dasharray",M1).style("pointer-events","none");}else{O1.rect=N1.append("rect").attr("class","v-highlight-bound").attr("transform",F1.attr("transform")).attr("width",F1.attr("width")).attr("height",F1.attr("height")).attr("x",F1.attr("x")).attr("y",F1.attr("y")).attr("fill","transparent").attr("fill-opacity",0).attr("stroke",v.color).attr("stroke-width",v.width).attr("stroke-dasharray",M1).attr("shape-rendering","crispEdges").style("pointer-events","none");}if(j==="rect"||j==="path"){var R1=S.getTransformToElement(G1,e.node());var S1=d3.select(I).node()||d3.select(J).node()||d3.select(K).node();var T1=T.isExist(S1)?S1.getBoundingClientRect():{};var U1=d3.select(Q).node();var V1=T.isExist(U1)?U1.getBoundingClientRect():{};var W1=d3.select('.'+X).node();var X1=T.isExist(W1)?W1.getBoundingClientRect():{};var Y1=[];if(v.isZeroValue){var Z1=d3.selectAll('.v-wtf-linkline');for(var i=0;i<Z1[0].length;++i){Y1.push(Z1[0][i]);}}var $1=N1.node().getBoundingClientRect();var _1=Y1.length>0?t1(Y1,$1,!v.isVerticalRender).getBoundingClientRect():{};if(v.isZeroValue&&v.isZeroOnFirstTab){if(v.isVerticalRender){v.bCloseCategory=(T1.top<=$1.top)||(V1.top<=$1.top);}else{v.bCloseCategory=(T1.right<=$1.left)||(V1.right<=$1.left);}}if(!v.isZeroValueInStack){if(T.isExist(e.select(".negative-datapoint").node())){v.isNegative=true;}R1=p1(R1,v);N1.attr("transform","translate("+R1.e+","+R1.f+") "+"scale("+R1.a+","+R1.d+") ");}else{var a2,b2;b2={a:v.isVerticalRender?0:l1(v.renderType)?(-1)*0.5*_.LINE:0.5*_.LINE,b:v.isVerticalRender?l1(v.renderType)?0.5*_.LINE:(-1)*0.5*_.LINE:0};a2=b2;if(!v.isAllValueNegative&&!l1(v.renderType)){a2={a:v.isVerticalRender?0:(-1)*0.5*_.LINE,b:v.isVerticalRender?0.5*_.LINE:0};}R1=v.isAllValueNegative?b2:a2;if(v.bCloseCategory){if(v.isVerticalRender){R1.b*=-1;}else{R1.a*=-1;}}}var x=F1.attr("x"),y=F1.attr("y");var c2=j==="rect"?parseFloat(F1.attr("width")):K1.width,d2=j==="rect"?parseFloat(F1.attr("height")):K1.height;var e2=parseFloat(F1.attr("stroke-width"))||0;if(!v.isZeroValue){if(j==="path"){x-=0.5*c2;y-=0.5*d2;}x-=e2;y-=e2;c2=c2?c2+2*e2:0;d2=d2?d2+2*e2:0;}if(T.isExist(O1.line)||T.isExist(O1.rect)){var f2={plotPos:V1,axisPos:T1,zeroLine:{zeroLinePos:X1,strokeWidth:T.isExist(W1)?parseFloat(W1.getAttribute('stroke-width')):0},hoverPos:$1,wtfLinePos:_1};x+=s1(f2,v).deltaX;y+=s1(f2,v).deltaY;}var g2={width:c2,height:d2};g2=q1(g2,v);var h2,i2,u1,j2;if(T.isExist(O1.rect)){O1.rect.attr("width",g2.width).attr("height",g2.height).attr("x",x).attr("y",y);if(v.bTinyValue||r1($1,I1,v,_.RECT)){d3.select(H1).selectAll('.'+Z).remove();h2=S.create('g');i2=d3.select('.'+W);u1=d3.select('.v-m-highlight');h2.setAttribute('class',Z);j2=i2.attr('transform');h2.setAttribute('transform',j2);h2.appendChild(u1.node());H1.appendChild(h2);}}else{if(v.isVerticalRender){O1.line.attr("x1",x).attr("y1",y).attr("x2",x+g2.width).attr("y2",y);}else{O1.line.attr("x1",x).attr("y1",y).attr("x2",x).attr("y2",y+g2.height);}O1.line.attr("transform","translate("+R1.a+","+R1.b+")");if(v.bCloseCategory||r1($1,I1,v,_.LINE)){if(v.bCloseCategory){var k2=Math.max(parseFloat(v.width),2);O1.line.attr("stroke-width",k2+'');}d3.select(H1).selectAll('.'+Z).remove();h2=S.create('g');i2=d3.select('.'+W);u1=d3.select('.v-m-highlight');h2.setAttribute('class',Z);j2=i2.attr('transform');h2.setAttribute('transform',j2);h2.appendChild(u1.node());H1.appendChild(h2);}}if(m1(v.renderType)){var l2=v.isVerticalRender?"height":"width";var m2=d3.selectAll(".v-m-highlight")[0];if(m2){for(var p=0;p<m2.length;++p){if(parseFloat(d3.select(m2[p]).select(".v-highlight-bound").attr(l2))===0){d3.select(m2[p]).select(".v-highlight-bound").attr(l2,_.RECT);}}}}}else if(!Q1||Q1%90===0){var n2=m.getBoundingClientRect();var o2=B.intersection(n2,K1);if(o2){O1.rect.attr("width",o2.width).attr("height",o2.height);if(o2.left!==K1.left){O1.rect.attr("x",(parseFloat(F1.attr("x"))||0)+o2.left-K1.left);}if(o2.top!==K1.top){O1.rect.attr("y",(parseFloat(F1.attr("y"))||0)+o2.top-K1.top);}}}};var v1=function(m,e){var j=m.selectAll(".v-m-highlight")[0];if(j){for(var i=0;i<j.length;++i){var p=f.getData(j[i].parentNode)||{};if(!p.isZeroValue||e){d3.select(j[i]).remove();}}}};var w1=function(e){var i=e._getRenderType();return(i.indexOf("treemap")>-1);};var x1=function(e){var i;var j,m,p,v;var x,y;if(e.length===0){return null;}var F1=e[0].getBoundingClientRect();j=F1.left;m=F1.right;p=F1.top;v=F1.bottom;for(i=1;i<e.length;++i){F1=e[i].getBoundingClientRect();j=(F1.left<j)?F1.left:j;m=(F1.right>m)?F1.right:m;p=(F1.top<p)?F1.top:p;v=(F1.bottom>v)?F1.bottom:v;}x=(j+m)/2;y=(p+v)/2;if(x&&y){return{x:x,y:y};}else{return null;}};var y1=function(e){var i=e.getStatus("keyArrowHoveredDataPoint");if(w1(e)&&i){var j=e.getStatus("hoveredDataPointId");var m=e.getNodes(e.NodeType.DATA_POINT_GROUP);var p=m.selectAll("g.v-datapoint[data-datapoint-id='"+j+"']").node();if(p){e.fireEvent("unhoverOnDataPoint",{targets:i});}}else if(i){e.fireEvent("unhoverOnDataPoint",{targets:i});}e.fireEvent("processUnhighlight");e.setStatus("keyArrowHoveredDataPoint",null);e.setStatus("hoveredDataPointId",null);e.setStatus("keyArrowHoveredCategoryLabel",null);e.setStatus("keyArrowHoveredCategory2Label",null);e.setStatus("keyArrowHoveredTimeLabel",null);e.setStatus("hoveredCategoryLabelId",null);e.setStatus("hoveredCategory2LabelId",null);e.setStatus("hoveredTimeLabelId",null);e.setStatus("orgHoveredTimeLabelId",null);e.setStatus("keyArrowHoveredLegendLabel",null);e.setStatus("hoveredLegendLabelId",null);e.setStatus("hoveredRadarLabelId",null);e._rootNode.selectAll('g[focusable="true"]').attr('focusable',false);};var z1=function(e,i){B1.call(this,e,i,undefined);};var A1=function(e,i){var j=D.getContext(e);if(!j.hasOwnProperty('rectX')){return;}d.cleanRangeSelection(i);var m={},p=i.getDataModel()._timeAxis.metaData[0].id;m[p+'.'+E]=j.range;return d.getDataPointIds(m,i);};var B1=function(j,m,p,x,y){var F1=m.getStatus("tabOrder");if(F1===-1){return;}j.data.originalEvent.preventDefault();var G1=null;var H1=null;var I1=null;var J1=null;var K1=null;var L1=null;var M1=m.isHorizontal();var N1;var O1={};var P1=null;var Q1=m._getRenderType();var R1=false;var S1=m._getRenderType().indexOf('radar')>-1;switch(F1){case 1:G1=this[r];if(!G1){return;}if(/line|bullet|pie|donut/.test(Q1)){P1=null;}else if(/scatter|bubble/.test(Q1)){P1="path";}else{P1="rect";}H1=m.getStatus("keyArrowHoveredDataPoint");L1=m.getStatus("hoveredDataPointId");if(!H1){J1=G1.getFirstStartPoint();}else if(p){J1=G1.getDataPoint(L1);}else{J1=c1(G1,j,L1,m);}if(!J1){return;}if(this.plotScrollable){var T1=J1.address();var U1=d1(m);N1=U1.getDataPointPosition(T1[1],T1[0],true);if(!N1){return;}O1.needAdjust=true;O1.isNegative=false;if(J1._data){if(m._getRenderType().indexOf("bullet")>-1){var V1=U1.getData().series[T1[1]][T1[0]];O1.isNegative=true;["actualValues","additionalValues","forecastValues"].forEach(function(e){if(T.isNumber(V1[e])&&V1[e]>0){O1.isNegative=false;}});}else{O1.isNegative=J1._data[J1._data.measureNames]<0?true:false;}O1.isZeroValue=J1._data[J1._data.measureNames]===0;}h1.call(this,j.name,m,N1,M1,O1);}I1=J1.id;K1=m.getNodes(m.NodeType.DATA_POINT_GROUP);H1=K1.selectAll("g.v-datapoint[data-datapoint-id='"+I1+"']").node();var W1=M1?"width":"height";var X1=d3.select(H1).select("rect");var Y1;if(X1.node()){Y1=parseInt(X1.attr(W1))===0;}if(Y1){var Z1=K1.selectAll("g.v-datapoint[data-datapoint-id='"+L1+"']").node();var $1=c1(G1,j,I1,m)||{};var _1=K1.selectAll("g.v-datapoint[data-datapoint-id='"+$1.id+"']").node();var a2,b2;var c2=M1?"leftarrow":"uparrow";var d2=M1?"rightarrow":"downarrow";if(Z1&&_1){if(Q1===b.STACKED_COMBINATION){switch(j.name){case c2:a2=(!this.isAllValueNegative)?Z1:_1;break;case d2:a2=(!this.isAllValueNegative)?_1:Z1;break;}}if(a2){b2=a2.getAttribute("transform");H1.setAttribute("transform",b2);}}}if(H1==null&&w1(m)){H1=K1.selectAll("g [data-datapoint-id='"+I1+"'] .v-labelarea").node();R1=true;P1="rect.v-labelarea";}if(I1&&H1){m.setStatus("keyArrowHoveredDataPoint",H1);m.setStatus("hoveredDataPointId",I1);}m.fireEvent("saveZoom",{scroll:true});if(j&&j.data&&j.data.rootHandler){d3.select(j.data.rootHandler).classed($,true);}if(J1&&J1._data&&H1){var e2=f.getData(H1);var f2,v;if(this._isBulletChart){if(J1&&J1._data){e2.isZeroValue=true;var g2=J1._model;if(g2.hasOwnProperty("forecastValues")){f2=g2.forecastValues.values;if(f2){v=f2[J1.address()[0]][J1.address()[1]];if(T.isArray(v)){v=v[0];}}e2.isZeroValue=v===0||!T.isExist(v);}}}else if(this._isPieChart||this._isDonutChart){e2.isZeroValue=e2.startAngle===e2.endAngle;}else if(this._isTimeseriesWaterFall){e2.isZeroValue=false;}else{e2.isZeroValue=J1._data[J1._data.measureNames]===0;if(e2.isZeroValue&&T.isExist(this.zeroValueInStackIndex)){var h2=J1.address()[0];e2.isZeroValueInStack=this.zeroValueInStackIndex.indexOf(h2)>-1;}}e2.isAllValueNegative=this.isAllValueNegative;e2.isAllZero=this.isAllZero;f.setData(H1,e2);}break;case 2:case 4:if(S1){var i2=m.getNodes(m.NodeType.RADAR_AXIS).node();var j2=0;var k2=i2.childElementCount-1;var l2=f.getData(i2);if(T.isUndefined(l2)){f.setData(i2,{focusPos:0});}var m2=f.getData(i2).focusPos;switch(j.name){case'leftarrow':if(m2!==j2){m2=(m2===k2)?j2:(m2+1);}break;case'rightarrow':if(m2!==j2+1){m2=(m2===j2)?k2:(m2-1);}break;}l2=f.getData(i2);l2.focusPos=m2;f.setData(i2,l2);H1=m.getNodes(m.NodeType.AXIS_ITEM)[0][m2];P1=V;m.setStatus("hoveredRadarLabelId",m2);}else{var n2=this._isTimeseries?m.getModule('main.timeAxis.axisBody'):(((F1==2)?m.getModule('main.categoryAxis.axisBody'):m.getModule('main.categoryAxis2.axisBody')));if(n2.isOnlyShowingFirstAndLastLabel&&n2.isOnlyShowingFirstAndLastLabel()){return;}P1=V;G1=this._isTimeseries?this[u]:((F1==2)?this[s]:this[t]);H1=this._isTimeseries?m.getStatus("keyArrowHoveredTimeLabel"):((F1==2)?m.getStatus("keyArrowHoveredCategoryLabel"):m.getStatus("keyArrowHoveredCategory2Label"));L1=this._isTimeseries?m.getStatus("hoveredTimeLabelId"):((F1==2)?m.getStatus("hoveredCategoryLabelId"):m.getStatus("hoveredCategory2LabelId"));if(!H1){if(this._isTimeseries){G1.updateCells(m.getModule("main.timeAxis.axisBody").getActiveLabels());}I1=G1.getFirstStartPoint().id;}else if(p){J1=G1.getCell(L1);I1=J1&&J1.id||G1.getFirstStartPoint().id;}else{J1=c1(G1,j,L1,m);I1=J1&&J1.id;}var o2=false;if(!I1&&L1&&this._isTimeseries&&["rightarrow","leftarrow"].indexOf(j.name)>-1){var p2=m.getModule("main.timeAxis.axisBody").getRange(),q2=L1.split('-')[1];if(("leftarrow"===j.name&&q2>p2[0])||("rightarrow"===j.name&&q2<p2[1])){I1=L1;o2=true;}}if(I1!=null){N1=n2.getCellPosition(I1);if(o2&&N1){if("rightarrow"===j.name){N1.x=N1.x+N1.width;}else if("leftarrow"===j.name){N1.x=N1.x-N1.width;}}O1.needAdjust=false;var r2;if(this._isTimeseries&&["rightarrow","leftarrow"].indexOf(j.name)===-1){r2=false;}else if(N1){r2=h1.call(this,j.name,m,N1,M1,O1);}if(this._isTimeseries){if(r2){J1=c1(G1,j,L1,m);I1=J1&&J1.id;}if(!I1&&o2){I1=L1;}K1=m.getNodes(m.NodeType.TIME_LABEL_GROUP);H1=K1.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+I1+"']")||K1.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+I1+"']");}else{K1=(F1==2)?m.getNodes(m.NodeType.CATEGORY_LABEL_GROUP):m.getNodes(m.NodeType.CATEGORY2_LABEL_GROUP);H1=K1.node().querySelector("g.v-label[categorylabel-id='"+I1+"']");}if(H1){if(this._isTimeseries){m.setStatus("keyArrowHoveredTimeLabel",H1);m.setStatus("hoveredTimeLabelId",I1);m.setStatus("orgHoveredTimeLabelId",I1);}else{if(F1===2){m.setStatus("keyArrowHoveredCategoryLabel",H1);m.setStatus("hoveredCategoryLabelId",I1);}else{m.setStatus("keyArrowHoveredCategory2Label",H1);m.setStatus("hoveredCategory2LabelId",I1);}}}}}break;case 3:if(/bullet|timeseries_waterfall/.test(Q1)){m.fireEvent("processUnhighlight");return;}P1=R;G1=this[w];H1=m.getStatus("keyArrowHoveredLegendLabel");L1=m.getStatus("hoveredLegendLabelId");if(!H1){I1=G1.getFirstStartPoint().id;}else if(p){J1=G1.getCell(L1);I1=J1&&J1.id;}else{J1=c1(G1,j,L1,m);I1=J1&&J1.id;}var s2=m.getSemanticManager();var t2=m.NodeType.LEGEND_ITEM;if((Q1.indexOf("heatmap")>-1||Q1.indexOf("treemap")>-1)&&(!(s2.hasDataPointColorStyle()&&s2.isOverrideMode()))){t2=m.NodeType.MBC_LEGEND_ITEM;}var u2=m.getNodes(t2,false);function getLegendItemById(e,id){if(id==null){return null;}for(var i=0;i<e.length;++i){if(e[i].getAttribute("legendlabel-id")===id.toString()){return e[i];}}return null;};H1=getLegendItemById(u2,I1);if(I1!==null&&!H1){if(!G1.isLastCellID(I1)){var v2=m.getModule("legendGroup.legend");if(v2&&v2.loadMore){v2.loadMore();u2=m.getNodes(m.NodeType.LEGEND_ITEM,false);}H1=getLegendItemById(u2,I1);}}if(I1!=null&&H1){i1(j,m,H1);m.setStatus("keyArrowHoveredLegendLabel",H1);m.setStatus("hoveredLegendLabelId",I1);}break;}var w2;if(this._isTimeseries){if(F1!==1){var x2=A1(H1,m);w2=D.getNodes(x2,m);w2.forEach(function(e){y2=f.getData(e);if(y2.isZeroValue){y2.isZeroOnFirstTab=false;}f.setData(e,y2);});}}if(H1){var y2=f.getData(H1);if(!T.isExist(y2)){var z2=O.extendByRepalceArray({},D.getContext(H1).ctx);w2=d.getDataPointNodes(z2,m);w2.forEach(function(e){y2=f.getData(e);if(y2.isZeroValue){y2.isZeroOnFirstTab=F1===1;}f.setData(e,y2);});}else{if(y2.isZeroValue){y2.isZeroOnFirstTab=F1===1;}f.setData(H1,y2);}}j1(j,m,'hover',H1,this._isTimeseries,true);if(x){this._mainNode=x;}if(y){this._mainBoundNode=this._mainNode.select(y).node();}if(H1){if(this._mainNode){v1(this._mainNode);}k1(this._mainBoundNode,H1,P1,m,F1,R1);}};var C1=function(e,i){var j;var m;var p;var v;var x=i.getStatus("tabOrder");var y=null;var F1=i._getRenderType().indexOf('radar')>-1;switch(x){case 1:p=i.getStatus("hoveredDataPointId");var G1=i.getNodes(i.NodeType.DATA_POINT_GROUP);y=G1.node().querySelector("g.v-datapoint[data-datapoint-id='"+p+"']");if(y==null&&w1(i)){y=G1.node().querySelector("g [data-datapoint-id='"+p+"'] .v-labelarea");}break;case 2:if(this._isTimeseries){j=i.getStatus("hoveredTimeLabelId");var H1=i.getNodes(i.NodeType.TIME_LABEL_GROUP);y=H1.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+j+"']")||H1.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+j+"']");}else if(F1){v=i.getStatus("hoveredRadarLabelId");var I1=i.getNodes(i.NodeType.AXIS_ITEM);y=I1[0][v];}else{m=i.getStatus("hoveredCategoryLabelId");var J1=i.getNodes(i.NodeType.CATEGORY_LABEL_GROUP);y=J1.node().querySelector("g.v-label[categorylabel-id='"+m+"']");}break;case 3:y=i.getStatus("keyArrowHoveredLegendLabel");break;case 4:y=i.getStatus("keyArrowHoveredCategory2Label");break;}if(y){if(x===1&&i.getProperties().get("interaction.selectability.plotStdSelection")){v1(this[F]);}j1(e,i,"click",y);j1(e,i,"down",y);setTimeout(function(){j1(e,i,"up",y);},100);e.data.originalEvent.preventDefault();}};var D1=function(e,m){if(!m.getStatusManager().get("plot.zoom")){return;}if(e.data.originalEvent.altKey||e.data.originalEvent.ctrlKey){return;}var p=m.getStatus("tabOrder");if(p!=1&&p!=2){return;}e.data.originalEvent.preventDefault();var v=null;var x,y=[];if(e.name==="plus"){v="in";}else if(e.name==="minus"){v="out";}var F1,G1;var H1,I1,J1;var K1;var L1=null;var M1=false;switch(p){case 1:var N1=m._getRenderType();if(/line|bullet|pie|donut/.test(N1)){L1=null;}else if(/scatter|bubble/.test(N1)){L1="path";}else{L1="rect";}F1=m.getStatus("hoveredDataPointId");G1=m.getNodes(m.NodeType.DATA_POINT_GROUP);x=G1.node().querySelector("g.v-datapoint[data-datapoint-id='"+F1+"']");if(x){y=T.isArray(x)?x:[x];}break;case 2:L1=V;if(this._isTimeseries){H1=m.getStatus("hoveredTimeLabelId");J1=m.getNodes(m.NodeType.TIME_LABEL_GROUP);x=J1.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+H1+"']")||J1.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+H1+"']");m.setStatus("keyArrowHoveredTimeLabel",x);}else{H1=m.getStatus("hoveredCategoryLabelId");I1=m.getNodes(m.NodeType.CATEGORY_LABEL_GROUP);x=I1.node().querySelector("g.v-label[categorylabel-id='"+H1+"']");m.setStatus("keyArrowHoveredCategoryLabel",x);}if(x){var O1;if(this._isTimeseries){O1=D.getContext(x);var P1={},Q1=m.getDataModel()._timeAxis.metaData[0].id;P1[Q1+'.'+E]=O1.range;y=d.getDataPointNodes(P1,m);}else{O1=D.getContext(x).ctx;y=d.getDataPointNodes(O1,m);}}break;}if(m._getRenderType().indexOf("bullet")>-1){var R1=false;var S1=false;var T1=[];for(var i=0;i<y.length;++i){var U1=Array.prototype.slice.call(y[i].querySelectorAll(".v-primary, .v-additional, .v-forecast"));T1=T1.concat(U1);if(!S1&&y[i].querySelectorAll(".v-target").length>0){S1=true;}if(!R1){for(var j=0;j<U1.length;++j){var V1=U1[j].getBoundingClientRect();if(V1.width&&V1.height){R1=true;break;}}}}if(R1||!S1){y=T1;}}var W1=x1(y);if(!W1&&p==2&&x){var X1=x.getBoundingClientRect();var Y1,Z1;if(m.isHorizontal()){Y1=X1.right;Z1=(X1.top+X1.bottom)/2;}else{Y1=(X1.left+X1.right)/2;Z1=X1.top;}W1={x:Y1,y:Z1};}var $1;if(p===2){$1=this._isTimeseries?m.getModule("main.timeAxis.axisBody").getActiveLabels().length:m.getModule("main.categoryAxis.axisBody").getActiveLevels().length;}m.getModule("main").getZoomer().zoomInOut(v,W1,14);if(p===2){var _1=this._isTimeseries?J1.node():I1.node(),a2=this._isTimeseries?this[u]:this[s],b2=this._isTimeseries?m.getModule("main.timeAxis.axisBody").getActiveLabels():m.getModule("main.categoryAxis.axisBody").getActiveLevels(),c2=b2.length;var d2=H1,e2;if($1!==c2&&!this._isTimeseries&&T.isExist(d2)){var f2=_1.querySelector("g.v-label[categorylabel-id='"+d2+"']"),g2=a2.getParentCell(d2);while(!f2&&g2){d2=g2.id;f2=_1.querySelector("g.v-label[categorylabel-id='"+d2+"']");g2=a2.getParentCell(d2);}e2=a2.getCell(d2).ctx;a2.updateCells(b2);H1=(a2.findCell(e2)||a2.getFirstStartPoint()).id;m.setStatus("hoveredCategoryLabelId",H1);}else if(this._isTimeseries){a2.updateCells(b2);K1=m.getStatus("orgHoveredTimeLabelId");e2=K1?(a2.getCell(K1)||{id:K1}):(a2.getCell(d2)||{id:d2});H1=(a2.findCell(e2)||a2.getFirstStartPoint()).id;m.setStatus("hoveredTimeLabelId",H1);if(!K1){m.setStatus("orgHoveredTimeLabelId",H1);}}x=this._isTimeseries?(_1.querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+H1+"']")||_1.querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+H1+"']")):_1.querySelector("g.v-label[categorylabel-id='"+H1+"']");if(this._isTimeseries){m.setStatus("keyArrowHoveredTimeLabel",x);}}else if(p===1){x=G1.node().querySelector("g.v-datapoint[data-datapoint-id='"+F1+"']");}j1(e,m,"hover",x,this._isTimeseries,true);if(x){k1(this._mainBoundNode,x,L1,m,p,M1);}return;};var E1=function(){};E1.prototype={initialized:function(e,p){p.setStatus("tabOrder",-1);this[F]=p.getNodes(p.NodeType.MAIN_NODE);this[G]=p.getNodes(p.NodeType.LEGEND_GROUP);this[H]=p.getNodes(p.NodeType.PLOT_NODE);this._mainNode=null;this._mainBoundNode=null;var v=p._getRenderType();this._isTimeseries=v.indexOf('timeseries')>-1;var x={"renderType":v,"dataModel":p.getDataModel(),"propertyManager":p.getProperties(),"treeRect":p.getStatusManager().get('treeRect'),"borderWidth":p.getProperties().get("plotArea.border.visible")?1:0,"isTimeseries":this._isTimeseries};this._isBulletChart=v.indexOf('bullet')>-1;this._isStackedChart=v.indexOf('stacked')>-1;this._isWaterFallChart=v.indexOf('waterfall')>-1;this._isPieChart=v.indexOf('pie')>-1;this._isTimeseriesWaterFall=v.indexOf('timeseries_waterfall')>-1;this._isDonutChart=v.indexOf('donut')>-1;this._isDualChart=p._getChartType().indexOf("dual")>-1;this.isAllValueNegative=true;var y=d1(p).getData().series;var F1,i,j;if(this._isBulletChart){F1=["actualValues","additionalValues","forecastValues","targetValues"];for(i=0;i<y[0].length;++i){for(var m=0;m<F1.length;++m){var G1=y[0][i][F1[m]];if(T.isNumber(G1)&&G1>0){this.isAllValueNegative=false;break;}}}}else if(this._isWaterFallChart){this.isAllValueNegative=!(y[0].some(function(R1){return R1.base>0||R1.total>0;}));this.isAllZero=!(y[0].some(function(R1){return R1.valueAxis!==0;}));}else if(this._isPieChart||this._isDonutChart){this.isAllValueNegative=!(y.some(function(R1){return R1[0].size>0;}));this.isAllZero=!(y.some(function(R1){return R1[0].size!==0;}));}else{this.isAllZero=true;for(i=0;i<y.length;++i){for(j=0;j<y[i].length;++j){if(y[i][j]&&y[i][j].dp&&y[i][j].dp._data){F1=y[i][j].dp._data[y[i][j].dp._data.measureNames];if(F1!==0){this.isAllZero=false;break;}}}}for(i=0;i<y.length;++i){var H1=false;for(j=0;j<y[i].length;++j){if(y[i][j]&&y[i][j].dp&&y[i][j].dp._data){F1=y[i][j].dp._data[y[i][j].dp._data.measureNames];if(F1>0){H1=true;break;}}}if(H1){this.isAllValueNegative=false;break;}}if(this._isStackedChart){this.zeroValueInStackIndex=[];for(j=0;j<y[0].length;++j){var I1=[];for(i=0;i<y.length;++i){if(T.isExist(y[i][j])&&(T.isExist(y[i][j].valueAxis)||T.isExist(y[i][j].valueAxis2))){F1=T.isExist(y[i][j].valueAxis)?y[i][j].valueAxis:y[i][j].valueAxis2;I1.push(F1);}}if(I1.indexOf(0)>-1){I1=I1.filter(function(R1){return R1!==0;});if(I1.length>0){this.zeroValueInStackIndex.push(j);}}}}}var J1=c;var K1=!p.isBigDataMode()?J1.createNavigator(x,r):null;if(K1){K1.init();this[r]=K1;p.setStatus("keyArrowHoveredDataPoint",null);}x={"renderType":v,};if(p.getModule("main.categoryAxis")){var L1=p.getModule("main.categoryAxis.axisBody");if(p._propertyMgr.get("categoryAxis.label.overlapBehavior")!=="auto"){x.cells=L1.getActiveLevels.bind(L1);}else{x.cells=L1.getActiveLevels();}if(x.cells){x.isVerticalRender=true;K1=J1.createNavigator(x,s);}if(K1){K1.init();this[s]=K1;p.setStatus("keyArrowHoveredCategoryLabel",null);}}if(p.getModule("main.categoryAxis2")){x.cells=p.getModule("main.categoryAxis2.axisBody").getActiveLevels();if(x.cells){x.isVerticalRender=false;K1=J1.createNavigator(x,s);}if(K1){K1.init();this[t]=K1;p.setStatus("keyArrowHoveredCategory2Label",null);}}if(p.getModule("main.timeAxis")){x.cells=p.getModule("main.timeAxis.axisBody").getActiveLabels();if(x.cells){x.isVerticalRender=false;K1=J1.createNavigator(x,u);}if(K1){K1.init();this[u]=K1;p.setStatus("keyArrowHoveredTimeLabel",null);}}var M1=p.getModule("legendGroup.legend");if(M1&&M1.isVisible()){var N1=M1.getType();if(N1.search(/(ColorLegend|MBCLegend)/)!=-1){var O1=M1.getActiveLevels();if(O1){x={"renderType":p._getRenderType(),"cells":O1};var P1;switch(N1){case"ColorLegend":P1=z;break;case"MBCLegend":P1=M;break;}K1=J1.createNavigator(x,P1);}if(K1){K1.init();this[w]=K1;p.setStatus("keyArrowHoveredLegendLabel",null);}}}var Q1=b1(p);if(Q1&&Q1.isExist()){this.plotScrollable=true;}p.fireEvent(e,true);},unloaded:function(e,i){i.fireEvent(e,true);if(this[r]){this[r].destroy();this[r]=null;}if(this[s]){this[s].destroy();this[s]=null;}if(this[t]){this[t].destroy();this[t]=null;}if(this[u]){this[u].destroy();this[u]=null;}if(this[w]){this[w].destroy();this[w]=null;}this[F]=null;this[G]=null;i.removeStatus("keyArrowHoveredDataPoint");i.removeStatus("keyArrowHoveredCategoryLabel");i.removeStatus("keyArrowHoveredCategory2Label");i.removeStatus("keyArrowHoveredTimeLabel");i.removeStatus("keyArrowHoveredLegendLabel");i.removeStatus("tabOrder");i.removeStatus("hoveredTimeLabelId");i.removeStatus("orgHoveredTimeLabelId");},uparrowHandler:function(e,i){z1.call(this,e,i);},downarrowHandler:function(e,i){z1.call(this,e,i);},leftarrowHandler:function(e,i){z1.call(this,e,i);},rightarrowHandler:function(e,i){z1.call(this,e,i);},tabKeyHandler:function(e,i){var j=Q,m=this[F].empty()?this[H]:this[F];var p=i.getStatus("tabOrder");var v=false;var x=e.data.originalEvent.shiftKey;var y=i.getModule("main.categoryAxis");var F1=i.getModule("main.categoryAxis2");var G1=i.getModule("main.timeAxis");var H1=i.getModule("legendGroup.legend");var I1=null;var J1=this._isTimeseries?i.getModule('main.timeAxis.axisBody'):(i.getModule('main.categoryAxis.axisBody')||i.getModule('main.categoryAxis2.axisBody'));var K1=J1&&J1.isOnlyShowingFirstAndLastLabel&&J1.isOnlyShowingFirstAndLastLabel();var L1=function(){if(K1&&(j===I||j===J||j===K)){var M1=i.getProperties().get("interaction.keyboard");M1.color=i.getEffectManager().register({fillColor:M1.color});var N1=m.select(j).node();u1(N1,d3.select(N1.parentNode),".v-bound",M1);}};if(p===-1){if(!x){e.data.originalEvent.preventDefault();p=1;L1();}else{p=-1;v=true;}i.setStatus("tabOrder",p);}else{switch(p){case 1:v1(m);if(!x){if(i._getChartType().indexOf('radar')>-1){p++;}else if(y&&y.isVisible()){j=I;p++;}else if(G1&&G1.isVisible()){j=K;p++;}else if(H1&&H1.isVisible()){m=this[G];j=N;p+=2;}else if(F1&&F1.isVisible()){j=J;p+=3;}else{p=-1;v=true;}}else{p=-1;v=true;}break;case 2:v1(m);if(!x){if(!this._isBulletChart&&H1&&H1.isVisible()){m=this[G];j=N;p++;}else if(F1&&F1.isVisible()){j=J;p+=2;}else{p=-1;v=true;}}else{j=Q;p--;}break;case 3:v1(this[G]);if(!x){if(F1&&F1.isVisible()){j=J;p++;}else{p=-1;v=true;}}else{if(i._getRenderType().indexOf('radar')>-1){j=V;p--;}else if(y&&y.isVisible()){j=I;p--;}else if(G1&&G1.isVisible()){j=K;p--;}else{i.fireEvent("processUnhighlight");p=1;}}break;case 4:v1(m);if(!x){p=-1;v=true;}else if(H1&&H1.isVisible()){m=this[G];j=N;p=3;}else if(y&&y.isVisible()){j=I;p=2;}else{j=Q;p=1;}break;}i.fireEvent("hideDetail",{mode:"infoMode",action:"interrupt"});i.setStatus("tabOrder",p);if(v){y1(i);if(e&&e.data&&e.data.rootHandler){d3.select(e.data.rootHandler).classed($,false);}return;}else{e.data.originalEvent.preventDefault();L1();}}switch(p){case 1:I1=i.getStatus("keyArrowHoveredDataPoint");break;case 2:I1=this._isTimeseries?i.getStatus("keyArrowHoveredTimeLabel"):i.getStatus("keyArrowHoveredCategoryLabel");break;case 3:I1=i.getStatus("keyArrowHoveredLegendLabel");break;case 4:I1=this._isTimeseries?i.getStatus("keyArrowHoveredTimeLabel"):i.getStatus("keyArrowHoveredCategory2Label");break;}B1.call(this,e,i,!!I1,m,j);},spaceKeyHandler:function(e,i){C1.call(this,e,i);},enterKeyHandler:function(e,i){C1.call(this,e,i);},plusKeyHandler:function(e,i){D1.call(this,e,i);},minusKeyHandler:function(e,i){D1.call(this,e,i);},clearHighlightBorder:function(e,i){if(i.getStatus("tabOrder")===-1){v1(this[F]);v1(this[G]);}}};return E1;});define('sap/viz/chart/behavior/config/KeyboardBehaviorConfig',["sap/viz/chart/behavior/config/handler/KeyboardBehaviorHandler"],function(K){var s=["info/bar","info/dual_bar","info/stacked_bar","info/dual_stacked_bar","info/100_stacked_bar","info/100_dual_stacked_bar","info/column","info/dual_column","info/stacked_column","info/dual_stacked_column","info/100_stacked_column","info/100_dual_stacked_column","info/line","info/horizontal_line","info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/pie","info/donut","info/scatter","info/bubble","info/time_bubble","info/timeseries_scatter","info/timeseries_bubble","info/dual_line","info/dual_horizontal_line","info/timeseries_line","info/timeseries_column","info/timeseries_bullet","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination","info/dual_combination","info/dual_horizontal_combination","info/heatmap","info/waterfall","info/horizontal_waterfall","info/timeseries_waterfall","info/treemap","info/area","info/radar"];return[{"id":"keyboardBehaviorDefinition","handler":K,"handlerType":"class","triggerEvent":[{"name":"afterChartRendered","supportedChartTypes":s,"method":"initialized"},{"name":"beforeBehaviorUnloaded","supportedChartTypes":s,"method":"unloaded"},{"name":"uparrow","targets":"*","supportedChartTypes":s,"method":"uparrowHandler"},{"name":"downarrow","targets":"*","supportedChartTypes":s,"method":"downarrowHandler"},{"name":"leftarrow","targets":"*","supportedChartTypes":s,"method":"leftarrowHandler"},{"name":"rightarrow","targets":"*","supportedChartTypes":s,"method":"rightarrowHandler"},{"name":"tab","targets":"*","supportedChartTypes":s,"method":"tabKeyHandler"},{"name":"space","targets":"*","supportedChartTypes":s,"method":"spaceKeyHandler"},{"name":"enter","targets":"*","supportedChartTypes":s,"method":"enterKeyHandler"},{"name":"blur","targets":"*","supportedChartTypes":s,"method":"clearHighlightBorder"},{"name":"plus","targets":"*","supportedChartTypes":s,"method":"plusKeyHandler"},{"name":"minus","targets":"*","supportedChartTypes":s,"method":"minusKeyHandler"}]}];});define('sap/viz/chart/behavior/DefaultBehavior',["sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/config/PlotScrollBehaviorConfig","sap/viz/chart/behavior/config/AxisBehaviorConfig","sap/viz/chart/behavior/config/ContextualDataConfig","sap/viz/chart/behavior/config/LegendBehaviorConfig","sap/viz/chart/behavior/config/LassoBehaviorConfig","sap/viz/chart/behavior/config/DataPointBehaviorConfig","sap/viz/chart/behavior/config/RuntimeSelectionHelperConfig","sap/viz/chart/behavior/config/SelectionAPIConfig","sap/viz/chart/behavior/config/PinchBehaviorConfig","sap/viz/chart/behavior/config/TooltipBehaviorConfig","sap/viz/chart/behavior/config/ZoomBehaviorConfig","sap/viz/chart/behavior/config/ScreenReaderConfig","sap/viz/chart/behavior/config/KeyboardBehaviorConfig"],function(C,B,a){return a.register(C.BEHAVIOR.DEFAULT_BEHAVIOR_ID,B.buildBehavior([].slice.call(arguments,3)));});define('sap/viz/chart/behavior/SFinBehavior',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants",'sap/viz/framework/interaction/Constants',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/chart/behavior/config/SelectionTreeUtil","sap/viz/chart/behavior/config/handler/AxisBehaviorHandler","sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/chart/behavior/config/handler/LassoBehaviorHandler","sap/viz/framework/common/util/ArrayUtils",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/chart/behavior/config/handler/TooltipTimerHandler",'sap/viz/framework/common/util/DOM','sap/viz/chart/behavior/config/ContextualDataUtil','sap/viz/framework/common/util/DataUtils',],function(o,C,S,D,c,B,e,R,f,T,h,j,l,A,L,m,n,p,O,q,r,s,t,u){var P="pop";function v(d,g){var k=g.getNodes(g.NodeType.PLOT_BOUND_SELECTION).node();if(!k){return null;}var _=g.getNodes(g.NodeType.DATA_POINT,false),a1=D.findByDataPointIds(_,d);var b1=d.reduce(function(a,b,i){a[b]=i;return a;},{});a1.sort(function(a,b){return b1[D.getDataPointId(a)]-b1[D.getDataPointId(b)];});for(var i=0,c1=a1.length;i<c1;i++){if(w(a1[i],k)){return a1[i];}}return null;}function w(a,b){var d=b?b.getBoundingClientRect():null;return a&&d&&B.intersects(d,a.getBoundingClientRect());}function x(a,b,d){var g,k;var _=l.bindingConfig;for(var a1 in b){if(b.hasOwnProperty(a1)&&b[a1]){var b1=_[a1].selectionTree;g=l.getSelectionTree(a,d,b1);k=a.getStatus(_[a1].metaInfo);var c1=b[a1];if(c1.or||c1 instanceof Array){var d1=c1.or||c1;for(var i=0;i<d1.length;++i){l.applyDimensionalSelection(a,b1,g,d1[i],d.isDeselect,k);}}else{l.applyDimensionalSelection(a,b1,g,c1,d.isDeselect,k);}}}}var F=e.get("default").clone();var y=function(){};o.extend(y,f);y.prototype.processMultipleSelectionTooltip=function(a,b){if(b.getStatus("selectedDataPoints").length){b.fireEvent("showDetail");}else{b.fireEvent("hideDetail");}};y.prototype.deselectAll=function(a,b){y.superclass.deselectAll.apply(this,arguments);b.setStatus("categorySelectionTree",{});b.setStatus("category2SelectionTree",{});b.setStatus("seriesSelectionTree",{});};y.prototype.processSelection=function(a,b){var d=y.superclass.processSelection.apply(this,arguments);var g=b.getProperties().get("interaction.selectability.behavior");g=g?g.toUpperCase():g;if(a.data.ctx&&g!==S.SELECTION_BEHAVIOR.DATAPOINT){d.mode=a.data.mode;x(b,a.data.ctx,d);}};y.prototype.refreshedKeepSelection=function(a,b){var d=y.superclass.refreshedKeepSelection.apply(this,arguments);var g=b.getProperties().get("interaction.selectability.behavior");g=g?g.toUpperCase():g;if(d&&g!==S.SELECTION_BEHAVIOR.DATAPOINT){l.initSelectionTree(b);}};var E=["id","name","type","value"];y.prototype._buildEventData=function(a,b){var g=f.prototype._buildEventData.call(this,a,b);function k(d){var i=Object.keys(d).reduce(function(c1,f1){if(E.indexOf(f1)!==-1){c1[f1]=d[f1];}return c1;},{});return i;}var _=b.getProperties();var a1=b.getProperties().get("tooltip.applyTimeAxisFormat");var b1=b.getProperties().get("tooltip.formatString");var id;var d1=b.getModule("main.timeAxis");if(d1){var e1=b.getDataModel();if(e1&&e1._timeAxis){id=e1._timeAxis.metaData[0].id;a1=a1&&!(p.isExist(b1)&&p.isExist(b1[id]));}}if(_.get("interaction.extraEventInfo")){g.forEach(function(d,i){b.fireEvent("extractTooltipData",{target:d.target||{context:d.data}});var c1=b.getStatus("tooltipData");T.processDateFormat.call(null,c1,a1,d1);d.tooltipText=q.format({data:c1},_).data.map(k);}.bind(this));}return g;};F.getActionById("runtimeSelectionHelperDefinition").setHandler(y);var z=function(){};o.extend(z,j);function G(a,b,d){if(!l.isSelectable(b,"DATAPOINT")){return;}var k=b.getProperties().get("interaction.selectability");var _=k.mode?k.mode.toUpperCase():k.mode;if(!k.plotStdSelection||_===S.SELECTION_MODE.NONE||!d){return;}var a1=b.getProperties().get('interaction.selectByTimeAxisGroup');var b1=a.data;var dp=[],d1,i,e1,id,g1;if(a1){e1=c.getContext(d);var h1=t.getDataPointsByTimeField(d,b);var i1=this;h1.forEach(function(g){dp.push(i1._getDataPoint(g,b));});}else{switch(k.behavior){case S.SELECTION_BEHAVIOR.SERIES:e1=c.getContext(d);if(!e1){id=d.getAttribute("data-datapoint-id");e1=b.getDataModel().getDataPoint(id).context();}e1=l.applyFilterDimension(e1,b,k.behavior);dp=h.getTargets([{data:e1.series}],b);break;case S.SELECTION_BEHAVIOR.CATEGORY:e1=c.getContext(d);e1=l.applyFilterDimension(e1,b,k.behavior);dp=h.getTargets([{data:e1.categoryAxis}],b);if(e1.categoryAxis2){var j1=h.getTargets([{data:e1.categoryAxis2}],b);dp=dp.concat(j1);dp=n.unique(dp);}break;default:dp=this._getDataPoint(d);}}var k1=this._hasDataPoint(b.getStatus("selectedDataPoints"),id||this._getDataPoint(d));b.fireEvent("processSelection",{ctx:e1,targets:dp,deselectable:true,ctrlKeyPressed:b1.ctrlKey});var l1=b.getStatus("selectedDataPoints");if(this._hasDataPoint(b.getStatus("selectedDataPoints"),id||this._getDataPoint(d))){b.fireEvent("showDetail",{target:d});}else{if(k1){d=v(l1,b);if(d){b.fireEvent("showDetail",{target:d});}}else{b.fireEvent("hideDetail");}b.setStatus("isHoveringDeselectedDataPoint",k1);}b.fireEvent("hideDetail",{target:d,action:"select",type:"instantTooltip"});}function H(a,b,d){if(!d){return;}var g=a.data.point;var i=b.getStatus("hoveringDataPoint");var k=this._getDataPoint(d);var _=this._hasDataPoint(b.getStatus("selectedDataPoints"),k);if(i){if(i===d){if(!b.getStatus("isHoveringDeselectedDataPoint")){b.fireEvent("showDetail",{target:d,point:g,action:"hover",originalEvent:a.data.originalEvent,type:"instantTooltip"});}return;}b.fireEvent("unhoverOnDataPoint",{targets:i});}if(i!==d){b.setStatus("isHoveringDeselectedDataPoint",false);}i=d;b.fireEvent("hoverOnDataPoint",{targets:i,byKeyboard:!!a.data.byKeyboard}).setStatus("hoveringDataPoint",i).fireEvent("showDetail",{target:d,point:g,action:"hover",originalEvent:a.data.originalEvent,type:"instantTooltip"});}z.prototype.clickOnDataPoint=function(a,b){G.call(this,a,b,a.data.currentTarget);};z.prototype.clickOnDataLabel=function(a,b){G.call(this,a,b,D.getDataPointByDataLabel(a.data.currentTarget,b));};z.prototype.hoverOnDataPoint=function(a,b){H.call(this,a,b,a.data.currentTarget);};z.prototype.hoverOnDataLabel=function(a,b){H.call(this,a,b,D.getDataPointByDataLabel(a.data.currentTarget,b));};z.prototype.hoverOnNonDataPoint=function(a,b){b.setStatus("isHoveringDeselectedDataPoint",false);var d=b.getStatus("hoveringDataPoint");if(d&&!this.isHoveringDataPointHighlighted(b)){b.fireEvent("unhoverOnDataPoint",{targets:d});}b.setStatus("hoveringDataPoint",null);b.fireEvent("hideDetail",{mode:"infoMode",target:"nonDataPoint",action:"interrupt",type:"instantTooltip"});};var I=F.getActionById("dataPointBehaviorDefinition");I.setHandler(z);var J=function(){};o.extend(J,T);function K(a,b,d){b.left=-a.x;b.top=-a.y;d.left=d.x;d.top=d.y;return B.intersects(b,d);}function M(a,b){var d=b._getActionLayer();d.clear(P);var g=d.createLayer(P);var i=b.getOffsetMatrix(b.OffsetType.PLOT_NODE,true);var k=b.getModule("main.plot");var _=k.getOffset();_.x+=i.e;_.y+=i.f;g.addRect({x:a.x+_.x,y:a.y+_.y,width:a.width,height:a.height,pointerEvent:"none",fill:"transparent",opacity:0});return d.drawLayer(g);}function N(a,b){var d,g,_,i,a1,b1=b.getSemanticManager();var c1=a.data.target;if(c1){b.fireEvent("extractTooltipData",{target:c1});d=b.getStatus("tooltipData");_=b1.analyzeDataPoint('color,lineColor,lineType,pattern',D.getContext(c1),true,D.getAdditionCtx(c1));if(_&&_.dataName){for(var k=0;k<d.length;k++){var d1=_.dataName[d[k].id];d[k].dataName=p.isNonEmptyString(d1)?d1:d[k].name;}}}var e1=b.getStatus("selectedDataPoints");var f1={data:{val:d},selectedValues:e1.length};if(a.data.type==="instantTooltip"){f1.point=a.data.point;}if(b.getProperties().get("interaction.selectByTimeAxisGroup")){var g1=h.getSelectedPeriods(b,e1);f1.selectedValues=g1.length;}var h1=c1&&c1.className&&c1.className.baseVal;if(b.isBigDataMode()&&!h1){var i1=b.getModule("main.plot");var j1=i1.getSize();var k1=i1.getOffset();var l1;if(c1){l1=i1.mappingDataPointInfo(c1);if(l1&&l1.position&&K(k1,j1,l1.position)){g=l1.graphic;f1.target=M(l1.position,b);}}else{for(i=0,a1=e1.length;i<a1;i++){l1=i1.mappingDataPointInfo(e1[i]);if(l1&&l1.position&&K(k1,j1,l1.position)){g=l1.graphic;f1.target=M(l1.position,b);break;}}}}else{if(c1){var m1=b.getNodes(b.NodeType.PLOT_BOUND_SELECTION).node();f1.target=w(c1,m1)?c1:null;g=c.getData(c1);}else{f1.target=v(e1,b);if(f1.target){g=c.getData(f1.target);}}}f1.data=O.extend(true,f1.data,q.buildEventGraphicInfo(b,g,_));return f1;}var Q=function(){Q.superclass.constructor.apply(this,arguments);};o.extend(Q,r);J.prototype._createTooltipTimerHandler=function(a,b){this._tooltipTimerHandler=new Q();};Q.prototype._selectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._hideHandler();};J.prototype._getShowTooltipHandler=function(a,b){function d(){var g=N(a,b);var i=b._getRenderType();var k=b.getProperties().get("interaction.selectByTimeAxisGroup");if(i.indexOf('timeseries')>-1){var _=this._handleShowDetail(a,b),a1;if(_&&_.tooltipData&&_.tooltipData.data){a1=_.tooltipData.data;}g=O.extend(true,g,{'timeTooltipData':a1,data:{'selectByTimeAxisGroup':k}});}var b1="showTooltip";if(a.data.type==="instantTooltip"){b1="showInstantTooltip";}b.fireExternalEvent(b1,{name:C.Event.TooltipShow.name,data:g});}return d.bind(this);};J.prototype._getHideTooltipHandler=function(a,b){function d(){var g="hideTooltip";if(a.data.type==="instantTooltip"){g="hideInstantTooltip";}b.fireExternalEvent(g,{name:C.Event.TooltipHide.name});}return d.bind(this);};J.prototype._processDecoration=function(a,b){if(p.isArray(b.data)){var d=a._properties,g=d.get("tooltip.formatString"),k=d.get('general.showAsUTC');b.data.forEach(function(_,i){if(_.type==="Dimension"&&b.data.timeDimensions!==undefined&&b.data.timeDimensions.indexOf(i)>=0){q.formatTimeDimension(_,g,k);}});}};J.prototype.refreshedTooltip=function(a,b){this.hideDetail.apply(this,arguments);this._tooltipTimerHandler.reset();};J.prototype.showTooltipHoverOnPlot=function(a,b){a.data.type="instantTooltip";b.fireEvent("showDetail",a.data);};J.prototype.hideTooltipHoverOnPlot=function(a,b){a.data.type="instantTooltip";b.fireEvent("hideDetail",a.data);};J.prototype.showTooltipClickBigData=function(a,b){b.fireEvent("showDetail",a.data);b.fireEvent("hideDetail",{target:a.data.target,action:"select",type:"instantTooltip"});};J.prototype.hideTooltipClickBigData=function(a,b){b.fireEvent("hideDetail",a.data);b.fireEvent("hideDetail",{target:a.data.target,action:"deselect",type:"instantTooltip"});};var U=F.getActionById("tooltipBehaviorDefinition");U.setHandler(J);var V=function(){};o.extend(V,A);V.prototype.clickOnAxisLabel=function(a,b){if(l.isSelectable(b,"CATEGORY")){V.superclass.clickOnAxisLabel.apply(this,arguments);}};V.prototype.filterCtx=function(a,b){var d={};if(b&&b.name==="categoryAxis2"){d["categoryAxis2"]=a;}else{d["categoryAxis"]=a;}return d;};var W=F.getActionById("axisBehaviorDefinition");W.setHandler(V);var X=function(){};o.extend(X,L);X.prototype.click=function(a,b){var d=b.getProperties().get("interaction.selectability.behavior");d=d?d.toUpperCase():d;var i=D.getContext(a.data.currentTarget).isSemantic;if(d===S.SELECTION_BEHAVIOR.SERIES&&i){return;}if(l.isSelectable(b,"SERIES")){X.superclass.click.apply(this,arguments);}};var Y=F.getActionById("legendBehaviorDefinition");Y.setHandler(X);var Z=function(){};o.extend(Z,m);Z.prototype.lassoStart=function(a,b){var d=b.getProperties().get("interaction.selectability.behavior");if(d===S.SELECTION_BEHAVIOR.DATAPOINT){Z.superclass.lassoStart.apply(this,arguments);}};Z.prototype._fireShowDetail=function(a,d,b){a.fireEvent("showDetail",{target:d,mode:"actionMode",point:b,bLassoEnd:true});a.fireEvent("hideDetail",{action:"select",type:"instantTooltip"});};Z.prototype._fireHideDetail=function(a){a.fireEvent("hideDetail",{mode:"actionMode"});a.fireEvent("hideDetail",{action:"select",type:"instantTooltip"});};var $=F.getActionById("lassoBehaviorDefinition");$.setHandler(Z);e.register("noHoverBehavior",F);});define('sap/viz/chart/behavior/AllBehaviors',['sap/viz/chart/behavior/DefaultBehavior','sap/viz/chart/behavior/SFinBehavior','require'],function(){return Array.prototype.slice.apply(arguments);});define('sap/viz/chart/scales/ColorScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/scales/ScaleUtil','sap/viz/framework/common/util/ArrayUtils'],function(o,B,O,D,C,A){var a=function(d,r,b){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.ColorScale";this._name=null;this._type="color";b=b||{};this._needRuntimeColorScales=b.needRuntimeColorScales!==false;this._sharedRuntimeColorScale=b.sharedRuntimeColorScale;this._metaData=(b.metaData||[]).map(function(m){var c=O.extend(true,{},m);if(!b.respectHidden){delete c.hidden;}return c;});this._runtimeColorScale=null;this._mergedRuntimeColorScale=null;this._colorId=b.colorId;this._initScale(b);};o.extend(a,B);a.prototype._initScale=function(b){if(this._scale===undefined){this._scale=d3.scale.ordinal();var d=[];for(var i=0,l=this._domain.length;i<l;i++){d.push(D.valuesToString(this._domain[i]));}var s=C.shrinkedDomain(this._domain,this.getMetaData());var c=b.colorId||'color';if(this._needRuntimeColorScales&&this._sharedRuntimeColorScale&&s.length!==0){this._handleRuntimeScale(d,s,c);}else{var r=[].concat(this._range);this._range=r.splice(0,d.length>0?d.length:1);this._scale.domain(d).range(this._range);if(this._needRuntimeColorScales){this._constructRuntimeColorScale(c);}}}};a.prototype._constructRuntimeColorScale=function(c){var r=[];var s=C.shrinkedDomain(this._domain,this.getMetaData());var b=this.getMetaData().map(function(d){return d.id;});for(var i=0;i<s.length;i++){r.push({dataContext:s[i],scaleResult:{index:i,value:this._range[i%this._range.length]}});}this._runtimeColorScale={feed:c,fields:b,results:r};this._mergedRuntimeColorScale=O.clone(this._runtimeColorScale);};a.findMatchRuntimeScale=function(s,m){var b=s&&s.mappings;if(!b){return s;}for(var i=0;i<b.length;++i){var c=b[i];var f=c.fields;if(A.equal(f,m)){return c;}}return null;};a.prototype._handleRuntimeScale=function(d,s,c){var r=[],i;var b=[];var m=[];var e=this._sharedRuntimeColorScale;var f=[];var g=this.getMetaData().map(function(F){return F.id;});var h=a.findMatchRuntimeScale(e,g);var j=this._range.length;var k=[];if(h){var l=h.results;for(i=0;i<l.length;i++){k[l[i].scaleResult.index%j]=1;}}var n,p;for(i=0;i<s.length;i++){n=s[i];var q=C.findScaleResult(h,n,C.domainArrayCompare);if(q){q=O.clone(q);p=q.scaleResult.index%this._range.length;k[p]=2;q.scaleResult.value=this._range[p];r[i]=q.scaleResult.value;m.push(q);}}var u=[];var t=[];for(i=0;i<j;++i){if(k[i]===1){t.push(i);}else if(k[i]!==2){u.push(i);}}u=u.concat(t);var v=u.length;var w=j;var x=0;for(i=0;i<s.length;i++){n=s[i];if(r[i]==null){p=(x<v?u[x]:w++);++x;var y=p%j;var z=this._range[y];r[i]=z;var E={dataContext:n,scaleResult:{index:p,value:z}};b.push(E);m.push(E);}}this._range=r;this._scale.domain(d).range(this._range);this._runtimeColorScale={feed:c,fields:g,results:b};this._mergedRuntimeColorScale={feed:c,fields:g,results:m};};a.prototype.runtimeColorScale=function(){return this._runtimeColorScale;};a.prototype.mergedRuntimeColorScale=function(){return this._mergedRuntimeColorScale;};a.prototype.hasDomain=function(d){var r=false;if(this._domain&&this._domain.length&&d&&d.length){for(var i=this._domain.length;!r&&i>=0;--i){r=A.equal(this._domain[i],d);}}return r;};a.prototype.scale=function(b){if(b){var h=this._metaData.map(function(m){return!!m.hidden;});if(b instanceof Array){b=b.filter(function(v,i){return!h[i];});}return this._scale(D.valuesToString(b));}else{return this._scale(b);}};a.prototype.destroy=function(){a.superclass.destroy.apply(this,arguments);this._sharedRuntimeColorScale=null;this._runtimeColorScale=null;this._mergedRuntimeColorScale=null;};return a;});define('sap/viz/chart/util/PropertyUtils',["sap/viz/framework/common/util/NumberUtils",],function(N){var u={};var A="all";u.getBubbleDepth=function(p,n,a){if(!a||!a.length){return 0;}var d=p.get(n);var m=a.length;if(d===A){d=a.length;}else{d=parseInt(d);if(N.isNoValue(d)||d<=0){d=p.getDefault(n);}}return Math.min(d,m);};return u;});define('sap/viz/chart/scales/ColorScaleProcessor',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ScaleUtil','sap/viz/framework/scale/ScaleRepository','sap/viz/chart/scales/ColorScale','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/util/PropertyUtils','sap/viz/chart/scales/ScalesFactory','sap/viz/framework/scale/ScaleRoleTypeMapFactory','sap/viz/chart/scales/ScaleUtil'],function(T,S,a,C,b,A,O,D,P,c,d,e){var r=A.transpose;var g=e.generateUniqueDomain;var f=function(h,n,s,p,o,i){o=o||{};var j=o.seriesType;var k=o.colorPaletteNum;var l=o.customerColorPalette;var m=s.get(n);var t=s.get(n,"templateValue");var q=o.isDual;var u=s.get('sharedRuntime');var v=S.getScaleOfType(u,o.colorId||'color');var w=o.isPaging||!(o.isGhost);var x=m?m.palette:(l?l:null);if(A.equal(x,b.COLOR.SAPColorSingleAxis)&&l){x=l;}var y={sharedRuntimeColorScale:v,needRuntimeColorScales:w,metaData:h.metaData,colorId:o.colorId};if(!T.isExist(h)){return new C([],x,y);}var z=[];var B=[(t&&t.palette&&t.palette[0])||b.COLOR.SAPColorDualAxis1,(t&&t.palette&&t.palette[1])||b.COLOR.SAPColorDualAxis2];if(h.values){if(j==='yy'){var E=P.getBubbleDepth(p.origin,"plotArea.colorDepth",h.values);var F=p.get("legend.ignoreNoValue");z=g(h.values,E,h.metaData,h.rowArray,i,F,"color");y.respectHidden=true;}else if(j!=='bullet'){z=r(h.values);var G=o.noValueIndex;if(T.isArray(G)&&G.length>0){G.forEach(function(J){z.splice(J,1);h.rowArray[J].isNoValue=true;});}}}var H=false;if(x&&T.isArray(x[0])&&(T.isArray(x[0][0])||T.isArray(x[0][1]))){H=true;}if(o.seriesType==="bullet"||y.seriesType==="timeseries_bullet"){y.mnds=o.mnds;y.isTime=o.isTime;y.noValueIndex=o.noValueIndex;return new(c.getScale("bullet","color"))(h,p,y,s);}else{var I;if(!q){if(H){x=x[0][0]||b.COLOR.SAPColorSingleAxis;}else if(!x){x=(t&&t.palette)||b.COLOR.SAPColorSingleAxis;}else if((T.isArray(x)&&T.isArray(x[0]))){if(o.chartFamily==="combex"){x=x[0];}else{x=b.COLOR.SAPColorSingleAxis;}}I=b.COLOR.SAPColorSingleAxis;if(p.origin.has("plotArea.colorPalette")){p.origin.add('plotArea.colorPalette',{defaultValue:b.COLOR.SAPColorSingleAxis,serializable:false,get:function(){var J=m?m.palette:null;if(!J||J===b.COLOR.SAPColorSingleAxis){J=this.value||x;}return J;}});}}else{if(H){if(k===0){x=x[k][1]||B[k];}else{x=x[k]||B[k];}}else if(T.isArray(x)&&T.isArray(x[k])){x=x[k];}else{x=B[k];}I=B;if(k===0){if(p.origin.has("plotArea.primaryValuesColorPalette")){p.origin.add('plotArea.primaryValuesColorPalette',{defaultValue:B[0],serializable:false,get:function(){return x;}});}}if(k===1){if(p.origin.has("plotArea.secondaryValuesColorPalette")){p.origin.add('plotArea.secondaryValuesColorPalette',{defaultValue:B[1],serializable:false,get:function(){return x;}});}}}if(!T.isExist(s.getDefault(n))){if(o.chartFamily==="combex"){I=[[b.COLOR.SAPColorSingleAxis,B[0]],B[1]];}s.add(n,{serializable:true,defaultValue:{"feed":n,"type":"color","palette":O.clone(I,true)}});}return new C(z,x,y);}};a["colorScale"]=f;d.register(null,null,function(h,s,j,i){return{role:h.TO_OLD_SCALEROLE[s[i].role],type:h.TO_OLD_SCALETYPE[s[i].role],name:i};});d.register(null,"color",function(h,s){return{colorPaletteNum:0,role:h.TO_OLD_SCALEROLE[s['color'].role],type:h.TO_OLD_SCALETYPE[s['color'].role],name:'color'};});d.register(null,"color2",function(h,s){return{colorPaletteNum:1,role:h.TO_OLD_SCALEROLE[s['color2'].role],type:h.TO_OLD_SCALETYPE[s['color2'].role],name:'color'};});});define('sap/viz/chart/scales/PercentageValueScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/ValueScale','sap/viz/framework/common/util/TypeUtils'],function(o,V,T){var P=function(d,r,a){this.__className="sap.viz.scale.PercentageValueScale";P.superclass.constructor.apply(this,arguments);};o.extend(P,V);P.prototype.scale=function(v){if(this._scale===undefined||this._isReset===true){this._initScale();}var r=this._scale(+v);return r<0?0:r;};return P;});define('sap/viz/chart/scales/ScaleTypeHandler',['sap/viz/framework/common/util/TypeUtils','sap/viz/chart/scales/ValueScale','sap/viz/chart/scales/ValueScaleUtil','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/scales/PercentageValueScale'],function(T,V,a,N,P){var R='layout';var h=function(d){var i;var j=true;for(i=0;i<d.length;i++){if(!(d[i].hasOwnProperty("min")&&d[i].hasOwnProperty("max"))){j=false;break;}}return j;};var b=function(d){if(T.isArray(d)){for(var i in d){if(d.hasOwnProperty(i)){if(!T.isArray(d[i])){return true;}else{return false;}}}}return false;};var c=function(d,i,j,r){if(T.isArray(d)){for(var k=0,q=d.length;k<q;++k){if(!d.hasOwnProperty(k)){continue;}var v=d[k];c(v,i,j,r);if(r.withNoValue&&!r.allNoValue&&r.withMiddleValue&&r.withZeroValue){break;}}}else{if(T.isExist(d)){r.allNoValue=false;if(d!==i&&d!==j){r.withMiddleValue=true;}if(d===0){r.withZeroValue=true;}}else{r.withNoValue=true;}if(r.withNoValue&&!r.allNoValue&&r.withMiddleValue&&r.withZeroValue){return;}}};var e=function(d){if(d==null){return true;}for(var i in d){if(d[i]!=null){for(var j in d[i]){if(d[i][j]!=null){return false;}}}else if(T.isArray(d[i])){if(d[i].length!==0){return false;}}}return true;};var f=function(v,d){if(!b(v)){for(var i in v){if(v.hasOwnProperty(i)){f(v[i],d);}}}else{d.push(v);}};var g=function(v){for(var i in v){if(v.hasOwnProperty(i)){for(var j in v[i]){if(v[i].hasOwnProperty(j)){if(T.isArray(v[i][j])){return true;}else{return false;}}}}}};var l=function(i){if(!T.isArray(i)){i=[i];}var j;var k;i.forEach(function(d){var q={};if(T.isArray(d)){q=l(d);}else{if(N.isNoValue(d)){return;}q={min:d,max:d};}if(j===undefined){j=q.min;k=q.max;}if(!N.isNoValue(q.min)){j=j>q.min?q.min:j;k=k>q.max?k:q.max;}});return{min:j,max:k};};var p=a.prepareValueScaleData;var m=a.getStackedArrayValues;var n=function(d,r){if(d){if(T.isArray(d)){var t=[0,0,0];for(var i=d.length-1;i>=0;i--){n(d[i],t);}if(t[0]<r[0]){r[0]=t[0];}if(t[1]>r[1]){r[1]=t[1];}}else{var v=+d;if(r.length>2){r[2]=r[2]+v;r[0]=r[2]<r[0]?r[2]:r[0];r[1]=r[2]>r[1]?r[2]:r[1];}else if(v<0){r[0]+=v;}else{r[1]+=v;}}}};var o=function(d,r){if(T.isArray(d)){for(var i in d){if(d.hasOwnProperty(i)){o(d[i],r);}}}else{r[1]+=Math.abs(d);}};var s={stacked_combination:function(d,k,q,r,t,u){var v=[];var w=d.values;d.lineRawRange=d.lineRawRange||d.range;if(T.isArray(d.values)&&g(d.values)){f(d.values,v);d.values=v;}if(r===R){var x=[];var y=[];for(var i in d.values){if(d.values.hasOwnProperty(i)){var z=d.values[i];var A=[];var B=[];for(var j in z){if(z[j]&&z.hasOwnProperty(j)){if(u&&u[j]&&t){var C=t[u[j].mndIndex||0];if(C==="bar"){A.push(d.values[i][j]);}else{B.push(d.values[i][j]);}}}}if(A.length){x[i]=[];x[i][0]=0;x[i][1]=0;m(A,x[i]);}if(B.length){y[i]=[];var D=l(B);y[i][0]=D.min;y[i][1]=D.max;}}}d.range=x.concat(y);d.stackedRange=x;d.lineRange=y;}k.minMax=l(d.range);var E=q(d,k);d.values=w;return E;},stacked:function(d,j,k,r){p(d,r,j&&j.rangeIndex);j=j||{};j.minMax=l(d.range);var v=k(d,j);if(!v.isFixed()){var q;if(h(d.metaData)){var i;var t=[0,0];for(i=0;i<d.metaData.length;i++){t[0]=Math.min(t[0],d.metaData[i].min,t[0]+d.metaData[i].min);t[1]=Math.max(t[1],d.metaData[i].max,t[1]+d.metaData[i].max);}var u=1;if(d.values.length){u=d.values[0].length/d.metaData.length;}q=[t[0]*u,t[1]*u];}if(q){v.maximizedDomain=q;}}return v;},waterfall:function(d,i,j,r){i.minMax=l(d.range);return j(d,i);},area:function(d,j,k,r){if(r===R){var q=[];for(var i in d.values){if(d.values.hasOwnProperty(i)){q[i]=[];q[i][0]=0;q[i][1]=0;n(d.values[i],q[i]);}}d.range=q;}j.minMax=l(d.range);return k(d,j);},spread:function(d,i,j){d.lineRawRange=d.lineRawRange||d.range;i=i||{};i.minMax=l(d.range);return j(d,i);},bullet:function(d,i,j){var r=[d.minValue,d.maxValue];d.range=r;i=i||{};i.minMax=l(d.range);return j(d,i);},percentage:function(d,j,k,r){if(r===R){var q=[];for(var i in d.values){if(d.values.hasOwnProperty(i)){q[i]=[];q[i][0]=0;q[i][1]=0;o(d.values[i],q[i]);}}d.range=q;return new P(q,[0,1]);}else{j.minMax=l(d.range);return k(d,j);}},yy:function(d,j,k){var q=j||{};q.allowZeroMinMax=true;q.minMax=l(d.range);var r=k(d,q);var t=r._domain[0],u=r._domain[1];var v=d.values;var w={"withNoValue":false,"allNoValue":true,"withMiddleValue":false,"withZeroValue":false};for(var i=0,L=v.length;i<L;++i){c(v[i],t,u,w);if(w.withNoValue&&!w.allNoValue&&w.withMiddleValue&&w.withZeroValue){break;}}var x=w.withNoValue,y=w.allNoValue,z=w.withMiddleValue,A=w.withZeroValue;if(x){r._domain.withNoValue=true;}if(y){r._domain=[];}if(z){r._domain.withMiddleValue=true;}if(A){r._domain.withZeroValue=true;}return r;}};return s;});define('sap/viz/chart/scales/ValueScaleProcessor',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ScaleRepository','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/scales/ScaleTypeHandler',"sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil",'sap/viz/framework/scale/ScaleDataParseFactory','sap/viz/chart/scales/ScalesFactory',],function(T,S,O,a,V,b,c,d){var e=function(h,n,s,p,o){o=o||{};var i=o.seriesType,r=o.role,j=o.series;var k;if(n=="valueAxis"){k="plotArea.dataShape.primaryAxis";}else if(n=="valueAxis2"){k="plotArea.dataShape.secondaryAxis";}var l;if(k){l=p.get(k);if(!(l instanceof Array)){l=p.get(k,'defaultValue');}}var m=s.get(n)||{};m=O.extend({},m);if(n==="valueAxis"&&o&&o.chartFamily==="ty"&&i==="stacked"){m.rangeIndex=o.rangeIndex;}var q=[n,"valueAxis","plotArea.valueAxis"];for(var t=0;t<=q.length;t++){if(t===q.length){m.allowDecimals=true;}else if(p.has(q[t]+".label.allowDecimals")){m.allowDecimals=p.get(q[t]+".label.allowDecimals");break;}}var u=a[i].call(this,h,m,b.generateValueScale,r,l,o.color);if(!T.isExist(s.getDefault(n))&&(n.indexOf('valueAxis')>-1||n.indexOf('actualValues')>-1)){s.add(n,{serializable:true,defaultValue:{"feed":n,"type":"linear","min":"auto","max":"auto"}});}u.setOption(s.get(n));if(o.comboexStackSeries||o.isFlexibleStack){f(u,j,o.isTrellis,n);}return u;};function f(s,h,i,n){var j=s.getDomainFixed();var k;if(i){for(var l=0;l<h.length;l++){for(var m=0;m<h[l].length;m++){var t=g(n,h[l][m]);if(!t){continue;}k=k||t;if(k[0]>t[0]){k[0]=t[0];}if(k[1]<t[1]){k[1]=t[1];}}}}else{k=g(n,h);}if(k){var o=s.getDomain();if(!j[0]){o[0]=Math.min(o[0],k[0]);}if(!j[1]){o[1]=Math.max(o[1],k[1]);}s.setDomain(o);var p=[];p[0]=Math.min(s.getAutoDomain()[0],k[0]);p[1]=Math.max(s.getAutoDomain()[1],k[1]);s.setAutoDomain(p);}}function g(n,s){var p={};var h={};if(s.every(function(i){return!i.settings.group;})){return null;}s.forEach(function(i,m){if(i.spec.mndKey!==n||!i.settings.group){return;}var o=i.settings.group;var q=p[o]=p[o]||[];var r=h[o]=h[o]||[];i.forEach(function(t,u){q[u]=q[u]||0;r[u]=r[u]||0;var v=t[n]||0;if(v>0){q[u]=q[u]+v;}else{r[u]=r[u]+v;}});});function j(m){return Object.keys(m).map(function(o){var q=m[o],r=q[0],t=q[0];for(var i=1;i<q.length;i++){if(r>q[i]){r=q[i];}if(t<q[i]){t=q[i];}}return[r,t];}).reduce(function(o,i){if(o[0]>i[0]){o[0]=i[0];}if(o[1]<i[1]){o[1]=i[1];}return o;},[0,0]);}var k=j(p);var l=j(h);return[l[0],k[1]];}S["valueScale"]=e;d.register(null,"value",V);c.register(null,"valueAxis",function(h,i){var j=h['valueAxis']();if(j.values){var k=function(l){var m=0;var _=function(v){if(T.isArray(v)){m++;_(v[0]);}};_(l);return m;};if(i.indexOf('trellis')>-1){while(k(j.values)<4){var w=function(v){var l;if(T.isArray(v)&&T.isArray(v[0])){for(l=0;l<v.length;l++){if(v[l]!==undefined){w(v[l]);}}}else{if(v.length){for(l=0;l<v.length;l++){v[l]=[v[l]];}}else{v[0]=[];}}};w(j.values);}}}return h;});});define('sap/viz/chart/scales/CategoryScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale','sap/viz/framework/common/util/DataUtils'],function(o,B,D){var C=function(d,r){C.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.CategoryScale";this._type="categorical";this._initScale();};o.extend(C,B);C.prototype.getDomain=function(){this._ensureScaled();return this._domain;};C.prototype.getRange=function(){this._ensureScaled();return this._range;};C.prototype.scale=function(v){this._ensureScaled();return this._scale(D.valuesToString(v));};C.prototype.getRangeInterval=function(){this._ensureScaled();return this._scale.range();};C.prototype.getRangeBand=function(){this._ensureScaled();return this._rangeBand;};C.prototype._ensureScaled=function(){if(this._scale===undefined||this._isReset===true){this._initScale();}};C.prototype._initScale=function(){var _=this._domain;var a=this._range;var l=_.length;var b=Math.abs(a[0]-a[1])/l;this._rangeBand=b;var r=Array(l);var c=_.map(function(d,i){var s=i*b;r[i]=[s,s+b];return D.valuesToString(d);});this._scale=d3.scale.ordinal().domain(c).range(r);this._isReset=false;};C.prototype.destroy=function(){C.superclass.destroy.call(this);this._rangeBand=null;this._isReset=null;};return C;});define('sap/viz/chart/scales/CategoryScaleProcessor',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ScaleRepository','sap/viz/chart/scales/CategoryScale','sap/viz/framework/common/util/ArrayUtils',],function(T,S,C,A){var r=A.transpose;var c=function(d,n,s,p){if(T.isArray(d.values)){var a=r(d.values);var b=new C(a,[0,1]);return b;}};S["categoryScale"]=c;});define('sap/viz/chart/scales/ScaleOptionsProcessor',["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ScaleOptionFactory"],function(T,S){function g(c,s,a,n){var b=[];if(!c.rowArray){return b;}var d=n||c.rowArray.length;a=a||0;for(var i=d-1;i>=0;--i){var f=s[i+a].every(function(e){return e.valueAxis==null&&e.valueAxis2==null;});s[i+a].isEmpty=f;if(f){b.push(i);}}return b;}S.register("timeseries.*column|timeseries_bullet",null,function(o,d,r,p){o.allowEqual=true;o.dataTimeLevel=r.statusManager().get("timeLevels")[0];o.showAsUTC=p.get("general.showAsUTC");});S.register("stacked_","waterfallType",function(o,d,r,p){o.isStacked=true;});S.register("timeseries.*stacked_column","valueAxis",function(o,d,r,p){o.isStacked=true;o.rangeIndex=d._rangeIndex;});S.register("dual_.*",null,function(o,d,r,p){o.isDual=true;});S.register(null,"valueAxis",function(o,d,r,p,v){o.color=d.color?d.color().rowArray:null;});S.register(null,"valueAxis2",function(o,d,r,p,v){o.color=d.color2?d.color2().rowArray:null;});S.register("^((?!(pie|donut|bullet|heatmap|treemap|tagcloud|timeseries)).)*$","color",function(o,d,r,p,v){var i=p.get("legend.ignoreNoValue");if(i&&!/bubble|scatter/.test(d.chartType())){o.noValueIndex=g(d.color(),d.getInitSeries());}o.colorId="color";});S.register("timeseries_((?!(bubble|scatter|combination|bullet)).)*$","color",function(o,d,r,p,v){var i=p.get("legend.ignoreNoValue")&&p.get("plotArea.dataPoint.invalidity")!=="connect";if(i){o.noValueIndex=g(d.color(),d.getInitSeries());}o.colorId="color";});S.register("timeseries_.*combination$","color",function(o,d,r,p,v){var i=p.get("legend.ignoreNoValue");if(i){o.noValueIndex=g(d.color(),d.getInitSeries(),0,p.get("plotArea.dataPoint.invalidity")==="connect"?1:0);}o.colorId="color";});S.register("pie|donut","color",function(o,d,r,p,v){var a=p.get('legend.ignoreNoValue');if(a){var b=d.size&&d.size();for(var i=b.values.length-1;i>=0;--i){if(!T.isExist(b.values[i])){o.noValueIndex=o.noValueIndex||[];o.noValueIndex.push(i);}}}o.colorId="color";});var B=["actualValues","additionalValues","forecastValues","targetValues"];var M=B.length;S.register("bullet","color",function(o,d,r,p,v){var a=p.get('legend.ignoreNoValue');if(a){o.noValueIndex=[];var s=d.getInitSeries();for(var i=0;i<s.length;++i){var c=s[i];var h=[false,false,false,false];var b=false;for(var j=0;j<c.length;++j){var f=c[j];B.forEach(function(e,j){if(f[e]!=null){b=h[j]=true;}});}c.isEmpty=!b;h.forEach(function(e,t){if(!e){o.noValueIndex.push(i*M+t);}});}}o.colorId="color";});S.register("^((?!(dual_timeseries_combination|timeseries_combination)).)*$","color2",function(o,d,r,p,v){var i=p.get('legend.ignoreNoValue');if(i){var c=d.color();var l=c.rowArray?c.rowArray.length:0;o.noValueIndex=g(d.color2(),d.getInitSeries(),l);}o.colorId="color2";});S.register("timeseries_.*combination$","color2",function(o,d,r,p,v){var i=p.get('legend.ignoreNoValue')&&p.get("plotArea.dataPoint.invalidity")!=="connect";if(i){var c=d.color();var l=c.rowArray?c.rowArray.length:0;o.noValueIndex=g(d.color2(),d.getInitSeries(),l);}o.colorId="color2";});S.register("combinationEx",null,function(o,d,r,p,v){o.isDual=v.length>1;o.comboexStackSeries=true;});S.register("trellis",null,function(o,d,r,p,v){o.isTrellis=true;});S.register("stacked_column",null,function(o,d,r,p){if(p.origin.get("plotArea.series")){o.isFlexibleStack=true;}});});define('sap/viz/chart/dynamicScales/BaseDyScaleProcessor',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ArrayUtils',"sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/format/UnitFormat",'sap/viz/framework/scale/DynamicScaleRepository',],function(c,A,N,U,D){function d(t,p,a,r){this._type=t;this._propertyMgr=p;this._dataModel=a.dataModel;this._scales=a.scales;this._runtime=r;this._units=this._runtime.statusManager().get("data.unit")||{};this._mainValue="valueAxis";}var K=3,M=6,B=9,T=12,Q=15;var f=[Q,T,B,M,K];function g(n){var a=n.toString();var l=a.length-1;var s=0;for(var i=0;i<f.length;i++){if(l>=f[i]){s=f[i];break;}}return s;}d.prototype.getValue=function(a){return a.valueAxis||a.valueAxis2;};d.prototype.calculatedynamicScale=function(m,a,b){if(!m||!a||m.length===0||a.length===0){return null;}var i=this._dataModel[b]();var t=this.getUnit(i,this._units);var u=t[0];var k=t[1];var l=i.metaData.map(function(e){return e.id||e.name;});var s=[];var n=0;a.forEach(function(e,w){if(e===undefined){return;}var x=g(e);var y=g(m[w]);n=0;if(y===x){n=y;}else if(y+3===x&&x<=T){n=x;}else if(y+6===x&&x<=T){n=y+3;}s.push(n);});var r=null;if(A.unique(s).length!==1){n=0;}else{n=s[0];}var o={3:"K",6:"M",9:"B",12:"T",15:"Q",};if((n&&o[n])||(n===0&&u)){var p=" in";if(o[n]){p+=" "+o[n];}if(u){p+=" "+u;}var q=Math.pow(10,n);var v=function(e,w,x,y){if(q===0){e=U.format(e,w,x,y);}else if(c.isNumber(e)){e/=q;e=+e.toFixed(2);if(w&&w.indexOf("u")===w.length-1){e=e.toString();}else{e=U.format(e,w,x,y);}}else{e=e.toString();}return e;};r={factor:q,symbol:o[n]||"",unit:u||"",isDifferentUnit:k,postfix:p,format:v,metaKeys:l};}return r;};function h(v){return Math.abs(parseInt(v));}d.prototype.cleanValue=h;function j(r){var e=r.map(h).sort(function(a,b){return a-b;});return e;}d.prototype.cleanRange=j;d.prototype.getUnit=function(v,u){var i=false;var r="";if(v&&v.metaData&&v.metaData.length>0){r=u[v.metaData[0].id]||"";for(var a=1;a<v.metaData.length;a++){var b=u[v.metaData[a].id]||"";if(b!==r){i=true;r="";break;}}}return[r,i];};d.prototype.generateResult=function(a,b){var r=null;var e=this._dataModel;if(this._type.indexOf("dual")>-1&&(a||b)){r={valueAxis:a,valueAxis2:b,onlyChartTitle:false};if(a&&b){var k=a.unit===b.unit;var l=a.factor===b.factor;if(l&&k){r.onlyChartTitle=true;r.postfix=a.postfix;}else{r.showUnitOnDataLabel=!k||!l;r.showSymbolOnDatalabel=!k||!l;}}else{r.showUnitOnDataLabel=true;r.showSymbolOnDatalabel=true;}}else if(a){r={valueAxis:a,postfix:a.postfix,onlyChartTitle:true};}if(r){if((a&&a.isDifferentUnit)||(b&&b.isDifferentUnit)){r.showUnitOnDataLabel=true;}r.getScaleFactor=function(m){var t=[];for(var n in r){if(r.hasOwnProperty(n)&&r[n]&&r[n].format){t.push(r[n]);}}for(var i=0;i<t.length;i++){if(t[i]&&t[i].metaKeys.indexOf(m)>-1){return t[i];}}};}return r;};d.prototype.getMinMax=function(){return{};};d.prototype.getdynamicScale=function(){var m=this.getMinMax();var a=this._dataModel;var b=this.calculatedynamicScale(m.minTable,m.maxTable,this._mainValue);var e=a._valueAxis2&&this.calculatedynamicScale(m.minTable2,m.maxTable2,"valueAxis2");return this.generateResult(b,e);};return d;});define('sap/viz/chart/dynamicScales/BaseColumnDyScaleProcessor',['sap/viz/framework/common/util/oo','sap/viz/framework/scale/DynamicScaleRepository',"sap/viz/chart/dynamicScales/BaseDyScaleProcessor"],function(o,D,B){function a(t,p,d,r){a.superclass.constructor.apply(this,arguments);}o.extend(a,B);["column","dual_column","bar","dual_bar","line","horizontal_line","dual_line","dual_horizontal_line","timeseries_line","combination","horizontal_combination","dual_combination","dual_horizontal_combination","timeseries_column","timeseries_combination","dual_timeseries_combination"].forEach(function(t){D[t]=a;});a.prototype.chooseMinMaxFromRanges=function(r){var m=[],b=[];if(r){r.forEach(function(c){if(c){c=this.cleanRange(c);m.push(c[0]);b.push(c[1]);}},this);}return[m,b];};a.prototype.getMinMax=function(){var r={};var m=this._dataModel[this._mainValue]();var t=this.chooseMinMaxFromRanges(m.range);r.minTable=t[0];r.maxTable=t[1];if(this._dataModel._valueAxis2){t=this.chooseMinMaxFromRanges(this._dataModel._valueAxis2.range);r.minTable2=t[0];r.maxTable2=t[1];}return r;};return a;});define('sap/viz/chart/views/ChartView',["sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/oo','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/layout/GridLayout",'sap/viz/chart/components/title/Title','sap/viz/chart/components/Background','sap/viz/chart/components/scrollbar/PaginationScrollbar','sap/viz/chart/components/legend/ColorLegend','sap/viz/chart/components/legend/LegendGroup','sap/viz/chart/components/container/UIContainer','sap/viz/chart/metadata/properties/PropertyLoader',"sap/viz/chart/behavior/AllBehaviors","sap/viz/chart/components/util/TextUtils","sap/viz/chart/scales/ColorScaleProcessor","sap/viz/chart/scales/ValueScaleProcessor","sap/viz/chart/scales/CategoryScaleProcessor","sap/viz/chart/scales/ScaleOptionsProcessor","sap/viz/chart/dynamicScales/BaseColumnDyScaleProcessor"],function(C,D,o,T,G,a,B,P,b,L,U,c,A,d){var e=function(r,f){e.superclass.constructor.apply(this,arguments);var p=c.getProperties(f.chartType,this._isTrellis());this._properties.add(p);this._exposeMoreEvents("ready");this._exposeMoreEvents("renderComplete");this._exposeMoreEvents("reRenderComplete");this._exposeMoreEvents("initialized");this._exposeMoreEvents("plotScroll");this.runtime().statusManager().add('ChartPaddingInfo');this.runtime().statusManager().add('sizeChanged');var g=this._getLayoutDefinition();this._supportLazyRender=false;this.setLayoutAlgorithm(new g());this._outline={visible:false};this._background=null;this._backgroundNode=null;this._rootContainer=null;this._paginationScrollbar=null;this._paginationScrollbarNode=null;this._initialized=false;this._legendIsAUTO=false;this._createChildren();this._plotAreaLayout=null;this._semanticMgr=this.runtime().semanticManager();};o.extend(e,U);e.prototype._createChildren=function(){this._createBackground();this._createTitle();this._createLegendGroup();this._createPaginationScrollbar();};e.prototype._createPaginationScrollbar=function(){var m=this._getPaginationScrollbarKey();this._paginationScrollbar=new P(this.runtime(),{name:m});};e.prototype._createTitle=function(p){var m=this._getTitleModuleKey();var M=this._getTitleDefinition();var f=new M(this.runtime(),{name:m});if(T.isFunction(f.setPosition)){f.setPosition(p);}this.setChild(m,f,{priority:1,spacing:{spacingWithMainToRough:C.TITLE.SPACING_WITH_MAIN_TO_ROUGH,spacingMaxInPX:C.TITLE.SPACING_MAX_IN_PX}});};e.prototype._createLegendGroup=function(p){var l=this._getLegendGroupModuleKey();var f=this._getLegendGroupDefinition();var g=new f(this.runtime(),{name:l});if(T.isFunction(g.setPosition)){g.setPosition(p);}var h=this._getLegendDefinition();var i=this._getLegendInitOptions();var j=this._getLegendModuleKey();var k;if(T.isArray(h)){for(var m=0;m<h.length;m++){var n=h[m];var q=j[m];k=new n(this.runtime(),{name:q,options:i[m]});g.setChild(q,k);}}else{k=new h(this.runtime(),{name:j,options:i});g.setChild(j,k);}this.setChild(l,g,{priority:2,spacing:{spacingWithMainToRough:C.LEGEND_GROUP.SPACING_WITH_MAIN_TO_ROUGH,spacingMaxInPX:C.LEGEND_GROUP.SPACING_MAX_IN_PX}});};e.prototype._createBackground=function(){this._background=new B(this.runtime(),{name:'general.background'});};e.prototype.clear=function(){if(this._rootContainer){this._rootContainer.removeAttribute('tabIndex');}if(this._backgroundNode){this._backgroundNode.select('.v-background-body').remove();this._backgroundNode.select('.v-background-border').remove();}if(this._paginationScrollbarNode){this._paginationScrollbarNode.select('.v-background-body').remove();}var t;if(this.getChild(this._getTitleModuleKey())){t=this.getChild(this._getTitleModuleKey()).module;}if(t){t.clear();}var l;if(this.getChild(this._getLegendGroupModuleKey())){l=this.getChild(this._getLegendGroupModuleKey()).module;}if(l){l.clear();}};e.prototype.paginationOptions=function(){var p;var f=this.getData();if(f&&f.dataModel&&f.dataModel.getPaginationOptions){p=f.dataModel.getPaginationOptions();}return p;};e.prototype.savePlotAreaLayout=function(p){var f=this._plotArea._children;for(var k in f){if(f.hasOwnProperty(k)){var m=f[k].module;if(m._size){p[k]={};p[k].module={};p[k].module._size={};p[k].module._size.width=m._size.width;p[k].module._size.height=m._size.height;}}}};e.prototype._getDataRange=function(s,f){return this._plotArea&&this._plotArea._getDataRange(s,f);};e.prototype._resetPlotContainer=function(){if(this._plotArea){if(this._selections&&this._selections[this._plotArea.alias]){var p=this.paginationOptions();if(p){this._selections[this._plotArea.alias].selectAll("*").remove();if(!this._plotAreaLayout){this._plotAreaLayout={};this.savePlotAreaLayout(this._plotAreaLayout);}if(p.mode!==C.PAGINATION_MODE.UPDATE){this._plotAreaLayout=null;}}else{this._plotAreaLayout=null;this._selections[this._plotArea.alias].remove();this._selections[this._plotArea.alias]=null;}}this._plotArea.destroy();this._plotArea=null;}};e.prototype._createPlotContainer=function(i){};e.prototype._getPaginationScrollbarKey=function(){return"paginationScrollbar";};e.prototype._getLegendGroupDefinition=function(){return L;};e.prototype._getLegendGroupModuleKey=function(){return C.LEGEND_GROUP.KEY;};e.prototype._getTitleDefinition=function(){return a;};e.prototype._getTitleModuleKey=function(){return"title";};e.prototype._getLegendDefinition=function(){return[b];};e.prototype._getLegendInitOptions=function(){return[null];};e.prototype._getLegendModuleKey=function(){return["legend"];};e.prototype._getLayoutDefinition=function(){return G;};e.prototype.layoutPaginationScrollbar=function(n){var p=this._plotArea._categoryAxis._position;var m=this._layoutResult.main;var f=this._plotArea._layoutResult.plot;var g=this._plotArea._layoutResult.categoryAxis;var h=this._plotArea._categoryAxis._layoutResult.axisTitle;var i=this._plotArea._categoryAxis._layoutResult.axisScrollbar;var j=this.paginationOptions();var k=1;if(j){k=j.ratio;}this._paginationScrollbar.setPosition(p);var x;var y;var t;if(this._paginationScrollbar._isVertical()){var l=0;if(this._plotArea._valueAxis&&this._plotArea._valueAxis._position==="top"){l=this._plotArea._layoutResult.valueAxis.height;}x=m.x+f.x+f.width;y=m.y+l;t=this._plotArea.getVScrollbar()._trackSize;}else{if(this._paginationScrollbarOffset===undefined||this._paginationScrollbarOffset===null){if(h.y>0&&i.height>0){this._paginationScrollbarOffset=h.y-i.y-i.height;}else{this._paginationScrollbarOffset=0;}}x=m.x+f.x;y=m.y+f.height+g.height-h.height-i.height-this._paginationScrollbarOffset;t=this._plotArea.getHScrollbar()._trackSize;}n.attr("transform","translate("+x+","+y+")");if(k!==null&&k!==undefined){this._paginationScrollbar.setContentSize(t/k);}else{var q=this._paginationScrollbar.getTrackSize()/this._paginationScrollbar.getContentSize();if(q){this._paginationScrollbar.setContentSize(t/q);}}this._paginationScrollbar.setTrackSize(t);};e.prototype._updateBackgroundColor=function(s){if(s&&s.background&&s.background.color){this._background.setData({'color':s.background.color});}else{this._background.setData(null);}};e.prototype.render=function(r,f){if(!this._size.width||!this._size.height){return;}this._rootContainer=r.node().parentNode;if(this._rootContainer){this._rootContainer.setAttribute("tabIndex",this._properties.get('general.tabIndex'));if(this._outline.visible||this._properties.get("interaction.enableKeyboard")){this._rootContainer.style.outline=null;}else{this._rootContainer.style.outline="none";}}if(this._background){this._background.setSize(this._size);var t=r.node().tagName;if(t.toLowerCase()==="div"){this._backgroundNode=this._backgroundNode||r.append('svg').attr('style',"position:absolute;height: 100%; width: 100%;").append('g').attr('class','v-m-background');}else{this._backgroundNode=this._backgroundNode||r.append('g').attr('class','v-m-background');}this._updateBackgroundColor(this._semanticDisplayStyleRules);this._background.render(this._backgroundNode);}this._initRenderBase(r);this.clearSize(true);f=f||{};var p=this.paginationOptions();if(p){f.pagination=p;if((f.dataChanged&&p&&p.mode===C.PAGINATION_MODE.UPDATE)||(!f.isSizeChanged&&!f.propertiesChanged)){f.plotAreaLayout=this._plotAreaLayout;}else{this._plotAreaLayout=null;this._paginationScrollbarOffset=null;}f._paginationScrollbar=this._paginationScrollbar;}f._semanticDisplayStyleRules=this._semanticDisplayStyleRules;this.layout(f);var g=this._layoutAlgorithm.config;this._runtime.statusManager().set('ChartPaddingInfo',{padding:g.get('padding'),paddingLeft:g.get('paddingLeft'),paddingRight:g.get('paddingRight'),paddingTop:g.get('paddingTop'),paddingBottom:g.get('paddingBottom')});for(var k in this._children){if(k!=='plot'){if(this._children.hasOwnProperty(k)){this.getChild(k).module.render(this._selections[k],this._semanticDisplayStyleRules);}}}if(this.getChild('plot')){this.getChild('plot').module.render(this._selections['plot'],null,this._semanticDisplayStyleRules);}this._renderForPagination(r,p,f);this._runtime.statusManager().set("sizeChanged",f.isSizeChanged);this._dispatchInitialized();};e.prototype._renderForPagination=function(r,p,f){if(p&&this._plotArea&&this._plotArea._categoryAxis){var g=this._plotArea._categoryAxis.getChild("axisScrollbar");var h=this._plotArea.getChild("scrollbar");if((g&&g.module&&g.module.isVisible()&&g.module.isExist())||(h&&h.module&&h.module.isVisible()&&h.module.isExist())){if(!this._paginationScrollbar){this._createPaginationScrollbar();}if(!this._paginationScrollbarNode){this._paginationScrollbarNode=r.append('g').attr('class','v-m-paginationScrollbar');}if(p.mode===C.PAGINATION_MODE.RESET){this._paginationScrollbarOffset=null;}if(f.isSizeChanged||f.propertiesChanged||p.mode===C.PAGINATION_MODE.RESET||p.mode===C.PAGINATION_MODE.UPDATE){this.layoutPaginationScrollbar(this._paginationScrollbarNode);this._paginationScrollbar.render(this._paginationScrollbarNode);}if(!f.isSizeChanged&&f.dataChanged&&p.mode===C.PAGINATION_MODE.RESET){this._paginationScrollbar.setThumbPosition(0);this._paginationScrollbar._thumbRatio=0;}else{if(this._paginationScrollbar._thumbRatio){this._paginationScrollbar.setThumbPosition(this._paginationScrollbar._thumbRatio*this._paginationScrollbar._maxThumbPosition);}}}}else{if(this._paginationScrollbarNode){this._paginationScrollbarNode.remove();}this._paginationScrollbarNode=null;if(this._paginationScrollbar&&T.isFunction(this._paginationScrollbar.destroy)){this._paginationScrollbar.destroy();}this._paginationScrollbar=null;}};e.prototype._dispatchInitialized=function(){if(this._eventDispatch){this._eventDispatch.ready();}d.destroy();window.setTimeout((function(){if(this._eventDispatch){this._initialized=true;this._eventDispatch.initialized();if(this._customerDispatch&&this._customerDispatch.initialized){this._customerDispatch.initialized();}if(this._eventDispatch){this._eventDispatch.renderComplete();}if(this._customerDispatch&&this._customerDispatch.renderComplete){this._customerDispatch.renderComplete();}}window.setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete();}},0);}).bind(this),0);};e.prototype._configLayout=function(){var f=this._getLayoutComponents();var p=this.calculatePaddingInPX(this._properties.origin,this._size.width,this._size.height);var g=p.propertyPaddingInPX;var h=p.propertyPaddingTopInPX;var i=p.propertyPaddingRightInPX;var j=p.propertyPaddingBottomInPX;var k=p.propertyPaddingLeftInPX;var l=this._layoutAlgorithm.config;l.set('totalWidth',this._size.width);l.set('totalHeight',this._size.height);l.set('padding',g);l.set('paddingTop',h);l.set('paddingRight',i);l.set('paddingBottom',j);l.set('paddingLeft',k);l.set('isTrellis',this._isTrellis());l.set('legendGroup.layout.respectPlotPosition',this._properties.origin.get("legendGroup.layout.respectPlotPosition"));l.set('legendGroup.layout.alignment',this._properties.origin.get("legendGroup.layout.alignment"));l.set('title.layout.respectPlotPosition',this._properties.origin.get("title.layout.respectPlotPosition"));return f;};e.prototype._postLayout=function(){var r=this._layoutResult;for(var k in r){if(r.hasOwnProperty(k)){var s=this._selections[k];if(s.node().tagName==='DIV'){s.style({position:'absolute',left:r[k].x+'px',top:r[k].y+'px',height:r[k].height+"px",width:r[k].width+"px"});}else{s.attr('transform','translate('+r[k].x+', '+r[k].y+')');}}}};e.prototype._getLayoutComponents=function(){for(var k in this._children){if(this._children.hasOwnProperty(k)){var f=this.getChild(k);var g=f.option;var l=this._properties.proxy(k+".layout");var p=l.get('position');var m=l.get("maxWidth");var h=l.get("maxHeight");var w=l.get("width");var i=l.get("height");var j=null;var n=null;if(k===C.LEGEND_GROUP.KEY){if(p==="auto"){j="right";if(this._size.width<C.LEGEND_GROUP.AUTO_THRESHOLD){j="bottom";}}else{j=p;}f.module.setPosition(j);if(this._properties.origin.get("legendGroup.forceToShow")&&!this._isTrellis()){m=1;h=1;}j=f.module.getPosition();}else{j=f.module.getPosition?f.module.getPosition():p;}if(j){g.position=j;}if(!f.module.getPosition){g.defaultPosition=l.getDefault("position");}if(m){g.maxWidth=m;}if(h){g.maxHeight=h;}if(w){g.width=w;g.maxWidth=w;}else{g.width=null;}if(i){g.height=i;g.maxHeight=i;}else{g.height=null;}}}return this._children;};e.prototype.setSize=function(){e.superclass.setSize.apply(this,arguments);if(this._rawData){this._updateData();}};e.prototype.getData=function(){return this._rawData;};e.prototype.setData=function(f){this._rawData=f;this._updateData();};e.prototype._updateData=function(){var f=this._rawData;var g=this._getDataItems();this._data={};for(var i=0;i<g.length;i++){var h=g[i];if(!f.dataModel[h]){continue;}this._data[h]=f.dataModel[h]();if(f.scales.hasOwnProperty(h)){this._data[h].scale=f.scales[h];}}if(T.isFunction(f.dataModel.context)){var j=f.dataModel.context();this._data['context']=j;}this._data._dataPoints=f.dataModel._dataPoints;this._data._seriesType=f.dataModel._seriesType;this._extendData();this._dataChanged();};e.prototype._extendData=function(){this._data.rawData=this._rawData;};e.prototype.getBindingMetaData=function(){var f={},g=this._getDataItems();for(var i=0;i<g.length;++i){var h=this._data[g[i]];if(h==null){continue;}var m=h.metaData;if(m==null){continue;}f[g[i]]=m;}return f;};e.prototype._getDataItems=function(){return[];};e.prototype._isTrellis=function(){return!!(this._data&&(this._data.trellisRow||this._data.trellisColumn));};e.prototype._dataChanged=function(){this._resetPlotContainer();this._createPlotContainer(this._isTrellis());if(this._supportLazyRender){this._plotArea.getDispatch().on("reRenderComplete.chartview",this._reRenderComplete.bind(this));}if(this._data){for(var k in this._children){if(this._children.hasOwnProperty(k)){this.getChild(k).module.setData(this._data);}}}};e.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};e.prototype.properties=function(p){if(!arguments.length){return this._properties.get();}this._properties.set(p);return this;};e.prototype.chartType=function(f){if(!arguments.length){return this._chartType;}this._chartType=f;return this;};e.prototype.destroy=function(){e.superclass.destroy.call(this);if(this._backgroundNode){this._backgroundNode.remove();}this._backgroundNode=null;if(this._background&&T.isFunction(this._background.destroy)){this._background.destroy();}this._background=null;if(this._paginationScrollbarNode){this._paginationScrollbarNode.remove();}this._paginationScrollbarNode=null;if(this._paginationScrollbar&&T.isFunction(this._paginationScrollbar.destroy)){this._paginationScrollbar.destroy();}this._paginationScrollbar=null;this._chartType=null;this._properties=null;this._plotArea=null;this._plotAreaLayout=null;this._data=null;if(this._rawData){if(this._rawData.dataModel){var f=this._rawData.dataModel;if(T.isFunction(f.destroy)){f.destroy();}}if(this._rawData.scales){var s=this._rawData.scales;for(var k in s){if(s.hasOwnProperty(k)&&s[k]&&T.isFunction(s[k].destroy)){s[k].destroy();s[k]=null;}}}}this._rawData=null;this._outline=null;if(this._semanticMgr){this._semanticMgr.destroy();}this._semanticMgr=null;};e.prototype.changes=function(f){if(f.dataChanged){this.runtime().fireInteractionEvent("dataUpdated");}if(f.scalesChanged){this.runtime().fireInteractionEvent("scalesUpdated",f.scalesChanged);}};e.prototype.changePaddingTop=function(p,f){var g=p.get("valueAxis.label.style");var v=d.canvasMeasure('',g['fontSize'],g['fontWeight'],g['fontFamily']).height;if(T.isExist(f.propertyPaddingInPX)&&f.propertyPaddingInPX<v/2){f.propertyPaddingTopInPX=v/2;}if(T.isExist(f.propertyPaddingTopInPX)&&f.propertyPaddingTopInPX<v/2){f.propertyPaddingTopInPX=v/2;}};return e;});define('sap/viz/chart/components/callout/CalloutContainer',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/framework/chartmodel/DataSelector','sap/viz/chart/components/util/TextUtils',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/ObjectUtils'],function(o,U,D,T,c,e,L,O){var M=2,C={top:{labelGap:12,labelMargin:2,lineExt:8,occupy:"width",prefer:"height",alignKey:"y",positionKey:"left",positionKey2:"top",offsetKey:"x"},left:{labelGap:0,labelMargin:2,lineExt:8,occupy:"height",prefer:"width",alignKey:"x",positionKey:"top",positionKey2:"left",offsetKey:"y"}},f="v-callout",g="2,3";var E=" ";var h=function(r,a){h.superclass.constructor.apply(this,arguments);this._callouts=[];this._plotOffset={x:0,y:0};this._plotRealSize=null;};o.extend(h,U);function j(p){return C[p||this._options.position];}h.prototype.getPreferredSize=function(b){var p=this._options.position,r=this.properties(p),a={width:0,height:0};var d=r&&r.length;if(d){var k=this.properties("label.style.fontFamily"),l=this.properties("label.style.fontSize"),m=this.properties("label.style.fontWeight"),n=this.properties("label.style.fontStyle"),q=this.properties("label.formatString"),u=this.properties("label.unitFormatType");var i,s=j.call(this,p),t=s.occupy,v=s.prefer,w=b[t]-s.lineExt,x=s.labelGap,y=0,z=this._callouts,A=0,B=false,F=this.getData();var G=this.runtime().statusManager().get("data.unit");for(i=0;i<d;i++){var H=r[i];new D(H.dataContext,F).iterateDataPoints(function(I){var J={decimalFormatString:e.getDecimalFormatString(e.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};var K=I.context(),N=e.format(K[K.measureNames],q,u,J);if(N===null||N===undefined){N=L.get('IDS_ISNOVALUE');}else if(K.measureNames&&G[K.measureNames]){N+=(E+G[K.measureNames]);}var P=T.fastMeasure(N,l,m,k,n);var Q=P[v];if(Q<=(b[v]-s.lineExt)){var R=P[t];if(R<=w){if(!z[y]){z[y]={};}z[y].dpId=I.id;z[y].text=N;z[y].textMeasure=P;z[y].offset=0;y++;A=Math.max(A,Q);if(y===M||(w-=R+x)<=0){B=true;return false;}}}});if(B){break;}}if(z.length){a[t]=b[t];a[v]=A+s.labelMargin+s.lineExt;}}return a;};h.prototype.render=function(s){var a=this._options.position;var b=this._callouts;if(!b.length){return;}this._selection=s;s.selectAll('*').remove();var r=this._rootSelection=s.append("g");var m=this._mainSelection=r.append("g");var i=j.call(this),p=i.prefer,k=i.alignKey,l=this._size[i.prefer]-i.labelMargin-i.lineExt;var n=this._calloutsSelection=m.selectAll("."+f).data(b).enter().append("g").attr("class",f);var t=null;var q=this.runtime().envManager();if(q){t=q.textAnchor();}this._labelSelection=n.append("text").text(function(d){return d.text;}).attr("font-family",this.properties("label.style.fontFamily")).attr("font-size",this.properties("label.style.fontSize")).attr("font-style",this.properties("label.style.fontStyle")).attr("font-weight",this.properties("label.style.fontWeight")).attr("fill",this.properties("label.style.color")).attr("text-anchor",t).attr(k,function(d){var v=d.textMeasure;var w=l;if(a==="left"){w=l-v[p]-v[k];}return w;});var u=this._properties.get("line.color");if(!u){u=this._properties.getDefault('line.color');}this._lineSelection=n.append("polyline").attr("stroke",u).attr("fill","none").attr("stroke-dasharray",g);};h.prototype.postRender=function(p,a,b,d){var i=this._callouts;if(!i.length){return;}this._plotNode=p;var k={};k.width=p.getBoundingClientRect().width;k.height=p.getBoundingClientRect().height;this._plotBoundRect=k;var s=this._size;var l={width:s.width,height:s.height};var m=j.call(this),n=m.prefer;l[n]+=a[n];var q="callout_clipPath"+O.guid();this._selection.append("clipPath").attr("id",q).append("rect").attr("width",l.width).attr("height",l.height);this._rootSelection.attr("clip-path","url(#"+q+")");this._plotRealSize=b;this.update(d);};h.prototype.update=function(k){var l=this._calloutsSelection;if(!l){return;}this._selection.selectAll('text').attr("visibility","hidden");if(this._options.position==="top"){this._selection.selectAll('text').attr("x",0);}else{this._selection.selectAll('text').attr("y",0);}var m=j.call(this),n=m.positionKey,q=m.positionKey2,r=m.occupy,s=m.prefer;var t=this._plotBoundRect;var u=d3.select(this._plotNode).select(".v-plot-bound").node();if(u){t=u.getBoundingClientRect();}var v=this._mainSelection.append("rect");var w=v.node().getBoundingClientRect();v.remove();t={left:t.left-w.left,top:t.top-w.top,width:t.width,height:t.height};var x=this._callouts;x.forEach(function(d){d.visible=false;var a=d.dpRect;var b=c.findByDataPointId(k,d.dpId);if(b){a=b.getBoundingClientRect();a=d.dpRect={left:a.left-w.left,top:a.top-w.top,width:a.width,height:a.height};d.visible=(a[q]+a[s]>t[q])&&(a[q]<t[q]+t[s])&&(a[n]+a[r]>t[n])&&(a[n]<t[n]+t[r]);}var p=d.lineStart={};var P=d.lineJoint={};if(a&&a[n]&&a[r]){var Q=a[n]+a[r]/2;p[n]=P[n]=Q;p[q]=Math.max(a[q],t[q]);P[q]=t[q];}});var y=l.select("text");y.each(function(d){var a=d.labelRect=this.getBoundingClientRect();a=d.labelRect={left:a.left-w.left,top:a.top-w.top,width:a.width,height:a.height};if(d.visible){d.offset=d.lineStart[n]-a[n]-a[r]/2;}});var z=x.filter(function(d){return d.visible;});z.sort(function(a,b){return a.lineStart[n]-b.lineStart[n];});var A=m.offsetKey;var B=false;var F;if(z.length>0){var G=z[0];F=G.labelRect[n]+G.offset;if(F<0){G.offset-=F;B=true;}}var H;var i;var I;H=z.length;I=m.labelGap;this.layoutCallouts(z,n,r,I);var J=m.lineExt;var K=this._options.position;y.attr(A,function(d){return d.offset;}).each(function(d){var a=this.getBoundingClientRect();var b=d.lineJoint;var p=b[n];var P=a[n]-w[n],Q;if(p<P){Q=P;}else{var R=P+a[r];if(p>R){Q=R;}else{Q=p;}}var S=d.lineEnd={};S[q]=b[q]-J;S[n]=Q;});var N=l.attr("visibility",function(d){return d.visible?null:"hidden";}).filter(function(d){return d.visible;});N.select("polyline").attr("points",function(d){return[d.lineStart,d.lineJoint,d.lineEnd].map(function(p){return p.left+","+p.top;}).join(" ");});this._selection.selectAll('text').attr("visibility",null);};h.prototype.normalizeItem=function(a,p,b){if(a.offset<0){a.offset=0;}else if((a.offset+a.labelRect[b])>this._plotRealSize[b]){a.offset=this._plotRealSize[b]-a.labelRect[b];}};h.prototype.layoutCallouts=function(s,p,a,l){var b=this._plotRealSize[a];if(s.length>0){s[0].offset+=s[0].labelRect[p];if(s[1]){s[1].offset+=s[1].labelRect[p];}}if(s.length===1){var d=s[0];this.normalizeItem(d,p,a);}else if(s.length===2){var i=s[0];var k=s[1];this.normalizeItem(i,p,a);this.normalizeItem(k,p,a);var m=false;if((i.offset+i.labelRect[a]+l)>k.offset){m=true;}if(m){var t;t=(i.offset+i.labelRect[a]+l);if((t+k.labelRect[a])<=b){k.offset=t;}else{t=(k.offset-l-i.labelRect[a]);if((t)>0){i.offset=t;}else{if(i.offset<(b-k.offset)){i.offset=0;k.offset=i.labelRect[a]+l;}else{k.offset=b-k.labelRect[a];i.offset=b-k.labelRect[a]-l-i.labelRect[a];}}}}}if(s.length>0){s[0].offset-=s[0].labelRect[p];if(s[1]){s[1].offset-=s[1].labelRect[p];}}};h.prototype.afterPlotZoom=function(d){this.update(d);};h.prototype.setPlotRealSize=function(p){this._plotRealSize=p;};h.prototype.scroll=function(a){var m=this._mainSelection;if(m){this._mainSelection.attr("transform","translate("+a.x+","+a.y+")");}};h.prototype.afterPlotScroll=function(a,d){var b=this._plotOffset;if(a.x!=null){b.x=a.x;}if(a.y!=null){b.y=a.y;}this.update(d);};h.prototype.destroy=function(){h.superclass.destroy.apply(this,arguments);this._selection=null;this._rootSelection=null;this._mainSelection=null;this._calloutsSelection=null;this._plotNode=null;this._plotRealSize=null;};return h;});define('sap/viz/chart/layout/XYLayout',["sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/oo","sap/viz/chart/layout/BaseLayout"],function Setup(N,T,a,B){var l={'height':{max:'maxHeight',fix:'height'},'width':{max:'maxWidth',fix:'width'}};var p={left:"width",right:"width",top:"height",bottom:"height"};var b={left:"height",right:"height",top:"width",bottom:"width"};var c=0;var L=1;var d=2;var R=3;var D=1/3;var e=1/3;function X(){X.superclass.constructor.apply(this,arguments);this.config.add({padding:[0,0,0,0],rootWidth:0,rootHeight:0,layoutSequence:[]});}a.extend(X,B);X.prototype.layout=function(j,k){var r={};var m={};var n=this.config;var i=0;var w=n.get('totalWidth');var q=n.get('totalHeight');var s=n.get('rootWidth');var t=n.get('rootHeight');var u={width:n.get("rootWidth"),height:n.get("rootHeight")};var v=n.get('padding');var x=n.get('layoutSequence');var y=w-(v[L]+v[R]);var z=q-(v[c]+v[d]);y=y>0?y:0;z=z>0?z:0;var A;var C,o;var E;var F;var G={};for(var H in j){if(j.hasOwnProperty(H)){A=j[H];E=A.option;F=E.position;if(!G.hasOwnProperty(F)){G[F]=[];}var I=E.priority;if(I==null){I=-1;}var J=G[F];var K=J.length;for(i=0;i<K;i++){if(I>=J[i].option.priority){break;}}J.splice(i,0,{module:A.module,option:{unique:E.unique,priority:I,position:F,padding:{paddingTop:f(E.paddingTop),paddingBottom:f(E.paddingBottom),paddingLeft:f(E.paddingLeft),paddingRight:f(E.paddingRight)},maxWidth:h(E.maxWidth)?E.maxWidth:D,maxHeight:h(E.maxHeight)?E.maxHeight:e,width:h(E.width)?E.width:null,height:h(E.height)?E.height:null}});}}var M=[];for(i=0;i<x.length;++i){F=x[i];if(T.isFunction(F)){M.push(F);continue;}var O=G[F];if(O){Array.prototype.push.apply(M,O);}}M.push(G.center[0]);if(!G.center){throw"Cannot solve layout without plot";}var P={width:s?s:y,height:t?t:z};var Q={width:y,height:z,x:v[L],y:v[c]};var S={center:false};var U=[];var V=M.length;for(i=0;i<V;i++){C=M[i];if(T.isFunction(C)){var W={preferredSizeTable:m,};C(r,Q,W);continue;}o={};r[C.module.alias]=o;E=C.option;var Y=C.module;F=E.position;if(F==='center'){continue;}var Z=p[F];var $=b[F];o.padding=E.padding;var _={width:0,height:0};_.height+=o.padding.paddingTop+o.padding.paddingBottom;_.width+=o.padding.paddingLeft+o.padding.paddingRight;var a1=0;var b1={},c1=E[l[Z].fix],d1=C.module.properties('visible')===true&&c1!==null?N.getSizeValue(c1,P[Z]):undefined;if(d1===undefined){if(T.isFunction(Y.getPreferredSize)){var e1=N.getSizeValue(E[l[Z].max],P[Z]);e1=e1>Q[Z]?Q[Z]:e1;b1[$]=Q[$];b1[Z]=e1;if(!U[F]){var f1=Y.getPreferredSize(b1);a1=f1[Z]+_[Z];m[C.module.alias]=f1;}e1=a1>e1?e1:a1;Q[Z]=Q[Z]-e1;o[Z]=e1;}else{o[Z]=0;}}else{d1=d1>Q[Z]?Q[Z]:d1;if(T.isFunction(Y.getPreferredSize)){b1[$]=Q[$];b1[Z]=d1;if(!U[F]){a1=Y.getPreferredSize(b1,k);m[C.module.alias]=a1;}}Q[Z]=Q[Z]-d1;o[Z]=d1;}if(a1&&C.option.unique){U[F]=true;}}for(i=0;i<V;i++){C=M[i];if(!C){continue;}else if(T.isFunction(C)){continue;}o=r[C.module.alias];if(!o.hasOwnProperty('width')){o.width=Q.width;}else if(!o.hasOwnProperty('height')){o.height=Q.height;}switch(C.option.position){case"top":Q.y=Q.y+o.height;break;case"left":Q.x=Q.x+o.width;break;}}var g1=Q.y,h1=Q.x,i1=Q.y+Q.height,j1=Q.x+Q.width;for(i=V-1;i>=0;i--){C=M[i];if(T.isFunction(C)){continue;}else if(C){E=C.option;o=r[C.module.alias];switch(E.position){case"top":o.x=Q.x;o.y=g1-=o.height;break;case"left":o.x=h1-=o.width;o.y=Q.y;break;case"bottom":o.x=Q.x;o.y=i1;i1+=o.height;break;case"right":o.x=j1;j1+=o.width;o.y=Q.y;break;case"center":o=r[C.module.alias]={};o.x=Q.x;o.y=Q.y;o.width=Q.width;o.height=Q.height;break;}if(!T.isPlainObject(o.padding)){o.padding=E.padding;}if(E.position==='top'){o.y+=o.padding.paddingTop;}if(E.position==='left'){o.x+=o.padding.paddingLeft;}o.height-=o.padding.paddingTop+o.padding.paddingBottom;o.width-=o.padding.paddingLeft+o.padding.paddingRight;Q.height=Q.height>0?Q.height:0;Q.width=Q.width>0?Q.width:0;}}return r;};function g(i){return{paddingTop:parseFloat(i.paddingTop),paddingBottom:parseFloat(i.paddingBottom),paddingLeft:parseFloat(i.paddingLeft),paddingRight:parseFloat(i.paddingRight)};}function f(v){var r=parseFloat(v);if(isNaN(r)){r=0;}return r;}function h(v){var i=parseFloat(v);return T.isNumber(i)&&i>=0;}return X;});define('sap/viz/chart/components/container/utils/xyTransformUtils',["sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/TypeUtils'],function(D,T){function z(b){var c=b.getChildrenByPosition("center")[0],r=c.getRealSize(),v=c.getSize();var x=r.width/v.width;var y=r.height/v.height;if(!isFinite(x)){if(r.width===0){x=1;}else{return null;}}if(!isFinite(y)){if(r.height===0){y=1;}else{return null;}}return{x:x,y:y};}function d(x){return{"scale":{set:function(v){x.zoom(v);x.getChildrenByPosition("center")[0].update();return z(x);},get:z.bind(null,x)},"translate":{set:function(v){if(v.x!==undefined||v.y!==undefined){x.scroll(v);}else if(v.translateByPage){x.scrollByPage(v.translateByPage);}return v;},get:function(){var p=x.getChildrenByPosition("center")[0];var t=p.getOffset();if(!t){t={};}t.position=0;if(x._paginationScrollbarRef){t.position=x._paginationScrollbarRef._thumbPosition/x._paginationScrollbarRef._maxThumbPosition;if(isNaN(t.position)){t.position=0;}}return t;}}};}function a(n,s,t){var b=D.getData(n);if(!b||!s){return;}var c=0;var e=0;if(T.isExist(b.initPosX)){c=b.initPosX*s.x+t.x;}else if(T.isExist(b.initPosY)){e=b.initPosY*s.y+t.y;}n.setAttribute("transform","translate("+c+","+e+")");}return{defstatus:d,adjustXYTranslate:a};});define('sap/viz/chart/components/container/XYContainer',["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/PositionUtil",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/FiscalUtil',"sap/viz/chart/layout/XYLayout",'sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/FeedingZoneUtil',"sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/chart/behavior/config/SelectionUtil"],function(o,U,P,T,F,X,a,N,C,b,c,S){var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._initLayout();this._layoutSequence=null;this._roughSize={width:0,height:0};this._posToModuleMap={};this._vScrollbar=null;this._hScrollbar=null;this._registerZoneManager(r,e);r.statusManager().proxy("plot.transform").add(c.defstatus(this));this._exposeMoreEvents("reRenderComplete");this._zoomer=this._getZoomer();};o.extend(d,U);d.prototype._registerZoneManager=function(r){r.zoneManager().add(a.plot(this));r.zoneManager().add(b.plot(this));};d.prototype._getLayoutDefinition=function(){return X;};d.prototype._initLayout=function(){var L=this._getLayoutDefinition();this.setLayoutAlgorithm(new L());};d.prototype.setRoughSize=function(v){if(v.width!=null){this._roughSize.width=v.width;}if(v.height!=null){this._roughSize.height=v.height;}var u=this.updateValueScale();var e=this.runtime().statusManager();if(u&&e.has("updatedScaleValue")){e.set('updatedScaleValue',u);}for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._children[k].module&&this._children[k].module.setRoughSize){this._children[k].module.setRoughSize(v);}}}return this;};d.prototype.getVScrollbar=function(){return this._vScrollbar;};d.prototype.getHScrollbar=function(){return this._hScrollbar;};d.prototype.updateValueScale=function(v){};d.prototype.setLayoutSequence=function(v){this._layoutSequence=v;return this;};d.prototype.render=function(r){d.superclass.render.apply(this,arguments);if(this._size.width>0&&this._size.height>0&&this._layoutResult){this._initRenderBase(r);P.positionElements(this._layoutResult,this._selections);this._preRender();this._renderSub();this._postRender();}};function _(e){this._scroll({y:e.offset});}function f(e){this._scroll({x:e.offset});}d.prototype._preRender=function(){var e=this.getChildrenByPosition("center")[0];if(e&&(this._vScrollbar||this._hScrollbar)){var g=e.getSize();var r=e.getRealSize();if(this._vScrollbar){this._vScrollbar.setTrackSize(g.height).setContentSize(r.height);this._vScrollbar.getDispatch().on("scroll.xycontainer",_.bind(this));}if(this._hScrollbar){this._hScrollbar.setTrackSize(g.width).setContentSize(r.width);this._hScrollbar.getDispatch().on("scroll.xycontainer",f.bind(this));}}};d.prototype._postRender=function(){var e=this.getZoomer();if(e){e.reset(this._selections);}};d.prototype.scroll=function(e){var g=this.getChildrenByPosition("center")[0];var h=g.getSize();var r=g.getRealSize();var x,y,m,t,p;if(e.x!=null){m=h.width-r.width;x=Math.min(0,Math.max(m,e.x));if(this._hScrollbar){p=-x;t=this._hScrollbar.getThumbRatio();if(t){p/=t;}this._hScrollbar.setThumbPosition(p);}}if(e.y!=null){m=h.height-r.height;y=Math.min(0,Math.max(m,e.y));if(this._vScrollbar){p=-y;t=this._vScrollbar.getThumbRatio();if(t){p/=t;}this._vScrollbar.setThumbPosition(p);}}var i=this.getOffset();this._scroll({x:T.isNumber(x)?x:i.x,y:T.isNumber(y)?y:i.y});};d.prototype.scrollByPage=function(t){var e;if(t.context){var g=this.getChild("categoryAxis").module;if(g){var h=g.getChild("axisBody").module;e=h.getLabelOffsetByCtx(t.context);}}if(T.isNumber(t.offset)){var i=this.getChildrenByPosition("center")[0];e=i.getRemainingPlotOffset(e,t.offset);}if(e!==null&&e!==undefined){this.scroll(e);}};function z(e,g){var h=g.zoom;if(h){h.call(g,e);}}d.prototype.zoom=function(e){var g=this.getChildrenByPosition("center")[0];var h=g.getSize();var r=g.getRealSize();var i;if(e.x){i=z.bind(null,{x:e.x,y:1});r.width=h.width*e.x;this.getChildrenByPosition("top").forEach(i);this.getChildrenByPosition("bottom").forEach(i);}if(e.y){i=z.bind(null,{x:1,y:e.y});r.height=h.height*e.y;this.getChildrenByPosition("left").forEach(i);this.getChildrenByPosition("right").forEach(i);}g.setRealSize(r);if(this._vScrollbar){this._vScrollbar.setContentSize(r.height).render();}if(this._hScrollbar){this._hScrollbar.setContentSize(r.width).render();}var j=this.getChildrenByPosition("center")[0];if(j){z(e,j);}};d.prototype.getOffset=function(){var e=this.getChildrenByPosition("center")[0];return e&&e.getOffset();};function s(e,g){var h=g.scroll;if(h){h.call(g,e);}}d.prototype._scroll=function(e){if(!e){return;}var g;if(e.x!=null){g=s.bind(null,{x:e.x,y:0});this.getChildrenByPosition("top").forEach(g);this.getChildrenByPosition("bottom").forEach(g);}if(e.y!=null){g=s.bind(null,{x:0,y:e.y});this.getChildrenByPosition("left").forEach(g);this.getChildrenByPosition("right").forEach(g);}var h=this.getChildrenByPosition("center")[0];if(h){s(e,h);}this.runtime().fireInteractionEvent('plotScroll',e);this.runtime().eventDispatcher().fire('plotScroll',e);};d.prototype.setChild=function(k,m,e){d.superclass.setChild.apply(this,arguments);if(e.position){var p=e.position;var g=this._posToModuleMap;if(!g.hasOwnProperty(p)){g[p]=[];}var h=g[p];var i,t;var j=true;for(i=0;i<h.length;i++){t=h[i];if(t===m||t.alias==m.alias){j=false;h[i]=m;break;}}if(j){h.push(m);}if(m.setPosition){m.setPosition(p);}}};d.prototype.getChildrenByPosition=function(p){return this._posToModuleMap[p]||[];};d.prototype.removeChild=function(k){var e=this._children[k];var g=this._posToModuleMap[e.option.position];g.splice(g.indexOf(e.module),1);delete this._children[k];};d.prototype.getPlotPosition=function(){return(this._layoutResult&&this._layoutResult.plot);};d.prototype._configLayout=function(e){var g=N.getPositiveInt;var h=this._properties.origin;var p=this.calculatePaddingInPX(h,this._roughSize.width,this._roughSize.height);var i=g(p.propertyPaddingInPX,p.constantPaddingInPX);var j=g(p.propertyPaddingTopInPX,i);var k=g(p.propertyPaddingRightInPX,i);var l=g(p.propertyPaddingBottomInPX,i);var m=g(p.propertyPaddingLeftInPX,i);var n=this._layoutAlgorithm.config;n.set('totalWidth',this._size.width);n.set('totalHeight',this._size.height);n.set('rootWidth',this._roughSize.width-(k+m));n.set('rootHeight',this._roughSize.height-(j+l));n.set('paddings',[j,m,l,k]);n.set('layoutSequence',this._layoutSequence);for(var q in this._children){if(this._children.hasOwnProperty(q)){var r=this.getChild(q);var t=r.option;var u=this._properties.proxy(q+'.layout');var v=u.get("maxWidth");var w=u.get("maxHeight");var x=u.get("width");var y=u.get("height");if(x){t.width=x;}else{t.width=null;}if(y){t.height=y;}else{t.height=null;}if(v){t.maxWidth=v;}if(w){t.maxHeight=w;}if(e&&e.pagination&&e.pagination.mode===C.PAGINATION_MODE.UPDATE&&e.plotAreaLayout&&e.plotAreaLayout[q]){var A=e.plotAreaLayout[q].module._size;if(!t.width&&A.width){t.width=A.width;}if(!t.height&&A.height){t.height=A.height;}}}}return this._children;};d.prototype._postLayout=function(r){for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;var e=r[k];m.setSize(e,m._needOtherSize?r:undefined);}}};d.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(e&&e.getPaginationOptions){p=e.getPaginationOptions();}return p;};d.prototype.getAddtionalInfo=function(){};d.prototype._renderSub=function(){var e=this.getChild("categoryAxis");var g;if(e){g=e.module;}var p=this._layoutSequence||['left','right','bottom','top'];if(p.indexOf("center")<0){p.push("center");}var h=function(j){if(!this.paginationOptions()||j.alias!==C.SCROLLBAR.ALIAS||!g||g._position==="top"||g._position==="bottom"){j.render(this._selections[j.alias],this.getAddtionalInfo(j));}}.bind(this);for(var i=0;i<p.length;i++){this.getChildrenByPosition(p[i]).forEach(h);}};d.prototype._initRenderBase=function(p){if(this._selections){return;}this._selections={};for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._selections[k]==null){if(this._children[k].option.position==="center"){this._selections[k]=p.insert("g",":first-child").attr('class','v-m-'+k);}else{this._selections[k]=p.append("g").attr('class','v-m-'+k);}}}}};d.prototype.destroy=function(){d.superclass.destroy.call(this);this._layoutSequence=null;this._layoutResult=null;this._roughSize=null;this._posToModuleMap={};this._vScrollbar=null;this._hScrollbar=null;if(this._zoomer){this._zoomer.destroy();this._zoomer=null;}};d.prototype.getZoomer=function(){return this._zoomer;};d.prototype._getZoomer=function(){return null;};d.prototype._hasScrollbar=function(){var i=!!this._properties.get('plotArea.isFixedDataPointSize');var w=this._properties.get("plotArea.window.start");var e=this._properties.get("plotArea.window.end");var v=F.startEndConvertor(w,e,this._properties.origin);w=v.start;e=v.end;var g=!this._properties.get("interaction.noninteractiveMode");var r=(i||!!w||!!e)&&g&&!(w==="firstDataPoint"&&e==="lastDataPoint");return r;};return d;});define('sap/viz/chart/components/axis/sub/AxisComponent',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/PositionUtil"],function(o,C,U,N,T,P){var A=C.CSS.CLASS.AXIS;var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._position=null;this._formerProperties=null;this._preferredSize={minWidth:0,minHeight:0};};o.extend(a,U);a.prototype.setPosition=function(p){this._position=p;return this;};a.prototype._isVertical=function(){return P.isVertical(this._position);};a.prototype._isHorizontal=function(){return P.isHorizontal(this._position);};a.prototype._measureTextSize=function(t,s){var b=T.canvasMeasure(t,s['fontSize'],s['fontWeight'],s['fontFamily'],s['letterSpacing']);return N.preciseObject(b);};a.prototype._measureTextSizeForFixPadding=function(t,s){var b=T.fastMeasure(t,s['fontSize'],s['fontWeight'],s['fontFamily'],s['letterSpacing']);return N.preciseObject(b);};a.prototype._updatePfdSize=function(s){if(s.minWidth!=null){this._preferredSize.minWidth=s.minWidth;}if(s.minHeight!=null){this._preferredSize.minHeight=s.minHeight;}};a.prototype._isSpaceEnough=function(){if(this._realSize.width===0||this._realSize.height===0){return false;}var p=this._preferredSize;return Math.ceil(p.minWidth)<=Math.ceil(this._realSize.width)&&Math.ceil(p.minHeight)<=Math.ceil(this._realSize.height);};a.prototype.mayOnlyFirstAndLastLabel=function(){return false;};a.prototype.destroy=function(){a.superclass.destroy.call(this);this._position=null;this._formerProperties=null;this._preferredSize=null;};return a;});define('sap/viz/migrate/PropertyUtil',['sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils'],function Setup(O,T){var p={};var h=Object.prototype.hasOwnProperty;function a(o){if(!o){return true;}for(var k in o){if(h.call(o,k)){return false;}}if(T.isFunction(o)){return false;}return true;}function c(d,e){var f=e.split('.'),i,j;for(i=f.length-2;i>=0;i--){var g=d;for(j=0;j<i;j++){g=g[f[j]];}if(a(g[f[i]])){delete g[f[i]];}}}function b(d,s){if(!d){return false;}for(var i=0;i<d.length;++i){if(d[i].properties&&d[i].properties[s]){return true;}}return false;}p.getProperty=function(d,e){var f=e.split('.'),g=d,i;for(i=0;i<f.length;i++){if(g===null){return undefined;}if(g[f[i]]===undefined){return undefined;}g=g[f[i]];}return g;};p.setProperty=function(d,e,v){var f=e.split('.'),g=d,i;for(i=0;i<f.length-1;i++){if(g[f[i]]===undefined||g[f[i]]===null){g[f[i]]={};}g=g[f[i]];}g[f[f.length-1]]=v;};p.setPropertyWithMergence=function(d,e,v){var f=e.split('.'),n={},t=n,i;for(i=0;i<f.length-1;i++){t[f[i]]={};t=t[f[i]];}t[f[f.length-1]]=v;O.extend(true,d,n);};p.removeProperty=function(d,e){var f=e.split('.'),g=d,i;for(i=0;i<f.length-1;i++){if(g[f[i]]===undefined){return;}g=g[f[i]];}delete g[f[f.length-1]];c(d,e);};function r(t,s){if(t&&t.rules&&t.rules.length){var d=t.rules;for(var i=d.length-1;i>=0;--i){var e=d[i];var f=e.properties;delete f[s];if(T.isEmptyObject(f)){d.splice(i,1);}}}}p.migrateSeriesStyle=function(d,s,e,f){var t=p.getProperty(d,f.to);r(t,f.subProp);t=t||{rules:[]};if(e&&e.rules){var g=e.rules;for(var i=0;i<g.length;++i){var k={};var l=g[i];O.extend(true,k,l);if(l&&l.dataContext&&l.dataContext.length){var m=l.dataContext;for(var j=0;j<m.length;++j){if(m[j]===undefined){k.dataContext[j]=undefined;}}}if(k.properties){var n=k.properties;delete k.properties;k.properties={};k.properties[f.subProp]=n;}t.rules.push(k);}}p.setProperty(d,f.to,t);};p.getComplexProperty=function(k,v,i,d){var e;if(v[i]!==undefined){e=v[i];}else{var t=d.get(k,'templateValue');if(t&&t[i]){e=t[i];}else{var f=d.get(k,'defaultValue');if(T.isArray(f)){e=f[i];}else{e=f;}}}return e;};return p;});define('sap/viz/chart/components/axis/sub/AxisTitle',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/migrate/PropertyUtil"],function(C,o,A,T,N,S,a,U,b,D,P){var c=C.CSS.CLASS.AXIS;var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._valueAxes=e?e.valueAxes:[];this.visibleItemsNumber=-1;};o.extend(d,A);d.prototype._adjustTitleItems=function(e,l){var i;for(i=0;i<e.length;i++){if(i>=l){e[i].isHidden=true;}else{e[i].isHidden=false;}}};d.prototype._isApplyAxisLineColor=function(){if(this._properties.has("title.style.color","value")){return false;}var e=this._properties.get('title.applyAxislineColor');if(T.isArray(e)){var i=this._valueAxes.length>1?1:0;e=P.getComplexProperty('title.applyAxislineColor',e,i,this._properties);}return e===true;};d.prototype._convertStyleColor=function(v){if(this._isApplyAxisLineColor()){v=this._properties.get('color');}return this._isAllHidden()?C.AXIS.HIDDEN_TITLE.COLOR:v;};d.prototype.render=function(s){s.select("g."+c.TITLE).remove();s.selectAll(".v-m-axisTitleEventLayer").remove();var p=this._properties;if(T.isString(this._data.text)&&this._isSpaceEnough()&&p.get('visible')&&p.get('title.visible')){var t=this._data.text;var e=this._getPostFix();var f=c.TITLE+" "+c.TITLE_BACKWORD;var h=c.TITLE_HIDDEN;var g=p.get('title.style');var i=true;var l=p.get('title.style.letterSpacing');if(l===undefined||l===null){i=false;l=0;}g.letterSpacing=parseFloat(l).toString()+'px';if(g&&g.color){g.color=this._convertStyleColor(g.color);g.color=b.convertColor(g.color);}var j=a.getTextBaselineOffset(g);var k=this.runtime().effectManager();var m=p.get('color');if(T.isArray(m)){var n=this._valueAxes.length>1?1:0;m=P.getComplexProperty("color",m,n,p);}var q=k.register({fillColor:(this._isApplyAxisLineColor())?b.convertColor(m):g.color});var r=k.register({fillColor:C.AXIS.HIDDEN_TITLE.COLOR});var u=s.append("g").attr("class",f).attr("fill",q).attr("font-size",g.fontSize).attr("font-weight",g.fontWeight).attr("font-family",g.fontFamily).attr("letter-spacing",g.letterSpacing).attr("font-style",g.fontStyle).append("text").text(t+e).attr("dominant-baseline","auto");var v=this.runtime().envManager();if(v){u=u.attr("text-anchor",v.textAnchor());}var w="";var x=S.convertToCss(g);var y;if(this._isVertical()){y=this._size.height;}else{y=this._size.width;}var z={};z.needRealLength=true;z.reverseDots=(v&&v.reverseDots());z.hasLetterSpacing=i;var B=a.ellipsis(t,u.node(),y,x,z,e);w=B.text;var E=B.realLength;if(this._isVertical()){u.attr("x",this._size.width-j-E/2).attr("y",this._size.height/2).attr("transform","rotate(-90,"+(this._size.width-j)+","+(this._size.height/2)+")");}else{u.attr("x",this._size.width/2-E/2).attr("y",this._size.height-j);}var F=p.has('title.style.color','value');var G=this._data;if(!G.isCustomized){this._adjustTitleItems(G.items,this.visibleItemsNumber);u.text("");if(w!==t&&u.select("title").empty()){u.append("title").text(t+e);}var I;for(I=0;I<G.items.length;I++){var H=u.append("tspan");H.attr("class",f);H.attr("dominant-baseline","auto");if(G.items[I].isHidden&&!this._isApplyAxisLineColor()&&!F&&!G.noNeedApplyHiddenTitleColor){H.attr("class",f+" "+h);H.attr("fill",r);}var J=G.items[I].text+e;if(w.length>J.length){if(((w.length-3)<J.length)&&w.substring(w.length-3)==="..."){H.text(w);break;}else{H.text(J);w=w.substring(J.length);}}else{H.text(w);break;}}}else{if(!G.isCustomizedColor&&this.visibleItemsNumber===0&&!F&&!this._isApplyAxisLineColor()){u.attr("class",f+" "+h);u.attr("fill",r);}}}};d.prototype._isAllHidden=function(){var u=this._properties.has('title.style.color','value');var t=this._data;if(t){if(!u&&t.isCustomized&&!t.isCustomizedColor&&this.visibleItemsNumber===0&&!t.noNeedApplyHiddenTitleColor){return true;}if(!u&&!t.isCustomized&&!this._isApplyAxisLineColor()&&!t.noNeedApplyHiddenTitleColor){var l=t.items.length;for(var i=0;i<l;++i){if(!t.items[i].isHidden){return false;}}return true;}}return false;};d.prototype.setTitleHiddenItems=function(_){this.visibleItemsNumber=_;};d.prototype._getPostFix=function(){var r="";if(this._name.indexOf("valueAxis")>-1){var e=this._runtime.statusManager().get("dynamicScale");if(e&&!e.onlyChartTitle&&e[this._name]&&e[this._name].postfix){r=e[this._name].postfix;}}return r;};d.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};var e=this._properties;if(T.isString(this._data.text)&&e.get('visible')&&e.get('title.visible')){var t=e.get('title.style');var l=e.get('title.style.letterSpacing');if(l===undefined||l===null){l=0;}if(l.toString().indexOf('px')===-1){t.letterSpacing=l.toString()+'px';}var f=this._data.text+this._getPostFix();var i=e.origin.get('general.layout.isFixedPadding');var s=i?this._measureTextSizeForFixPadding(f,t):this._measureTextSize(f,t);var m=this._getMinTextWidth(f,t);if(this._isVertical()){p.minWidth=s.height;p.maxWidth=s.height;p.minHeight=m;p.maxHeight=s.width;}else{p.minWidth=m;p.maxWidth=s.width;p.minHeight=s.height;p.maxHeight=s.height;}p.spacings[0].interval=s.height;}var g=N.preciseObject(p);this._updatePfdSize(g);return g;};d.prototype._getMinTextWidth=function(t,s){var e=this._measureTextSize(t,s);var m=e.width;if(m>0&&t.length){var f=this._measureTextSize(t[0]+"...",s);if(m>f.width){m=f.width;}}return m;};d.prototype.destroy=function(){this._properties.add('title.style.color',{get:null});d.superclass.destroy.call(this);this.visibleItemsNumber=null;};return d;});define('sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/DataGraphics"],function(C,S,N,a,T,D){function m(t,s,w,b){if(w&&w>1){var c=N.preciseSimple(parseFloat(s.fontSize)*1.2);var e=T.wrapText(t,[" "],b,w,s);var f=e.maxWidth;var l=e.lines.length;if(e.beyond){f=T.getTextLength(e.lines[l-1],a.convertToCss(s));}return{"width":f,"height":l*c,"minHeight":c};}else{return T.canvasMeasure(t,s.fontSize,s.fontWeight,s.fontFamily);}}var u=function(t,c){var V=90;var b=5;var L=6;var e=L;var f=c.text;var s=c.styles;var l=c.labelOffset;var h=c.size;var i=c.sizeLimit;var o=T.getTextBaselineOffset({fontSize:s.fontSize,fontWeight:s.fontWeight,fontFamily:s.fontFamily});var n=c.needRowAxisOffset;var j=m(f,s);var k=t.firstChild;while(k){t.removeChild(k);k=t.firstChild;}var p=d3.select(t);var q,r,v;q=N.preciseSimple(j.height);var w=false;var z=c.wrap;if(z&&z>1){var A=(h.height-b-L).toFixed(1);z=Math.min(z,Math.floor(A/q));w=z>1;}var B,E;var F;if(w){F={};F.middleText=true;r=T.drawWrappedText(p,f,[" "],z,i,q,s,F);v=p.selectAll("tspan")[0];q=q*v.length;}else{r=N.preciseSimple(j.width);if(i>=0&&r>i){if(c.noEllipsis){B="";E=0;}else{F={};F.needRealLength=true;F.reverseDots=c.reverseDots;var G=T.ellipsis(f,t,i,a.convertToCss(s),F);r=G.realLength;B=G.text;E=r;}}else{t.textContent=f;}}var x,y;var H=E||r;switch(c.position){case C.POSITION.LEFT:case C.POSITION.RIGHT:y=q/2-o;if(n){y+=q/2-o+l;}else{var I=0;if(c.labelAlignment!=="center"&&c.childCells&&c.childCells.length){var J=0;for(var K=0;K<c.childCells.length;K++){if(c.childCells[K].isVisible){J++;if(c.childCells[K].yOffset){I+=c.childCells[K].yOffset;}else{I+=c.childCells[K].cellHeight/2;}if(I<q/2){I=q/2;}break;}else{I+=c.childCells[K].cellHeight;}}if(J===0){I=h.height/2;}}else{I=h.height/2;}y+=I;if(I===h.height/2){c.cell.yOffset=c.cell.cellHeight/2;}else{c.cell.yOffset=I;}}if(c.position===C.POSITION.LEFT){x=h.width-e-r;}else{x=e;}break;case C.POSITION.TOP:if(c.rotated){x=h.width/2+q/2-o;y=h.height-e;}else{x=h.width/2-r/2;y=h.height-e-o;}break;case C.POSITION.BOTTOM:if(c.rotated){x=h.width/2+q/2-o;y=e;x-=r*(Math.cos(c.rotationAngle*Math.PI/180));y+=r*(Math.sin(c.rotationAngle*Math.PI/180));}else{if(c.alignMode==="ALIGIN_RIGHT_MOST"){x=c.cellWidth-H/2;}else if(c.alignMode==="ALIGIN_LEFT_MOST"){x=H/2;}else{x=h.width/2;}x-=r/2;y=e+q-o;}break;}t.setAttribute("x",x);t.setAttribute("y",y);if(c.rotated){var M=g(q,c.rotationAngle);t.setAttribute("transform","translate(0,"+M+") rotate(-"+c.rotationAngle+","+x+","+y+")");}if(w){var O=N.preciseSimple(parseFloat(s.fontSize)*0.2);p.selectAll("tspan").attr("dy","1em").attr("y",null);p.attr("y",e-o+O);}var P={};P.x=x;P.y=y;return P;};function d(c){var t=S.create("text");u(t,c);D.setCustomizationInfo(t,{'defaultRenderer':true});return t;}var g=function(t,b){return(t*Math.cos(b*Math.PI/180)*0.7);};d.update=function(t,c){var n=u(t,c);if(c.rotated){var r={'r':'-'+c.rotationAngle,'x':n.x,'y':n.y};D.setData(t,r);}else{t.setAttribute("transform","translate(0,0)");}};d.getPreferredSize=function(c){var V=90;var L=6;var t=c.text,s=c.styles;var w=c.wrap;if(c.disableAutoRotation===false||c.rotationAngle!==0){w=1;}var b=c.size;var e=C.AXIS.FIRST_LETTER;if(t&&t.length>0){e=t[0];}e+=C.AXIS.FIRST_LETTER;var f=m(t,s,w,b);var h=c.noEllipsis?f:m(e,s);var i=f.height;var j=g(i,c.rotationAngle);var k=f.height,l=f.width,r;if((c.rotated||f.width>c.size)&&(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM)){if(!c.rotated&&c.disableAutoRotation){r=false;l=c.size;}else{r=true;l=f.height;if(c.rotationAngle===V){k=f.width;}else{var n=c.cellWidth/2+c.cellStart+(c.additionalWidth?c.additionalWidth:0);var o=n/(Math.cos(c.rotationAngle*Math.PI/180));if(f.width<o){o=f.width;}k=o*(Math.sin(c.rotationAngle*Math.PI/180));k+=j;var p=(l/Math.sin(c.rotationAngle*Math.PI/180))*0.9;if(p>l){l=p;}}}}var q={cellWidth:l,cellHeight:k,rotated:r,textSize:f};if(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM){if(r){q['minCellHeight']=Math.min(h.width,f.width);if(c.rotationAngle!==V){q['minCellHeight']=q['minCellHeight']*Math.sin(c.rotationAngle*Math.PI/180);q['minCellHeight']+=(2*j-2*L+1);}}else{if(f.hasOwnProperty("minHeight")){q['minCellHeight']=f.minHeight;}else{q['minCellHeight']=f.height;}if(q.cellWidth<Math.min(h.width,f.width)){q.noLabelSpace=true;}}}else{q['minCellWidth']=Math.min(h.width,f.width);}var v=T.getAbsoluteTextBaselineOffset({fontSize:s['fontSize'],fontWeight:s['fontWeight'],fontFamily:s['fontFamily']});q.absoluteTextBaselineOffset=v;return q;};d.autoHide=function(i,l){return true;};d.expose={renderer:d,update:d.update,getPreferredSize:d.getPreferredSize,autoHide:d.autoHide};return d;});define('sap/viz/chart/components/util/BuildLayerUtil',["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer"],function(N,D,A,c){var L=6;var T=5;var V=90;var _={};_._filter=function(a,b){return b.reduce(function(j,k,i){return(!k.invisible&&a[i])?j.concat(a[i]):j;},[]);};_._getLayerslength=function(a){var b=0;if(a.length&&a[0].length){b=a[0].length;}return b;};_._getDisplayTexts=function(a,b){return A.map(a,D.getDisplayTextsConverter(b));};function m(a,b){if(a&&!a.or){var t={or:[a]};t.or.push(b);a=t;}else{a.or.push(b);}return a;}_._mergeCtx=function(a,b){var j=a.length;var k={};for(var i=0;i<j;++i){var v=a[i];var s=b[i];if(!D.isPlainValue(v)){k[s]=D.getDimensionValue(v);k[s+D.DIMENSION_DISPLAYNAME_SUFFIX]=D.getDimensionDisplayName(v);}else{k[s]=v;}}return k;};function d(a,b){return D.getDimensionValue(a)===D.getDimensionValue(b);}_.mergeLabels=function(a,b,k,s,t){var u=[];var v=this._getLayerslength(b);var w=this._getDisplayTexts(b,a._bindingFields);var x=a._cellDict={};var y=0;var z;var B=b.length;for(var i=0;i<v;++i){var C=new Array(B);var E=new Array(B+1);var F=0;var G=0;var H=0;var I=0;var J=true;var K=u[i-1];var M=0;for(var j=0;j<B;++j){var O=this._mergeCtx(b[j],k);var P=1;if(i!==v-1){++G;++H;P=G;G=0;J=H===1;if(i>0&&H>=u[i-1].cells[I].space){H=0;++I;}if(j>0&&!J&&d(b[j][i],b[j-1][i])){var Q=F-1;C[Q].ctx=m(C[Q].ctx,O);C[Q].space++;continue;}}var R=t&&(j!==0&&j!==B-1)?"":w[j][i];var S=x[y]=C[F]={id:y,layer:i,text:R,ctx:O,space:P};E[F]=j;F++;y++;if(K){if(j>=z[M+1]){M++;}var U=K.cells[M];U.children=U.children||[];U.children.push(S);}}C.length=F;E[F]=B;E.length=F+1;z=E;u.push({cells:C});}return u;};_.assignCellSize=function(a,b,k,s){var t=a._isVertical();for(var i=0,u=b.length;i<u;++i){var v=b[i];var w=0;var x=v.cells;for(var j=0,y=x.length;j<y;++j){var z=x[j];q.getRangeInfo(k,w,s,z,t);w+=z.space;}}};function e(a){return a.length===1;}function f(a){return a._isTrellisAxis||a._isInTrellis;}function g(a,b,j,t,k,s,u,v){var w=j[b];var x=a.length*t;var y=0;var z;if(w.rotated||t===0){z=false;}else if(t===1){z=true;}else{z=true;var i;for(i=0;i<a.length;i++){var B=a[i];var C=s(B,b,w);k.push(C);if(C.rotated&&!w.rotated){y++;if(y>x){z=false;break;}}if(!u&&C[v]>B[v]){z=false;break;}}}if(z||(k.length!==a.length)){k.splice(0,k.length);}return z;}_.layoutCells=function(a,b,k,s,t){if(!s){return;}var u=s.propStyle;var v=s.labelVisible;var w=s.checkLabelVisible;var x=+s.truncatedLabelRatioSetting;if(isNaN(x)){x=0.2;}x=Math.max(0,Math.min(1,x));var y=s.defaultRotationAngle;var z=s.autoRotateSetting;if(z!=="auto"&&z!=="fixed"){z="auto";}var B=s.rotationAngleSetting;var C=[0,30,45,60,90];if(C.indexOf(B)<0){B=y;}var E=s.labelRenderer||c;var F;var G=a._isVertical();var H=function(O,r1,K,g1,f1){var s1=u;if(K.isParentLayer){s1=s.propParentStyle;}return q.fillPreferredSize(E,G,O,s1,r1,a._position,K.rotated,g1,f1,s.otherSize,s.wrap,s.noEllipsis);};var I=L+T;var J=k.slice();if(J[0]>J[1]){J.reverse();}var K,M,O;var i,P,j,Q,R,S;var U,W,X;if(a._isVertical()){U="cellHeight";W="minCellWidth";X="cellWidth";}else{U="cellWidth";W="minCellHeight";X="cellHeight";}var Y={};Y.getPreferredSize=H;Y.cellSizeField=U;Y.minCellBandField=W;Y.cellRefSizeField=X;Y.offset=I;Y.isVertical=G;P=b.length;for(i=P-1;i>=0;--i){var Z=!E.autoHide||!E.autoHide(a._isVertical(),i,c.expose);K=b[i];K.onlyKeepFirstAndLast=t;K.isVisible=true;K.rotated=false;M=K.cells;R=0;if(i!==(P-1)){K.isParentLayer=true;}if(w&&v===false){K.isVisible=false;continue;}var $=x;var a1=f(a);if(a1){$=0;}else if(s.paginationOptions||t){$=1;}var b1;if(i===0){var c1,d1;b1=0;var e1=false;var f1=B;var g1=false;if(B===0){g1=true;}var h1=e(b);if(!h1||a1){if(a._isVertical()){f1=0;}else{f1=V;}}var i1=function(O){return H(O,0,K,g1,f1);};var j1;if(t){M[0].isFirstLabel=true;if(M.length>1){M[M.length-1].isLastLabel=true;j1=[M[0],M[M.length-1]];}else{j1=[M[0]];}}else{j1=M.slice();}var k1;var l1=function(){var r1;var s1=false;if(!Z&&!t){q.excludeCrossBoundCells(j1,J,i1);}var t1=j1.length;k1=Z?1:q.getStep(j1,0,i1);if($===1){k1=1;}var u1=0;var v1=0;var w1=0;for(j=0;j<t1;j+=k1){O=j1[j];if(k1===undefined||j<0){s1=true;break;}F=i1(O);w1++;if(F.rotated){v1++;}if($===0&&v1>0){s1=true;break;}if(!Z&&j!==0&&O.start<r1.end-0.001){v1=0;w1=0;j=-k1;k1=q.getStep(j1,u1,i1);continue;}u1=j;r1=O;}if(f1===0||($===1&&z!=="fixed")){s1=false;}else if(!G&&j1.length===0){s1=true;}else{if(z==="fixed"&&h1){s1=true;}if(v1>0&&w1>0){if(N.preciseSimple(v1/w1)>N.preciseSimple($)){s1=true;}}}return s1;};K.rotated=l1();if(K.rotated){K.rotationAngle=f1;}if(f1===0&&s.wrap){K.wrap=s.wrap;}else{K.wrap=null;}e1=K.rotated;g1=true;if(!Z&&!t){q.excludeCrossBoundCells(j1,J,i1);}c1=[];R=b1=0;var m1=Infinity;for(j=0;j<j1.length;j+=k1){O=j1[j];if(k1===undefined){if(K.rotated&&K.rotationAngle!==V){break;}else{if(!O._preferredSize.noLabelSpace){c1.push(O);F=O._preferredSize;R=F[X];b1=F[W];}break;}}if(w===false&&v===false){F={cellWidth:0,cellHeight:0,minCellHeight:0};if(O){O._preferredSize=F;}}else{F=i1(O);}if(s.noEllipsis&&s.refSize&&F.cellWidth+I>s.refSize.width){continue;}if(!F.noLabelSpace||t){c1.push(O);}else{continue;}F=O._preferredSize;if(R<F[X]){R=F[X];}d1=F[W];if(d1&&b1<d1){b1=d1;}if(d1&&m1>d1){m1=d1;}}if(c1.length===0){K.isVisible=false;R=-I;b1=-I;m1=-I;}S=N.preciseSimple(R+I);for(j=0,Q=M.length;j<Q;++j){O=M[j];O.isVisible=false;}for(j=0,Q=c1.length;j<Q;++j){O=c1[j];O[X]=S;O.isVisible=true;}K.layerBand=S;K.minLayerBand=s.noEllipsis?N.preciseSimple(m1+I):N.preciseSimple(b1+I);if(s.isFlexibleLayers&&(G||K.rotated)){K.reCalculateLayerContext=true;}}else{b1=0;var n1=[];var o1=g(K.cells,i,b,$,n1,H,Z,U);for(j=0,Q=M.length;j<Q;++j){O=M[j];O.isVisible=true;if(n1.length>0){F=n1[j];}else{F=H(O,i,K,o1);}if(F[W]&&b1<F[W]){b1=F[W];}if(F.rotated&&!K.rotated){K.rotated=true;K.rotationAngle=V;j=-1;continue;}else if(F.noLabelSpace){O.isVisible=false;}if(R<F[X]){R=F[X];}if(!Z&&F[U]>O[U]){if(s.isFlexibleLayers){K.reCalculateLayerContext=true;}else{K.isVisible=false;R=-I;}break;}}S=N.preciseSimple(R+I);var p1=0;for(j=0,Q=M.length;j<Q;++j){M[j][X]=S;if(M[j].isVisible){p1++;}}K.layerBand=S;K.minLayerBand=N.preciseSimple(b1+I);if(p1<=0){K.isVisible=false;}}if(K.reCalculateLayerContext){r(b,i,Y,s.isAllowEmptySegement,s.isSetParentStyleProp);}if(!K.isVisible){for(var q1=b.length-1;q1>i;q1--){b[q1].isVisible=false;}}n(K,G);}};var r=function(a,b,i,j,k){var s=a[b];var t;var C;if(b>0){var u=a[b-1].cells;for(t=0;t<u.length;t++){for(C=0;C<u[t].children.length;C++){u[t].children[C].parentIndex=t;}}}else{for(t=0;t<s.cells.length;t++){s.cells[t].parentIndex=-1;}}var v=[];var w=[];h(s.cells,a,b,i.isVertical,v,w,j);if(v.length===0&&k&&b<(a.length-1)&&a[b+1].isVisible){var x;for(x=b+1;x<a.length;x++){a[x].isVisible=false;}w=[];h(s.cells,a,b,i.isVertical,v,w,j);}for(t=0;t<s.cells.length;t++){s.cells[t].isVisible=false;}for(t=0;t<w.length;t++){if(i.getPreferredSize){var y=i.getPreferredSize(w[t],b,s);w[t].textBand=y[i.cellRefSizeField];w[t].minTextBand=y[i.minCellBandField];}}if(v.length>0){s.isVisible=true;s.layerBand=0;s.minLayerBand=0;for(t=0;t<v.length;t++){v[t].isVisible=true;if(s.layerBand<v[t].textBand){s.layerBand=v[t].textBand;}if(s.minLayerBand<v[t].minTextBand){s.minLayerBand=v[t].minTextBand;}}s.layerBand=N.preciseSimple(s.layerBand+i.offset);for(t=0;t<v.length;t++){v[t][i.cellRefSizeField]=s.layerBand;}s.minLayerBand=N.preciseSimple(s.minLayerBand+i.offset);n(s,i.isVertical);}else{s.isVisible=false;}};var h=function(a,b,j,k,s,t,u){var v;for(var i=0;i<a.length;i++){if(k){if(a[i].contentHeight){v=a[i].contentHeight;break;}}else{if(a[i].contentHeight){v=a[i].contentWidth;break;}}}var w;var x=-1;for(w=(b.length-1);w>=0;w--){if(b[w].isVisible||b[w].isVisible===undefined){x=w;break;}}var y=[];var C;var z=null;var B=null;for(C=0;C<a.length;C++){if(B===null||B!==a[C].parentIndex){if(z){y.push(z);}z=[];B=a[C].parentIndex;}if(B===a[C].parentIndex){z.push(a[C]);}if(C===(a.length-1)){y.push(z);}}var S;for(S=0;S<y.length;S++){if(j!==x){l(v,y[S],k,t);for(C=0;C<y[S].length;C++){if(k){if(v<y[S][C].cellHeight){s.push(y[S][C]);}}else{if(v<y[S][C].cellWidth){s.push(y[S][C]);}}}for(C=0;C<s.length;C++){if(t.indexOf(s[C])<0){t.push(s[C]);}}}else{var E=l(v,y[S],k,s);if(!u){if(E===0){s.splice(0,s.length);break;}}for(C=0;C<s.length;C++){t.push(s[C]);}}}};var l=function(a,s,i,b){var j="cellWidth";if(i){j="cellHeight";}var k=0;var C;var t=0;for(C=0;C<s.length;C++){t+=s[C][j];}var u=0;var v;for(C=0;C<s.length;C++){if(C===0){v=s[C][j]/2-a/2;}else{v+=(s[C-1][j]/2+s[C][j]/2);}if(v>u&&(v+a)<=t){u=v+a;b.push(s[C]);k++;}}return k;};var n=function(i,j){var k=0.8;if(!j&&!i.rotated){i.niceLayerBand=i.layerBand;i.maxLayerBand=i.layerBand;}else{var s=i.layerBand;if(i.minLayerBand){s=i.minLayerBand;}i.minLayerBand=s;i.maxLayerBand=s;i.niceLayerBand=s;if(i.isVisible){if(i.layerBand){i.maxLayerBand=N.preciseSimple(i.layerBand);}var t=[];var C;for(C=0;C<i.cells.length;C++){if(i.cells[C].isVisible){if(j){if(i.cells[C].contentWidth!==undefined&&i.cells[C].contentWidth!==null){t.push(i.cells[C].contentWidth);}}else{if(i.cells[C].contentHeight!==undefined&&i.cells[C].contentHeight!==null){t.push(i.cells[C].contentHeight);}}}}var u=function(a,b){return a-b;};t.sort(u);var v=t[Math.ceil(t.length*k)-1];i.niceLayerBand=N.preciseSimple(v);if(i.maxLayerBand<i.minLayerBand){i.maxLayerBand=i.minLayerBand;}if(i.niceLayerBand<i.minLayerBand){i.niceLayerBand=i.minLayerBand;}}}};var o=function(a,s){var b=N.preciseSimple;var k=0;var v=0;var t;var u=b(s);var w;for(t=0;t<a.length;t++){if(b(a[t].minLayerBand)>b(u)){break;}else{v++;u-=a[t].minLayerBand;}}for(t=0;t<a.length;t++){a[t].isVisible=false;a[t].layerBand=0;}if(v>0){var x=[];var y=0;var z=0;for(t=0;t<v;t++){a[t].isVisible=true;x.push(a[t]);y+=a[t].niceLayerBand;z+=a[t].maxLayerBand;}y=b(y);z=b(z);u=b(s);if(u>=z){for(t=0;t<x.length;t++){x[t].layerBand=x[t].maxLayerBand;}}else{var B=y;for(t=(x.length-1);t>=0;t--){x[t].layerBand=u*(x[t].niceLayerBand/B);}for(var i=0;i<x.length;i++){u=s;B=y;w=false;for(t=(x.length-1);t>=0;t--){if(x[t].layerBand<x[t].minLayerBand){x[t].layerBand=x[t].minLayerBand;x[t].adjusted=true;w=true;}if(x[t].adjusted){u-=x[t].layerBand;B-=x[t].niceLayerBand;}}if(w){for(t=(x.length-1);t>=0;t--){if(!x[t].adjusted){x[t].layerBand=u*(x[t].niceLayerBand/B);}}}else{break;}}u=b(s);B=b(y);for(t=0;t<x.length;t++){delete x[t].adjusted;w=false;if(x[t].layerBand>x[t].maxLayerBand){x[t].layerBand=x[t].maxLayerBand;w=true;}u-=x[t].layerBand;B-=x[t].niceLayerBand;if(w){for(var j=t+1;j<x.length;j++){x[j].layerBand=u*(x[j].niceLayerBand/B);}}}for(t=0;t<x.length;t++){if(u>0){if(x[t].layerBand<x[t].maxLayerBand){if(u>(x[t].maxLayerBand-x[t].layerBand)){u-=(x[t].maxLayerBand-x[t].layerBand);x[t].layerBand=x[t].maxLayerBand;}else{x[t].layerBand+=u;u=0;}}}else{break;}}}k=0;for(t=0;t<x.length;t++){k+=x[t].layerBand;}k=b(k);}return k;};_.flexibleLayoutLayers=function(a,b,s,j){var k=L+T;var t=0;var u;var C;if(s===undefined||s===null){s=Infinity;}var v=[];for(u=0;u<a.length;u++){if(a[u].isVisible===undefined||a[u].isVisible===true){v.push(a[u]);}if(a[u].isVisible&&a[u].cells){a[u].hasEmptyCell=false;for(C=0;C<a[u].cells.length;C++){if(!a[u].cells[C].isVisible){a[u].hasEmptyCell=true;break;}}}}for(u=0;u<a.length;u++){var w=v.length;t=o(v,s);if(!j){for(u=0;u<v.length;u++){var x=false;if(v[u].isVisible&&v[u].hasEmptyCell&&u!==(v.length-1)){x=true;}if(v[u].isVisible&&v[u].cells){for(C=0;C<v[u].cells.length;C++){if(p(v[u].cells[C])){x=true;break;}}}if(x){for(var i=v.length-1;i>u;i--){v[i].isVisible=false;}}}}v=[];for(u=0;u<a.length;u++){if(a[u].isVisible===undefined||a[u].isVisible===true){v.push(a[u]);}}if(v.length>0&&w!==v.length&&v[v.length-1].cells&&v[v.length-1].reCalculateLayerContext){var y={};if(b){y.cellSizeField="cellHeight";y.minCellBandField="minCellWidth";y.cellRefSizeField="cellWidth";}else{y.cellSizeField="cellWidth";y.minCellBandField="minCellHeight";y.cellRefSizeField="cellHeight";}y.offset=(L+T);y.isVertical=b;r(v,v.length-1,y,j);}else{break;}}for(u=0;u<a.length;u++){if(a[u].isVisible&&a[u].cells){for(C=0;C<a[u].cells.length;C++){if(b){a[u].cells[C].cellWidth=a[u].layerBand;if(a[u].cells[C].contentWidth>a[u].layerBand-k){a[u].cells[C].contentWidth=a[u].layerBand-k;}}else{if(a[u].cells[C].cellHeight>a[u].layerBand){a[u].cells[C].cellHeight=a[u].layerBand;}if(a[u].cells[C].contentHeight>a[u].layerBand-k){a[u].cells[C].contentHeight=a[u].layerBand-k;}}}}}t=N.preciseSimple(t);return t;};var p=function(a){var b=true;if(a.children){for(var C=0;C<a.children.length;C++){if(a.children[C].isVisible){b=false;break;}}}return b;};_.getVisibleLayers=function(a,b){var v=[];if(a._properties.get('label.hideSubLevels')){if(b.length){if(b[0].isVisible){v.push(b[0]);}v=[b[0]];}}else{for(var i=0,j=b.length;i<j;++i){if(b[i].isVisible){v.push(b[i]);}}}return v;};var q={};q.defaultLabelGetPreferredSize=function(a){return{cellWidth:a.size,cellHeight:a.size};};q.getRangeInfo=function(j,k,s,t,u){var v=0;var w,x;var y=t.space;for(var i=0;i<y;++i){var z=j[i+k];var a=z[0]*s;var b=z[1]*s;v+=Math.abs(a-b);if(i===0){w=a;}if(i===y-1){x=b;}}if(u){t.cellHeight=v;}else{t.cellWidth=v;}t.cellStart=w;t.cellEnd=x;t.middle=(w+x)/2;};q.fillPreferredSize=function(a,i,b,s,j,k,t,u,v,w,x,y){var z,B;if(i){z="cellHeight";B="minCellWidth";}else{z="cellWidth";B="minCellHeight";}var C,E;var F=a.getPreferredSize!==undefined;if(F){C=a.getPreferredSize;}else{C=c.getPreferredSize;}if(v===undefined){v=V;}var G=0;if(w){if(w.valueAxis){G=w.valueAxis.width;}else if(w.categoryAxis2){G=w.categoryAxis2.width;}}var H={ctx:b.ctx,styles:s,text:b.text,layer:j,size:b[z],position:k,rotated:t,rotationAngle:v,cellWidth:b.cellWidth,cellStart:b.cellStart,disableAutoRotation:u,additionalWidth:G,noEllipsis:y};if(!t||v===0){H.wrap=x;}E=C.call(a,H,c.expose);if(!E){E=c.getPreferredSize(H);}if(E[B]===undefined){E[B]=0;}b._preferredSize=E;b.contentWidth=E.cellWidth;b.contentHeight=E.cellHeight;var I=b.middle;var J=E[z]/2;b.start=I-J;b.end=I+J;return E;};q.isCellOutOfBound=function(a,b){var i=[a.start,a.end];if(i[0]>i[1]){i.reverse();}return i[0]<b[0]||i[1]>b[1];};q.findBoundaryBinary=function(a,b,i,s,j){if(j-s===1){return s;}var k=Math.floor((j+s)/2);i(a[k]);if(q.isCellOutOfBound(a[k],b)){return q.findBoundaryBinary(a,b,i,k,j);}else{return q.findBoundaryBinary(a,b,i,s,k);}};q.excludeCrossBoundCells=function(a,b,j){var k;var s=Math.floor(a.length*0.1)||1;var i,t=-1,u=a.length;for(i=0;i<u;){j(a[i]);if(!q.isCellOutOfBound(a[i],b)){t=i;break;}if(i===u-1){break;}i=Math.min(i+s,u-1);}if(t>0){k=q.findBoundaryBinary(a,b,j,t-s,t);}else if(t<0){a.splice(0);return;}if(k!==undefined){a.splice(0,k+1);u=a.length;var v=u-(k+1);if(v>=0){k=undefined;j(a[v]);if(q.isCellOutOfBound(a[v],b)){k=v;for(i=v-1;i>=0;i--){j(a[i]);if(!q.isCellOutOfBound(a[i],b)){break;}k=i;}}else{for(i=v+1;i<u;i++){j(a[i]);if(q.isCellOutOfBound(a[i],b)){k=i;break;}}}a.splice(k,u-k);}}};q.getStep=function(a,s,b){if(a.length<=1){return 1;}var i;var t=a[s];var u=t.end-0.001;var v=a.length;var w;for(var j=s+1;j<v;j++){w=a[j];if(w.cellStart>=u){for(var k=j;k<v;k++){b(a[k]);if(a[k].start>=u){i=k-s;break;}}break;}}return i;};return _;});define('sap/viz/chart/layout/AxisLayout',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/BaseLayout","sap/viz/chart/components/util/BuildLayerUtil"],function(o,C,N,P,B,c){var S=C.DIRECTION.HORIZONTAL;var d=C.DIRECTION.VERTICAL;var e=C.AXIS.SPACING_TO_ROUGH;var f=C.AXIS.SPACING_MAX_IN_PX;var F=C.AXIS.FIX_SPACING_MAX_IN_PX;var A="axisTitle";var p=N.preciseSimple;function s(a,b){return a.option.order-b.option.order;}function g(a,b){return a.option.priority-b.option.priority;}function h(x,a){return x.module.getPreferredSize(a);}function j(x,a){if(x.option.offsetType===C.AXIS.FIX_LAYOUT_TYPE){return C.AXIS.FIX_TITLE_OFFSET;}else{return x.option.offset*a;}}var k=function(){k.superclass.constructor.apply(this,arguments);this.config.add({sortOrderFn:s,sortPriorityFn:g,offsetFn:j,sizeFn:h,rootWidth:0,rootHeight:0,roughWidth:0,roughHeight:0,position:'',layoutAlgorithm:'auto',isFlexibleLayers:false});};o.extend(k,B);k.prototype.layout=function(a){var b=this.config;var v=b.get('totalWidth');var w=b.get('totalHeight');var x=b.get('position');var y=b.get('offsetFn');var z=b.get('sizeFn');var D=b.get('rootWidth');var E=b.get('rootHeight');var G=b.get('roughWidth');var H=b.get('roughHeight');var I=b.get('isFlexibleLayers');var J=b.get('isFixedPadding');var K=q(x,v,w);var L=r(x,v,w);var M=m(x);var O=n(x);var Q=this._dictToArray(a);var R=t(Q,b);var T=u(Q,b);var U=O===S;var V,W,X,Y,Z,$,_,a1;a1=Math.min(G,H);if(U){Y="minWidth";Z="maxWidth";$="minHeight";V="width";W="height";X="x";_=D;}else{Y="minHeight";Z="maxHeight";$="minWidth";V="height";W="width";X="y";_=E;}var b1=L;var i=0,c1=R.length,d1,e1,f1;var g1=false;var h1=0;var i1=e*a1;for(;i<c1;++i){d1=R[i];if(g1){d1.isEnough=false;continue;}e1=z(d1);h1=y(d1,_);f1=Math.min(h1,i1);f1=J&&d1.module.alias==="axisTitle"?F:Math.min(f1,f);if(e1[Z]&&p(b1-f1-e1[Y])>=0&&Math.ceil(e1[$])<=Math.ceil(K)){d1.isEnough=true;b1=p(b1-f1);if(b1>=e1[Z]){d1[V]=e1[Z];b1=p(b1-e1[Z]);}else{d1[V]=l(b1,e1.spacings,I);b1=0;}}else{d1.isEnough=false;if(e1[Z]){g1=true;}}b1=p(b1);}i=0;c1=T.length;var j1={};var k1,l1;if(M<0){l1=0;for(;i<c1;++i){k1={x:0,y:0,width:0,height:0};d1=T[i];if(d1.isEnough){h1=y(d1,_);f1=Math.min(h1,i1);f1=J&&d1.module.alias==="axisTitle"?F:Math.min(f1,f);l1+=f1;k1[X]=l1;l1+=(k1[V]=d1[V]);k1[W]=K;if(b.get("layoutAlgorithm")==="fixed"&&d1.module.alias===A){k1[X]=L-d1[V];}}j1[d1.module.alias]=k1;}}else{l1=L;for(;i<c1;++i){k1={x:0,y:0,width:0,height:0};d1=T[i];if(d1.isEnough){h1=y(d1,_);f1=Math.min(h1,i1);f1=J&&d1.module.alias==="axisTitle"?F:Math.min(f1,f);l1-=f1;l1-=(k1[V]=d1[V]);k1[W]=K;if(b.get("layoutAlgorithm")==="fixed"&&d1.module.alias===A){l1=0;}}k1[X]=l1;j1[d1.module.alias]=k1;}}return j1;};k.prototype.getPreferredSize=function(a){var b=this.config;var v=b.get('totalWidth');var w=b.get('totalHeight');var x=b.get('position');var y=b.get('sizeFn');var z=b.get('offsetFn');var D=this._dictToArray(a);var E=b.get('rootWidth');var G=b.get('rootHeight');var H=b.get('roughWidth');var I=b.get('roughHeight');var J=b.get('isFixedPadding');var K=[];var i=0;var L=0;var M=t(D,b);var O=M.length;var Q=n(x);var R=Q===S;var T=R?'height':'width';var U=R?'width':'height';var V=q(x,v,w);var W=P.isVertical(x)?v:w;var X,Y,Z,$,_,a1,b1,c1;c1=Math.min(H,I);if(R){_="maxWidth";a1="minHeight";b1=E;}else{_="maxHeight";a1="minWidth";b1=G;}var d1=false;var e1=[];var f1={};for(;i<O&&!d1;++i){X=M[i];var g1=z(X,b1);var h1=e*c1;$=Math.min(g1,h1);$=J&&X.module.alias==="axisTitle"?F:Math.min($,f);var i1={};i1[U]=W-L-$;i1[T]=V;Y=y(X,i1);if(Math.ceil(Y[a1])<=Math.ceil(V)&&Y[_]&&p(L+$+Y[_])<=p(W)){L+=$+Y[_];e1.push(X.module.alias);f1[X.module.alias]=Y[_];}else if(Y[_]!==0){d1=true;}}var j1=0,k1=0;if(R){j1=L;k1=V;}else{j1=V;k1=L;}return{width:j1,height:k1,extra:{visibleComponents:e1,componentsPrfSize:f1}};};function l(a,b,v){var w;if(v){w=c.flexibleLayoutLayers(b,true,a);}else{w=0;var x;if(!b){return w;}for(var i=0,y=b.length;i<y;++i){x=b[i];w+=x.interval;w=p(w);if(w>a){switch(x.type){case C.SPACING_TYPE.STEP:w-=x.interval;break;case C.SPACING_TYPE.RANGE:w=a;break;}}}}return w;}function m(a){if(a===C.POSITION.TOP||a===C.POSITION.LEFT){return 1;}else{return-1;}}function n(a){if(a===C.POSITION.TOP||a===C.POSITION.BOTTOM){return d;}else{return S;}}function q(a,w,b){return P.isVertical(a)?b:w;}function r(a,w,b){return P.isVertical(a)?w:b;}function t(a,b){return a.slice().sort(b.get('sortPriorityFn'));}function u(a,b){return a.slice().sort(b.get('sortOrderFn'));}return k;});define('sap/viz/chart/components/util/AxisBodyUtil',[],function(){var s=function(i,t){var a="translate("+t.x+", "+t.y+")";if(i._tickGroupNode){i._tickGroupNode.attr("transform",a);}if(i._labelGroupNode){i._labelGroupNode.attr("transform",a);}};var g=function(m){var b;if(m){b=[];for(var i=0,l=m.length;i<l;++i){var a={id:m[i].id,name:m[i].name,invisible:m[i].hidden};if(m[i].values){var c={};m[i].values.forEach(function(d){c[d.id]=d.name;});a.values=c;}b.push(a);}}return b;};return{setTransform:s,getBindingFields:g};});define('sap/viz/chart/components/axis/AxisContainer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/PositionUtil",'sap/viz/chart/components/util/BoundUtil',"sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/chart/layout/AxisLayout",'sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/chart/components/util/AxisBodyUtil','sap/viz/framework/interaction/Constants'],function(C,o,U,N,T,P,B,A,S,a,b,F,c,I){var D="Axis Title";var d={'left':'v-m-yAxis','top':'v-m-xAxis2','right':'v-m-yAxis2','bottom':'v-m-xAxis'};var f=function(r,h){f.superclass.constructor.apply(this,arguments);this._valueAxes=h.valueAxes;this._disableTitle=!!h.disableTitle;this.categoryTitleXoffset=null;this.categoryTitleYoffset=null;this._roughSize={width:0,height:0};this._bodyLayersNumber=-1;var p=this._properties;var t=this;if(h&&h.hasScrollbar){this.setChild(C.AXIS.SCROLLBAR_NAME,new S(r,{name:'plotArea.scrollbar'}),{order:2,priority:0,offset:0});}['height','width'].forEach(function(e){var l={set:function(v,n){if(v===null||parseFloat(v)>=0){return v;}else{return n.value;}}},m={layout:{}};m.layout[e]=l;p.add(m);});if(!h.isTrellis){var i={},j={};i[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],z,l,m,n,q,s,u;var v=0;var w=0;if(t._properties.get('title.visible')&&t._selections&&t._selections["axisTitle"]&&t._selections["axisTitle"].length>0){l=t._selections["axisTitle"].node().getBoundingClientRect();if(l.width>1.5&&l.height>1.5){n=[[]];n[0].push([l.left,l.top]);n[0].push([l.right,l.top]);n[0].push([l.right,l.bottom]);n[0].push([l.left,l.bottom]);e.push({"name":t._name+' title',"bound":n});}}if(t._parent&&t._parent.select(".v-m-axisBody").node()){var x=t._parent.select(".v-m-axisBody").node();var y=x.getAttribute('clip-path');if(y&&y.length>0){y=y.replace(/\s/g,"");var E=/^url\(/;y=y.replace(E,"");y=y.replace(/\)$/,"");y=y.replace(/^\"/,"");y=y.replace(/\"$/,"");x=t._parent.select(y).node();}s=x.getBoundingClientRect();if(y&&y.length>0){if(s.width===0&&s.height===0){var G=x.querySelector('rect');if(G){s=G.getBoundingClientRect();}}}if(s.width>1.5||s.height>1.5){m={left:s.left,right:s.right,top:s.top,bottom:s.bottom};q=[[]];q[0].push([m.left+v,m.top+w]);q[0].push([m.right+v,m.top+w]);q[0].push([m.right+v,m.bottom+w]);q[0].push([m.left+v,m.bottom+w]);e.push({"name":t._name,"bound":q});}u=t._parent.node().ownerSVGElement;}b.calcOffsetFromChart(u,e);return e;}};j[this._name]={value:[],readonly:true,serializable:false,get:function(){var e,z,l;if(t._parent){var m=d3.select(t._parent.node().ownerSVGElement);e=F.buildRes(t._name,l,m,t.isByBound());}return e;}};r.zoneManager().add({tempPropertyZone:i,tempFeedingZone:j});}this.setLayoutAlgorithm(new a());this._scale=null;this._bindingFields=[];if(!this._disableTitle){this.setChild("axisTitle",new A(r,h),{order:3,priority:1,offset:C.AXIS.SPACING_TO_ROOT});}this._position=null;this._parent=null;var k=this.runtime().graphicModel();if(k){k.registerExposedModule(h.name);}};o.extend(f,U);f.prototype.zoom=function(s){if(s){this._realSize.width=this._size.width*s.x;this._realSize.height=this._size.height*s.y;this._updateData(this._getSizeInfo());}this._updateSubModules(s);};f.prototype.update=function(){this._updateData(this._getSizeInfo());this._updateSubModules();};f.prototype._updateSubModules=function(){if(this.getChild("axisBody")){this.getChild("axisBody").module.update();}};f.prototype.scroll=function(e){for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this.getChild(k).module;if(m.scroll){m.scroll(e);}}}};f.prototype.setData=function(e){this._bindingFields=c.getBindingFields(e.metaData)||this._bindingFields;};f.prototype.setPosition=function(p){var e=this._properties;var v=e.get('visible');var h=parseFloat(e.get('layout.height'));var w=parseFloat(e.get('layout.width'));this._position=p;for(var k in this._children){if(this._children.hasOwnProperty(k)){var i=this.getChild(k);i.module.setPosition(this._position);if(k==='axisTitle'){var j=i.option;if(v&&P.isHorizontal(j.position)?h>=0:w>=0){j.offsetType=C.AXIS.FIX_LAYOUT_TYPE;}}}}return this;};f.prototype._isVertical=function(){return P.isVertical(this._position);};f.prototype._isHorizontal=function(){return P.isHorizontal(this._position);};f.prototype._updateData=function(){if(!this._disableTitle){this.getChild("axisTitle").module.setData(this._getTitle());}};f.prototype._getTitle=function(){var t={};t.text="";t.isCustomized=false;t.items=[];var e="";var h=this._properties.get('title.text');if(T.isString(h)){e=h;t.isCustomized=true;}else if(this._bindingFields){e=this._constructTitle(this._bindingFields,t.items);}else{e=D;t.isCustomized=true;}t.text=e;return t;};f.prototype._constructTitle=function(h,t){return"";};f.prototype.getParent=function(){if(this._parent){return this._parent.select("g."+C.CSS.CLASS.AXIS.CONTAINER);}else{return null;}};f.prototype.addARIATag=function(r){};f.prototype.renderAddition=function(e){this.getChild("axisBody").module.renderValueBasedColorLine(e);};f.prototype.render=function(r){this.addARIATag(r);this._parent=r;f.superclass.render.apply(this,arguments);B.drawBound(r,this._size.width,this._size.height,undefined,true);var p=r.select("g."+C.CSS.CLASS.AXIS.CONTAINER);if(this._size.width>0||this._size.height>0){if(!p.node()){delete this._selections;this._selections=null;p=r.append("g").attr("class",C.CSS.CLASS.AXIS.CONTAINER);}this._initRenderBase(p);this.layout();if(this.getChild("axisBody")){var e=this.getChild("axisBody").module.getAvailableLayersNumber();this._bodyLayersNumber=e;if(!this._disableTitle){this.getChild("axisTitle").module.setTitleHiddenItems(e);}}this._renderSub();}var s=d[this._position];r.classed(s,true);};f.prototype.isVisible=function(){return this._bodyLayersNumber>0;};f.prototype.setChild=function(k,m,e){f.superclass.setChild.apply(this,arguments);if(m.setPosition&&e.position){m.setPosition(e.position);}};f.prototype._setupLayout=function(i,e){this._updateData(i);var h=N.getPositiveInt;var j=this._properties.origin;var p=this.calculatePaddingInPX(j,this._roughSize.width,this._roughSize.height);var k=h(p.propertyPaddingInPX,p.constantPaddingInPX);var l=h(p.propertyPaddingTopInPX,k);var m=h(p.propertyPaddingRightInPX,k);var n=h(p.propertyPaddingBottomInPX,k);var q=h(p.propertyPaddingLeftInPX,k);var r=false;var s=this.getChild("axisBody");if(s&&s.module){if(s.module.isFlexibleLayers){r=s.module.isFlexibleLayers();}}var t=this._layoutAlgorithm.config;t.set('position',this._position);t.set('rootWidth',this._roughSize.width-(m+q));t.set('rootHeight',this._roughSize.height-(l+n));t.set('roughWidth',this._roughSize.width);t.set('roughHeight',this._roughSize.height);t.set('isFlexibleLayers',r);if(i.width!==undefined){t.set('totalWidth',i.width);}if(i.height!==undefined){t.set('totalHeight',i.height);}if((['left','right'].indexOf(this._position)>-1&&this._properties.get("layout.width")!==null)||(['top','bottom'].indexOf(this._position)>-1&&this._properties.get("layout.height")!==null)||(e&&e.pagination)){t.set("layoutAlgorithm","fixed");}};f.prototype._getSizeInfo=function(i){var s={width:this._size.width,height:this._size.height};if(i){if(i.width){s.width=i.width;}if(i.height){s.height=i.height;}}else if(this._realSize.width>this._size.width||this._realSize.height>this._size.height){if(this._isHorizontal()){s.width=this._realSize.width;}else{s.height=this._realSize.height;}}return s;};f.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo());};f.prototype._postLayout=function(){var r=this._layoutResult;var s=this._selections;for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;var e=s?s[k]:null;var h=r[k];if(this._isHorizontal()){m.setSize({width:this._size.width,height:h.height});}else{m.setSize({width:h.width,height:this._size.height});}m.setRealSize({width:h.width,height:h.height});if(m.layout){m.layout();}if(e){e.attr("transform","translate("+h.x+","+h.y+")");if((this._name=="categoryAxis"||this._name=="categoryAxis2")&&k=="axisBody"){this.categoryTitleXoffset=h.x;this.categoryTitleYoffset=h.y;}}}}};f.prototype.getPreferredSize=function(i,e){this._setupLayout(this._getSizeInfo(i),e);this._layoutAlgorithm.config.add({isFixedPadding:this._properties.origin.get('general.layout.isFixedPadding')});var l=this._layoutAlgorithm.getPreferredSize(this._children);return N.preciseObject(l);};f.prototype._renderSub=function(){for(var k in this._children){if(this._children.hasOwnProperty(k)){this.getChild(k).module.render(this._selections[k]);}}};function g(e,h,p){var i={left:e.left,right:e.right,top:e.top,bottom:e.bottom};if(p==='left'){i.left=h[0][1][0]+1;}else if(p==='right'){i.right=h[0][0][0]-1;}else if(p==='top'){i.top=h[0][3][1]+1;}else if(p==='bottom'){i.bottom=h[0][0][1]-1;}return i;}f.prototype.appendSynonymClass=function(e,s){var h=d[this._position];e.classed(h,true);};f.prototype.destroy=function(){f.superclass.destroy.call(this);this._bindingFields=null;this._disableTitle=null;this._parent=null;this._position=null;this.categoryTitleXoffset=null;this.categoryTitleYoffset=null;};f.prototype.setRoughSize=function(v){if(v.width!=null){this._roughSize.width=v.width;}if(v.height!=null){this._roughSize.height=v.height;}};f.prototype.isByBound=function(e){return false;};return f;});define('sap/viz/chart/components/axis/renderer/ValueBodyRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/property/PropertyManager",'sap/viz/chart/components/util/ValueAxisUtils',"sap/viz/framework/common/util/NameColorUtils","sap/viz/migrate/PropertyUtil"],function(C,N,P,T,a,S,b,V,c,e){var A=C.CSS.CLASS.AXIS;var f=1;var g=6;var h=5;var L=6;var j=3;var r={};r.drawLines=function(s,d,w,i,p,n,o,v){var q=A.PERIMETER+" "+A.LINE;var t=n instanceof b;var u=t?n.get('color'):n.color;if(a.isArray(u)&&v){var x=v.length>1?1:0;u=e.getComplexProperty("color",u,x,n);}var y=0;var z=0;var B=0;var D=0;var E=o.register({fillColor:c.convertColor(u)});var F=t?n.get('axisLine.size'):n.axisLine.size;if(!a.isNumber(F)){F=1;}var G,H,I;if(p===C.POSITION.TOP||p===C.POSITION.BOTTOM){I=w;}else{I=i;}if(d[0]<d[1]){G=d[0]-F/2;H=I+F/2;}else{G=d[1]-F/2;H=I+F/2;}switch(p){case C.POSITION.LEFT:y=w;z=G;B=w;D=H;break;case C.POSITION.RIGHT:y=0;z=G;B=0;D=H;break;case C.POSITION.TOP:y=G;z=i;B=H;D=i;break;case C.POSITION.BOTTOM:y=G;z=0;B=H;D=0;break;}var J=s.select("."+A.LINE);if(!J.node()){J=s.append("line").style("pointer-events","none").attr("class",q).attr("shape-rendering","crispEdges");}J.attr("stroke",E).attr("stroke-width",F);J.attr("x1",y).attr("y1",z).attr("x2",B).attr("y2",D);return J;};var k="."+A.TICK+", ."+A.LONGTICK;function l(t,d){var n=t.length;if(n<=2){return t;}var s=true;var i;for(i=n-1;i>0;--i){if(Math.abs(t[i]-t[i-1])>=d){s=false;break;}}if(s){t.splice(1,n-2);}else{for(i=n-1;i>0;--i){if(Math.abs(t[i]-t[i-1])<d){t.splice(i-1||i,1);}}}return t;}function m(t,d){var i=[];if(t&&a.isArray(t)){i=t.slice(0);l(i,f);if(!d){l(i,g);}}return i;}r.drawTicks=function(s,t,w,n,p,o,q,u,v){var x=o instanceof b;var y=A.PERIMETER+" "+A.TICK;var z=x?o.get('color'):o.color;if(a.isArray(z)&&v){var B=v.length>1?1:0;z=e.getComplexProperty("color",z,B,o);}var D=q.register({fillColor:c.convertColor(z)});var E=x?o.get('axisLine.size'):o.axisLine.size;var F=m(t,u);var i=0,G=F.length;var H=[],I=[],J=[],K=[];switch(p){case C.POSITION.LEFT:for(;i<G;++i){H[i]=w;I[i]=F[i];J[i]=w-h;K[i]=F[i];}break;case C.POSITION.RIGHT:for(;i<G;++i){H[i]=0;I[i]=F[i];J[i]=h;K[i]=F[i];}break;case C.POSITION.TOP:for(;i<G;++i){H[i]=F[i];I[i]=n;J[i]=F[i];K[i]=n-h;}break;case C.POSITION.BOTTOM:for(;i<G;++i){H[i]=F[i];I[i]=0;J[i]=F[i];K[i]=h;}break;}var M=s.selectAll(k).data(F);M.enter().append("line").each(function(){this.setAttribute("class",y);this.setAttribute("stroke",D);this.setAttribute("stroke-width",E);this.setAttribute("shape-rendering","crispEdges");});M.exit().remove();M.each(function(d,i){this.setAttribute("x1",N.preciseSimple(H[i]));this.setAttribute("y1",N.preciseSimple(I[i]));this.setAttribute("x2",N.preciseSimple(J[i]));this.setAttribute("y2",N.preciseSimple(K[i]));});};r.getTrellisBaseValueIndex=function(d){var i=d.length-1;var n=d[0].value,o=d[i].value;var p=V.getTrellisBaseValueIndex(n,o);return(p===1)?i:p;};r.drawLabels=function(s,n,o,w,p,q,t,u,v,x){if(!s){return;}var y=A.LABEL+" "+A.MORPHABLE_LABEL+" "+A.LABEL_BACKWORD;var z=t instanceof b?t.get('label.style'):t.label.style;var B=T.getTextBaselineOffset(z);var i=0;var D=o.length;var E;var F=!!u.applyTrellisBehavior;var G=r.getTrellisBaseValueIndex(o);var H=null;var I=this.runtime().envManager();if(I){H=I.textAnchor();}if(P.isVertical(q)){for(;i<D;++i){E=o[i];E.textAnchor=H;E.x=h+L;if(q===C.POSITION.LEFT){E.x=(w-E.x-E.width);}E.y=n.scale(E.value)-B;E.y+=(F&&i===G)?-j:E.height/2;}}else{for(;i<D;++i){E=o[i];E.textAnchor=H;E.x=n.scale(E.value);if(x&&(i===D-1)){E.x-=E.width;}else if(F&&i===G){E.x+=j;}else{E.x-=E.width/2;}if(q===C.POSITION.TOP){E.y=p-h-L-B;}else{E.y=h+L+E.height-B;}}}var J=v.register({fillColor:z.color});var K=z['fontSize'];var M=z['fontWeight'];var O=z['fontFamily'];var Q=z['fontStyle'];var R=s.selectAll("."+A.LABEL).data(o);R.enter().append("g").each(function(d,i){this.setAttribute("class",y);this.setAttribute("fill",J);this.setAttribute("font-size",K);this.setAttribute("font-weight",M);this.setAttribute("font-family",O);this.setAttribute("font-style",Q);var U=S.create("text");this.appendChild(U);});R.exit().remove();R.each(function(d,i){var U=this.querySelector('text');U.textContent=d.text;U.setAttribute("text-anchor",d.textAnchor);U.setAttribute("x",d.x);U.setAttribute("y",d.y);});};return r;});define('sap/viz/chart/components/util/ClippathUtil',['sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/Constants'],function Setup(O,C){var c=C.CSS.CLASS.CLIPPATH;var a={drawClippath:function(s,w,h,x,y,p){var b=c;if(p){b=b+"-"+p;}if(w<0){w=0;}if(h<0){h=0;}if(s.select('.'+b).node()===null){var i='clip-path-'+O.guid();var d=s.insert('clipPath',':first-child').attr('class',b).attr('id',i);d.append('rect').attr('x',x).attr('y',y).attr('width',w).attr('height',h);return i;}else{s.select('.'+b).select('rect').attr('width',w).attr('height',h).attr('x',x).attr('y',y);return s.select('.'+b).attr('id');}}};return a;});define('sap/viz/chart/components/axis/sub/ValueAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/scales/ValueScaleUtil",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/format/FormatManager"],function(o,A,C,N,B,V,a,O,b,U,c,d,T,D,e,F){var f=5;var L=6;var g=5;var j=3;var k=C.CSS.CLASS.AXIS;var l=function(r,h){l.superclass.constructor.apply(this,arguments);this._isPercentageMode=false;this._tickGroupNode=null;this._labelGroupNode=null;this._offset={x:0,y:0};this._valueAxes=h.valueAxes;};o.extend(l,A);l.prototype.setPercentageMode=function(_){this._isPercentageMode=!!_;return this;};l.prototype.update=function(){var p=this._properties;if(p.get('visible')&&this._data){var w=this._size.width;var h=this._size.height;var i=this._position;var s=this._data;if(this._isSpaceEnough()){var t=this._getTicksToRender();var m=a.getTicksPosition(t,s);var n=this._getAllLabels(t,s);var q=this.runtime().effectManager();if(p.get('axisTick.visible')){this.drawTicks(this._tickGroupNode,m,w,h,i,p,q);}if(p.get('label.visible')&&n.length){this.drawLabels(this._labelGroupNode,s,n,w,h,i,p,this._options,q,this._adjustLastLabel);}}}};l.prototype.scroll=function(h){d.setTransform(this,h);this._offset.x=h.x;this._offset.y=h.y;};l.prototype.render=function(s){var p=this._properties;var w=this._size.width;var h=this._size.height;B.drawBound(s,w,h,null,true);s.select("g."+k.LINE_GROUP).remove();s.select("g."+k.TICK_GROUP).remove();s.select("g."+k.LABEL_GROUP).remove();if(this._data&&p.get('visible')){var i=this._position;var m=this._data;var r=m.getRange();var n=null;var q=this.runtime().effectManager();if(this._isSpaceEnough()){var t=this._isVertical();if(p.get('axisLine.visible')){n=s.append("g").attr("class",k.LINE_GROUP);var u=this.drawLines(n,r,w,h,i,p,q,this._valueAxes);D.setData(n.node(),{isVertical:t,isPercentage:this._isPercentageMode});}var v=this._getTicksToRender();var x=a.getTicksPosition(v,m);var y=this._getAllLabels(v,m,false);var z;if(p.get('axisTick.visible')){z=c.drawClippath(s,this._size.width+2,this._size.height+2,-1,-1,"ticks");n=s.append("g").attr('clip-path','url(#'+z+')');this._tickGroupNode=n.append("g").attr("class",k.TICK_GROUP);this.drawTicks(this._tickGroupNode,x,w,h,i,p,q);}if(p.get('label.visible')&&y.length){var E=this.getPadding(this._data);var G={x:0,y:0,width:this._size.width,height:this._size.height};var H=this._getWidestLabel(y)+L+f;var I=0;if(t){G.y-=E.start;G.height+=E.start+E.end;I=H-G.width;if(this._noReLayout&&I>0){G.width+=I;G.x-=I;}}else{G.x-=E.start;G.width+=E.start+E.end;I=H-G.height;if(this._noReLayout&&I>0){G.height+=I;G.y-=I;}}z=c.drawClippath(s,G.width+2,G.height+2,G.x-1,G.y-1,"labels");n=s.append("g").attr('clip-path','url(#'+z+')');this._labelGroupNode=n.append("g").attr("class",k.LABEL_GROUP);this.drawLabels(this._labelGroupNode,m,y,w,h,i,p,this._options,q,this._adjustLastLabel);}}}if(this._offset.x||this._offset.y){d.setTransform(this,this._offset);}};l.prototype._getTicksToRender=function(){return a.getTicks(this._data);};l.prototype.drawLines=V.drawLines;l.prototype.drawTicks=function(i,t,w,h,p,m,n){return V.drawTicks(i,t,w,h,p,m,n,false,this._valueAxes);};l.prototype.drawLabels=V.drawLabels;l.prototype.setData=function(h,n){this._noReLayout=n;if(n){this._fullScale=this._fullScale||this._data;}else{this._fullScale=null;}l.superclass.setData.apply(this,arguments);};l.prototype.paginationOptions=function(){var h;if(this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel){var i=this._runtime._interaction._service.getDataModel();h=i&&i._rawData&&i._rawData._FlatTableD&&i._rawData._FlatTableD._dataset&&i._rawData._FlatTableD._dataset.metadata&&i._rawData._FlatTableD._dataset.metadata.options;}return h;};l.prototype.getMaximizedLabelWidth=function(h,s){var m=h;var i=0;var n=s._domain;var p=s.maximizedDomain;var q=this.paginationOptions();if(q&&p&&n&&!s.isFixed()){if(!T.isNumber(p[0])){p[0]=0;}if(!T.isNumber(p[1])){p[1]=0;}var t=s.getTickHint();var r=new e(p,s.getRange());var u=t*t;r.setTickHint(u);a.perfectTicks(r,u);var v=a.getTicks(r);var w=this._getAllLabels(v,r,true,true);i=this._getWidestLabel(w);}if(m<i){m=i;}return m;};l.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};var h=this._properties;if(this._data&&h.get('visible')){var s=this._noReLayout?this._fullScale:this._data;var r=s.getRange();var i=Math.abs(r[0]-r[1]);var m=L+f;var t=[],n=[];if(h.get('label.visible')){t=a.getTicks(s);n=this._getAllLabels(t,s,true);}if(this._isVertical()){var q=this._getWidestLabel(n);m+=q;p.minWidth=m;p.maxWidth=L+f+this.getMaximizedLabelWidth(q,s);p.minHeight=i;p.maxHeight=i;}else{m+=this._getHighestLabel(n);p.minWidth=i;p.maxWidth=i;p.minHeight=m;p.maxHeight=m;}p.spacings=[{"interval":m,"type":C.SPACING_TYPE.STEP}];}var u=N.preciseObject(p);this._updatePfdSize(u);return u;};l.prototype.getAvailableLayersNumber=function(){var h=0;if(this._data&&this._properties.get('visible')&&this._isSpaceEnough()){h=1;}return h;};l.prototype.formatTickValue=function(v,i,p,s){var h=p.get("label.formatString");var u=p.get("label.unitFormatType");var m=v;var n;var q={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.VALUEAXIS)};if(i){if(h&&(h.indexOf("u")!==h.length-1)){m=U.format(v,h,u,q);}else{m=N.preciseSimple(v*100).toString();}}else{var r=this._runtime.statusManager().get("dynamicScale");var t=r&&r[this._name];if(h||u){m=(t||U).format(v,h,u,q);}else{m=N.preciseSimple(v).toString();}}return m;};l.prototype.getPadding=function(s){var h=s.getDomain();var i=this._properties.get("visible");var m=this._properties.get("label.style");var n=this._properties.get("label.visible");if(!i||!n){return{start:g,end:g};}var p={start:j,end:j};p.start+=this._getPadding(this.formatTickValue(h[0],this._isPercentageMode,this._properties,s),m);if(this._isVertical()||!this._adjustLastLabel){p.end+=this._getPadding(this.formatTickValue(h[1],this._isPercentageMode,this._properties,s),m);}return p;};l.prototype._getPadding=function(t,s){var p=0;var h=this._measureTextSize(t,s);if(this._isVertical()){p=h.height/2;}else{p=h.width/2;}return p;};l.prototype._getAllLabels=function(t,s,h,m){var n=[];var p=t.length;for(var i=0;i<p;i++){var q={};var r=t[i];q.value=r;q.text=this.formatTickValue(r,this._isPercentageMode,this._properties);n.push(q);}this._setLabelsPosition(n,s);var u=n;if(!m){u=this._filterLabels(n,h);}return u;};l.prototype._setLabelsPosition=function(h,s){var m=h.length;var p=this._properties;var n=p.get('label.style');var q=this._options&&this._options.applyTrellisBehavior;var t=q?V.getTrellisBaseValueIndex(h):-1;for(var i=0;i<m;++i){var r=h[i];if(!N.isNoValue(r.value)){var u=this._measureTextSize(r.text,n);var w=u.width,v=u.height;r.width=w;r.height=v;var x=s.scale(r.value);if(this._isVertical()){if(t===i){if(i===0){r.start=x;r.end=x+v;}else{r.start=x-v;r.end=x;}}else{r.start=x-v/2;r.end=x+v/2;}}else{if(t===i){if(i===0){r.start=x;r.end=x+w;}else{r.start=x-w;r.end=x;}}else{if((i===m-1)&&(this._isAdjustLastLabel(w))){r.start=x-w;r.end=x+w;}else{r.start=x-w/2;r.end=x+w/2;}}}}}};l.prototype._getOriginalDomainMinMaxSize=function(h){var i=this._properties.get('label.style');return h.map(function(m){var t=this.formatTickValue(m,this._isPercentageMode,this._properties,this._data);return this._measureTextSize(t,i);}.bind(this));};l.prototype._isAdjustLastLabel=function(h){var _=false;var s=this._runtime.statusManager();var p=s.get('ChartPaddingInfo');if(p){var i=p.paddingRight?p.paddingRight:p.padding;if(!this._isVertical()&&(h/2>i)&&((this._properties.origin.get('legendGroup.computedVisibility')===false)||(s.get('legendGroup.isHorizontal')!==false))){_=true;}}this._adjustLastLabel=_;return _;};l.prototype._getWidestLabel=function(h){var t=0;var m=h.length;var s=[];var n=this._name==='valueAxis2'?this._runtime.statusManager().get('globalDomain2'):this._runtime.statusManager().get('globalDomain');if(n){s=this._getOriginalDomainMinMaxSize(n);}for(var i=0;i<m;++i){if(t<h[i].width){t=h[i].width;}}s.forEach(function(p){if(t<p.width){t=p.width;}});return t;};l.prototype._getHighestLabel=function(h){var t=0;var m=h.length;for(var i=0;i<m;++i){if(t<h[i].height){t=h[i].height;}}return t;};l.prototype._filterLabels=function(h,m){var n=this._runtime.propertyManager().get("plotArea.adjustScale");var p=[];var q;var r=this._data.getDomain();var s=false;if(n&&!m&&this._data.getDomainChanged()){var t=this.runtime().statusManager();var u=function(q,r){if(q&&r){if(q[0]>=0&&r[0]<0){s=true;}}};if(this.getName()==="valueAxis"){q=t.get("valueAxisScaleDomain");u(q,r);}else if(this.getName()==="valueAxis2"){q=t.get("valueAxis2ScaleDomain");u(q,r);}}if(h.length>0){var v=h.length;if((h[0].value<0||h[v-1].value<0)&&(h[0].value>0||h[v-1].value>0)){var w=[];var x=[];for(var i=0;i<h.length;i++){if(h[i].value<=0){w.push(h[i]);}if(h[i].value>=0){x.push(h[i]);}}var y;var z=w.length;if(w[0].value<=w[z-1].value){y=w[0];}else{y=w[z-1];}var E;var G=x.length;if(x[0].value<=x[G-1].value){E=x[G-1];}else{E=x[0];}w=b.calculateLabelsToDrawHelper(w,false);x=b.calculateLabelsToDrawHelper(x,false);if(w[0].value>w[w.length-1].value){w.reverse();}if(x[0].value>x[x.length-1].value){x.reverse();}if(w[w.length-1].value===0&&x[0].value===0){w.pop();}var H=w.concat(x);if(y.value!==H[0].value){H.splice(0,0,y);}if(E.value!==H[H.length-1].value){H.push(E);}if(H[0].start>H[H.length-1].start){H.reverse();}p=b.calculateLabelsToDrawHelper(H,s);}else{p=b.calculateLabelsToDrawHelper(h,false);}if(p.length<=1||(p.length===2&&b.isOverLapped(p[0],p[1]))){p=[];}}var I=function(q,r,J,K){if(q&&r){var M=J.length;var i=K?0:M-1;for(;K?i<J.length:i>0;K?i++:i--){if(J[i].value<0){J[i].text="";}else{break;}}}};if(s){if(this.getName()==="valueAxis"){I(q,r,p,this._position==="left"?false:true);}else if(this.getName()==="valueAxis2"){I(q,r,p,false);}}return p;};l.prototype.destroy=function(){l.superclass.destroy.call(this);this._isPercentageMode=null;this._tickGroupNode=null;this._labelGroupNode=null;};return l;});define('sap/viz/chart/components/axis/ValueAxis',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/Constants"],function(a,A,V,b,C){var c=function(r,o){c.superclass.constructor.apply(this,arguments);this.setChild("axisBody",new V(r,o),{order:1,priority:2,offset:0});var t=this;var d,e,m,f,s,g;if(this._name==='valueAxis'){s='primaryScale';}if(this._name==='valueAxis2'){s='secondaryScale';}d='plotArea.'+s+'.autoMinValue';e='plotArea.'+s+'.autoMaxValue';m='plotArea.'+s+'.minValue';f='plotArea.'+s+'.maxValue';g='plotArea.'+s+'.fixedRange';this._properties.origin.add(d,{defaultValue:[],serializable:false,get:function(){return(t._scale?(t._scale.getAutoDomain()?t._scale.getAutoDomain()[0]:t._scale.getDomain()[0]):undefined);}});this._properties.origin.add(e,{defaultValue:[],serializable:false,get:function(){return(t._scale?(t._scale.getAutoDomain()?t._scale.getAutoDomain()[1]:t._scale.getDomain()[1]):undefined);}});this._properties.origin.add(m,{defaultValue:[],serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()[0]){return t._scale.getDomain()[0];}return null;}});this._properties.origin.add(f,{defaultValue:[],serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()[1]){return t._scale.getDomain()[1];}return null;}});this._properties.origin.add(g,{defaultValue:[],serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()){var h=t._scale.getDomainFixed();var i=h[0];var j=h[1];if(!i&&!j){return false;}return true;}return false;}});};a.extend(c,A);c.prototype.setPercentageMode=function(_){this.getChild("axisBody").module.setPercentageMode(!!_);return this;};c.prototype.getMaxZoomRatio=function(){var r=this._scale.getTickHint();if(r>=1){return r;}else{return Number.MAX_VALUE;}};c.prototype.setScale=function(d){if(d.scale){this._scale=new b(d.scale.getDomain(),[0,1],d.scale.getDomainFixed(),{maximizedDomain:d.scale.maximizedDomain});this._scale.setDomainChanged(d.scale.getDomainChanged());this._scale.setZeroAdjusted(d.scale.getZeroAdjusted());var e=true;if(this._properties.has("label.allowDecimals")){e=this._properties.get("label.allowDecimals");}this._scale.setAllowDecimals(e);}};c.prototype.setData=function(d,n){this._noReLayout=n;c.superclass.setData.apply(this,arguments);this.setScale(d);if(d.scale){this._scale.setAutoDomain(d.scale.getAutoDomain());this._scale.setTickHint(d.tickHint);}};c.prototype.getPadding=function(s){var d=this.getChild("axisBody");if(!d||!s){return{start:0,end:0};}return d.module.getPadding(s);};c.prototype._updateData=function(i){c.superclass._updateData.apply(this,arguments);if(this._scale){if(this._isVertical()){var v=this._properties.get("layout.direction");if(v==="topDown"){this._scale.setRange([0,i.height]);}else{this._scale.setRange([i.height,0]);}}else{this._scale.setRange([0,i.width]);}}this.getChild("axisBody").module.setData(this._scale,this._noReLayout);};c.prototype._setPercentageTitle=function(t){var d;if(this._runtime&&this._runtime._interaction&&this._runtime._interaction._chartType){d=this._runtime._interaction._chartType;}if(d&&(d.indexOf("100")>-1)){t=t+C.CSS.CLASS.AXIS.LABEL_PERCENTAGE;}return t;};c.prototype._constructTitle=function(h,t){var d=h.map(function(o){return o.name||o.id;}).join(" & ");d=this._setPercentageTitle(d);var i={};i.isHidden=false;i.text=d;t.push(i);return d;};c.prototype.destroy=function(){c.superclass.destroy.call(this);this._scale=null;};c.prototype.supportFixedLayout=true;return c;});define('sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/RuleUtil","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ObjectUtils"],function(C,A,N,T,a,V,D,S,P,R,b,G,c,O){var f=C.CSS.CLASS.AXIS;var g="categorylabel-id";var h=5;var L=6;var j=90;var k="#B3B3B3";var l=h+L-1;function m(d,e){var q=0;for(var i=0;i<e;++i){q+=d[i].layerBand;}return q;}var n=function(d){var e=-1;if(d.position===C.POSITION.TOP||d.position===C.POSITION.BOTTOM){if(d.rotated){e=d.size.height;if(d.rotationAngle!==j){var i=d.styles;var q=T.canvasMeasure(d.text,i.fontSize,i.fontWeight,i.fontFamily).height;q=N.preciseSimple(q);var x=(q/Math.tan(d.rotationAngle*Math.PI/180));e=e/(Math.sin(d.rotationAngle*Math.PI/180));e-=x;var y=d.cellWidth/2+d.cellStart+(d.additionalWidth?d.additionalWidth:0);var F=y/(Math.cos(d.rotationAngle*Math.PI/180));if(e>F){e=F;}e+=l;}}else{e=d.size.width+l;}}else{e=d.size.width;}if(e>=0){e-=l;}return e;};var r=function(){this.defaultCategoryLabelRenderer=D;this._noEllipsis=false;};r.prototype.drawLines=function(d,e,i,q,x,y,F,H){V.drawLines(d,i,q,x,y,F,H);};function o(d,e,q){var x=d.length;var y=e[x-1].length;var F=d.slice().reverse();var H=new Array(y);for(var i=0;i<y;++i){var I=x-1;var J=e[I][i];while(I>0&&e[I-1].indexOf(J)>-1){I--;}I=x-I;var K=I>1;var Q=!q||K?m(F,I):h;H[i]={length:Q,isLongTick:K};}return H;}r.prototype.drawTicks=function(d,e,q,x,y,F,H,I){if(!e.length||!q.length){return;}var J=x.width;var K=x.height;var Q=F.axisTick.shortTickVisible;var U=F.axisTick.visible;var W=t(q,x,y);var X=e.length;var Y=o(e,W,true);var Z;if(X===1){Z=W[0];}else{Z=W[W.length-1];}if(((Q===false)&&U)||((Q===true)&&!U)){var i;for(i=(Y.length-1);i>=0;i--){if((U&&!Y[i].isLongTick)||(!U&&Y[i].isLongTick)){Z.splice(i,1);Y.splice(i,1);}}}if(X===1){if(Q||U){var $=I||this._isForceDrawTicks(W,q);V.drawTicks(d,Z,J,K,y,F,H,$);}}else if(X>1){this._drawTicks(d,Z,J,K,y,Y,F,H,F.axisLine.size);}};r.prototype._isForceDrawTicks=function(d,e){return d[0].length<e[0].length;};r.prototype._forceLabelRectRotation=function(){return false;};r.prototype._drawTicks=function(e,q,x,y,F,H,I,J,K){var Q=f.PERIMETER;var U=Q+" "+f.TICK;var W=Q+" "+f.LONGTICK;var X=J.register({fillColor:I.color});var i=0,Y=q.length;var Z=[],$=[],_=[],a1=[];switch(F){case C.POSITION.LEFT:for(;i<Y;++i){Z[i]=x;$[i]=q[i];_[i]=x-H[i].length;a1[i]=q[i];}break;case C.POSITION.RIGHT:for(;i<Y;++i){Z[i]=0;$[i]=q[i];_[i]=H[i].length;a1[i]=q[i];}break;case C.POSITION.TOP:for(;i<Y;++i){Z[i]=q[i];$[i]=y;_[i]=q[i];a1[i]=y-H[i].length;}break;case C.POSITION.BOTTOM:for(;i<Y;++i){Z[i]=q[i];$[i]=0;_[i]=q[i];a1[i]=H[i].length;}break;}var b1=e.selectAll("."+Q).data(q);b1.enter().append("line").each(function(d,i){var c1=U;if(H[i].isLongTick){c1=W;}this.setAttribute("class",c1);this.setAttribute("stroke",X);this.setAttribute("stroke-width",K);this.setAttribute("shape-rendering","crispEdges");});b1.exit().remove();b1.each(function(d,i){this.setAttribute("x1",N.preciseSimple(Z[i]));this.setAttribute("y1",N.preciseSimple($[i]));this.setAttribute("x2",N.preciseSimple(_[i]));this.setAttribute("y2",N.preciseSimple(a1[i]));});};r.prototype.drawGridTicks=function(d,e,i,q,x,y,F,H){var I=e.length;if(I===0){return;}var J=o(e,i);this._drawTicks(d,i[i.length-1],q,x,y,J,F,H,F.size);};r.prototype.drawLabels=function(d,e,q,x,y,F,H,I,J,K){var Q=e.slice().reverse();var U=Q.length;var W=0;var i=0;for(;i<U;++i){W=m(Q,i);this.drawSingleLayerLabels(d,Q[i],q,x,y,W,i,Q,F,H,I,J,K);}while(d.select(".index_"+i).node()){d.selectAll(".index_"+i).remove();++i;}};var p=function(d,e,i,q){var F=2;var x=parseFloat(d.getAttribute("x"));var y=parseFloat(d.getAttribute("y"));var H=parseFloat(d.getAttribute("width"));var I=parseFloat(d.getAttribute("height"));d.setAttribute("width",H+2*F);d.setAttribute("height",I+2*F);var J=i;var K=q;var Q=Math.sqrt(2)*F;var U;if(e===j/2){K=q-Q;}else if(e<j/2){U=2*j-(j-e)-(j/2);K=q-Q*Math.sin(U*Math.PI/180);J=i+Q*Math.cos(U*Math.PI/180);}else{U=(j-e)+(j/2);K=q-Q*Math.sin(U*Math.PI/180);J=i-Q*Math.cos(U*Math.PI/180);}return"translate("+J+","+K+")";};r.prototype._setLabelRectSize=function(d,e,i){if(d&&e){d.setAttribute("width",e.width);d.setAttribute("height",e.height);}};function s(d,e){var i=d.windowSize||d;var x=0,y=0;if(d.positionInWindow){x=d.positionInWindow.x;y=d.positionInWindow.y;}var q=i.width,F=i.height,H=d.offset;var I,J;switch(e){case C.POSITION.LEFT:case C.POSITION.RIGHT:I=-H.y-y;J=F+I;break;default:I=-H.x-x;J=q+I;break;}return{min:N.preciseSimple(I)-0.0001,max:N.preciseSimple(J)+0.0001};}function t(d,e,q){var x=s(e,q);var y=[];for(var i=0,F=d.length;i<F;i++){var H=d[i];var I=A.bisearch(H,x.min);var J=A.bisearch(H,x.max);y.push(H.slice(I,J+1));}return y;}function u(d,e,q,x,y,F){var H=s(e,q);var I=[];for(var i=0,J=d.length;i<J;i++){var K=d[i];var Q=(y&&!F&&x&&K.middle<H.min);if(!Q&&K.cellStart<=H.max&&K.cellEnd>=H.min){I.push(K);}}return I;}var v=f.LABEL+" "+f.MORPHABLE_LABEL+" "+f.LABEL_BACKWORD+" "+f.LABEL_SELECTION;r.prototype._createLabelStyle=function(e,d){this._propStyle=d.style;this._propParentStyle=b.buildParentStyle(d.style,d.parentStyle);};r.prototype._getLabelStyle=function(d,i){var e=O.clone(this._propStyle);if(i){e=O.clone(this._propParentStyle);}return e;};var M=3;var E=3;var w=24;r.prototype.drawSingleLayerLabels=function(q,x,y,F,H,I,J,K,Q,U,W,X,Y){var Z=g;var $=y.width;var _=y.realSize&&y.realSize.width;var a1=y.height;var b1=H.labelRenderer;var c1=true;if(!a.isFunction(b1)){b1=this.defaultCategoryLabelRenderer;c1=false;}var d1=x.onlyKeepFirstAndLast;this._createLabelStyle(Q,H.label);var e1=this._getLabelStyle(null,x.isParentLayer);var f1=Q.register({fillColor:e1.color});var g1=[],h1=x.rotated,i1=P.isVertical(F);var i,j1,k1;for(i=0,j1=x.cells.length;i<j1;++i){var l1=x.cells[i];if(l1.isVisible){l1._cellIndex=i;g1.push(l1);if(Y!==false){l1.cellStart=N.round(l1.cellStart);l1.cellEnd=N.round(l1.cellEnd);l1.cellWidth=N.round(l1.cellWidth);l1.end=N.round(l1.end);l1.middle=N.round(l1.middle);l1.start=N.round(l1.start);}}}k1=K.length===1?L:h;this._setLabelParameters(g1,F,I,$,a1,k1,x);var m1=false;if(d1){g1.forEach(function(e,i){e.textBiggerThanCell=e._preferredSize.textSize&&e._preferredSize.textSize.width>e.cellWidth;if(e.textBiggerThanCell){e.alignMode=e.isFirstLabel?"ALIGIN_LEFT_MOST":"ALIGIN_RIGHT_MOST";}});var n1,o1;if(g1.length===2&&(g1[0].textBiggerThanCell||g1[1].textBiggerThanCell)){var p1=g1[0]._preferredSize.textSize.width;var q1=g1[1]._preferredSize.textSize.width;var r1=g1[0].textBiggerThanCell?p1:(g1[0].middle+p1/2);var s1=g1[1].textBiggerThanCell?(_-q1):(g1[1].middle-q1/2);var t1=s1-w;if(r1>t1){if(g1[0].text.length>M){n1=g1[0].text.slice(0,M)+"...";o1=z(n1,e1);var u1=g1[0].textBiggerThanCell?o1:(g1[0].middle+o1/2);if(o1>t1){g1=[g1[1]];}else{if(g1[0].textBiggerThanCell){m1=t1;}else{m1=Math.max((t1-g1[0].middle)*2,0);}if(m1<o1){g1=[g1[1]];}}}else{g1=[g1[1]];}}}if(g1.length===1&&g1[0].textBiggerThanCell&&g1[0]._preferredSize.textSize.width>_){if(g1[0].text.length>M){n1=g1[0].text.slice(0,M)+"...";o1=z(n1,e1);if(o1>_){g1=[];}}else{g1=[];}}}else{g1=u(g1,y,F,(K.length===1),h1,i1);}var v1=i1?"cellHeight":"cellWidth";var w1={cellStart:null,cellWidth:null,size:null,text:null,ctx:null,childCells:null,position:F,rotated:h1,rotationAngle:x.rotationAngle,styles:null,needRowAxisOffset:U,labelOffset:W,additionalWidth:X,reverseDots:H.reverseDots,wrap:x.wrap,noEllipsis:!!this._noEllipsis};var me=this;var y1=q.selectAll(".index_"+J).data(g1);y1.enter().append("g").each(function(d,i){var e=me._getLabelStyle(d,x.isParentLayer);this.setAttribute("class",v+" index_"+J);this.setAttribute("fill",f1);this.setAttribute("font-size",e.fontSize);this.setAttribute("font-weight",e.fontWeight);this.setAttribute("font-family",e.fontFamily);this.setAttribute("font-style",e.fontStyle);});y1.exit().remove();var z1=this._forceLabelRectRotation();y1.each(function(d,i){var e=me._getLabelStyle(d,x.isParentLayer);var x1=e.fontSize;var A1=e.fontWeight;var B1=e.fontFamily;var C1=e.fontStyle;w1.styles=e;this.setAttribute(Z,d.id);this.setAttribute("transform","translate("+d.x+","+d.y+")");var D1=d._preferredSize;var E1=Math.max(d[v1],D1[v1]);w1.size=i1?{width:d.cellWidth,height:E1}:{width:E1,height:d.cellHeight};w1.cellStart=d.cellStart;w1.cellWidth=d.cellWidth;w1.text=d.text;w1.ctx=d.ctx;var F1=false;if(K[J-1]&&K[J-1].isVisible){F1=true;}if(K.length>1&&F1){w1.childCells=K[J].cells[d._cellIndex].children;}w1.unfilteredFirstChild=d.children&&d.children[0];var G1;if(d1){if(d.isFirstLabel&&m1!==false){G1=m1;}else{G1=_;}}else{G1=n(w1);}w1.sizeLimit=G1;w1.cell=d;w1.labelAlignment="top";if(H.label.alignment==="center"){w1.labelAlignment=H.label.alignment;}var H1=z(d.text,e);var I1=0;if(d.text.length>1){I1=z(d.text[0]+"...",e);}var J1=null;if(G1>=Math.min(I1,H1)){J1=this.querySelector("."+f.BACKGROUND_RECT);if(!J1){J1=S.create("rect");J1.setAttribute("class",f.BACKGROUND_RECT);J1.setAttribute("fill","transparent");this.appendChild(J1);}else if(d1){J1.setAttribute("fill","transparent");}J1.setAttribute("x",d.rectX);J1.setAttribute("y",d.rectY);}if(d.alignMode){w1.alignMode=d.alignMode;}else{delete w1.alignMode;}var K1=this.querySelector(".v-axis-label-wrapper");var L1=null;if(K1&&a.isFunction(b1.update)){if(K1.childNodes&&K1.childNodes.length>0){L1=K1.childNodes[0];}b1.update(K1.firstChild,w1,D.expose);}else{L1=b1(w1,D.expose);if(L1===undefined){L1=me.defaultCategoryLabelRenderer(w1);}if(L1){if(K1){K1.parentNode.removeChild(K1);}K1=S.create("g");K1.setAttribute("class","v-axis-label-wrapper");K1.appendChild(L1);this.appendChild(K1);}}f1=Q.register({fillColor:w1.styles.color});this.setAttribute("fill",f1);this.setAttribute("font-size",w1.styles.fontSize);this.setAttribute("font-weight",w1.styles.fontWeight);this.setAttribute("font-family",w1.styles.fontFamily);this.setAttribute("font-style",w1.styles.fontStyle);if(!c1&&H.textAnchor){L1.setAttribute("text-anchor",H.textAnchor);}if(J1){var M1;if(me.labelRectSizeNeedTextNodeSize){if(L1){var N1=G.getBBox(L1);if(z1&&h1){M1={width:N1.height,height:N1.width};}else{M1=N1;}}}var O1={width:z1&&h1?d.rectHeight:d.rectWidth,height:z1&&h1?d.rectWidth:d.rectHeight};me._setLabelRectSize(J1,O1,M1);var P1,Q1,R1;if(x.rotated&&x.rotationAngle!==j&&x.rotationAngle!==0){if(d.isEventRectLimited){P1=T.canvasMeasure(d.text,x1,A1,B1);Q1=N.preciseSimple(P1.height);R1=N.preciseSimple(P1.width);var S1=Math.min(G1,R1);J1.setAttribute("width",Q1);J1.setAttribute("height",S1);var T1=Q1/4*Math.sin(w1.rotationAngle*Math.PI/180);var U1=p(J1,w1.rotationAngle,-T1,h);var V1="rotate("+(90-w1.rotationAngle)+","+d.rectX+","+d.rectY+") ";J1.setAttribute("transform",U1+' '+V1);}else{J1.setAttribute("transform","skewX(-"+(90-x.rotationAngle)+")");var W1=d.contentWidth*3;if(W1<d.cellWidth){J1.setAttribute("width",W1);J1.setAttribute("x",d.rectX+d.cellWidth/2-W1/2);}}}else{J1.removeAttribute("transform");}}if(K1){this._cellIndex=d._cellIndex;var k1=d[v1]-D1[v1];if(k1<0){K1.setAttribute("transform","translate("+(i1?("0, "+k1/2):(k1/2+",0"))+")");}else{K1.removeAttribute("transform");}}});};var z=function(d,e){var i=T.canvasMeasure(d,e['fontSize'],e['fontWeight'],e['fontFamily']).width;i=N.preciseSimple(i);return i;};function B(d,e,i){if(!d||e<1||!d.length||!d[0].cells.length){return null;}var x=[];var y=d[0].cells[0].layer;var F=d[e].cells[i];if(F.children){var q=F.children.slice();while(q.length){var H=q.shift();if(H.layer<y){q=q.concat(H.children);}else if(H.layer===y){x.push(H);}}}return x;}r.prototype._setLabelParameters=function(d,e,q,x,y,F,H){var i=0,I=d.length,J;switch(e){case C.POSITION.LEFT:for(i=0;i<I;++i){J=d[i];J.x=x-q-J.cellWidth;J.y=J.cellStart;}break;case C.POSITION.RIGHT:for(i=0;i<I;++i){J=d[i];J.x=q;J.y=J.cellStart;}break;case C.POSITION.TOP:for(i=0;i<I;++i){J=d[i];J.x=J.cellStart;J.y=y-q-J.cellHeight;}break;case C.POSITION.BOTTOM:for(i=0;i<I;++i){J=d[i];J.x=J.cellStart;J.y=q;}break;}for(i=0;i<I;++i){var K=false;switch(e){case C.POSITION.LEFT:case C.POSITION.RIGHT:if(d[i].cellHeight-2<d[i].contentHeight){K=true;}break;case C.POSITION.TOP:case C.POSITION.BOTTOM:if(!H.rotated||H.rotationAngle===0){K=false;}else{if(d[i].cellWidth-2<d[i].contentWidth){K=true;}if(H.rotated&&H.rotationAngle!==j&&d[i].cellWidth<(d[i].contentWidth*3)){K=true;}}break;}J=d[i];if(K){switch(e){case C.POSITION.LEFT:J.rectX=J.cellWidth-J.contentWidth-F;J.rectY=(J.cellHeight-J.contentHeight)/2;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;break;case C.POSITION.RIGHT:J.rectX=F;J.rectY=(J.cellHeight-J.contentHeight)/2;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;break;case C.POSITION.TOP:J.rectX=(J.cellWidth-J.contentWidth)/2;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;J.rectY=J.cellHeight-J.contentHeight-F;break;case C.POSITION.BOTTOM:J.rectX=(J.cellWidth-J.contentWidth)/2;J.rectY=F;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;break;}if(e===C.POSITION.BOTTOM||e===C.POSITION.TOP){if(H.rotated&&H.rotationAngle!==j){d[i].rectY=0;d[i].rectX=J.cellWidth/2;}}}else{J.rectX=1;J.rectY=1;J.rectWidth=J.cellWidth-2<0?0:J.cellWidth-2;J.rectHeight=J.cellHeight-2<0?0:J.cellHeight-2;}J.isEventRectLimited=K;}};return r;});define('sap/viz/chart/components/axis/sub/OrdinalCommonAxisBody',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/StatusConstants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/chart/components/util/BuildLayerUtil"],function(C,S,a,A,N,T,b,B,O,c,d,D,f){var g='in';var h=C.CSS.CLASS.AXIS;var V=90;var M=3;var k=function(){k.superclass.constructor.apply(this,arguments);this._layers=null;this._domainChanged=true;this._rawLayers=null;this._bindingFieldIds=null;this._hasNegativeValue=false;this._styleChanged=true;this._localeChanged=true;this._labelOffset=5;var s=function(){this._styleChanged=true;};["fontFamily","fontSize","fontWeight","fontStyle"].forEach(function(e){this[e+"PW"]=this._properties.watch("label.style."+e,s.bind(this));this[e+"ParentPW"]=this._properties.watch("label.parentStyle."+e,s.bind(this));},this);this._isInTrellis=false;this._tickGroupNode=null;this._labelGroupNode=null;this._offset={x:0,y:0};this._cellDict={};this._bodyRenderer=new O();this._deltaBound=null;this._otherSize=null;this._buildUtils=f;this._selection=null;};a.extend(k,A);k.prototype.setBuildLayerUtil=function(e){this._buildUtils=e;};k.prototype.setBodyRenderer=function(r){if(r){this._bodyRenderer=r;}};k.prototype.setData=function(_){var e=this._data;if(!e){this._domainChanged=true;}else{var o=e.getDomain();var n=_.getDomain();if(o!==n&&JSON.stringify(o())!==JSON.stringify(n())){this._domainChanged=true;}}return k.superclass.setData.apply(this,arguments);};k.prototype.setInTrellis=function(_){this._isInTrellis=_;};k.prototype.isFlexibleLayers=function(l){var i=false;if(!this._isInTrellis&&this._rawLayers){if(this._rawLayers.length>1){i=true;}}return i;};k.prototype.isAllowEmptySegement=function(){var i=false;if(this._properties){var l=this._properties.get('labelRenderer');if(l&&(l!==D)){if(l.isAllowEmptySegement&&T.isFunction(l.isAllowEmptySegement)){i=l.isAllowEmptySegement();}else{i=true;}}}return i;};k.prototype.setBindingFields=function(_){var e=_.map(function(o){return o.id;});if(JSON.stringify(this._bindingFieldIds)!==JSON.stringify(e)){this._domainChanged=true;}this._bindingFieldIds=e;this._bindingFields=_;return this;};k.prototype.setHasNegativeValue=function(v){this._hasNegativeValue=!!v;return this;};k.prototype.getAdditionalWidth=function(){var e=[this._otherSize.valueAxis,this._otherSize.categoryAxis2,this._otherSize.leftCallouts];var r=0;for(var i=0;i<e.length;i++){if(e[i]&&e[i].width>0){r=e[i].width;break;}}return r;};k.prototype.update=function(){this._update(true);var e=0;if(this._needExtened()&&this._otherSize){e=this.getAdditionalWidth();}var r=this._selection.select('.v-clippath rect');r.attr('width',this._size.width+2+e).attr('x',-1-e);};k.prototype._update=function(r){if(!this._tickGroupNode&&!this._labelGroupNode){return;}var p=this._properties.get();if(this._data&&p.visible){var w=this._size.width;var e=this._size.height;var i=this._position;if(r){this._layers=this._buildLayers(this._data);this.layout();}var l=this._getAvailableLayers();var j=l.length>0?l:this._layers;if(this._isSpaceEnough()){var m={width:w,height:e,offset:this._offset,windowSize:this._windowSize,positionInWindow:this._positionInWindow,realSize:this._realSize};if(p.axisTick&&(p.axisTick.visible||p.axisTick.shortTickVisible)){if(r){this._ticks=this._getTicks(j);}var t=this._ticks;this._bodyRenderer.drawTicks(this._tickGroupNode,j,t,m,i,p,this.runtime().effectManager(),this._froce);}if(p.label&&p.label.visible){this._renderLabels(p,l,m,i,r);}}}};k.prototype.setVisibleWindow=function(s,p){this._windowSize=s;this._positionInWindow=p;this._update(false);};k.prototype.scroll=function(o){d.setTransform(this,o);this._offset.x=o.x;this._offset.y=o.y;this._update(false);};k.prototype.render=function(s){this._selection=s;s.select("g."+h.LINE_GROUP).remove();s.select("g."+h.TICK_GROUP).remove();s.select("g."+h.LABEL_GROUP).remove();var e=0;if(this._needExtened()&&this._otherSize){e=this.getAdditionalWidth();}var i=c.drawClippath(d3.select(s.node()),this._size.width+2+e,this._size.height+2,-1-e,-1);s.attr('clip-path','url(#'+i+')');var p=this._properties.get();if(this._data&&p.visible){var w=this._size.width;var j=this._size.height;var l=this._position;var m=this._getAvailableLayers();if(this._isSpaceEnough()){var n=this.runtime().effectManager();var o={width:w,height:j,offset:this._offset,windowSize:this._windowSize,positionInWindow:this._positionInWindow,realSize:this._realSize};this._drawTicks(m,w,j,l,p,s,n,o);var q=this._properties.origin;if(this._hasNegativeValue===true&&q.get("plotArea.gridline.zeroLine.unhighlightAxis")===true){p.color=q.get("plotArea.gridline.color");}this._drawAxisLine(m,w,j,l,p,s,n);if(p.label&&p.label.visible){this._labelGroupNode=s.append("g").attr("class",h.LABEL_GROUP);this._renderLabels(p,m,o,l);}}}if(this._offset.x||this._offset.y){d.setTransform(this,this._offset);}};k.prototype._renderLabels=function(p,l,e,i,r){var j=this.runtime().envManager();if(j){p.textAnchor=j.textAnchor();p.reverseDots=j.reverseDots();}this._bodyRenderer.drawLabels(this._labelGroupNode,l,e,i,p,this.runtime().effectManager(),this._needRowAxisOffset(),this._labelOffset,this._needExtened()?this.getAdditionalWidth():0,r);if(this._bodyRenderer&&this._bodyRenderer.applyLabelStyle){this._bodyRenderer.applyLabelStyle(this._labelGroupNode);}};k.prototype._drawAxisLine=function(l,w,e,p,i,s,j){var m;if(i.axisLine&&i.axisLine.visible){m=s.append("g").attr("class",h.LINE_GROUP);var n=this._isVertical()?e:w;var r=[0,n];var o=this._bodyRenderer.drawLines(m,l,r,w,e,p,i,j);}return m;};k.prototype._drawTicks=function(l,w,e,p,i,s,j,m){var t=this._ticks=this._getTicks(l);if(i.axisTick&&(i.axisTick.visible||i.axisTick.shortTickVisible)){this._tickGroupNode=s.append("g").attr("class",h.TICK_GROUP);this._bodyRenderer.drawTicks(this._tickGroupNode,l,t,m,p,i,j,this._froce);}};k.prototype.getPreferredSize=function(r){var l;if(this._data&&this._properties.get('visible')){l=(this._layers=this._buildLayers(this._data,r));}var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._isVertical()){p.minWidth=p.maxWidth=0.1;}else{p.minHeight=p.maxHeight=0.1;}if(l){var e=this._data.getRange();var j=Math.abs(e[0]-e[1]);var m=this._isVertical()?"height":"width";j*=this._realSize[m];var v=r?r[m]:(this._size[m]||j);var i,n=l.length;var o,q,s,t;if(n){s=(p.spacings=[]);for(i=0;i<n;++i){t=l[i];if(this.isFlexibleLayers()){var u={};if(!t.maxLayerBand&&!t.minLayerBand&&!t.niceLayerBand){u.maxLayerBand=0;u.minLayerBand=0;u.niceLayerBand=0;}else{u.maxLayerBand=t.maxLayerBand;u.minLayerBand=t.minLayerBand;u.niceLayerBand=t.niceLayerBand;}s.push(u);}else{if(i===0&&t.minLayerBand<t.layerBand){s.push({"interval":t.minLayerBand,"type":C.SPACING_TYPE.STEP});s.push({"interval":t.layerBand-t.minLayerBand,"type":C.SPACING_TYPE.RANGE});}else{s.push({"interval":t.layerBand,"type":C.SPACING_TYPE.STEP});}}}o=this._getMinLayersSize(s);var w=r&&r[this._isVertical()?'width':'height'];if(this.isFlexibleLayers()){q=this._buildUtils.flexibleLayoutLayers(s,this._isVertical(),w,this.isAllowEmptySegement());}else{q=this._getMaxLayersSize(s,w);}if(this._isVertical()){p.minWidth=o;p.maxWidth=q;p.minHeight=v;p.maxHeight=v;}else{p.minWidth=v;p.maxWidth=v;p.minHeight=o;p.maxHeight=q;}}}var x=N.preciseObject(p);this._updatePfdSize(x);return x;};k.prototype.destroy=function(){["fontFamily","fontSize","fontWeight","fontStyle"].forEach(function(e){if(this[e+"PW"]==null){return;}this[e+"PW"].remove();this[e+"PW"]=null;if(this[e+"ParentPW"]==null){return;}this[e+"ParentPW"].remove();this[e+"ParentPW"]=null;},this);k.superclass.destroy.apply(this,arguments);this._layers=null;this._rawLayers=null;this._bindingFieldIds=null;this._bindingFields=null;this._domainChanged=null;this._hasNegativeValue=null;this._styleChanged=null;this._tickGroupNode=null;this._labelGroupNode=null;this._cellDict=null;this._otherSize=null;this._deltaBound=null;this._selection=null;};k.prototype._getMinLayersSize=function(s){var m=s[0].interval;if(this.isFlexibleLayers()){m=s[0].minLayerBand;}return m;};k.prototype._getMaxLayersSize=function(s,e){var j=0;for(var i=0,l=s.length;i<l;++i){if(typeof e!=='number'||j+s[i].interval<=e){j+=s[i].interval;}else{if(s[i].type===C.SPACING_TYPE.RANGE){j=Math.min(j+s[i].interval,e);}break;}}return j;};k.prototype._getTicks=function(l){var t=[];var e=this._isVertical()?"cellHeight":"cellWidth";var m=l.length;for(var i=0;i<m;++i){var n=0;var o=l[i].cells;var p=o.length;var q=new Array(p+1);q[0]=0;for(var j=0;j<p;++j){n+=o[j][e];q[j+1]=m===1?n:N.preciseSimple(n);}t.push(q);}return t;};k.prototype.getAvailableLayersNumber=function(){var l=this._getAvailableLayers();return l.length;};k.prototype._getAvailableLayers=function(){var s;if(this._isVertical()){s=N.preciseSimple(this._realSize.width);}else{s=N.preciseSimple(this._realSize.height);}var l=this._layers;var e;var j=[];if(this.isFlexibleLayers()){this._buildUtils.flexibleLayoutLayers(l,this._isVertical(),s,this.isAllowEmptySegement());for(var L=0;L<l.length;L++){if(l[L].layerBand>0&&l[L].isVisible){j.push(l[L]);}}}else{if(l){for(var i=0,m=l.length;i<m;++i){e=l[i];s-=e.layerBand;s=N.preciseSimple(s);if(s<0){if(i===0&&N.preciseSimple(s+e.layerBand-e.minLayerBand)>=0){j.push(e);}break;}else{j.push(e);}}}}this._availableLayers=j;return j;};k.prototype.getActiveLevels=function(){return this._availableLayers;};k.prototype.getCellPosition=function(e){var i=this._cellDict[e];return{x:i.x,y:i.y,width:i.cellWidth,height:i.cellHeight};};k.prototype._getCellsRange=function(s){return s.getRangeInterval();};k.prototype.getLayoutCellsConfig=function(){var e={};if(this._properties){var p=this._properties;var i=p.get('label.style');var j=b.buildParentStyle(i,p.get('label.parentStyle'));e={propStyle:i,propParentStyle:j,isSetParentStyleProp:!!(p.get('label.parentStyle')),labelVisible:p.get('label.visible'),truncatedLabelRatioSetting:parseFloat(p.get("label.truncatedLabelRatio")),autoRotateSetting:p.get("label.rotation"),labelRenderer:p.get('labelRenderer'),defaultRotationAngle:parseInt(p.getDefault("label.angle")),rotationAngleSetting:parseInt(p.get("label.angle")),checkLabelVisible:true,labelOverlapBehavior:p.get("label.overlapBehavior")};}return e;};k.prototype._getScaleDomain=function(s){return s.getDomain();};k.prototype.mayOnlyFirstAndLastLabel=function(e,l){return e.labelVisible&&e.autoRotateSetting==="auto"&&l===1&&!this._isVertical()&&this._options.name==="categoryAxis"&&!this._isInTrellis&&e.labelOverlapBehavior==="showFirstLastOnly";};k.prototype._buildLayers=function(s,r){var e=this.getLayoutCellsConfig();var i;if(this._domainChanged||this._styleChanged||this._localeChanged||this.mayOnlyFirstAndLastLabel(e,this._rawLayers.length)){this._domainChanged=false;this._styleChanged=false;this._localeChanged=false;i=this._buildUtils.mergeLabels(this,this._getScaleDomain(s),this._bindingFieldIds,e);this._rawLayers=this._buildUtils._filter(i,this._bindingFields);this._formatLayerLabel();}var j=this._isVertical()?'height':'width';var l=this._realSize[j];var p=this.runtime().statusManager().get('plotRealSize');if(p){l=Math.max(p[j]||0,l);this.runtime().statusManager().set('plotRealSize',null);}var m=this._rawLayers;this._buildUtils.assignCellSize(this,m,this._getCellsRange(s),l);var n=s.getRange();if(this._needExtened&&this._otherSize){e.otherSize=this._otherSize;}if(this._options.name==="categoryAxis"&&this._isHorizontal()&&!this._isInTrellis&&m.length===1&&e.rotationAngleSetting===0){var w=this._getWrapText();if(w>1){e.wrap=w;}}e.isFlexibleLayers=this.isFlexibleLayers();e.isAllowEmptySegement=this.isAllowEmptySegement();e.paginationOptions=this.paginationOptions();e.refSize=r;this._buildUtils.layoutCells(this,m,[0,n[1]*l],e);this._isOnlyShowingFirstAndLastLabel=false;if(this.mayOnlyFirstAndLastLabel(e,m.length)&&this.willHaveTruncationOrRotation(m)){delete e.wrap;i=this._buildUtils.mergeLabels(this,this._getScaleDomain(s),this._bindingFieldIds,e,true);this._rawLayers=this._buildUtils._filter(i,this._bindingFields);this._formatLayerLabel();this._buildUtils.layoutCells(this,m,[0,n[1]*l],e,true);this._isOnlyShowingFirstAndLastLabel=true;}if(this.isFlexibleLayers()){this._buildUtils.flexibleLayoutLayers(m,this._isVertical(),Infinity,this.isAllowEmptySegement());}return this._buildUtils.getVisibleLayers(this,m);};k.prototype.isOnlyShowingFirstAndLastLabel=function(){return this._isOnlyShowingFirstAndLastLabel;};k.prototype.willHaveTruncationOrRotation=function(l){var e=l[0];if(e.rotated){return true;}var i=e.cells;var j,m;for(j=0;j<i.length;j++){m=i[j];if(m._preferredSize.textSize&&m._preferredSize.textSize.width>m.cellWidth){return true;}}return false;};k.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(e&&e.getPaginationOptions){p=e.getPaginationOptions();}return p;};k.prototype._getWrapText=function(){var w=1;if(!this._isRTL()){w=parseInt(this._properties.get('label.linesOfWrap'));if(isNaN(w)||w<1){w=1;}else if(w>M){w=M;}}return w;};k.prototype._formatLayerLabel=function(){};k.prototype.layout=function(){if(!(this._layers&&this._layers.length)){return;}var e=this._isVertical()?this._size.width:this._size.height;var l=this._layers[0],j,m,i;if(e<l.layerBand&&e>=l.minLayerBand){j=l.cells;for(i=-1;++i<j.length;){m=j[i];if(this._isVertical()){if(m.cellWidth>0){m.cellWidth=e;}}else{if(m.cellHeight>0){m.cellHeight=e;}}}}};k.prototype._needRowAxisOffset=function(){return false;};k.prototype.statusChanged=function(s){if(s===S.LOCALE_CHANGED){this._localeChanged=true;}};k.prototype._needExtened=function(){var l=this._layers,n;var s=this._isVertical()?'height':'width';var e=this._realSize[s];if(l&&l.length>0){n=(l[0].rotated&&l[0].rotationAngle!==V);}else{n=false;}return n;};k.prototype.getLabelOffsetByCtx=function(e){if(!this._layers){this._layers=this._buildLayers(this._data);}var i=this._layers[this._layers.length-1];var j;i.cells.forEach(function(l){var r=true;for(var m in l.ctx){if(e[m]!==l.ctx[m]){r=false;break;}}if(r){j=l.id;}});if(j!==undefined){var l=this._cellDict[j];var p={start:l.cellStart,width:l.cellWidth,height:l.cellHeight};if(this._isHorizontal()){return{x:-(p.start+p.width-this.getSize().width)};}else{return{y:-(p.start+p.height-this.getSize().height)};}}else{return null;}};return k;});define('sap/viz/chart/components/axis/renderer/CategoryBodyRenderer',["sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer",],function(O){return O;});define('sap/viz/chart/components/axis/sub/CategoryAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/OrdinalCommonAxisBody","sap/viz/chart/components/axis/renderer/CategoryBodyRenderer","sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/SVG'],function(o,O,C,D,S){var a=function(){a.superclass.constructor.apply(this,arguments);this.setBodyRenderer(new C());if(this._properties.has("layout.categoryWidth")){this._properties.set("layout.categoryWidth",function(){if(this._realSize.width>0&&this._data&&this._data._domain&&this._data._domain.length>0){return this._realSize.width/this._data._domain.length;}else{return 0;}}.bind(this),true,"get");}if(this._properties.has("layout.offsetToChart")){this._properties.set("layout.offsetToChart",function(){if(!this._selection){return 0;}var n=this._selection.node();while(!D.hasClass(n,"v-m-root")&&!D.hasClass(n,"v-m-categoryAxis")){n=n.parentNode;}if(D.hasClass(n,"v-m-categoryAxis")){var t=S.getTransformToElement(n,n.ownerSVGElement);if(t){return t.e;}}else{return 0;}}.bind(this),true,"get");}};o.extend(a,O);a.prototype._setOtherSize=function(b){this._otherSize=b;this._deltaBound={'width':0,'height':0,'x':0,'y':0};if(this._otherSize){var c=[this._otherSize.valueAxis,this._otherSize.categoryAxis2,this._otherSize.leftCallouts];for(var i=0;i<c.length;i++){if(c[i]&&c[i].width>0){this._deltaBound.width=c[i].width;this._deltaBound.x=-c[i].width;}}}return this;};return a;});define('sap/viz/chart/components/accessibility/CategoryAxisNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function(o,C,O,T){function a(c){a.superclass.constructor.apply(this,arguments);this._categoryLabels=[];if(T.isFunction(c.cells)){this._cells=c.cells;}else{this._cells=this.layers2cells(c.cells);}}o.extend(a,C);var p=a.prototype;var b=function(c){if(!c.visibleSpace){var v=0;if(c.children&&c.children.length){var i;for(i=0;i<c.children.length;i++){if(c.children[i].isVisible===undefined||c.children[i].isVisible===true){v+=b(c.children[i]);}}}if(v<=0){v=1;}c.visibleSpace=v;}return c.visibleSpace;};p.layers2cells=function(l){var c=[];for(var i=0;i<l.length;++i){c[i]=[];var s=0,d=0;for(var j=0;j<l[i].cells.length;++j){if(l[i].cells[j].isVisible){var e=l[i].cells[j];var v=b(e);c[i].push(e);e.spaceStart=s;e.spaceEnd=s+v-1;s+=v;e.index={row:i,col:d++};this._categoryLabels[e.id]={};this._categoryLabels[e.id].index=e.index;}}}return c;};p.init=function(){};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._cells=null;this._categoryLabels=null;};p.up=function(i){if(this.isSingleLayer()||!this._isVerticalRender){return this.getSiblingCell(i,-1);}else{return this.getFirstChildCell(i);}};p.down=function(i){if(this.isSingleLayer()||!this._isVerticalRender){return this.getSiblingCell(i,1);}else{return this.getParentCell(i);}};p.left=function(i){if(this.isSingleLayer()||this._isVerticalRender){return this.getSiblingCell(i,-1);}else{return this.getParentCell(i);}};p.right=function(i){if(this.isSingleLayer()||this._isVerticalRender){return this.getSiblingCell(i,1);}else{return this.getFirstChildCell(i);}};p.getCategoryLabelNode=function(i){return this._categoryLabels[i].cl;};p.getCells=function(){if(T.isFunction(this._cells)){return this.layers2cells(this._cells());}else{return this._cells;}};p.getCell=function(i){var c=this._categoryLabels[i].index;return this.getCells()[c.row][c.col]||null;};p.getSiblingCell=function(i,d){var c=this._categoryLabels[i].index;var s=this.getCells()[c.row][c.col+d];return s?s:null;};p.getFirstChildCell=function(c){var d=this._categoryLabels[c].index;var e=this.getCells()[d.row+1];if(!e){return null;}var f=this.getCells()[d.row][d.col];var i;for(i=0;i<e.length;++i){if(f.spaceStart==e[i].spaceStart){return e[i];}}};p.getParentCell=function(c){var d=this._categoryLabels[c].index;var e=this.getCells()[d.row-1];if(!e){return null;}var f=this.getCells()[d.row][d.col];var i;for(i=0;i<e.length;++i){if(f.spaceStart>=e[i].spaceStart&&f.spaceEnd<=e[i].spaceEnd){return e[i];}}};p.getFirstStartPoint=function(){var c=this.getCells();return c[c.length-1][0];};p.isSingleLayer=function(){return this.getCells().length==1?true:false;};p.updateCells=function(l){this._categoryLabels=[];this._cells=this.layers2cells(l);};p.findCell=function(d,e){if(!d){return null;}var f=this.getCells();for(var c,i=0,l=f.length;i<l;i++){for(var j=0,L=f[i].length;j<L;j++){c=this._cells[i][j];if(O.deepEqual(c.ctx,d)){return c;}}}return null;};return a;});define('sap/viz/chart/components/axis/CategoryAxis',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/scales/CategoryScale","sap/viz/chart/components/axis/sub/CategoryAxisBody","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/CategoryAxisNavigator","sap/viz/chart/components/util/ChartConstants"],function(C,a,A,b,c,D,d,L,N,T,f,g,I,h){var M="measureNames";var j=function(r,o){j.superclass.constructor.apply(this,arguments);this._hasNegativeValue=null;this._isAxisBodyOptional=false;this._isInTrellis=false;this._needOtherSize=true;this._otherSize=null;this._setAxisBody(r,o);};a.extend(j,A);j.prototype.addARIATag=function(r){r.attr('role','listbox');};j.prototype._setAxisBody=function(r,o){this.setChild("axisBody",new c(r,o),{order:1,priority:2,offset:0});};j.prototype.setInTrellis=function(_){this._isInTrellis=_;this.getChild("axisBody").module.setInTrellis(_);};j.prototype.setData=function(e,i,p){j.superclass.setData.call(this,e);this._hasNegativeValue=i;if(e.scale){this._scale=e.scale;}};j.prototype.isAxisBodyOptional=function(e){this._isAxisBodyOptional=e;};j.prototype._getTitle=function(){var t=j.superclass._getTitle.call(this);if(this._isAxisBodyOptional){t.noNeedApplyHiddenTitleColor=true;}return t;};j.prototype.getMaxZoomRatio=function(){var r=Number.MAX_VALUE;if(this._scale&&this._scale.getRangeInterval().length){var i=this._scale.getRangeInterval();var e=Math.abs(i[0][0]-i[0][1]);r=1/e;}return r;};j.prototype.setVisibleWindow=function(s,p){var e=this.getChild("axisBody");if(e&&e.module){e.module.setVisibleWindow(s,p);}};j.prototype._updateData=function(i){j.superclass._updateData.apply(this,arguments);if(!this._scale){return;}var e=this.getChild("axisBody").module;var s=e.getSize();var r=e.getSize();if(this._isVertical()){s.height=this._size.height;r.height=i.height;}else{s.width=this._size.width;r.width=i.width;}if(!this._isAxisBodyOptional){e.setSize(s).setRealSize(r).setData(this._scale).setBindingFields(this._bindingFields).setHasNegativeValue(this._hasNegativeValue);}if(this._needOtherSize){e._setOtherSize(this._otherSize);}};j.prototype._constructTitle=function(e,t){if(e.length>0){var k=e.filter(function(o){return!o.invisible;}).map(function(o){var p=o.name||o.id;if(p===M){p=L.get("IDS_DEFAULTMND");}return p;});t.splice(0,t.length);var l="";var m="";for(var i=0;i<k.length;i++){if(i===0){m=k[i];}else{m=" / "+k[i];}l+=m;var n={};n.isHidden=false;n.text=m;t.push(n);}return l;}};j.prototype.getLabelOffset=function(){var l=this._children.axisBody.module._getAvailableLayers();var i=l[l.length-1];var k;if(i){k=i.cells;}else{return 0;}var m;k.some(function(e){if(e.isVisible===true){m=e.middle;return true;}});var p=this._properties.get();var n=p.label.style;var t=this._getTextHeight(n);var o=this._getBaseLineOffset(n);return m-t/2+o;};j.prototype._getTextHeight=function(p){var t=T.canvasMeasure('',p['fontSize'],p['fontWeight'],p['fontFamily'],p['letterSpacing']).height;t=N.preciseSimple(t);return t;};j.prototype._getBaseLineOffset=function(p){var o=T.getTextBaselineOffset({fontSize:p['fontSize'],fontWeight:p['fontWeight'],fontFamily:p['fontFamily'],letterSpacing:p['letterSpacing']});return o;};j.prototype.isByBound=function(){return true;};j.prototype.destroy=function(){j.superclass.destroy.call(this);this._scale=null;this._hasNegativeValue=null;};j.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(e&&e.getPaginationOptions){p=e.getPaginationOptions();}return p;};j.prototype._renderSub=function(){for(var e in this._children){if(this._children.hasOwnProperty(e)){var i=this.getChild(e).module;if(!this.paginationOptions()||e!==C.AXIS.SCROLLBAR_NAME){i.render(this._selections[e]);}if(f.isFunction(i._needExtened)&&i._needExtened()&&i._deltaBound){var l=this._parent.select('.v-bound');if(l){for(var k in i._deltaBound){if(i._deltaBound.hasOwnProperty(k)){var m=(l.attr(k)?parseFloat(l.attr(k)):0)+(i._deltaBound[k]?parseFloat(i._deltaBound[k]):0);l.attr(k,m);}}}}}}};j.prototype.setSize=function(s,o){j.superclass.setSize.apply(this,arguments);if(this._needOtherSize){this._otherSize=o;}return this;};j.prototype.supportFixedLayout=true;g.register(h.CATEGORYAXIS_NAVIGATOR,null,I);return j;});define('sap/viz/chart/components/plots/XYPlotFactory',[],function(){var p={};return{getPlotClazz:function(r){var c=p[r];return c&&c.plotClazz;},registerClazz:function(r,a){p[r]={plotClazz:a};}};});define('sap/viz/chart/components/zoom/ZoomLimit',[],function(){var b=/(bar|column|combination|bullet|waterfall)/;var i=b.test.bind(b);function B(m,d){var p=m.plot,a=p.isHorizontal(),c=p._properties,s=a?"height":"width",e,f;var g=p.getSize()[s];f=m.main._isTruncatedWindowInput?p.getRealSize()[s]:0;e=(Math.max(p.getRealSizeByFixedDPSize(c.get("dataPointSize.max")),f))/g;return[1,Math.max(e,1)];}function R(m,a){var c=a.split("").reduce(function(l,d){return l.concat(m.axisByDirection[d]);},[]),e=c.map(function(d){return d?d.getMaxZoomRatio():Number.MAX_VALUE;});return[1,Math.max(Math.min.apply(null,e),1)];}return{Bar:B,Regular:R,byChart:function(m,d){var f=i(m.main._renderType)?B:R;return f(m,d);}};});define('sap/viz/chart/components/zoom/XYZoomer',["sap/viz/chart/components/zoom/ZoomLimit","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/Constants'],function(Z,P,U,T,C){var a=["plotArea.isFixedDataPointSize","interaction.zoom.direction","interaction.zoom.enablement","plotArea.gap","plotArea.markerRenderer","plotArea.dataLabel.renderer","plotArea.lineRenderer","plotArea.line.lineRenderer","plotArea.window.start","plotArea.window.end","plotArea.dataPointSize","general.groupData","interaction.syncValueAxis","interaction.noninteractiveMode","timeAxis.interval","plotArea.scrollbar.visible","plotArea.series"];function X(b){var r=b.runtime();this._runtime=r;this._props=r.propertyManager().proxy("interaction.zoom");this._status=r.statusManager();this._limit={x:{},y:{}};this._status.add({"plot.zoom.direction":{readonly:true,serializable:false,get:this.direction.bind(this)},"plot.zoom.enabled":{readonly:true,serializable:false,get:this.enabled.bind(this)},"plot.zoom.limit":{readonly:true,serializable:false,get:this.limits.bind(this)},"plot.zoom.currentZoomLevel":{readonly:true,serializable:false,get:this.calcCurrentZoomLevel.bind(this)}});var t=this;function _(n,o){if(n!==o){t._status.set('zooming',false);r.fireInteractionEvent("discardSavedZoom");}}this._watchers=a.map(function(p){return r.propertyManager().watch(p,_);});function c(n,o){var s=["timeseries_column","timeseries_line","timeseries_combination","timeseries_bullet"];if(!T.equals(n,o)&&s.indexOf(b._renderType)>-1){t._status.set('zooming',false);r.fireInteractionEvent("discardSavedZoom");}}this._watchers.push(r.propertyManager().watch("timeAxis.levels",c));}X.prototype.calcCurrentZoomLevel=function(){return P._calcCurrentZoomLevel(this._status);};X.prototype.enabled=function(){switch(this._props.get("enablement")){case"enabled":return true;case"auto":return U.isMobile();default:return false;}};X.prototype.direction=function(){if(!this.enabled()){return"";}switch(this._props.get("direction")){case"all":return"xy";case"categoryAxis":return this._modules.isHorizontal?"y":"x";default:return"";}};X.prototype.limits=function(){return this._limit;};X.prototype.init=function(m){this._modules=m;};X.prototype.destroy=function(){this._status.remove("plot.zoom.enabled");this._status.remove("plot.zoom.direction");this._status.remove("plot.zoom.limit");this._status.remove("plot.zoom.currentZoomLevel");this._watchers.forEach(function(w){w.remove();});this._watchers=[];this._plotNode=null;};X.prototype.reset=function(s){this._plotNode=s.plot.node().querySelector("."+P.ZOOM_CONTAINER_CLASS);if(this.enabled()){this._limit=this._calcZoomLimit(this._modules,this.direction());}};X.prototype.zoom=function(r,p,n,m,i){if(!i){P.applyZoom(r,p,this._plotNode,this._status,this._runtime,n,m);}else{P.applyZoom(r,p,this._plotNode,this._status,null,n,m);}};X.prototype.zoomInOut=function(i,p,n,m){var r=this._status.get("plot.transform.scale"),l=this.limits();if(!n){n=C.ZOOM.DEFAULT_ZOOM_LEVEL_STEPS;}if(!m){m=C.ZOOM.DEFAULT_ZOOM_LEVEL_MINOFFSET;}var b=P.zoomInOut(i,r,l,n,m);this.zoom(b,p,n,m);};X.prototype._calcZoomLimit=function(m,d){var l={x:{},y:{}},p=Z.byChart(m,d);l.x.min=p[0];l.x.max=p[1];l.y.min=p[0];l.y.max=p[1];return l;};return X;});define('sap/viz/chart/components/datalabels/DataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ColorUtils",'sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants',"sap/viz/framework/common/format/FormatManager",'sap/viz/framework/common/format/UnitFormat','sap/viz/chart/components/UIComponent',"sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/RuleUtil",'sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/FiscalUtil',"sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/lang/LangManager"],function(o,T,C,S,D,c,d,F,U,e,f,g,R,O,h,G,l){function n(a){var b=S.create("text");b.textContent=a.text;c.setCustomizationInfo(b,{'defaultRenderer':true});return b;}n.expose={renderer:n};var p=d.CSS.CLASS;var q=d.CSS.CLASS.DATALABEL+" "+d.CSS.CLASS.MORPHABLELABEL,r=d.CSS.CLASS.DATALABEL_GROUP,s="g";function t(a,b,i,j){var k=i.analyzeDataPointDataLabel(a,j),m=O.extend(true,{},b);if(k&&k.hasOwnProperty("dataLabel")){if(k.dataLabel instanceof Object&&k.dataLabel.hasOwnProperty("visible")){m.visible=k.dataLabel.visible;}else{m.visible=!!k.dataLabel;}}return m;}var u=function(a,b){u.superclass.constructor.apply(this,arguments);this._options=b;this._labelPosition="up";this._horizontal=b.horizontal;this._ignoreEmptyDataLabel=false;this._isTrellis=false;this._trellisCellSize=null;this._trellisPadding=null;};o.extend(u,e);u.prototype.setDataShapesGroupNode=function(a){this._dataShapesGroupNode=a;};u.prototype._getDataLabelInfo=function(a){var b=this._data&&this._data.rawData&&this._data.rawData.dataModel;var i=f.getContextByDataModel(a,b);return{key:i.measureNames,value:i[i.measureNames]};};u.prototype._processDataLabelRendererConfig=function(a,b){var i=a.dpBBox||G.getBBox(b);a.dataPointWidth=i.width;a.dataPointHeight=i.height;};u.prototype._getMarkFromNode=function(a){return null;};u.prototype._getDataLabelSizeFromMark=function(m){if(!m){return null;}var b=G.getBBox(m);return{width:b.width,height:b.height};};u.prototype._computeDataLabelPosition=function(a,b,i,j,k,m){var x,y;var H=b.x+a.e;var I=b.y+a.f;if(i==="up"||i==="down"||i==="inside"){x=(H+b.width/2)-(j.x+j.width/2);if(i!=="inside"){y=I-(j.y+j.height);if(i==="down"){y+=b.height;}}}if(i==="left"||i==="right"||i==="inside"){y=(I+b.height/2)-(j.y+j.height/2);if(i!=="inside"){x=H-(j.x+j.width);if(i==="right"){x+=b.width+j.width;}}}return[x,y];};u.prototype.needForceInner=function(a){return true;};u.prototype._forceInner=function(a,b,i,j){var k=d.DATALABEL.BOUND_OFFSET;var m=this.getBound();if(a&&a.length>1&&this.needForceInner(i,j)){if((a[0]+b.x+b.width)>(m.width+m.left)){a[0]=(m.width+m.left)-k-b.width-b.x;}if((a[0]+b.x)<m.left){a[0]=m.left+k-b.x;}if((a[1]+b.y+b.height)>(m.height+m.top)){a[1]=(m.height+m.top)-k-b.height-b.y;}if((a[1]+b.y)<m.top){a[1]=m.top+k-b.y;}}};u.prototype._computeDataLabelTranslate=function(a,b,i,j,k){var m=this._computeDataLabelPosition(b,this._fixBBoxWhenInvisible(a,k&&k.dpBBox),i,j,k,a);this._forceInner(m,j,i,k);return m;};u.prototype._fixBBoxWhenInvisible=function(a,b){var i=b||G.getBBox(a);var j={"height":i.height,"width":i.width,"y":i.y,"x":i.x};var k=a.querySelector&&a.querySelector(".v-clippath");if(k){var m=G.getBBox(k);j={"height":m.height,"width":m.width,"y":m.y,"x":m.x};if(j.height===0&&j.width===0){j.height=k.getAttribute("height")!=null?+k.getAttribute("height"):0;j.width=k.getAttribute("width")!=null?+k.getAttribute("width"):0;j.x=k.getAttribute("x")!=null?+k.getAttribute("x"):0;j.y=k.getAttribute("y")!=null?+k.getAttribute("y"):0;}}if(j.height!==0||j.width!==0){return j;}var x=a.childNodes;for(var y=0,H=x.length;y<H;y++){var I=+x[y].getAttribute("height");var J=+x[y].getAttribute("width");if(I>j.height){j.height=I;}if(J>j.width){j.width=J;}}return j;};u.prototype._getStyle=function(a){var b;if(a){b=c.getData(a);}var i=this._properties;var j=C.getColorFromEffectManager(i.get('style.color'),this._runtime.effectManager(),b?b.color:"#000000");var k=this.runtime().effectManager().register({fillColor:j});return{"fill":k,"font-family":i.get('style.fontFamily'),"font-size":i.get('style.fontSize'),"font-weight":i.get('style.fontWeight'),"font-style":i.get('style.fontStyle'),"cssString":"fill:"+k+";font-family:"+i.get('style.fontFamily')+";font-size:"+i.get('style.fontSize')+";font-weight:"+i.get('style.fontWeight')+";font-style:"+i.get('style.fontStyle')+";"};};u.prototype.respectShapeWidth=function(a){};u.prototype.truncateText=function(a){};u.prototype.sortDataLabelInfos=function(i){i.sort(function(a,b){var j=0;if(a.dataPoint&&b.dataPoint){j=f.getDataId(a.dataPoint)-f.getDataId(b.dataPoint);}return j;});};u.prototype.hideLabelsWhenOutOfPlotArea=function(a,b){var i=a.length;for(var k=0;k<i;k++){var j=a[k];if(j.left<b.left||j.right>b.width||j.top<b.top||j.bottom>b.height){j.skip=true;}}};u.prototype.getBound=function(){return{left:0,width:this._realSize.width,top:0,height:this._realSize.height};};u.prototype.hideConditional=function(a){var b=this.getBound();this.sortDataLabelInfos(a);this.hideLabelsWhenOutOfPlotArea(a,b);this.detectAndRemoveOverlappedDataLabel(a);};u.prototype.detectAndRemoveOverlappedDataLabel=function(a){var b=parseFloat(this._properties.get('style.fontSize'));var k=b*d.DATALABEL.HORIZONTAL_OVERLAPPING_PADDING;var m=a.length;var i;var j;for(i=m-1;i>=0;--i){var x=a[i];if(x.skip){continue;}for(j=i-1;j>=0;--j){var y=a[j];if(!y.skip){y.skip=!((x.left>=(y.right+k))||(x.top>=y.bottom)||(x.right<=(y.left-k))||(x.bottom<=y.top));}}}for(i=a.length-1;i>=0;i--){if(a[i].skip){D.remove(a[i].node);a.splice(i,1);}}};u.prototype.isDataLabelWidthOutOfDataPoint=function(a,b){var i=true;var j=a.getBoundingClientRect();var k=b.getBoundingClientRect();if((j.left>=k.left)&&(j.right<=k.right)){i=false;}return i;};u.prototype._isKeepMND=function(){return true;};u.prototype.isDataLabelOutOfDataPoint=function(a,i){var b=true,j=a.getBoundingClientRect(),k=i.dataPoint.getBoundingClientRect();if((j.left>=k.left)&&(j.top>=k.top)&&(j.right<=k.right)&&(j.bottom<=k.bottom)){b=false;}return b;};u.prototype.intersectResult=function(a,b,i,j){return null;};u.prototype.indexOfDataLabelIntersectDataPoints=function(a,b,j,k){var m=-1;var i;var x=this.intersectResult(a,b,j,k);if(!x||(!x.intersected&&!x.hitPoint)){for(i=0;i<b.length;i++){if(j[i]!==k){var y=b[i];if(!(a.left>y.right||a.right<y.left||a.top>y.bottom||a.bottom<y.top)){m=i;break;}}}}return m;};u.prototype._setDataLabelColor=function(i,a,b,j,k){if(!j||a==='outside'){var m=this.isDataLabelOutOfDataPoint(i.node,i);var x=null;if(j&&a==='outside'&&!m){x=k||"#000000";}else if(!j){x=(m?b:k)||"#000000";}if(x){j=g.getDataLabelColor(x);var y=this.runtime().effectManager().register({fillColor:j});i.node.setAttribute("fill",y);}}};u.prototype.updateColor=function(a,b){var i=this._properties.get('style.color');var j=this._properties.get("style.colorRange");for(var k=0;k<a.length;k++){var m=a[k];if(m.node){this._setDataLabelColor(m,j,b,i,m.referColor);}}};u.prototype.drawZero=function(){return true;};u.prototype.setTrellisCell=function(a,b){this._isTrellis=true;this._trellisPadding=a;this._trellisCellSize=b;};u.prototype.updatePosition=function(a,b){var j=a.node();var k=j.querySelector("."+r);var m={};var H={};if(k){var I=j.querySelector("g."+p.DATAPOINT_GROUP);var J=[];var K=k.querySelectorAll(".v-datalabel");for(var i=0,L=K.length;i<L;i++){var M=K[i];var N=c.getData(M).id;var P=f.find(I,N);if(!P){D.remove(M);continue;}var Q=f.getDataPointId(P);var V=this._getStyle(P);J.push(N);var W=f.getContext(P),X=this._getDataLabelInfo(P),Y=d3.select(M).text();var Z={dataLabelInfo:X,val:X.value,text:Y,ctx:W,styles:V,horizontal:this._horizontal,plotSize:this.getSize()};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(P);}this._processDataLabelRendererConfig(Z,P);m[Q]=Z;var $=G.getBBox(M);var _=this._computeDataLabelTranslate(P,S.getTransformToElement(P,j),this._labelPosition,$,Z);if(_){H[Q]={trans:_,bbox:$};var x=_[0],y=_[1];M.setAttribute("transform","translate("+x+","+y+")");}else{D.remove(M);continue;}}if(b){var a1=b.filter(function(P){return J.indexOf(f.getDataId(P))===-1;});if(a1.length){var b1=this._beforeRender(a1);this._render(a,b1);}}}this._afterRender(a,m,H);};u.prototype._removeExtraNodes=function(a){var b=a.node();var j=b.querySelector("."+r);if(j){var k=b.querySelector("g."+p.DATAPOINT_GROUP);var m=f.findAll(k);var x=j.querySelectorAll("."+d.CSS.CLASS.DATALABEL);var y={};var i,H;for(i=0;i<x.length;++i){y[f.getDataPointId(x[i])]=x[i];}for(i=0;i<m.length;++i){var I=f.getDataPointId(m[i]);if(y[I]){delete y[I];}}for(var J in y){if(y[J]){j.removeChild(y[J]);}}}};u.prototype.render=function(a,b){this._removeExtraNodes(a);b=b||f.findAll(this._dataShapesGroupNode)||[];var i=this._beforeRender(b);this._render(a,i);this._afterRender(a);};u.prototype._beforeRender=function(a){var b=this._properties.get();var i=this.runtime().semanticManager();var j;if(i.hasDataPointDataLabelStyle()){var k=this._data.rawData.dataModel;j=Array.prototype.slice.call(a).filter(function(m){var x=f.getDataPointId(m);var y=k.getDataPoint(x);return t(y.context(),b,i,y.additionCtx()).visible;});}else{if(b.visible){j=a;}}return j;};u.prototype._afterRender=function(a,b,j){var k=this._isVisible();if(!k&&!this.runtime().semanticManager().hasDataPointDataLabelStyle()){return;}var m=[];var x=a;var y=a.node().querySelectorAll("."+d.CSS.CLASS.DATAPOINT);for(var i=0;i<y.length;i++){var H=y[i];var I=this._getStyle(H);var J=f.getDataPointId(H);var K=a.selectAll("g.v-datalabel[data-datapoint-id='"+J+"']").node();if(K){var L=b&&b[J];var M;if(!L){var N=f.getContext(H),P=d3.select(K).text();M=this._getDataLabelInfo(H);L={val:M.value,text:P,ctx:N,styles:I,horizontal:this._horizontal,plotSize:this.getSize(),zeroLineAdjust:true};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(H);}this._processDataLabelRendererConfig(L,H);}else{M=L.dataLabelInfo;}var Q=j&&j[J]&&j[J].trans;var V=j&&j[J]&&j[J].bbox;if(!Q){V=G.getBBox(K);Q=this._computeDataLabelTranslate(H,S.getTransformToElement(H,x.node()),this._labelPosition,V,L);}if(Q){m.push(B(x.node(),K,H,Q,M,V));}}}if(m){this.truncateText(m);var W=this._properties.get('hideWhenOverlap');if(W){this.hideConditional(m,y);}var X=a.node();var Y=g.getBackgroundColor(X);this.updateColor(m,Y);this.renderDataLabelLine(m);}};u.prototype.renderDataLabelLine=function(a){};u.prototype._render=function(a,b){var k=a.node();var H=this._size;var I=this._properties;var J=I.get('visible');if(!J&&this.runtime().semanticManager().hasDataPointDataLabelStyle()){J=b.length>0;}if(J){var K=this._isKeepMND();var L=k.querySelector("."+r);if(!L){L=S.create(s,k);L.setAttribute("class",r);}var M=null;var N=this.runtime().envManager();if(N){M=N.textAnchor();}L.setAttribute("text-anchor",M);var P=I.get('renderer')||n;var Q=I.get('hideWhenOverlap');var V;var W=L.querySelectorAll("."+d.CSS.CLASS.DATALABEL);var X=this._runtime.statusManager().get("dynamicScale");var Y=this.runtime().statusManager().get("data.unit")||{};for(var i=0,Z=b.length;i<Z;i++){var $=b[i];var _=this._getStyle($);var a1=this._getDataLabelInfo($);var b1=false;V=I.get('formatString');if(!V&&this._data&&this._data.rawData){V=this._formatStrFromMetadata(this._data,this._data.rawData.dataModel._bindingFeeds,a1.key);b1=true;}var c1=f.getContext($);var d1=Y[a1.key];a1.unit=d1;a1.keepMND=K;a1.dynamicScale=X;var e1=this._buildDataLabelText(V,a1,c1,b1,$);if(this._ignoreEmptyDataLabel===true&&(e1===null||e1===undefined)){continue;}if(T.isExist(e1)&&T.isExist(e1.text)){a1.formattedValue=e1.formattedValue;e1=e1.text;}var f1=f.getDataPointId($);var g1=f.findByDataPointIds(W,f1);if(g1.length){g1=g1[0];var h1=g1.firstChild;while(h1){g1.removeChild(h1);h1=g1.firstChild;}}else{g1=S.create("g",L);f.setDataPointId(g1,f1);c.setContext(g1,c1);c.setData(g1,{"id":f.getDataId($)});g1.setAttribute("class",q);}if(!c1){c1=this._data.rawData.dataModel.getDataPoint(f1).context();}var i1={val:a1.value,text:e1,ctx:c1,info:a1,styles:_,horizontal:this._horizontal,dpBBox:G.getBBox($),plotSize:this.getSize(),zeroLineAdjust:true};this._processDataLabelRendererConfig(i1,$);var j1=P(i1,n.expose)||n(i1);if(j1){g1.appendChild(j1);for(var j in i1.styles){if(i1.styles.hasOwnProperty(j)){g1.setAttribute(j,i1.styles[j]);}}if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition($);}var k1=G.getBBox(g1);var l1=S.getTransformToElement($,k);var m1=this._computeDataLabelTranslate($,l1,this._labelPosition,k1,i1);this._renderAfterPositioning($,g1);if(!m1){g1.removeChild(j1);continue;}var x=m1[0];var y=m1[1];g1.setAttribute("transform","translate("+x+","+y+")");if(this.setExtraDataOfDataPoint){$=this.setExtraDataOfDataPoint(c,$,g1);}}}}else{if(this.removeExtraDataOfDataPoint&&b){for(var m=0,n1=b.length;m<n1;m++){var o1=b[m];this.removeExtraDataOfDataPoint(c,o1);}}}};u.prototype._formatStrFromMetadata=function(a,b,k){var j=null;if(b){b.some(function(m){if(a[m]&&a[m].metaData){for(var i=0;i<a[m].metaData.length;i++){if(a[m].metaData[i].id===k){j=a[m].metaData[i].formatString;return true;}}}});}return j;};u.prototype._renderAfterPositioning=function(){};u.buildDataLabelText=function(a,b,i,j,k,m,x,y){var H=(i.value!==null&&b!==null)?v(b,i):[];var I=m?m(a):['value'];H=k?z(H,I):H;var J=w(I,H,j,i,a,y);var K=x?x(a,J,i):J[0];return K;};u.prototype._buildDataLabelText=function(a,b,i,j,k){if(b.value===0&&!this.drawZero(k)){return null;}return u.buildDataLabelText(this._properties,a,b,i,j);};u.prototype._isVisible=function(){return this._properties.get('visible')||this._properties.get('showTotal')||this._properties.get('showRecap');};function v(a,b){var i=[];if(T.isArray(a)&&T.isArray(a[0])){i=a[0];}else if(T.isPlainObject(a)){i=a[b.key];if(!T.isArray(i)){i=[i];}}else if(!T.isArray(a)){i=[a];}else{i=a;}return i;}function w(a,b,j,k,m,x){var i,y,H,I,J,K=[];var L=0;for(i=0;i<a.length;i++){J=a[i];if(A(J)){H=k.value;I=k.percentage;y=b[i-L];var M;var N=k.dynamicScale;if(H!==null){if(J==='date'){if(h.hasFiscalLevel(m&&m.origin)){k.formattedValue=H;}else{k.formattedValue=F.format(new Date(H),"dd/mm/yyyy hh:mm");}}else{var P={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};M=N&&N.getScaleFactor(k.key);var Q=m.get('unitFormatType');k.formattedValue=(M||U).format(H,y,Q,P);if(M&&N.showSymbolOnDatalabel){k.formattedValue+=M.symbol;}}}else{k.formattedValue=l.get("IDS_ISNOVALUE");}if(I!==null){k.formattedPercentage=U.format(I,y||F.getPercentagePattern(1),m.get('unitFormatType'),U.SUPPORT_CUSTOM_COMPONENTS.DATALABEL);}if(k.unit&&(!M||N.showUnitOnDataLabel)){k.formattedValue+=" "+k.unit;}if(J==='percentage'){H=k.formattedPercentage;}else{H=k.formattedValue;}K.push(H);}else{if(x){K.push(x(j,k));L++;}}}return K;}function z(a,b){var m;if(b.indexOf('percentage')>-1&&b.indexOf('value')===-1){m=[a[1]];}else{m=a;}return m;}function A(a){if(a==='valueAxis'||a==='valueAxis2'||a==='bubbleWidth'||a==='value'||a==='percentage'||a==='date'){return true;}else{return false;}}u.getFirstFormatPattern=function(a,b){return v(a,b)[0];};u.prototype.destroy=function(){u.superclass.destroy.call(this);this._labelPosition=null;this._dataShapesGroupNode=null;this._isTrellis=null;this._trellisCellSize=null;this._trellisPadding=null;};function B(a,b,i,j,k,m){var x=j[0],y=j[1];var H=S.getTransformToElement(i,a);var I=E(a,i);return{node:b,referColor:I,dataPoint:i,center:{x:H.e,y:H.f},info:k,left:x+m.x,right:x+m.x+m.width,top:y+m.y,bottom:y+m.y+m.height,originalCenterX:j.originalCenterX,originalCenterY:j.originalCenterY,};}function E(a,b){var i,j=g.getBackgroundColor(a),k=c.getData(b);if(k){if(k.pattern==="noFill"){i=j;}else{var m=1,x=k.color;if(k.fillOpacity!==undefined){m=k.fillOpacity;}i=g.getMixedColor(x,j,m);}}return i;}return u;});define('sap/viz/chart/components/datalabels/BarDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/GeometryUtils",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/Constants'],function(o,D,T,a,b,c,G,U,S,C){var B=function(h,i){B.superclass.constructor.apply(this,arguments);this._labelPosition="outside";};o.extend(B,b);var d=" / ";var E=" ";var O="...";B.labelOffset=C.DATALABEL.HORIZONTAL_LABEL_OFFSET;B.prototype.isDataLabelOutOfDataPoint=function(h,i){var j=true;var k=h.getBoundingClientRect();var l=i.dataPoint.getBoundingClientRect();if((k.left>=l.left)&&(k.top>=(l.top-(l.height)))&&(k.right<=l.right)&&(k.bottom<=(l.bottom+(l.height)))){j=false;}return j;};B.prototype._buildDataLabelText=function(h,i,j,k){return b.buildDataLabelText(this._properties,h,i,j,k,g,m,e);};function g(p){var t=p.get('type');var r;if(t==='valueAndColor'){r=['value','color'];}else if(t==='color'){r=['color'];}else{r=['value'];}return r;}function e(h,i){var j='';if(i.colorLegendData){j=i.colorLegendData.join(d);}return j;}function m(p,h){var t=p.get('type');var i;if(t==="valueAndColor"){h=h.filter(function(k){return!(k===undefined||k===null);});i=h.slice().reverse().join(E);}else{i=h[0];}var j={formattedValue:h[0],text:i};return j;}function f(s,v,h){for(var i=0;i<s.length;++i){var k=s[i];for(var j=0;k&&j<k.length;++j){if(k[j]&&k[j][h]===v){return k[j];}}}return null;}B.getLabelSize=function(s,v,p,h,i){var j={width:0,height:0};var k=f(s,v,i||'valueAxis');if(!k){return j;}var l=k.dp.context();var n={key:l.measureNames,value:l[l.measureNames],colorLegendData:k.color};var q=p.proxy('plotArea.dataLabel');var r=b.buildDataLabelText(q,h,n,null,false,g,m,e);var t=q.get("style");j=c.fastMeasure(r.text,t.fontSize,t.fontWeight,t.fontFamily,t.fontStyle);j.width+=B.labelOffset;return j;};B.prototype.truncateText=function(h){var i;for(i=(h.length-1);i>=0;i--){var j=h[i].dataPoint;var k=h[i].node;var l=a.getData(j).dataLabelLocation;if(l==="inside"){var n=k.getBoundingClientRect();var p=j.getBoundingClientRect();if((n.width+(2*B.labelOffset))>p.width){var q=this._properties.get();var r=false;var t=k.firstChild;var s=t.textContent;var u="";if(h[i].info.colorLegendData){var v;if(q.type==="valueAndColor"){u=h[i].info.colorLegendData.join(d);v=s.substring(0,1)+O+E+s.substring(u.length+1);}else if(q.type==="color"){v=s.substring(0,1)+O;}var w=c.canvasMeasure(v,q.style.fontSize,q.style.fontWeight,q.style.fontFamily).width;if((w+(2*B.labelOffset))<p.width){r=true;}}if(r){var x=this._getStyle(j);var y={};var z=this.runtime().envManager();y.reverseDots=(z&&z.reverseDots());if(q.type==="valueAndColor"){var A=s.substring(u.length+1);var F=c.canvasMeasure((E+A),q.style.fontSize,q.style.fontWeight,q.style.fontFamily).width;var H=c.ellipsis(s,t,(p.width-(2*B.labelOffset)-F),x.cssString,y);t.firstChild.textContent=H+E+A;}else if(q.type==="color"){c.ellipsis(s,t,(p.width-(2*B.labelOffset)),x.cssString,y);}var I=G.getBBox(k);var J=S.getTransformToElement(j,j.parentNode);var K={val:h[i].info.value};var L=this._computeDataLabelTranslate(j,J,l,I,K);k.setAttribute("transform","translate("+L[0]+","+L[1]+")");h[i].left=L[0];h[i].right=h[i].left+I.width;}}}}};B.prototype.allowIntersectionCheck=function(){return false;};B.prototype.hideConditional=function(h,j){var i;var k=new Array(j.length);for(i=0;i<j.length;i++){k[i]=j[i].getBoundingClientRect();}for(i=(h.length-1);i>=0;i--){var l=h[i].dataPoint;var n=h[i].node;var p=a.getData(l).dataLabelLocation;var q=n.getBoundingClientRect();if(p==="inside"){var r=l.getBoundingClientRect();if(((q.width+(2*B.labelOffset))>r.width)||(q.height>r.height)){D.remove(n);h.splice(i,1);}}else if(!this.allowIntersectionCheck(l)){var I=this.indexOfDataLabelIntersectDataPoints(q,k,j,l);if(I!==-1){D.remove(n);h.splice(i,1);}}}return B.superclass.hideConditional.apply(this,arguments);};B.prototype._computeDataLabelPosition=function(h,s,l,i,j,n){var x,y;var k=s.x+h.e;var p=s.y+h.f;var q=a.getData(n);var r=B.labelOffset;var t=this._properties.get("position");var u=t?t:this._labelPosition;y=(p+s.height/2)-(i.y+i.height/2);if(j.val>=0){if(j.val===0||u!=='inside'){x=k+s.width+r;q.dataLabelLocation=(j.val===0&&u==='inside')?'inside':'outside';if(x+i.width>this._size.width&&u==="outsideFirst"&&j.val>0){x=k+s.width-i.width-r;q.dataLabelLocation='inside';a.setData(n,q);}if(x>this._size.width&&j.val===0){x=k-i.width-r;}}else{x=k+s.width-i.width-r;}}else{if(u!=='inside'){x=k-(i.x+i.width)-r;q.dataLabelLocation='outside';if(x<0&&u==='outsideFirst'){if(i.width+2*r>s.width){x=x+s.width;}else{x=k+r;q.dataLabelLocation='inside';}a.setData(n,q);}}else{x=k+r;}}return[x,y];};B.prototype._getDataLabelInfo=function(n){var h;h=B.superclass._getDataLabelInfo.apply(this,arguments);var i=a.getData(n);h.colorLegendData=i.colorLegendData;return h;};B.prototype._processDataLabelRendererConfig=function(h,n){B.superclass._processDataLabelRendererConfig.apply(this,arguments);var i=this._getMarkFromNode(n),s;if(i&&h.dataPointWidth===0&&h.dataPointHeight===0){s=this._getDataLabelSizeFromMark(i);if(s){h.dataPointWidth=s.width;h.dataPointHeight=s.height;}}h.horizontal=true;};B.prototype._getMarkFromNode=function(n){if(!n){return null;}var h=d3.select(n).select('rect:first-child');return h.empty()?null:h.node();};return B;});define('sap/viz/chart/components/plotareas/UpdateByTrendlineUtil',['sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/trendline/Trendline',"sap/viz/chart/scales/ValueScaleUtil"],function(O,T,V){var a={column:true,bar:true,line:true,timeseries_column:true,timeseries_line:true,horizontal_line:true,dual_column:true,dual_bar:true,dual_line:true,dual_horizontal_line:true};return function(n,r){if(a[this._renderType]){var u=T.updateValueScale(this._plot,{valueAxis:r,valueAxis2:r},n);var b=u&&Object.keys(u);if(b&&b.length>0){if(n.valueAxis&&n.valueAxis2){var v=u.valueAxis?u.valueAxis:n.valueAxis;var c=u.valueAxis2?u.valueAxis2:n.valueAxis2;V.syncTicks(v.scale,c.scale);var d=v.autoScale;var e=c.autoScale;V.syncTicks(d,e);}b.forEach(function(k){this["_"+k].setData(u[k]);n[k]=O.extend(true,{},n[k],u[k]);},this);}this._updateTrendLineAxis(n);}return n;};});define('sap/viz/chart/components/plotareas/XYPlotArea',['sap/viz/framework/common/util/oo',"sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil",'sap/viz/chart/components/callout/CalloutContainer','sap/viz/chart/components/container/XYContainer','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/CategoryAxis','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/plots/XYPlotFactory','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/zoom/XYZoomer',"sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/chart/components/plotareas/UpdateByTrendlineUtil','sap/viz/chart/scales/CategoryScale','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/SVG'],function Setup(o,V,a,C,X,b,c,P,d,f,S,U,D,T,g,j,k,l,m,N,n,B,u,p,O,q){function r(e){var h,v,i=e._plot;if(i.isHorizontal()){h=(e._renderType.indexOf("bullet")>-1?"actualValues":e._valueAxisIndex);}else{v=(e._renderType.indexOf("bullet")>-1?"actualValues":e._valueAxisIndex);}function w(){return j.offsetInValue({h:h?e._data[h].scale:null,v:v?e._data[v].scale:null},e.getOffset(),i.getRealSize());}function x(y){var z=e._data[h],A=e._data[v],E=i.getRealSize(),F={};if(!isNaN(y.x)&&z){F.x=-z.scale.scale(y.x)*E.width;}if(!isNaN(y.y)&&A){F.y=-(1-A.scale.scale(y.y))*E.height;}e.scroll(F);}return{get:w,set:x};}function s(e){function h(){var i=O.clone(e.getPlotPosition(),true);if(i){i.x+=(e._offset&&e._offset.x)||0;i.y+=(e._offset&&e._offset.y)||0;}return i;}return{get:h};}var t=function(e,h){t.superclass.constructor.apply(this,arguments);this._valueAxisIndex=h.valueAxisIndex||"valueAxis";this._init(undefined,h);e.statusManager().add("plot.offsetInValue",{serializable:false,get:r(this).get,set:r(this).set});e.statusManager().add("plot.sizeInfo",{serializable:false,get:s(this).get});};o.extend(t,X);t.prototype._isPercentageChart=function(){return(this._renderType.indexOf("100_")>=0);};t.prototype._isLineChart=function(){return(this._renderType.indexOf("line")>=0);};t.prototype._isCombinationChart=function(){return(this._renderType.indexOf("combination")>=0);};t.prototype._isMekkoChart=function(){return(this._renderType.indexOf("mekko")>=0);};t.prototype._isColumnChart=function(){return(this._renderType==="column")||(this._renderType==="combination")||(this._renderType==="timeseries_column");};t.prototype._isBarChart=function(){return(this._renderType==="bar")||(this._renderType==="horizontal_combination");};t.prototype._isStackedChart=function(){return(this._renderType==="stacked_column")||(this._renderType==="stacked_bar");};t.prototype._isHorizontal=function(){if(this._plot&&this._plot._options){return this._plot._options.isHorizontal;}};t.prototype._getPlotOptions=function(){return{valueAxisIndex:this._valueAxisIndex||"valueAxis"};};t.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};t.prototype._getDataRange=function(e,h){return this._plot._getDataRange&&this._plot._getDataRange(e,h);};t.prototype._initRenderBase=function(e){if(this._selections){return;}t.superclass._initRenderBase.apply(this,arguments);if(this._isLineChart()||this._isCombinationChart()){var h=e.node();var i=this._selections[this._categoryAxis.getName()].node();var v=q.createSVGNode("g");v.setAttribute('class',m.CSS.CLASS.DATAPOINTS_MODULE);if(h.lastChild===i){h.appendChild(v);}else{h.insertBefore(v,i.nextSibling);}}};t.prototype._init=function(e){var h=this.runtime();this._plot=P.create(this._renderType,this._getPlotClazz(this._renderType),h,this._getPlotOptions(this._renderType));this.setChild("plot",this._plot,{position:"center"});var i=this._plot.isHorizontal();this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var c=this._getCategoryAxisClass();var v;var w=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(['bottom','top','left','right']);this._categoryAxis=new c(h,{name:"categoryAxis"});this._categoryAxis.setPosition("left");this.setChild("categoryAxis",this._categoryAxis,{position:"left"});v=this._valueAxisIndex==="valueAxis"?"bottom":"top";var x=w;if(e){v=e.valueAxisPosition;x=e.valueAxisScrollbar;}this._valueAxis=new b(h,{name:this._valueAxisIndex,hasScrollbar:x,valueAxes:this._valueAxes});this.setChild(this._valueAxisIndex,this._valueAxis,{position:v});if(x){this._hScrollbar=this._valueAxis.getChild(m.AXIS.SCROLLBAR_NAME).module;}}else{this.setLayoutSequence(['left','right','bottom','top']);this._categoryAxis=new c(h,{name:"categoryAxis",hasScrollbar:w});this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});v=this._valueAxisIndex==="valueAxis"?"left":"right";this._valueAxis=new b(h,{name:this._valueAxisIndex,valueAxes:this._valueAxes});this.setChild(this._valueAxisIndex,this._valueAxis,{position:v});if(this._properties.get("plotArea.callout.left")){this._leftCallouts=new C(h,{name:"plotArea.callout",position:"left"});this.setChild("leftCallouts",this._leftCallouts,{position:"left",priority:1,unique:true});}if(this._properties.get("plotArea.callout.top")){this._topCallouts=new C(h,{name:"plotArea.callout",position:"top"});this.setChild("topCallouts",this._topCallouts,{position:"top"});}if(w){this._hScrollbar=this._categoryAxis.getChild(m.AXIS.SCROLLBAR_NAME).module;}}if(w){this._vScrollbar=new S(h,{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"});}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis]},isHorizontal:i});};t.prototype._getCategoryAxisClass=function(){return c;};t.prototype.layout=function(e,h){if(e&&e._paginationScrollbar){this._paginationScrollbarRef=e._paginationScrollbar;}else{this._paginationScrollbarRef=null;}this._offset=h;return t.superclass.layout.apply(this,arguments);};t.prototype.destroy=function(){t.superclass.destroy.call(this);this._plot=null;this._hScrollbar=null;this._categoryAxis=null;this._valueAxis=null;this._vScrollbar=null;this._leftCallouts=null;this._topCallouts=null;};t.prototype._adjustScale=function(e){var h=this._properties.get("plotArea.adjustScale");if(l.isExist(h)){if(!e.isFixed()&&h&&this._isLineChart()){e.setZeroAdjusted(false);}}};t.prototype._calcValueAxisScale=function(e,h,i){var v=this._data[e].scale;this._adjustScale(v);return f.calcScale(v,h,{isLineChart:this._isLineChart(),isMekkoChart:this._isMekkoChart(),domain:i});};t.prototype._calcPercentageValueAxisScale=function(e){return f.calcPercentageScale(e);};t.prototype.setData=function(e){t.superclass.setData.apply(this,arguments);var h=this.updateValueScale();if(h){this._setAxisData(h);this._setPlotData(h);}if(this._leftCallouts){this._leftCallouts.setData(e);}if(this._topCallouts){this._topCallouts.setData(e);}};t.prototype._postRender=function(){t.superclass._postRender.apply(this,arguments);var e=this._plot,h=e.getSize();var i=e.getRealSize();var v=this._plot._selection.node();var w=this._plot._getDpPlotNode();if(this._leftCallouts){this._leftCallouts.postRender(v,h,i,w);}if(this._topCallouts){this._topCallouts.postRender(v,h,i,w);}};t.prototype.zoom=function(){t.superclass.zoom.apply(this,arguments);var e=this._plot.getRealSize();var h=this._plot._getDpPlotNode();if(this._leftCallouts){this._leftCallouts.setPlotRealSize(e);this._leftCallouts.afterPlotZoom(h);}if(this._topCallouts){this._topCallouts.setPlotRealSize(e);this._topCallouts.afterPlotZoom(h);}};t.prototype._scroll=function(e){t.superclass._scroll.apply(this,arguments);var h=this._plot._getDpPlotNode();if(this._leftCallouts){this._leftCallouts.afterPlotScroll(e,h);}if(this._topCallouts){this._topCallouts.afterPlotScroll(e,h);}};t.prototype._setPlotData=function(e){this._plot.setData(e);};t.prototype._setAxisData=function(e){this._categoryAxis.setData(e.categoryAxis,D.hasNegativeValue(e));};t.prototype._isAdjustValueScaleForTopLabel=function(){var e=this._properties.get("plotArea.dataLabel.position")||this._properties.getDefault("plotArea.dataLabel.position");return this._isStackedChart()||((this._isColumnChart()||this._isBarChart())&&e==="outside")||this._isCombinationChart();};t.prototype._calcValueScaleWithTopLabel=function(h){var i=this._properties.get('plotArea.dataLabel');var v=i.style;var w=this._valueAxisIndex;var x=(w==="valueAxis")?this._properties.get('plotArea.primaryScale.fixedRange'):this._properties.get('plotArea.secondaryScale.fixedRange');var y=this._data[w];var z=y.scale;var A=z.getDomain().slice();var E=this._plot.isHorizontal();var F=this._calcValueAxisScale(w,h);var G=this._data.series;var H=a.extendDomainForDataLabel;var I=4;var J=E?20:I;if((!(x||z.getDomainFixed()[1]))&&(i.visible||i.showTotal)&&A){var K=[null,null];var L,M,Q;var R=i.formatString;if(this._data&&this._data[w]&&this._data[w].metaData){M=this._data[w].metaData[0].id;Q=this._data[w].metaData[0].formatString;}R=R||Q;var W={key:M};if(this._isStackedChart()&&i.showTotal){if(E){L=n.getFirstFormatPattern(R,W);}var Y;var Z={decimalFormatString:k.getDecimalFormatString(k.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};if(A[1]>0){Y=k.format(N.preciseSimple(A[1]),L,i.unitFormatType,Z);K[1]=T.fastMeasure(Y,i.style.fontSize,i.style.fontWeight,i.style.fontFamily,i.style.fontStyle);}if(A[0]<0){Y=k.format(N.preciseSimple(A[0]),L,i.unitFormatType,Z);K[0]=T.fastMeasure(Y,i.style.fontSize,i.style.fontWeight,i.style.fontFamily,i.style.fontStyle);}F=this._calcValueAxisScale(w,h,H(A,h,K,E));}else if(!this._isStackedChart()&&i.visible&&A&&(A[1]>0||A[0]<0)){if(this._isBarChart()){if(A[1]>0){K[1]=B.getLabelSize(this._data.series,A[1],this._properties,R);}if(A[0]<0){K[0]=B.getLabelSize(this._data.series,A[0],this._properties,R);}}else{var $=T.fastMeasure('M',i.style.fontSize,i.style.fontWeight,i.style.fontFamily,i.style.fontStyle);if(A[1]>0){K[1]=$;}if(A[0]<0){K[0]=$;}}K.forEach(function(e){if(e){e.height+=I;e.width+=J;}});var _=H(A,h,K,E);F=this._calcValueAxisScale(w,h,_);}}F.scale.setRange([0,1]);F.metaData=y.metaData;return F;};t.prototype.updateValueScale=function(){var e=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(!e||w<=0||h<=0){return e;}var i=[0,1];if(this._plot.isHorizontal()){i[1]=w;}else{i[1]=h;}i[1]*=0.8;var v;var x=e;if(this._isPercentageChart()){v=this._calcPercentageValueAxisScale(i);v.metaData=e.valueAxis.metaData;e.valueAxis.tickHint=v.tickHint;this._valueAxis.setData(v);}else if(this._isAdjustValueScaleForTopLabel()){v=this._calcValueScaleWithTopLabel(i);this._valueAxis.setData(v);var y={};y[this._valueAxisIndex]=v;x=this._cloneData(y);}else{v=this._calcValueAxisScale("valueAxis",i);e.valueAxis.scale=v.scale;e.valueAxis.tickHint=v.tickHint;var z=this._properties.origin.get("valueAxis.layout.direction");if(z==="topDown"){e.valueAxis.scale.setRange([1,0]);}else{e.valueAxis.scale.setRange([0,1]);}this._valueAxis.setData(e.valueAxis);}x=u.call(this,x,i);return x;};t.prototype._updateTrendLineAxis=function(e){if(e&&e.categoryAxis&&e.categoryAxis.scale){var h=e.categoryAxis.scale.getDomain(),i=O.extend(true,[],h);if(i){this._plot._expandTrendlineXRange(i);e.categoryAxis.scale=new p(i,[0,1]);}}};t.prototype._getPlotClazz=function(e){return d.getPlotClazz(e);};t.prototype._preRender=function(){var e={x:0,y:0};var h=this._plot.getPreferredSize();if(this._hasScrollbar()){e=this._plot.getOffset();this._categoryAxis.setRealSize(h);}t.superclass._preRender.apply(this,arguments);if(e.x||e.y){this.scroll(e);}};t.prototype._configLayout=function(){var z=this.getZoomer();var i=false,e=false;if(z){var h=z.direction();if(h==="xy"){i=true;e=true;}else if(h==="x"){e=true;}else if(h==="y"){i=true;}}if(this._hasScrollbar()){if(this._plot.isHorizontal()){i=true;}else{e=true;}this.runtime().statusManager().add('plotRealSize',{value:this._plot.getPreferredSize()});}if(this._vScrollbar){this._vScrollbar.isExist(i);}if(this._hScrollbar){this._hScrollbar.isExist(e);}return t.superclass._configLayout.apply(this,arguments);};t.prototype._cloneData=function(e){var h={};var v=this._data;for(var i in v){if(v.hasOwnProperty(i)){h[i]=v[i];}}for(var w in e){if(e.hasOwnProperty(w)){h[w]=e[w];}}return h;};t.prototype._getZoomer=function(){return new g(this);};t.prototype.allOrNone=function(e,h,i){if(!this._properties.get("valueAxis.visible")||!this._properties.get("valueAxis2.visible")){return;}var v=this._plot.isHorizontal()?"height":"width";var w=e.valueAxis[v],x=e.valueAxis2[v];if(i&&w>0&&x>0){var y=i.preferredSizeTable;var z=y["valueAxis"]&&y["valueAxis"].extra&&y["valueAxis"].extra.visibleComponents.indexOf("axisBody")>-1;var A=y["valueAxis2"]&&y["valueAxis2"].extra&&y["valueAxis2"].extra.visibleComponents.indexOf("axisBody")>-1;if(!z||!A){var E=z?y["valueAxis"].extra.componentsPrfSize["axisBody"]:0;var F=A?y["valueAxis2"].extra.componentsPrfSize["axisBody"]:0;e.valueAxis[v]-=E;e.valueAxis2[v]-=F;h[v]+=(E+F);w=e.valueAxis[v];x=e.valueAxis2[v];}}if(w===0||x===0){e.valueAxis[v]=e.valueAxis2[v]=0;h[v]+=(w+x);}};return t;});define('sap/viz/chart/components/legend/LineLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/scales/ColorScale','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/chart/components/util/ColorUtil',],function(o,C,O,T,a,D,N,b,c,e){var f='#aaaaaa';var g="#000000";var H=b.LEGEND.HORIZONTAL_OFFSET;var L=b.LINE_TYPE;var h=function(){h.superclass.constructor.apply(this,arguments);};o.extend(h,C);h.prototype._createShapeItems=function(k,l,m){var s=this.runtime().semanticManager();var n=this.runtime().effectManager();var p=this.runtime().propertyManager();var _=this._isCombination();if(this._isShowWideMarker()){var q=l.markerSize;var r=p.has("plotArea.marker.size")?p.get("plotArea.marker.size"):p.get("plotArea.line.marker.size");if(q<r){r=q;}var t=this._getBGColor();var u=this;k.selectAll('line').remove();k.selectAll('path').remove();var v=k.selectAll('g').data(['shapeWithLine']);v.enter().append('g');v.exit().remove();v.attr('transform','translate('+l.shapeX+','+l.shapeY+')');var w=this._isRTL();v.each(function(d,i,j){var x=O.clone(m[j].shapeOptions);if(x.lineColor||x.lineType){var y=d3.select(this).selectAll('line').data(['shapeWithLine']);y.enter().append('line');y.exit().remove();y.attr('x1',-q).attr('y1','0').attr('x2',q).attr('y2','0').attr('stroke',x.lineColor).attr('stroke-width',x.lineWidth);if(x.lineType===L.DASHED||x.lineType===L.DOTTED){y.attr('stroke-dasharray',2*q/7+","+q/7);}else if(x.lineType===b.LINE_TYPE.DOT){var z=Math.round(2*q/x.lineWidth);z=z|1;if(z<3){z=3;}var A=2*q/z;y.attr('x1',-q+A/2);y.attr('x2',q+A/2);y.attr('stroke-dasharray',"0,"+A*2);y.attr('stroke-linecap',"round");y.attr("stroke-width",A);}}x.bgColor=t;var B;if(u._isShowMarkerStroke()){B=p.get("plotArea.dataPoint.stroke.color");}if(x.dpPattern==='noFill'){x.borderWidth=1;x.borderColor=B;}if(x.fillColor){var E=d3.select(this).selectAll('path').data(['shapeWithLine']);E.enter().append('path');E.exit().remove();x.node=E.node();if((x.seriesShape==='line'||x.seriesShape==='combination')&&(x.lineColor||x.lineType)){x.rx=x.ry=r/2;if(x.dpPattern==='noFill'){x.rx+=1;x.ry+=1;}else{x.borderWidth=2;}if(u._isShowMarkerStroke()){x.borderColor=B;}}if(typeof x.graphType!=="string"&&x.graphType.type==="line"){x.rx=q;x.ry=q;}D.drawGraph(x,n);if(u._isShowMarkerStroke()){E.attr('stroke-width',"1");}}if(w){this.setAttribute('transform','translate('+(m[j].eventLayerWidth-H-q)+','+l.shapeY+')');}});v.attr("class","v-legend-marker");}else{h.superclass._createShapeItems.apply(this,arguments);}};h.prototype._getGroupItemInfo=function(j){var k=h.superclass._getGroupItemInfo.apply(this,arguments);var s=this.runtime().semanticManager();var p=this.runtime().propertyManager();var l=this.runtime().effectManager();var t=this;var m=p.has('plotArea.line.width')?p.get('plotArea.line.width'):p.get('plotArea.width');k.map(function(n,i){var d=j[i];if(d.isSemantic){if(s.hasDataPointLineStyle()){if(d.lineColor){n.shapeOptions.lineColor=d.lineColor;}if(d.lineType){n.shapeOptions.lineType=d.lineType;if(!d.lineColor){n.shapeOptions.lineColor=f;}}n.shapeOptions.lineWidth=m;}if(d.seriesShape){n.shapeOptions.seriesShape=d.seriesShape;}}else if(t._isShowLine()){if(d.seriesShape==='line'||d.seriesShape==='combination'){var q=t._getSereisStyle(d.ctx,t._data,s,"line");if(!T.isEmptyObject(q)){n.shapeOptions.lineColor=(q.line&&q.line.color)||d.color;n.shapeOptions.lineWidth=(q.line&&q.line.width)||m;n.shapeOptions.lineType=(q.line&&q.line.type)||"line";}else{n.shapeOptions.lineColor=(d.color&&(d.color!=='null'&&d.color!=='undefined'))?d.color:g;n.shapeOptions.lineWidth=m;}n.shapeOptions.lineColor=N.convertColor(n.shapeOptions.lineColor);}if(!n.shapeOptions.fillColor){n.shapeOptions.fillColor=g;}if(d.seriesShape){n.shapeOptions.seriesShape=d.seriesShape;}}return n;});return k;};h.prototype._isShowMarkerStroke=function(){return this.runtime().propertyManager().get("plotArea.dataPoint.stroke.visible");};h.prototype._isShowLine=function(){var p=this.runtime().propertyManager();return this._properties.get("marker.showLine")&&(p.has("plotArea.lineVisible")?p.get("plotArea.lineVisible"):p.get("plotArea.line.visible"))&&((p.has('plotArea.line.width')?p.get('plotArea.line.width'):p.get('plotArea.width'))>0);};h.prototype._isCombination=function(){var m=this.runtime().markManager();return m.getMode()==='combination';};h.prototype._getMarkerWidth=function(){var m=h.superclass._getMarkerWidth.apply(this,arguments);if(this._isShowWideMarker()){m=m*2;}return m;};h.prototype._isShowWideMarker=function(){var s=this.runtime().semanticManager();return s.hasDataPointColorStyle()||s.hasDataPointLineStyle()||this._isShowLine();};h.prototype._calcMetaInfo=function(d){h.superclass._calcMetaInfo.apply(this,arguments);if(this._isShowWideMarker()){var m=d.markerSize;var i=2*m;var j=this._markerMargin;var t=parseInt(this._labelFont.fontSize,10);var p=(this.isHorizontal()?j.left+j.right:j.right)*t;var H=b.LEGEND.HORIZONTAL_OFFSET;d.shapeX=i/2+H;d.textX=d.textX+m;d.postRenderX=i/2+H;d.miscWidth=d.miscWidth+m;d.eachItemWidth=d.eachItemWidth+m;this._markerSize=m*2;}};h.prototype._calcDomain=function(d,j){var s=this.runtime().semanticManager();var p=this.runtime().propertyManager().get("plotArea.line.marker.shape");var l=this._properties.get("marker.shape");var _=this._isCombination();return d.map(function(k,i){k.id=i;var t=this._toValueString(k.data,j);var m=k.color;if(T.isString(m)&&m&&m.indexOf("url")===-1){m=N.convertColor(m);}var r={id:i,val:k.data,text:t,ctx:k.context,shape:k.shape,cls:k.cls,pattern:k.pattern,isSemantic:k.isSemanticItem};if(k.isSemanticItem){if(s.hasDataPointLineStyle()){if(T.isString(k.lineColor)&&k.lineColor&&k.lineColor.indexOf("url")===-1){r.lineColor=N.convertColor(k.lineColor);}if(k.lineType){r.lineType=k.lineType;}if(_){if(k.lineColor||k.lineType){r.shape=p;}else{r.shape=l;}}}if(s.hasDataPointColorStyle()){if(k.color){r.color=m;}}}else{r.color=m;}if(k.seriesShape){r.seriesShape=k.seriesShape;}return r;},this);};return h;});define('sap/viz/chart/components/legend/CombinationLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/LineLegend','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/scales/ColorScale','sap/viz/framework/scale/ColorShapeScaleMerger'],function(o,L,O,T,C,a){var b=function(){b.superclass.constructor.apply(this,arguments);};o.extend(b,L);function h(d){if(T.isArray(d)){return d.map(function(e){return h(e);}).join("-");}else{return""+d;}}b.prototype._buildColorShapeScale=function(d){var e=this._properties.get("groupByShape"),i={};var m=b.superclass._buildColorShapeScale.apply(this,arguments);if(e&&!this._properties.get("order")){d.forEach(function(q){if(!q.rowArray){return;}q.rowArray.forEach(function(r){i[h(r)]=r.mndIndex;});});var j={};var k=[];if(this._data.valueAxis2){k=k.concat(this._data.valueAxis2.metaData);}if(this._data.valueAxis){k=k.concat(this._data.valueAxis.metaData);}k.forEach(function(q){j[q.id]=q.name||q.id;});var l=m.items();var n=[],s=[];l.forEach(function(q){if(q.isSemanticItem){s.push(q);}else{n.push(q);}});var p=f(g(n,i,j));l.splice(0,l.length);l.push.apply(l,s);l.push.apply(l,p);}return m;};function f(d){return Object.keys(d).reduce(function(e,k){var i=d[k];return e.concat(T.isArray(i)?i:f(i));},[]);}function g(d,m,e){var j=c(d,function(i){return i.seriesShape;});Object.keys(j).forEach(function(k){j[k]=c(j[k],function(i){var l=h(i.data);var n=i.context.measureNames;if(n){var p=i.data.slice();var q=p.indexOf(e[n]);if(q>-1){p[q]=n;l=h(p);}}return m[l];});});return j;}function c(i,k){return i.reduce(function(d,e){var j=k(e);if(!d.hasOwnProperty(j)){d[j]=[];}d[j].push(e);return d;},{});}return b;});define('sap/viz/chart/chains/RawDataParserFactory',['sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/FunctionUtils','sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/oo'],function(T,F,a,L,o){var P=function(b){this._option=b||{};};P.prototype.parse=function(e){return e===undefined?null:e;};var D=function(b){D.superclass.constructor.apply(this,arguments);this._skipDateChecking=b&&b.skipDateChecking;this._cache={};};o.extend(D,P);D.prototype.parse=function(e){var v;var r=null;if(this._option&&this._option.fiscalObj){e=parseInt(e);}if(typeof e!=='number'){if(e!=null&&typeof e==='object'){if(e.v!=null){v=new Date(e.v).getTime();}else if(e.v==null){return null;}}else{v=new Date(e).getTime();}if(!isNaN(v)){r={parsedValue:v,v:e};if(e.d!=null){r.d=e.d;}if(e.v!=null){r.v=e.v;}}else if(!this._skipDateChecking){a.error(L.getLogMessage('IDS_ERROR_DATE_HAVE_INVALID_FORMAT'));}}else{r={v:e};if(this._option&&this._option.fiscalObj){r.parsedValue=F.fiscalToQuantity(e,this._option.fiscalObj);}else{r.parsedValue=e;}}var d=(this._option&&this._option.dataTimeLevel);if(r!=null&&d!=null){var b=r.parsedValue;if(this._cache[b]){r.parsedValue=this._cache[b];}else{v=T.truncate(r.parsedValue,d,this._option.showAsUTC,this._option.fiscalObj,this._option.weekConfig);this._cache[b]=v;r.parsedValue=v;}}return r;};var R={get:function(t,b,c){var p;t=t||'';t=t.toLowerCase();if(t==="date"&&c==="timeAxis"){p=new D(b);}else{p=new P(b);}return p;}};return R;});define('sap/viz/chart/chains/ChainUtils',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/Constants','sap/viz/chart/chains/RawDataParserFactory','sap/viz/framework/common/util/ArrayUtils'],function Setup(T,D,O,F,C,R,A){var c="Dimension";var d="Measure";var M="measureNames";var f='trellisColumn';var g='trellisRow';var h='trellis.columnCategory';var l='trellis.rowCategory';var m='frame.data';var n="_context_row_number";var u={};var o=D.getDimensionValue;u._BULLET_MEASURES=["actualValues","additionalValues","targetValues","forecastValues"];var p=function(b){var a={};b.forEach(function(i){a[i.role]=i.id;});return a;};var q=function(a,b,e,j,k,t,v){var $={};var i;var _;for(i in a){if(a.hasOwnProperty(i)){$[i]=a[i];}}var a1=t?j:k;var b1=t?k:j;for(i in b){if(b.hasOwnProperty(i)){if(!T.isArray(b[i].values[j])){_=[];}else{_=b[i].values[j][k];}$[i]={range:b[i].range,values:_,metaData:b[i].metaData};if(b[i].categorySum){if(!T.isArray(b[i].categorySum[a1])){b[i].categorySum[a1]=[];}if(T.isArray(_)){b[i].categorySum[a1][b1]=u.sumByCategory(_);}else{b[i].categorySum[a1][b1]=_;}}}}function c1(d1,e1){var f1=[],g1=[];var h1=d1&&d1.metaData;var i1=d1&&d1.values;for(i=0;h1&&i<h1.length;++i){var j1=h1[i];var k1=i1[i];if(k1[j]){f1.push(k1[j][k]);g1.push(j1);}}$[e1]={values:f1,metaData:g1};}c1(e,"context");c1(v,"additionInfo");return $;};var r=function(b){var a=b.length;for(var i=0;i<a;i++){if(b[i].feed===g){return true;}else if(b[i].feed===f){return false;}}throw"Binding not match";};var s=function(a,b){for(var i in a){if(a.hasOwnProperty(i)){var e=b[i];if(e){e.values=[e.values];}}}};var w=function(a,b){for(var i in a){if(a.hasOwnProperty(i)){var e=b[i];e.values.forEach(function(k,j){e.values[j]=[e.values[j]];});}}};var x=function(a,b){for(var i in a){if(a.hasOwnProperty(i)){var e=b[i];for(var j=0;j<e.values.length;++j){var k=e.values[j];for(var t=0;t<k.length;++t){k[t]=[k[t]];}}}}};var y=w;var z=function(a,b){var e={};b.forEach(function(i){if(i.type===d){var j=i.id;var k=a[j];if(k){e[j]=k;}}});return e;};var B=function(a,b){var e={};b.forEach(function(i){if(i.role!==g&&i.role!==f){var j=i.id;var k=a[j];if(k){e[j]=k;}}});return e;};var E=function(a,b,k,t,v,$,_,a1,b1,c1){var d1=B(v,_);var e1=z(v,_);var f1=v.context;var g1=v.additionInfo;s(e1,v);if(f1){y({context:f1},v);}if(g1){y({additionInfo:g1},v);}var h1=[];var i1=[];for(var i=0;i<b1;i++){var j1;j1=q(d1,e1,f1,0,i,true,g1);var k1=k.filter(function(e){return e!=="dataFrame";});j1.seriesType=v.seriesType;a(b,k1,t,j1,undefined,c1,_);h1[i]=j1.series;for(var j=0;j<j1.seriesContext.length;j++){i1.push(j1.seriesContext[j]);}}v.allSeries=h1;v.series=h1[0];v.seriesContext=i1;["","2"].forEach(function(e){var l1="valueAxis"+e;var m1="allCategorySum"+e;if(v[l1]&&v[l1].categorySum&&v[l1].categorySum[0]&&Array.isArray(v[l1].categorySum[0])){v[m1]=v[l1].categorySum[0];v[l1].categorySum=v[m1][0];}});};var G=function(a,b,e,k,t,v,$,_,a1,b1,c1){var d1=r(v);var e1=B(t,$);var f1=2;var g1=z(t,$);var h1=t.context;var i1=t.additionInfo;if(b1===0){s(g1,t);if(h1){y({context:h1},t);}if(i1){y({additionInfo:i1},t);}b1=1;f1=1;d1=true;}if(c1===0){w(g1,t);if(h1){x({context:h1},t);}if(i1){x({additionInfo:i1},t);}c1=1;f1=1;}var j1=[];for(var i=0;i<b1;i++){for(var j=0;j<c1;j++){var k1;if(d1){k1=q(e1,g1,h1,i,j,d1,i1);}else{k1=q(e1,g1,h1,j,i,d1,i1);}var l1=e.slice(f1);k1.seriesType=t.seriesType;var m1;if(!j1[i]){j1[i]=[];}m1={trellisRow:_?_.rowArray[i]:undefined,trellisColumn:a1?a1.rowArray[j]:undefined};a(b,l1,k,k1,m1,{},$);j1[i][j]=k1.series;}}t.series=j1;};var H=function(a,b,e){var t=b.items;var v=t.length;var $=b.position;var _=a.length;var a1=_/e;var b1=[];var c1;var i,j,k,d1;b1.length=_*v;if($===e-1&&b.respectOrder){for(i=0;i<a1;i++){c1=i*v;for(j=0;j<v;j++){d1=(c1+j)*e;for(k=0;k<e-1;++k){b1[d1+k]=a[i*e+k];}b1[d1+k]=t[j];}}}else{b1=a;var e1;for(i=0;i<v-1;++i){e1=e1||JSON.parse(JSON.stringify(a));b1=b1.concat(e1);}for(i=v;i--;){c1=i*_;for(j=a1;j--;){d1=c1+j*e+$;b1[d1]=t[i];}}}return b1;};var I=function(a){var b=a.length;var e=1;var k=[];for(var i=b-1;i>=0;i--){var t=a[i];var v=t.length;var $={};for(var j=0;j<v;j++){$[t[j]]=j;}k[i]={multiplier:e,value:$};e=e*v;}return k;};var J=function(a){var b=[],e;var j={};for(var i=0,k=a.length;i<k;i++){e=o(a[i]);var t=','+e;if(!j[t]){b.push(e);j[t]=true;}}return b;};var K=function(k,t,v,$,_,a1){var i,b1;var c1=[];for(i=0,b1=v.length;i<b1;++i){var d1=v[i];if(d1[M]){c1.push($);}else{var e1=t.metadata(d1)[0];var f1=u.parseData(t,d1,_);if(e1.domain){c1.push(J(e1.domain));}else{c1.push(J(f1));}}}var g1=I(c1);if(!T.isArray(g1)){return[];}if(a1&&a1.isTimeStacked){var h1=g1[0].value;var i1=[];if(h1){for(var j1 in h1){if(h1.hasOwnProperty(j1)){i1.push(j1);}}if(i1.length>0){A.stableSort(i1,function(a,b){return(parseInt(a)-parseInt(b));});}for(i=0;i<i1.length;i++){h1[i1[i]]=i;}}}var k1=[];for(i=0,b1=k.length;i<b1;i++){var l1=0;var m1=k[i],n1;for(var j=0,o1=g1.length;j<o1;j++){n1=o(m1[j]);l1+=g1[j].multiplier*g1[j].value[n1];}if(l1>-1){k1.push({idx:l1,val:m1});}}k1.sort(function(a,b){return(a.idx-b.idx);});var p1=k1.map(function(e){return e.val;});return p1;};var L=function(a,b,e,j){var i,k;var t=V(b),v=false;for(i=0;i<e.length;i++){if(t[e[i]]){v=true;}}if(!v){return a;}var $={};if(j&&j.length>0){for(i=0;i<j.length;i++){$[j[i]]=i;}}return A.stableSort(a,function(_,a1){var b1=0;for(i=0,k=e.length;i<k;++i){var c1=e[i];if(c1[M]){b1=$[_[i]]-$[a1[i]];}else{var d1=t[c1];if(d1){var e1=d1.fnComparator||U;var f1=d1.bDescending;b1=e1(_[i],a1[i]);b1=f1?-1*b1:b1;}}if(b1!==0){return b1;}}return b1;});};function N(a,b){return Math.floor(a/b);}function P(a,b,i){a.order=a.order||[];if(i===b.length){a.order.push(b);a.isLeaf=true;return;}var v=o(b[i]);a.map=a.map||{};var e;if(v==null){if(a.noValueMap==null){a.noValueMap=a.order.length;a.order.push({});}e=a.noValueMap;}else{if(a.map[v]==null){a.map[v]=a.order.length;a.order.push({});}e=a.map[v];}P(a.order[e],b,++i);}function Q(a,b){for(var i=0;i<a.order.length;++i){if(a.isLeaf){Array.prototype.push.apply(b,a.order);return;}Q(a.order[i],b);}}function S(a){var t={};a.forEach(function(e){P(t,e,0);});var b=[];Q(t,b);return b;}function U(v,e){var a=(v&&v[D.DIMENSION_VALUE])||v,b=(e&&e[D.DIMENSION_VALUE])||e;if(a==b){return 0;}if(b==null){return-1;}if(a==null){return 1;}if(typeof a=="string"&&typeof b=="string"){return a.localeCompare(b);}if(a<b){return-1;}if(a>b){return 1;}return 0;}function V(a){var i,j,b={};var e=a._FlatTableD._dataset.metadata.fields;if(T.isExist(e)){e.forEach(function(k){if(k.id&&k.sorter){var t={};var v=k.sorter.bDescending;var $=k.sorter.fnComparator;if(v&&typeof v==="boolean"){t.bDescending=v;}else{t.bDescending=false;}if($&&T.isFunction($)){t.fnComparator=$;}b[k.id]=t;}});}return b;}var W=function(a,b,e,t,v,$,_){if(!a||!a.length){return[];}var a1=b.items;var b1=a1.length;var c1=b1>0;var d1=b.position;var e1=t.length;var f1=a.length/e1;var g1=c1?f1/b1:f1;var h1={};var i1=[];var i,j;var j1=b.respectOrder;var k1=b.groupOption;var l1=j1&&d1>-1&&d1===e1-1&&e1!==1;for(i=0;i<f1;++i){var m1=i*e1;var n1='';for(j=0;j<e1;++j){n1+=","+String(o(a[m1+j]));}var o1=h1[n1];if(o1==null){o1=h1[n1]=i1.length;var p1=a.slice(m1,m1+e1);i1.push(p1);p1.reference=[];p1.mndIndex=l1?a1[i%b1]:(c1?a1[N(i,g1)]:null);}var q1=l1?N(i,b1):i%g1;i1[o1].reference.push(q1);}if(i1[0]&&i1[0].length>0){if(!j1){i1=K(i1,e,t,b.globalMND,v,_);}else if(k1.groupData&&k1.respectOrderInGroup){i1=S(i1);}if((k1.bindingName!=="color"&&k1.bindingName!=="shape")||!k1.legendOrder){i1=L(i1,e,t,a1);}}if($){var r1=[];var s1=i1.length;for(i=0;i<s1;++i){var t1=i1[i].reference;var u1=t1.length;for(j=0;j<u1;++j){var k=t1[j];r1[k]=r1[k]||[];r1[k].push(i);}}var v1=r1.length;for(i=0;i<v1;++i){var w1=r1[i];if(!w1){continue;}$[i]=$[i]||[];$[i].push(w1);}$.levels=$.levels||0;$.levels++;}return i1;};function X(a,b,e,t,$){var _=$.enableDuplicated;var a1=$.isBullet;var b1=[];var c1=t&&t.levels;var d1=a.length;var i;var e1=function(g1,i,j){var v=g1[i];return v[j]?v[j]:v[0];};var f1=function(g1,i1,h1,j1){for(var j=0;j<i1;++j){if(g1.length>=c1){var k1=b1;for(var k=0;k<c1-1;k++){var l1=e1(g1,k,j);k1=k1[l1]=k1[l1]||[];}var m1=e1(g1,k,j);if(T.isExist(m1)){var v=(j1===null&&h1[j]!=null?h1[j]:j1);if(_){k1[m1]=k1[m1]||[];k1[m1].push(v);}else{if(k1[m1]==null){k1[m1]=v;}}}}}};if(c1){for(i=0;i<d1;i++){var g1=t[i];if(T.isExist(g1)){var h1=a[i];var i1=h1.length;var j1=null;if(i1!==e.length||$.buildContextId){if(a1){j1=h1.slice();}else{j1=h1[i1-1];}i1=e.length?e.length:1;}f1(g1,i1,h1,j1);}}}else{for(i=0;i<d1;i++){b1[i]=a[i].slice();}}return b1;}u.buildMetaData=function(a,b,e){return b.map(function(i){if(e&&i[M]){return{'id':M,'type':c,'values':e.map(function(v){var k=a.metadata(v)[0];return{'id':k.id,'name':k.name};})};}else{var j=false;if(i.id){j=!!i.showInTooltip;i=i.id;}var k=a.metadata(i)[0];if(i===n){return{'id':k.id,'name':k.name};}else{var t={'id':k.id,'name':k.name,'type':k.semanticType,'dataType':k.dataType};if(j){t.showInTooltip=true;}if(k.formatString){t.formatString=k.formatString;}if(k.hasOwnProperty("max")){t.max=k.max;}if(k.hasOwnProperty("min")){t.min=k.min;}if(k[C.FIELD.INRESULT]){t.hidden=true;}if(k[C.FIELD.UNIT]){t.unit=k[C.FIELD.UNIT];}return t;}}});};u.getArrayLength=function(a){var b=[];for(var i=0;i<a.length;i++){b.push(a[i].rowArray.length);}return b;};u.generateNum=function(a,b){var e=0;for(var i=0,k=b.length;i<k;i++){var t=1;for(var j=i+1,v=a.length;j<v;j++){t*=a[j];}e+=b[i]*t;}return e;};u.dpInitializer=function(t){return function(){return t?{trellisRow:t.trellisRow,trellisColumn:t.trellisColumn}:{};};};u.sumByCategory=function(a){var b=[],e,i,j,k,t;var v=0;for(i=0,k=a.length;i<k;i++){var $=0;e=a[i];if(T.isArray(e)){for(j=0,t=e.length;j<t;j++){if(T.isArray(e[j])||!T.isNumber(e[j])){continue;}var _=+e[j];if($===0){$=_;}else if($<0&&_>0){$=_;}else if($*_>0){$+=_;}}}else{$=+e;}b[i]=$;}return b;};u.generateSeriesGetter=function(a){return function(b,e,i,j,k,t,v){var $=p(t);var _=j[$[l]];var a1=j[$[h]];var b1=_?_.rowArray.length:0;var c1=a1?a1.rowArray.length:0;if(b1===0&&c1===0){var d1=j[$[m]];var e1=d1?d1.rowArray.length:0;if(e1===0){a(b,e,i,j,undefined,v,t);}else{E(a,b,e,i,j,k,t,d1,e1,v);}}else{G(a,b,e,i,j,k,t,_,a1,b1,c1);}};};u.parseData=function(a,b,e){var j;if(T.isExist(e)){j=e[b];}if(!T.isExist(j)){j=a.dataInFields([b]);for(var i in j){if(j.hasOwnProperty(i)){j[i]=j[i].data[0];if(j[i]===undefined){j[i]=null;}}}}return j;};u.getMetadata=function(a){return a._FlatTableD._dataset.metadata;};u.getData=function(a,b,e,k,t){var i,j,v,$;if(!e&&T.isExist(b)){var _=[];for(i=0;i<b.length;i++){for(j=0;j<b[i].source.length;j++){if(T.isString(b[i].source[j])){_.push(b[i].source[j]);}}}e=a._FlatTableD.columnDataInFields(_).data;if(F.isFiscal(a)){var a1=[];for(i in e){if(e.hasOwnProperty(i)){var b1=a._FlatTableD.getMetadata(i)[0].timeUnitType;if(b1&&b1.indexOf(C.FISCAL.UNITTYPE_PREFIX)===0){for(j=e[i].length-1;j>=0;j--){var c1=F.fiscalToQuantity(e[i][j],k.fiscalObj);if(c1==null||isNaN(c1)){a1.push(j);}}break;}}}for(i=0;i<a1.length;i++){for(var d1 in e){if(e.hasOwnProperty(d1)){e[d1].splice(a1[i],1);}}}}for(i in e){if(e.hasOwnProperty(i)){var e1=a._FlatTableD.getMetadata(i)[0].dataType;var f1=R.get(e1,k,t);var g1=e[i];v=g1.length;for(j=0;j<v;j++){$=g1[j];if($!==null){g1[j]=f1.parse($);}}}}}return e;};u.handleDimension=function(a,b,e,k,t,v,$){if(!b){throw"flat table need fieldsName as it's bindingInfo";}var _=b.length;var a1=[];var b1=false;var c1=-1;var d1=[];var i,j;var e1=(!k.groupData||k.respectOrderInGroup);for(i=0;i<_;i++){var f1=b[i];if(f1[M]){b1=true;c1=i;d1=e;}else{var g1=a.metadata(f1)[0];if(g1.semanticType!==c){throw"semantic type not match";}var h1=u.parseData(a,f1,t);var i1=h1.length;if(!a1.length){a1.length=_*h1.length;}for(j=0;j<i1;j++){a1[j*_+i]=h1[j];}if(g1.domain){e1=false;}}}var j1={globalMND:e,items:d1,position:c1,respectOrder:e1,groupOption:k};if(b1){if(a1.length>0){a1=H(a1,j1,_);}else{var k1=a._FlatTableD._data.length;for(i=0;i<k1;i++){d1.forEach(function(m1,n1){a1[n1*k1+i]=m1;});}}}var l1=W(a1,j1,a,b,t,v,$);return l1;};u.handleContinuousDimension=function(a,b,j,k){if(!b){throw"flat table need fieldsName as it's bindingInfo";}var t=b.length;for(var i=0;i<t;i++){var v=b[i];var $=a.metadata(v)[0];if($.semanticType!==c){throw"semantic type not match";}var _=u.parseData(a,v,k);return _.map(function(e){return[e];});}};u.handleMeasure=function(a,b,e,k,t,v){if(b){var $=b.length;var _=[];for(var i=0;i<$;i++){var a1=u.parseData(a,b[i],k);if(!_.length){_.length=a1.length;}for(var j=a1.length;j--;){_[j]=_[j]||[];_[j][i]=a1[j];}}var b1=X(_,b,e,t,v);var c1={measureArray:_,multiArray:b1};if(t&&t.length&&t.levels&&!v.enableDuplicated){c1.measureArray=Z(_,t);}if(v&&v.funMeasuresCalculator){v.funMeasuresCalculator(v,c1);}return c1;}else{throw"flat table need fieldsName as it's bindingInfo";}};function Y(a,b){return a.map(function(v,i){return T.isExist(v)?v:b[i];});}function Z(a,b){var e=[],j={};for(var k=b.length,i=0,t;i<k;i++){if(!b[i]){continue;}t=b[i].map(function($){return $.join(",");}).join(":");if(!j.hasOwnProperty(t)){e.push(a[i]);j[t]=e.length-1;}else{var v=j[t];e[v]=Y(e[v],a[i]);}}return e;}u.generateIndexArray=function(a){var b=a.length;if(b===0){return[0];}var e=[];var i,j;for(i=0;i<b;i++){for(j=0;j<a[i];j++){e[i]=e[i]||[];e[i].push(j);}}var k=0;var t=[];if(e.length===1){for(i=0;i<e[0].length;i++){t[k]=t[k]||[];t[k].push(i);k++;}return t;}if(e.length&&T.isExist(e[0])){for(i=0;i<e[0].length;i++){for(j=0;j<e[1].length;j++){t[k]=t[k]||[];t[k].push(i);t[k].push(j);k++;}}}return t;};u.processSeriesContext=function(a,b,i){var e;if(a&&a.values){var k=a.metaData;e=[];var v=a.values;for(var t=0;t<k.length;++t){var $=k[t];var _=v[t];if(_){if(b>=0){_=_[b];}for(var j=0;_&&j<i.length;j++){if(T.isExist(_[i[j]])){_=_[i[j]];}}}e.push(_);}}return e;};u.processYYSeriesContext=function(a,b){if(T.isArray(b)){return u.processSeriesContext(a,-1,b);}else if(!a||!a.values){return undefined;}else{return a.metaData.map(function(e,i){var j=a.values[i];return T.isArray(j)?j.map(function(v){return v[0];}):j;});}};u.getAvailableCategories=function(a,b){var e=[];var i=this.getArrayLength(b);var j=this.generateIndexArray(i);if(a[0]&&a[0].values){a[0].values.forEach(function(k,t){if(T.isArray(k)){for(var $ in k){if(k.hasOwnProperty($)){$=parseInt($);e[$]=e[$]||[];e[$].push(t);}}}else{j.forEach(function(v,$){e[$]=e[$]||[];e[$].push(t);});}});}return e;};return u;});define('sap/viz/chart/chains/SeriesContext',['sap/viz/framework/common/util/DataUtils'],function(D){return function(s,a,b,m){if(a.length===0){var n=[];if(m&&m.length===1&&m[0]&&m[0].metaData){n=[{measureNames:m[0].metaData[0].id}];}return n;}else{return s.map(function(c){var d,i=0;while(i<c.length&&!c[i]){i++;}if(i>=c.length){return null;}d=c[i];return a.reduce(function(e,k,f){var g=b[f].metaData,v=d[k];g.forEach(function(h,i){e[h.id]=v[i]&&v[i][D.DIMENSION_VALUE]||v[i];});return e;},{});});}};});define('sap/viz/chart/chains/BaseChains',["sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/ChainUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/binding/BindingManager",'sap/viz/chart/chains/SeriesContext'],function Setup(T,C,N,O,A,B,S){var f={};var p;var c;var r=function(){c=[];p=null;};f.defineSpec=function(s,m,d){s.forEach(function(a){var b,e,i;for(i=0;i<m.length;i++){if(a.measureMeta&&a.measureMeta.indexOf(m[i])>-1){b=m[i];break;}}for(i=0;i<d.length;i++){if(a.seriesMeta&&a.seriesMeta[d[i]]&&a.seriesMeta[d[i]].hasOwnProperty("mndIndex")){e=a.seriesMeta[d[i]].mndIndex;break;}}Object.defineProperty(a,"spec",{enumerable:false,value:{mndKey:b,mndIdx:e}});});};var g=function(a,b,l,n,t,o){var s=[];var q="categoryAxis";var u=n[q];var v=[],w=[],x=[],y=[];if(u){var z='context';var D=o&&o.allowEmptyMeasure;b.filter(function(d){return d!==q;}).forEach(function(d){if(n[d]){v.push(n[d]);w.push(d);}});l.forEach(function(m){if(n[m]){x.push(n[m]);y.push(m);}});var E=C.dpInitializer(t);var F=C.getArrayLength(v);var G=C.generateIndexArray(F);var H,i,j,k,I;var J=C.getAvailableCategories(x,v);var K;for(i=0;i<G.length;i++){s[i]=new Array(u.rowArray.length);Object.defineProperty(s[i],"measureMeta",{enumerable:false,value:y});if(!J[i]){continue;}for(var L=0;L<J[i].length;L++){var M=J[i][L];H=E();var P=true;var Q={};for(j=0;j<G[i].length;j++){var R=v[j].rowArray[G[i][j]];if(R.mndIndex){var U=R.mndIndex;K=n[w[j]].metaData;var V=K[R.indexOf(U)];if(V&&V.values){var W=V.values;for(k=0;k<W.length;k++){if(W[k].id==U){R.mndIndex=k;break;}}}}var X=w[j];H[X]=R;Q[X]=R;}if(!s[i].seriesMeta){Object.defineProperty(s[i],"seriesMeta",{enumerable:false,value:Q});}for(k=0;k<x.length;k++){if(T.isExist(x[k].values)&&(T.isExist(x[k].values[M])||(x[k].metaData[0].type==="Dimension"))){I=x[k].values[M];for(j=0;j<G[i].length;j++){if(T.isExist(I[G[i][j]])||D){I=I[G[i][j]];}}if(T.isArray(I)){P=false;}else{H[y[k]]=I;}}else{P=false;}}var Y=C.processSeriesContext(n.context,M,G[i]);if(Y){H.context=Y;}var Z=C.processSeriesContext(n.additionInfo,M,G[i]);if(Z){H.addition=Z;}if(!P){continue;}var $=C.generateNum(F,G[i]);s[$]=s[$]||[];s[$][M]=H;}}}n.series=s.filter(function(e){return e;});n.seriesContext=S(s,w,v,x);if(o&&o.isFlexibleStack){f.defineSpec(s,l,b);}};f.GetBindingSeries=C.generateSeriesGetter(g);f.GetContext=function(a,b,d,m){if(b.length===0){return{values:[],metaData:[]};}var v=[];for(var i=0;i<b.length;++i){var n=b[i].id||b[i];var e=C.handleMeasure(a,[n],m,p,c,{enableDuplicated:d,buildContextId:true});v.push(e.multiArray);}return{values:v,metaData:C.buildMetaData(a,b)};};function h(b,a){var d=null;if(b){b.some(function(i){if(i.id===a){d=i;return true;}return false;});}return d;}f.GetDimensionsFromFlattable=function(a,b,m,d,e,k,l,n){var o=C.getMetadata(a).fields;p=C.getData(a,d,p,n,k);for(var i=0,L=b.length;i<L;i++){var q=b[i];for(var j=0,s=o.length;j<s;j++){if(q.measureNames||q===o[j].id){var t;var u=h(e,k);if(u&&u.continuous&&(!n||(n&&!n.isTimeStacked))){t=C.handleContinuousDimension(a,b,m,p);}else{var v={isTimeStacked:k==="timeAxis"&&n&&n.isTimeStacked};l.bindingName=k;t=C.handleDimension(a,b,m,l,p,c,v);}return{values:A.transpose(t),metaData:C.buildMetaData(a,b,m),rowArray:t};}}}};f.GetMeasuresFromFlattable=function(d,e,m,l,n,o,q,s){var t=C.getMetadata(d).fields;p=C.getData(d,l,p,s);var u;if(s&&s.isTimeWaterFall){var v=e[0];if(v){var k,w="Date";for(k=0;k<l.length;k++){var z=l[k];if(z.feed==="timeAxis"){w=z.source[0]||w;break;}}u=p[w].map(function(a,b){return{Date:a,Value:p[v][b]};});A.stableSort(u,function(a,b){if(a.Date&&b.Date){return a.Date.parsedValue-b.Date.parsedValue;}else if(!a.Date){return-1;}else if(!b.Date){return 1;}});for(k=0;k<u.length;k++){p[w][k]=u[k].Date;if(u[k].Date){p[v][k]=u[k].Value;}else{p[v][k]=null;}}}}var D,E;var F=(s&&s.isTimeStacked);if(F){D=s.timeAxis.values[0];E=function(a,b){if(a.timeValue&&b.timeValue){return a.timeValue-b.timeValue;}else if(!a.timeValue){return-1;}else if(!b.timeValue){return 1;}};}for(var i=0,L=e.length;i<L;i++){for(var j=0,G=t.length;j<G;j++){if(e[i]===t[j].id){if(!s){s={};}s.bindingName=o;s.enableDuplicated=n;var H=C.handleMeasure(d,e,m,p,c,s);var I=A.transpose(H.measureArray);var x=0,J=I.length;var K=Array(J);for(;x<J;++x){var M=I[x];var P=Infinity,Q=-Infinity;for(var y=0,R=M.length;y<R;++y){var U=M[y];if(U==null){continue;}U=+U;P=Math.min(P,U);Q=Math.max(Q,U);}K[x]=[P,Q];}var V=C.buildMetaData(d,e);if(!(m&&m.length)){V=[V[V.length-1]];K=[K[K.length-1]];}var W=H.multiArray;if(F){var X=W.map(function(a,b){return{array:a,timeValue:D[b]&&D[b].parsedValue};});A.stableSort(X,E);W=X.map(function(a){return a.array;});}if(K.length){V.forEach(function(a,b){if(a.hasOwnProperty("min")&&T.isNumeric(a.min)){K[b][0]=a.min;}if(a.hasOwnProperty("max")&&T.isNumeric(a.max)){K[b][1]=a.max;}});}var Y={values:W,range:K,metaData:V};if(q){if(q==="NEED_ONLY_TOTAL_SUM"){var Z=Y.values.some(function(a){return a>0;});Y.totalSum=A.sum(Y.values.filter(function(a){return a>0||(!Z);}));}else{Y.categorySum=C.sumByCategory(W);}}return Y;}}}};f.OnBindingFinished=function(){r();};f.OnBindingStart=function(){r();};f.extend=function(t,d){var a={};d.forEach(function(i){a[t+i]=f[i];});Object.defineProperty(a,"parsedData",{get:function(){return p;},set:function(n){p=n;}});Object.defineProperty(a,"multiDimensionIndex",{get:function(){return c;},set:function(n){c=n;}});return a;};B.registerChain('GetBindingSeries',f.GetBindingSeries);return f;});define('sap/viz/chart/chains/XYChains',['sap/viz/chart/chains/BaseChains','sap/viz/framework/binding/BindingManager'],function Setup(B,a){var x={};var d=['GetDimensionsFromFlattable','GetMeasuresFromFlattable','GetBindingSeries','GetContext','OnBindingFinished','OnBindingStart'];x=B.extend('xy',d);Object.keys(x).forEach(function(k){a.registerChain(k,x[k]);});return x;});define('sap/viz/chart/scales/FrameScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale','sap/viz/framework/common/util/ObjectUtils'],function(o,B,O){var F=function(d,r){F.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.FrameScale";this._name=null;this._type="frame";this._initScale();};o.extend(F,B);F.prototype._initScale=function(){this._scale=d3.scale.ordinal();var d=[];for(var i=0,l=this._domain.length;i<l;i++){if(this._domain[i]){d.push(this._domain[i].v||this._domain[i]);}else{d.push(this._domain[i]);}}this._scale.domain(d).range(this._range);this._isReset=false;};F.prototype.getDomain=function(){this._ensureScaled();return this._domain;};F.prototype.getRange=function(){this._ensureScaled();return this._range;};F.prototype.scale=function(v){var d=this.getDomain();for(var i in d){if(O.deepEqual(d[i],v)){return this._scale(v?(v.v||v):v);}}return 0;};F.prototype._ensureScaled=function(){if(this._scale===undefined||this._isReset===true){this._initScale();}};return F;});define('sap/viz/chart/scales/FrameScaleProcessor',["sap/viz/chart/scales/FrameScale",'sap/viz/framework/scale/ScaleRepository'],function(F,S){var f=function(d,n,s,p,o){o=o||{};var a=o.seriesType,r=o.role;var b=[];var c=[];if(d.values&&d.values[0]){for(var i=0;i<d.values[0].length;i++){b.push(d.values[0][i]);c.push(i);}}s.add(n,{serializable:true,defaultValue:{"feed":n,"type":"frame","currentValue":null,}});s.add(n+".domain",{serializable:true,readonly:true,defaultValue:b,});var f=new F(b,c);return f;};S["frameScale"]=f;return f;});define('sap/viz/chart/dynamicScales/StackedDyScaleProcessor',['sap/viz/framework/common/util/oo','sap/viz/framework/scale/DynamicScaleRepository',"sap/viz/chart/dynamicScales/BaseDyScaleProcessor"],function(o,D,B){function S(t,p,d,r){S.superclass.constructor.apply(this,arguments);}["stacked_bar","stacked_column","dual_stacked_bar","dual_stacked_column","timeseries_stacked_column","waterfall","horizontal_waterfall","timeseries_waterfall","stacked_waterfall","horizontal_stacked_waterfall","stacked_combination","horizontal_stacked_combination","dual_stacked_combination","dual_horizontal_stacked_combination","timeseries_stacked_combination",].forEach(function(t){D[t]=S;});o.extend(S,B);S.prototype.getMinMax=function(){var c=this.cleanValue;var m=false,a=false;var i=!!this._scales.valueAxis2;this._dataModel._series.forEach(function(s){var b=i&&s.measureMeta&&s.measureMeta.indexOf("valueAxis2")>-1;s.forEach(function(e){if(!e){return;}var v=c(this.getValue(e));if(b){a=a===false?v:a;a=Math.min(a,v);}else{m=m===false?v:m;m=Math.min(m,v);}},this);},this);var d=this._scales[this._mainValue].getAutoDomain().map(c);var r={minTable:[Math.max(m,0)],maxTable:[Math.max.apply(null,d)]};if(i){d=this._scales.valueAxis2.getAutoDomain().map(c);r.minTable2=[Math.max(a,0)];r.maxTable2=[Math.max.apply(null,d)];}return r;};return S;});define('sap/viz/chart/views/XYChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/legend/CombinationLegend',"sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/legend/LineLegend','sap/viz/framework/binding/bindingValidationUtil','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/chains/XYChains',"sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/dynamicScales/StackedDyScaleProcessor"],function Setup(o,C,P,a,T,b,L,c,d){var X=function(r,e){X.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;this.setValueAxisIndex(e.bindings);r.statusManager().add("plotArea.series",{get:this._getSeriesSettings.bind(this)});};o.extend(X,C);X.prototype._getSeriesSettings=function(){if(!this._data){return null;}return this._data.series.map(function(s){return this._getSingleSeriesSetting(s);}.bind(this));};X.prototype._getSingleSeriesSetting=function(s){if(!s.seriesMeta){return null;}var e={dataContext:d.buildBasic(this._data,s.seriesMeta,null,null,{})};if(this.isLine()){e.type="line";}else if(this.isBar()){e.type="bar";}else if(this._renderType.match(/area/)){e.type="area";}if(this._renderType.match(/area|stacked/)){e.stack="stacked";}return e;};X.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}X.superclass.setSize.apply(this,arguments);};X.prototype._getDataItems=function(){var e=["valueAxis","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn","seriesContext"];if(this._valueAxisIndex==="valueAxis2"){e[0]="valueAxis2";e[2]="color2";}return e;};X.prototype._createPlotContainer=function(i){this._plotArea=new P(this.runtime(),{renderType:this._renderType,valueAxisIndex:this._valueAxisIndex});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};X.prototype.isCombination=function(){return this._renderType.indexOf("combination")!==-1;};X.prototype.isLine=function(){return this._renderType.indexOf("line")!==-1;};X.prototype._getLegendDefinition=function(){if(this.isCombination()){return[a];}else if(this.isLine()){return[L];}else{return X.superclass._getLegendDefinition.apply(this,arguments);}};X.prototype.isBar=function(){return this._renderType.search(/bar|column/)!==-1;};X.prototype._getLegendInitOptions=function(){var n=this._renderType.search(/area/)===-1;if(this.isBar()){return[{defaultMarkerShape:"squareWithRadius",noFillSupport:n}];}else{return[{noFillSupport:n}];}};X.prototype.calculatePaddingInPX=function(p){var e=X.superclass.calculatePaddingInPX.apply(this,arguments);var i=false;var f=this._plotArea;if(f){var h=f._isHorizontal;if(b.isFunction(h)){i=f._isHorizontal();}else if(h===true){i=true;}}if((p.get("title.visible")===false)&&!i&&(p.get("valueAxis.visible")===true)){this.changePaddingTop(p,e);}return e;};X.prototype.setData=function(e,f){this.setValueAxisIndex(f);X.superclass.setData.apply(this,arguments);};X.prototype.setValueAxisIndex=function(e){this._valueAxisIndex=c.getValueAxisBindings(e)[0];var f=(this._valueAxisIndex==="valueAxis")?"valueAxis2":"valueAxis";this.runtime().zoneManager().remove("tempFeedingZone."+f);this.runtime().zoneManager().remove("tempPropertyZone."+f);};return X;});define('sap/viz/chart/metadata/bindings/XYBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.columnCategory",},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/plots/DataHandler',[],function Setup(){var H=function(){};H.prototype.reset=function(){};H.prototype.getBase=function(i,v){return 0;};H.prototype.add=function(i,v){return v;};H.prototype.destroy=function(){};var P=function(){};P.prototype.reset=function(l){this._sum=[];};P.prototype.getBase=function(i,v){if(this._sum[i]==null){this._sum[i]=0;}return this._sum[i];};P.prototype.add=function(i,v){if(this._sum[i]===0){this._sum[i]=v;}else if(this._sum[i]<0&&v>0){this._sum[i]=v;}else if(this._sum[i]*v>0){this._sum[i]+=v;}return this._sum[i];};P.prototype.destroy=function(){this._sum=null;};var S=function(){this._stackedBase=[];};S.prototype.destroy=function(){this._sum=null;this._stackedBase=null;};S.prototype.reset=function(){this._sum=[];this._stackedBase=[];};S.prototype.getBase=function(i,v,s){if(this._sum[i]==null){this._sum[i]=0;}if(this._stackedBase[i]&&this._stackedBase[i][s]!=null){return this._stackedBase[i][s];}else{return this._sum[i];}};S.prototype.add=function(i,v,s){if(this._stackedBase[i]==null){this._stackedBase[i]=[];}if(this._stackedBase[i][s]==null){this._stackedBase[i][s]=this._sum[i];return this._sum[i]+=v;}else{return this._stackedBase[i][s]+v;}};var a=function(){this._stackedBase=[];};a.prototype.reset=function(l){this._positiveSum=[];this._negativeSum=[];this._stackedBase=[];};a.prototype.destroy=function(){this._positiveSum=null;this._negativeSum=null;this._stackedBase=null;};a.prototype.getBase=function(i,v,s){if(this._positiveSum[i]==null){this._positiveSum[i]=0;}if(this._negativeSum[i]==null){this._negativeSum[i]=0;}if(this._stackedBase[i]&&this._stackedBase[i][s]!=null){return this._stackedBase[i][s];}else{if(v>=0){return this._positiveSum[i];}else{return this._negativeSum[i];}}};a.prototype.add=function(i,v,s){if(this._stackedBase[i]==null){this._stackedBase[i]=[];}if(this._stackedBase[i][s]==null){if(v>=0){this._stackedBase[i][s]=this._positiveSum[i];return this._positiveSum[i]+=v;}else{this._stackedBase[i][s]=this._negativeSum[i];return this._negativeSum[i]+=v;}}else{return this._stackedBase[i][s]+v;}};var b=function(){this._stackedBase=[];};b.prototype.reset=function(l){this._sum=[];this._stackedBase=[];};b.prototype.getBase=function(i,v,s){if(this._sum[i]==null){this._sum[i]=0;}if(this._stackedBase[i]&&this._stackedBase[i][s]!=null){return this._stackedBase[i][s];}else{return this._sum[i];}};b.prototype.add=function(i,v,s){if(this._stackedBase[i]==null){this._stackedBase[i]=[];}if(this._stackedBase[i][s]==null){this._stackedBase[i][s]=this._sum[i];if(this._sum[i]===0){this._sum[i]=v;}else if(this._sum[i]<0&&v>0){this._sum[i]=v;}else if(this._sum[i]*v>0){this._sum[i]+=v;}return this._sum[i];}else{return this._stackedBase[i][s]+v;}};b.prototype.destroy=function(){this._sum=null;this._stackedBase=null;};var W=function(){this._sum=[];this._base=[];this._addHistory={};};W.prototype.destroy=function(){this._sum=null;this._base=null;this._addHistory=null;};W.prototype.reset=function(l){this._sum=[];this._base=[];this._addHistory={};};W.prototype.getBase=function(i,v){if(this._base[i]==null){this._base[i]=v;this._sum[i]=v;}return this._base[i];};W.prototype.add=function(i,v){var k=i+"-"+v;if(!this._addHistory[k]){this._sum[i]+=v;this._addHistory[k]=true;}return this._sum[i];};var c=function(){};c.prototype.destroy=function(){this._sum=null;};c.prototype.reset=function(l){this._sum=[];};c.prototype.getBase=function(i,v){if(this._sum[i]==null){this._sum[i]=v;}return this._sum[i];};c.prototype.add=function(i,v){return this._sum[i]+=v;};return{getHandler:function(){return new H();},getStackHandler:function(s,i){if(s){return new a();}else if(i){return new P();}else{return new S();}},getPercentageStackHandler:function(){return new b();},getWTFHandler:function(){return new W();},getSTKWTFHandler:function(){return new c();},};});define('sap/viz/chart/components/plots/SeriesIterator',[],function(){function c(l,t){var i;switch(t){case"reverse":i={current:l,hasNext:function(){return this.current>0;},next:function(){return--this.current;},index:function(){return this.current;}};break;case"reverse_with_series":i={current:l,hasNext:function(){return this.current>0;},next:function(){return--this.current;},index:function(){return l-this.current-1;}};break;default:i={limit:l,current:-1,hasNext:function(){return this.current<this.limit-1;},next:function(){return++this.current;},index:function(){return this.current;}};break;}return i;}return{create:c};});define('sap/viz/chart/components/plots/model/DataPointInfo',[],function(){var D=function(s,i,r,a){this._seriesIndex=s;this._itemIndex=i;this._rawData=r;this._id=a;this._node=null;this._position=null;this._isVisible=true;this._refNode=null;};D.prototype.getSeriesIndex=function(){return this._seriesIndex;};D.prototype.getItemIndex=function(){return this._itemIndex;};D.prototype.getRawData=function(){return this._rawData;};D.prototype.setRawData=function(r){this._rawData=r;return this;};D.prototype.getId=function(){return this._id;};D.prototype.init=function(c,d,a,b,o){this._config=c;this._dataId=d;this._data=a;this._dataPointId=b;this._onlyOneMndIndex=o;};D.prototype.reset=function(){this._position=null;this._config=null;this._dataId=null;this._data=null;this._dataPointId=null;};D.prototype.getOnlyOneMndIndex=function(){return this._onlyOneMndIndex;};D.prototype.getConfig=function(){return this._config;};D.prototype.setConfig=function(c){this._config=c;};D.prototype.getDataId=function(){return this._dataId;};D.prototype.getData=function(){return this._data;};D.prototype.setData=function(d){this._data=d;};D.prototype.getDataPointId=function(){return this._dataPointId;};D.prototype.getContext=function(){return this._config.ctx;};D.prototype.getAdditionCtx=function(){return this._config.additionCtx;};D.prototype.getPosition=function(){return this._position;};D.prototype.getNode=function(){return this._node;};D.prototype.setNode=function(n){this._node=n;return this;};D.prototype.getRefNode=function(){return this._refNode;};D.prototype.setRefNode=function(n){this._refNode=n;return this;};D.prototype.setPosition=function(p){this._position=p;return this;};D.prototype.setVisible=function(_){this._isVisible=_;return this;};D.prototype.isVisible=function(){return this._isVisible;};return D;});define('sap/viz/chart/components/plots/model/Series',[],function(){var S=function(){this._datapoints=[];this._context=null;};var p=S.prototype;p.setDataPoint=function(i,d){this._datapoints[i]=d;return this;};p.getDataPoint=function(i){return this._datapoints[i];};p.setLength=function(l){this._datapoints.length=l;return this;};p.getDataPoints=function(){return this._datapoints;};p.setContext=function(_){this._context=_;return this;};p.getContext=function(){return this._context;};return S;});define('sap/viz/chart/components/renderers/ReferenceLineRenderer',['sap/viz/framework/common/util/SVG','sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/StyleUtils",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/NameColorUtils',"sap/viz/framework/common/util/DataGraphics"],function(S,T,C,a,b,F,N,D){var R={};var P=C.REFERENCE_LINE.LABEL_PADDING;var M=30;var c=C.REF_LINE_DASH_TYPE_ARRAY;var L=0.8;var d=180;var e=1;var f="v-referenceline-group";var g="v-referenceline-labels-group";R.TEXT_PADDING=P;R._combineConfig=function(h,o){var i=o.defaultStyle;var k={};k.strokeColor=h.color?h.color:i.color;k.lineType=h.type?h.type:i.type;k.strokeWidth=h.size?h.size:i.size;if(k.strokeWidth<1||k.strokeWidth>7){k.strokeWidth=1;}k.label={};k.label.background=i.label.background;k=this._checkLabelVisible(h,k);if(k.label.visible===false){return k;}var l=i.label;k=this._getLabelStyle(k,h,l);if(h.label&&h.label.background){k.label.background=h.label.background;}k.label.visible=true;k.label.text=h.label.text;k.lineOpacity=L;k.label.fontSize=T.validateFontStyle(k.label.fontSize);k.label.textSize=T.fastMeasure(k.label.text,k.label.fontSize,k.label.fontWeight,k.label.fontFamily);k.strokeColor=N.convertColor(k.strokeColor);k.label.background=N.convertColor(k.label.background);k.label.color=N.convertColor(k.label.color);if(!b.isExist(k.strokeColor)||!k.strokeColor.length){k.strokeColor=i.color;}if(!b.isExist(k.label.background)||!k.label.background.length){k.label.background=i.label.background;}if(!b.isExist(k.label.color)||!k.label.color.length){k.label.color=i.label.color;}if(o.props&&o.props.realSize){k.realWidth=o.props.realSize.width;k.realHeight=o.props.realSize.height;}return k;};R._checkLabelVisible=function(h,i){if(h.label==null||h.label.visible===false||h.label.text==null){i.label.visible=false;}return i;};R._getLabelStyle=function(h,i,l){for(var k in l){if(l.hasOwnProperty(k)){if(i.label.style&&i.label.style.hasOwnProperty(k)){h.label[k]=i.label.style[k];continue;}h.label[k]=l[k];}}return h;};R._drawReferenceLine=function(h,k,p,i,l,w,m){var n=S.create("g",p);n.setAttribute("class","v-referenceline v-referenceline-"+k);var o=S.create("line",n);var r=S.create("rect",n);o.setAttribute("stroke",h.strokeColor);o.setAttribute("stroke-width",h.strokeWidth);o.setAttribute("shape-rendering","crispEdges");if(C.GRIDLINE_TYPE.DASHED===h.lineType||C.GRIDLINE_TYPE.DOTTED===h.lineType){o.setAttribute("stroke-dasharray",c);}else if(C.GRIDLINE_TYPE.INCISED===h.lineType){o.setAttribute("stroke","#ffffff");}var x;if(isNaN(h.strokeWidth)){x="-"+parseFloat(h.strokeWidth.slice(0,-2))/2+"px";}else{x="-"+h.strokeWidth/2;}o.setAttribute("opacity",h.lineOpacity);r.setAttribute("fill","transparent");o.setAttribute("x1",0);o.setAttribute("y2",0);if(l){o.setAttribute("y1",0);o.setAttribute("x2",w);r.setAttribute("y",x);r.setAttribute("height",h.strokeWidth);r.setAttribute("width",w);}else{o.setAttribute("y1",m);o.setAttribute("x2",0);r.setAttribute("x",x);r.setAttribute("width",h.strokeWidth);r.setAttribute("height",m);}};R._buildLabelObj=function(o){var h=o.combinedConfig;var l=S.create("g",o.labelsGroupDOM);l.setAttribute("class","v-referenceline-label v-referenceline-label-"+o.key);l.setAttribute("fill",h.label.color?h.label.color:h.axisColor);l.setAttribute("font-size",h.label.fontSize);l.setAttribute("font-weight",h.label.fontWeight);l.setAttribute("font-family",h.label.fontFamily);l.setAttribute("font-style",h.label.fontStyle);var t=h.label.textSize;var i=t.width;var k;if(i>d){i=d;k=d;}var m=false;var r=S.create("rect",l);r.setAttribute("rx",e);r.setAttribute("ry",e);r.setAttribute("fill",h.label.background);var n={};n.width=i+2*P;n.height=t.height+P;n.x=0;n.y=0;var p;var q=S.create("text",l);q.textContent=h.label.text;q.setAttribute("text-anchor",h.textAnchor);if(!o.isHorizontal){var w=o.pos*o.width;if(o.axisLayout[o.key]==="bottom"){n.y=o.height-n.height-1;}else{n.y=1;}if(w+i+P*2+1<=o.width){n.x=1;}else if(w-i-1>=P*2){m=true;n.x=(-i-P*2-1);}else{k=o.width-w-P*2-1;if(k>=M){n.x=1;}else{k=w-P*2-1;if(k>=M){m=true;n.x=(-k-P*2-1);}else{m=true;k=o.width-w-P*2-1;n.x=1;}}k=Math.max(k,2*P);k=Math.min(k,d);}}else{p={};if(o.axisLayout[o.key]==="right"){m=true;n.x=Math.max((o.width-n.width),0);}else{n.x=0;}var s=o.height;if(o.combinedConfig.realHeight){s=o.combinedConfig.realHeight;}var u=(1-o.pos)*s;if(u>=(s-n.height/2+1)){n.y=(-n.height+1);}else if(u>=(n.height/2)){n.y=(-(n.height/2));}else{n.y=-1;}if(t.width+P*2>o.width){k=Math.min(o.width-P*2,d);}}if(k!=null){var v=a.convertToCss(h.label);var x=T.ellipsis(h.label.text,q,k,v,h.ellipsisOptions);var y=x.realLength;if(m){n.x+=(k-y);}n.width=(y+P*2);if(!b.isNonEmptyString(x.text)){d3.select(l).remove();l=null;}}if(!o.isHorizontal){n.x+=o.initPos;n.initPosX=o.initPos;}else{n.y+=o.initPos;n.initPosY=o.initPos;}var z;if(l){z={};z.DOM=l;z.rect=n;if(p){if(n.x===0){p.x=o.width-n.width;}else{p.x=0;}p.y=n.y;p.width=n.width;p.height=n.height;z.candidateRect=p;}}return z;};R._layoutAndUpdateLabelDOM=function(o,l){if(l){if(o&&o.plotInstance){var h={};h.isHorizontal=o.isHorizontal;h.width=o.width;h.height=o.height;h.candidateRect=l.candidateRect;o.plotInstance.getReferenceLines().smartLayoutReferenceLineLabel(l.rect,h);}var t=o.combinedConfig.label.textSize;var r=l.DOM.querySelector("rect");var i=l.DOM.querySelector("text");r.setAttribute("width",l.rect.width);r.setAttribute("height",l.rect.height);var k=l.rect.initPosX;var m=l.rect.initPosY;if(!b.isExist(k)){k=0;}if(!b.isExist(m)){m=0;}r.setAttribute("x",l.rect.x-k);i.setAttribute("x",l.rect.x-k+P);r.setAttribute("y",l.rect.y-m);i.setAttribute("y",l.rect.y-m+P/2-t.y);l.DOM.setAttribute("transform","translate("+k+", "+m+")");D.setData(l.DOM,{initPosX:l.rect.initPosX,initPosY:l.rect.initPosY});}};R._drawLabel=function(o){var l=this._buildLabelObj(o);this._layoutAndUpdateLabelDOM(o,l);return l;};R._searchXYAxisHandler=function(x,y,k){var h=this._searchAxisHandler(x,k);if(h){return{handler:h,isHorizontal:false};}h=this._searchAxisHandler(y,k);if(h){return{handler:h,isHorizontal:true};}return null;};R._searchAxisHandler=function(h,k){for(var i=0;i<h.length;i++){if(h[i].id===k&&h[i].continuous){return h[i]._scale;}}return null;};R._calculatePosition=function(i,h,k){var v=h.handler.normalizeValue(k);var p=i?v:h.handler.scale(v);return p;};function j(x,y){var l={};var i=x.filter(function(h){return h.type==="value";}).map(function(h){return h.id;}).sort();var k=y.filter(function(h){return h.type==="value";}).map(function(h){return h.id;}).sort();if(i.length===2&&k.length===0){l[i[0]]="top";l[i[1]]="bottom";}else if(i.length===0&&k.length===2){l[k[0]]="left";l[k[1]]="right";}else{if(i[0]){l[i[0]]="top";}if(k[0]){l[k[0]]="right";}}return l;}R._isInvisiblePosition=function(p){return(p<0||p>1);};R._renderSub=function(o){var r;var h=j(o.xHandlers,o.yHandlers);for(var i=0;i<o.lineStyles[o.key].length;i++){r={};var k=o.lineStyles[o.key][i];if(k.visible===false){continue;}if(k.value==null||isNaN(k.value)||k.value===""){continue;}var l=this._searchXYAxisHandler(o.xHandlers,o.yHandlers,o.key);if(l==null){continue;}var p=this._calculatePosition(o.isPercentage,l,k.value);if(this._isInvisiblePosition(p,k)){continue;}var m=this._combineConfig(k,o,l);m.axisColor=o.props[o.key+'Color'];m.textAnchor=o.props.textAnchor;m.ellipsisOptions=o.props.ellipsisOptions;m.xOffset=(o.props.offset&&o.props.offset.x)||0;var n=S.create("g",o.labelsGroupDOM,true);n.setAttribute("class",l.isHorizontal?"v-referenceline-horizontal":"v-referenceline-vertical");var q=l.isHorizontal?(1-p)*o.height:p*o.width;n.setAttribute("transform",l.isHorizontal?"translate("+0+", "+q+")":"translate("+q+", "+0+")");var s={value:Number(k.value),id:i};if(l.isHorizontal){s.initPosY=q;}else{s.initPosX=q;}D.setData(n,s);this._drawReferenceLine(m,o.key,n,p,l.isHorizontal,o.width,o.height);if(m.label.visible){var t={};t.combinedConfig=m;t.key=o.key;t.referenceLineG=n;t.pos=p;t.initPos=q;t.labelsGroupDOM=o.labelsGroupDOM;t.isHorizontal=l.isHorizontal;t.width=o.width;t.height=o.height;t.axisLayout=h;t.plotInstance=o.plotInstance;var u=this._drawLabel(t);if(u){r.labelRect=u.rect;if(o&&o.plotInstance&&r.labelRect){o.plotInstance.getReferenceLines().addReferenceLineItem(r);}}}}};R.render=function(o){if(o.props.referenceLine==null){return;}if(o&&o.plotInstance){o.plotInstance.getReferenceLines().cleanReferenceLineItems();}var r=o.props.referenceLine;var h=r.defaultStyle;var l=r.line;var i=false;if(l&&l.timeAxis){if(o.dataModel&&o.dataModel._rawData){i=F.isFiscal(o.dataModel._rawData);}l.timeAxis.forEach(function(s){if(i){s.value=F.fiscalToQuantity(s.value,o.originalProps);}else{s.value=new Date(s.value);}});}var k=o.selection.querySelector("."+f);if(!k){k=S.create("g",o.selection);k.setAttribute("class",f);if(o.clipPath){k.setAttribute("clip-path","url(#"+o.clipPath.getAttribute('id')+")");}}else{var m=null;while((m=k.firstChild)!=null){k.removeChild(m);}}var n=S.create("g",k);n.setAttribute("class",g);o.lineStyles=l;o.defaultStyle=h;o.referenceLineGroup=k;o.labelsGroupDOM=n;for(var p in l){if(l.hasOwnProperty(p)){o.key=p;this._renderSub(o);}}};return R;});define('sap/viz/chart/components/referencelines/BaseReferenceLines',["sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent',"sap/viz/framework/common/util/Constants"],function(O,o,U,C){var P=C.REFERENCE_LINE.LABEL_PADDING;var B=function(r){B.superclass.constructor.apply(this,arguments);this._referenceLineItems=[];};o.extend(B,U);B.prototype.destroy=function(){this._referenceLineItems=null;};B.prototype.addReferenceLineItem=function(r){var a=O.clone(r);this._referenceLineItems.push(a);return a;};B.prototype.cleanReferenceLineItems=function(){this._referenceLineItems=[];};B.prototype._labelOverlapFactor=function(n){var i;var a=0;var b=0;var c=n.x-P;var d=n.x+n.width+P;var e=n.y-P;var f=n.y+n.height+P;var t;var g;var h;var j;var k;var l;var m;var p;var q;for(i=0;(this._referenceLineItems&&i<this._referenceLineItems.length);i++){t=this._referenceLineItems[i].labelRect;g=t.x-P;h=t.x+t.width+P;j=t.y-P;k=t.y+t.height+P;b+=(h-g)*(k-j);l=Math.max(c,g);m=Math.min(d,h);p=Math.max(e,j);q=Math.min(f,k);if((m>l)&&(q>p)){a+=(m-l)*(q-p);}}var r=0;if(b>0){r=a/b;}return r;};B.prototype.smartLayoutReferenceLineLabel=function(n,l){var a;if(!l.isHorizontal){var y;var m=Number.MAX_VALUE;var b=n.y;a=Number.MAX_VALUE;for(y=n.y;(a&&y<=(l.height-n.height));y++){n.y=y;a=this._labelOverlapFactor(n);if(a<m){m=a;b=y;}}n.y=b;}else if(l.candidateRect){a=this._labelOverlapFactor(n);var c=this._labelOverlapFactor(l.candidateRect);if(a&&c<a){n.x=l.candidateRect.x;n.y=l.candidateRect.y;}}};return B;});define('sap/viz/chart/components/referencelines/DualReferenceLines',['sap/viz/framework/common/util/oo','sap/viz/chart/components/referencelines/BaseReferenceLines',],function(o,B){var D=function(r){D.superclass.constructor.apply(this,arguments);};o.extend(D,B);D.prototype.smartLayoutReferenceLineLabel=function(n,l){};return D;});define('sap/viz/chart/components/util/ZoomUtil',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/Constants',],function Setup(T,F,C){return{isZoomRangeValid:function(z,a,d){if(T.isExist(z)){z=new Date(z).getTime();}z=parseInt(z);if(T.isExist(a)){a=new Date(a).getTime();}a=parseInt(a);if(!isNaN(z)||!isNaN(a)){if(isNaN(z)){z=d[0];}if(isNaN(a)){a=d[1];}return!(z>d[1]||a<d[0]||z>=a);}return false;},getZoomRange:function(p,d,h){function a(b){if(b===C.PLOTAREA.FIRST_DATAPOINT){return d[0];}else if(b===C.PLOTAREA.LAST_DATAPOINT){return d[1];}else if(!!b&&h){return b.categoryAxis;}else{return b;}}var s,e,i=!p.get('interaction.noninteractiveMode');if(i){s=p.get('plotArea.window.start');e=p.get('plotArea.window.end');var v=F.startEndConvertor(s,e,p);s=a(v.start);e=a(v.end);}return[s,e];},isRangeIncomplete:function(r){if(!T.isExist(r)){return false;}var e=T.isExist(r[0]);var a=T.isExist(r[1]);return(e&&!a)||(!e&&a);}};});define('sap/viz/chart/components/plots/BasePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/UIComponent','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/SeriesIterator','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/datalabels/DataLabels','sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/Background","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/SVG','sap/viz/chart/components/renderers/ReferenceLineRenderer','sap/viz/chart/components/referencelines/BaseReferenceLines','sap/viz/chart/components/referencelines/DualReferenceLines','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/util/ColorUtil"],function Setup(o,O,U,D,S,a,b,c,C,d,N,B,e,f,g,r,h,l,T,x,P,Z,m){var n=C.CSS.CLASS;var p=function(i,j){p.superclass.constructor.apply(this,arguments);this._options=j||{};this._isInTrellis=this._options.inTrellis;this._needApplyChanges=false;this._dataHandler=this._getDataHandler();this._dataPointRenderer=undefined;this._seriesRenderer=this._getSeriesRenderer();this._randomSuffix=O.guid();this._xHandlers=this._getXHandlers();this._yHandlers=this._getYHandlers();this._dataLabels=this._getDataLabels(this._name+'.dataLabel',i);this._referenceLines=this._getReferenceLines(i);this._semanticMgr=this.runtime().semanticManager();this._semanticMgr.bindDataPointProperty(this._name+".dataPointStyle",this._name+".dataPointStyleMode");this._semanticMgr.bindSeriesStyleProperty(this._name+".seriesStyle");this._effectManager=this.runtime().effectManager();this._background=new B(i,{name:'background',properties:this._properties});this._selection=null;this._parent_trellis=null;this._exposeMoreEvents("reRenderComplete");this._offset={x:0,y:0};this._strokeProp=this._properties.origin.get('plotArea.dataPoint.stroke');this._graphicModel=this.runtime().graphicModel();if(this._graphicModel){this._graphicModel.registerExposedModule('plot');}this._dataPointClasses=[n.DATAPOINT,n.MORPHABLEDATAPOINT,n.DATAPOINTDEFAULT];this.runtime().statusManager().add("plotArea.window");};o.extend(p,U);p.prototype._getXHandlers=function(){return[];};p.prototype._getYHandlers=function(){return[];};p.prototype._getDataHandler=function(){return{"valueAxis":D.getHandler()};};p.prototype._getSeriesRenderer=function(){};p.prototype._getDataLabels=function(i,j){return new c(j,{name:i});};p.prototype._getReferenceLines=function(i){var j;if(this._options&&this._options.isDualValueAxis){j=new l(i);}else{j=new h(i);}return j;};p.prototype.getReferenceLines=function(){return this._referenceLines;};p.prototype.setData=function(i){p.superclass.setData.apply(this,arguments);if(this._dataLabels){this._dataLabels.setData(i);}this._needApplyChanges=true;this._recordPlotWindow();};p.prototype.setSize=function(i){p.superclass.setSize.apply(this,arguments);this._background.setSize(i);if(this._dataLabels){this._dataLabels.setSize(i);}this._needApplyChanges=true;};p.prototype.getRealSize=function(){return{width:this._realSize.width,height:this._realSize.height};};function q(v,w){if(!w){return[];}var y=v.categoryAxis;var z=y.scale.getDomain();var A=y.metaData;var E=[];for(var i=0;i<A.length;++i){if(w.hasOwnProperty(A[i].id)){E.push(w[A[i].id]);}else{break;}}var F=[];var j=0,k=0;var G=-1;var H=0;var I=0;if(E.length){for(;j<z.length;++j){for(k=0;k<E.length;++k){if(z[j][k]!=E[k]){break;}}if(k>0){if(k>G+1){G=k-1;H=j;}if(k===G+1){I=j;}}}}if(G>=0){F.push(H);F.push(I);}return F;}p.prototype._getCategoryRange=function(i){if(!this._data.categoryAxis){return null;}var j=this._data.categoryAxis.scale.getDomain().length-1;var k=[0,j];var v=Z.getZoomRange(this._properties.origin,k,true);var w=v[0];var y=v[1];if(!T.isExist(w)&&!T.isExist(y)){return null;}var z=[0,j];var A=T.isNumber(w)?[w,w]:q(this._data,w);var E=T.isNumber(y)?[y,y]:q(this._data,y);if(A.length>0&&E.length>0){z[0]=Math.min(A[0],E[0]);z[1]=Math.max(A[1],E[1]);}else if(A.length>0){z[0]=A[0];z[1]=null;}else if(E.length>0){z[0]=null;z[1]=E[1];}return z;};p.prototype._getTimeRange=function(){function i(z){var A=z;if(T.isExist(A)){A=new Date(A).getTime();A=parseInt(A);}return A;}if(!this._data.timeAxis){return null;}var j=this._data.timeAxis.scale.getDomain();var k=this._properties.origin;var v=Z.getZoomRange(k,j);var w=i(v[0]);var y=i(v[1]);return[w,y];};p.prototype._isRangeIncomplete=function(i){return Z.isRangeIncomplete(i);};p.prototype._fillRange=function(i){if(!T.isExist(i[0])){i[0]=0;}if(!T.isExist(i[1])){var j=this._data.categoryAxis.scale.getDomain().length-1;i[1]=j;}return i;};p.prototype._shiftOffsetForIncompleteRange=function(i,j){var k=this.isHorizontal()?this._realSize.height:this._realSize.width;var v=this.isHorizontal()?this._size.height:this._size.width;var w=k/j;var y;if(!T.isNumber(i[0])){y=-(i[1]+1)*w+v;}else{y=-i[0]*w;}if(y>0||-y+v>k){this._fillRange(i);return false;}else{if(this.isHorizontal()){this._offset.y=y;}else{this._offset.x=y;}return true;}};p.prototype.destroy=function(){p.superclass.destroy.call(this);this._properties=null;this._options=null;this._needApplyChanges=null;if(this._dataHandler){for(var k in this._dataHandler){if(this._dataHandler.hasOwnProperty(k)){if(this._dataHandler[k]){this._dataHandler[k].destroy();}delete this._dataHandler[k];}}}this._dataHandler=null;this._dataPointRenderer=null;this._seriesRenderer=null;this._randomSuffix=null;if(this._xHandlers){this._xHandlers.forEach(function(i){i.destroy();});}this._xHandlers=null;if(this._yHandlers){this._yHandlers.forEach(function(i){i.destroy();});}this._yHandlers=null;if(this._dataLabels&&this._dataLabels.destroy){this._dataLabels.destroy();}this._dataLabels=null;if(this._referenceLines&&this._referenceLines.destroy){this._referenceLines.destroy();}this._referenceLines=null;this._background=null;if(this._selection){this._selection.remove();}this._selection=null;if(this._parent_trellis){this._parent_trellis.remove();}this._parent_trellis=null;this._series=[];this._customMarkerRenderer=null;this._semanticMgr=null;this._strokeProp=null;this._effectManager=null;this._plotDpParentNode=null;};p.prototype._updateBackgroundColor=function(){if(this._isInTrellis){this._background.setData({'color':'transparent','hasBorder':false});}else{this._background.setData(null);}};p.prototype.render=function(i,j,k){this._selection=i;if(this._needApplyChanges){this._applyChanges();this._needApplyChanges=false;}this._drawingEffect=this._properties.get('drawingEffect');this._preRender();var v=i.node();this._EmptyDOM(v);this._updateBackgroundColor();this._background.render(i);var w=this._createMainNode(v);if(!this._isInTrellis){var y="translate("+(this._offset.x)+", "+(this._offset.y)+")";for(var z in w){if(w.hasOwnProperty(z)){w[z].setAttribute("transform",y);}}}this._plotDpParentNode=d3.select(w.plotMainNode);this._drawGridlines(this._plotDpParentNode);this._semanticMgr.beginSession();this._drawDatapoints(this._getDpParentNode(),j,k);this._semanticMgr.endSession();};p.prototype._EmptyDOM=function(i){f.empty(i);};p.prototype._preRender=function(){this._customMarkerRenderer=this._properties.get("markerRenderer");this._series=[];};p.prototype._postRender=function(i){this._drawReferenceLine();};p.prototype._recordPlotWindow=function(){var w=this._properties.get("window");w=w&&(w.start||w.end)?w:null;this.runtime().statusManager().set("plotArea.window",w);};p.prototype.getReferenceLineRenderer=function(){return r;};p.prototype._drawReferenceLine=function(i){var j=O.extend(true,{},this._properties.get('referenceLine'));var k=this._properties.getDefault('referenceLine');if(j&&j.defaultStyle){if(!T.isExist(j.defaultStyle.color)||!j.defaultStyle.color.length){j.defaultStyle.color=k.defaultStyle.color;}if(!T.isExist(j.defaultStyle.label.background)||!j.defaultStyle.label.background.length){j.defaultStyle.label.background=k.defaultStyle.label.background;}if(!T.isExist(j.defaultStyle.label.color)||!j.defaultStyle.label.color.length){j.defaultStyle.label.color=k.defaultStyle.label.color;}}var r=this.getReferenceLineRenderer();if(null==j||!r){return;}var v=O.extend(true,{},this._offset,i);var w={referenceLine:j,offset:v,realSize:this._realSize};var y=this._properties.origin;var z=j.line;for(var A in z){if(z.hasOwnProperty(A)){w[A+'Color']=y.get(A+'.color');}}w.textAnchor=null;if(this.runtime){var E=this.runtime().envManager();if(E){w.textAnchor=E.textAnchor();}w.ellipsisOptions={};w.ellipsisOptions.reverseDots=(E&&E.reverseDots());w.ellipsisOptions.needRealLength=true;}var F={};F.dataModel=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();F.xHandlers=this._xHandlers;F.yHandlers=this._yHandlers;F.props=w;F.width=this._size.width;F.height=this._size.height;F.selection=this._getDpPlotNode();F.isPercentage=(this._data._seriesType==='percentage');F.originalProps=y;F.plotInstance=this;F.clipPath=this.clipPath;r.render(F);};p.prototype._getDpPlotNode=function(){if(this._selection){return this._selection.node();}};p.prototype._getDpParentNode=function(){return this._plotDpParentNode;};p.prototype._repositionReferenceLine=function(){if(!this._selection){return;}var j=this._getDpPlotNode(),k=j.querySelectorAll(".v-referenceline-horizontal,.v-referenceline-vertical,.v-referenceline-label"),i;var v=this.runtime().statusManager().get("plot.transform.scale"),w=this.runtime().statusManager().get("plot.transform.translate");for(i=0;i<k.length;i++){x.adjustXYTranslate(k[i],v,w);}};p.prototype._drawDataLabels=function(i,j){this._dataLabels.setDataShapesGroupNode(j);this._dataLabels.setRealSize(this._realSize);this._parent_trellis=i;var k=this._dataLabels;if(!this._isInTrellis){var v=i.selectAll('.'+C.CSS.CLASS.DATAPOINT)[0];k.render(i,v);}};p.prototype.drawTrellisDataLabels=function(i,j){if(!this._parent_trellis||!this._dataLabels){return;}var k=this._dataLabels;k.setTrellisCell(i,j);var v=this._parent_trellis.selectAll('.'+C.CSS.CLASS.DATAPOINT)[0];k.render(this._parent_trellis,v);};p.prototype._createMainNode=function(i){var w=this._size.width,j=this._size.height;var k,v;var y=!this._options.disableClipPath;if(y){k=g.create("clipPath",i);v="plot_main_clipPath_"+this._randomSuffix;k.setAttribute("id",v);var z=g.create("rect",k);var A=this._runtime._statusMgr.get('plot.transform.scale');this._setClipPathAttribute(z,w,j,A,this._data);this.clipPath=k;}var E=g.create("rect",i);E.setAttribute("class","v-plot-bound v-bound "+P.ZOOM_CONTAINER_CLASS);E.setAttribute("width",w);E.setAttribute("height",j);E.setAttribute("fill","transparent");var F=g.create("g",i);var G=g.create("g",F);G.setAttribute("class","v-plot-main");G.setAttribute('role','list');if(y&&!this._notNeedClippath){F.setAttribute("clip-path","url(#"+v+")");}return{plotMainNode:G};};p.prototype._setClipPathAttribute=function(i,w,j,k,v){var y=this._getClipPathAttribute(w,j,k,v);for(var z in y){if(y.hasOwnProperty(z)){i.setAttribute(z,y[z]);}}};p.prototype._getClipPathAttribute=function(w,i){return{y:-1,width:w+1,height:i+1};};p.prototype._applyChanges=function(){var i=this._realSize;var j=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initXHandler(this._xHandlers,this._data,i.width,j);this._initYHandler(this._yHandlers,this._data,i.height,j);};p.prototype._initXHandler=function(i,j,k,v){s(i,j,k,v);};p.prototype._initYHandler=function(i,j,k,v){s(i,j,k,v);};function s(j,k,v,w){var y=null;for(var i=0,z=j.length;i<z;i++){var A=j[i].id;var E=k[A];if(E==null||E.scale==null){continue;}y=E.scale;j[i].init(y,w,v);}}p.prototype._drawGridlines=function(i){};p.prototype._getSeries=function(){return this._data.series;};p.prototype._buildLegendTextData=function(i){return[];};p.prototype._getOnlyOneMndIndex=function(i,j){return-1;};p.prototype.createSeriesIterator=function(i){return S.create(i);};p.prototype._drawDatapoints=function(i){var j=this._getSeries();var k=j.length;if(this._seriesRenderer){this._seriesRenderer.init(k);}for(var v in this._dataHandler){if(this._dataHandler[v].reset){this._dataHandler[v].reset();}}var w;var y=0;var z=-1;if(this._properties.get("dataLabel.visible")){var A=this._buildLegendTextData(j);if(k>0){z=this._getOnlyOneMndIndex(j[0],A);}}var E;var F;var G;var H;var I;var J;var K;var L;var M=this.createSeriesIterator(k);while(M.hasNext()){E=M.next();G=j[E];if(!G){continue;}this._series[E]=new b();for(F=0;F<G.length;F++){H=G[F];if(!H){continue;}I=this._getPosition(E,F,H);if(!I){continue;}w=y++;J=this._buildWrapperConfig(H,I,H.dp.context());K=this._buildData(J);L=this._createDataPoint(E,F,J,K,I,w,H,z);this._series[E].setDataPoint(F,L);}}var Q=g.create("g");Q.setAttribute("class",n.DATAPOINT_GROUP);this._showDataPoints(Q);if(this._seriesRenderer){this._seriesRenderer.render(Q);}this._postRender(Q);i.node().appendChild(Q);if(this._dataLabels){this._drawDataLabels(i,Q);}};p.prototype._preShowDataPoints=function(){};p.prototype._showDataPoints=function(i){this._preShowDataPoints();var j=[];var k=false;var v;var w;var y;var z;var A;var E;var F;var G;var H=this._series.length;var I;for(v=0;v<H;v++){y=this._series[v];if(!y){continue;}z=this._getDataPointRenderer(v);if(!z){continue;}A=y.getDataPoints();E=false;I=A.length;for(w=0;w<I;w++){F=A[w];if(!F){continue;}E=true;G=this._drawDataPoint(z,F);F.setNode(G);if(G){j.push(G);}if(this._seriesRenderer){this._seriesRenderer.addDataPoint(v,w,F.getConfig(),F.getPosition(),G);}else{if(G){i.appendChild(G);}}if(G){y.setDataPoint(w,null);}}if(!E){this._series[v]=null;}else{k=true;}}if(!k){this._series=[];}return j;};p.prototype._setOffset=function(i){if(!i){return;}if(i.hasOwnProperty("x")&&i.x!=null){this._offset.x=i.x;}if(i.hasOwnProperty("y")&&i.y!=null){this._offset.y=i.y;}};p.prototype.getOffset=function(i){return{x:this._offset.x,y:this._offset.y};};p.prototype.scroll=function(i){this._setOffset(i);if(!this._selection){return;}this._applyScroll();this._repositionReferenceLine();};p.prototype._applyScroll=function(){if(!this._selection){return;}var i=this._getDpPlotNode().querySelector("."+n.DATAPOINT_GROUP);var j=this._showDataPoints(i);if(this._seriesRenderer){this._seriesRenderer.update();}if(this._dataLabels){this._dataLabels.render(this._getDpParentNode(),j);}if(!this._isInTrellis){var k="translate("+(this._offset.x)+", "+(this._offset.y)+")";this._selection.select("g.v-plot-main").node().setAttribute("transform",k);}if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};p.prototype.getSeries=function(){return this._series;};p.prototype._isEmptySeries=function(i){for(var j=0;j<i.length;j++){if(!!i[j]){return false;}}return true;};p.prototype._getAxisPosition=function(j,k,v,w,y){var z=this._dataHandler;var A={index:v,seriesIndex:k,shape:y};for(var i=0,E=j.length;i<E;i++){var F=j[i];if(w.hasOwnProperty(F.id)){A.dataHandler=z[F.id];return F.scale(w[F.id],A);}}A.rawData=w;A.dataHandler=null;return j[0].scale(null,A);};p.prototype._getXPosition=function(i,j,k){return this._getAxisPosition(this._xHandlers,i,j,k);};p.prototype._getYPosition=function(i,j,k){return this._getAxisPosition(this._yHandlers,i,j,k);};p.prototype.getDataPointPosition=function(i,j){var k=this._data.series[i][j];return this._getPosition(i,j,k);};p.prototype._getPosition=function(i,j,k){var v=this._getXPosition(i,j,k);var y=this._getYPosition(i,j,k);if(isNaN(v[0])||isNaN(v[1])||isNaN(y[0])||isNaN(y[1])){return null;}return{x:v[0],width:v[1],y:y[0],height:y[1]};};var t=["plotArea.grid.background.color","plotArea.background.color","general.background.color"];p.prototype._getBackgroundColor=function(){var i=this.runtime().propertyManager();var j="plotArea.dataPoint.stroke.color";var k="plotArea.dataPoint.stroke.visible";var v=m.getBgColor(i,i.get(k)?t.concat(j):t);return N.convertColor(v);};p.prototype._buildWrapperConfig=function(i,j,k,v){v=v||{};var w=this._buildConfig(i,j,k);var y=i.dp&&i.dp.additionCtx();w.additionCtx=y;if(this._strokeProp&&this._strokeProp.visible&&w.graphic){w.graphic.stroke=w.graphic.stroke||this._strokeProp.color;w.graphic.strokeWidth=w.graphic.strokeWidth||1;}if(v.seriesStyle){if(v.seriesStyle.dpPattern){w.graphic.pattern=v.seriesStyle.dpPattern;}if(v.seriesStyle.color){w.graphic.fill=v.seriesStyle.color;}}w.graphic.bgColor=this._getBackgroundColor();if(!i.isNullValue){k=k||i.dp.context();}if(w.isMatchedHighlightContext===false){v.disableSemantic=true;}w=this._getFillColorConfig(w,k,v,i);if(i.dp){w.dataId=i.dp.id;i.dp._isSemantic=w.matchSemantic;}w.rawData=i;if(i.trellisRow||i.trellisColumn){w.trellisInfo={trellisRow:i.trellisRow,trellisColumn:i.trellisColumn};}return w;};p.prototype._doColorMapOnConfig=function(i){if(i.graphic){if(i.graphic.fill){i.graphic.fill=N.convertColor(i.graphic.fill);}if(i.graphic.color){i.graphic.color=N.convertColor(i.graphic.color);}if(i.graphic.borderColor){i.graphic.borderColor=N.convertColor(i.graphic.borderColor);}}if(i.data&&i.data.color){i.data.color=N.convertColor(i.data.color);}};p.prototype._getFillColorConfig=function(i,j,k,v){var w=(v&&!v.isNullValue)?v.dp.additionCtx():{};var y=k.disableSemantic?null:this._semanticMgr.analyzeDataPoint("color",j,true,w);var z=true;if(y==null||(y.properties==null)||!(this._semanticMgr.hasDataPointColorStyle()||this._semanticMgr.hasDataPointLineStyle())){this._doColorMapOnConfig(i);z=false;}if(z){if(y.properties.hasOwnProperty("color")){var A=N.convertColor(y.properties.color||this._semanticMgr._propMgr.get("plotArea.defaultOthersStyle.color"));if(i.graphic){if(i.graphic.hasOwnProperty("fill")){i.graphic.fill=A;}if(i.graphic.hasOwnProperty("color")){i.graphic.color=A;}}if(i.data&&i.data.color){i.data.color=A;}i.isOthers=y.isOthers;i.useDefaultOtherName=y.useDefaultOtherName;i.displayName=y.displayName;i.matchSemantic=true;}if(y.properties.stroke){i.graphic.stroke=y.properties.stroke;}if(y.properties.strokeWidth){i.graphic.strokeWidth=y.properties.strokeWidth;}}i=this._getPatternConfig(i,j,k,w);return i;};p.prototype._getColor=function(i){var j=null;if(this._data.color2&&i.color2){j=this._data.color2.scale.scale(i.color2);}else if(this._data.color){j=this._data.color.scale.scale(i.color);}else if(this._data.color2){j=this._data.color2.scale.scale();}return j;};p.prototype._buildConfig=function(i,j,k){var v=this._getColor(i);var w={width:j.width,height:j.height,drawingEffect:this._drawingEffect,fill:v,opacity:1};return{graphic:w,data:{color:v,width:j.width,height:j.height,translate:[j.x,j.y]},ctx:k,effectManager:this._effectManager};};p.prototype._createDataPoint=function(i,j,k,v,w,y,z,A){var E=new a(-1,-1,null,-1);E.init(k,y,v,z&&z.dp&&z.dp.id?z.dp.id:C.NULL_VALUE,A);E.setPosition(w);E.setRawData(z);return E;};p.prototype._applyDataPointRenderer=function(i,j){return i(j,this._dataPointRenderer.expose);};var u=C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT;p.prototype._additionalExtraData=function(i){};p.prototype._drawDataPoint=function(i,j){var k=g.create("g");d.setDataId(k,j.getDataId());d.setDataPointId(k,j.getDataPointId());e.setContext(k,j.getContext());var v=j.getData();v.seriesIndex=j.getSeriesIndex();v.itemIndex=j.getItemIndex();this._additionalExtraData(v);e.setData(k,v);var w=j.getAdditionCtx();e.setAdditionCtx(k,w);k.setAttribute("class",this._dataPointClasses.join(' '));var y=j.getPosition();if(T.isExist(y.x)&&T.isExist(y.y)){k.setAttribute("transform",'translate('+y.x+', '+y.y+')');}var z=j.getConfig();var A=this._renderNode(i,z,k,v);var E=this._drawShadowNode(z.graphic,k,A,v,i);return k;};p.prototype._isSupportNoFill=function(){return false;};p.prototype._drawShadowNode=function(i,j,k,v,w){var y;w=w||this._dataPointRenderer;if(this._isSupportNoFill()&&i.pattern==="noFill"){var z=O.clone(i);delete z.bgColor;delete z.drawingEffect;delete z.pattern;z.fill="transparent";y=w({graphic:z});if(y){j.appendChild(y);}}k=y||k;if(k){var A=k.getAttribute("stroke-width");if(A){v.strokeWidth=parseInt(A);}}return y;};p.prototype._renderNode=function(i,j,k,v){var w=this._applyDataPointRenderer(i,j);if(!w&&this._dataPointRenderer){w=this._dataPointRenderer(j);}k.appendChild(w);if(j.graphic&&j.graphic.pattern){if(j.graphic.pattern==='noFill'){v.pattern='noFill';}else{v.patternFill=w.getAttribute('fill');}}return w;};p.prototype._appendDataPointClass=function(i){this._dataPointClasses.push(i);};p.prototype._buildData=function(i){var j={color:i.graphic.fill,trellisInfo:i.trellisInfo};if(this._semanticMgr.isUseSemanticPattern()){j.pattern=i.graphic.pattern;if(i.ctx){j.isNegative=(i.ctx[i.ctx.measureNames]<0)?true:false;}}return j;};p.prototype._getDataPointRenderer=function(i){return this._customMarkerRenderer||this._dataPointRenderer;};p.prototype.isBigDataMode=function(){return false;};p.prototype.getAxisBinding=function(){var i={};if(this._xHandlers){i.horizontal=this._xHandlers.map(function(j){return j.id;});}if(this._yHandlers){i.vertical=this._yHandlers.map(function(j){return j.id;});}return i;};p.prototype.mappingDataPointInfo=function(i){return{};};p.prototype.getRemainingPlotOffset=function(i,j){var k=this.getRealSize();var v=this.getSize();var w={};var y=i?(i.x||i.y||0):0;if(this.isHorizontal()){w.y=(k.height-v.height+y)*(-j);return{y:w.y+y};}else{w.x=(k.width-v.width+y)*(-j);return{x:w.x+y};}};p.prototype._getPatternConfig=function(i,j,k,v){if(!k.disableSemantic&&this._useSemanticPattern()){var w=this._semanticMgr.analyzeDataPoint("pattern",j,true,v);if(w&&w.properties&&w.properties.pattern){if(this._isSupportNoFill()||w.properties.pattern!=='noFill'){i.graphic.pattern=w.properties.pattern;}if(i.ctx[i.ctx.measureNames]<0){i.graphic.isNegative=true;}else{i.graphic.isNegative=false;}}}return i;};p.prototype._useSemanticPattern=function(){return this._semanticMgr.isUseSemanticPattern()&&this._semanticMgr.hasDataPointStyle();};p.prototype.getSeriesIndex=function(i){return i._addr[1];};return p;});define('sap/viz/chart/components/plots/BarWidthUtils',['sap/viz/framework/common/util/NumberUtils'],function(N){var u={};var D=0.125;var a=1;u.getBarInfo=function(s,o){var S=1;var r={};if(o.hasOwnProperty("barWidth")){r.barWidth=o.barWidth;if(s===1){r.itemWidth=r.barWidth;r.gap=(S-r.barWidth)/2;}else{r.itemWidth=r.barWidth*(1+o.innerGroupSpacing);r.gap=(S-r.itemWidth*(s-1)-r.barWidth)/2;}}else if(s===1){r.barWidth=S/(s+o.barSpacing);r.gap=r.barWidth*o.barSpacing/2;r.itemWidth=r.barWidth;}else{r.barWidth=S/(s+o.innerGroupSpacing*(s-1)+o.groupSpacing);r.gap=r.barWidth*o.groupSpacing/2;r.itemWidth=r.barWidth*(1+o.innerGroupSpacing);}return r;};u.getBarProperties=function(p,i){var b=D;var g=a;if(!i){b=parseFloat(p.get("plotArea.gap.innerGroupSpacing"));if(N.isNoValue(b)||b<0){b=p.getDefault("plotArea.gap.innerGroupSpacing")||0;}g=parseFloat(p.get("plotArea.gap.groupSpacing"));if(N.isNoValue(g)||g<0){g=p.getDefault("plotArea.gap.groupSpacing")||0;}}var c=parseFloat(p.get("plotArea.gap.barSpacing"));if(N.isNoValue(c)||c<0){c=p.getDefault("plotArea.gap.barSpacing")||0;}return{innerGroupSpacing:b,groupSpacing:g,barSpacing:c,forBar:true};};return u;});define('sap/viz/chart/components/plots/ItemScaleHandler',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/plots/BarWidthUtils'],function Setup(o,O,B){function g(s,a){var r=[];var b=B.getBarInfo(s,a);for(var i=0;i<s;i++){r[i]=[b.gap+i*b.itemWidth,b.gap+i*b.itemWidth+b.barWidth];}return r;}var I=function(a){this._result=[];this._options=a||{};};I.prototype.updateOptions=function(a){O.extend(true,this._options,a);};I.prototype.init=function(s){var r=this._result=[];var a=1;var b;if(!this._options.hasOwnProperty("barSpacing")){b=[a*0.25,a*0.75];if(this._options&&this._options.hasOwnProperty("barWidth")){var h=this._options.barWidth/2;b=[a*(0.5-h),a*(0.5+h)];}}else{b=g(1,this._options)[0];}for(var i=0;i<s;i++){r[i]=b;}};I.prototype.get=function(s){return this._result[s];};I.prototype.updateOptions=function(a){O.extend(true,this._options,a);};var S=function(a){S.superclass.constructor.apply(this,arguments);this._options=a||{forBar:true};};o.extend(S,I);S.prototype.init=function(s){if(this._options.isMekkoCategoryAxis){this._result=[];for(var j=0;j<s;j++){this._result[j]=[0.0,1.0];}}else if(!this._options.forBar){this._result=[];for(var i=0;i<s;i++){this._result[i]=[i/s,(i+1)/s];}}else{this._result=g(s,this._options);}};S.prototype.get=function(s){return this._result[s];};var M=function(a){M.superclass.constructor.apply(this,arguments);this._items=a.valueAxis;};o.extend(M,I);M.prototype.init=function(s){this._result=g(this._items.length,this._options);};M.prototype.get=function(s,r){for(var i=0;i<this._items.length;i++){if(r&&r.hasOwnProperty(this._items[i])){return this._result[i];}}};M.prototype.updateItems=function(i){this._items=i;};return{get:function(i,a){if(a&&a.isMekkoCategoryAxis){return new S(a);}else if(i){return new S(a);}else if(a&&a.valueAxis){return new M(a);}else{return new I(a);}},extend:function(s){var b=I;o.extend(s,b);return s;}};});define('sap/viz/chart/components/plots/ScaleHandler',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils'],function Setup(o,T,a,D){var S=function(i,e){this.id=i;this._options=e||{isHorizontal:true};};var L="line";S.prototype.init=function(s,e,r){this._scale=s;this._range=r;};S.prototype.scale=function(v,i){return this._scale(v);};S.prototype.destroy=function(){this.id=null;this._options=null;this._range=null;this._scale=null;this.type=null;};var C=function(i,e){C.superclass.constructor.apply(this,arguments);this.type="category";};o.extend(C,S);C.prototype.init=function(e,s){C.superclass.init.apply(this,arguments);if(!e){this._scaleByIndex=null;return;}var f=e.getDomain();var g=e.scale.bind(e);this._scaleByIndex=[];for(var i=0;i<f.length;i++){this._scaleByIndex[i]=g(f[i]);}this._options.itemScaleHandler.init(s);};C.prototype.destroy=function(){C.superclass.destroy.call(this);this._scaleByIndex=null;};C.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex;var r=this._scaleByIndex&&this._scaleByIndex[i]?this._scaleByIndex[i]:[0,1];var f=this._options.itemScaleHandler.get(s,e.rawData)||[0,1];var g=r[1]-r[0];var h=g*(f[1]-f[0])*this._range;var j=(r[0]+g*f[0])*this._range;if(this._options.alignment==="center"){return[j+h/2,0];}else{return[j,h];}};var P=function(i,e){P.superclass.constructor.apply(this,arguments);this.type="polar";};o.extend(P,C);P.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex;var r=this._scaleByIndex?this._scaleByIndex[i]:[0,1];return[Math.PI*2*r[0],0];};P.prototype.categorySum=function(v,e){return this._scaleByIndex.length;};var V=function(i,e){V.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true;};o.extend(V,S);V.prototype.scale=function(v,e){v=+v;var i=e.index,s=e.seriesIndex,f=e.dataHandler;var g=this._scale.scale(f?f.getBase(i,v,s):0);var n=f?f.add(i,v,s):v;var h=this._scale.scale(n);var j=(h-g)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[h*this._range,j];}else{return[g*this._range,j];}}else{return[(1-h)*this._range,j];}};var b=function(i,e){b.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true;};o.extend(b,S);b.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex,f=e.dataHandler;var g,n,h,j;var m,k,l,p,q,r;v=+v;l=this._scale.getAutoDomain();p=this._scale.getDomain();q=this._scale.getDomainFixed();r=this._scale.getRange();m=q[0]?p[0]:l[0];k=q[1]?p[1]:l[1];if(m>=k){m=l[0];k=l[1];}if(v<m){g=r[0];}else if(v>k){g=r[1];}else{g=this._scale.scale(f?f.getBase(i,v,s):0);}n=f?f.add(i,v,s):v;if(n>k){h=r[1];}else if(n<m){h=r[0];}else{h=this._scale.scale(n);}j=(h-g)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[h*this._range,j];}else{return[g*this._range,j];}}else{return[(1-h)*this._range,j];}};var c=function(i,e){c.superclass.constructor.apply(this,arguments);this.type="time";};o.extend(c,V);c.prototype.scale=function(v,e){var i=e.index,f=e.dataHandler;var n=f?f.add(i,v):v;var m=this._scale.scale(n);return[m*this._range,0];};var d=function(i,e){d.superclass.constructor.apply(this,arguments);this.type="time";this._barWidth=null;this._innerSpace=null;this._columnCount=null;this._isSingleBar=e.forSingleBar;};o.extend(d,V);d.prototype.scale=function(v,e){var i=e.index,f=e.dataHandler;var h=this._options;var m=h.minTimeLevel;var u=h.showAsUTC;var n=f?f.add(i,v):v;var g=this._scale.scale(n);var p;if(this._isSingleBar){p=this._barWidth/2;}else{p=(this._columnCount*this._barWidth+(this._columnCount-1)*this._innerSpace)/2-e.seriesIndex*(this._barWidth+this._innerSpace);}return[(g-(e.shape===L?0:p))*this._range,this._barWidth*this._range];};d.prototype.updateBarWidth=function(e,i,f){this._barWidth=e;this._innerSpace=i;this._columnCount=f;};var W=function(i,e){V.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true;};o.extend(W,S);W.prototype.scale=function(e,f){var i=f.index,s=f.seriesIndex,g=f.dataHandler;var v=+e.value;var t=e.total;var h=e.base;var j=this._scale.scale(g?g.getBase(i,h,s):h);var n=g?g.add(i,v,s):v;var k=this._scale.scale(g?n:t);var l=(k-j)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[k*this._range,l];}else{return[j*this._range,l];}}else{return[(1-k)*this._range,l];}};return{getCategoryScaleHandler:function(i,e){return new C(i,e);},getValueScaleHandler:function(i,e){return new V(i,e);},getTimeScaleHandler:function(i,e){if(e.forBar){return new d(i,e);}else{return new c(i,e);}},getPolarScaleHandler:function(i,e){return new P(i,e);},getPerfectValueScaleHandler:function(i,e){return new b(i,e);},getWTFScaleHandler:function(i,e){return new W(i,e);},extend:function(s){var e=S;o.extend(s,e);return s;}};});define('sap/viz/chart/components/renderers/BarRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/DrawUtil",'sap/viz/framework/common/util/Constants'],function(S,D,a,C){var M=2;var b=function(c){var n;var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;var f=g.fill;if(g.pattern==="noFill"&&c.path){n=S.create("path");n.setAttribute("d",c.path);n.setAttribute("stroke-width",isNaN(g.pathStrokeWidth)?3:g.pathStrokeWidth);n.setAttribute("fill",g.bgColor);n.setAttribute("stroke",g.fill);}else{n=S.create("rect");if(c.effectManager){f=c.effectManager.register({drawingEffect:g.drawingEffect,fillColor:g.fill,patternEffect:g.pattern,isNegative:g.isNegative,direction:c.horizontal?'vertical':'horizontal'});}n.setAttribute("width",w);n.setAttribute("height",h);n.setAttribute("fill",f);if(g.shapeRendering){n.setAttribute('shape-rendering',g.shapeRendering);}if(g.stroke){var m=c.twoDirection?Math.min(h,w):(c.horizontal?h:w);var s=m>g.strokeWidth+M?g.strokeWidth:m-M;if(s>=1){n.setAttribute('stroke',g.stroke);n.setAttribute('stroke-width',g.strokeWidth);}}}D.setCustomizationInfo(n,{'defaultRenderer':true});return n;};b.update=function(n,c){var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;var s={width:w,height:h,minSize:c.twoDirection?Math.min(h,w):(c.horizontal?h:w)};a.barUpdate(n,c,s);};b.expose={renderer:b,update:b.update};return b;});define('sap/viz/chart/components/renderers/GridlineRenderer',["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics"],function(N,C,V,S,D){var G=C.CSS.CLASS.GRIDLINE_GROUP;var a=C.CSS.CLASS.GRIDLINE;var I=C.CSS.CLASS.GRIDLINE_INCISED;var b="#ffffff";var c=C.CSS.CLASS.ZERO_LINE_GROUP;var e="v-zeroline";var M="v-gridline-mainline";var f="v-gridline-incisedline";var r={};r.drawZeroLine=function(s,w,d,i,p,j,k,o){var n;var l=p.get("gridline.zeroLine.highlight");if(!l){return;}var t=V.getTicks(i);var z=t.indexOf(0);if(z<1){n=s.select("."+c);if(!n.empty()){n.remove();}return;}var m=p.get("gridline.zeroLine.color")||k;m=m||p.origin.get("categoryAxis.color");n=s.select("."+c);var g,q;if(!n.node()){n=s.append("g").attr("class",c).attr("style","pointer-events:none");}g=n.select("."+e);if(!g.node()){g=n.append("g").attr("class",e);q=g.append("line");}else{q=g.select("line");}n.attr("stroke",m).attr("stroke-width",p.get("gridline.size")||1).attr("shape-rendering","crispEdges");if(p.get("gridline.type")===C.GRIDLINE_TYPE.DASHED||p.get("gridline.type")===C.GRIDLINE_TYPE.DOTTED){n.attr("stroke-dasharray",C.DASH_TYPE_ARRAY);}else{n.node().removeAttribute("stroke-dasharray");}var u=s.node().getElementsByTagName('clipPath');if(u&&u.length>0){var v=u[0].getAttribute('id');n.attr("clip-path","url(#"+v+")");}var x,y,A,B;var E=N.preciseSimple(i.scale(0));var F={};if(j===C.DIRECTION.HORIZONTAL){x=0;y=N.preciseSimple(w);A=B=!o?E:0;if(o){g.attr("transform","translate("+0+", "+E+")");}F.initPosY=E;}else{A=0;B=N.preciseSimple(d);x=y=!o?E:0;if(o){g.attr("transform","translate("+E+", "+0+")");}F.initPosX=E;}q.attr('x1',x).attr('x2',y).attr('y1',A).attr('y2',B);if(o){D.setData(g.node(),F);}};r.drawValueGridline=function(s,w,g,j,p,k){var n=s.select("."+G);if(p.get('visible')){var l=p.get('color');var m=p.get('size');var v=V.getTicks(j);var t=V.getTicksPosition(v,j);var i=0;var o=t.length;var x=[];var y=[];var q=[];var u=[];switch(k){case C.DIRECTION.HORIZONTAL:for(;i<o;++i){x[i]=0;y[i]=t[i];q[i]=N.preciseSimple(w);u[i]=t[i];}break;case C.DIRECTION.VERTICAL:for(;i<o;++i){x[i]=t[i];y[i]=0;q[i]=t[i];u[i]=N.preciseSimple(g);}break;}if(!n.node()){n=s.append("g").attr("class",G);}var z=n.selectAll("."+a).data(v);z.enter().append("g");z.exit().remove();var A=p.get('zeroLine.unhighlightAxis');var B=p.origin.get("valueAxis.layout.direction")==="topDown";z.each(function(d,i){this.setAttribute("class",a);this.setAttribute("stroke",l);this.setAttribute("stroke-width",m);this.setAttribute("shape-rendering","crispEdges");var F=this.querySelector("line."+M);if(!F){F=S.create("line");F.setAttribute("class",M);this.appendChild(F);}F.setAttribute("x1",x[i]);F.setAttribute("y1",y[i]);F.setAttribute("x2",q[i]);F.setAttribute("y2",u[i]);if((!B&&i===0||B&&i===o-1)&&d!==0&&A===false){F.setAttribute("stroke-opacity",0);}});var E=p.get('type');if(E===C.GRIDLINE_TYPE.DASHED||E===C.GRIDLINE_TYPE.DOTTED){z.attr("stroke-dasharray",C.DASH_TYPE_ARRAY);}if(E===C.GRIDLINE_TYPE.INCISED){switch(k){case C.DIRECTION.HORIZONTAL:z.each(function(d,i){var F=this.querySelector("line."+f);if(!F){F=S.create("line");F.setAttribute("class",f);this.appendChild(F);}F.setAttribute("stroke",b);F.setAttribute("x1",x[i]);F.setAttribute("y1",y[i]+1);F.setAttribute("x2",q[i]);F.setAttribute("y2",u[i]+1);});break;case C.DIRECTION.VERTICAL:z.each(function(d,i){var F=this.querySelector("line."+f);if(!F){F=S.create("line");F.setAttribute("class",f);this.appendChild(F);}F.setAttribute("stroke",b);F.setAttribute("x1",x[i]-1);F.setAttribute("y1",y[i]);F.setAttribute("x2",q[i]-1);F.setAttribute("y2",u[i]);});break;}}}else{n.remove();}};r.drawRadarGridLine=function(s,d,g,k,p){if(!p.visible){return;}var n=s.select("."+G);if(!n.node()){n=s.append("g").attr("class",G);}var l=p.color;var m=p.size;var t=h(k);function o(d,y,z){if(z===0){return;}var A=z*Math.sin(y);var B=z*Math.cos(y);return{x:d.x-A,y:d.y-B};}for(var i=0;i<t.length;i++){if(t[i]===0){continue;}var q=S.create("g");var u=[];for(var j=0;j<g.length;j++){var v=S.create("line");v.setAttribute("class",f);v.setAttribute("stroke",l);v.setAttribute("stroke-width",m);var w=j===0?o(d,g[g.length-1],t[i]):u[j-1];var x=o(d,g[j],t[i]);u.push(x);v.setAttribute("x1",w.x);v.setAttribute("y1",w.y);v.setAttribute("x2",x.x);v.setAttribute("y2",x.y);q.appendChild(v);}n.node().appendChild(q);}};function h(s){var t=V.getTicks(s);return V.getTicksPosition(t,s);}return r;});define('sap/viz/chart/components/plots/BaseColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/chart/scales/ValueScale','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/renderers/BarRenderer','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/plots/BarWidthUtils','sap/viz/framework/common/util/NumberUtils',"sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/util/DrawUtil"],function Setup(o,S,D,V,C,B,a,I,b,c,d,e,G,f,h,U,O,k,T,l,N,x,m,n){var p="negative-datapoint";var t={desktop:{minWidth:8,maxWidth:100},mobile:{minWidth:8,maxWidth:100}};var M=C.MIN_FILL_SIZE;var q=function(r,g){g=g||{isHorizontal:false};this._valueAxisIndex=g.valueAxisIndex||"valueAxis";q.superclass.constructor.apply(this,arguments);this._dataPointRenderer=e;this._flipNegativeShape=true;this._drawZeroLineBeforeDatapoints=true;this._isBigData=false;};o.extend(q,B);q.prototype._getBarProperties=function(){if(!this._barInfoProperties){this._barInfoProperties=l.getBarProperties(this._properties.origin);}return this._barInfoProperties;};q.prototype.destroy=function(){q.superclass.destroy.call(this);if(this._categoryScaleHandler){this._categoryScaleHandler.destroy();}this._categoryScaleHandler=null;if(this._gridlineScale){this._gridlineScale.destroy();}this._gridlineScale=null;this._dataPointRenderer=null;this._flipNegativeShape=null;this._drawZeroLineBeforeDatapoints=null;this._options=null;this._isBigData=null;};q.prototype.isBigDataMode=function(){return this._isBigData;};q.prototype.setVisibleWindow=function(g,i){this._windowSize=g;this._positionInWindow=i;this._applyScroll();};q.prototype._getDataPointRange=function(g,r){var i=r.min;var j=r.max;var v=this.isHorizontal()?"y":"x";var w;if(g[i]&&i>0){w=this._getDataPointPosition(g[i]);if(w[v]>=-this._offset[v]){--i;}}while(i>0&&!g[i]){--i;}if(j<g.length-1&&g[j]){w=this._getDataPointPosition(g[j]);if(w[v]<this._visibleBound[v]){++j;}}while(j<g.length-1&&!g[j]){++j;}return{min:i,max:j};};q.prototype._getColorData=function(){return this._data.color;};q.prototype._getColor2Data=function(){return this._data.color2;};q.prototype._buildLegendTextData=function(g){var i=g.length;var j=[];var r;var v;for(r=0;r<i;r++){v=g[r];var w;for(w=0;w<v.length;w++){if(v[w]){if(v[w].color){j.push(v[w].color);}else{j.push(v[w].color2);}break;}}}return j;};q.prototype._getOnlyOneMndIndex=function(g,i){var j=-1;if(!this._options.inTrellis){var r;if(g.length>0&&g[0].color){r=this._getColorData();}else if(g.length>0){r=this._getColor2Data();}if(r){j=k.checkMndStatus(r.metaData,i).mndIndex;}}return j;};q.prototype._getMaxVisibleSize=function(){var v=this._windowSize||this._size;return{width:v.width,height:v.height};};q.prototype._preShowDataPoints=function(){q.superclass._preShowDataPoints.apply(this,arguments);var g=this._offset;var i=g.hasOwnProperty("x")?g.x:0;var j=g.hasOwnProperty("y")?g.y:0;if(this._positionInWindow){i+=this._positionInWindow.hasOwnProperty("x")?this._positionInWindow.x:0;j+=this._positionInWindow.hasOwnProperty("y")?this._positionInWindow.y:0;}var r=this._getMaxVisibleSize();this._visibleBound={x:r.width-i,y:r.height-j};};q.prototype._drawDataPoint=function(g,i){var j=i.getConfig();var r=q.superclass._drawDataPoint.apply(this,arguments);this._updateStrokeWidth(r);if(this._flipNegativeShape){var v=i.getConfig();if(v.ctx){var w=v.ctx[v.ctx.measureNames]<0;if(w){this._addNegativeClass(r,v);}}}return r;};q.prototype._addNegativeClass=function(j,r){var g=document.createElementNS('http://www.w3.org/2000/svg',"g");for(var i=0,v=j.childNodes.length;i<v;++i){g.appendChild(j.childNodes[0]);}g.setAttribute("class",p);this._updateNegativeDatapoint(r,g);j.appendChild(g);};q.prototype._generateMarkerPath=function(){var g=this._markerPropName&&this._properties.get(this._markerPropName);if(g){var r=g.size/2;this._markerD=n.createMarkerData({type:this._getMarkerShape(),rx:r,ry:r,borderWidth:2});this._markerShadow=n.createMarkerData({type:this._getMarkerShape(),rx:r+0.8,ry:r+0.8,borderWidth:1,innerBorder:true});}};q.prototype._updateNegativeDatapoint=function(g,i){var j;if(this.isHorizontal()){j="translate("+(g.graphic.width>1?g.graphic.width:1)+",0)scale(-1, 1)";}else{j="translate(0,"+(g.graphic.height>1?g.graphic.height:1)+")scale(1, -1)";}i.setAttribute("transform",j);};q.prototype.isHorizontal=function(){return(this._options.isHorizontal===true);};q.prototype._getPreferredSizeProperties=function(g){var i=this._properties;return i.get(g);};q.prototype._getValueScaleHandlers=function(i){if(this._options.isDualValueAxis){return[b.getValueScaleHandler("valueAxis",{isHorizontal:i}),b.getValueScaleHandler("valueAxis2",{isHorizontal:i})];}else{return[b.getValueScaleHandler(this._valueAxisIndex,{isHorizontal:i})];}};q.prototype._getCategoryScaleHandlers=function(i){this._categoryScaleHandler=b.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(true,this._getBarProperties())});return[this._categoryScaleHandler];};q.prototype._getXHandlers=function(){if(this.isHorizontal()){return this._getValueScaleHandlers(true);}else{return this._getCategoryScaleHandlers(true);}};q.prototype._getYHandlers=function(){if(this.isHorizontal()){return this._getCategoryScaleHandlers(false);}else{return this._getValueScaleHandlers(false);}};q.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{"valueAxis":a.getHandler(),"valueAxis2":a.getHandler()};}else{var r={};r[this._valueAxisIndex]=a.getHandler();return r;}};q.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("categoryAxis.color");};q.prototype._postRender=function(g){if(!this._drawZeroLineBeforeDatapoints&&this._gridlineScale){var i=this.isHorizontal();var j=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;G.drawZeroLine(this._selection,this._size.width,this._size.height,this._gridlineScale,this._properties,j,this._getDefaultZeroLineColor(),true);}q.superclass._postRender.apply(this,arguments);};function s(g){var j=-1;for(var i=0;i<g.length;i++){if(g[i]){j=i;break;}}return j;}function u(g){var j=-1;for(var i=g.length-1;i>=0;i--){if(g[i]){j=i;break;}}return j;}q.prototype._resetDataPoints=function(){for(var g in this._dataHandler){if(this._dataHandler[g].reset){this._dataHandler[g].reset();}}if(!this._series||this._series.length===0){return;}for(var i=0;i<this._series.length;i++){var j=this._series[i];if(!j){continue;}var r=j.getDataPoints();this._hideDataPoints(r,{min:0,max:r.length-1});for(var v=0;v<r.length;v++){var w=r[v];if(w){w.reset();}}}};q.prototype._getDataPointPosition=function(g){var i=g.getPosition();if(!i){i=this._getPosition(g.getSeriesIndex(),g.getItemIndex(),g.getRawData());g.setPosition(i);}return i;};q.prototype._needLazyRender=function(){if(!!this._options.inTrellis){return true;}var g=this._size;var r=this._realSize;return this.isHorizontal()?g.height<r.height:g.width<r.width;};q.prototype._getVisibleRange=function(g){var i=this._getCategoryCount();if(!this._needLazyRender()){return{min:0,max:i};}var j=this.isHorizontal();var r=j?"y":"x";var v=this._offset[r];var w=this._visibleBound;var y=j?'height':'width';var z=this._realSize[y]/i;var A=Math.floor(Math.abs(v/z));var E=Math.floor(Math.abs(w[r])/z);return{min:A,max:E};};q.prototype._initSeries=function(){var g=this._getSeries();var i=g.length;var j;var r=0;if(this._seriesRenderer){this._seriesRenderer.init(i);}for(var v=0;v<i;v++){var w=g[v];if(!w){continue;}var y=w.length,z=null;for(var A=0;A<y;++A){var E=w[A];if(!E){continue;}j=r++;this._series[v]=this._series[v]||new d();var F=this._series[v].getDataPoint(A);if(F){F.reset();F.setRawData(E);}else{F=new c(v,A,E,j);this._series[v].setDataPoint(A,F);}}if(this._series[v]){this._series[v].setLength(y);}}this._series.length=i;};q.prototype._drawDatapoints=function(g){this._initSeries();for(var i in this._dataHandler){if(this._dataHandler[i].reset){this._dataHandler[i].reset();}}this._drawingEffect=this._properties.get('drawingEffect');var j=g.node().querySelector("."+C.CSS.CLASS.DATAPOINT_GROUP);if(!j){j=S.create("g");j.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);g.node().appendChild(j);}else{d3.select(j).selectAll("*").remove();}this._showDataPoints(j);if(this._seriesRenderer){this._seriesRenderer.render(j);}this._postRender(j);this._drawDataLabels(g,j);};q.prototype._isSupportNoFill=function(){return true;};var P=["noFill","solid"];q.prototype.getSeriesDPStyle=function(g,i,j){var r=this._semanticMgr;i=i||m.buildSeriesLineContext(this._data,g);var v=r.analyzeSeriesStyle(i,"dataPoint");var w=v&&v.dataPoint&&v.dataPoint.pattern;if(j&&P.indexOf(w)===-1){w=null;}if(!this._isSupportNoFill()&&w==='noFill'){w=null;}return{dpPattern:w,color:v&&v.dataPoint&&v.dataPoint.color};};q.prototype._hideNode=function(g,i){var j=g[i];var r=j&&j.getNode();if(r){D.remove(r);j.setNode(null);}};q.prototype._columnOutOfRange=function(g,v){var i;for(i=0;i<v.min;i++){this._hideNode(g,i);}for(i=v.max+1;i<g.length;i++){this._hideNode(g,i);}};q.prototype._hideDataPoints=function(g,v){if(!v){var i=g.length;v={min:i,max:i};}this._columnOutOfRange(g,v);};q.prototype._generatePath=function(g){var i=[];var j=1.5;if(this.isHorizontal()){if(g.width===0){j=0;}i.push([0,j]);i.push([g.width-j,j]);i.push([g.width-j,g.height-j]);i.push([0,g.height-j]);}else{if(g.height===0){j=0;}i.push([j,g.height]);i.push([j,j]);i.push([g.width-j,j]);i.push([g.width-j,g.height]);}return S.generatePath({points:i});};q.prototype._pathStrokeWidth=function(g){if(g&&g[g.measureNames]===0){return 0;}return 3;};q.prototype._isSupportBarPathGenerator=function(){return false;};q.prototype._showDataPoints=function(g){this._preShowDataPoints();var i=[];this._dataPointContext=[];if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}var j;if(this._data.color&&this._data.color.metaData&&!this._data.color2){var r=k.checkMndStatus(this._data.color.metaData,this._data.color.rowArray);if(r.isOnlyOneMndValue){j=r.mndIndex;}}var v=this.createSeriesIterator(this._series.length);var w=this._getVisibleRange();while(v.hasNext()){var y=v.next();var z=this._series[y];if(!z){continue;}var A=this._getDataPointRenderer(y);if(!A){continue;}var E=z.getDataPoints();var F=this._getDataPointRange(E,w);this._hideDataPoints(E,F);var H=this.getSeriesDPStyle(y);for(var J=F.min;J<=F.max;J++){var K=E[J];if(!K){continue;}var L=this._getDataPointPosition(K);if(!L){continue;}var Q=K.getRawData();var R=Q.dp;var W=false;var X=K.getConfig();if(!X){W=true;var Y=R&&R.context()?R.context():C.NULL_VALUE;var Z=this._seriesType&&this._seriesType[y];var $={itemIndex:J,seriesType:Z,seriesStyle:H};X=this._buildWrapperConfig(Q,L,Y,$);if(X.graphic.pattern==="noFill"){if(this._isSupportBarPathGenerator()&&Z==="bar"){X.path=this._generatePath(X.graphic);}}}this._dataPointContext.push(X);var _=K.getData();if(!_){W=true;var a1=K.getId();_=this._buildData(X);K.init(X,a1,_,R&&R.id?R.id:C.NULL_VALUE,j);}var b1=K.getNode();if(b1){if(W){this._updateDatapoint(b1,A,X,L);i.push(b1);}}else{b1=this._drawDataPoint(A,K);K.setNode(b1);if(b1){i.push(b1);}}this._updateStrokeWidth(b1);if(this._seriesRenderer){this._seriesRenderer.addDataPoint(v.index(),J,X,L,b1);}else if(!b1.parentNode){g.appendChild(b1);}}}return i;};q.prototype.zoom=function(){this.update();};q.prototype.update=function(g){this._applyChanges();this._dataLabels.setSize(this._realSize);if(this._selection){var i=this._selection.select(".v-plot-main");this._drawGridlines(i);this._updateDatapoints(this._getDpParentNode());this._drawReferenceLine(g);this._repositionReferenceLine();this._repositionZeroline();}};q.prototype._updateStrokeWidth=function(g){if(!g){return;}var i=f.getData(g);var r=g.querySelector("rect");if(r){i["strokeWidth"]=r.getAttribute("stroke-width")||0;f.setData(g,i);}};q.prototype._updateDatapoints=function(g){this._resetDataPoints();var i=g.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();var j=this._showDataPoints(i);if(this._seriesRenderer){this._seriesRenderer.update(i);}this._dataLabels.updatePosition(g,j);};q.prototype._updateDatapoint=function(g,i,j,r){if(g&&i.update&&T.isFunction(i.update)){i.update(g,j,this._dataPointRenderer.expose);}if(g&&r.hasOwnProperty("x")&&r.hasOwnProperty("y")){g.setAttribute("transform",'translate('+r.x+', '+r.y+')');}var v=null;if(j.ctx){v=j.ctx[j.ctx.measureNames]<0;}else{var w=this._data.rawData.dataModel;var y=w.getDataPoint(j.dataId);var z=y.context();v=z[z.measureNames]<0;}if(v){var A=g.querySelector("."+p);if(A){this._updateNegativeDatapoint(j,A);}}};q.prototype._drawGridlines=function(g){var i=this._realSize;var j=this.isHorizontal();var r=j?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var v=this._properties.proxy('gridline');var w=j?[0,i.width]:[i.height,0];var y=this._gridlineScale=this._getGridLineScale(w);G.drawValueGridline(g,i.width,i.height,y,v,r);var z=this._properties.origin.get('interaction.syncValueAxis');if(this._drawZeroLineBeforeDatapoints||z){G.drawZeroLine(this._drawZeroLineBeforeDatapoints?g:this._selection,i.width,i.height,this._gridlineScale,this._properties,r,this._getDefaultZeroLineColor(),!this._drawZeroLineBeforeDatapoints);}};q.prototype._getGridLineScale=function(r){var g=this._valueAxisIndex;if(this._options.isDualValueAxis&&this._data.valueAxis.tickHint<this._data.valueAxis2.tickHint){g="valueAxis2";}var v=this._data[g];var i=new V(v.scale.getDomain(),r);i.setTickHint(v.tickHint);i.setAllowDecimals(v.scale.getAllowDecimals());return i;};q.prototype._getPosition=function(g,i,j){var r=q.superclass._getPosition.apply(this,arguments);this._adjustPosition(r,g);return r;};q.prototype._adjustPosition=function(g,i){var j=this.isHorizontal(),r=0;if(j){if(g.width<0){if(g.width>-M){g.width=M;}else{g.width=Math.abs(g.width);}g.x-=g.width;}else if(g.width>0&&g.width<M){g.width=M;}}else{if(g.height<0){if(g.height>-M){r=M-Math.abs(g.height);g.height=M;}else{g.height=Math.abs(g.height);}g.y-=g.height-r;}else if(g.height>0&&g.height<M){r=M-g.height;g.height=M;g.y-=r;}}};q.prototype._buildConfig=function(g,i,j){var r=q.superclass._buildConfig.apply(this,arguments);r.horizontal=this.isHorizontal();return r;};q.prototype._getColumnCount=function(){return this._data.series.length;};q.prototype._getColumnWidth=function(g,i,j){var r=1;var v=j?(this._size.height/i):(this._size.width/i);var w=l.getBarInfo(g,this._getBarProperties());return v*w.barWidth;};q.prototype._updateRealSize=function(g,i,j,r){var v=this.getRealSizeByFixedDPSize(j,g,i);this._realSize[r?'height':'width']=v;};q.prototype._getCategoryCount=function(){var g=this._data.categoryAxis;return g?g.scale.getDomain().length:1;};q.prototype.getPreferredSize=function(){var g=this._properties;var i=!!this._options.inTrellis;var j=this.isHorizontal();var r=this._getCategoryCount();var v=this._getCategoryRange()||this._getTimeRange();var w=this._getColumnCount();this._showSrollbar=false;var y=this._getPreferredSizeProperties("dataPointSize.max")||g.getDefault("dataPointSize.max");var z,A;var E=!!this._data.timeAxis;var F=!g.origin.get("interaction.noninteractiveMode");var H=this._isRangeIncomplete;function J(){return!E&&v&&!H(v)&&F;}if(!J()){var K=this._getColumnWidth(w,r,j);var L=U.isMobile()?t.mobile:t.desktop;var Q=i?L.minWidth:(this._getPreferredSizeProperties("dataPointSize.min")||g.getDefault("dataPointSize.min"));y=i?L.maxWidth:y;if(!i&&Q>y){y=g.getDefault("dataPointSize.max");Q=g.getDefault("dataPointSize.min");}var R=false;if(K<Q&&F){R=true;K=Q;}else if(K>y){K=y;this._updateBarWidth(y);}if(R&&(i||H(v)||this._getPreferredSizeProperties('isFixedDataPointSize'))){this._updateRealSize(w,r,K,j);}if(H(v)&&this._shiftOffsetForIncompleteRange(v,r)){return this.getRealSize();}}if(J()){var W=v[1]-v[0]+1;var X=this._getColumnWidth(w,W,j);var Y=this._getColumnWidth(w,r,j);if(X>y){X=y;if(Y<y){this._updateRealSize(w,r,X,j);var Z;if(j){Z=this._size.height/this._realSize['height']*r;}else{Z=this._size.width/this._realSize['width']*r;}if(Z>r-v[0]){v[0]=r-Z;}}else{z=j?this._size.height/r:this._size.width/r;A=X/z;this._categoryScaleHandler._options.itemScaleHandler.updateOptions({'barWidth':A});v[0]=0;}}else{if(j){this._realSize['height']=this._size.height*r/W;}else{this._realSize['width']=this._size.width*r/W;}}if(j){this._offset['y']=-v[0]/r*this._realSize['height'];}else{this._offset['x']=-v[0]/r*this._realSize['width'];}}return this.getRealSize();};q.prototype._updateBarWidth=function(g){var i=this._getCategoryCount();var j=this.isHorizontal();var r=j?this._size.height/i:this._size.width/i;var v=g/r;this._categoryScaleHandler._options.itemScaleHandler.updateOptions({'barWidth':v});};q.prototype._buildWrapperConfig=function(g,i,j,r){var v=q.superclass._buildWrapperConfig.apply(this,arguments);var w=v.graphic;if((w.width<1||w.height<1)&&w.width!==0&&w.height!==0){w.shapeRendering='crispEdges';}return v;};q.prototype._getDataRange=function(r,g){var v=this._data.categoryAxis;var w={displayValues:{start:r,end:g}};if(v){var y=v.scale.getDomain();var z=v.metaData;var A=Math.floor(r*y.length/100);var E=Math.ceil(g*y.length/100);var F=[];for(var i=A;i<E;++i){var H={};for(var j=0;j<z.length;++j){H[z[j].id]=y[i][j];}F[i-A]=H;}var J=k.getDisplayTextsConverter(z);var K=J(y[A])[0];var L=J(y[E-1])[0];w={displayValues:{start:K,end:L},data:F};}return w;};q.prototype.getRealSizeByFixedDPSize=function(g,i,j){i=i||this._getColumnCount();j=j||this._getCategoryCount();var r=l.getBarInfo(i,this._getBarProperties());return g*j/r.barWidth;};q.prototype._repositionZeroline=function(){if(!this._selection){return;}var z=this._selection.node().querySelectorAll(".v-zeroline"),g=this.runtime().statusManager().get("plot.transform.scale"),j=this.runtime().statusManager().get("plot.transform.translate");for(var i=0;i<z.length;i++){x.adjustXYTranslate(z[i],g,j);}};q.prototype.scroll=function(){this._semanticMgr.beginSession();q.superclass.scroll.apply(this,arguments);this._repositionZeroline();this._semanticMgr.endSession();};q.prototype._getDpPlotNode=function(){if(this._selection){return this._dpPlotNode||this._selection.node();}};q.prototype._getDpParentNode=function(){return this._dpParentNode||this._plotDpParentNode;};q.prototype._getMarkerShape=function(){var g=this._properties.get("marker.shape")||this._properties.get("line.marker.shape");if(C.LINE_MARKER_SHAPE.indexOf(g)===-1){g=this._properties.getDefault("marker.shape")||this._properties.getDefault("line.marker.shape");}return g;};q.prototype._getLegendMarkerShape=function(){var g=this._properties.origin.get("legend.marker.shape");if(C.LEGEND_MARKER_SHAPE.indexOf(g)===-1){g=this._properties.origin.getDefault("legend.marker.shape");}return g;};return q;});define('sap/viz/chart/components/datalabels/ColumnDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/DataLabels','sap/viz/framework/common/util/Constants'],function(o,D,a,b,C){var c=function(d,e){c.superclass.constructor.apply(this,arguments);this._labelPosition="outside";};o.extend(c,b);c.prototype.labelOffset=C.DATALABEL.VERTICAL_LABEL_OFFSET;c.prototype.allowIntersectionCheck=function(){return false;};c.prototype.hideConditional=function(d,e){var i;var f=new Array(e.length);for(i=0;i<e.length;i++){f[i]=e[i].getBoundingClientRect();}for(i=(d.length-1);i>=0;i--){var g=d[i];var h=g.node;var j=h.getBoundingClientRect();var k=g.dataPoint;var l=a.getData(k).dataLabelLocation;if(l==="inside"){if(((j.width-(2*this.labelOffset))>f[i].width)||(j.height>f[i].height)){D.remove(h);d.splice(i,1);continue;}}if(!this.allowIntersectionCheck(k)){var I=this.indexOfDataLabelIntersectDataPoints(j,f,e,k);if(I!==-1){D.remove(h);d.splice(i,1);}}}return c.superclass.hideConditional.apply(this,arguments);};c.prototype._computeDataLabelPosition=function(d,s,l,e,f,n){this._labelPosition=this._properties.get('position')||this._properties.getDefault('position');var P=1;var g;var x,y;var h=s.x+d.e;var i=s.y+d.f;x=(h+s.width/2)-(e.x+e.width/2);if(f.val===0){y=i-(e.y+e.height)+this.labelOffset;if(y+e.y<0){y=i-e.y-this.labelOffset;}}else if(this._labelPosition==="inside"){if(f.val>=0){y=i+e.height+(e.y+e.height/2)-this.labelOffset;}else{y=i+s.height+this.labelOffset-(e.y+e.height);}}else{if(f.val>=0){if(this._labelPosition==='outsideFirst'){y=i-(e.y+e.height)-P;if(y<e.height){y=i+e.height+(e.y+e.height/2)-this.labelOffset;g=a.getData(n);g.dataLabelLocation="inside";a.setData(n,g);}}else{y=i-(e.y+e.height);if(y+e.y+this.labelOffset>=0){y=y+this.labelOffset;}else if(y+e.y>=0){y=-e.y;}}}else{if(this._labelPosition==='outsideFirst'){y=i+s.height-e.y+P;if(y>f.plotSize.height){y=i+s.height-e.height-e.y+this.labelOffset;g=a.getData(n);g.dataLabelLocation="inside";a.setData(n,g);}}else{y=i+s.height-e.y;if(y+e.height+e.y-this.labelOffset<=f.plotSize.height){y=y-this.labelOffset;}else if(y+e.height+e.y<=f.plotSize.height){y=f.plotSize.height;}}}}return[x,y];};c.prototype._processDataLabelRendererConfig=function(d,n){c.superclass._processDataLabelRendererConfig.apply(this,arguments);var m=this._getMarkFromNode(n),s;if(m&&d.dataPointWidth===0&&d.dataPointHeight===0){s=this._getDataLabelSizeFromMark(m);if(s){d.dataPointWidth=s.width;d.dataPointHeight=s.height;}}};c.prototype._getMarkFromNode=function(n){if(!n){return null;}var m=d3.select(n).select('rect:first-child');return m.empty()?null:m.node();};return c;});define('sap/viz/chart/components/renderers/SeriesRenderer',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils'],function Setup(S,T){var a=function(i,b){this._renderFn=i;this._updateFn=b;};a.prototype.init=function(s){this._series=[];this._seriesGroup=[];for(var i=0;i<s;i++){this._seriesGroup[i]=S.create("g");}};a.prototype.resetDataPoints=function(){this._series=[];};a.prototype.addDataPoint=function(s,c,d,p,b){if(b){this._seriesGroup[s].appendChild(b);}this._series[s]=this._series[s]||[];this._series[s][c]={position:p,dpConfig:d,dataPoint:b};};a.prototype.updateDataPoint=function(s,c,d,p,b){if(!this._series[s]){this._series[s]=[];}var e=this._series[s][c];if(!e){e=this._series[s][c]={};}e.position=p;e.dpConfig=d;e.dataPoint=b;};a.prototype.render=function(p,g){var s=[],b,c;for(var i=0;i<this._seriesGroup.length;i++){c=this._seriesGroup[i];if(c&&!(g&&g.indexOf(i)<0)){b=this._series[i]||[];var o=this._renderSeries(c,b,i);if(T.isNaN(o)){o=0;}s[o]=s[o]||[];s[o].push(c);}}for(var n=0;n<s.length;n++){var d=s[n];if(!d||!d.length){continue;}for(var m=0;m<d.length;m++){p.appendChild(d[m]);}}};a.prototype.update=function(p){for(var i=0;i<this._seriesGroup.length;i++){if(this._series[i]){this._updateSeries(this._seriesGroup[i],this._series[i],i);}}};a.prototype._updateSeries=function(s,d,b){if(this._updateFn&&d&&d.length){this._updateFn(s,d,b);}};a.prototype._renderSeries=function(s,d,b){if(this._renderFn&&d&&d.length){return this._renderFn(s,d,b);}return 0;};return a;});define('sap/viz/chart/components/renderers/LineRenderer',["sap/viz/framework/common/util/SVG"],function(S){var L=function(){var a=function(c){var g=c.graphic;var p=S.create("path");p.setAttribute("d",S.generatePath(c));p.setAttribute("fill","none");p.setAttribute("stroke-linejoin","round");p.setAttribute("stroke",g.color);p.setAttribute("stroke-width",g.width);if(g.dash){p.setAttribute("stroke-dasharray",g.dash);}if(g.linecap){p.setAttribute("stroke-linecap",g.linecap);}return p;};a.update=function(n,c){n.setAttribute("d",S.generatePath(c));if(c.graphic){var g=c.graphic;if(g.color){n.setAttribute("stroke",g.color);}if(g.width){n.setAttribute("stroke-width",g.width);}if(g.dash){n.setAttribute("stroke-dasharray",g.dash);}else{n.removeAttribute("stroke-dasharray");}if(g.linecap){n.setAttribute("stroke-linecap",g.linecap);}else{n.removeAttribute("stroke-linecap");}}};a.prepare=function(c){return c;};a.expose={renderer:a,prepare:a.prepare,update:a.update};return a;};return L;});define('sap/viz/chart/components/util/BarSeriesUtil',['sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/util/SeriesUtil'],function(D,a,T,C,N,L,S){var d=L();var c=N.convertColor;var b=C.CSS.CLASS;var e=C.LINE_TYPE;function p(f,i){f.graphic={color:f.color,width:1,opacity:1};delete f.color;f.isHorizontal=i;}function r(l,f,i,s){var h=l(f);h.setAttribute("class",b.BAR_SERIES_PATH);D.setData(h,f.graphic);if(i){h.setAttribute("display","none");}else{h.removeAttribute("display");}s.insertBefore(h,s.firstChild);}function g(f,i,s,h){var j=[];var k={points:[]};var l,m,o,q;var t=f.length;for(var n=0;n<t;n++){l=f[n];if(!l||!l.position){continue;}m=l.dpConfig;q=h.register({fillColor:S.parseSemanticColor(m,s)});if(k.points.length!==0&&o!==q){k.color=o;j.push(k);k={points:[]};}S.addRectSeriesPathPoints(k.points,l,!!m.negative,i);o=q;}if(k.points.length>0){k.color=o;j.push(k);}return j;}var u={drawBarSeries:function(s,f,h,i,j,k){if(h.hasDataPointColorStyle()){var l=g(f,j,h,i);l.forEach(function(y){p(y,j);r(d,y,k,s);});}else{var m=[];var n,o,q,t,v,w;var x=f.length;for(n=0;n<x;n++){t=f[n];if(!t||!t.position){continue;}v=t.dpConfig;w=v.graphic;S.addRectSeriesPathPoints(m,t,!!v.negative,j);if(!q){q=i.register({fillColor:w.fill});o=w.opacity;}}var y={graphic:{color:q,width:1,opacity:o},points:m,isHorizontal:j};r(d,y,k,s);}},updateBarSeries:function(s,f,h,j,k,l){var m=s.querySelectorAll("path."+b.BAR_SERIES_PATH);if(l){[].forEach.call(m,function(t){t.setAttribute("display","none");});return;}var n;var o=f.length;if(h.hasDataPointColorStyle()){var q=g(f,k,h,j);var t;q.forEach(function(x,i){p(x,k);t=m[i];if(t){d.update(t,x);D.setData(t,x.graphic);t.removeAttribute("display");}else{r(d,x,l,s);}});for(n=q.length;n<m.length;++n){a.remove(m[n]);}}else{var v;var w=[];for(n=0;n<o;n++){v=f[n];if(!v||!v.position){continue;}S.addRectSeriesPathPoints(w,v,!!v.dpConfig.negative,k);}var x={points:w,isHorizontal:k};d.update(m[0],x);m[0].removeAttribute("display");}}};return u;});define('sap/viz/chart/components/decorator/Decorator',[],function(){var D=function(){this._decos={};};D.prototype.decorate=function(c){var d=this._decos;for(var k in d){if(d.hasOwnProperty(k)){c.prototype[k]=d[k];}}};return D;});define('sap/viz/chart/components/util/HitTestUtils',[],function(){var H={};H.inRange=function(v,m,b){return v>=m&&v<=b;};var i=H.inRange;H.isInCircle=function(p,b,r){var d=Math.sqrt(Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2));return r>=d;};function a(p,s,w,h){return i(p[0],s[0],(s[0]+w))&&i(p[1],s[1],(s[1]+h));}H.isInRect=a;H.isInRectWithRatio=function(p,s,r){var x=s.x;var y=s.y;var w=Math.ceil(s.width);var h=Math.ceil(s.height);if(r!=1){x*=r;y*=r;w*=r;h*=r;}return a([p.left,p.top],[x,y],w,h);};return H;});define('sap/viz/chart/components/decorator/BaseHitTestDecorator',['sap/viz/framework/common/util/oo','sap/viz/chart/components/decorator/Decorator','sap/viz/chart/components/util/HitTestUtils'],function(o,D,H){var i=H.inRange;var B=function(){B.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(c){};this._decos.hitTestForRangeSelection=function(c){if(!c.hasOwnProperty("start")&&!c.hasOwnProperty("end")){return null;}var b=this._data.valueAxis.scale._domain;var a=this._data.valueAxis2&&this._data.valueAxis2.scale._domain;var r;var d=this._dataPointContext;r=d.filter(function(e){var t=e.rawData.timeAxis[0].parsedValue||e.rawData.timeAxis[0].value;if(!i(t,c["start"],c["end"])){return false;}var v;if(e.rawData.hasOwnProperty("valueAxis2")){v=e.rawData.valueAxis2;return i(v,a[0],a[1]);}else{v=e.rawData.valueAxis;return i(v,b[0],b[1]);}});return r.map(function(e){return(e.dataId).toString();});};};o.extend(B,D);return B;});define('sap/viz/chart/components/decorator/HitTestRectDecorator',['sap/viz/framework/common/util/oo',"sap/viz/chart/components/util/BoundingBoxUtils",'sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,B,a,H){var i=H.isInRectWithRatio;var b=function(){b.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(c){var d=this._dataPointContext;var r;var f=this._selection.select(".v-plot-bound").node();var g=f.getBoundingClientRect().width/f.getBBox().width;if(c.hasOwnProperty("width")&&c.hasOwnProperty("height")){var s=this.getSize();var h=this._offset;var j=-h.x;var k=-h.y;c.left=c.left+j;c.top=c.top+k;var l=s.width;var m=s.height;if(g!=1){l*=g;m*=g;j*=g;k*=g;}var n={left:j,top:k,width:l,height:m};if(!B.intersects(n,c)){return[];}c=B.intersection(n,c);r=d.filter(function(e){var q=e.position;var p={left:q.x,top:q.y,width:q.width,height:q.height};if(g!=1){p.left*=g;p.top*=g;p.width*=g;p.height*=g;}return B.intersects(p,n)&&B.intersects(p,c);});}else{r=d.filter(function(e){return i(c,e.position,g);});}return r;};};o.extend(b,a);return b;});define('sap/viz/chart/components/accessibility/BaseDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(o,O,S,C){function B(a){B.superclass.constructor.apply(this,arguments);this._dataModel=a.dataModel;this._sortedDataPointsByDirection=[];this._series=a.series?a.series:(a.dataModel?a.dataModel.series():null);this._propMgr=a.propertyManager;this._isDual=a.isDual;this._isPercentage=a.isPercentage;this._seriesTypeLookup=[];this._isTimeColumn=a.isTimeColumn;this._isTimeWaterfall=a.isTimeWaterfall;this._isTimeBullet=a.isTimeBullet;}o.extend(B,C);var p=B.prototype;p.destroy=function(){B.superclass.destroy.apply(this,arguments);this._dataModel=null;this._sortedDataPointsByDirection=[];this._series=null;this._propMgr=null;this._renderType=null;this._isDual=null;this._isPercentage=null;this._seriesTypeLookup=null;};p.locate=function(a){var r=this._series;for(var i=a.length-1;r&&i>=0;--i){r=r[a[i]];}return r||null;};p.address=function(i){return this._dataModel.getDataPoint(i).address();};p.getDataPoint=function(i){return this._dataModel?this._dataModel.getDataPoint(i):null;};p.getColumn=function(c){return this._dataModel.getDataPoints(c);};p.getRow=function(r){return this._dataModel.getDataPoints(null,r);};p.getPrevDataPointInSeries=function(i){return this.getDataPoint(i).prev();};p.getNextDataPointInSeries=function(i){return this.getDataPoint(i).next();};p.getFirstStartPoint=function(){if(this._series&&this._series.length){var c=this._series[0].length;for(var l=0;l<this._series.length;l++){if(this._series[l].length>c){c=this._series[l].length;}}for(var i=0;i<c;i++){for(var j=0;j<this._series.length;j++){if(this._series[j][i]){return this._series[j][i].dp;}}}}else{return null;}};p.dataPointValueSortInCategory=function(c){this._sortedDataPointsByDirection[c]=this.getColumn(c);var t=this;this._sortedDataPointsByDirection[c].sort(function(a,b){var d=t.locate(a.address());var D=t.locate(b.address());return d.valueAxis-D.valueAxis;});};p._getSeriesType=function(d){var a=this.locate(d.address());if(!this._dataShapes){var b="dataShape.primaryAxis";var i=a&&!a.hasOwnProperty("valueAxis");if(i){b="dataShape.secondaryAxis";}this._dataShapes=this._propMgr.get("plotArea."+b);if(!this._dataShapes){this._dataShapes=i?["line","line","line"]:["bar","line","line"];}}return S.getSeriesType(a,this._dataShapes,this._renderType);};p._setupSeriesTypeTable=function(){if(this._series){for(var i=0;i<this._series.length;i++){var j=0;while(!this._series[i][j]&&j<this._series[i].length){j++;}if(this._series[i][j]){this._seriesTypeLookup[i]=this._getSeriesType(this._series[i][j].dp);}else{this._seriesTypeLookup[i]=undefined;}}}};p._getMaxCategoryNum=function(){var m=0;for(var i=0;i<this._series.length;i++){if(this._series[i]&&this._series[i].length>m){m=this._series[i].length;}}return m;};p._getFirstPointBySeries=function(s){if(this._series&&s>-1&&s<this._series.length){if(this._series[s]){for(var i=0;i<this._series[s].length;i++){if(this._series[s][i]){return this._series[s][i].dp;}}}}return null;};p._prevSeriesFirstPoint=function(i){var d=this.getDataPoint(i);if(d){var s=d.address()[1];while((--s)>-1&&!(d=this._getFirstPointBySeries(s))){}}return d;};p._nextSeriesFirstPoint=function(i){var d=this.getDataPoint(i);if(d){var s=d.address()[1];var a=this._series.length;while((++s)<a&&!(d=this._getFirstPointBySeries(s))){}}return d;};p.leftSeries=function(i){return this._prevSeriesFirstPoint(i);};p.rightSeries=function(i){return this._nextSeriesFirstPoint(i);};p.upSeries=function(i){return this._prevSeriesFirstPoint(i);};p.downSeries=function(i){return this._nextSeriesFirstPoint(i);};return B;});define('sap/viz/chart/components/accessibility/ColumnDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,T,A,B){function C(){C.superclass.constructor.apply(this,arguments);this._allDataPoints=[];this._allDataPointsReverse=[];this._setupDataPointsMap();}o.extend(C,B);var p=C.prototype;p._setupDataPointsMap=function(){if(this._series&&this._propMgr.get("interaction.enableKeyboard")){this._allDataPoints=[];this._allDataPointsReverse=[];if(!this._isTimeColumn&&!this._isTimeWaterfall){var c=this._getMaxCategoryNum();for(var d=0;d<c;d++){for(var s=0;s<this._series.length;s++){var e=this._series[s][d];if(e&&(e.valueAxis!=null||e.valueAxis2!=null)){this._allDataPoints.push(e.dp);}}}}else{var t;var f=this._dataModel.getDataPoints();var g=this._dataModel.timeAxis();if(f.length>0&&g){t=g.rowArray.map(function(a){return a[0]?a[0].parsedValue:null;});t=t.filter(function(a){return a;});t=A.unique(t).sort(function(a,b){return a-b;});var r=this._dataModel._rangeIndex;var h=this._propMgr.get("interaction.selectByTimeAxisGroup");var l=r&&r.length>0?r.length+1:t.length;var j={};f.forEach(function(a){var b=a.context();if(a._model&&a._model.timeAxis&&a._model.timeAxis.metaData){var m=a._model.timeAxis.metaData[0].id+".parsedValue";var n=b[m];if(T.isExist(n)){j[n]=j[n]||[];j[n].push(a);}}});for(var i=r[0]||0;i<l;i++){var k=j[t[i]];if(k&&k.length>0){this._allDataPoints=this._allDataPoints.concat(h?k[k.length-1]:k);this._allDataPointsReverse=this._allDataPointsReverse.concat(h?k[0]:k);}}}}}};p.getFirstStartPoint=function(){return this._allDataPoints[0];};p.destroy=function(){C.superclass.destroy.apply(this,arguments);this._allDataPoints=null;};p.left=function(i){return this.getPrevDataPoint(i);};p.right=function(i){return this.getNextDataPoint(i);};p.up=function(i){return this.getPrevDataPoint(i);};p.down=function(i){return this.getNextDataPoint(i);};p.getNextDataPoint=function(i){var s=this._propMgr.get("interaction.selectByTimeAxisGroup");var d=this.getDataPoint(i);var n=null,a;if(s){a=this._allDataPoints.indexOf(d);if(a===-1){a=this._allDataPointsReverse.indexOf(d);}a++;}else{a=this._allDataPoints.indexOf(d)+1;}if(a<this._allDataPoints.length){n=this._allDataPoints[a];}return n;};p.getPrevDataPoint=function(i){var s=this._propMgr.get("interaction.selectByTimeAxisGroup");var d=this.getDataPoint(i);var a=null,b;if(s){b=this._allDataPointsReverse.indexOf(d);if(b===-1){b=this._allDataPoints.indexOf(d);}b--;}else{b=this._allDataPoints.indexOf(d)-1;}if(b>-1){if(s){a=this._allDataPointsReverse[b];}else{a=this._allDataPoints[b];}}return a;};return C;});define('sap/viz/chart/components/trendline/mixin/columnPlot',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/trendline/Trendline",],function(S,O,T){function p(c){var d="M"+c.pop().join(",");d+="L"+c.shift().join(",");return d;}function C(){this._trendlines=null;}var a=C.prototype;a._getTrendLineContainer=function(t,c){c.appendChild(t);};a.renderTrendlines=function(s){if(!s){return;}var d=this._properties.get("dataPointStyleMode"),c=this._properties.get("dataPointStyle");if(c&&d&&d==="override"){return;}var e=0,t=this._trendlineCfg(),f=s.select(".v-plot-main").node(),g=f.querySelector(".v-trendline-group"),h,i;this._getTrendLines(this._data);if(!t||!this._trendlines||t.length===0){return null;}if(g){g.parentNode.removeChild(g);}g=S.create("g");g.setAttribute("class","v-trendline-group");this._getTrendLineContainer(g,f);for(var j=0,l=t.length;j<l;j++){i=t[j];var k=this._trendlines[j];if(!i||!k||!k.raw||!k.fx){continue;}var m=this._drawTrendlineForSeries(k,this._swapXY(k));if(m){h=S.create("path");h.setAttribute("fill","none");h.setAttribute("d",m);Object.keys(i.style).forEach(function(n){h.setAttribute(n,i.style[n]);});g.appendChild(h);}}return g;};a._drawTrendlineForSeries=function(t,s){var c=t.series,d=t.seriesId,e=this._val2PosFns(d,c,s),r=this._rasterizeTrendData(t,s),f=T.calculate(r.slice(0,t.raw.length-t.forecast));t.rasterizedData=r;var g=this._getTrendlineRange(t,s),h=[],v;if(this._visibleBound){v=s?[-1*this._offset.y,this._visibleBound.y]:[-1*this._offset.x,this._visibleBound.x];}else{v=s?[-1*this._offset.y,this._realSize.height]:[-1*this._offset.x,this._realSize.width];}for(var i=g.start;g.start!==g.end&&i<=g.end;i+=g.step){var j=e.x(i);var k=e.y(f(i));if(j<=v[1]&&j>=v[0]){h.push([j,k]);}}if(!h||h.length<2){return null;}return p(!s?h:h.map(function(l){return l.reverse();}));};a._getTrendlineRange=function(t,s){var d=t.rasterizedData;return{start:d[0].x,end:d[d.length-1].x,step:1};};a._swapXY=function(){return this.isHorizontal();};a._val2PosFns=function(c,d,e){var k=T.Utils.seriesAxisId(d),v=this._xHandlers.concat(this._yHandlers).filter(function(s){return s.id===k;})[0],w=this._realSize.width,h=this._realSize.height;return{x:function(f){return f;},y:e?function(f){var g=v._scale.scale(f);return g*w;}:function(f){var g=v._scale.scale(f);return(1-g)*h;}};};a._rasterizeTrendData=function(t,s){var c=s?this._realSize.height:this._realSize.width,e=(s?this._yHandlers[0]:this._xHandlers[0])._scaleByIndex;var o=t.raw.length-t.forecast;var f;return t.raw.map(function(d,i){if(i<o){var g=e[d.x-1];return{x:c*(g[0]+(g[1]-g[0])/2),y:d.y};}else{var h=e[e.length-t.forecast]||h;f=f?f:(h[1]-h[0]);return{x:c*((t.forecast-1+1/2)*f+h[0]),y:d.y};}},this);};a._getTrendLines=function(d){var c=this._properties.get("dataPointStyleMode"),e=this._properties.get("dataPointStyle");if(e&&c&&c==="override"){return;}if(!this._trendlines){var f=this._properties.get("trendLine"),g=this._properties.get("dataPoint"),t=this.runtime().statusManager().get('timeLevels');this._trendlines=T.Parser.basic(f,d,g,t);}};a._trendlineValueDomain=function(d){var c={valueAxis:[],valueAxis2:[]};this._getTrendLines(d);if(!this._trendlines){return[];}c=this._trendlines.reduce(function(c,t){if(!t||!t.raw||!t.fx){return c;}var s=t.series,k=T.Utils.seriesAxisId(s),e=T.domainPerTrendline(t.fx,t.raw),f=c[k].concat(e);c[k]=[Math.min.apply(null,f),Math.max.apply(null,f)];return c;},c);if(c.valueAxis.length===0){delete c.valueAxis;}if(c.valueAxis2.length===0){delete c.valueAxis2;}return c;};a._trendlineCfg=function(){var d=this._data,c=this._properties.get("trendLine"),s=this._properties.get("seriesStyle");return T.Parser.color(c,d,s,this._effectManager);};a._expandTrendlineXRange=function(d){T.expandCategoryDomain(d,this._trendlines,this.runtime().statusManager());};a.zoom=function(s){this.renderTrendlines(this._selection);};a.render=function(s){this.renderTrendlines(s);};function b(t,o){return function(){var r=t.apply(this,arguments);o.apply(this,arguments);return r;};}a.inject=function(r,c){c=c||this.defaultResolveStrategy;for(var d in this){if(r[d]&&this.defaultResolveStrategy[d]){var e=c[d];if(!e){throw new Error("Mixin conflict: no resolve strategy");}var f=e(r[d],this[d]);if(!f){throw new Error("Mixin conflict: strategy not able to resolve it");}r[d]=f;}else{r[d]=this[d];}}};a.defaultResolveStrategy={zoom:b,render:b};return C;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/behavior/config/ContextualDataUtil',"sap/viz/framework/interaction/BehaviorManager"],function(C,T,H,D,a,b,O,c,d,B){var f=["info/bar","info/column","info/dual_bar","info/dual_column","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall"];var t=["info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination"];var g=f.concat(t);var h=["info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/mekko","info/horizontal_mekko","info/100_mekko","info/100_horizontal_mekko","info/waterfall","info/horizontal_waterfall","info/stacked_waterfall","info/horizontal_stacked_waterfall","info/heatmap"].concat(f);h=a.addTrellisType(h);var i=h.concat(t);i=a.addTrellisType(i);f=a.addTrellisType(f);var j=C.CSS.CLASS;var k="datapoint";var l="dataline";var m=["info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall"];var n=[{"id":"selectDataPoint_bar","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":h,},"handler":function(e,s){if(s.isBigDataMode()){b.selectOnBarDuringBigData(e,s);}else{b.selectOnBarOnNormalMode(e,s);}}},{"id":"deselectDataPoint_bar","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":h},"handler":function(o,s){if(s.isBigDataMode()){return;}s.fireEvent(o,true);var p=s.getProperties();var q=H.turnToArray(o.data.targets);var r;var u=T.isExist(p.get('plotArea.markerRenderer'));q.forEach(function(e){var w=1;if(o.data.isAnyOtherSelected){r=p.get('interaction.deselected');}else{r=p.get('plotArea.dataPoint');w=D.getData(e).strokeWidth;}H.drawStroke(s,e,'rect',r.stroke,w);H.drawFill(s,e,'rect, path',r,u);});}},{"id":"hoverOnDataPoint_bar","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":h},"handler":function(e,s){if(s.isBigDataMode()&&!s.isTrellis()){b.highlightOnBarDuringBigData(e,s);}else{b.hoverEffectDuringNormalMode(e,s);}}},{"id":"unhoverOnDataPoint_bar","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":h},"handler":function(e,s){if(s.isBigDataMode()&&!s.isTrellis()){b.unhighlightOnBarDuringBigData(e,s);}else{b.unhoverEffectDuringNormalMode(e,s);}}},{"id":"clearPlot_bar","triggerEvent":{"name":"clearPlot","supportedChartTypes":h},"handler":function(o,s){s.fireEvent(o,true);s._getDecorationLayer().clear();var p=o.data.isGray;var r=o.data.rangeSelection;var u=r&&r!=="clear";var q=s.getProperties();var v=s.getNodes(s.NodeType.DATA_POINT,false);if(v==null||v.length===0){b.cleanBar(o,s);return;}var w;var x=T.isExist(q.get('plotArea.markerRenderer'));v.forEach(function(e){var y=1;if(p||u){w=q.get('interaction.deselected');if(u){w=O.extend(true,{},w);w.opacity=1;}}else{w=q.get('plotArea.dataPoint');y=D.getData(e).strokeWidth;}var z=D.getData(e);H.drawStroke(s,e,'rect',w.stroke,T.isExist(y)?y:1,undefined,z);H.drawFill(s,e,'rect, path',w,x);});}},{"id":"clearPlot_timeseries_column","triggerEvent":{"name":"clearPlot","supportedChartTypes":m},"handler":function(e,s){s.fireEvent(e,true);if(!e.data.rangeSelection){s._getDecorationLayer().clear();s._getActionLayer().clear();}}},{"id":"hover_on_plot_bar","triggerEvent":{"name":"hover","supportedChartTypes":f,"targets":"v-m-plot"},"handler":function(e,s){b.hoverOnBarDuringBigData(e,s);}},{"id":"hover_on_non_plot_bar","triggerEvent":{"name":"hover","supportedChartTypes":g,"excludeTargets":"v-m-plot"},"handler":function(e,s){if(!s.isBigDataMode()){return;}s.setStatus("hoveringOnPlotEvent",null);var o=s._getActionLayer();o.clear(k);s._getDecorationLayer().clear(k);s.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode"});}},{"id":"hover_range_selection_bar","triggerEvent":{"name":"hover","supportedChartTypes":m,"targets":"v-m-action-layerrange"},"handler":function(e,s){b.showDetailForRangeSelectionWhenHover(e,s);}},{"id":"click_on_time_comb_during_big_data","triggerEvent":{"name":"click","supportedChartTypes":t,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,s){b.clickOnCombDuringBigData(e,s);}},{"id":"hover_on_plot_time_during_big_data","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-plot"},"handler":function(e,s){if(s.getStatus("rangeSelection")){return;}b.hoverOnCombDuringBigData(e,s);}},{"id":"click_on_non_selection_bar","triggerEvent":{"name":"click","supportedChartTypes":i,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,s){if(s.isBigDataMode()&&t.indexOf(s._getChartType())>-1){return;}if(!s.getProperties().get("interaction.enableDeselectAll")){return;}if(g.indexOf(s._getChartType())>-1){b.clickOnBarDuringBigData(e,s);}else{s.fireEvent(e,true);}}},{"id":"update_range_selection_effect_bar","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":m},"handler":function(e,s){b.updateRangeEffect(e,s);}},{"id":"recover_range_selection_effect_bar","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":m},"handler":function(e,s){b.recoverRangeEffect(e,s);}}];B.registerAll(n);return n;});define('sap/viz/chart/components/plots/ColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/chart/components/datalabels/ColumnDataLabels','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/framework/chartmodel/ContextBuilder',"sap/viz/framework/common/util/NameColorUtils",'sap/viz/chart/components/util/BarSeriesUtil','sap/viz/chart/components/decorator/HitTestRectDecorator','sap/viz/chart/components/plots/XYPlotFactory',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/ColumnDataPointNavigator","sap/viz/chart/components/util/ChartConstants",'sap/viz/chart/components/trendline/mixin/columnPlot',"sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar"],function(o,C,O,D,T,a,B,b,d,S,f,N,g,H,X,i,j,k,l){var m=C.CSS.CLASS;var n=function(r,c){n.superclass.constructor.apply(this,arguments);this._drawZeroLineBeforeDatapoints=false;this._dataPointContext=[];this._idMap={};this._semanticMgr.setUseSemanticPattern(true);};o.extend(n,B);n.prototype._getDataLabels=function(c,r){if(this.isHorizontal()){return new d(r,{name:c});}else{return new b(r,{name:c});}};n.prototype.destroy=function(){n.superclass.destroy.call(this);this._drawZeroLineBeforeDatapoints=null;};n.prototype.mappingDataPointInfo=function(c){var e=this._dataPointContext[c];return e;};n.prototype._attachColorData=function(c,e,h,q){if(this.isHorizontal()&&this._properties.get("dataLabel.visible")){var r=D.getData(c);if(!r){r={};}if(q&&q.displayName!==undefined){r.colorLegendData=[];r.colorLegendData.push(q.displayName);}else{if(e.color||e.color2){r.colorLegendData=O.clone(e.color||e.color2);var s=function(y,z){return T.isFunction(y[z])?y[z]():y[z];};var t="color";if(e.color2){t="color2";}var u=s(this._data,t).metaData;var v=[];v.push(O.clone(r.colorLegendData));var w=a.getDomainArray(v,u);if(w.length>0&&w&&w[0]){r.colorLegendData=w[0];}if(h>=0){if(r.colorLegendData.length>1){r.colorLegendData.splice(h,1);}}if(r.colorLegendData){var x=a.getDisplayTextsConverter(u);r.colorLegendData=x(r.colorLegendData);}}}D.setData(c,r);}};n.prototype.isBigDataMode=function(){var c=this._getDpCount();var e=this._properties.get('dataPoint.savingMode');var h=this.isHorizontal()?this._realSize.height:this._realSize.width;return e&&c>0&&(h/c)<1;};n.prototype._preShowDataPoints=function(c){var s=this.runtime().semanticManager();this._isBigData=this.isBigDataMode();if(this._isBigData){var e=this.createSeriesIterator(this._series.length);while(e.hasNext()){var h=e.next();var q=this._series[h];if(!q){continue;}var r=q.getDataPoints();this._hideDataPoints(r);}}return n.superclass._preShowDataPoints.apply(this,arguments);};n.prototype._getDpCount=function(){var s=this._getSeries();var c=0;s.forEach(function(e){c+=e.length;});return c;};n.prototype._applyScroll=function(){n.superclass._applyScroll.apply(this,arguments);this.renderTrendlines(this._selection);};n.prototype._updateDatapoints=function(c){this._resetDataPoints();var e=c.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();var h=this._showDataPoints(e);this._dataLabels.updatePosition(c,h);};n.prototype._showDataPoints=function(c){this._preShowDataPoints();var e=[];this._dataPointContext=[];var h=this.runtime().effectManager();if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}var q=this._needLazyRender();var s=this.createSeriesIterator(this._series.length);var r={color:null,drawingEffect:this._properties.get('drawingEffect')};var t=C.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get('dataPoint.invalidity'))<=0;var u=this._getVisibleRange();while(s.hasNext()){var v=s.next();var w=this._series[v];if(!w){continue;}var x=this._getDataPointRenderer(v);if(!x){continue;}var y=w.getDataPoints();var z=this._getDataPointRange(y,u);if(q){this._hideDataPoints(y,z);}var A=null;var E=this._getDataShape&&this._getDataShape(v)==="line";var F=this._getDataShape&&this._getDataShape(v)==="bar";var G=this.getSeriesDPStyle(v);for(var I=z.min;I<=z.max;I++){var J=y[I];if(!J){continue;}var K=this._getDataPointPosition(J);if(!K){continue;}var L=J.getRawData();if(F&&L&&(!L.hasOwnProperty("valueAxis")||!T.isExist(L.valueAxis))){continue;}var M=false;var P=J.getId();var Q=null;var R=J.getConfig();if(t&&L.dp.ignore&&E){K=null;if(!R){R={graphic:{fill:A,}};}}else{if(!R){if(!A){A=this._getColor(L);}r.color=A;r.seriesStyle=G;M=true;R=this._buildWrapperConfig(L,K,null,r);R.seriesIndex=v;R.seqId=P;R.position=K;if(R.graphic.pattern==="noFill"){R.path=this._generatePath(R.graphic);R.graphic.pathStrokeWidth=this._pathStrokeWidth(R.ctx);}}this._dataPointContext[L.dp.id]=R;this._idMap[L.dp.id]=P;if(!this._isBigData){var U=J.getData();if(!U){M=true;U=this._buildData(R);J.init(R,P,U,L.dp&&L.dp.id?L.dp.id:C.NULL_VALUE);}Q=J.getNode();if(Q){if(M){if(R.graphic.pattern==="noFill"){R.path=this._generatePath(R.graphic);R.graphic.pathStrokeWidth=this._pathStrokeWidth(R.ctx);}this._updateDatapoint(Q,x,R,K);e.push(Q);}}else{Q=this._drawDataPoint(x,J);J.setNode(Q);if(Q){e.push(Q);}}}this._updateStrokeWidth(Q);if(this._seriesRenderer){this._seriesRenderer.addDataPoint(v,I,R,K,Q);}else if(!Q.parentNode){c.appendChild(Q);}}}}return e;};function p(r){if(r.valueAxis!=null){return r.valueAxis;}else if(r.valueAxis2){return r.valueAxis2;}else{return 0;}}n.prototype._buildWrapperConfig=function(e,q,r,s){var t;if(this._isBigData&&r==null){var u=e.transparent||0;var w=q.width;var h=q.height;var c=N.convertColor(s.color);var v={graphic:{width:w,height:h,drawingEffect:this._drawingEffect||s.drawingEffect||this._properties.get('drawingEffect'),fill:(s&&s.seriesStyle&&s.seriesStyle.color)?N.convertColor(s.seriesStyle.color):c,opacity:1-u},data:{color:c,width:w,height:h,translate:[q.x,q.y]},effectManager:this._effectManager,rawData:e,negative:p(e)<0,horizontal:this.isHorizontal(),dataId:e.dp.id};if(this._isCombination){t=e.dp&&e.dp.context()?e.dp.context():C.NULL_VALUE;v.ctx=t;}return v;}else{t=e.dp&&e.dp.context()?e.dp.context():C.NULL_VALUE;var x=n.superclass._buildWrapperConfig.call(this,e,q,t,s);return x;}};n.prototype._drawDataPoint=function(c,e){var h=n.superclass._drawDataPoint.apply(this,arguments);this._attachColorData(h,e.getRawData(),e.getOnlyOneMndIndex(),e.getConfig());return h;};n.prototype._getSeriesRenderer=function(){return new S(this._drawBarSeries.bind(this),this._updateBarSeries.bind(this));};n.prototype._drawBarSeries=function(s,c,e){g.drawBarSeries(s,c,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);};n.prototype._updateBarSeries=function(s,c,e){g.updateBarSeries(s,c,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);};(new H()).decorate(n);X.registerClazz("column",n);X.registerClazz("bar",n);i.register(k.DATAPOINT_NAVIGATOR,k.COLUMN,j);i.register(k.DATAPOINT_NAVIGATOR,k.WATERFALL,j);(new l()).inject(n.prototype);return n;});define('sap/viz/chart/components/datalabels/StackedDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/DataLabels','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/SVG','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/GeometryUtils','sap/viz/chart/components/util/ColorUtil','sap/viz/framework/common/util/NumberUtils'],function(o,D,a,b,C,T,S,c,G,d,N){var e=function(i,j){this._isFlexibleStack=j.isFlexibleStack;e.superclass.constructor.apply(this,arguments);this._labelPosition="inside";this._totalLabels=[];this._stackIndexs=[];this._plotSelection=null;this._gridlineScale=null;};var f=C.CSS.CLASS.DATALABEL+" "+C.CSS.CLASS.MORPHABLELABEL,g=C.CSS.CLASS.DATALABEL_GROUP_TOTAL,h="g";o.extend(e,b);function k(i){var t=i.gNode.querySelector("text");if(!t){t=S.create("text");i.gNode.appendChild(t);}t.textContent=i.text;return t;}k.expose={renderer:k};e.prototype.setTrellisCell=function(i,j){e.superclass.setTrellisCell.apply(this,arguments);this._isFlexibleStack=false;};e.prototype.setSeriesSettings=function(s,i){if(this._isFlexibleStack){this._seriesGroups=s.reduce(function(j,m){m.series.forEach(function(n){j[n]=m;});return j;},[]);this._seriesType=i;}};e.prototype._computeDataLabelPosition=function(i,s,j,m,n,p){var q=s.x+i.e;var r=s.y+i.f;var t=[];if(j==="up"||j==="down"||j==="inside"){t[0]=(q+s.width/2)-(m.x+m.width/2);if(j!=="inside"){t[1]=r-(m.y+m.height)-C.DATALABEL.VERTICAL_TOTAL_LABEL_PADDING;if((n.val===0&&(t[1]+m.y<0))||(j==="down")){t[1]=r-m.y+s.height+C.DATALABEL.VERTICAL_TOTAL_LABEL_PADDING;}}}if(j==="left"||j==="right"||j==="inside"){t[1]=(r+s.height/2)-(m.y+m.height/2);if(j!=="inside"){t[0]=q-m.x+s.width+C.DATALABEL.HORIZONTAL_TOTAL_LABEL_PADDING;if((t[0]>this._size.width&&n.val===0)||(j==="left")){t[0]=q-(m.x+m.width)-C.DATALABEL.HORIZONTAL_TOTAL_LABEL_PADDING;}}}if(this._options.allowMicroAdjust&&n.zeroLineAdjust){var z=this._gridlineScale.scale(0);var y=t[1];var u=m.height;var v=y-u;var w=n.val;if(T.isNumber(z)&&v<z&&y>z){if(w>=0){t[1]=z;}else{t[1]=z+u;}}}return t;};e.prototype._getCategorySum=function(s){var r;if(this._isFlexibleStack){r=[0,0];for(var i=0;i<s.length;i++){var j=a.getContext(s[i]);var v=+j[j.measureNames];if(v>=0){r[1]+=v;}else{r[0]+=v;}}}else{r=a.getData(s).range;}return r;};e.prototype.updatePosition=function(s,i){var p=s.node();this._allStacksNodes=p.querySelectorAll("."+C.CSS.CLASS.STACK);this._renderStackTotal(s,this._allStacksNodes);e.superclass.updatePosition.apply(this,arguments);};e.prototype.render=function(s,i){this._removeExtraNodes(s);this._plotSelection=s;i=i||c.findAll(this._dataShapesGroupNode)||[];var j=this._beforeRender(i);this._render(s,j);if(this._isFlexibleStack){this._allStacksNodes=this.getAllFlexibleStacks(i);}else{this._allStacksNodes=s.node().querySelectorAll("."+C.CSS.CLASS.STACK);}this._renderStackTotal(s,this._allStacksNodes);this._afterRender(s);};var l=function(s,j){var r=s[0];var m=Infinity;for(var i=0;i<s.length;i++){var n=a.getContext(s[i]);var v=n[n.measureNames];var p=a.getData(s[i]);if(((j>0&&v<0)||(j<=0&&v>=0))&&p.seriesIndex<m){m=p.seriesIndex;r=s[i];}}return r;};e.prototype.getAllFlexibleStacks=function(j){if(!(j&&j.length)){j=c.findAll(this._dataShapesGroupNode)||[];}var m=[];var n=[];for(var i=0;i<j.length;i++){var p=a.getData(j[i]).flexibleStackId;if(p){if(!m[p]){m[p]=[];n.push(m[p]);}m[p].push(j[i]);}}return n;};e.prototype._renderStackTotal=function(s,m){var p=s.node();var n=this._properties;var q=n.get('showTotal');this._totalLabels=[];this._stackIndexs=[];var r=this._runtime.statusManager().get("dynamicScale");if(q){var t,i;var u=p.querySelector("."+g);if(!u){u=S.create(h,p);u.setAttribute("class",g);var v=null;var w=this.runtime().envManager();if(w){v=w.textAnchor();}u.setAttribute("text-anchor",v);var z=this._getStyle();for(var j in z){if(z.hasOwnProperty(j)){u.setAttribute(j,z[j]);}}}else{var A=u.querySelectorAll("."+C.CSS.CLASS.DATALABEL);t=A.length;while(t){u.removeChild(A[t-1]);--t;}}var B=n.get('renderer')||k;var E=n.get('formatString');for(i=0,t=m.length;i<t;i++){var F=m[i];var H;if(this._isFlexibleStack){H=F;}else{H=F.querySelectorAll("."+C.CSS.CLASS.DATAPOINT);}var I=H[H.length-1];var J=c.getDataPointId(I);var K,L=E,M;var O,P;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){O=this._data.valueAxis.metaData[0].id;P=this._data.valueAxis.metaData[0].formatString;}L=L?L:P;var Q=function(U,V){var W=F;if(this._isFlexibleStack){W=l(F,V);}K=this._buildDataLabelText(L,U,null,false);if(K===null||K===undefined){return;}if(T.isExist(K)&&K&&K.text){U.formattedValue=K.formattedValue;K=K.text;}var X=i+'-'+V;var Y=S.create("g",u);c.setDataStackId(Y,X);c.setDataId(Y,X);a.setData(Y,{"id":X});a.setContext(Y,{val:U.value});Y.setAttribute("class",f);M=this._getConfigForRender(U,K,z,W,I);M.gNode=Y;this._processDataLabelRendererConfig(M,U.value!==0?W:I);var Z=B(M,k.expose)||k(M);if(Z){if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(U.value!==0?W:I);}var $=G.getBBox(Y);var _=U.value!==0?S.getTransformToElement(W,p):S.getTransformToElement(I,p);var a1=null;if(U.value>=0){a1=this._horizontal?"right":"up";}else{a1=this._horizontal?"left":"down";}var b1=this._computeDataLabelTranslate(U.value!==0?W:I,_,a1,$,M);if(!b1){Y.removeChild(Z);return;}var x=b1[0];var y=b1[1];Y.setAttribute("transform","translate("+x+","+y+")");this._totalLabels.push(Y);this._stackIndexs.push({id:X,value:U.value,labelTranslate:b1,labelBBox:$});}};var R=this._getCategorySum(F);if(R[1]>0||(R[1]===0&&R[0]===0)){Q.call(this,{key:O,value:N.preciseSimple(R[1]),dynamicScale:r},0);}if(R[0]<0){Q.call(this,{key:O,value:N.preciseSimple(R[0]),dynamicScale:r},1);}}}};e.prototype._getConfigForRender=function(i,j,m,s,n){var p={val:i.value,text:j,info:i,styles:m,horizontal:this._horizontal,dpBBox:G.getBBox(i.value!==0?s:n),isTotalDataLabel:true};return p;};e.prototype.hideConditional=function(j,m){var i,n,p,q;var r=this._properties.get("overlapBehavior");if(r!=="hideOverlappedLabels"){for(i=(j.length-1);i>=0;i--){q=j[i];n=q.node;p=q.dataPoint;if(this.isDataLabelOutOfDataPoint(n,q)&&(!p||a.getData(p).type!="line")){D.remove(n);j.splice(i,1);}}}var t;if(this._totalLabels.length){t=[];var s=new Array(this._allStacksNodes.length);for(i=0;i<this._allStacksNodes.length;i++){s[i]=G.getBoundingClientRect(this._allStacksNodes[i]);}for(i=(this._totalLabels.length-1);i>=0;i--){var u=this._stackIndexs[i].id;var v=this._allStacksNodes[u.split('-')[0]];n=c.findByDataStackIds(this._totalLabels,u)[0];if(n){var w=n.getBoundingClientRect();var I=this.indexOfDataLabelIntersectDataPoints(w,s,this._allStacksNodes,v);if(I!==-1){D.remove(n);this._totalLabels.splice(i,1);this._stackIndexs.splice(i,1);}else{var x=this._stackIndexs[i].value;var y=this._stackIndexs[i].labelTranslate;var z=this._stackIndexs[i].labelBBox;var A={val:x};if(y){var B={info:{value:x},node:n,left:y[0]+z.x,right:y[0]+z.x+z.width,top:y[1]+z.y,bottom:y[1]+z.y+z.height};t.push(B);}}}}if(t){e.superclass.hideConditional.call(this,t);}}e.superclass.hideConditional.apply(this,arguments);if(t){this.detectAndRemoveOverlappedDataLabel(j.concat(t));}};e.prototype.updateColor=function(j,m){e.superclass.updateColor.apply(this,arguments);var n=this._properties.get('style.color');for(var i=0;i<this._totalLabels.length;i++){var s=this._stackIndexs[i].id;var p=c.findByDataStackIds(this._totalLabels,s)[0];if(p){var q=n;if(!q){q=d.getDataLabelColor(m);}var r=this.runtime().effectManager().register({fillColor:q});p.setAttribute("fill",r);}}};e.prototype.drawZero=function(i){return(!i||null===c.getDataPointId(i));};e.prototype.destroy=function(){e.superclass.destroy.call(this);this._labelPosition=null;this._totalLabels=null;this._stackIndexs=null;this._plotSelection=null;this._gridlineScale=null;};return e;});define('sap/viz/chart/components/renderers/StackedBarRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/DrawUtil"],function(S,D,a){var M=2;var b=function(c){var n,f;var g=c.graphic;var t=(g.width<1||g.height<1)&&(g.width!==0&&g.height!==0);var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;if(g.pattern==="noFill"&&c.path){n=S.create("path");n.setAttribute("d",c.path);n.setAttribute("stroke-width",isNaN(g.pathStrokeWidth)?3:g.pathStrokeWidth);n.setAttribute("fill",g.bgColor);n.setAttribute("stroke",g.fill);}else{n=S.create("rect");n.setAttribute("width",w);n.setAttribute("height",h);f=g.fill;if(c.effectManager){f=c.effectManager.register({drawingEffect:g.drawingEffect,fillColor:g.fill,patternEffect:g.pattern,direction:c.horizontal?'vertical':'horizontal'});}n.setAttribute("fill",f);n.setAttribute('shape-rendering','crispEdges');if(g.stroke){var m=c.horizontal?h:w;var s=m>g.strokeWidth+M?g.strokeWidth:m-M;if(s>=1){n.setAttribute('stroke',g.stroke);n.setAttribute('stroke-width',g.strokeWidth);}}}var d=D.getData(n)||{};d.bTinyValue=t;D.setData(n,d);D.setCustomizationInfo(n,{'defaultRenderer':true});return n;};b.update=function(n,c){var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;var s={width:w,height:h,minSize:c.horizontal?h:w};a.barUpdate(n,c,s);};b.expose={renderer:b,update:b.update};return b;});define('sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,T,B){function S(a){S.superclass.constructor.apply(this,arguments);this._allNegativeValueInCategory=[];this._negativeValueAxis1=[];this._negativeValueAxis2=[];this._stackItemsUpDownOrder=[];this._isSupportNaturalUpDown=(!this._isPercentage&&!this._isDual&&this._isVerticalRender&&a&&!a.isTimeseries&&!a.isCombination);}o.extend(S,B);var p=S.prototype;p.buildUpDownOrder=function(){if(this._series&&this._isSupportNaturalUpDown){var c=0;var i;var C;for(i=0;i<this._series.length;i++){c=Math.max(c,this._series[i].length);}var a={};for(C=0;C<c;++C){a[C]=true;for(i=0;i<this._series.length;++i){if(this._series[i][C]){var m=this._series[i][C].valueAxis;if(m>0){a[C]=false;break;}}}}for(C=0;C<c;C++){this._stackItemsUpDownOrder[C]=[];var f=[];var b=[];var d;for(i=0;i<this._series.length;i++){d=0;if(this._series[i].settings){var e=this._series[i].settings.group;d=b.indexOf(e);if(d<0){b.push(e);d=b.length-1;}}if(this._series[i][C]){var g={};g.i=i;var h=this._series[i][C].dp;if(h){var j=h.context();if(a[C]){g.isNegative=(j[j.measureNames]>0?0:1);}else{g.isNegative=(j[j.measureNames]>=0?0:1);}g.seriesLocation=h.address()[1];if(g.isNegative>0){g.seriesLocation=-g.seriesLocation;}g.flexibleGroupIndex=d;f.push(g);}}}f.sort(function(I,k){var l=I.flexibleGroupIndex-k.flexibleGroupIndex;var n=I.isNegative-k.isNegative;var s=I.seriesLocation-k.seriesLocation;return l||n||s;});for(i=0;i<f.length;i++){this._stackItemsUpDownOrder[C].push(f[i].i);}}}};p.init=function(){this.buildUpDownOrder();if(this._series&&this._isPercentage){var c=this._getMaxCategoryNum();for(var a=0;a<c;a++){var n=0;var b=0;var v=0;var d=0;for(var s=0;s<this._series.length;s++){if(this._series[s][a]){if(this._series[s][a].valueAxis){v++;if(this._series[s][a].valueAxis<0){n++;}}if(this._isDual&&this._series[s][a].valueAxis2){d++;if(this._series[s][a].valueAxis2<0){b++;}}}}if(n===v){this._negativeValueAxis1[a]=true;}else{this._negativeValueAxis1[a]=false;}if(this._isDual){if(b===d){this._negativeValueAxis2[a]=true;}else{this._negativeValueAxis2[a]=false;}}}}};p.destroy=function(){S.superclass.destroy.apply(this,arguments);this._allNegativeValueInCategory=null;this._negativeValueAxis1=null;this._negativeValueAxis2=null;this._stackItemsUpDownOrder=null;};p.left=function(i){return this._isVerticalRender?this._getPrevDataPointInSeries(i):this._getNextDataPointInStack(i);};p.right=function(i){return this._isVerticalRender?this._getNextDataPointInSeries(i):this._getPrevDataPointInStack(i);};p.up=function(i){return this._isVerticalRender?this._getPrevDataPointInStack(i):this._getPrevDataPointInSeries(i);};p.down=function(i){return this._isVerticalRender?this._getNextDataPointInStack(i):this._getNextDataPointInSeries(i);};p._getPrevDataPointInSeries=function(i){var a=this._prevNonNullDPInSeries(i);if(this._isPercentage){while(a&&((!this._negativeValueAxis1[a.address()[0]]&&this.locate(a.address()).valueAxis<0)||(this._isDual&&!this._negativeValueAxis2[a.address()[0]]&&this.locate(a.address()).valueAxis2<0))){a=this._prevNonNullDPInSeries(a.id);if(!a){break;}}}return a;};p._getNextDataPointInSeries=function(i){var n=this._nextNonNullDPInSeries(i);if(this._isPercentage){while(n&&((!this._negativeValueAxis1[n.address()[0]]&&this.locate(n.address()).valueAxis<0)||(this._isDual&&!this._negativeValueAxis2[n.address()[0]]&&this.locate(n.address()).valueAxis2<0))){n=this._nextNonNullDPInSeries(n.id);if(!n){break;}}}return n;};p.getUpDownIndexInStack=function(i,c,u){var t;if(this._isSupportNaturalUpDown){var a=this._stackItemsUpDownOrder[c];t=a[Math.min(Math.max(a.indexOf(i)+u,0),a.length-1)];}else{t=i+u;}return t;};p._getNextDataPointInStack=function(i){var d=this.getDataPoint(i);var n=null;var a=null;var s=this._series.length;if(d){var b=d.address();if(b[1]!==s-1||this._isSupportNaturalUpDown){n=this._downNonNullDPInSeries(d.id);if(n&&this._isPercentage){a=this.locate(n.address());if((a.valueAxis&&!this._negativeValueAxis1[b[0]])||(a.valueAxis2&&!this._negativeValueAxis2[b[0]])){var c=null;while(n&&n.address()[1]<s){a=this.locate(n.address());c=a.valueAxis||a.valueAxis2;if(c<0){n=this._downNonNullDPInSeries(n.id);}else{break;}}}}}}return n;};p._getPrevDataPointInStack=function(i){var d=this.getDataPoint(i);var a=null;var b=null;if(d){var c=d.address();if(c[1]!==0||this._isSupportNaturalUpDown){a=this._upNonNullDPInSeries(d.id);if(a&&this._isPercentage){b=this.locate(a.address());if((b.valueAxis&&!this._negativeValueAxis1[c[0]])||(b.valueAxis2&&!this._negativeValueAxis2[c[0]])){var e=null;while(a&&a.address()[1]>-1){b=this.locate(a.address());e=b.valueAxis||b.valueAxis2;if(e<0){a=this._upNonNullDPInSeries(a.id);}else{break;}}}}}}return a;};p.getFirstStartPoint=function(){if(!this._isPercentage){return S.superclass.getFirstStartPoint.apply(this,arguments);}if(this._series){for(var i=0;i<this._series[i].length;i++){for(var j=0;i<this._series.length;j++){if(this._series[j][i]){if(this._isDual){if(!this._negativeValueAxis1[i]&&this._series[j][i].valueAxis<0){continue;}if(this._isDual&&!this._negativeValueAxis2[i]&&this._series[j][i].valueAxis2<0){continue;}return this._series[j][i].dp;}else{if(!this._negativeValueAxis1[i]&&this._series[j][i].valueAxis<0){continue;}else{return this._series[j][i].dp;}}}}}}else{return null;}};p._isMeaningful=function(d){return d&&(T.isExist(d.valueAxis)||T.isExist(d.valueAxis2));};p._downNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var s=d[0];var a=this._series.length;var n=this.getUpDownIndexInStack(d[1],s,1);var b=null;if(n>a){return b;}while(n<a){if(this._series[n]){b=this._series[n][s];if(this._isMeaningful(b)){return b.dp;}}n=this.getUpDownIndexInStack(n,s,1);}return b;};p._upNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var s=d[0];var a=this.getUpDownIndexInStack(d[1],s,-1);var b=null;if(a<0){return b;}while(a>-1){if(this._series[a]){b=this._series[a][s];if(this._isMeaningful(b)){return b.dp;}}a=this.getUpDownIndexInStack(a,s,-1);}return b;};p._nextNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var s=this._series[d[1]].length;var n=d[0]+1;if(n>s){return null;}var a=this._series[d[1]][n];while(!this._isMeaningful(a)&&n<s){a=this._series[d[1]][n];n++;}return this._isMeaningful(a)?a.dp:null;};p._prevNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var a=d[0]-1;if(a<0){return null;}var b=this._series[d[1]][a];while(!this._isMeaningful(b)&&a>-1){b=this._series[d[1]][a];a--;}return this._isMeaningful(b)?b.dp:null;};p._getFirstPointBySeries=function(s){if(this._series&&s>-1&&s<this._series.length){if(this._series[s]){for(var i=0;i<this._series[s].length;i++){if(this._series[s][i]){if(this._isPercentage){if(!this._negativeValueAxis1[i]&&this._series[s][i].valueAxis<0){continue;}if(this._isDual&&!this._negativeValueAxis2[i]&&this._series[s][i].valueAxis2<0){continue;}}return this._series[s][i].dp;}}}}return null;};return S;});define('sap/viz/chart/components/plots/StackedPlotHelper',[],function(){var h={};h.getVisibleRange=function(i,B){var r=B.prototype._getVisibleRange.apply(i,arguments);if(r){var s=i._series;var a=s.length;var b;for(var c=0;c<a;c++){var d=s[c];if(!d){continue;}var e=d.getDataPoints();var f=i._getDataPointRange(e,r);b=b||f;b.min=Math.min(b.min,f.min);b.max=Math.max(b.max,f.max);}r=b;}return r;};return h;});define('sap/viz/chart/components/plots/ComboExDataHandler',["sap/viz/chart/components/plots/DataHandler"],function(D){function C(s){this._handlers=s.reduce(function(h,a){var b=a.type==="area"?false:true;var d=D.getStackHandler(b);a.series.forEach(function(c){h[c]=d;});return h;},[]);}C.prototype.add=function(i,v,s){return this._handlers[s].add(i,v,s);};C.prototype.getBase=function(i,v,s){return this._handlers[s].getBase(i,v,s);};C.prototype.reset=function(){this._handlers.forEach(function(h){h.reset();});};C.prototype.destroy=function(){this._handlers.forEach(function(h){h.destroy();});};return C;});define('sap/viz/chart/components/renderers/AreaSeriesRenderer',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants','sap/viz/chart/components/renderers/SeriesRenderer'],function Setup(o,S,T,D,C,a){var b=C.CSS.CLASS;var A=function(i,c){A.superclass.constructor.apply(this,arguments);};o.extend(A,a);A.prototype.init=function(s){this._series=[];this._seriesGroup=[];var g;for(var i=0;i<s;i++){g=this._seriesGroup[i]=S.create("g");g.setAttribute("class",b.AREA_POINT);}g=this._areaGroup=S.create("g");g.setAttribute("class",b.AREA_GROUP);g=this._refLineGroup=S.create("g");g.setAttribute("class",b.AREA_REF_LINE_GROUP);};A.prototype.addDataPoint=function(i,c,d,p,e,f){if(e){this._seriesGroup[i].appendChild(e);}if(f){this._refLineGroup.appendChild(f);}this._series[i]=this._series[i]||[];this._series[i][c]={position:p,dpConfig:d,dataPoint:e,dataPointRefLine:f};};A.prototype.addDataPointRefLine=function(i,c,n){if(!n||!this._series[i]){return;}var s=this._series[i][c];if(!s){return;}this._refLineGroup.appendChild(n);s.dataPointRefLine=n;};A.prototype.render=function(p){var c=this._areaGroup;var r=this._refLineGroup;var d=S.create("g");for(var i=0;i<this._seriesGroup.length;i++){if(this._series[i]){this._renderSeries(c,this._series[i],i);d.appendChild(this._seriesGroup[i]);}}d.setAttribute("class",b.AREA_POINT_GROUP);p.appendChild(c);p.appendChild(r);p.appendChild(d);};A.prototype.update=function(p){for(var i=0;i<this._seriesGroup.length;i++){if(this._series[i]){this._updateSeries(this._areaGroup,this._series[i],i);}}};return A;});define('sap/viz/chart/components/renderers/ComboExSeriesRenderer',["sap/viz/framework/common/util/oo","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/AreaSeriesRenderer"],function(o,S,A){var T=["line","bar","area"];function C(r,u){this.seriesRenderers={"bar":new S(r,u),"line":new S(r,u),"area":new A(r,u)};this._renderers=T.slice().reverse().map(function(t){return this.seriesRenderers[t];},this);this._seriesType=[];}C.prototype.setSeriesSettings=function(s,a){this._seriesGroupInfo=s;this._seriesType=a;this._typeIndexes=[[],[],[]];var b=T.length-1;for(var i=0;i<a.length;++i){this._typeIndexes[b-T.indexOf(a[i])].push(i);}};C.prototype._seriesGroupOrder=function(){var g=this._seriesGroupInfo.reduce(function(a,s){if(!a[s.type]){a[s.type]=[];}a[s.type].push(s.series);return a;},{});return T.reduce(function(a,t){if(g[t]){g[t].forEach(function(s){a=a.concat(s.slice().reverse());});}return a;},[]);};C.prototype._sortStackedSeries=function(t){var c=this._seriesGroupOrder();var r=this.seriesRenderers[t];var s=r._series,d=r._seriesGroup,e=s.reduce(function(a,b,i){return b?a.concat(i):a;},[]);var f=e.slice().sort(function(a,b){return c.indexOf(a)-c.indexOf(b);}).reduce(function(f,a,i){var b=e[i];f.series[b]=s[a];f.seriesGroup[b]=d[a];return f;},{series:[],seriesGroup:[]});r._series=f.series;r._seriesGroup=f.seriesGroup;};C.prototype.getSeriesRenderer=function(s){return this.seriesRenderers[this._seriesType[s]];};C.prototype._doAll=function(n,a){var t=this._typeIndexes;this._renderers.forEach(function(r,i){r[n].apply(r,[].slice.call(a).concat([t[i]]));});};C.prototype.addDataPointRefLine=function(i,c,r){this.seriesRenderers.area.addDataPointRefLine(i,c,r);};C.prototype.init=function(n){this._doAll("init",arguments);};C.prototype.resetDataPoints=function(){this._doAll("resetDataPoints",arguments);};C.prototype.render=function(p){this._sortStackedSeries("bar");this._doAll("render",arguments);};C.prototype.update=function(p){this._doAll("update",arguments);};C.prototype.addDataPoint=function(s,c,d,p,a){this.getSeriesRenderer(s).addDataPoint(s,c,d,p,a);};C.prototype.updateDataPoint=function(s,c,d,p){this.getSeriesRenderer(s).updateDataPoint(s,c,d,p);};o.extend(C,S);return C;});define('sap/viz/chart/components/plots/StackedColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/ColumnPlot','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/chart/components/plots/DataHandler',"sap/viz/chart/components/plots/SeriesIterator",'sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/BarWidthUtils','sap/viz/chart/components/datalabels/StackedDataLabels','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/SVG',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics",'sap/viz/chart/components/renderers/StackedBarRenderer',"sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator","sap/viz/chart/components/util/ChartConstants",'sap/viz/chart/components/plots/StackedPlotHelper',"sap/viz/chart/components/plots/ComboExDataHandler","sap/viz/chart/components/renderers/ComboExSeriesRenderer"],function Setup(o,C,B,D,S,I,a,b,c,d,e,f,g,h,O,k,X,m,n,p,q,r,t){var u=function(i,j){this._isFlexibleStack=(i.propertyManager().origin.get("plotArea.series")&&j&&!j.inTrellis&&!j.isDualValueAxis&&!j.isHorizontal&&j.isSupportFlexibleStack);u.superclass.constructor.apply(this,arguments);this._dataPointRenderer=h;this._initCategoryAxis(a,I);};o.extend(u,C);var v=1;u.prototype._initCategoryAxis=function(a,I){if(this._isFlexibleStack){this._seriesType=[];this._barCategoryAxis=a.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:I.get(true,this._getBarProperties())});this._categoryScaleHandler=this._barCategoryAxis;}};u.prototype._getXPosition=function(s,i,j){if(this._isFlexibleStack){return this._getAxisPosition([this._barCategoryAxis],this._barGroupIndices[s],i,j);}else{return u.superclass._getXPosition.apply(this,arguments);}};u.prototype._renderSeries=function(s,i,j,l){if(this._isFlexibleStack){return v;}};u.prototype._updateSeries=function(s,i,j,l){if(this._isFlexibleStack){return v;}};u.prototype._buildDataHandler=function(i){if(this._isFlexibleStack){return new r(this._seriesGroups.filter(function(s){return s.mndKey===i;}));}};u.prototype._applyScroll=function(){return C.superclass._applyScroll.apply(this,arguments);};u.prototype.getDataPointPosition=function(s,i,j){if(this._isFlexibleStack){var l=u.superclass.getDataPointPosition.apply(this,arguments);if(j){this._resetDataPoints();}return l;}else{var y=this._getSeries();var z;if(y.length){s=y.length-s-1;z=y[s][i];}return this._getPosition(s,i,z);}};u.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{"valueAxis":D.getStackHandler(true),"valueAxis2":D.getStackHandler(true)};}else{return{"valueAxis":D.getStackHandler(true)};}};u.prototype._getCategoryScaleHandlers=function(i){this._categoryScaleHandler=a.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:this._getItemScaleHandler()});return[this._categoryScaleHandler];};u.prototype._getBarProperties=function(){if(!this._barInfoProperties){this._barInfoProperties=b.getBarProperties(this._properties.origin,this._isFlexibleStack);}return this._barInfoProperties;};u.prototype._getItemScaleHandler=function(){var i;var j=this._getBarProperties();if(this._options.isDualValueAxis){j.valueAxis=["valueAxis","valueAxis2"];i=I.get(false,j);delete j.valueAxis;}else{i=I.get(false,j);}this._itemScaleHandler=i;return i;};u.prototype._applyChanges=function(){if(this._options.isDualValueAxis&&!(this._data.color.scale.getDomain().length&&this._data.color2.scale.getDomain().length)){this._getBarProperties().barSpacing=1;this._itemScaleHandler.updateItems(this._data.color2.scale.getDomain().length?["valueAxis2"]:["valueAxis"]);}u.superclass._applyChanges.apply(this,arguments);this._initBarCategoryAxis();};u.prototype._initBarCategoryAxis=function(){if(this._isFlexibleStack){var i=this._getColumnCount();var s=this._data["categoryAxis"].scale;if(i){var j=this.isHorizontal()?this._realSize.height:this._realSize.width;this._barCategoryAxis.init(s,i,j);}}};u.prototype._getDataLabels=function(i,j){return new c(j,{name:i,horizontal:this.isHorizontal(),allowMicroAdjust:!this.isHorizontal(),isFlexibleStack:this._isFlexibleStack});};u.prototype._getSeries=function(){if(this._isFlexibleStack){return u.superclass._getSeries.apply(this,arguments);}else{if(this._data.series){return this._data.series.slice().reverse();}else{return[];}}};u.prototype._attachMarkManager=function(){if(this._isFlexibleStack){if(!this._data){return;}var i=this.runtime().markManager();var j=this._isInTrellis?(i._shapes||[]):[];i.lock();i.setMode("series");var s={line:this._getMarkerShape(),bar:this._getLegendMarkerShape(),area:"circle"};var l=0,y=0;this._getSeries().forEach(function(z){var A=z.spec.mndKey==="valueAxis";var E=A?0:1;var F=A?l:y;if(A){l++;}else{y++;}j[E]=j[E]||[];if(!!j[E][F]||(this._isInTrellis&&this._isEmptySeries(z))){return;}j[E][F]={marker:s[z.settings.type],type:z.settings.type};},this);i.setMarkers(j);}};u.prototype._getColumnCount=function(){if(this._isFlexibleStack){return this._seriesGroups.length;}else{return this._options.isDualValueAxis&&this._data.color.scale.getDomain().length&&this._data.color2.scale.getDomain().length?2:1;}};function w(y){if(!y.length){return[];}var z=[],A,s;for(var i=0,l=y.length;i<l;i++){s=y[i];for(var j=0;j<s.length;j++){A=z[j]=z[j]||[];A.push(s[j]);}}return A;}u.prototype._needValidEmptyAxisData=function(){return false;};u.prototype._buildData=function(i){var j=u.superclass._buildData.apply(this,arguments);j.isNegative=undefined;return j;};u.prototype._generatePath=function(s,i){if(this._isFlexibleStack){return u.superclass._generatePath.apply(this,arguments);}else{var j=[];var l=i.isClose;var y=i.isNegative;var z=this._isPercent;var A=1.5;var E=s.width-A,F=s.height-A;if(E<=0){E=1;}if(F<=0){F=1;}if(i.isZero){A=0;}if(this.isHorizontal()){if(i.isZero){E=0;}if(l){j.push([A,A]);j.push([E,A]);j.push([E,F]);j.push([A,F]);j.push([A,0]);}else{if(y&&!z){j.push([s.width,A]);j.push([A,A]);j.push([A,F]);j.push([s.width,F]);}else{j.push([0,A]);j.push([E,A]);j.push([E,F]);j.push([0,F]);}}}else{if(i.isZero){F=0;}if(l){j.push([A,F]);j.push([A,A]);j.push([E,A]);j.push([E,F]);j.push([0,F]);}else{if(y&&!z){j.push([A,1]);j.push([A,F]);j.push([E,F]);j.push([E,1]);}else{j.push([A,s.height]);j.push([A,A]);j.push([E,A]);j.push([E,s.height]);}}}return e.generatePath({points:j});}};u.prototype._pushDataPointContext=function(){};u.prototype._getVisibleRange=function(){if(this._isFlexibleStack){return u.superclass._getVisibleRange.apply(this,arguments);}else{return q.getVisibleRange(this,C);}};u.prototype._isSupportBarPathGenerator=function(){return this._isFlexibleStack;};u.prototype.setData=function(i){u.superclass.setData.call(this,i);if(this._isFlexibleStack){if(this._fixSeriesForMulti){this._fixSeriesForMulti.call(this,i.series.filter(function(s){return s.settings.type==="area";}));}this._configSeries();this._dataHandler={valueAxis:this._buildDataHandler("valueAxis"),valueAxis2:this._buildDataHandler("valueAxis2")};this._seriesRenderer.setSeriesSettings(this._seriesGroups,this._seriesType);this._dataLabels.setSeriesSettings(this._seriesGroups,this._seriesType);this._attachMarkManager();}};u.prototype._configSeries=function(){if(this._isFlexibleStack){var s=this._getSeries();var j=this;this._seriesGroups=s.reduce(function(l,y,i){var z=y.settings.group;if(!l[z]){l[z]={type:y.settings.type,mndKey:y.spec.mndKey,series:[]};}l[z].series.push(i);j._seriesType[i]=y.settings.type;return l;},{});this._seriesGroups=Object.keys(this._seriesGroups).map(function(i){return this._seriesGroups[i];},this);this._barGroupIndices=this._seriesGroups.filter(function(i){return i.type==="bar";}).reduce(function(l,y,i){y.series.forEach(function(z){l[z]=i;});return l;},[]);}};u.prototype.createSeriesIterator=function(l){if(this._isFlexibleStack){return S.create(l,"reverse");}else{return u.superclass.createSeriesIterator.apply(this,arguments);}};u.prototype._showDataPoints=function(j,l){var s;if(this._isFlexibleStack){s=B.prototype._showDataPoints.apply(this,arguments);}else{this._preShowDataPoints();var y=this._needValidEmptyAxisData();s=[];var z=this._series;var A=z.length;var E=[],F;var G=this._needLazyRender();var H=this._getVisibleRange();var J,K;for(J=0;J<A;J++){K=z[J];var L=this.getSeriesDPStyle(A-J-1);if(!K){continue;}var M=K.getDataPoints();if(G){this._hideDataPoints(M,H);}var N=null;var P=(H&&H.min||0);var Q=(H&&H.max)||M.length;for(var R=P;R<=Q;R++){var T=M[R];if(!T){continue;}var U=T.getRawData();if(y===true){var V=U.valueAxis===undefined||U.valueAxis===null;var W=U.valueAxis2===undefined||U.valueAxis2===null;if(V&&W){continue;}}var Y=this._getPosition(J,R,U);if(!Y){continue;}var Z=T.getId();var $=T.getConfig();if(!$){$=this._buildWrapperConfig(U,Y,U.dp.context(),{seriesStyle:L});T.setConfig($);}this._pushDataPointContext($);if(!N){N=U.hasOwnProperty("valueAxis2")?"valueAxis2":"valueAxis";}E[R]=E[R]||{};F=E[R][N]=E[R][N]||{configs:[],positions:[],currentIds:[],dataPoints:[],dataModels:[],data:[]};var _=f.find(j,Z);if(!F.node&&_){var a1=_;while((a1=a1.parentNode)&&!k.hasClass(a1,d.CSS.CLASS.STACK)){}F.node=a1;}var b1=T.getData();if(!b1){b1=this._buildData($);}F.data.push(b1);F.configs.push($);F.dataPoints.push(U.dp);F.positions.push(Y);F.currentIds.push(Z);F.dataModels.push(T);}}this._removeEmptyStacks(j);var c1=this._getDataPointRenderer(J);for(var i=0;i<E.length;i++){var d1=E[i];for(var e1 in d1){if(d1.hasOwnProperty(e1)){F=d1[e1];if(!F){continue;}var cp=this._drawCategory(F,c1,s);if(cp){j.appendChild(cp);}}}}}this._dataLabels._gridlineScale=this._gridlineScale;return s;};u.prototype._removeEmptyStacks=function(i){var s=[].slice.call(i.querySelectorAll("."+d.CSS.CLASS.STACK));s.forEach(function(j){if(!j.childNodes.length){i.removeChild(j);}});};function x(j){var l=-1,s=-1;for(var i=0;i<j.length;i++){var y=j[i];y.isClose=true;y.isZero=false;if(y.ctx[y.ctx.measureNames]>0){if(l===-1){l=i;y.isClose=false;}}else if(y.ctx[y.ctx.measureNames]<0){if(s===-1){s=i;y.isClose=false;}}else{y.isZero=true;}if((i+1<j.length)&&((y.rawData.hasOwnProperty("valueAxis")&&j[i+1].rawData.hasOwnProperty("valueAxis2"))||(y.rawData.hasOwnProperty("valueAxis2")&&j[i+1].rawData.hasOwnProperty("valueAxis")))){l=-1;s=-1;}}}u.prototype._drawCategory=function(j,l,s){var y=j.node;var z=j.configs;var A=j.data;var E=j.positions;var F=j.currentIds;var G=j.dataPoints;var H=j.dataModels;var J=!!y;var K;var L,M,N,P,Q,R,T,U,V;var i;var W=(l!==this._dataPointRenderer&&l);var Y=[],Z,$;var _,a1;Y.range=[0,0];if(!J){y=e.create("g");y.setAttribute("class",d.CSS.CLASS.STACK);}if(W){for(i=0;i<z.length;i++){L=z[i];M=E[i];if(i===0){R=M.x;T=M.y;U=R+L.graphic.width;V=T+L.graphic.height;}else{if(L.horizontal){R=Math.min(R,M.x);U=Math.max(U,M.x+L.graphic.width);}else{T=Math.min(T,M.y);V=Math.max(V,M.y+L.graphic.height);}}}P=U-R;Q=V-T;for(i=0;i<z.length;i++){L=z[i];M=E[i];Z=O.extend({},L.graphic);L.graphic.stackWidth=P;L.graphic.stackHeight=Q;L.graphic.x=L.horizontal?M.x-R:0;L.graphic.y=L.horizontal?0:M.y-T;var b1=false;if(J){$=f.find(y,F[i]);if(l.update){l.update($,L,h.expose);}}else{K=l(L,h.expose);if(!K){K=this._dataPointRenderer(L,M);b1=true;}$=e.create("g");f.setDataId($,F[i]);f.setDataPointId($,G[i].id);if(H){H[i].setNode($);}N=L.ctx;Y.push(N);g.setContext($,N);a1=N[N.measureNames];if(a1>=0){Y.range[1]+=a1;}else{Y.range[0]+=a1;}_=A[i];_.seriesIndex=G[i]._addr[1];_.itemIndex=G[i]._addr[0];g.setData($,_);$.setAttribute("class",d.CSS.CLASS.DATAPOINT+' '+d.CSS.CLASS.MORPHABLEDATAPOINT+' '+d.CSS.CLASS.DATAPOINTDEFAULT);$.appendChild(K);y.appendChild($);s.push($);}$.setAttribute("transform",'translate('+M.x+', '+M.y+')');L.graphic=Z;if(H&&H[i]&&!H[i].getData()){H[i].init(L,F[i],A[i],G[i].id||d.NULL_VALUE,null);}}}else{l=this._dataPointRenderer;var c1,d1,e1;x.call(this,z);for(i=0;i<z.length;i++){c1=undefined;d1=undefined;L=z[i];M=E[i];e1={isClose:L.isClose,isNegative:L.ctx[L.ctx.measureNames]<0,isZero:L.isZero};if(J){$=f.find(y,F[i]);if(l.update){if(L.graphic.pattern==="noFill"){L.path=this._generatePath(L.graphic,e1);if(L.isZero){L.graphic.pathStrokeWidth=0;}else{L.graphic.pathStrokeWidth=3;}}l.update($,L);}if(H&&H[i]&&!H[i].getData()){s.push($);}this._updateStrokeWidth($);}else{if(L.graphic.pattern==="noFill"){L.path=this._generatePath(L.graphic,e1);if(L.isZero){L.graphic.pathStrokeWidth=0;}else{L.graphic.pathStrokeWidth=3;}c1=O.clone(L.graphic);delete c1.bgColor;delete c1.drawingEffect;delete c1.pattern;c1.fill="transparent";}K=l(L);if(c1){d1=l({graphic:c1});}$=e.create("g");f.setDataId($,F[i]);f.setDataPointId($,G[i].id);if(H){H[i].setNode($);}N=L.ctx;Y.push(N);g.setContext($,N);g.setAdditionCtx($,L.additionCtx);a1=+N[N.measureNames];if(a1>=0){Y.range[1]+=a1;}else{Y.range[0]+=a1;}_=A[i];_.seriesIndex=G[i]._addr[1];_.itemIndex=G[i]._addr[0];_.strokeWidth=d1?d1.getAttribute("stroke-width"):K.getAttribute("stroke-width");if(L.graphic&&L.graphic.pattern){if(L.graphic.pattern==='noFill'){_.pattern='noFill';}else{_.patternFill=K.getAttribute('fill');}}g.setData($,_);$.setAttribute("class",d.CSS.CLASS.DATAPOINT+' '+d.CSS.CLASS.MORPHABLEDATAPOINT+' '+d.CSS.CLASS.DATAPOINTDEFAULT);$.appendChild(K);if(d1){$.appendChild(d1);}y.appendChild($);s.push($);}$.setAttribute("transform",'translate('+M.x+', '+M.y+')');if(H&&H[i]&&!H[i].getData()){H[i].init(L,F[i],A[i],G[i].id||d.NULL_VALUE,null);}}}if(!J){g.setData(y,Y);}return y;};u.prototype._adjustPosition=function(i,s){var j=this.isHorizontal();if(j&&i.width<0){i.width=i.width>-1?1:Math.abs(i.width);i.x-=i.width+0.5;}if(!j&&i.height<0){i.height=i.height>-1?1:Math.abs(i.height);i.y-=i.height+0.5;}};u.prototype._additionalExtraData=function(i){if(this._isFlexibleStack){i.flexibleStackId=(i.itemIndex).toString()+d.FLEXIBLE_STACK.ID_SEPARATOR+this._barGroupIndices[i.seriesIndex];}};u.prototype._getSeriesRenderer=function(){if(this._isFlexibleStack){return new t(this._renderSeries.bind(this),this._updateSeries.bind(this));}};X.registerClazz("stacked_column",u);X.registerClazz("stacked_bar",u);m.register(p.DATAPOINT_NAVIGATOR,p.STACKED_COLUMN,n);return u;});define('sap/viz/chart/components/util/PercentageDataLabelUtil',['sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils'],function Setup(D,U,C,T){var P={getTypes:function(p){var t=p.get('type');var r;if(t==='valueAndPercentage'||t==='valueAxisAndPercentage'){r=['value','percentage'];}else if(t==='percentage'){r=['percentage'];}else{r=['value'];}return r;},mergeDataLabels:function(p,f){var t=p.get('type');var d;if(t==='valueAndPercentage'||t==='valueAxisAndPercentage'){d=f[1]?f[0]+" ("+f[1]+")":f[0];}else{d=f[0];}return d;},getDataLabelInfo:function(n,d){var c=D.getContextByDataModel(n,d);return{key:c.measureNames,value:c[c.measureNames],percentage:c.percentage};}};return P;});define('sap/viz/chart/components/datalabels/PercentageDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/StackedDataLabels','sap/viz/chart/components/util/PercentageDataLabelUtil'],function(o,D,S,P){var a=function(c,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,S);a.prototype._getDataLabelInfo=function(n){var d=this._data&&this._data.rawData&&this._data.rawData.dataModel;return P.getDataLabelInfo(n,d);};a.prototype._buildDataLabelText=function(f,d,b,i,c){var v=d.value;if(v===0&&!this.drawZero(c)){return null;}return D.buildDataLabelText(this._properties,f,d,b,i,P.getTypes,P.mergeDataLabels,null);};return a;});define('sap/viz/chart/components/plots/PercentagePlot',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/ValueScale','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/datalabels/PercentageDataLabels',"sap/viz/chart/components/plots/XYPlotFactory"],function Setup(o,V,C,S,G,D,P,X){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._isPercent=true;};o.extend(a,S);a.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{"valueAxis":new D.getPercentageStackHandler(),"valueAxis2":new D.getPercentageStackHandler()};}else{return{"valueAxis":new D.getPercentageStackHandler()};}};a.prototype._total=function(i,d){var v=d.hasOwnProperty("valueAxis2")?this._data.valueAxis2:this._data.valueAxis;var b=d.hasOwnProperty("valueAxis2")?d.valueAxis2:d.valueAxis;if(b<0&&v.categorySum[i]>0){return false;}v.scale.total(v.categorySum[i]);return true;};a.prototype._getPosition=function(s,i,d){var r=this._total(i,d);if(!r){return null;}return a.superclass._getPosition.apply(this,arguments);};a.prototype._buildWrapperContext=function(d,c){var b=d.hasOwnProperty('valueAxis')?'valueAxis':d.hasOwnProperty('valueAxis2')?'valueAxis2':null;if(b){c.percentage=Math.abs(this._data[b].scale.scale(d[b]));}return c;};a.prototype._buildWrapperConfig=function(d,p,c,b){c=this._buildWrapperContext(d,c);return a.superclass._buildWrapperConfig.apply(this,[d,p,c,b]);};a.prototype._buildData=function(d){var r=a.superclass._buildData.apply(this,arguments);r.percentageValue=d.ctx.percentage;return r;};a.prototype._drawGridlines=function(p){var s=this._realSize;var i=this.isHorizontal();var d=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var b=this._properties.proxy("gridline");var r=i?[0,s.width]:[s.height,0];var c=new V([0,1],r);c.setTickHint(this._data.valueAxis.tickHint);G.drawValueGridline(p,s.width,s.height,c,b,d,this._effectManager);};a.prototype._getDataLabels=function(n,r){return new P(r,{name:n,horizontal:this.isHorizontal()});};X.registerClazz("100_stacked_column",a);X.registerClazz("100_stacked_bar",a);return a;});define('sap/viz/chart/components/util/LineSeriesUtil',['sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/util/SeriesUtil'],function(D,S,a,T,C,N,b,L,c){var d=N.convertColor;var e="combination-line";var f=C.CSS.CLASS;var g=f.LINES+" "+f.MORPHABLELINE;var h=C.LINE_TYPE;function p(i,l,m){i.graphic={color:i.color,width:l};delete i.color;if(i.type===h.DASHED||i.type===h.DOTTED){i.graphic.dash=C.LINE_DASH_TYPE_ARRAY;}else if(i.type===C.LINE_TYPE.DOT){i.graphic.dash="0,"+(l*2);i.graphic.linecap="round";}delete i.type;i.isHorizontal=m;}function r(l,i,m,n,o,q){var s=i(m,q)||q.renderer(m);s.setAttribute("class",g);if(o){s.setAttribute(e,"true");}D.setData(s,m.graphic);D.setContext(s,n);l.appendChild(s);}function j(i,s,l,m,o,q){var t=[];var v={points:[]};var w,x,y,z,A,B;var E,F,G,H,I,J;var K=i.length;for(var n=0;n<K;n++){w=i[n];if(!w||!w.position){if(v.points.length>=2){v.color=G;v.type=I;t.push(v);}F=null;v={points:[]};continue;}x=w.dpConfig;A=w.position;E=[A.x,A.y];E.id=x.dataId;if(F==null){v.points.push(E);}z=[x.rawData.dp.context()];B=[x.rawData.dp.additionCtx()];y=i[n+1];F=null;if(y&&y.position){z.push(y.dpConfig.rawData.dp.context());B.push(y.dpConfig.rawData.dp.additionCtx());A=y.position;F=[A.x,A.y];F.id=y.dpConfig.dataId;}H=l.register({fillColor:c.parseSemanticLineColor(z,s,m,B)});J=c.parseSemanticLineType(z,s,q,B);if(v.points.length>=2&&((!o&&(I===h.DASHED||I===h.DOTTED||I===h.DOT))||G!==H||I!==J)){v.color=G;v.type=I;t.push(v);F=null;v={points:[E]};}else if(F){v.points.push(F);}G=H;I=J;}if(v.points.length>=2){v.color=G;v.type=I;t.push(v);}return t;}function k(i){var l;var m=[],o;for(var n=0;n<i.length;n++){if(!i[n]||!i[n].position){m.push('');continue;}l=i[n].position;o=[l.x,l.y];o.id=i[n].dpConfig.dataId;m.push(o);}return m;}var u={drawLine:function(s,i,l,m,n,o,q,t,v,w){var x=k(i);var y={points:x,isHorizontal:t,ctx:o};if(q.prepare){y=q.prepare(y,w)||y;}var z=n.color;var A=n.lineWidth;var B=n.isCombination;var E=S.create("g");E.setAttribute("class",f.LINES_GROUP);var F={color:z,width:A};if(n.lineType===h.DASHED||n.lineType===h.DOTTED){F.dash=C.LINE_DASH_TYPE_ARRAY;}else if(n.lineType===h.DOT){F.dash="0,"+(A*2);F.linecap="round";}D.setData(E,F);D.setContext(E,o);var G;if(l.hasDataPointLineStyle()||n.lineType===h.DASHED||n.lineType===h.DOTTED||n.lineType===h.DOT){var H=j(i,l,m,z,v,n.lineType);H.forEach(function(y){p(y,A,t);r(E,q,y,o,B,w);});}else{y.graphic=F;r(E,q,y,o,B,w);}s.insertBefore(E,s.firstChild);},updateLine:function(s,l,m,o,q,t,v,w,x,y){if(!T.isFunction(v.update)){return false;}var z=k(l);var A={points:z,isHorizontal:w,ctx:t};if(v.prepare){A=v.prepare(A,y)||A;}var B=q.color;var E=q.lineWidth;var F=q.isCombination;var G;if(m.hasDataPointLineStyle()||q.lineType===h.DASHED||q.lineType===h.DOTTED||q.lineType===h.DOT){var H=s.querySelector("."+f.LINES_GROUP);var I=s.querySelectorAll("."+f.LINES);var J=j(l,m,o,B,x,q.lineType);J.forEach(function(A,i){p(A,E,w);G=I[i];if(G){v.update(G,A,y);D.setData(G,A.graphic);}else{r(H,v,A,t,F,y);}});for(var n=J.length;n<I.length;++n){a.remove(I[n]);}}else{G=s.querySelector("."+f.LINES);v.update(G,A,y);}return true;},linkLine:function(l){var m=null;var n;for(var i=0;i<l.length;i++){var o=l[i];if(!o||!o.dataPoint){m=o;continue;}var q=D.getData(o.dataPoint);q.type='line';q.translate=o.dpConfig.data.translate;if(m&&m.dataPoint){n=m.dataPoint;q.prev=b.getDataPointId(n);D.getData(n).next=b.getDataPointId(o.dataPoint);}m=o;}}};return u;});define('sap/viz/chart/components/renderers/SmoothLineRenderer',["sap/viz/framework/common/util/SVG"],function(S){var a=function(){var c={};var b=function(l,d,n,y){var i=y.leftControlY;if(i>l&&i>d){i=y.leftControlY=Math.max(l,d);y.rightControlY=d*2-i;}else if(i<l&&i<d){i=y.leftControlY=Math.min(l,d);y.rightControlY=d*2-i;}var r=y.rightControlY;if(r>n&&r>d){r=y.rightControlY=Math.max(n,d);y.leftControlY=d*2-r;}else if(r<n&&r<d){r=y.rightControlY=Math.min(n,d);y.leftControlY=d*2-r;}};var e=function(l,d,n,i){var t=2.4;var x=0;var y=1;if(i){x=1;y=0;}var k=l[x];var m=l[y];var p=n[x];var q=n[y];var r=d[x];var s=d[y];var u=((t-1)*r+k)/t;var v=((t-1)*s+m)/t;var w=((t-1)*r+p)/t;var z=((t-1)*s+q)/t;var A=((z-v)*(w-r))/(w-u)+s-z;var B={};B.leftControlY=v+A;B.rightControlY=z+A;b(m,s,q,B);var C=c[d.id];C.leftControl[x]=u;C.leftControl[y]=B.leftControlY;C.rightControl[x]=w;C.rightControl[y]=B.rightControlY;};var o=function(p){var i=p.id;var d=c[i];if(!d){d=c[i]={};}["leftControl","rightControl"].forEach(function(k){d[k]=p.slice();});};var f=function(p,d){var k,l,m,r,n;for(var i=0,q=p.length;i<q;++i){k=p[i];if(!k){continue;}o(k);l=p[i-1];m=p[i+1];if(i>0&&l&&m){e(l,k,m,d);}}return p;};var g=function(p){var k,l,m,r,n;var d="";var q=true;for(var i=0,s=p.length;i<s;i++){k=p[i];if(!k){q=true;continue;}l=p[i-1];if(q){d+="M";d+=k[0]+","+k[1];}else{r=c[l.id].rightControl;n=c[k.id].leftControl;d+="C";d+=r[0]+","+r[1]+" ";d+=n[0]+","+n[1]+" ";d+=k[0]+","+k[1];}q=false;}return d;};var h=function(d){var p=d.points;var r;var i=(d==null||d.isHorizontal==null)?p:S.simplifyPoints(p,d);if(i===p){r=g(i);}else{r=S.outputPath(i);}return r;};var j=function(d){var i=d.graphic;var p=S.create("path");p.setAttribute("d",h(d));p.setAttribute("fill","none");p.setAttribute("stroke-linejoin","round");p.setAttribute("stroke",i.color);p.setAttribute("stroke-width",i.width);if(i.dash){p.setAttribute("stroke-dasharray",i.dash);}if(i.linecap){p.setAttribute("stroke-linecap",i.linecap);}return p;};j.prepare=function(d){f(d.points,d.isHorizontal);return d;};j.update=function(n,d){n.setAttribute("d",h(d));if(d.graphic){var i=d.graphic;if(i.color){n.setAttribute("stroke",i.color);}if(i.width){n.setAttribute("stroke-width",i.width);}if(i.dash){n.setAttribute("stroke-dasharray",i.dash);}else{n.removeAttribute("stroke-dasharray");}if(i.linecap){n.setAttribute("stroke-linecap",i.linecap);}else{n.removeAttribute("stroke-linecap");}}};j.expose={renderer:j,prepare:j.prepare,update:j.update};return j;};return a;});define('sap/viz/chart/components/util/LineRendererUtil',['sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/SmoothLineRenderer'],function(L,S){var g=function(c,i){var r=c;if(r){return r;}else{if(i){r=S();}else{r=L();}}return r;};var a=function(i){return i?S():L();};return{getRenderer:g,getDefaultRenderer:a};});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/interaction/Constants','sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler',"sap/viz/framework/interaction/BehaviorManager"],function(C,T,H,D,a,O,b,S,c,B){var t=["info/timeseries_line"];var d=["info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_combination"];var f=t.concat(d);var l=["info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/horizontal_combination","info/dual_combination","info/dual_horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination"].concat(t);l=a.addTrellisType(l);var g=l.concat(d);g=a.addTrellisType(g);var h=C.CSS.CLASS;var i="datapoint";var s=c.setMakerOpacity;var j=[{"id":"selectDataPoint_line","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":l,},"handler":function(e,k){if(k.isBigDataMode()){c.selectOnLineDuringBigData(e,k);}else{c.selectOnLineOnNormalMode(e,k);}}},{"id":"deselectDataPoint_line","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":l},"handler":function(k,m){if(m.isBigDataMode()){return;}m.fireEvent(k,true);var n=H.turnToArray(k.data.targets);var p;var o=m.getProperties();var q;var r=T.isExist(o.get('plotArea.markerRenderer'));n.forEach(function(e){b.unhighlight(e);q=c.getLineRenderer(m,e);c.renderLightLine(m,e,false,q);var w=1;var u=D.getData(e)||{};if(k.data.isAnyOtherSelected){p=o.get('interaction.deselected');}else{p=o.get('plotArea.dataPoint');if(u){w=u.strokeWidth;}}var v=!u.isZeroValue;H.drawStroke(m,e,'path, rect',p.stroke,w,undefined,u);H.drawFill(m,e,'path, rect',p,r,v);s(m,e);});}},{"id":"hoverOnDataPoint_line","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":l},"handler":function(k,m){if(m.isBigDataMode()&&!m.isTrellis()){c.highlightOnLineDuringBigData(k,m);}else{m.fireEvent(k,true);var n=H.turnToArray(k.data.targets);var p=m.getProperties();var o=p.get('interaction.hover');var q=T.isExist(p.get('plotArea.markerRenderer'));n.forEach(function(e){var r=D.getData(e)||{};var u=!r.isZeroValue;H.drawStroke(m,e,k.data.byKeyboard?'path':'path, rect',o.stroke,2,undefined,r);H.drawFill(m,e,'path, rect',o,q,u);});}}},{"id":"unhoverOnDataPoint_line","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":l},"handler":function(k,m){if(m.isBigDataMode()&&!m.isTrellis()){c.unhighlightOnLineDuringBigData(k,m);}else{m.fireEvent(k,true);var n=H.turnToArray(k.data.targets);var p=m.getProperties();var o;var q=T.isExist(p.get('plotArea.markerRenderer'));n.forEach(function(e){var v;var w=1;var r=D.getData(e)||{};if(d3.select(e).classed(h.DATAPOINTSELECTED)){o=p.get('interaction.selected');v=true;}else{if(m.shouldUseDeselectedColor()){o=p.get('interaction.deselected');}else{o=p.get('plotArea.dataPoint');if(r){w=r.strokeWidth;}}v=false;}var u=!r.isZeroValue;H.drawStroke(m,e,'path, rect',o.stroke,w);H.drawFill(m,e,'path, rect',o,q,u);if(!v){s(m,e);}});}}},{"id":"clearPlot_line","triggerEvent":{"name":"clearPlot","supportedChartTypes":l},"handler":function(k,m){m.fireEvent(k,true);m._getDecorationLayer().clear();var n=k.data.isGray;var r=k.data.rangeSelection;var u=r&&r!=="clear";var p=m.getProperties();var o=p.get('interaction.deselected');c.cleanLine(k,m);var q=m.getNodes(m.NodeType.DATA_POINT,false);if(!q||!q.length){return;}var v=T.isExist(p.get('plotArea.markerRenderer'));q.forEach(function(e){var w=1;var x=D.getData(e)||{};if(n||u){o=p.get('interaction.deselected');if(u){o=O.extend(true,{},o);o.opacity=1;}}else{o=p.get('plotArea.dataPoint');if(x){w=x.strokeWidth;}}var y=!x.isZeroValue;H.drawStroke(m,e,'path, rect',o.stroke,w,undefined,x);H.drawFill(m,e,'path, rect',o,v,y);s(m,e);});}},{"id":"hover_range_selection_line","triggerEvent":{"name":"hover","supportedChartTypes":f,"targets":"v-m-action-layerrange"},"handler":function(e,k){c.showDetailForRangeSelectionWhenHover(e,k);}},{"id":"hover_on_plot_time_line","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-plot"},"handler":function(e,k){c.hoverOnLineDuringBigData(e,k);}},{"id":"hover_on_non_plot_time_line","triggerEvent":{"name":"hover","supportedChartTypes":t,"excludeTargets":["v-m-plot",C.CSS.CLASS.DATAPOINTS_MODULE]},"handler":function(e,k){if(k.getStatus("rangeSelection")){return;}k._getActionLayer().clear(i);k._getDecorationLayer().clear(i);k.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode"});}},{"id":"hover_on_non_datapoint_time_line","triggerEvent":{"name":"hover","supportedChartTypes":t,"excludeTargets":[h.DATAPOINT,h.DATALABEL]},"handler":function(e,k){if(k.isBigDataMode()||k.getStatus("rangeSelection")){return;}k.fireEvent(e,true);}},{"id":"click_on_non_selection_line","triggerEvent":{"name":"click","supportedChartTypes":g,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,k){if(!k.getProperties().get("interaction.enableDeselectAll")){return;}if(k.isBigDataMode()&&d.indexOf(k._getChartType())>-1){return;}if(f.indexOf(k._getChartType())>-1){c.clickOnLineDuringBigData(e,k);}else{k.fireEvent(e,true);}}},{"id":"clearPlot_timeseries_line","triggerEvent":{"name":"clearPlot","supportedChartTypes":f},"handler":function(e,k){k.fireEvent(e,true);if(!e.data.rangeSelection){k._getDecorationLayer().clear();k._getActionLayer().clear();}}},{"id":"update_range_selection_effect_line","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":f},"handler":function(e,k){c.updateRangeEffect(e,k);}},{"id":"recover_range_selection_effect_line","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":f},"handler":function(e,k){c.recoverRangeEffect(e,k);}}];B.registerAll(j);return j;});define('sap/viz/chart/components/plots/BaseLinePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/util/LineSeriesUtil','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/util/LineRendererUtil','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine"],function Setup(o,C,B,D,a,N,b,d,S,L,e,f,T){var g=C.CSS.CLASS;var h=function(r,c){h.superclass.constructor.apply(this,arguments);this._lineRenderer=null;this._defaultLineRenderer=e.getDefaultRenderer(this._properties.get("isSmoothed"));};o.extend(h,B);h.prototype.destroy=function(){h.superclass.destroy.apply(this,arguments);this._lineRenderer=null;this._dpPlotNode=null;this._dpParentNode=null;this._extendSize=null;};h.prototype.getLineRenderer=function(){if(!this._lineRenderer){this._lineRenderer=L();}return this._lineRenderer;};h.prototype.getDefaultLineRenderer=function(){return this._defaultLineRenderer;};h.prototype._preRender=function(){h.superclass._preRender.apply(this,arguments);this._generateMarkerPath();this._lineRenderer=null;};h.prototype._createMainNode=function(s){var n=h.superclass._createMainNode.apply(this,arguments);if(this._extendSize){this._dpPlotNode=s.parentNode.querySelector("."+C.CSS.CLASS.DATAPOINTS_MODULE);var c=this._dpPlotNode;c.setAttribute("transform",s.getAttribute("transform"));var i=s.parentNode.querySelector("."+C.CSS.CLASS.DATAPOINTS_PLOT);if(!i){i=f.create("g",c);i.setAttribute("class",C.CSS.CLASS.DATAPOINTS_PLOT);}this._dpParentNode=d3.select(i);n.dpPlotNodes=i;if(!this._options.disableClipPath&&!this._notNeedClippath){c.setAttribute("clip-path","url(#"+this.clipPath.getAttribute("id")+")");}}return n;};var l=function(i,j,m){var r={"valueAxis":[Infinity,-Infinity],"valueAxis2":[Infinity,-Infinity]};var n={};n.valueAxis=j._valueAxis&&j._valueAxis.lineRawRange;n.valueAxis2=j._valueAxis2&&j._valueAxis2.lineRawRange;for(var s=0;s<i.length;s++){if((!m||m(s)==="line")&&i[s][0]){var k=i[s][0].hasOwnProperty("valueAxis")?"valueAxis":"valueAxis2";var c=i[s][0].hasOwnProperty("valueAxis")?"color":"color2";var p=i[s][0][c]?(T.isExist(i[s][0][c].mndIndex)?i[s][0][c].mndIndex:0):0;r[k][1]=r[k][1]<n[k][p][1]?n[k][p][1]:r[k][1];r[k][0]=r[k][0]>n[k][p][0]?n[k][p][0]:r[k][0];}}return r;};h.prototype._getClipPathAttribute=function(w,c,s,k){var m,n;var p=w+1,q=c+1,x=0,y=0;var r=this.isHorizontal(),t=r?w:c;if(!this.isBigDataMode()&&this._data.rawData&&this._data.rawData.dataModel&&!this._isInTrellis&&(this.runtime().propertyManager().get("valueAxis.layout.direction")!=="topDown")){var u=[],z,A,E,F,G;var H=this._options&&this._options.isDualValueAxis?2:1;var I=this._options&&this._options.valueAxisIndex==="valueAxis2";for(var i=0;i<H;i++){var J=-1;z="valueAxis"+(i||I?"2":"");A=k[z].scale;E=A.getDomain();F=A.getDomainFixed();G=A.isFixed();if(E[0]>=0&&!(G&&F[0])){J=0;}else if(E[1]<=0&&!(G&&F[1])){J=1;}if(J!==-1&&E[J]!==0&&!A.getZeroAdjusted()){J=-1;}u.push(J);}if(u.indexOf(-1)===-1&&(H===1||u[0]===u[1])){var K=0,M,O;var Q=this._properties.get(this._markerPropName+".size");var R=Q/2+2;if(R>8){R=8;}var U=l(this._getSeries(),this._data.rawData.dataModel,this._getDataShape?this._getDataShape.bind(this):null);for(var j=0;j<H;j++){z="valueAxis"+(j||I?"2":"");M=k[z].scale.getDomain();O=k[z].scale.getRange();var V=(Math.abs((M[1]-M[0])*R/(t*(O[1]-O[0])))-Math.abs(U[z][u[j]]))/((M[1]-M[0])*(O[1]-O[0]));if(V>0){K=Math.max(K,V);}}this._extendSize=m=K*t;if(m&&s&&((!r&&(s.y===1||!s.y))||(r&&(s.x===1||!s.x)))){n=t+1+m;if(this.isHorizontal()){p=n;}else{q=n;}if(u[0]===0&&r){x=-m;}else if(u[0]===1&&!r){y=-m;}}}}return{y:-1,width:p,height:q,transform:'translate('+x+', '+y+')'};};h.prototype.zoom=function(s){if(this.clipPath&&s){this._setClipPathAttribute(this.clipPath.querySelector("rect"),this._size.width,this._size.height,s,this._data);}h.superclass.zoom.apply(this,arguments);};h.prototype.scroll=function(){h.superclass.scroll.apply(this,arguments);if(!this._isInTrellis&&this._dpParentNode&&this._plotDpParentNode){this._dpParentNode.attr("transform",this._plotDpParentNode.attr("transform"));}};h.prototype._hideDataPoints=function(c,j){for(var i in c){if(c.hasOwnProperty(i)){this._hideNode(c,i);}}this._lightLineOutOfRange(c,j);};h.prototype._lightLineOutOfRange=function(c,k){var m=function(r){var j,s;for(j=0;j<k.min;j++){s=c[j];if(s&&s.getDataId()===r){return true;}}for(j=k.max+1;j<c.length;j++){s=c[j];if(s&&s.getDataId()===r){return true;}}return false;};var n=this._selection.selectAll("."+g.LIGHT_LINE)[0];for(var i=0;i<n.length;i++){var p=n[i];var q=parseInt(p.getAttribute('data-from'));var t=parseInt(p.getAttribute('data-to'));if(m(q)&&m(t)){D.remove(p);}}};h.prototype._drawDataPoint=function(c,i){var j=h.superclass._drawDataPoint.apply(this,arguments);var k=i.getData();k.shape=this._getMarkerShape();a.setData(j,k);return j;};h.prototype._buildWrapperConfig=function(c,p,i,j){var k=h.superclass._buildWrapperConfig.apply(this,arguments);k.graphic.shape=this._getMarkerShape();return k;};h.prototype._renderNode=function(c,i,j,k){var s=i.graphic.d;if(i.graphic.pattern==="noFill"&&this._markerShadow){i.graphic.d=this._markerShadow;}var n=h.superclass._renderNode.apply(this,arguments);i.graphic.d=s;return n;};h.prototype.update=function(){h.superclass.update.apply(this,arguments);this._updateLightLine();};h.prototype._updateLightLine=function(){if(!this._selection){return;}var c=this._getDpPlotNode(),i=c.querySelectorAll("."+g.LIGHT_LINE);var j=this.getLineRenderer();var k=this.isHorizontal();[].forEach.call(i,function(m){var n=m.getAttribute("data-from");var p=d.findByDataPointId(c,m.getAttribute("data-from"));var t=m.getAttribute("data-to");var q=d.findByDataPointId(c,m.getAttribute("data-to"));if(!p||!q){D.remove(m);}else{var r=[a.getData(p).translate.slice(),a.getData(q).translate.slice()];r[0].id=n;r[1].id=t;var s={points:r,isHorizontal:k};if(j&&j.update){j.update(m.firstChild,s);}}});};function v(c){c=parseInt(c,10);return(c>=0&&c<=7)?c:2;}h.prototype.getSeriesDPStyle=function(s,c){var i=!(this._options.renderType&&this._options.renderType.indexOf("combination")>-1&&this._seriesType&&this._seriesType[s]==="bar");var j=h.superclass.getSeriesDPStyle.call(this,s,c,i);return j;};var P=["diagonalLightStripe","diagonalStripe","reverseDiagonalStripe"];h.prototype._getPatternConfig=function(c,i,j){var k=!(this._options.renderType&&this._options.renderType.indexOf("combination")>-1&&j.seriesType==="bar");c=h.superclass._getPatternConfig.apply(this,arguments);if(k&&c.graphic.pattern&&P.indexOf(c.graphic.pattern)>-1){c.graphic.pattern=null;}return c;};h.prototype.getSeriesStyle=function(s,c){var i=this._semanticMgr;var p=this._properties;var j=this._effectManager;c=c||b.buildSeriesLineContext(this._data,s);var k=i.analyzeSeriesStyle(c,"line");var m;if(k&&k.line&&k.line.width!=null){m=k.line.width;}else{m=p.has("line.width")?p.get('line.width'):p.get('width');}m=v(m);var n;if(k&&k.line&&k.line.color!=null){n=k.line.color;}else if((i.hasDataPointColorStyle()||i.hasDataPointLineStyle())&&i.isOverrideMode()&&i.shouldChangeColor()){n=i.getOthersStyle("color").properties.color;}else{var q=b.getSeriesScaleInfo(this._data,s,["color","color2"]);if(q){n=this._data[q.field].scale.scale(q.domain);}else{n=this._getDefaultColor();}}n=j.register({fillColor:N.convertColor(n)});var r;if(k&&k.line&&k.line.type){r=k.line.type;}return{color:n,lineWidth:m,lineType:r};};h.prototype._getDefaultColor=function(){return(this._data.color||this._data.color2).scale.getRange()[0];};h.prototype._isNeedSimplifyLine=function(){return this._isBigData;};h.prototype._drawLine=function(s,c,i,j){if(!this._isLineVisible()){return;}var k=b.buildSeriesLineContext(this._data,i);var m=this.getSeriesStyle(i,k);var n=this.getLineRenderer();var p=this._semanticMgr;var q=this._effectManager;var r=this.isHorizontal();var t=this._isNeedSimplifyLine();var u=false;if(j){u=S.updateLine(s,c,p,q,m,k,n,r,t,this._defaultLineRenderer.expose);}if(!u){d3.select(s).select("."+g.LINES_GROUP).remove();S.drawLine(s,c,p,q,m,k,n,r,t,this._defaultLineRenderer.expose);}if(!t){S.linkLine(c);}};h.prototype._updateLine=function(s,c,i){this._drawLine(s,c,i,true);};h.prototype._isLineVisible=function(){return this._properties.get('lineVisible');};return h;});define('sap/viz/chart/components/renderers/PathRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics'],function(S,D){var p=function(c){var n=S.create("path");var g=c.graphic;if(g.d){n.setAttribute("d",g.d);}var f=g.fill;var s=g.stroke;var d=g.drawingEffect;var a=g.strokeWidth;if(g.pattern==='noFill'){d=null;f=g.bgColor;s=g.fill;a=2;}if(c.effectManager){f=c.effectManager.register({drawingEffect:d,fillColor:f,patternEffect:g.pattern!=='noFill'?g.pattern:null,graphType:g.shape});}n.setAttribute("fill",f);var o=(g.opacity>=0&&g.opacity<=1)?g.opacity:1;if(o!==1){n.setAttribute("fill-opacity",o);n.setAttribute("stroke-opacity",o);}if(s){n.setAttribute('stroke',s);n.setAttribute('stroke-width',a);}D.setCustomizationInfo(n,{'defaultRenderer':true});return n;};p.expose={renderer:p};return p;});define('sap/viz/chart/components/datalabels/LineDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics'],function(o,D,a,b){var H=3;function g(n){var e=n.parentNode,f=b.getData(n);return{prev:f.prev?a.findByDataPointId(e,f.prev):undefined,next:f.next?a.findByDataPointId(e,f.next):undefined};}function c(n){if(n&&n.hasAttribute('transform')){var e=n.getAttribute('transform').replace(/translate|\(|\)/g,'').split(/[,| ]+/);return{x:parseFloat(e[0]),y:parseFloat(e[1])};}else{return null;}}function p(n,i){var s=this._getDataLabelInfo(n).value,e=g.call(this,n),f=e.prev?this._getDataLabelInfo(e.prev).value:undefined,h=e.next?this._getDataLabelInfo(e.next).value:undefined;if(isNaN(f)&&isNaN(h)){return'up';}else if(isNaN(f)){f=h;}else if(isNaN(h)){h=f;}if(f>s&&s<h){return i?'up':'down';}else if(f<=s&&s>=h){return i?'down':'up';}else{return'adjust';}}function d(e,l,n,i){var f=g(n),s=c(n),h=c(f.prev),j=c(f.next),u=i?(h.y<=s.y&&s.y<=j.y):(h.y>=s.y&&s.y>=j.y),k=u?j:h,m=e[0]+(u?l.width:0),r=e[1],q,t,v;t=(s.x-k.x)/(s.y-k.y);v=s.x-t*s.y;q=t*r+v;if(u&&m>=(q-H)){e[0]-=(m-q+H);}if(!u&&m<=(q+H)){e[0]+=(q+H-m);}return e;}var L=function(r,e){L.superclass.constructor.apply(this,arguments);this.isHorizontal=e.isHorizontal;this._labelPosition=this.isHorizontal?"outside":"up";};o.extend(L,D);L.prototype._computeDataLabelTranslate=function(n,e,l,f){if(this.isHorizontal){return L.superclass._computeDataLabelTranslate.apply(this,[n,e,"right",f]);}var i=this._properties.parentLevel.get("valueAxis.layout.direction")==="topDown";l=p.call(this,n,i);var h=l;if(l==='adjust'){h=i?'down':'up';}var j=this._computeDataLabelPosition(e,this._fixBBoxWhenInvisible(n),h,f,{},n);if(l==='adjust'){j=d(j,f,n,i);}if(h==='down'){j[1]+=f.height;}this._forceInner(j,f);return j;};return L;});define('sap/viz/chart/components/accessibility/LineDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator",],function(o,B){function L(){L.superclass.constructor.apply(this,arguments);this._isRadarChart=(this._renderType)?this._renderType.indexOf('radar')>-1:undefined;this._firstValueIsNull=[];this._sortedDPByFirstValueAxis=[];this._sortedDPBySecondaryValueAxis=[];this._allDataPoints=[];this._setupDataPointsMap();}o.extend(L,B);var p=L.prototype;p._setupDataPointsMap=function(){if(this._series){var s=this._series.length;for(var a=0;a<this._series.length;a++){var b=[];if(this._series[a]){for(var c=0;c<this._series[a].length;c++){if(this._series[a][c]){b.push(this._series[a][c]);}else{if(c===0){this._firstValueIsNull.push(a);}}}this._allDataPoints.push(b);}else{this._allDataPoints.push(undefined);}}}};p.destroy=function(){L.superclass.destroy.apply(this,arguments);this._sortedDPByFirstValueAxis=null;this._sortedDPBySecondaryValueAxis=null;this._allDataPoints=null;this._firstValueIsNull=null;};p.left=function(i){return this._isRadarChart?this.getCounterClockwiseDataPointInSeries(i):this._isVerticalRender?this.getPrevDataPointInSeries(i):this._getShortestDPInCategory(i,this._constants.LEFT);};p.right=function(i){return this._isRadarChart?this.getClockwiseDataPointInSeries(i):this._isVerticalRender?this.getNextDataPointInSeries(i):this._getShortestDPInCategory(i,this._constants.RIGHT);};p.up=function(i){return this._isVerticalRender?this._getShortestDPInCategory(i,this._constants.UP):this.getPrevDataPointInSeries(i);};p.down=function(i){return this._isVerticalRender?this._getShortestDPInCategory(i,this._constants.DOWN):this.getNextDataPointInSeries(i);};p.getNextDataPointInSeries=function(i){var c=this.getDataPoint(i);var a=this.locate(c.address());var b=c.address();var s=b[1];var n=null;if(this._allDataPoints[s]){var d=this._allDataPoints[s].indexOf(a)+1;if(d<this._allDataPoints[s].length){n=this._allDataPoints[s][d].dp;}}return n;};p.getPrevDataPointInSeries=function(i){var c=this.getDataPoint(i);var a=this.locate(c.address());var b=c.address();var s=b[1];var d=null;if(this._allDataPoints[s]){var e=this._allDataPoints[s].indexOf(a)-1;if(e>-1){d=this._allDataPoints[s][e].dp;}}return d;};p.getClockwiseDataPointInSeries=function(i){var c=this.getDataPoint(i);var a=this.locate(c.address());var b=c.address();var s=b[1];var n=null;if(this._allDataPoints[s]){var d=this._firstValueIsNull.indexOf(s)>-1?this._allDataPoints[s].length-1:0;var e=this._allDataPoints[s].indexOf(a);var f=(e===0)?(this._allDataPoints[s].length-1):(e-1);if(f<this._allDataPoints[s].length&&f!==d){n=this._allDataPoints[s][f].dp;}}return n;};p.getCounterClockwiseDataPointInSeries=function(i){var c=this.getDataPoint(i);var a=this.locate(c.address());var b=c.address();var s=b[1];var d=null;if(this._allDataPoints[s]){var e=this._firstValueIsNull.indexOf(s)>-1?this._allDataPoints[s].length-1:0;var f=this._allDataPoints[s].indexOf(a);if(f===e){return d;}var g=(f===this._allDataPoints[s].length-1)?0:(f+1);if(g>-1&&g<this._allDataPoints[s].length){d=this._allDataPoints[s][g].dp;}}return d;};function u(c){if(this._isDual){if(!this._sortedDPByFirstValueAxis[c]){this._sortedDPByFirstValueAxis[c]=[];this._sortedDPBySecondaryValueAxis[c]=[];var d=this.getColumn(c);for(var i=0;i<d.length;i++){if(this.locate(d[i].address()).valueAxis){this._sortedDPByFirstValueAxis[c].push(d[i]);}else if(this.locate(d[i].address()).valueAxis2){this._sortedDPBySecondaryValueAxis[c].push(d[i]);}}this._sortedDPByFirstValueAxis[c].sort((function(a,b){return this.locate(a.address()).valueAxis-this.locate(b.address()).valueAxis;}).bind(this));this._sortedDPBySecondaryValueAxis[c].sort((function(a,b){return this.locate(a.address()).valueAxis2-this.locate(b.address()).valueAxis2;}).bind(this));}}else{if(!this._sortedDataPointsByDirection[c]){this.dataPointValueSortInCategory(c);}}}p.dataPointValueSortInCategory=function(c){this._sortedDataPointsByDirection[c]=this.getColumn(c);var t=this;var i=this._propMgr.get("valueAxis.layout.direction")==="topDown";this._sortedDataPointsByDirection[c].sort(function(a,b){var d=t.locate(a.address());var D=t.locate(b.address());return i?(D.valueAxis-d.valueAxis):(d.valueAxis-D.valueAxis);});};p._getShortestDPInCategory=function(i,d){var c=this.getDataPoint(i);var s=null;var a=-1;var b=c.address();var e=b[0];var f=-1;var g=false;u.call(this,e);if(this._isDual){var h=this.locate(c.address());if(h.valueAxis){f=this._sortedDPByFirstValueAxis[e].indexOf(c);}else if(h.valueAxis2){g=true;f=this._sortedDPBySecondaryValueAxis[e].indexOf(c);}}else{f=this._sortedDataPointsByDirection[e].indexOf(c);}if(d===this._constants.UP||d===this._constants.RIGHT){a=f+1;}else if(d===this._constants.DOWN||d===this._constants.LEFT){a=f-1;}if(this._isDual){if(!g){if(a>this._sortedDPByFirstValueAxis[e].length-1){s=null;}else if(a===-1){a=this._sortedDPBySecondaryValueAxis[e].length-1;s=this._sortedDPBySecondaryValueAxis[e][a];}else{s=this._sortedDPByFirstValueAxis[e][a];}}else{if(a>this._sortedDPBySecondaryValueAxis[e].length-1){s=this._sortedDPByFirstValueAxis[e][0];}else if(a===-1){s=null;}else{s=this._sortedDPBySecondaryValueAxis[e][a];}}}else{s=this._sortedDataPointsByDirection[e][a];}return s;};p.getColumn=function(c){var a=[];if(this._series){for(var i=0;i<this._series.length;i++){if(this._series[i]&&this._series[i][c]){a.push(this._series[i][c].dp);}}}return a;};return L;});define('sap/viz/chart/components/trendline/mixin/linePlot',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo','sap/viz/chart/components/trendline/mixin/columnPlot'],function(C,o,a){function L(){}o.extend(L,a);L.prototype._getTrendLineContainer=function(t,c){var d=c.querySelector("."+C.CSS.CLASS.DATAPOINT_GROUP);if(d){c.insertBefore(t,d);}else{c.appendChild(t);}};return L;});define('sap/viz/chart/components/plots/LinePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/util/DrawUtil','sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/datalabels/LineDataLabels',"sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/LineDataPointNavigator","sap/viz/chart/components/util/ChartConstants",'sap/viz/chart/components/trendline/mixin/linePlot','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM"],function Setup(o,S,D,O,T,U,B,a,I,b,P,c,L,d,X,C,f,g,h,i,j){var k={desktop:{minWidth:24},mobile:{minWidth:48}};var t={desktop:{minWidth:16},mobile:{minWidth:16}};var l=function(r,e){l.superclass.constructor.apply(this,arguments);this._markerPropName="marker";this._dataPointRenderer=P;this._flipNegativeShape=false;var s=this.runtime().semanticManager();s.setUseSemanticDPLineStyle(true);s.setUseSemanticPattern(true);var m=this.runtime().markManager();m.setMode("line");m.lock();m.setSeriesShape("line");this._attachMarkRestrict();this.markerShapePW=this._properties.watch("marker.shape",this._onShapeChange.bind(this));this._isMarkerVisible=this._properties.get("marker.visible");};o.extend(l,B);l.prototype.destroy=function(){this.markerShapePW.remove();this.markerShapePW=null;l.superclass.destroy.call(this);this._dataPointRenderer=null;this._flipNegativeShape=null;this._markerD=null;this._realSize=null;};l.prototype._onShapeChange=function(){this._attachMarkRestrict();};l.prototype._EmptyDOM=function(s){l.superclass._EmptyDOM.apply(this,arguments);j.empty(this._getDpPlotNode());};l.prototype._attachMarkRestrict=function(){var s=[],e=this._getMarkerShape(),m=this.runtime().markManager();s.push(e);if(this._options.isDualValueAxis){s.push(e);}m.setShape(s,"circle");};l.prototype._adjustPosition=function(p,s){};l.prototype._preRender=function(){l.superclass._preRender.apply(this,arguments);this._isMarkerVisible=this._properties.get("marker.visible");};l.prototype._applyScroll=function(){l.superclass._applyScroll.apply(this);this.renderTrendlines(this._selection);};l.prototype._getValueScaleHandlers=function(e){var m={isHorizontal:e,alignment:e?"right":"top"};if(this._options.isDualValueAxis){return[a.getValueScaleHandler("valueAxis",m),a.getValueScaleHandler("valueAxis2",m)];}else{return[a.getValueScaleHandler("valueAxis",m)];}};l.prototype._getCategoryScaleHandlers=function(){return[a.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:I.get(false),alignment:"center"})];};l.prototype._getGridLineScale=function(r){var v=this._properties.origin.get("valueAxis.layout.direction");r=v==="topDown"?[r[1],r[0]]:r;return l.superclass._getGridLineScale.call(this,r);};l.prototype._getSeriesRenderer=function(){return new b(this._drawLine.bind(this),this._updateLine.bind(this));};l.prototype._adjustPosition=function(p){};l.prototype._updateDatapoint=function(e,m,n,p){l.superclass._updateDatapoint.apply(this,arguments);if(e&&p.hasOwnProperty("x")&&p.hasOwnProperty("y")){var q=D.getData(e).translate;if(q){q[0]=p.x;q[1]=p.y;}}};l.prototype.getLineRenderer=function(){if(!this._lineRenderer){var p=this._properties;this._lineRenderer=L.getRenderer(p.get('lineRenderer'),p.get("isSmoothed"));}return this._lineRenderer;};l.prototype._buildConfig=function(e,p,m){var n=l.superclass._buildConfig.apply(this,arguments);n.graphic.d=this._markerD;if(!this._isMarkerVisible){n.graphic.opacity=0;}return n;};l.prototype._getDataLabels=function(n,r){var e=O.extend({},this._options);e.name=n;return new d(r,e);};l.prototype._getMinCategoryWidth=function(e){var m=!!this._options.inTrellis;var p=this._properties;var s="categoryAxis.label.style.fontSize";var r=parseInt(p.origin.get(s))/parseInt(p.origin.getDefault(s));if(e||m||(p.get('isFixedDataPointSize')&&!p.origin.get("interaction.noninteractiveMode"))){var n=m?t:k;var q=U.isMobile()?n.mobile.minWidth:n.desktop.minWidth*r;return q;}else{return 0;}};l.prototype.getPreferredSize=function(){var e=!!this._options.inTrellis;var r=this._getCategoryRange();var m=this.isHorizontal();var n=this._getCategoryCount();var p=m?this._size.height/n:this._size.width/n;var q=!this._properties.origin.get("interaction.noninteractiveMode");var s=this._isRangeIncomplete;function u(){return r&&!s(r)&&q;}if(q&&(!u())&&(e||s(r)||this._properties.get('isFixedDataPointSize'))){var v=this._getMinCategoryWidth(s(r));var w=false;if(p<v){w=true;p=v;}if(w){if(m){this._realSize.height=p*n;}else{this._realSize.width=p*n;}}if(s(r)&&this._shiftOffsetForIncompleteRange(r,n)){return this._realSize;}}if(u()){var x=r[1]-r[0]+1;if(m){this._realSize.height=this._size.height*n/x;this._offset.y=-r[0]*this._realSize.height/n;}else{this._realSize.width=this._size.width*n/x;this._offset.x=-r[0]*this._realSize.width/n;}}return this._realSize;};l.prototype.isMarkerVisible=function(){return this._isMarkerVisible;};l.prototype._calMarkProps=function(){var s=this._getSeries();var m=0;s.forEach(function(e){m=Math.max(m,e.length);});var _=this.isHorizontal()?this._realSize.height:this._realSize.width;var n=(_/m)<10;var p=this._properties.get('marker.displayMode');this._isMarkerVisible=this._properties.get('marker.visible');if(p==="auto"&&n){this._isMarkerVisible=false;}};l.prototype._preShowDataPoints=function(){this._calMarkProps();return l.superclass._preShowDataPoints.apply(this,arguments);};X.registerClazz("line",l);X.registerClazz("horizontal_line",l);C.register(g.DATAPOINT_NAVIGATOR,g.LINE,f);(new h()).inject(l.prototype);return l;});define('sap/viz/chart/components/renderers/AreaRenderer',["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/ColorUtil"],function(S,D,C,N,a){var b="DIRECTION_LEFT";var c="DIRECTION_RIGHT";var e="DIRECTION_BOTH";var f=C.CSS.CLASS;var g=function(d,t,i){if(t.length>1){d.areaPath=o(d.areaPath,t,i);d.detectionPath=l(d.detectionPath,t,i);}else if(t[0]&&t[0].dataPoint){d.linePath=o(d.linePath,t,i);d.detectionPath=l(d.detectionPath,t,i);}};var j=function(d,h){if(!d){return null;}var n={"areaPath":"","linePath":"","detectionPath":""};var q=d.length;var r=false;var t=false;var u=[];var v;for(var i=0;i<q;i++){v=d[i];if(v){if(v.dataPoint){u.push(v);t=false;r=false;continue;}if(!r){u.push(v);t=false;}else{if(!t){t=true;g(n,u,h);}u=[v];}r=true;}else{if(!t){t=true;g(n,u,h);}u=[];}}g(n,u,h);if(n.areaPath){n.areaPath+="Z";}return n;};var s=function(d,h,i,n){var q=j(n.points,n.isHorizontal);if(!q){return;}var r,t;[{node:d,pathKey:"areaPath"},{node:h,pathKey:"linePath"},{node:i,pathKey:"detectionPath"}].forEach(function(u){t=u.node;r=q[u.pathKey];if(r){t.setAttribute("d",r);}else{t.removeAttribute("d");}});};var A=function(d){var h=d.ctx;var i=d.graphic;var n=i.opacity;var q=S.create("path");q.setAttribute("class",f.AREA_PATH+" "+f.MORPHABLEAREABG);q.setAttribute("fill",p(d));q.setAttribute("opacity",n);if(d.propManager.get("plotArea.area.stroke.visible")){var r=a.getBgColor(d.propManager,["plotArea.grid.background.color","plotArea.background.color","general.background.color","plotArea.area.stroke.color"]);var t=N.convertColor(r);q.setAttribute("stroke",t);q.setAttribute("stroke-width","1");q.setAttribute("stroke-opacity","1");}var u=S.create("path");u.setAttribute("stroke",i.color);u.setAttribute("stroke-width","1px");u.setAttribute("opacity",n);u.setAttribute("class",f.AREA_LINE_PATH+" "+f.MORPHABLEAREABG);var v=S.create("path");v.setAttribute("class",f.AREA_DETECTION_PATH);v.setAttribute("opacity","0");var w=S.create("g");[q,u,v].forEach(function(x){D.setContext(x,h);w.appendChild(x);});s(q,u,v,d);return w;};A._getAreaPathByDataPoints=j;var k=function(d,i,n){if(!d){return;}var x=+d.x;var y=+d.y;var w=+d.width;var h=+d.height;var q=d;var r=d;if(i===b||i===e){q={};q.x=n?x:x-10;q.y=n?y-10:y;q.width=w;q.height=h;}if(i===c||i===e){r={};r.x=n?x:x+10;r.y=n?y+10:y;r.width=w;r.height=h;}return[{"position":q},{"position":r}];};var l=function(d,h,i){var n=h[0].position;var q=h[h.length-1].position;if(n===q){d=o(d,k(n,e,i),i);}else{d=o(d,k(n,b,i),i);d=o(d,k(q,c,i),i);}return d;};var m=function(d,x,y){return d+x+","+y;};var o=function(d,h,i){var n=1,q=h.length;var r=h[0].position;d+=m("M",r.x,r.y);var R;if(i){R=m("L",r.x-r.width,r.y);for(;n<q;n++){r=h[n].position;d+=m("L",r.x,r.y);R=m("L",r.x-r.width,r.y)+R;}}else{R=m("L",r.x,r.y+r.height);for(;n<q;n++){r=h[n].position;d+=m("L",r.x,r.y);R=m("L",r.x,r.y+r.height)+R;}}d+=R;return d;};A.update=function(n,d){var h=n.querySelector("."+f.AREA_PATH);var i=n.querySelector("."+f.AREA_LINE_PATH);var q=n.querySelector("."+f.AREA_DETECTION_PATH);s(h,i,q,d);};var p=function(d){var h=d.effectManager.register({drawingEffect:d.graphic.drawingEffect,fillColor:d.graphic.color,direction:d.isHorizontal?'horizontal':'vertical'});return h;};A.expose={renderer:A,update:A.update};return A;});define('sap/viz/chart/components/util/AreaSeriesUtil',['sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/renderers/AreaRenderer'],function(D,T,C,N,a,A){var d=A;var c=N.convertColor;var b=0.8;var e=C.CSS.CLASS;function g(j,s,k){var l=j.length;var m=[];var n,o,p,q;var r=-1;var t=k.seriesFirstAndLastDpIdx;if(t){p=t.firstIdx;q=t.lastIdx;}else{p=0;q=l-1;}for(var i=0;i<l;i++){if(j[i]){o=j[i].dataPoint;if(!o){continue;}n=D.getData(o);n.seriesIndex=s;n.itemIndex=i;var v=t&&j[i].dpConfig.dataId||i;if(l===1){n.labelPosition=C.LABEL_POSITION.MIDDLE;n.isIsolate=true;}else if(v===p){n.labelPosition=C.LABEL_POSITION.RIGHT;}else if(v===q){n.labelPosition=C.LABEL_POSITION.LEFT;if(r===i-1){n.isIsolate=true;}}else{if(i-r===1){n.labelPosition=C.LABEL_POSITION.RIGHT;}else{n.labelPosition=C.LABEL_POSITION.MIDDLE;}}m.push(o);D.setData(o,n);}else{r=i;if(i<=0||!j[i-1]||!j[i-1].dataPoint){continue;}o=j[i-1].dataPoint;n=D.getData(o);if(i===1){n.isIsolate=true;}else{if(n.labelPosition===C.LABEL_POSITION.RIGHT){n.labelPosition=C.LABEL_POSITION.MIDDLE;n.isIsolate=true;}else{n.labelPosition=C.LABEL_POSITION.LEFT;}}}}return m;}function f(j){var k=j.length;var s;var l,m,r;for(var i=0;i<k;i++){l=j[i];if(!l||!l.dataPoint){continue;}m=null;r=null;if(i>0&&j[i-1]){m=j[i-1];}if(i<k-1&&j[i+1]){r=j[i+1];}s={areaPath:h(l,m,r)};D.setGraphicInfo(l.dataPoint,s);}}function h(p,i,j){var k=p.position;var l=k.x;var m=k.y;var n=k.width;var o=k.height;var q,r;var x,y,s=[];if(i){q=i.position;if(!i.dataPoint){s.push({"x":q.x,"y":q.y});}else{x=(l-n)-((l-n)-(q.x-q.width))/2;y=(m+o)-((m+o)-(q.y+q.height))/2;s.push({"x":x,"y":y});x=l-(l-q.x)/2;y=m-(m-q.y)/2;s.push({"x":x,"y":y});}}s.push({"x":l,"y":m});if(j){r=j.position;if(!j.dataPoint){s.push({"x":r.x,"y":r.y});}else{x=l+(r.x-l)/2;y=m+(r.y-m)/2;s.push({"x":x,"y":y});x=(l-n)+((r.x-r.width)-(l-n))/2;y=(m+o)+((r.y+r.height)-(m+o))/2;s.push({"x":x,"y":y});}}s.push({"x":l-n,"y":m+o});s.push(s[0]);return s;}var u={drawArea:function(p,i,j,k,l,m,n,s,o,q,r){f(i);var t=s.color;var v={graphic:{color:t,opacity:b,drawingEffect:k},points:i,effectManager:l,ctx:m,isHorizontal:o,propManager:q,seriesFirstAndLastNullVDpIdx:r};var w;if(n){w=n(v,A.expose);}var x=w||d(v);x.setAttribute("class",e.AREA);var y=g(i,j,v);if(n){var z=x.querySelector('.'+e.AREA_PATH);if(z){var B=z.getAttribute('fill');if(B){t=B;}}}a.setAreaId(x,j);D.setData(x,{"color":t,"dataPoints":y});D.setContext(x,m);p.appendChild(x);},updateArea:function(p,i,j,k,l,o){if(!p){return false;}k=k||d;if(!k.update||!T.isFunction(k.update)){return false;}var m=a.findArea(p,j);if(!m){return false;}f(i);var n={points:i,isHorizontal:o.isHorizontal,ctx:l,graphic:{color:o.fillColor,opacity:o.opacity,drawingEffect:o.drawingEffect},effectManager:o.effectManager,isMultiSeries:o.isMultiSeries,seriesFirstAndLastDpIdx:o.seriesFirstAndLastDpIdx};k.update(m,n,A.expose);var q=g(i,j,n);D.getData(m).dataPoints=q;return true;}};return u;});define('sap/viz/chart/components/renderers/AreaRefLineRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics'],function(S,D){var a=function(c){var n=S.create("line");var g=c.graphic;var f=c.effectManager.register({fillColor:g.fill,});n.setAttribute("stroke",f);var o=(g.opacity>=0&&g.opacity<=1)?g.opacity:1;if(o!==1){n.setAttribute("fill-opacity",o);n.setAttribute("stroke-opacity",o);}var p=c.position;n.setAttribute("x1",0);n.setAttribute("y1",0);n.setAttribute("x2",-p.width);n.setAttribute("y2",p.height);n.setAttribute("pointer-events","none");return n;};a.update=function(n,c){var p=c.position;n.setAttribute("x2",-p.width);n.setAttribute("y2",p.height);};return a;});define('sap/viz/chart/components/datalabels/AreaDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/ColorUtil",],function(o,D,a,b,C,c){var A=function(r,d,s){A.superclass.constructor.apply(this,arguments);this.isHorizontal=d.isHorizontal;this._seriesColorStyleMap=s;this._labelPosition=this.isHorizontal?"left":"down";};var P=0;var L=2;o.extend(A,D);A.prototype.isDataLabelOutOfDataPoint=function(d,i){var e=b.getData(i.dataPoint);return e.isIsolate;};A.prototype._render=function(s,d){var h=this._properties.get('hideWhenOverlap');if(h){this._ignoreEmptyDataLabel=true;}A.superclass._render.apply(this,arguments);};A.prototype.drawZero=function(){var h=this._properties.get('hideWhenOverlap');if(h){return false;}else{return true;}};A.prototype._computeDataLabelPosition=function(d,s,l,e,f,n){var p=A.superclass._computeDataLabelPosition.apply(this,[d,s,l,e,f,n]);var g=b.getData(n);var x=p[0];var y=p[1];var h=this._size;var w=(g.position&&g.position.width)||0;var i=(g.position&&g.position.height)||0;var j=this._properties.get('hideWhenOverlap');if(this.isHorizontal){if(j&&e.width>Math.abs(w)){return null;}if(g.labelPosition===C.LABEL_POSITION.RIGHT){y=y+(e.height/2)+P;}else if(g.labelPosition===C.LABEL_POSITION.LEFT){y=y-(e.height/2)-P;}x=x-(w/2)+(s.width/2)+(e.width/2);if(x<0){x=L;}}else{if(j&&e.height>Math.abs(i)){return null;}if(g.labelPosition===C.LABEL_POSITION.RIGHT){x=x+(e.width/2)+P;}else if(g.labelPosition===C.LABEL_POSITION.LEFT){x=x-(e.width/2)-P;}y=y+(i/2)+(s.height/2);if(y>h.height){y=h.height-L;}}return[x,y];};A.prototype._setDataLabelColor=function(i,r,d,e){var f=b.getData(i.dataPoint);var s=this._seriesColorStyleMap&&this._seriesColorStyleMap[f.seriesIndex]&&this._seriesColorStyleMap[f.seriesIndex].color;D.prototype._setDataLabelColor.call(this,i,r,d,e,s);};return A;});define('sap/viz/chart/behavior/config/tooltip/AreaChartTooltip',['sap/viz/framework/common/util/oo',"sap/viz/chart/behavior/config/tooltip/Tooltip"],function Setup(o,T){var A=function(p){A.superclass.constructor.apply(this,arguments);};o.extend(A,T);var D=8;var M=10;A.prototype._addPadding=function(){if(this.isActionMode()){var p=this._data.position;var x=p.x;var y=p.y;var l=this._getLimit();var d=this._div.node();var a=d.offsetWidth;var b=d.offsetHeight;if(p.direction==="left"||p.direction==="right"){a=a+D;b=b+M;}else if(p.direction==="top"||p.direction==="bottom"){a=a+M;b=b+D;}else{b=b+M;}if(p.direction==="left"){if(x-a<l.left){this._div.style("padding-left",D+"px");}else{this._div.style("padding-right",D+"px");}}else if(p.direction==="right"||!p.direction){if(x+a>l.right){this._div.style("padding-right",D+"px");}else{this._div.style("padding-left",D+"px");}}else if(p.direction==="top"||p.direction==="bottom"){if(x+a<l.right){this._div.style("padding-left",M+"px");}else{this._div.style("padding-right",M+"px");}}else{this._div.style("padding-left",0+"px");this._div.style("padding-right",0+"px");}if(p.direction==="top"||!p.direction){if(y-b<l.top){this._div.style("padding-top",D+"px");}else{this._div.style("padding-bottom",D+"px");}}else if(p.direction==="bottom"){if(y+b>l.bottom){this._div.style("padding-bottom",D+"px");}else{this._div.style("padding-top",D+"px");}}else if(p.direction==="left"||p.direction==="right"){if(y-b>l.top){this._div.style("padding-bottom",M+"px");}else{this._div.style("padding-top",M+"px");}}else{if(y-b<l.top){this._div.style("padding-top",M+"px");}else{this._div.style("padding-bottom",M+"px");}}}else{this._div.style("padding-top",0+"px");this._div.style("padding-bottom",0+"px");this._div.style("padding-left",0+"px");this._div.style("padding-right",0+"px");}};A.prototype._calculateMobilePos=function(l,p){var x=p.x;var y=p.y;var c=this._display.closeButton.size;var m=this._display.mouseMarginTop;var d=this._div.node();var a=d.offsetWidth;var b=d.offsetHeight;if(p.direction==="left"){x=x-a<l.left?x:x-a;}else if(p.direction==="right"){x=x+a+c>l.right?x-a:x;}else if(p.direction==="top"||p.direction==="bottom"){if(x+a+c<l.right){x=x;}else{x=x-a;}}else{if((x+a/2+c/2)>l.right){x=l.right-a-c/2;}else if(x-a/2<l.left){x=l.left;}else{x=x-a/2-c/2;}}if(p.direction==="top"){y=y-b-m-c/2<l.top?y:y-b-m;}else if(p.direction==="bottom"){y=y+b+c/2>l.bottom?y-b:y;}else if(p.direction==="left"||p.direction==="right"||!p.direction){if(y-b-m-c/2>l.top){y=y-b-m-c/2;}else{y=y;}}return{"x":x,"y":y};};A.prototype._calculateDesktopPos=function(l,p){var x=p.x;var y=p.y;var d=this._div.node();var a=d.offsetWidth;var b=d.offsetHeight;if(this._mode===this._tooltipMode.INFO_MODE){if(p.direction==="left"){x=x-a-D<l.left?x+D:x-a-D;}else if(p.direction==="right"){x=x+a+D>l.right?x-a-D:x+D;}else if(p.direction==="top"||p.direction==="bottom"){if(x+a+M<l.right){x=x+M;}else{x=x-a-M;}}else{if((x+a/2)>l.right){x=l.right-a;}else if(x-a/2<l.left){x=l.left;}else{x=x-a/2;}}if(p.direction==="top"){y=y-b-D<l.top?y+D:y-b-D;}else if(p.direction==="bottom"){y=y+b+D>l.bottom?y-b-D:y+D;}else if(p.direction==="left"||p.direction==="right"||!p.direction){if(y-b-M>l.top){y=y-b-M;}else{y=y+M;}}}else{if(p.direction==="left"){x=x-a<l.left?x:x-a;}else if(p.direction==="right"){x=x+a>l.right?x-a:x;}else if(p.direction==="top"||p.direction==="bottom"){if(x+a<l.right){x=x;}else{x=x-a;}}else{if((x+a/2)>l.right){x=l.right-a;}else if(x-a/2<l.left){x=l.left;}else{x=x-a/2;}}if(p.direction==="top"){y=y-b<l.top?y:y-b;}else if(p.direction==="bottom"){y=y+b>l.bottom?y-b:y;}else if(p.direction==="left"||p.direction==="right"||!p.direction){if(y-b>l.top){y=y-b;}else{y=y;}}}return{"x":x,"y":y};};return A;});define('sap/viz/chart/components/accessibility/AreaDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator"],function(o,T,S){function A(a){A.superclass.constructor.apply(this,arguments);}o.extend(A,S);var p=A.prototype;p._isMeaningful=function(d){return d&&T.isExist(d.valueAxis)&&!d.isNullValue;};return A;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/DOM',"sap/viz/framework/common/util/SVG","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/interaction/BehaviorManager"],function(C,T,H,D,a,b,c,f,S,I,B){var g=["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area"];g=b.addTrellisType(g);var h=C.CSS.CLASS;var r=h.AREA_REF_LINE;var j=2;var k=1;var l=0.8;var m="1";var P=["path","circle","rect","ellipse"];function o(d){var i;if(d.trellisColumn){i=i||"";d.trellisColumn.forEach(function(e){i+=c.getDimensionValue(e)+".";});}if(d.trellisRow){i=i||"";d.trellisRow.forEach(function(e){i+=c.getDimensionValue(e)+".";});}return i;}function p(d){var e={};for(var i=0;i<d.length;i++){var n=D.getData(d[i]).trellisInfo;var x=o(n);if(!e[x]){e[x]=[];e[x].info=n;}e[x].push(d[i]);}return e;}function q(d,e,n,x){if(!n&&D.getData(d[0]).trellisInfo){var y=p(d);for(var K in y){if(y.hasOwnProperty(K)){var L=y[K];q(L,e,true,L.info);}}return;}var M=e.isHorizontal();var N=d[0].parentNode.parentNode;var O=S.create("g");O.setAttribute("class",h.AREA_GROUP_SELECTED);N.parentNode.insertBefore(O,N);var Q=t(d);for(var i=0;i<Q.length;i++){if(Q[i]){u(e,Q[i],O,M,i,x);}}}function s(d){var n=d.getNodes(d.NodeType.AREA_GROUP_SELECTED,false);for(var i=0,e=n.length;i<e;i++){f.remove(n[i]);}}function t(d){var e=[];for(var i=0;i<d.length;i++){var n=D.getData(d[i]);e[n.seriesIndex]=e[n.seriesIndex]||[];e[n.seriesIndex][n.itemIndex]=d[i];}return e;}function u(d,e,n,x,y,K){if(!e||e.length<2){return;}var L=d.getProperties().get('plotArea.drawingEffect');var M,J,N,O;var Q=v(y,d,L,K);if(Q){O=Q.customizedColor||Q.defaultColor;}var R=d.getProperties();var U=R.get('plotArea.areaRenderer');if(d._getChartType()==="info/combinationEx"){U=R.get('plotArea.area.renderer');}if(U){var V=a.findArea(n.parentNode,y);var W=D.getData(V);if(W.color){O=W.color;}}var X=e.length;var Y=[],Z=[];for(var i=0;i<X;i++){N=e[i];if(e[i]){Y.push(D.getData(N));Z.push(N);}else{M=A(Y,x);if(M){J=w(M,Z,O);n.appendChild(J);}Y=[];Z=[];}}M=A(Y,x);if(M){J=w(M,Z,O);n.appendChild(J);}}function v(i,d,e,n){var x;if(n){x=d.getModule("main").getChildPlot(n);}else{x=d.getModule("main.plot");}if(!x||!x.getSeriesStyle){return null;}var y=x.getSeriesStyle(i);var K={isReverse:true};var L=H.getColors(d,null,null,null,e,K,y);if(L){return L;}return null;}function w(d,e,i){var J=S.create("path");J.setAttribute("d",d);J.setAttribute("fill",i);J.setAttribute("fill-opacity",l);D.setData(J,{"dataPoints":e});J.setAttribute("class",h.AREA_SELECTED);return J;}var z=function(d,x,y){return d+x+","+y;};var A=function(e,i){var n=1,x=e.length;if(x<=1){return null;}var y=e[0].position;var d=z("M",y.x,y.y);var R;if(i){R=z("L",y.x-y.width,y.y);for(;n<x;n++){y=e[n].position;d+=z("L",y.x,y.y);R=z("L",y.x-y.width,y.y)+R;}}else{R=z("L",y.x,y.y+y.height);for(;n<x;n++){y=e[n].position;d+=z("L",y.x,y.y);R=z("L",y.x,y.y+y.height)+R;}}d+=R;return d;};function E(d,e){var i=D.getData(e);var n=i.trellisInfo;var x;if(n){x=d.getModule("main").getChildPlot(n);}else{x=d.getModule("main.plot");}if(!x||!x.drawAreaRefLine){return null;}return x.drawAreaRefLine(i.seriesIndex,i.itemIndex);}function F(d,e,i,n,x){var y=a.getDataPointId(e);var K=d.getNodes(d.NodeType.AREA_REF_LINE,false);var L=a.findByDataPointIds(K,y)[0];if(!L){L=E(d,e);if(!L){return;}}L.setAttribute("stroke-width",x);var M=d.getProperties().get('plotArea.drawingEffect');var N=H.getColors(d,e,n,null,M);N=N.customizedColor||N.defaultColor;L.setAttribute("stroke",N);if(i){L.setAttribute("opacity",m);L.setAttribute("fill-opacity",m);L.setAttribute("stroke-opacity",m);}else{var O=D.getData(e).opacity;if(O===0){L.setAttribute("opacity",O);L.setAttribute("fill-opacity",O);L.setAttribute("stroke-opacity",O);}else{L.removeAttribute("opacity");L.removeAttribute("fill-opacity");L.removeAttribute("stroke-opacity");}}}function G(e,i){var d=e.firstChild;if(i){e.setAttribute("opacity",m);if(d){d.setAttribute("stroke-opacity",m);d.setAttribute("fill-opacity",m);}}else{var n=D.getData(e).opacity;e.removeAttribute("stroke");e.removeAttribute("opacity");e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity");if(d){if(n===0){e.setAttribute("opacity",n);d.setAttribute("stroke-opacity",n);d.setAttribute("fill-opacity",n);}else{d.removeAttribute("stroke-opacity");d.removeAttribute("fill-opacity");}}}}var J=[{"id":"selectDataPoint_area","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":g},"handler":function(d,i){i.fireEvent(d,true);var n=H.turnToArray(d.data.targets);if(!n||!n.length){return;}s(i);q(n,i);var x=i.getDataModel();var y=i.getProperties();var K=y.get('interaction.selected');var L=T.isExist(y.get('plotArea.markerRenderer'));n.forEach(function(e){var M=a.getDataPointId(e);var N=x.getDataPoint(M);if(N){F(i,e,true,K.color,1);P.forEach(function(O){H.drawStroke(i,e,O,K.stroke,1);H.drawFill(i,e,O,K,L,true);});G(e,true);}});}},{"id":"deselectDataPoint_area","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":g},"handler":function(d,i){i.fireEvent(d,true);s(i);var n=i.getDataModel();var x=H.turnToArray(d.data.targets);var y=i.getProperties();var K=d.data.isAnyOtherSelected?y.get('interaction.deselected'):y.get('plotArea.dataPoint');var L=T.isExist(y.get('plotArea.markerRenderer'));x.forEach(function(e){var M=a.getDataPointId(e);var N=n.getDataPoint(M);if(N){F(i,e,false,K.color,1);P.forEach(function(O){H.drawStroke(i,e,O,K.stroke,1);H.drawFill(i,e,O,K,L,true);});G(e,false);}});}},{"id":"hoverOnDataPoint_area","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":g},"handler":function(d,i){i.fireEvent(d,true);var n=i.getDataModel();var x=H.turnToArray(d.data.targets);var y=i.getProperties();var K=y.get('interaction.hover');var L=T.isExist(y.get('plotArea.markerRenderer'));x.forEach(function(e){var M=a.getDataPointId(e);var N=n.getDataPoint(M);if(N){F(i,e,true,K.color,2);P.forEach(function(O){H.drawStroke(i,e,O,K.stroke,2);H.drawFill(i,e,O,K,L,true);});G(e,true);}});}},{"id":"unhoverOnDataPoint_area","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":g},"handler":function(d,i){i.fireEvent(d,true);var n=H.turnToArray(d.data.targets);var x=i.getProperties();var y;var K=T.isExist(x.get('plotArea.markerRenderer'));var L=i.getStatus("selectedDataPoints");n.forEach(function(e){var M;if(d3.select(e).classed(h.DATAPOINTSELECTED)){y=x.get('interaction.selected');M=true;}else{if(L.length){y=x.get('interaction.deselected');}else{y=x.get('plotArea.dataPoint');}M=false;}F(i,e,M,y.color,1);P.forEach(function(N){H.drawStroke(i,e,N,y.stroke,1);H.drawFill(i,e,N,y,K,true);});G(e,M);});}},{"id":"clearPlot_area","triggerEvent":{"name":"clearPlot","supportedChartTypes":g},"handler":function(d,i){i.fireEvent(d,true);var n=i.getStatus("areaDataPoints")||i.getNodes(i.NodeType.DATA_POINT,false);if(!n||!n.length){return;}var x=d.data.isGray;var y=i.getProperties();var K=x?y.get('interaction.deselected'):y.get('plotArea.dataPoint');var L=T.isExist(y.get('plotArea.markerRenderer'));n.forEach(function(e){F(i,e,false,K.color,1);P.forEach(function(Q){H.drawStroke(i,e,Q,K.stroke,1);H.drawFill(i,e,Q,K,L,true);});G(e,false);});var M=y.get('interaction.deselected.color');var N=y.get('plotArea.drawingEffect');var O=i.getNodes(i.NodeType.AREA,false);O.forEach(function(e){var Q={isReverse:true};var R=H.getColors(i,e,M,null,N,Q);var U=e.querySelector('.'+h.AREA_PATH);var V=e.querySelector('.'+h.AREA_LINE_PATH);if(x&&R.customizedColor){e.setAttribute('fill',R.customizedColor);U.setAttribute('fill',R.customizedColor);V.setAttribute('fill',R.customizedColor);}else{e.setAttribute('fill',R.defaultColor);U.setAttribute('fill',R.defaultColor);V.setAttribute('fill',R.defaultColor);}});}},I.getDeselectEvent("click_on_non_selection_area",g,H.getDeselAllExTargets())];B.registerAll(J);return J;});define('sap/viz/chart/behavior/config/AreaBehaviorConfig',["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/BehaviorManager"],function(C,S,U,D,H,T,a,O,b,c,B){var d=["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area"];var f=d.concat(["info/combinationEx"]);f=b.addTrellisType(f);var g=S.BEHAVIOR;var h=C.CSS.CLASS;var i=h.DATAPOINT;var j=h.DATALABEL;var k=h.AREA;var s=h.AREA_SELECTED;function l(e){if(q()){return e.data.point;}var v=e.data.originalEvent||window.event;return{x:v.clientX,y:v.clientY};}function m(e){var v=e.getBoundingClientRect();return{x:v.left+v.width/2,y:v.top+v.height/2};}function n(e,v,w){var x=w.isHorizontal();var y=x?"y":"x";var z,A,E;v.forEach(function(F){E=m(F);var G=Math.abs(E[y]-e[y]);if(!A||!z){A=F;z=G;return;}if(G<z){z=G;A=F;}});return A;}function o(e){if(e){var v=c.getData(e).dataPoints;return v;}}function p(e,v){var w=l(e);var x=o(e.data.currentTarget);return n(w,x,v);}function q(){return U.isMobile();}function r(e,v,w){var x=v.data.point;var y={};y.isHorizontal=w.isHorizontal();var z=l(v);var A=z.x||0;var E=z.y||0;var F=m(e);if(y.isHorizontal){y.direction=F.y-E>0?"top":"bottom";y.x=x.x;if(q()){y.y=F.y;}else{y.y=x.y+(z.y&&(F.y-z.y)||0);}}else{y.direction=F.x-A>0?"left":"right";if(q()){y.x=F.x;}else{y.x=x.x+(z.x&&(F.x-z.x)||0);}y.y=x.y;}return y;}function t(e,v){var w=D.getDataPointId(e.data.currentTarget);var x=v.getNodes(v.NodeType.DATA_POINT,false);return D.findByDataPointIds(x,w)[0];}var u=[{"id":"click_on_datalabel","triggerEvent":{"name":"click","targets":[j],"excludeTargets":['v-m-action-layerrange'],"supportedChartTypes":f},"handler":function(e,v){e.data.point=r(t(e,v),e,v);v.fireEvent(e,true);}},{"id":"hover_on_datalabel","triggerEvent":{"name":"hover","targets":[j],"supportedChartTypes":f},"handler":function(e,v){e.data.point=r(t(e,v),e,v);v.fireEvent(e,true);}},{"id":"click_on_datapoint","triggerEvent":{"name":"click","targets":[i],"excludeTargets":['v-m-action-layerrange'],"supportedChartTypes":f},"handler":function(e,v){e.data.point=r(e.data.currentTarget,e,v);v.fireEvent(e,true);}},{"id":"hover_on_datapoint","triggerEvent":{"name":"hover","targets":[i],"supportedChartTypes":d},"handler":function(e,v){e.data.point=r(e.data.currentTarget,e,v);v.fireEvent(e,true);}},{"id":"click_on_area","triggerEvent":{"name":"click","targets":[k,s],"supportedChartTypes":f},"handler":function(e,v){var w=p(e,v);e.data.currentTarget=e.data.target=w;e.data.point=r(w,e,v);v.fireEvent(e,true);}},{"id":"hover_on_area","triggerEvent":{"name":"hover","targets":[k,s],"supportedChartTypes":f},"handler":function(e,v){var w=p(e,v);e.data.currentTarget=e.data.target=w;e.data.point=r(w,e,v);v.fireEvent(e,true);}}];B.registerAll(u);return u;});define('sap/viz/chart/components/plots/AreaPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/chart/components/plots/LinePlot','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/util/DrawUtil','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/util/AreaSeriesUtil','sap/viz/chart/components/renderers/AreaSeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/renderers/AreaRefLineRenderer','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/datalabels/AreaDataLabels',"sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/behavior/config/TooltipClassMap","sap/viz/chart/behavior/config/tooltip/AreaChartTooltip","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/AreaDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea","sap/viz/chart/behavior/config/AreaBehaviorConfig"],function Setup(o,B,L,C,D,S,a,b,O,c,N,U,d,e,f,A,P,g,h,k,I,l,X,T,m,n,p,q){var M=3;var r=2;var s=0.8;var t={desktop:{minWidth:24},mobile:{minWidth:48}};var u={desktop:{minWidth:16},mobile:{minWidth:16}};var w=b.CSS.CLASS;var z=[w.DATAPOINT,w.MORPHABLEDATAPOINT,w.DATAPOINTDEFAULT].join(" ");var E=function(i,j){this._seriesColorStyleMap={};E.superclass.constructor.apply(this,arguments);this._dataPointRenderer=P;this._flipNegativeShape=false;var v=this.runtime().markManager();v.setMode("single");v.lock();v.setShape("circle");var x=this.runtime().semanticManager();x.bindSeriesStyleProperty(this._name+".seriesStyle");};o.extend(E,B);E.prototype._getDataLabels=function(i,j){var v=O.extend({},this._options);v.name=i;return new l(j,v,this._seriesColorStyleMap);};E.prototype._getDataHandler=function(){return{"valueAxis":k.getStackHandler(false)};};E.prototype._buildConfig=function(i,j,v){var x=E.superclass._buildConfig.apply(this,arguments);x.graphic.d=this._markerD;return x;};E.prototype._getFillColorConfig=function(i,j,v,x){var y=(x&&!x.isNullValue)?x.dp.additionCtx():{};var F=v.disableSemantic?null:this._semanticMgr.analyzeDataPoint("color",j,true,y);if(F==null||(F.properties==null)){if(i.graphic){if(i.graphic.fill){i.graphic.fill=N.convertColor(i.graphic.fill);}if(i.graphic.color){i.graphic.color=N.convertColor(i.graphic.color);}if(i.graphic.borderColor){i.graphic.borderColor=N.convertColor(i.graphic.borderColor);}i.graphic.opacity=0;}if(i.data&&i.data.color){i.data.color=N.convertColor(i.data.color);}return i;}if(F.properties.color){var G=N.convertColor(F.properties.color);if(i.graphic){if(i.graphic.hasOwnProperty("fill")){i.graphic.fill=G;}if(i.graphic.hasOwnProperty("color")){i.graphic.color=G;}i.graphic.opacity=F.isOthers?0:1;}if(i.data&&i.data.color){i.data.color=G;}i.displayName=F.displayName;}else{i.graphic.opacity=0;}if(F.properties.stroke){i.graphic.stroke=F.properties.stroke;}if(F.properties.strokeWidth){i.graphic.strokeWidth=F.properties.strokeWidth;}return i;};E.prototype._preRender=function(){E.superclass._preRender.apply(this,arguments);this._markerD=d.createMarkerData({type:"circle",rx:M,ry:M,borderWidth:r});};E.prototype._getSeriesRenderer=function(){return new A(this._renderArea.bind(this),this._updateArea.bind(this));};E.prototype._updateArea=function(j,v,x,y){var _=function(v){for(var i=0;i<v.length;i++){if(v[i]&&v[i].dpConfig&&v[i].dataPoint&&v[i].dpConfig.graphic&&v[i].dpConfig.graphic.fill){return v[i].dpConfig.graphic.fill;}}return undefined;};var F=this._properties.get();var G=y||this._properties.get("areaRenderer");var H=C.buildSeriesLineContext(this._data,x);var J=this._series[x].getDataPoints();var K={drawingEffect:F.drawingEffect,effectManager:this._effectManager,fillColor:_(v),opacity:s,isHorizontal:this.isHorizontal(),seriesFirstAndLastDpIdx:{firstIdx:J[0]&&J[0].getDataPointId(),lastIdx:J[J.length-1]&&J[J.length-1].getDataPointId()}};var Q=f.updateArea(j,v,x,G,H,K);if(!Q){var R=e.findArea(j,x);if(R){j.removeChild(R);}this._renderArea(j,v,x);}};E.prototype._renderArea=function(i,j,v,x,y){var F=this._properties;var G=y||F.get("areaRenderer");var H=F.get("drawingEffect");var J=this._data.series.length-1-v;var K=this._effectManager;var Q=x||C.buildSeriesLineContext(this._data,J,["color","color2","trellisColumn","trellisRow"]);var R=this.getSeriesStyle(v,Q);if(this._seriesColorStyleMap){this._seriesColorStyleMap[v]=R;}var V=this.runtime().propertyManager();var W=this._series[v].getDataPoints();var Y={firstIdx:W[0]&&W[0].getDataPointId(),lastIdx:W[W.length-1]&&W[W.length-1].getDataPointId()};f.drawArea(i,j,v,H,K,Q,G,R,this.isHorizontal(),V,Y);};E.prototype.getSeriesStyle=function(i,j){var v=this._data.series.length-1-i;var x=this._semanticMgr;j=j||C.buildSeriesLineContext(this._data,v,["color","color2","trellisColumn","trellisRow"]);var y=x.analyzeSeriesStyle(j,"area");var F;if(y&&y.area&&y.area.color){F=y.area.color;}else if(x.hasDataPointColorStyle()&&x.isOverrideMode()){F=x.getOthersStyle("color").properties.color;}else{var G=C.getSeriesScaleInfo(this._data,v,["color"]);if(G){F=this._data[G.field].scale.scale(G.domain);}else{F=this._data.color.scale.getRange()[0];}}return{color:N.convertColor(F)};};E.prototype._hideNode=function(i,j){var v=i[j];if(v){D.remove(v.getNode());D.remove(v.getRefNode());v.setNode(null).setRefNode(null);}};E.prototype._showDataPoints=function(i){this._preShowDataPoints();var j=[];this._dataPointContext=[];this._seriesRenderer.resetDataPoints();var v;var x=this._data.color;if(x&&x.metaData){var y=c.checkMndStatus(x.metaData,x.rowArray);if(y.isOnlyOneMndValue){v=y.mndIndex;}}var F=this.createSeriesIterator(this._series.length);var G=this._getVisibleRange();var H;while(F.hasNext()){var J=F.next();var K=this._series[J];if(!K){continue;}var Q=this._getDataPointRenderer(J);if(!Q){continue;}var R=K.getDataPoints();var V=this._getDataPointRange(R,G);this._hideDataPoints(R,V);for(var W=V.min;W<=V.max;W++){var Y=R[W];if(!Y){continue;}var Z=Y.getRawData();var $=Z.dp;var _=this._getDataPointPosition(Y);if(!_){continue;}var a1=false;var b1=Y.getConfig();if(!b1){a1=true;var c1=$&&$.context()?$.context():b.NULL_VALUE;b1=this._buildWrapperConfig(Z,_,c1,{itemIndex:W});}this._dataPointContext.push(b1);var d1=Y.getData();if(!d1){a1=true;var e1=Y.getId();d1=this._buildData(b1);Y.init(b1,e1,d1,$&&$.id?$.id:b.NULL_VALUE,v);}var f1=Y.getNode();var g1=Y.getRefNode();if(f1){if(a1){this._updateDatapoint(f1,Q,b1,_);this._updateDatapointRefLine(g1,b1,_);j.push(f1);}}else{H=this._drawDataPointWithRefLine(Q,Y);if(H){f1=H.node;g1=H.refNode;Y.setNode(f1).setRefNode(g1);if(f1){j.push(f1);}}else{Y.setNode(null).setRefNode(null);}}this._seriesRenderer.addDataPoint(F.index(),W,b1,_,f1,g1);}}return j;};E.prototype._getValueScaleHandlers=function(i){return[h.getValueScaleHandler("valueAxis",{isHorizontal:i})];};E.prototype._getCategoryScaleHandlers=function(){return[h.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:I.get(false),alignment:"center"})];};E.prototype._adjustPosition=function(i){if(this.isHorizontal()){i.x+=i.width;}};E.prototype.drawAreaRefLine=function(i,j){var v=this._series[i];if(!v){return null;}var x=v.getDataPoints()[j];if(!x){return null;}var y=x.getConfig();if(y.ctx===b.NULL_VALUE){return null;}var F=this._adjustDataPointPosition(x.getPosition());if(!F){return null;}var G=g(y);G.setAttribute("class",w.AREA_REF_LINE);e.setDataId(G,x.getDataId());e.setDataPointId(G,x.getDataPointId());if(F.hasOwnProperty("x")&&F.hasOwnProperty("y")){var H='translate('+F.x+', '+F.y+')';G.setAttribute("transform",H);}x.setRefNode(G);this._seriesRenderer.addDataPointRefLine(i,j,G);return G;};E.prototype._drawDataPointWithRefLine=function(i,j){var v=j.getConfig();if(v.ctx===b.NULL_VALUE){return null;}var x=this._adjustDataPointPosition(j.getPosition());if(!x){return null;}var y=S.create("g");e.setDataId(y,j.getDataId());e.setDataPointId(y,j.getDataPointId());a.setContext(y,j.getContext());a.setAdditionCtx(y,j.getAdditionCtx());a.setData(y,j.getData());y.setAttribute("class",z);var F=v.graphic.opacity;var G=null;if(F!==0){G=g(v);G.setAttribute("class",w.AREA_REF_LINE);e.setDataId(G,j.getDataId());e.setDataPointId(G,j.getDataPointId());}else{y.setAttribute("opacity",F);}if(x.hasOwnProperty("x")&&x.hasOwnProperty("y")){var H='translate('+x.x+', '+x.y+')';y.setAttribute("transform",H);if(G){G.setAttribute("transform",H);}}var J=this._applyDataPointRenderer(i,v);if(!J&&this._dataPointRenderer){J=this._dataPointRenderer(v);}y.appendChild(J);if(this._flipNegativeShape){var K=v.ctx[v.ctx.measureNames]<0;if(K){this._addNegativeClass(y,v);}}return{node:y,refNode:G};};E.prototype._adjustDataPointPosition=function(i){if(!i){return null;}var j=this._realSize;var v=M+r/2;var x=i.x;var y=i.y;if(x<-1||y<-1||x>j.width+1||y>j.height+1){return{"x":x,"y":y};}if((x-v)<0){x=v;}else if((x+v)>j.width){x=j.width-v;}if((y-v)<0){y=v;}else if((y+v)>j.height){y=j.height-v;}return{"x":x,"y":y};};E.prototype._buildData=function(i){return{color:i.graphic.fill,position:i.position,trellisInfo:i.trellisInfo,opacity:i.graphic.opacity};};E.prototype._getSeries=function(){if(this._data.series){return this._data.series.slice().reverse();}else{return[];}};E.prototype._isEmptySeries=function(j){if(!j||j.length<=0){return true;}for(var i=0;i<j.length;i++){if(j[i]){return false;}}return true;};E.prototype._fixSeriesForMulti=function(x){var y=x||this._data.series;var F,i,j,G;var H=y.length;var J;var K=[],Q=[];for(i=0;i<H;i++){F=y[i];J=F.length;for(j=0;j<J;j++){K[j]=K[j]||[];if(F[j]){K[j][i]=F[j];}}}for(i=0;i<K.length;i++){G=K[i];if(G.length===0){Q.push(i);}}for(i=0;i<H;i++){F=y[i];J=F.length;if(this._isEmptySeries(F)){continue;}for(j=0;j<J;j++){var v=F.measureMeta[0];if(Q.indexOf(j)>=0){continue;}if(F[j]===undefined){F[j]={"isNullValue":true};F[j][v]=0;}}}};E.prototype.setData=function(i){E.superclass.setData.apply(this,arguments);this._fixSeriesForMulti();};E.prototype._updateDatapoint=function(i,j,v,x){E.superclass._updateDatapoint.apply(this,arguments);if(i&&x.hasOwnProperty("x")&&x.hasOwnProperty("y")&&x.hasOwnProperty("height")&&x.hasOwnProperty("width")){var y=a.getData(i);if(y&&y.position){y.position.x=x.x;y.position.y=x.y;y.position.height=x.height;y.position.width=x.width;}}};E.prototype._updateDatapointRefLine=function(i,j,v){if(i&&v.hasOwnProperty("x")&&v.hasOwnProperty("y")){i.setAttribute("transform",'translate('+v.x+', '+v.y+')');g.update(i,j);}};E.prototype._buildWrapperConfig=function(i,j,v){var x=E.superclass._buildWrapperConfig.apply(this,arguments);x.position=j;return x;};E.prototype._getMinCategoryWidth=function(i){var j=!!this._options.inTrellis;var v=this._properties;if(i||j||(v.get('isFixedDataPointSize')&&!v.origin.get("interaction.noninteractiveMode"))){var x=j?u:t;var y=U.isMobile()?x.mobile.minWidth:x.desktop.minWidth;return y;}else{return 0;}};E.prototype.getSeriesIndex=function(i){return this._series.length-i._addr[1]-1;};E.prototype.getPreferredSize=function(){return L.prototype.getPreferredSize.apply(this,arguments);};X.registerClazz("area",E);X.registerClazz("horizontal_area",E);T.register(["info/area","info/horizontal_area","info/trellis_area","info/trellis_horizontal_area","info/100_area","info/100_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],m);n.register(q.DATAPOINT_NAVIGATOR,q.AREA,p);return E;});define('sap/viz/chart/components/datalabels/AreaPercentageDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/AreaDataLabels','sap/viz/chart/components/util/PercentageDataLabelUtil'],function(o,D,A,P){var a=function(c,b,s){a.superclass.constructor.apply(this,arguments);};o.extend(a,A);a.prototype._getDataLabelInfo=function(n){var d=this._data&&this._data.rawData&&this._data.rawData.dataModel;return P.getDataLabelInfo(n,d);};a.prototype._buildDataLabelText=function(f,d,b,i,c){var v=d.value;if(v===0&&!this.drawZero(c)){return null;}return D.buildDataLabelText(this._properties,f,d,b,i,P.getTypes,P.mergeDataLabels,null);};return a;});define('sap/viz/chart/components/plots/PercentageAreaPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/AreaPlot','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/scales/ValueScale','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/chart/components/datalabels/AreaPercentageDataLabels','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/plots/XYPlotFactory"],function Setup(o,A,T,C,D,V,G,a,O,X){var P=function(r,b){P.superclass.constructor.apply(this,arguments);};o.extend(P,A);P.prototype._getDataHandler=function(){return{"valueAxis":D.getStackHandler(false,true)};};P.prototype._drawGridlines=function(p){var s=this._realSize;var i=this.isHorizontal();var d=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var b=this._properties.proxy("gridline");var r=i?[0,s.width]:[s.height,0];var c=new V([0,1],r);c.setTickHint(this._data.valueAxis.tickHint);G.drawValueGridline(p,s.width,s.height,c,b,d,this.runtime().effectManager());};P.prototype._getAxisPosition=function(h,s,b,d){var c=this._dataHandler;var v=this._data.valueAxis;var e=v.categorySum[b];var f;for(var i=0,l=h.length;i<l;i++){var g=h[i];if(d.hasOwnProperty(g.id)){if(d[g.id]<0&&e>0){f=0;}else{f=d[g.id];}return g.scale(f,{index:b,seriesIndex:s,dataHandler:c[g.id]});}}return h[0].scale(null,{index:b,seriesIndex:s,rawData:d});};P.prototype._getPosition=function(s,i,d){var v=this._data.valueAxis;v.scale.total(v.categorySum[i]);return P.superclass._getPosition.apply(this,arguments);};P.prototype._buildWrapperConfig=function(d,p,c,b){var i=b&&b.itemIndex;var v=this._data.valueAxis;if(v.categorySum){v.scale.total(v.categorySum[i]);}if(c){c.percentage=this._data.valueAxis.scale.scale(d.valueAxis);}var e=P.superclass._buildWrapperConfig.apply(this,arguments);if(d.valueAxis<0&&v.categorySum[i]>0){e.ctx=C.NULL_VALUE;}return e;};P.prototype._buildData=function(d,p,c,b,e){var r=P.superclass._buildData.apply(this,arguments);r.percentageValue=d.ctx.percentage;return r;};P.prototype._getDataLabels=function(n,r){var b=O.extend({},this._options);b.name=n;return new a(r,b,this._seriesColorStyleMap);};X.registerClazz("100_area",P);X.registerClazz("100_horizontal_area",P);return P;});define('sap/viz/chart/metadata/bindings/CombinationBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":2,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/util/CombinationDataLabelUtil',['sap/viz/chart/components/util/DataPointUtils'],function Setup(D){var C={isIntersectedHelper:function(d,a,b,c){var e={};var i;var f=this.allowIntersectionCheck(c);for(i=0;i<b.length;i++){var g=this.allowIntersectionCheck(b[i]);if(f&&!g){var h=a[i];if(!(d.left>h.right||d.right<h.left||d.top>h.bottom||d.bottom<h.top)){e.intersected=true;break;}}else if(!f&&g){var j=a[i];if(!(j.right<d.left||j.left>d.right||j.top>d.bottom||j.bottom<d.top)){e.hitPoint=true;break;}}}return e;}};return C;});define('sap/viz/chart/components/datalabels/CombinationDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/ColumnDataLabels','sap/viz/chart/components/util/CombinationDataLabelUtil','sap/viz/chart/components/datalabels/LineDataLabels'],function(o,D,C,a,L){var V=function(c,b){V.superclass.constructor.apply(this,arguments);this.isHorizontal=false;this._labelPosition="up";};o.extend(V,C);V.prototype._computeDataLabelTranslate=function(n){var f;if(D.getData(n).type!=="line"){f=C.prototype._computeDataLabelTranslate;}else{f=L.prototype._computeDataLabelTranslate;}return f.apply(this,arguments);};V.prototype._computeDataLabelPosition=function(c,s,l,b,d,n){var f;if(D.getData(n).type!=="line"){f=C.prototype._computeDataLabelPosition;}else{f=L.prototype._computeDataLabelPosition;}return f.apply(this,arguments);};V.prototype.allowIntersectionCheck=function(d){return D.getData(d).type==="line";};V.prototype.intersectResult=function(d,b,c,e){return a.isIntersectedHelper.call(this,d,b,c,e);};V.prototype.isDataLabelOutOfDataPoint=function(d,i){var b=true;if(!this.allowIntersectionCheck(i.dataPoint)){b=V.superclass.isDataLabelOutOfDataPoint.apply(this,arguments);}return b;};return V;});define('sap/viz/chart/components/datalabels/HCombinationDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/chart/components/util/CombinationDataLabelUtil','sap/viz/chart/components/datalabels/LineDataLabels','sap/viz/chart/components/datalabels/DataLabels',],function(o,D,B,C,L,a){var H=function(r,b){H.superclass.constructor.apply(this,arguments);this.isHorizontal=true;this._labelPosition="outside";};o.extend(H,B);H.prototype._computeDataLabelTranslate=function(n){var p;if(D.getData(n).type!=="line"){p=B.prototype;}else{p=L.prototype;}this._computeDataLabelPosition=p._computeDataLabelPosition;return p._computeDataLabelTranslate.apply(this,arguments);};H.prototype.allowIntersectionCheck=function(d){return D.getData(d).type==="line";};H.prototype.isDataLabelOutOfDataPoint=function(d,i){var b=true;if(!this.allowIntersectionCheck(i.dataPoint)){b=H.prototype.isDataLabelOutOfDataPoint.apply(this,arguments);}return b;};H.prototype.intersectResult=function(d,b,c,e){return C.isIntersectedHelper.call(this,d,b,c,e);};return H;});define('sap/viz/chart/components/accessibility/CombinationDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator","sap/viz/chart/components/accessibility/ColumnDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator"],function(o,B,C,L){function a(b){a.superclass.constructor.apply(this,arguments);this._dataShapes=null;this._barSeries=[];this._lineSeries=[];this._barNavigator=null;this._lineNavigator=null;this._initSubComponent(b);}o.extend(a,B);var p=a.prototype;p._initSubComponent=function(b){if(this._series){this._setupSeriesTypeTable();for(var k=0;k<this._seriesTypeLookup.length;k++){if(this._seriesTypeLookup[k]===this._constants.BAR){this._barSeries.push(this._series[k]);this._lineSeries.push(undefined);}else{this._lineSeries.push(this._series[k]);}}var c={isVerticalRender:b.isVerticalRender,dataModel:b.dataModel,series:this._barSeries,propertyManager:b.propertyManager};this._barNavigator=new C(c);var l={isVerticalRender:b.isVerticalRender,dataModel:b.dataModel,series:this._lineSeries,propertyManager:b.propertyManager};this._lineNavigator=new L(l);}};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._dataShapes=null;this._seriesTypeLookup=null;this._barSeries=null;this._lineSeries=null;if(this._lineNavigator){this._lineNavigator.destroy();}if(this._barNavigator){this._barNavigator.destroy();}this._lineNavigator=null;this._barNavigator=null;};p.left=function(i){return this._DPRouter(i,this._constants.LEFT);};p.right=function(i){return this._DPRouter(i,this._constants.RIGHT);};p.up=function(i){return this._DPRouter(i,this._constants.UP);};p.down=function(i){return this._DPRouter(i,this._constants.DOWN);};p._DPRouter=function(i,d){var b=this.getDataPoint(i);if(b){var s=this._getSeriesType(b);if(this._isVerticalRender){if(d===this._constants.UP||d===this._constants.DOWN){b=this._getShortestDPInCategory(i,d);}}else{if(d===this._constants.LEFT||d===this._constants.RIGHT){b=this._getShortestDPInCategory(i,d);}}switch(s){case this._constants.LINE:if(this._isVerticalRender){if(d===this._constants.LEFT){b=this._lineNavigator.left(i);}else if(d===this._constants.RIGHT){b=this._lineNavigator.right(i);}}else{if(d===this._constants.UP){b=this._lineNavigator.up(i);}else if(d===this._constants.DOWN){b=this._lineNavigator.down(i);}}break;case this._constants.BAR:if(this._isVerticalRender){if(d===this._constants.LEFT){b=this._barNavigator.left(i);}else if(d===this._constants.RIGHT){b=this._barNavigator.right(i);}}else{if(d===this._constants.UP){b=this._barNavigator.up(i);}else if(d===this._constants.DOWN){b=this._barNavigator.down(i);}}break;}}return b;};p._getShortestDPInCategory=function(i,d){var c=this.getDataPoint(i);var s=null;var b=-1;var e=c.address();var f=e[0];if(!this._sortedDataPointsByDirection[f]){this.dataPointValueSortInCategory(f);}var g=this._sortedDataPointsByDirection[f].indexOf(c);if(d===this._constants.UP||d===this._constants.RIGHT){b=g+1;}else if(d===this._constants.DOWN||d===this._constants.LEFT){b=g-1;}if(b>-1&&b<this._sortedDataPointsByDirection[f].length){s=this._sortedDataPointsByDirection[f][b];if(this._seriesTypeLookup[c.address()[1]]===this._constants.BAR){var h=this._seriesTypeLookup[s.address()[1]];while(h!==this._constants.LINE){b+=(d===this._constants.UP||d===this._constants.RIGHT)?1:-1;if(b>this._sortedDataPointsByDirection[f].length||b<0){s=null;break;}h=this._seriesTypeLookup[this._sortedDataPointsByDirection[f][b].address()[1]];}s=this._sortedDataPointsByDirection[f][b];}}return s;};return a;});define('sap/viz/chart/components/plots/CombinationPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/SmoothLineRenderer','sap/viz/chart/components/util/DrawUtil',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/datalabels/CombinationDataLabels','sap/viz/chart/components/datalabels/HCombinationDataLabels',"sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/CombinationDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function Setup(o,S,O,D,C,B,a,b,I,c,P,L,d,e,f,g,h,H,X,j,k,l){var m="line";var n="bar";var p=C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT;var q=function(r,i){this._isFlexibleStack=true;q.superclass.constructor.apply(this,arguments);this._markerPropName="line.marker";a.prototype._initCategoryAxis.call(this,b,I);var s=this.runtime().semanticManager();s.setUseSemanticDPLineStyle(true);this._attachMarkManager();this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));var t=i&&i.isDualValueAxis;if(t){this.dataShapeSecondaryAxisPW=this._properties.watch("dataShape.secondaryAxis",this._onDataShapeChange.bind(this));}this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._semanticMgr.setUseSemanticPattern(true);this._defaultLineRenderer=g.getDefaultRenderer(this._properties.get("line.isSmoothed"));};o.extend(q,B);q.prototype._isSupportBarPathGenerator=function(){return true;};q.prototype._hideDataPoints=function(r,v){if(r[0]&&this._seriesType[r[0].getSeriesIndex()]===m){for(var i in r){if(r.hasOwnProperty(i)){this._hideNode(r,i);}}this._lightLineOutOfRange(r,v);}else{this._columnOutOfRange(r,v);}};q.prototype.destroy=function(){if(this.dataShapePrimaryAxisPW){this.dataShapePrimaryAxisPW.remove();this.dataShapePrimaryAxisPW=null;}if(this.dataShapeSecondaryAxisPW){this.dataShapeSecondaryAxisPW.remove();this.dataShapeSecondaryAxisPW=null;}this.lineMarkerShapePW.remove();this.lineMarkerShapePW=null;q.superclass.destroy.call(this);this._barCategoryAxis=null;this._categoryScaleHandler=null;this._realSize=null;this._measureIndex=null;this._markerD=null;this._seriesType=null;};q.prototype._attachMarkManager=function(){var i=this.runtime().markManager();var r=this._properties.get("dataShape.primaryAxis");var s=this._getMarkerShape();var t=this._properties.parentLevel;var u=[];i.lock();i.setMode("combination");var v=[];u.push(q.processMark.call(this,r,s,t));v.push(r);if(this._options&&this._options.isDualValueAxis){var w=this._properties.get("dataShape.secondaryAxis");u.push(q.processMark.call(this,w,s,t));v.push(w);}i.setShape(u,s);i.setSeriesShape(v);};q.processMark=function(r,s,t){var u=[];if(!r||!r.length){return u;}for(var i=0;i<r.length;i++){if(r[i]===m){u.push(s);}else{var v=this._getLegendMarkerShape();u.push(v);}}return u;};q.prototype._onDataShapeChange=function(){this._attachMarkManager();};q.prototype._getCategoryScaleHandlers=function(i){return[b.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(false),alignment:"center"})];};q.prototype._getSeriesRenderer=function(){return new c(this._drawLine.bind(this),this._updateLine.bind(this));};q.prototype._applyChanges=function(){q.superclass._applyChanges.apply(this,arguments);a.prototype._initBarCategoryAxis.apply(this,arguments);};q.prototype._adjustPosition=function(i,s){var r=this._getDataShape(s)===m;if(!r){q.superclass._adjustPosition.apply(this,arguments);}};q.prototype._preRender=function(){q.superclass._preRender.apply(this,arguments);var s=this._data.series.length;this._measureIndex=[];var i=0;for(var r=0;r<s;r++){var t=this._getDataShape(r);if(t===n){this._measureIndex[r]=i;i++;}}};q.prototype._getDataShape=function(s){var r=this._data.series[s];var t=null;for(var i=0;i<r.length;i++){t=r[i];if(t){break;}}if(t){var u=t.hasOwnProperty("valueAxis")?"dataShape.primaryAxis":"dataShape.secondaryAxis";var v=this._properties.get(u);if(!(v instanceof Array)){v=this._properties.get(u,'defaultValue');}var w;if(t.color){w=t.color.mndIndex;}else if(t.color2){w=t.color2.mndIndex;}else{w=-1;}if(v[w]!==m&&v[w]!==n){v[w]=m;}return v[w];}return m;};q.prototype._getXPosition=function(s,i,r){var t=this._getDataShape(s)===m;if(this.isHorizontal()){var u=q.superclass._getXPosition.apply(this,arguments);if(t){return[u[0]+u[1],u[1]];}else{return u;}}else{if(t){return q.superclass._getXPosition.apply(this,arguments);}else{s=this._measureIndex[s];return this._getAxisPosition([this._barCategoryAxis],s,i,r);}}};q.prototype._getYPosition=function(s,i,r){var t=this._getDataShape(s)===m;if(!this.isHorizontal()){var u=q.superclass._getYPosition.apply(this,arguments);return u;}else{if(t){return q.superclass._getYPosition.apply(this,arguments);}else{s=this._measureIndex[s];return this._getAxisPosition([this._barCategoryAxis],s,i,r);}}};q.prototype.getLineRenderer=function(){if(!this._lineRenderer){var i=this._properties;this._lineRenderer=g.getRenderer(i.get('line.lineRenderer'),i.get("line.isSmoothed"));}return this._lineRenderer;};q.prototype._isLineVisible=function(){return this._properties.get('line.visible');};q.prototype._getPatternConfig=B.prototype._getPatternConfig;q.prototype._drawLine=function(s,i,r,t){if(this._getDataShape(r)!==m){return 0;}q.superclass._drawLine.apply(this,arguments);return 1;};q.prototype._updateDatapoint=function(i,r,s,t){q.superclass._updateDatapoint.apply(this,arguments);if(t.hasOwnProperty("x")&&t.hasOwnProperty("y")){var u=D.getData(i).translate;if(u){u[0]=t.x;u[1]=t.y;}}if(i.getAttribute("combination-column")){this._updateStrokeWidth(i);}};q.prototype._buildConfig=function(i,r,s){var t=q.superclass._buildConfig.apply(this,arguments);t.graphic.d=this._markerD;if(!this._properties.get("line.marker.visible")){t.graphic.opacity=0;}return t;};q.prototype._getDataPointRenderer=function(s){var r;if(this._getDataShape(s)===m){this._isLineMarker=true;r=this._customMarkerRenderer||P;}else{this._isLineMarker=false;r=q.superclass._getDataPointRenderer.apply(this,arguments);}return r;};q.prototype._getDataLabels=function(i,r){var s=O.extend({},this._options);s.name=i;if(s.isHorizontal){return new H(r,s);}else{return new h(r,s);}};q.prototype._getColumnCount=function(){var s=this._data.series.length;var r=0;for(var i=0;i<s;i++){if(this._getDataShape(i)==n){r++;this._seriesType[i]=n;}else{this._seriesType[i]=m;}}return r;};q.prototype._drawDataPoint=function(i,r){var s=r.getConfig();var t=S.create("g");f.setDataId(t,r.getDataId());f.setDataPointId(t,r.getDataPointId());D.setContext(t,r.getContext());D.setAdditionCtx(t,r.getAdditionCtx());var u=r.getData();u.seriesIndex=r.getSeriesIndex();u.itemIndex=r.getItemIndex();if(this._isLineMarker){u.shape=this._properties.get('line.marker.shape');}t.setAttribute("class",p);if(this._isLineMarker===true){t.setAttribute("combination-marker","true");}else{t.setAttribute("combination-column","true");}s["isLineMarker"]=this._isLineMarker;var v=this._renderNode(i,s,t,u);var w=this._drawShadowNode(s.graphic,t,v,u,i);delete s["isLineMarker"];D.setData(t,u);var x=r.getPosition();if(x.hasOwnProperty("x")&&x.hasOwnProperty("y")){t.setAttribute("transform",'translate('+x.x+', '+x.y+')');}var y=s.ctx[s.ctx.measureNames]<0;if(y&&!this._isLineMarker){this._addNegativeClass(t,s);}return t;};q.prototype._isNeedSimplifyLine=function(){return false;};q.prototype.getSeriesStyle=function(s,i){var r=q.superclass.getSeriesStyle.apply(this,arguments);r.isCombination=true;return r;};X.registerClazz("combination",q);X.registerClazz("horizontal_combination",q);j.register(l.DATAPOINT_NAVIGATOR,l.COLUMN_COMBINATION,k);return q;});define('sap/viz/chart/components/legend/SizeLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/BaseLegend','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/UnitFormat',"sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/lang/LangManager'],function(o,B,T,D,a,U,C,N,l){function S(r,b){S.superclass.constructor.apply(this,arguments);var p=this._properties.get('label.style');this._labelFont={'fontfamily':p.fontFamily,'fontsize':p.fontSize,'fontweight':p.fontWeight,'color':p.color,'fontstyle':p.fontStyle};this._layoutInfo={guideLineWidth:10,labelPaddingLeft:15};this._labels=[];this._scale=null;this._semanticStyle=null;this._labelHeight=0;this._parent=null;this._type="SizeLegend";}o.extend(S,B);S.prototype._addDefaultProperties=function(){S.superclass._addDefaultProperties.call(this);this._properties.add({'drawingEffect':'normal','formatString':null,'unitFormatType':null,inGeo:false,plotArea:{colorPalette:null}});};S.prototype.visible=function(){var v=true;if(this.getPosition()==="bottom"&&this._properties.origin.get("legendGroup.layout.position")==="auto"){v=false;}else{v=S.superclass.visible.call(this);}return v;};S.prototype.render=function(s,n){this._parent=s;if(this._scale&&this._labels.length>0){S.superclass.render.apply(this,arguments);}if(!this.isVisible()&&!this._isDedicated){s.selectAll('g.v-content').remove();return this;}var p=this._properties.get();var b=p.drawingEffect;if(this._scale&&this._labels.length>0){var c=s.selectAll('g.v-content').data(['content']);c.enter().append('g').classed('v-content',true).classed('v-label',true).classed('viz-legend-valueLabel',true);c.exit().remove();c.attr('transform','translate(0, '+this._pos.y+')');var t=parseInt(this._labelFont.fontsize,10);var v=[],e="font-size:"+this._labelFont.fontsize+"; font-weight:"+this._labelFont.fontweight+"; font-family:"+this._labelFont.fontfamily+"; font-style:"+this._labelFont.fontstyle;if(this._labelHeight===0){this._labelHeight=T.fastMeasure('M',this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).height;}var f=Math.floor((this._scale(this._labels[0])+t)/this._labelHeight);switch(f){case 0:case 1:v.push(this._labels[0]);break;case 2:v.push(this._labels[0]);if(this._labels.length>1){v.push(this._labels[this._labels.length-1]);}break;default:v=this._labels;}var g=[],m=-1,h,j;for(var i=0,k=v.length;i<k;i++){g.push(this._scale(v[i])/2);j=this._getLabelValue(v[i]);h=T.fastMeasure(j,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).width;if(h>m){m=h;}}var q=g[0];var w=c;var r=w.selectAll('g.v-circles');if(!r.empty()){r.remove();}r=w.append('g').attr('class','v-circles').data([g]);r.attr('transform','translate('+q+','+(q+t/2)+')');var u;var x=this._properties.origin.get("plotArea.colorPalette");if(x&&x.length&&x.length>0){u=N.convertColor(x[0]);}else{u='#748CB2';}var y=true;if(!y&&this._semanticStyle&&!a.isEmptyObject(this._semanticStyle)){if(this._semanticStyle.others&&this._semanticStyle.others.properties&&this._semanticStyle.others.properties.color){u=this._semanticStyle.others.properties.color;}}var z={drawingEffect:b,graphType:'circle',fillColor:u};var A=this.runtime().effectManager().register(z);var E=r.selectAll('path').data(g,function(d,i){return d;});E.exit().remove();E.enter().append('path').attr('stroke','white').attr('stroke-width',1).attr('fill',A).attr('opacity','1').attr('fill-opacity','0.85');E.attr('d',function(d,i){return D.createMarkerData({type:'circle',borderWidth:0,rx:d,ry:d});}).attr('transform',function(d,i){return['translate(',0,',',q-d,')'].join('');});var F=w.selectAll('g.v-valueLabels');if(F.empty()){F=w.append('g').attr('class','v-valueLabels').data([v]);}var G=(q*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+m)>this._sizeLA_width?this._sizeLA_width:(q*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+m);F.attr('transform','translate('+G+', '+(q+t)+')');var H=F.selectAll('text').data(v,function(d,i){return d;});H.exit().remove();var I=H.enter().append('text');var J=null;var K=this.runtime().envManager();if(K){J=K.textAnchor();}var L=this;H.text(function(d,i){return L._getLabelValue(d);}).attr('dx',function(d){var O=T.fastMeasure(L._getLabelValue(d),L._labelFont.fontsize,L._labelFont.fontweight,L._labelFont.fontfamily).width;return-O;}).attr('dy',function(d,i){var O=(i-1)*q-2;if(v.length===2&&i===1){O=q-2;}return O;}).attr("text-anchor",J);var M=w.selectAll('g.v-guideLines');if(!M.empty()){M.remove();}M=w.append('g').attr('class','v-guideLines').attr('transform','translate('+q+','+(q+t/2)+')');if(v.length>0){M.append('path').attr('stroke','gray').attr('d','M 0 '+-q+' L '+(q+this._layoutInfo.guideLineWidth)+" "+-q);}if(v.length>1){M.append('path').attr('stroke','gray').attr('d','M 0 '+q+'L'+(q+this._layoutInfo.guideLineWidth)+" "+q);}if(v.length>2){M.append('path').attr('stroke','gray').attr('d','M 0 '+(q-g[1])+' L '+q+" 0"+' M '+q+" 0 "+" L "+(q+this._layoutInfo.guideLineWidth)+" 0");}w.attr('font-family',this._labelFont.fontfamily).attr('font-size',this._labelFont.fontsize).attr('font-weight',this._labelFont.fontweight).attr('fill',this._labelFont.color).attr('font-style',this._labelFont.fontstyle);}return this;};S.prototype.hasData=function(){return(this._scale&&this._labels.length>0);};S.prototype._getBodyPreferredSize=function(){this._setupThemeStyleDef();var m=0,b=0,c=0,d=0;var p=this._properties.get();var e=p.position;if(this._scale&&this._labels.length>0){var f=this._labels,v,g=[],h=-1,j,i,k;for(i=0,k=f.length;i<k;i++){v=this._getLabelValue(f[i]);g[i]=T.fastMeasure(v,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily);if((g[i]===undefined)||(g[i].width>h)){h=g[i].width;}}var s=h+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth;j=this._scale(f[0]);b=j+g[k-1].height;m=j+s;c=m;d=b;if(!p.inGeo){if(e==='top'||e==='bottom'){m=m+g[k-1].height;c=c+g[k-1].height;}else{b=b+g[k-1].height;d=b;}}}return{maxWidth:m,maxHeight:b,minWidth:c,minHeight:d};};S.prototype.setData=function(i){if(!i){return;}if(i.bubbleWidth){this._bindingFields=i.bubbleWidth.metaData;}this._labels=i.labels;this._scale=i.scale;this._semanticStyle=i.semanticStyle;};S.prototype._setupThemeStyleDef=function(){S.superclass._setupThemeStyleDef.apply(this,arguments);var p=this._properties.get();var v;v={"fill":p.label.style.color,"font-family":p.label.style.fontFamily,"font-size":p.label.style.fontSize,"font-weight":p.label.style.fontWeight,"font-style":p.label.style.fontStyle};if(v){if(v['fill']){this._labelFont.color=v['fill'];}if(v['font-family']){this._labelFont.fontfamily=v['font-family'];}if(v['font-size']){this._labelFont.fontsize=v['font-size'];}if(v['font-weight']){this._labelFont.fontweight=v['font-weight'];}if(v['font-style']){this._labelFont.fontstyle=v['font-style'];}}};S.prototype._getLabelValue=function(v){v=(v===null)?l.get('IDS_ISNOVALUE'):v;var p=this._properties.get();var m=null;if(this._bindingFields&&this._bindingFields.length){m=this._bindingFields[0].formatString;if(a.isArray(m)){m=m[0];}}var u=p.unitFormatType;var b={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.SIZELEGEND)};v=U.format(v,p.formatString||m,u,b);return v;};S.prototype.getZonePrefix=function(){return'sizeLegend';};S.prototype.destroy=function(){S.superclass.destroy.call(this);this._labelFont=null;this._layoutInfo=null;this._labels=null;this._scale=null;this._semanticStyle=null;this._labelHeight=null;this._parent=null;this._type=null;};return S;});define('sap/viz/chart/scales/TimeScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/ValueScale','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils'],function(o,V,T,D){var a=function(d,r){a.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.TimeScale";};o.extend(a,V);a.prototype.scale=function(b){this._ensureScaled();var v=b;if(v){if(T.isArray(v)){v=v[0];}v=D.getDimensionParsedValue(v);}if(this._domain[0]===this._domain[1]&&v!==this._domain[0]){return v<this._domain[0]?-Infinity:Infinity;}return this._scale(v);};a.prototype.normalizeValue=function(v){return new Date(v).getTime();};a.prototype.destroy=function(){a.superclass.destroy.apply(this,arguments);};return a;});define('sap/viz/chart/components/renderers/ValueBasedColorRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NameColorUtils",'sap/viz/framework/common/util/TypeUtils'],function(C,N,T){var r={};r.cleanVBCAxisLines=function(s){var l=C.CSS.CLASS.AXIS.VBCLINE;s.selectAll("."+l).remove();};r.drawVBCAxis=function(s,v,a,c,p,e){var l=C.CSS.CLASS.AXIS.VBCLINE;var S=3;var b=p.get('axisLine.size');if(!T.isNumber(b)){b=1;}var y=b/2+S/2;var d=e.register({fillColor:N.convertColor(c)});var f=s.append("line").style("pointer-events","none").attr("class",l).attr("shape-rendering","crispEdges");f.attr("stroke",d).attr("stroke-width",S).attr("x1",v).attr("y1",y).attr("x2",a).attr("y2",y);return f;};return r;});define('sap/viz/chart/components/axis/renderer/TimeBodyRenderer',["sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/FiscalUtil","sap/viz/chart/components/util/DataPointUtils"],function(C,T,c,S,D,e,P,N,f,F,g){var L=11;var A=C.CSS.CLASS.AXIS;var h='v-label-interaction';var j=5;var k=10;var H=2;var r={minTicksCount:1};r.drawTicks=function(s,t,w,a,p,b,m,n,o){var q=A.PERIMETER+" "+A.TICK;var u=n.register({fillColor:m||b.get('color')});var v=b.get('axisLine.size');var i=0;var x=t.length;var y=[];var z=[];var B=[];var E=[];var G;var I;var J=t.offset||0;switch(p){case C.POSITION.LEFT:for(;i<x;++i){G=t[i];I=G.major?k:j;y[i]=w;z[i]=G.position-J;B[i]=w-j;E[i]=G.position-J;}break;case C.POSITION.RIGHT:for(;i<x;++i){G=t[i];I=G.major?k:j;y[i]=0;z[i]=G.position-J;B[i]=I;E[i]=G.position-J;}break;case C.POSITION.TOP:for(;i<x;++i){G=t[i];I=G.major?k:j;y[i]=G.position-J;z[i]=a;B[i]=G.position-J;E[i]=a-I;}break;case C.POSITION.BOTTOM:for(;i<x;++i){G=t[i];I=G.major?k:j;y[i]=G.position-J;z[i]=0;B[i]=G.position-J;E[i]=I;}break;}var K=s.selectAll("."+A.TICK).data(t);K.enter().append("line").attr("class",q).attr("stroke-width",v).attr("shape-rendering","crispEdges");K.exit().remove();K.each(function(d,i){this.setAttribute("x1",y[i]);this.setAttribute("y1",z[i]);this.setAttribute("x2",B[i]);this.setAttribute("y2",E[i]);this.setAttribute("stroke",u);});};r.drawLabels=function(t,m,w,n,p,o,q,s,u,v){var y=F.hasFiscalLevel(o&&o.origin);var z=t._labelGroupNode;var B=t._data;var E=A.LABEL+" "+A.MORPHABLE_LABEL+" "+A.LABEL_BACKWORD;var G=o.get('label.style');var I=T.getTextBaselineOffset(G);var J=q.register({fillColor:G.color});var K=q.register({fillColor:G.parentColor});var M=G.fontSize;var O=G.fontWeight;var Q=G.fontFamily;var R=G.fontStyle;var U=null;var V=t.runtime().envManager();if(V){U=V.textAnchor();}z.selectAll('.'+h).remove();z.selectAll('.v-label-upperLevel').remove();var W=z.selectAll("."+A.LABEL).data(m);W.enter().append("g").each(function(){this.setAttribute("class",E);this.setAttribute("fill",J);this.setAttribute("font-size",M);this.setAttribute("font-weight",O);this.setAttribute("font-family",Q);this.setAttribute("font-style",R);this.setAttribute('pointer-events','none');this.setAttribute("text-anchor",U);});W.exit().remove();var X=p===C.POSITION.TOP;var Y=m.offset||0;var Z=t.isForceCategoryForMinLevel(v,u);W.each(function(d){var $=d.layers;var _=$.length;var a1=d3.select(this);if(_){var b1=z.insert("g",'.'+A.LABEL).attr("class",h);var c1=b1.append('g').attr("class",A.LABEL_SELECTION_TIMEAXIS).node();var d1,e1=$[0];var f1=(y&&u===1&&m.isOverlappedLabelHide&&$.length===1);if(u===1&&e1.text&&!f1){d1=S.create("rect");d1.setAttribute("class",A.BACKGROUND_RECT);d1.setAttribute("fill","transparent");c1.appendChild(d1);}var g1=this.querySelector(".v-label-baseLevel");if(!g1){g1=S.create("text");g1.setAttribute("class","v-label-baseLevel");this.appendChild(g1);}c1.setAttribute("timelabel-id",e1.id);g.setContext(c1,e1);var h1=X?n-L-I:L+e1.height-I;l(g1,e1,K);g1.setAttribute("x",e1.left-Y);g1.setAttribute("y",h1);g1.setAttribute("timelabel-id",e1.id);var x,i1;if(u===1&&e1.text&&!f1){if(s==='CONTINUOUS'||Z){x=e1.left-H-Y;i1=e1.width+2*H;var j1=T.fastMeasure(e1.text,M,O,Q);d1.setAttribute("x",x);d1.setAttribute("y",h1+j1.y-H);d1.setAttribute("width",i1);d1.setAttribute("height",e1.height+2*H);}else if(e1.hasOwnProperty('rectX')){x=e1.rectX-Y;d1.setAttribute("x",x);d1.setAttribute("y",1);i1=e1.rectWidth;if(x>w){i1=0;}else if(x+i1>w){i1=w-x;}d1.setAttribute("width",i1);d1.setAttribute("height",h1+H);}}var k1=b1.selectAll('.'+A.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL).data($.slice(1),function(d){return d.level;});k1.enter().insert("g",'.'+A.LABEL_SELECTION_TIMEAXIS).each(function(d){this.setAttribute("class",A.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL);}).sort(function(a,b){if(a.level&&b.level){return f.levelComparator.bind(t)(b.level,a.level);}return false;});k1.exit().remove();var l1=this;k1.each(function(d,i){this.setAttribute("timelabel-id",d.id);e1=$[i+1];h1=X?n-L-I:L+d.height-I;var a=d.height*(i+1)*(X?-1:1);var b=this.querySelector("."+A.BACKGROUND_RECT);if(e1.hasOwnProperty('rectX')){b=S.create("rect");b.setAttribute("class",A.BACKGROUND_RECT);b.setAttribute("fill","transparent");this.appendChild(b);x=e1.rectX-Y;i1=e1.rectWidth?e1.rectWidth:e1.width+H;if(x<0){i1=Math.max(0,i1+x);x=-1;}if(x>w){i1=0;}else if(x+i1>w){i1=w-x;}b.setAttribute("x",x);b.setAttribute("y",(h1+d.height*i*(X?-1:1))+3);b.setAttribute("width",i1);b.setAttribute("height",d.height);}var m1=l1.querySelector(".v-label-upperLevel:nth-child("+(i+2)+")");if(!m1){m1=S.create("text");m1.setAttribute("class","v-label-upperLevel");l1.appendChild(m1);}l(m1,d,K);m1.setAttribute("timelabel-id",e1.id);m1.setAttribute("fill",K);m1.setAttribute("x",d.left-Y);m1.setAttribute("y",h1+a);});}else{a1.selectAll(".v-label-baseLevel").remove();a1.selectAll(".v-label-upperLevel").remove();}});};function l(t,a,b){var d=a.text;var m=a.format;var n="{{";var o="}}";if(!d){t.textContent='';return;}D.empty(t);if(m.indexOf(n)<0||m.indexOf(o)<0){t.textContent=d;return;}var p=0;var q;var s;var u=0;var v=[];var w=[];var x=0;while(p<d.length){q=d.indexOf(n,p);s=d.indexOf(o,p);if(q<0&&s<0){v.push(d.slice(x));w.push(0);break;}if(q>=0&&(q<s||s<0)){if(u===0){v.push(d.slice(x,q));w.push(0);x=q+n.length;}p=q+n.length;++u;}else{if(u>0){--u;if(u===0){v.push(d.slice(x,s));w.push(1);x=s+o.length;}}p=s+o.length;}}v.forEach(function(y,i){var z=S.create('tspan');z.textContent=y;if(w[i]){z.setAttribute('fill',b);}t.appendChild(z);});}return r;});define('sap/viz/chart/components/axis/sub/TimeAxisCommon',["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/format/FormatManager',"sap/viz/framework/common/util/ObjectUtils",],function(T,a,N,b,F,O){var K="KEEP_FIRST";var c="KEEP_LONGER";var f=Math.floor;var e=Math.ceil;var m=Math.max;var g=Math.min;var h=1;var P=1<<2;var k='formatString';var V='visible';var L='row';var S=4;var l=["day","second"];var B={day:"month",second:"minute"};var n=T.levelComparator;function o(d,i){return function(j,v,r1,s1,t1,u1,v1,w1){if(v===r1){return[v];}var x1=this.hasOwnProperty('align')?this.align:true;var y1=s1&&S;return T[d](v,r1,this.step,y1,x1,t1,u1,j,v1,i,w1);};}function s(d){var i=new Date(d.start);var j=new Date(d.end);if(d.utc){return i.getUTCFullYear()===j.getUTCFullYear();}return i.getFullYear()===j.getFullYear();}function p(d){var i=new Date(d.start);var j=new Date(d.end);if(d.utc){return i.getUTCFullYear()===j.getUTCFullYear()&&i.getUTCMonth()===j.getUTCMonth();}return i.getFullYear()===j.getFullYear()&&i.getMonth()===j.getMonth();}function q(d){return function(i){return!d(i);};}var Y="YearMonthDay";var r="YearQuarter";var t="YearMonth";var u={};u[Y]=["day","year"];u[r]=["quarter","year"];u[t]=["month","year"];function w(d,v,i,j,r1,s1,t1){s1=s1||r1.scale(v);var u1=true;if(l.indexOf(d)===-1||!b.isExist(i)){if(A(s1,r1)){u1=false;}}else{t1=t1||r1.scale(i);var v1=new Date(v);var w1=T.getTimeTable(v1);var x1=w1[d];var y1=B[d];var z1=r1.timeBodyCtx.levelDict[y1].same(v1,i,j,r1.weekConfig);if((d==="day"&&x1===1)||(x1===0)){u1=false;}else if(!z1){u1=false;}else if(!A(t1,r1)&&A(s1,r1)){u1=false;}}return u1;}var x={'hourminutesecond':{},'hourminute':{},'monthday':{},'yearmonthday':{},'yearquarter':{},'yearmonth':{}};var y=function(d,i){d.forEach(function(j){j.density=z(j.name,j.step,i);j.values=j.values||i[j.name].values;});};function z(d,i,j){var v=T.ONE_YEAR*2/(i*j[d].period);return v>=1?f(v):v;}function A(d,i){if(!b.isExist(d)){return false;}if(!i||!i.scale){return true;}var v=i.scale.invert(d);return C(v,i);}function C(v,d){if(!b.isExist(v)){return false;}if(!d||!d.limit){return true;}if(d.limit.length===4){return d.limit[2]<=v&&v<=d.limit[3];}else if(d.limit.length===2){return d.limit[0]<=v&&v<=d.limit[1];}return false;}function D(d,i,j,v){var r1=j[d]&&j[d].hasOwnProperty(V)?j[d][V]:v.timeBodyCtx.levelDict[d].visible;if(b.isFunction(r1)){return r1(i.slice());}return r1;}function E(d,i){if(!d){return false;}for(var j=0;j<d.layers.length;j++){var v=d.layers[j];if(!A(v.left)){return false;}}return true;}function G(v,d,i,j){var r1={};var s1=O.extend(true,[],T.normalizeLevels(d.levels,j));if(i){i=T.normalizeLevelName(i);if(i&&s1.indexOf(i)===-1){s1.push(i);s1.sort(n.bind(j));}}var t1=[];var u1;if(s1.indexOf("second")>=0){u1=s1.indexOf("minute");if(u1>=0){s1.splice(u1,1);}u1=s1.indexOf("hour");if(u1>=0){s1.splice(u1,1);}}else if(s1.indexOf("minute")>=0){u1=s1.indexOf("hour");if(u1>=0){s1.splice(u1,1);}}if(s1.indexOf("day")>=0){u1=s1.indexOf("month");if(u1>=0){s1.splice(u1,1);}}if(['second','minute','hour'].indexOf(s1[0])>=0){t1[0]=s1[0];s1.splice(0,1);}var v1;var w1;var x1=I(null,null);var y1=[];var z1=[];var A1;if(t1.length>0){t1.forEach(function(lv){v1=H(v,lv,t1,null);w1=J(null,true);A1=M(v1,x1,d,w1);z1.push(A1.text);});}if(s1.length>0){var B1=_(s1);A1=null;if(B1.length>0){v1=H(v,B1[0].pattern,s1,null);w1=J(true,true);A1=M(v1,x1,d,w1);}if(!A1){w1=J(false,true);s1.forEach(function(lv){v1=H(v,lv,s1,null);A1=M(v1,x1,d,w1);y1.push(A1.text);});}else{y1.push(A1.text);}}A1=[Q(y1,d),Q(z1,d)];return A1;}function H(v,d,i,j){return{value:v,levelName:d,labelLevels:i,position:j,};}function I(v,d){return{prevValue:v,prevPosition:d};}function J(i,d){return{isCombination:i,isForcedFullFormat:d};}function M(i,j,v,r1){var s1=i.value;var t1=i.levelName;var u1=i.labelLevels;var v1=i.position;var w1=j&&j.prevValue;var x1=j&&j.prevPosition;var y1=r1&&r1.isCombination;var z1=r1&&r1.isForcedFullFormat;var A1=v.config;var B1=v.combinationConfig;var C1=v.utc;var d=new Date(s1);if(C1){d.setUTCMilliseconds(0);}else{d.setMilliseconds(0);}var D1=A1&&A1[t1]?A1[t1][k]:null;var E1=v.timeBodyCtx.levelDict[t1]&&v.timeBodyCtx.levelDict[t1].format;var F1;var G1;if([t,r,Y].indexOf(t1)>-1){var H1=String(t1).toLowerCase();E1=x[H1]&&x[H1].format;if(t1===t&&B1.yearmonth){D1=B1.yearmonth[k];}else if(t1===r&&B1.yearquarter){D1=B1.yearquarter[k];}else if(t1===Y&&B1.yearmonthday){D1=B1.yearmonthday[k];}if(!E1&&!D1){F1=F.format(d,t1,C1);if(F1===F.DEFAULT_FORMATTED_VALUE){return undefined;}}}if(t1==="day"&&B1.monthday){if(!w("day",s1,w1,C1,v,v1,x1)){if(!y1){D1=B1.monthday[k];}}}else if(t1==="minute"&&B1.hourminute){D1=B1.hourminute[k];}else if(t1==="second"&&B1.hourminutesecond){if(!w("second",s1,w1,C1,v,v1,x1)){D1=B1.hourminutesecond[k];}}if(b.isFunction(D1)){G1=D1(s1,w1,C1,u1.slice());if(G1){F1={format:D1,text:G1};}}else if(b.isString(D1)){G1=F.format(d,D1,C1);if(G1){if(G1 instanceof Date){G1=D1;}F1={format:D1,text:G1};}}if(!F1){if(b.isString(E1)){G1=F.format(d,E1,C1);if(G1 instanceof Date){G1=E1;}F1={format:E1,text:G1};}else if(b.isFunction(E1)){var I1=E1(s1,w1,C1,u1,v,v1,x1,z1);if(b.isPlainObject(I1)){F1=I1;}else{F1={format:E1,text:I1};}}}if(b.isString(F1)){F1={text:F1};}F1.text=b.isNumber(F1.text)?F1.text.toString():F1.text;return F1;}function Q(d,i){return d.join(i.levelLabelSeparator);}function R(d,i){d=d.replace(/\{\{|\}\}/g,'');var j=a.canvasMeasure(d,i.fontSize,i.fontWeight,i.fontFamily);return N.preciseObject(j);}function U(d,i){var j=a1.apply(null,arguments);b1(j,i);return j;}function W(d,i,j,v){var r1=a1(d,i,j,v,undefined,true);b1(r1,i);return r1;}function X(d,i,j,v){var r1=i.labels;var s1=i.labels.offset;var t1;var u1;var v1;var w1=true;var x1=Infinity;var y1=Infinity;var z1=Infinity;var A1=Infinity;for(v1=r1.length-1;v1>=0;v1--){if(r1[v1].isFirstData){t1=h1(r1[v1],r1[v1+1],j.labelMargin);if(t1){x1=v1+1;}u1=h1(r1[v1],r1[v1-1],j.labelMargin);if(u1){y1=v1-1;}}else if(r1[v1].isLastData){t1=h1(r1[v1],r1[v1+1],j.labelMargin);if(t1){z1=v1+1;}u1=h1(r1[v1],r1[v1-1],j.labelMargin);if(u1){A1=v1-1;}}}w1=false;if(z1!==Infinity){r1.splice(z1,1);w1=true;}if(A1!==Infinity){r1.splice(A1,1);w1=true;}if(x1!==Infinity&&(x1<Math.min(A1,z1))){r1.splice(x1,1);w1=true;}if(y1!==Infinity&&(y1<Math.min(A1,z1))){r1.splice(y1,1);w1=true;}if(w1||v){var B1=[];for(v1=0;v1<r1.length;v1++){B1.push(r1[v1].value);}r1=W(d,j,0,B1);if(r1.length>=i.labels.length){w1=false;}i.labels=r1;i.labels.offset=s1;}return w1;}function Z(d,i){var j,v;var r1=i.levels.indexOf(d.name);if(r1>=0){j=i.levels.slice(r1);v=i.levels;}else{j=[d.name].concat(i.levels).sort(n.bind(i.timeBodyCtx));v=j.slice();j=j.slice(j.indexOf(d.name));}var s1=i.config;var t1=[[]];var u1;for(var ii=0;ii<j.length;++ii){var w1=j[ii];if(D(w1,j,s1,i)){var x1=f(s1[w1]&&s1[w1][L]);if(x1>=1){x1=x1>i.maxLayerCount?i.maxLayerCount:x1;}else if(ii===0){x1=1;}else{x1=2;}u1=t1[x1-1]=t1[x1-1]||[];u1.push(w1);}}if(!t1[0].length){t1=t1.slice(1);}return[j,v,t1];}function $(v,d,i,j,r1){var s1=v;if(d==="week"&&n.bind(r1.timeBodyCtx)(i,"week")>0&&T.getWeek(v,j,r1.weekConfig)===1){s1=v+T.ONE_WEEK;}return s1;}function _(d){var i=[];if(u){var v=Object.keys(u);v.forEach(function(r1){var s1={startIdx:-1,endIdx:-1,pattern:""};var t1=u[r1];var u1=0;var v1=t1.length;var w1=false;var x1=-1;for(var j=0;j<d.length;j++){if(d[j]!==t1[u1]){if(w1){break;}continue;}else{w1=true;if(x1<0){x1=j;}u1++;if(u1===v1){s1.startIdx=x1;s1.endIdx=x1+v1-1;s1.pattern=r1;i.push(s1);break;}}}});}return i;}function a1(d,i,j,v,r1,s1){if(v&&r1&&v.length!==r1.length){return null;}var t1=!!r1;r1=r1||[];var u1=b.isSet(j,h);var v1=b.isSet(j,P)?i.intervalPivot:null;v=v||d.values(i.utc,i.start,i.end,u1,i.limit,v1,i.categoryLook,i.weekConfig);var w1=-1;var x1=-1;var y1;if(s1){y1=n1(v,d.name,i);w1=y1.firstDataIndex;x1=y1.lastDataIndex;}var ii,jj,kk;var C1,D1,E1,F1;var G1,H1,I1;var J1=i.utc;var K1=i.weekConfig;var L1=Z(d,i);var M1=L1[0];var N1=L1[1];var O1=L1[2];var P1=d.name;for(ii=0;ii<v.length;++ii){if(C(v[ii],i)){if(ii>1){v=v.slice(ii-1);if(s1){w1=((w1>=(ii-1))?(w1-(ii-1)):-1);x1=((x1>=(ii-1))?(x1-(ii-1)):-1);}}break;}}var Q1=[];for(ii=0;ii<v.length;++ii){C1=v[ii];D1=v[ii-1];E1={value:C1,layers:[]};var R1=r1[ii];var S1=r1[ii-1];for(jj=0;jj<O1.length;++jj){G1=O1[jj]||[];var T1=[];var U1=[];var V1=null;for(kk=0;kk<G1.length;++kk){H1=G1[kk];if(!V1){V1=H1;}else{if(T.levelComparator.bind(i.timeBodyCtx)(H1,V1)<0){V1=H1;}}var W1;I1=$(C1,P1,H1,J1,i);var X1=H(I1,H1,M1,R1);var Y1=I(D1,S1);var Z1=J(G1.length>1&&G1.indexOf("day")>-1,false);W1=M(X1,Y1,i,Z1);T1.push(W1.text);U1.push(b.isFunction(W1.format)?'':W1.format);}E1.layers[jj]={formats:U1,texts:T1,levels:G1};E1.layers[jj].level=V1;}if(s1){if(ii===w1){E1.isFirstData=true;}else if(ii===x1){E1.isLastData=true;}}Q1.push(E1);}if(!i.firstLastTicksOnly&&Q1.length>1){var $1={};var _1={};for(ii=1;ii<v.length;++ii){C1=v[ii];D1=v[ii-1];E1=Q1[ii];F1=Q1[ii-1];for(jj=1;jj<O1.length;++jj){var a2=E1.layers[jj];var b2=F1.layers[jj];G1=O1[jj]||[];for(kk=0;kk<G1.length;++kk){H1=G1[kk];var c2=i.timeBodyCtx.levelDict[G1[kk]].same;var d2=a2.texts[kk];var e2=b2.texts[kk];var f2=$1[H1];var g2=_1[H1];I1=$(C1,P1,H1,J1,i);if(t1&&ii===1&&!A(r1[0],i)){Q1[0].layers[jj].texts[kk]='';if(A(r1[1],i)){$1[H1]=d2;_1[H1]=I1;}}else{if((d2===e2||d2===f2)||(c2&&(c2(I1,D1,J1,K1)||c2(g2,I1,J1,K1)))){E1.layers[jj].texts[kk]='';}else{$1[H1]=d2;_1[H1]=I1;}}}}}}Q1.forEach(function(E1,z1){for(ii=0;ii<E1.layers.length;ii++){E1.layers[ii].texts=E1.layers[ii].texts.filter(function(i2){return i2.length>0;});E1.layers[ii].formats=E1.layers[ii].formats.filter(function(i2){return i2.length>0;});E1.layers[ii].text=Q(E1.layers[ii].texts,i)||'';E1.layers[ii].format=Q(E1.layers[ii].formats,i)||'';var I1=$(E1.value,P1,H1,J1,i);var D1;if(z1>0){D1=Q1[z1-1].value;}var A1=_(E1.layers[ii].levels);if(A1.length>0){var X1=H(I1,A1[0].pattern,M1,R1);var Y1=I(D1,null);var Z1=J(true,false);var B1=M(X1,Y1,i,Z1);if(E1.layers[ii].texts.length>0&&E1.layers[ii].texts.indexOf('')<0&&B1&&B1.text){var h2=E1.layers[ii].levels.indexOf("day");var ff=E1.layers[ii].formats[h2];if(A1[0].pattern!==Y&&E1.layers[ii].levels.length===2){E1.layers[ii].text=B1.text;}if(A1[0].pattern===Y){if((ff&&ff.search(/M|m/)>-1&&ff.search(/D|d/)>-1)||E1.layers[ii].levels.length===E1.layers[ii].texts.length){E1.layers[ii].text=B1.text;}}}}if(E1.layers[ii].text){var j2=R(E1.layers[ii].text,i.style);E1.layers[ii].height=j2.height;E1.layers[ii].width=j2.width;}else{E1.layers[ii].height=0;E1.layers[ii].width=0;}E1.layers[ii].left=E1.layers[ii].right=E1.layers[ii].center=0.0;delete(E1.layers[ii].formats);delete(E1.layers[ii].texts);}});Q1.allLevels=N1;Q1.levels=M1;Q1.layerCount=O1.length;return Q1;}function b1(d,i,j,v){var ii,jj,r1,s1,t1;var u1=i.width;var v1=-1;var w1=Infinity;var x1=!j;var y1=-1;var z1=-1;for(ii=0;ii<d.length;ii++){r1=d[ii];if(v){if(r1.isFirstData){y1=ii;}else if(r1.isLastData){z1=ii;}}r1.center=i.scale(r1.value);for(jj=r1.layers.length-1;jj>=0;jj--){s1=r1.layers[jj];if(s1.text){s1.left=r1.center-s1.width/2;if(x1&&s1.left<0){s1.left=0;v1=Math.max(v1,ii);}s1.right=s1.left+s1.width;if(x1&&s1.right>u1&&u1>=s1.width){w1=Math.min(ii,w1);s1.right=u1;s1.left=u1-s1.width;}}else{s1.left=s1.right=r1.center;}}}if(v){if(v1>y1&&y1!==-1){v1=y1;}if(w1<z1&&z1!==-1){w1=z1;}}if(v1>0){for(jj=1;jj<d[v1].layers.length;jj++){if(d[v1].layers[jj].text===""){d[v1].layers[jj]=O.clone(d[v1-1].layers[jj]);}}d.splice(0,v1);}if(w1!==Infinity){d.splice(w1+1,d.length);}}function c1(d,i){if(d.length<2){return;}e1(d[0],d[1],K,i);var j=d[d.length-1];var v=d[d.length-2];e1(j,v,K,i);}var d1=function(d){var i=(d.left+d.right)/2;d.text="";d.width=0;d.left=i;d.right=i;d.isEmpty=true;};function e1(d,i,j,v){for(var ii=0;ii<d.layers.length;++ii){var r1=d.layers[ii];var s1=i.layers[ii];if(!s1||!r1){continue;}var t1=(s1.left+s1.right)/2;if(!A(t1,v)){continue;}var u1=1.0;if(g1(s1,r1,u1)>0){if(v.enableForceToShowFisrtLast){if(d.isFirstData||d.isLastData){d1(s1);}else{d1(r1);}}else{if(j===K){d1(s1);}else{if(r1.text.length>=s1.text.length){d1(s1);}else{d1(r1);}}}}}}function f1(d){var i=d.labels;var j=d.context;if(i.length<2){return;}var v;for(v=0;v<i.length-1;v++){var r1=i[v];for(var jj=v+1;jj<i.length&&jj<v+j1;++jj){var t1=i[jj];if(v===0){e1(r1,t1,K,j);}else if(jj===i.length-1){e1(t1,r1,K,j);}else{e1(t1,r1,c,j);}}}var u1=0.1;i.forEach(function(s1){s1.layers.forEach(function(A1){if(Math.abs(A1.right-A1.left)<u1){d1(A1);i.isOverlappedLabelHide=true;}});});if(d.displayMode==='CONTINUOUS'&&d.labels.length>0&&d.ticks.length===0&&d.originalTicks&&d.originalTicks.length>0){var v1=[];var w1;var x1;var y1;for(w1=0;w1<i.length;w1++){var z1=true;for(x1=0;x1<i[w1].layers.length;x1++){if(!i[w1].layers[x1].isEmpty){z1=false;break;}}if(z1){v1.push(i[w1].value);}}if(v1.length>0&&v1.length<d.originalTicks.length){for(y1=0;y1<d.originalTicks.length;y1++){if(v1.indexOf(d.originalTicks[y1].value)<0){d.originalTicks[y1].major=true;d.ticks.push(d.originalTicks[y1]);}}}}}function g1(d,i,j){if(!d||!i){return 0;}if((d.left+d.right)/2<(i.left+i.right)/2){var v=d;d=i;i=v;}j=j||0.0;if(d.width>0&&d.text.length>0&&i.width>0&&i.text.length){var r1=d.left-i.right-j;if(r1<0){return-r1;}}return 0;}function h1(d,i,j){if(!d||!i){return 0;}var v;for(var ii=0;ii<d.layers.length;++ii){var r1=d.layers[ii];var s1=i.layers[ii];v=g1(r1,s1,j);if(v>0){break;}}return v;}var i1=2;var j1=4;function k1(d,i,j){var v=j?[0,-1]:0;if(d.length<2){return v;}for(var ii=i1;ii<=j1;ii++){var r1=ii;var s1=r1-1;var t1=s1;for(var jj=t1;jj<d.length;++jj){var v1=h1(d[jj],d[jj-s1],i);if(v1>0){v=j?[v1,jj]:v1;return v;}}}return v;}function l1(d,i){return d.value-i.value;}function m1(v,d,i){var j=T.truncate(v,d,i.utc,i.timeBodyCtx._properties.origin);return(j===v);}function n1(v,d,i){var r1={};r1.firstDataIndex=-1;r1.lastDataIndex=-1;var s1;if(i.dataBound&&i.dataBound.length>=2){s1=i.dataBound.slice();}else{s1=i.domain.slice();}s1.sort();var t1;var u1=[];if(i.isContinuous){for(t1=0;t1<s1.length;t1++){u1.push(m1(s1[t1],d,i));}}for(t1=0;t1<s1.length;t1++){var v1=v.indexOf(s1[t1]);if(v1>=0&&t1===0){r1.firstDataIndex=v1;r1.firstDataAdded=false;continue;}if(v1>=0&&t1===1){r1.lastDataIndex=v1;r1.lastDataAdded=false;continue;}var j;for(j=0;j<v.length;j++){if(v[j]>s1[t1]&&(!i.isContinuous||u1[t1])){v.splice(j,0,s1[t1]);if(r1.firstDataIndex===-1){r1.firstDataIndex=j;r1.firstDataAdded=true;}else{r1.lastDataIndex=j;r1.lastDataAdded=true;}break;}}if(r1.firstDataIndex<0&&t1===0&&(!i.isContinuous||u1[t1])){v.push(s1[t1]);r1.firstDataIndex=v.length-1;r1.firstDataAdded=true;}if(r1.lastDataIndex<0&&t1===1&&(!i.isContinuous||u1[t1])){v.push(s1[t1]);r1.lastDataIndex=v.length-1;r1.lastDataAdded=true;}}return r1;}var o1=function(d,i,v){var j=v[i-1];var r1=v[i+1];var s1;var t1;if(b.isExist(j)){s1=j;t1=i-1;if(b.isExist(r1)){if((v[i]-j)>(r1-v[i])){s1=r1;t1=i+1;}}}else if(b.isExist(r1)){s1=r1;t1=i+1;}if(s1){if(d.indexOf(s1)<0){v.splice(t1,1);}}return t1;};function p1(d,r1,s1,t1){var u1=[];if(d.tickLevel){var v1=d.labels;if(s1&&t1){v1=t1;}var w1=d.tickLevel.values(r1.utc,r1.start,r1.end,false,r1.limit,undefined,r1.categoryLook,r1.weekConfig);if(s1){var x1=n1(w1,d.tickLevel.name,r1);if((x1.firstDataAdded||x1.lastDataAdded)&&w1.length>1){var y1=[];var z1;for(z1=0;z1<v1.length;z1++){y1.push(v1[z1].value);}var A1;if(x1.lastDataAdded&&w1.length>1){A1=o1(y1,x1.lastDataIndex,w1);}if(x1.firstDataAdded&&w1.length>1){if(A1<=x1.firstDataIndex){x1.firstDataIndex--;}o1(y1,x1.firstDataIndex,w1);}if(!d.hasMajor){var B1;for(B1=(w1.length-1);B1>=0;B1--){if(y1.indexOf(w1[B1])<0){w1.splice(B1,1);}}}}}for(var i=0,j=0;i<w1.length;++i){var v=w1[i];var C1=j<v1.length&&v1[j];if(s1&&C1.value<v){j++;C1=j<v1.length&&v1[j];}var D1=C1&&d.hasMajor&&C1.value===v;u1.push({value:v,position:D1?C1.center:r1.scale(v),major:D1});if(D1){++j;}}}u1.sort(l1);return u1;}function q1(d,r1){var s1=[];if(d){var t1=d.values(r1.utc,r1.start,r1.end,false,r1.limit,undefined,r1.categoryLook);for(var i=0,j=0;i<t1.length;++i){var v=t1[i];s1.push({value:v,position:r1.scale(v),major:false});}}s1.sort(l1);return s1;}return{combinationDict:x,isPositionVisible:A,isValueVisible:C,isLabelVisible:E,getTicks:p1,getIndependentTicks:q1,getDensity:z,preventAnyOverlapping:f1,getLabelsAndSetLayout:U,getLabelsWithFirstLastDataAndSetLayout:W,resetAndLayoutLabelsWithFirstLastData:X,getLabels:a1,layoutLabels:b1,layoutFirstAndLastLabel:c1,getOverlappedPixelNum:k1,getTwoLayersOverlappedNum:g1,getTwoLabelsOverlappedNum:h1,getTimeValueFormat:G,getValuesFunc:o,shouldUseShortFormat:w,initLevelStoreValues:y,notCheck:q,sameMonth:p,sameYear:s,getPrevInfo:I,getCurrentInfo:H,TRIAL_MODE:h,PIVOT_MODE:P,FORMAT_CONFIG_FIELD:k};});define('sap/viz/chart/components/axis/sub/TimeAxisBodyTransformer',["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/ArrayUtils',"sap/viz/chart/components/axis/sub/TimeAxisCommon",],function(T,c,N,d,O,A,e){var f=Math.floor;var g=Math.ceil;var m=Math.max;var h=Math.min;var j=e.getTicks;var k=e.getLabels;var l=T.levelComparator;var n=e.getLabelsAndSetLayout;var o=e.getLabelsWithFirstLastDataAndSetLayout;var r=e.resetAndLayoutLabelsWithFirstLastData;var p=e.layoutFirstAndLastLabel;var q=e.getOverlappedPixelNum;function s(a){var b=a.levelStore.filter(function(i){return!i.continuousOnly&&(l.bind(a)(i.name,a.minCategoryLevel)>=0);});b.sort(Q.bind(a));return b;}var R={ILLEGAL_LEVEL:"ILLEGAL_LEVEL",NO_TICKS:"NO_TICKS",NO_LABELS:"NO_LABELS",WRONG_TICK_STEP:"WRONG_TICK_STEP",LABEL_TOO_BIG:"LABEL_TOO_BIG",LABEL_TOO_SMALL:"LABEL_TOO_SMALL",LABEL_OVERLAPPED:"LABEL_OVERLAPPED",GOOD:"GOOD"};function t(a,b){if(!a||!b.forceToShowFirstLastData){return false;}var i=l.bind(b.timeBodyCtx);b.levels.sort(i);var v=b.levels[0];var U=a.name;return i(U,v)===0;}function u(a,b){var v=a;var U=v.labels.offset;var V=v.labelLevel;var X=false;if(V&&V.name){X=b.timeBodyCtx.isForceCategoryForMinLevel(V.name,V.step,b.levels);}if(!X&&v.displayMode==="CONTINUOUS"&&t(v.labelLevel,b)){b.isContinuous=true;var Y=o(v.labelLevel,b);v.labels=Y;var Z=true;var $=v.labels.length;var i;for(i=0;((Z&&v.labels.length>1)&&(i<$));i++){Z=r(v.labelLevel,v,b);}var _=j(v.levelResult,b,true,v.labels);v.ticks=_;v.labels.offset=U;v.ticks.offset=U;delete b.isContinuous;}}function w(a,b,i){var v=a;if(v.ticks.length===0||v.labels.length===0||!v.labelLevel){return;}v.displayMode="CONTINUOUS";if(x(v.labelLevel,b)){if(i){b.categoryLook=true;var U=B(v,b);var V=D(b);var X=H(v.labelLevel.id,V);if(U===R.GOOD&&!X){U=R.ILLEGAL_LEVEL;}if(U!==R.GOOD){var Y=L(v,b,U);if(!Y){var Z=v.labels.length;var $=200;if(b.width>$){b.categoryLook=false;return;}else if(U===R.LABEL_OVERLAPPED||U===R.LABEL_TOO_BIG||U===R.ILLEGAL_LEVEL){if(Z>2){var _=v.labels[0];var a1=v.labels[Z-1];v.labels.splice(0,Z);v.labels.push(_);v.labels.push(a1);}P(v,b);return;}else if(U===R.WRONG_TICK_STEP){v.labels.splice(1,Z);P(v,b);return;}else{b.categoryLook=false;return;}}}else{var b1=a.labelLevel;V=D(b,b1);K(b1,b,V,a);}}P(v,b);if(!i&&t(v.labelLevel,b)){J(v.labelLevel,v,b);}}}function x(a,b){if(!a){return false;}var i=l.bind(b.timeBodyCtx);b.levels.sort(i);var v=b.levels[0];var U=a.name;if(i(U,b.timeBodyCtx.minCategoryLevel)>=0&&i(U,v)>0){if(!(U===b.timeBodyCtx.maxCategoryLevel.name&&a.step>b.timeBodyCtx.maxCategoryLevel.step)){return true;}}return false;}var C=400;var y=4;var z=0.1;function B(a,b){var i=a.ticks;var v=a.labels;var U=a.labelLevel;var V=a.tickLevel;if(i.length<2){return R.NO_TICKS;}else if(v.length===0){return R.NO_LABELS;}else if(U&&V&&V.step>1){return R.WRONG_TICK_STEP;}var X=Math.abs(i[1].position-i[0].position);var Y,Z;var $=X*y;var _=X*z;for(Y=0;Y<v.length;Y++){Z=v[Y].layers[0];if(Z.width>$){return R.LABEL_TOO_BIG;}else if(Z.width<_&&Z.width+C<X){return R.LABEL_TOO_SMALL;}}var a1=a.labels;if(t(U,b)){var b1;var c1=[];for(b1=0;b1<a.labels.length;b1++){if(!(a.labels[b1].isFirstData||a.labels[b1].isLastData)){c1.push(a.labels[b1]);}}a1=c1;}if(q(a1,b.labelMargin)>0){return R.LABEL_OVERLAPPED;}return R.GOOD;}function D(a){var b=s(a.timeBodyCtx);var i=[];if(a.start===a.end){return b.slice();}var v=l.bind(a.timeBodyCtx);a.levels.sort(v);var U=a.levels;var V=a.intervalUnit;var X,Y,Z;var $=a.levels[0];for(X=0;X<b.length;X++){Z=b[X];if(Z.condition&&!Z.condition(a)){continue;}if(V){if(V===Z.name){i.push(Z);}}else if(U.indexOf(Z.name)>=0&&x(Z,a)){i.push(Z);}}if(!V){if(i.length>=2){for(X=1;X<i.length;X++){if(i[X-1].name==="day"&&v(i[X].name,'quarter')>=0){i=i.concat(I("month",b));}}}if(i.length<=2){T.DEFAULT_LEVELS.forEach(function(Z){var _=false;for(X=0;X<i.length;X++){if(i[X].name===Z){_=true;break;}}if(!_){i=i.concat(I(Z,b));}});}}i.sort(Q.bind(a.timeBodyCtx));return i;}var W=5;function E(a,b,i,v){var U=a.name;var V=l.bind(v);var X=0;for(var Y=0;Y<b.length;Y++){if(V(U,b[Y].name)===0){X=Y;break;}else if(V(U,b[Y].name)>0&&b[Y+1]&&V(U,b[Y+1].name)<=0){X=Y;break;}}var Z;if(i){Z=b.slice(X,X+W);}else{Z=b.slice(m(X-W,0),X);}Z.sort(Q.bind(v));return Z;}function F(a,b,i){return E(a,b,true,i);}function G(a,b,i){return E(a,b,false,i);}function H(i,a){for(var b=0;b<a.length;b++){if(a[b].id===i){return a[b];}}return null;}function I(a,b){return b.filter(function(i){return i.name===a;});}var J=function(a,b,v){var U=true;var V=b.labels.length;var i;var X=false;for(i=0;((U&&b.labels.length>1)&&(i<V));i++){U=r(a,b,v,X);X=false;P(b,v);if(!U){var Y;for(Y=b.labels.length-1;Y>=0;Y--){var Z=false;var $;var _=0;for($=0;$<b.labels[Y].layers.length;$++){if(b.labels[Y].layers[$].isEmpty){_++;break;}}if(_>0){b.labels.splice(Y,1);if(b.labels.length>1){X=true;}U=true;break;}}}}};function K(a,b,i,v,U){var V=false;var X;if(t(a,b)){X=o(a,b);}else{X=n(a,b);}var Y={level:a.name,labelLevel:a,labels:X};var Z=null;var $=a.base;if($){var _=$[0];var a1=H(_,i);if(a1&&!(Y.labelLevel.step>1&&a1.step>1)){Z=a1;}}Z=Z||Y.labelLevel;Y.tickLevel=Z;Y.ticks=e.getIndependentTicks(Z,b);P(Y,b);if(!U&&t(Y.labelLevel,b)){J(a,Y,b);}var b1=B(Y,b);if(b1===R.GOOD){v.level=Y.level;v.labelLevel=Y.labelLevel;v.tickLevel=Y.tickLevel;O.extend(v.labels,Y.labels);O.extend(v.ticks,Y.ticks);v.labels.splice(Y.labels.length);v.ticks.splice(Y.ticks.length);V=true;}return V;}function L(a,b,i){var v=a.labelLevel;var U=D(b,v);var V;var X;if(!i){return false;}else if(i===R.GOOD){return true;}else if(i===R.NO_TICKS||i===R.NO_LABELS||i===R.LABEL_TOO_SMALL){V=G(v,U,b.timeBodyCtx);}else if(i===R.LABEL_TOO_BIG||i===R.LABEL_OVERLAPPED){V=F(v,U,b.timeBodyCtx);}else if(i===R.ILLEGAL_LEVEL){V=F(v,U,b.timeBodyCtx);V=V.concat(G(v,U,b.timeBodyCtx));}else if(i===R.WRONG_TICK_STEP){V=F(v,U,b.timeBodyCtx);V.splice(0,0,v);}else{return false;}if(!V||!V.length){return false;}var Y=false;for(X=0;X<V.length;X++){if(K(V[X],b,U,a,true)){Y=true;break;}}return Y;}function M(v,a){if(!d.isExist(v)||!a||a.length<2){return-1;}var b=function(Y){return Y.value;};var i=A.bisearch(a,v,b);i=Math.min(i,a.length-1);if(a[i].value>v){i--;}var U=[];if(i>=0){var V;if(i===(a.length-1)){V=a[i].position-a[i-1].position;}else{V=a[i+1].position-a[i].position;}var X=a[i].position;U=[X,X+V,i,i+1];}return U;}function P(a,b){var i=a.labels;var v=a.ticks;var U,V,X,Y;var Z=b.width;var $=t(a.labelLevel,b);if(v.length<2){return false;}var _=-1;var a1=-1;for(U=0;U<i.length;U++){if($){if(i[U].isFirstData){_=U;}else if(i[U].isLastData){a1=U;}}}var b1=Infinity;var c1=-1;for(U=0;U<i.length;U++){X=i[U];var d1=M(X.value,v);if(d1.length===0||(d1[0]<0&&d1[1]<0)){c1=U+1;continue;}for(V=0;V<X.layers.length;V++){Y=X.layers[V];var t1=d1[0];var t2=d1[1];var g1=(t2-t1)/2+t1;Y.left=g1-Y.width/2;if(Y.left<0){Y.left=0;c1=U;}Y.right=Y.left+Y.width;Y.center=(Y.right-Y.left)/2+Y.left;if(Y.right>Z&&Z-Y.width>=0){if((t1+Y.width)<Z||($&&i[U].isLastData)){var h1=Y.right-Z;Y.left-=h1;Y.center-=h1;Y.right-=h1;}else{b1=Math.min(U,b1);break;}}}}if($){if(c1>_&&_!==-1){c1=_;}if(b1<(a1+1)&&a1!==-1){b1=(a1+1);}}if(b1!==Infinity){i.splice(b1,i.length);}if(c1>0){i.splice(0,c1);}for(U=0;U<v.length;U++){v[U].major=false;}p(i,b);a.displayMode="CATEGORY";return true;}function Q(a,b){if(a.name===b.name){return a.step-b.step;}else{return l.bind(this)(a.name,b.name);}}function S(a,b){var i=a;if(!b.isColumnLike){return;}var U=a.ticks;if(U.length===0||i.labels.length===0||!i.labelLevel){return;}var V=T.levelComparator.bind(b.timeBodyCtx);b.levels.sort(V);var X=b.levels[0];var Y=i.labelLevel;var Z=b.timeBodyCtx.isForceCategoryForMinLevel(Y.name,Y.step,b.levels);if(V(Y.name,X)<=0&&!Z){if(Y.step>1&&i.displayMode==='CONTINUOUS'){var $;if(i.labelLevel.name===i.tickLevel.name&&i.labelLevel.step===i.tickLevel.step){for($=(i.ticks.length-1);$>=0;$--){i.ticks[$].major=true;}}else{for($=(i.ticks.length-1);$>=0;$--){if(!i.ticks[$].major){i.ticks.splice($,1);}}}}else if(!b.timeBodyCtx._isKeepMinimalLevelContinuousTicks){i.originalTicks=U;i.ticks=[];}}else if(i.displayMode==="CATEGORY"||Z){var _=U[U.length-1];var a1=_.value;var v=T.ceil(_.value,Y.name,b.utc,b.timeBodyCtx._properties.origin);var b1=false;if(!e.isValueVisible(v,b)){v=b.end;b1=true;}if(!e.isValueVisible(v,b)){v=_.value+T.getPeriod(Y.name);b1=true;}if(v!==a1){U.push({value:v,position:b.scale(v),major:false});}if(X!=="week"){var c1=b.timeBodyCtx.levelDict[X].period;var t1=b.limit[0];t1=T.truncate(t1,X,b.utc,b.timeBodyCtx._properties.origin);var t2=t1+c1;var p1=b.scale(t1);var p2=b.scale(t2);var h1=(p2-p1)/2;i.ticks.forEach(function(d1,e1){if(e1!==(U.length-1)||!b1||!e.isValueVisible(v,b)){d1.position-=h1;d1.value=b.scale.invert(d1.position);}});P(i,b);}else if(Y.name==="year"){i.ticks.forEach(function(d1,e1){if(e1!==(U.length-1)||!b1||!e.isValueVisible(v,b)){var f1=T.getFullYear(new Date(d1.value),b.utc);var g1=f1-1;var i1=T.getWeekNumInYear(g1);var t1=T.getDateByWeek(g1,i1,b.utc,b.weekConfig);var t2=T.getDateByWeek(f1,1,b.utc,b.weekConfig);t1=t1.getTime();t2=t2.getTime();d1.value=(t2-t1)/2+t1;d1.position=b.scale(d1.value);}});P(i,b);}}}return{categoryWrapper:w,shouldFirstLastMode:t,firstLastDataWrapper:u,mustCategoryLook:x,timeColumnWrapper:S};});define('sap/viz/chart/components/axis/sub/TimeAxisBodyHelper',["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/ArrayUtils',"sap/viz/chart/components/axis/sub/TimeAxisCommon","sap/viz/chart/components/axis/sub/TimeAxisBodyTransformer",],function(T,a,N,b,O,A,c,B){var f=Math.floor;var d=Math.ceil;var m=Math.max;var e=Math.min;var M=8;var F=80;var L=100;var g=5;var h=3;var k=', ';var D=1;var l='minlevel';var K=1;var o=1<<2;var S=4;var p=10;var q={'second':5,'minute':20,'hour':0.5,'day':2,'week':0.5,'month':0.5,'quarter':1,'halfyear':3,'year':1,'fiscal_period':1,'fiscal_year':1};var r=c.getTicks;var s=T.levelComparator;var t=c.getLabelsAndSetLayout;var u=c.getLabelsWithFirstLastDataAndSetLayout;var v=c.getLabels;var w=c.layoutLabels;var x=c.getOverlappedPixelNum;var y=B.mustCategoryLook;var z=c.TRIAL_MODE;var P=c.PIVOT_MODE;var C=c.getDensity;var E=c.combinationDict;function G(i){var j=i.timeBodyCtx.normalizeDomain(i.domain);var n=i.timeBodyCtx.normalizeDomain(i.dataBound);var h1=null;if(j){var i1=i.levels;if(!i1||!i1.length){i1=T.DEFAULT_LEVELS;}i.timeBodyCtx.fixLevelGap(i1);var j1={domain:j,dataBound:n,width:m(0,i.width),levels:i1,start:j[0],end:j[1],limitInput:i.limit,style:i.labelStyle,config:_(i.config,i.timeBodyCtx),combinationConfig:_(i.combinationConfig,i.timeBodyCtx),utc:i.utc,isColumnLike:i.isColumnLike,isZoomIn:i.zoomType==="zoomIn",prevLv:i.prevLv,findLevelMemory:i.findLevelMemory,minTickDistance:d1(i.minTickDistance,M),fixedSpacing:d1(i.fixedSpacing,F),limitMargin:d1(i.limitMargin,L),labelMargin:d1(i.labelMargin,g),maxLayerCount:d1(i.maxLayerCount,h),levelLabelSeparator:d1(i.levelLabelSeparator,k),forceToShowFirstLastData:i.forceToShowFirstLastData,timeBodyCtx:i.timeBodyCtx,weekConfig:i.weekConfig};if(i.showFirstLastDataOnly){h1=J(j1);h1.ticks.offset=h1.labels.offset=i.offset||0;}else{var k1=a1(i.intervalUnit,i1,j1);if(k1){j1.intervalUnit=k1;j1.intervalNumber=b1(i.intervalNumber);j1.intervalPivot=c1(i.intervalPivot);h1=I(j1);}else{h1=Q(j1);}h1.ticks.offset=h1.labels.offset=i.offset||0;B.categoryWrapper(h1,j1,true);B.firstLastDataWrapper(h1,j1);B.timeColumnWrapper(h1,j1);}U(h1,h1.context);c.preventAnyOverlapping(h1);}return h1;}function H(i,j){var n=i.tickLevel;var h1=i.labelLevel;var i1=i.context;if(n&&h1&&i1){i1.limit=V(j.limit,i1,h1);if(!j.showFirstLastDataOnly){var j1;if(i1.intervalUnit){j1=P;}var k1;if(B.shouldFirstLastMode(h1,i1)){k1=u(h1,i1,j1);}else{k1=t(h1,i1,j1);}var l1=r({hasMajor:n.step!==h1.step,tickLevel:n,labels:k1},i1);l1.offset=k1.offset=j.offset||0;i.ticks=l1;i.labels=k1;B.categoryWrapper(i,i1,false);B.firstLastDataWrapper(i,i1);B.timeColumnWrapper(i,i1);}else{var m1=J(i1);i.ticks=m1.ticks;i.labels=m1.labels;i.ticks.offset=j.offset||0;i.labels.offset=i.ticks.offset;}U(i,i.context);c.preventAnyOverlapping(i);}}function I(j){var n=j.intervalUnit;var h1=j.intervalNumber;var i1=j.timeBodyCtx.levelDict[n];var j1=i1.period*h1;var k1={id:'fixed',name:n,step:h1,density:C(n,h1,j.timeBodyCtx.levelDict),values:i1.values,align:false};var l1=j.fixedSpacing;var m1=j.width;var n1=j.end-j.start;if(j.dataBound){n1=j.dataBound[1]-j.dataBound[0];}j.width=m(m1,d(n1*l1/j1));j.scale=e1(j.domain,j.width);j.limit=V(j.limitInput,j,k1);var o1=t(k1,j,P);var p1=x(o1,j.labelMargin);var q1=null;var r1=B.shouldFirstLastMode(k1,j);while(p1){l1=m(l1,l1+p1);j.width=m(m1,d(n1*l1/j1));j.scale=e1(j.domain,j.width);j.limit=V(j.limitInput,j,k1);w(o1,j,null,r1);p1=x(o1,j.labelMargin);if(Math.abs(p1-q1)<0.01){break;}q1=p1;}o1=t(k1,j,P);var s1=j.timeBodyCtx.levelStore.filter(function(u1){return u1.name===n&&h1%u1.step===0;});var t1;for(var i=0;i<s1.length;++i){var u1=s1[i];var v1=j.scale(j.start+u1.step*j.timeBodyCtx.levelDict[u1.name].period);if(v1>=j.minTickDistance){t1=u1;break;}}if(t1){t1=O.extend({align:false},t1);}else{t1=k1;}var w1={hasMajor:t1.step!==k1.step,tickLevel:t1,labels:o1};var x1=r(w1,j);j.enableForceToShowFirstLast=r1;return{width:j.width,level:n,ticks:x1,labels:o1,tickLevel:t1,labelLevel:k1,levelResult:w1,context:j};}function J(i){var j=[];var n=[];var h1={};i.scale=e1(i.domain,i.width);i.limit=V(i.limitInput,i);i.firstLastTicksOnly=true;var i1=X(i);if(i1.length>0){h1=i1[0];var j1;if(i.dataBound&&i.dataBound.length>=2){j1=i.dataBound.slice();}else{j1=i.domain.slice();}j=t(h1,i,0,j1);var k1={};k1.labels=j;k1.tickLevel=h1;var l1={value:j1[0],position:i.scale(j1[0]),major:false};var m1={value:j1[j1.length-1],position:i.scale(j1[j1.length-1]),major:false};if(j1[0]>j1[j1.length-1]){n.push(m1);n.push(l1);}else{n.push(l1);n.push(m1);}}return{width:i.width,level:h1.name,ticks:n,labels:j,tickLevel:h1,labelLevel:h1,context:i};}function Q(i){i.scale=e1(i.domain,i.width);i.limit=V(i.limitInput,i);var j=X(i);var n=$(j,i);if(n.labels.length<=1||n.overlapped){j=X(i,K);n=$(j,i,o);}var h1=r(n,i);var i1=B.shouldFirstLastMode(n.labelLevel,i);i.enableForceToShowFirstLast=i1;return{width:i.width,level:n.level,ticks:h1,labels:n.labels,tickLevel:n.tickLevel,labelLevel:n.labelLevel,levelResult:n,context:i};}function R(i,j){for(var n=i.layers.length-1;n>=0;n--){var h1=i.layers[n];var i1=j.layers[n];if(h1&&i1){i1.left=(h1.left+h1.right)/2-i1.width/2;if(i1.left<0){i1.left=0;i1.right=i1.width;}else{i1.right=(h1.left+h1.right)/2+i1.width/2;}i1.center=(i1.right+i1.left)/2;j.center=b.isExist(j.center)?j.center:i1.center;}}j.isFirstData=i.isFirstData;j.isLastData=i.isLastData;}function U(i,j){if(i.labels.length<2){return;}var n=[];var h1=[];var ii;var j1=5;for(ii=0;ii<j1&&ii<i.labels.length;ii++){var k1=i.labels[ii];var l1=A.min(k1.layers,function(i1,n1){return(i1.left+i1.right)/2;});n.push(l1);h1.push(k1.value);}var m1=v(i.labelLevel,j,0,h1,n);for(ii=0;ii<m1.length;ii++){R(i.labels[ii],m1[ii]);i.labels[ii]=m1[ii];}}function V(i,j,n){if(i){var h1=j.scale;var i1=j.limitMargin;if(n){var j1=h1(j.timeBodyCtx.levelDict[n.name].period*n.step)-h1(0);i1=m(i1,j1);}var k1=m(0,i[0]-i1);var l1=e(h1.range()[1],i[1]+i1);return[f(h1.invert(k1)),d(h1.invert(l1)),f(h1.invert(i[0])),d(h1.invert(i[1]))];}return null;}function W(i,j){s=s.bind(j);i.sort(s);if(i.length===2&&i[1]==="year"&&i[0]==="week"){return;}else if(i.length>=2){var n,lv,h1;for(n=1;n<i.length;n++){lv=i[n];h1=i[n-1];if(s(lv,"quarter")>=0&&s(h1,"day")<=0){if(i.indexOf("month")===-1){i.push("month");}if(i.indexOf("day")===-1){i.push("day");}}if(s(lv,"day")>=0&&s(h1,"minute")<=0){if(i.indexOf("hour")===-1){i.push("hour");}if(i.indexOf("minute")===-1){i.push("minute");}}}}i.sort(s);}function X(j,n){var i,h1;var i1=j.levels;if(j.start===j.end){for(i=0;i<j.timeBodyCtx.levelStore.length;++i){h1=j.timeBodyCtx.levelStore[i];if(h1.name===i1[0]&&h1.step===1){return[h1];}}}var j1=j.timeBodyCtx.levelStore.filter(function(h1){return h1.condition?h1.condition(j):true;});var k1={};for(i=i1.length;i--;){k1[i1[i]]=1;}var l1=j.end-j.start;for(i=j1.length;i--;){h1=j1[i];if(l1<h1.step*j.timeBodyCtx.levelDict[h1.name].period){j1.pop();}else{break;}}for(i=0;i<j1.length;++i){h1=j1[i];var m1=j.scale(j.start+h1.step*j.timeBodyCtx.levelDict[h1.name].period);if(m1>=j.minTickDistance){break;}}j1=j1.slice(i).concat(Y(j));if(!b.isSet(n,K)){var n1=j.timeBodyCtx.levelStore.filter(function(h1){return k1[h1.name];});var o1=n1[0].density;var p1=n1[n1.length-1].density;var q1={};j1=j1.filter(function(h1){if(h1.density>=p1&&h1.density<=o1&&!k1[h1.name]){q1[h1.name]=1;return false;}return true;}).filter(function(h1){return!q1[h1.name];});}var r1={};for(i=j1.length;i--;){h1=j1[i];if(r1[h1.density]){j1.splice(i,1);}else if(k1[h1.name]){r1[h1.density]=1;}}r1={};j1=j1.filter(function(h1){if(!r1[h1.density]){r1[h1.density]=1;return true;}return false;});for(i=0;i<j1.length;++i){h1=j1[i];if(k1[h1.name]){break;}}j1=i<j1.length?j1.slice(i):j1;if(j.firstLastTicksOnly&&i1.length>0&&j1.length>0){for(i=0;i<j.timeBodyCtx.levelStore.length;++i){h1=j.timeBodyCtx.levelStore[i];if(h1.name===i1[0]&&h1.step===1&&j1[0].id!==h1.id){j1.unshift(h1);break;}}}return j1;}function Y(j){var n=j.end-j.start;var h1=j.timeBodyCtx.levelStore[j.timeBodyCtx.levelStore.length-1];var i1=h1.name;var j1=j.timeBodyCtx.levelDict[i1];var k1=[];var i=2;var l1=i*h1.step;var m1=j.timeBodyCtx.levelStore.filter(function(p1){return p1.name===i1;});while(l1*j1.period<=n){var n1=j.scale(j.start+l1*j1.period);if(n1>=j.minTickDistance){var o1=m1.concat(k1).filter(function(p1){return l1%p1.step===0;}).map(function(p1){return p1.id;});k1.push({id:i,name:i1,step:l1,values:j1.values,density:C(i1,l1,j.timeBodyCtx.levelDict),base:o1});}i++;l1=i*h1.step;}return k1;}function Z(j,n){var h1=n.start;var i1=n.limit;n.limit=null;var j1=true;var k1=j.name;var l1=q[k1]*T.getPeriod(k1);var m1=n.findLevelMemory;var n1=n.end-n.start;var id=j.id;var p1=B.shouldFirstLastMode(j,n);if(m1&&m1[id]&&m1[id]<=n1){return j1;}else{for(var i=0;i<p&&n.start<n.end;i++){var q1=c.getLabels(j,n,z);c.layoutLabels(q1,n,true,p1);var r1=x(q1,n.labelMargin,true);if(r1[0]>0){j1=false;break;}n.start+=l1;}n.start=h1;n.limit=i1;if(m1&&j1){m1[id]=Math.min(n1,m1[id]);}return j1;}}function $(n,h1,i1){var j1=-1;var k1=-1;var i,j,l1,m1,n1,o1;if(n.length){o1=true;for(i=0;i<n.length;++i){var p1=n[i];if(y(p1,h1)&&p1.continuousOnly){continue;}if(Z(p1,h1)){l1=t(p1,h1);if(x(l1,h1.labelMargin)===0){j1=i;o1=false;break;}}}m1=n[j1];if(j1<0){j1=n.length-1;m1=n[j1];l1=t(m1,h1);}var q1=y(m1,h1);var r1=m1.base;if(r1){for(i=0;i<r1.length;++i){var id=r1[i];for(j=j1;j--;){if(n[j].id===id){if(q1&&n[j].step>1){continue;}k1=j;break;}}if(k1>=0){break;}}}if(k1<0){k1=j1;}n1=n[k1];if(b.isSet(i1,o)){if((o1||l1.length===1)&&n1.step<m1.step){var t1=n1.values(h1.utc,h1.start,h1.end);if(t1.length>1){t1=[t1[0],t1[t1.length-1]];var u1=t(m1,h1,0,t1);if(l1.length>1||!x(u1,h1.labelMargin)){l1=u1;o1=x(l1,h1.labelMargin);}}}if(o1){var v1=h1.timeBodyCtx.levelStore.filter(function(p1){return p1.step===1&&p1.density<=m1.density;});for(i=0;i<v1.length&&o1;++i){m1=n1=v1[i];l1=t(m1,h1);o1=x(l1,h1.labelMargin);}}}}return{hasMajor:n1!==m1,level:m1?m1.name:null,tickLevel:n1,labelLevel:m1,labels:l1||[],overlapped:o1};}function _(i,j){var n={};i=i||{};for(var h1 in i){if(i.hasOwnProperty(h1)){var i1=T.normalizeLevelName(h1);if(j.levelDict[i1]){n[i1]=i[h1];}if(E[i1]){n[i1]=i[h1];}}}return n;}function a1(i,j,n){i=String(i).toLowerCase();if(i===l){i=j[0];}return n.timeBodyCtx.levelDict[i]?i:null;}function b1(i){i=f(+i);return isNaN(i)||i<=0?D:i;}function c1(i){if(i===null||typeof i==='boolean'){return null;}var j=new Date(i).getTime();return isNaN(j)?null:j;}function d1(n,i){return g1(n)?n:i;}function e1(i,j){return d3.scale.linear().domain(i).range([0,j]);}function f1(i){return i.limitInput&&(i.limitInput[0]>0||i.limitInput[1]<i.width);}function g1(i){return typeof i==='number'&&!isNaN(i);}return{getTicksAndLabels:G,updateTicksAndLabels:H,getScale:e1,fixLevelGap:W};});define('sap/viz/chart/components/axis/sub/TimeAxisBody',["sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/components/renderers/ValueBasedColorRenderer","sap/viz/chart/components/axis/renderer/TimeBodyRenderer","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/axis/sub/TimeAxisBodyHelper","sap/viz/chart/components/axis/sub/TimeAxisCommon",'sap/viz/framework/common/format/FormatManager',"sap/viz/chart/components/util/BoundUtil",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/TypeUtils","sap/viz/api/env/Locale","sap/viz/framework/common/lang/LangManager"],function(T,C,o,A,N,V,a,b,c,Z,e,f,F,B,O,g,L,h){var l=11;var R=80;var n=5;var p=3;var q=C.CSS.CLASS.AXIS;var r=C.TIME_LEVEL;var E=["ja","zh_CN","zh_TW","ko"];var s=function(d,i){s.superclass.constructor.apply(this,arguments);this._ticksAndLabels=null;this._tickGroupNode=null;this._labelGroupNode=null;this._scrollOffset=0;if(i){this._isColumnLike=!!i.isColumnLike;this._isLineChart=!!i.isLineChart;this._isMultiplySeriesColumn=i.isMultiplySeriesColumn;this._isKeepMinimalLevelContinuousTicks=i.isKeepMinimalLevelContinuousTicks;this._allowInterval=i.hasOwnProperty('allowInterval')?i.allowInterval:true;}this.initLevelList();this.initLevelStore();this.initLevelDict();f.initLevelStoreValues(this.levelStore,this.levelDict);this.minCategoryLevel="day";this.maxCategoryLevel={name:"year",step:5};this._isSupportVBCAxisLine=true;this._cachedVBCStyleArray=[];};o.extend(s,A);s.prototype.normalizeDomain=function(d){if(g.isArray(d)&&d.length>1){var i=new Date(d[0]).getTime();var j=new Date(d[1]).getTime();if(!isNaN(i)&&!isNaN(j)){return i<=j?[i,j]:[j,i];}}return null;};s.prototype.initLevelList=function(){this.levelList=O.clone(T.levelList);};s.prototype.initLevelStore=function(){this.levelStore=[{id:'seconds_1',name:'second',step:1},{id:'seconds_5',name:'second',base:['seconds_1'],step:5},{id:'seconds_15',name:'second',base:['seconds_1','seconds_5'],step:15},{id:'seconds_30',name:'second',base:['seconds_1','seconds_2','seconds_5','seconds_15'],step:30},{id:'minutes_1',name:'minute',step:1},{id:'minutes_5',name:'minute',base:['minutes_1'],step:5},{id:'minutes_15',name:'minute',base:['minutes_1','minutes_5'],step:15},{id:'minutes_30',name:'minute',base:['minutes_1','minutes_5','minutes_15'],step:30},{id:'hours_1',name:'hour',step:1},{id:'hours_6',name:'hour',base:['hours_1'],step:6},{id:'hours_12',name:'hour',base:['hours_1','hours_6'],step:12},{id:'days_1',name:'day',step:1},{id:'days_5',name:'day',base:['days_1'],step:5},{id:'weeks_1',name:'week',step:1},{id:'weeks_2',name:'week',base:['weeks_1'],step:2},{id:'days_15',name:'day',base:['days_1','days_5'],step:15,continuousOnly:true},{id:'months_1',condition:f.notCheck(f.sameMonth),name:'month',step:1},{id:'weeks_10',name:'week',base:['weeks_1','weeks_2'],step:10,continuousOnly:true},{id:'months_3',name:'month',base:['months_1'],step:3},{id:'quarters_1',name:'quarter',step:1},{id:'quarters_2',condition:f.notCheck(f.sameYear),name:'quarter',base:['quarters_1'],step:2},{id:'halfyears_1',name:'halfyear',step:1},{id:'quarters_3',name:'quarter',condition:f.sameYear,base:['quarters_1'],step:3},{id:'years_1',name:'year',step:1},{id:'years_5',name:'year',base:['years_1'],step:5}];};s.prototype.initLevelDict=function(){this.levelDict={'second':{period:T.ONE_SECOND,format:function(v,d,u,i,j,k,m,t){var w=new Date(v);var x;if(!t&&f.shouldUseShortFormat("second",v,d,u,j,k,m)){x='ss\'\'';}else{x='hh:mm:ss';}return{text:F.format(w,x,u),format:x};},visible:true,values:f.getValuesFunc('seconds'),same:T.isSameSecond},'minute':{period:T.ONE_MINUTE,format:'hh:mm',visible:function(d){return d.indexOf('second')<0;},values:f.getValuesFunc('minutes'),same:T.isSameMinute},'hour':{period:T.ONE_HOUR,format:'hh:00',visible:function(d){return d.indexOf('minute')<0&&d.indexOf('second')<0;},values:f.getValuesFunc('hours'),same:T.isSameHour},'day':{period:T.ONE_DAY,format:function(v,d,u,i,j,k,m,t){var w=new Date(v);var x;if(!t&&f.shouldUseShortFormat("day",v,d,u,j,k,m)){x='d';}else{var y=E.indexOf(L.get())>-1?h.get('IDS_DAY'):'';x='MMM d'+y;}return{text:F.format(w,x,u),format:x};},visible:true,values:f.getValuesFunc('days'),same:T.isSameDay},'week':{period:T.ONE_WEEK,format:function(v,i,u,j,k){var d=new Date(v);var w=T.getWeek(d,u,k.weekConfig);if(k.weekConfig&&k.weekConfig.type==="Gregorian"&&k.weekConfig.region==="US"){if(w===1&&T.getMonth(d,u)===11){d=new Date(T.getFullYear(d,u)+1,0,1);}}var m=F.format(d,"Week",u);if(m===F.DEFAULT_FORMATTED_VALUE){if(T.getMonth(d,u)===0&&w>=52){return"W1";}else{return"W"+w;}}return m;},visible:true,values:f.getValuesFunc('weeks'),same:T.isSameWeek},'month':{period:T.ONE_MONTH,format:'MMM',visible:function(d){return d.indexOf('day')<0;},values:f.getValuesFunc('months'),same:T.isSameMonth},'quarter':{period:T.ONE_QUARTER,format:function(v,i,u){var d=new Date(v);var j=F.format(d,"Quarter",u);if(j===F.DEFAULT_FORMATTED_VALUE){var m=u?d.getUTCMonth():d.getMonth();return'Q'+(Math.floor(m/3)+1);}return j;},visible:true,values:f.getValuesFunc('quarters'),same:T.isSameQuarter},'halfyear':{period:T.HALF_YEAR,format:function(v,i,u){var d=new Date(v);var m=u?d.getUTCMonth():d.getMonth();return m<6?"H1":"H2";},visible:true,values:f.getValuesFunc('halfyears'),same:T.isSameHalfYear},'year':{period:T.ONE_YEAR,format:function(v,i,u,j,k){var d=new Date(v);var y=u?d.getUTCFullYear():d.getFullYear();var t=j;var x=t.length;if((x===2&&t[0]==='week')||(x===3&&t[0]==='day'&&t[1]==='week')||(k.weekConfig&&k.weekConfig.type==="Gregorian"&&k.levels.indexOf('week')>-1)){var m=u?d.getUTCMonth():d.getMonth();if(m===11){var w=T.getWeek(v,u,k.weekConfig);if(w===1){y++;}}}return y;},visible:true,values:f.getValuesFunc('years'),same:T.isSameYear}};};s.prototype.normalizePadding=function(d){return Math.round(d);};s.prototype.setHasNegativeValue=function(v){this._hasNegativeValue=v;return this;};s.prototype.update=function(z){if(this._data&&this._properties.get('visible')&&this._isSpaceEnough()){var t=this._getTicksAndLabels(this._realSize.width,this._size.width,z);this._renderTicksAndLabels(t);}};s.prototype._getAxisColor=function(){var d=this._properties;var i=d.get('color');if(this._hasNegativeValue&&d.origin.get("plotArea.gridline.zeroLine.unhighlightAxis")){i=d.origin.get("plotArea.gridline.color");}return i;};s.prototype._renderTicksAndLabels=function(t){if(!t){return;}var d=this._properties;var w=this._size.width;var m=this._size.height;var u=this._position;var v=t.ticks;var x=t.labels;var y=t&&t.labelLevel?t.labelLevel.step:1;var z=this._properties.get('label.forceToShowFirstLastData');var D=function(M,K,U){var W=K.value,X;if(t.level==='week'&&K.layers[0].level==='week'){var Y=T.truncate(W,K.layers[0].level,undefined,d.origin),$=T.ceil(W,K.layers[0].level,undefined,d.origin);if(new Date(Y).getYear()!==new Date($).getYear()){W=T.truncate($,M.level,undefined,d.origin);}}W=T.truncate(W,M.level,undefined,d.origin);X=T.ceil(W,M.level,undefined,d.origin);if(I._isColumnLike&&t.displayMode==='CONTINUOUS'){X=T.truncate(X,t.level,undefined,d.origin);}return{min:W,max:X};};var G;if(!this._properties.get('label.showFirstLastDataOnly')){var H=x.length,I=this;var J=e.getScale(this._data.getDomain(),this._realSize.width);for(var i=0;i<H;i++){var K=x[i];K.layers[0].id='0-'+K.value;K.layers[0].range={min:K.value,max:T.ceil(K.value,K.layers[0].level,undefined,d.origin)};if(y===1){if(z&&(K.isFirstData||K.isLastData)){G=T.floor(K.layers[0].range.min,K.layers[0].level,undefined,d.origin);K.layers[0].rectX=J(G);K.layers[0].range.min=G;}else{K.layers[0].rectX=J(K.layers[0].range.min);}K.layers[0].rectWidth=J(K.layers[0].range.max)-K.layers[0].rectX;}for(var j=1;j<K.layers.length;j++){var M=K.layers[j];M.id=j+'-'+K.value;if(g.isNonEmptyString(M.text)){var P=D(M,K,i);M.range=P;if(z&&(K.isFirstData||K.isLastData)){G=T.floor(P.min,M.level,undefined,d.origin);M.rectX=J(G);M.range.min=G;}else{M.rectX=J(P.min);}M.rectWidth=J(P.max)-M.rectX;for(var k=j-1;k>=0;k--){if(K.layers[k].range&&P.min>=K.layers[k].range.min&&P.max<K.layers[k].range.max){K.layers[k].range.max=P.max;if(K.layers[k].hasOwnProperty('rectX')){K.layers[k].rectWidth=J(K.layers[k].range.max)-K.layers[k].rectX;}}}}}}}var Q=this.runtime().effectManager();if(d.get('axisTick.visible')&&this._tickGroupNode){var S=this._properties.get('color');b.drawTicks(this._tickGroupNode,v,w,m,u,d,S,Q);}if(d.get('label.visible')&&this._labelGroupNode){b.drawLabels(this,x,w,m,u,d,Q,t.displayMode,y,t.level);}this._lockLabels(t.labels);};s.prototype._lockLabels=function(d){if(!this._labelGroupNode||d.layerCount<=1){return;}var k=this._properties.get('label.showFirstLastDataOnly');if(k){return;}var m=0;var t=this._labelGroupNode.node().querySelectorAll('.v-label');var u=t.length?t.length:0;var v=d.offset||0;var i,j;function w(S,U){var H=d[S];var W=H&&H.layers;return W&&W[U]&&W[U].text;}for(j=0;j<d.layerCount-1;++j){var y=null;var z=null;var D=null;var G=false;for(i=0;i<u;++i){var H=d[i];y=t[i].querySelectorAll('.v-label-upperLevel')[j];if(y){y.removeAttribute('dx');}var I=w(i,j+1);if(H.layers[0].right-v>m&&!G){G=1;if(I){y=t[i].querySelectorAll('.v-label-upperLevel')[j];D=H;}else if(g.isNumber(z)&&z>=0){y=t[z].querySelectorAll('.v-label-upperLevel')[j];}if(y){var J=w(i+1,j+1);var x=parseFloat(y.getAttribute('x'));if(x<m){if(!J){y.setAttribute('dx',m-x);}else if(D){var K=t[i].querySelectorAll('.v-label-baseLevel')[0];var M=parseFloat(K.getAttribute('x'));var P=M+H.layers[0].width/2;var Q=P-D.layers[j+1].width/2;if(Q>m){y.setAttribute('dx',m-x);}else{y.setAttribute('dx',Q-x);}}}}}if(!G&&I){z=i;D=H;}}}};s.prototype.isExistingItem=function(d,v){var j=false;var i;for(i=0;i<d.length;i++){if(O.deepEqual(d[i],v)){j=true;break;}}return j;};s.prototype.normalizeVBCArray=function(d,j){var k;var m=O.clone(d);k=[];var i;for(i=0;i<m.length;i++){if(!m[i].callback){k.push(m[i]);}}if(j){for(i=0;i<j.length;i++){if(j[i].vbcContext.color&&j[i].rawData&&j[i].rawData.timeAxis&&j[i].rawData.timeAxis[0]){var v={};v.start=j[i].rawData.timeAxis[0].parsedValue;v.end=j[i].rawData.timeAxis[0].parsedValue;v.color=j[i].vbcContext.color;if(!this.isExistingItem(k,v)){k.push(v);}}}}return k;};s.prototype.renderValueBasedColorLine=function(d){var t=this._ticksAndLabels;var i=this._lineSelection;if(i){var j=this._properties;var w=this._size.width;var k=this._size.height;var m=this.runtime().effectManager();if(this._isSupportVBCAxisLine&&j.get('axisLine.visible')&&w>0&&k>0){var u=i.select("."+q.LINE_GROUP);if(!u.node()){u=i.append("g").attr("class",q.LINE_GROUP);}var x=0;if(t&&t.labels&&t.labels.offset){x=t.labels.offset;}else if(t&&t.ticks&&t.ticks.offset){x=t.ticks.offset;}var v=this._data.getDomain();var y=e.getScale(v,this._realSize.width);var z=j.origin.get('general.defaultTimePeriodColor');var D=j.origin.get('general.timePeriodStyle');if(D&&D.length){if(d){D=this.normalizeVBCArray(D,d);this._cachedVBCStyleArray=D.slice();}else{if(!this._cachedVBCStyleArray.length){this._cachedVBCStyleArray=this.normalizeVBCArray(D);}D=this._cachedVBCStyleArray.slice();}var I;var G;var H;var J;a.cleanVBCAxisLines(u);var K;for(I=0;I<D.length;I++){if(D[I]&&g.isExist(D[I].start)&&g.isExist(D[I].end)){var M=D[I].start;var P=D[I].end;if(M===C.PLOTAREA.LAST_DATAPOINT||P===C.PLOTAREA.FIRST_DATAPOINT){P=D[I].start;M=D[I].end;}if(M===C.PLOTAREA.FIRST_DATAPOINT||P===C.PLOTAREA.LAST_DATAPOINT){if(!K){K=v.slice();if(t&&t.context){if(t.context.dataBound&&t.context.dataBound.length>=2){K=t.context.dataBound.slice();}else if(t.context.domain){K=t.context.domain.slice();}}}if(M===C.PLOTAREA.FIRST_DATAPOINT){M=K[0];}if(P===C.PLOTAREA.LAST_DATAPOINT){P=K[1];}}var Q=new Date(M).getTime();var S=new Date(P).getTime();if(!g.isNumber(Q)||!g.isNumber(S)){continue;}var U;if(Q>S){U=Q;Q=S;S=U;}var W=T.levelComparator.bind(this);t.context.levels.sort(W);var X=t.context.levels[0];var Y=this.levelDict[X].period;Q=T.truncate(Q,X,t.context.utc,j.origin,t.context.weekConfig)-Y/2;S=T.truncate(S,X,t.context.utc,j.origin,t.context.weekConfig)+Y/2;G=y(Q)-x;H=y(S)-x;if(G>w||H<0){continue;}if(G<0){G=0;}if(H>w){H=w;}J=(D[I].color||z);a.drawVBCAxis(u,G,H,J,j,m);}}}}}};s.prototype._renderAxisLine=function(d,t){if(d){var i=this._properties;var w=this._size.width;var j=this._size.height;if(i.get('axisLine.visible')&&w>0&&j>0){var k=d.select("."+q.LINE_GROUP);if(!k.node()){k=d.append("g").attr("class",q.LINE_GROUP);}var m=this._isVertical()?j:w;var u=[0,m];var v=i.get();var x=this.runtime().effectManager();var y=this._position;v.color=this._getAxisColor();V.drawLines(k,u,w,j,y,v,x);this._ticksAndLabels=t;this._lineSelection=d;this.renderValueBasedColorLine();}}};s.prototype.scroll=function(d){var i=this._properties;var j=-d.x;var t=this._ticksAndLabels;var k=Math.abs(this._scrollOffset-j);k=N.preciseSimple(k);if(this._isHorizontal()&&t){this._scrollOffset=j;e.updateTicksAndLabels(t,{offset:j,limit:[j,j+this._size.width],showFirstLastDataOnly:i.get('label.showFirstLastDataOnly')});this._renderTicksAndLabels(t);this._renderAxisLine(this._selection,t);}};s.prototype.render=function(d){this._selection=d;B.drawBound(d,this._size.width,this._size.height,null,true);d.select("g."+q.LINE_GROUP).remove();d.select("g."+q.TICK_GROUP).remove();d.select("g."+q.LABEL_GROUP).remove();var i=c.drawClippath(d3.select(d.node().parentNode),this._size.width+2,this._size.height+2,-1,-1);d.attr('clip-path','url(#'+i+')');var j=this._properties;if(this._data&&j.get('visible')){var k=null;var m=this._position;var w=this._size.width;var t=this._size.height;var u=this.runtime().effectManager();if(j.get('label.visible')){i=c.drawClippath(d,w+2,t+2,-1,-1,"labels");k=d.append("g").attr('clip-path','url(#'+i+')');this._labelGroupNode=k.append("g").attr("class",q.LABEL_GROUP);}var v=this._getTicksAndLabels(this._realSize.width,w);this._renderAxisLine(d,v);if(j.get('axisTick.visible')){i=c.drawClippath(d,w+2,t+2,-1,-1,"ticks");k=d.append("g").attr('clip-path','url(#'+i+')');this._tickGroupNode=k.append("g").attr("class",q.TICK_GROUP);}this._renderTicksAndLabels(v);if(v){d.datum({level:v.level});}}};s.prototype.getPreferredSize=function(d){var i={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};var j=this._properties;if(this._data&&j.get('visible')&&this._isHorizontal()){var k=this._data;var m=k.getRange();var t=Math.abs(m[0]-m[1]);var u=l;var v=d?d.width:(this._size.width||t);var w=this._getTicksAndLabels(t,v);if(w){this._realSize.width=w.width;if(j.get('label.visible')){var x=this._properties.get('label.style');var y=this._measureTextSize('1',x).height;u+=y*Math.max(w.labels.layerCount,2);}}i.minWidth=v;i.maxWidth=v;i.minHeight=u;i.maxHeight=u;i.spacings=[{"interval":u,"type":C.SPACING_TYPE.STEP}];}var z=N.preciseObject(i);this._updatePfdSize(z);return z;};s.prototype.getRealSize=function(){return{width:this._realSize.width,height:this._realSize.height};};s.prototype.destroy=function(){s.superclass.destroy.apply(this,arguments);this._ticksAndLabels=null;this._tickGroupNode=null;this._labelGroupNode=null;this._findLevelMemory=null;};s.prototype._getTicksAndLabels=function(t,v,z){var d=this._properties;var u=this._allowInterval&&d.get('interval.unit');var i=this._data.getDomain();var j=this._data.getDataBound();var k=Z.getZoomRange(d.origin,i);var m=k[0];var w=k[1];var x=Z.isZoomRangeValid(m,w,i);var y=Z.isRangeIncomplete(k);var D=d.get("levelConfig");var G=D&&D.week;var H=this.runtime().statusManager();if(H.get('zooming')){u=null;}else if(this._isLineChart&&x&&y){var M='minlevel';u=u||M;}else if(x){u=null;}var I=Math.min(this._scrollOffset,t-v);var J=this._ticksAndLabels?this._ticksAndLabels.labelLevel:null;this._findLevelMemory=this._findLevelMemory||{};v=v||t;this._ticksAndLabels=e.getTicksAndLabels({dataBound:j,domain:i,width:t,offset:I,limit:[I,I+v],levels:H.get('timeLevels'),labelStyle:d.get('label.style'),weekConfig:G,config:D,combinationConfig:d.get('combinationConfig'),intervalUnit:u,intervalNumber:d.get('interval.number'),intervalPivot:d.get('interval.keyLabel'),utc:d.origin.get('general.showAsUTC'),isColumnLike:this._isColumnLike,showFirstLastDataOnly:d.get('label.showFirstLastDataOnly'),forceToShowFirstLastData:d.get('label.forceToShowFirstLastData'),prevLv:J,zoomType:z,findLevelMemory:this._findLevelMemory,timeBodyCtx:this});return this._ticksAndLabels;};s.prototype.getAvailableLayersNumber=function(){var d=0;if(this._data&&this._properties.get('visible')&&this._isSpaceEnough()){d=1;}return d;};s.prototype.getActiveLevels=function(){return this._ticksAndLabels&&this._ticksAndLabels.labels.allLevels;};s.prototype.getActiveLabels=function(){return this._ticksAndLabels&&this._ticksAndLabels.labels;};s.prototype.getRange=function(){if(this._ticksAndLabels&&this._ticksAndLabels.context){return[this._ticksAndLabels.context.start,this._ticksAndLabels.context.end];}};s.prototype.getTimeValueFormat=function(v){var t=v;if(g.isString(v)){t=new Date(v).getTime();}else if(T.isDateValid(v)){t=v.getTime();}if(isNaN(t)||!g.isNumber(t)){return[];}if(!this._ticksAndLabels){this._getTicksAndLabels(this._realSize.width,this._size.width);}var d=this._ticksAndLabels;return this.getValueFormatForTooltip(t,d.context,d.labelLevel?d.labelLevel.name:null);};s.prototype.getCellPosition=function(d){var k=this._ticksAndLabels.labels,m;for(var i=0;i<k.length;i++){var t=k[i].layers;for(var j=0;j<t.length;j++){var u=t[j];if(u.id===d){var v=e.getScale(this._data.getDomain(),this._realSize.width);if(u.range){var w=v(u.range.min),x=v(u.range.max);m={x:w,width:x-w};}break;}}if(m){break;}}return m;};s.prototype.getScale=function(){return this._data;};s.prototype.isOnlyShowingFirstAndLastLabel=function(){return this._properties.get('label.showFirstLastDataOnly');};s.prototype.getValueFormatForTooltip=function(t,d,i){return f.getTimeValueFormat(t,d,i,this);};s.prototype.fixLevelGap=function(d){e.fixLevelGap(d,this);};s.prototype.isForceCategoryForMinLevel=function(d,i,j){var k=T.levelComparator.bind(this);var m=j;if(!m){var t=this.runtime().statusManager();m=t.get('timeLevels');if(m){m.sort(k);}}var u=false;if(m&&d){u=(this._isMultiplySeriesColumn&&i===1&&k(d,m[0])===0);}return u;};return s;});define('sap/viz/chart/components/axis/sub/FiscalAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/TimeAxisBody","sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/axis/sub/TimeAxisCommon",'sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/FormatManager'],function(o,T,C,O,a,b,F,c,d){var e=function(r,f){e.superclass.constructor.apply(this,arguments);this.minCategoryLevel=C.FISCAL.PERIOD;var t=this.maxCategoryLevel.step;this.maxCategoryLevel={name:C.FISCAL.YEAR,step:t};this._isSupportVBCAxisLine=false;};o.extend(e,T);e.prototype.normalizeDomain=function(f){if(c.isArray(f)&&f.length>1){var s=f[0];var g=f[1];if(!isNaN(s)&&!isNaN(g)&&isFinite(s)&&isFinite(g)){return s<=g?[s,g]:[g,s];}}return null;};e.prototype.initLevelList=function(){this.levelList={};this.levelList[C.FISCAL.PERIOD]=O.clone(a.levelList[C.FISCAL.PERIOD]);this.levelList[C.FISCAL.YEAR]=O.clone(a.levelList[C.FISCAL.YEAR]);};e.prototype.initLevelStore=function(){this.levelStore=[{id:'fiscal_period_1',name:'fiscal_period',step:1},{id:'fiscal_period_2',name:'fiscal_period',base:['fiscal_period_1'],step:2},{id:'fiscal_period_4',name:'fiscal_period',base:['fiscal_period_1','fiscal_period_2'],step:4},{id:'fiscal_year_1',name:'fiscal_year',step:1},{id:'fiscal_year_5',name:'fiscal_year',base:['fiscal_year_1'],step:5}];};e.prototype.initLevelDict=function(){var f=this._properties.origin;this.levelDict={'fiscal_period':{period:C.FISCAL.ONE_FISCAL_PERIOD,format:function(v,g){if(g&&g.isOriginalFiscalStamp){return F.fiscalStampToObj(v,f).fiscalPeriod;}else{return F.quantityToFiscal(v,f).fiscalPeriod;}},visible:true,values:b.getValuesFunc('fiscal_periods',this),same:F.isSameFiscalPeriod},'fiscal_year':{period:C.FISCAL.ONE_FISCAL_YEAR,format:function(v,g){if(g&&g.isOriginalFiscalStamp){return F.fiscalStampToObj(v,f).fiscalYear;}else{return F.quantityToFiscal(v,f).fiscalYear;}},visible:true,values:b.getValuesFunc('fiscal_years',this),same:F.isSameFiscalYear.bind(this)}};};e.prototype.normalizePadding=function(p){return p;};e.prototype.getValueFormatForTooltip=function(v,f,g){var l=O.extend(true,[],a.normalizeLevels(f.levels,this));if(g){g=a.normalizeLevelName(g);if(g&&l.indexOf(g)===-1){l.push(g);l.sort(a.levelComparator.bind(this));}}var p=b.getPrevInfo(null,null);var h;var r;var j=[];var i;for(i=l.length-1;i>=0;i--){h=b.getCurrentInfo(v,l[i],l,null);r=this.formatFiscalLabel(h,p,f);j.push(r.text);}return j;};e.prototype.formatFiscalLabel=function(f,p,g){var v=f.value;var l=f.levelName;var h=f.labelLevels;var i=p&&p.prevValue;var j=g.config;var u=(j&&j[l]?j[l][b.FORMAT_CONFIG_FIELD]:null);var k=(g.timeBodyCtx.levelDict[l]&&g.timeBodyCtx.levelDict[l].format);var r;var t;var m={};m.isOriginalFiscalStamp=true;if(c.isFunction(u)){t=u(v,i,false,h.slice());if(t){r={format:u,text:t};}}else if(c.isString(u)){t=d.format(v,u);if(t){if(t instanceof Date){t=u;}r={format:u,text:t};}}if(!r){if(c.isString(k)){t=d.format(v,k);if(t instanceof Date){t=k;}r={format:k,text:t};}else if(c.isFunction(k)){var n=k(v,m);if(c.isPlainObject(n)){r=n;}else{r={format:k,text:n};}}}if(c.isString(r)){r={text:r};}r.text=(c.isNumber(r.text)?r.text.toString():r.text);return r;};e.prototype.fixLevelGap=function(l){l.sort(a.levelComparator.bind(this));};return e;});define('sap/viz/chart/components/accessibility/TimeAxisNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/framework/common/util/ObjectUtils"],function(o,C,O){function T(b){T.superclass.constructor.apply(this,arguments);this._timeLabels={};this._cells=this.label2cells(b.cells);}var a=3*24*3600000;o.extend(T,C);var p=T.prototype;p.label2cells=function(l){var c=[],b=[];for(var i=0;i<l.length;i++){var d=l[i].layers;for(var j=0;j<d.length;j++){var e=d[j];if(e.hasOwnProperty('rectX')&&e.text){if(!c[j]){c[j]=[];b[j]=0;}c[j].push(e);e.index={row:j,col:b[j]++};this._timeLabels[e.id]={};this._timeLabels[e.id].index=e.index;}}}return c;};p.init=function(){};p.destroy=function(){T.superclass.destroy.apply(this,arguments);this._cells=null;this._categoryLabels=null;};p.up=function(i,b){return this.getFirstChildCell(i,b);};p.down=function(i){return this.getParentCell(i);};p.left=function(i){return this.getSiblingCell(i,-1);};p.right=function(i){return this.getSiblingCell(i,1);};p.getCell=function(i){if(!this._timeLabels[i]){return null;}var b=this._timeLabels[i].index;return this._cells[b.row][b.col]||null;};p.getSiblingCell=function(i,d){var b;if(!this._timeLabels[i]){b={row:parseInt(i.split('-')[0]),col:0};return this._cells[b.row][b.col];}else{b=this._timeLabels[i].index;}var s=this._cells[b.row][b.col+d];return s?s:null;};p.getFirstChildCell=function(b,c){if(!this._timeLabels[b]){return null;}var d=this._timeLabels[b].index;var e=this._cells[d.row-1];if(!e){return null;}var g=function(f,e,i){if(e[i].rectX+c.x>=0){return e[i];}else{if(e[i+1]&&e[i+1].range.min<f.range.max){return e[i+1];}else{return e[i];}}};var f=this._cells[d.row][d.col],r;for(var i=0;i<e.length;++i){if(e[i].level==='week'){var t=e[i].range.min+a;if((f.range.min<=e[i].range.min&&t<=f.range.max)||(f.range.min<=t&&e[i].range.max<=f.range.max)){return g(f,e,i);}}else{if(e[i].range.min>=f.range.min&&e[i].range.max<=f.range.max){return g(f,e,i);}}}};p.getParentCell=function(b){if(!this._timeLabels[b]){return null;}var c=this._timeLabels[b].index;var d=this._cells[c.row+1];if(!d){return null;}var e=this._cells[c.row][c.col];for(var i=0;i<d.length;i++){if(e.level==='week'){var t=e.range.min+a;if((e.range.min>=d[i].range.min&&t<=d[i].range.max)||(t>=d[i].range.min&&e.range.max<=d[i].range.max)){return d[i];}}else{if(e.range.min>=d[i].range.min&&e.range.max<=d[i].range.max){return d[i];}}}};p.getFirstStartPoint=function(){var r=this._cells[0]?0:1;var l=(this._cells[r]&&this._cells[r].length)||0;for(var i=0;i<l;i++){if(this._cells[r][i]&&this._cells[r][i].text){return this._cells[r][i];}}return{id:null};};p.updateCells=function(l){this._timeLabels={};this._cells=this.label2cells(l);};p.findCell=function(b,d){if(!(b&&b.id)){return null;}var t=b.id.split('-');var i=t[0],v=t[1];if(!this._cells[i]){i++;}if(!this._cells[i]){return null;}for(var c,j=0,l=this._cells[i].length;j<l;j++){c=this._cells[i][j];if(b.id===c.id||(v>=c.range.min&&v<c.range.max)){return c;}}return null;};return T;});define('sap/viz/chart/components/axis/TimeAxis',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/scales/TimeScale","sap/viz/chart/components/axis/sub/TimeAxisBody","sap/viz/chart/components/axis/sub/FiscalAxisBody",'sap/viz/framework/common/util/FiscalUtil',"sap/viz/chart/components/scrollbar/Scrollbar",'sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/FunctionUtils','sap/viz/framework/common/format/FormatManager','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/TimeAxisNavigator","sap/viz/chart/components/util/ChartConstants",],function(C,a,A,T,b,F,c,S,L,d,e,f,g,I,h){var M="measureNames";var i=function(r,o){i.superclass.constructor.apply(this,arguments);var j;if(c.isFiscal(o.rawData)){this._isFiscal=true;j=new F(r,o);}else{j=new b(r,o);}this.setChild("axisBody",j,{order:1,priority:2,offset:0});};a.extend(i,A);i.prototype.addARIATag=function(r){r.attr('role','listbox');};i.prototype._updateSubModules=function(s){var j=this.getChild("axisBody").module;j.setSize({width:this._size.width});var z;if(s.x===this._prevScaleX||!this._prevScaleX){z="noChange";}else if(s.x>this._prevScaleX){z="zoomIn";}else{z="zoomOut";}this._prevScaleX=s.x;j.setRealSize(this._realSize);j.update(z);};i.prototype.setData=function(j,k){i.superclass.setData.call(this,j);if(f.isExist(k)){this._hasNegativeValue=k;}if(j.scale){var s=j.scale;this._scale=new T(s.getDomain(),[0,1],undefined,{dataBound:s.getDataBound()});}};i.prototype.setHasNegativeValue=function(v){this._hasNegativeValue=v;var j=this.getChild("axisBody").module;j.setHasNegativeValue(this._hasNegativeValue);return this;};i.prototype._updateData=function(j){i.superclass._updateData.apply(this,arguments);if(!this._scale){return;}if(this._isVertical()){this._scale.setRange([j.height,0]);}else{this._scale.setRange([0,j.width]);}var k=this.getChild("axisBody").module;k.setData(this._scale);k.setHasNegativeValue(this._hasNegativeValue);};i.prototype._constructTitle=function(j,t){var k=j.map(function(o){return o.name||o.id;}).join(" / ");var l={};l.isHidden=false;l.text=k;t.push(l);return k;};i.prototype.isVisible=function(){var p=this.properties();return p.visible===true;};i.prototype.isLabelVisible=function(){var p=this.properties();return this._bodyLayersNumber>0&&p.label.visible;};i.prototype.getFiscalUnitLabels=function(){var l=[];if(this._isFiscal){l.push(L.get("IDS_FISCALYEAR"));if(c.extractUnitType(this._properties.origin)===C.FISCAL.UNITTYPE_YEARPERIOD){l.push(L.get("IDS_FISCALPERIOD"));}}return l;};i.prototype.getFormatTimeValue=function(v){var j=this.getChild("axisBody").module;var k=j.getTimeValueFormat(v);var l=k[0]===""?null:k[0];var m=k[1]===""?null:k[1];var r={};if(this._isFiscal){r.fiscalyear=l;r.fiscalperiod=m;}else{r.day=l;r.time=m;}return r;};i.prototype.supportFixedLayout=true;i.prototype._setupLayout=function(j){i.superclass._setupLayout.call(this,j);var s=this.getChild(C.AXIS.SCROLLBAR_NAME);var k=this._properties.origin.get("plotArea.scrollbar.visible");if(s&&k===false){s.module.isExist(false);}};i.prototype.isByBound=function(){return true;};g.register(h.TIMEAXIS_NAVIGATOR,null,I);return i;});define('sap/viz/chart/components/datalabels/ScatterDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils"],function(o,D,a){function S(r,b){S.superclass.constructor.apply(this,arguments);this._labelPosition="up";}o.extend(S,D);var p=S.prototype;p._hasTimeAxis=function(){return!!this._data.timeAxis;};p._getDataLabelInfo=function(n){var b=this._hasTimeAxis()?'valueAxis':'valueAxis2';var d=this._data;var c=a.getContextByDataModel(n,d);var k=d[b].metaData[0].id;return{key:k,value:c[k]};};return S;});define('sap/viz/chart/components/renderers/ScatterRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/chart/components/util/DrawUtil'],function(S,D){function s(c){var n=S.createSVGNode("path");var g=c.graphic;var o=g.opacity;if(o>1||o<0){o=0.8;}var f=g.fillOpacity;if(f>1||f<0){f=1;}if(g.shape==="circle"&&c.isBigData){n=S.createSVGNode("circle");n.setAttribute("fill",g.fill);n.setAttribute("r",g.width/2);if(g.fill!=="transparent"){n.setAttribute("stroke-width",g.borderWidth);n.setAttribute("stroke",g.borderColor);n.setAttribute("opacity",o);if(f!=null){n.setAttribute("fill-opacity",f);}}return n;}var p={drawingEffect:g.drawingEffect,fillColor:g.fill,graphType:g.shape,direction:'vertical',rx:g.width/2,ry:g.height/2,borderWidth:g.borderWidth,node:n,opacity:o,fillOpacity:f,borderColor:g.borderColor};if(c.graphic.pattern){p.patternEffect=c.graphic.pattern;}D.drawGraph(p,c.effectManager);return n;}s.expose={renderer:s};return s;});define('sap/viz/chart/components/plots/ProjectionHelper',['sap/viz/framework/common/util/oo'],function(o){var L=1;var V=6;var m=Math.abs;var b={};function P(){}P.prototype.init=function(r,a){this._rx=r;this._ry=a;};function E(){}o.extend(E,P);E.prototype.init=function(r,a){this._rxSquare=r*r;this._rySquare=a*a;this._rxrySquare=this._rxSquare*this._rySquare;this._isCircle=this._rxSquare===this._rySquare;};E.prototype.isInRange=function(x,y){return this._isCircle?x*x+y*y<=this._rxSquare:x*x*this._rySquare+y*y*this._rxSquare<=this._rxrySquare;};function D(){}o.extend(D,P);D.prototype.init=function(r,a){this._rx=r;this._ry=a;this._rxry=r*a;};D.prototype.isInRange=function(x,y){x=m(x);y=m(y);return this._rx*y+this._ry*x<=this._rxry;};function T(){}o.extend(T,P);T.prototype.init=function(r,a){this._2ry=a*2;this._rxry=r*a;this._rx=r;};T.prototype.isInRange=function(x,y){x=m(x);return this._rx*y+this._2ry*x<=this._rxry;};function c(){}o.extend(c,P);c.prototype.init=function(r,a){this._2ry=a*2;this._rxry=r*a;this._rx=r;};c.prototype.isInRange=function(x,y){x=m(x);return this._2ry*x-this._rx*y<=this._rxry;};function d(){}o.extend(d,P);d.prototype.init=function(r,a){this._2rx=r*2;this._rxry=r*a;this._ry=a;};d.prototype.isInRange=function(x,y){y=m(y);return this._2rx*y-this._ry*x<=this._rxry;};function e(){}o.extend(e,P);e.prototype.init=function(r,a){this._2rx=r*2;this._rxry=r*a;this._ry=a;};e.prototype.isInRange=function(x,y){y=m(y);return this._2rx*y+this._ry*x<=this._rxry;};function I(){}o.extend(I,P);I.prototype.init=function(r,a){this._9ry=9*a;this._8ry=8*a;this._6rx=6*r;var i=r*a;this._3rxry=3*i;this._2rxry=2*i;};I.prototype.isInRange=function(x,y){x=m(x);y=m(y);var a=this._6rx*y;return this._9ry*x-this._3rxry<=a&&a<=this._8ry*x+this._2rxry;};function C(){}o.extend(C,P);C.prototype.init=function(r,a){this._dx=r/3;this._dy=a/3;};C.prototype.isInRange=function(x,y){return m(x)<=this._dx||m(y)<=this._dy;};function S(){}o.extend(S,P);S.prototype.isInRange=function(x,y){return m(x)<=this._rx&&m(y)<=this._ry;};function N(a){this._projectorClz=a;}o.extend(N,P);N.prototype.init=function(r,a,i){this._outer=new this._projectorClz();this._outer.init(r,a);this._inner=new this._projectorClz();this._inner.init(r-i,a-i);};N.prototype.isInRange=function(x,y){return!this._inner.isInRange(x,y)&&this._outer.isInRange(x,y);};var p={circle:new E(),diamond:new D(),triangleUp:new T(),triangleDown:new c(),triangleLeft:new d(),triangleRight:new e(),intersection:new I(),cross:new C(),square:new S(),negative_circle:new N(E),negative_diamond:new N(D),negative_triangleUp:new N(T),negative_triangleDown:new N(c),negative_triangleLeft:new N(d),negative_triangleRight:new N(e),negative_intersection:new N(I),negative_cross:new N(C),negative_square:new N(S)};function g(a){var s=a.shape;if(s=="circle"&&!a.negativeValue){s="square";}s=a.negativeValue===true?"negative_"+s:s;return s;}function f(a,r,i){var s=g(a);var j=b[s];j=j&&j[r];return j&&j[i];}function h(a,r,i){var s=g(a);var j=b[s]=a[s]||{};j=j[r]=j[r]||{};var q=j[i]=[];return q;}function k(a,r,q){var s=g(a);var t=f(a,r,q);if(!t){var u=p[s];if(u){u.init(r,q,a.borderWidth);t=h(a,r,q);t.length=(r*2+1)*(q*2+1)*2;var v=0;for(var i=-r;i<=r;++i){for(var j=-q;j<=q;++j){if(u.isInRange(i,j)){t[v++]=i;t[v++]=j;}}}t.length=v;}}return t;}function l(w,a,i){var j=[];i=i||{};w=j.width=Math.round(w);a=j.height=Math.round(a);j.layerLimit=i.layerLimit>0?parseInt(i.layerLimit):L;j.visibleThreshold=i.visibleThreshold>0?parseInt(i.visibleThreshold):V;var s=j.length=w*a;for(;s--;){j[s]=0;}return j;}function n(a,q,x,y,r,s){var w=a.width;var t=a.height;var u=a.layerLimit;if(q.shape=="circle"&&!!!q.negativeValue){r=s=Math.round(s/Math.SQRT2);}var v=k(q,r,s);var z=x-r;var A=x+r;var B=y-s;var F=y+s;var G=[];var H;var i,j,J;var K,M;if(z<0){z=0;H=true;}if(A>w){A=w;H=true;}if(B<0){B=0;H=true;}if(F>t){F=t;H=true;}if(v){var O=v.length;for(i=0;i<O;i+=2){if(!H){K=x+v[i];M=y+v[i+1];if(K>=z&&K<=A&&M>=B&&M<=F){J=K*t+M;if(a[J]<u){G.push(J);}}}}}else{for(i=z;i<=A;++i){var Q=i*t;var R=Q+F;for(J=Q+B;J<=R;++J){if(a[J]<u){G.push(J);}}}}if(G.length>=a.visibleThreshold){for(i=G.length;i--;){a[G[i]]++;}return true;}return false;}return{createPixelBoard:l,isAreaVisible:n};});define('sap/viz/chart/components/decorator/HitTestDecorator',['sap/viz/framework/common/util/oo','sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,B,H){var i=H.isInCircle;var a=H.isInRect;var b=function(){b.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(c){var d=this._dataPointContext,x=c.left,y=c.top;var r;var s=this.getSize();var f=this._offset;var g=-f.x;var h=-f.y;var p=this._selection.select(".v-plot-bound").node();var j=p.getBoundingClientRect().width/s.width;if(c.hasOwnProperty("width")&&c.hasOwnProperty("height")){var w=c.width,k=c.height;var l=s.width;if(j!=1){l*=j;g*=j;h*=j;}r=d.filter(function(e){var t=e.data.translate.slice();if(j!=1){t[0]*=j;t[1]*=j;}var m=[x+g,y+h];return t[0]>=g&&t[0]<=l+g&&a(t,m,w,k);});}else{r=d.filter(function(e){return i(e.data.translate,[x,y],4);});}return r;};};o.extend(b,B);return b;});define('sap/viz/chart/components/accessibility/ScatterDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function S(){S.superclass.constructor.apply(this,arguments);this._vSortedDatapoint=[];this._hSortedDatapoint=[];}o.extend(S,B);var p=S.prototype;p.init=function(){if(this._series){for(var i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){this._vSortedDatapoint.push(this._series[i][j]);this._hSortedDatapoint.push(this._series[i][j]);}}if(this._renderType.match(/^timeseries/)){this._hSortedDatapoint.sort(function(a,b){return a.timeAxis[0].parsedValue-b.timeAxis[0].parsedValue;});this._vSortedDatapoint.sort(function(a,b){return a.valueAxis-b.valueAxis;});}else{this._hSortedDatapoint.sort(function(a,b){return a.valueAxis-b.valueAxis;});this._vSortedDatapoint.sort(function(a,b){return a.valueAxis2-b.valueAxis2;});}}};p.getFirstStartPoint=function(){if(this._series){for(var i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){if(this._isValidDataItem(this._series[i][j])){return this._series[i][j].dp;}}}}return null;};p.up=function(i){return this._move(i,1);};p.down=function(i){return this._move(i,-1);};p.left=function(i){return this._move(i,-1,true);};p.right=function(i){return this._move(i,1,true);};p.destroy=function(){S.superclass.destroy.apply(this,arguments);this._vSortedDatapoint=null;this._hSortedDatapoint=null;};p._isValidDataItem=function(i){return i&&i.valueAxis&&(i.valueAxis2||i.timeAxis);};p._move=function(i,s,a){var b=a?this._hSortedDatapoint:this._vSortedDatapoint;var d=this.getDataPoint(i);var c=this.locate(d.address());var n=b.indexOf(c)+s;var e=b[n];var l=b.length;while(n>=0&&n<l&&!e){n+=s;e=b[n];}return e?e.dp:null;};return S;});define('sap/viz/chart/components/trendline/mixin/scatterPlot',["sap/viz/framework/common/util/oo",'sap/viz/chart/components/trendline/mixin/columnPlot','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/trendline/Trendline"],function(o,C,O,T){function S(){}o.extend(S,C);var p=S.prototype;p._rasterizeTrendData=function(t,s){var r=t.raw;return!s?r:r.map(function(d){return{x:d.y,y:d.x};});};p._getTrendlineRange=function(t,s){var r=t.raw,k=s?"y":"x",n=s?this._realSize.height:this._realSize.width,a=r[0][k],e=r[0][k];r.forEach(function(d){var v=d[k];a=a<v?a:v;e=e>v?e:v;});return{start:a,end:e,step:(e-a)/n};};p._trendlineValueDomain=function(a,x){var b={valueAxis:[],valueAxis2:[]};this._getTrendLines(a);if(!this._trendlines){return[];}b=this._trendlines.reduce(function(b,t){if(!t){return b;}var s=t.series,h=T.Utils.seriesAxisHasTime(s),k="valueAxis",c,e,r=t.raw;if(x){r=t.raw.filter(function(d){return d.x>=x[0]&&d.x<=x[1];});}if(!h){var v=r.map(function(d){return d.x;});c=[Math.min.apply(null,v),Math.max.apply(null,v)];e=b[k].concat(c);b[k]=[Math.min.apply(null,e),Math.max.apply(null,e)];k="valueAxis2";c=T.domainPerTrendline(t.fx,r);e=b[k].concat(c);b[k]=[Math.min.apply(null,e),Math.max.apply(null,e)];}else{c=T.domainPerTrendline(t.fx,r);e=b[k].concat(c);b[k]=[Math.min.apply(null,e),Math.max.apply(null,e)];}return b;},b);if(b.valueAxis.length===0){delete b.valueAxis;}if(b.valueAxis2.length===0){delete b.valueAxis2;}return b;};p._val2PosFns=function(s,a,b){var x=this._xHandlers[0],y=this._yHandlers[0],w=this._realSize.width,h=this._realSize.height,c=function(v){var e=x._scale.scale(v);return e*w;},d=function(v){var e=y._scale.scale(v);return(1-e)*h;};return b?{x:d,y:c}:{x:c,y:d};};p._expandTrendlineXRange=function(t){T.expandTimeAxisDomain(t,this._trendlines);};return S;});define('sap/viz/chart/components/plots/ScatterPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/ValueScale','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/datalabels/ScatterDataLabels','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/chart/components/renderers/ScatterRenderer','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/plots/ProjectionHelper',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/decorator/HitTestDecorator','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/util/ValueAxisUtils',"sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/chart/util/PropertyUtils',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/ScatterDataPointNavigator","sap/viz/chart/components/util/ChartConstants",'sap/viz/chart/components/trendline/mixin/scatterPlot'],function(o,V,C,T,S,B,a,D,b,G,c,d,F,O,P,f,g,H,h,k,l,m,n,p,q,r){var s=10,M=4,t=32,u='#ffffff',v="circle",w=1,z=4000000;var A=Math.min,E=Math.max;var I=C.CSS.CLASS;var J=function(e,i){this._renderType=i.renderType;J.superclass.constructor.apply(this,arguments);this._dataPointRenderer=c;this._markerSize=null;this._shapePalette=null;this._dpStrokeVisible=null;this._dpStrokeColor=null;this._dpOpacity=null;this._drawingEffect=null;this._markerSizeDirty=true;this._dpStrokeColorDirty=true;this._bigDataThreshold=10000;this._syncHighlightThreshold=4000;this._dataPointContext=[];};o.extend(J,B);var K=J.prototype;K.setLastSeries=function(e,j){var x=this._series;var y=x.length;if(!y){return;}var i=y;while(i--){var L=x[i];if(O.deepEqual(e,L.getContext())){if(i!==y-1){var N=x[y-1];x[y-1]=L;x[i]=N;if(j){this.refresh();}}break;}}};K.refresh=function(){var e=this._series;for(var i=e.length;i--;){var x=e[i].getDataPoints();for(var j=x.length;j--;){var y=x[j];if(y){y.setNode(null);}}}var L=this._selection.node().querySelector("."+I.DATAPOINT_GROUP);var N=L.getAttribute("fill-opacity");var Q=L.parentNode;Q.removeChild(L);L=d.create("g");L.setAttribute("class",I.DATAPOINT_GROUP);this._showDatapoints(L);this._postRender(L);if(N){L.setAttribute("fill-opacity",N);L.setAttribute("stroke-opacity",N);}Q.appendChild(L);var R=this._selection.node().querySelector("."+I.DATALABEL_GROUP);if(R){Q=R.parentNode;Q.removeChild(R);}this._drawDataLabels(d3.select(Q),L);};K.destroy=function(){J.superclass.destroy.call(this);this._dataPointRenderer=null;this._markerSize=null;this._shapePalette=null;this._dpStrokeVisible=null;this._dpStrokeColor=null;this._dpOpacity=null;this._drawingEffect=null;this._markerSizeDirty=true;this._dpStrokeColorDirty=true;this._timeField=null;};K._getDataLabels=function(e,i){return new S(i,{name:e});};K._getXHandlers=function(){var e=this._getBottomAxisName();var i={isHorizontal:true,alignment:"right"};var j=this._hasTimeAxis()?a.getTimeScaleHandler(e,i):a.getValueScaleHandler(e,i);return[j];};K.isDisableSyncHightlight=function(){return(this._hasTimeAxis()&&(this.getDataPointCount()>this._syncHighlightThreshold));};K._getYHandlers=function(){var e=this._getLeftAxisName();return[a.getValueScaleHandler(e,{isHorizontal:false})];};K._getAxisPosition=function(e,i,j,x){var y=e[0];var L=y.id;var N={index:j,seriesIndex:i,dataHandler:this._dataHandler[L]};return y.scale(x[L],N);};K.getDataPointCount=function(){var e=0;var i=this._getSeries();for(var j=0;j<i.length;j++){var x=i[j];e+=x?x.length:0;}return e;};K._drawDatapoints=function(e){var i=this._getSeries();for(var j in this._dataHandler){if(this._dataHandler[j].reset){this._dataHandler[j].reset();}}var x=this._properties;this._markerSize=x.get('markerSize');this._markerSizeDirty=true;this._shapePalette=x.get("shapePalette");this._dpStrokeVisible=x.get('dataPoint.stroke.visible');this._dpStrokeColor=x.get('dataPoint.stroke.color');this._dpStrokeColorDirty=true;this._dpOpacity=x.get('dataPoint.opacity');this._drawingEffect=x.get('drawingEffect');var y=0;var L;var N;var Q;var R;var U;var W;var X;var Y;var Z;var $=i.length;var _;var a1=this.getDataPointCount();this._isBigData=(a1>this._bigDataThreshold)&&(this._realSize.width*this._realSize.height<z);var b1=this._dataPointContext;for(L=0;L<$;L++){Q=i[L];if(!Q){continue;}R=null;_=Q.length;for(N=0;N<_;N++){U=Q[N];if(!U){continue;}X=this._getPosition(L,N,U);if(!X){continue;}R=R||new b();Y=this._buildWrapperConfig(U,X);Z=this._buildData(Y);W=this._createDataPoint(L,N,Y,Z,X,y,U);R.setDataPoint(N,W);b1[U.dp.id]=Y;y++;}if(R){R.setContext(h.buildSeriesContext(this._data,L,["color","shape"]));}this._series[L]=R;}if(this._series.every(function(R){return R==null;})){this._series=[];}var c1=d.create("g");c1.setAttribute("class",I.DATAPOINT_GROUP);this._showDatapoints(c1);this._postRender(c1);e.node().appendChild(c1);this._drawDataLabels(e,c1);};K._buildWrapperConfig=function(e,i,j){var x;if(this.isBigDataMode()&&j==null){var y=this._getShape(e);var L=this._getMarkerSize();x={rawData:e,graphic:{width:L,height:L,borderWidth:w,shape:y},data:{translate:[i.x,i.y]}};}else{var N=j||e.dp.context();x=J.superclass._buildWrapperConfig.call(this,e,i,N);}if(this._data.timeAxis){x.timeField=this._getTimeField();}if(this._isBigData){x.isBigData=true;}return x;};K._preShowDatapoints=function(){var e=this._realSize;var L=this._series;var N=this._properties;var Q=P.createPixelBoard(e.width,e.height,{layerLimit:1,visibleThreshold:6});for(var i=L.length;i--;){var R=L[i].getDataPoints();for(var j=R.length;j--;){var U=R[j];if(U){var W=U.getPosition();var x=Math.round(W.x);var y=Math.round(W.y);var X=U.getConfig().graphic;var Y=X.borderWidth/2;var Z=Math.round(X.width/2+Y);var $=Math.round(X.height/2+Y);var _=P.isAreaVisible(Q,X,x,y,Z,$);U.setVisible(_);}}}};K._showDatapoints=function(e){if(this.isBigDataMode()){this._preShowDatapoints();}this._renderDataPoints(e);};K._renderDataPoints=function(e){var i=this._series;var j=i.length;var x=this._dataPointContext;for(var y=0;y<j;y++){var L=this._getDataPointRenderer(y);if(!L){continue;}var N=i[y];if(!N){continue;}var Q=N.getDataPoints();var R=Q.length;for(var U=0;U<R;U++){var W=Q[U];if(!W){continue;}var X=W.getConfig().rawData;if(X){var Y=W.getPosition();var Z=this._buildWrapperConfig(X,Y,X.dp.context());var $=this._buildData(Z);W.setConfig(Z);W.setData($);x[X.dp.id]=Z;}if(!W.isVisible()){continue;}var _=this._drawDataPoint(L,W);W.setNode(_);if(_){e.appendChild(_);}}}};K.isBigDataMode=function(){return this._isBigData;};K.update=function(e){this._applyChanges();this._dataLabels.setSize(this._realSize);var i=this._selection.select(".v-plot-main");this._drawGridlines(this._selection);this._updateDatapoints(i);};K._redrawReferenceLine=function(e){};K.scroll=function(e){this._setOffset(e);if(!this._selection){return;}if(!this._isInTrellis){var i=this._selection.select("g.v-plot-main");var j="translate("+this._offset.x+", "+this._offset.y+")";i.node().setAttribute("transform",j);}this._redrawReferenceLine(e);this._repositionReferenceLine();this.renderTrendlines(this._selection);if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};K._updateDatapoints=function(e){for(var x in this._dataHandler){if(this._dataHandler[x].reset){this._dataHandler[x].reset();}}var y=this._series;for(var i=y.length;i--;){var L=y[i];if(!L){continue;}var N=this._getDataPointRenderer(i);if(!N){continue;}var Q=y[i].getDataPoints();for(var j=Q.length;j--;){var R=Q[j];if(!R){continue;}var U=R.getRawData();if(!U){continue;}var W=this._getPosition(i,j,U);if(!W){continue;}R.setPosition(W);var X=R.getConfig();X.data.translate=[W.x,W.y];if(!R.isVisible()){continue;}var Y=R.getNode();if(!Y){continue;}this._updateDatapoint(Y,N,X,W);}}var Z=e.selectAll('.'+I.DATAPOINT)[0];this._dataLabels.updatePosition(e,Z);};K._updateDatapoint=function(e,i,j,x){if(i.update&&T.isFunction(i.update)){i.update(e,j);}if(x.hasOwnProperty("x")&&x.hasOwnProperty("y")){e.setAttribute("transform",'translate('+x.x+', '+x.y+')');}};K._createDataPoint=function(e,i,j,x,y,L,N,Q){var R=new D(e,i,null,-1);R.init(j,L,x,N&&N.dp&&N.dp.id?N.dp.id:C.NULL_VALUE,Q);R.setPosition(y);R.setRawData(N);return R;};K._drawGridlines=function(e){var i=this._realSize;var j=C.DIRECTION.HORIZONTAL;var x=this._properties.proxy('gridline');var y=[i.height,0];var L=this._getLeftAxisName();var N=this._data[L];var Q=new V(N.scale.getDomain(),y);Q.setTickHint(N.tickHint);G.drawValueGridline(e,i.width,i.height,Q,x,j,this.runtime().effectManager());};K._getDataHandler=function(){return this._hasTimeAxis()?{"valueAxis":g.getHandler()}:{"valueAxis":g.getHandler(),"valueAxis2":g.getHandler()};};K.getDataPointPosition=function(e,i){var j=this._data.series[e][i];var x=this._getPosition(e,i,j);x.height=0;return x;};K._getMarkerSize=function(){if(!this._markerSizeDirty){return this._markerSize;}var e=this._markerSize;if(!(T.isExist(e)&&M<=e&&e<=t)){e=s;}this._markerSizeDirty=false;this._markerSize=e;return e;};K._getBorderColor=function(){if(!this._dpStrokeColorDirty){return this._dpStrokeColor;}var e;if(this._dpStrokeVisible===true){e=this._dpStrokeColor;}else{e=u;}this._dpStrokeColorDirty=false;this._dpStrokeColor=e;return e;};K._getColor=function(e){var i=null;if(this._data.color){var j=e.color;if(j&&j.length){var x=m.getBubbleDepth(this._properties,"colorDepth",j);j=j.slice(0,x);}i=this._data.color.scale.scale(j);}return i;};K._getShape=function(e){var i;if(e.hasOwnProperty("shape")){var j=e.shape;if(j&&j.length){var x=m.getBubbleDepth(this._properties,"shapeDepth",j);j=j.slice(0,x);}i=this._data.shape.scale.scale(j);}else{var y=this._shapePalette||[];i=y.length?y[0]:v;}return i;};K._buildConfig=function(e,i,j){var x=this._properties;var y=this._getColor(e);var L=this._getShape(e);var N=this._getMarkerSize();var Q=this._getBorderColor();var R={graphic:{drawingEffect:this._drawingEffect,fill:y,shape:L,width:N,height:N,borderColor:Q,borderWidth:w,opacity:this._dpOpacity},data:{color:y,shape:L,translate:[i.x,i.y]},ctx:j,effectManager:this._effectManager};return R;};K._buildData=function(e){var i=e.graphic;var j={color:i.fill,shape:i.shape,borderColor:i.borderColor};if(this._data.timeAxis){j.timeField=e.timeField=this._getTimeField();}return j;};(new H()).decorate(J);K._hasTimeAxis=function(){return/timeseries/.test(this._renderType);};K._getBottomAxisName=function(){return this._hasTimeAxis()?'timeAxis':'valueAxis';};K._getLeftAxisName=function(){return this._hasTimeAxis()?'valueAxis':'valueAxis2';};K._getTimeField=function(){if(!this._timeField&&this._data&&this._data.timeAxis){this._timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});}return this._timeField;};K._recordPlotWindow=function(){var W=this._properties.get("window"),e=this.getVisibleRange();if(e.x||e.y){this.runtime().statusManager().set("plotArea.window",W);}};K.getVisibleRange=function(){var e={};var i=!this._properties.origin.get("interaction.noninteractiveMode");if(i){var j=this._properties.get("window.start")||{},x=this._properties.get("window.end")||{},y,L,N;var Q=function(U){if(this._hasTimeAxis()){L=this._data.timeAxis.scale.getDomain();N=this._data.valueAxis.scale.getDomain();}else{L=this._data.valueAxis.scale.getDomain();N=this._data.valueAxis2.scale.getDomain();}var W=U;if(U===C.PLOTAREA.FIRST_DATAPOINT){if(this._hasTimeAxis()){W={timeAxis:L[0],valueAxis:N[0]};}else{W={valueAxis:L[0],valueAxis2:N[0]};}}else if(U===C.PLOTAREA.LAST_DATAPOINT){if(this._hasTimeAxis()){W={timeAxis:L[1],valueAxis:N[1]};}else{W={valueAxis:L[1],valueAxis2:N[1]};}}return W;};var R=F.startEndConvertor(j,x,this._properties.origin);j=Q.call(this,R.start);x=Q.call(this,R.end);if(this._hasTimeAxis()){if(j.hasOwnProperty("timeAxis")||x.hasOwnProperty("timeAxis")){y=this._data.timeAxis.scale.getDomain();e.x=k.visibleRangeTransform(y,(new Date(j.timeAxis)).getTime(),(new Date(x.timeAxis)).getTime());}if(j.hasOwnProperty("valueAxis")||x.hasOwnProperty("valueAxis")){y=this._data.valueAxis.scale.getDomain();e.y=k.visibleRangeTransform(y,j.valueAxis,x.valueAxis);}}else{if(j.hasOwnProperty("valueAxis")||x.hasOwnProperty("valueAxis")){y=this._data.valueAxis.scale.getDomain();e.x=k.visibleRangeTransform(y,j.valueAxis,x.valueAxis);}if(j.hasOwnProperty("valueAxis2")||x.hasOwnProperty("valueAxis2")){y=this._data.valueAxis2.scale.getDomain();e.y=k.visibleRangeTransform(y,j.valueAxis2,x.valueAxis2);}}}return e;};K.isHorizontal=function(){return(this._options.isHorizontal===true);};n.register(q.DATAPOINT_NAVIGATOR,q.TIMESCATTER,p);n.register(q.DATAPOINT_NAVIGATOR,q.SCATTER,p);(new r()).inject(J.prototype);return J;});define('sap/viz/chart/components/datalabels/BubbleDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/ScatterDataLabels',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager",'sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/DataUtils'],function(o,S,D,L,a,T,b,c,d){var I="bubbleWidth";var e="color";var f="regionColor";var g="shape";var h="regionShape";var B=function(r,i){B.superclass.constructor.apply(this,arguments);this._labelPosition="inside";this._needDateFormat=false;};o.extend(B,S);var p=B.prototype;p.destroy=function(){B.superclass.destroy.call(this);this._labelPosition=null;this._timeBindingId=null;this._datalabel_type=null;this._needDateFormat=false;};p.getBound=function(){var i;if(this._isTrellis){i={left:0-this._trellisPadding.left,width:this._trellisCellSize.width,top:0-this._trellisPadding.top,height:this._trellisCellSize.height};}else{i=B.superclass.getBound.call(this);}return i;};p.setTimeBindingId=function(v){this._timeBindingId=v;};p._isPrimary=function(t){return this._hasTimeAxis()?t==='timeAxis':t==='valueAxis';};p._isSecondary=function(t){return this._hasTimeAxis()?t==='valueAxis':t==='valueAxis2';};p._getDataLabelInfo=function(n){var i=D.getContextByDataModel(n,this._data);this._datalabel_type=this._properties.get("type");if(this._datalabel_type===f){this._datalabel_type=e;}else if(this._datalabel_type===h){this._datalabel_type=g;}var k,v;if(this._data.hasOwnProperty(this._datalabel_type)&&this._data[this._datalabel_type].metaData){k=this._data[this._datalabel_type].metaData[0].id;v=i[k];if(v===null){v=undefined;}return{key:k,value:v};}else{if(this._data.hasOwnProperty(I)&&this._data[I].metaData){k=this._data[I].metaData[0].id;v=i[k];return{key:k,value:v===null?undefined:v};}return{key:null,value:undefined};}};p._buildDataLabelText=function(i,k,n,q){return a.buildDataLabelText(this._properties,i,k,n,q,j.bind(this),m.bind(this),l.bind(this));};function j(i){var t=i.get('type');var r;if(t==='color'||t==='shape'){r=[t];}else if(this._isPrimary(t)&&(this._hasTimeAxis()||this._timeBindingId)){r=['date'];this._needDateFormat=true;}else{r=['value'];}return r;}function l(k,n){var t='';var q,r,s;if(this._data.hasOwnProperty(this._datalabel_type)&&this._data[this._datalabel_type].metaData){q=this._data[this._datalabel_type].metaData;s=q?q.length:0;}for(var i=0;i<s;i++){r=k[q[i].id+d.DIMENSION_DISPLAYNAME_SUFFIX]||k[q[i].id];t+=b.isString(r)||!b.isNaN(r)?r:L.get('IDS_ISNOVALUE');if(i<s-1){t+='-';}}return t;}function m(i,k,n){var t=i.get('type');var q;if(t==="color"||t==="shape"){q=k[0];}else if((t==="valueAxis"||t==="valueAxis2"||t==='bubbleWidth')&&this._needDateFormat){q=k[0];}else{q=b.isNaN(n.value)?L.get('IDS_ISNOVALUE'):k[0];}return q;}p._processDataLabelRendererConfig=function(i,k){var s=this._fixBBoxWhenInvisible(k),n=this._properties.get("style"),t;var r=this._properties.get("respectShapeWidth");if(r){if((this._isPrimary(this._datalabel_type)&&!this._timeBindingId)||this._isSecondary(this._datalabel_type)||this._datalabel_type===I){var q=n.fontSize;if(!b.isNaN(q)){q+='px';}var u=T.fastMeasure(i.text,q,n.fontWeight,n.fontFamily);if(u.width>s.width){i.text='';}return;}var v={};var w=this.runtime().envManager();v.reverseDots=(w&&w.reverseDots());t=T.ellipsis(i.text,undefined,s.width,i.styles.cssString,v);if(t!==i.text&&t.indexOf('...')>=0&&t.length<6){t='';}i.text=t;}};var C=3;p.hideConditional=function(i){var n=i.length;for(var k=0;k<n;++k){var q=i[k];var s=q.center;for(var t=k+1;t<n;++t){var u=i[t].center;var r=c.getData(i[t].dataPoint).width/2+C;if((s.x-u.x)*(s.x-u.x)+(s.y-u.y)*(s.y-u.y)<=r*r){q.skip=true;break;}}}B.superclass.hideConditional.call(this,i);};p.sortDataLabelInfos=function(i){};return B;});define('sap/viz/chart/scales/SizeScaleUtil',["sap/viz/framework/common/util/NumberUtils"],function(N){var M=4;var D=10;var S={build:function(m,a,d){var b;if(m){if(m<0){m=D;}b=m<=a?m:D;}var v=d[0],c=d[1];var w=d.withNoValue?d.withNoValue:false;return function(e){if(isNaN(e)||(isNaN(c)&&isNaN(v))){return b?b:M;}if(v===c){if(w){return a;}else{return D;}}var r;if(b){if(c>v&&e>=v&&e<=c){r=Math.pow((Math.abs(e)-v)/(c-v),0.5)*(a-b)+b;}else{r=b;}}else{r=Math.pow(Math.abs(e)/c,0.5)*a;}return r>M?r:M;};}};return S;});define('sap/viz/chart/components/plots/BubblePlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/components/plots/ScatterPlot','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/renderers/ScatterRenderer','sap/viz/chart/components/datalabels/BubbleDataLabels','sap/viz/chart/scales/SizeScaleUtil','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/plots/ProjectionHelper','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/BoundingBoxUtils"],function(o,D,N,S,c,T,C,d,f,g,B,h,k,P,O,l){function m(r,a){m.superclass.constructor.apply(this,arguments);this._seletedSeries=[];this._semanticMgr.setUseSemanticPattern(true);if(this._renderType&&this._renderType.indexOf("time")>-1){this._bigDataThreshold=Infinity;}}o.extend(m,S);var M=4;var n=1;var p=m.prototype;p.setSizeScale=function(a){this._widthScale=a;};p.getWidthScale=function(){return this._widthScale;};p._getOrderMap=function(){return this._data.orderMap;};p.setLastSeries=function(a,b){var e=this._series;var j=e.length;if(!j){return;}var i=j;while(i--){var q=e[i];if(O.deepEqual(a,q.getContext())){var r=this._seletedSeries.indexOf(i);if(r!==-1){this._seletedSeries.splice(r,1);}this._seletedSeries.push(i);if(b&&j>1){this.refresh();}break;}}};p.destroy=function(){m.superclass.destroy.call(this);this._widthScale=null;this._seletedSeries=[];};var s=function(a,b){return b-a;};p._getSortedSeries=function(){var a=this._getOrderMap();var b=this._series;var e;e=Object.getOwnPropertyNames(a);e.sort(s);return e;};p._buildConfig=function(a,b,e){var i=m.superclass._buildConfig.apply(this,arguments);var j=M;if(a.hasOwnProperty('bubbleWidth')){j=Math.max(M,this._widthScale(a.bubbleWidth));}i.graphic.width=j;i.graphic.height=j;i.graphic.opacity=this._dpOpacity;return i;};p._getFillColorConfig=function(a,b,e,i){var j=i.bubbleWidth<0;this._semanticMgr.setUseSemanticPattern(!j);m.superclass._getFillColorConfig.apply(this,arguments);if(j){a.graphic.fillOpacity=0;a.graphic.opacity=1;a.graphic.borderColor=a.graphic.fill;}a.data.negativeValue=j;this._semanticMgr.setUseSemanticPattern(true);return a;};p._buildWrapperConfig=function(a,b,e){var i;if(this._isBigData&&e==null){var j=this._getShape(a);var q=M;var r=false;if(a.hasOwnProperty("bubbleWidth")){q=Math.max(M,this._widthScale(a.bubbleWidth));r=a.bubbleWidth<0;}i={graphic:{width:q,height:q,borderWidth:n,shape:j},data:{negativeValue:r,translate:[b.x,b.y]}};}else{i=m.superclass._buildWrapperConfig.apply(this,arguments);}return i;};p._showDatapoints=function(a){if(this._isBigData){this._renderBigVolumeDataPoints(a);}else{this._renderDataPoints(a);}};p._renderBigVolumeDataPoints=function(a){var b=this._realSize;var e=this._properties;var q=this._series;var r=this._dataPointContext;var i,j,t;var u=P.createPixelBoard(b.width,b.height,{layerLimit:1,visibleThreshold:6});var v=this._getSortedSeries();var w=this._getOrderMap();var z,A=v.length;var E=this._properties.get('showNegativeValues');var F,G,H;var I,J,K,L;for(i=A;i>=0;i--){if(i===A){H=this._seletedSeries;}else{H=w[v[i]];}z=H.length;for(j=z-1;j>=0;j--){F=H[j];if(i!==A&&this._seletedSeries.length>0&&this._seletedSeries.indexOf(F)!==-1){continue;}G=q[F];if(!G){continue;}K=this._getDataPointRenderer(F);if(!K){continue;}I=G.getDataPoints();J=I.length;for(t=0;t<J;t++){L=I[t];if(L){var Q=L.getRawData();if(!Q){continue;}var R=L.getConfig();if((!E&&R.data.negativeValue)||R.data.isNoValue){L.setVisible(false);}else{var U=L.getPosition();var x=Math.round(U.x);var y=Math.round(U.y);var V=R.graphic;var W=Math.round(V.width/2+V.borderWidth);var X=Math.round(V.height/2+V.borderWidth);V.negativeValue=R.data.negativeValue;var Y=P.isAreaVisible(u,V,x,y,W,X);L.setVisible(Y);if(Y){R=this._buildWrapperConfig(Q,U,Q.dp.context());L.setConfig(R);var Z=this._buildData(R);r[Q.dp.id]=R;L.setData(Z);var $=this._drawDataPoint(K,L);L.setNode($);if($){a.insertBefore($,a.firstChild);}}}}}}}};p._getDataLabels=function(a,r){return new B(r,{name:a});};p.getDataPointPosition=function(a,i){var b=m.superclass.getDataPointPosition.apply(this,arguments);var e=this._data.series[a][i];if(this._widthScale){b.r=this._widthScale(e.bubbleWidth);}return b;};p._drawDataPoint=function(a,b){var e=this._properties.get('showNegativeValues');var i=b.getConfig();if(false===e&&i.data.negativeValue){return null;}if(true===i.data.isNoValue){return null;}return m.superclass._drawDataPoint.apply(this,arguments);};p._buildData=function(a){var r=m.superclass._buildData.apply(this,arguments);var b=a.graphic;r.width=b.width;r.height=b.width;r.fillOpacity=b.fillOpacity;if(b.pattern){r.pattern=b.pattern;}return r;};p._postRender=function(e){m.superclass._postRender.apply(this,arguments);if(this._isBigData){return;}var j=e.querySelectorAll("."+C.CSS.CLASS.DATAPOINT);var q=j.length;var r=[];var i=0;for(i=0;i<q;++i){r.push({index:i,dp:j.item(i)});}r.sort(function(a,b){var t=k.getData(b.dp).width-k.getData(a.dp).width;if(t===0){t=a.index-b.index;}return t;});for(i=0;i<r.length;++i){e.appendChild(r[i].dp);}};p._updateDatapoint=function(a,b,e,i){var j=this._properties.get('showNegativeValues');if(false===j&&e.data.negativeValue){return;}if(true===e.data.isNoValue){return;}return m.superclass._updateDatapoint.call(this,a,b,e,i);};p.hitTest=function(a){var b=this._dataPointContext,x=a.x,y=a.y;var r;var i=this.getSize();var j=this._offset;var q=-j.x;var t=-j.y;var u=this._selection.select(".v-plot-bound").node();var v=u.getBoundingClientRect().width/u.getBBox().width;var w=this._properties.get('showNegativeValues');if(a.hasOwnProperty("width")&&a.hasOwnProperty("height")){var z=a.width,A=a.height;var E=i.width;if(v!=1){E*=v;}r=b.filter(function(e){if(!w&&e.data.negativeValue){return false;}var F=e.data.translate.slice();if(v!=1){F[0]*=v;F[1]*=v;}var G={left:F[0]-e.graphic.width/2-e.graphic.borderWidth,top:F[1]-e.graphic.height/2-e.graphic.borderWidth,width:e.graphic.width+2*e.graphic.borderWidth,height:e.graphic.height+2*e.graphic.borderWidth};var H={left:x+q,top:y+t,width:z,height:A};return l.intersects(G,H);});}else{r=b.filter(function(e){if(!w&&e.data.negativeValue){return false;}var F=e.data.translate.slice();if(v!=1){F[0]*=v;F[1]*=v;}var G={left:F[0]-e.graphic.width/2-e.graphic.borderWidth,top:F[1]-e.graphic.height/2-e.graphic.borderWidth,width:e.graphic.width+2*e.graphic.borderWidth,height:e.graphic.height+2*e.graphic.borderWidth};var H={x:x+q,y:y+t};return l.contains(G,H);});}return r;};return m;});define('sap/viz/chart/components/renderers/TimeReferenceLineRenderer',['sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/renderers/ReferenceLineRenderer','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Math',"sap/viz/chart/components/axis/sub/TimeAxisBodyHelper",'sap/viz/framework/common/util/TypeUtils'],function(O,R,C,S,D,M,T,a){var b=O.extend({},R);var c=C.REF_LINE_DASH_TYPE_ARRAY;var d="timeAxis";var e=function(v,h){var k=v;var p=[];var o;var i;var j;var l=(-h.xOffset);var m=0;for(i=0;i<k.length;i++){for(j=0;j<2;j++){if(j<1){m=k[i].y;}else{l=k[i].loc;}o=[l,m];p.push(o);}}return S.outputPath(p);};var n=function(h,j){var r=[];var i;var l=-Number.MAX_VALUE;var k=parseFloat(j);for(i=0;i<h.length;i++){if(h[i]&&a.isExist(h[i].date)&&a.isExist(h[i].value)){var m=(new Date(h[i].date)).getTime();if(!isNaN(m)&&!isNaN(parseFloat(h[i].value))&&m>l){r.push({value:k,timeStamp:m});k=parseFloat(h[i].value);l=m;}}}r.push({value:k,timeStamp:Number.MAX_VALUE});return r;};b._combineConfig=function(h,o,j){var k=o.defaultStyle;var w=o.width;var l=o.height;var m=o.isPercentage;var x=o.xHandlers;var p=o.props;var r=R._combineConfig(h,o);if(h.changePoints&&a.isArray(h.changePoints)&&h.changePoints.length>0){var q=n(h.changePoints,h.value);if(q){r.variety=[];var I;var i;var t=(this._searchAxisHandler(x,d)).getDomain();var s=T.getScale(t,r.realWidth);var u=this._calculatePosition(m,j,h.value);var v=(1-u)*r.realHeight;var y;for(i=0;i<q.length;i++){I={};u=this._calculatePosition(m,j,q[i].value);I.y=(1-u)*r.realHeight-v;I.loc=s(q[i].timeStamp);if(I.loc<0){I.loc=0;}else if(I.loc>r.realWidth){I.loc=r.realWidth;}if((r.variety.length===0||I.loc>y)){r.variety.push(I);y=I.loc;}}}}return r;};b._isInvisiblePosition=function(p,h){return(R._isInvisiblePosition(p)&&(!(h.changePoints&&a.isArray(h.changePoints)&&h.changePoints.length>0)));};b._drawReferenceLine=function(h,k,p,i,j,w,l){if(h.variety&&a.isArray(h.variety)&&h.variety.length>0){var m=S.create("g",p);m.setAttribute("class","v-referenceline v-referenceline-"+k);m.setAttribute("transform","translate("+h.xOffset+","+0+")");var o=S.create("path",m);o.setAttribute("stroke",h.strokeColor);o.setAttribute("stroke-width",h.strokeWidth);o.setAttribute("shape-rendering","crispEdges");var v=g(h,w);var q=e(v,h);o.setAttribute("d",q);o.setAttribute("fill","none");if(C.GRIDLINE_TYPE.DASHED===h.lineType||C.GRIDLINE_TYPE.DOTTED===h.lineType){var r=o.cloneNode(true);r.setAttribute("stroke","transparent");m.appendChild(r);o.setAttribute("stroke-dasharray",c);}else if(C.GRIDLINE_TYPE.INCISED===h.lineType){o.setAttribute("stroke","#ffffff");}}else{R._drawReferenceLine(h,k,p,i,j,w,l);}};var g=function(h,w){var v=[];var s=(-h.xOffset);var j=(s+w);var i;for(i=0;i<h.variety.length;i++){if(h.variety[i].loc>s){v.push(h.variety[i]);}if(h.variety[i].loc>=j){h.variety[i].loc=j;break;}}return v;};var f=function(i,h,o,l){var t=h.label.textSize;var v=g(h,o.width);var j=0;if(i){j=(v.length-1);}var y=v[j].y;var k=(1-o.pos)*l+y-(t.height/2);var r=k;if(h.realHeight){r=(1-o.pos)*h.realHeight+y-(t.height/2);}if(r<=0){k+=t.height/2;}else if(r>=(h.realHeight-t.height)){k-=t.height/2;}return k;};b._drawLabel=function(o){var l=R._buildLabelObj(o);var h=o.height;var i=o.combinedConfig;if(i.variety&&a.isArray(i.variety)&&i.variety.length>0){var j=false;if(o.axisLayout[o.key]==="right"){j=true;}l.rect.y=f(j,i,o,h);l.candidateRect.y=f(!j,i,o,h);}R._layoutAndUpdateLabelDOM(o,l);return l;};return b;});define('sap/viz/chart/components/plots/TimeSeriesPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/renderers/TimeReferenceLineRenderer'],function(o,T){var a=function(S){var b=function(r,c){b.superclass.constructor.apply(this,arguments);};o.extend(b,S);b.prototype.getReferenceLineRenderer=function(){return T;};b.prototype.zoom=function(c){this.update(c);};b.prototype._redrawReferenceLine=function(c){this._drawReferenceLine(c);};b.prototype.update=function(c){if(this._selection){b.superclass.update.apply(this,arguments);this._drawReferenceLine(c);this._repositionReferenceLine();}};return b;};return a;});define('sap/viz/chart/components/plots/YYPlotFactory',['jquery','sap/viz/chart/components/plots/BubblePlot','sap/viz/chart/components/plots/ScatterPlot','sap/viz/chart/components/plots/TimeSeriesPlot'],function($,B,S,T){var p={'bubble':{plotClazz:B},'scatter':{plotClazz:S},'time_bubble':{plotClazz:B,},'timeseries_scatter':{plotClazz:T(S),options:{}},'timeseries_bubble':{plotClazz:T(B),options:{}},};return{getPlotClazz:function(r){var c=p[r];return c&&c.plotClazz;}};});define('sap/viz/chart/components/axis/sub/TimeValueAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ValueScaleUtil","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/framework/common/format/FormatManager"],function(o,V,T,a,L,b,c,F){var e=function(){e.superclass.constructor.apply(this,arguments);};o.extend(e,V);e.prototype._getTicksToRender=function(){var s=this._data,d=s.getDomain();return this._getAllLabels(null,s,true).filter(function(l){return l.value>=d[0]&&l.value<=d[1];}).map(function(l){return l.value;});};e.prototype.drawTicks=function(g,t,w,h,p,d,f){return c.drawTicks(g,t,w,h,p,d,f,true);};e.prototype._getFixedTicksLabels=function(f,d){f.forEach(function(n){n.text=T.isNonEmptyString(n.text)?n.text:L.get('IDS_ISNOVALUE');});return f.filter(function(l){return l.value>=d[0]&&l.value<=d[1];});};e.prototype._getAllLabels=function(p,s,u){var f=this._properties.get("axisTick.fixedTicks"),g=s.getDomain(),l=[];if(f&&f.length>0){l=this._getFixedTicksLabels(f,g);}else{var t=s.timeUnit,h=s.timeUnitGap,j=s.tickNum,k=new Date(g[0]);var m=function(v){return F.format(new Date(v),t.format);},n=function(v){return F.format(new Date(v),"dd/mm/yyyy hh:mm");};k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);for(var i=0,d;i<j;i++){d=new Date(k.getTime());t.set.apply(d,[t.get.apply(k,[])+i*h]);l.push({text:m(d),value:d.getTime()});}var q=s.getDomainFixed();if(q[0]){l[0].text=n(new Date(l[0].value));}if(q[1]){l.push({value:g[1],text:n(new Date(g[1]))});}}this._setLabelsPosition(l,s);if(!u){return this._filterLabels(l);}return l;};e.prototype._filterLabels=function(d){var t=[];if(d.length>1){t=b.calculateLabelsToDrawHelper(d);if(t.length<=1||(t.length===2&&b.isOverLapped(t[0],t[1]))){t=[];}}else if(d.length===1){t=d;}return t;};e.prototype.formatTickValue=function(v,i,p,s){var f=v;var d=s.getDomainFixed();if(d[0]){f=F.format(new Date(v),"dd/mm/yyyy hh:mm");}else{f=F.format(new Date(v),s.timeUnit.format);}return f;};return e;});define('sap/viz/chart/components/axis/TimeValueAxis',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/sub/TimeValueAxisBody","sap/viz/chart/components/scrollbar/Scrollbar"],function(C,o,V,T,S){var a=function(r,b){V.superclass.constructor.apply(this,arguments);this.setChild("axisBody",new T(r,b),{order:1,priority:2,offset:0});this.setChild(C.AXIS.SCROLLBAR_NAME,new S(r,{name:'plotArea.scrollbar'}),{order:2,priority:0,offset:0});this._isPercentageMode=false;};o.extend(a,V);a.prototype.setData=function(d){a.superclass.setData.apply(this,arguments);if(d&&d.scale){this._scale.tickNum=d.scale.tickNum;this._scale.timeUnit=d.scale.timeUnit;this._scale.timeUnitGap=d.scale.timeUnitGap;}};return a;});define('sap/viz/chart/components/zoom/YYZoomer',["sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/zoom/ZoomLimit",'sap/viz/framework/common/util/oo'],function(X,Z,o){function Y(){Y.superclass.constructor.apply(this,arguments);}o.extend(Y,X);Y.prototype.direction=function(){return"xy";};Y.prototype._calcZoomLimit=function(m,d){var p=Z.Regular(m,d),a=m.plot.getVisibleRange(),x=a.x?a.x.ratio:0,y=a.y?a.y.ratio:0;var b=p[0],c=Math.max(p[1],x,y);return{x:{min:b,max:c},y:{min:b,max:c}};};return Y;});define('sap/viz/chart/components/zoom/TimeYZoomer',["sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/zoom/ZoomLimit",'sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/Constants"],function(X,Z,o,T,a,C){function b(){b.superclass.constructor.apply(this,arguments);}o.extend(b,X);b.prototype.direction=function(){var r=this._modules.main._renderType;if(!this.enabled()){return"";}else{switch(r){case"timeseries_waterfall":case"timeseries_line":case"timeseries_column":case"timeseries_stacked_column":case"timeseries_100_stacked_column":case"timeseries_combination":case"timeseries_bullet":return this._modules.isHorizontal?"y":"x";case"timeseries_bubble":case"timeseries_scatter":return"xy";default:return b.superclass.direction.call(this);}}};b.prototype.zoom=function(r,p,n,m){this._status.set("zooming",true);return b.superclass.zoom.call(this,r,p,n,m);};b.prototype._calcZoomLimit=function(m,d){if(!(m.main.isColumnLike&&m.main.isColumnLike())){var p=m.main,c=m.plot,t=p.getChild("timeAxis").module,z=p._properties.get("plotArea.window"),e=p.getData().timeAxis.scale.getDomain(),f=e[1]-e[0],s,g=Math.min(c.getSize().width*0.7,250);if(z){var h=e[0],i=e[1];if(T.isExist(z.start)){if(T.isNumber(z.start)){h=Number(z.start);}else if(T.isNumber(new Date(z.start).getTime())){h=new Date(z.start).getTime();}}if(T.isExist(z.end)){if(T.isNumber(z.end)){i=Number(z.end);}else if(T.isNumber(new Date(z.end).getTime())){i=new Date(z.end).getTime();}}if(i>h){s=f/(i-h);}}var l=t.getChild("axisBody").module.getActiveLevels(),j=(l&&l.length>0)?l[0]:"day",w=c.getSize().width;var k=a['ONE_'+j.toUpperCase()];if(!k){if(j===C.FISCAL.PERIOD){k=C.FISCAL.ONE_FISCAL_PERIOD;}else if(j===C.FISCAL.YEAR){k=C.FISCAL.ONE_FISCAL_YEAR;}}var n=g/k*f/w;if(!T.isExist(s)||s<n){s=n;}return{x:{min:1,max:s},y:{min:1,max:s}};}else{var q={x:{},y:{}},r=Z.Bar(m,d);q.x.min=r[0];q.x.max=r[1];q.y.min=r[0];q.y.max=r[1];return q;}};return b;});define('sap/viz/chart/components/plotareas/YYPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/XYContainer','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/TimeAxis','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/chart/components/plots/YYPlotFactory','sap/viz/chart/components/plots/PlotHelper',"sap/viz/chart/scales/ValueScale","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/axis/TimeValueAxis",'sap/viz/chart/components/util/ValueAxisUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataUtils','sap/viz/chart/scales/TimeScale','sap/viz/chart/components/zoom/YYZoomer','sap/viz/chart/components/zoom/TimeYZoomer','sap/viz/chart/components/util/ZoomUtil',"sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/trendline/Trendline'],function(o,X,V,T,S,P,a,b,N,c,d,U,C,D,e,Y,f,Z,g,i,F,j,O,l){function m(k){var h,v,r=k._plot;if(r._hasTimeAxis()){h="timeAxis";v="valueAxis";}else{h="valueAxis";v="valueAxis2";}function s(){return g.offsetInValue({h:k._data[h].scale,v:k._data[v].scale},k.getOffset(),r.getRealSize());}function t(w){var x=k._data[h].scale,y=k._data[v].scale,z=r.getRealSize(),A={};if(!isNaN(w.x)){A.x=-x.scale(w.x)*z.width;}if(!isNaN(w.y)){A.y=-(1-y.scale(w.y))*z.height;}k.scroll(A);}return{get:s,set:t};}function n(r,h){this._rawData=(h&&h.rawData&&h.rawData.dataModel&&h.rawData.dataModel._rawData);n.superclass.constructor.apply(this,arguments);this._init();r.statusManager().add("plot.offsetInValue",{serializable:false,get:m(this).get,set:m(this).set});}o.extend(n,X);var p=n.prototype;p._init=function(h){var r=this.runtime();this._plot=a.create(this._renderType,P.getPlotClazz(this._renderType),r);this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));this.setChild("plot",this._plot,{position:"center"});this.setLayoutSequence(['left','right','bottom','top']);var k=!this._properties.get("interaction.noninteractiveMode");if(this._hasTimeAxis()){this._bottomAxis=new T(r,{name:'timeAxis',allowInterval:false,hasScrollbar:k,rawData:this._rawData});this._leftAxis=new V(r,{name:"valueAxis"});this.setChild("timeAxis",this._bottomAxis,{position:"bottom"});this.setChild("valueAxis",this._leftAxis,{position:"left"});}else{if(this.isTimeBased()){this._bottomAxis=new c(r,{name:"valueAxis"});this._plot._dataLabels.setTimeBindingId("valueAxis");}else{this._bottomAxis=new V(r,{name:"valueAxis",hasScrollbar:k});}this._leftAxis=new V(r,{name:"valueAxis2"});this.setChild("valueAxis",this._bottomAxis,{position:"bottom"});this.setChild("valueAxis2",this._leftAxis,{position:"left"});}if(k){this._hScrollbar=this._bottomAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;this._vScrollbar=new S(r,{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"});}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:[this._bottomAxis],y:[this._leftAxis]}});};p._preRender=function(){n.superclass._preRender.apply(this,arguments);this._setValueAxisRange();};p._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};p.getDisplayedTimeDomain=function(){if(this._bottomAxis.getName()==="timeAxis"){var h=this.getChildrenByPosition("center")[0];var r=h.getRealSize();var s=h.getSize();var k=false;var t=this._plot.getOffset();var v=false;if(this._data.rawData&&this._data.rawData.dataModel&&this._data.rawData.dataModel._rawData){v=F.isFiscal(this._data.rawData.dataModel._rawData);}return d.getTimeAxisDomain(s,t,r,this.getData().timeAxis.scale.getDomain(),k,v);}return null;};p._setValueAxisRange=function(){var s=this._plot.getSize();var r=this._plot.getRealSize();var h=this._plot.getVisibleRange();if(!h.x&&!h.y){return;}var k={},t={};if(h.x){k.x=h.x.ratio;t.x=h.x.delta*s.width*k.x;}if(h.y){k.y=h.y.ratio;t.y=-(s.height*(k.y-1)+h.y.delta*s.height*k.y);}this.zoom(k);this.scroll(t);};p.destroy=function(){var h=this._data;var s=this.runtime().statusManager();if(s.get("valueAxisScaleDomain")){if(h&&h.valueAxis&&!h.valueAxis.scale.isFixed()&&h.valueAxis.scale.getDomainChanged()){h.valueAxis.scale.setDomain(s.get("valueAxisScaleDomain"));}s.remove("valueAxisScaleDomain");}if(s.get("valueAxis2ScaleDomain")){if(h&&h.valueAxis2&&!h.valueAxis2.scale.isFixed()&&h.valueAxis2.scale.getDomainChanged()){h.valueAxis2.scale.setDomain(s.get("valueAxis2ScaleDomain"));}s.remove("valueAxis2ScaleDomain");}n.superclass.destroy.call(this);this._plot=null;this._bottomAxis=null;this._leftAxis=null;};p.getPlot=function(){return this._plot;};p.isTimeBased=function(){return this._renderType==="time_bubble";};p._hasTimeAxis=function(){return/timeseries/.test(this._renderType);};p.isScatter=function(){return this._renderType==="scatter";};p.setData=function(h){n.superclass.setData.apply(this,arguments);this.updateValueScale();this._plot.setData(this._data);};function u(h,s,k,r){var v=d.updateScatterValueAxis(h,[0,s*0.8],C.BUBBLE.DEFAULT_WIDTH_RATIO,r);v.scale.setRange([0,1]);h.scale=v.scale;h.tickHint=v.tickHint;k.setData(h);}function q(h,s,k,r){var t=C.BUBBLE.DEFAULT_WIDTH_RATIO;var v=h.scale;var w=v.getDomain().slice();var x=v.getDomainFixed();var y;if(w[1]===w[0]){y=j.getPeriod(r)/2;}else{y=(w[1]-w[0])*t;}if(!x[0]){w[0]-=y;}if(!x[1]){w[1]+=y;}h.scale=new e(w,v.getRange(),v.getDomainFixed(),{dataBound:v.getDataBound()});k.setData(h);}p._adjustScale=function(){var h=this._data;var k=this._hasTimeAxis();var v=h.valueAxis;var r=h.valueAxis2;var s=this.runtime().statusManager();var t=function(Q){Q.setZeroAdjusted(true);Q.setDomainChanged(false);};if((v&&v.scale.isFixed())||(r&&r.scale.isFixed())){t(v.scale);if(!k){t(r.scale);}return;}var w=this._properties.get("plotArea.adjustScale");if(!i.isExist(w)||!w){t(v.scale);if(!k){t(r.scale);}return;}v.scale.setZeroAdjusted(false);if(!k){r.scale.setZeroAdjusted(false);}var x=this._roughSize.width;var y=this._roughSize.height;var z=this._renderType;var A=null;var B=null;var E=s.get("valueAxisScaleDomain");if(!E){return;}var G;if(!k){A=v.scale.getDomainFixed();B=r.scale.getDomainFixed();G=s.get("valueAxis2ScaleDomain");if(!G){return;}}else{B=v.scale.getDomainFixed();}var H=function(v,I,Q,R,J){var W=d.updateScatterValueAxis(v,I,C.BUBBLE.DEFAULT_WIDTH_RATIO,false);var $=v.scale;var _=$.getRange();var a1=$.getDomain().slice();$.setRange(I);var b1=W.scale.getDomain().slice();$.setDomain(b1);var c1;var d1=Q[1]<=0?Math.round($.scale(b1[1])):Math.round($.scale(b1[0]));var e1=false;var f1=1.2;if(Q[0]<0&&Q[1]<=0){if(Math.round($.scale(Q[1]))+R>=d1){e1=true;}}else{if(Math.round($.scale(Q[0]))-d1<=R*f1){e1=true;}}var g1=function(h1,I,i1){if(I&&i1){return(h1/(I[1]-I[0]))*(i1[1]-i1[0]);}return h1;};if(e1){if(Q[1]>0){if(Q[0]!==0){c1=b1[0]-g1(R*J,I,b1);}else{c1=g1(-R*J,I,Q);}if($.scale(Q[1]-Q[0])<$.scale(Math.abs(c1))){c1=-b1[1]*1/8;}$.setDomain([c1,Q[1]]);}else if(Q[0]===0&&Q[1]===0){c1=-b1[1]*1/8;$.setDomain([c1,b1[1]]);}else{c1=b1[1]+R*J;$.setDomain([Q[0],c1]);}$.setDomainChanged(true);}else{$.setDomain(a1);}$.setRange(_);};var I;var J=0;if(z.indexOf("scatter")>-1){var K=10;J=1;if(!k&&!A[0]){I=[0,x];H(v,I,E,K,J);}if(!B[0]){I=[0,y];H(k?v:r,I,k?E:G,K,J);}}else if(z.indexOf("bubble")>-1){var L;L=Math.min(y,x);L*=C.BUBBLE.DEFAULT_WIDTH_RATIO;var M=Math.pow(1,0.5)*L/2;J=2;if(!k&&!A[0]){I=[0,x*0.8];H(v,I,E,M,J);}if(!B[0]){I=[0,y];H(k?v:r,I,k?E:G,M,J);}}};p.updateValueScale=function(){var h=this._data;var w=this._roughSize.width;var r=this._roughSize.height;var s=this.runtime().statusManager();if(h&&w>0&&r>0){if(!s.get("valueAxisScaleDomain")){s.add("valueAxisScaleDomain",h.valueAxis.scale.getDomain().slice());}if(!this._hasTimeAxis()&&!s.get("valueAxis2ScaleDomain")){s.add("valueAxis2ScaleDomain",h.valueAxis2.scale.getDomain().slice());}this._adjustScale();var t=this._hasTimeAxis();var v=this.runtime().statusManager().get('timeLevels');var x=v?v[0]:"day";if(t){q(h.timeAxis,w,this._bottomAxis,x);u(h.valueAxis,r,this._leftAxis);}else{var y=this.isTimeBased();u(h.valueAxis,w,this._bottomAxis,y);u(h.valueAxis2,r,this._leftAxis);}var M=0.8;var z={valueAxis:[0,w*M],valueAxis2:[0,r*M]};var A=l.updateValueScale(this._plot,z,h);if(A){Object.keys(A).forEach(function(k){if(t){u({values:h.valueAxis.values,scale:A[k].scale},r,this._leftAxis);}else if(k==="valueAxis"){var y=this.isTimeBased();u({values:h.valueAxis.values,scale:A[k].scale},w,this._bottomAxis,y);}else{u({values:h.valueAxis2.values,scale:A[k].scale},r,this._leftAxis);}h[k]=O.extend(true,{},h[k],A[k]);},this);}if(t&&h&&h.timeAxis&&h.timeAxis.scale){var B=h.timeAxis.scale;var E=B.getDomain();var G=O.extend(true,[],E);this._plot._expandTrendlineXRange(G);if(E&&E[1]<G[1]){h.timeAxis.scale=new e(G,B.getRange(),B.getDomainFixed(),{dataBound:B.getDataBound()});q(h.timeAxis,w,this._bottomAxis,x);}}}};p._configLayout=function(){var s=this._scrollbarExistence();if(this._vScrollbar){this._vScrollbar.isExist(s.v);}if(this._hScrollbar){this._hScrollbar.isExist(s.h);}return n.superclass._configLayout.apply(this,arguments);};p._scrollbarExistence=function(){var E=this.getZoomer().enabled();var z=this.getZoomer().direction()||"",x=E&&z.indexOf("x")!==-1,y=E&&z.indexOf("y")!==-1;var s=this._properties.get("plotArea.window.start")||{},h=this._properties.get("plotArea.window.end")||{},k=this._hasTimeAxis();var v=F.startEndConvertor(s,h,this._properties.origin);s=v.start;h=v.end;if(!x){if(k){x=s.hasOwnProperty("timeAxis")||h.hasOwnProperty("timeAxis");}else{x=!(isNaN(s.valueAxis)&&isNaN(h.valueAxis));}}if(!y){if(k){y=!(isNaN(s.valueAxis)&&isNaN(h.valueAxis));}else{y=!(isNaN(s.valueAxis2)&&isNaN(h.valueAxis2));}}return{h:x,v:y};};p._getZoomer=function(){if(this._hasTimeAxis()){return new f(this);}else{return new Y(this);}};return n;});define('sap/viz/chart/chains/YYChains',['sap/viz/chart/chains/ChainUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/chains/BaseChains','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/binding/BindingManager','sap/viz/chart/chains/SeriesContext'],function Setup(C,T,B,A,a,S){var b={};var c=['GetDimensionsFromFlattable','GetContext','OnBindingFinished','OnBindingStart'];b=B.extend('yy',c);var g=function(r,f,h,l,n,o){var s=[],p=[],q=[],u=[],v=[];var w=o&&o.allowEmptyMeasure;var x='context';var y="addition";var z={};f.forEach(function(d){if(l[d]){p.push(l[d]);q.push(d);}});h.forEach(function(m){if(l[m]){u.push(l[m]);v.push(m);}});var D=C.dpInitializer(n);var E=C.getArrayLength(p);var F=C.generateIndexArray(E);var G,i,L,j,H,k,I,J;L=F.length;I=u.length;var K=h.filter(function(e){return e!=='bubbleWidth';});for(i=0;i<L;i++){var M=F[i];if(!T.isExist(M)){continue;}G=D();H=M.length;for(j=0;j<H;j++){G[q[j]]=p[j].rowArray[M[j]];}var N;for(k=0;k<I;k++){J=u[k].values;if(!T.isExist(J)){G[v[k]]=undefined;continue;}N=0;for(j=0;j<H;j++){if(w||T.isExist(J[M[j]])){J=J[M[j]];N++;}}G[v[k]]=J;}var O=C.processYYSeriesContext(l.context,M);if(O){G[x]=O;}var P=C.processYYSeriesContext(l.additionInfo,M);if(P){G[y]=P;}if(N===H||M===0){var Q=C.generateNum(E,M);s[Q]=s[Q]||[];if(T.isArray(G[v[0]])){for(j=0,H=G[v[0]].length;j<H;++j){var e={};var R=false;for(var U in G){if(T.isExist(G[U])){if(h.indexOf(U)>-1){e[U]=G[U][j];}else if(U===x){e[U]=e[U]||[];var V=G[U];for(var t=0;t<V.length;++t){e[U].push(V[t][j]);}}else{e[U]=G[U];}if(K.indexOf(U)>-1&&!T.isExist(e[U])){R=true;}}}if(w||!R){s[Q].push(e);if(e.hasOwnProperty("bubbleWidth")&&T.isNumber(e.bubbleWidth)){z[e.bubbleWidth]=z[e.bubbleWidth]||[];z[e.bubbleWidth].push(Q);}}}}else if(w||K.every(function(m,i){return T.isExist(G[m]);})){s[Q].push(G);}}}l.series=s.filter(function(e){return e;});l.seriesContext=S(s,q,p,u);l.orderMap=z;};b.yyGetBindingSeries=C.generateSeriesGetter(g);b.yyGetMeasuresFromFlattable=function(r,f,m,d,e,h){b.parsedData=C.getData(r,d,b.parsedData);var i=/bubbleWidth/.test(h);var j=C.handleMeasure(r,f,m,b.parsedData,b.multiDimensionIndex,{enableDuplicated:e});var k=A.transpose(j.measureArray);var x=0,l=k.length;var n=Array(l);for(;x<l;++x){var o=k[x];var p=Infinity,q=-Infinity;for(var y=0,s=o.length;y<s;++y){var t=o[y];if(t==null){if(i){t=0;}else{continue;}}if(i&&t<0){t=o[y]=-t;}p=Math.min(p,t);q=Math.max(q,t);}n[x]=[p,q];}var u=C.buildMetaData(r,f);var v={values:j.multiArray,range:n,metaData:u};return v;};Object.keys(b).forEach(function(k){a.registerChain(k,b[k]);});return b;});define('sap/viz/chart/scales/ShapeScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale','sap/viz/framework/common/util/DataUtils'],function(o,B,D){var S=function(d,r){S.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.ShapeScale";this._name=null;this._type="shape";this._initScale();};o.extend(S,B);S.prototype._initScale=function(){if(this._scale===undefined){this._scale=d3.scale.ordinal();var d=[];for(var i=0,l=this._domain.length;i<l;i++){d.push(D.valuesToString(this._domain[i]));}var r=[].concat(this._range);this._range=r.splice(0,d.length>0?d.length:1);this._scale.domain(d).range(this._range);}};S.prototype.scale=function(v){if(v){return this._scale(D.valuesToString(v));}else{return this._scale(v);}};return S;});define('sap/viz/chart/scales/ShapeScaleProcessor',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ScaleRepository','sap/viz/framework/common/util/Constants','sap/viz/chart/scales/ShapeScale','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/util/PropertyUtils','sap/viz/chart/scales/ScaleUtil'],function(T,S,C,a,A,D,P,b){var r=A.transpose;var g=b.generateUniqueDomain;var s=function(d,n,c,p,o,e){o=o||{};var f=o.seriesType,h=o.role;var i=c.get(n);var j=i?i.palette:null;if(!T.isExist(d)){return new a([],j);}if(!T.isExist(c.getDefault(n))){c.add(n,{serializable:true,defaultValue:{"feed":n,"type":"shape","palette":C.SHAPE}});}var k=[];if(d.values){if(f==='yy'){var l=P.getBubbleDepth(p.origin,"plotArea.shapeDepth",d.values);var m=p.get("legend.ignoreNoValue");k=g(d.values,l,d.metaData,d.rowArray,e,m,"shape");}else{k=r(d.values);}}if(!j){j=C.SHAPE;}p.origin.add('plotArea.shapePalette',{defaultValue:C.SHAPE,serializable:false,get:function(){return j;}});if(k!=null){return new a(k,j);}};S["shapeScale"]=s;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForScatter',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/chart/components/util/DataPointUtils',"sap/viz/framework/common/util/DOM",'sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler',"sap/viz/framework/interaction/BehaviorManager"],function(C,T,H,D,a,b,c,d,B){var t=["info/timeseries_scatter","info/timeseries_bubble"];var s=["info/bubble","info/scatter","info/time_bubble"].concat(t);s=a.addTrellisType(s);var f=C.CSS.CLASS;function g(e){var r=1,i;if(j(e)&&/scale/.test(e.getAttribute("transform"))){i=e.querySelector("circle")||e.querySelector("rect")||e.querySelector("ellipse")||e.querySelector("line")||e.querySelector("polyline")||e.querySelector("polygon")||e.querySelector("path");if(i){var o=i.getBoundingClientRect();var p=i.getBBox();r=p.width/o.width;}}return r;}function h(e){return(D.getData(e).fillOpacity===0);}function j(e){return c.hasClass(e,'v-datapoint')||c.hasClass(e,'v-datapoint-marker')||c.hasClass(e,'v-lines');}var k=function(i,e,p,o){var q=D.getData(e).color;var r;if(T.isFunction(p)){r=p(q);}else if(T.isString(p)){r=i.parseColorProperty(p,q);}r=r||q;if(o){var u=D.getData(e);r=i.register({drawingEffect:o,fillColor:r,direction:"vertical",graphType:u.shape,radius:u.r,patternEffect:u.pattern});}return r;};function l(i,e,p,o,r){var q,u;if(p.stroke.visible===true||h(e)){if(h(e)){q=k(i,e,p.color);}else{q=k(i,e,p.stroke.color);}u=H.getWidth(p.stroke.width,o,r);}else{q=D.getData(e).borderColor;u=1;}var v=e.querySelector('path')||e.querySelector("circle");if(v){v.setAttribute("stroke",q);v.setAttribute("stroke-width",u);}var w=e.querySelector('rect.v-highlight-bound');if(w){w.removeAttribute("stroke");w.removeAttribute("stroke-width");w.removeAttribute("stroke-dasharray");w.removeAttribute("shape-rendering");}}function m(i,e,p,o,q){var r=p.opacity;if(!T.isExist(p.opacity)){r=1;}e.setAttribute("fill-opacity",r);var u=e.querySelector("path")||e.querySelector("circle");if(u){u.setAttribute("stroke-opacity",r);if(!o){var v=k(i,e,p.color,q);u.setAttribute('fill',v);}}}var n=[{"id":"selectDataPoint_scatter","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":s},"handler":function(o,p){var q=H.turnToArray(o.data.targets);var r=p.getProperties();var u={color:r.get('interaction.selected.color'),opacity:r.get('interaction.selected.opacity'),stroke:r.get('interaction.selected.stroke')};var v=T.isExist(r.get('plotArea.markerRenderer'));var w=r.get('plotArea.drawingEffect');var x=p.getEffectManager();if(p.isBigDataMode()){var y=p.getNodes(p.NodeType.DATA_POINT,false);q=b.findByDataPointIds(y,q);}var z={name:o.name,data:{targets:q}};p.fireEvent(z,true);for(var i=q.length;i--;){var e=q[i];var A=g(e);l(x,e,u,1,A);m(x,e,u,v,w);}}},{"id":"deselectDataPoint_scatter","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":s},"handler":function(i,o){var p=H.turnToArray(i.data.targets);var q=o.getProperties();var r;if(i.data.isAnyOtherSelected){r={color:q.get('interaction.deselected.color'),opacity:q.get('interaction.deselected.opacity'),stroke:q.get('interaction.deselected.stroke')};}else{r={color:q.get('plotArea.dataPoint.color'),stroke:q.get('plotArea.dataPoint.stroke')};}var u=T.isExist(q.get('plotArea.markerRenderer'));var v=q.get('plotArea.drawingEffect');var w=o.getEffectManager();if(o.isBigDataMode()){var x=o.getNodes(o.NodeType.DATA_POINT,false);p=b.findByDataPointIds(x,p);p=[].slice.call(p);}var y={name:i.name,data:{targets:p}};o.fireEvent(y,true);p.forEach(function(e){var z=g(e);l(w,e,r,1,z);m(w,e,r,u,v);});}},{"id":"hoverOnDataPoint_scatter","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":s},"handler":function(i,o){o.fireEvent(i,true);var p=H.turnToArray(i.data.targets);var q=o.getProperties();var r=q.get('interaction.hover');var u=T.isExist(q.get('plotArea.markerRenderer'));var v=q.get('plotArea.drawingEffect');var w=o.getEffectManager();p.forEach(function(e){var x=g(e);if(!i.data.byKeyboard){l(w,e,r,2,x);}m(w,e,r,u,v);});}},{"id":"unhoverOnDataPoint_scatter","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":s},"handler":function(i,o){o.fireEvent(i,true);var p=H.turnToArray(i.data.targets);var q=o.getProperties();var r;var u=T.isExist(q.get('plotArea.markerRenderer'));var v=q.get('plotArea.drawingEffect');var w=o.getEffectManager();p.forEach(function(e){var x=g(e);if(d3.select(e).classed(f.DATAPOINTSELECTED)){r=q.get('interaction.selected');}else{if(o.shouldUseDeselectedColor()){r=q.get('interaction.deselected');}else{r=q.get('plotArea.dataPoint');delete r.opacity;}}l(w,e,r,1,x);m(w,e,r,u,v);});}},{"id":"hover_range_selection_scatter","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-action-layerrange"},"handler":function(e,i){d.showDetailForRangeSelectionWhenHover(e,i);}},{"id":"clearPlot_scatter","triggerEvent":{"name":"clearPlot","supportedChartTypes":s},"handler":function(i,o){o.fireEvent(i,true);var p=o.getNodes(o.NodeType.DATA_POINT,false);if(!p||!p.length){return;}var q=o.getProperties();var r;var u=i.data.rangeSelection;var U=u&&u!=="clear";if(i.data.isGray||U){r={color:q.get('interaction.deselected.color'),stroke:q.get('interaction.deselected.stroke')};if(!U){r.opacity=q.get('interaction.deselected.opacity');}}else{r={color:q.get('plotArea.dataPoint.color'),stroke:q.get('plotArea.dataPoint.stroke')};}var v=T.isExist(q.get('plotArea.markerRenderer'));var w=q.get('plotArea.drawingEffect');var x=o.getEffectManager();p.forEach(function(e){var y=g(e);l(x,e,r,1,y);m(x,e,r,v,w);});}},{"id":"click_on_non_selection_scatter","triggerEvent":{"name":"click","supportedChartTypes":s,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,i){d.clickOnNonSelection(e,i,t);}},{"id":"clearPlot_time_scatter","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(e,i){d.clearForTime(e,i);}},{"id":"update_range_selection_effect_scatter","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":t},"handler":function(e,i){d.updateRangeEffect(e,i);}},{"id":"recover_range_selection_effect_scatter","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":t},"handler":function(e,i){d.recoverRangeEffect(e,i);}}];B.registerAll(n);});define('sap/viz/chart/views/YYChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/legend/ColorLegend","sap/viz/chart/components/legend/SizeLegend","sap/viz/chart/components/plotareas/YYPlotArea","sap/viz/chart/scales/SizeScaleUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/YYChains","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/scales/ShapeScaleProcessor","sap/viz/chart/behavior/config/DataPointBehaviorConfigForScatter"],function(o,C,a,S,Y,b,N,c,T,d){function e(r,f){e.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;}o.extend(e,C);var p=e.prototype;p.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}e.superclass.setSize.apply(this,arguments);};p._isBubble=function(){return/bubble/.test(this._renderType);};p._getLegendDefinition=function(){if(this._isBubble()){return[S,a];}return[a];};p._getLegendModuleKey=function(){if(this._isBubble()){return["sizeLegend","legend"];}return["legend"];};p._getDataItems=function(){return["valueAxis","timeAxis","valueAxis2","bubbleHeight","bubbleWidth","color","shape","dataFrame","series","transparent","trellisRow","trellisColumn","orderMap","seriesContext"];};p._createPlotContainer=function(i){this._plotArea=new Y(this.runtime(),{renderType:this._renderType,rawData:this._rawData,});this._plotArea.setRoughSize(this._size);this._plot=this._plotArea.getPlot();this.setChild("main",this._plotArea,{priority:3});};p._configLayout=function(){if(this._isBubble()){this._applySizeScale();}return e.superclass._configLayout.apply(this,arguments);};p._applySizeScale=function(f){var w=this._data.bubbleWidth.scale;var g=w.getDomain();var m=g[0],h=g[1];var l;if(N.isNoValue(h)&&N.isNoValue(m)){l=[null];}else if(h===m){if(!g.withNoValue){l=[h];}else{l=[h,null];}}else{if(!g.withNoValue&&!g.withMiddleValue){l=[h,m];}else if(!g.withNoValue&&g.withMiddleValue){l=[h,(h+m)/2,m];}else if(g.withNoValue&&!g.withMiddleValue&&g.withZeroValue){l=[h,m];}else if(g.withNoValue&&!g.withMiddleValue&&!g.withZeroValue){l=[h,(h+m)/2,null];}else{l=[h,(h+m)/2,g.withZeroValue?0:null];}}var i=parseInt(this._properties.get("plotArea.minMarkerSize"));var j=null;var k=this.getChild(c.LEGEND_GROUP.KEY).module;j=Math.min(this._size.height,this._size.width);j*=c.BUBBLE.DEFAULT_WIDTH_RATIO;var s=b.build(i,j,g);var n=k.getChild("sizeLegend").module;n.setData({labels:l,scale:s});this._plot.setSizeScale(s);};p.calculatePaddingInPX=function(f){var g=e.superclass.calculatePaddingInPX.apply(this,arguments);if((f.get("title.visible")===false)&&(f.get("valueAxis.visible")===true)){this.changePaddingTop(f,g);}return g;};return e;});define('sap/viz/chart/metadata/bindings/YYBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.rowCategory"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"shape","name":"IDS_SHAPE","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.shape"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":1,"role":"layout.secondValue"},{"id":"bubbleWidth","name":"IDS_BUBBLESIZE","type":"Measure","min":1,"max":1,"role":"mark.size"}];return f;});define('sap/viz/chart/components/plotareas/XYYPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/CategoryAxis',"sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil",'sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/components/plotareas/UpdateByTrendlineUtil'],function Setup(C,o,X,V,a,b,c,T,U,d,D,B,N,u){var f=function(r,e){f.superclass.constructor.apply(this,arguments);};o.extend(f,X);f.prototype._getPlotOptions=function(){return{isDualValueAxis:true};};f.prototype.setData=function(e){f.superclass.setData.apply(this,arguments);this._applyDefaultProperties(e);};f.prototype._applyDefaultProperties=function(e){var s=this.runtime().semanticManager();if(s.isOverrideMode()&&s.shouldChangeColor()){var h=this._properties.get("categoryAxis.title.style.color","templateValue");if(!this._properties.has("valueAxis.title.style.color","value")){this._properties.set("valueAxis.color",h,true,"templateValue");}if(!this._properties.has("valueAxis2.title.style.color","value")){this._properties.set("valueAxis2.color",h,true,"templateValue");}}else{this._properties.setDefault("valueAxis.color",e.color.scale.getRange()[0]);this._properties.setDefault("valueAxis2.color",e.color2.scale.getRange()[0]);this._properties.setDefault("valueAxis.title.applyAxislineColor",true);}};f.prototype._init=function(){var e={};e.valueAxisScrollbar=false;e.valueAxisPosition="top";f.superclass._init.apply(this,[e]);var i=this._plot.isHorizontal();var h=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(['bottom','top',this.allOrNone.bind(this),'left','right']);this._valueAxis2=new V(this.runtime(),{name:"valueAxis2",hasScrollbar:h,valueAxes:this._valueAxes});this.setChild("valueAxis2",this._valueAxis2,{position:"bottom"});if(h){this._hScrollbar=this._valueAxis2.getChild(C.AXIS.SCROLLBAR_NAME).module;}}else{this.setLayoutSequence(['left','right',this.allOrNone.bind(this),'bottom','top']);this._valueAxis2=new V(this.runtime(),{name:"valueAxis2",hasScrollbar:h,valueAxes:this._valueAxes});this.setChild("valueAxis2",this._valueAxis2,{position:"right"});if(h){this._vScrollbar=this._valueAxis2.getChild(C.AXIS.SCROLLBAR_NAME).module;this.getChild("scrollbar").module.destroy();this.removeChild("scrollbar");}}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);this._valueAxis2.setPercentageMode(true);}this._zoomer.init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis,this._valueAxis2]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis,this._valueAxis2]},isHorizontal:i});};f.prototype.updateValueScale=function(){var h=this._data;var w=this._roughSize.width;var j=this._roughSize.height;if(!h||w<=0||j<=0){return h;}var r=[0,1];var k=this._plot.isHorizontal();if(k){r[1]=w;}else{r[1]=j;}r[1]*=0.8;var v,l,n=h;if(this._isPercentageChart()){v=this._calcPercentageValueAxisScale(r);["","2"].forEach(function(e){var i="valueAxis"+e;v.metaData=h[i].metaData;h[i].tickHint=v.tickHint;this["_"+i].setData(v);},this);}else{if(this._isAdjustValueScaleForTopLabel()){var m=this._properties.get('plotArea.dataLabel');var p=this._properties.get('plotArea.primaryScale.fixedRange');var q=this._data.valueAxis.scale;var s=this._data.valueAxis2.scale;var t=q.getDomain().slice();var x=s.getDomain().slice();var y=m.formatString;var z,A,E;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){A=this._data.valueAxis.metaData[0].id;E=this._data.valueAxis.metaData[0].formatString;}y=y?y:E;var F={key:A};v=this._calcValueAxisScale("valueAxis",r);l=this._calcValueAxisScale("valueAxis2",r);if((!(p||q.getDomainFixed()[1]||s.getDomainFixed()[1]))&&(m.visible||m.showTotal)&&(t||x)){var G=[null,null];if(this._isStackedChart()&&m.showTotal){if(this._plot.isHorizontal()){z=D.getFirstFormatPattern(y,F);}var H;var I={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};if(t[1]>0){H=U.format(N.preciseSimple(t[1]),z,m.unitFormatType,I);G[1]=T.fastMeasure(H,m.style.fontSize,m.style.fontWeight,m.style.fontFamily,m.style.fontStyle);}if(t[0]<0){H=U.format(N.preciseSimple(t[0]),z,m.unitFormatType,I);G[0]=T.fastMeasure(H,m.style.fontSize,m.style.fontWeight,m.style.fontFamily,m.style.fontStyle);}v=this._calcValueAxisScale("valueAxis",r,c.extendDomainForDataLabel(t,r,G,this._plot.isHorizontal()));G=[null,null];if(x[1]>0){H=U.format(N.preciseSimple(x[1]),z,m.unitFormatType,I);G[1]=T.fastMeasure(H,m.style.fontSize,m.style.fontWeight,m.style.fontFamily,m.style.fontStyle);}if(x[0]<0){H=U.format(N.preciseSimple(x[0]),z,m.unitFormatType,I);G[0]=T.fastMeasure(H,m.style.fontSize,m.style.fontWeight,m.style.fontFamily,m.style.fontStyle);}l=this._calcValueAxisScale("valueAxis2",r,c.extendDomainForDataLabel(x,r,G,this._plot.isHorizontal()));}if(!this._isStackedChart()&&m.visible&&((t&&(t[1]>0||t[0]<0))||(x&&(x[1]>0||x[0]<0)))){if(this._isColumnChart()){var J=T.fastMeasure('M',m.style.fontSize,m.style.fontWeight,m.style.fontFamily,m.style.fontStyle);if(t[1]>0){G[1]=J;}if(t[0]<0){G[0]=J;}v=this._calcValueAxisScale("valueAxis",r,c.extendDomainForDataLabel(t,r,G,k));G=[null,null];if(x[1]>0){G[1]=J;}if(x[0]<0){G[0]=J;}l=this._calcValueAxisScale("valueAxis2",r,c.extendDomainForDataLabel(x,r,G,k));}else{if(t[1]>0){G[1]=B.getLabelSize(this._data.series,t[1],this._properties,y);}if(t[0]<0){G[0]=B.getLabelSize(this._data.series,t[0],this._properties,y);}v=this._calcValueAxisScale("valueAxis",r,c.extendDomainForDataLabel(t,r,G,k));G=[null,null];if(x[1]>0){G[1]=B.getLabelSize(this._data.series,x[1],this._properties,y,"valueAxis2");}if(x[0]<0){G[0]=B.getLabelSize(this._data.series,x[0],this._properties,y,"valueAxis2");}l=this._calcValueAxisScale("valueAxis2",r,c.extendDomainForDataLabel(x,r,G,k));}}}}else{v=this._calcValueAxisScale("valueAxis",r);l=this._calcValueAxisScale("valueAxis2",r);}c.syncTicks(v.scale,l.scale);var K=v.autoScale;var L=l.autoScale;c.syncTicks(K,L);v.scale.setAutoDomain(K.getDomain());l.scale.setAutoDomain(L.getDomain());var M={valueAxis:v,valueAxis2:l};[v,l].forEach(function(e,i){var O="valueAxis"+(i?"2":"");h[O].scale=e.scale;e.tickHint=h[O].tickHint=e.scale._tickHint;h[O].scale.setRange([0,1]);var P=M[O];P.metaData=h[O].metaData;this["_"+O].setData(P);},this);n=this._cloneData(M);}n=u.call(this,n,r);return n;};function g(){}return f;});define('sap/viz/chart/chains/XYYChains',['sap/viz/chart/chains/BaseChains','sap/viz/framework/binding/BindingManager'],function Setup(B,a){var x={};var d=['GetDimensionsFromFlattable','GetMeasuresFromFlattable','GetBindingSeries','GetContext','OnBindingFinished','OnBindingStart'];x=B.extend('xyy',d);Object.keys(x).forEach(function(k){a.registerChain(k,x[k]);});return x;});define('sap/viz/chart/views/XYYChartView',["jquery","sap/viz/framework/common/util/oo","sap/viz/chart/views/XYChartView","sap/viz/chart/components/plotareas/XYYPlotArea","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/chains/XYYChains","sap/viz/chart/scales/FrameScaleProcessor"],function Setup($,o,X,P,T,a){var b=function(r,c){b.superclass.constructor.apply(this,arguments);};o.extend(b,X);b.prototype._getDataItems=function(){return["valueAxis","valueAxis2","categoryAxis","color","color2","dataFrame","series","trellisRow","trellisColumn","seriesContext"];};b.prototype._createPlotContainer=function(i){this._plotArea=new P(this.runtime(),{renderType:this._renderType,valueAxisIndex:this._valueAxisIndex});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};b.prototype.changePaddingTop=function(p,c){var d=p.get("valueAxis.label.style");var v=T.canvasMeasure('',d['fontSize'],d['fontWeight'],d['fontFamily']).height;var e=p.get("valueAxis2.label.style");var f=0;if(e){f=T.canvasMeasure('',e['fontSize'],e['fontWeight'],e['fontFamily']).height;}if(a.isExist(c.propertyPaddingInPX)&&c.propertyPaddingInPX<Math.min(v,f)/2){c.propertyPaddingTopInPX=Math.max(v,f)/2;}if(a.isExist(c.propertyPaddingTopInPX)&&c.propertyPaddingTopInPX<Math.min(v,f)/2){c.propertyPaddingTopInPX=Math.max(v,f)/2;}};b.prototype._getSeriesSettings=function(){var s=b.superclass._getSeriesSettings.call(this);if(s){s.forEach(function(c,i){if(this._renderType.match(/stacked/)){c.stack="stacked_"+this._data.series[i].measureMeta[0];}}.bind(this));}return s;};return b;});define('sap/viz/chart/metadata/bindings/XYYBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.secondValue"}];return f;});define('sap/viz/chart/scales/RGBA',[],function Setup(){function c(r,g,b,a,s){this.r=r;this.g=g;this.b=b;this.a=a;this.signForOpacity=s;}c.prototype.clone=function(){return new c(this.r,this.g,this.b,this.a,this.signForOpacity);};c.prototype.toHex=function(){return d3.rgb(this.r,this.g,this.b).toString();};c.prototype.toString=function(){if(this.a<=1&&this.signForOpacity===true){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")";}else if(this.a<1){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")";}else{return this.toHex();}};c.prototype.from=function(d,a){var n=d3.rgb(0,0,0),e=1,s;if(a){e=a;s=true;}if(d!==undefined&&typeof(d)==='object'){if(d.rgb){n=d.rgb();}else{n=d;}}else if(typeof(d)==='string'){d=d.toLowerCase();var t,i,j;if(d.indexOf('rgba')>=0){t=d.substring(d.indexOf('(')+1);i=t.lastIndexOf(',');j=t.indexOf(')');if(i>=0&&j>=0){var f='rgb('+t.substring(0,i)+')';e=parseFloat(t.substring(i+1,j));n=d3.rgb(f);}}else if(d.indexOf('hsla')>=0){t=d.substring(d.indexOf('(')+1);i=t.lastIndexOf(',');j=t.indexOf(')');if(i>=0&&j>=0){var h='hsl('+t.substring(0,i)+')';e=parseFloat(t.substring(i+1,j));n=d3.hsl(h).rgb();}}else if(d.indexOf('hsl')>=0){n=d3.hsl(d).rgb();}else if(d.indexOf('#')>=0){var r,g,b;if(d.length===4){r=d.charAt(1);r+=r;g=d.charAt(2);g+=g;b=d.charAt(3);b+=b;}else if(d.length===7){r=d.substring(1,3);g=d.substring(3,5);b=d.substring(5,7);}r=parseInt(r,16);g=parseInt(g,16);b=parseInt(b,16);n=d3.rgb(r,g,b);}else{n=d3.rgb(d);}}this.r=n.r;this.g=n.g;this.b=n.b;this.a=e;this.signForOpacity=s;return this;};c.prototype.toGray=function(){var r=this.r,g=this.g,b=this.b,a,d;if((r===g)&&(g===b)){a=Math.round(r+(255-r)*0.6);}else{a=Math.round((r*299+g*587+b*114+500)/1000);}d=this.clone();d.r=a;d.g=a;d.b=a;return d;};c.prototype.increaseBrightness=function(p){var r=this.r,g=this.g,b=this.b,n,a,d,e;if(!isNaN(p)){if(p>=0){n=Math.round(r+(255-r)*p/100);a=Math.round(g+(255-g)*p/100);d=Math.round(b+(255-b)*p/100);}else{n=Math.round(r*(100+p)/100);a=Math.round(g*(100+p)/100);d=Math.round(b*(100+p)/100);}e=this.clone();e.r=n;e.g=a;e.b=d;}return e;};return c;});define('sap/viz/chart/components/util/FillPatternUtils',['sap/viz/framework/common/util/SVG','sap/viz/chart/scales/RGBA'],function Setup(S,R){var C="v-m-root";var D="defs-diagonalHatch";var P="diagonalHatch-";var U={};U.getPatternId=function(c){var r=new R();c=r.from(c).toHex();return"url(#"+P+c.replace(/#/,"")+")";};U.patternize=function(c,n,u){var r=n;while(!r.getAttribute("class")||r.getAttribute("class").indexOf(C)===-1){r=r.parentNode;}var d=r.querySelector("#"+D);if(!d){d=S.create("defs");d.setAttribute("id",D);r.appendChild(d);}var p;if(c){var a=new R();c=a.from(c).toHex();p=P+c.replace(/#/,"");}else{c=u.substr(("url(#"+P).length,6);p=P+c;c="#"+c;}var b=r.querySelector("#"+p);if(!b){var e=S.create("path");b=S.create("pattern");e.setAttribute("d","M2,0L5,0L0,5L0,2L2,0 M7,2L7,5L5,7L2,7L7,2");e.setAttribute("fill",c);e.setAttribute("fill-opacity",1);b.setAttribute("id",p);b.setAttribute("patternUnits","userSpaceOnUse");b.setAttribute("width",7);b.setAttribute("height",7);b.appendChild(e);d.appendChild(b);}return"url(#"+p+")";};return U;});define('sap/viz/chart/scales/BulletColorScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/ColorScale','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/scale/ScaleOptionFactory','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ArrayUtils'],function(o,C,D,O,S,a,T,A){var _={actualValues:"plotArea.actualColor",additionalValues:"plotArea.additionalColor",forecastValues:"plotArea.forecastColor",targetValues:"plotArea.target.valueColor"};function B(f,p,g,s){h(g,s,p);this._metaIds=g.metaData&&g.metaData.map(function(k){return k.id;}).concat("measureNames")||["measureNames"];g.sharedRuntimeColorScale=c(g.sharedRuntimeColorScale,"type",this._metaIds);this._scales=b(f.rowArray,g,p);this._scaleMap={};for(var i=0;i<this._scales.length;i++){var j=this._scales[i].id;this._scaleMap[j]=this._scales[i].scale;}B.superclass.constructor.apply(this,arguments);}o.extend(B,C);B.prototype.scale=function(k,t){if(arguments.length===1||!t){return B.superclass.scale.apply(this,arguments);}else{return this._scaleMap[t].scale(k);}};B.prototype._initScale=function(){var f=[],r=[];this._scales.forEach(function(g){var s=g.scale;s.getDomain().forEach(function(i){f.push(i);r.push(s.scale(i));});});this._domain=f;this._range=r;this._scale=d3.scale.ordinal();this._scale.domain(this._domain.map(D.valuesToString)).range(this._range);this._constructRuntimeColorScale();};B.prototype.getDomain=function(i){if(i){return this._scaleMap[i]&&this._scaleMap[i].getDomain();}else{return B.superclass.getDomain.apply(this,arguments);}};B.prototype._constructRuntimeColorScale=function(){var s=this._scales;function f(g){var r=[];for(var i=0;i<s.length;++i){var k=s[i].scale[g]().results;for(var j=0;j<k.length;++j){var n=O.extend(true,{type:s[i].id},k[j]);r.push(n);}}return r;}this._runtimeColorScale={feed:"color",fields:this._metaIds,results:f("runtimeColorScale")};this._mergedRuntimeColorScale={feed:"color",fields:this._metaIds,results:f("mergedRuntimeColorScale")};};function b(f,g,p){var m=g.mnds;var n=m.actualValues.length;return Object.keys(m).map(function(k){var i=m[k];var j=p.get(_[k]);if(!T.isArray(j)){j=[j];}var s=g.sharedRuntimeColorScale[k];return{id:k,scale:e(k,f,i,j,n,s,g.noValueIndex)};});}function c(s,k,m){var f=C.findMatchRuntimeScale(s,m);if(!f){return{};}else{return f.results.reduce(function(g,i){var j=i[k]||"actualValues";if(!g[j]){g[j]={feed:"color",results:[]};}g[j].results.push(i);return g;},{});}}var N=["actualValues","additionalValues","forecastValues","targetValues"];var M=N.length;function d(i,n){return(!n||n.indexOf(i)===-1||n.indexOf(i+1)===-1||n.indexOf(i+2)===-1||n.indexOf(i+3)===-1);}function h(f,s,p,n){if(!s){return;}if(!s.getDefault("color")){var i={serializable:true,defaultValue:{"feed":"color","type":"color","actualColor":a.COLOR.BULLET.ActualColor,"additionalColor":a.COLOR.BULLET.AdditionalColor,}};if(!f.isTime){i["defaultValue"]["forecastColor"]=a.COLOR.BULLET.ForecastColor;}s.add("color",i);}function g(k,j){var l="plotArea."+k;if(p.origin.has(l)){p.origin.add(l,{defaultValue:j,serializable:false,get:function(){var m=s.get("color");if(m&&m[k]){return m[k];}else{var t=s.get("color","templateValue");return t&&t[k]||j;}}});}}g("actualColor",a.COLOR.BULLET.ActualColor);g("additionalColor",a.COLOR.BULLET.AdditionalColor);g("forecastColor",a.COLOR.BULLET.ForecastColor);}function e(t,f,m,p,l,s,n){var g=[],j=[];var k;var q=0;var u=[];if(s&&s.results){s.results.forEach(function(r){var i=r.scaleResult.index%p.length;u[i]=p[i];q=i+1;});}if(!f){for(var v=0;v<l;++v){if(d(v*M,n)){k=v*M+N.indexOf(t);if(!n||n.indexOf(k)===-1){g.push([m[v]]);j.push(p[q%p.length]);}q++;}}}else{f.forEach(function(r,w){for(var i=0;i<l;i++){if(d((w*l+i)*M,n)){k=(w*l+i)*M+N.indexOf(t);if((!n||n.indexOf(k)===-1)&&m[i]){g.push(r.concat(m[i]));j.push(p[q%p.length]);}q++;}}});}j=u.concat(j);return new C(g,j,{needRuntimeColorScales:true,sharedRuntimeColorScale:s});}S.register("bullet","color",function(f,g,r,p,v,i){var j=["actualValues","additionalValues","targetValues"];if(i.indexOf("time")===-1){j.push("forecastValues");}f.mnds=j.reduce(function(m,t){m[t]=(g[t]().metaData||[]).map(function(k){return k.id;});return m;},{});});return B;});define('sap/viz/chart/components/legend/BulletLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/ColorScale','sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/FillPatternUtils','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/lang/LangManager',"sap/viz/chart/scales/BulletColorScale"],function(o,C,a,T,O,F,b,c,N,L,B){var I=c.CSS.CLASS.LEGENDITEM;var d=c.CSS.CLASS.BULLETLEGENDITEM;var D="#aaaaaa";var e=function(){e.superclass.constructor.apply(this,arguments);};var f=["actualColor","additionalColor","forecastColor"],H=[true,true,false];o.extend(e,a);e.prototype.setData=function(v){this._data=v;this._series=v.color||this._createSeries(v);this._colorShapeScale=null;return this;};function h(r,j){for(var i=0;i<r.length;++i){if(r[i].color.hasOwnProperty(j)&&r[i].color[j]){return true;}}return false;}e.prototype._createSeries=function(i){var m='actualValues,additionalValues,forecastValues,targetValues'.split(',').reduce(function(j,k){if(i[k]){j[k]=i[k].metaData.map(function(p){return p.name||p.id;});}return j;},{});return{scale:new B([],this._properties.parentLevel,{mnds:m})};};e.prototype._createColorScale=function(){var p=this._properties.parentLevel;var k=this.runtime().semanticManager();var m=s(k);var q=m.scale;var r=this._data.actualValues.metaData.length;var t=k.isOverrideMode()&&q&&q._others&&q._others.properties&&q._others.properties.color;var u=h(m.range,"actualColor")||(t&&!!q._others.properties.color["actualColor"]);var v=h(m.range,"additionalColor")||(t&&!!q._others.properties.color["additionalColor"]);var w=h(m.range,"forecastColor")||(t&&!!q._others.properties.color["forecastColor"]);var i;for(i=0;i<m.range.length;i++){var x=m.range[i];if(x.color&&x.pattern){if(!x.color["actualColor"]&&x.pattern["actualColor"]){x.color["actualColor"]=D;}if(!x.color["additionalColor"]&&x.pattern["additionalColor"]){x.color["additionalColor"]=D;}if(!x.color.hasOwnProperty("forecastColor")&&x.pattern["forecastColor"]){delete x.pattern["forecastColor"];delete m.domain[i]["forecastColor"];}}}if(!k.isOverrideMode()){u=false;v=false;w=false;}var y,z,A;var E=this._series;var G=g(this._data.targetValues,E.scale,E,r,"targetValues"),J=l(p,G),K;y=g(this._data.actualValues,E.scale,E,r,"actualValues");if(!v){z=g(this._data.additionalValues,E.scale,E,r,"additionalValues");}if(!w){A=g(this._data.forecastValues,E.scale,E,r,"forecastValues");}var M={domain:[],range:[]};for(i=0;i<y.domain.length;++i){if(!u&&y.domain[i]){M.domain.push(y.domain[i]);M.range.push(y.range[i]);}if(!v&&z&&z.domain[i]){M.domain.push(z.domain[i]);M.range.push(z.range[i]);}if(!w&&A&&A.domain[i]){M.domain.push(A.domain[i]);M.range.push(A.range[i]);}}var P=-1,Q=[],R=[];if(m.scale&&!m.scale._hideSemanticLegend){for(i=0;i<m.domain.length;++i){for(var j=0;j<f.length;++j){if(m.domain[i].hasOwnProperty(f[j])){var S=M.domain,U=M.range;if(!k.isOverrideMode()){S=Q;U=R;P++;}S.push([m.domain[i][f[j]]]);if(m.range[i].pattern&&m.range[i].pattern[f[j]]&&H[j]){U.push({color:m.range[i].color[f[j]],pattern:m.range[i].pattern[f[j]]});}else{U.push(m.range[i].color[f[j]]);}}}}}if(!k.isOverrideMode()){M.domain=Q.concat(M.domain);M.range=R.concat(M.range);}M.domain=M.domain.concat(J.domain);M.range=M.range.concat(J.range);var V=this._series.scale.getDomain("targetValues");var W=this._data.targetValues;if(W&&W.metaData&&W.metaData.length&&V&&V.length>0){var X=p.get("legend.label.text.target");if(X===null||X===''){X=L.get("IDS_TARGET");}if(this._data.targetValues.metaData.length>1){M.domain.push(X);}else{M.domain.push(this._data.targetValues.metaData[0].name||this._data.targetValues.metaData[0].id);}M.range.push(p.get("plotArea.target.valueColor"));}var Y=new C(M.domain,M.range);var Z=[];if(E&&E.metaData){Z=Z.concat(E.metaData);}Z.push({id:"measureNames",type:"Dimension",values:[{id:"id",name:"name"},{id:"id1",name:"name1"}]});return{semSplitIndex:P,metaData:Z,scale:Y,rowArray:M.domain};};e.prototype.render=function(j,k){if(this._colorShapeScale&&this._colorShapeScale._colorScales){var m=this._colorShapeScale._colorScales;if(m&&m[0]&&m[0].scale){var r=m[0].scale.getRange();var p=r.length;for(var i=0;i<p;++i){if(r[i]&&!T.isPlainObject(r[i])&&r[i].indexOf("url")!==-1){r[i]=F.patternize(null,j.node(),r[i]);}}}}e.superclass.render.apply(this,arguments);j.selectAll("g."+I).classed(d,true).classed(I,false);};var n={"actualValues":"v-primary","additionalValues":"v-additional","forecastValues":"v-forecast","targetValues":"v-target"};function _(j,k){if(j.length!==k.length){return false;}for(var i=0;i<j.length-1;i++){if(!O.deepEqual(j[i],k[i])){return false;}}return true;}e.prototype._calcDomain=function(k,m){var r=e.superclass._calcDomain.apply(this,arguments);var p=this._series.scale._mergedRuntimeColorScale.results;var u={};for(var i=0;i<r.length;i++){var q=r[i];delete q.bulletClass;if(q.ctx.measureNamesId){for(var j=0;j<p.length;j++){if(u[j]){continue;}var t=p[j];var v=t.dataContext[t.dataContext.length-1];var w=q.ctx.measureNamesId===v;if(w&&_(q.val,t.dataContext)){var x=t.type;q.bulletClass=n[x];u[j]=true;break;}}}else if(i===r.length-1){q.bulletClass="v-target";}}return r;};e.prototype._initColorShapeScale=function(){if(this._colorShapeScale){return;}var m=this.runtime().markManager(),j=this._createColorScale(),k=new b(m);k._isBullet=true;k._bindingInfo={actualValues:this._data.actualValues,forecastValues:this._data.forecastValues,additionalValues:this._data.additionalValues,targetValues:this._data.targetValues};k.addColorScale(j);k.merge();var t=this._series.scale.getDomain("targetValues");var p=this._data.targetValues.metaData;for(var q,i=0,r=k.getLength();i<r;i++){q=k.getItem(i);if(i<=j.semSplitIndex){q.isSemanticItem=true;}if(i===r-1&&t&&t.length>0&&p&&p.length>0){q.shape=this._options&&this._options.options&&this._options.options["targetLineDirection"]===c.DIRECTION.HORIZONTAL?"horizontal-target-line":"vertial-target-line";}else{q.shape="square";}}this._colorShapeScale=k;this.setBindingFields(k.getBindingFields());};function s(j){if(j.hasDataPointColorStyle()){var k=j.getDataPointColorScale(true);if(T.isArray(k)&&k.length===0){return{domain:[],range:[],scale:null};}else if(k.hasValidOthers()){var m=k.getDomain();var r=k.getRange();var v=[];var p=[];var q=m.length;for(var i=0;i<q-1;++i){v.push(m[i]);p.push(r[i]);}var t={};var u={color:{},pattern:{}};var w=false;for(var x in m[q-1]){if(m[q-1][x]!==null){w=true;t[x]=m[q-1][x];u.color[x]=r[q-1].color[x];if(r[q-1].pattern){u.pattern[x]=r[q-1].pattern[x];}}}if(w){v.push(t);p.push({color:u.color,pattern:u.pattern});}return{domain:v,range:p,scale:k};}else{return{domain:k.getDomain(),range:k.getRange(),scale:k};}}else{return{domain:[],range:[],scale:null};}}function g(m,p,q,r,u){var v=[],w=[];var x=0;var t;function y(J,k,A){if(k<m.metaData.length&&p.hasDomain(J.concat(m.metaData[k].id))){v.push(A.concat(m.metaData[k].name||m.metaData[k].id));w.push(p.scale(J.concat(m.metaData[k].id),u));}else{++v.length;w.push(undefined);}}if(m&&m.metaData){if(q&&q.metaData&&q.metaData.length>0){var z=q.rowArray;for(var i=0;i<z.length;++i){var A=[];A.push(z[i][0]===null?L.get("IDS_ISNOVALUE"):z[i][0]);for(var j=1;j<z[i].length;++j){A.push(z[i][j]===null?L.get("IDS_ISNOVALUE"):z[i][j]);}for(t=0;t<r;++t){y(z[i],t,A);++x;}}}else{for(t=0;t<r;++t){y([],t,[]);}}}var E=v.length;var G=w.length;while(G<E){w.push(w[E%G]);G++;}return{domain:v,range:w.slice(0,v.length)};}function l(p,t){var v=p.get("plotArea.gap.visible"),i=p.get("plotArea.gap.type"),j=p.get("legend.label.text.positiveGap"),k=p.get("plotArea.gap.positiveColor"),m=p.get("legend.label.text.negativeGap"),q=F.getPatternId(N.convertColor(p.get("plotArea.gap.negativeColor"))),r=[],u=[];if(j===null||j===''){j=L.get("IDS_ABOVE_IS_GOOD");}if(m===null||m===''){m=L.get("IDS_BELOW_IS_BAD");}if(v&&t.domain.length>0){if(i==="both"){r.push([j]);r.push([m]);u.push(k);u.push(q);}else if(i==="positive"){r.push([j]);u.push(k);}else if(i==="negative"){r.push([m]);u.push(q);}}return{domain:r,range:u};}e.prototype._adjustRendererOption=function(r){r.isBullet=true;};e.prototype.destroy=function(){e.superclass.destroy.call(this);this._data=null;this._colorShapeScale=null;};return e;});define('sap/viz/chart/components/accessibility/BulletDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,A,B){function a(){a.superclass.constructor.apply(this,arguments);this._dataPointIndexTable=[];this._setupDataPointsMap();}o.extend(a,B);var p=a.prototype;p._setupDataPointsMap=function(){if(!this._series||!this._series[0]){return;}var i,j,b,t;var c=this._series[0].length;var d=this._series.every(function(s){return s===c;});if(this._isTimeBullet&&!d){var e={};var f=[];for(i=0;i<this._series.length;i++){var g=this._series[i];for(j=0;j<g.length;j++){b=this._series[i][j];if(b&&b.dp){t=b.timeAxis[0].parsedValue;if(!e[t]){e[t]=[];f.push(t);}e[t].push(b.dp);}}}f.sort();for(i=0;i<f.length;i++){t=f[i];var h=e[t];for(j=0;h&&j<h.length;j++){this._dataPointIndexTable.push(h[j]);}}}else{for(var k=0;k<c;k++){for(var l=0;l<this._series.length;l++){b=this._series[l][k];if(b&&b.dp){this._dataPointIndexTable.push(b.dp);}}}}};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._dataPointIndexTable=null;};p.left=function(i){return this._isVerticalRender?this.getPrevDataPointInSeries(i):this.getPrevDataPointInSeries(i);};p.right=function(i){return this._isVerticalRender?this.getNextDataPointInSeries(i):this.getNextDataPointInSeries(i);};p.up=function(i){return this._isVerticalRender?this.getPrevDataPointInSeries(i):this.getPrevDataPointInSeries(i);};p.down=function(i){return this._isVerticalRender?this.getNextDataPointInSeries(i):this.getNextDataPointInSeries(i);};p.getPrevDataPointInSeries=function(i){var d=null;if(this._dataPointIndexTable){var c=this._dataPointIndexTable.indexOf(this.getDataPoint(i));c--;d=this._dataPointIndexTable[c];while(!d&&--c>-1){d=this._dataPointIndexTable[c];}}return d;};p.getNextDataPointInSeries=function(i){var d=null;if(this._dataPointIndexTable){var c=this._dataPointIndexTable.indexOf(this.getDataPoint(i));c++;d=this._dataPointIndexTable[c];while(!d&&++c<this._dataPointIndexTable.length){d=this._dataPointIndexTable[c];}}return d;};p.getFirstStartPoint=function(){if(this._series){return this._dataPointIndexTable[0];}else{return null;}};return a;});define('sap/viz/chart/components/plots/BulletPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/DataHandler',"sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/renderers/BarRenderer','sap/viz/chart/components/util/FillPatternUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/scales/ValueScale','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/ColorUtil","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/BulletDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function(o,S,B,D,a,b,N,c,F,d,C,V,G,T,U,O,e,f,g,h){var j={PRIMARYONLY:0.7143,PRIMARYWIDTH:0.5714};var M=C.MIN_FILL_SIZE;var k=function(i,q){q=q||{isHorizontal:true};k.superclass.constructor.apply(this,arguments);this._semanticMgr.setUseSemanticPattern(true);};o.extend(k,B);k.prototype._getCategoryWidth=function(){return this._data.categoryAxis.scale.getRangeBand()*(this.isHorizontal()?this._realSize.height:this._realSize.width);};k.prototype._getScaleValue=function(v){return this._data.actualValues.scale.scale(v)*(this.isHorizontal()?this._realSize.width:this._realSize.height);};k.prototype.isHorizontal=function(){return(this._options.isHorizontal===true);};k.prototype.update=function(s){this._applyChanges();var i=this._selection.select(".v-plot-main");this._drawGridlines(i);this._updateDatapoints(i);};function l(t,i,q){if(d.isNoValue(i)||d.isNoValue(q)){return false;}if(t==='both'&&i!=q){return true;}else if(t==='positive'&&i>q){return true;}else if(t==='negative'&&i<q){return true;}else{return false;}}k.prototype._categoryCount=function(){return this._data.categoryAxis.rowArray.length;};k.prototype.getPreferredSize=function(){var i=this._properties;var q=this.isHorizontal();var r=this._getCategoryRange()||this._getTimeRange();var s=this._data.series.length;var t={size:q?'height':'width',pos:q?'y':'x'};var u=!!this._data.timeAxis;var v=this._isRangeIncomplete;var w=!i.origin.get("interaction.noninteractiveMode");function x(){return!u&&r&&!v(r)&&w;}var y=w&&(!x())&&(i.get('isFixedDataPointSize')||v(r));if(y||x()){var z=this.__fixedBarSize();var A=z.max;var E=z.min;var H=this.__barSizeRatio();var I=z.max*H;var J=this._categoryCount();var K=this._size[t.size]/J;if(y){var L=E*((s-1)/8+s+2/3);if(K<L){this._realSize[(q?'height':'width')]=L*J;}if(v(r)&&this._shiftOffsetForIncompleteRange(r,J)){return this._realSize;}}if(x()){var Q=r[1]-r[0]+1;var R=(q?this._size.height:this._size.width)/Q;if(R>I){if(K<I){var W=this._size[t.size]/I;if(W>J-r[0]){r[0]=J-W;}this._realSize[t.size]=I*J;}else{r[0]=0;}}else{this._realSize[t.size]=this._size[t.size]*J/Q;}this._offset[t.pos]=-r[0]/J*this._realSize[t.size];}}return this._realSize;};k.prototype._generatePath=function(s,v){var i=[];var q=1.5;if(this.isHorizontal()){if(s.width===0){q=0;}if(v>=0){i.push([0,q]);i.push([s.width-q,q]);i.push([s.width-q,s.height-q]);i.push([0,s.height-q]);}else{i.push([s.width,q]);i.push([q,q]);i.push([q,s.height-q]);i.push([s.width,s.height-q]);}}else{if(s.height===0){q=0;}if(v>=0){i.push([q,s.height]);i.push([q,q]);i.push([s.width-q,q]);i.push([s.width-q,s.height]);}else{i.push([q,0]);i.push([q,s.height-q]);i.push([s.width-q,s.height-q]);i.push([s.width-q,0]);}}return S.generatePath({points:i});};k.prototype._pathStrokeWidth=function(i){if(i&&i[i.measureNames]===0){return 0;}return 3;};k.prototype._drawGridlines=function(i){var s=this._realSize;var q=this.isHorizontal();var r=q?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var t=this._properties.proxy('gridline');var u=q?[0,s.width]:[s.height,0];var v=this._gridlineScale=new V(this._data.actualValues.scale.getDomain(),u);v.setTickHint(this._data.actualValues.tickHint);G.drawValueGridline(i,s.width,s.height,v,t,r,this._effectManager);};k.prototype._updateBulletBar=function(i,q){var w=q.width<1&&q.width!==0?1:q.width;var r=q.height<1&&q.height!==0?1:q.height;i.setAttribute("width",w);i.setAttribute("height",r);if(q.stroke){var s=this.isHorizontal()?r:w;var t=s>q.strokeWidth+1?q.strokeWidth:s-1;if(t>=1){i.setAttribute('stroke',q.stroke);i.setAttribute('stroke-width',q.strokeWidth);}else{i.removeAttribute('stroke');i.removeAttribute('stroke-width');}}return i;};k.prototype._updateBulletNoFillBar=function(i,q,r){i.setAttribute("stroke",q.fill);i.setAttribute('stroke-width',isNaN(q.pathStrokeWidth)?3:q.pathStrokeWidth);i.setAttribute("d",r);return i;};k.prototype._updateBulletLine=function(i,q){i.setAttribute("x1",""+q.x1);i.setAttribute("x2",""+q.x2);i.setAttribute("y1",""+q.y1);i.setAttribute("y2",""+q.y2);i.setAttribute("stroke-width",q.width);return i;};k.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("categoryAxis.color");};k.prototype._drawZeroLine=function(i){var s=this._realSize;var q=this.isHorizontal()?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;G.drawZeroLine(i,s.width,s.height,this._gridlineScale,this._properties,q,this._getDefaultZeroLineColor());};k.prototype._drawDatapoints=function(i){this._renderDatapoints(i,false);this._drawZeroLine(i);};k.prototype._updateDatapoints=function(i){this._renderDatapoints(i,true);this._drawZeroLine(i);};function m(s,i,q,r){var t=s[r+"Color"]||i.scale(q.color.concat(q[r]),r+"Values");return N.convertColor(t);}k.prototype._adjustColorDomain=function(i,q,r){var s=i.actualValues;var t=i.additionalValues;var u=i.forecastValues;if(!d.isNoValue(s)){r.actual=this._data.actualValues.metaData[q].id;}if(!d.isNoValue(t)){r.additional=this._data.additionalValues.metaData[q].id;}if(!d.isNoValue(u)){r.forecast=this._data.forecastValues.metaData[q].id;}return r;};k.prototype._getInitialColorDomain=function(i,q,I){if(i&&i.metaData){q.color=i.rowArray[parseInt(I/this._data.actualValues.metaData.length)];}return q;};var n=2.5,P=0.5;k.prototype._renderOnePoint=function(i,q,r,s,t,u){var v=i.dp&&i.dp.context();var w=i.dp&&i.dp.additionCtx();var x;var y;var z;var A;var E=this._data.color.scale;var H,I;var J=this._properties.get("target.shadowColor");var K=0,L;var Q=s.isUpdate;var R=this._properties.get("markerRenderer")||c;var W=this._realSize;var X=M;if(s.horizontal){s.x=0;}else{s.y=0;}var Y=this._getScaleValue(0);var Z=Y;function $(){var l1=Math.abs(A-Z);if(l1<X&&c1!==0){l1=X;if(c1>0&&!s.horizontal){A=Z+X;}else if(c1<0&&s.horizontal){A=Z-X;}}return l1;}function _(){return c1>0?Z:A;}function a1(){return c1>0?W.height-A:W.height-Z;}function b1(){u.max=Math.max(u.max,A);u.min=Math.min(u.min,A);u.max=Math.max(u.max,Z);u.min=Math.min(u.min,Z);}var c1=i.forecastValues;if(!d.isNoValue(c1)){A=this._getScaleValue(c1);if(s.horizontal){s.width=$();s.height=s.realBarSize;s.x=_();s.y=s.categoryPos;}else{s.height=$();s.width=s.realBarSize;s.x=s.categoryPos;s.y=a1();}b1();x=this._semanticMgr.analyzeDataPoint(["color","forecastColor"],v,true,w);y=((x||{}).properties||{}).color||{};s.fill=m(y,E,q,"forecast");if(Q){H=t.querySelector(".v-forecast");H=this._updateBulletBar(H,s);}else{H=R({ctx:v,graphic:s,effectManager:this._effectManager,horizontal:s.horizontal,defaultRender:{render:c},currCate:i,bulletType:"forecastValue",bulletClass:"v-forecast",measures:q});H.setAttribute("class","v-forecast");t.appendChild(H);}H.setAttribute("transform",'translate('+s.x+', '+s.y+')');r.color['v-forecast']={color:s.fill};}if(this._strokeProp&&this._strokeProp.visible){s.stroke=this._strokeProp.color;s.strokeWidth='1px';}if(s.horizontal){s.y=s.categoryPos+s.primaryOffset;s.height=s.primaryPercentage*s.realBarSize;s.width=0;}else{s.x=s.categoryPos+s.primaryOffset;s.width=s.primaryPercentage*s.realBarSize;s.height=0;}c1=i.actualValues;if(!d.isNoValue(c1)){A=this._getScaleValue(c1);if(s.horizontal){s.width=$();s.x=_();}else{s.height=$();s.y=a1();}x=this._semanticMgr.analyzeDataPoint(["color","actualColor"],v,true,w);z=this._semanticMgr.analyzeDataPoint(["pattern","actualColor"],v,true,w);y=((x||{}).properties||{}).color||{};s.fill=m(y,E,q,"actual");s.pattern=z&&z.properties&&z.properties.pattern&&z.properties.pattern.actualColor;if(s.pattern==="noFill"){L=this._generatePath(s,c1);s.pathStrokeWidth=this._pathStrokeWidth(v);s.bgColor=this._getBackgroundColor();}if(Q){H=t.querySelector(".v-primary");if(s.pattern==='noFill'){I=t.querySelector(".v-primary-noFill");I=this._updateBulletBar(I,s);H=this._updateBulletNoFillBar(H,s,L);}else{H=this._updateBulletBar(H,s);}}else{H=R({ctx:v,graphic:s,path:L,effectManager:this._effectManager,horizontal:s.horizontal,defaultRender:{render:c},currCate:i,bulletType:"actualValue",bulletClass:"v-primary",measures:q});H.setAttribute("class","v-primary");t.appendChild(H);if(s.pattern==='noFill'){var d1=O.clone(s);delete d1.bgColor;delete d1.drawingEffect;delete d1.pattern;d1.fill="transparent";I=R({graphic:d1});if(I){t.appendChild(I);}I.setAttribute("class","v-primary-noFill");}}H.setAttribute("transform",'translate('+s.x+', '+s.y+')');if(I){I.setAttribute("transform",'translate('+s.x+', '+s.y+')');}r.color['v-primary']={color:s.fill,strokeWidth:H.getAttribute("stroke-width"),pathStrokeWidth:s.pathStrokeWidth,pattern:s.pattern};if(r.color['v-primary']["pattern"]){r.color['v-primary']["patternURL"]=H.getAttribute("fill");}K=A;b1();}c1=i.additionalValues;if(!d.isNoValue(c1)){c1=+c1;if(!d.isNoValue(i.actualValues)&&i.additionalValues*i.actualValues>0){c1+= +i.actualValues;Z=K;}if(i.actualValues===0){X+=M;}A=this._getScaleValue(c1);b1();if(s.horizontal){s.width=$();s.x=_();}else{s.height=$();s.y=a1();}x=this._semanticMgr.analyzeDataPoint(["color","additionalColor"],v,true,w);z=this._semanticMgr.analyzeDataPoint(["pattern","additionalColor"],v,true,w);y=((x||{}).properties||{}).color||{};s.fill=m(y,E,q,"additional");s.pattern=z&&z.properties&&z.properties.pattern&&z.properties.pattern.additionalColor;if(Q){H=t.querySelector(".v-additional");H=this._updateBulletBar(H,s);}else{H=R({ctx:v,graphic:s,effectManager:this._effectManager,horizontal:s.horizontal,defaultRender:{render:c},currCate:i,bulletType:"additionalValue",bulletClass:"v-additional",measures:q});H.setAttribute("class","v-additional");t.appendChild(H);}H.setAttribute("transform",'translate('+s.x+', '+s.y+')');r.color['v-additional']={color:s.fill,strokeWidth:H.getAttribute("stroke-width"),pattern:s.pattern};if(r.color['v-additional']["pattern"]){r.color['v-additional']["patternURL"]=H.getAttribute("fill");}}var e1;if(!d.isNoValue(i.targetValues)){A=e1=this._getScaleValue(i.targetValues);b1();if(this._properties.get("gap.visible")&&l(this._properties.get("gap.type"),K,e1)&&!d.isNoValue(i.actualValues)){var f1=i.targetValues>i.actualValues;if(s.pattern){delete s.pattern;}if(s.horizontal){s.width=f1?e1-K-n:K-e1;s.height=s.realBarSize*s.primaryPercentage;s.x=f1?K:e1+P;s.y=s.categoryPos+s.primaryOffset;}else{s.width=s.realBarSize*s.primaryPercentage;s.height=f1?e1-K-n:K-e1-P;s.x=s.categoryPos+s.primaryOffset;s.y=f1?this._realSize.height-e1+n:this._realSize.height-K;}var g1=N.convertColor(this._properties.get("gap.positiveColor"));var h1=N.convertColor(this._properties.get("gap.negativeColor"));if(Q){H=t.querySelector(".v-gap");H=this._updateBulletBar(H,s);}else{s.fill=f1?F.patternize(h1,s.parent):g1;H=c({graphic:s,effectManager:f1?null:this._effectManager,horizontal:s.horizontal});H.setAttribute("class","v-gap");t.appendChild(H);}H.setAttribute("transform",'translate('+s.x+', '+s.y+')');r.color['v-gap']={color:f1?h1:g1,strokeWidth:H.getAttribute("stroke-width")};if(Math.abs(K-e1)<=2){H.style.display="none";}else{H.style.display=null;}}var i1=2;var j1={};var k1=0;if(J!==""){k1=1;}if(e1>=0&&e1<(i1+k1)){e1=(i1+k1);}if(k1>0){if(s.horizontal){j1.x1=e1-i1-k1/2;j1.x2=j1.x1;j1.y1=s.categoryPos;j1.y2=s.categoryPos;}else{j1.y1=this._realSize.height-e1+i1;j1.y2=j1.y1;j1.x1=s.categoryPos;j1.x2=s.categoryPos;}j1.width=k1;if(Q){H=t.querySelector(".v-target-shadow");H=this._updateBulletLine(H,j1);}else{H=S.create("line");H=this._updateBulletLine(H,j1);H.setAttribute("stroke",J);if(!U.isMobile()){H.setAttribute("shape-rendering","crispEdges");}H.setAttribute("class","v-target-shadow");t.appendChild(H);}}if(s.horizontal){j1.x1=e1-i1/2;j1.x2=j1.x1;j1.y1=s.categoryPos;j1.y2=s.categoryPos+s.realBarSize;}else{j1.y1=this._realSize.height-e1+i1/2;j1.y2=j1.y1;j1.x1=s.categoryPos;j1.x2=s.categoryPos+s.realBarSize;}j1.width=i1;if(Q){H=t.querySelector(".v-target");H=this._updateBulletLine(H,j1);}else{H=S.create("line");H=this._updateBulletLine(H,j1);H.setAttribute("stroke",this._properties.get("target.valueColor"));H.setAttribute("class","v-target");if(!U.isMobile()){H.setAttribute("shape-rendering","crispEdges");}t.appendChild(H);}}};k.prototype._getDataLabels=function(i){return null;};function p(i,q){var r=S.create("g");r.setAttribute("class",q);i.node().appendChild(r);return r;}k.prototype._renderDatapoints=function(q,r){var s=this.isHorizontal();var t=this._data.series;var u=this._data.color;var v;var w=j.PRIMARYONLY;if(this._data.forecastValues&&this._data.forecastValues.metaData&&this._data.forecastValues.metaData.length>0){w=j.PRIMARYWIDTH;}var x;if(r){x=q.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();}else{x=p(q,C.CSS.CLASS.DATAPOINT_GROUP);}var y;var z;var A;var E={color:[]};var i=0;var H,I;var J,K;var L=this._categoryPosFn();var Q=this.__barSize();var R=Q*(1-w)/2;var W;var X=this._getScaleValue(0);var Y=0.15*Q;var Z=this._data.actualValues.scale.getDomain();var $=Number(Z[0]<0);var _=Number(Z[1]>0);for(var a1=0;a1<t.length;++a1){J=t[a1];var b1=J.rIndex==null?a1:J.rIndex;var c1=b1%this._data.actualValues.metaData.length;E=this._getInitialColorDomain(u,E,b1);for(i=0;i<J.length;++i){v=this._getExtraData(a1,i);K=J[i]||{};y=!d.isNoValue(K.actualValues)||!d.isNoValue(K.additionalValues)||!d.isNoValue(K.targetValues)||!d.isNoValue(K.forecastValues);W={min:X,max:Number.NEGATIVE_INFINITY};if(r){z=b.find(x,i);}else{z=S.create("g");z.setAttribute("class",C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT);}A={horizontal:s,realBarSize:Q,isUpdate:r,primaryOffset:R,primaryPercentage:w,parent:q.node()};A.categoryPos=L(a1,i);E=this._adjustColorDomain(K,c1,E);v.actual=E.actual;v.additional=E.additional;v.forecast=E.forecast;v.target=this._data.targetValues&&this._data.targetValues.metaData&&this._data.targetValues.metaData.id;this._renderOnePoint(K,E,v,A,z,W);delete A.stroke;delete A.strokeWidth;if(y&&W.max!==Number.NEGATIVE_INFINITY){var d1=this._getItemMinMax(i,a1,true);var e1=W.max;var f1=e1-W.min;f1+=($+_)*Y;if(s){if(e1>this._realSize.width){e1=this._realSize.width;}A.width=f1;A.height=Q;A.y=A.categoryPos;A.x=W.min-$*Y;}else{if(e1>this._realSize.height){e1=this._realSize.height;}A.width=Q;A.height=f1;A.x=A.categoryPos;A.y=this._realSize.height-e1-_*Y;}A.fill="transparent";if(r){H=z.querySelector(".v-eventArea");H=this._updateBulletBar(H,A);}else{H=c({graphic:A,effectManager:this._effectManager});H.setAttribute("class","v-eventArea");H.setAttribute("stroke","transparent");z.appendChild(H);}H.setAttribute("transform",'translate('+A.x+', '+A.y+')');I=K.dp;b.setDataPointId(z,I.id);b.setDataId(z,i);a.setContext(z,I.context());a.setAdditionCtx(z,I.additionCtx());a.setData(z,v);x.appendChild(z);}}}};k.prototype.getRealSizeByFixedDPSize=function(i){return i*this.__barSizeRatio()*this._categoryCount();};k.prototype._getItemMinMax=function(i,I,q){var r=(this._data.series[I]||[])[i];var s=r["actualValues"];var t=r["additionalValues"];var u=r["forecastValues"];var v=T.isNumber(s)&&T.isNumber(t)?t+s:undefined;var w=[s,t,v,u,0];if(q){w.push(r["targetValues"]);}w=w.filter(T.isNumber);var x=Math.min.apply(null,w);var y=Math.max.apply(null,w);return{max:y,min:x};};k.prototype.getDataPointPosition=function(s,i){s=s||0;var q=this._getItemMinMax(i,s);var u=this._getScaleValue(q.max);var r=this._getScaleValue(q.min);var t=u-r;var v=this._categoryPosFn()(s,i);var w=this.__barSize();if(this.isHorizontal()){return{x:r,y:v,height:w,width:t};}else{return{y:this._realSize.height-u,width:w,x:v,height:t};}};k.prototype._categoryPosFn=function(){var i=this.__barSizeRatio();var q=this._getCategoryWidth(),r=this.__barSize(q,i),s=(q-r*i)/2,t=r/3;return function(u,v){return u*(r*9/8)+t+v*q+s;};};k.prototype.__barSize=function(i,q){var r=i||this._getCategoryWidth(),s=q||this.__barSizeRatio(),t=this.__fixedBarSize();return Math.min(r/s,t.max);};k.prototype.__barSizeRatio=function(){return(this._data.series.length-1)/8+this._data.series.length+2/3;};k.prototype.__fixedBarSize=function(){var i=this._properties;var q=i.get("dataPointSize.min")||i.getDefault("dataPointSize.min"),r=i.get("dataPointSize.max")||i.getDefault("dataPointSize.max");if(q>r){r=i.getDefault("dataPointSize.max");q=i.getDefault("dataPointSize.min");}return{min:Math.min(q,r),max:r};};k.prototype._getExtraData=function(s,i){return{color:{}};};k.prototype.getZoomLevel=function(){if(this.isHorizontal()){return this._realSize.height/this._size.height;}else{return this._realSize.width/this._size.width;}};k.prototype.destroy=function(){k.superclass.destroy.call(this);this._gridlineScale=null;this._realSize=null;};f.register(h.DATAPOINT_NAVIGATOR,h.BULLET,g);return k;});define('sap/viz/chart/components/plotareas/BulletPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo',"sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil",'sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/CategoryAxis','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/plots/BulletPlot','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/util/TextUtils'],function Setup(C,o,V,a,X,b,c,P,B,d,S,U,D,T){var e=function(r,f){this._valueAxisPosition=r.propertyManager().get('valueAxis.layout.position');if(['top','bottom'].indexOf(this._valueAxisPosition)===-1){this._valueAxisPosition=r.propertyManager().getDefault('valueAxis.layout.position');}e.superclass.constructor.apply(this,arguments);};o.extend(e,X);e.prototype._init=function(){this._plot=P.create(this._renderType,B,this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var i=this._plot.isHorizontal();var f=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(['bottom','top','left','right']);this._categoryAxis=new c(this.runtime(),{name:"categoryAxis"});this.setChild("categoryAxis",this._categoryAxis,{position:"left"});this._valueAxis=new b(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:this._valueAxisPosition});if(f){this._hScrollbar=new S(this.runtime(),{name:"plotArea.scrollbar"});this.setChild("scrollbar2",this._hScrollbar,{position:"bottom"});}}else{this.setLayoutSequence(['left','right','bottom','top']);this._categoryAxis=new c(this.runtime(),{name:"categoryAxis",hasScrollbar:f});this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});if(f){this._hScrollbar=this._categoryAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;}this._valueAxis=new b(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});}if(f){this._vScrollbar=new S(this.runtime(),{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"});}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis]},isHorizontal:i});};e.prototype.updateValueScale=function(){var f=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(!f||w<=0||h<=0){return f;}var r=[0,1];if(this._plot.isHorizontal()){r[1]=w;}else{r[1]=h;}r[1]*=0.8;var v;var n=f;var g=[this._data.actualValues.minValue,this._data.actualValues.maxValue];if(g[0]===0&&g[1]===0){g=null;}v=this._calcValueAxisScale("actualValues",r,g);f.actualValues.scale=v.scale;f.actualValues.tickHint=v.tickHint;f.actualValues.scale.setRange([0,1]);this._valueAxis.setData(f.actualValues);return n;};e.prototype._isHorizontal=function(){return this._plot.isHorizontal();};return e;});define('sap/viz/chart/chains/BulletChains',["sap/viz/chart/chains/BaseChains","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/binding/BindingManager","sap/viz/framework/common/util/BulletUtils","sap/viz/chart/chains/ChainUtils",],function(B,N,T,A,a,b,C){var d=['GetDimensionsFromFlattable','GetContext','OnBindingFinished','OnBindingStart'];var c=B.extend('bullet',d);function g(r,e,m,f,t){var h=f.color?f.color.rowArray.length:1,v=f.actualValues.metaData.length,l=f.categoryAxis.rowArray.length;var s=[];for(var i=0;i<h;i++){for(var j=0;j<v;j++){var n=[];s.push(n);for(var k=0;k<l;k++){var p=m.reduce(function(o,q){var u;if(!f.color){u=f[q].values[k][j];}else{u=f[q].values[k][i];}if(!T.isExist(u)){o[q]=undefined;}else if(T.isArray(u)){o[q]=u[j];}else{o[q]=u;}return o;},{});n.push(p);}}}if(t){s.trellisRow=t.trellisRow;s.trellisColumn=t.trellisColumn;}f.series=s;b.bulletSetMinMax(f);}c.bulletGetBindingSeries=C.generateSeriesGetter(g);c.bulletGetMeasuresFromFlattable=function(r,f,m,h,k,l){var n=C.getMetadata(r).fields;c.parsedData=C.getData(r,h,c.parsedData);for(var i=0;i<f.length;i++){for(var j=0;j<n.length;j++){if(f[i]===n[j].id){var o=C.handleMeasure(r,f,m,c.parsedData,c.multiDimensionIndex,{isBullet:true});var p=o.measureArray;var q=A.transpose(p);var s=q.map(function(e){return A.extent(e);});var t=C.buildMetaData(r,f);var u=o.multiArray;var v={values:u,categorySum:C.sumByCategory(u),range:s,metaData:t};return v;}}}return null;};Object.keys(c).forEach(function(k){a.registerChain(k,c[k]);});return c;});define('sap/viz/chart/dynamicScales/BulletDyScaleProcessor',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/DynamicScaleRepository',"sap/viz/chart/dynamicScales/StackedDyScaleProcessor"],function(o,T,D,S){function B(t,p,d,r){B.superclass.constructor.apply(this,arguments);this._mainValue="actualValues";}o.extend(B,S);["bullet","vertical_bullet","timeseries_bullet"].forEach(function(t){D[t]=B;});B.prototype.getValue=function(d){var v=[d.actualValues,d.additionalValues,d.forecastValues,d.targetValues].filter(T.isNumber);return Math.min.apply(null,v);};return B;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForBullet',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/ColorUtils",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler',"sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/components/util/ChartTypeUtils"],function(C,T,H,D,a,O,b,B,c){var r=["info/bullet","info/vertical_bullet","info/trellis_bullet","info/trellis_vertical_bullet"];var t=["info/timeseries_bullet"];var f=r.concat(t);var Z=4;var g=C.CSS.CLASS;var h=function(e,u,v){var w,x;var y=D.getData(u);var z=y.color;var A=u.querySelector(".v-forecast");var E=y.isZeroValue;var F=e._getRenderType();var G=c.getChartTypeProperty(F).isVerticalRender;var I,i,J={};O.extend(true,J,e.getProperties().get('interaction.'+v.bStatus));J.name='interaction.'+v.bStatus;var K=e.getProperties().get(J.name);var L=e.isHorizontal()?"width":"height";if(v.bShow){if(J.stroke.visible===true||v.bKeyboard){var M=e.getProperties().get("interaction.keyboard");M.color=e.getEffectManager().register({fillColor:M.color});M.isZeroValue=E;M.isVerticalRender=G;M.isAllValueNegative=y.isAllValueNegative;M.isZeroOnFirstTab=y.isZeroOnFirstTab;if(A){if(v.bKeyboard){q(e,u,A,M,z);}else{j(e,u,A,K,"#999999",v.bSelected);}}var N=true;for(i in z){if(z.hasOwnProperty(i)){var P=d3.select(u).select("."+i);var _=D.getData(P.node())||{};if(parseFloat(P.attr(L))!==0&&!_.reshaped){N=false;break;}}}for(i in z){if(z.hasOwnProperty(i)&&i!=="v-forecast"){w=z[i];if(w.pattern==='noFill'){I=u.querySelector("."+i+"-noFill");}else{I=u.querySelector("."+i);}if(I){if(v.bKeyboard||N){q(e,u,I,M,z);}else{var Q=a.fromCSSColor(z[i].color.toLowerCase());if(Q){Q.r=parseInt(Q.r*0.7,10);Q.g=parseInt(Q.g*0.7,10);Q.b=parseInt(Q.b*0.7,10);j(e,u,I,K,Q.toString(),v.bSelected);}}}}}}}else{var R=e.getProperties().get('plotArea.dataPoint.stroke');if(A){A.removeAttribute("stroke");A.removeAttribute("stroke-width");A.removeAttribute("stroke-dasharray");A.removeAttribute("shape-rendering");}for(i in z){if(z.hasOwnProperty(i)){w=z[i];if(w.pattern==='noFill'){I=u.querySelector("."+i+"-noFill");x=1;}else{I=u.querySelector("."+i);x=z[i].strokeWidth;}if(I){var d=D.getData(I)||{};if(d.reshaped){I.setAttribute(L,"0");}I.removeAttribute("stroke-dasharray");I.removeAttribute("shape-rendering");if(w.strokeWidth){if(R&&R.visible===true){I.setAttribute("stroke",R.color);}else{I.setAttribute("stroke","#ffffff");}I.setAttribute("stroke-width",x);}else{I.removeAttribute("stroke");I.removeAttribute("stroke-width");}}}}}u.setAttribute("fill-opacity",T.isExist(K)&&T.isExist(K.opacity)?K.opacity:1);u.setAttribute("stroke-opacity",T.isExist(K)&&T.isExist(K.opacity)?K.opacity:1);};function j(d,e,i,u,v,w){var x=H.getColors(d,e,u.stroke.color,v);if(x.customizedColor){i.setAttribute("stroke",x.customizedColor);}else{i.setAttribute('stroke',x.defaultColor);}i.setAttribute("stroke-width",w?H.getWidth(u.stroke.width,1):H.getWidth(u.stroke.width,2));i.removeAttribute("stroke-dasharray");i.removeAttribute("shape-rendering");}function k(d,e,i){var u=D.getData(d)||{};if(u.reshaped){d.setAttribute('width',0);}if(i.isZeroOnFirstTab){if(parseFloat(d.getAttribute('width'))===0){d.setAttribute('width',Z);u.reshaped=true;e.x=i.isAllValueNegative?-1:1;}}D.setData(d,u);return e;}function l(d,e,i){var u=D.getData(d)||{};if(u.reshaped){d.setAttribute('height',0);}if(i.isZeroOnFirstTab){if(parseFloat(d.getAttribute('height'))===0){d.setAttribute('height',Z);u.reshaped=true;e.y=i.isAllValueNegative?1:-1;}}D.setData(d,u);return e;}function m(d){var e=d.lastIndexOf('(');var i=d.lastIndexOf(')');return d.substr(e+1,i-e-1);}function n(d,e,i){var u=d.getAttribute('transform').split('scale')[0];var v={x:1,y:1};if(T.isExist(d.getAttribute('transform').split('scale')[1])){var w=m(d.getAttribute('transform').split('scale')[1]);if(w.indexOf(",")<0){v={x:parseFloat(w),y:parseFloat(w)};}else{v={x:parseFloat(w.split(",")[0]),y:parseFloat(w.split(",")[1])};}}var x=e.isVerticalRender?l:k;v=x(d,v,e);var y=o(d,i);var z=T.isExist(o(d,i));if(z){if(T.isExist(y)){if(y.getAttribute('transform').indexOf('scale')<0){d.setAttribute('transform',u+'scale'+'('+v.x+','+v.y+')');}}var A=D.getData(d)||{};if(A.reshaped){d.setAttribute('fill','none');}}return d;}function o(d,e){var i=d.previousSibling||d.nextSibling;if(e){if(d3.select(i).attr("class")in e){return i;}}return d;}function p(d,e,i){if(e.isZeroValue){var F=d3.select(d).attr("class")==='v-forecast';if(!F){var u=e.isVerticalRender?"height":"width";var v=D.getData(d)||{};if(parseFloat(o(d,i).getAttribute(u))===0||v.reshaped){n(d,e,i);}}}return d;}function q(d,e,i,u,v){var w=H.getColors(d,e,u.color);p(i,u,v);i.setAttribute("stroke",w.customizedColor);i.setAttribute("stroke-width",H.getWidth(u.width,1));i.setAttribute("stroke-dasharray","1, 1");i.setAttribute("shape-rendering","crispEdges");}var s=[{"id":"selectDataPoint_bullet","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":f},"handler":function(d,i){i.fireEvent(d,true);var u=H.turnToArray(d.data.targets);u.forEach(function(e){if(i.getProperties().get('interaction.selected.stroke.visible')===true){h(i,e,{bShow:true,bSelected:true,bStatus:'selected'});}else{h(i,e,{bShow:false,bSelected:false,bStatus:'default'});}});}},{"id":"deselectDataPoint_bullet","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":f},"handler":function(d,i){i.fireEvent(d,true);var u=H.turnToArray(d.data.targets);u.forEach(function(e){if(d.data.isAnyOtherSelected){if(i.getProperties().get('interaction.deselected.stroke.visible')===true){h(i,e,{bShow:true,bSelected:true,bStatus:'deselected'});}else{h(i,e,{bShow:false,bSelected:true,bStatus:'deselected'});}}else{h(i,e,{bShow:false,bSelected:true,bStatus:'default'});}});}},{"id":"hoverOnDataPoint_bullet","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":f},"handler":function(d,i){i.fireEvent(d,true);var u=H.turnToArray(d.data.targets);u.forEach(function(e){h(i,e,{bShow:true,bSelected:false,bStatus:'hover',bKeyboard:!!d.data.byKeyboard});});}},{"id":"unhoverOnDataPoint_bullet","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":f},"handler":function(d,i){i.fireEvent(d,true);var u=H.turnToArray(d.data.targets);u.forEach(function(e){if(d3.select(e).classed(g.DATAPOINTSELECTED)){var v=i.getProperties().get('interaction.selected.stroke.visible');if(v===true){h(i,e,{bShow:true,bSelected:true,bStatus:'selected'});}else{h(i,e,{bShow:false,bSelected:true,bStatus:'selected'});}}else{var w=i.getStatus("selectedDataPoints");if(w.length){if(i.getProperties().get('interaction.deselected.stroke.visible')===true){h(i,e,{bShow:true,bSelected:true,bStatus:'deselected'});}else{h(i,e,{bShow:false,bSelected:true,bStatus:'deselected'});}}else{h(i,e,{bShow:false,bSelected:true,bStatus:'default'});}}});}},{"id":"clearPlot_bullet","triggerEvent":{"name":"clearPlot","supportedChartTypes":f},"handler":function(d,i){i.fireEvent(d,true);var u=i.getNodes(i.NodeType.DATA_POINT,false);if(!u||!u.length){return;}var v=d.data.isGray;u.forEach(function(e){if(v){h(i,e,{bShow:true,bSelected:true,bStatus:'deselected'});}else{h(i,e,{bShow:false,bSelected:false,bStatus:'default'});}});}},{"id":"click_on_non_selection_bullet","triggerEvent":{"name":"click","supportedChartTypes":f,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,d){b.clickOnNonSelection(e,d,t);}},{"id":"clearPlot_time_bullet","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(e,d){b.clearForTime(e,d);}},{"id":"hover_range_selection_bullet","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-action-layerrange"},"handler":function(e,d){b.showDetailForRangeSelectionWhenHover(e,d);}},{"id":"update_range_selection_effect_bullet","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":t},"handler":function(e,d){b.updateRangeEffect(e,d);}},{"id":"recover_range_selection_effect_bullet","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":t},"handler":function(e,d){b.recoverRangeEffect(e,d);}}];B.registerAll(s);return s;});define('sap/viz/chart/views/BulletChartView',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/views/ChartView","sap/viz/chart/components/legend/BulletLegend","sap/viz/chart/components/plotareas/BulletPlotArea","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/scales/ScalesFactory","sap/viz/chart/scales/BulletColorScale","sap/viz/chart/chains/BulletChains","sap/viz/chart/dynamicScales/BulletDyScaleProcessor","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBullet"],function Setup(o,C,a,B,P,T,b,S,c,d){S.register("bullet","color",c);var e=function(r,f){e.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(e,a);e.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}e.superclass.setSize.apply(this,arguments);};e.prototype._getDataItems=function(){return["actualValues","additionalValues","color","categoryAxis","targetValues","forecastValues","series","trellisRow","trellisColumn"];};e.prototype._createPlotContainer=function(i){this._plotArea=new P(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};e.prototype._getLegendDefinition=function(){return[B];};e.prototype._getLegendInitOptions=function(){return[{noFillSupport:true,"targetLineDirection":/vertical_bullet|timeseries_bullet/.test(this._options.renderType)?C.DIRECTION.HORIZONTAL:C.DIRECTION.VERTICAL}];};e.prototype.calculatePaddingInPX=function(p){var f=e.superclass.calculatePaddingInPX.apply(this,arguments);if((p.get("title.visible")===false)&&this._plotArea&&(this._plotArea._isHorizontal&&b.isExist(this._plotArea._isHorizontal())&&this._plotArea._isHorizontal()!==true)&&(p.get("valueAxis.visible")===true)){this.changePaddingTop(p,f);}return f;};return e;});define('sap/viz/chart/metadata/bindings/BulletBindings',[],function Setup(){var f=[{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"actualValues","name":"IDS_PRIMARY_VALE","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"additionalValues","name":"IDS_ADDITIONAL_VALE","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"targetValues","name":"IDS_TARGETVALUES","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"mark.target"},{"id":"forecastValues","name":"ID_FORECAST_VALUES","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"mark.forecast","description":"This is deprecated"}];return f;});define('sap/viz/chart/components/datalabels/PieDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/DataUtils',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/GeometryUtils",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/ArrayUtils"],function Setup(o,D,c,d,T,e,G,U,C,f,S,A){var M="measureNames";var P=function(r,a){P.superclass.constructor.apply(this,arguments);};o.extend(P,D);P.prototype._getDataLabelInfo=function(n){var p=d3.select(n.childNodes[0]).datum();var a=(p.endAngle-p.startAngle)/(2*Math.PI);var b=c.getContext(n);var j=this._data.size.metaData;var k=b[M]||j[0].id;var l;for(var i=0;i<j.length;++i){if(j[i].id===k){l=j[i].name;break;}}return{key:k,value:b[k],name:l,percentage:a<0.000001?0:a};};P.prototype._showProperty=function(p){if(!this._data||!this._data.color||!this._data.color.metaData){return false;}var a=this._data.color.metaData;for(var i=0;i<a.length;i++){if(p===a[i].id&&!a[i].hidden){return true;}}return false;};P.prototype._buildDataLabelText=function(a,b,i,j,k){if(b.value===0&&!this.drawZero(k)){return null;}return D.buildDataLabelText(this._properties,a,b,i,j,g,m,h.bind(this));};function g(p){var t=p.get('type');var r;if(t==='color'){r=['color'];}else if(t==='value'){r=['value'];}else if(t==='percentage'){r=['percentage'];}else{r=['color','percentage'];}return r;}function m(p,a){var t=p.get('type');var b;if(t==='color'||t==='value'||t==='percentage'){b=a[0];}else{b=a[1]?a[0]+"   ("+a[1]+")":a[0];}return b;}function h(a,b){var r=null;if(a&&b){if(b.key){var i=b.key;if(a.hasOwnProperty(i)){var j=0,v;for(var p in a){if(a.hasOwnProperty(p)&&p!==i&&this._showProperty(p)){if(p===M){if(!b.keepMND){continue;}v=b.name||a[p];}else{v=a[p+d.DIMENSION_DISPLAYNAME_SUFFIX]||a[p];}if(j===0){r=v;}else{r=r+"/"+v;}j++;}}}}}return r;}P.prototype.removeExtraDataOfDataPoint=function(f,a){var r=a;if(f&&a){if(f.getData&&f.setData){var b=f.getData(a);if(b&&b.decoras){delete b.decoras;f.setData(a,b);r=a;}}}return r;};P.prototype._isKeepMND=function(){var b=this._data.color.metaData;var v=this._data.color.values;var O=false;var j=0;for(var i=0;i<b.length;++i){if(!b[i].hidden){++j;}if(b[i].id===M){var u=A.unique(v[i],function(a){return a?a.toString():false;});if(u&&u.length<2){O=true;}}}return!(j>1&&O);};P.prototype.setExtraDataOfDataPoint=function(f,a,b){var r=a;if(f&&a&&b){if(f.getData&&f.setData){var i=f.getData(a);if(!i||T.isPlainObject(a)){i={};}i.decoras=b;f.setData(a,i);r=a;}}return r;};P.prototype.getLabelLineOffset=function(a){return a*C.DATALABEL.PIE_LINE_LABEL_OFFSET;};P.prototype._reverseLineModeLocation=function(a,b,l){var i=this.getLabelLineOffset(b)+C.DATALABEL.PIE_LINE_OFFSET;var j={};j.x=l.x;j.y=l.y+l.height/2;if(a>0&&a<=Math.PI){j.x-=i;}else{j.x+=l.width;j.x+=i;}return j;};P.prototype._adjustLineModeLocation=function(a,l,b,i,j){var k=this.getLabelLineOffset(b)+C.DATALABEL.PIE_LINE_OFFSET;var n={};n.x=l;n.y=i;if(a>0&&a<=Math.PI){n.x+=j.width/2;n.x+=k;}else{n.x-=j.width/2;n.x-=k;}return n;};P.prototype._adjustOutsideLocation=function(a,b,l,i,j){var k={};k.x=l;k.y=i;if((a>=0&&a<=(Math.PI/8))||(a>(Math.PI/8*15)&&a<=(2*Math.PI))){k.y-=j.height/2;}else if(a>(Math.PI/8)&&a<=(Math.PI/4)){k.y-=j.height/2;k.x+=j.width/2;}else if(a>(Math.PI/4)&&a<=(Math.PI/4*3)){k.x+=j.width/2;}else if(a>(Math.PI/4*3)&&a<=(Math.PI/8*7)){k.y+=j.height/2;k.x+=j.width/2;}else if(a>(Math.PI/8*7)&&a<=(Math.PI/8*9)){k.y+=j.height/2;}else if(a>(Math.PI/8*9)&&a<=(Math.PI/4*5)){k.y+=j.height/2;k.x-=j.width/2;}else if(a>(Math.PI/4*5)&&a<=(Math.PI/4*7)){k.x-=j.width/2;}else{k.y-=j.height/2;k.x-=j.width/2;}k.x+=this.getLabelLineOffset(b)*Math.sin(a);k.y-=this.getLabelLineOffset(b)*Math.cos(a);return k;};P.prototype.renderDataLabelLine=function(a){var b;if(a.length>0){var i;i=f.getData(a[0].dataPoint);b=i.r;if(this.getLocationMode(b)===C.DATALABEL.LOCATIONMODE_LINE){var I;for(I=0;I<a.length;I++){var l=0;var j=0;i=f.getData(a[I].dataPoint);var k=d3.select(a[I].node).text();if(!k||k.length<=0){continue;}var n=G.getBBox(a[I].node);var p=this._reverseLineModeLocation(i.midAngle,b,n);var q={};q.x=-a[I].originalCenterX+p.x;q.y=-a[I].originalCenterY+p.y;var s={};s.x=q.x+i.r*Math.sin(i.midAngle);s.y=q.y-i.r*Math.cos(i.midAngle);var r={};r.y=p.y;r.x=p.x;if(i.midAngle>0&&i.midAngle<=Math.PI){r.x+=C.DATALABEL.PIE_LINE_OFFSET;}else{r.x-=C.DATALABEL.PIE_LINE_OFFSET;}var t="M"+s.x+" "+s.y;t+=" L"+p.x+" "+p.y;t+=" L"+r.x+" "+r.y;var u=this._properties.get("line.color");d3.select(a[I].node).append("path").attr("d",t).attr("stroke",u).attr("fill","none").attr("stroke-width","1");}}}};P.prototype.getRadiusPercentage=function(a){var l=this._properties.get('distance');var r=this._properties.getDefault('distance')+1;var I=0.5;var i=false;if(T.isString(l)&&l.indexOf("px")>=0){i=true;}l=parseFloat(l);if(T.isNumber(l)){r=I;if(l>=0){if(i){r=(a+l)/a;}else{r=1+l;}}}return r;};P.prototype.isDataLabelOutOfDataPoint=function(a,i){var l=this._properties.get('distance');l=parseFloat(l);if(l>=0){return true;}else{return P.superclass.isDataLabelOutOfDataPoint.apply(this,arguments);}};P.prototype._computeDataLabelTranslate=function(n,a,l,b){var p=d3.select(n.childNodes[0]).datum();var s=p.startAngle;var i=p.endAngle;var j=p.innerRadius;var k=p.outerRadius;var r=this.getRadiusPercentage(k);var q=(s+i)/2;var t=Math.sin(q-Math.PI/2);var u=Math.cos(q-Math.PI/2);var v,w;if(this._options.isDonut){var x;if(r<1){x=j+r*(k-j);}else{x=r*k;}v=x*u;w=x*t;}else{v=(r*k)*u;w=(r*k)*t;}var y=[];y.originalCenterX=v;y.originalCenterY=w;var z;if(this.getLocationMode(k)===C.DATALABEL.LOCATIONMODE_OUTSIDE){z=this._adjustOutsideLocation(q,k,v,w,b);v=z.x;w=z.y;}else if(this.getLocationMode(k)===C.DATALABEL.LOCATIONMODE_LINE){z=this._adjustLineModeLocation(q,v,k,w,b);v=z.x;w=z.y;}v+=a.e;w+=a.f;y[0]=v-(b.x+b.width/2);y[1]=w-(b.y+b.height/2);return y;};P.prototype.getLocationMode=function(a){var r=this.getRadiusPercentage(a);var l=this._properties.get('line.visible');var b=C.DATALABEL.LOCATIONMODE_INSIDE;if(r>=1){if(l){b=C.DATALABEL.LOCATIONMODE_LINE;}else{b=C.DATALABEL.LOCATIONMODE_OUTSIDE;}}return b;};P.prototype.sortDataLabelInfos=function(i){i.sort(function(a,b){var r=(a.info.value-b.info.value);return r;});};P.prototype.truncateText=function(a){var b;if(a.length>0){var j;j=f.getData(a[0].dataPoint);b=j.r;if(this.getLocationMode(b)===C.DATALABEL.LOCATIONMODE_INSIDE){var t=this._properties.get('type');if(t==='percentage'||t==='value'){return;}for(var i=(a.length-1);i>=0;i--){var k=a[i].dataPoint;var l=a[i].node;var n=k.getBoundingClientRect();var p=l.getElementsByTagName('text');if(!p||p.length===0){continue;}p=p[0];var q=p.textContent;var r=this._getStyle(k);var s={};var u=this.runtime().envManager();s.reverseDots=(u&&u.reverseDots());if(t==='color'){e.ellipsis(q,p,n.width,r.cssString,s);}else{var v=q.split(' ')[0];var w=v.substr(0,3)+'...';var z=q.substring(v.length);var B=e.canvasMeasure(z,r['font-size'],r['font-weight'],r['font-family']).width;var E=e.canvasMeasure(w,r['font-size'],r['font-weight'],r['font-family']).width;var F=n.width-B;var H=e.ellipsis(v,p,F>E?F:E,r.cssString,s);p.textContent=H+z;}var I=G.getBBox(l);var J=S.getTransformToElement(k,k.parentNode.parentNode);var K=this._computeDataLabelTranslate(k,J,this._labelPosition,I);l.setAttribute("transform","translate("+K[0]+","+K[1]+")");var x=K[0],y=K[1];a[i].left=x+I.x;a[i].right=x+I.x+I.width;}}}};return P;});define('sap/viz/chart/components/renderers/PieRenderer',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DataGraphics'],function(S,D){var p=function(c){var g=c.graphic;var s=S.create("path");var i=0;if(g.innerRadius){i=g.innerRadius;}var a=d3.svg.arc().innerRadius(i).outerRadius(g.outerRadius).startAngle(g.startAngle).endAngle(g.endAngle)();var f=c.effectManager.register({drawingEffect:g.drawingEffect,graphType:'sector',direction:'vertical',radius:g.outerRadius,fillColor:g.color});s.setAttribute("fill",f);s.setAttribute("d",a);if(g.stroke){s.setAttribute('stroke',g.stroke);s.setAttribute('stroke-width',g.strokeWidth);}D.setContext(s,{innerRadius:g.innerRadius,outerRadius:g.outerRadius,startAngle:g.startAngle,endAngle:g.endAngle});return s;};p.expose={renderer:p};return p;});define('sap/viz/chart/components/util/ContextUtil',["sap/viz/framework/common/util/Constants"],function Setup(C){var a={isEqualArray:function(s,t){if(!s||!t){return false;}var e=true;if(s.length===t.length&&t.length>0){for(var i=0;i<s.length;i++){if(s[i]!==t[i]){e=false;break;}}}else{e=false;}return e;},getUniqueFieldName:function(f){if(!f){return null;}var b=null;if(f.hasOwnProperty("id")){b=f.id;}else if(f.hasOwnProperty("name")){b=f.name;}return b;},getContextObjByFieldsArray:function(c,f){if(!c||!f||(c&&c.length<1)||(f&&f.length<1)){return null;}var b=null;if(c&&f){var d=c.length;var e=f.length;if(d>=e&&e>0){for(var i=0;i<d;i++){var g=c[i];if(g&&g.length>0){var h=false;for(var j=0;j<g.length;j++){var k=g[j];if(k&&k.length>0&&k.length===e){if(a.isEqualArray(k,f)){h=true;}else{if(h){for(var m=0;m<e;m++){if(!b){b={};}if(f[m]){b[f[m]]=g[j][m];}}break;}}}else{break;}}if(h){break;}}else{break;}}}}return b;},filterDimensionContext:function(b,c){if(!b||!c){return null;}var r=null;if(b.length>0){for(var k in c){if(c.hasOwnProperty(k)){if(!r){r={};}var d=true;for(var i=0;i<b.length;i++){if(k===b[i]){b.splice(i,1);d=false;break;}}if(!d){continue;}r[k]=c[k];}}}return r;},getDimensionKeyAndValueString:function(d){if(!d){return null;}var r=null;if(d&&typeof d==='object'){var c=0;for(var p in d){if(d.hasOwnProperty(p)){var i=p+"="+d[p];if(i){++c;if(c>1){r=r+"&"+i;}else{r=i;}}}}}return r;},getDimensionKeyAndValueStringFromAxes:function(b,c){if(!b||!b._data||!b._fields){return null;}var r=null;if(b._data.length>0&&b._fields.length>0&&c<b._data.length){var l=b._fields.length;var f=b._fields;var d=b._data;if(d[c]&&d[c].val){var i=0;var p=null;var e=null;var g=a.getUniqueFieldName(f[i]);for(;i<l;i++){if(f[i]&&g){if(!r){r={};}e=g;p=d[c].val[i];r[e]=p;}}}}return r;},isEmptyObj:function(o){if(!o){return true;}var r=true;if(o){for(var p in o){if(o.hasOwnProperty(p)){r=false;break;}}}return r;},getHighlightContextIndexOfAxes:function(b,h){if(!b||!h||a.isEmptyObj(h)){return-1;}var c=-1;if(b&&b._data&&b._data.length>0&&b._fields&&b._fields.length>0){var f=b._fields;var l=f.length;var i=0;var d=b._data;var e=this.getDimensionKeyAndValueString(h);var g=function(b,c){var r=null;for(var i=0;i<l;i++){var j=a.getUniqueFieldName(b._fields[i]);if(j){var t=j+"="+b._data[c].val[i];if(i>0){r=r+"&"+t;}else{r=t;}}}return r;};if(d&&d.length>0&&l){for(;i<d.length;i++){if(e===g(b,i)){c=i;break;}}}}return c;},equalCtx:function(c,b){var k=Object.keys(c),d=Object.keys(b);return(k.length>0)&&k.every(function(e){return c[e]===b[e];});},match:function(c,d){if(!c){return false;}if(!Array.isArray(c)){c=[c];}return c.some(function(b){if(!b){return true;}return a.equalCtx(b,d);});},getContextInfo:function(c,b){var d=c;if(!Array.isArray(b)){b=[b];}var e;for(var j=0,l=b.length;j<l;j++){var f=b[j],g=f.ctx,h=f.paras;if(!g){e=h;}}var k=this._parameters,n,o=-1,p,q;for(var i=0,r=b.length;i<r;i++){var s=b[i],t=s.ctx,u=s.paras;if(!t){q=i;}else if(a.match(t,d)){p=0;for(var m in t){if(t.hasOwnProperty(m)){p++;}}if(o<p){o=p;q=i;}}}if(b[q]){return b[q].paras;}return e;},getContextDisplayKey:function(d){return d+".d";},getContextValueKey:function(d){return d+".v";},getContextDisplayValue:function(d){return d&&d.hasOwnProperty('d')?d["d"]:(d&&d.hasOwnProperty('v')?d["v"]:undefined);},getContextValue:function(d){return d&&d.hasOwnProperty('v')?d["v"]:undefined;},enableDisplayContext:function(c){var e=false;if(c){for(var i in c){if(c.hasOwnProperty(i)&&c.hasOwnProperty(i+".d")){e=true;break;}}}return e;},enableObjectContext:function(c){var e=false;if(c){for(var i in c){if(c.hasOwnProperty(i)&&(c.hasOwnProperty(i+".d")||c.hasOwnProperty(i+".parsedValue"))){e=true;break;}}}return e;},equalCtxWithoutDisplayName:function(c,b,m){var r=true;for(var k in c){if(c.hasOwnProperty(k)){for(var i=0;i<m.length;i++){if(k===m[i].id){if(c[k]!==b[i]){r=false;}break;}}if(i>=m.length){r=false;break;}}}return r;},equalCtxWithColorDomain:function(c,b,m){var r=true;var l=c.length;var d=0;for(var k in b){if(b.hasOwnProperty(k)){for(var i=0;i<m.length;i++){if(k===m[i].id){if(b[k]===c[i]){d++;}break;}}}}return l===d;},equalCtxExtend:function(c,b,m){if(!a.enableObjectContext(c)){return a.equalCtxWithColorDomain(b,c,m);}var r=false;if(c&&b&&m&&m.length===b.length){if(b.length>0){var d=null;var e=null;var f=null;var g=null;var i=-1;var h={};var j=null;var k=null;var l=null;r=m.every(function(n){d=n.id;e=n.type;var o=false;if(e==="Dimension"){i++;j=a.getContextDisplayKey(d);if(c.hasOwnProperty(d)){g=c[d];h=b[i];l=a.getContextValue(h);if(g!==undefined&&l!==undefined&&g!==null&&l!==null){o=g===l;}}}return o;});}}return r;},getContextDisplayNames:function(m){var n=[];if(m&&m.length){m.forEach(function(d){if(d&&d.hasOwnProperty('id')&&d.hasOwnProperty('type')&&d.type==="Dimension"){n.push(a.getContextDisplayKey(d.id));}});}return n;},getContextRawValue:function(c){var r=null;if(c){for(var k in c){if(c.hasOwnProperty(k)&&k!==C.BINDING.CONTEXT_ID_NAME){if(!r){r=c[k];}else{r+="/"+c[k];}}}}return r;},getDisplayValueOfContext:function(c,m){if(!a.enableObjectContext(c)){return a.getContextRawValue(c);}var d=null;if(c&&m&&m.length>0){m.forEach(function(b){var e=b.id;var f=a.getContextDisplayKey(e);var v=c[e];if(c.hasOwnProperty(f)){v=c[f];}if(v!=null){d=!d?v:d+"/"+v;}});}return d;}};return a;});define('sap/viz/chart/components/accessibility/PieDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ColumnDataPointNavigator"],function(o,C){function P(){P.superclass.constructor.apply(this,arguments);this._isAllValueNegative=false;this._allDataPoints=[];this._setupDataPointsMap();}o.extend(P,C);var p=P.prototype;p._setupDataPointsMap=function(){if(this._series){var n=0;var a=this._series.length;for(var i=0;i<a;i++){if(this._series[i][0].size<0){n++;}}this._isAllValueNegative=(n===a);for(var j=0;j<a;j++){if(!this._isAllValueNegative&&this._series[j][0].size<0){continue;}else{this._allDataPoints.push(this._series[j][0].dp);}}}};p.getFirstStartPoint=function(){for(var i=0;i<this._series.length;i++){if(!this._isAllValueNegative&&this._series[i][0].size<0){continue;}else{return this._series[i][0].dp;}}};return P;});define('sap/viz/chart/components/plots/PiePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/PieDataLabels','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/renderers/PieRenderer','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/util/ContextUtil',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/format/FormatManager',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/PieDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function Setup(o,S,D,P,B,a,b,O,N,c,T,C,d,e,F,f,g,j){var k=function(h,i){k.superclass.constructor.apply(this,arguments);this._dataPointRenderer=b;};o.extend(k,B);k.prototype.destroy=function(){k.superclass.destroy.call(this);this._dataPointRenderer=null;this._padding=null;this._outerRadius=null;this._innerRadius=null;this._dataSeries=null;this._pieLayout=null;};k.prototype._getDataHandler=function(){return{"size":new v()};};k.prototype._getDataLabels=function(h,i){var w=O.extend({},this._options);w.name=h;return new P(i,w);};k.prototype._applyChanges=function(){var w=this._size.width,h=this._size.height;this._padding=p(w,h);this._outerRadius=this.calculateOuterRadius(w,h,null);this._innerRadius=this._options.isDonut?s(this._outerRadius,this._properties.get('innerRadiusRatio')):0;var x=true,y=[];var z=[];this._dataSeries=[];for(var i=0;i<this._data.series.length;i++){if(this._data.series[i]&&this._data.series[i][0]){z[i]=this._data.series[i][0].size;if(z[i]>0){x=false;}}}for(i=0;i<z.length;i++){var A=z[i];if(N.isNoValue(A)||(A<0&&!x)){continue;}y.push(A);this._dataSeries.push(this._data.series[i]);}this._pieLayout=d3.layout.pie().sort(null)(y);};k.prototype._getSeries=function(){return this._dataSeries;};k.prototype._applyDataPointRenderer=function(h,i){var w=this._properties.get('markerRenderer');if(w){return w(i,b.expose);}else{return k.superclass._applyDataPointRenderer.apply(this,arguments);}};k.prototype._drawDataPoint=function(h,i){var w=k.superclass._drawDataPoint.apply(this,arguments);var x=i.getConfig();if(x.isMatchedHighlightContext!==undefined&&x.isMatchedHighlightContext!==true){w.setAttribute("fill-opacity",1);w.setAttribute("class",'');}return w;};k.prototype.isFlexibleLayout=function(){return true;};k.prototype._postRender=function(h){var x=(this._size.width/2);var i=this._options&&this._options.inTrellis;var w=this.runtime().statusManager().get('legendGroup.isHorizontal');var y=(i||w)?(this._size.height/2):(this._outerRadius*n+this._padding);if(this.isFlexibleLayout()){y=this._size.height/2;if(y>x&&!(w&&this._properties.get("alignment.vertical")==="center")){y=x;}}h.setAttribute("transform",'translate('+x+', '+y+')');if(this._options.isDonut&&this._highlightContext){var z=C.getDisplayValueOfContext(this._highlightContext,this._data.color.metaData);var A=(this._highlightContextPosition.endAngle-this._highlightContextPosition.startAngle)/(2*Math.PI);var E=this._properties.get('dataLabel.formatString');var G=this._properties.get('dataLabel.type');var H,I;var J=false;if(this._data&&this._data.size&&this._data.size.metaData){H=this._data.size.metaData[0].id;I=this._data.size.metaData[0].formatString;}if(!E){E=I;if(T.isArray(E)&&G==='percentage'){E=E[1];}}var K={key:H,value:A};var L=D.getFirstFormatPattern(E,K);L=L?L:F.getPercentagePattern(1);var M=F.format(A,L);var Q={centerName:z,centerValue:M,properties:this._properties.get(),};h.appendChild(u.call(this,Q,this._highlightContext));}};k.prototype._computeDataLabelTranslate=function(h,i,w,x){var y=d3.select(h.childNodes[0]).datum();var z=y.startAngle;var A=y.endAngle;var E=y.innerRadius;var G=y.outerRadius;var H=(z+A)/2;var I=Math.sin(H-Math.PI/2);var J=Math.cos(H-Math.PI/2);var K,L;if(this._options.isDonut){K=(E+G)/2*J;L=(E+G)/2*I;}else{K=0.5*G*J;L=0.5*G*I;}K+=i.e;L+=i.f;return[K-(x.x+x.width/2),L-(x.y+x.height/2)];};k.prototype._getPosition=function(h,i,w){var x=this._pieLayout[h];if(isNaN(x.startAngle)||isNaN(x.endAngle)){x=null;}return x;};k.prototype._buildData=function(h){var i=h.graphic;var w;if(this._data.size.totalSum===0){w=1;}else{w=h.rawData.size/this._data.size.totalSum;}return{color:i.color,midAngle:i.startAngle/2+i.endAngle/2,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,r:i.outerRadius,shape:'sector',percentage:w};};k.prototype._buildConfig=function(h,i,w){var x=this._data.color.scale.scale(h.color);var y;if(this._options.isDonut){var z=this._properties.get('highlight.highlightContext');if(z&&z.length>0){z=z[0];y=C.equalCtx(z,w);if(y===true){this._highlightContext=z;if(this._highlightContextPosition){this._highlightContextPosition.data+=i.data;this._highlightContextPosition.value+=i.value;this._highlightContextPosition.endAngle=i.endAngle;}else{this._highlightContextPosition=i;}}else{x=this._properties.get('highlight.unhighlightSliceColor');}}}return{graphic:{startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:this._innerRadius,outerRadius:this._outerRadius,color:x,drawingEffect:this._properties.get('drawingEffect')},ctx:w,isMatchedHighlightContext:y,effectManager:this._effectManager};};var l=6,m=2.414;var n=1.08;var p=function(w,h){var i;var x=Math.min(w,h);if(x<l*2){if(x<(l/4)*2){if(x<(l/8)*2){i=0;}else{i=l/8;}}else{i=l/4;}}else{i=l;}return i;};var q=function(h,i){return(h/2-i)/n;};var r=function(w,h){var i=Math.max(w/2/(1+1/m),h*m);return Math.min(i,w/2-h);};k.prototype.calculateOuterRadius=function(w,h,i){var x=this._padding;if(this.isFlexibleLayout()){var y=this._properties.get('radius');if(!(T.isNumber(y)&&y>=0&&y<=0.5)){y=this._properties.getDefault('radius');}return Math.min(h*y,w*y);}else{if(i){return Math.min(h/2,w/2);}return Math.min(q(h,x),r(w,x));}};var s=function(h,i){if(!T.isNaN(i)){return h*i;}return h/m;};var t=function(h,i,w,x){var y=20;var z=document.createTextNode(i);var A=S.create("tspan");var E=w&&w.hasOwnProperty("fontSize")?parseFloat(w["fontSize"])/2:y/2;A.setAttribute("class",x);A.appendChild(z);h.appendChild(A);return{"node":A,"offset":E};};var u=function(h,w){var x="v-donut-centername",y="v-donut-centervalue",z="centerName",A="centerValue",E="highlight";var L=6;var G=h.properties;var H=S.create("text");var I,J,K=0,M=0;var Q,R;var U,V=G.highlight.contextInfos;if(V&&V.length>0){for(var i=0;i<V.length;i++){if(C.equalCtx(V[i].ctx,w)){U=V[i].paras.color;break;}}}var W=0;var X=0;if(G.highlight.centerName.visible){R=G[E][z]['style'];Q=t(H,h.centerName,R,x);if(Q){I=Q.node;K=Q.offset;W=e.fastMeasure(h.centerName,R["fontSize"],R["fontWeight"],R["fontFamily"],R["fontStyle"]).width;I.style.fill=R["color"]||U;I.style.fontFamily=R["fontFamily"];I.style.fontSize=R["fontSize"];I.style.fontWeight=R["fontWeight"];I.style.fontStyle=R["fontStyle"];}}if(G.highlight.centerValue.visible){R=G[E][A]['style'];Q=t(H,h.centerValue,R,y);if(Q){J=Q.node;M=Q.offset;X=e.fastMeasure(h.centerValue,R["fontSize"],R["fontWeight"],R["fontFamily"],R["fontStyle"]).width;J.style.fill=R["color"]||U;J.style.fontFamily=R["fontFamily"];J.style.fontSize=R["fontSize"];J.style.fontWeight=R["fontWeight"];J.style.fontStyle=R["fontStyle"];}}if(I){I.setAttribute("x",-W/2);I.setAttribute("y",K-M-L/2);}if(J){J.setAttribute("x",-X/2);J.setAttribute("y",K+M+L/2);}var Y=null;var Z=this.runtime().envManager();if(Z){Y=Z.textAnchor();}H.setAttribute("text-anchor",Y);return H;};var v=function(){};v.prototype.reset=function(){this._sum=0;};v.prototype.getBase=function(i,h){return this._sum;};v.prototype.add=function(i,h){this._sum+=h;return this._sum;};v.prototype.destroy=function(){this._sum=null;};f.register(j.DATAPOINT_NAVIGATOR,j.PIE,g);return k;});define('sap/viz/chart/chains/PieChains',['sap/viz/chart/chains/BaseChains',"sap/viz/chart/chains/YYChains","sap/viz/framework/binding/BindingManager"],function Setup(B,Y,a){var p={};var d=['GetDimensionsFromFlattable','GetMeasuresFromFlattable','GetContext','OnBindingFinished','OnBindingStart'];p=B.extend('pie',d);p.pieGetBindingSeries=Y.yyGetBindingSeries;Object.keys(p).forEach(function(k){a.registerChain(k,p[k]);});return p;});define('sap/viz/chart/dynamicScales/PieDyScaleProcessor',['sap/viz/framework/common/util/oo','sap/viz/framework/scale/DynamicScaleRepository',"sap/viz/chart/dynamicScales/BaseColumnDyScaleProcessor"],function(o,D,B){function P(t,p,d,r){P.superclass.constructor.apply(this,arguments);this._mainValue="size";}D["pie"]=P;D["donut"]=P;o.extend(P,B);return P;});define('sap/viz/chart/behavior/config/PieBehaviorHelper',["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics"],function(T,D){function b(d,a,c,i,e){d=d3.select(d);var t=d3.transform(d.attr("transform"));if(!d.attr("inPos")){d.attr("inPos",t.translate.join(","));}if(!d.attr("outPos")){d.attr("outPos",[t.translate[0]+a,t.translate[1]+c].join(","));}var f=i?d.attr("inPos"):d.attr("outPos");if(!e){d=d.transition();}d.attr("transform","translate("+f+")");}var s=function(c,f){if(!T.isArray(c)){c=[c];}c.forEach(function(e){if(e.parentNode.childNodes.length>1){var g=d3.select(e);var d=D.getData(g.node());if(d){var h=d.decoras;var i=0,j=0;var a=d.midAngle;var r=d.r;var k;k=0.05*r;i=k*Math.sin(a);j=-k*Math.cos(a);g.attr('transform',"translate("+i+","+j+")");g.attr('translateOffsetX',i);g.attr('translateOffsetY',j);if(h&&(!g.attr('offsetDone')||g.attr('offsetDone')==="false")){b(h,i,j,false,f);}g.attr('offsetDone',true);}}});};var P={selectDataPoint:s,deselectDataPoint:function(a){if(!T.isArray(a)){a=[a];}a.forEach(function(e){var c=d3.select(e);if(c){if(c.attr('offsetDone')==="true"){c.attr('transform',"translate(0,0)");var o=c.attr('translateOffsetX');var f=c.attr('translateOffsetY');var d=D.getData(c.node());var g=d.decoras;if(g&&o&&f){if(T.isNumber(o)&&T.isNumber(f)){b(g,-Number(o),-Number(f),true);}}c.attr('offsetDone',false);}}});}};return P;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForPie',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/PieBehaviorHelper","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/BehaviorManager"],function(C,T,H,P,a,S,I,b,D,B){var p=["info/pie","info/donut"];p=a.addTrellisType(p);var c=C.CSS.CLASS;var f=[{"id":"selectDataPoint_pie","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":p},"handler":function(d,s){s.fireEvent(d,true);var g=H.turnToArray(d.data.targets);var h=s.getProperties().get('interaction.selected');g.forEach(function(e){d3.select(e).selectAll("."+c.PIE_HOVER_STROKE).remove();var i=D.getData(e);H.drawStroke(s,e,'path',h.stroke,1,undefined,i);H.drawFill(s,e,'path',h,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});P.selectDataPoint(g,d.data.disableAnimation);}},{"id":"deselectDataPoint_pie","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":p},"handler":function(d,s){s.fireEvent(d,true);var g=H.turnToArray(d.data.targets);var h;g.forEach(function(e){if(d.data.isAnyOtherSelected){h=s.getProperties().get('interaction.deselected');}else{h=s.getProperties().get('plotArea.dataPoint');}var i=D.getData(e);H.drawStroke(s,e,'path',h.stroke,1,undefined,i);H.drawFill(s,e,'path',h,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});P.deselectDataPoint(g);}},{"id":"hoverOnDataPoint_pie","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":p},"handler":function(g,s){s.fireEvent(g,true);var i=s.getStatus("hoveringLegend");if(!i){s.fireEvent("processUnhighlight");}var h=H.turnToArray(g.data.targets);var j=s.getProperties();var k=j.get('interaction.hover');var l=2;var m=parseFloat(H.getWidth(k.stroke.width,2));h.forEach(function(e){H.drawFill(s,e,'path',k,T.isExist(j.get('plotArea.markerRenderer')));if((d3.select(e).classed(c.DATAPOINTSELECTED)&&!D.getData(e).isZeroValue)||!k.stroke.visible||m===0){return;}var o=D.getData(e);var q=o.r;var r=o.startAngle;var t=o.endAngle;var u=1/(2*q);var v=q+l;var w=v+m;var x,y;if(g.data.byKeyboard){x=j.get("interaction.keyboard");x.color=s.getEffectManager().register({fillColor:x.color});}else{y=H.getColors(s,e,k.stroke.color);}d3.select(e.parentNode).selectAll('.'+c.ZEROVALUEHOVER).remove();if(o.isZeroValue&&o.isZeroOnFirstTab){var z=b.create("path");if(g.data.byKeyboard){z.setAttribute("stroke",x.color);}else{z.setAttribute("stroke",y.customizedColor||y.defaultColor);}var A=parseFloat(k.stroke.width/2)||1;var E=A+', '+A;var F=b.create("g");F.setAttribute('class',c.ZEROVALUEHOVER);z.setAttribute('class',c.PIE_HOVER_STROKE);var G=o.innerRadius;var d=[{x:G*Math.sin(t),y:-G*Math.cos(t)},{x:q*Math.sin(t),y:-q*Math.cos(t)}];var J=d3.svg.line().x(function(d){return d.x;}).y(function(d){return d.y;})(d);z.setAttribute("d",J);z.setAttribute("stroke-width",parseFloat(k.stroke.width)/2+"px");z.setAttribute("stroke-dasharray",E);F.appendChild(z);e.parentNode.appendChild(F);}else{var K=b.create("path");if(g.data.byKeyboard){K.setAttribute("fill",x.color);}else{K.setAttribute("fill",y.customizedColor||y.defaultColor);}K.setAttribute("class",c.PIE_HOVER_STROKE);var L;if(!j.get('plotArea.dataPoint.stroke.visible')){L=d3.svg.arc().innerRadius(v).outerRadius(w).startAngle(r).endAngle(t)();}else{L=d3.svg.arc().innerRadius(v).outerRadius(w).startAngle(r+u).endAngle(t-u)();}K.setAttribute("d",L);e.appendChild(K);}});if(!s.isTrellis()&&!i){s.fireEvent("cleanLegendHoverEffect");var n=S.getCorrespondingLegendItem(g.data.targets,s);if(n){s.fireEvent("highlightLegendItem",{currentTarget:n});}}}},{"id":"unhoverOnDataPoint_pie","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":p},"handler":function(d,s){s.fireEvent(d,true);var t=T.isArray(d.data.targets)?d.data.targets[0]:d.data.targets;var g=T.isExist(t)?t.parentNode:undefined;d3.select(g).selectAll('.'+c.ZEROVALUEHOVER).remove();var h=H.turnToArray(d.data.targets);var i;h.forEach(function(e){d3.select(e).selectAll("."+c.PIE_HOVER_STROKE).remove();if(d3.select(e).classed(c.DATAPOINTSELECTED)){i=s.getProperties().get('interaction.selected');}else{var j=s.getStatus("selectedDataPoints");if(j.length){i=s.getProperties().get('interaction.deselected');}else{i=s.getProperties().get('plotArea.dataPoint');}}H.drawStroke(s,e,'path',i.stroke,1);H.drawFill(s,e,'path',i,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},{"id":"clearPlot_pie","triggerEvent":{"name":"clearPlot","supportedChartTypes":p},"handler":function(d,s){s.fireEvent(d,true);var m=s.getNodes(s.NodeType.DATA_POINT,false);if(!m||!m.length){return;}var g;var h=d.data.isGray;m.forEach(function(e){d3.select(e).selectAll("."+c.PIE_HOVER_STROKE).remove();if(h){g=s.getProperties().get('interaction.deselected');}else{g=s.getProperties().get('plotArea.dataPoint');}var i=D.getData(e);H.drawStroke(s,e,'path',g.stroke,1,undefined,i);H.drawFill(s,e,'path',g,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},I.getDeselectEvent("click_on_non_selection_pie",p,H.getDeselAllExTargets())];B.registerAll(f);return f;});define('sap/viz/chart/views/PieChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/ChartView","sap/viz/chart/components/plots/PiePlot","sap/viz/chart/components/plots/PlotHelper","sap/viz/framework/common/util/PropertyZoneUtil","sap/viz/framework/common/util/FeedingZoneUtil","sap/viz/chart/components/util/ContextUtil","sap/viz/chart/chains/PieChains","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/dynamicScales/PieDyScaleProcessor","sap/viz/chart/behavior/config/DataPointBehaviorConfigForPie"],function Setup(o,C,P,a,b,F,c){var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(d,C);d.prototype._getDataItems=function(){return["size","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn"];};d.prototype._createPlotContainer=function(i){var r=this.runtime();this._plotArea=a.create(this._renderType,P,r,null);r.zoneManager().add(b.plot(this._plotArea));r.zoneManager().add(F.plot(this._plotArea));this.setChild("plot",this._plotArea,{priority:3});};d.prototype.render=function(r){var e=this._properties.get('plotArea.highlight.contextInfos');if(e&&e.length>0){for(var i=0;i<e.length;i++){for(var j=0;j<this._data.color.scale._domain.length;j++){if(c.equalCtxExtend(e[i].ctx,this._data.color.scale._domain[j],this._rawData.dataModel._color.metaData)){this._data.color.scale._range[j]=e[i].paras.color;}}}}if(this._options.chartType.indexOf('donut')>=0){var h=this._properties.get('plotArea.highlight.highlightContext');if(h&&h.length>0){h=h[0];var f=this._properties.get('plotArea.highlight.unhighlightSliceColor');for(var k=0;k<this._data.color.scale._domain.length;k++){if(!c.equalCtxExtend(h,this._data.color.scale._domain[k],this._rawData.dataModel._color.metaData)){this._data.color.scale._range[k]=f;}}}}d.superclass.render.apply(this,arguments);};return d;});define('sap/viz/chart/metadata/bindings/PieBindings',[],function Setup(){var P=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"size","name":"IDS_SIZE","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"role":"mark.color","acceptMND":true}];return P;});define('sap/viz/chart/components/renderers/TreeMapDimensionLabelRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/ColorUtil',"sap/viz/framework/common/util/NameColorUtils",'sap/viz/framework/common/util/Constants'],function(S,D,T,C,N,a){var t=function(d){var i=d.data;var j=d.styles;var p=d.props;var k=T.superFastMeasure(i.label,i.fontSize||j.fontSize,j.fontWeight,j.fontFamily);if(i.tempLabelsSize){k=i.tempLabelsSize;}var m=k.height;var n=k.width;var t=0;if(m>i.height){t=-1;}else{if(p.labelPosition==='topleft'){var o=T.superFastMeasure('M...',i.fontSize||j.fontSize,j.fontWeight,j.fontFamily);t=i.width-(2*a.TREE_MAP.LEFT_PADDING+2*(i.levelNum-i.level-1)*d.borderWidth);if(t<=o.width){t=i.width-(a.TREE_MAP.LEFT_PADDING+(i.levelNum-i.level-1)*d.borderWidth);}}else{t=i.width;}}return t;};var b=function(i){var d=i.data;var p=i.padding;if(i.props.labelPosition==='topleft'){return(i.isLeafItem)?(a.TREE_MAP.LEFT_PADDING+2*(d.levelNum-d.level-1)*p):(d.left+p+a.TREE_MAP.LEFT_PADDING+2*(d.levelNum-d.level-1)*p);}else{return(i.isLeafItem)?(d.width/2-d.realLabelWidth/2):(d.left+d.width/2-d.realLabelWidth/2);}};var c=function(i){var d=i.data;var p=i.props;var j=i.styles;var k;if(d.labelHeight!==undefined){k=d.labelHeight;}else{k=T.fastMeasure(d.label,j.fontSize,j.fontWeight,j.fontFamily).height;}if(d.children.length===0){if(p.labelPosition==='topleft'){var m=T.superFastMeasure(d.label,d.fontSize||j.fontSize,j.fontWeight,j.fontFamily);var n=p.dataLabel.visible?m.height+d.labelHeight:m.height;var o=i.isLeafItem?0:d.top;if(a.TREE_MAP.TOP_PADDING+n>d.height){if(n>d.height){return-d.labelYPos;}else{return o-d.labelYPos+d.height-n;}}else{return o+a.TREE_MAP.TOP_PADDING-d.labelYPos;}}return(i.isLeafItem)?(d.height/2-(k/2+d.labelYPos)):(d.top+d.height/2+k/2-d.labelYPos/2);}else{return d.top+k/2-d.labelYPos/2;}};var g=function(i){var d=i.data;var j=i.styles;var s="font-size:"+j.fontSize+";";s+="font-weight:"+j.fontWeight+";";s+="font-family:"+j.fontFamily+";";var k="";d.realLabelWidth=0;if(d.showLabel){if(!d.label){d.label="";}var m=T.ellipsis(d.label,S.create("text"),t(i),s,i.ellipsisOptions);d.realLabelWidth=m.realLength;k=m.text;if(!i.isLeafItem&&(k!==d.label)){var n=d3.select(this.parentNode).select(".v-labelarea");if(n.select("title").empty()){n.append("title").text(d.label);}}}return k;};var e=function(i){var j;var d=i.data;if(d.children.length===0){j="white";}else{if(d.level===(d.levelNum-1)){j="white";}else if((d.levelNum-d.level)===6){j="white";}else if((d.levelNum-d.level)===5){j="white";}else if((d.levelNum-d.level)===4){j="white";}else if((d.levelNum-d.level)===3){j="#595959";}else{j="#464646";}}return j;};var l=function(d,i){var x=b(i);var y=c(i);if(i.isLeafItem){d.setAttribute("x",x);d.setAttribute("y",y);d.setAttribute('class','v-treemapdatalabel v-dimensionlabel v-treemapdimensionlabel');d.setAttribute("text-anchor",i.textAnchor);}else{d.setAttribute("x",x);d.setAttribute("y",y);d.setAttribute("text-anchor",i.textAnchor);d.setAttribute('class','v-dimensionlabel v-treemapdimensionlabel v-nonLeafDimensionLabel');}};var f=function(i){var j,k;var d=i.data;var m=N.convertColor(d.color)||'0x000000';var p=i.props;if(p.dimensionLabel.style.color){j=p.dimensionLabel.style.color;}else{if(i.isLeafItem){if(p.dataLabel.visible&&p.dataLabel.style.color){if(p.dataLabel.style.colorRange==='outside'){j=C.getDataLabelColor(m);}else{j=p.dataLabel.style.color;}}else{j=C.getDataLabelColor(m);}}else{j=e(i);}}return j;};var h=function(d){var i=S.create("text");var j=d.styles;var k=j.color?j.color:f(d);i.setAttribute("fill",k);i.setAttribute("font-size",j.fontSize);i.setAttribute("stroke","none");i.setAttribute('font-weight',j.fontWeight);i.setAttribute('font-style',j.fontStyle);i.setAttribute("font-family",j.fontFamily);i.setAttribute('fill-opacity',1);i.setAttribute('aria-hidden','true');i.value=d.data.label;i.textContent=g(d);l(i,d);return i;};h.getPreferedSize=function(d){var i=d.styles;var r=T.fastMeasure(d.minLabel,i.fontSize,i.fontWeight,i.fontFamily);return r;};h.expose={renderer:h,getPreferedSize:h.getPreferedSize};return h;});define('sap/viz/chart/components/plots/treemap/DataHandler',["sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/renderers/TreeMapDimensionLabelRenderer'],function Setup(T,O,D,a){var s=function(r,d,l,p,e){var f=function(r,n,q,e){var t=0;var i;for(i=0;i<r.length;i++){t+=r[i].val;}var u=function(P,Q){var R=0;if(Q.val!==P.val){R=P.val-Q.val;}return R;};var v;for(var x=0;x<r.length-1;x++){for(i=r.length-1;i>x;i--){if(u(r[i],r[i-1])>0){v=r[i-1];r[i-1]=r[i];r[i]=v;}}}var y={left:0,top:0,width:0,height:0,weight:0,items:[],worstRadio:0};var z={left:0,top:0,width:0,height:0,weight:0,vertical:false};for(i=0;i<r.length;i++){k(r,i,t,y,z,n);}var B;for(B=0;B<r.length;B++){if(!r[B].left){r[B].left=0;}if(!r[B].top){r[B].top=0;}if(!r[B].width||r[B].width<0){r[B].width=0;}if(!r[B].height||r[B].height<0){r[B].height=0;}var C,E="",F;if(r[B].label){C=r[B].label.toString();if(C.length>0){F=C[0];E=F.concat("...");}}var G;var _=(r[B].children.length===0);var H=(e&&e.renderer)||a;var I=r[B].ctx;I.level=r[B].level;var J={minLabel:E,ctx:I,styles:l};G=H.getPreferedSize(J,a.expose);if(!G){G=a.getPreferedSize(J);}r[B].labelHeight=G.height;r[B].labelWidth=G.width;r[B].labelYPos=G.y;r[B].needMoreHeightToShowLabel=false;if((r[B].labelHeight<r[B].height)&&(r[B].labelWidth<r[B].width)){r[B].showLabel=true;}else{r[B].showLabel=false;if(r[B].labelHeight>=r[B].height&&r[B].val>0){r[B].needMoreHeightToShowLabel=true;}}}var o=true;for(B=0;B<r.length;B++){if(r[B].level===(r[B].levelNum-1)){if(!r[B].needMoreHeightToShowLabel){o=false;break;}}else{o=false;}}var K=function(i){if(r[i].level!==(r[i].levelNum-1)){r[i].showLabel=false;}N.top=r[i].top+p*2;N.left=r[i].left+p*2;N.width=r[i].width-p*2-p;N.height=r[i].height-p*2-p;};if(!o){for(i=0;i<r.length;i++){if(r[i].children.length>0){var L=true;if(!q){L=false;}var M=r[i].labelHeight;var N={};N.top=r[i].top+p*2+M;N.left=r[i].left+p*2;N.width=r[i].width-p*2-p;N.height=r[i].height-p*2-p-M;if(!L){K(i);}o=f(r[i].children,N,L,e);if((o||!r[i].showLabel)&&L){K(i);o=f(r[i].children,N,false,e);}}}}return o;};var h=function(i){var q;if(i.height>i.width){q=i.height/i.width;}else{q=i.width/i.height;}q=Math.floor(q*1000);return q;};var w=function(r,q,t,u,v){var x=0;var y={};if(t){if(v.vertical){y.width=v.width*(q/(u.weight+q));y.height=v.height*((u.weight+q)/v.weight);}else{y.height=v.height*(q/(u.weight+q));y.width=v.width*((u.weight+q)/v.weight);}x=h(y);for(var i=0;i<u.items.length;i++){var z=u.items[i];var B={};if(v.vertical){B.width=u.width*(r[z].val/(u.weight+q));B.height=v.height*((u.weight+q)/v.weight);}else{B.height=u.height*(r[z].val/(u.weight+q));B.width=v.width*((u.weight+q)/v.weight);}var C=h(B);if(x<C){x=C;}}}else{x=u.worstRadio;}return x;};var j=function(i,q){var t={};t.weight=q.weight-i.weight;if(q.width===i.width){t.left=q.left;t.top=i.top+i.height;t.width=q.width;t.height=q.height-i.height;}else{t.left=i.left+i.width;t.top=q.top;t.width=q.width-i.width;t.height=q.height;}return t;};var k=function(r,q,t,u,v,n){if(q===0){r[q].left=n.left;r[q].top=n.top;if(n.width>n.height){r[q].height=n.height;r[q].width=n.width*(r[q].val/t);v.vertical=false;}else{r[q].width=n.width;r[q].height=n.height*(r[q].val/t);v.vertical=true;}u.left=n.left;u.top=n.top;u.width=r[q].width;u.height=r[q].height;u.weight=r[q].val;u.items.push(q);u.worstRadio=h(u);v.left=n.left;v.top=n.top;v.width=n.width;v.height=n.height;v.weight=t;}else if(q===(r.length-1)){var x=j(u,v);r[q].left=x.left;r[q].top=x.top;r[q].width=x.width;r[q].height=x.height;}else{var y=(w(r,r[q].val,true,u,v));var z=(w(r,r[q].val,false,u,v));if(y<z){u.worstRadio=y;u.items.push(q);u.weight+=r[q].val;if(v.vertical){u.height=v.height*(u.weight/v.weight);}else{u.width=v.width*(u.weight/v.weight);}for(var i=0;i<u.items.length;i++){var B=u.items[i];if(v.vertical){r[B].width=u.width*(r[B].val/u.weight);r[B].height=v.height*(u.weight/v.weight);r[B].top=u.top;if(i===0){r[B].left=u.left;}else{r[B].left=r[B-1].left+r[B-1].width;}}else{r[B].height=u.height*(r[B].val/u.weight);r[B].width=v.width*(u.weight/v.weight);r[B].left=u.left;if(i===0){r[B].top=u.top;}else{r[B].top=r[B-1].top+r[B-1].height;}}}}else{var C=j(u,v);v.left=C.left;v.top=C.top;v.width=C.width;v.height=C.height;v.weight=C.weight;if(v.width>v.height){v.vertical=false;}else{v.vertical=true;}u.left=v.left;u.top=v.top;u.weight=r[q].val;if(v.vertical){u.width=v.width;u.height=v.height;if(v.weight>=r[q].val){u.height*=(r[q].val/v.weight);}}else{u.height=v.height;u.width=v.width;if(v.weight>=r[q].val){u.width*=(r[q].val/v.weight);}}u.worstRadio=h(u);u.items=[];u.items.push(q);r[q].width=u.width;r[q].height=u.height;r[q].top=u.top;r[q].left=u.left;}}};var n={};n.top=0;n.left=0;n.width=d.width;n.height=d.height;var o=f(r,n,true,e);if(o){f(r,n,false,e);}};var A=["#f9f9f9","#e3e3e3","#bfbfbf","#989898","#717171"],m;function g(d,e){return A[d-e-1];}function b(d,l,e,p,f){if(!d){return[];}var r=[],k,h,i=0,j;m=l;for(k in d){if(d.hasOwnProperty(k)){j=d[k];h=j.dp.context();r[i]={colorValue:j.color,ctx:h,children:b(j.children,l+1,e,h,f),label:D.getLabelText(j.title),val:+j.weight>0?+j.weight:0,level:l,rawdata:j};r[i].color=j.children?g(m,l):e.color.scale.scale(j.color);r[i].levelNum=m+1;if(f&&f.visible===true){r[i].stroke=f.color;r[i].strokeWidth='1px';}i++;}}return r;}function c(r){var i;for(i=0;i<r.length;i++){var v=[];v.push(r[i].val);v.push(r[i].colorVal);r[i].val=v;if(r[i].children.length>0){c(r[i].children);}}}return function(d,e,l,p,f,h){var t=b(d.series,0,d,{},h);s(t,e,l,p,f);c(t);return t;};});define('sap/viz/chart/components/datalabels/TreeMapDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils'],function Setup(o,D,a,b,G,C,c,T,S,O){var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._labelPosition=e.labelPosition;this._borderWidth=e.borderWidth;this._enableTextCallback=false;};o.extend(d,a);d.prototype._getDataLabelInfo=function(n){var e=b.getContext(n);var k=this._data.weight.metaData[0].id;return{key:k,value:e[k]};};d.prototype._computeDataLabelTranslate=function(n,e,l,f,g){var h=false;if(n.childNodes[1]&&n.childNodes[1].textContent){h=true;var B=G.getBBox(n.childNodes[1]);if(l==='topleft'){e.f+=B.y+B.height;}else{e.f+=B.height/2;}}return this._computeDataLabelPosition(e,this._fixBBoxWhenInvisible(n),l,f,g,h);};d.prototype._computeDataLabelPosition=function(e,s,l,f,g,h){if(g.val<=0){return null;}var x,y;var n=s.x+e.e;var i=s.y+e.f;if(l==='topleft'){x=n+C.TREE_MAP.LEFT_PADDING+2*(g.ctx.levelNum-g.ctx.level-1)*this._borderWidth;if(h){y=i-f.y;}else{if(C.TREE_MAP.TOP_PADDING+f.height>s.height){if(f.height>s.height){y=i-f.y;}else{y=i-f.y+s.height-f.height;}}else{y=i+C.TREE_MAP.TOP_PADDING-f.y;}}}else{x=(n+s.width/2)-(f.x+f.width/2);if(h){y=(i+s.height/2)-f.y;}else{y=i+s.height/2-f.y/2;}}return[x,y];};d.prototype.hideConditional=function(e){var i;for(i=(e.length-1);i>=0;i--){var f=e[i].dataPoint;var g=e[i].node;var h=g.getBoundingClientRect();var j=f.getBoundingClientRect();var w=this._labelPosition==='topleft'?j.width-C.TREE_MAP.LEFT_PADDING:j.width;if((e[i].textRealWidth>w)||(h.bottom>j.bottom)||(h.top<j.top)||(h.left<j.left)||(h.right>j.right)){D.remove(g);e.splice(i,1);}}return d.superclass.hideConditional.apply(this,arguments);};d.prototype.isTextTruncated=function(){return(this._enableTextCallback&&this._properties.get('truncationBehavior')==="truncate");};d.prototype.isDataLabelOutOfDataPoint=function(e,i){var f=false;if(!this.isTextTruncated()){f=d.superclass.isDataLabelOutOfDataPoint.apply(this,arguments);}return f;};d.prototype._buildDataLabelText=function(f,e,g,i,h){var u=this.runtime().statusManager().get("data.unit")||{};var t=this._properties.get('text');if(t){this._enableTextCallback=true;var r=O.extend(true,{},{'units':u},g);delete r.level;delete r.levelNum;delete r.realLabelWidth;return this._properties.get('text').call(this,r);}else{return d.superclass._buildDataLabelText.apply(this,arguments);}};d.prototype.truncateText=function(e){var i;if(this.isTextTruncated()){for(i=(e.length-1);i>=0;i--){var f=e[i].dataPoint;var g=e[i].node;var t=g.firstChild;var h=this._getStyle(f);var j={};var k=this.runtime().envManager();j.reverseDots=(k&&k.reverseDots());j.needRealLength=true;var l=f.getBoundingClientRect();var m=g.textContent;var w=this._labelPosition==='topleft'?l.width-C.TREE_MAP.LEFT_PADDING:l.width;e[i].textRealWidth=T.ellipsis(m,t,w,h.cssString,j).realLength;var n=G.getBBox(g);var p=S.getTransformToElement(f,f.parentNode);var q={val:e[i].info.value,ctx:b.getContext(f)};var r=this._computeDataLabelTranslate(f,p,this._labelPosition,n,q);g.setAttribute("transform","translate("+r[0]+","+r[1]+")");e[i].left=r[0];e[i].right=e[i].left+e[i].textRealWidth;}}};return d;});define('sap/viz/chart/components/accessibility/HeatMapDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function H(){H.superclass.constructor.apply(this,arguments);this._datapointMap=[];}o.extend(H,B);var p=H.prototype;p.init=function(){if(this._series){var r=[];var i=0;for(i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){if(this._series[i][j]){r.push(this._series[i][j]);}}}if(r.length>0){r.sort(function(a,b){return(a.y-b.y);});var s=r[0];var e=null;var c=0;var d=0;var f=0;for(i=1;i<r.length+1;i++){e=r[i];if(e&&(Math.floor(s.y)===Math.floor(e.y))){f++;continue;}else{f++;this._datapointMap[c]=r.slice(d,f);c++;d=f;s=e;}}for(i=0;i<this._datapointMap.length;i++){this._datapointMap[i].sort(function(a,b){return(a.x-b.x);});}}}};p.getFirstStartPoint=function(){if(this._series){for(var i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){if(this._series[i][j]){return this._series[i][j].dp;}}}}return null;};p.up=function(i){return this._move(i,-1);};p.down=function(i){return this._move(i,1);};p.left=function(i){return this._move(i,-1,true);};p.right=function(i){return this._move(i,1,true);};p.destroy=function(){H.superclass.destroy.apply(this,arguments);this._datapointMap=null;};p._move=function(a,s,b){var d=this.getDataPoint(a);var c=this.locate(d.address());var x=-1,y=-1;for(var i=0;i<this._datapointMap.length;i++){x=this._datapointMap[i].indexOf(c);if(x>-1){y=i;break;}}if(b){x+=s;}else{y+=s;}return(this._datapointMap[y]&&this._datapointMap[y][x])?this._datapointMap[y][x].dp:null;};return H;});define('sap/viz/chart/components/accessibility/TreeMapDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/HeatMapDataPointNavigator"],function(o,H){var U=1;var D=-1;var R=2;var L=-2;var a=function(n){return-n;};var t=function(b,d){for(var i=0;i<b.length;i++){if(b[i].children.length>0){t(b[i].children,d);}if(b[i].val[0]!==0){d.push(b[i]);}}};function T(b){T.superclass.constructor.apply(this,arguments);this._datapointMap=[];this._borderWidth=b.borderWidth;this.previousDpID=0;this.previousOperation=0;t(b.treeRect,this._datapointMap);}o.extend(T,H);var p=T.prototype;p.init=function(){var b;for(var i=0;i<this._datapointMap.length;i++){if(this._datapointMap[i].children.length>0){this._datapointMap[i].height=this._datapointMap[i].labelHeight;b=this._datapointMap[i].levelNum-this._datapointMap[i].level-1;if(this._borderWidth===1){this._datapointMap[i].left+=2*b;this._datapointMap[i].width-=3*b;}}}};p.getFirstStartPoint=function(){for(var i=0;i<this._datapointMap.length;i++){if(this._datapointMap[i].children.length===0){return this._datapointMap[i].rawdata.dp;}}};p.getDataPointInfo=function(b){for(var i=0;i<this._datapointMap.length;i++){var d=this._datapointMap[i].rawdata.dp.id;if(d===parseInt(b)){return this._datapointMap[i];}}};p.getDataPoint=function(i){return this.getDataPointInfo(i).rawdata.dp;};p.getCandidate=function(c,b,d,e){for(var i=0;i<this._datapointMap.length;i++){if(this._datapointMap[i].showLabel===true||this._datapointMap[i].levelNum-this._datapointMap[i].level==1){if(e===U||e===D){if(this._datapointMap[i].left<=c.left&&c.left<this._datapointMap[i].left+this._datapointMap[i].width){b.push(this._datapointMap[i]);}if(this._datapointMap[i].left>c.left&&this._datapointMap[i].left<c.left+c.width){d.push(this._datapointMap[i]);}}else{if(this._datapointMap[i].top<=c.top&&c.top<this._datapointMap[i].top+this._datapointMap[i].height){b.push(this._datapointMap[i]);}if(this._datapointMap[i].top>c.top&&this._datapointMap[i].top<c.top+c.height){d.push(this._datapointMap[i]);}}}}};p.getDistance=function(c,b,d){var e;if(d===D){e=c.top-(b.top+b.height);}else if(d===U){e=b.top-(c.top+c.height);}else if(d===L){e=b.left-(c.left+c.width);}else if(d===R){e=c.left-(b.left+b.width);}return e;};p.getMinDistanceAndDp=function(c,m,b,d){var e=m;var f=null;var g;for(var i=0;i<c.length;i++){g=this.getDistance(c[i],b,d);if(g>=0&&g<e){e=g;f=c[i].rawdata.dp;}}return{minDistance:e,closestDp:f};};p.move=function(i,d){var b;if(this.previousOperation===a(d)){b=this.getDataPoint(this.previousDpID);}else{var c=this.getDataPointInfo(i);var e=[];var f=[];var m;if(d===U||d===D){m=c.height+c.top;}else{m=c.width+c.left;}this.getCandidate(c,e,f,d);var g=this.getMinDistanceAndDp(e,m,c,d);var h=this.getMinDistanceAndDp(f,m,c,d);if(g.minDistance<=h.minDistance){b=g.closestDp;}else{b=h.closestDp;}}if(b){this.previousDpID=i;this.previousOperation=d;}return b;};p.up=function(i){return this.move(i,U);};p.down=function(i){return this.move(i,D);};p.left=function(i){return this.move(i,L);};p.right=function(i){return this.move(i,R);};p.destroy=function(){T.superclass.destroy.apply(this,arguments);this._datapointMap=null;};return T;});define('sap/viz/chart/components/plots/treemap/TreeMapPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/treemap/DataHandler','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/chart/components/datalabels/TreeMapDataLabels','sap/viz/chart/components/util/ColorUtil',"sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/SVG",'sap/viz/chart/components/renderers/TreeMapDimensionLabelRenderer',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/TreeMapDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function Setup(o,T,a,D,B,b,O,c,C,P,F,e,f,N,S,g,h,j,k){var m="v-treemap",l="v-treemapitem",L={fontSize:"12px",fontWeight:"normal",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif"};var n=function(r,d){n.superclass.constructor.apply(this,arguments);this._redrawAll=true;this._rects=null;r.zoneManager().add(P.plot(this));r.zoneManager().add(F.plot(this));this._borderWidth=1;this.runtime().statusManager().add("treeRect");};o.extend(n,B);n.prototype.destroy=function(){n.superclass.destroy.call(this);this._redrawAll=null;this._properties=null;this._borderWidth=null;this._rects=null;if(this._dimensionLabels&&this._dimensionLabels.destroy){this._dimensionLabels.destroy();}this._dimensionLabels=null;};n.prototype._applyChanges=function(){this._redrawAll=true;this._borderWidth=this._properties.get("border.visible")?1:0;var d=this._properties.get().dimensionLabel;if(d&&d.style){L=d.style;this._labelVisibility=d.visible;}if(d&&d.renderer){this._dimensionLabels=d;}var i=this._properties.get('dataPoint.stroke');var p=L["fontSize"];var q=L["fontWeight"];var r=L["fontFamily"];var t=L["fontStyle"];var u=L["color"];var v={fontSize:p,fontWeight:q,fontFamily:r,fontStyle:t,color:u};this._rects=b(this._data,this._size,v,this._borderWidth,d,i);var w=O.extend(true,[],this._rects);this.runtime().statusManager().set("treeRect",w);};n.prototype._drawDatapoints=function(d){var r=this._rects;if(this._redrawAll){d.selectAll("*").remove();}var t=d;var i=d.selectAll('g.'+C.CSS.CLASS.DATAPOINT_GROUP);if(!T.isExist(i[0][0])){i=d.append('g').attr('class',C.CSS.CLASS.DATAPOINT_GROUP);}var p=this._properties.get();this._drawTreeMapItems(i,r,this._redrawAll,0,this._borderWidth,this._effectManager,this._randomSuffix,p);var q;if(this._redrawAll){q=d.append('g').attr('class','v-element').attr("visibility","hidden");q.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");q.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");q.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");q.append('line').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");}else{if(q){q.attr("visibility","hidden");}}this._redrawAll=false;this._clearReduntantDataFromCtx(d);this._drawTreeMapDataLabels(d);};n.prototype._drawTreeMapDataLabels=function(d){var i=d.node();var p=d3.select(i);var q=p.select(".v-datapoint-group");if(!q.empty()){this._drawDataLabels(p,q.node());}};n.prototype._clearReduntantDataFromCtx=function(d){var p=d.select(".v-datapoint-group");if(p.empty()){return;}var q=p.node().querySelectorAll("g");for(var i=0,r=q.length;i<r;i++){var t=d3.select(q[i]).datum();if(t!==undefined){delete t["children"];delete t["val"];delete t["ctx"];delete t["rawdata"];delete t["height"];delete t["width"];delete t["left"];delete t["top"];delete t["labelHeight"];delete t["labelWidth"];delete t["showLabel"];delete t["needMoreHeightToShowLabel"];delete t["color"];delete t["colorValue"];delete t["label"];delete t["stroke"];delete t["strokeWidth"];delete t["labelYPos"];delete t["fontSize"];}}};function s(i,p,q){i.each(function(d){var r=p._buildWrapperConfig(d.rawdata,{width:d.width,height:d.height},d.ctx,q);var t=p._buildData(r);d.color=t.color;c.setData(this,t);D.setDataPointId(this,d.rawdata.dp.id);});}n.prototype._drawTreeMapItems=function(t,r,p,q,u,v,w,x){if(r.length<=0){return;}var y=null;var z=this.runtime().envManager();if(z){y=z.textAnchor();}var A={};A.reverseDots=(z&&z.reverseDots());A.needRealLength=true;var E=(r[0].children.length===0);if(p){t=t.append("g").attr("class",m+"level"+r[0].level);}else{t=t.select("."+m+"level"+r[0].level);}var G=[];for(var i=0;i<r.length;i++){if(r[i].level===q){var H=r[i].ctx;O.extend(true,r[i],H);if(E&&r[i].val[0]===0){continue;}G.push(r[i]);}}var I=t.attr("class");var J=t.selectAll("."+I+" > ."+l);J=J.data(G);var K=J.enter();var M;var Q=function(V){var a1=V.attr("x",function(d){return(d.left+u);}).attr("class","v-labelarea v-mbc-axis-item v-axis-item").attr("y",function(d){return(d.top+u);}).attr("width",function(d){return d.width-2*u>0?d.width-2*u:0;}).attr("height",function(d){return d.showLabel?d.labelHeight:0;}).attr("opacity",0).attr("shape-rendering","crispEdges").attr('fill-opacity',1);a1.each(function(d){this.labelContexts=d.ctx;});return a1;};var R=function(a1){var b1=a1.attr("x",function(d){return(E)?(0):(d.left+u);}).attr("class",function(d){return(E)?("v-item"):("v-item");}).attr("y",function(d){return(E)?(0):(d.top+u);}).attr("width",function(d){return d.width-2*u>0?d.width-2*u:0;}).attr("height",function(d){return d.height-2*u>0?d.height-2*u:0;}).attr("fill",function(d){var c1={drawingEffect:'normal',fillColor:N.convertColor(d.color)};return v.register(c1);}).attr("shape-rendering","crispEdges").attr('stroke',function(d){return E?d.stroke:undefined;}).attr('stroke-width',function(d){return E?d.strokeWidth:undefined;});if(!E){b1.attr("fill-opacity",1);}return b1;};var _=this;var U=function(M,d){var a1=_._dimensionLabels;if(d){var b1=(a1&&a1.renderer)||g;var i;for(i=0;i<M[0].length;i++){var c1=c.getContext(M[0][i]);var d1=L["fontSize"];var e1=L["fontWeight"];var f1=L["fontFamily"];var g1=L["fontStyle"];var h1=L["color"];var i1={fontSize:d1,fontWeight:e1,fontFamily:f1,fontStyle:g1,color:h1};var H={ctx:c1.ctx,data:c1,styles:i1,props:x,ellipsisOptions:A,isLeafItem:E,textAnchor:y,borderWidth:_._borderWidth,padding:u};var j1=b1(H,g.expose);if(j1){c.setContext(j1,c1.ctx);M[0][i].appendChild(j1);}}}};var V,W,X;var Y={disableSemantic:false};if(p){var Z=l;if(E){Z+=' v-datashape v-datapoint v-morphable-datapoint';}M=K.append("g").attr('class',Z);if(E){M.attr('transform',function(d){return'translate('+(d.left+u)+','+(d.top+u)+')';});s(M,this,Y);}X=M.append("rect");R(X);if(E){X.attr('id',function(d,i){return("HM"+d.index+w);});}else{V=M.append("rect");Q(V);}U(M,this._labelVisibility);}var $=function(a1,d,i){var b1=d3.select(a1);this._drawTreeMapItems(b1,b1.datum().children,p,q+1,u,v,w,x);}.bind(this);if(!E){s(M,this,Y);}M.each(function(d,i){$(this,d,i,Y);});return M;};n.prototype._getDataLabels=function(d,r){var i=this._properties.get('labelPosition');var p=this._properties.get("border.visible")?1:0;return new e(r,{name:d,labelPosition:i,borderWidth:p});};n.prototype.render=function(d){var w=this._size.width,i=this._size.height;this._size.width=w<0?0:w;this._size.height=i<0?0:i;n.superclass.render.apply(this,arguments);};h.register(k.DATAPOINT_NAVIGATOR,k.TREEMAP,j);return n;});define('sap/viz/chart/components/accessibility/MBCLegendNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ColorLegendNavigator"],function(o,C){function M(a){M.superclass.constructor.apply(this,arguments);}o.extend(M,C);return M;});define('sap/viz/chart/scales/QuantizeScaleUtil',['sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/common/util/ColorUtils'],function Setup(N,c,T,A,C){function g(v){var s=1;while(v+s===v){s*=10;}return s;}var M={getColorScale:function(e,j,o,p,v){var q;var r={};var s=C.fromCSSColor(c.convertColor(p.startColor)).toString();var t=C.fromCSSColor(c.convertColor(p.endColor)).toString();var u=c.convertColor(p.nullColor);var w=e;var x=j;if(!o){if(p.palette&&p.palette.length){r.range=p.palette;}else if(t){r.range=[t];}}if((e===undefined&&j===undefined)||(e===Number.MAX_VALUE&&j===-Number.MAX_VALUE)){if(o){q=d3.scale.ordinal().domain([[]]).range([p.nullColor]);q.domainInfo=[{}];r.nullColor=u;}}else{var y=null;var z=p.numOfSegments;var B;var D;if(p.palette&&p.palette.length>=z){B=p.palette.slice(0,z);if(z===1){B.push(p.palette[0]);}y=d3.scale.quantize().domain([e,j]).range(B);D=d3.scale.linear().domain([e,j]).range(B).nice().domain();y.domain(D);}else{if(p.palette.length>0&&e===j){B=p.palette.slice(0,p.palette.length);y=d3.scale.quantize().domain([e,j]).range(B);D=d3.scale.linear().domain([e,j]).range(B).nice().domain();y.domain(D);}else{y=d3.scale.linear().domain([e,j]).range([s,t]).nice();}}var E=[],i,F;if(d(p.legendValues,z)){E=p.legendValues.slice(0,z+1);}else{if(p.type==='quantile'){var k=0,G=[];for(i=0,F=v.length;i<F;i++){if(T.isArray(v[i])){G=G.concat(v[i]);}else{G.push(v[i]);}}G=G.sort(function(a,b){return a-b;}).filter(function(n){return n!==null;});while(++k<z){E[k-1]=m(G,k/z);}E=A.unique([Math.floor(G[0])].concat(E)).concat([Math.ceil(G[G.length-1])]);}else{var H=y.domain();var I=h(H[0]),J=h(H[1]);var K=I>J?I:J;K++;var L=y.domain();L=f(L,K);e=L[0];j=L[1];if(e===j){z=1;}var O=j-e,P,Q=0,R;if(O/z>1){if(O%z===0){P=l(O/z,K+1);Q=h(P);for(i=0;i<z+1;i++){E.push(e+l(i*P,Q));}}else{P=Math.ceil(O/z);Q=h(P);R=Math.floor(e/P)*P;if(R===0||(R+P*z<j)){R=e;}for(i=0;i<z+1;i++){E.push(R+l(i*P,Q));}}}else{R=e;P=l(O/z,K+1);Q=h(P);for(i=0;i<z;i++){E.push(R+l(i*P,Q));}E.push(l(j,Q));}for(i=0,F=E.length;i<F;i++){E[i]=l(E[i],Q);}P=g(E[0]);while(e<E[0]){E[0]-=P;}P=g(E[E.length-1]);while(j>E[E.length-1]){E[E.length-1]+=P;}}}if(!(p.palette&&p.palette.length)){z=E.length-1;}y.domain([0,z===1?1:z-1]);var S=[],U=[],V=[];for(i=0,F=E.length-1;i<F;i++){S.push([E[i],E[i+1]]);U.push(y(i));V.push({isLeftOpen:false,isRightOpen:true,isAscending:true});}V[F-1].isRightOpen=false;var W=false;var X=false;if(p.legendValues&&p.legendValues.length>0){var Y=p.legendValues.length-1;if(p.numOfSegments&&p.numOfSegments<p.legendValues.length){Y=p.numOfSegments-1;}W=(w<p.legendValues[0]);X=(x>p.legendValues[Y]);}var Z,$,_;if(e<S[0][0]){if(W){S.splice(0,1);}S.unshift([-Number.MAX_VALUE,S[0][0]]);if(W){V.splice(0,1);}V.unshift({isLeftOpen:false,isRightOpen:true,isAscending:true});}if(j>S[S.length-1][1]){if(X){S.pop();}S.push([S[S.length-1][1],Number.MAX_VALUE]);if(X){V.pop();}V.push({isLeftOpen:true,isRightOpen:true,isAscending:true});}r.domain=S;r.range=U;r.domainInfo=V;r.legendValues=S;if(o){r.nullColor=p.nullColor;}}return r;},getScale:function(a,b,t,s,e){return M.getColorScale(a,b,false,{numOfSegments:t,startColor:s,endColor:e});}};M.fillContexts2DomainInfo4MBC=function(a,o,b,e){if(a){var k=a.domain,n;var p=a.domainInfo,q;var r,s,t,u,v,w;var x;for(var i=-1;++i<o.length;){w=b?b(o[i]):o[i].val;for(var j=-1;++j<k.length;){n=k[j];q=p[j];if(N.isNoValue(w)){r=n.length===0;}else if(n.length>0){s=n[0];t=q.isLeftOpen;u=n[1];v=q.isRightOpen;r=((w<s||(!t&&w===s))&&(w>u||(!v&&w===u)))||((w>s||(!t&&w===s))&&(w<u||(!v&&w===u)));}if(r){q.dpPaths=q.dpPaths||[];x=e?e(o[i]):o[i].ctx.path;q.dpPaths.push(x);break;}}}}};var d=function(a,n){var i;if(!a||!n){return false;}if(a.length<n+1){return false;}for(i=0;i<n+1;i++){if(isNaN(a[i])){return false;}}for(i=0;i<n+1;i++){if(a[i]>=a[i+1]){return false;}}return true;};var f=function(r,p){for(var i=0,a=r.length;i<a;i++){r[i]=l(r[i],p);}return r;};var h=function(v){var t=v.toString().split(".");return t.length>1?t[1].length:0;};var l=function(v,p){return Math.round(Math.pow(10,p)*v)/Math.pow(10,p);};var m=function(a,q){var I=(a.length-1)*q+1,i=Math.floor(I),v=+a[i-1],e=I-i;return(e?v+e*(a[i]-v):v);};M.isLegendValuesValid=d;return M;});define('sap/viz/chart/components/legend/MBCLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/BaseLegend','sap/viz/chart/components/legend/ColorLegend','sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/NameColorUtils',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/MBCLegendNavigator","sap/viz/chart/components/util/ChartConstants",'sap/viz/chart/scales/QuantizeScaleUtil',],function Setup(o,B,C,T,a,b,U,c,O,e,N,f,I,g,Q){var V={width:14,maxHeight:34,minHeight:12,};var H={height:14,defaultWidth:36,maxWidth:36,minWidth:14};var P={noValuePadding:18,valuePadding:8,markerPaddingRight:0.5,maxValueSpace:1.6,minValueSpace:0.5};var k=1,n=5;var M=function(r,d){M.superclass.constructor.apply(this,arguments);var p=this._properties.get();this._mbcLA_width=400;this._mbcLA_height=200;this._mbcLA_valueLabelFont=p.label.style;this._mbcLA_wrap=undefined;this._mbcLA_chartData=undefined;this._mbcLA_colors=[];this._mbcLA_markerSize={width:12,height:12};this._mbcLA_paddingBottom=1;this._mbcLA_selectedItem=[];this._mbcLA_textInfos=null;this._mbcLA_perferredSize=null;this._mbcLA_nullLabelIndex=-1;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_effectManager=this.runtime().effectManager();this._mbcLA_styleManager=p;this._mbcLA_style={};this._mbcLA_style.clickedshadow=p.mouseDownShadow.color;this._need_calTextSize=false;this._cells=[];this._type="MBCLegend";};o.extend(M,C);M.prototype._addDefaultProperties=function(){M.superclass._addDefaultProperties.call(this);this._properties.add({'formatString':null,'unitFormatType':null,'drawingEffect':'normal','hovershadow':{'color':'#cccccc'},'mouseDownShadow':{'color':'#808080'},'onlyShowStartEndLabel':false});};M.prototype.syncProperties=function(){this._mbcLA_valueLabelFont=this._properties.get('label.style');this._mbcLA_styleManager=this._properties.get();this._formatString=this._mbcLA_styleManager.formatString;this._onlyShowStartEndLabel=this._properties.get('onlyShowStartEndLabel');};M.prototype.setData=function(d){if(!d){return;}this.syncProperties();H.maxWidth=H.defaultWidth;if(d.color){this._bindingFields=d.color.metaData;}this._mbcLA_colors=[];if(d.color&&d.color.scale&&d.color.scale._range){var j;for(j=0;j<d.color.scale._range.length;j++){this._mbcLA_colors.push(d.color.scale._range[j]);}}var _=d.color.range,h,i,l,m=d.color.metaData,p=O.extend(true,[],d.color.scale._legendValues);this._mbcLA_chartData=[];if(!m||!m.length||!_.length||!_[0]||!_[0].length){return;}var q=_[0][0],r=_[0][1],s=m[0].id;this._measureName=m[0].name;h=q<=r?true:false;if(p&&p.length){if(h){p=p.reverse();}for(i=0,l=p.length;i<l;i++){var t={measureName:s};t[s]={min:p[i][0],openmax:p[i][1]};if(i===0){t[s].max=p[i][1];}this._mbcLA_chartData.push({ctx:t,val:p[i][0]});if(i===0){this._mbcLA_chartData[0].val1=p[i][1];if(Math.abs(p[i][1])===Number.MAX_VALUE){this._mbcLA_chartData[i].val1=undefined;}}if(i===l-1&&Math.abs(p[i][0])===Number.MAX_VALUE){if(l>1){this._mbcLA_chartData[i].val=undefined;}}}}var u=function(x){var i,j;for(i=0;i<x.length;i++){if(b.isArray(x[i])){if(x[i].length!==x[0].length){return true;}for(j=0;j<x[i].length;j++){if(x[i][j]===null||isNaN(x[i][j])){return true;}}}else{if(x[i]===null||isNaN(x[i])){return true;}}}return false;};var v=d.color.values;var w=u(v);if(w){this._mbcLA_chartData.push({ctx:{measureName:s,'and':function(x){return x[s]===null||isNaN(x[s]);}},val:'N/A'});this._mbcLA_colors.push(d.color.scale.scale(null));}this._need_calTextSize=true;};M.prototype.isInSemanticMode=function(){var s=this.runtime().semanticManager();return s.hasDataPointColorStyle()&&s.isOverrideMode();};M.prototype.render=function(s,h){if(this.isInSemanticMode()){s.selectAll('g.v-mbc-content').remove();C.prototype.render.apply(this,arguments);s.selectAll('g.v-content').classed("v-color-content",true);return;}s.selectAll('g.v-color-content').remove();B.prototype.render.apply(this,arguments);if(!this.isVisible()){s.selectAll('g.v-content').remove();return this;}this._cells=[];var t=this;this.syncProperties();var p=this._parent=s;var l=p.selectAll('g.v-content').data(['content']);l.enter().append('g').classed('v-content v-mbc-content',true);l.exit().remove();l.attr('transform','translate(0, '+this._pos.y+')');var m=l.selectAll('g.v-groups').data(['groups']);m.enter().append('g').classed('v-groups',true).classed('v-label',true).classed('viz-legend-valueLabel',true);m.exit().remove();this._tempGroups=m;var q=function(d){var j={marker:[],label:[],ticker:[]},x=0,y=0,r=t._mbcLA_colors.map(N.convertColor),u,i,v,w,z;var A=P.markerPaddingRight*t._mbcLA_textHeight;var D=t._mbcLAfn_calTextSize();var E=D.textSize;var F=D.tValueWidth;r=r.reverse();if(t._mbcLA_nullLabelIndex!==-1){var G=r.shift();r.push(G);}v=d.length;var J=v>0&&d[v-1].val==='N/A';if(t._orientation==='top'||t._orientation==='bottom'){A=A+t._getValuePaddingDelta(A);var K=t._properties._props["legend.onlyShowStartEndLabel"];if(K&&K.value===undefined){var L=t._runtime._scaleMgr.get('color');if(L&&L.legendValues){if(!Q.isLegendValuesValid(L.legendValues,L.numOfSegments)){t._onlyShowStartEndLabel=true;}}}if(F&&E[0].visibility_tVal!=='hidden'){x=F/2-k/2;}u=t._mbcLA_markerSize.width+t._mbcLA_paddingBottom;var R=t._mbcLA_markerSize.height+A-t._mbcLA_textY;var S=t._mbcLA_markerSize.height+(A-n)/2;for(i=0;i<v;i++){w=d[i].val;z=d[i].val1;if(w==='N/A'&&v>1){var W=P.valuePadding;if(E[i-1].visibility!=='hidden'){W+=E[i-1].width/2;}if(E[i-1].width!==0){W-=k/2;}x=x-t._mbcLA_paddingBottom+W;}j.marker.push({x:x,y:y,color:r[i],val:d[i].val,ctx:d[i].ctx});if(z!==undefined){j.label.push({val:z,x:0,y:R,visibility:E[i].visibility_tVal});j.ticker.push({val:z,x1:x+k/2,x2:x+k/2,y1:S,y2:S+n,visibility:E[i].visibility_tVal});}if(!(t._onlyShowStartEndLabel&&i<v-(J?2:1))){if(w!==undefined){if(w==='N/A'){j.label.push({val:a.get('IDS_ISNOVALUE'),x:x,y:R,visibility:E[i].visibility});}else{var X=x+u-((i===v-(J?2:1))?t._mbcLA_paddingBottom+k/2:k/2);j.label.push({val:w,x:X-E[i].width/2,y:R,visibility:E[i].visibility});j.ticker.push({val:w,x1:X,x2:X,y1:S,y2:S+n,visibility:E[i].visibility});}}}x=x+u;}}else{u=t._mbcLA_markerSize.height+t._mbcLA_paddingBottom;var Y=t._mbcLA_markerSize.width+A;for(i=0;i<v;i++){w=d[i].val;z=d[i].val1;if(w==='N/A'&&v>1){y=y+P.noValuePadding;}var Z=y;if(w!=='N/A'){Z=y+t._mbcLA_textHeight/2;}j.marker.push({x:x,y:Z,color:r[i],val:w,ctx:d[i].ctx});if(z!==undefined){j.label.push({val:z,x:Y,y:-t._mbcLA_textY,visibility:E[i].visibility_tVal});}if(w!==undefined){if(!(t._onlyShowStartEndLabel&&i<v-(J?2:1))){if(w==='N/A'){j.label.push({val:a.get('IDS_ISNOVALUE'),x:Y,y:y-t._mbcLA_textY/2-t._mbcLA_paddingBottom+u/2,visibility:E[i].visibility});}else{j.label.push({val:w,x:Y,y:y+u-t._mbcLA_textY-t._mbcLA_paddingBottom,visibility:E[i].visibility});}}}y=y+u;}}return j;};s.each(function(){t._mbcLAfn_setupThemeStyleDef();t._mbcLAfn_calMarkerSize({width:t._mbcLA_width,height:t._mbcLA_height-t._pos.y});var r=t._mbcLA_chartData,u,y=0,j,v,w=P.markerPaddingRight*t._mbcLA_textHeight;var x=t._tempGroups;t._mbcLA_wrap=x;var z=x.selectAll('rect.v-indicatedRect');if(z.empty()){z=x.append('rect').attr('class','v-indicatedRect v-hovershadow');}z.attr('visibility','hidden');if(t._orientation==='top'||t._orientation==='bottom'){z.attr('width',t._mbcLA_markerSize.width+2).attr('height',t._mbcLA_markerSize.height+4);}else{z.attr('width',t._mbcLA_markerSize.width+4).attr('height',t._mbcLA_markerSize.height+2);}var A=q(r);var D=x.selectAll('rect.v-marker').data(A.marker);D.exit().remove();D.enter().append('rect');D.attr('class',function(d,i){return'v-marker v-mbc-legend-item ID_'+i;});D.attr("legendlabel-id",function(d,i){t._cells.push([{id:i}]);return i;});if(t.isSelectable()){D.attr('aria-posinset',function(d,i){return i+1;}).attr('aria-setsize',A.marker.length);}D.attr('width',t._mbcLA_markerSize.width).attr('height',t._mbcLA_markerSize.height).attr('x',function(d){return d.x;}).attr('y',function(d){return d.y;}).attr('fill',function(d){var i={drawingEffect:'normal',fillColor:d.color};var R=t._mbcLA_effectManager.register(i);return R;});var E=(t._mbcLA_nullLabelIndex===-1)?A.label.length:(A.label.length-1);var F=x.selectAll('text').data(A.label);F.exit().remove();F.enter().append('text');F.text(function(d){return t._getLabelValue(d.val);});F.attr('x',function(d){return d.x;}).attr('y',function(d){return d.y;}).attr('visibility',function(d){return d.visibility;});var G=null;var J=t.runtime()&&t.runtime().envManager();if(J){G=J.textAnchor();}F.attr("text-anchor",G);var K=t._mbcLA_styleManager.label.style;x.attr('font-family',K['fontFamily']).attr('font-size',K['fontSize']).attr('font-weight',K['fontWeight']).attr('fill',K.color).attr('font-style',K['fontStyle']);var L=x.selectAll('line').data(A.ticker);L.exit().remove();if(t._orientation==='top'||t._orientation==='bottom'){L.enter().append('line');L.attr('x1',function(d){return d.x1;}).attr('x2',function(d){return d.x2;}).attr('y1',function(d){return d.y1;}).attr('y2',function(d){return d.y2;}).attr('visibility',function(d){return d.visibility;}).attr('stroke-width',k).attr('stroke',K.color);}});};M.prototype._getValuePaddingDelta=function(v){var m=9;return v<m?m-v:0;};M.prototype._updateHeight=function(s){var d=this._tempGroups;var i=true;d.selectAll('text').each(function(t){i=i&&t.visibility==='hidden';});if(i&&this._mbcLA_perferredSize.height>this._mbcLA_perferredSize.minHeight){var h=s.getAttribute("height");s.setAttribute("height",h-(P.markerPaddingRight*this._mbcLA_textHeight+this._mbcLA_textHeight));}};M.prototype.highlight=function(t){if(t.__data__){var i=this._mbcLA_wrap.selectAll('.v-indicatedRect');var d=t.__data__;if(d.x!==undefined&&d.y!==undefined){i.attr('class','v-indicatedRect v-mbc-legend-item v-hovershadow').attr('visibility','visible').attr('fill',this._mbcLA_style.hovershadow.fill);if(this._orientation==='top'||this._orientation==='bottom'){i.attr('x',d.x-1).attr('y',d.y-2);}else{i.attr('x',d.x-2).attr('y',d.y-1);}}}};M.prototype._shouldInitColorShapeScale=function(){return!this._colorShapeScale||!this._colorScale;};M.prototype.hasData=function(){if(this.isInSemanticMode()){this._initColorShapeScale();return this._colorShapeScale&&this._colorShapeScale.getLength()>0;}return!!(this._mbcLA_chartData&&this._mbcLA_chartData.length);};M.prototype.unhighlight=function(t){if(this._mbcLA_wrap){this._mbcLA_wrap.selectAll('.v-indicatedRect').attr('visibility','hidden');}};M.prototype.selected=function(t){if(t.__data__){var i=this._mbcLA_wrap.selectAll('.v-indicatedRect');var d=t.__data__;if(d.x!==undefined&&d.y!==undefined){i.attr('class','v-indicatedRect v-mbc-legend-item v-hovershadow-mousedown').attr('visibility','visible').attr('fill',this._mbcLA_style.clickedshadow);if(this._orientation==='top'||this._orientation==='bottom'){i.attr('x',d.x-1).attr('y',d.y-2);}else{i.attr('x',d.x-2).attr('y',d.y-1);}}}};M.prototype.setSize=function(s){M.superclass.setSize.apply(this,arguments);this.width(s.width);this.height(s.height);};M.prototype.width=function(w){M.superclass.width.apply(this,arguments);var d=[].slice.call(arguments);if(d.length<1||d[0]===undefined){this._properties.set('width',this._mbcLA_width);return this._mbcLA_width;}this._mbcLA_width=w;this._properties.set('width',this._mbcLA_width);return this;};M.prototype.height=function(h){M.superclass.height.apply(this,arguments);var d=[].slice.call(arguments);if(d.length<1||d[0]===undefined){this._properties.set('height',this._mbcLA_height);return this._mbcLA_height;}this._mbcLA_height=h;this._properties.set('height',this._mbcLA_height);return this;};M.prototype.setOrientation=function(d){if(!arguments.length){return this._orientation;}if(d&&d!==this._orientation){this._mbcLA_markerSize={width:12,height:12};}this._orientation=d;this._need_calTextSize=true;return this;};M.prototype.getPreferredSize=function(d,w){this.syncProperties();return M.superclass.getPreferredSize.apply(this,arguments);};M.prototype._getBodyPreferredSize=function(d){if(this.isInSemanticMode()){return C.prototype._getBodyPreferredSize.apply(this,arguments);}var m=0,h=0,i=0,j=0;if(this._mbcLA_chartData&&this._mbcLA_chartData.length&&this._need_calTextSize){this._mbcLAfn_setupThemeStyleDef();var s=T.fastMeasure("M",this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_textHeight=s.height;this._mbcLA_textY=s.y;var t=this._mbcLAfn_calTextSize();var l=t.maxValueWidth;var v=t.textSize;var p=this._mbcLA_chartData.length;if(t.maxNumValueWidth>H.maxWidth){H.maxWidth=t.maxNumValueWidth+P.valuePadding;}if(this._orientation==='top'||this._orientation==='bottom'){var q=this._mbcLAfn_calLegendWidthFromMarkerWidth(H.maxWidth);h=q.height;m=q.width;q=this._mbcLAfn_calLegendWidthFromMarkerWidth(H.minWidth);i=q.height;j=q.width;}else{m=this._mbcLA_markerSize.width+P.markerPaddingRight*this._mbcLA_textHeight+l;j=this._mbcLA_markerSize.width+P.markerPaddingRight*this._mbcLA_textHeight+(v[0].width>v[p-1].width?v[0].width:v[p-1].width);if(this._mbcLA_nullLabelIndex!==-1){h=(V.maxHeight+this._mbcLA_paddingBottom)*p+P.noValuePadding-this._mbcLA_paddingBottom;i=(V.minHeight+this._mbcLA_paddingBottom)*p+P.noValuePadding-this._mbcLA_paddingBottom;}else{h=(V.maxHeight+this._mbcLA_paddingBottom)*p+this._mbcLA_textHeight-this._mbcLA_paddingBottom;i=(V.minHeight+this._mbcLA_paddingBottom)*p+this._mbcLA_textHeight-this._mbcLA_paddingBottom;}}this._mbcLA_perferredSize={minHeight:i,minWidth:j,width:m,height:h,maxWidth:m,maxHeight:h};}else{this._mbcLA_perferredSize={minHeight:0,minWidth:0,width:0,height:0,maxWidth:0,maxHeight:0};}return this._mbcLA_perferredSize;};M.prototype._mbcLAfn_calTextSize=function(){var m=-1,d=-1,v=[],t=0,h=this._mbcLA_chartData,j,l,i,p;var q=h.length;var r=q;if(this._need_calTextSize){this._mbcLA_nullLabelIndex=-1;if(q>0&&h[q-1].val==='N/A'){r=q-1;}for(i=0;i<q;i++){if(h[i].val==='N/A'){v[i]=T.fastMeasure(a.get('IDS_ISNOVALUE'),this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_nullLabelIndex=i;}else{j=h[i].val;if(j!==undefined){j=this._getLabelValue(h[i].val);v[i]=T.fastMeasure(j,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);}else{v[i]={width:0,height:0};}l=h[i].val1;if(l!==undefined){l=this._getLabelValue(l);p=T.fastMeasure(l,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);if(this._orientation==='top'||this._orientation==='bottom'){t=p.width;if(t>d){d=t;}}else{if(p.width>v[i].width){v[i]=p;}}}if(v[i].width>d){d=v[i].width;}}if(v[i].width>m){m=v[i].width;}}if(this._onlyShowStartEndLabel){var s=v[r-1].width;d=t>s?t:s;}this._mbcLA_textInfos={maxValueWidth:m,maxNumValueWidth:d,textSize:v,tValueWidth:t};this._need_calTextSize=false;}return this._mbcLA_textInfos;};M.prototype._mbcLAfn_calMarkerSize=function(s){if(!this.hasData()){return false;}var d=this._mbcLA_chartData.length,h=0,j,v,t,i;this._mbcLA_minimized=false;var p=P.maxValueSpace*this._mbcLA_textHeight;var q=P.minValueSpace*this._mbcLA_textHeight;var u=this._mbcLAfn_calTextSize().textSize;if(this._orientation==='top'||this._orientation==='bottom'){j=s.width;var r=H.maxWidth;var l=H.minWidth;var m=-1;var w=this._mbcLAfn_calLegendWidthFromMarkerWidth(r);if(w.width<=j){h=r;}else{w=this._mbcLAfn_calLegendWidthFromMarkerWidth(l);if(w.width>=j){h=l;}else{while(r-l>1){m=l+(r-l)/2;w=this._mbcLAfn_calLegendWidthFromMarkerWidth(m);if(Math.abs(w.width-j)<1){l=m;break;}else if(w.width>j){r=m;}else{l=m;}}h=l;w=this._mbcLAfn_calLegendWidthFromMarkerWidth(h);if(w.isAllHidden&&h>H.defaultWidth){h=H.defaultWidth;}}}}else{j=s.height;var x=false;var y;if(this._mbcLA_textHeight>V.maxHeight){x=true;}if(this._mbcLA_nullLabelIndex!==-1){h=(j-this._mbcLA_paddingBottom*(d-1)-P.noValuePadding-(x?(this._mbcLA_textHeight-V.maxHeight):0))/(d);}else{h=(j-this._mbcLA_paddingBottom*(d-1)-this._mbcLA_textHeight)/d;}if(h>V.maxHeight){h=V.maxHeight;}if(h<this._mbcLA_textHeight){x=true;}if(x){this._mbcLA_minimized=true;}for(i=0;i<u.length;i++){if(this._mbcLA_minimized){u[i].visibility='hidden';}else{u[i].visibility='visible';}}u[0].visibility_tVal='visible';if(this._mbcLA_nullLabelIndex!==-1){u[this._mbcLA_nullLabelIndex].visibility='visible';y=u.length-1;}else{y=u.length;}if(y>0){if(u[y-1].height===0){u[y-2].visibility='visible';}else{u[y-1].visibility='visible';}}}if(this._orientation==='top'||this._orientation==='bottom'){this._mbcLA_markerSize.width=h;this._mbcLA_markerSize.height=H.height;}else{this._mbcLA_markerSize.width=V.width;this._mbcLA_markerSize.height=h;}};M.prototype._mbcLAfn_setupThemeStyleDef=function(){var v=this._mbcLA_styleManager.label.style;var d=false;if(v){if(v['fill']&&v['fill']!==this._mbcLA_valueLabelFont.color){this._mbcLA_valueLabelFont.color=v['fill'];}if(v['fontFamily']&&v['fontFamily']!==this._mbcLA_valueLabelFont.fontfamily){this._mbcLA_valueLabelFont.fontfamily=v['fontFamily'];d=true;}if(v['fontSize']&&v['fontSize']!==this._mbcLA_valueLabelFont.fontsize){this._mbcLA_valueLabelFont.fontsize=v['fontSize'];d=true;}if(v['fontWeight']&&v['fontWeight']!==this._mbcLA_valueLabelFont.fontweight){this._mbcLA_valueLabelFont.fontweight=v['fontWeight'];d=true;}if(d){this._need_calTextSize=true;}}};M.prototype.getActiveLevels=function(){return this._cells;};M.prototype.destroy=function(){M.superclass.destroy.apply(this,arguments);if(this._mbcLA_wrap){this._mbcLA_wrap.remove();this._mbcLA_wrap=null;}this._need_calTextSize=null;this._mbcLA_perferredSize=null;this._mbcLA_styleManager=null;this._mbcLA_effectManager=null;this._mbcLA_selectedItem=null;this._mbcLA_chartData=null;this._mbcLA_nullLabelIndex=null;this._mbcLA_width=null;this._mbcLA_height=null;this._mbcLA_valueLabelFont=null;this._mbcLA_colors=null;this._mbcLA_markerSize=null;this._mbcLA_paddingBottom=null;this._mbcLA_textInfos=null;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_style=null;this._cells=null;};M.prototype._mbcLAfn_calLegendWidthFromMarkerWidth=function(w){var d=0,r=0,h=0,j=2;var l,m,p,t;var q=this._mbcLAfn_calTextSize();var v=q.textSize;var s=q.tValueWidth;var u=this._mbcLA_chartData.length,x=u;var y=false;if(this._mbcLA_nullLabelIndex!==-1){d=v[this._mbcLA_nullLabelIndex].width;x=u-1;}if(this._onlyShowStartEndLabel){h=(w+this._mbcLA_paddingBottom)*x-this._mbcLA_paddingBottom;if(x*w-(s+v[x-1].width)/2<j){v[0].visibility_tVal='hidden';v[x-1].visibility='hidden';}else{h+=s/2+v[x-1].width/2;}}else{for(var i=0;i!==x;i++){if(i===0){p=w-(s+v[i].width)/2;}else{t=w-(v[i].width+v[i-1].width)/2;if(p>t){p=t;}}}for(i=0;i!==x;i++){if(p<j){v[i].visibility='hidden';}else{v[i].visibility='visible';}}if(this._mbcLA_nullLabelIndex!==-1){v[this._mbcLA_nullLabelIndex].visibility='visible';}if(x>0){h=(w+this._mbcLA_paddingBottom)*x-this._mbcLA_paddingBottom;if(s!==0){h-=k/2;v[0].visibility_tVal='visible';l=-1;}else{v[0].visibility='visible';l=0;}if(v[x-1].width!==0){h-=k/2;m=x-1;}else{m=x-2;}v[m].visibility='visible';var z=w*(m-l);var A=s!==0?s:v[0].width;var D=v[m].width;if(l===m){if(v[l].width+2*j>x*w){v[l].visibility='hidden';}}else if(z-(A+D)/2<j){v[m].visibility='hidden';y=true;if(s!==0){v[0].visibility_tVal='hidden';}else{v[0].visibility='hidden';}}else{h+=s/2+v[x-1].width/2;}}}if(this._mbcLA_nullLabelIndex!==-1){h+=P.valuePadding+((d>w)?d:w);}var E=P.markerPaddingRight*this._mbcLA_textHeight;r=H.height+E+this._mbcLA_textHeight;r=r+this._getValuePaddingDelta(E);return{width:h,height:r,isAllHidden:y};};M.prototype._getLabelValue=function(v){v=(v===null)?a.get('IDS_ISNOVALUE'):v;var p=this._properties.get();var m=null;if(this._bindingFields&&this._bindingFields.length){m=this._bindingFields[0].formatString;if(b.isArray(m)){m=m[0];}}var u=p.unitFormatType;var d={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.MBCLegend)};v=U.format(v,this._formatString||m,u,d);return v;};M.prototype._getTitleText=function(){var t="";var u=this._properties.get("title.text");if(b.isString(u)){t=u;}else{t=this._measureName;}return t;};f.register(g.MBCLEGEND_NAVIGATOR,null,I);return M;});define('sap/viz/chart/scales/QuantizeScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/Constants'],function(o,B,N,C){var Q=function(c){this.__className="sap.viz.scale.QuantizeScale";this._name=null;this._type="quantize";this._domain=c.domain;this._range=c.range;this._nullColor=c.nullColor;this._legendValues=c.legendValues;this._domainInfo=c.domainInfo;this._defaultColors=C.COLOR.SAPColorSingleAxis;this._initScale();};o.extend(Q,B);Q.prototype._initScale=function(){if(this._scale===undefined){this._scale=d3.scale.ordinal();if(this._domain){this._scale.domain(this._domain);}if(this._range){this._scale.range(this._range);}else{this._scale.range(this._defaultColors);}}};Q.prototype.scale=function(v){if(N.isNoValue(v)){if(this._nullColor){return this._nullColor;}}var d,j,t,i,f;if(this._domain){for(j=0;j<this._domain.length;j++){t=this._domain[j];i=this._domainInfo[j];f=false;if((j===this._domain.length-1)||(this._domain[j+1].length===0)){d=t;break;}if((v>t[0])&&(v<t[1])){f=true;}else if(!i.isLeftOpen&&(v===t[0])){f=true;}else if(!i.isRightOpen&&(v===t[1])){f=true;}if(f){d=t;break;}if((v>=t[0])&&(v<t[1])){d=t;break;}}return this._scale(d);}else{return this._scale.range()[0];}};Q.prototype.getLegendValues=function(){return this._legendValues;};Q.prototype.destroy=function(){Q.superclass.destroy.call(this);this._nullColor=null;this._legendValues=null;this._domainInfo=null;this._defaultColors=null;};return Q;});define('sap/viz/chart/scales/QuantizeScaleProcessor',['sap/viz/framework/scale/ScaleRepository','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/scales/QuantizeScaleUtil','sap/viz/chart/scales/QuantizeScale','sap/viz/framework/common/util/ObjectUtils'],function(S,A,T,C,Q,a,O){S.quantizeScale=function(d,n,s,p,o){o=o||{};var b=o.seriesType,r=o.role;var _=O.clone(d.values||[],true),c=[],e=false;var f=function(D){for(var i=0;i<D.length;i++){if(T.isArray(D[i])){if(D[i].length!==D[0].length){e=true;}f(D[i]);}else{if(D[i]===null||isNaN(D[i])){e=true;}else if(c.indexOf(+D[i])<0){c.push(+D[i]);}}}};f(_);var m,g;if(c.length===1){m=c[0];g=c[0];}else if(c.length===0){m=undefined;g=undefined;}else{m=A.min(c);g=A.max(c);}var h=s.get(n);var j=(h&&h.palette)?h.palette:C.TREE_MAP.PALETTE;var k=(h&&h.startColor)?h.startColor:C.TREE_MAP.START_COLOR;var l=(h&&h.endColor)?h.endColor:C.TREE_MAP.END_COLOR;var q=(h&&h.legendValues)?h.legendValues:C.TREE_MAP.LEGEND_VALUES;var t=(h&&h.maxNumOfSegments)||9;var u=s.getDefault(n);var v={"feed":n,"type":"quantize","palette":C.TREE_MAP.PALETTE,"startColor":C.TREE_MAP.START_COLOR,"endColor":C.TREE_MAP.END_COLOR,"nullColor":C.TREE_MAP.NULL_COLOR,"numOfSegments":C.TREE_MAP.DEFAULT_TICKS,"legendValues":C.TREE_MAP.LEGEND_VALUES};if(!T.isExist(u)){s.add(n,{serializable:true,defaultValue:v});}else{s.set(n,O.extend({},v,u),1,'templateValue');}p.origin.add('plotArea.colorPalette',{defaultValue:C.TREE_MAP.PALETTE,serializable:false,get:function(){return j;}});p.origin.add('plotArea.startColor',{defaultValue:C.TREE_MAP.START_COLOR,serializable:false,get:function(){return k;}});p.origin.add('plotArea.endColor',{defaultValue:C.TREE_MAP.END_COLOR,serializable:false,get:function(){return l;}});p.origin.add('plotArea.legendValues',{defaultValue:C.TREE_MAP.LEGEND_VALUES,serializable:false,get:function(){return q;}});var w=O.extend({},s.get(n));var x=s.getDefault(n);if(!w){w=x;}else{w.numOfSegments=w.numOfSegments;w.legendValues=w.legendValues||x.legendValues;w.nullColor=w.nullColor||x.nullColor;w.startColor=w.startColor||x.startColor;w.endColor=w.endColor||x.endColor;w.palette=w.palette||x.palette;if(!T.isNumber(w.numOfSegments)){w.numOfSegments=x.numOfSegments;}else if(w.numOfSegments>t){w.numOfSegments=t;}else if(w.numOfSegments<2){w.numOfSegments=2;}}var y=Q.getColorScale(m,g,e,w,d.values);var z=y.legendValues;if(z&&z.length>0){var B=[];for(var i=0;i<z.length;i++){B.push(z[i][0]);if(i===z.length-1){B.push(z[i][1]);}}p.setDefault('plotArea.autoLegendValues',B);}if(y.domain!==null){return new a(y);}};});define('sap/viz/chart/chains/TreeChains',['sap/viz/framework/common/util/TypeUtils','sap/viz/chart/chains/BaseChains','sap/viz/framework/common/util/DataUtils','sap/viz/framework/binding/BindingManager'],function Setup(T,B,D,a){var b={};var d=['GetDimensionsFromFlattable','GetMeasuresFromFlattable','GetContext','OnBindingFinished','OnBindingStart'];b=B.extend('treemap',d);var c=function(f){var g=f.title.rowArray;var l=g.length;var h={};var w=f.weight?f.weight.values:[];var k=f.color?f.color.values:[];var m=f.context?f.context.values:[];for(var i=0;i<l;i++){var n,o=g[i].length,p=g[i],q;o=p.length;n=h;for(var j=0;j<o;j++){q=D.getDimensionValue(p[j]);if(!n[q]){n[q]={title:p[j]};}n=n[q];if(j!==o-1){n.weight=n.weight||0;n.weight+= +w[i]>0?+w[i]:0;if(!n.children){n.children={};}n=n.children;}else{n.weight=w[i];n.color=k[i];n.context=[];if(T.isArray(n.weight)){n.weight=n.weight[0];}if(T.isArray(n.color)){n.color=n.color[0];}for(var t=0;t<m.length;++t){n.context.push(m[t][i]);}}}}return h;};var e=function(f){var m={};m.hierarchy=f.title?f.title.metaData:[];m.color=f.color?f.color.metaData:[];m.weight=f.weight?f.weight.metaData:[];return m;};b.treemapGetBindingSeries=function(r,f,m,g,h,i){var j=c(g);g.series=j;var k=e(g);return{data:j,metaData:k};};Object.keys(b).forEach(function(k){a.registerChain(k,b[k]);});return b;});define('sap/viz/chart/behavior/config/AxisBehaviorConfigForTreeMap',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/BehaviorManager"],function(C,S,U,O,D,a,B){var b=S.BEHAVIOR,c="v-axis-item",n="v-nonLeafDimensionLabel",d=C.CSS.CLASS,t="info/treemap",H="#cccccc",e="#808080";function i(s){var h=s.getProperties().get("interaction.selectability");if(!h){return false;}var j=h.mode.toUpperCase();var k=s.getNodes(s.NodeType.TREE_MAP_ITEM);if(!h.axisLabelSelection||j===S.SELECTION_MODE.NONE||j===S.SELECTION_MODE.SINGLE||!k.node()){return false;}else{return true;}}var g=function(h,s){var j=D.getContext(h.data.currentTarget);j=O.extend({},j);delete j.level;delete j.levelNum;delete j.realLabelWidth;return a.getDataPointIds(j,s);};var f=[{"id":"hover_on_axis_label_treemap","triggerEvent":{"name":"hover","targets":c,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}s.fireEvent("processUnhighlight");d3.select(h.data.currentTarget).attr("fill",H).attr("opacity",h.data.byKeyboard?0:1).classed(d.HOVER_SHADOW,true);var j=g(h,s);s.fireEvent("processHighlight",{targets:j});}},{"id":"hover_on_non_axis_label_treemap","triggerEvent":{"name":"hover","excludeTargets":[c,C.CSS.CLASS.MBCLEGENDITEM,C.CSS.CLASS.LEGENDITEM],"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}s.fireEvent("processUnhighlight");}},{"id":"hover_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"hover","targets":n,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}s.fireEvent("processUnhighlight");d3.select(h.data.currentTarget.previousElementSibling).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true);var j=g(h,s);s.fireEvent("processHighlight",{targets:j,});}},{"id":"click_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"click","targets":n,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}var j=D.getContext(h.data.currentTarget.previousElementSibling);j=O.extend({},j);delete j.level;delete j.levelNum;delete j.realLabelWidth;var k=a.getDataPointIds(j,s);s.fireEvent("processSelection",{targets:k,deselectable:true,ctrlKeyPressed:h.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:k,point:h.data.point});}},{"id":"cleanAxisHoverEffect_treemap","triggerEvent":{"name":"cleanAxisHoverEffect","supportedChartTypes":t},"handler":function(h,s){s.getNodes(s.NodeType.AXIS_ITEM).attr("opacity","0").classed(d.HOVER_SHADOW,false).classed(d.FOCUS_SHADOW,false);}},{"id":"click_on_axis_label_treemap","triggerEvent":{"name":"click","targets":c,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}var j=g(h,s);s.fireEvent("processSelection",{targets:j,deselectable:true,ctrlKeyPressed:h.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:j,point:h.data.point});}},{"id":"down_on_axis_label_treemap","triggerEvent":{"name":"down","targets":c,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}d3.select(h.data.currentTarget).attr("fill",e).attr("opacity",1).classed(d.FOCUS_SHADOW,true).classed(d.HOVER_SHADOW,false);}},{"id":"down_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"down","targets":n,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}d3.select(h.data.currentTarget.previousElementSibling).attr("fill",e).attr("opacity",1).classed(d.FOCUS_SHADOW,true).classed(d.HOVER_SHADOW,false);}},{"id":"up_on_axis_label_treemap","triggerEvent":{"name":"up","targets":c,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}if(U.isMobile()){d3.select(h.data.currentTarget).attr("fill",H).attr("opacity",0).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}else{d3.select(h.data.currentTarget).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}}},{"id":"up_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"up","targets":n,"supportedChartTypes":t},"handler":function(h,s){if(!i(s)){return;}if(U.isMobile()){d3.select(h.data.currentTarget.previousElementSibling).attr("fill",H).attr("opacity",0).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}else{d3.select(h.data.currentTarget.previousElementSibling).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}}}];B.registerAll(f);return f;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForTreeMap',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/interaction/BehaviorManager"],function(C,T,H,a,I,B){var t=["info/treemap"];t=a.addTrellisType(t);var b=C.CSS.CLASS;var c=[{"id":"selectDataPoint_tree","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":t},"handler":function(d,s){if(d.data.targets[0]&&d.data.targets[0].parentNode){s.fireEvent(d,true);var f=H.turnToArray(d.data.targets);var p=s.getProperties().get('interaction.selected');f.forEach(function(e){H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}}},{"id":"deselectDataPoint_tree","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":t},"handler":function(d,s){if(d.data.targets[0]&&d.data.targets[0].parentNode){s.fireEvent(d,true);var f=H.turnToArray(d.data.targets);var p;f.forEach(function(e){if(d.data.isAnyOtherSelected){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}}},{"id":"hoverOnDataPoint_tree","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":t},"handler":function(d,s){s.fireEvent(d,true);var f=H.turnToArray(d.data.targets);var p=s.getProperties().get('interaction.hover');f.forEach(function(e){if(!d.data.byKeyboard){H.drawStroke(s,e,'rect',p.stroke,2);}H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},{"id":"unhoverOnDataPoint_tree","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":t},"handler":function(d,s){s.fireEvent(d,true);var f=H.turnToArray(d.data.targets);var p;f.forEach(function(e){if(d3.select(e).classed(b.DATAPOINTSELECTED)){p=s.getProperties().get('interaction.selected');}else{var g=s.getStatus("selectedDataPoints");if(g.length){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}}H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},{"id":"clearPlot_tree","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(d,s){s.fireEvent(d,true);var m=s.getNodes(s.NodeType.DATA_POINT,false);if(!m||!m.length){return;}var g=d.data.isGray;var p;m.forEach(function(e){if(g){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},I.getDeselectEvent("click_on_non_selection_tree",t,H.getDeselAllExTargets())];B.registerAll(c);});define('sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/AlignToUtil"],function(C,S,U,O,D,a,b,A){var B=S.BEHAVIOR,c=C.CSS.CLASS;var M=function(){};M.prototype={standAloneInitialized:function(e,s){s.getProperties().origin.add({legend:{mouseDownShadow:{color:"#808080"},hoverShadow:{color:"#cccccc"}},interaction:{selectability:{legendSelection:true}}});},hover:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}s.fireEvent("processUnhighlight");if(e.data.byKeyboard){var h=s.getProperties().get("interaction.keyboard");h.color=s.getEffectManager().register({fillColor:h.color});d3.select(e.data.currentTarget).attr("stroke",h.color).attr("stroke-width",h.width).attr("stroke-dasharray","1, 1").attr("shape-rendering","crispEdges");}else{d3.select(e.data.currentTarget).attr("stroke",b.getColorProperty(s,"legend.hoverShadow",C.MBCLEGEND.HOVER_SHADOW_COLOR)).attr("stroke-width",C.MBCLEGEND.VISIBLE_STROKE_WIDTH).attr("stroke-dasharray",undefined).attr("shape-rendering",undefined).classed(c.HOVER_SHADOW,true);}if(!e.data.byKeyboard){b.resetMBCLegendSelectionEffect(s);}var d=O.extend({},a.getContext(e.data.currentTarget).ctx);delete d.measureName;var f=this._getTargets(d,e,s);s.fireEvent("processHighlight",{targets:f,});},syncSelectedMBCLegendItems:function(e,s){b.updateCorrespondingSelectedLegendItems(s,true);},nonHover:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)||!b.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}s.fireEvent("processUnhighlight");},cleanMBCHoverEffect:function(e,s){s.getNodes(s.NodeType.MBC_LEGEND_ITEM).classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,false).attr("stroke-width",0).attr("stroke-dasharray",undefined).attr("shape-rendering",undefined);b.resetMBCLegendSelectionEffect(s);},click:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}var d=O.extend({},a.getContext(e.data.currentTarget).ctx);delete d.measureName;var t=this._getTargets(d,e,s);s.fireEvent("processSelection",{targets:t,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});var l=D.parent(e.data.target,".v-groups");var f=A.getMBCTooltipData(e,s,t,e.data.target,l);s.fireEvent("processMultipleSelectionTooltip",f);},_getTargets:function(d,e,s){return b.getDataPointIds(d,s);},mouseDown:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}var d=b.getColorProperty(s,"legend.mouseDownShadow",C.MBCLEGEND.HOVER_SHADOW_MOUSE_DOWN_COLOR);b.resetMBCLegendSelectionEffect(s);d3.select(e.data.currentTarget).attr("stroke",d).attr("stroke-width",C.MBCLEGEND.VISIBLE_STROKE_WIDTH).classed(c.FOCUS_SHADOW,true);},mouseUp:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}var d=b.getColorProperty(s,"legend.hoverShadow",C.MBCLEGEND.HOVER_SHADOW_COLOR);if(U.isMobile()){d3.select(e.data.currentTarget).attr("stroke",null).attr("stroke-width",null).classed(c.FOCUS_SHADOW,false);}else{d3.select(e.data.currentTarget).attr("stroke",d).attr("stroke-width",C.MBCLEGEND.VISIBLE_STROKE_WIDTH).classed(c.FOCUS_SHADOW,false);}b.resetMBCLegendSelectionEffect(s);}};return M;});define('sap/viz/chart/behavior/config/MBCLegendBehaviorConfig',['sap/viz/framework/common/util/Constants',"sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/config/SelectionTreeUtil","sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils"],function(C,M,B,S,o,O){var m="v-mbc-legend-item";var a=[{"id":"mbcLegendBehaviorDefinition","handler":M,"handlerType":"class","supportedChartTypes":["info/treemap","info/heatmap","info/tagcloud"],"triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"hover","targets":m,"method":"hover"},{"name":"hover","excludeTargets":[m,C.CSS.CLASS.AXIS.LABEL_SELECTION,C.TREE_MAP.NON_LEAF_DIMENSION_LABEL],"method":"nonHover"},{"name":"cleanMBCHoverEffect","excludeTargets":m,"method":"cleanMBCHoverEffect"},{"name":"click","targets":m,"method":"click"},{"name":"syncSelectedMBCLegendItems","excludeTargets":m,"method":"syncSelectedMBCLegendItems"},{"name":"down","targets":m,"method":"mouseDown"},{"name":"up","targets":m,"method":"mouseUp"}]}];var b=function(){};o.extend(b,M);b.prototype.click=function(e,s){if(S.isSelectable(s,"MBC")){b.superclass.click.apply(this,arguments);}};var f=O.clone(a,true);f[0].handler=b;B.registerAll(a,f);return a;});define('sap/viz/chart/views/TreeChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plots/treemap/TreeMapPlot','sap/viz/chart/components/legend/MBCLegend',"sap/viz/chart/scales/QuantizeScaleProcessor","sap/viz/chart/chains/TreeChains","sap/viz/chart/behavior/config/AxisBehaviorConfigForTreeMap","sap/viz/chart/behavior/config/DataPointBehaviorConfigForTreeMap","sap/viz/chart/behavior/config/MBCLegendBehaviorConfig"],function Setup(o,C,T,M){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,C);a.prototype._getDataItems=function(){return["title","weight","color","series"];};a.prototype._createPlotContainer=function(){this._plotArea=new T(this.runtime(),{name:"plotArea"});this.setChild("plot",this._plotArea,{priority:3});};a.prototype._getLegendDefinition=function(){return[M];};return a;});define('sap/viz/chart/metadata/bindings/TreeBindings',[],function Setup(){var f=[{"id":"title","name":"IDS_TITLE","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.tree","acceptMND":false},{"id":"color","name":"IDS_COLOR","type":"Measure","min":0,"max":1,"role":"mark.quantizeColor"},{"id":"weight","name":"IDS_WEIGHT","type":"Measure","min":1,"max":1,"role":"layout.value"}];return f;});define('sap/viz/chart/components/axis/ReversedCategoryAxis',["sap/viz/framework/common/util/oo","sap/viz/chart/scales/CategoryScale","sap/viz/chart/components/axis/CategoryAxis","sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/DataGraphics'],function(o,C,a,O,D){var R=function(r,b){R.superclass.constructor.apply(this,arguments);};o.extend(R,a);R.prototype.setData=function(d,h){R.superclass.setData.apply(this,arguments);if(d.scale){var c=O.clone(d.scale.getDomain());this._scale=new C(c.reverse(),[0,1]);}};R.prototype.render=function(r){R.superclass.render.apply(this,arguments);if(this.getParent()&&this.getParent().node()){var b=this.getParent().node();D.setContext(b,{name:this.getName()});}};R.prototype.destroy=function(){R.superclass.destroy.call(this);this._scale=null;};return R;});define('sap/viz/chart/components/datalabels/HeatMapDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/TypeUtils"],function Setup(o,D,a,G,T){var H=function(r,b){H.superclass.constructor.apply(this,arguments);this._ignoreEmptyDataLabel=true;};o.extend(H,D);H.prototype._getDataLabelInfo=function(n){var c=a.getContext(n);var k=this._data.color.metaData[0].id;return{key:k,value:T.isExist(c[k])?c[k]:null};};H.prototype._computeDataLabelTranslate=function(n,c,l,b,d){var h=false;if(n.childNodes[1]&&n.childNodes[1].textContent){h=true;c.f+=G.getBBox(n.childNodes[1]).height/2;}return this._computeDataLabelPosition(c,this._fixBBoxWhenInvisible(n),l,b,d,h);};H.prototype._computeDataLabelPosition=function(c,s,l,b,d,h){var x,y;var n=s.x+c.e;var e=s.y+c.f;x=(n+s.width/2)-(b.x+b.width/2);if(h){y=(e+s.height/2)-b.y;}else{y=e+s.height/2-b.y/2;}return[x,y];};H.prototype.hideConditional=function(d){var i;for(i=(d.length-1);i>=0;i--){var b=d[i].dataPoint;var c=d[i].node;var e=c.getBoundingClientRect();var f=b.getBoundingClientRect();if(((e.width)>f.width)||((e.bottom)>f.bottom)){if(c&&c.parentNode){c.parentNode.removeChild(c);}d.splice(i,1);}}return H.superclass.hideConditional.apply(this,arguments);};return H;});define('sap/viz/chart/components/plots/HeatMapPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/renderers/BarRenderer','sap/viz/chart/components/datalabels/HeatMapDataLabels','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/TextUtils',"sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/UADetector",'sap/viz/framework/common/util/DataUtils',"sap/viz/chart/components/util/ColorUtil","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/HeatMapDataPointNavigator","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar"],function Setup(o,B,I,S,a,H,C,P,F,b,D,c,T,N,U,d,e,f,g,h){var L={fontSize:"12px",fontWeight:"normal",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif",fontStyle:"normal"};var l=function(r,i){l.superclass.constructor.apply(this,arguments);r.zoneManager().add(P.plot(this));r.zoneManager().add(F.plot(this));this._ellipsisText=[];};o.extend(l,B);l.prototype._getXHandlers=function(){return[S.getCategoryScaleHandler("categoryAxis",{isHorizontal:true,itemScaleHandler:I.get(true,{forBar:false})})];};l.prototype._getYHandlers=function(){return[S.getCategoryScaleHandler("categoryAxis2",{isHorizontal:false,itemScaleHandler:I.get(true,{forBar:false})})];};l.prototype.setData=function(i){this._isOnlyOneCategory=false;if(!i.categoryAxis2||!i.categoryAxis2.metaData){this._isOnlyOneCategory=true;}i._isOnlyOneCategory=this._isOnlyOneCategory;l.superclass.setData.apply(this,arguments);};l.prototype._applyChanges=function(){l.superclass._applyChanges.apply(this,arguments);this._borderWidth=this._properties.get("border.visible")?1:0;var i=this._properties.get("dimensionLabel");if(i&&i.style){L=i.style;this._dimensionLabelVisible=i.visible;var s=this._semanticMgr;this._dimensionLabelSemantic=s.hasRuleForProp("dimensionLabel")||s.othersStyleHas("dimensionLabel");}if(i&&i.renderer){this._dimensionLabels=i;}};l.prototype._calculatePreferredLayout=function(){var s=this._size;var n=s.height;var p=s.width;var q=this._getSeries()[0];var r=-Number.MAX_VALUE;var t;var u;var R;var v;var w;var x=[];var y;var z=this._borderWidth;if(this._isOnlyOneCategory){if(q.length==1){t=n;u=p;v=1;R=1;}else{for(R=1;R<=q.length;R++){t=n/R;v=Math.ceil(q.length/R);u=p/v;w=(v*R)-q.length;y=(t-u)*(t-u);if(y<1){y=1;}if(w===0&&y===0){r=1+1;}else if(w===0&&y!==0){r=1+1/y;}else if(w!==0&&y===0){r=1+1;}else{r=1+1/y;}x.push({"iRow":R,"iCol":v,"rHeight":t,"rWidth":u,"varianceRec":y,"emptyCellNum":w,"score":r});}var A=0;var E=-1;for(var i=0;i<x.length;i++){if(x[i].score>A){A=x[i].score;E=i;}}t=x[E].rHeight;u=x[E].rWidth;v=x[E].iCol;R=x[E].iRow;}for(var j=0;j<q.length;j++){q[j].width=u-2*z;q[j].height=t-2*z;q[j].x=u*(j%v)+z;q[j].y=t*(Math.floor(j/v))+z;}}else{v=this._data.categoryAxis.rowArray.length;R=this._data.categoryAxis2.rowArray.length;t=n/R;u=p/v;for(var k=0;k<q.length;k++){q[k].width=u-z;q[k].height=t-z;q[k].x=u*(Math.floor(k/R))+z/2;q[k].y=t*(k%R)+z/2;}}return q;};l.prototype._buildWrapperConfig=function(i){var j=this._getColor(i);var k={graphic:{width:i.width,height:i.height,fill:j,opacity:1},ctx:i.dp.context(),effectManager:this._effectManager,categoryAxis:i.categoryAxis};if(this._strokeProp&&this._strokeProp.visible&&k.graphic){k.graphic.stroke=this._strokeProp.color;k.graphic.strokeWidth='1px';}k=this._getFillColorConfig(k,k.ctx,i.options,i);if(k.graphic.fill){k.graphic.fill=N.convertColor(k.graphic.fill);}if(k.graphic.color){k.graphic.color=N.convertColor(k.graphic.color);}return k;};l.prototype._drawDimensionLabel=function(j){var i;var k="";var n=j.categoryAxis;var t;for(i=0;i<n.length;i++){if(n[i]){k+=d.getLabelText(n[i])+" / ";}else{k+="null /";}}k=k.slice(0,k.length-2);var p={};var q=this.runtime().envManager();p.reverseDots=(q&&q.reverseDots());var r=L["fontSize"];var s=L["fontWeight"];var u=L["fontFamily"];var v=L["fontStyle"];var w=L["color"];var x={fontSize:r,fontWeight:s,fontFamily:u,fontStyle:v,color:w};var y={ctx:j.ctx,text:k,styles:x,defaultColor:"#ffffff",dpSize:{width:j.graphic.width,height:j.graphic.height},isMeasureText:true,background:j.graphic.fill,dataLabelColor:this._properties.get("dataLabel.style.color"),ellipsisText:this._ellipsisText,ellipsisOptions:p,colorRange:this._properties.get("dataLabel.style.colorRange")};if(this._dimensionLabels&&this._dimensionLabels.renderer){t=this._dimensionLabels.renderer(y,m.expose);}if(!t&&this._showDimensionLabelFor(y.ctx)){var z=this._semanticMgr;var A;if(z.hasRuleForProp("dataLabel")){A=z.analyzeDataPointForProperty(y.ctx,"dataLabel",false,{});}if(A){y.dataLabelVisible=A.dataLabel;}else{y.dataLabelVisible=this._properties.get("dataLabel.visible");}t=m(y);}if(t){c.setContext(t,y.ctx);var E=T.getTextBBox(t);var G=d3.select(t).attr("class","v-dimensionlabel v-heatmapdimensionlabel").attr("fill-opacity","1").attr("x",y.dpSize.width/2-E.width/2).attr("y",y.dpSize.height/2-(E.height/2+E.y));var J=null;if(q){J=q.textAnchor();}G.attr("text-anchor",J);}return t;};l.prototype._showDimensionLabelFor=function(i){if(this._dimensionLabelSemantic){var s=this._semanticMgr;var j=s.analyzeDataPointForProperty(i,"dimensionLabel");if(j){return j.dimensionLabel;}}return this._dimensionLabelVisible;};function m(j){var t;var k=j.styles["fontSize"];var n=j.styles["fontWeight"];var p=j.styles["fontFamily"];var q=j.styles["fontStyle"];var r=j.styles["color"];if(!r&&j.dataLabelVisible){if(j.colorRange==='outside'){r=e.getDataLabelColor(j.background);}else{r=j.dataLabelColor;}}if(!r){r=e.getDataLabelColor(j.background);}k=T.validateFontStyle(k);n=T.validateFontStyle(n);var s=0;var u=T.superFastMeasure(j.text,k,n,p);if(u.height>j.dpSize.height){s=-1;}else{t=b.create("text");s=j.dpSize.width;var v="font-size:"+k+";";v+="font-weight:"+n+";";v+="font-family:"+p+";";v+="font-style:"+q+";";v+="fill:"+r+";";var w=null;for(var i=0;i<j.ellipsisText.length;i++){var x=j.ellipsisText[i];if(j.text.indexOf(x)===0){w=j.text.length>x.length?x+'...':x;break;}}if(w){t.textContent=w;if(w!==j.text){t.appendChild(document.createElementNS(t.namespaceURI,"title")).textContent=j.text;}j.text=w;}else{j.text=T.ellipsis(j.text,t,s,v,j.ellipsisOptions);if(j.text.length>0){var y=j.text.indexOf('...');var z=3;if(j.ellipsisOptions.reverseDots){j.ellipsisText.push(y<0?j.text:j.text.substring(z));}else{j.ellipsisText.push(y<0?j.text:j.text.substring(0,y));}}}d3.select(t).attr("font-size",k).attr("font-weight",n).attr("font-family",p).attr("font-style",q).attr("fill",r);}return t;}m.expose={renderer:m};l.prototype._drawDatapoint=function(i){var j=b.create("g");var n=a(i);j.appendChild(n);return j;};l.prototype._drawOneCategoryDataPoint=function(i){var j=b.create("g");var n=a(i);var t=this._drawDimensionLabel(i);j.appendChild(n);if(t){j.appendChild(t);}return j;};l.prototype._filterHidden=function(i){var j=this._data.categoryAxis.metaData.map(function(k){return k.hidden;});if(j.length>0){i.forEach(function(k){k.categoryAxis=j.reduce(function(n,p,q){return p?n:n.concat(k.categoryAxis[q]);},[]);});}return i;};l.prototype._drawDatapoints=function(s){var i=this._filterHidden(this._calculatePreferredLayout());var j,k;this._dataPointRenderer=this._isOnlyOneCategory?this._drawOneCategoryDataPoint:this._drawDatapoint;var n,p,t,q,r;var u=b.create("g");u.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);this._ellipsisText=[];var v={disableSemantic:false};for(p=0;p<i.length;p++){q=i[p];q.options=v;r=this._buildWrapperConfig(q);r.twoDirection=true;n=this._dataPointRenderer(r);D.setDataId(n,p);D.setDataPointId(n,q.dp.id);c.setContext(n,r.ctx);c.setData(n,{color:r.graphic.fill,strokeWidth:n.querySelector("rect").getAttribute("stroke-width")});n.setAttribute("class",C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT);n.setAttribute("transform",'translate('+q.x+","+q.y+')');u.appendChild(n);}s.node().appendChild(u);this._drawHeatMapDataLabels(s);};l.prototype.destroy=function(){l.superclass.destroy.call(this);this._dataPointRenderer=null;this._borderWidth=null;this._properties=null;this._isOnlyOneCategory=null;if(this._dimensionLabels&&this._dimensionLabels.destroy){this._dimensionLabels.destroy();}this._dimensionLabels=null;this._ellipsisText=null;};l.prototype._drawHeatMapDataLabels=function(s){var i=s.select(".v-datapoint-group");if(!i.empty()){this._drawDataLabels(s,i.node());}};l.prototype._getDataLabels=function(n,r){return new H(r,{name:n});};f.register(h.DATAPOINT_NAVIGATOR,h.HEATMAP,g);return l;});define('sap/viz/chart/components/plotareas/XXPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/XYContainer','sap/viz/chart/components/axis/CategoryAxis','sap/viz/chart/components/axis/ReversedCategoryAxis','sap/viz/chart/components/plots/HeatMapPlot'],function Setup(o,X,C,R,H){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._init();};o.extend(a,X);a.prototype._init=function(){this._plot=new H(this.runtime(),{name:"plotArea"});this._categoryAxis=new C(this.runtime(),{name:"categoryAxis"});this._categoryAxis2=new R(this.runtime(),{name:"categoryAxis2"});this.setLayoutSequence(['left','right','bottom','top']);this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});this.setChild("categoryAxis2",this._categoryAxis2,{position:"left"});this.setChild("plot",this._plot,{position:"center"});};a.prototype.setData=function(d){a.superclass.setData.apply(this,arguments);var i=false;if(!d.categoryAxis2||!d.categoryAxis2.scale){this._categoryAxis2=null;i=true;}else{this._categoryAxis2.setData(d.categoryAxis2);}this._categoryAxis.setData(d.categoryAxis);this._categoryAxis.isAxisBodyOptional(i);this._plot.setData(d);};a.prototype.destroy=function(){a.superclass.destroy.call(this);this._plot=null;this._categoryAxis=null;this._categoryAxis2=null;};return a;});define('sap/viz/chart/chains/XXChains',['sap/viz/chart/chains/BaseChains','sap/viz/framework/binding/BindingManager'],function Setup(B,a){var x={};var d=['GetDimensionsFromFlattable','GetMeasuresFromFlattable','GetContext','OnBindingFinished','OnBindingStart'];x=B.extend('xx',d);x.xxGetBindingSeries=function(r,b,m,c,e,f){var s=[];var g=s[0]=[];var i,j,h,k,l;var _=c.context,n=(_&&_.metaData)?_.metaData[0]:undefined,o=(_&&_.values&&_.values.length>0)?_.values:undefined,p=_&&n&&o;if(!c.categoryAxis2||!c.categoryAxis2.values){h=c.categoryAxis.rowArray.length;for(i=0;i<h;i++){l={categoryAxis:c.categoryAxis.rowArray[i],color:c.color.values[i]};if(p){l.context=[o[0][i]];}g.push(l);}}else{h=c.categoryAxis.rowArray.length;k=c.categoryAxis2.rowArray.length;for(i=0;i<h;i++){for(j=k-1;j>-1;j--){l={categoryAxis:c.categoryAxis.rowArray[i],categoryAxis2:c.categoryAxis2.rowArray[j],color:c.color.values[i][j]};if(p){l.context=[];for(var t=0;t<o.length;++t){l.context.push(o[t][i][j]);}}g.push(l);}}}c.series=s;};Object.keys(x).forEach(function(k){a.registerChain(k,x[k]);});return x;});define('sap/viz/chart/views/XXChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/XXPlotArea','sap/viz/chart/components/legend/MBCLegend',"sap/viz/chart/scales/QuantizeScaleProcessor",'sap/viz/chart/chains/XXChains',"sap/viz/chart/behavior/config/MBCLegendBehaviorConfig"],function Setup(o,C,P,M){var X=function(r,a){X.superclass.constructor.apply(this,arguments);};o.extend(X,C);X.prototype._getLegendDefinition=function(){return[M];};X.prototype._getDataItems=function(){return["categoryAxis","categoryAxis2","series","color"];};X.prototype._createPlotContainer=function(){this._plotArea=new P(this.runtime());this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};return X;});define('sap/viz/chart/metadata/bindings/XXBindings',[],function Setup(){var f=[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"categoryAxis2","name":"IDS_CATEGORY_AXIS2","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.secondCategory"},{"id":"color","name":"IDS_COLOR","type":"Measure","min":1,"max":1,"role":"mark.quantizeColor"}];return f;});define('sap/viz/chart/components/datalabels/StackedCombinationDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/StackedDataLabels','sap/viz/chart/components/util/CombinationDataLabelUtil','sap/viz/chart/components/datalabels/LineDataLabels','sap/viz/chart/components/datalabels/CombinationDataLabels'],function(o,D,a,S,C,L,b){var c=function(d,e){c.superclass.constructor.apply(this,arguments);this.isHorizontal=e.isHorizontal;this._labelPosition="outside";this._stackedLabelPosition="inside";this._lineLabelPosition="outside";};o.extend(c,S);c.prototype._computeDataLabelPosition=function(d,s,l,e,f,n){if(a.getData(n).type!=="line"){return S.prototype._computeDataLabelPosition.apply(this,arguments);}else{return L.prototype._computeDataLabelPosition.apply(this,arguments);}};c.prototype._computeDataLabelTranslate=function(n){if(a.getData(n).type!=="line"){return S.prototype._computeDataLabelTranslate.apply(this,arguments);}else{return L.prototype._computeDataLabelTranslate.apply(this,arguments);}};c.prototype.hideConditional=function(d,e){var i;var f;var g=new Array(e.length);for(i=0;i<e.length;i++){g[i]=e[i].getBoundingClientRect();}for(i=(d.length-1);i>=0;i--){var h=d[i];var j=h.node;var k=j.getBoundingClientRect();var l=h.dataPoint;var I=this.indexOfDataLabelIntersectDataPoints(k,g,e,l);if(I!==-1){D.remove(j);d.splice(i,1);}}return c.superclass.hideConditional.apply(this,arguments);};c.prototype.allowIntersectionCheck=function(d){var e=a.getData(d).type;var i=false;if(e=="line"){i=true;}return i;};c.prototype.getDataLabelDefaultPosition=function(d){if(a.getData(d).type=="line"){this._labelPosition=this._lineLabelPosition;}else{this._labelPosition=this._stackedLabelPosition;}};c.prototype.drawZero=function(d){if(a.getData(d).type=="line"){return true;}else{return false;}};c.prototype.intersectResult=function(d,e,f,g){return C.isIntersectedHelper.call(this,d,e,f,g);};c.prototype.isDataLabelOutOfDataPoint=b.prototype.isDataLabelOutOfDataPoint;return c;});define('sap/viz/chart/components/accessibility/StackedCombinationDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/accessibility/BaseDataPointNavigator","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator"],function(o,S,B,a,L){function b(d){b.superclass.constructor.apply(this,arguments);this._dataShapes=null;this._seriesTypeLookup=[];this._stackedColumnNavigator=null;this._lineNavigator=null;this._lineSortedDPInCategory=[];this._barDPInCategory=[];this._stackedSeries=[];this._lineSeries=[];this._initSubComponent(d);}o.extend(b,B);var p=b.prototype;p._initSubComponent=function(d){if(this._series){this._setupSeriesTypeTable();for(var k=0;k<this._seriesTypeLookup.length;k++){if(this._seriesTypeLookup[k]===this._constants.BAR){this._stackedSeries.push(this._series[k]);this._lineSeries.push(undefined);}else{this._stackedSeries.push(undefined);this._lineSeries.push(this._series[k]);}}var s={isVerticalRender:d.isVerticalRender,dataModel:d.dataModel,series:this._stackedSeries,isCombination:true};this._stackedColumnNavigator=new a(s);var l={isDual:d.isDual,isVerticalRender:d.isVerticalRender,dataModel:d.dataModel,series:this._lineSeries,propertyManager:d.propertyManager};this._lineNavigator=new L(l);}};p.destroy=function(){b.superclass.destroy.apply(this,arguments);if(this._stackedColumnNavigator){this._stackedColumnNavigator.destroy();}if(this._lineNavigator){this._lineNavigator.destroy();}this._stackedColumnNavigator=null;this._lineNavigator=null;this._stackedSeries=null;this._lineSeries=null;this._lineSortedDPInCategory=null;this._barDPInCategory=null;};p.left=function(i){return this._DPRouter(i,this._constants.LEFT);};p.right=function(i){return this._DPRouter(i,this._constants.RIGHT);};p.up=function(i){return this._DPRouter(i,this._constants.UP);};p.down=function(i){return this._DPRouter(i,this._constants.DOWN);};function c(d){return d&&!d.ignore;}p._DPRouter=function(i,d){var e=this.getDataPoint(i);var n=null;if(e){var f=this.getDataPoint(i).address();u.call(this,f[0]);var s=this._getSeriesType(e);if(s===this._constants.BAR){switch(d){case this._constants.UP:n=this._stackedColumnNavigator.up(i);if(this._isVerticalRender&&!c(n)){n=this._getFirstDPByTypeInCategory(this._constants.LINE,f[0]);}break;case this._constants.DOWN:n=this._stackedColumnNavigator.down(i);break;case this._constants.LEFT:n=this._stackedColumnNavigator.left(i);break;case this._constants.RIGHT:n=this._stackedColumnNavigator.right(i);if(!this._isVerticalRender&&!c(n)){n=this._getFirstDPByTypeInCategory(this._constants.LINE,f[0]);}break;}}else if(s===this._constants.LINE){switch(d){case this._constants.UP:n=this._lineNavigator.up(i);break;case this._constants.DOWN:n=this._lineNavigator.down(i);if(this._isVerticalRender&&!c(n)){n=this._getFirstDPByTypeInCategory(this._constants.BAR,f[0]);}break;case this._constants.LEFT:n=this._lineNavigator.left(i);if(!this._isVerticalRender&&!c(n)){n=this._getFirstDPByTypeInCategory(this._constants.BAR,f[0]);}break;case this._constants.RIGHT:n=this._lineNavigator.right(i);break;}}}return n;};p._getFirstDPByTypeInCategory=function(d,e){var t=d===this._constants.BAR?this._barDPInCategory[e]:this._lineSortedDPInCategory[e];for(var i=0;i<t.length;i++){if(c(t[i])){return t[i];}}return null;};p._getLastDPByTypeInCategory=function(d,e){var t=d===this._constants.BAR?this._barDPInCategory[e]:this._lineSortedDPInCategory[e];for(var i=t.length-1;i>-1;i--){if(c(t[i])){return t[i];}}return null;};function u(d){if(!this._sortedDataPointsByDirection[d]){this.dataPointValueSortInCategory(d);}if(!this._lineSortedDPInCategory[d]){this._lineSortedDPInCategory[d]=[];for(var i=0;i<this._sortedDataPointsByDirection[d].length;i++){var e=this._sortedDataPointsByDirection[d][i];if(this._seriesTypeLookup[e.address()[1]]===this._constants.LINE){this._lineSortedDPInCategory[d].push(e);}}}if(!this._barDPInCategory[d]){this._barDPInCategory[d]=[];var f=this.getColumn(d);for(var j=0;j<f.length;j++){if(this._seriesTypeLookup[f[j].address()[1]]===this._constants.BAR){this._barDPInCategory[d].push(f[j]);}}}}p._getLineShortestDPInCategory=function(i,d){var e=this.getDataPoint(i);var s=null;var f=-1;var g=e.address();var h=g[0];var j=this._lineSortedDPInCategory[h].indexOf(e);if(j===-1){return this._lineSortedDPInCategory[h][0];}else{if(d===this._constants.UP||d===this._constants.RIGHT){f=j+1;}else if(d===this._constants.DOWN||d===this._constants.LEFT){f=j-1;}}if(f>-1&&f<this._lineSortedDPInCategory[h].length){s=this._lineSortedDPInCategory[h][f];}else{}return s;};return b;});define('sap/viz/chart/components/plots/StackedCombinationPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM",'sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/renderers/StackedBarRenderer','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/SmoothLineRenderer','sap/viz/chart/components/util/DrawUtil',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/datalabels/StackedCombinationDataLabels',"sap/viz/chart/components/plots/XYPlotFactory","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/StackedCombinationDataPointNavigator","sap/viz/chart/components/util/ChartConstants"],function Setup(o,S,O,D,C,a,b,c,d,e,I,B,f,g,P,h,L,k,l,m,n,p,X,q,r,s){var t="line";var u="bar";var v=function(i,j){v.superclass.constructor.apply(this,arguments);this._barCategoryAxis=d.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:this._getItemScaleHandler()});this._categoryScaleHandler=this._barCategoryAxis;this._lineDataHandler=e.getHandler();this._stackDataHandler=this._getDataHandler();this._drawZeroLineBeforeDatapoints=true;var x=this.runtime().semanticManager();x.setUseSemanticPattern(true);x.setUseSemanticDPLineStyle(true);this._attachMarkManager();this._markerPropName="line.marker";this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));this._options.isCombination=true;var y=j&&j.isDualValueAxis;if(y){this.dataShapeSecondaryAxisPW=this._properties.watch("dataShape.secondaryAxis",this._onDataShapeChange.bind(this));}this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._lineRenderer=null;this._defaultLineRenderer=n.getDefaultRenderer(this._properties.get("line.isSmoothed"));};o.extend(v,c);v.prototype._isSupportBarPathGenerator=function(){return true;};v.prototype.destroy=function(){this.dataShapePrimaryAxisPW.remove();this.dataShapePrimaryAxisPW=null;if(this.dataShapeSecondaryAxisPW){this.dataShapeSecondaryAxisPW.remove();this.dataShapeSecondaryAxisPW=null;}this.lineMarkerShapePW.remove();this.lineMarkerShapePW=null;v.superclass.destroy.call(this);this._barCategoryAxis=null;this._categoryScaleHandler=null;this._realSize=null;this._markerD=null;this._lineDataHandler=null;this._stackDataHandler=null;this._reversedSeries=null;this._lineRenderer=null;this._dpPlotNode=null;this._dpParentNode=null;this._extendSize=null;};v.prototype._createMainNode=f.prototype._createMainNode;v.prototype._getClipPathAttribute=f.prototype._getClipPathAttribute;v.prototype.zoom=f.prototype.zoom;v.prototype.scroll=f.prototype.scroll;v.prototype._isNeedSimplifyLine=function(){return false;};v.prototype._getItemScaleHandler=function(){var i;var j=this._getBarProperties();if(this._options.isDualValueAxis){var x=this._properties.get("dataShape.primaryAxis").indexOf('bar')>-1;var y=this._properties.get("dataShape.secondaryAxis").indexOf('bar')>-1;if(x&&y){j.valueAxis=["valueAxis","valueAxis2"];i=I.get(false,j);delete j.valueAxis;}else{i=I.get(false,j);}}else{i=I.get(false,j);}this._itemScaleHandler=i;return i;};v.prototype._attachMarkManager=function(){var i=this.runtime().markManager();var j=this._properties.get("dataShape.primaryAxis");var x=this._getMarkerShape();var y=this._properties.parentLevel;var z=[];i.lock();i.setMode("combination");var A=[];A.push(j);z.push(w.call(this,j,x,y));if(this._options&&this._options.isDualValueAxis){var E=this._properties.get("dataShape.secondaryAxis");z.push(w.call(this,E,x,y));A.push(E);}i.setShape(z,x);i.setSeriesShape(A);};function w(j,x,y){var z=[];if(!j||!j.length){return z;}for(var i=0;i<j.length;i++){if(j[i]===t){z.push(x);}else{var A=this._getLegendMarkerShape();z.push(A);}}return z;}v.prototype._onDataShapeChange=function(){this._attachMarkManager();};v.prototype._getCategoryScaleHandlers=function(i){return[d.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(false),alignment:"center"})];};v.prototype._getSeriesRenderer=function(){return new g(this._drawLine.bind(this),this._updateLine.bind(this));};v.prototype._applyChanges=function(){v.superclass._applyChanges.apply(this,arguments);var i=this._data["categoryAxis"].scale;var j=this.isHorizontal()?this._realSize.height:this._realSize.width;this._barCategoryAxis.init(i,this._data.series.length,j);};v.prototype._preRender=function(){v.superclass._preRender.apply(this,arguments);this._generateMarkerPath();this._lineRenderer=null;};v.prototype._getDataShape=function(j){this._reversedSeries=this._reversedSeries||this._getSeries();var x=this._reversedSeries[j];var y=null;for(var i=0;i<x.length;i++){y=x[i];if(y){break;}}if(y){var z="dataShape.primaryAxis";if(!y.hasOwnProperty("valueAxis")){z="dataShape.secondaryAxis";}var A=this._properties.get(z);if(!(A instanceof Array)){A=this._properties.get(z,'defaultValue');}var E;if(y.color){E=y.color.mndIndex;}else if(y.color2){E=y.color2.mndIndex;}else{E=-1;}if(A[E]!==t&&A[E]!==u){A[E]=t;}return A[E];}return t;};v.prototype._getXPosition=function(i,j,x){var y=this._getDataShape(i)===t;if(this.isHorizontal()){if(y){this._dataHandler={"valueAxis":this._lineDataHandler};}else{this._dataHandler=this._stackDataHandler;}var z=v.superclass._getXPosition.apply(this,arguments);if(y){return[z[0]+z[1],z[1]];}else{return z;}}else{if(y){return v.superclass._getXPosition.apply(this,arguments);}else{return this._getAxisPosition([this._barCategoryAxis],i,j,x);}}};v.prototype._adjustPosition=function(i,j){var x=this._getDataShape(j)===t;if(!x){v.superclass._adjustPosition.apply(this,arguments);}};v.prototype._getYPosition=function(i,j,x){var y=this._getDataShape(i)===t;if(!this.isHorizontal()){if(y){this._dataHandler={"valueAxis":this._lineDataHandler};}else{this._dataHandler=this._stackDataHandler;}var z=v.superclass._getYPosition.apply(this,arguments);return z;}else{if(y){return v.superclass._getYPosition.apply(this,arguments);}else{return this._getAxisPosition([this._barCategoryAxis],i,j,x);}}};v.prototype.getLineRenderer=function(){if(!this._lineRenderer){var i=this._properties;this._lineRenderer=n.getRenderer(i.get('line.lineRenderer'),i.get("line.isSmoothed"));}return this._lineRenderer;};v.prototype._isLineVisible=function(){return this._properties.get('line.visible');};v.prototype._drawLine=function(i,j,x,y){if(this._getDataShape(x)!==t){return 0;}var z=this._data.series.length-1-x;f.prototype._drawLine.apply(this,[i,j,z,y]);return 1;};v.prototype._updateLine=function(i,j,x){this._drawLine(i,j,x,true);};v.prototype._updateDatapoint=function(i,j,x,y){v.superclass._updateDatapoint.apply(this,arguments);if(y.hasOwnProperty("x")&&y.hasOwnProperty("y")){var z=D.getData(i).translate;if(z){z[0]=y.x;z[1]=y.y;}}};v.prototype._buildConfig=function(i,j,x){var y=v.superclass._buildConfig.apply(this,arguments);y.graphic.d=this._markerD;if(!this._properties.get("line.marker.visible")){y.graphic.opacity=0;}return y;};v.prototype._getDataPointRenderer=function(i){if(i==null||this._getDataShape(i)!==t){this._isLineMarker=false;return v.superclass._getDataPointRenderer.apply(this,arguments);}else{this._isLineMarker=true;return this._customMarkerRenderer||P;}};v.prototype._getDataLabels=function(i,j){var x=O.extend({},this._options);x.name=i;return new p(j,x);};v.prototype._getPatternConfig=f.prototype._getPatternConfig;v.prototype._updateDatapoints=function(j){var x=this._reversedSeries=this._getSeries();var y=x.length;var z;z=j.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();var A;for(var E in this._stackDataHandler){if(this._stackDataHandler[E].reset){this._stackDataHandler[E].reset();}}this._lineDataHandler.reset();if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}var F;var G=0;var H=[],J;for(var K=0;K<y;K++){var M=x[K];if(!M){continue;}A=this._getDataPointRenderer(K);if(!A){continue;}var N=this._getDataShape(K)===t;var Q=this.getSeriesDPStyle(this._reversedSeries?y-K-1:K,null,N);for(var R=0;R<M.length;R++){var T=M[R];if(!T){continue;}var U=this._getPosition(K,R,T);if(!U){continue;}F=G++;var V=this._getDPOptions(Q,N,T);var W=this._buildWrapperConfig(T,U,T.dp.context(),V);W.seqId=F;var Y=this._buildData(W);if(N){W.isLineMarker=true;var Z=this._createDataPoint(K,R,W,Y,U,F,T);var $;if(!this._isBigData){$=this._drawDataPoint(A,Z,true);var _=D.getData($);if(!_){_={};}_.seriesIndex=T.dp._addr[1];_.itemIndex=T.dp._addr[0];D.setData($,_);}var a1=m.find(z,F);if(a1){this._updateDatapoint(a1,A,W,U);Z.setNode(a1);}else if($){z.appendChild($);Z.setNode($);}if(this._seriesRenderer){this._seriesRenderer.updateDataPoint(K,R,W,U,$);}}else{W.isLineMarker=false;J=H[R]=H[R]||{configs:[],positions:[],currentIds:[],dataPoints:[],addrs:[],};if(!J.node){var b1=m.find(z,F);var c1=b1;while((c1=c1.parentNode)&&!a.hasClass(c1,C.CSS.CLASS.STACK)){}J.node=c1;}J.configs.push(W);J.dataPoints.push(T.dp);J.addrs.push([K,R]);J.positions.push(U);J.currentIds.push(F);}this._pushDataPointContext(W);}}this._dataPointRenderer=h;A=this._getDataPointRenderer();for(var i=0;i<H.length;i++){if(H[i]){J=H[i];var cp=this._drawCategory(J,A,[]);}}this._dataPointRenderer=P;if(this._seriesRenderer){this._seriesRenderer.update(z);}var e1=j.selectAll('.'+C.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(j,e1);};v.prototype._drawDataPoint=function(i,j,x){if(x){var y=B.prototype._drawDataPoint.apply(this,arguments);var z=j.getData();z.shape=this._getMarkerShape();D.setData(y,z);y.setAttribute("combination-marker","true");return y;}else{return v.superclass._drawDataPoint.apply(this,arguments);}};v.prototype._getDPOptions=function(i,j,x){return{seriesStyle:i,seriesType:(j?"line":"bar")};};v.prototype._drawDatapoints=function(x){var y=this._reversedSeries=this._getSeries();var z=y.length;var A=x.node().querySelector("."+C.CSS.CLASS.DATAPOINT_GROUP);if(!A){A=S.create("g");A.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);x.node().appendChild(A);}var E;if(this._seriesRenderer){this._seriesRenderer.init(z);}for(var F in this._stackDataHandler){if(this._stackDataHandler[F].reset){this._stackDataHandler[F].reset();}}this._lineDataHandler.reset();var G;var H=0;var J=[],K;for(var M=0;M<z;M++){var N=y[M];if(!N){continue;}var Q=this._getDataShape(M)===t;var R=this.getSeriesDPStyle(this._reversedSeries?z-M-1:M,null,Q);E=this._getDataPointRenderer(M);if(!E){continue;}for(var T=0;T<N.length;T++){var U=N[T];if(!U){continue;}var V=this._getPosition(M,T,U);if(!V){continue;}G=H++;var W=this._getDPOptions(R,Q,U);var Y=this._buildWrapperConfig(U,V,U.dp.context(),W);Y.seqId=G;var Z=this._buildData(Y);if(Q){Y.isLineMarker=true;if(this.allowBreakLine(Y.rawData.dp)){V=null;continue;}var $=this._createDataPoint(M,T,Y,Z,V,G,U);this._dataPointRenderer=P;var _;if(!this._isBigData){_=this._drawDataPoint(E,$,true);var a1=D.getData(_);a1=a1||{};a1.seriesIndex=U.dp._addr[1];a1.itemIndex=U.dp._addr[0];D.setData(_,a1);$.setNode(_);}if(_||this._isBigData){if(this._seriesRenderer){this._seriesRenderer.addDataPoint(M,T,Y,V,_);}else if(_){A.appendChild(_);}}}else{K=J[T]=J[T]||{configs:[],positions:[],currentIds:[],dataPoints:[],addrs:[],};K.data=K.data||[];K.data.push(Z);Y.isLineMarker=false;Y.isStacked=true;K.configs.push(Y);K.dataPoints.push(U.dp);K.addrs.push([M,T]);K.positions.push(V);K.currentIds.push(G);}this._pushDataPointContext(Y);}}this._dataPointRenderer=h;E=this._getDataPointRenderer();for(var i=0;i<J.length;i++){K=J[i];if(!K){continue;}var cp=this._drawCategory(K,E,[]);if(cp.children){for(var j=0;j<cp.children.length;j++){cp.children[j].setAttribute("combination-column","true");}}if(cp){A.appendChild(cp);}}this._dataPointRenderer=P;if(this._seriesRenderer){this._seriesRenderer.render(A);}this._postRender(A);this._dataLabels._gridlineScale=this._gridlineScale;this._drawDataLabels(x,A);};v.prototype._renderNode=f.prototype._renderNode;v.prototype._buildWrapperConfig=function(i,j,x,y){var z=v.superclass._buildWrapperConfig.apply(this,arguments);z.graphic.shape=this._getMarkerShape();return z;};v.prototype.update=function(){v.superclass.update.apply(this,arguments);f.prototype._updateLightLine.apply(this,arguments);};v.prototype.getSeriesStyle=function(){var i=f.prototype.getSeriesStyle.apply(this,arguments);i.isCombination=true;return i;};v.prototype._buildSeriesContext=function(i){return b.buildSeriesContext(this._data,i,["color","color2","trellisColumn","trellisRow"]);};v.prototype._pushDataPointContext=function(){};v.prototype.allowBreakLine=function(i){return false;};X.registerClazz("stacked_combination",v);X.registerClazz("horizontal_stacked_combination",v);q.register(s.DATAPOINT_NAVIGATOR,s.STACKED_COMBINATION,r);return v;});define('sap/viz/chart/metadata/bindings/XYYCombinationBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.secondValue"}];return f;});define('sap/viz/chart/components/trendline/mixin/timeLinePlot',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo','sap/viz/chart/components/trendline/mixin/scatterPlot',"sap/viz/chart/components/trendline/Trendline"],function(C,o,S,T){function a(){}o.extend(a,S);a.prototype._getTrendLineContainer=function(t,c){var d=c.querySelector("."+C.CSS.CLASS.DATAPOINT_GROUP);if(d){c.insertBefore(t,d);}else{c.appendChild(t);}};return a;});define('sap/viz/chart/components/plots/TimePlotHelper',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/TimeUtil',],function(T,a){var h={};h.getVisibleRange=function(i){var r;if(i._needLazyRender()){var s=i.getData().timeAxis.scale;var d=s.getDomain();var b=(-i._offset.x)/i._realSize.width*(d[1]-d[0])+d[0];var e=d[0]+i._visibleBound.x/i._realSize.width*(d[1]-d[0]);r={min:b,max:e};}return r;};h.getDataPointRange=function(d,r){var l=0,b=d.length-1;var c={min:l,max:b};if(r){var I=[];var e=0;for(var i=l;i<=b;++i){if(d[i]){I[e++]=i;}}b=e-1;var m,f;var g=l;while(l<b){m=Math.floor((l+b)/2);f=d[I[m]].getRawData();if(f.timeAxis[0].parsedValue<r.min){l=m+1;g=m;}else{b=m-1;}}c.min=l=I[g];g=b=e-1;while(l<b){m=Math.floor((l+b)/2);f=d[I[m]].getRawData();if(f.timeAxis[0].parsedValue>r.max){b=m-1;g=m;}else{l=m+1;}}c.max=I[g];}return c;};return h;});define('sap/viz/chart/components/plots/TimeLinePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DOM",'sap/viz/chart/components/plots/LinePlot','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/util/SeriesUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/renderers/TimeReferenceLineRenderer','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/decorator/HitTestDecorator','sap/viz/chart/components/trendline/mixin/timeLinePlot','sap/viz/chart/components/plots/TimePlotHelper'],function(o,S,D,L,a,b,C,d,f,g,O,T,N,j,H,k,l){var m=function(r,c){m.superclass.constructor.apply(this,arguments);this._dataPointContext=[];this._calloutInfo=[];};o.extend(m,L);m.prototype._buildData=function(c){var r=m.superclass._buildData.apply(this,arguments);r.timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});c.timeField=r.timeField;return r;};m.prototype.getReferenceLineRenderer=function(){return T;};m.prototype._getCategoryScaleHandlers=function(){return[d.getTimeScaleHandler("timeAxis",{isHorizontal:true})];};m.prototype._getCategoryCount=function(){var c=this._data.timeAxis;return(c&&c.rowArray)?c.rowArray.length:1;};m.prototype._buildWrapperConfig=function(e,p,i,n){n=n?n:{};var q;var s=n.markerSize||this._properties.get("marker.size")||this._properties.get("line.marker.size");var r=n.markerShape||this._properties.get("marker.shape")||this._properties.get("line.marker.shape");var t;if(this._isBigData){var u=e.transparent||0;var w=p.width;var h=p.height;var c=N.convertColor(n.color);q={graphic:{width:w,height:h,drawingEffect:this._drawingEffect||n.drawingEffect||this._properties.get('drawingEffect'),fill:(n&&n.seriesStyle&&n.seriesStyle.color)?N.convertColor(n.seriesStyle.color):c,opacity:1-u,shape:r,size:s},data:{color:c,width:w,height:h,translate:[p.x,p.y]},effectManager:this._effectManager,rawData:e,horizontal:this.isHorizontal(),dataId:e.dp.id};if(this._isCombination){t=e.dp&&e.dp.context()?e.dp.context():g.NULL_VALUE;q.ctx=t;}if(this._calloutInfo&&this._calloutInfo.length){q.graphic.d=this._markerD;}}else{t=e.dp&&e.dp.context()?e.dp.context():g.NULL_VALUE;q=m.superclass._buildWrapperConfig.call(this,e,p,t,n);q.graphic.size=s;}return q;};m.prototype._preRender=function(){var p=this._series;m.superclass._preRender.apply(this,arguments);this._series=p||this._series||[];this._resetDataPoints();};m.prototype._postRender=function(){m.superclass._postRender.apply(this,arguments);this._repositionReferenceLine();};m.prototype.setCalloutInfo=function(_){this._calloutInfo=_;};m.prototype._getVisibleRange=function(){return l.getVisibleRange(this);};m.prototype._hideDataPoints=function(c,r){if(!this._isBigData){return m.superclass._hideDataPoints.apply(this,arguments);}else{c.forEach(function(e){if(e){var n=e.getNode();D.remove(n);e.setNode(null);}});}};m.prototype.isDrawDataPointForCallout=function(c){var e=false;var i;for(i=0;i<this._calloutInfo.length;i++){if(this._calloutInfo[i].dpId===c){e=true;break;}}return e;};m.prototype._getDataPointRange=function(c,r){return l.getDataPointRange(c,r);};m.prototype._showDataPoints=function(){this._preShowDataPoints();var n=[];var t=this._data.timeAxis.metaData.map(function(e){return e.id;});this._dataPointContext=[];this._seriesRenderer.resetDataPoints();var s=this._getMarkerShape();var c={color:null,markerShape:s,markerSize:this._properties.get('marker.size'),drawingEffect:this._properties.get('drawingEffect')};var r=this._getVisibleRange();var h=g.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get('dataPoint.invalidity'))<=0;for(var i=0;i<this._series.length;i++){var p=this.getSeriesDPStyle(i,null,true);var q=this._series[i];if(!q){continue;}var u=this._getDataPointRenderer(i);if(!u){continue;}var v=null;var w=q.getDataPoints();var x=this._getDataPointRange(w,r);this._hideDataPoints(w,x);x=x||{min:0,max:w.length-1};for(var y=x.min;y<=x.max;y++){var z=w[y];if(!z){continue;}var A=this._getDataPointPosition(z);if(!A||isNaN(A.x)){continue;}var B=z.getId();var E=null;var F=z.getConfig();var G=z.getRawData();if(!v){v=this._getColor(G);}if(h&&G.dp.ignore){A=null;if(!F){F={graphic:{fill:v,}};}}else{if(!F){c.color=v;c.seriesStyle=p;F=this._buildWrapperConfig(G,A,null,c);F.timeField=t;F.seriesIndex=i;F.itemIndex=y;F.seqId=B;}this._dataPointContext[G.dp.id]=F;if(!this._isBigData||this.isDrawDataPointForCallout(G.dp.id)){var I=z.getData();if(!I){I=this._buildData(F);z.init(F,B,I,G.dp.id);}E=z.getNode();if(E){this._updateDatapoint(E,u,F,A);}else{E=this._drawDataPoint(u,z);z.setNode(E);}if(E){n.push(E);}}}this._seriesRenderer.addDataPoint(i,y,F,A,E);}}return n;};m.prototype.destroy=function(){m.superclass.destroy.call(this);this._dataPointContext=null;this._calloutInfo=null;};m.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color");};m.prototype._calMarkProps=function(){var s=this._getSeries();var c=f.getMaxSeriesLength(s);var i=f.isBigDensityMode(this._realSize.width,c);this._isBigData=i;var _=this._properties.get('marker.hoverOnlyMode');this._isMarkerVisible=this._properties.get('marker.visible');if(!_){this._isBigData=false;if(i){this._isMarkerVisible=false;}}};m.prototype.isBigDataMode=function(){this._calMarkProps();return this._isBigData;};m.prototype.getDataPointGraphicFromLineRenderer=function(c){if(this._lineRenderer.getGraphic){var r=this._lineRenderer.getGraphic(c);return r;}};m.prototype.getDataPointsRenderInfo=function(){var c=this._lineRenderer;var h=this._lineRenderer.getGraphic?function(e){var i=e.rawData.dp.context();var n=e.data;var r=c.getGraphic(i);if(r&&r.color){n=O.extend({},n,{color:r.color});}return n;}:function(e){return e.data;};return this._dataPointContext&&this._dataPointContext.filter(function(e){return!!e;}).map(function(e){var i=h(e);return{dataId:e.dataId,seriesIndex:e.seriesIndex,itemIndex:e.itemIndex,graphic:e.graphic,data:i,context:e.rawData.dp.context(),width:e.graphic.size,height:e.graphic.size};});};m.prototype._shiftOffsetForIncompleteRange=function(){};m.prototype.mappingDataPointInfo=function(i){var c=this._dataPointContext[i];if(c==null){return null;}return c;};(new H()).decorate(m);(new k()).inject(m.prototype);return m;});define('sap/viz/chart/components/trendline/mixin/timeColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/trendline/mixin/scatterPlot',"sap/viz/chart/components/trendline/Trendline"],function(o,S,T){function a(){}o.extend(a,S);return a;});define('sap/viz/chart/components/plots/TimeColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DOM",'sap/viz/chart/components/plots/ColumnPlot','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/util/SeriesUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/renderers/TimeReferenceLineRenderer','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TimeUtil','sap/viz/chart/components/plots/BarWidthUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/trendline/mixin/timeColumnPlot','sap/viz/chart/components/plots/TimePlotHelper'],function(o,S,D,C,a,b,c,d,f,g,O,T,N,h,i,B,j,k,l){var m=function(r,e){m.superclass.constructor.apply(this,arguments);this._dataPointContext=[];};o.extend(m,C);m.prototype._buildData=function(n){var r=m.superclass._buildData.apply(this,arguments);r.timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});n.timeField=r.timeField;return r;};m.prototype.getReferenceLineRenderer=function(){return T;};m.prototype._getBarProperties=function(){if(!this._barInfoProperties){var e=this._barInfoProperties=B.getBarProperties(this._properties.origin);var p=this._properties.origin;var t=this.runtime().statusManager().get('timeLevels');e.isHorizontal=true;e.minTimeLevel=t.length?t[0]:["day"];e.showAsUTC=p.get('general.showAsUTC');}return this._barInfoProperties;};m.prototype._getCategoryScaleHandlers=function(){var e=this._getBarProperties();this._categoryScaleHandler=d.getTimeScaleHandler("timeAxis",e);return[this._categoryScaleHandler];};m.prototype._getCategoryCount=function(){return this._calcCount?(this._calcCount-1):1;};m.prototype._preRender=function(){var p=this._series;m.superclass._preRender.apply(this,arguments);this._series=p||this._series||[];this._resetDataPoints();};m.prototype._postRender=function(){m.superclass._postRender.apply(this,arguments);this._repositionReferenceLine();};m.prototype.destroy=function(){m.superclass.destroy.call(this);this._dataPointContext=null;};m.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color");};m.prototype.getRealSizeByFixedDPSize=function(e){var p=m.superclass.getRealSizeByFixedDPSize.call(this,e,this._getColumnCount(),this._getCategoryCount());return p/this._calcRange;};m.prototype._getRangeTick=function(){var s=this.getData().timeAxis.scale;var e=s.getDomain();if(e[0]===Infinity&&e[1]===-Infinity){return 0;}var n=this._getBarProperties();var p=n.minTimeLevel;p=j.isArray(p)?p[0]:p;var u=n.showAsUTC;var q=i.truncate(e[0],p,u,this._properties.origin);var r=i.truncate(e[1],p,u,this._properties.origin);if(q===r){r=i.nextDateByLevel(r,p,u,this._properties.origin);}this._calcRange=s.scale(r)-s.scale(q);this._calcCount=i.getTickNumberByLevel(p,q,r,u,this._properties.origin);};m.prototype._getVisibleRange=function(){return l.getVisibleRange(this);};m.prototype._getDataPointRange=function(e,r){return l.getDataPointRange(e,r);};m.prototype._getColumnWidthRatio=function(){this._getRangeTick();var e=this._calcRange/(this._calcCount-1)*B.getBarInfo(this._getColumnCount(),this._getBarProperties()).barWidth;return e;};m.prototype._getColumnWidth=function(){return this._getColumnWidthRatio()*this._size.width;};m.prototype.getPreferredSize=function(){var e=this._getColumnWidthRatio();this._categoryScaleHandler.updateBarWidth(this._getColumnWidthRatio(),this._getBarProperties().innerGroupSpacing*e,this._getColumnCount());return m.superclass.getPreferredSize.call(this);};m.prototype._updateBarWidth=function(e){var n=e/this._size.width;this._categoryScaleHandler.updateBarWidth(n,this._getBarProperties().innerGroupSpacing*n,this._getColumnCount());};m.prototype._shiftOffsetForIncompleteRange=function(){};m.prototype._adjustPosition=function(p,s){m.superclass._adjustPosition.apply(this,arguments);var e=this._properties.get("dataPointSize.max");if(j.isNumber(e)&&p.width>e){p.x=p.x+p.width/2-e/2;p.width=e;}};(new k()).inject(m.prototype);return m;});define('sap/viz/chart/components/decorator/HitTestCombDecorator',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ArrayUtils',"sap/viz/chart/components/util/BoundingBoxUtils",'sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,A,B,c,H){var i=H.isInCircle;var d=H.isInRect;var f=H.isInRectWithRatio;var g=function(){g.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(h,s){var j=this._dataPointContext,x=h.left,y=h.top;var r;var t=this;var k=this._selection.select(".v-plot-bound").node();var l=k.getBoundingClientRect().width/k.getBBox().width;if(h.hasOwnProperty("width")&&h.hasOwnProperty("height")){var w=h.width;var m=h.height;var n=this.getSize();var q=this._offset;var u=-q.x;var v=-q.y;h.left=h.left+u;h.top=h.top+v;var z=n.width;var C=n.height;if(l!=1){z*=l;C*=l;}var D={left:u,top:v,width:z,height:C};if(!B.intersects(D,h)){return[];}h=B.intersection(D,h);r=j.filter(function(e){var a=e.seriesIndex;var b=t.getDataPointShape(a);if(b==="bar"){var E=e.position;var p={left:E.x,top:E.y,width:E.width,height:E.height};if(l!=1){p.left*=l;p.top*=l;p.width*=l;p.height*=l;}return B.intersects(p,D)&&B.intersects(p,h);}else{var F=e.data.translate.slice();if(l!=1){F[0]*=l;F[1]*=l;}return F[0]>=u&&F[0]<=z+u&&d(F,[x+u,y+v],w,m);}});}else{r=j.filter(function(e){var a=e.seriesIndex;var b=t.getDataPointShape(a);if(b==="bar"){return f(h,e.position,l);}else{return i(e.data.translate,[x,y],4);}});}if(s){A.stableSort(r,function(a,b){var e=t.getDataPointShape(a.seriesIndex)==="bar"?1:0;var p=t.getDataPointShape(b.seriesIndex)==="bar"?1:0;return e-p;});}return r;};};o.extend(g,c);return g;});define('sap/viz/chart/components/plots/TimeStackedColumnPlot',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/ColumnPlot","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/plots/ScaleHandler",'sap/viz/chart/components/plots/StackedPlotHelper'],function(o,C,T,S,a,b){var c=function(r,d){c.superclass.constructor.apply(this,arguments);};o.extend(c,T);c.prototype._getColor=C.prototype._getColor;c.prototype._adjustPosition=S.prototype._adjustPosition;c.prototype._drawDatapoints=S.prototype._drawDatapoints;c.prototype._updateDatapoints=S.prototype._updateDatapoints;c.prototype._needValidEmptyAxisData=S.prototype._needValidEmptyAxisData;c.prototype._showDataPoints=S.prototype._showDataPoints;c.prototype._drawCategory=S.prototype._drawCategory;c.prototype._getDataHandler=S.prototype._getDataHandler;c.prototype._getSeries=S.prototype._getSeries;c.prototype._generatePath=S.prototype._generatePath;c.prototype._getDataLabels=S.prototype._getDataLabels;c.prototype._removeEmptyStacks=S.prototype._removeEmptyStacks;c.prototype._getVisibleRange=function(){return b.getVisibleRange(this,T);};c.prototype._pushDataPointContext=function(d){if(d){this._dataPointContext[d.dataId]=d;}};c.prototype._getCategoryScaleHandlers=function(){var d=this._getBarProperties();d.forSingleBar=true;this._categoryScaleHandler=a.getTimeScaleHandler("timeAxis",d);return[this._categoryScaleHandler];};c.prototype._getColumnWidthRatio=function(){var d=this._getBarProperties();var e=d.barSpacing;this._getRangeTick();var f=this._calcRange/(this._calcCount-1)/(1+e);return f;};c.prototype._getColumnCount=function(){return 1;};return c;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForComb',["sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/chart/components/util/DataPointUtils',"sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/BehaviorManager",'sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler'],function(H,C,D,S,T,O,a,B,b){var t=["info/timeseries_combination","info/dual_timeseries_combination"];var c=["info/timeseries_stacked_combination"];var d=c.concat(t);var s=b.setMakerOpacity;function f(e,k){var l=k.getDataModel();var p=k.getModule("main.plot");var m=[],n=[];for(var i=0;i<e.length;i++){var o=e[i];var q=l.getDataPoint(o);if(q){var r=p.getDataPointShape(q);if(r==="line"){n.push(o);}else if(r==="bar"){m.push(o);}}}return{bar:m,line:n};}function g(i,k){var p=k.getModule("main.plot");var l=k.getDataModel();var m=H.turnToArray(i);var n=[],o=[];m.forEach(function(e){var q=D.getDataPointId(e);var r=l.getDataPoint(q);var u=p.getDataPointShape(r);if(u==="line"){o.push(e);}else{n.push(e);}});return{bar:n,line:o};}function h(e,i){var o=e.data.targets;var k=g(e.data.targets,i);e.data.targets=k.bar;b.selectOnBarOnNormalMode(e,i);e.data.targets=k.line;b.selectOnLineOnNormalMode(e,i);e.data.targets=o;}var j=[{"id":"selectDataPoint_comb","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":t},"handler":function(e,i){if(i.isBigDataMode()){b.selectOnCombinationDuringBigData(e,i);}else{h(e,i);}}},{"id":"selectDataPoint_stacked_comb","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":c},"handler":function(e,i){if(i.isBigDataMode()){var o=e.data.targets;var k=f(e.data.targets,i);e.data.targets=D.getNodeDom(k.bar,i);b.selectOnBarOnNormalMode(e,i);e.data.targets=k.line;b.selectOnLineDuringBigData(e,i);e.data.targets=o;}else{h(e,i);}}},{"id":"hoverOnDataPoint_comb","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":t},"handler":function(e,i){if(i.isBigDataMode()&&!i.isTrellis()){b.highlightOnCombDuringBigData(e,i);}else{b.hoverEffectDuringNormalMode(e,i);}}},{"id":"hoverOnDataPoint_stack_comb","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":c},"handler":function(e,i){if(i.isBigDataMode()&&!i.isTrellis()){var o=e.data.targets;var k=i.getStatus('selectedDataPoints');var l=k.concat(e.data.targets);var m=f(e.data.targets,i);e.data.targets=D.getNodeDom(m.bar,i);b.hoverEffectDuringNormalMode(e,i);m=f(l,i);e.data.targets=m.line;b.selectOnLineDuringBigData(e,i);e.data.targets=o;}else{b.hoverEffectDuringNormalMode(e,i);}}},{"id":"unhoverOnDataPoint_comb_big_data","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":t},"handler":function(e,i){if(i.isBigDataMode()&&!i.isTrellis()){b.unhighlightOnCombDuringBigData(e,i);}else{b.unhoverEffectDuringNormalMode(e,i);}}},{"id":"unhoverOnDataPoint_stk_comb_big_data","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":c},"handler":function(e,i){if(i.isBigDataMode()&&!i.isTrellis()){var o=e.data.targets;var k=f(e.data.targets,i);e.data.targets=D.getNodeDom(k.bar,i);b.unhoverEffectDuringNormalMode(e,i);var l=i.getStatus('selectedDataPoints');var p=f(l,i);e.data.targets=p.line;b.selectOnLineDuringBigData(e,i);e.data.targets=o;}else{b.unhoverEffectDuringNormalMode(e,i);}}},{"id":"deselectDataPoint_comb","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":d},"handler":function(i,k){if(k.isBigDataMode()){return;}k.fireEvent(i,true);var l=H.turnToArray(i.data.targets);var p;var m=k.getProperties();var n;var o=T.isExist(m.get('plotArea.markerRenderer'));var q=k.getModule("main.plot");var r=k.getDataModel();l.forEach(function(e){var u=D.getDataPointId(e);var v=r.getDataPoint(u);var w=q.getDataPointShape(v);var x=1;if(i.data.isAnyOtherSelected){p=m.get('interaction.deselected');}else{p=m.get('plotArea.dataPoint');var y=a.getData(e);if(y){x=y.strokeWidth;}}if(w==="line"){D.unhighlight(e);n=b.getLineRenderer(k,e);b.renderLightLine(k,e,false,n);H.drawStroke(k,e,'path, rect',p.stroke,x);H.drawFill(k,e,'path, rect',p,o,true);s(k,e);}else{H.drawStroke(k,e,'rect',p.stroke,x);H.drawFill(k,e,'rect, path',p,o);}});}},{"id":"clearPlot_comb","triggerEvent":{"name":"clearPlot","supportedChartTypes":d},"handler":function(i,k){k.fireEvent(i,true);k._getDecorationLayer().clear();var l=i.data.isGray;var r=i.data.rangeSelection;var u=r&&r!=="clear";var p=k.getProperties();var m=p.get('interaction.deselected');b.cleanLine(i,k);var n=k.getNodes(k.NodeType.DATA_POINT,false);if(!n||!n.length){b.cleanBar(i,k);return;}var o=k.getModule("main.plot");var q=k.getDataModel();var v=T.isExist(p.get('plotArea.markerRenderer'));n.forEach(function(e){var w=1;if(l||u){if(u){m=O.extend(true,{},m);m.opacity=1;}}else{m=p.get('plotArea.dataPoint');var x=a.getData(e);if(x){w=x.strokeWidth;w=T.isExist(w)?w:1;}}var y=D.getDataPointId(e);var z=q.getDataPoint(y);var A=o.getDataPointShape(z);if(A==="line"){H.drawStroke(k,e,'path, rect',m.stroke,w);H.drawFill(k,e,'path, rect',m,v,true);s(k,e);}else{H.drawStroke(k,e,'rect',m.stroke,w);H.drawFill(k,e,'rect, path',m,v);}});}}];B.registerAll(j);return j;});define('sap/viz/chart/components/plots/TimeCombinationPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/chart/components/plots/TimeColumnPlot','sap/viz/chart/components/plots/TimeLinePlot','sap/viz/chart/components/plots/CombinationPlot','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/plots/LinePlot','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/util/BarSeriesUtil',"sap/viz/framework/common/util/TypeUtils",'sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/decorator/HitTestCombDecorator','sap/viz/framework/common/util/DataGraphics',"sap/viz/framework/common/util/Constants",'sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/util/DrawUtil','sap/viz/chart/components/plots/TimeStackedColumnPlot','sap/viz/chart/behavior/config/DataPointBehaviorConfigForComb'],function(o,S,D,T,a,C,B,L,b,c,d,e,H,f,g,h,j,k){var l="line";var m="bar";var n=function(r,i){n.superclass.constructor.apply(this,arguments);this._isCombination=true;this._isBigData=false;var s=this.runtime().semanticManager();s.setUseSemanticPattern(true);s.setUseSemanticDPLineStyle(true);this._attachMarkManager();this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._isInTrellis=false;this._markerPropName="line.marker";this._defaultLineRenderer=h.getDefaultRenderer(this._properties.get("line.isSmoothed"));this._isFlexibleStack=false;};o.extend(n,T);n.prototype._isSupportBarPathGenerator=function(){return true;};n.prototype._applyScroll=function(){return a.prototype._applyScroll.apply(this,arguments);};n.prototype._getPatternConfig=B.prototype._getPatternConfig;n.prototype._isLineVisible=function(){return this._properties.get('line.visible');};n.prototype.getLineRenderer=function(){if(!this._lineRenderer){var p=this._properties;this._lineRenderer=h.getRenderer(p.get('line.lineRenderer'),p.get("line.isSmoothed"));}return this._lineRenderer;};n.prototype._renderNode=a.prototype._renderNode;n.prototype._preShowDataPoints=function(){var p=this._offset;var q=p.hasOwnProperty("x")?p.x:0;var r=p.hasOwnProperty("y")?p.y:0;if(this._positionInWindow){q+=this._positionInWindow.hasOwnProperty("x")?this._positionInWindow.x:0;r+=this._positionInWindow.hasOwnProperty("y")?this._positionInWindow.y:0;}var s=this._getMaxVisibleSize();this._visibleBound={x:s.width-q,y:s.height-r};var t=this._isBigData;T.prototype._preShowDataPoints.apply(this,arguments);if(t!==this._isBigData){for(var u=0;u<this._series.length;u++){var v=this._getDataShape(u);if(v===m){var w=this._series[u];var x=w.getDataPoints();for(var i=0;i<x.length;i++){this._hideNode(x,i);}}}}this._isMarkerVisible=this._isBigData?false:this._properties.get('line.marker.visible');};n.prototype._preRender=function(){L.prototype._preRender.apply(this,arguments);return T.prototype._preRender.apply(this,arguments);};n.prototype._buildData=function(i){var s=this._getDataShape(i.seriesIndex);var r;if(s===m){r=T.prototype._buildData.apply(this,arguments);r.type=m;}else{r=a.prototype._buildData.apply(this,arguments);r.type=l;}return r;};n.prototype._buildConfig=function(i,p,q){var s=this.getDataPointShape(i.dp);if(s===m){return T.prototype._buildConfig.apply(this,arguments);}else{return a.prototype._buildConfig.apply(this,arguments);}};n.prototype._buildWrapperConfig=function(i,p,q,r){var s=this.getSeriesIndex(i.dp);var t=this._getDataShape(s);var u;if(t===m){r.seriesType="bar";u=T.prototype._buildWrapperConfig.apply(this,arguments);u["isLineMarker"]=false;}else if(t===l){if(!i.hasOwnProperty('transparent')){i.transparent=this._isMarkerVisible?0:1;}r.seriesType="line";u=a.prototype._buildWrapperConfig.apply(this,arguments);u.graphic.opacity=this._properties.get("line.marker.visible")?1:0;u.graphic.d=u.graphic.d||this._markerD;u["isLineMarker"]=true;u.data.width=0;}var v=i.dp&&i.dp.context()?i.dp.context():g.NULL_VALUE;u.ctx=v;return u;};n.prototype.getDataPointShape=function(i){if(d.isNumber(arguments[0])){return this._getDataShape(arguments[0]);}else{return this._getDataShape(i._addr[1]);}};n.prototype._createMainNode=B.prototype._createMainNode;n.prototype._getClipPathAttribute=B.prototype._getClipPathAttribute;n.prototype.zoom=B.prototype.zoom;n.prototype.scroll=B.prototype.scroll;n.prototype._isNeedSimplifyLine=function(){return false;};n.prototype._getDataShape=function(s){return(this._data.series[s].rIndex||s)===0?m:l;};n.prototype.getSeriesStyle=function(){return a.prototype.getSeriesStyle.apply(this,arguments);};n.prototype._getColor=function(i){return C.prototype._getColor.apply(this,arguments);};n.prototype._attachMarkManager=function(){var i=this.runtime().markManager();var p=["bar","line","line"];var q=this._getMarkerShape();var r=this._properties.parentLevel;var s=[];i.lock();i.setMode("combination");var t=[];t.push(p);s.push(C.processMark.call(this,p,q,r));if(this._options&&this._options.isDualValueAxis){var u=["line","line","line"];s.push(C.processMark.call(this,u,q,r));t.push(u);}i.setShape(s,q);i.setSeriesShape(t);};n.prototype._onDataShapeChange=function(){this._attachMarkManager();};n.prototype._getSeriesRenderer=function(){return new e(this._drawLine.bind(this),this._updateLine.bind(this));};n.prototype._adjustPosition=function(p,s){var i=this._getDataShape(s);if(i===m){T.prototype._adjustPosition.apply(this,arguments);}else{}};n.prototype._getXPosition=function(s,i,p){var q=this._getDataShape(s)===l;if(q){return a.superclass._getXPosition.apply(this,arguments);}else{return T.prototype._getXPosition.apply(this,arguments);}};n.prototype._getYPosition=function(s,i,p){return C.prototype._getYPosition.apply(this,arguments);};n.prototype._drawLine=function(s,i,p,q){if(this._getDataShape(p)!==l){c.drawBarSeries(s,i,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);return 0;}B.prototype._drawLine.apply(this,[s,i,p,q]);return 1;};n.prototype._updateLine=function(s,i,p){var q=this._getDataShape(p);if(q===m){c.updateBarSeries(s,i,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);}else{this._drawLine(s,i,p,true);}};n.prototype._buildSeriesContext=function(s){return B.prototype._buildSeriesContext.apply(this,arguments);};n.prototype.isMarkerVisible=function(){return this._isMarkerVisible;};n.prototype._getDataLabels=function(){return C.prototype._getDataLabels.apply(this,arguments);};n.prototype._drawDataPoint=function(i,p){var s=p._seriesIndex;var q=this._getDataShape(s);if(q===m){return T.prototype._drawDataPoint.apply(this,arguments);}else{return a.prototype._drawDataPoint.apply(this,arguments);}};n.prototype._hideDataPoints=function(p,v){var i;if(!v){v=a.prototype._getVisibleRange.call(this,p);v=a.prototype._getDataPointRange.call(this,p,v);}if(p[0]&&this._getDataShape(p[0].getSeriesIndex())===l){for(i=0;i<p.length;i++){this._hideNode(p,i);}this._lightLineOutOfRange(p,v);}else{this._columnOutOfRange(p,v);}};n.prototype.update=function(){n.superclass.update.apply(this,arguments);this._updateLightLine();};n.prototype._updateLightLine=function(){B.prototype._updateLightLine.apply(this,arguments);};n.prototype._lightLineOutOfRange=function(i,v){C.prototype._lightLineOutOfRange.apply(this,arguments);};n.prototype._updateDatapoints=function(){return C.prototype._updateDatapoints.apply(this,arguments);};n.prototype._updateDatapoint=function(i,p,q,r){var s=q.seriesIndex;var t=this._getDataShape(s);if(t===m){return T.prototype._updateDatapoint.apply(this,arguments);}else{return a.prototype._updateDatapoint.apply(this,arguments);}};n.prototype._getDataPointRenderer=function(s){return C.prototype._getDataPointRenderer.apply(this,arguments);};n.prototype.destroy=function(){T.prototype.destroy.apply(this,arguments);C.prototype.destroy.apply(this,arguments);};n.prototype._getAxisPosition=function(i,s,p,q){return T.prototype._getAxisPosition.call(this,i,s,p,q,this._getDataShape(s));};n.prototype._getFillColorConfig=function(){return C.prototype._getFillColorConfig.apply(this,arguments);};n.prototype._useSemanticPattern=function(){return C.prototype._useSemanticPattern.apply(this,arguments);};n.prototype._getColumnWidthRatio=k.prototype._getColumnWidthRatio;n.prototype._getCategoryScaleHandlers=k.prototype._getCategoryScaleHandlers;n.prototype._getColumnCount=function(){return 1;};(new H()).decorate(n);return n;});define('sap/viz/chart/components/decorator/HitTestBulletDecorator',['sap/viz/framework/common/util/oo','sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,B,H){var i=H.inRange;var a=function(){a.superclass.constructor.apply(this,arguments);this._decos.hitTestForRangeSelection=function(c){if(!c.hasOwnProperty("start")&&!c.hasOwnProperty("end")){return null;}var r=[];var b=this._data.actualValues.scale._domain;this._data.series.forEach(function(d){var h=d.filter(function(e){var t=e.timeAxis[0].parsedValue||e.timeAxis[0].value;return i(t,c["start"],c["end"])&&i(e.actualValues,b[0],b[1]);});r=r.concat(h);});return r.map(function(e){return e.dp.id;});};};o.extend(a,B);return a;});define('sap/viz/chart/components/plots/TimeBulletPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/BulletPlot','sap/viz/chart/components/plots/TimeColumnPlot','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/decorator/HitTestBulletDecorator'],function(o,B,T,a,O,H){function b(){b.superclass.constructor.apply(this,arguments);}o.extend(b,B);b.prototype.update=function(s){if(!this._selection){return;}b.superclass.update.apply(this,arguments);};b.prototype.setData=function(){b.superclass.setData.apply(this,arguments);this._data.categoryAxis=this._data.timeAxis;};b.prototype._getCategoryWidth=function(){return this._getColumnWidthRatio()*this.getRealSize().width;};b.prototype._getCategoryCount=function(){var s=this.getData().timeAxis.scale,d=s.getDomain();if(d[0]===Infinity&&d[1]===-Infinity){return null;}var c=this._getBarProperties();var e=a.truncate(d[0],c.minTimeLevel,c.utc,this._properties.origin),f=a.truncate(d[1],c.minTimeLevel,c.utc,this._properties.origin);if(e===f){f=a.nextDateByLevel(f,c.minTimeLevel,c.utc,this._properties.origin);}return{range:s.scale(f)-s.scale(e),count:a.getTickNumberByLevel(c.minTimeLevel,e,f,c.utc,this._properties.origin)-1};};b.prototype._getColumnWidthRatio=function(){var c=this._getCategoryCount();return c?c.range/c.count:0;};b.prototype._getExtraData=function(){var r=b.superclass._getExtraData();r.timeField=[this._data.timeAxis.metaData[0].id];return r;};b.prototype._categoryPosFn=function(){var s=this._data.series,c=this._data.timeAxis.scale,d=this.isHorizontal()?this._realSize.height:this._realSize.width,e=this.__barSize()/2;return function(f,g){var i=s[f][g];if(i){if(s.length>1){return d*c.scale(i.timeAxis)+2*e*(f-s.length/2);}else{return d*c.scale(i.timeAxis)-e;}}else{return null;}};};b.prototype.sizeByFixedDPSize=function(c){var d=this._getCategoryCount();var p=b.superclass.sizeByFixedDPSize.apply(this,arguments);return p/d.range;};b.prototype._categoryCount=function(){var c=this._getCategoryCount();return c?c.count:0;};b.prototype._getBarProperties=function(){return{minTimeLevel:(this.runtime().statusManager().get("timeLevels")||[])[0]||["day"],utc:this._properties.origin.get("general.showAsUTC")};};b.prototype.scroll=function(c){b.superclass.scroll.apply(this,arguments);if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};b.prototype._getCategoryRange=function(){return null;};b.prototype._shiftOffsetForIncompleteRange=function(){return null;};b.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color");};(new H()).decorate(b);return b;});define('sap/viz/chart/components/plots/TimeStackedPercentagePlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/TimeStackedColumnPlot','sap/viz/chart/components/plots/PercentagePlot'],function Setup(o,T,P){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._isPercent=true;};o.extend(a,T);a.prototype._getDataHandler=P.prototype._getDataHandler;a.prototype._total=P.prototype._total;a.prototype._getPosition=function(s,i,d){var r=this._total(i,d);if(!r){return null;}return a.superclass._getPosition.apply(this,arguments);};a.prototype._buildWrapperContext=P.prototype._buildWrapperContext;a.prototype._buildWrapperConfig=function(d,p,c,b){c=this._buildWrapperContext(d,c);return a.superclass._buildWrapperConfig.apply(this,[d,p,c,b]);};a.prototype._buildData=function(d){var r=a.superclass._buildData.apply(this,arguments);r.percentageValue=d.ctx.percentage;return r;};a.prototype._drawGridlines=P.prototype._drawGridlines;a.prototype._getDataLabels=P.prototype._getDataLabels;return a;});define('sap/viz/chart/components/datalabels/WaterfallDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/datalabels/DataLabels','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/GeometryUtils'],function(o,C,D,c,d,e,S,G){var f=C.CSS.CLASS.DATALABEL+" "+C.CSS.CLASS.MORPHABLELABEL,g=C.CSS.CLASS.DATALABEL_GROUP_RECAP,h="g";var P=8;var H=2;var k="data-id";var w=[0,2,1];var W=function(a,b){W.superclass.constructor.apply(this,arguments);this._labelPosition="waterfall";this._recapLabelsGroupNode=null;};o.extend(W,e);W.prototype.verticalLabelOffset=C.DATALABEL.VERTICAL_LABEL_OFFSET;W.prototype.horizontalLabelOffset=C.DATALABEL.HORIZONTAL_LABEL_OFFSET;W.prototype._getStyle=function(a){var p=this._properties;var s=W.superclass._getStyle.apply(this,arguments);if(a){var b=d.getContext(a);if(b&&b.isCumulative){s["font-weight"]="bold";s["cssString"]="fill:"+s.fill+";font-family:"+p.get('style.fontFamily')+";font-size:"+p.get('style.fontSize')+";font-weight:"+"bold"+";font-style:"+p.get('style.fontStyle')+";";}}return s;};W.prototype.hideConditional=function(j,n){var i,p=new Array(n.length);for(i=0;i<n.length;i++){p[i]=n[i].getBoundingClientRect();}var r;if(this._recapLabelsGroupNode){r=[];var q=this._dataShapesGroupNode;var s=this._recapLabelsGroupNode.querySelectorAll('.'+C.CSS.CLASS.DATALABEL);var t=s.length;for(i=0;i<t;i++){var u=s[i];var v=c.getData(u).id;var x=d.find(q,v);if(x){var y=c.getData(x).recap;if(y){var z=c.getContext(u).val;var A=/translate\((.*)\)/g.exec(u.getAttribute("transform"))[1].replace(/\s+/g,',').split(',');A[0]=parseFloat(A[0]);A[1]=parseFloat(A[1]);var B=G.getBBox(u);r.push({info:{value:z},node:u,dataPoint:x,left:A[0]+B.x,right:A[0]+B.x+B.width,top:A[1]+B.y,bottom:A[1]+B.y+B.height,x:y.x,y:y.y});}}}r.sort(function(a,b){return a.x-b.x;});}var E=r?j.concat(r):j;for(i=(E.length-1);i>=0;i--){var F=E[i];var I=F.node;var J=I.getBoundingClientRect();var K=F.dataPoint;var L=this.indexOfDataLabelIntersectDataPoints(J,p,n,K,F.info.value);if(L!==-1){D.remove(I);E.splice(i,1);}}return W.superclass.hideConditional.call(this,E);};W.prototype.sortDataLabelInfos=function(i){var n,N,j,p;var _=this;if(this._data.waterfallTypeScale){i.sort(function(a,b){n=d.getContext(a.node);j=_._data.waterfallTypeScale.scale(n?n.Type:null);N=d.getContext(b.node);p=_._data.waterfallTypeScale.scale(N?N.Type:null);return w.indexOf(j)-w.indexOf(p);});}};W.prototype._computeDataLabelTranslate=function(n,a,b,i,j){var p=W.superclass._computeDataLabelTranslate.apply(this,arguments);if(this._horizontal){var s=this._fixBBoxWhenInvisible(n,j&&j.dpBBox);var q=s.x+a.e;var r=this.getBound();var B=C.DATALABEL.BOUND_OFFSET;var t=i.width+B;if(j.val<0&&q-i.x-r.left<t&&r.width+r.left-(q+s.width)>=t){p[0]=q+s.width+this.horizontalLabelOffset;if((p[0]+i.x+i.width)>(r.width+r.left)){p[0]=(r.width+r.left)-B-i.width-i.x;}}}return p;};var V=100;W.prototype._computeDataLabelPosition=function(a,s,b,i,j,n){var x,y;var p=s.x+a.e;var q=s.y+a.f;var r;if(this._horizontal){r=this.horizontalLabelOffset;}else{if(this._size.height<V){r=this.verticalLabelOffset*0.2;}else{r=this.verticalLabelOffset;}}if(this._horizontal){y=(q+s.height/2)-(i.y+i.height/2);if(j.val>=0){x=p+s.width+r;}else{x=p-(i.x+i.width)-r;}}else{x=(p+s.width/2)-(i.x+i.width/2);if(j.val>=0){y=q-(i.y+i.height);if(y+i.y<0){y=-i.y-r;}else{y=y+r;}}else{y=q+s.height-i.y;if(y+i.height+i.y>j.plotSize.height){y=j.plotSize.height-(i.y+i.height)+r;}else{y=y-r;}}}return[x,y];};W.prototype.indexOfDataLabelIntersectDataPoints=function(a,b,j,n,v){var p=-1;var i;for(i=0;i<b.length;i++){var q=b[i];if(!(a.left>q.right||a.right<q.left||a.top>q.bottom||a.bottom<q.top)){p=i;break;}}return p;};W.prototype.render=function(s,a){a=a||d.findAll(this._dataShapesGroupNode)||[];this._plotSelection=s;var b=this._beforeRender(a);this._render(s,b);var i=d.findAll(s.node());this._renderRecapLabels(s,i);this._afterRender(s);};W.prototype._renderRecapLabels=function(s,a){var p=this._properties;if(!p.origin.get('plotArea.dataLabel.showRecap')){return;}this._recapLabels=[];var b=s.node();var n=b.querySelector("."+g);if(!n){n=S.create(h,b);n.setAttribute("class",g);this._recapLabelsGroupNode=n;}var q=n.querySelectorAll('.'+C.CSS.CLASS.DATALABEL);var t=null;var r=this.runtime().envManager();if(r){t=r.textAnchor();}n.setAttribute("text-anchor",t);var u=p.get('renderer')||m;var v=this._getStyle();for(var j in v){if(v.hasOwnProperty(j)){n.setAttribute(j,v[j]);}}var x=p.get('formatString');var y,z;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){y=this._data.valueAxis.metaData[0].id;z=this._data.valueAxis.metaData[0].formatString;}var A=x?x:z;var B=this._runtime.statusManager().get("dynamicScale");for(var i=0,E=a.length;i<E;i++){var F=a[i];var I=d.getDataPointId(F);var J=d.findByDataRecapIds(q,I);if(J.length){continue;}var K=d.getDataId(F);var L=c.getData(F).recap;if(!L){continue;}var M={key:y,value:L.value,dynamicScale:B};var N=this._buildDataLabelText(A,M,null,false,F);J=S.create("g",n);d.setDataRecapId(J,I);J.setAttribute("class",f);c.setData(J,{"id":K});var O={val:M.value,text:N,info:M,styles:v,horizontal:this._horizontal};var Q=u(O);if(Q){J.appendChild(Q);}c.setContext(J,{val:M.value});}};W.prototype.updatePosition=function(s,a){var p=s,b=s.node();var j=p.select("."+g);if(j.node()){var n=this._dataShapesGroupNode;var u=[];var q=j.node().querySelectorAll('.'+C.CSS.CLASS.DATALABEL);for(var i=0,r=q.length;i<r;i++){var t=q[i];var v=c.getData(t).id;var x=d.find(n,v);if(!x){D.remove(t);continue;}var y=c.getData(x).recap;if(!y){D.remove(t);continue;}u.push(v);var z=l(t,y);t.setAttribute("transform","translate("+z[0]+","+z[1]+")");}if(a){var A=a.filter(function(x){return u.indexOf(d.getDataId(x))===-1;});if(A.length){this._renderRecapLabels(s,d.findAll(n));}}}W.superclass.updatePosition.apply(this,arguments);};W.prototype._afterRender=function(s,a,b){if(this._recapLabelsGroupNode){var j=this._dataShapesGroupNode;var n=this._recapLabelsGroupNode.querySelectorAll('.'+C.CSS.CLASS.DATALABEL);var p=function(j,r,v,y,x){var z,A,B;if(v.basePos==='end'||v.basePos==='start'){z=d.find(j,v.basePosId);}else if(v.nearBasePos){z=d.find(j,v.nearBasePosId);}else{return;}if(!z){D.remove(r);return;}A=z.getBoundingClientRect();if((v.basePos==="end"||v.nearBasePos==="right")&&y.right>=A.left){x[0]-=y.right-A.left+H;}else if((v.basePos==="start"||v.nearBasePos==="left")&&y.left<=A.right){x[0]+=A.right-y.left+H;}r.setAttribute("transform","translate("+x[0]+","+x[1]+")");};for(var i=0,q=n.length;i<q;i++){var r=n[i];var t=c.getData(r).id;var u=d.find(j,t);if(!u){D.remove(r);continue;}var v=c.getData(u).recap;if(!v){D.remove(r);continue;}var x=l(r,v);r.setAttribute("transform","translate("+x[0]+","+x[1]+")");var y=r.getBoundingClientRect();if(v.basePos){p(j,r,v,y,x);}else{x[0]-=y.width/2+H;r.setAttribute("transform","translate("+x[0]+","+x[1]+")");}}}W.superclass._afterRender.apply(this,arguments);};function l(a,r){var b=G.getBBox(a);var x=r.x-0.5*b.width,y;if(r.position==='up'){y=r.y-P;}else{y=r.y-b.y+P;}return[x,y];}function m(a){var t=S.create("text");t.textContent=a.text;return t;}return W;});define('sap/viz/chart/util/WaterfallUtils',["sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/CSSUtils','sap/viz/framework/common/util/Constants'],function(T,S,C,c){var W={};W.WATERFALLTYPE="waterfallType";var l=c.CSS.CLASS.WATERFALL_LINKLINE;var r=c.CSS.CLASS.WATERFALL_RECAP;var d=c.RECAP.WIDTH;var e=c.RECAP.PADDING;W.Key2Type=[{key:'subtotal',type:2},{key:'total',type:1},{key:'',type:0}];W.scale=function(k,a){if(T.isString(k)){k=k.trim().split(':')[0].toLowerCase().trim();}for(var i in a){if(a[i].key===k){return a[i].type;}}return 0;};W.joinLines=function(f,g){var i,p;if(g){f.sort(function(a,b){return a.x1!==b.x1?a.x1-b.x1:a.y1-b.y1;});for(i=0;i<f.length;i++){if(!p){p=f[i];}else{if(p.x1===f[i].x1){if(p.y2<f[i].y1){p=f[i];}else{if(p.y2<f[i].y2){p.y2=f[i].y2;}f[i].skip=true;}}else{p=f[i];}}}}else{f.sort(function(a,b){return a.y1!==b.y1?a.y1-b.y1:a.x1-b.x1;});for(i=0;i<f.length;i++){if(!p){p=f[i];}else{if(p.y1===f[i].y1){if(p.x2<f[i].x1){p=f[i];}else{if(p.x2<f[i].x2){p.x2=f[i].x2;}f[i].skip=true;}}else{p=f[i];}}}}};W.drawLines=function(a,p,b,f,n,g){if(a.length===0){return;}if(n){W.joinLines(a,b);}var o=1;var h=p.get("linkline.color");var j=p.get("linkline.size");var k=h;var m=p.get("linkline.type");var s=(m==c.LINE_TYPE.DASHED||m===c.LINE_TYPE.DOTTED)?"stroke-dasharray:6":"";for(var i=0;i<a.length;i++){if(a[i]){if(!a[i].skip){var q=S.create("line");q.setAttribute("class",l);q.setAttribute("stroke",h);q.setAttribute("stroke-opacity",o);q.setAttribute("stroke-width",j);C.setDOMStyle(q,s);q.setAttribute("pointer-events","none");q.setAttribute("x1",a[i].x1);q.setAttribute("y1",a[i].y1);q.setAttribute("x2",a[i].x2);q.setAttribute("y2",a[i].y2);f.appendChild(q);}if(a[i].recap&&(g>=e*2+d)){var t=S.createSVGNode("circle");t.setAttribute("class",r);t.setAttribute("fill-opacity",o);t.setAttribute("fill",k);t.setAttribute("r",d/2);t.setAttribute("cx",a[i].recap.x);t.setAttribute("cy",a[i].recap.y);f.appendChild(t);}}}};return W;});define('sap/viz/chart/components/plots/WaterFallPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/datalabels/WaterfallDataLabels','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/util/WaterfallUtils','sap/viz/framework/common/util/NameColorUtils',"sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar"],function Setup(o,D,S,B,C,a,b,I,c,P,d,O,e,W,U,f,g,h,N){var i=function(r,m){i.superclass.constructor.apply(this,arguments);this._dpGap=0;};o.extend(i,B);i.prototype._isSupportNoFill=function(){return false;};var j=0.5;var l=g.CSS.CLASS.WATERFALL_LINKLINE;var k="v-wtf-linklinegroup";i.prototype.setData=function(m){if(m&&m.waterfallType&&m.waterfallType.scale){m.waterfallTypeScale=m.waterfallType.scale;}i.superclass.setData.apply(this,arguments);return this;};i.prototype.render=function(s){var w=this._size.width,m=this._size.height;this._size.width=w<0?0:w;this._size.height=m<0?0:m;i.superclass.render.apply(this,arguments);};i.prototype._getDataHandler=function(){return{"valueAxis":b.getWTFHandler()};};i.prototype._getXYPosition=function(s,m,n,p,q){return p.scale({value:n.valueAxis,total:n.total,base:n.base},{index:m,seriesIndex:s,dataHandler:q});};i.prototype._getXPosition=function(s,m,n){var p=this._xHandlers[0];return this._getXYPosition(s,m,n,p);};i.prototype._getYPosition=function(s,m,n){var p=this._yHandlers[0];return this._getXYPosition(s,m,n,p);};i.prototype._getValueScaleHandlers=function(m){return[a.getWTFScaleHandler("valueAxis",{isHorizontal:this.isHorizontal()})];};i.prototype._showDataPoints=function(m){this._preShowDataPoints();var n=[];this._dataPointContext=[];if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}this._selection.selectAll("."+k).remove();var p=S.create("g");p.setAttribute("class",k);var r=this._getVisibleRange();var s,q,t;for(s=0;s<this._series.length;s++){q=this._series[s];if(!q){continue;}var u=this._getDataPointRenderer(s);if(!u){continue;}t=q.getDataPoints();var v=this._getDataPointRange(t,r);this._hideDataPoints(t,v);for(var w=v.min;w<=v.max;w++){var x=t[w];if(!x){continue;}var y=x.getRawData();var z=this._getDataPointPosition(x);if(!z){continue;}var A=false;var E=x.getConfig();if(!E){A=true;var F=y.dp&&y.dp.context()?y.dp.context():g.NULL_VALUE;var G=y.timeAxis&&y.timeAxis[0]&&y.timeAxis[0].parsedValue;E=this._buildWrapperConfig(y,z,F,{timeValue:G});}this._dataPointContext.push(E);var H=x.getData();if(!H){A=true;var J=x.getId();H=this._buildData(E);x.init(E,J,H,y.dp&&y.dp.id?y.dp.id:g.NULL_VALUE);}var K=x.getNode();if(K){if(A){this._updateDatapoint(K,u,E,z);n.push(K);}}else{K=this._drawDataPoint(u,x);x.setNode(K);if(K){n.push(K);}}if(this._seriesRenderer){this._seriesRenderer.addDataPoint(s,w,E,z,K);}else if(!K.parentNode){m.appendChild(K);}}}if(!this._seriesRenderer){this._drawLine(p,this._series,r);}m.appendChild(p);return n;};i.prototype._getSeriesDataPoint=function(s,m){return{valueAxis:0,total:0,base:0};};i.prototype._getGap=function(s,m){var p;var n;var r=this.getRealSize();var q;if(this.isHorizontal()){n=this._yHandlers[0];p=this._getYPosition.bind(this);q=r.height;}else{n=this._xHandlers[0];p=this._getXPosition.bind(this);q=r.width;}if(n._scale.getDomain().length>1){var v=this._getSeriesDataPoint(s,m);var t=this._getSeriesDataPoint(s,m+1);if(!t){return undefined;}var u=p(0,0,v);var w=p(0,1,t);q=w[0]-u[0];}return q;};i.prototype._getHorizontalLine=function(p,n,w,m){var q,r,s;var x;var t=j;var u=this._dpGap;var v=u-p.height;q={'y1':Math.round(p.y-v/2),'y2':Math.round(p.y+p.height)};r={'y1':Math.round(p.y),'y2':Math.round(p.y+p.height+v/2)};if(1===w){x=!n?Math.round(p.x+p.width):Math.round(p.x+t);q.x1=q.x2=r.x1=r.x2=x;}else if(2===w){s={'y1':Math.round(p.y-u*m),'y2':Math.round(p.y+p.height)};x=!n?Math.round(p.x+p.width):Math.round(p.x+t);q.x1=q.x2=r.x1=r.x2=x;x=!n?Math.round(p.x):Math.round(p.x+p.width+t);s.x1=s.x2=x;}else{x=!n?Math.round(p.x):Math.round(p.x+p.width+t);q.x1=q.x2=x;x=!n?Math.round(p.x+p.width):Math.round(p.x+t);r.x1=r.x2=x;}return{'lLine':q,'rLine':r,'subLine':s};};i.prototype._getVerticalLine=function(p,n,w,m){var q,r,s;var y;var t=j;var u=this._dpGap;var v=u-p.width;q={'x1':Math.round(p.x-v/2),'x2':Math.round(p.x+p.width)};r={'x1':Math.round(p.x),'x2':Math.round(p.x+p.width+v/2)};if(1===w){y=!n?Math.round(p.y):Math.round(p.y+p.height+t);q.y1=q.y2=r.y1=r.y2=y;}else if(2===w){s={'x1':Math.round(p.x-u*m),'x2':Math.round(p.x+p.width)};y=!n?Math.round(p.y):Math.round(p.y+p.height+t);q.y1=q.y2=r.y1=r.y2=y;y=!n?Math.round(p.y+p.height):Math.round(p.y+t);s.y1=s.y2=y;}else{y=!n?Math.round(p.y+p.height):Math.round(p.y+t);q.y1=q.y2=y;y=!n?Math.round(p.y):Math.round(p.y+p.height+t);r.y1=r.y2=y;}return{'lLine':q,'rLine':r,'subLine':s};};i.prototype._getWaterFallTypeScale=function(w){return this._data.waterfallType.scale.scale(w);};i.prototype._getChildNumScale=function(w){return this._data.waterfallType.scale.childrenNum(w);};i.prototype._drawLine=function(m,n,r){n=n[0].getDataPoints();var v=this._properties.get("linkline.visible");if(!v){return;}this._dpGap=this._getGap(0,0);var p=[];var q;for(var s=r.min;s<=r.max;s++){var t=n[s];if(!t||t.getRawData().valueAxis===null){continue;}var u=t.getConfig();var w=t.getPosition();var x=u.ctx[u.ctx.measureNames]<0;var y=t.getRawData().waterfallType;var z=this._getWaterFallTypeScale(y);var A=this._getChildNumScale(y);if(this.isHorizontal()){q=this._getHorizontalLine(w,x,z,A);}else{q=this._getVerticalLine(w,x,z,A);}if(!q){continue;}if(t.getItemIndex()!==0){p.push(q.lLine);}if(t.getItemIndex()!==this._data.series[0].length-1){p.push(q.rLine);}if(2===z){p.push(q.subLine);}}h.drawLines(p,this._properties,this.isHorizontal(),m,true);};i.prototype._buildWrapperConfig=function(m,p,n){var q=i.superclass._buildWrapperConfig.apply(this,arguments);if(this._semanticMgr.hasDataPointColorStyle()){if(this._semanticMgr.isOverrideMode()){return q;}else if(q.hasOwnProperty('isOthers')&&q.graphic.fill){return q;}}var r=this._properties.get("dataPoint.color.isSemanticColoring");var s,t,u;if(r===false){var v=this._properties.get("colorPalette");s=t=q.data.color||v[0];}else{s=this._properties.get("dataPoint.color.positive");t=this._properties.get("dataPoint.color.negative");}s=N.convertColor(s);t=N.convertColor(t);u=this._properties.get("dataPoint.color.total");u=N.convertColor(u);var w=this._getWaterFallTypeScale(m.waterfallType);q.graphic.fill=(1===w)?u:(m.valueAxis>=0?s:t);return q;};i.prototype._getDataLabels=function(n,r){this._datalabels=new W(r,{name:n,horizontal:this.isHorizontal()});return this._datalabels;};i.prototype._adjustPosition=function(p,s){var m=this.isHorizontal();if(m&&p.width<0){p.width=p.width>-1?1:Math.abs(p.width);p.x-=p.width+0.5;}if(!m&&p.height<0){p.height=p.height>-1?1:Math.abs(p.height);p.y-=p.height+0.5;}};i.prototype.destroy=function(){i.superclass.destroy.call(this);this._dpGap=null;};return i;});define('sap/viz/chart/components/plots/TimeWaterFallPlot',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/WaterFallPlot","sap/viz/chart/util/WaterfallUtils","sap/viz/framework/common/util/TimeUtil",'sap/viz/framework/common/util/FiscalUtil',"sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/plots/TimeStackedColumnPlot",'sap/viz/chart/components/renderers/TimeReferenceLineRenderer',"sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ArrayUtils"],function Setup(o,T,W,a,b,F,D,c,d,C,N,L,e,A){var f=function(r,g){f.superclass.constructor.apply(this,arguments);this._isSyncValueAxis=this.runtime().propertyManager().get("interaction.syncValueAxis")||false;this._visibleRange=null;};o.extend(f,W);f.prototype._getXPosition=T.prototype._getXPosition;f.prototype._getBarProperties=T.prototype._getBarProperties;f.prototype._getColumnWidth=T.prototype._getColumnWidth;f.prototype._getVisibleRange=T.prototype._getVisibleRange;f.prototype._getDataPointRange=T.prototype._getDataPointRange;f.prototype.getPreferredSize=T.prototype.getPreferredSize;f.prototype._updateBarWidth=T.prototype._updateBarWidth;f.prototype._getStartEnd=T.prototype._getStartEnd;f.prototype._getWaterFallTypeScale=function(g){return 0;};f.prototype._getChildNumScale=function(g){return 0;};f.prototype.getReferenceLineRenderer=function(){return d;};f.prototype._buildData=T.prototype._buildData;f.prototype.getRealSizeByFixedDPSize=T.prototype.getRealSizeByFixedDPSize;f.prototype._getSeriesDataPoint=function(s,i){return this._data.series[s][i];};f.prototype._getConnectionLine=function(p,n,g,h){var i={};if(!h){return undefined;}i.skip=false;i.x1=p.x;i.x2=h.x+h.width;if(n){i.y1=p.y+p.height;i.y2=p.y+p.height;}else{i.y1=p.y;i.y2=p.y;}return i;};f.prototype._getRecapDate=function(g,l,s,h){var i=false;if(this._data.rawData&&this._data.rawData.dataModel&&this._data.rawData.dataModel._rawData){i=F.isFiscal(this._data.rawData.dataModel._rawData);}var r;var t=g.getRawData().timeAxis[0].parsedValue;var j;if(i){j=b.nextDateByLevel(t,l,s,h);r=0.5*(t+j);}else{j=b.ceil(t,l,s,h);r=Math.ceil(0.5*(t+j));}return r;};f.prototype._drawLine=function(l,s,r){var g=this._properties.get("linkline.visible");var h=this._properties.origin.get("plotArea.dataLabel.showRecap");if(!g&&!h){return;}var v=this.getData().valueAxis.values;var t=this.getData().timeAxis._sortedTimeStampSet;var k=[];var m,p,n,q;var u=0;var w=s.length;var x=w-1;var y=this.getRealSize().width;var z=this.getData().timeAxis.scale;var B,E,G=null,H=null,I,J;var K,M,O,P,Q,R;var S=this._getBarProperties();var U=S.minTimeLevel;var V=this._properties.origin.get('general.showAsUTC');var X=this._properties.origin;var Y=function(n1,f1,o1){var E=n1.getDataPoints();var p1;if(o1){p1=o1.getDataPoints();}var q1=function(E,r1){var i=A.bisearch(E,r1,function(s1){return s1?s1.getRawData().timeAxis[0].parsedValue:0;});return(E[i]&&E[i].getRawData().timeAxis[0].parsedValue===r1)?E[i]:null;};return{dataPoint:q1(E,t[f1]),nearDataPoint:p1?q1(p1,t[f1]):null};};if(h){for(var i=0;i<w;i++){if(s[i]){n=s[i].getDataPoints();for(var j=0;j<n.length;j++){q=n[j];if(q){M=this._getDataPointPosition(q);p=(w===1)?M.width*S.barSpacing:M.width*S.groupSpacing;break;}}}}for(I=0;I<=t.length&&!G;I++){for(J=u;J<=x&&!G;J++){if(s[J]){G=Y(s[J],I).dataPoint;}}}if(G){K=G.getConfig();if(K){M=G.getPosition();O=K.ctx[K.ctx.measureNames]<0;var Z={};Z.skip=false;Z.x1=0;Z.x2=M.x+M.width;if(O){Z.y1=M.y;Z.y2=M.y;}else{Z.y1=M.y+M.height;Z.y2=M.y+M.height;}k.push(Z);}}}for(I=0;I<t.length-1;I++){var $=null,_,a1,b1=null;for(J=x;J>=u&&!$;J--){if(s[J]){a1=Y(s[J],I,s[J-1]);$=a1.dataPoint;b1=a1.nearDataPoint;}}if(!$||!$.getNode()){continue;}K=$.getConfig();if(!K){continue;}M=$.getPosition();O=K.ctx[K.ctx.measureNames]<0;var c1={seriesIndex:J,itemIndex:I};var d1=null,e1=null;for(var f1=I+1;f1<t.length&&!d1;f1++){for(J=u;J<=x&&!d1;J++){if(s[J]){a1=Y(s[J],f1,s[J+1]);d1=a1.dataPoint;e1=a1.nearDataPoint;}}}B=this._getRecapDate($,U,V,X);var g1=d1?d1.getPosition():undefined;P=D.getData($.getNode());if(g1){m=this._getConnectionLine(M,O,c1,g1);if(!g){m.skip=true;}k.push(m);}else{m={skip:true};}if(h){Q=z.scale(B)*y;R=O?M.y+M.height:M.y;m.recap={x:Q,y:R};var h1=$.getRawData().valueAxis,i1=d1?d1.getRawData().valueAxis:null;P.recap={x:Q,y:R,value:N.preciseSimple($.getRawData().total),position:h1>=0&&i1<0?'up':'down'};if(h1<0&&i1<0){P.recap.basePos="end";P.recap.basePosId=d1.getId();}else if(h1>=0&&i1>=0){P.recap.basePos="start";P.recap.basePosId=$.getId();}else{P.recap.basePos="middle";var j1=b1?b1.getRawData().valueAxis:0;var k1=e1?e1.getRawData().valueAxis:0;var l1=function(P,n1,o1){P.recap.nearBasePos=n1;P.recap.nearBasePosId=o1.getId();};if(h1>=0&&i1<0){if(((j1<0&&Math.abs(j1)<=h1)||j1>=0)&&k1>Math.abs(i1)){l1(P,"right",e1);}else if(j1<0&&Math.abs(j1)>h1&&k1<=Math.abs(i1)){l1(P,"left",b1);}}else{if((j1<=0||(j1>0&&j1<=Math.abs(h1)))&&k1<0&&Math.abs(k1)>i1){l1(P,"right",e1);}else if((k1>=0||(k1<0&&Math.abs(k1)<=i1))&&j1>Math.abs(h1)){l1(P,"left",b1);}}}D.setData($.getNode(),P);}}if(h){for(I=t.length-1;I>=0;I--){for(J=x;J>=u;J--){if(s[J]){H=Y(s[J],I).dataPoint;}if(H){break;}}if(H){break;}}if(H&&H.getNode()){K=H.getConfig();if(K){M=H.getPosition();O=K.ctx[K.ctx.measureNames]<0;B=this._getRecapDate(H,U,V,X);var m1={};m1.skip=false;m1.x1=M.x;m1.x2=y;if(O){m1.y1=M.y+M.height;m1.y2=M.y+M.height;}else{m1.y1=M.y;m1.y2=M.y;}k.push(m1);Q=m1.x2-C.RECAP.WIDTH/2;R=m1.y1;m1.recap={x:Q,y:R};P=D.getData(H.getNode());P.recap={x:Q,y:R,value:N.preciseSimple(H.getRawData().total),position:O?'down':'up',startId:H.getId(),endId:null};D.setData(H.getNode(),P);}}}a.drawLines(k,this._properties,this.isHorizontal(),l,false,p);};f.prototype._shiftOffsetForIncompleteRange=T.prototype._shiftOffsetForIncompleteRange;f.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color");};f.prototype._drawDatapoints=function(p,g){f.superclass._drawDatapoints.apply(this,arguments);this._addtionalInfo=g;this.renderAddition();};f.prototype._updateDatapoints=function(p){f.superclass._updateDatapoints.apply(this,arguments);this.renderAddition();};f.prototype.scroll=function(p){f.superclass.scroll.apply(this,arguments);this.renderAddition();};f.prototype.renderAddition=function(){return this._addtionalInfo&&this._addtionalInfo.timeAxis&&this._addtionalInfo.timeAxis.renderAddition&&this._addtionalInfo.timeAxis.renderAddition(this._dataPointContext);};f.prototype._preShowDataPoints=function(g){f.superclass._preShowDataPoints.apply(this,arguments);this._endOfPeriodArray=[];var s;for(s=0;s<this._series.length;s++){var h=this._series[s];if(h){var i=h.getDataPoints();for(var j=0;j<i.length;j++){var k=i[j];if(!k){continue;}var l=k.getRawData();var t=l.timeAxis[0].parsedValue;this._endOfPeriodArray[t]=l.total;}}}};f.prototype._buildWrapperConfig=function(g,p,h,i){var s=this.runtime().statusManager();var r=s.get(C.RECAP.RECAP_KEY);if(e.isExist(r)){delete h[r];}else{s.add(C.RECAP.RECAP_KEY,r);}if(this._properties.origin.get('plotArea.dataLabel.showRecap')){r=this._properties.origin.get("plotArea.dataLabel.recapTitle")||L.get("IDS_END_OF_PERIOD","en");if(this._endOfPeriodArray&&i&&this._endOfPeriodArray[i.timeValue]){h[r]=this._endOfPeriodArray[i.timeValue];}else{h[r]=g.total;}s.set(C.RECAP.RECAP_KEY,r);}var j=f.superclass._buildWrapperConfig.apply(this,arguments);var k=(g&&!g.isNullValue)?g.dp.additionCtx():{};j.vbcContext={};j.vbcContext.color=this._semanticMgr.analyzeValueBasedColor(h,k);return j;};f.prototype.destroy=function(){f.superclass.destroy.call(this);this._isSyncValueAxis=null;this._visibleRange=null;};f.prototype._getRangeTick=T.prototype._getRangeTick;f.prototype._getColumnWidthRatio=T.prototype._getColumnWidthRatio;f.prototype._getCategoryScaleHandlers=T.prototype._getCategoryScaleHandlers;f.prototype._getCategoryCount=T.prototype._getCategoryCount;return f;});define('sap/viz/chart/components/plots/TimeStackedCombinationPlot',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/TimeCombinationPlot","sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/plots/StackedCombinationPlot","sap/viz/chart/components/plots/ScaleHandler",'sap/viz/chart/components/plots/StackedPlotHelper','sap/viz/chart/components/plots/DataHandler','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils"],function(o,T,a,s,S,b,D,C,c){var L="line";var B="bar";var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._lineDataHandler=D.getHandler();this._stackDataHandler=this._getDataHandler();this._drawZeroLineBeforeDatapoints=true;this._attachMarkManager();this._markerPropName="line.marker";this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));this._options.isCombination=true;this._lineRenderer=null;this._isDrawDp=true;};o.extend(d,T);var p=d.prototype;var f=["_adjustPosition","_attachMarkManager","_buildConfig","_getColor","_getDataHandler","_getDataPointRenderer","_drawCategory","_drawDataPoint","_drawLine","_updateLine","_updateDatapoint","_getSeries","getSeriesStyle","_getDataHandler","_generatePath","_getDataLabels","_getDataShape","_getYPosition","isMarkerVisible","_needValidEmptyAxisData","_removeEmptyStacks"];f.forEach(function(e){p[e]=s.prototype[e];});p._pushDataPointContext=a.prototype._pushDataPointContext;p._getCategoryScaleHandlers=a.prototype._getCategoryScaleHandlers;p._getColumnWidthRatio=a.prototype._getColumnWidthRatio;p._getColumnCount=a.prototype._getColumnCount;p._showDataPoints=function(){};p._updateDatapoints=function(){this._preShowDataPoints();s.prototype._updateDatapoints.apply(this,arguments);};p._preShowDataPoints=function(){this._dataPointContext=[];d.superclass._preShowDataPoints.apply(this,arguments);};p._drawDatapoints=function(e){this._initSeries();this._preShowDataPoints();s.prototype._drawDatapoints.apply(this,arguments);};p._buildData=function(g){var r=s.prototype._buildData.apply(this,arguments);r.timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});g.timeField=r.timeField;return r;};p._buildWrapperConfig=function(e,g,h,i){var j=d.superclass._buildWrapperConfig.apply(this,arguments);j.graphic.shape=this._getMarkerShape();j.position=g;if(!c.isExist(j.graphic.fill)){j.graphic.fill=this._getColor(e);}j.seriesIndex=this.getSeriesIndex(e.dp);return j;};p._getVisibleRange=function(){return b.getVisibleRange(this,T);};p.allowBreakLine=function(e){return C.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get('dataPoint.invalidity'))<=0&&e.ignore;};p._createDataPoint=function(e,i,g,h,j,k,l){var m;var n=this._series[e];var q=n.getDataPoints();if(q){m=q[i];m.init(g,k,h,l.dp&&l.dp.id?l.dp.id:C.NULL_VALUE);m.setPosition(j);m.setRawData(l);}else{m=s.prototype._createDataPoint.apply(this,arguments);}return m;};p.getSeriesIndex=function(e){return this._series.length-e._addr[1]-1;};p.getDataPointShape=function(e){var g;if(c.isNumber(e)){g=e;}else{g=this._series.length-e._addr[1]-1;}return this._getDataShape(g);};p.getSeriesStyle=function(e,g,i){e=(g||i)?e:this._series.length-e-1;return d.superclass.getSeriesStyle.call(this,e,g);};p._getDPOptions=function(e,i,g){var r=s.prototype._getDPOptions.apply(this,arguments);r.color=this._getColor(g);return r;};return d;});define('sap/viz/chart/components/plots/TYPlotFactory',['jquery','sap/viz/chart/components/plots/TimeLinePlot','sap/viz/chart/components/plots/TimeColumnPlot','sap/viz/chart/components/plots/TimeCombinationPlot','sap/viz/chart/components/plots/TimeBulletPlot',"sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/plots/TimeStackedPercentagePlot","sap/viz/chart/components/plots/TimeWaterFallPlot",'sap/viz/chart/components/plots/TimeStackedCombinationPlot',],function($,T,a,b,c,d,e,f,g){var p={'timeseries_line':{plotClazz:T},'timeseries_column':{plotClazz:a},"timeseries_stacked_column":{plotClazz:d},"timeseries_100_stacked_column":{plotClazz:e},'timeseries_combination':{plotClazz:b},'dual_timeseries_combination':{plotClazz:b},'timeseries_bullet':{plotClazz:c},'timeseries_waterfall':{plotClazz:f},'timeseries_stacked_combination':{plotClazz:g},};return{getPlotClazz:function(r){var h=p[r];return h&&h.plotClazz;}};});define('sap/viz/chart/components/plotareas/TimeYPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo',"sap/viz/chart/scales/ValueScale","sap/viz/chart/scales/ValueScaleUtil",'sap/viz/chart/components/callout/CalloutContainer','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/TimeAxis','sap/viz/chart/components/plots/TYPlotFactory','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/util/ZoomUtil','sap/viz/chart/components/scrollbar/Scrollbar',"sap/viz/framework/common/util/ArrayUtils",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/FiscalUtil',"sap/viz/framework/common/util/NumberUtils",'sap/viz/chart/scales/TimeScale','sap/viz/chart/components/zoom/TimeYZoomer',"sap/viz/chart/components/plots/TimeWaterFallPlot","sap/viz/chart/components/zoom/ZoomLimit","sap/viz/chart/components/util/SeriesUtil",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/trendline/Trendline'],function(C,o,V,a,b,X,c,T,P,d,f,Z,S,A,D,U,g,h,F,N,l,n,p,q,r,O,t){var u=function(e,i){this._rawData=(i&&i.rawData&&i.rawData.dataModel&&i.rawData.dataModel._rawData);this._isTruncatedWindowInput=false;u.superclass.constructor.apply(this,arguments);};var v=N.preciseSimple;var w=g.isNumber;o.extend(u,X);u.prototype._getValueAxis=function(e){return e.valueAxis;};u.prototype.destroy=function(){u.superclass.destroy.apply(this,arguments);};u.prototype._init=function(e,i){this._plot=d.create(this._renderType,P.getPlotClazz(this._renderType),this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var j=!this._properties.get("interaction.noninteractiveMode")||!this.isColumnLike()&&!!this._properties.get('timeAxis.interval.unit');this.setLayoutSequence(['left','right','bottom','top']);var k=(i&&i.rawData&&i.rawData.dataModel);this._categoryAxis=new T(this.runtime(),{name:"timeAxis",hasScrollbar:j,isColumnLike:this.isColumnLike(),isMultiplySeriesColumn:this.isMultiplySeriesColumn(k),isKeepMinimalLevelContinuousTicks:this.isKeepMinimalLevelContinuousTicks(k),isLineChart:this._isLineChart(),rawData:this._rawData});this.setChild("timeAxis",this._categoryAxis,{position:"bottom"});if(j){this._hScrollbar=this._categoryAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;}this._valueAxis=new c(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});if(this._properties.get("plotArea.callout.left")){this._leftCallouts=new b(this.runtime(),{name:"plotArea.callout",position:"left"});this.setChild("leftCallouts",this._leftCallouts,{position:"left",priority:1,unique:true});}if(this._properties.get("plotArea.callout.top")){this._topCallouts=new b(this.runtime(),{name:"plotArea.callout",position:"top"});this.setChild("topCallouts",this._topCallouts,{position:"top"});}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);}this.getZoomer().init({main:this,plot:this._plot,isHorizontal:false});};u.prototype.extractCalloutInfo=function(){var e=[];for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;if(m._callouts){e=e.concat(m._callouts);}}}return e;};u.prototype._postLayout=function(e){u.superclass._postLayout.apply(this,arguments);var i=this.extractCalloutInfo();for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;if(m.setCalloutInfo){m.setCalloutInfo(i);}}}};u.prototype.getAddtionalInfo=function(e){var i;if(e instanceof p){var j;var k=this.getChild("timeAxis");if(k){j=k.module;}i={};i.timeAxis=j;}return i;};u.prototype._hasScrollbar=function(){var e=u.superclass._hasScrollbar.apply(this,arguments);return e||(!this.isColumnLike()&&!!this._properties.get('timeAxis.interval.unit'));};u.prototype._preRender=function(){var e=this._data.timeAxis.scale;var i=e.getDomain();var j=this._getZoomRange(i);if(!this._plot.isHorizontal()){if(this.isColumnLike()){var k=this._plot.getPreferredSize();if(this._hasScrollbar()){this._categoryAxis.setRealSize(k);}}else{if(this._categoryAxis.isVisible()){var m=this._categoryAxis.getChild("axisBody").module.getRealSize().width;if(m>0){this._realSize.width=m;this._plot.setRealSize({"width":m});}}}}X.superclass._preRender.apply(this,arguments);var s=this._valueAxis._scale.getDomain();this._runtime.statusManager().add('globalDomain',{value:[s[0],s[1]],readonly:true});this._applyTransform(i,j);};u.prototype._getZoomRange=function(e){function i(z){var B=z;if(g.isExist(B)){B=new Date(B).getTime();B=parseInt(B);}return B;}var j=this._properties;var k=Z.getZoomRange(j,e);var s=i(k[0]);var m=i(k[1]);if(w(s)&&s<e[0]){s=e[0];}if(w(m)&&m>e[1]){m=e[1];}return[s,m];};u.prototype._applyTransform=function(e,i){this._isTruncatedWindowInput=false;function j(){if(isNaN(s)||s<e[0]){s=e[0];}if(isNaN(k)||k>e[1]){k=e[1];}}var s=i[0];var k=i[1];var m=Z.isRangeIncomplete(i);var z=Z.isZoomRangeValid(s,k,e);var B,E;if(z&&m){B=this.runtime().statusManager().get("plot.transform.scale");var G=this._plot._getBarProperties().minTimeLevel;var H=h.getPeriod(G)/2;var I={};if(!w(s)){s=k-Math.abs(e[0]-e[1])/B.x;if(this.isColumnLike()){s+=H;}j();I["alignStart"]=e[0];I["alignEnd"]=k+H;}else{if(this.isColumnLike()){s-=H;}j();I["alignStart"]=s;I["alignEnd"]=e[1];}E=-Math.abs((e[0]-s)/(e[0]-e[1]));if(this._applyOffserAndZoom(E,B,I)){return;}else{x(i,e);}}s=i[0];k=i[1];m=Z.isRangeIncomplete(i);z=Z.isZoomRangeValid(s,k,e);if(z&&!m){j();if(this.isColumnLike()){this._isTruncatedWindowInput=true;var J=this._truncateAndExtendWindowInput(s,k);s=J[0];k=J[1];j();}if(s>=k){s=e[0];k=e[1];}B=Math.abs((e[0]-e[1])/(s-k));B={x:B,y:B};E=-Math.abs((e[0]-s)/(e[0]-e[1]));}else{B=this.runtime().statusManager().get("plot.transform.scale");E=0;}if(B){this._applyOffserAndZoom(E,B);}};function x(e,i){if(!g.isExist(e[0])){e[0]=i[0];}if(!g.isExist(e[1])){e[1]=i[1];}return e;}u.prototype._applyOffserAndZoom=function(e,z,i){var s={x:1,y:1};var j={x:0,y:0};var k=this.getChildrenByPosition("center")[0];var m=k.getSize();var B=k.getRealSize();var E=k.isHorizontal()?"y":"x";var G=k.isHorizontal()?"height":"width";s[E]=z[E];j[E]=v(e*m[G]*z[E]);if(i){var H=v(-j[E]+m[G]);var I=this._convertPositionIntoTimeStemp(H);var J=this._convertPositionIntoTimeStemp(-j[E]);if(w(i["alignStart"])&&J<i["alignStart"]){return false;}else if(w(i["alignEnd"])&&I>i["alignEnd"]){return false;}}this.zoom(s);if(this._properties.get("interaction.syncValueAxis")||j.x||j.y){this.scroll(j);}return true;};u.prototype._convertPositionIntoTimeStemp=function(e){var i=this.getChildrenByPosition("center")[0];var j=i.getRealSize();var k=i.isHorizontal()?j.height:j.width;return Math.round(i._data.timeAxis.scale._scale.invert(e/k));};u.prototype._setAxisData=function(e){this._categoryAxis.setData(e.timeAxis,D.hasNegativeValue(e));};function y(s,e,i){if(s===Infinity&&e===-Infinity){return[s,e];}var j=s;var k=e;var m;var z=i.minTimeLevel;z=g.isArray(z)?z[0]:z;var B=i.showAsUTC;if(i.labelTruncate){j=h.truncate(s,z,B,i.origin);k=h.truncate(e,z,B,i.origin);}if(i.hasOwnProperty("linePadding")){m=i.linePadding;}else{m=h.getPeriod(z)/2;}j-=m;k+=m;return[j,k];}u.prototype._updateTrendLineAxis=function(e){if(e&&e.timeAxis&&e.timeAxis.scale){var s=e.timeAxis.scale;var i=s.getDomain();var j=O.extend(true,[],i);this._plot._expandTrendlineXRange(j);if(j&&j.length>1&&j[1]>i[1]){if(this._isLineChart()){this._timeOriginalDomain=j;}else if(this.isColumnLike()){var k=this._plot._getBarProperties();j[1]+=h.getPeriod(k.minTimeLevel)/2;}e.timeAxis.scale=new l(j,s.getRange(),s.getDomainFixed(),{dataBound:s.getDataBound()});}}};u.prototype._updateTimeScale=function(e,i,j){var s=e.scale;var k=s.getDomain();if(j.recoverDomain){k=this._timeOriginalDomain;}j.origin=this._properties.origin;var m=y(k[0],k[1],j);e.scale=new l(m,s.getRange(),s.getDomainFixed(),{dataBound:s.getDataBound()});i.setData(e);};u.prototype._truncateAndExtendWindowInput=function(s,e){var i=this._plot._getBarProperties();i.origin=this._properties.origin;return y(s,e,i);};u.prototype.zoom=function(s){u.superclass.zoom.apply(this,arguments);if(this._isLineChart()){var e=this._properties.origin;if(!e.get("plotArea.marker.visible")){return;}var i=this._data;var j=i.timeAxis.scale.getDomainFixed();if(j[0]||j[1]){return;}var k=this.getChildrenByPosition("center")[0];if(!k){return;}var m={};if(this._timeSeriesMaxLength!==0&&r.isBigDensityMode(k.getRealSize().width,this._timeSeriesMaxLength)){m.linePadding=0;m.recoverDomain=true;this._updateTimeScale(i.timeAxis,this._categoryAxis,m);return;}var z=i.timeAxis.scale.getDomain();var B=this._timeOriginalDomain;var E=e.get("plotArea.marker.size")+2;m.showAsUTC=e.get('general.showAsUTC');if(B[1]===B[0]){var G=this.runtime().statusManager().get('timeLevels');var H=G.length?G[0]:["day"];m.linePadding=h.getPeriod(H)/2;}else{var I=(B[1]-B[0])/k.getRealSize().width;var J=this._categoryAxis.getChild("axisBody").module;m.linePadding=J.normalizePadding(I*E);}m.recoverDomain=(s.x!==1);m.labelTruncate=false;if(s.x!==1||(z[0]===B[0]||z[1]===B[1])){this._updateTimeScale(i.timeAxis,this._categoryAxis,m);}}};u.prototype._adjustTimeDomain=function(){var e=this._data;var i=this._roughSize.width;var j=this._roughSize.height;if(e&&i>0&&j>0){var k={};if(this.isColumnLike()){k=this._plot._getBarProperties();k.labelTruncate=true;k.recoverDomain=false;this._updateTimeScale(e.timeAxis,this._categoryAxis,k);}else if(this._isLineChart()){this._timeOriginalDomain=e.timeAxis.scale.getDomain();this._timeSeriesMaxLength=r.getMaxSeriesLength(e.series);}}};u.prototype.updateValueScale=function(){this._adjustTimeDomain();return u.superclass.updateValueScale.apply(this,arguments);};u.prototype._updateValueScaleDomain=function(e){this._lastValueDomain=e;var i=this._data;var j=this._roughSize.width;var k=this._roughSize.height;if(!i||j<=0||k<=0){return false;}var m=[0,1];if(this._plot.isHorizontal()){m[1]=j;}else{m[1]=k;}m[1]*=0.8;var s=this._getValueAxis(this._data).scale;var z=s.getDomain().slice();var B;var E;s.setDomain(e);if(this._isAdjustValueScaleForTopLabel()){B=this._calcValueScaleWithTopLabel(m);E=B.scale.getDomain();this._valueAxis.setData(B,true);this._plot.getData().valueAxis=B;}else{B=f.calcScale(s,m,{keepAutoScale:true,isLineChart:this._isLineChart()});E=B.scale.getDomain();s.setDomain(E);s.setRange([0,1]);var G=this._getValueAxis(i);G.tickHint=B.tickHint;this._valueAxis.setData(G,true);}return(z[0]!==E[0]||z[1]!==E[1]);};u.prototype._getValueRange=function(s,e,z,B){function E(s1){return s1.timeAxis[0].parsedValue;}var G=Infinity;var H=-Infinity;var I=2;if(w(B.min)){G=B.min;I--;}if(w(B.max)){H=B.max;I--;}var J=/timeseries.*stacked_column/.test(this._renderType);var K=/timeseries.*stacked_combination/.test(this._renderType);var L=J||K;var M=/timeseries_waterfall/.test(this._renderType);if(I){var Q=false;var R=[];var i,j,k,m,W=s.length;var Y,$,_,a1;for(i=0;i<W;++i){Y=s[i];if(!Y.length){R[i]=null;continue;}var b1=Y,c1=[];if(L){b1=[];for(k=0,m=0;k<Y.length;k++){if(Y[k]){b1[m]=Y[k];c1[m]=k;m++;}}}$=A.bisearch(b1,e,E);if(L){$=c1[$]||$;}$=Math.min($,Y.length-1);_=A.bisearch(b1,z,E);if(L){_=c1[_]||_;}_=Math.min(_,Y.length-1);if(Y[$]&&e>E(Y[$])){$++;}if(Y[_]&&E(Y[_])>z){_--;}if($>_){R[i]=null;}else{R[i]=[$,_];Q=true;}}var d1=this.getData().valueAxis;var e1,f1;if(J){e1=d1&&d1.range;if(e1&&e1.length>0){for(i=$;i<e1.length&&i<=_;i++){f1=e1[i];G=Math.min(G,f1[0]);H=Math.max(H,f1[1]);}}}else if(K&&d1){var g1=d1.stackedRange;var h1=d1.lineRange;var i1=g1.length>=h1.length?g1:h1;var j1=g1.length<h1.length?g1:h1;for(i=$;i<i1.length&&i<=_;i++){var k1=i1[i][0];var l1=i1[i][1];if(j1[i]){k1=Math.min(k1,j1[i][0]);l1=Math.max(l1,j1[i][1]);}G=Math.min(G,k1);H=Math.max(H,l1);}}else if(M){var m1=this.getData().timeAxis._sortedTimeStampSet;var n1=this.getChild("plot");if(n1){n1.module._visibleRange={min:$,max:_};}if(m1){if(!Q){$=0;_=m1.length-1;}var o1=0,p1=null;for(i=$;i<m1.length&&i<=_;i++){for(j=0;j<s.length;j++){var q1=s[j][A.bisearch(s[j],m1[i],function(s1){return s1?s1.timeAxis[0].parsedValue:0;})];if(!q1||q1.timeAxis[0].parsedValue!==m1[i]){continue;}if(!p1){p1=q1;}o1=q1.base+q1.valueAxis;G=Math.min(G,o1);H=Math.max(H,o1);}}G=Math.min(G,p1.base);H=Math.max(H,p1.base);}}else{for(i=0;i<W;++i){Y=s[i];if(Q){var r1=R[i];if(!r1){continue;}$=r1[0];_=r1[1];}else{$=0;_=Y.length-1;}for(j=$;j<=_;++j){a1=this._getItemMinMax(Y[j],B.feed);if(!g.isNaN(a1.min)){G=Math.min(G,a1.min);}if(!g.isNaN(a1.max)){H=Math.max(H,a1.max);}}}}}if(G===Infinity&&H===-Infinity){return null;}if(G===0&&H===0){H=1;}return[G,H];};u.prototype._getItemMinMax=function(i,e){return{min:i[e],max:i[e]};};u.prototype._isAdjustValueScaleForTopLabel=function(){var e=this._properties.get("plotArea.dataLabel.position")||this._properties.getDefault("plotArea.dataLabel.position");return e==="outside";};u.prototype.getDisplayedTimeDomain=function(){var e=this.getChildrenByPosition("center")[0];var i=e.getRealSize();var s=e.getSize();var j=e.isHorizontal();var k=this._plot.getOffset();var m=false;if(this._data.rawData&&this._data.rawData.dataModel&&this._data.rawData.dataModel._rawData){m=F.isFiscal(this._data.rawData.dataModel._rawData);}return f.getTimeAxisDomain(s,k,i,this._data.rawData.scales.timeAxis.getDomain(),j,m);};u.prototype._scroll=function(e){var i=this.getChildrenByPosition("center")[0];var j=i.getRealSize();var s=i.getSize();var k=i.isHorizontal();if(this._properties.get("interaction.syncValueAxis")&&((k&&j.height>=s.height)||(!k&&j.width>=s.width))){var m=this._data.rawData;var z=m.dataModel;var B=m.scales;var E=false;if(z&&z._rawData){E=F.isFiscal(z._rawData);}var G=f.getTimeAxisDomain(s,e,j,this._data.timeAxis.scale.getDomain(),k,E);var H=this._getValueAxis(B);var I=this._getValueRange(z.series(),G[0],G[1],H.getOption());if(I==null){I=H.getDomain();}I=t.getValueScaleDomain(this._plot,I,z,G);var J=this._updateValueScaleDomain(I);if(J){var K=this.getChild("timeAxis").module;K.setHasNegativeValue(D.domainWithNegativeValue(I));this.getChild("valueAxis").module.update();}}this._plot.update(e);u.superclass._scroll.apply(this,arguments);};u.prototype._getZoomer=function(){return new n(this);};u.prototype.isColumnLike=function(){return/column|combination|waterfall/.test(this._renderType);};u.prototype.isMultiplySeriesColumn=function(e){var i=false;if(this.isColumnLike()&&e){var j=/timeseries.*stacked_column/.test(this._renderType);var k=/combination/.test(this._renderType);if(!j&&!k){var m=(e.series&&e.series());if(m&&m.length>1){i=true;}}}return i;};u.prototype.isKeepMinimalLevelContinuousTicks=function(e){var i=true;if(this.isColumnLike()&&e){i=false;if(/timeseries_waterfall/.test(this._renderType)){var j=(e.series&&e.series());if(j&&j.length===1){i=true;}}}return i;};u.prototype._getFormatTime=function(e){var i=this._categoryAxis.getFormatTimeValue(e);var s=i.day||"";if(i.day&&i.time){s+=" "+i.time;}else if(i.time){s=i.time;}return s;};u.prototype._getDataRange=function(s,e){var i={start:{},end:{},displayValues:{start:s,end:e}};var j=this.getData().timeAxis;var k=j&&j.scale;if(k){var m=k.getDomain();var z=Math.floor(m[0]+(m[1]-m[0])*s/100);var B=Math.ceil(m[0]+(m[1]-m[0])*e/100);var E=j.metaData[0].id;i.displayValues.start=this._getFormatTime(z);i.displayValues.end=this._getFormatTime(B);i["start"][E]=z;i["end"][E]=B;}return i;};return u;});define('sap/viz/chart/scales/TimeScaleUtil',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/common/util/DataUtils'],function(T,A,D){var s={getDomainInfo:function(a,b){var t=[];var g=D.getDimensionParsedValue;a.forEach(function(n){var o=n.length;if(o){if(!n._sorted){for(var i=0;i<o;++i){if(!n[i]){continue;}t.push(g(n[i].timeAxis[0]));}}else{var p=0;for(p=0;p<n.length;p++){if(n[p]){break;}}t.push(g(n[p].timeAxis[0]),g(n[o-1].timeAxis[0]));}}});var c=A.extent(t);var d=c[0]==null?Infinity:c[0];var e=c[1]==null?-Infinity:c[1];var f=[d,e];var h=d,j=e;var k=false,l=false;var m=b&&b.allowEqual;if(T.isExist(b)){if(T.isExist(b.start)){if(T.isNumber(b.start)){k=true;h=Number(b.start);}else if(T.isNumber(new Date(b.start).getTime())){k=true;h=new Date(b.start).getTime();}}if(T.isExist(b.end)){if(T.isNumber(b.end)){l=true;j=Number(b.end);}else if(T.isNumber(new Date(b.end).getTime())){l=true;j=new Date(b.end).getTime();}}var v=h<j;if(m){v=h<=j;}if(v){d=h;e=j;}else{k=false;l=false;}}return{domain:[Number(d),Number(e)],dataBound:f,domainFixed:[k,l]};}};return s;});define('sap/viz/chart/scales/TimeScaleProcessor',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ScaleRepository','sap/viz/framework/scale/ScaleUtil','sap/viz/chart/scales/TimeScale','sap/viz/chart/scales/TimeScaleUtil','sap/viz/framework/common/util/TimeUtil'],function(T,S,a,b,c,d){var t=function(e,n,s,p,o,f,r){if(!T.isExist(s.getDefault(n))){s.add(n,{serializable:true,defaultValue:{"feed":n,"start":"auto","end":"auto"}});}var g=s.get(n);if(o&&o.allowEqual){g=a.truncateScaleOption(o,g,p);}var h=c.getDomainInfo(o.series,g);var t=new b(h.domain,[0,1],h.domainFixed,{dataBound:h.dataBound});return t;};S["timeScale"]=t;});define('sap/viz/chart/chains/SeriesIterator',[],function(){function g(a,b){var c=a;var d=b;if(a.length>b.length){c=b;d=a;}var m={};var i,l;for(i=0,l=c.length;i<l;++i){m[c[i]]=true;}var r=[];for(i=0,l=d.length;i<l;++i){if(m[d[i]]){r.push(d[i]);}}return r;}function S(s,a){this._seriesBinds=s;this._seriesMeta=a;this._init(s);}var p=S.prototype;p.hasNext=function(){return this._index<this._maxIndex-1;};p.next=function(){if(!this.hasNext()){return null;}this._increasePivot();var a=this._pivots;var s=this._seriesBinds;var b=this._seriesMeta;var r=null;var c=[];var m;for(var i=0,l=this._bindsLength;i<l;++i){if(!s[i].rowArray){continue;}var d=s[i].rowArray[a[i]];m=d.mndIndex;r=r==null?d.reference:g(r,d.reference);c.push({key:b[i],value:d});}var e={index:this._index,reference:r,data:c};if(m!=null){e.mndIndex=m;}return e;};p._init=function(s){var l=[];var m=1;for(var i=0,L=s.length;i<L;i++){var t=s[i].rowArray||s[i].metaData;var a=t.length;l.push(a);m*=a;}this._maxIndex=m;this._bindsLength=L;this._lengthArr=l;this._pivots=l.map(function(){return 0;});this._pivots[L-1]=-1;this._index=-1;};p._increasePivot=function(){this._index++;var a=this._pivots;var l=this._lengthArr;for(var i=a.length;i--;){a[i]++;if(a[i]<l[i]){break;}else{a[i]=0;}}};return S;});define('sap/viz/chart/chains/TYChains',['sap/viz/framework/common/util/TypeUtils','sap/viz/chart/chains/ChainUtils','sap/viz/chart/chains/SeriesIterator','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/chains/BaseChains','sap/viz/framework/common/util/FunctionUtils','sap/viz/framework/common/util/FiscalUtil','sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/binding/BindingManager','sap/viz/chart/chains/SeriesContext'],function Setup(T,C,S,D,N,B,F,c,L,A,d,f){var g={};var h="Dimension";var l=['GetDimensionsFromFlattable','OnBindingFinished','getContext'];g=B.extend('ty',l);g.tyOnBindingStart=function(){g.parsedData=null;g.multiDimensionIndex=null;};g.tyGetBindingSeries=function(r,a,m,b,e,i,j){p(r,a,m,b,i,j);};function n(m,a){for(var i=0,b=a.length;i<b;i++){if(a[i].id===m){return i;}}return-1;}function o(i,a,b,r,I){var t;if(a){i.context=[];for(t=0;t<a.length;++t){i.context.push(a[t][r][I]);}}if(b){i.addition=[];for(t=0;t<b.length;++t){i.addition.push(b[t][r][I]);}}}function p(q,s,u,v,w,x){var y=[];var z=[];var E=[];var G;var H=[];var I=[];var J;var K;var M;var O=[];var P=[];var Q;var R;var i,j,U,V;var W=v.seriesType==="bullet";var X,Y,Z;var $,_;var a1=false;var b1=null;var c1=x&&x.errorOnDuplicate;var d1=x&&x.isTimeStacked;w.some(function(a){if(a.sort===true){a1=true;b1=a.id;return true;}return false;});for(i=0;i<s.length;++i){var e1=s[i];Q=v[e1];if(Q){if(e1==='timeAxis'){G=Q;J=e1;}else{z.push(Q);H.push(e1);}O.push(e1);}}var f1=-1;for(i=0;i<u.length;++i){Y=u[i];Q=v[Y];if(Q){if(Y==='bubbleWidth'){f1=i;}I.push(Y);E.push(Q);P.push(Y);}}var g1=x&&x.allowEmptyMeasure;var h1=z.length;var i1;var j1;var r,k,t;var k1=v.context?v.context.values:null;var l1=v.additionInfo&&v.additionInfo.values;var m1;if(d1){m1=C.getAvailableCategories(E,z);}var n1=W?v.actualValues.metaData.length:1;if(h1===0){for(var ii=0;ii<n1;ii++){M=[];M._mndIndex=ii;if(G&&G.values&&G.values.length){var p1=G.values[0];if(x&&x.isTimeStacked){p1.sort(function(a,b){if(a&&b){return a.parsedValue-b.parsedValue;}else if(!a){return-1;}else if(!b){return 1;}});}for(var jj=0;jj<p1.length;jj++){R={};var r1=p1[jj];for(k=0;k<I.length;++k){_=E[k];if(x&&x.isTimeStacked){K=_.values[jj];}else{K=_.values[jj][ii];}i1=f1===k?true:T.isExist(K);if(T.isExist(r1)&&(i1||x.allowEmptyMeasure)){if(!R[J]){R[J]=[r1];}R[I[k]]=K==null?K:+K;if(!i1){if(W){R.isNullValue=true;}if(x.breakOnEmptyMeasure){R._break=true;}}o(R,k1,l1,jj,0);}}if(!T.isEmptyObject(R)){if(W){R._cateIndex=jj;}M.push(R);}}}y.push(M);}}else{X=C.parseData(q,G.metaData[0].id,g.parsedData);Y=I.map(function(m){return v[m].metaData.map(function(a){return C.parseData(q,a.id,g.parsedData);});});j1=Y.map(function(m){return m[0];});var s1;if(W&&n1>1){s1=new S(z.concat(E[0]),H.concat(I[0]));}else{s1=new S(z,H);}var t1=0;while(s1.hasNext()){var u1=s1.next();M=y[u1.index]=[];var v1=Y;var w1=I;if(a1){M._mndIndex=0;}if(u1.hasOwnProperty("mndIndex")){var x1=u1.mndIndex;var y1=n(x1,E[0].metaData);z[0].rowArray[s1._index].mndIndex=y1;M._mndIndex=y1;v1=[Y[0][y1]];}else{if(!W){v1=j1;}else{v1=Y.map(function(m){return m[t1%n1];}).filter(function(e){return!!e;});}}Z=u1.reference;if(Z.length>0&&d1){var z1=Z.map(function(R){return{index:R,value:X[R]};});if(z1){A.stableSort(z1,function(a,b){if(a.value===b.value&&c1){F.error(L.getLogMessage('IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL'));}if(!a.value||!b.value){return-1;}if(a.value.parsedValue===b.value.parsedValue&&c1){F.error(L.getLogMessage('IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL'));}return a.value.parsedValue-b.value.parsedValue;});z1.map(function(R,a){Z[a]=R.index;});}}var A1=u1.data;for(i=0,U=Z.length;i<U;++i){r=Z[i];K=v1.map(function(a){return a[r];});i1=K.every(function(a,i){if(i===f1){return true;}return T.isExist(a);});if(T.isExist(X[r])&&(g1||i1)){R={};if(W&&!i1){var B1=K.every(function(a,i){return!T.isExist(a);});if(B1){R.isNullValue=true;}}R[J]=[X[r]];w1.forEach(function(m,i){R[m]=K[i];});A1.forEach(function(a){R[a.key]=a.value;});if(!i1&&x.breakOnEmptyMeasure){R._break=true;}if(!d1){o(R,k1,l1,r,0);M.push(R);}else{if(x.dataShapes&&x.dataShapes[M._mndIndex]==="line"){M.push(R);}else{M[m1[t1][i]]=R;}var C1=m1[t1][i];o(R,k1,l1,C1,t1);}if(!T.isEmptyObject(R)){if(W){R._cateIndex=r;}}}}t1++;}}v.dimensions=O;v.measures=P;v.series=y;v.seriesContext=f(y,H,z,E);if(!a1){return;}var D1=[];var E1=D.getDimensionParsedValue;var F1=function(a,b){return E1(a[b1][0])-E1(b[b1][0]);};for(i=y.length;i--;){M=y[i];if(!d1||h1===0){A.stableSort(M,F1);M._sorted=true;}if(!c.isFiscal(q)){M._sorted=true;}var G1=D1[M._mndIndex]=D1[M._mndIndex]||[Infinity,-Infinity];var H1=null;for(j=M.length;j--;){var I1=M[j];var J1=M[j-1];var K1=H1===null?E1(I1[J][0]):H1;H1=J1&&E1(J1[J][0]);if(d1&&!I1){continue;}var L1=I1[I];if(K1===H1){if(c1){F.error(L.getLogMessage('IDS_ERROR_DATA_NOT_MATCHING_TIME_LEVEL'));}if(!T.isExist(J1[I])){J1[I]=L1;}M.splice(j,1);}else{G1[0]=Math.min(G1[0],L1);G1[1]=Math.max(G1[1],L1);}}}if(v.valueAxis2){v.valueAxis2.range=D1;}else if(v.valueAxis){v.valueAxis.range=D1;}}g.tyGetMeasuresFromFlattable=function(r,a,m,b,j,k,q){g.parsedData=C.getData(r,b,g.parsedData,q);var s=[],t=[];var u=/bubbleWidth/.test(k);for(var i=0;i<a.length;i++){var v=s[i]=C.parseData(r,a[i],g.parsedData);if(u){v=v.slice();v.forEach(function(e,i){if(e==null){v[i]=0;}if(e<0){v[i]=-e;}});}t[i]=A.extent(v.filter(function(e){return e!=null;}).map(function(e){return+e;}));}if(m.length!==s.length&&s.length>1){s=[s[s.length-1]];a=[a[a.length-1]];t=[t[t.length-1]];}return{values:A.transpose(s),metaData:C.buildMetaData(r,a),range:t};};Object.keys(g).forEach(function(k){d.registerChain(k,g[k]);});return g;});define('sap/viz/chart/behavior/config/handler/TimeLassoBehaviorHandler',['sap/viz/framework/common/util/oo',"sap/viz/chart/behavior/config/handler/LassoBehaviorHandler","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/ContextualDataUtil",'sap/viz/chart/components/util/ValueAxisUtils','sap/viz/framework/common/util/FiscalUtil',"sap/viz/framework/interaction/Constants"],function(o,L,D,C,V,F,a){var t=function(){};o.extend(t,L);t.prototype.processTimeRange=function(e,s){if(s.getStatus("rangeSelection")){var m=s.getModule("main.plot");var r=m.getRealSize();var p=m.getSize();var b=m.getOffset();var c=s.getBBox(s.BoxType.PLOT_BOUND_NODE);var R=s.getBBox(s.BoxType.RANGE_SELECTION);var d=s.getTransformScaleRatio();R.width=R.width/c.width*p.width;var f={x:b.x-(R.left-c.left)/c.width*p.width,y:0};var g=s.getExtendTimeRange();f.x*=d.x;f.y*=d.y;r.width*=d.x;r.height*=d.y;var i=false;var h=s.getDataModel();if(h&&h._rawData){i=F.isFiscal(h._rawData);}var j=V.getTimeAxisDomain(R,f,r,g,m.isHorizontal(),i);if(i){j[0]=parseInt(F.quantityToFiscal(Math.round(j[0]),s.getProperties()).fiscalString);j[1]=parseInt(F.quantityToFiscal(Math.round(j[1]),s.getProperties()).fiscalString);e.data.isConvertedFiscalStamp=true;}else{j[0]=Math.round(j[0]/100)*100;j[1]=Math.round(j[1]/100)*100;}s.setStatus("rangeDomain",j);s.fireEvent("showDetail",e.data);}};t.prototype.refreshTimeRange=function(e,s){var b=s.getProperties().get("interaction.selectability.mode");var c=b?b.toUpperCase():b;var m=s.getProperties().get("interaction.selectability.plotLassoMode");if(!(m!=='range'||!s.getStatusManager().get("interaction.holdSelection")||c===a.SELECTION_MODE.NONE||c===a.SELECTION_MODE.SINGLE)){this._lassoDecoration.rangeRecover(e);}s._rootNode.node().style.cursor="default";};t.prototype.rangeRecover=function(e,s){this._lassoDecoration.rangeRecover(e);};t.prototype.changeRangeEffect=function(e,s){this._lassoDecoration.changeRangeEffect(e);};t.prototype._getStartEnd=function(s,r){var d=s.getDataModel();if(d&&d._rawData&&F.isFiscal(d._rawData)){r.start=F.fiscalToQuantity(r.start,s.getProperties());r.end=F.fiscalToQuantity(r.end,s.getProperties());}return r;};t.prototype._postProcessTargets=function(s,i){i=t.superclass._postProcessTargets.apply(this,arguments);var b=s.getProperties().get('interaction.selectByTimeAxisGroup');if(b){var g=[];i.forEach(function(c){if(g.indexOf(c)===-1){var d=s.getNodes(s.NodeType.DATA_POINT_GROUP,false)[0];var e=D.findByDataPointId(d,c);var f=C.getDataPointsByTimeField(e,s).map(function(n){return D.getDataPointId(n);});g=g.concat(f);}});if(g.length>0){i=g;}}return i;};return t;});define('sap/viz/chart/behavior/config/TimeLassoBehaviorConfig',["sap/viz/chart/behavior/config/handler/TimeLassoBehaviorHandler","sap/viz/framework/interaction/BehaviorManager"],function(L,B){var e="v-m-root";var a=['info/timeseries_line','info/timeseries_column','info/timeseries_scatter','info/timeseries_bubble',"info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_stacked_combination","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];var t=[{"id":"timeLassoBehaviorDefinition","handler":L,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialized"},{"name":"beforeBehaviorUnloaded","method":"unloadClear"},{"name":"lassostart","targets":e,"supportedChartTypes":a,"excludeTargets":"v-m-scrollbarThumb","method":"lassoStart"},{"name":"lassomove","supportedChartTypes":a,"targets":e,"method":"lassoMove"},{"name":"lassoend","supportedChartTypes":a,"targets":e,"method":"lassoEnd"},{"name":"afterChartRendered","targets":e,"method":"refreshTimeRange","supportedChartTypes":a},{"name":"rangeRecover","targets":e,"method":"rangeRecover","supportedChartTypes":a},{"name":"timeRangeChanged","targets":e,"method":"processTimeRange","supportedChartTypes":a},{"name":"changeRangeEffect","targets":e,"method":"changeRangeEffect","supportedChartTypes":a}]}];B.registerAll(t);return t;});define('sap/viz/chart/views/TimeYChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/TimeYPlotArea','sap/viz/chart/components/legend/CombinationLegend','sap/viz/chart/components/legend/LineLegend','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/components/util/TextUtils","sap/viz/chart/scales/TimeScaleProcessor","sap/viz/chart/chains/TYChains","sap/viz/chart/dynamicScales/StackedDyScaleProcessor","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function Setup(o,C,P,a,L,D,T,b){var c=function(r,d){c.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(c,C);c.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}c.superclass.setSize.apply(this,arguments);};c.prototype._getDataItems=function(){return["valueAxis","timeAxis","color","series","seriesContext"];};c.prototype._getLegendInitOptions=function(){return[{noFillSupport:true}];};c.prototype._createPlotContainer=function(){this._plotArea=new P(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};c.prototype.isBar=function(){return this._renderType.search(/bar|column/)!==-1&&!/timeseries.*column/.test(this._renderType);};c.prototype.isCombination=function(){return this._renderType.search(/combination/)!==-1;};c.prototype.isLine=function(){return this._renderType.indexOf("line")!==-1;};c.prototype._getLegendDefinition=function(){if(this.isCombination()){return[a];}else if(this.isLine()){return[L];}else{return c.superclass._getLegendDefinition.apply(this,arguments);}};c.prototype._getLegendInitOptions=function(){if(this.isBar()){return[{noFeeding:true,noFillSupport:true}];}else{return[{noFillSupport:true}];}};c.prototype.calculatePaddingInPX=function(p){var d=c.superclass.calculatePaddingInPX.apply(this,arguments);if((p.get("title.visible")===false)&&(p.get("valueAxis.visible")===true)){this.changePaddingTop(p,d);}return d;};return c;});define('sap/viz/chart/metadata/bindings/TimeYBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/plotareas/TimeBulletPlotArea',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plotareas/TimeYPlotArea","sap/viz/chart/components/plotareas/BulletPlotArea",'sap/viz/framework/common/util/TypeUtils'],function(o,T,B,a){function b(){b.superclass.constructor.apply(this,arguments);}o.extend(b,T);b.prototype.isColumnLike=function(){return true;};b.prototype._getValueAxis=function(d){return d.actualValues;};b.prototype._getItemMinMax=function(i){var c=i["actualValues"];var d=i["additionalValues"];var t=i["targetValues"];var s=a.isNumber(c)&&a.isNumber(d)?d+c:undefined;var e=[c,d,s,t].filter(a.isNumber);var m=e.length>0?Math.min.apply(null,e):undefined;var f=e.length>0?Math.max.apply(null,e):undefined;return{min:m,max:f};};b.prototype.updateValueScale=function(){var d=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(this.isColumnLike()&&d&&w>0&&h>0){this._updateTimeScale(d.timeAxis,this._categoryAxis,{minTimeLevel:(this.runtime().statusManager().get('timeLevels')||[])[0]||["day"],showAsUTC:this.properties("general.showAsUTC")});}return B.prototype.updateValueScale.apply(this,arguments);};return b;});define('sap/viz/chart/chains/TBulletChains',['sap/viz/chart/chains/BaseChains','sap/viz/chart/chains/TYChains','sap/viz/chart/chains/BulletChains','sap/viz/framework/common/util/BulletUtils','sap/viz/framework/binding/BindingManager'],function Setup(B,T,a,b,c){var t={};t=B.extend('tBullet',[]);Object.keys(T).forEach(function(i){var n=i.replace(/^ty/,"tBullet");t[n]=T[i];});t.tBulletGetBindingSeries=function(r,d,m,e,f,g,o){T.tyGetBindingSeries(r,d,m,e,f,g,o);b.bulletSetMinMax(e);};t.tBulletGetMeasuresFromFlattable=a.bulletGetMeasuresFromFlattable;Object.keys(t).forEach(function(k){c.registerChain(k,t[k]);});return t;});define('sap/viz/chart/views/TimeBulletChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/BulletChartView","sap/viz/chart/components/plotareas/TimeBulletPlotArea","sap/viz/chart/scales/BulletColorScale","sap/viz/chart/chains/TBulletChains","sap/viz/chart/scales/TimeScaleProcessor","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function(o,B,T,a){var b=function(){b.superclass.constructor.apply(this,arguments);};o.extend(b,B);b.prototype._getDataItems=function(){return["actualValues","additionalValues","color","series","timeAxis","targetValues","forecastValues"];};b.prototype._createPlotContainer=function(){this._plotArea=new T(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};b.prototype._dataChanged=function(){if(this._data&&!this._data.color){this._data.color=this._createSeries(this._data);}b.superclass._dataChanged.apply(this,arguments);};b.prototype._createSeries=function(d){var m='actualValues,additionalValues,forecastValues,targetValues'.split(',').reduce(function(c,f){if(d[f]&&d[f].metaData){c[f]=d[f].metaData.map(function(e){return e.name||e.id;});}return c;},{});return{scale:new a([],this.runtime()._propertyMgr,{mnds:m})};};return b;});define('sap/viz/chart/metadata/bindings/TimeBulletBindings',[],function(){return[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"actualValues","name":"IDS_PRIMARY_VALE","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"additionalValues","name":"IDS_ADDITIONAL_VALE","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"targetValues","name":"IDS_TARGETVALUES","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"mark.target"}];});define('sap/viz/chart/metadata/bindings/TimeYCombinationBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"configurable":false,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":1,"MNDOnly":true,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":2,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/plotareas/TimeYYPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo',"sap/viz/chart/scales/ValueScaleUtil",'sap/viz/chart/components/plotareas/TimeYPlotArea','sap/viz/chart/components/plotareas/XYYPlotArea','sap/viz/chart/components/plots/TYPlotFactory','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/ArrayUtils",'sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/FiscalUtil','sap/viz/chart/components/axis/TimeAxis',],function(C,o,V,T,X,P,a,b,c,d,U,e,A,D,B,N,F,f){var g=function(r,h){g.superclass.constructor.apply(this,arguments);};o.extend(g,T);var p=g.prototype;p._getPlotOptions=function(){return{isDualValueAxis:true};};p.setData=function(h){g.superclass.setData.apply(this,arguments);this._applyDefaultProperties(h);};p._applyDefaultProperties=function(h){X.prototype._applyDefaultProperties.apply(this,arguments);};p.allOrNone=function(r,h){X.prototype.allOrNone.apply(this,arguments);};p._init=function(){this._plot=a.create(this._renderType,P.getPlotClazz(this._renderType),this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var i=!this._properties.get("interaction.noninteractiveMode");this.setLayoutSequence(['left','right',this.allOrNone.bind(this),'bottom','top']);this._categoryAxis=new f(this.runtime(),{name:"timeAxis",hasScrollbar:i,isColumnLike:this.isColumnLike(),rawData:this._rawData});this.setChild("timeAxis",this._categoryAxis,{position:"bottom"});this._valueAxis=new b(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});this._valueAxis2=new b(this.runtime(),{name:"valueAxis2"});this.setChild("valueAxis2",this._valueAxis2,{position:"right"});if(i){this._hScrollbar=this._categoryAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);this._valueAxis2.setPercentageMode(true);}this.getZoomer().init({main:this,plot:this._plot,isHorizontal:false});};p._preRender=function(){g.superclass._preRender.apply(this,arguments);this._runtime.statusManager().add('globalDomain2',{value:this._valueAxis2._scale.getDomain(),readonly:true});};p.updateValueScale=function(){this._adjustTimeDomain();return X.prototype.updateValueScale.call(this);};p._updateValueScaleDomain=function(h,v){var i=this._data;var w=this._roughSize.width;var j=this._roughSize.height;if(!i||w<=0||j<=0){return false;}var r=[0,1];if(this._plot.isHorizontal()){r[1]=w;}else{r[1]=j;}r[1]*=0.8;var s=i[v].scale;var k=s.getDomain().slice();s.setDomain(h);var l=c.calcScale(s,r,{keepAutoScale:true,isLineChart:this._isLineChart()});h=l.scale.getDomain();s.setDomain(h);i[v].tickHint=l.tickHint;i[v].scale.setRange([0,1]);this['_'+v].setData(i[v],true);return(k[0]!==h[0]||k[1]!==h[1]);};p._scroll=function(h){var j=this.getChildrenByPosition("center")[0];var r=j.getRealSize();var s=j.getSize();var k=j.isHorizontal();if(this._properties.get("interaction.syncValueAxis")&&((k&&r.height>s.height)||(!k&&r.width>s.width))){var l=this._data.rawData;var m=l.dataModel;var n=l.scales;var q=false;if(m&&m._rawData){q=F.isFiscal(m._rawData);}var t,u=c.getTimeAxisDomain(s,h,r,this._data.timeAxis.scale.getDomain(),k,q);var v=this._getValueRange(m.series().filter(function(z){for(var i=0;i<z.length;i++){if(z[i]){return z[i].hasOwnProperty('valueAxis');}}return false;}),u[0],u[1],n.valueAxis.getOption());if(v==null){v=n.valueAxis.getDomain();}var w=this._updateValueScaleDomain(v,'valueAxis');if(w){t=this.getChild("timeAxis").module;t.setHasNegativeValue(D.domainWithNegativeValue(v));this.getChild("valueAxis").module.update();}var x=this._getValueRange(m.series().filter(function(z){for(var i=0;i<z.length;i++){if(z[i]){return z[i].hasOwnProperty('valueAxis2');}}return false;}),u[0],u[1],n.valueAxis2.getOption());if(x==null){x=n.valueAxis2.getDomain();}var y=this._updateValueScaleDomain(x,'valueAxis2');if(y){t=this.getChild("timeAxis").module;t.setHasNegativeValue(D.domainWithNegativeValue(x));this.getChild("valueAxis2").module.update();}}this._plot.update(h);T.superclass._scroll.apply(this,arguments);};return g;});define('sap/viz/chart/views/TimeYYChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/TimeYChartView","sap/viz/chart/components/plotareas/TimeYYPlotArea","sap/viz/chart/scales/FrameScaleProcessor","sap/viz/chart/scales/ShapeScaleProcessor","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function Setup(o,T,a){var b=function(r,c){b.superclass.constructor.apply(this,arguments);};o.extend(b,T);b.prototype._getDataItems=function(){return["valueAxis","valueAxis2","timeAxis","color","color2","series"];};b.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime(),{renderType:this._renderType,rawData:this._rawData});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};return b;});define('sap/viz/chart/metadata/bindings/TimeYYBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"configurable":false,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":1,"MNDOnly":true,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.secondValue"}];return f;});define('sap/viz/chart/metadata/bindings/TimeYStackedCombinationBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":2,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/metadata/bindings/YYTimeBindings',[],function Setup(){var f=[{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"shape","name":"IDS_SHAPE","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.shape"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":false,"role":"layout.time"},{"id":"bubbleWidth","name":"IDS_BUBBLESIZE","type":"Measure","min":1,"max":1,"role":"mark.size"}];return f;});define('sap/viz/chart/components/datalabels/StackedWaterfallDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/datalabels/DataLabels'],function(o,C,D,c,d,e){var s=[0,1];var S=function(a,b){S.superclass.constructor.apply(this,arguments);this._labelPosition="stackedWaterfall";};o.extend(S,e);S.prototype.verticalLabelOffset=-3;S.prototype.horizontalLabelOffset=6;S.prototype._getStyle=function(a){var p=this._properties;var b=S.superclass._getStyle.apply(this,arguments);var f=d.getContext(a);if(f&&f.hasOwnProperty('Type')&&this._data.waterfallTypeScale.scale(f.Type)!==0){b["font-weight"]="bold";b["cssString"]="fill:"+b.fill+";font-family:"+p.get('style.fontFamily')+";font-size:"+p.get('style.fontSize')+";font-weight:"+"bold"+";font-style:"+p.get('style.fontStyle')+";";}return b;};S.prototype.hideConditional=function(a){for(var i=a.length-1;i>=0;i--){var b=a[i];var f=b.node;var g=d.getContext(f);var h=this._data.waterfallTypeScale.scale(g?g.Type:null);if(this.isDataLabelOutOfDataPoint(f,b)&&h!==1){D.remove(f);a.splice(i,1);}}return S.superclass.hideConditional.apply(this,arguments);};S.prototype.sortDataLabelInfos=function(f){var n,N,g,h;var _=this;f.sort(function(a,b){n=d.getContext(a.node);g=_._data.waterfallTypeScale.scale(n?n.Type:null);N=d.getContext(b.node);h=_._data.waterfallTypeScale.scale(N?N.Type:null);return s.indexOf(g)-s.indexOf(h);});};S.prototype._computeDataLabelPosition=function(a,b,l,f,g,n){var x,y;var h=b.x+a.e;var i=b.y+a.f;var j=this._horizontal?this.horizontalLabelOffset:this.verticalLabelOffset;if(this._horizontal){y=(i+b.height/2)-(f.y+f.height/2);if(this._data.waterfallTypeScale.scale(g.ctx.Type)!==0){x=h+b.width+j;}else{x=(h+b.width/2)-(f.x+f.width/2);}}else{x=(h+b.width/2)-(f.x+f.width/2);if(this._data.waterfallTypeScale.scale(g.ctx.Type)!==0){y=i-(f.y+f.height);if(y+f.y<0){y=-f.y-j;}else{y=y+j;}}else{y=(i+b.height/2)-(f.y+f.height/2);}}return[x,y];};S.prototype.drawZero=function(a){return false;};return S;});define('sap/viz/chart/components/plots/StackedWaterFallPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/plots/WaterFallPlot','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/datalabels/StackedWaterfallDataLabels','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/TypeUtils','sap/viz/chart/util/WaterfallUtils'],function Setup(o,D,S,a,W,C,b,c,I,d,P,e,O,f,g,U,h,k,l,T,m){var n=function(r,i){n.superclass.constructor.apply(this,arguments);};o.extend(n,a);n.prototype._isSupportNoFill=function(){return false;};var N=0.5;var p=k.CSS.CLASS.WATERFALL_LINKLINE;n.prototype.setData=function(i){if(i&&i.waterfallType&&i.waterfallType.scale){i.waterfallTypeScale=i.waterfallType.scale;}n.superclass.setData.apply(this,arguments);return this;};n.prototype.render=function(s){var w=this._size.width,i=this._size.height;this._size.width=w<0?0:w;this._size.height=i<0?0:i;n.superclass.render.apply(this,arguments);};n.prototype._getDataHandler=function(){return{"valueAxis":c.getSTKWTFHandler()};};n.prototype._getXPosition=function(s,i,j){var r=this._dataHandler;var t=this._xHandlers[0];return W.prototype._getXYPosition.call(this,s,i,j,t,r[t.id]);};n.prototype._getYPosition=function(s,i,j){var r=this._dataHandler;var t=this._yHandlers[0];return W.prototype._getXYPosition.call(this,s,i,j,t,r[t.id]);};n.prototype._getValueScaleHandlers=function(i){return[b.getWTFScaleHandler("valueAxis",{isHorizontal:this.isHorizontal()})];};n.prototype._drawDatapoints=function(i){var j={'validAxisData':this._needValidEmptyAxisData()};q.call(this,i,j);};n.prototype._updateDatapoints=function(i){var j={'updateOnly':true,'validAxisData':this._needValidEmptyAxisData()};q.call(this,i,j);};function q(j,r){var u=false;var s=false;if(r&&r.hasOwnProperty('updateOnly')){u=r.updateOnly;}if(r&&r.hasOwnProperty('validAxisData')){s=r.validAxisData;}var t=this._getSeries();var v=t.length;var w;if(u){w=j.select("."+k.CSS.CLASS.DATAPOINT_GROUP).node();}else{w=S.create("g");w.setAttribute("class",k.CSS.CLASS.DATAPOINT_GROUP);}if(!u&&this._seriesRenderer){this._seriesRenderer.init(v);}for(var x in this._dataHandler){if(this._dataHandler[x].reset){this._dataHandler[x].reset();}}var y;var z=0;var A=[],B;this._selection.selectAll("."+p).remove();var E=S.create("g");for(var F=0;F<v;F++){var G=t[F];if(!G){continue;}var H=null;for(var J=0;J<G.length;J++){var K=G[J];if(!K){continue;}if(s===true){var L=K.valueAxis===undefined||K.valueAxis===null;var M=K.valueAxis2===undefined||K.valueAxis2===null;if(L&&M){continue;}}var Q=this._getPosition(F,J,K);if(!Q){continue;}y=z++;var R=K.dp.context();if(R[R.measureNames]===null){R[R.measureNames]=K.valueAxis;}var V=this._buildWrapperConfig(K,Q,R);if(!H){H="valueAxis";}A[J]=A[J]||{};B=A[J][H]=A[J][H]||{configs:[],positions:[],currentIds:[],dataPoints:[]};if(u){if(!B.node){var X=h.find(w,y);var Y=X;while((Y=Y.parentNode)&&!l.hasClass(Y,k.CSS.CLASS.STACK)){}B.node=Y;}}else{var Z=this._buildData(V);B.data=B.data||[];B.data.push(Z);}B.configs.push(V);B.dataPoints.push(K.dp);B.positions.push(Q);B.currentIds.push(y);}}var $=this._getDataPointRenderer(F);for(var i=0;i<A.length;i++){var _=A[i];for(var a1 in _){if(_.hasOwnProperty(a1)){B=_[a1];if(!B){continue;}var cp=this._drawCategory(B,$,[]);if(cp){w.appendChild(cp);}}}}if(A.length>1){this._drawLine(E,A);}w.appendChild(E);if(!u){this._postRender(w);j.node().appendChild(w);this._dataLabels._gridlineScale=this._gridlineScale;this._drawDataLabels(j,w);}else{var c1=j.selectAll('.'+k.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(j,c1);}}n.prototype._getGap=function(){var i,j;if(this.isHorizontal()){i=this._getYPosition(0,0,{valueAxis:0,total:0,base:0});j=this._getYPosition(0,1,{valueAxis:0,total:0,base:0});return j[0]-i[0];}else{i=this._getXPosition(0,0,{valueAxis:0,total:0,base:0});j=this._getXPosition(0,1,{valueAxis:0,total:0,base:0});return j[0]-i[0];}};n.prototype._getHorizontalLine=function(i,j,w,r,s){var t,u,v;var x;var y=N;var z=i.length-1;var A=i[0];var B=j[0];var E=this._getGap();var F=E-B.height;var G=A.ctx[A.ctx.measureNames]<0;if(1===w||2===w){A=i[z];B=j[z];G=A.ctx[A.ctx.measureNames]<0;x=!G?Math.round(B.x+B.width):Math.round(B.x+y);if(r!==0){t={'y1':Math.round(B.y-F/2),'y2':Math.round(B.y+B.height)};t.x1=t.x2=x;}if(r!==this._data.series[0].length-1){u={'y1':Math.round(B.y),'y2':Math.round(B.y+B.height+F/2)};u.x1=u.x2=x;}if(w===2){A=i[0];B=j[0];G=A.ctx[A.ctx.measureNames]<0;v={'y1':Math.round(B.y-E*s),'y2':Math.round(B.y+B.height)};x=!G?Math.round(B.x):Math.round(B.x+B.width+y);v.x1=v.x2=x;}}else{if(r!==0){t={'y1':Math.round(B.y-F/2),'y2':Math.round(B.y+B.height)};x=!G?Math.round(B.x):Math.round(B.x+B.width+y);t.x1=t.x2=x;}A=i[z];B=j[z];G=A.ctx[A.ctx.measureNames]<0;if(r!==this._data.series[0].length-1){u={'y1':Math.round(B.y),'y2':Math.round(B.y+B.height+F/2)};x=!G?Math.round(B.x+B.width):Math.round(B.x+y);u.x1=u.x2=x;}}return{'lLine':t,'rLine':u,'subLine':v};};n.prototype._getVerticalLine=function(i,j,w,r,s){var t,u,v;var y;var x=N;var z=i.length-1;var A=i[0];var B=j[0];var E=this._getGap();var F=E-B.width;var G=A.ctx[A.ctx.measureNames]<0;if(1===w||w===2){A=i[z];B=j[z];G=A.ctx[A.ctx.measureNames]<0;y=!G?Math.round(B.y):Math.round(B.y+B.height+x);if(r!==0){t={'x1':Math.round(B.x-F/2),'x2':Math.round(B.x+B.width)};t.y1=t.y2=y;}if(r!==this._data.series[0].length-1){u={'x1':Math.round(B.x),'x2':Math.round(B.x+B.width+F/2)};u.y1=u.y2=y;}if(w===2){A=i[0];B=j[0];G=A.ctx[A.ctx.measureNames]<0;v={'x1':Math.round(B.x-E*s),'x2':Math.round(B.x+B.width)};y=!G?Math.round(B.y+B.height):Math.round(B.y+x);v.y1=v.y2=y;}}else{if(r!==0){t={'x1':Math.round(B.x-F/2),'x2':Math.round(B.x+B.width)};y=!G?Math.round(B.y+B.height):Math.round(B.y+x);t.y1=t.y2=y;}A=i[z];B=j[z];G=A.ctx[A.ctx.measureNames]<0;if(r!==this._data.series[0].length-1){u={'x1':Math.round(B.x),'x2':Math.round(B.x+B.width+F/2)};y=!G?Math.round(B.y):Math.round(B.y+B.height+x);u.y1=u.y2=y;}}return{'lLine':t,'rLine':u,'subLine':v};};n.prototype._drawLine=function(r,s){var v=this._properties.get("linkline.visible");if(!v){return;}var t=[];var u;var i,w;for(i=0;i<s.length;i++){var x=s[i];for(var y in x){if(x.hasOwnProperty(y)){w=x[y];if(!w){continue;}var z=w.configs;var A=true;for(var j=0;j<z.length;j++){if(null!==z[j].ctx[z[j].ctx.measureNames]){A=false;break;}}if(A){continue;}var B=null;var E=this._data.waterfallType.values;if(E&&E.hasOwnProperty(i)){if(T.isArray(E[i])){B=E[i][E[i].length-1];}else{B=E[i];}}var F=this._data.waterfallType.scale.scale(B);var G=this._getChildNumScale(B);if(this.isHorizontal()){u=this._getHorizontalLine(z,w.positions,F,i,G);}else{u=this._getVerticalLine(z,w.positions,F,i,G);}if(u.lLine){t.push(u.lLine);}if(u.rLine){t.push(u.rLine);}if(2===F){t.push(u.subLine);}}}}m.drawLines(t,this._properties,this.isHorizontal(),r,true);};n.prototype._getDataLabels=function(i,r){this._datalabels=new g(r,{name:i,horizontal:this.isHorizontal()});return this._datalabels;};n.prototype._buildWrapperConfig=function(i,j,r){var s=n.superclass._buildWrapperConfig.apply(this,arguments);var w=this._data.waterfallType.scale.scale(i.waterfallType);if(1===w&&!s.matchSemantic){var t=this._properties.get("dataPoint.color.total");var u=this._effectManager;if(t&&u.isColorProp(t)){s.graphic.fill=u.parseColorProperty(t,s.graphic.fill);}else{s.graphic.fill=t;}}return s;};n.prototype._getChildNumScale=function(w){return this._data.waterfallType.scale.childrenNum(w);};return n;});define('sap/viz/chart/components/plots/WaterFallPlotFactory',['jquery','sap/viz/chart/components/plots/WaterFallPlot','sap/viz/chart/components/plots/StackedWaterFallPlot'],function($,W,S){var p={'waterfall':{plotClazz:W},'stacked_waterfall':{plotClazz:S},'horizontal_waterfall':{plotClazz:W},'horizontal_stacked_waterfall':{plotClazz:S},};return{getPlotClazz:function(r){var c=p[r];return c&&c.plotClazz;}};});define('sap/viz/chart/components/axis/renderer/WaterfallCategoryBodyRenderer',["sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer","sap/viz/framework/common/util/oo"],function(O,a,o){var r=function(){r.superclass.constructor.apply(this,arguments);};o.extend(r,a);r.prototype._createLabelStyle=function(e,s){r.superclass._createLabelStyle.apply(this,arguments);this._propStyleTotal=O.clone(this._propStyle);this._propStyleTotal.fontWeight="bold";};r.prototype._getLabelStyle=function(d,i){if(d&&d._waterfallType!==undefined&&d._waterfallType!==0){return O.clone(this._propStyleTotal);}return r.superclass._getLabelStyle.apply(this,arguments);};return r;});define('sap/viz/chart/components/axis/sub/WaterfallCategoryAxisBody',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/axis/sub/CategoryAxisBody","sap/viz/chart/components/axis/renderer/WaterfallCategoryBodyRenderer"],function(o,T,C,W){var a=function(){a.superclass.constructor.apply(this,arguments);this.setBodyRenderer(new W());};o.extend(a,C);a.prototype._buildLayers=function(s){var l=a.superclass._buildLayers.apply(this,arguments);if(s._waterfallType&&l&&l.length>0&&l[l.length-1].cells){var v=s._waterfallType.values;if(v){var t=v.length;var c=l[l.length-1].cells;for(var i=0;i<c.length;i++){var b=null;if(T.isArray(v[i])){for(var j=0;j<v[i].length;j++){if(v[i][j]!==undefined){b=v[i][j];break;}}}else{b=v[i];}c[i]._waterfallType=s._waterfallType.scale.scale(i<t?b:null);}}}return l;};a.prototype.getLayoutCellsConfig=function(){var c=a.superclass.getLayoutCellsConfig.apply(this,arguments);if(c&&c.propStyle){c.propStyle.fontWeight="bold";if(c.propParentStyle){c.propParentStyle.fontWeight="bold";}}return c;};return a;});define('sap/viz/chart/components/axis/WaterfallCategoryAxis',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/components/axis/sub/WaterfallCategoryAxisBody"],function(o,C,W){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,C);a.prototype.setData=function(d,h){if(d&&d.hasOwnProperty("categoryAxis")){a.superclass.setData.call(this,d.categoryAxis,h);this._hasNegativeValue=h;if(d.categoryAxis.scale){this._scale=d.categoryAxis.scale;this._scale._waterfallType=d.waterfallType;}}};a.prototype._setAxisBody=function(r,b){this.setChild("axisBody",new W(r,b),{order:1,priority:2,offset:0});};return a;});define('sap/viz/chart/components/plotareas/WaterfallPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/WaterFallPlotFactory','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/WaterfallCategoryAxis','sap/viz/framework/common/util/DataUtils'],function Setup(o,P,X,W,D){var C=0.8;var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,X);a.prototype._setAxisData=function(d){this._categoryAxis.setData(d,D.hasNegativeValue(d));};a.prototype._isAdjustValueScaleForTopLabel=function(){return true;};a.prototype._getCategoryAxisClass=function(){return W;};a.prototype._isHorizontal=function(){return this._renderType.indexOf("horizontal")>-1;};a.prototype._getPlotClazz=function(r){return P.getPlotClazz(r);};return a;});define('sap/viz/chart/components/legend/WaterFallLegend',["sap/viz/framework/common/util/oo","sap/viz/chart/components/legend/ColorLegend","sap/viz/chart/components/legend/LineLegend","sap/viz/framework/common/util/Constants","sap/viz/chart/scales/ColorScale","sap/viz/framework/scale/ColorShapeScaleMerger","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/StatusConstants","sap/viz/framework/common/util/TypeUtils"],function(o,C,L,c,d,e,f,O,S,T){var I=c.CSS.CLASS.LEGENDITEM,g="v-legend-element";var h=['positiveValue','negativeValue','total'];var M='measureNames';var W=function(r,a){W.superclass.constructor.apply(this,arguments);this._labelText={'total':null,'positiveValue':null,'negativeValue':null};this._legendColor={'total':null,'positiveValue':null,'negativeValue':null};this._isSemanticColoring=null;this._colorPalette=null;this._validItems=null;this._recapVisible=null;};o.extend(W,C);function k(_,a){var m;if(a&&a.valueAxis&&a.valueAxis.metaData&&a.valueAxis.metaData[0]){m=a.valueAxis.metaData[0].id;}else{return;}var b=[];var i=[];var r=[];var t,n;var p=_._validItems;var q=false;for(var j=0;j<p.length;j++){t=p[j];if(_._isSemanticColoring||t==='total'){r.push(_._legendColor[t]);i.push([_._labelText[t]]);}else{if(r.indexOf(_._colorPalette[0])<0){r.push(_._colorPalette[0]);}if(!q){_._validItems=_._validItems.filter(function(v){return v==='total';});_._validItems.unshift(m);i.push([m]);q=true;}}}if(!_._isSemanticColoring&&a.color){b.push(a.color);}else{var s=new d(i,r),u=[{id:M,type:'Dimension',values:a.valueAxis.metaData}];b.push({'scale':s,'metaData':u});}_.setColorScale(b);}function l(i,j){i.sort(function(a,b){return j.indexOf(a)-j.indexOf(b);});return i;}W.prototype._initColorShapeScale=function(){W.superclass._initColorShapeScale.apply(this,arguments);var s=this.runtime().semanticManager();var t,a;if(!(s.hasDataPointColorStyle()&&s.isOverrideMode())&&this._colorShapeScale){var b=this._colorShapeScale.getLength();var j=this._validItems;var m=0;for(var i=0;i<b;i++){if(!this._colorShapeScale.getItem(i).isSemanticItem){t=j[m++];a=this._buildLegendContext(t);this._colorShapeScale.setContext(i,a);}}}};W.prototype._constructTitle=function(a){var t="",s=this.runtime().semanticManager(),b=s.isOverrideMode()&&s.hasDataPointColorStyle();if(this._isSemanticColoring&&!b){var i=a[0];if(i.values.length>1){t=f.get('IDS_DEFAULTMND');}else{var m=i.values[0];t=(m.name||m.id);}}else{t=W.superclass._constructTitle.apply(this,arguments);}return t;};W.prototype.render=function(s,a){this._getLegendProperties();k(this,this._data);W.superclass.render.apply(this,arguments);};W.prototype._getLegendProperties=function(){this._labelText.total=this._properties.get("label.text.total")||f.get('IDS_SEMANTICTOTAL');var p=this._properties.get("label.text.positiveValue");if(p===null||p===''){p=f.get("IDS_INCREASING");}this._labelText.positiveValue=p;var n=this._properties.get("label.text.negativeValue");if(n===null||n===''){n=f.get("IDS_DECREASING");}this._labelText.negativeValue=n;this._legendColor.total=this._properties.origin.get("plotArea.dataPoint.color.total");this._legendColor.positiveValue=this._properties.origin.get("plotArea.dataPoint.color.positive");this._legendColor.negativeValue=this._properties.origin.get("plotArea.dataPoint.color.negative");this._isSemanticColoring=this._properties.origin.get("plotArea.dataPoint.color.isSemanticColoring");this._colorPalette=this._properties.origin.get("plotArea.colorPalette");this._recapVisible=this._properties.origin.get("plotArea.dataLabel.showRecap");this._recapColor=this._properties.origin.get("plotArea.linkline.color");};W.prototype.setData=function(v){this._data=v;this._getLegendProperties();this._validItems=this._getShownLegendItem(v);k(this,v);return this;};W.prototype._buildLegendContext=function(t){var a=[];var m=1;var b=this._data.categoryAxis&&this._data.categoryAxis.metaData;var i;for(i=0;b&&i<b.length;++i){if(b[i].id==="measureNames"&&b[i].values.length>1){m=b[i].values.length;}}b=this._data.valueAxis.metaData;var w=this._data.waterfallType?this._data.waterfallType.metaData:undefined;var j=w&&w[0]?w[0].id:undefined;var n={};if(j){if(t==='total'){n[j]='total';}else{n[j]={'notEqual':'total'};}}if(this._isSemanticColoring){for(i=0;i<m;++i){var s=O.extend(true,{},n);if(t==='positiveValue'){s[b[i].id]={'min':0};}else if(t==='negativeValue'){s[b[i].id]={'openmax':0};}a.push(s);}}else{a.push(n);}return a;};W.prototype._getShownLegendItem=function(a){var b=a._dataPoints;var m,i,j,t,n,v;var p=[];var w=this._data.waterfallType?this._data.waterfallType.metaData:undefined;var q=w&&w[0]?w[0].id:undefined;for(var r in b){if(b.hasOwnProperty(r)){if(p.length===3){break;}i=b[r];if(i){j=i.context();m=j.measureNames;t=q?j[q]:undefined;v=j[m];if(v>=0&&t!=='total'){n='positiveValue';}else if(v<0&&t!=='total'){n='negativeValue';}else if(t==='total'){n='total';}if(p.indexOf(n)===-1){p.push(n);}}}}if(!this._isSemanticColoring&&p.indexOf('total')<0){return[];}p=l(p,h);return p;};W.prototype._buildColorShapeScale=function(a){var b=W.superclass._buildColorShapeScale.apply(this,arguments);var r=this._properties.origin.get("plotArea.dataLabel.recapTitle")||f.get("IDS_END_OF_PERIOD");if(this._recapVisible){b._items.push({color:this._recapColor,data:[r],shape:"squareWithLine"});}return b;};W.prototype._isShowWideMarker=function(){return this._recapVisible;};W.prototype._getMarkerWidth=L.prototype._getMarkerWidth;W.prototype._calcMetaInfo=L.prototype._calcMetaInfo;W.prototype._createGroupItems=function(a,b){W.superclass._createGroupItems.apply(this,arguments);if(this._data.timeAxis){a.selectAll('g.'+I).classed(I,false);}};W.prototype.destroy=function(){W.superclass.destroy.apply(this,arguments);this._labelText=null;this._legendColor=null;this._validItems=null;};W.prototype.statusChanged=function(s){if(s===S.LOCALE_CHANGED){this._colorShapeScale=null;this._getLegendProperties();k(this,this._data);}};return W;});define('sap/viz/chart/scales/WaterFallTypeScale',['sap/viz/framework/common/util/oo','sap/viz/chart/scales/BaseScale','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/util/WaterfallUtils','sap/viz/framework/common/util/DataUtils',],function(o,B,T,W,D){var a=D.DIMENSION_VALUE;var b=function(d,r,c){b.superclass.constructor.apply(this,arguments);this.__className="sap.viz.scale.WaterFallTypeScale";this._name=null;this._type="wtfType";c=c||{};this._key2Type=W.Key2Type;this._initScale();};o.extend(b,B);b.prototype._initScale=function(){this._scale=d3.scale.ordinal();this._scale.domain(this._domain).range(this._range);this._isReset=false;};b.prototype.getDomain=function(){if(this._scale===undefined||this._isReset===true){this._initScale();}return this._domain;};b.prototype.getRange=function(){if(this._scale===undefined||this._isReset===true){this._initScale();}return this._range;};var g=function(d){var v=d;if(d&&d.hasOwnProperty(a)){v=d[a];}return v;};b.prototype.scale=function(k){return W.scale(g(k),this._key2Type);};b.prototype.childrenNum=function(k){var t=this.scale(k);if(t!==2){return 0;}var n=parseInt(g(k).split(':')[1].trim());return n;};return b;});define('sap/viz/chart/scales/WaterScaleProcessor',['sap/viz/chart/scales/WaterFallTypeScale','sap/viz/framework/scale/ScaleDataParseFactory','sap/viz/framework/common/util/ArrayUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ScaleRepository'],function(W,S,A,T,c){var w=function(d,e,r){var v=d['valueAxis']();var f,t;var g=/timeseries.*waterfall/.test(e);if(g){t=null;}else{f=d['waterfallType']();t=f.values;}var h=v.values;var k=v.categorySum;var s=d['series']();var o={'isStacked':((/stacked_/).test(e)?true:false)};var l=c.waterfallScale(v,'waterfallType',null,null,o);var m=parseFloat(r.propertyManager().get("plotArea.startValue"))||0;var n,i,j,p=m,q=0,u=[m],x=[];var y,z;var B,C=[];var D=function(){if(h[i]&&n.valueAxis===null){if(T.isArray(h[i])){n.valueAxis=h[i][j];}else{n.valueAxis=h[i];}}var a=(+n.valueAxis)||0;if(a===0){n.valueAxis=0;}n.total=n.base+(g?a:k[i]);if(!x.hasOwnProperty(i)){x[i]=n.total;}if(u.hasOwnProperty(i)){u[i]+=a;}else{u[i]=n.base+a;}};if(!g){for(i=0;i<h.length;i++){if(T.isArray(h[i])){y=h[i][h[i].length-1];z=t?t[i][t[i].length-1]:null;if(1===l.scale(z)){if(y===null){k[i]=0;for(j=i-1;j>=0;j--){z=t[j][t[j].length-1];k[i]+=k[j];if(1===l.scale(z)){break;}}h[i][h[i].length-1]=k[i];}else{k[i]=y;}}}else{z=t?t[i]:null;if(1===l.scale(z)){if(h[i]===null){k[i]=0;for(j=i-1;j>=0;j--){z=t[j];k[i]+=k[j];if(1===l.scale(z)){break;}}h[i]=k[i];}else{k[i]=+h[i];}}}}B=h;for(i=0;i<B.length;i++){for(j=s.length-1;j>=0;j--){n=s[j][i]||{};k[i]=k[i]||0;z=t?t[i]:null;if(T.isArray(z)){z=z[z.length-1];}if(i===0){n.base=0;}else{if(1===l.scale(z)){n.base=0;}else if(2===l.scale(z)){n.base=x[i-1]-k[i];}else{n.base=x[i-1];}}D();p=Math.min(p,u[i]);q=Math.max(q,u[i]);}}}else{var E=d['timeAxis']();var F=E.values[0];if(F){F=F.map(function(a){return a?a.parsedValue:null;});F=F.filter(function(a){return a;});F=A.unique(F);F.sort(function(a,b){return a-b;});E._sortedTimeStampSet=F;for(i=0;i<F.length;i++){for(j=0;j<s.length;j++){var G=s[j][A.bisearch(s[j],F[i],function(a){return a?a.timeAxis[0].parsedValue:0;})];if(!G||G.timeAxis[0].parsedValue!==F[i]){if(!u.hasOwnProperty(i)){u[i]=n?n.base+n.valueAxis:0;}continue;}n=G;C[i]=(C[i]||0)+n.valueAxis;if(i===0&&j===0){n.base=m;}else{n.base=(j===0?u[i-1]:u[i]);}D();p=Math.min(p,u[i]);q=Math.max(q,u[i]);}}}}if(C.length>0){v.categorySum=C;}v.range=[[p,q]];return d;};c["waterfallScale"]=function(d,n,s,p,o){var a=d&&d.values?d.values.slice(0):[];var r=[0,1];var b=new W(a,r,o);return b;};S.register("waterfall","valueAxis",w);});define('sap/viz/chart/chains/WaterFallChains',['sap/viz/chart/chains/BaseChains','sap/viz/chart/chains/ChainUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ArrayUtils','sap/viz/chart/util/WaterfallUtils','sap/viz/chart/chains/TYChains','sap/viz/framework/binding/BindingManager'],function Setup(B,C,N,T,A,W,a,b){var w={};var c=['GetDimensionsFromFlattable','GetContext','OnBindingFinished','OnBindingStart'];w=B.extend('waterfall',c);var g=function(r,h,l,n,t,o){var p=[];var q="categoryAxis";var u=n[q];var i,j;if(u){var v=[],x=[],y=[],z=[];var D='context';h.filter(function(d){return d!==q;}).forEach(function(d){if(n[d]){v.push(n[d]);x.push(d);}});l.forEach(function(m){if(n[m]){y.push(n[m]);z.push(m);}});var E=C.dpInitializer(t);var F=C.getArrayLength(v);var G=C.generateIndexArray(F);o=o||{};var H=W.Key2Type;var I,k,J;for(i=0;i<G.length;i++){p[i]=new Array(u.rowArray.length);for(var K=0,L=u.rowArray.length;K<L;K++){I=E();var M=true;for(j=0;j<G[i].length;j++){var O=v[j].rowArray[G[i][j]];if(O.mndIndex){var P=O.mndIndex;var Q=n[x[j]].metaData;var R=Q[O.indexOf(P)];if(R&&R.values){var S=R.values;for(k=0;k<S.length;k++){if(S[k].id==P){O.mndIndex=k;break;}}}}I[x[j]]=O;}for(k=0;k<y.length;k++){if(T.isExist(y[k].values)&&y[k].values[K]!==undefined){J=y[k].values[K];for(j=0;j<G[i].length;j++){if(J[G[i][j]]!==undefined){J=J[G[i][j]];}}if(T.isArray(J)){M=false;}else{I[z[k]]=J;}}else{M=false;}}var U=false;for(var V in I){if((V===W.WATERFALLTYPE&&W.scale(I[V],H)>0)||(V!==W.WATERFALLTYPE&&z.indexOf(V)>-1&&I[V]!==null)){U=true;break;}}if(!M||!U){continue;}var X=C.processSeriesContext(n.context,K,G[i]);if(X){I.context=X;}var Y=C.processSeriesContext(n.additionInfo,K,G[i]);if(Y){I.addition=Y;}var Z=C.generateNum(F,G[i]);p[Z]=p[Z]||[];p[Z][K]=I;}}}n.series=p.filter(function(e){return e;});};w.waterfallGetBindingSeries=C.generateSeriesGetter(g);var s=function(d){var r=[],e,i,j,l,h;var t=0;for(i=0,l=d.length;i<l;i++){var k=0;e=d[i];if(T.isArray(e)){for(j=0,h=e.length;j<h;j++){if(T.isArray(e[j])||!T.isNumber(e[j])){continue;}if(k===0){k=+e[j];}else{k+= +e[j];}}}else{k=+e;}r[i]=k;}return r;};var f=function(d){var r=[],e,i,k,l;var h=0;for(i=0,k=0,l=d.length;i<l;i++){var j=0;e=d[i];if(T.isArray(e)){for(var t=0;t<e.length;++t){if(!T.isNumber(e[t])){continue;}j+= +e[t];}}else{j=+e;}r[k++]=j;}return r;};w.waterfallGetMeasuresFromFlattable=function(r,d,m,e,h,i,n,p){var j=p&&p.isTimeWaterFall?a.tyGetMeasuresFromFlattable.apply(B,arguments):B.GetMeasuresFromFlattable.apply(B,arguments);if(p&&p.isTimeWaterFall){j.categorySum=f(j.values);}else{j.categorySum=s(j.values);}return j;};Object.keys(w).forEach(function(k){b.registerChain(k,w[k]);});return w;});define('sap/viz/chart/views/WaterFallChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/XYChartView','sap/viz/chart/components/plotareas/WaterfallPlotArea','sap/viz/chart/components/legend/WaterFallLegend',"sap/viz/chart/scales/WaterScaleProcessor","sap/viz/chart/chains/WaterFallChains"],function Setup(o,X,P,W){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,X);a.prototype._getDataItems=function(){return["valueAxis","categoryAxis","waterfallType","series"];};a.prototype._getLegendInitOptions=function(){return[null];};a.prototype._createPlotContainer=function(){this._plotArea=new P(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};a.prototype._getLegendDefinition=function(){return[W];};a.prototype._getLegendInitOptions=function(){return[{noFeeding:true}];};return a;});define('sap/viz/chart/views/TimeWaterFallChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/TimeYChartView","sap/viz/chart/views/WaterFallChartView","sap/viz/chart/behavior/config/TimeLassoBehaviorConfig"],function Setup(o,T,W){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,T);a.prototype._getLegendDefinition=W.prototype._getLegendDefinition;a.prototype._getLegendInitOptions=function(){return[null];};return a;});define('sap/viz/chart/metadata/bindings/TimeYColumnBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"}];return f;});define('sap/viz/chart/metadata/bindings/WaterFallBindings',[],function Setup(){var f=[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"layout.category"},{"id":"waterfallType","name":"IDS_WATERFALLTYPE","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"mark.waterfallType","description":"Not recommend to use together with MND enabled on category axis"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/layout/RadarLayout',["sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/oo","sap/viz/chart/layout/BaseLayout"],function Setup(N,T,a,B){var l={'height':{max:'maxHeight',fix:'height'},'width':{max:'maxWidth',fix:'width'}};var p={left:"width",right:"width",top:"height",bottom:"height"};var b={left:"height",right:"height",top:"width",bottom:"width"};var c=0;var L=1;var d=2;var R=3;var D=1/3;var e=1/3;function f(){f.superclass.constructor.apply(this,arguments);this.config.add({padding:[0,0,0,0],rootWidth:0,rootHeight:0,layoutSequence:[]});}a.extend(f,B);f.prototype.layout=function(j){var r={};var k=this.config;var i=0;var w=k.get('totalWidth');var m=k.get('totalHeight');var n=k.get('rootWidth');var q=k.get('rootHeight');var s={width:k.get("rootWidth"),height:k.get("rootHeight")};var t=k.get('padding');var u=k.get('layoutSequence');var v=w-(t[L]+t[R]);var x=m-(t[c]+t[d]);v=v>0?v:0;x=x>0?x:0;var y;var z,o,A;var C;var E;var F={};for(var G in j){if(j.hasOwnProperty(G)){y=j[G];C=y.option;E=C.position;F[E]={module:y.module,option:{position:E,padding:{paddingTop:g(C.paddingTop),paddingBottom:g(C.paddingBottom),paddingLeft:g(C.paddingLeft),paddingRight:g(C.paddingRight)},maxWidth:h(C.maxWidth)?C.maxWidth:D,maxHeight:h(C.maxHeight)?C.maxHeight:e,width:h(C.width)?C.width:null,height:h(C.height)?C.height:null}};}}var H=[];for(i=0;i<u.length;++i){E=u[i];if(T.isFunction(E)){H.push(E);continue;}y=F[E];if(y){H.push(y);}}if(!F.center){throw"Cannot solve layout without plot";}var I={width:n?n:v,height:q?q:x};var J={width:v,height:x,x:t[L],y:t[c]};var K={center:false};var M=H.length;for(i=0;i<M;i++){z=H[i];if(T.isFunction(z)){z(r,J);continue;}o={};r[z.module.alias]=o;C=z.option;var O=z.module;E=C.position;if(E==='center'||E==='left'){continue;}var P=p[E];var Q=b[E];o.padding=C.padding;var S={width:0,height:0};S.height+=o.padding.paddingTop+o.padding.paddingBottom;S.width+=o.padding.paddingLeft+o.padding.paddingRight;var U={},V=C[l[P].fix],W=z.module.properties().visible===true&&V!==null?N.getSizeValue(V,I[P]):undefined;if(W===undefined){if(T.isFunction(O.getPreferredSize)){var X=N.getSizeValue(C[l[P].max],I[P]);X=X>J[P]?J[P]:X;U[Q]=J[Q];U[P]=X;A=O.getPreferredSize(U)[P]+S[P];X=A>X?X:A;J[P]=J[P]-X;o[P]=X;}else{o[P]=0;}}else{W=W>J[P]?J[P]:W;if(T.isFunction(O.getPreferredSize)){U[Q]=J[Q];U[P]=W;O.getPreferredSize(U);}J[P]=J[P]-W;o[P]=W;}}for(i=0;i<M;i++){z=H[i];if(!z){continue;}else if(T.isFunction(z)){z(r,J);continue;}o=r[z.module.alias];if(!o.hasOwnProperty('width')){o.width=J.width;}else if(!o.hasOwnProperty('height')){o.height=J.height;}switch(z.option.position){case"top":J.y=J.y+o.height;break;}}var Y,Z=0;for(i=0;i<M;i++){z=H[i];if(T.isFunction(z)){z(r,J);continue;}else if(z){C=z.option;o=r[z.module.alias];switch(C.position){case"top":o.x=J.x;o.y=J.y-o.height;break;case"left":var $=z.module.getLabelHeight({'width':J.width,'height':J.height});Y=z.module;J.height=J.height-$/2;J.y=J.y+$/2;break;case"bottom":o.x=J.x;o.y=J.y+J.height;break;case"right":o.x=J.x+J.width;o.y=J.y;break;case"center":o=r[z.module.alias]={};o.x=J.x;o.y=J.y;o.width=J.width;o.height=J.height;Z=z.module.calculateRadius({"width":J.width,"height":J.height});break;}if(!T.isPlainObject(o.padding)){o.padding=C.padding;}if(C.position==='top'){o.y+=o.padding.paddingTop;}o.height-=o.padding.paddingTop+o.padding.paddingBottom;o.width-=o.padding.paddingLeft+o.padding.paddingRight;J.height=J.height>0?J.height:0;J.width=J.width>0?J.width:0;}}o=r[Y.alias];A=Y.getPreferredSize({'width':Z,'height':Z});o.height=Z;o.width=A["width"];o.y=J.y+J.height/2-Z;o.x=J.x+J.width/2-A["bodySize"];return r;};function g(v){var r=parseFloat(v);if(isNaN(r)){r=0;}return r;}function h(v){var i=parseFloat(v);return T.isNumber(i)&&i>=0;}return f;});define('sap/viz/chart/components/container/RadarContainer',["sap/viz/framework/common/util/oo","sap/viz/chart/layout/RadarLayout",'sap/viz/chart/components/container/XYContainer'],function(o,R,X){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this.setLayoutAlgorithm(new R());};o.extend(a,X);a.prototype._renderSub=function(){var p=this._layoutSequence||['left','right','bottom','top'];if(p.indexOf("center")<0){p.push("center");}var s=this._selections;var f=function(c){c.render(s[c.alias]);};for(var i=0;i<p.length;i++){this.getChildrenByPosition(p[i]).forEach(f);}};a.prototype._initRenderBase=function(p){this._selections={};for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._selections[k]==null){if(this._children[k].option.position==="center"){this._selections[k]=p.insert("g",":first-child").attr('class','v-m-'+k);}else{this._selections[k]=p.append("g").attr('class','v-m-'+k);}}}}};return a;});define('sap/viz/chart/components/axis/sub/RadarValueAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/scales/ValueScaleUtil","sap/viz/chart/components/util/ClippathUtil","sap/viz/framework/common/util/DataGraphics"],function(o,V,C,B,a,b,D){var T=5;var L=6;var A=C.CSS.CLASS.AXIS;var R=function(){R.superclass.constructor.apply(this,arguments);};o.extend(R,V);R.prototype.getLabelHeight=function(){var p=this._properties.get();var l=p.label&&p.label.style;if(p.visible){var s=this._measureTextSize("100",l);return s.height;}return 0;};R.prototype.render=function(s){var p=this._properties.get();var w=this._size.width;var h=this._size.height;B.drawBound(s,w,h,null,true);s.select("g."+A.LABEL_GROUP).remove();if(this._data&&p.visible){var c=this._position;var d=this._data;var r=d.getRange();var g=null;if(this._isSpaceEnough()){var t=this._getTicksToRender();var l=this._getAllLabels(t,d);var e;if(p.label.visible&&l.length){var f=this.getPadding(this._data);var i={x:0,y:0,width:this._size.width,height:this._size.height};var j=this._getWidestLabel(l)+L+T;var k=0;if(this._isVertical()){i.y-=f.start;i.height+=f.start+f.end;k=j-i.width;if(this._noReLayout&&k>0){i.width+=k;i.x-=k;}}else{i.x-=f.start;i.width+=f.start+f.end;k=j-i.height;if(this._noReLayout&&k>0){i.height+=k;i.y-=k;}}e=b.drawClippath(s,i.width+2,i.height+2,i.x-1,i.y-1,"labels");g=s.append("g").attr('clip-path','url(#'+e+')');this._labelGroupNode=g.append("g").attr("class",A.LABEL_GROUP);this.drawLabels(this._labelGroupNode,d,l,w,h,c,p,this._options,this.runtime().effectManager());var m=d.getDomain();}}}};return R;});define('sap/viz/chart/layout/RadarAxisLayout',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/AxisLayout"],function(o,C,N,P,A){var S=C.DIRECTION.HORIZONTAL;var a=C.DIRECTION.VERTICAL;var b=C.AXIS.SPACING_TO_ROUGH;var c=C.AXIS.SPACING_MAX_IN_PX;var R=function(){R.superclass.constructor.apply(this,arguments);};o.extend(R,A);R.prototype.getPreferredSize=function(f){var h=this.config;var t=h.get('totalWidth');var j=h.get('totalHeight');var k=h.get('position');var s=h.get('sizeFn');var l=h.get('offsetFn');var m=this._dictToArray(f);var r=h.get('rootWidth');var n=h.get('rootHeight');var p=h.get('roughWidth');var q=h.get('roughHeight');var u=[];var i=0;var v=0,w=0;var x=e(m,h);var y=x.length;var z=g(k);var B=z===S;var D=B?'height':'width';var E=B?'width':'height';var F=d(k,t,j);var G=P.isVertical(k)?t:j;var H,I,J,K,L,M,O,Q;Q=Math.min(p,q);if(B){L="maxWidth";M="minHeight";O=r;}else{L="maxHeight";M="minWidth";O=n;}var T=false;for(;i<y&&!T;++i){H=x[i];var U=l(H,O);var V=b*Q;K=Math.min(U,V);K=Math.min(K,c);var W={};W[E]=G-v-K;W[D]=F;I=s(H,W);if(Math.ceil(I[M])<=Math.ceil(F)&&I[L]&&N.preciseSimple(v+K+I[L])<=N.preciseSimple(G)){v+=K+I[L];if(H.option&&H.option.axisBody){w=I[L];}}else if(I[L]!==0){T=true;}}var X=0,Y=0;if(B){X=v;Y=F;}else{X=F;Y=v;}return{width:X,height:Y,bodySize:w};};function g(p){if(p===C.POSITION.TOP||p===C.POSITION.BOTTOM){return a;}else{return S;}}function d(p,w,h){return P.isVertical(p)?h:w;}function e(f,h){return f.slice().sort(h.get('sortPriorityFn'));}return R;});define('sap/viz/chart/components/axis/RadarValueAxis',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/RadarValueAxisBody","sap/viz/chart/scales/ValueScale","sap/viz/chart/layout/RadarAxisLayout","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/chart/components/container/UIContainer",'sap/viz/chart/components/util/BoundUtil',"sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/PropertyZoneUtil'],function(a,R,V,b,C,P,A,U,B,N,T,c){var D="Axis Title";var d=function(r,o){d.superclass.constructor.apply(this,arguments);var p=this._properties;this._showTitle=p.get('title.visible');this._roughSize={width:0,height:0};this._bodyLayersNumber=-1;var t=this;['height','width'].forEach(function(e){var k={set:function(v,n){if(v===null||parseFloat(v)>=0){return v;}else{return n.value;}}},l={layout:{}};l.layout[e]=k;p.add(l);});var f={};f[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],z,k,l,n,q,u,v;if(t._properties.get('title.visible')&&t._selections&&t._selections["axisTitle"]&&t._selections["axisTitle"].length>0){k=t._selections["axisTitle"].node().getBoundingClientRect();if(k.width>1.5&&k.height>1.5){n=[[]];n[0].push([k.left,k.top]);n[0].push([k.right,k.top]);n[0].push([k.right,k.bottom]);n[0].push([k.left,k.bottom]);e.push({"name":t._name+' title',"bound":n});}}if(t._parent&&t._parent.select(".v-m-axisBody").node()){var w=t._parent.select(".v-m-axisBody").node();var x=w.getAttribute('clip-path');if(x&&x.length>0){x=x.replace(/\s/g,"");var y=/^url\(/;x=x.replace(y,"");x=x.replace(/\)$/,"");x=x.replace(/^\"/,"");x=x.replace(/\"$/,"");w=t._parent.select(x).node();}u=w.getBoundingClientRect();if(x&&x.length>0){if(u.width===0&&u.height===0){var E=w.querySelector('rect');if(E){u=E.getBoundingClientRect();}}}if(u.width>1.5||u.height>1.5){l={left:u.left,right:u.right,top:u.top,bottom:u.bottom};q=[[]];q[0].push([l.left,l.top]);q[0].push([l.right,l.top]);q[0].push([l.right,l.bottom]);q[0].push([l.left,l.bottom]);e.push({"name":t._name,"bound":q});}v=t._parent.node().ownerSVGElement;}c.calcOffsetFromChart(v,e);return e;}};r.zoneManager().add({tempPropertyZone:f});this.setLayoutAlgorithm(new b());this._scale=null;this._bindingFields=[];if(this._showTitle){this.setChild("axisTitle",new A(r,o),{order:1,priority:2,offset:C.AXIS.SPACING_TO_ROOT});}this._position=null;this._parent=null;this.runtime().graphicModel().registerExposedModule(o.name);this.setChild("axisBody",new R(r,o),{order:2,priority:1,offset:0,axisBody:true});var g,h,m,i,s,j;s='primaryScale';g='plotArea.'+s+'.autoMinValue';h='plotArea.'+s+'.autoMaxValue';m='plotArea.'+s+'.minValue';i='plotArea.'+s+'.maxValue';j='plotArea.'+s+'.fixedRange';this._properties.origin.add(g,{defaultValue:[],readonly:true,serializable:false,get:function(){return(t._scale?(t._scale.getAutoDomain()?t._scale.getAutoDomain()[0]:t._scale.getDomain()[0]):undefined);}});this._properties.origin.add(h,{defaultValue:[],readonly:true,serializable:false,get:function(){return(t._scale?(t._scale.getAutoDomain()?t._scale.getAutoDomain()[1]:t._scale.getDomain()[1]):undefined);}});this._properties.origin.add(m,{defaultValue:[],readonly:true,serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()[0]){return t._scale.getDomain()[0];}return null;}});this._properties.origin.add(i,{defaultValue:[],readonly:true,serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()[1]){return t._scale.getDomain()[1];}return null;}});this._properties.origin.add(j,{defaultValue:[],readonly:true,serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()){var e=t._scale.getDomainFixed();var k=e[0];var l=e[1];if(!k&&!l){return false;}return true;}return false;}});};a.extend(d,U);d.prototype.getLabelHeight=function(i){return this.getChild('axisBody').module.getLabelHeight();};d.prototype.getMaxZoomRatio=function(){var r=this._scale.getTickHint();if(r>=1){return r;}else{return Number.MAX_VALUE;}};d.prototype.setScale=function(e){if(e.scale){this._scale=new V(e.scale.getDomain(),[0,1],e.scale.getDomainFixed());this._scale.setAutoDomain(e.scale.getAutoDomain());this._scale.setTickHint(e.tickHint);}};d.prototype.setData=function(e,n){if(e.metaData){var m=e.metaData;this._bindingFields=[];for(var i=0,l=m.length;i<l;++i){var f={id:m[i].id,name:m[i].name};if(m[i].values){var g={};m[i].values.forEach(function(h){g[h.id]=h.name;});f.values=g;}this._bindingFields.push(f);}}this._noReLayout=n;this.setScale(e);};d.prototype.getPadding=function(s){var e=this.getChild("axisBody");if(!e||!s){return{start:0,end:0};}return e.module.getPadding(s);};d.prototype._updateData=function(i){if(this._showTitle){this.getChild("axisTitle").module.setData(this._getTitle());}this._scale.setRange([i.height,0]);this.getChild("axisBody").module.setData(this._scale,this._noReLayout);};d.prototype._constructTitle=function(h,t){var e=h.map(function(o){return o.name||o.id;}).join(" & ");var i={};i.isHidden=false;i.text=e;t.push(i);return e;};d.prototype.zoom=function(s){if(s){this._realSize.width=this._size.width*s.x;this._realSize.height=this._size.height*s.y;this._updateData(this._getSizeInfo());}this._updateSubModules();};d.prototype.update=function(){this._updateData(this._getSizeInfo());this._updateSubModules();};d.prototype._updateSubModules=function(){if(this.getChild("axisBody")){this.getChild("axisBody").module.update();}};d.prototype.setPosition=function(p){var e,o;this._position=p;for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this.getChild(k).module;m.setPosition(this._position);if(k==='axisTitle'){e=this.properties();o=this.getChild(k).option;if(e.visible&&P.isHorizontal(o.position)?parseFloat(e.layout.height)>=0:parseFloat(e.layout.width)>=0){o.offsetType=C.AXIS.FIX_LAYOUT_TYPE;}}}}return this;};d.prototype._getTitle=function(){var t={};t.text="";t.isCustomized=false;t.items=[];var e="";var f=this._properties.get('title.text');if(T.isString(f)){e=f;t.isCustomized=true;}else if(this._bindingFields){e=this._constructTitle(this._bindingFields,t.items);}else{e=D;t.isCustomized=true;}t.text=e;return t;};d.prototype.getParent=function(){if(this._parent){return this._parent.select("g."+C.CSS.CLASS.AXIS.CONTAINER);}else{return null;}};d.prototype.render=function(r){this._parent=r;d.superclass.render.apply(this,arguments);B.drawBound(r,this._size.width,this._size.height,undefined,true);var p=r.select("g."+C.CSS.CLASS.AXIS.CONTAINER);if(this._size.width>0||this._size.height>0){if(!p.node()){delete this._selections;this._selections=null;p=r.append("g").attr("class",C.CSS.CLASS.AXIS.CONTAINER);}this._initRenderBase(p);this.layout();if(this.getChild("axisBody")){var e=this.getChild("axisBody").module.getAvailableLayersNumber();this._bodyLayersNumber=e;if(this._showTitle){this.getChild("axisTitle").module.setTitleHiddenItems(e);}}this._renderSub();}this.appendSynonymClass(r);r.node().style.pointerEvents="none";};d.prototype.isVisible=function(){return this._bodyLayersNumber>0;};d.prototype.setChild=function(k,m,o){d.superclass.setChild.apply(this,arguments);if(m.setPosition&&o.position){m.setPosition(o.position);}};d.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo());};d.prototype._setupLayout=function(i){this._updateData(i);var g=N.getPositiveInt;var o=this._properties.origin;var p=this.calculatePaddingInPX(o,this._roughSize.width,this._roughSize.height);var e=g(p.propertyPaddingInPX,p.constantPaddingInPX);var f=g(p.propertyPaddingTopInPX,e);var h=g(p.propertyPaddingRightInPX,e);var j=g(p.propertyPaddingBottomInPX,e);var k=g(p.propertyPaddingLeftInPX,e);var l=this._layoutAlgorithm.config;l.set({position:this._position,rootWidth:this._roughSize.width-(h+k),rootHeight:this._roughSize.height-(f+j),roughWidth:this._roughSize.width,roughHeight:this._roughSize.height});if(i.hasOwnProperty('width')){l.set('totalWidth',i.width);}if(i.hasOwnProperty('height')){l.set('totalHeight',i.height);}};d.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo());};d.prototype._getSizeInfo=function(i){var s={width:this._size.width,height:this._size.height};if(i){if(i.width){s.width=i.width;}if(i.height){s.height=i.height;}}else if(this._realSize.width>this._size.width||this._realSize.height>this._size.height){if(this._isHorizontal()){s.width=this._realSize.width;}else{s.height=this._realSize.height;}}return s;};d.prototype._postLayout=function(){var r=this._layoutResult;var s=this._selections;for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;var e=s?s[k]:null;var f=r[k];m.setSize({width:f.width,height:this._size.height});m.setRealSize({width:f.width,height:f.height});if(m.layout){m.layout();}if(e){e.attr("transform","translate("+f.x+","+f.y+")");}}}};d.prototype.getPreferredSize=function(i){this._setupLayout(this._getSizeInfo(i));var l=this._layoutAlgorithm.getPreferredSize(this._children);return N.preciseObject(l);};d.prototype._renderSub=function(){for(var k in this._children){if(this._children.hasOwnProperty(k)){this.getChild(k).module.render(this._selections[k]);}}};d.prototype.appendSynonymClass=function(e,s){var f='v-m-yAxis';e.classed(f,true);};d.prototype.setRoughSize=function(v){if(v.width!=null){this._roughSize.width=v.width;}if(v.height!=null){this._roughSize.height=v.height;}};d.prototype.destroy=function(){d.superclass.destroy.call(this);this._scale=null;this._bindingFields=null;this._showTitle=null;this._parent=null;this._position=null;};d.prototype.supportFixedLayout=true;return d;});define('sap/viz/chart/components/renderers/RadarRenderer',["sap/viz/framework/common/util/SVG"],function(S){var R=function(c){var a=c.graphic;var p=S.create("path");var d=b(c.points);var e=g(c);var o=a.visible?a.opacity:0;p.setAttribute("d",d);p.setAttribute("fill-opacity",o);p.setAttribute("fill",e.fill);p.style.pointerEvents="none";if(a.strokeVisible){p.setAttribute("stroke-width",a.strokeWidth);p.setAttribute("stroke",e.color);p.setAttribute("stroke-linejoin","round");}if(c.filterId){p.setAttribute("filter",'url(#'+c.filterId+')');}return p;};R.update=function(n,c){};function b(a){var d;var c;for(var i=0;i<a.length;i++){if(a[i]&&a[i].position){d=d?d+"L":"M";if(d==="M"){c="L"+a[i].position.x+","+a[i].position.y;}d+=a[i].position.x+","+a[i].position.y;}}d+=c;return d;}var g=function(c){var a={};a.fill=c.effectManager.register({drawingEffect:c.graphic.drawingEffect,fillColor:c.graphic.fill,});a.color=c.effectManager.register({drawingEffect:c.graphic.drawingEffect,fillColor:c.graphic.color,});return a;};return R;});define('sap/viz/chart/components/util/RadarSeriesUtil',['sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/renderers/RadarRenderer','sap/viz/framework/common/util/Constants'],function(D,N,R,C){var u={drawNet:function(s,d,i,a,c,l,b,f){l.line.color=N.convertColor(l.line.color);l.area.color=N.convertColor(l.area.color);var v=l.area.hasOwnProperty("visible")?l.area.visible:b.visible;var o=l.area.opacity||b.opacity;var g={graphic:{visible:v,color:l.line.color,fill:l.area.color,opacity:o,strokeVisible:f.visible,strokeWidth:f.width},points:d,effectManager:a,ctx:c};var n=R(g);n.setAttribute("class",C.CSS.CLASS.RADAR_NET);D.setData(n,{"seriesIndex":i,"color":g.graphic.color,"pointSum":d.filter(function(e){return Boolean(e);}).length,"fill":g.graphic.fill,"visibility":v?"visible":"hidden","opacity":o});D.setContext(n,c);s.insertBefore(n,s.firstChild);}};return u;});define('sap/viz/chart/components/datalabels/RadarDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils'],function(o,D,a,b,C,O){var l=[[1,4,3,2],[2,3,4,1],[3,2,1,4],[4,1,2,3]];var t=4;var R=function(r,c){R.superclass.constructor.apply(this,arguments);this._labelsPool=[];};o.extend(R,D);R.prototype.render=function(s){if(this._isTrellis){this._bound={left:this._trellisPadding.left,right:this._realSize.width-this._trellisPadding.right,top:this._trellisPadding.top,bottom:this._realSize.height-this._trellisPadding.bottom,};}else{this._bound={left:0,right:this._realSize.width,top:0,bottom:this._realSize.height};}R.superclass.render.apply(this,arguments);};R.prototype._render=function(s,d){this._labelsPool=O.extend(true,[],this._runtime.statusManager().get("polarAxisLabelRenderInfo"));R.superclass._render.apply(this,arguments);};R.prototype.setCenter=function(c){if(c===undefined){return;}this._center=c;};R.prototype._computeDataLabelPosition=function(n,c,l,s,d){var x,y;switch(l){case 1:x=n-d.width+s.x;y=c+s.y;break;case 2:x=n-s.x;y=c+s.y;break;case 3:x=n-s.x;y=c+d.height;break;case 4:x=n-d.width+s.x;y=c+d.height;break;}var p={x:x,y:y,width:d.width,height:d.height};if(this._overlap(p)||this._outPlot(p)){p.overlap=true;}return p;};R.prototype._overlap=function(c){function d(p,f){var x=p.x<f.x?p:f;var g=p.x<f.x?f:p;var y=p.y-p.height<f.y-f.height?p:f;var h=p.y-p.height<f.y-f.height?f:p;return(x.x+x.width>g.x||x.x===g.x)&&(y.y>h.y-h.height||y.y-y.height===h.y-h.height);}function e(p){var r={x:p.x,y:p.y-1,height:p.height-2,width:p.width};return r;}var r;for(var i=0;i<this._labelsPool.length;i++){r=d(e(c),e(this._labelsPool[i]));if(r){return true;}}return false;};R.prototype._outPlot=function(p){if(p.x>this._bound.left&&p.x+p.width<this._bound.right&&p.y-p.height>this._bound.top&&p.y<this._bound.bottom){return false;}return true;};R.prototype._computeDataLabelTranslate=function(n,c,l,d,e){var h=this._properties.get("hideWhenOverlap");var s=this._fixBBoxWhenInvisible(n,e&&e.dpBBox);var f=c.e;var g=c.f;var p=this._judgeQuadrant(f,g);var j;for(var i=0;i<t;i++){l=this._getLabelPosition(p,i);j=this._computeDataLabelPosition(f,g,l,s,d);if(!j.overlap||(i===t-1&&!h)){this._labelsPool.push(j);var k=[j.x,j.y];this._forceInner(k,d);return k;}}return;};R.prototype._getLabelPosition=function(p,i){return l[p][i];};R.prototype._judgeQuadrant=function(n,c){var x=Math.floor(this._center.x);var y=Math.floor(this._center.y);n=Math.floor(n);c=Math.floor(c);if(n<x&&c<=y){return 0;}else if(n>=x&&c<=y){return 1;}else if(n>=x&&c>y){return 2;}else if(n<x&&c>y){return 3;}};R.prototype.destroy=function(){D.superclass.destroy.call(this);this._center=null;this._labelsPool=null;this._size=null;this._bound=null;};return R;});define('sap/viz/chart/components/axis/sub/PolarAxisTitle',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/util/StyleUtils",'sap/viz/framework/common/util/PropertyZoneUtil',"sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/NumberUtils"],function(C,a,A,T,L,b,N,S,P,D,c){var d="Axis Title";var M="measureNames";var e=C.CSS.CLASS.AXIS;var f=function(r,o){f.superclass.constructor.apply(this,arguments);var t=this;if(!o.inTrellis){var g={};g[this._name]={value:[],readonly:true,serializable:false,get:function(){var h=[],z,i,j,k,l,m,n;if(t._properties.get('polarAxis.title.visible')&&t._selection){i=t._selection.node().getBoundingClientRect();if(i.width>1.5&&i.height>1.5){k=[[]];k[0].push([i.left,i.top]);k[0].push([i.right,i.top]);k[0].push([i.right,i.bottom]);k[0].push([i.left,i.bottom]);h.push({"name":t._name+' title',"bound":k});}}P.calcOffsetFromChart(n,h);return h;}};r.zoneManager().add({tempPropertyZone:g});}};a.extend(f,A);f.prototype.setData=function(g){if(g.metaData){var m=g.metaData;this._bindingFields=[];for(var i=0,l=m.length;i<l;++i){var h={id:m[i].id,name:m[i].name};if(m[i].values){var j={};m[i].values.forEach(function(k){j[k.id]=k.name;});h.values=j;}this._bindingFields.push(h);}}f.superclass.setData.apply(this,[this._getTitle()]);};f.prototype.setTitleHiddenItems=function(){this.visibleItemsNumber=this._bindingFields.length;};f.prototype._getTitle=function(){var t={};t.text="";t.isCustomized=false;t.items=[];var g="";var h=this._properties.get('title.text');if(T.isString(h)){g=h;t.isCustomized=true;}else if(this._bindingFields){g=this._constructTitle(this._bindingFields,t.items);}else{g=d;t.isCustomized=true;}t.text=g;return t;};f.prototype._constructTitle=function(h,t){var g=h.map(function(o){var m=o.name||o.id;if(m===M){m=L.get("IDS_DEFAULTMND");}return m;});t.splice(0,t.length);var j="";var k="";for(var i=0;i<g.length;i++){if(i===0){k=g[i];}else{k=" / "+g[i];}j+=k;var l={};l.isHidden=false;l.text=k;t.push(l);}return j;};f.prototype.render=function(s){this._selection=s;f.superclass.render.apply(this,arguments);};f.prototype.destroy=function(){this._runtime.zoneManager().remove("tempPropertyZone."+this._name);f.superclass.destroy.call(this);};return f;});define('sap/viz/chart/components/plots/RadarPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/util/RadarSeriesUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/StyleUtils','sap/viz/chart/components/util/BuildLayerUtil','sap/viz/chart/components/datalabels/RadarDataLabels','sap/viz/chart/components/axis/sub/PolarAxisTitle','sap/viz/chart/components/util/AxisBodyUtil','sap/viz/chart/components/plots/BaseLinePlot',"sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/accessibility/LineDataPointNavigator","sap/viz/chart/components/util/ChartConstants",],function Setup(o,O,D,S,B,I,a,b,P,C,c,d,f,G,g,T,h,j,R,k,A,l,m,n,p){var q=5;var r=50;var t=q+r;var s=7;var u=2*(q+r)+s;var v=function(e,i){v.superclass.constructor.apply(this,arguments);this._dataPointRenderer=P;this._markerPropName="marker";this._markerD=null;this._branchAngles=[];this._center=null;this._radius=null;this._branchTitileSize=null;this._resetLabelCache();if(this._properties.get("polarAxis.title.visible")){this._axisTitle=new k(e,{"name":"plotArea.polarAxis","inTrellis":i.inTrellis});}this.runtime().markManager().setMode("dual");this.runtime().markManager().lock();this._attachMarkRestrict();var w=this.runtime().semanticManager();w.setUseSemanticPattern(true);w.bindSeriesStyleProperty(this._name+".seriesStyle");};o.extend(v,B);v.prototype._attachMarkRestrict=function(){var e=this._getMarkerShape();var i=this.runtime().markManager();i.setShape([e],e);};v.prototype._renderNode=l.prototype._renderNode;v.prototype.destroy=function(){v.superclass.destroy.call(this);this._dataPointRenderer=null;this._markerD=null;this._branchAngles=null;this._center=null;this._radius=null;this._branchLabels=null;this._branchLabelHeight=null;this._branchLabelWidth=null;this._truncatedBranchLabels=null;this._hideBranchLabels=null;this._labelContext=null;this._branchTitileSize=null;this._polarAxisLabelRenderInfo=null;if(this._axisTitle){this._axisTitle.destroy();this._axisTitle=null;}};v.prototype._getDataLabels=function(e,i){return new R(i,{name:e});};v.prototype._resetLabelCache=function(){this._branchLabels=[];this._branchLabelHeight=[];this._branchLabelWidth=[];this._truncatedBranchLabels=[];this._hideBranchLabels=[];this._labelContext=[];};v.prototype._getValueScaleHandlers=function(i){return[a.getPerfectValueScaleHandler("valueAxis",{isHorizontal:i})];};v.prototype._getCategoryScaleHandlers=function(i){this._categoryScaleHandler=a.getPolarScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(false)});return[this._categoryScaleHandler];};v.prototype._buildData=function(e){return{color:e.graphic.fill,trellisInfo:e.trellisInfo};};v.prototype._buildWrapperConfig=function(i,w,x){var y=v.superclass._buildWrapperConfig.apply(this,arguments);var z;if(i.trellisColumn){z=z||"";i.trellisColumn.forEach(function(e){z+=g.getDimensionValue(e)+".";});}if(i.trellisRow){z=z||"";i.trellisRow.forEach(function(e){z+=g.getDimensionValue(e)+".";});}y.trellisInfo=z;return y;};v.prototype.calculateRadius=function(e){var w=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initXHandler(this._xHandlers,this._data,0,w);var x=this._xHandlers[0].categorySum();for(var i=0;i<x;i++){var y=this._getXPosition(0,i,0);this._branchAngles[i]=y[0];}this._center={x:e.width/2,y:e.height/2};this._radius=e.width>e.height?e.height/2:e.width/2;var z=this._properties.get("polarAxis.label");this._branchLabelStyle=z.style;if(z.visible&&this._radius>t){this._calculateBranchLabels(e);}return this._radius;};v.prototype._applyChanges=function(){this._resetLabelCache();if(this._axisTitle){var e=this._axisTitle.getPreferredSize(this._realSize);this._branchTitileSize={"width":e.maxWidth>this._realSize.width?this._realSize.width:e.maxWidth+1,"height":e.maxHeight>this._realSize.height?this._realSize.height:e.maxHeight};}var i={"width":this._realSize.width,"height":this._realSize.height};if(this._branchTitileSize){var w=this._realSize.height-this._branchTitileSize.height;if(w<u){w=this._realSize.height;this._branchTitileSize.height=0;this._branchTitileSize.width=0;}i.height=w;}this.calculateRadius(i);var x=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initYHandler(this._yHandlers,this._data,this._radius,x);};v.prototype._calculateBranchLabels=function(w){var x=[];this._data.categoryAxis.metaData.forEach(function(e){x.push(e.id);});this._bindingFields=A.getBindingFields(this._data.categoryAxis.metaData)||this._bindingFields;var y=j.mergeLabels(this,this._data.categoryAxis.scale.getDomain(),x);this.buildLabelsText(y[0].cells,"");this._center={x:w.width/2,y:w.height/2+s/2};var z,E;var F=w.width/2,H=w.height/2-s/2;var J=F>H?H:F;for(var i=0;i<this._branchAngles.length;i++){var K=T.fastMeasure(this._branchLabels[i],this._branchLabelStyle.fontSize,this._branchLabelStyle.fontWeight,this._branchLabelStyle.fontFamily);z=z>=K.height?z:K.height;this._branchLabelHeight.push(K.height);this._branchLabelWidth.push(K.width);var L=Math.abs(Math.sin(this._branchAngles[i]));var M=Math.abs(Math.cos(this._branchAngles[i]));if(L){E=(F-K.width)/L;J=J<E?J:E;}if(M){E=(H-K.height)/M;J=J<E?J:E;}if(J<t){J=t;var N=F-t*L;if(N<this._branchLabelWidth[i]){this._branchLabelWidth[i]=N;this._truncatedBranchLabels[i]=true;}else{this._hideBranchLabels[i]=true;}}}this._radius=J-q;};v.prototype._getPosition=function(e,i,w){var x=this._getXPosition(e,i,w);var y=this._getYPosition(e,i,w);if(isNaN(x[0])||isNaN(x[1])||isNaN(y[0])||isNaN(y[1])){return null;}return{angle:x[0],distance:this._radius-y[0]};};v.prototype._convertPosition=function(e){var i=e.distance*Math.sin(e.angle);var w=e.distance*Math.cos(e.angle);e.x=this._center.x-i;e.y=this._center.y-w;return e;};v.prototype._buildConfig=function(e,i,w,x){var y=this._getColor(e);this._convertPosition(i);var z=this._isMarkerVisible?1:0;return{graphic:{width:0,height:i.distance,drawingEffect:this._properties.get('drawingEffect'),fill:y,opacity:z,d:this._markerD},data:{color:y,width:0,height:i.distance,translate:[i.x,i.y]},ctx:w,effectManager:x||this._effectManager};};v.prototype._preRender=function(){v.superclass._preRender.apply(this,arguments);this._isMarkerVisible=this._properties.get("marker.visible");this._generateMarkerPath();};v.prototype._getSeriesRenderer=function(){return new b(this._drawNet.bind(this),this._updateNet.bind(this));};v.prototype._updateNet=function(){};v.prototype._drawNet=function(e,i,w){var x=this._properties.get("area"),y=this._properties.get("line"),z=this.runtime().effectManager(),E=C.buildSeriesContext(this._data,w,["color","color2","trellisColumn","trellisRow"]);c.drawNet(e,i,w,z,E,this._getlineAreaConfig(this._data,w,E),x,y);};v.prototype._getlineAreaConfig=function(e,i,w){var x=this._semanticMgr;var y={line:{},area:{}};var z=x.analyzeSeriesStyle(w,"line");if(z&&z.line&&z.line.color){y.line.color=z.line.color;}else if((x.hasDataPointColorStyle()||x.hasDataPointLineStyle())&&x.isOverrideMode()&&x.shouldChangeColor()){y.line.color=x.getOthersStyle("color").properties.color;}else{var E=C.getSeriesScaleInfo(e,i,["color"]);if(E){y.line.color=e[E.field].scale.scale(E.domain);}else{y.line.color=e.color.scale.getRange()[0];}}y.area.color=y.line.color;z=x.analyzeSeriesStyle(w,"area");if(z&&z.area){var F=z.area;if(F.hasOwnProperty("color")){y.area.color=F.color;}if(F.hasOwnProperty("opacity")){y.area.opacity=F.opacity;}if(F.hasOwnProperty("visible")){y.area.visible=F.visible;}}return y;};v.prototype._drawBranchLabels=function(){this._polarAxisLabelRenderInfo=[];var e=S.create("g");e.setAttribute("class",d.CSS.CLASS.AXIS.CONTAINER);var w=this._radius+q;var x=Number(this._branchLabelStyle.fontSize.match(/\d+/));for(var i=0;i<this._branchAngles.length;i++){if(this._hideBranchLabels[i]||!this._branchLabelWidth[i]){continue;}var y=this._branchAngles[i];var z=this._convertPosition({angle:y,distance:w});if(y===0){z.x-=this._branchLabelWidth[i]/2;z.y-=this._branchLabelHeight[i]/2+s;}else if(y===Math.PI){z.x-=this._branchLabelWidth[i]/2;}else if(y>0&&y<Math.PI){z.x-=this._branchLabelWidth[i];}z.y+=this._branchLabelHeight[i]/2;var E=S.create("g");E.setAttribute("class",d.CSS.CLASS.AXIS.LABEL_SELECTION);if(this._trellisContext!==undefined){O.extend(true,this._labelContext[i],this._trellisContext);}f.setContext(E,this._labelContext[i]);var F=S.create("text");var H=S.create("rect");F.setAttribute("class",d.CSS.CLASS.RADAR_BRANCH_LABEL);F.setAttribute("x",z.x);F.setAttribute("y",z.y);F.setAttribute("font-size",this._branchLabelStyle.fontSize);F.setAttribute("font-weight",this._branchLabelStyle.fontWeight);F.setAttribute("font-family",this._branchLabelStyle.fontFamily);F.setAttribute("font-style",this._branchLabelStyle.fontStyle);F.setAttribute("fill",this._branchLabelStyle.color);var J=null;var K=this.runtime().envManager();if(K){J=K.textAnchor();}var L={};L.reverseDots=(K&&K.reverseDots());F.setAttribute("text-anchor",J);var M=h.convertToCss(this._branchLabelStyle);if(this._truncatedBranchLabels[i]){T.ellipsis(this._branchLabels[i],F,this._branchLabelWidth[i],M,L);}else{F.textContent=this._branchLabels[i];}H.setAttribute("fill","transparent");H.setAttribute("x",z.x);H.setAttribute("y",z.y-this._branchLabelHeight[i]+1);H.setAttribute("height",this._branchLabelHeight[i]);H.setAttribute("width",this._branchLabelWidth[i]);H.setAttribute("class",d.CSS.CLASS.AXIS.BACKGROUND_RECT);this._polarAxisLabelRenderInfo.push({x:z.x,y:z.y,height:this._branchLabelHeight[i],width:this._branchLabelWidth[i]});E.appendChild(H);E.appendChild(F);e.appendChild(E);}this._dataLabels.setSize(this._realSize);return e;};v.prototype.renderBranches=function(e){var w=this._properties.get("polarAxis");if(w.visible===false){return;}var x=this._xHandlers[0].categorySum();var y=S.create("g");y.setAttribute("class",d.CSS.CLASS.RADAR_BRANCH_GROUP);var z=S.create("g");z.setAttribute("class",d.CSS.CLASS.RADAR_BRANCH_AXIS_GROUP);if(w.axisLine.visible){for(var i=0;i<x;i++){var E=S.create("line");E.setAttribute("class",d.CSS.CLASS.RADAR_BRANCH_AXIS);E.setAttribute("stroke",w.color);E.setAttribute("stroke-width",w.axisLine.size);var F=this._convertPosition({angle:this._branchAngles[i],distance:this._radius});E.setAttribute("x1",this._center.x);E.setAttribute("y1",this._center.y);E.setAttribute("x2",F.x);E.setAttribute("y2",F.y);z.appendChild(E);}y.appendChild(z);}if(w.label.visible&&this._radius>=r){var H=this._drawBranchLabels();y.appendChild(H);}if(e.node().childNodes[0]){e.node().insertBefore(y,e.node().childNodes[0]);}else{e.node().appendChild(y);}var J=this._polarAxisLabelRenderInfo;this._runtime.statusManager().add({'polarAxisLabelRenderInfo':{get:function(){return J;}}});};v.prototype._updateNegativeDatapoint=function(e,i){};v.prototype._drawGridlines=function(e){var i=this._properties.get('gridline');var w=[0,this._radius];var x=this._gridlineScale=this._getGridLineScale(w);G.drawRadarGridLine(e,this._center,this._branchAngles,x,i);this.renderBranches(e);this._dataLabels.setCenter(this._center);};v.prototype.buildLabelsText=function(e,w){for(var i=0;i<e.length;i++){if(e[i].children&&e[i].children.length){this.buildLabelsText(e[i].children,w+e[i].text+"/");}else{var x=w+e[i].text;this._branchLabels.push(w+e[i].text);this._labelContext.push(e[i]);}}};v.prototype.setTrellisContext=function(e){this._trellisContext=e;};R.prototype.hideConditional=function(){return;};v.prototype.render=function(e){v.superclass.render.apply(this,arguments);if(this._axisTitle){var i={"x":0,"y":this._realSize.height-this._branchTitileSize.height};var w={height:this._branchTitileSize.height,width:this._realSize.width};this._axisTitle.setSize(w);var x=e.append("g").attr('class','v-m-polarAxis');x.attr("transform",'translate('+i.x+', '+i.y+')');this._axisTitle.setTitleHiddenItems();this._axisTitle.render(x);}};v.prototype.setData=function(e){v.superclass.setData.apply(this,arguments);if(this._axisTitle){this._axisTitle.setData(e.categoryAxis,g.hasNegativeValue(e));}};m.register(p.DATAPOINT_NAVIGATOR,p.RADAR,n);return v;});define('sap/viz/chart/components/plotareas/RadarPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/RadarContainer','sap/viz/chart/components/axis/RadarValueAxis','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/plots/RadarPlot','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/DataUtils'],function Setup(o,R,a,P,b,V,S,D){var c=function(r,d){c.superclass.constructor.apply(this,arguments);this._init();};o.extend(c,R);c.prototype._getPlotOptions=function(){return this._options;};c.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};c.prototype._registerZoneManager=function(r,d){if(!d||!d.inTrellis){c.superclass._registerZoneManager.call(this,r);}};c.prototype._init=function(){this._plot=P.create(this._renderType,b,this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));this.setLayoutSequence(['bottom','top','left','right','center']);this._valueAxis=new a(this.runtime(),{name:"plotArea.valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});};c.prototype.destroy=function(){c.superclass.destroy.call(this);this._plot=null;this._hScrollbar=null;this._valueAxis=null;};c.prototype._calcValueAxisScale=function(k,r,d){var s=this._data[k].scale;return V.calcScale(s,r,{domain:d});};c.prototype.setData=function(d){c.superclass.setData.apply(this,arguments);var u=this.updateValueScale();if(u){this._plot.setData(u);}};c.prototype.setTrellisContext=function(d){this._plot.setTrellisContext(d);};c.prototype.updateValueScale=function(){var d=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(!d||w<=0||h<=0){return d;}var r=[0,1];r[1]=h;r[1]*=0.8;var v;if(this._options.inTrellis){if(this._data.valueAxis._scaleCalculated){this._valueAxis.setData(d.valueAxis);return d;}else{this._data.valueAxis._scaleCalculated=true;}}v=this._calcValueAxisScale("valueAxis",r);d.valueAxis.scale=v.scale;d.valueAxis.tickHint=v.tickHint;d.valueAxis.scale.setRange([0,1]);this._valueAxis.setData(d.valueAxis);return d;};c.prototype.setSize=function(s){var r=c.superclass.setSize.apply(this,arguments);if(this._options.inTrellis){this.setRoughSize(s);var u=this.updateValueScale();if(u){this._plot.setData(u);}}return r;};c.prototype._hasScrollbar=function(){return!!this._properties.get('plotArea.isFixedDataPointSize')||!!this._properties.get("plotArea.window.start")||!!this._properties.get("plotArea.window.end");};c.prototype._preRender=function(){var d={x:0,y:0};if(this._hasScrollbar()){d=this._plot.getOffset();}c.superclass._preRender.apply(this,arguments);if(d.x||d.y){this.scroll(d);}};c.prototype._configLayout=function(){var z=this.getZoomer();var i=false,d=false;if(z){i=true;d=true;}if(this._hasScrollbar()){i=true;d=true;this.runtime().statusManager().add('plotRealSize',{value:this._plot.getPreferredSize()});}if(this._vScrollbar){this._vScrollbar.isExist(i);}if(this._hScrollbar){this._hScrollbar.isExist(d);}return c.superclass._configLayout.apply(this,arguments);};c.prototype._cloneData=function(r){var n={};var d=this._data;for(var i in d){if(d.hasOwnProperty(i)){n[i]=d[i];}}for(var p in r){if(r.hasOwnProperty(p)){n[p]=r[p];}}return n;};c.prototype.drawTrellisDataLabels=function(d,e){this._plot.drawTrellisDataLabels(d,e);};return c;});define('sap/viz/chart/behavior/config/AxisBehaviorConfigForRadar',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants','sap/viz/chart/components/util/ChartTypeUtils','sap/viz/framework/common/util/UADetector',"sap/viz/framework/interaction/BehaviorManager"],function(C,S,a,U,B){var b="v-axis-item",c=C.CSS.CLASS,r=["info/radar"],d="plotArea.polarAxis";r=a.addTrellisType(r);function i(s){var f=s.getProperties().get("interaction.selectability");if(!f){return false;}var g=f.mode?f.mode.toUpperCase():f.mode;var h=s.getNodes(s.NodeType.AXIS_ITEM);if(!f.axisLabelSelection||g===S.SELECTION_MODE.NONE||g===S.SELECTION_MODE.SINGLE||!h.node()){return false;}else{return true;}}var e=[{"id":"hover_on_axis_label_radar","triggerEvent":{"name":"hover","targets":b,"supportedChartTypes":r},"handler":function(f,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");var g=s.getProperties().get(d+".hoverShadow.color");if(g){d3.select(f.data.currentTarget).select("rect").attr("fill",f.data.byKeyboard?"transparent":g).classed(c.HOVER_SHADOW,true);}}},{"id":"down_on_axis_label_radar","triggerEvent":{"name":"down","targets":b,"supportedChartTypes":r},"handler":function(f,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");var g=s.getProperties().get(d+".mouseDownShadow.color");if(g){d3.select(f.data.currentTarget).select("rect").attr("fill",g).classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,true);}}},{"id":"up_on_axis_label_radar","triggerEvent":{"name":"up","targets":b,"supportedChartTypes":r},"handler":function(f,s){if(!i(s)){return;}var g=s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND);g.attr("fill","transparent").classed(c.FOCUS_SHADOW,false);if(U.isMobile()){g.classed(c.HOVER_SHADOW,false);}else{var h=s.getProperties().get(d+".hoverShadow.color");if(h){d3.select(f.data.currentTarget).select("rect").attr("fill",h).classed(c.HOVER_SHADOW,true);}}}}];B.registerAll(e);return e;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForRadar',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/Constants"],function(C,T,H,D,a,b,I,B,c,d){var r=["info/radar"];r=a.addTrellisType(r);var f="v-datapoint";var g="v-datalabel";var h=C.CSS.CLASS;var N=h.RADAR_NET;function j(e,s,i,q){if(!e.length){return;}if(!i&&b.getData(e[0]).trellisInfo){var t=k(e);for(var u in t){if(t.hasOwnProperty(u)){j(t[u],s,true,q);}}return;}var v=o(s,s.NodeType.DATA_POINT_GROUP,e[0]);var w=v.querySelectorAll("."+N);var x=l(e);for(var y in x){if(x.hasOwnProperty(y)&&x[y]){m(s,parseInt(y),x[y],q,w);}}}function k(e){var q={};for(var i=0;i<e.length;i++){var t=b.getData(e[i]).trellisInfo;q[t]=q[t]||[];q[t].push(e[i]);}return q;}function l(e){var q=[];for(var i=0;i<e.length;i++){var s=b.getData(e[i]);q[s.seriesIndex]=q[s.seriesIndex]||[];q[s.seriesIndex].push(e[i]);}return q;}function m(s,e,i,q,t){var u;var v=s.getProperties().get('plotArea.line');if(t&&t.length>0){[].slice.apply(t).every(function(w){var x=b.getData(w);if(x.seriesIndex!==e){return true;}if(q){if(i&&x.pointSum===i.length){u=s.getProperties().get('interaction.selected');if(d3.select(w).classed(h.DATAPOINTSELECTED)){return false;}else{d3.select(w).classed(h.DATAPOINTSELECTED,true);}var y={fill:x.fill,visible:x.visibility==="visible"};n(s,w,u.area,y);if(v.visible===true){w.setAttribute("stroke-opacity",1);}else{w.setAttribute("stroke-opacity",0);}}else{if(v.visible!==true){w.setAttribute("stroke-opacity",0);}else{w.removeAttribute("stroke-opacity");}}}else{u=s.getProperties().get('interaction.deselected');if(d3.select(w).classed(h.DATAPOINTSELECTED)){d3.select(w).classed(h.DATAPOINTSELECTED,false);}else{return false;}n(s,w,u.area);}return true;});}}function n(s,e,i,q){var t=H.getColors(s,e,i.color);var v=q?q.visible:s.getProperties().get('plotArea.area.visible');var u=t.customizedColor||(q&&q.fill)||t.defaultColor;t=t.customizedColor||t.defaultColor;e.setAttribute("fill",u);e.setAttribute("stroke",t);if(v){if(i.opacity){e.setAttribute("fill-opacity",i.opacity);}}else{e.setAttribute("fill-opacity",0);}}function o(s,e,i){if(i){var q=s.getNodes(e,false);var t;q.forEach(function(u){if(u.contains&&u.contains(i)){t=u;}else if(u.compareDocumentPosition&&!!(u.compareDocumentPosition(i)&16)){t=u;}});return t;}return null;}var p=[{"id":"selectDataPoint_radar","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":r},"handler":function(i,s){var q=H.turnToArray(i.data.targets);s.fireEvent(i,true);var t=s.getProperties().get('interaction.selected');q.forEach(function(e){var u=d3.select(e);u.classed(h.DATAPOINTDEFAULT,false);u.classed(h.DATAPOINTSELECTED,true);D.highlight(e);H.drawStroke(s,e,'path',t.stroke,1);H.drawFill(s,e,'path',t,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});j(q,s,false,true);}},{"id":"deselectDataPoint_radar","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":r},"handler":function(i,s){if(!i.data.targets||i.data.targets.length<=0){return;}s.fireEvent(i,true);var q=H.turnToArray(i.data.targets);var t;if(i.data.isAnyOtherSelected){t=s.getProperties().get('interaction.deselected');}else{t=s.getProperties().get('plotArea.dataPoint');if(!s.getProperties().get("plotArea.marker.visible")){t.opacity=0;}}q.forEach(function(e){var u=d3.select(e);if(!u){return;}u.classed(h.DATAPOINTSELECTED,false);H.drawStroke(s,e,'path',t.stroke,1);H.drawFill(s,e,'path',t,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});if(i.data.isAnyOtherSelected){j(q,s,false,false);}}},{"id":"hoverOnDataPoint_radar","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":r},"handler":function(i,s){s.fireEvent(i,true);var q=H.turnToArray(i.data.targets);var t=s.getProperties().get('interaction.hover');q.forEach(function(e){H.drawStroke(s,e,'path',t.stroke,2);H.drawFill(s,e,'path',t,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});}},{"id":"unhoverOnDataPoint_radar","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":r},"handler":function(i,s){s.fireEvent(i,true);var q=H.turnToArray(i.data.targets);var t;q.forEach(function(e){if(d3.select(e).classed(h.DATAPOINTSELECTED)){t=s.getProperties().get('interaction.selected');}else{var u=s.getStatus("selectedDataPoints");if(u.length){t=s.getProperties().get('interaction.deselected');}else{t=s.getProperties().get('plotArea.dataPoint');}if(!s.getProperties().get("plotArea.marker.visible")){t.opacity=0;}}H.drawStroke(s,e,'path',t.stroke,1);H.drawFill(s,e,'path',t,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});}},{"id":"clearPlot_radar","triggerEvent":{"name":"clearPlot","supportedChartTypes":r},"handler":function(i,s){s.fireEvent(i,true);var q=s.getNodes(s.NodeType.DATA_POINT,false);if(!q||!q.length){return;}var t,u=i.data.isGray;if(u){t=s.getProperties().get('interaction.deselected');}else{t=s.getProperties().get('plotArea.dataPoint');}if(!s.getProperties().get("plotArea.marker.visible")){t.opacity=0;}q.forEach(function(e){H.drawStroke(s,e,'path',t.stroke,1);H.drawFill(s,e,'path',t,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});var v=s.getProperties().get('plotArea.area.visible');if(u){t=s.getProperties().get('interaction.deselected.area');}else{t=s.getProperties().get('plotArea.area');}var w=s.getNodes(s.NodeType.RADAR_NET,false);var x=s.getProperties().get('plotArea.line');w.forEach(function(e){if(d3.select(e).classed(h.DATAPOINTSELECTED)){d3.select(e).classed(h.DATAPOINTSELECTED,false);}var y=b.getData(e);var z;var A=v?t.opacity:0;if(y.visibility==="visible"){if(!u){A=y.opacity;}else{A=t.opacity;}z=y.fill;}else if(y.visibility==="hidden"){A=0;}var E=H.getColors(s,e,t.color);if(u&&E.customizedColor){e.setAttribute('fill',E.customizedColor);e.setAttribute('stroke',E.customizedColor);}else{e.setAttribute('fill',z||E.defaultColor);e.setAttribute('stroke',E.defaultColor);}if(x.visible!==true){e.setAttribute('stroke-opacity',0);}else{e.removeAttribute("stroke-opacity");}e.setAttribute('fill-opacity',A);});}},I.getDeselectEvent("click_on_non_selection_radar",r,H.getDeselAllExTargets())];B.registerAll(p);return p;});define('sap/viz/chart/views/RadarChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/RadarPlotArea',"sap/viz/chart/behavior/config/AxisBehaviorConfigForRadar","sap/viz/chart/behavior/config/DataPointBehaviorConfigForRadar"],function Setup(o,C,R){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(a,C);a.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}a.superclass.setSize.apply(this,arguments);};a.prototype._getLegendInitOptions=function(){return[{noFillSupport:true}];};a.prototype._getDataItems=function(){return["valueAxis","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn"];};a.prototype._createPlotContainer=function(i){this._plotArea=new R(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};return a;});define('sap/viz/chart/metadata/properties/chartTypes',[],function(){return["DEFAULT","100_dual_stacked_bar","100_dual_stacked_column","mekko","100_mekko","horizontal_mekko","100_horizontal_mekko","100_stacked_bar","100_stacked_column","100_area","100_horizontal_area","bar","bullet","vertical_bullet","timeseries_bullet","column","combination","dual_bar","dual_column","dual_horizontal_line","dual_line","dual_stacked_bar","dual_stacked_column","horizontal_combination","horizontal_line","line","area","horizontal_area","timeseries_line","timeseries_column","timeseries_combination","dual_timeseries_combination","timeseries_stacked_combination","timeseries_stacked_column","timeseries_100_stacked_column","stacked_bar","stacked_column","pie","donut","scatter","bubble","time_bubble","timeseries_scatter","timeseries_bubble","treemap","heatmap","tagcloud","number","radar","trellis_100_dual_stacked_bar","trellis_100_dual_stacked_column","trellis_100_stacked_bar","trellis_100_stacked_column","trellis_100_area","trellis_100_horizontal_area","trellis_bar","trellis_column","trellis_combination","trellis_combinationEx","trellis_dual_bar","trellis_dual_column","trellis_dual_horizontal_line","trellis_dual_line","trellis_dual_stacked_bar","trellis_dual_stacked_column","trellis_horizontal_combination","trellis_horizontal_line","trellis_horizontal_area","trellis_line","trellis_area","trellis_stacked_bar","trellis_stacked_column","trellis_pie","trellis_scatter","trellis_bubble","trellis_donut","stacked_combination","horizontal_stacked_combination","dual_stacked_combination","dual_horizontal_stacked_combination","dual_combination","dual_horizontal_combination","waterfall","stacked_waterfall","timeseries_waterfall","horizontal_waterfall","horizontal_stacked_waterfall","trellis_radar","combinationEx"];});define('sap/viz/chart/metadata/properties/metadata',['sap/viz/chart/metadata/properties/chartTypes','sap/viz/chart/metadata/properties/PropertyLoader'],function(c,P){function l(d,p){var e;var h=P.getProperties(d);if(h){e={};for(var n in h){if(h.hasOwnProperty(n)){var i=h[n];if(!a(i)){i={defaultValue:i};}s(n,i,e);}}}return e;}function g(d){return'info/'+d;}function s(n,v,r){var d=n.split('.');var p=r;for(var i=0;i<d.length;++i){var e=d[i];if(i<d.length-1){p[e]=p[e]||{children:{}};p=p[e].children;}else{p[e]=v;}}}function a(i){return Object.prototype.toString.call(i)==='[object Object]'&&(i.hasOwnProperty('defaultValue')||i.hasOwnProperty('readonly')||i.hasOwnProperty('serializable'));}var b={};var f=c.map(function(n){return g(n);});return{get:function(d){if(arguments.length){var r=b[d];if(!r){r=l(d);if(f.indexOf(d)>-1){b[d]=r;}}return r;}else{for(var i=0;i<f.length;++i){var e=f[i];b[e]=b[e]||l(e);}return b;}}};});define('scaleDefs',[],function Setup(){var c=["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"];var d=[["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]];var b=["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E"];var a=["#A7BFE5","#CFF9AA","#FFFF91","#FFE0AC","#FF9DAF","#BBA6D5","#6DC8E6","#E9FF7C","#FFFF9F","#FFAC8B","#D983B7","#3396E4","#40DB74","#FFEA50","#FF8953","#E560A1","#6F69C1"];var e=["#D5DADC"];var f={"palette":{"defaultValue":c,}};var g={"palette":{"defaultValue":d,}};var h={"palette":{"defaultValue":[[c,d[0]],d[1]],}};var i={"palette":{"defaultValue":c,}};var j={"palette":{"defaultValue":c,}};var k={"ActualColor":{"defaultValue":b,},"AdditionalColor":{"defaultValue":a,},"ForecastColor":{"defaultValue":e,},};var l={"ActualColor":{"defaultValue":b,},"AdditionalColor":{"defaultValue":a,}};var s={"palette":{"defaultValue":["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],}};var v={"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",},"type":{"defaultValue":"linear",}};var m={"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",},"type":{"defaultValue":"linear",},};var t={"start":{"defaultValue":"auto",},"end":{"defaultValue":"auto",}};var p={"type":{"defaultValue":"linear",},"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",}};var n={"type":{"defaultValue":"linear",},"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",},};var o={"domain":{"defaultValue":[],}};var M={"palette":{"defaultValue":[],},"startColor":{"defaultValue":"#C2E3A9",},"endColor":{"defaultValue":"#73C03C",},"legendValues":{"defaultValue":[],},"numOfSegments":{"defaultValue":5,},"maxNumOfSegments":{"defaultValue":9,"access":"internal"},"nullColor":{"defaultValue":"#E0E0E0",}};var w={};var q={"feed":"color","properties":f};var A={"feed":"valueAxis","properties":m};var r={"feed":"dataFrame","properties":o};var u={"feed":"valueAxis2","properties":v};var x={"feed":"color","properties":g};var y={"feed":"color","properties":h};var z={"feed":"valueAxis","properties":p};var B={"feed":"valueAxis2","properties":n};var C={"feed":"shape","properties":s};var D={"feed":"timeAxis","properties":t};var E={"feed":"color","properties":M};var F=[{"feed":"actualValues","properties":p},{"feed":"color","properties":k}];var G=[D,{"feed":"actualValues","properties":p},{"feed":"color","properties":l}];var H=[A,q,r];var I=[A,q];var J=[q,r];var K=[A,u,x,r];var L=[A,u,y];var N=[z,B,q,C];var O=N.concat(r);var P=[{"feed":"color","properties":j}];var Q=P.concat(r);var R=[A,q];var S=[A,u,x];var T=[x,r];var U=[z,q,D];var V=U.concat(u);var W=[A,{"feed":"waterfallType","properties":w}];var X=[A,q,D];var Y=W.concat(q);var Z=[z,q,D,C];var $=[A,q,D];var _=$.concat(u);var a1={"column":H,"donut":Q,"pie":Q,"bar":H,"line":H,"area":H,"stacked_column":H,"stacked_bar":H,"100_stacked_bar":J,"100_stacked_column":J,"100_area":J,"100_horizontal_area":J,"mekko":I,"horizontal_mekko":I,"100_mekko":I,"100_horizontal_mekko":I,"combination":H,"stacked_combination":H,"horizontal_stacked_combination":H,"dual_bar":K,"dual_column":K,"dual_line":K,"scatter":O,"bubble":O,"trellis_column":R,"trellis_donut":P,"trellis_pie":P,"trellis_bar":R,"trellis_line":R,"trellis_area":R,"trellis_100_area":[q],"trellis_100_horizontal_area":[q],"trellis_stacked_column":R,"trellis_stacked_bar":R,"trellis_100_stacked_bar":[q],"trellis_100_stacked_column":[q],"trellis_combination":R,"trellis_dual_bar":S,"trellis_dual_column":S,"trellis_dual_line":S,"trellis_scatter":N,"trellis_bubble":N,"horizontal_line":H,"horizontal_area":H,"trellis_horizontal_line":R,"trellis_horizontal_area":R,"horizontal_combination":H,"trellis_horizontal_combination":[A,{"feed":"color","properties":i}],"dual_horizontal_line":K,"trellis_dual_horizontal_line":S,"100_dual_stacked_column":T,"trellis_100_dual_stacked_column":T,"100_dual_stacked_bar":T,"trellis_100_dual_stacked_bar":[x],"dual_stacked_column":K,"trellis_dual_stacked_column":S,"dual_stacked_bar":K,"trellis_dual_stacked_bar":S,"treemap":[E],"heatmap":[E],"number":[],"tagcloud":[E,r],"time_bubble":[z,B,q,C,r],"bullet":F,"vertical_bullet":F,"timeseries_bullet":G,"dual_combination":K,"dual_stacked_combination":K,"dual_horizontal_combination":K,"dual_horizontal_stacked_combination":K,"timeseries_line":U,"timeseries_column":[z,q,D],"timeseries_combination":$,"timeseries_stacked_combination":$,"dual_timeseries_combination":_,"timeseries_scatter":Z,"timeseries_bubble":Z,"waterfall":W,"timeseries_waterfall":X,"horizontal_waterfall":W,"stacked_waterfall":Y,"horizontal_stacked_waterfall":Y,"radar":[A,q,r],"trellis_radar":[A,q],"combinationEx":L,"trellis_combinationEx":L,"timeseries_stacked_column":[z,q,D],"timeseries_100_stacked_column":[q,D],};return a1;});define('sap/viz/chart/metadata/properties/ScaleLoader',["scaleDefs",'sap/viz/framework/common/util/ObjectUtils',],function(a,O){var s=O.clone(a);var f=function(c){var r=[];var i=0;if(c){for(i=0;i<c.length;++i){var b=c[i];r[i]={};for(var d in b){if(b.hasOwnProperty(d)){r[i][d]=b[d];}}if(r[i].hasOwnProperty("properties")){delete r[i].properties;for(var p in b.properties){if(b.properties.hasOwnProperty(p)){r[i][p]=b.properties[p];}}}}}return r;};return{addScales:function(b){s=O.extend(true,{},s,b);},getScale:function(t){return f(s[t]);}};});define('sap/viz/chart/metadata/metadata',["sap/viz/chart/metadata/properties/metadata",'sap/viz/framework/common/lang/LangManager',"sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/ObjectUtils",'sap/viz/chart/metadata/properties/ScaleLoader'],function Setup(p,L,C,O,S){var c=function(t){if(t.search("info/")!=-1){var b=t.slice(5);return b;}else{return t;}};var d=function(b){if(!b){return;}var e=O.clone(b);for(var i=0;i<e.length;i++){delete e[i].name;}return e;};var a=function(m){var b=c(m.type);if(m.isBuiltIn){m.bindings=d(m.bindings);}m.properties=p.get(m.type);m.scales=S.getScale(b);m.name=L.get(m.name)||m.name;return m;};var B={get:function(b){var m=C.getMetadata(b);if(m){return a(m);}return m;},getAll:function(){var m=C.getAllMetadata();for(var i in m){if(m.hasOwnProperty(i)){a(m[i]);}}return m;}};return B;});define('sap/viz/api/metadata/Viz',['sap/viz/chart/metadata/metadata','exports'],function Setup(m,s){var a={get:function(c){if(arguments.length){var g=m.get(c);return g;}else{var b=m.getAll();return b;}}};return a;});define('sap/viz/chart/components/legend/ExtensionColorLegend',['sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/oo','sap/viz/chart/scales/ColorScale'],function(C,o,a){var E=function(){E.superclass.constructor.apply(this,arguments);var t=this;this._runtime.eventDispatcher().on('addEventListener.colorLegend',function(){t.addEventListener.apply(t,arguments[0]);});this._runtime.eventDispatcher().on('removeEventListener.colorLegend',function(){t.removeEventListener.apply(t,arguments[0]);});this._eventMap={};this.initEvent();};o.extend(E,C);var s=['selectionChanged'];E.prototype.initEvent=function(){var e={};for(var i in s){if(s.hasOwnProperty((i))){e[s[i]]={};}}this._eventMap=e;};E.prototype.registerEvent=function(){var c=function(e){for(var j in this._eventMap['selectionChanged']){if(this._eventMap['selectionChanged'].hasOwnProperty(j)){this._eventMap['selectionChanged'][j].call(this,e);}}}.bind(this);this._runtime.eventDispatcher().on('legendSelection',c);};E.prototype.render=function(){E.superclass.render.apply(this,arguments);this.registerEvent();};E.prototype._buildData=function(b){var c=b.color||this._properties.origin.get('plotArea.colorPalette');var e=b.data;var m=b.metadata;var f=[];var r=[];e.forEach(function(d){f.push([d]);var h=[d];h.mndIndex=-1;r.push(h);});var g=new a(f,c);return{color:{scale:g,metaData:m,rowArray:r}};};E.prototype.setData=function(d,b){if(b){var n=this._buildData(d);E.superclass.setData.call(this,n);}else{E.superclass.setData.call(this,d);}};E.prototype.addEventListener=function(t,l,b,p){var h=function(){l.apply(b,arguments);};if(this._eventMap[t]){this._eventMap[t][l]=h;}};E.prototype.removeEventListener=function(t,l,b){if(!!this._eventMap[t][l]){delete this._eventMap[t][l];}};return E;});define('sap/viz/chart/components/extension/componentWrapper/BaseWrapper',['sap/viz/framework/common/util/TypeUtils'],function(T){var b=function(m,e){this._evtDispatch=e;this._supportedEvent=[];this._properties=m._properties;};b.prototype.properties=function(p){if(arguments.length===0||(arguments.length===1&&T.isString(p))){return this._properties.get.apply(this._properties,arguments);}this._properties.set.apply(this._properties,arguments);};b.prototype.addEventListener=function(t,l,s,p){if(this._supportedEvent.indexOf(t)>-1){this._evtDispatch.addEventListener(t,l,s,p);}};b.prototype.removeEventListener=function(t,l,s){this._evtDispatch.removeEventListener(t,l,s);};b.prototype.supportedEvent=function(){return this._supportedEvent;};return b;});define('sap/viz/chart/components/extension/componentWrapper/TitleWrapper',['sap/viz/framework/common/util/oo','sap/viz/chart/components/extension/componentWrapper/BaseWrapper'],function(o,b){var t=function(){t.superclass.constructor.apply(this,arguments);};o.extend(t,b);return t;});define('sap/viz/chart/components/extension/componentWrapper/LegendWrapper',['sap/viz/framework/common/util/oo','sap/viz/chart/components/extension/componentWrapper/BaseWrapper'],function(o,b){var l=function(m,e){l.superclass.constructor.apply(this,arguments);this._properties=m._properties.origin.proxy('legend');this._supportedEvent=['selectionChanged'];};o.extend(l,b);return l;});define('sap/viz/chart/components/extension/BuiltInComponentWrapper',['sap/viz/chart/components/extension/componentWrapper/TitleWrapper','sap/viz/chart/components/extension/componentWrapper/LegendWrapper','sap/viz/framework/extension/Constants'],function(T,L,C){var m={'title':T,'legendGroup':L};var c=function(a,s){if(!m[a._name]){return null;}var w=new m[a._name](a,s);w.name=C.ModuleName[a._name];return w;};return{createWrapper:c};});define('sap/viz/chart/components/plots/ExtensionPlot',['sap/viz/chart/components/UIComponent','sap/viz/framework/common/util/oo','sap/viz/framework/extension/DataModelToCSVUtil','sap/viz/chart/components/extension/BuiltInComponentWrapper','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils'],function(U,o,D,B,T,P,F,C,O){var b=function(r,i){if(!T.isFunction(this.getDefintion)){return;}var v=this.getDefintion();b.superclass.constructor.apply(this,arguments);r.zoneManager().add(P.plot(this));r.zoneManager().add(F.plot(this));var s=this.runtime().semanticManager();s.bindDataPointProperty(this._name+".dataPointStyle");this._semanticMgr=s;this.Viz=new v();this._rawdata={};this._supportTooltip=true;this._originalSize={};var j=this;this._properties.origin.add(v.metadata.properties,true);if(v.metadata.events&&T.isArray(v.metadata.events)){v.metadata.events.forEach(function(e){j._exposeMoreEvents(e);});}this._exposeMoreEvents('initialized');this._exposeMoreEvents('renderComplete');this.Viz.dispatchEvent=function(e,l){f.call(j,e,l);};var k=this.Viz;window.setTimeout(function(){if(this._runtime){this._runtime.statusManager().add("interaction.selectedDataPoints",{serializable:false,set:function(e){e.success=k.setSelection(e.items);},get:function(){return k.getSelection();}});}}.bind(this),0);this._buildTooltip();h.call(this,this._properties.origin);this._changes={};};o.extend(b,U);b.prototype.renderTo=function(){return'DIV';};b.prototype._buildModuleWrapper=function(e){var r={};for(var i in e){if(e.hasOwnProperty(i)){var m=e[i].module;var w=B.createWrapper(m,this);if(w&&w.name){r[w.name]=w;(function(m){w.setData=function(j){m.setData(j,true);};}(m));}}}return r;};b.prototype._buildTooltip=function(){var e=this.Viz;var v=this.getDefintion();var s=this;e.showTooltip=function(i){s._runtime.eventDispatcher().fire('showTooltip',i);};e.hideTooltip=function(i){s._runtime.eventDispatcher().fire('hideTooltip',i);};};b.prototype.addEventListener=function(){this._runtime.eventDispatcher().fire('addEventListener',arguments);};b.prototype.removeEventListener=function(){this._runtime.eventDispatcher().fire('removeEventListener',arguments);};b.prototype.setBuiltInComponent=function(e){this._builtInComponents=e;this._builtInComponents=this._buildModuleWrapper(e);};b.prototype.changes=function(e){if(arguments.length>0){this._changes=e;}else{return this._changes;}};b.prototype.updateBuiltInComponents=function(){if(this.Viz&&this.Viz.updateBuiltInComponents){this.Viz.updateBuiltInComponents(this._builtInComponents,this._changes);}};b.prototype.render=function(p){b.superclass.render.apply(this,arguments);this._selection=p;if(this.Viz){a.call(this,p);var e=this._properties.origin.get('plotArea.colorPalette')||C.COLOR.SAPColorSingleAxis;this.Viz.colorPalette=function(){return e;};this._originalProperties=this._properties.origin.get();var s=this._size;this._originalSize=O.clone(s);this.Viz.size=function(){return s;};if(this.Viz.init&&!this._initialized){this.Viz.init();this._initialized=true;}if(this.Viz.render){this.Viz.render(this._builtInComponents,this._changes);}}};b.prototype.destroy=function(){b.superclass.destroy.apply(this,arguments);if(this.Viz.destroy){this.Viz.destroy();}this.Viz=undefined;};b.prototype.setRawData=function(e){this._rawdata=e;d.call(this,e.bindings);g.call(this,e.scales);c.call(this,e.data);};var f=function(e,i){window.setTimeout((function(){if(this._eventDispatch&&this._eventDispatch[e]){this._eventDispatch[e](i);}}).bind(this),0);};b.prototype.propertyZone=function(){return this.Viz.propertyZone(this._properties._prefix);};b.prototype.feedingZone=function(){return this.Viz.feedingZone();};b.prototype.exportContent=function(e){return this.Viz.exportToSVGString&&this.Viz.exportToSVGString(e);};b.prototype.supportExportToContentType=function(){return!!this.Viz.exportToSVGString;};var a=function(e){this.Viz.container=function(){return e;};};var c=function(v){var e=v;if(this.getDefintion().metadata.dataType==='csv'){e=D(v,this._rawdata.bindings);}if(this.Viz.data){this.Viz.data(e);}else{this.Viz.data=function(){return e;};}};var d=function(e){if(this.Viz.bindings){this.Viz.bindings(e);}else{this.Viz.bindings=function(){return e;};}};var g=function(e){if(this.Viz.scales){this.Viz.scales(e);}else{this.Viz.scales=function(){return e;};}var _=this._semanticMgr;this.Viz.getSemanticColor=function(i){return _.analyzeDataPoint("color",i);};};var h=function(p){this.Viz.properties=function(e){if(arguments.length===0||(arguments.length===1&&T.isString(e))){return p.get.apply(p,arguments);}p.set.apply(p,arguments);};};return b;});define('sap/viz/chart/behavior/ExtensionBehavior',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/chart/behavior/config/SelectionUtil"],function(o,C,D,B,a,R,L,S){var E=B.get("default").clone();var b=function(){};o.extend(b,R);var l=function(){};o.extend(l,L);l.prototype.click=function(e,s,d){if(!S.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}var f=D.getContext(e.data.currentTarget).ctx;s.fireExternalEvent("legendSelection",f);};var c=E.getActionById("legendBehaviorDefinition");c.setHandler(l);B.register("ExtensionBehavior",E);B.addBehaviorType("ExtensionBehavior");});define('sap/viz/chart/views/ExtensionChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/framework/extension/Constants','sap/viz/chart/components/legend/ExtensionColorLegend','sap/viz/chart/behavior/config/tooltip/Tooltip','sap/viz/chart/components/plots/ExtensionPlot',"sap/viz/chart/behavior/ExtensionBehavior",'sap/viz/framework/common/util/ObjectUtils','require'],function(o,C,a,E,T,b,c,O,r){function m(e){switch(e.name){case a.ModuleName.title:return{id:'title',place:(e.properties&&e.properties.position)||'top',properties:e.properties||{}};case a.ModuleName.legend:return{id:'legend',place:(e.properties&&e.properties.position)||'right',properties:e.properties||{}};}}var n=function(){this._supportTooltip=true;this._needDispatchTooltipEvent=false;this._changes=false;this._dataItem=[];this.viz=this.getDefintion().metadata;this.plot=d(this.getDefintion());this.childrens=[];this.childrens.push(this.plot);if(this.viz.builtInComponents){for(var i in this.viz.builtInComponents){if(this.viz.builtInComponents.hasOwnProperty(i)){this.childrens.push(m(this.viz.builtInComponents[i]));}}}if(this.viz.bindingDefinition){this._dataItem=p(this.viz.bindingDefinition);}n.superclass.constructor.apply(this,arguments);this.id=this.viz.id;};function d(e){var f=function(){f.superclass.constructor.apply(this,arguments);};o.extend(f,b);f.prototype.getDefintion=function(){return e;};return f;}o.extend(n,C);var p=function(f){return f.map(function(i){return i.id;});};n.prototype.renderTo=function(){return'DIV';};n.prototype._dataChanged=function(){this._resetPlotContainer();};n.prototype._createChildren=function(){var t=this;var i=2;this.childrens.forEach(function(f){if(f.id==='title'){t._createTitle(f.place);t._properties.proxy('title').setDefault(f.properties);}else if(f.id==='legend'){t._createLegendGroup(f.place);t._properties.proxy('legend').setDefault(f.properties);if(f.properties.position){t._properties.add('legend.position',f.properties.position);}}else{var g=new f(t.runtime(),{name:'plotArea',supportTooltip:t._supportTooltip});t.setChild('plot',g,{priority:++i});}});this._createBackground();this._createTooltip();if(this.getChild('plot')){var e=this.getChild('plot').module;if(e.setBuiltInComponent){e.setBuiltInComponent(this._children);}}if(this.getChild(this._getLegendGroupModuleKey())){this._properties.origin.add({'interaction.selectability.plotLassoSelection':{'defaultValue':false,'serializable':false,'readonly':true},'interaction.selectability.legendSelection':{'defaultValue':true,'serializable':false,'readonly':true}});}else{this._needDispatchTooltipEvent=true;this._exposeMoreEvents('showTooltip');this._exposeMoreEvents('hideTooltip');}};n.prototype.render=function(){if(!this._size.width||!this._size.height){return;}if(this.getChild('plot')&&this.getChild('plot').module&&this.getChild('plot').module.changes){var e=this.getChild('plot').module;e.changes(this._changes);if(e.updateBuiltInComponents){e.updateBuiltInComponents();}}if(this._properties.get("interaction.behaviorType")!=='DesignTimeBehavior'&&this.getChild(this._getLegendGroupModuleKey())){this._properties.origin.setDefault({'interaction.behaviorType':'ExtensionBehavior'});}var l=this._properties.get('legend.position');if(l){this.getChild('legendGroup').module.setDefaultPosition(l);}n.superclass.render.apply(this,arguments);if(this._selections&&this._selections.plot&&this._selections.plot.node){var f=this._selections.plot.node();f.parentNode.appendChild(f);}};n.prototype._getLegendDefinition=function(){return[E];};n.prototype._createTooltip=function(){if(!this._tooltipModule){this._tooltipModule=new T(this._properties.origin);this._runtime.eventDispatcher().on('showTooltip.extension',function(e){if(this._properties.get('interaction.behaviorType')!=='DesignTimeBehavior'){this._tooltipModule.showTooltip({container:e.container,mode:e.mode,position:e.position,data:O.extend(true,[],e.data)});if(this._needDispatchTooltipEvent){this._eventDispatch['showTooltip'](e);}}}.bind(this));this._runtime.eventDispatcher().on('hideTooltip.extension',function(e){if(this._properties.get('interaction.behaviorType')!=='DesignTimeBehavior'){this._tooltipModule.hideTooltip(e);if(this._needDispatchTooltipEvent){this._eventDispatch['hideTooltip'](e);}}}.bind(this));}};n.prototype.changes=function(e){if(arguments.length>0){this._changes=e;}else{return this._changes;}};n.prototype.setChild=function(k,e,f){e.alias=k;if(!this._children[k]){this._children[k]={};}this._children[k].module=e;this._children[k].option=f?f:{};return this;};n.prototype.enableInteraction=function(){if(!this.getChild(this._getLegendGroupModuleKey())){return false;}return true;};n.prototype._updateData=function(){n.superclass._updateData.apply(this,arguments);if(this._data){for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this.getChild(k).module.setRawData&&this._rawData.dataModel._rawData){this.getChild(k).module.setRawData({data:this._rawData.dataModel._rawData,bindings:this._rawData.bindings,scales:this._rawData.scales});}}}}};n.prototype.exportContent=function(e){return this._children['plot'].module.exportContent(e);};n.prototype.supportExportToContentType=function(){return this._children['plot'].module.supportExportToContentType();};n.prototype._getDataItems=function(){return this._dataItem;};n.prototype._dispatchInitialized=function(){if(this._eventDispatch){this._eventDispatch.ready();var e=this.getChild('plot');if(e.module&&e.module._eventDispatch){var f=function(){if(!this._initialized){this._initialized=true;window.setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete();}},0);}}.bind(this);e.module._eventDispatch.on('renderComplete.renderExtensionComplete',f);e.module._eventDispatch.on('initialized.renderExtensionComplete',f);}}};return n;});(function(){var l=define&&define.__autoLoad;if(l&&l.length){define.__autoLoad=[];require(l);}})();(function(c){var a=sap.bi.framework.declareBundle({id:"sap.viz.chart",components:c});(a.components||[]).forEach(function(b){b.instance=b.instance||{};window._cvom_kernel.register(b);});})((function(){var p="sap.viz.impls";var c={"resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/chart/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/chart/langs"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/framework/langs"}]};var n="sap/viz/chart/views/";var a="sap/viz/chart/metadata/bindings/";return[{"id":"info/bar","provide":p,"instance":{view:n+"XYChartView",renderType:"bar",plot:"sap/viz/chart/components/plots/ColumnPlot",family:"xy",name:"IDS_BARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/stacked_bar","provide":p,"instance":{view:n+"XYChartView",renderType:"stacked_bar",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xy",name:"IDS_STACKEDBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/100_stacked_bar","provide":p,"instance":{view:n+"XYChartView",renderType:"100_stacked_bar",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xy",name:"IDS_PERCENTAGESTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/column","provide":p,"instance":{view:n+"XYChartView",renderType:"column",family:"xy",name:"IDS_VERTICALBARCHART",plot:"sap/viz/chart/components/plots/ColumnPlot",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/stacked_column","provide":p,"instance":{view:n+"XYChartView",renderType:"stacked_column",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xy",name:"IDS_STACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/100_stacked_column","provide":p,"instance":{view:n+"XYChartView",renderType:"100_stacked_column",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xy",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/line","provide":p,"instance":{view:n+"XYChartView",renderType:"line",plot:"sap/viz/chart/components/plots/LinePlot",family:"xy",name:"IDS_LINECHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/area","provide":p,"instance":{view:n+"XYChartView",plot:"sap/viz/chart/components/plots/AreaPlot",renderType:"area",family:"xy",name:"IDS_AREACHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/horizontal_area","provide":p,"instance":{view:n+"XYChartView",renderType:"horizontal_area",plot:"sap/viz/chart/components/plots/AreaPlot",family:"xy",name:"IDS_HORIZONTALAREACHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/100_area","provide":p,"instance":{view:n+"XYChartView",renderType:"100_area",family:"xy",name:"IDS_PERCENTAGEAREACHART",plot:"sap/viz/chart/components/plots/PercentageAreaPlot",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/100_horizontal_area","provide":p,"instance":{view:n+"XYChartView",renderType:"100_horizontal_area",plot:"sap/viz/chart/components/plots/PercentageAreaPlot",family:"xy",name:"IDS_PERCENTAGEHORIZONTALAREACHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/combination","provide":p,"instance":{view:n+"XYChartView",renderType:"combination",family:"xy",name:"IDS_COMBINATIONCHART",plot:"sap/viz/chart/components/plots/CombinationPlot",vender:"sap.viz",bindings:a+"CombinationBindings"},"customProperties":c},{"id":"info/bubble","provide":p,"instance":{view:n+"YYChartView",renderType:"bubble",family:"yy",name:"IDS_BUBBLECHART",vender:"sap.viz",bindings:a+"YYBindings"},"customProperties":c},{"id":"info/time_bubble","provide":p,"instance":{view:n+"YYChartView",renderType:"time_bubble",family:"yy",name:"IDS_TIMEBUBBLECHART",vender:"sap.viz",bindings:a+"YYBindings"},"customProperties":c},{"id":"info/scatter","provide":p,"instance":{view:n+"YYChartView",renderType:"scatter",family:"yy",name:"IDS_SCATTERCHART",vender:"sap.viz",bindings:a+"YYBindings"},"customProperties":c},{"id":"info/dual_column","provide":p,"instance":{view:n+"XYYChartView",renderType:"column",plot:"sap/viz/chart/components/plots/ColumnPlot",family:"xyy",name:"IDS_DUALVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_stacked_column","provide":p,"instance":{view:n+"XYYChartView",renderType:"stacked_column",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xyy",name:"IDS_DUALSTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/100_dual_stacked_column","provide":p,"instance":{view:n+"XYYChartView",renderType:"100_stacked_column",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xyy",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_bar","provide":p,"instance":{view:n+"XYYChartView",renderType:"bar",plot:"sap/viz/chart/components/plots/ColumnPlot",family:"xyy",name:"IDS_DUALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_stacked_bar","provide":p,"instance":{view:n+"XYYChartView",renderType:"stacked_bar",plot:"sap/viz/chart/components/plots/StackedColumnPlot",family:"xyy",name:"IDS_DUALSTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/100_dual_stacked_bar","provide":p,"instance":{view:n+"XYYChartView",renderType:"100_stacked_bar",plot:"sap/viz/chart/components/plots/PercentagePlot",family:"xyy",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_line","provide":p,"instance":{view:n+"XYYChartView",renderType:"line",plot:"sap/viz/chart/components/plots/LinePlot",family:"xyy",name:"IDS_DUALLINECHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/bullet","provide":p,"instance":{view:n+"BulletChartView",renderType:"bullet",family:"bullet",name:"IDS_BULLETCHART",vender:"sap.viz",bindings:a+"BulletBindings"},"customProperties":c},{"id":"info/vertical_bullet","provide":p,"instance":{view:n+"BulletChartView",renderType:"vertical_bullet",family:"bullet",name:"IDS_VERTICALBULLETCHART",vender:"sap.viz",bindings:a+"BulletBindings"},"customProperties":c},{"id":"info/pie","provide":p,"instance":{view:n+"PieChartView",renderType:"pie",family:"pie",name:"IDS_PIECHART",vender:"sap.viz",bindings:a+"PieBindings"},"customProperties":c},{"id":"info/donut","provide":p,"instance":{view:n+"PieChartView",renderType:"donut",family:"pie",name:"IDS_DONUTCHART",vender:"sap.viz",bindings:a+"PieBindings"},"customProperties":c},{"id":"info/treemap","provide":p,"instance":{view:n+"TreeChartView",renderType:"treemap",family:"treemap",name:"IDS_TREEMAPCHART",vender:"sap.viz",bindings:a+"TreeBindings"},"customProperties":c},{"id":"info/heatmap","provide":p,"instance":{view:n+"XXChartView",renderType:"heatmap",family:"xx",name:"IDS_HEATMAPCHART",vender:"sap.viz",bindings:a+"XXBindings"},"customProperties":c},{"id":"info/stacked_combination","provide":p,"instance":{view:n+"XYChartView",renderType:"stacked_combination",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",family:"xy",name:"IDS_STACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},"customProperties":c},{"id":"info/horizontal_stacked_combination","provide":p,"instance":{view:n+"XYChartView",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",renderType:"horizontal_stacked_combination",family:"xy",name:"IDS_HORIZONTALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},"customProperties":c},{"id":"info/dual_stacked_combination","provide":p,"instance":{view:n+"XYYChartView",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",renderType:"stacked_combination",family:"xyy",name:"IDS_DUALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/dual_horizontal_stacked_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"horizontal_stacked_combination",plot:"sap/viz/chart/components/plots/StackedCombinationPlot",family:"xyy",name:"IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/dual_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"combination",plot:"sap/viz/chart/components/plots/CombinationPlot",family:"xyy",name:"IDS_DUALCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/dual_horizontal_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"horizontal_combination",plot:"sap/viz/chart/components/plots/CombinationPlot",family:"xyy",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/timeseries_line","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_line",family:"ty",name:"IDS_TIMELINECHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_column","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_column",family:"ty",name:"IDS_TIMESERIESCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_bullet","provide":p,"instance":{view:n+"TimeBulletChartView",renderType:"timeseries_bullet",family:"tBullet",name:"IDS_TIMESERIESBULLETCHART",vender:"sap.viz",bindings:a+"TimeBulletBindings"},"customProperties":c},{"id":"info/timeseries_combination","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_combination",family:"ty",name:"IDS_TIMESERIESCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYCombinationBindings"},"customProperties":c},{"id":"info/dual_timeseries_combination","provide":p,"instance":{view:n+"TimeYYChartView",renderType:"timeseries_combination",family:"tyy",name:"IDS_DUALTIMESERIESCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYYBindings"},"customProperties":c},{"id":"info/timeseries_stacked_combination","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_stacked_combination",plot:"sap/viz/chart/components/plots/TimeStackedCombinationPlot",family:"ty",name:"IDS_TIMESERIESSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYStackedCombinationBindings"},"customProperties":c},{"id":"info/timeseries_stacked_column","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_stacked_column",family:"ty",name:"IDS_TIMESERIESSTACKEDCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_100_stacked_column","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_100_stacked_column",family:"ty",name:"IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_scatter","provide":p,"instance":{view:n+"YYChartView",renderType:"timeseries_scatter",family:"ty",name:"IDS_TIMESERIESSCATTERCHART",vender:"sap.viz",bindings:a+"YYTimeBindings"},"customProperties":c},{"id":"info/timeseries_bubble","provide":p,"instance":{view:n+"YYChartView",renderType:"timeseries_bubble",family:"ty",name:"IDS_TIMESERIESBUBBLECHART",vender:"sap.viz",bindings:a+"YYTimeBindings"},"customProperties":c},{"id":"info/timeseries_waterfall","provide":p,"instance":{view:n+"TimeWaterFallChartView",renderType:"timeseries_waterfall",family:"ty",name:"IDS_TIMESERIESWATERFALLCHART",vender:"sap.viz",bindings:a+"TimeYColumnBindings"},"customProperties":c},{"id":"info/waterfall","provide":p,"instance":{view:n+"WaterFallChartView",renderType:"waterfall",family:"waterfall",name:"IDS_WATERFALLCHART",vender:"sap.viz",bindings:a+"WaterFallBindings"},"customProperties":c},{"id":"info/horizontal_waterfall","provide":p,"instance":{view:n+"WaterFallChartView",renderType:"horizontal_waterfall",family:"waterfall",name:"IDS_HORIZONTALWATERFALLCHART",vender:"sap.viz",bindings:a+"WaterFallBindings"},"customProperties":c},{"id":"info/radar","provide":p,"instance":{view:n+"RadarChartView",renderType:"radar",family:"radar",name:"IDS_RADARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c}];})());(function(){try{var C=require("sap/viz/framework/core/ChartViewRegistry");if(C&&C.registerAll){C.registerAll();}}catch(e){}})();define=sap.viz.moduleloader.originalDefine;require=sap.viz.moduleloader.originalRequire;requirejs=sap.viz.moduleloader.originalRequirejs;(function(g){var s=g.sap;var r=s&&s.viz;if(r){g.__sap_v3={};for(var i in r){if(i==='api'||i==='extapi'){if(jQuery&&jQuery.extend){g.__sap_v3[i]=jQuery.extend(true,{},r[i]);}else{g.__sap_v3[i]=r[i];}}else{g.__sap_v3[i]=r[i];}}if(g.__sap_metadata){s.viz.api.metadata=g.__sap_metadata;}}})(this);(function(g){var r=sap.viz;var a=g.__sap_v2;var b=g.__sap_v3;function m(h,j){var k;var l;var n=1;var v={v2:2,v3:3};return function(o,p){return function(){n*=v[o];l=p?arguments:l;k=p?k:arguments;if(n%(v.v2*v.v3)===0){var q=l&&j?j:h;if(q){q.apply(this,q===j?l:k);}n=1;}};};}if(a&&b){r.api=jQuery.extend(true,{},a.api,b.api);r.extapi=jQuery.extend(true,{},a.extapi,b.extapi);r.v2=a;r.v3=b;r.extapi.Flow=b.extapi.Flow;r.api.data.CrosstableDataset=a.api.data.CrosstableDataset;r.api.data.FlatTableDataset=a.api.data.FlatTableDataset;if(a.extapi.env.Resource&&a.extapi.env.Resource.path){var c=a.extapi.env.Resource.path();for(var i in c){b.extapi.env.Resource.path(i,c[i]);}}var L={};var T={};var d={};if(a.api.env.Format&&a.api.env.Format.numericFormatter){var f=a.api.env.Format.numericFormatter();b.api.env.Format.numericFormatter(f);}if(a.api.env.Format&&a.api.env.Format.useDefaultFormatter){var u=a.api.env.Format.useDefaultFormatter();b.api.env.Format.useDefaultFormatter(u);}r.api.core.createViz=function(p){var v=sap.viz.api.metadata.Viz.get(p.type)?'v3':'v2';return r[v].api.core.createViz(p);};r.api.core.loadViz=function(v,h){var j=JSON.parse(JSON.stringify(v));var k=sap.viz.api.metadata.Viz.get(param.type)?'v3':'v2';return r[k].api.core.loadViz(v,h);};r.api.env.Language.set=function(l,h,j){var k=m(h,j);r.v2.api.env.Language.set(l,k('v2'),k('v2',true));r.v3.api.env.Language.set(l,k('v3'),k('v3',true));};r.api.env.Locale.set=function(v,h,o){var j=m(h);r.v2.api.env.Locale.set(v,j('v2'));r.v3.api.env.Locale.set(v,j('v3'),o);};r.api.env.Format.numericFormatter=function(v){r.v2.api.env.Format.numericFormatter(v);r.v3.api.env.Format.numericFormatter(v);};r.api.env.Format.useDefaultFormatter=function(v){r.v2.api.env.Format.useDefaultFormatter(v);r.v3.api.env.Format.useDefaultFormatter(v);};r.api.env.Resource.path=function(h,p){r.v2.api.env.Resource.path.apply(r.v2.api.env.Resource,arguments);return r.v3.api.env.Resource.path.apply(r.v3.api.env.Resource,arguments);};r.api.env.Template.set=function(v,h,j){var k=m(h,j);r.v2.api.env.Template.set(v,k('v2'),k('v2',true));r.v3.api.env.Template.set(v,k('v3'),k('v3',true));};r.api.env.Template.load=function(v,h,j){var k=2;function l(){if(--k===0&&h){h.apply(this,arguments);}}r.v2.api.env.Template.load(v,l);r.v3.api.env.Template.load(v,l,j);};r.extapi.env.Template.isRegistered=function(h){return r.v3.extapi.env.Template.isRegistered(h);};r.extapi.env.Language.register=function(v){r.v2.extapi.env.Language.register(v);r.v3.extapi.env.Language.register(v);};r.extapi.env.Language.get=function(){r.v2.extapi.env.Language.get();return r.v3.extapi.env.Language.get();};r.extapi.env.Language.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');d[v]={v2:j,v3:k};r.v2.extapi.env.Language.addListener(j);return r.v3.extapi.env.Language.addListener(k);};r.extapi.env.Language.removeListener=function(v){if(d[v]){r.v2.extapi.env.Language.removeListener(d[v].v2);return r.v3.extapi.env.Language.removeListener(d[v].v3);}};r.extapi.env.Language.getErrorMessage=function(v){r.v2.extapi.env.Language.getErrorMessage(v);return r.v3.extapi.env.Language.getErrorMessage(v);};r.extapi.env.Language.getResourceString=function(v){r.v2.extapi.env.Language.getResourceString(v);return r.v3.extapi.env.Language.getResourceString(v);};r.extapi.env.Locale.get=function(){r.v2.extapi.env.Locale.get();return r.v3.extapi.env.Locale.get();};r.extapi.env.Locale.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');L[v]={v2:j,v3:k};r.v2.extapi.env.Locale.addListener(j);return r.v3.extapi.env.Locale.addListener(k);};r.extapi.env.Locale.removeListener=function(v){if(L[v]){r.v2.extapi.env.Locale.removeListener(L[v].v2);return r.v3.extapi.env.Locale.removeListener(L[v].v3);}};r.extapi.env.Template.get=function(){r.v2.extapi.env.Template.get();return r.v3.extapi.env.Template.get();};r.extapi.env.Template.current=function(){r.v2.extapi.env.Template.current();return r.v3.extapi.env.Template.current();};r.extapi.env.Template.getPackage=function(h){r.v2.extapi.env.Template.getPackage(h);return r.v3.extapi.env.Template.getPackage(h);};r.extapi.env.Template.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');T[v]=T[v]||[];T[v].push({v2:j,v3:k,v:v});r.v2.extapi.env.Template.addListener(j);return r.v3.extapi.env.Template.addListener(k);};r.extapi.env.Template.register=function(v){r.v2.extapi.env.Template.register(v);r.v3.extapi.env.Template.register(v);};r.api.env.Template.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');T[v]=T[v]||[];T[v].push({v2:j,v3:k,v:v});r.v2.api.env.Template.addListener(j);return r.v3.api.env.Template.addListener(k);};r.api.env.Template.removeListener=function(v){var h=T[v],j;if(h){for(var i=0;i<h.length;i++){if(h[i].v===v){r.v2.api.env.Template.removeListener(h[i].v2);j=r.v3.api.env.Template.removeListener(h[i].v3);h.splice(i,1);break;}}}return j;};r.extapi.env.Template.removeListener=function(v){var h=T[v],j;if(h){for(var i=0;i<h.length;i++){if(h[i].v===v){r.v2.extapi.env.Template.removeListener(h[i].v2);j=r.v3.extapi.env.Template.removeListener(h[i].v3);h.splice(i,1);break;}}}return j;};r.extapi.core.registerBundle=function(v){r.v2.extapi.core.registerBundle(v);return r.v3.extapi.core.registerBundle(v);};}if(sap&&sap.viz&&sap.viz.framework&&sap.viz.framework.core&&sap.viz.framework.core.ChartViewRegistry){delete sap.viz.framework.core.ChartViewRegistry;function e(o){for(var n in o){if(o.hasOwnProperty(n)){return false;}}return true;};if(e(sap.viz.framework.core)){delete sap.viz.framework.core;}if(e(sap.viz.framework)){delete sap.viz.framework;}}})(this);
