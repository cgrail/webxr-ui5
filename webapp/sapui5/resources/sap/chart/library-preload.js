//@ui5-bundle sap/chart/library-preload.js
sap.ui.predefine('sap/chart/coloring/ColorPalette',[],function(){"use strict";var P={};P.CRITICALITY={Positive:['sapUiChartPaletteSemanticGoodLight3','sapUiChartPaletteSemanticGoodLight2','sapUiChartPaletteSemanticGoodLight1','sapUiChartPaletteSemanticGood','sapUiChartPaletteSemanticGoodDark1','sapUiChartPaletteSemanticGoodDark2'],Critical:['sapUiChartPaletteSemanticCriticalLight3','sapUiChartPaletteSemanticCriticalLight2','sapUiChartPaletteSemanticCriticalLight1','sapUiChartPaletteSemanticCritical','sapUiChartPaletteSemanticCriticalDark1','sapUiChartPaletteSemanticCriticalDark2'],Negative:['sapUiChartPaletteSemanticBadLight3','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticBadLight1','sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadDark1','sapUiChartPaletteSemanticBadDark2'],Neutral:['sapUiChartPaletteSemanticNeutralLight3','sapUiChartPaletteSemanticNeutralLight2','sapUiChartPaletteSemanticNeutralLight1','sapUiChartPaletteSemanticNeutral','sapUiChartPaletteSemanticNeutralDark1','sapUiChartPaletteSemanticNeutralDark2']};P.EMPHASIS={Highlight:"sapUiChartPaletteQualitativeHue2",Others:"sapUiChartPaletteQualitativeHue1"};P.GRADATION={SingleColorScheme:{NoSemantics:['sapUiChartPaletteSemanticNeutralLight3','sapUiChartPaletteSemanticNeutralLight2','sapUiChartPaletteSemanticNeutralLight1','sapUiChartPaletteSemanticNeutral','sapUiChartPaletteSemanticNeutralDark1','sapUiChartPaletteSemanticNeutralDark2'],Positive:['sapUiChartPaletteSemanticGoodLight3','sapUiChartPaletteSemanticGoodLight2','sapUiChartPaletteSemanticGoodLight1','sapUiChartPaletteSemanticGood','sapUiChartPaletteSemanticGoodDark1','sapUiChartPaletteSemanticGoodDark2'],Negative:['sapUiChartPaletteSemanticBadLight3','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticBadLight1','sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadDark1','sapUiChartPaletteSemanticBadDark2']},DivergingColorScheme:{NoSemantics:['sapUiChartPaletteNoSemDiv1Dark2','sapUiChartPaletteNoSemDiv1Dark1','sapUiChartPaletteNoSemDiv1','sapUiChartPaletteNoSemDiv1Light1','sapUiChartPaletteNoSemDiv1Light2','sapUiChartPaletteNoSemDiv1Light3','sapUiChartPaletteSequentialNeutral','sapUiChartPaletteSequentialHue6Light3','sapUiChartPaletteSequentialHue6Light2','sapUiChartPaletteSequentialHue6Light1','sapUiChartPaletteSequentialHue6','sapUiChartPaletteSequentialHue6Dark1','sapUiChartPaletteSequentialHue6Dark2'],PositiveToNegative:['sapUiChartPaletteSemanticGoodDark2','sapUiChartPaletteSemanticGoodDark1','sapUiChartPaletteSemanticGood','sapUiChartPaletteSemanticGoodLight1','sapUiChartPaletteSemanticGoodLight2','sapUiChartPaletteSemanticGoodLight3','sapUiChartPaletteSequentialNeutral','sapUiChartPaletteSemanticBadLight3','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticBadLight1','sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadDark1','sapUiChartPaletteSemanticBadDark2'],NegativeToPositive:['sapUiChartPaletteSemanticBadDark2','sapUiChartPaletteSemanticBadDark1','sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadLight1','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticBadLight3','sapUiChartPaletteSequentialNeutral','sapUiChartPaletteSemanticGoodLight3','sapUiChartPaletteSemanticGoodLight2','sapUiChartPaletteSemanticGoodLight1','sapUiChartPaletteSemanticGood','sapUiChartPaletteSemanticGoodDark1','sapUiChartPaletteSemanticGoodDark2'],ColdToHot:['sapUiChartPaletteSequentialHue1Dark2','sapUiChartPaletteSequentialHue1Dark1','sapUiChartPaletteSequentialHue1','sapUiChartPaletteSequentialHue1Light1','sapUiChartPaletteSequentialHue1Light2','sapUiChartPaletteSequentialHue1Light3','sapUiChartPaletteSequentialNeutral','sapUiChartPaletteSemanticBadLight3','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticBadLight1','sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadDark1','sapUiChartPaletteSemanticBadDark2'],HotToCold:['sapUiChartPaletteSemanticBadDark2','sapUiChartPaletteSemanticBadDark1','sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadLight1','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticBadLight3','sapUiChartPaletteSequentialNeutral','sapUiChartPaletteSequentialHue1Light3','sapUiChartPaletteSequentialHue1Light2','sapUiChartPaletteSequentialHue1Light1','sapUiChartPaletteSequentialHue1','sapUiChartPaletteSequentialHue1Dark1','sapUiChartPaletteSequentialHue1Dark2']},TargetColorScheme:{PositiveTarget:['sapUiChartPaletteSemanticBad','sapUiChartPaletteSemanticBadLight2','sapUiChartPaletteSemanticCriticalLight1','sapUiChartPaletteSemanticCriticalLight3','sapUiChartPaletteSemanticGoodLight2','sapUiChartPaletteSemanticGood']}};return P;});
sap.ui.predefine('sap/chart/coloring/ColoringUtils',['sap/chart/ChartLog','sap/chart/data/TimeDimension',"sap/ui/thirdparty/jquery"],function(C,T,q){"use strict";var t=q.type;var U={};
U.find=function(M,l){for(var i=0;i<l.length;i++){if(M===l[i].getName()){return l[i];}}return null;};
U.isNumber=function(){for(var i=0;i<arguments.length;i++){if(t(arguments[i])!=='number'){return false;}}return true;};
U.thresholdValue=function(v){v=v.filter(function(e){return v!=null;});var s=v.map(function(e){return t(e)==="string";});return function(o,A){for(var i=0;i<v.length;i++){var r;if(s[i]){if(o[v[i]]!=null){r=o[v[i]];}else{r=A[v[i]];}}else{r=v[i];}if(r!=null){return r;}}};};
U.isInRange=function(v,l,e,i,j){if(!U.isNumber(v,l,e)){return false;}var k=i?(l<=v):(l<v);var n=j?(v<=e):(v<e);return k&&n;};
U.assignColor=function(e,l){switch(l){case 1:return[e[3]];case 2:return[e[1],e[3]];case 3:return[e[1],e[3],e[5]];case 4:return e.slice(1,5);case 5:return e.slice(1,6);case 6:return e.slice(0,6);default:return null;}};
U.assignUnmentionedColor=function(e,l){switch(l){case 1:return[e[1]];case 2:return[e[1],e[5]];case 3:return[e[1],e[2],e[4]];case 4:return[e[1],e[2],e[4],e[5]];case 5:return e.filter(function(i){return i!==3;});default:return null;}};
U.dimOrMsrUse=function(o,p,s,e){var t=Object.keys(o).filter(function(i){return s.indexOf(i)>-1;});if(p.dimension&&p.measure){throw new C('error','activeColoring','Either "dimension" or "measure" can be set in activeColoring.parameters, but not both of them.');}else if(p.measure){if(e==='Gradation'){if(q.type(p.measure)==="Array"&&p.measure.length>1){t='DelineatedMeasures';}else{t='RankedMeasureValues';}}else{t='MeasureValues';}}else if(p.dimension){t=e==='Gradation'?'DelineatedDimensionValues':'DimensionValues';}else if(t.length>1){throw new C('error','colorings.'+e,'"'+t.join('" and "')+'" all exist in '+e+', please resolve by activeColoring property.');}else if(t.length===1){t=t[0];}return t;};
var _=function(s,e,i,p,j){s.forEach(function(v){if(e.indexOf(v)<0){throw new C('error',i,p+v+j);}});};var c=function(e,M){var v=M.map(function(o){return o.getName();});_(e,v,'activeColoring.parameters.measure','Active measure, ',', should be visible.');};var a=function(e,D){var v=D.map(function(o){return o.getName();});_(e,v,'activeColoring.parameters.dimension','Active dimension, ',', should be visible.');};var m=function(e,i){var j=Object.keys(i);_(e,j,'activeColoring.parameters.measure','Active measure, ',', should be configured in coloring.');};var d=function(e,i){var j=Object.keys(i);_(e,j,'activeColoring.parameters.dimension','Active dimension, ',', should be configured in coloring.');};var b=function(e){if(e.length>1){throw new C('error','activeColoring.parameters.dimension','Multiple dimensions are defined. Please resolve by activeColoring property.');}};var f=function(e,v,t,s){var D=U.find(e,v);if(D instanceof T&&D.getRole()==='category'){throw new C('error','Colorings.'+t+'.'+s,'Do not support coloring on timeDimension, '+D.getName()+'.');}};var g=function(o){if(o.bMBC){throw new C('error','Colorings','Heatmap only support Criticality.MeasureValues.ConstantThresholds or Gradation.RankedMeasureValues.');}};var h=function(D,o){if(!o.bWaterfall&&((o.bShowUnmentionedMsr&&D.aMsr.length>1)||o.bHasOtherSeriesDim||o.bIsPie&&D.aDim.length>1)){throw new C('error','Colorings.'+o.type+'.'+o.subType,'Semantic coloring could not be applied if chart already has coloring.');}};
U.checkColoringDimension=function(A,D,e,o){var v=D.aDim;a(A,v);d(A,e);b(A);f(A[0],v,o.type,o.subType);g(o);h(D,o);};
U.checkColoringMeasure=function(A,v,e){c(A,v);m(A,e);};
U.hasSeriesDim=function(D){return D.aDim.some(function(o){return o._getFixedRole()==="series";});};
U.hasOtherSeriesDim=function(e,D){return D.aDim.some(function(o){return o._getFixedRole()==="series"&&o.getName()!==e;});};
U.hasDuplicatedValues=function(v){var r=false,e={};v.forEach(function(V){if(e[V]){r=true;}else{e[V]=true;}});return r;};
U.notIn=_;return U;});
sap.ui.predefine('sap/chart/coloring/criticality/DimensionValues',['sap/chart/coloring/ColoringUtils','sap/chart/ChartLog','sap/chart/data/TimeDimension','sap/chart/coloring/CriticalityType',"sap/ui/thirdparty/jquery"],function(C,a,T,b,q){"use strict";var t=q.type;var D={};var v=function(c,A,d,o){var e=q.extend({},o);e.bHasOtherSeriesDim=C.hasOtherSeriesDim(A[0],d);e.type='Criticality';e.subType='DimensionValues';C.checkColoringDimension(A,d,c,e);var f=c[A[0]],g=Object.keys(f),h=C.find(A[0],d.aDim),i=h.getRole()==='series'?true:false;g.forEach(function(j){var k=f[j].Values,l=f[j].Legend;k=t(k)==='array'?k:[k];if(k.length>1&&!l){throw new a('error','Colorings.Criticality.DimensionValues','Legend is mandatory when one criticality type has multiple values.');}if((i||o.bIsPie)&&k.length>1){throw new a('error','Colorings.Criticality.DimensionValues','Criticality on Series Dimension, only single value could be assigned to each CriticalityType.');}});};
D.qualify=function(c,d,o,e){v(c,d,o,e);var s=d[0],f;if(s){f={dim:s,setting:c};}return f;};
D.parse=function(c,d,s,l,o){var S={},L={},e=c.dim,f=[],g=c.setting[e],n=[];q.each(g,function(k,i){var j=(t(i)!=="array")?[i]:i;if(k!==b.Neutral){S[k]=j.map(function(p){return(t(p.Values)==="array")?p.Values:[p.Values];});f=Array.prototype.concat.apply(f,S[k]);}L[k]=j.map(function(p){var V=(t(p.Values)==="array")?p.Values[0]:p.Values;var r=(p.Legend!=null)?p.Legend:V;return r;});});if(g.Neutral){n=(t(g.Neutral.Values)==="array")?g.Neutral.Values:[g.Neutral.Values];}var N=function(i){return f.indexOf(i[e])===-1;};function h(V){return function(i){return V.indexOf(i[e])!==-1;};}var m={Negative:(S.Negative||[]).map(h),Critical:(S.Critical||[]).map(h),Positive:(S.Positive||[]).map(h),Neutral:[N]};return{callbacks:m,legend:L,aCriticalityValues:f.concat(n),status:s};};
D.getContextHandler=function(c,l,o){var d=c.dim,e=c.parsed.aCriticalityValues;return function(f){var V=f.getProperty(d),g=this.getDimensionByName(d);if(e.indexOf(V)===-1){if(g._getFixedRole()==="series"||o.bIsPie){var h=new a('error','Colorings.Criticality.DimensionValues','Criticality on Series Dimension, all series must be applied coloring.');c.chartLog=h;}else{c.parsed.legend.Neutral=l.getText("COLORING_TYPE_OTHER");}}};};
return D;});
sap.ui.predefine('sap/chart/coloring/criticality/measureValues/MeasureUtils',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/criticality/measureValues/ThresholdsUtils','sap/chart/ChartLog','sap/chart/coloring/CriticalityType','sap/chart/data/MeasureSemantics',"sap/ui/thirdparty/jquery"],function(C,T,a,b,M,q){"use strict";var t=q.type;var c={Static:{},Calculated:{},DynamicThresholds:{},ConstantThresholds:{},Unmentioned:{}};var S=['Maximize','Minimize','Target'];
c.Static.validate=function(o,m,D,e,h){var j=o[m].Static;var k=function(r,u){if(p[u]===m){n=true;if(p.staticType){if(p.staticType!==j){var v='';Object.keys(M).forEach(function(r,w,x){var u=M[r];if(p[u]){if(w!==(x.length-1)){v+=p[u]+', ';}else{v+=p[u];}}});throw new a('error','Colorings.Criticality.Static','When '+v+' have semantic relationship, they must use the same Criticality type.');}}else{p.staticType=j;if(h[j]){throw new a('error','Colorings.Criticality.Static','Measures, '+h[j]+' and '+m+', which use Static Criticality must have different types.');}else{h[j]=m;}}return false;}};var n=false;for(var i=0;i<e.length;++i){var p=e[i];q.each(M,k);if(n){break;}}return{supportMultiMsr:true};};
c.Static.parse=function(o,e,p){var m=o.msr?o.msr.getName():undefined;var h=o.settings[o.type];p.callbacks=c.Static.getCallbacks(h,m);var D=o.msr.getLabel()||o.msr.getName();var i=o.settings.Legend||{};p.legend[h]=(i[h]!=null)?i[h]:D;};
c.Static.getCallbacks=function(e,m){var h={};h[e]=[function(o){return o.hasOwnProperty(m);}];return h;};
c.Calculated.validate=function(o,m,D){var e=o[m].Calculated;var h=D.allDim.filter(function(i){return i===e;})[0];if(!h){throw new a('error','Colorings.Criticality.Calculated','Calculated property, '+e+', does not exist in data model.');}};
c.Calculated.parse=function(o,e,p,m){var h=o.settings[o.type];if(!C.find(h,e.aDims)){p.additionalDimensions.push(h);}p.status=e.oStatus;};
c.Calculated.getCallbacks=function(p,e,m){var h=function(o){return(o[p]===e)&&o.hasOwnProperty(m);};return[h];};
c.Calculated.getContextHandler=function(e,m,L){var o=e[0];var h=o.settings[o.type];return function(i){var j=o.parsed.status;j.legend=j.legend||{};j.callbacks=j.callbacks||{};o.parsed.legend=j.legend;o.parsed.callbacks=j.callbacks;var k=i.getProperty(h);if(b[k]){var n=this.getDimensionByName(h);var D=this.getDimensionByName(h).getDisplayText();e.legendTitle=e.legendTitle||n.getLabel();var p=n.getTextProperty();if(p&&D){var r=i.getProperty(p);o.parsed.legend[k]=r;}else if(k){o.parsed.legend[k]=L.getText("COLORING_TYPE_"+k.toUpperCase());}var u=o.msr.getName();var v=c.Calculated.getCallbacks(h,k,u);o.parsed.callbacks[k]=v;}};};
c.DynamicThresholds.validate=function(o,m,D){var h=D.allMsr;var i=[],j=o[m].DynamicThresholds,k;if(S.indexOf(j.ImprovementDirection)>-1){k=j.ImprovementDirection;}else{throw new a('error','Colorings.Criticality.DynamicThresholds','ImprovementDirection should be one of \'Maximize\', \'Minimize\' and \'Target\'.');}var n=[j.ToleranceRangeLowValue,j.DeviationRangeLowValue,j.AcceptanceRangeLowValue];var p=[j.ToleranceRangeHighValue,j.DeviationRangeHighValue,j.AcceptanceRangeHighValue];switch(k){case"Maximize":i=n;break;case"Minimize":i=p;break;case"Target":i=n.concat(p);break;default:}if(C.isNumber.apply(null,i)){throw new a('error','Colorings.Criticality.DynamicThresholds','Invalid Thresholds settings.');}i=i.filter(function(e){return typeof e=="string";});C.notIn(i,h,'Colorings.Criticality.DynamicThresholds','Thresholds measure, ',', does not exist in data model.');};
c.DynamicThresholds.parse=function(o,e,p,m,L){var h=o.settings[o.type];var i=o.msr?o.msr.getName():undefined;var D=h.ImprovementDirection.toLowerCase();var j={lo:h.ToleranceRangeLowValue,hi:h.ToleranceRangeHighValue};var k={lo:h.DeviationRangeLowValue,hi:h.DeviationRangeHighValue};var A={lo:h.AcceptanceRangeLowValue,hi:h.AcceptanceRangeHighValue};T.fillOmit(A,j,k);p.additionalMeasures=[A.lo,A.hi,j.lo,j.hi,k.lo,k.hi].filter(function(v){return t(v)==='string'&&e.aMsrs.filter(function(r){return r.getName()===v;}).length==0;});p.callbacks=T.improvement(D,i,A,j,k);var n={};q.each(b,function(r,v){n[v]=L.getText("COLORING_TYPE_"+v.toUpperCase());});p.legend=q.extend(true,{},n,o.settings.Legend);};
c.DynamicThresholds.getContextHandler=function(e,m,L){var o=e[0],h=o.settings[o.type],D=h.ImprovementDirection.toLowerCase();function _(i,k){var r;if(typeof k==="number"){r=k;}else{r=k?i.getProperty(k):null;if(typeof r==="string"){r=Number.parseFloat(r);}}return r;}return function(i){var j={};j.lo=_(i,h.ToleranceRangeLowValue);j.hi=_(i,h.ToleranceRangeHighValue);var k={};k.lo=_(i,h.DeviationRangeLowValue);k.hi=_(i,h.DeviationRangeHighValue);var A={};A.lo=_(i,h.AcceptanceRangeLowValue);A.hi=_(i,h.AcceptanceRangeHighValue);T.fillOmit(A,j,k);T.checkThreshold(D,A,j,k);};};
c.ConstantThresholds.validate=function(o,m){var e=o[m].ConstantThresholds;if(S.indexOf(e.ImprovementDirection)===-1){throw new a('error','Colorings.Criticality.ConstantThresholds','ImprovementDirection should be one of \'Maximize\', \'Minimize\' and \'Target\'.');}return{supportHeatMap:true};};
c.ConstantThresholds.parse=function(o,e,p,m,L){var h=o.settings[o.type];var i=o.msr?o.msr.getName():undefined;var j=o.msr?o.msr.getLabel()||o.msr.getName():undefined;var D=h.ImprovementDirection.toLowerCase();var k={lo:o.byAggregation.ToleranceRangeLowValue,hi:o.byAggregation.ToleranceRangeHighValue};var n={lo:o.byAggregation.DeviationRangeLowValue,hi:o.byAggregation.DeviationRangeHighValue};var A={lo:o.byAggregation.AcceptanceRangeLowValue,hi:o.byAggregation.AcceptanceRangeHighValue};T.fillOmit(A,k,n);T.checkThreshold(D,A,k,n,true);if(m){p.legend=T.MBCimprovement(D,A,k,n);}else{p.callbacks=T.improvement(D,i,A,k,n);p.legend=c.ConstantThresholds.getLegend(D,j,A,k,n,L);}};
var g="\u2265";var l="<";var d="\u2264";var f=">";var s={"<":">",">":"<","\u2265":"\u2264","\u2264":"\u2265"};
c.ConstantThresholds.getLegend=function(D,m,A,o,h,L){var i={};var j=h.hi;var k=h.lo;var n=o.hi;var p=o.lo;var r=A.hi;var u=A.lo;function v(y,z,B){var E=y.length;var F=y[0]===Number.POSITIVE_INFINITY;var G=y[0]===Number.NEGATIVE_INFINITY;var H=y[E-1]===Number.POSITIVE_INFINITY;var I=y[E-1]===Number.NEGATIVE_INFINITY;if(B&&y[0]===y[E-1]){return"";}if(z){if(E===5&&!(G&&H)){if(H||I){y=y.slice(0,3);}if(F||G){y=y.slice(2);}if(y.length<=1){return"";}}else if(E===3&&(F||G||H||I)){return"";}}y=y.map(function(e){if(e===Number.POSITIVE_INFINITY){return L.getText("POSITIVE_INFINITY");}else if(e===Number.NEGATIVE_INFINITY){return L.getText("NEGATIVE_INFINITY");}return e;});if(y.length===3&&C.isNumber(y[0])){var J=s[y[1]];y=[y[2],J,y[0]];}return y.join(" ");}var w=function(e){return e&&e.length>0;};var x=function(e){return e.filter(w).join(' , ');};switch(D){case'maximize':i={Positive:v([m,g,u]),Critical:v([k,d,m,l,p],true),Neutral:v([p,d,m,l,u],true),Negative:v([m,l,k])};break;case'minimize':i={Positive:v([m,d,r]),Critical:v([n,l,m,d,j],true),Neutral:v([r,l,m,d,n],true),Negative:v([m,f,j])};break;case'target':i={Positive:v([u,d,m,d,r],true),Critical:x([v([k,d,m,l,p],true,true),v([n,l,m,d,j],true,true)]),Neutral:x([v([p,d,m,l,u],true,true),v([r,l,m,d,n],true,true)]),Negative:x([v([m,l,k],true),v([m,f,j],true)])};break;default:}return i;};
c.ConstantThresholds.getContextHandler=function(e,m){if(m){var o=e[0];var h=o.msr.getName();var L=o.parsed.legend;return function(i){var v=i.getProperty(h);L.min=Math.min(L.min,v);L.max=Math.max(L.max,v);};}else{return null;}};
return c;});
sap.ui.predefine('sap/chart/coloring/criticality/measureValues/MeasureValues',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/ColorPalette','sap/chart/coloring/criticality/measureValues/MeasureUtils','sap/chart/ChartLog','sap/chart/data/MeasureSemantics',"sap/ui/thirdparty/jquery"],function(C,a,M,b,c,q){"use strict";var d={};var S=["Static","Calculated","DynamicThresholds","ConstantThresholds"];
function e(t,T,m,D,A,h,o,j){var r={supportMultiMsr:false,supportHeatMap:false};var k=A.length>1;if(M[t].validate){q.extend(r,M[t].validate(h,m,D,T,j));}if(k&&!r.supportMultiMsr){throw new b('error','Colorings.Criticality','Only support multiple active measures when using Static Criticality.');}if(o.bMBC&&!r.supportHeatMap){throw new b('error','Colorings','Heatmap only support Criticality.MeasureValues.ConstantThresholds.');}}
var v=function(h,t,D,A,o){var V=D.aMsr;C.checkColoringMeasure(A,V,h);var j=[];A.forEach(function(m,k){var l=Object.keys(h[m]).filter(function(p){return S.indexOf(p)>-1;}).sort();var n=i(l);if(l.length>1&&!n){throw new b('error','Colorings.Criticality.MeasureValues','The combination of "DynamicThresholds"and "ConstantThresholds" or only one of "Static", "Calculated", "DynamicThresholds", or "ConstantThresholds" can be applied to the measure, '+m+'.');}if(!n&&l.length===1){e(l[0],t,m,D,A,h,o,j);}});if(C.hasSeriesDim(D)||(o.bTimeChart&&o.bWaterfall&&D.aDim.length>1)||(o.bIsPie&&D.aDim.length)){throw new b('error','colorings.Criticality.MeasureValues','Semantic coloring could not be applied if chart already has coloring.');}};
function i(t){return t.length===2&&t[0]=="ConstantThresholds"&&t[1]==="DynamicThresholds";}
function f(h,m){var o=h.filter(function(j){return j.msr.getName()===m;})[0];return o;}
function g(h,t,m){if(h.sMethod==='Static'){var E=[];t.forEach(function(T){q.each(c,function(j,k){var s=T[k];if(s){var o=f(h,T[k]);if(!o){q.each(c,function(l,n){if(k!==n){var p=f(h,T[n]);if(p){var r=m.filter(function(r){return r.getName()===s;})[0];var u={msr:r,settings:{Static:p.settings.Static},type:'Static'};E.push(u);}}});}else{T.criticalityType=o.settings.Static;}}});});h.push.apply(h,E);}}
d.qualify=function(o,t,A,D,s,h){v(o,t,D,A,h);var j=[],m=[],k=D.aDim.map(function(l){return l.getName();}).sort();q.each(o,function(l,n){var p=Object.keys(n);var r=C.find(l,D.aMsr);var E=p.filter(function(F){return F!=="Legend";}).sort();if(A.length&&A.indexOf(l)===-1){return;}var w=false,K;for(var x=0;x<E.length&&!w;x++){K=E[x];j.sMethod=K;if(K==="ConstantThresholds"){var y=null,G=null;for(var z=0;z<n[K].AggregationLevels.length;z++){if(n[K].AggregationLevels[z].VisibleDimensions){var B=n[K].AggregationLevels[z].VisibleDimensions.sort();if(B.join(",")===k.join(",")){y=n[K].AggregationLevels[z];}}else{G=n[K].AggregationLevels[z];}}y=y||G;if(y){w=true;if(!h.bFiltered){j.push({type:K,msr:r,settings:n,byAggregation:y});m.push(r.getName());}}}else{w=true;j.push({type:K,msr:r,settings:n});m.push(r.getName());}}if(!w){throw new b("error",'Colorings.Criticality.MeasureValues.ConstantThresholds',"No aggregation levels matched with current visible dimensions.");}if(i(E)){e(K,t,r.getName(),D,A,o,h);}});g(j,t,D.aMsr);if(j.length){var u=0;t.forEach(function(T){var l=false;q.each(c,function(n,p){if(m.indexOf(T[p])>-1){l=true;return false;}});if(!l){T.iUnMentionedIndex=u++;}});if(u>3){throw new b("error",'Colorings.Criticality.MeasureValues',"Too many unmentioned measures (the maximum number is 3).");}}j.bShowUnmentionedMsr=h.bShowUnmentionedMsr;return j;};
d.parse=function(o,D,s,O,l){var m=O.bMBC,h={aMsrs:D.aMsr,aDims:D.aDim,oStatus:s},p={msr:o.msr,callbacks:{},additionalDimensions:[],legend:{}};M[o.type].parse(o,h,p,m,l);return p;};
d.getContextHandler=function(s,h,m,l){if(M[s].getContextHandler){return M[s].getContextHandler(h,m,l);}else{return null;}};
return d;});
sap.ui.predefine('sap/chart/coloring/criticality/measureValues/ThresholdsUtils',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/CriticalityType','sap/chart/ChartLog'],function(C,a,b){"use strict";var T={};var M={formulas:{}};var N=a.Negative;var c=a.Critical;var P=a.Positive;var d=a.Neutral;
function g(u,s,l){return{upperBound:u,CriticalityType:s};}
T.fillOmit=function(A,t,D){D.hi=(D.hi==undefined)?Number.POSITIVE_INFINITY:D.hi;D.lo=(D.lo==undefined)?Number.NEGATIVE_INFINITY:D.lo;t.hi=(t.hi==undefined)?D.hi:t.hi;t.lo=(t.lo==undefined)?D.lo:t.lo;A.hi=(A.hi==undefined)?t.hi:A.hi;A.lo=(A.lo==undefined)?t.lo:A.lo;};
T.checkThreshold=function(D,A,t,o,e){var h;var l=C.isNumber(A.lo,o.lo,t.lo);var i=C.isNumber(A.hi,t.hi,o.hi);switch(D){case'maximize':h=l&&(o.lo<=t.lo&&t.lo<=A.lo);break;case'minimize':h=i&&(A.hi<=t.hi&&t.hi<=o.hi);break;case'target':h=(l&&i)&&(o.lo<=t.lo)&&(t.lo<=t.hi)&&(t.hi<=o.hi)&&(t.lo<=A.lo)&&(A.lo<=A.hi)&&(A.hi<=t.hi);break;default:}if(!h){var n=e?"ConstantThresholds":"DynamicThresholds";throw new b('error','Colorings.Criticality.'+n,'Invalid Thresholds settings.');}};
T.MBCimprovement=function(D,A,t,o){var h=o.hi;var i=o.lo;var j=t.hi;var k=t.lo;var l=A.hi;var m=A.lo;var s=[];var B,n;switch(D){case'maximize':B=[i,k,m,Number.POSITIVE_INFINITY];n=[N,c,d,P];break;case'minimize':B=[l,j,h,Number.POSITIVE_INFINITY];n=[P,d,c,N];break;case'target':B=[i,k,m,l,j,h,Number.POSITIVE_INFINITY];n=[N,c,d,P,d,c,N];break;default:throw new Error('Unsupported ImprovementDirection: '+D);}var r=[];switch(D){case'maximize':r[0]=(i===-Infinity);r[1]=(i===k);r[2]=(k===m);r[3]=(m===Infinity);break;case'minimize':r[0]=(l===-Infinity);r[1]=(l===j);r[2]=(j===h);r[3]=(h===Infinity);break;case'target':r[0]=(i===-Infinity);r[1]=(i===k);r[2]=(k===m);r[3]=(m===l);r[4]=(l===j);r[5]=(j===h);r[6]=(h===Infinity);break;default:throw new Error('Unsupported ImprovementDirection: '+D);}B=B.filter(function(e,p){return!r[p];});n=n.filter(function(e,p){return!r[p];});s=n.map(function(e,p){return g(B[p],e,0);});return{segments:s,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};
function f(e){return[function(o,h){return e(o,h);}];}
T.improvement=function(D,m,A,t,o){var e=o.hi;var h=o.lo;var i=t.hi;var j=t.lo;var k=A.hi;var l=A.lo;var n=C.thresholdValue([e,Number.POSITIVE_INFINITY]);var p=C.thresholdValue([h,Number.NEGATIVE_INFINITY]);var q=C.thresholdValue([i,e,Number.POSITIVE_INFINITY]);var r=C.thresholdValue([j,h,Number.NEGATIVE_INFINITY]);var s=C.thresholdValue([k,i,e,Number.POSITIVE_INFINITY]);var u=C.thresholdValue([l,j,h,Number.NEGATIVE_INFINITY]);var v={};switch(D){case'maximize':v["Negative"]=(h==-Infinity)?null:f(M.formulas.maximize.negative(m,p));v["Critical"]=(h==j)?null:f(M.formulas.maximize.critical(m,p,r));v["Neutral"]=(j==l)?null:f(M.formulas.maximize.critical(m,r,u));v["Positive"]=(l==Infinity)?null:f(M.formulas.maximize.positive(m,u));break;case'minimize':v["Negative"]=(e==Infinity)?null:f(M.formulas.minimize.negative(m,n));v["Critical"]=(i==e)?null:f(M.formulas.minimize.critical(m,q,n));v["Neutral"]=(k==i)?null:f(M.formulas.minimize.neutral(m,s,q));v["Positive"]=(k==-Infinity)?null:f(M.formulas.minimize.positive(m,s));break;case'target':v["Negative"]=(h==-Infinity&&e===Infinity)?null:f(M.formulas.target.negative(m,p,n));v["Critical"]=(h==j&&i==e)?null:f(M.formulas.target.critical(m,p,r,q,n));v["Neutral"]=(j==l&&k==i)?null:f(M.formulas.target.neutral(m,r,u,s,q));v["Positive"]=f(M.formulas.target.positive(m,u,s));break;default:throw new Error('Unsupported ImprovementDirection: '+D);}return v;};
M.formulas.maximize={negative:function(m,D){return function(o,A){var n=o[m];var e=D(o,A);return C.isInRange(n,Number.NEGATIVE_INFINITY,e,null,false);};},critical:function(m,D,t){return function(o,A){var n=o[m];var e=D(o,A);var h=t(o,A);return C.isInRange(n,e,h,true,false);};},neutral:function(m,t,A){return function(o,e){var n=o[m];var h=t(o,e);var i=A(o,e);return C.isInRange(n,h,i,true,false);};},positive:function(m,A){return function(o,e){var n=o[m];var h=A(o,e);return C.isInRange(n,h,Number.POSITIVE_INFINITY,true);};}};M.formulas.minimize={negative:function(m,D){return function(o,A){var n=o[m];var e=D(o,A);return C.isInRange(n,e,Number.POSITIVE_INFINITY,false);};},critical:function(m,t,D){return function(o,A){var n=o[m];var e=t(o,A);var h=D(o,A);return C.isInRange(n,e,h,false,true);};},neutral:function(m,A,t){return function(o,e){var n=o[m];var h=A(o,e);var i=t(o,e);return C.isInRange(n,h,i,false,true);};},positive:function(m,A){return function(o,e){var n=o[m];var h=A(o,e);return C.isInRange(n,Number.NEGATIVE_INFINITY,h,null,true);};}};M.formulas.target={negative:function(m,D,e){return function(o,A){var n=o[m];var h=D(o,A);var i=e(o,A);var j=C.isInRange(n,Number.NEGATIVE_INFINITY,h,null,false);var k=C.isInRange(n,i,Number.POSITIVE_INFINITY,false);return j||k;};},critical:function(m,D,t,e,h){return function(o,A){var n=o[m];var i=D(o,A),j=t(o,A);var k=e(o,A),l=h(o,A);var p=C.isInRange(n,i,j,true,false);var q=C.isInRange(n,k,l,false,true);return p||q;};},neutral:function(m,t,A,e,h){return function(o,i){var n=o[m];var j=t(o,i),k=A(o,i);var l=e(o,i),p=h(o,i);var q=C.isInRange(n,j,k,true,false);var r=C.isInRange(n,l,p,false,true);return q||r;};},positive:function(m,A,e){return function(o,h){var n=o[m];var i=A(o,h);var j=e(o,h);return C.isInRange(n,i,j,true,true);};}};return T;});
sap.ui.predefine('sap/chart/coloring/emphasis/DimensionValues',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/criticality/DimensionValues','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,D,a,q){"use strict";var t=q.type;var b={};var v=function(c,A,d,o){var e=q.extend({},o);e.bHasOtherSeriesDim=d.aDim.some(function(h){return h._getFixedRole()==="series"&&h.getName()!==A[0];});e.type='Emphasis';e.subType='DimensionValues';C.checkColoringDimension(A,d,c,e);var f=c[A[0]],g=f.Values,l=f.Legend||{};if(g.length>1&&!l.Highlighted){throw new a('error','Colorings.Emphasis.DimensionValues','Legend.Highlighted is mandatory when Highlight has multiple values.');}};
b.qualify=function(c,d,o,e){v(c,d,o,e);var f;if(d[0]){f={dim:d[0],setting:c};}return f;};
b.parse=function(c,l){var L={},d=c.dim,o=c.setting[d],e=o.Values;var h=(t(e)==="array")?e:[e];var H=function(f){return h.indexOf(f[d])>-1;};if(o.Legend&&o.Legend.Highlighted!=null){L.Highlight=o.Legend.Highlighted;}else{L.Highlight=h[0];}if(o.Legend&&o.Legend.Others){L.Others=o.Legend.Others;}else{L.Others=l.getText("COLORING_TYPE_OTHER");}var m={Highlight:H};return{callbacks:m,legend:L};};
return b;});
sap.ui.predefine('sap/chart/coloring/gradation/DelineatedDimensionValues',['sap/chart/coloring/ColoringUtils','sap/chart/data/MeasureSemantics','sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureUtils','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,M,R,a,q){"use strict";var t=q.type;var D={};var S=R.SingleColorScheme.SUPPORTED_SINGLE_SCHEMES;var b=R.SingleColorScheme.SUPPORTED_SATURATIONS;var E='colorings.Gradation.DelineatedDimensionValues';var v=function(s,c,d,o){if(s.SingleColorScheme&&S.indexOf(s.SingleColorScheme)===-1){throw new a('error',E,'"SingleColorScheme" should be one of "'+S.join('" or "')+'".');}if(s.Saturation&&b.indexOf(s.Saturation)===-1){throw new a('error',E,'"Saturation" should be one of "'+b.join('" or "')+'".');}var e={};Object.keys(s).forEach(function(k){if(k!=='SingleColorScheme'&&k!=='Saturation'){e[k]=s[k];}});var f=q.extend({},o);f.bHasOtherSeriesDim=C.hasOtherSeriesDim(c[0],d);f.type='Gradation';f.subType='DelineatedDimensionValues';C.checkColoringDimension(c,d,e,f);var g=e[c[0]];if(g){var l=g.Levels;if(t(l)!=='array'||l.length<2||l.length>6){throw new a("error",E,'The number of dimension names contained in "Levels" should be between 2 to 6.');}if(C.hasDuplicatedValues(l)){throw new a("error",E,'The dimension names contained in "Levels" have duplicated values.');}}};
D.qualify=function(d,c,T,o,e){v(d,c,o,e);var s=c[0],f;if(s){f={dim:s,setting:d};}return f;};
D.parse=function(c){var d=c.dim,s=c.setting;var p={callbacks:{},legend:{},singleColorScheme:s.SingleColorScheme||S[0],saturation:s.Saturation||b[0]};s[d].Levels.forEach(function(m){p.callbacks[m]=D.getCallback(d,m);p.legend[m]=m;});return p;};
D.getCallback=function(d,V){return function(c){return c[d]===V;};};
D.getContextHandler=function(c){var d=c.dim,l=c.setting[d].Levels;return function(o){var V=o.getProperty(d);if(l.indexOf(V)===-1){c.chartLog=new a('error',E,'Dimension memeber, '+V+', should be configured in "Levels".');}};};
return D;});
sap.ui.predefine('sap/chart/coloring/gradation/DelineatedMeasures',['sap/chart/coloring/ColoringUtils','sap/chart/data/MeasureSemantics','sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureUtils','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,M,R,a,q){"use strict";var t=q.type;var D={};var S=R.SingleColorScheme.SUPPORTED_SINGLE_SCHEMES;var b=R.SingleColorScheme.SUPPORTED_SATURATIONS;var E='colorings.Gradation.DelineatedMeasures';var v=function(s,d,o){if(o.bIsScatter){throw new a('error',E,'"DelineatedMeasures" could not apply to Scatter or Bubble.');}if(s.SingleColorScheme&&S.indexOf(s.SingleColorScheme)===-1){throw new a('error',E,'"SingleColorScheme" should be one of "'+S.join('" or "')+'".');}if(s.Saturation&&b.indexOf(s.Saturation)===-1){throw new a('error',E,'"Saturation" should be one of "'+b.join('" or "')+'".');}var m=d.aMsr.map(function(c){return c.getName();});var l=s.Levels;if(t(l)==='array'&&l.length>=2&&l.length<=6){C.notIn(l,m,E,'Measure, ',', configured in "Levels" should be visible.');C.notIn(m,l,E,'Visible measure, ',', should be configured in "Levels".');if(C.hasDuplicatedValues(l)){throw new a("error",E,'The measure names contained in "Levels" have duplicated values.');}}else{throw new a("error",E,'The number of measure names contained in "Levels" should be between 2 to 6.');}if(C.hasSeriesDim(d)||(o.bTimeChart&&o.bWaterfall&&d.aDim.length>1)||(o.bIsPie&&d.aDim.length)){throw new a('error',E,'Semantic coloring could not be applied if chart already has coloring.');}};
D.qualify=function(d,T,o,c){v(d,o,c);T.forEach(function(f){var m;Object.keys(M).forEach(function(k){var s=M[k];if(f[s]){if(!m){m=f[s];}else if(f[s]!==m){m+=', '+f[s];throw new a("error",E,'When '+m+' have semantic relationship, "DelineatedMeasures" could not be applied.');}}});});var e=[],l=d.Levels;l.forEach(function(m){e.push({msr:C.find(m,o.aMsr)});});e.SingleColorScheme=d.SingleColorScheme||S[0];e.Saturation=d.Saturation||b[0];e.Levels=l;return e;};
D.parse=function(c){var m=c.msr.getName();var p={msr:c.msr,callbacks:D.getCallbacks(m),legend:{}};p.legend[m]=m;return p;};
D.getCallbacks=function(m){var c={};c[m]=[function(o){return o.hasOwnProperty(m);}];return c;};
return D;});
sap.ui.predefine('sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureUtils',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/ColorPalette','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,a,b,q){"use strict";var t=q.type;var M={SingleColorScheme:{},DivergingColorScheme:{},TargetColorScheme:{}};var S=['NoSemantics','Positive','Negative'];var c=['NoSemantics','PositiveToNegative','NegativeToPositive','ColdToHot','HotToCold'];var d=['PositiveTarget'];var e=['LightToDark','DarkToLight'];var D=5;var f=['BelowMidArea','AboveMidArea'];var g=['MidAreaLowValue','MidAreaHighValue'];var T=['BelowTargetMidpoint','AboveTargetMidpoint'];var h=['TargetMidpoint'];var E='colorings.Gradation.RankedMeasureValues';
function j(n){return C.isNumber(n)&&n%1===0&&n>=2&&n<=6;}
function k(m,n,o){var B=[];var s=(n-m)/o;if(s>1){if(m+Math.ceil(s)*(o-1)<n){s=Math.ceil(s);}else{s=Math.floor(s);}}for(var i=0;i<o;i++){B.push(m+s*i);}return B;}
function l(L,p,P,m,A){var n=L.min,o=L.max,r=L.hasOwnProperty('belowMidArea')?L.belowMidArea:L.belowTargetMidpoint,s=L.hasOwnProperty('aboveMidArea')?L.aboveMidArea:L.aboveTargetMidpoint,u=L.hasOwnProperty('midAreaLowValue')?L.midAreaLowValue:L.targetMidpoint,v=L.midAreaHighValue;var w=[],x=[],y=[],z=0;if(u!==undefined){w.push(u);}if(v!==undefined&&w.indexOf(v)===-1){w.push(v);}if(w.length>1){x.push(1);y.push(m);z++;}var B;if(n<w[0]){w=[n].concat(w);x=[r].concat(x);B=A(p,r);if(p.gradationSaturation==='DarkToLight'){B=B.reverse();}y=B.concat(y);z+=r;}if(o>w[w.length-1]){w=w.concat([o]);x=x.concat([s]);B=A(P,s);if(P.gradationSaturation==='DarkToLight'){B=B.reverse();}y=y.concat(B);z+=s;}var F=[];for(var i=0;i<w.length-1;i++){F=F.concat(k(w[i],w[i+1],x[i]));}F=F.concat(w.slice(-1));if(y.length===0){y=A(p,1);return{feed:"color",palette:[],startColor:y[0],endColor:y[0],numOfSegments:1};}return{feed:"color",palette:y,numOfSegments:z,maxNumOfSegments:13,legendValues:F};}
M.SingleColorScheme.SUPPORTED_SINGLE_SCHEMES=S;M.SingleColorScheme.SUPPORTED_SATURATIONS=e;
M.SingleColorScheme.validate=function(s,m){var i=s[m].SingleColorScheme||{};if(i.Scheme&&S.indexOf(i.Scheme)===-1){throw new b('error',E,'"SingleColorScheme.Scheme" of the measure, '+m+', should be one of "'+S.join('" or "')+'".');}if(i.Saturation&&e.indexOf(i.Saturation)===-1){throw new b('error',E,'"SingleColorScheme.Saturation" of the measure, '+m+', should be one of "'+e.join('" or "')+'".');}};
M.SingleColorScheme.parse=function(o,p){var s=o.settings[o.type];var i=[];if(o.byAggregation){i=o.byAggregation.LevelBoundaries;}p.legend={segments:i,gradationScheme:s.Scheme||S[0],gradationSaturation:s.Saturation||e[0],numberOfLevels:s.NumberOfLevels||D,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};
M.SingleColorScheme.createScales=function(i){var B=[],o=i[0];var L=o.parsed.legend;var p=a.GRADATION.SingleColorScheme[L.gradationScheme];var n=L.numberOfLevels;if(L.segments.length>0){B=L.segments;n=B.length-1;var m=L.min,r=L.max;if(m<B[0]){B=[m].concat(B);n++;}if(r>B[B.length-1]){B=B.concat([r]);n++;}}p=C.assignColor(p,n);if(L.gradationSaturation==='DarkToLight'){p=p.reverse();}return{feed:"color",palette:p,numOfSegments:n,legendValues:B};};
M.SingleColorScheme.levels=function(s,m,A){var i=s[m].SingleColorScheme;if(A){var L=false;var n=A.LevelBoundaries;if(t(n)==='array'&&n.length>=1&&n.length<=5){L=n.reduce(function(o,p){return o<p?p:Number.POSITIVE_INFINITY;},Number.NEGATIVE_INFINITY)<Number.POSITIVE_INFINITY;}if(!L){throw new b("error",E,'"SingleColorScheme.RankingPerAggregationLevel.LevelBoundaries" of the measure, '+m+', may contain between 1 to 5 members in strictly increasing sequence.');}}else{if(i.hasOwnProperty('NumberOfLevels')){var N=i.NumberOfLevels;if(!j(N)){throw new b("error",E,'"SingleColorScheme.NumberOfLevels" of the measure, '+m+', should be an Integer between 2 to 6.');}}}};
M.DivergingColorScheme.validate=function(s,m){var i=s[m].DivergingColorScheme;if(i.Scheme&&c.indexOf(i.Scheme)===-1){throw new b('error',E,'"DivergingColorScheme.Scheme" of the measure, '+m+', should be one of "'+c.join('" or "')+'".');}var n=i.NumberOfLevels;f.forEach(function(o){if(!j(n&&n[o])){throw new b("error",E,'"DivergingColorScheme.NumberOfLevels.'+o+'"  of the measure, '+m+', should be an Integer between 2 to 6.');}});};
M.DivergingColorScheme.parse=function(o,p){var s=o.settings[o.type];p.legend={midAreaLowValue:o.byAggregation.MidAreaLowValue,midAreaHighValue:o.byAggregation.MidAreaHighValue,gradationScheme:s.Scheme||c[0],belowMidArea:s.NumberOfLevels.BelowMidArea,aboveMidArea:s.NumberOfLevels.AboveMidArea,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};
M.DivergingColorScheme.createScales=function(i){var o=i[0];var L=o.parsed.legend;var p=a.GRADATION.DivergingColorScheme[L.gradationScheme],P=p.slice(0,6).reverse(),m=p.slice(7);P.gradationSaturation='DarkToLight';return l(L,P,m,p[6],C.assignColor);};
M.DivergingColorScheme.levels=function(s,m,A){var F=false;g.forEach(function(i){if(A.hasOwnProperty(i)){F=true;if(!C.isNumber(A[i])){throw new b("error",E,'"DivergingColorScheme.NumberOfLevels.'+i+'"  of the measure, '+m+', should be a number.');}}});if(!F){throw new b("error",E,'At least one of the "MidAreaLowValue" or "MidAreaHighValue" in "DivergingColorScheme.RankingPerAggregationLevel" of the measure, '+m+', should be specified.');}if(A.MidAreaLowValue>A.MidAreaHighValue){throw new b("error",E,'"MidAreaLowValue" should no more than "MidAreaHighValue" in "DivergingColorScheme.RankingPerAggregationLevel" of the measure, '+m+'.');}};
M.TargetColorScheme.validate=function(s,m){var i=s[m].TargetColorScheme;if(i.Scheme&&d.indexOf(i.Scheme)===-1){throw new b('error',E,'"TargetColorScheme.Scheme" of the measure, '+m+',  should be "'+d.join('" or "')+'".');}var n=i.NumberOfLevels;T.forEach(function(o){if(!j(n&&n[o])){throw new b("error",E,'"TargetColorScheme.NumberOfLevels.'+o+'"  of the measure, '+m+', should be an Integer between 2 to 6.');}});};
M.TargetColorScheme.parse=function(o,p){var s=o.settings[o.type];p.legend={targetMidpoint:o.byAggregation.TargetMidpoint,gradationScheme:s.Scheme||d[0],belowTargetMidpoint:s.NumberOfLevels.BelowTargetMidpoint,aboveTargetMidpoint:s.NumberOfLevels.AboveTargetMidpoint,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};
M.TargetColorScheme.createScales=function(i){var o=i[0];var L=o.parsed.legend;var p=a.GRADATION.TargetColorScheme[L.gradationScheme],P=p.slice(0,6),m=p.slice(0,6);m.gradationSaturation='DarkToLight';return l(L,P,m,null,M.TargetColorScheme.assignColor);};
M.TargetColorScheme.levels=function(s,m,A){h.forEach(function(i){if(!C.isNumber(A[i])){throw new b("error",E,'"TargetColorScheme.NumberOfLevels.'+i+'"  of the measure, '+m+', should be a number.');}});};
M.TargetColorScheme.assignColor=function(i,L){switch(L){case 1:return[i[5]];case 2:return[i[0],i[5]];case 3:return[i[0],i[2],i[5]];case 4:return i.slice(0,2).concat(i.slice(4,6));case 5:return i.slice(0,3).concat(i.slice(4,6));case 6:return i.slice(0,6);default:return null;}};
return M;});
sap.ui.predefine('sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureValues',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureUtils','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,R,a,q){"use strict";var t=q.type;var b={};var S=["SingleColorScheme","DivergingColorScheme","TargetColorScheme"];var v=function(r,A,d,o){if(!o.bMBC){throw new a('error','colorings.Gradation','"RankedMeasureValues" only applys to Heatmap.');}C.checkColoringMeasure(A,d.aMsr,r);A.forEach(function(m){var V=Object.keys(r[m]).filter(function(k){return S.indexOf(k)>-1;});if(V.length>1){throw new a('error','colorings.Gradation.RankedMeasureValues','One and only one of "'+S.join('" or "')+'" can be applied to the measure, '+m+'.');}else{var t=V[0]||S[0];if(R[t].validate){R[t].validate(r,m);}}});};
b.qualify=function(r,A,d,o){v(r,A,d,o);var c=[],s=d.aDim.map(function(D){return D.getName();}).sort();q.each(r,function(m,e){if(A.length&&A.indexOf(m)===-1){return;}var M=C.find(m,d.aMsr);if(Object.keys(e).length===0){e['SingleColorScheme']={};}Object.keys(e).forEach(function(k){if(S.indexOf(k)===-1){return;}c.sMethod=k;var f=null,g=null;var h=t(e[k].RankingPerAggregationLevel)==='array'?e[k].RankingPerAggregationLevel:[];h.forEach(function(i){if(i&&i.VisibleDimensions){if(t(i.VisibleDimensions)==='array'&&i.VisibleDimensions.sort().join(",")===s.join(",")){f=i;}}else{g=i;}});f=f||g;if(f||(h.length===0&&k==='SingleColorScheme')){if(R[k].levels){R[k].levels(r,m,f);}c.push({type:k,msr:M,settings:e,byAggregation:o.bFiltered?null:f});}else{throw new a("error",'colorings.Gradation.RankedMeasureValues','No aggregation level in "'+k+'" of the measure, '+m+',  matched with current visible dimensions.');}});});return c;};
b.parse=function(c){var p={msr:c.msr,legend:{}};R[c.type].parse(c,p);return p;};
b.createScales=function(c){return R[c.sMethod].createScales(c);};
b.getContextHandler=function(c){var o=c[0];var m=o.msr.getName();var l=o.parsed.legend;return function(d){var V=d.getProperty(m);l.min=Math.min(l.min,V);l.max=Math.max(l.max,V);};};
return b;});
/*!
 * SAPUI5

(c) Copyright 2009-2019 SAP SE. All rights reserved
 */
sap.ui.predefine('sap/chart/AutoScaleMode',function(){"use strict";var A={DataSet:"DataSet",VisibleData:"VisibleData"};return A;},true);
sap.ui.predefine('sap/chart/Chart',['sap/chart/library','sap/viz/ui5/controls/VizFrame','sap/viz/ui5/controls/common/BaseControl','sap/viz/ui5/data/Dataset','sap/viz/ui5/data/FlattenedDataset','sap/viz/ui5/data/DimensionDefinition','sap/viz/ui5/data/MeasureDefinition','sap/chart/data/Dimension','sap/chart/data/TimeDimension','sap/chart/data/HierarchyDimension','sap/chart/data/Measure','sap/ui/model/analytics/ODataModelAdapter','sap/chart/utils/RoleFitter','sap/chart/utils/ChartUtils','sap/chart/utils/ChartTypeAdapterUtils','sap/chart/utils/DateFormatUtil','sap/chart/utils/DataSourceUtils','sap/chart/utils/SelectionAPIUtils','sap/chart/utils/MeasureSemanticsUtils','sap/viz/ui5/controls/common/feeds/FeedItem','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/FilterType','sap/ui/model/analytics/odata4analytics','sap/ui/Device','sap/chart/TimeUnitType','sap/chart/coloring/Colorings','sap/chart/ChartLog','sap/chart/pagination/PagingController','sap/ui/core/LocaleData','sap/ui/core/Control','sap/ui/core/BusyIndicatorUtils','sap/ui/core/theming/Parameters','sap/chart/SeriesColorTracker','sap/viz/ui5/format/ChartFormatter','sap/chart/utils/ValueAxisScaleUtils','sap/chart/AutoScaleMode','sap/chart/ScaleBehavior','sap/viz/ui5/utils/CommonUtil',"sap/base/Log","sap/ui/thirdparty/jquery"],function(l,V,B,D,F,a,M,b,T,H,c,O,R,C,f,g,h,S,n,q,r,s,t,u,w,x,y,z,P,L,A,E,G,I,J,K,N,Q,U,W,X){"use strict";
var Y=B.extend("sap.chart.Chart",{
metadata:{library:"sap.chart",properties:{chartType:{type:"string",defaultValue:"bar"},uiConfig:{type:"object",group:"Misc"},visibleDimensions:{type:"string[]",defaultValue:[]},inResultDimensions:{type:"string[]",defaultValue:[]},visibleMeasures:{type:"string[]",defaultValue:[]},vizProperties:{type:"object",group:"Misc"},vizScales:{type:"object[]",group:"Misc"},isAnalytical:{type:"boolean"},selectionBehavior:{type:"sap.chart.SelectionBehavior",defaultValue:sap.chart.SelectionBehavior.DataPoint},selectionMode:{type:"sap.chart.SelectionMode",defaultValue:sap.chart.SelectionMode.Multi},enablePagination:{type:"boolean",defaultValue:false},enableStableColor:{type:"boolean",defaultValue:false},enableScalingFactor:{type:"boolean",defaultValue:false},customMessages:{type:"object",defaultValue:null},colorings:{type:"object",defaultValue:null},activeColoring:{type:"object",defaultValue:null},valueAxisScale:{type:"object",defaultValue:null}},aggregations:{data:{type:"sap.ui.core.Element",multiple:true,bindable:"bindable"},_vizFrame:{type:"sap.viz.ui5.controls.VizFrame",multiple:false,visibility:"hidden"},dimensions:{type:"sap.chart.data.Dimension",multiple:true},measures:{type:"sap.chart.data.Measure",multiple:true}},events:{drilledDown:{parameters:{dimensions:{type:"string[]"}}},drilledUp:{parameters:{dimensions:{type:"string[]"}}},renderComplete:{},selectData:{},deselectData:{},valueAxisFixedScaleTurnedOff:{},drillStackChanged:{}}},
renderer:function(o,d){o.write("<div");o.writeControlData(d);o.addStyle("width",d.getWidth());o.addStyle("height",d.getHeight());o.writeStyles();o.write(">");o.renderControl(d.getAggregation("_vizFrame"));o.write("</div>");}
});
Y.getMetadata().getAggregation("data")._doesNotRequireFactory=true;
function Z(v){return v.indexOf("%")!==-1?"100%":v;}
Y.prototype.setHeight=function(v){this.setProperty("height",v);var o=this._getVizFrame();if(o){o.setHeight(Z(this.getProperty("height")));}return this;};
Y.prototype.setWidth=function(v){this.setProperty("width",v);var o=this._getVizFrame();if(o){o.setWidth(Z(this.getProperty("width")));}return this;};
Y.prototype.setChartType=function(d,e){this.setProperty("chartType",d,e);this._bIsPagingChartType=C.CONFIG.pagingChartTypes.indexOf(d)>-1;if(this._isEnablePaging()){this._getPagingController().init(false);}else{var o=this._getDataset();if(o){o.setPagingOption(null);o.setRange(-1,-1);}}this._invalidateBy({source:this,keys:{vizFrame:true}});this._bNeedToApplyDefaultProperties=true;return this;};
Y.prototype.setColorings=function(v){this.setProperty("colorings",v);this._invalidateBy({source:this,keys:{vizFrame:true,checkBinding:true}});return this;};
Y.prototype.setActiveColoring=function(v){this.setProperty("activeColoring",v);this._invalidateBy({source:this,keys:{vizFrame:true,checkBinding:true}});return this;};
Y.prototype.setValueAxisScale=function(v){this._bEnbableValueAxisScale=true;this.setProperty("valueAxisScale",v);if(this._oValueScaleSetting&&this._oValueScaleSetting.fireValueAxisFixedScaleTurnedOff){this._oValueScaleSetting.fireValueAxisFixedScaleTurnedOff=false;this._oValueScaleSetting.resetValueAxisScale=true;}this._invalidateBy({source:this,keys:{vizFrame:true}});return this;};
Y.prototype._setValueAxisScale=function(){var v=this.getValueAxisScale(),d=!this._rendered&&!!v,e=!(this._mNeedToUpdate['binding']&&this._oValueScaleSetting)&&this._bEnbableValueAxisScale;if(d||e){if(!this._bEnbableValueAxisScale){this._bEnbableValueAxisScale=true;}this._oValueScaleSetting=K.getValueAxisScaleSetting(this.getChartType(),v,this.getMeasures(),this.getVisibleMeasures());}};
Y.prototype._getValueAxisScaleSetting=function(){return this._bEnbableValueAxisScale?this._oValueScaleSetting||{}:{};};
Y.prototype._validateValueScaleOnDimChange=function(d,o){if(o&&this._oValueScaleSetting){var v=this.getValueAxisScale();if(v&&v.scaleBehavior===Q.FixedScale){var e=[];d.forEach(function(k){var m=o.indexOf(k);if(m<0){e.push(k);}else{o.splice(m,1);}});e=e.concat(o);if(e.length>0){var i=false,j=this.getChartType();if(C.isStackedLikeChart(j)){i=true;e.forEach(function(k){if(k._getFixedRole()!=='series'){i=false;}});}if(!i){this._oValueScaleSetting.fireValueAxisFixedScaleTurnedOff=true;v.scaleBehavior=Q.AutoScale;this.setProperty('valueAxisScale',v);this.fireValueAxisFixedScaleTurnedOff();if(this._oValueScaleSetting.resetValueAxisScale){v=this.getValueAxisScale();this.setProperty('valueAxisScale',v);}this._oValueScaleSetting=K.getValueAxisScaleSetting(j,v,this.getMeasures(),this.getVisibleMeasures());}}else{this._oValueScaleSetting=K.getValueAxisScaleSetting(this.getChartType(),v,this.getMeasures(),this.getVisibleMeasures());}}}};
Y.prototype.removeDimension=function(d){var v=this._getVisibleDimensions()||[];var i;if(this.getIsAnalytical()===false&&d&&d.getName()){i=v.indexOf(d.getName());if(i!==-1){W.error('Data source does not support aggregation. The method "removeDimension" therefore cannot be used!');return;}}var o=this.removeAggregation("dimensions",d);if(o){i=v.indexOf(o.getName());if(i!==-1){v.splice(i,1);this.setVisibleDimensions(v);}var e=this.getInResultDimensions()||[];i=e.indexOf(o.getName());if(i!==-1){e.splice(i,1);this.setInResultDimensions(e);}}return o;};
Y.prototype.removeAllDimensions=function(){var o;if(this.getIsAnalytical()===false){W.error('Data source does not support aggregation. The method "removeAllDimensions" therefore cannot be used!');}else{o=this.removeAllAggregation("dimensions");this.setVisibleDimensions([]);this.setInResultDimensions([]);}return o;};
Y.prototype.destroyDimensions=function(){var o;if(this.getIsAnalytical()===false){W.error('Data source does not support aggregation. The method "destroyDimensions" therefore cannot be used!');}else{o=this.destroyAggregation("dimensions");this.setVisibleDimensions([]);this.setInResultDimensions([]);}return o;};
Y.prototype.removeMeasure=function(m){var o=this.removeAggregation("measures",m);if(o){var v=this._getVisibleMeasures()||[],i=v.indexOf(o.getName());if(i!==-1){v.splice(i,1);this.setVisibleMeasures(v);}}return o;};
Y.prototype.removeAllMeasures=function(){var o=this.removeAllAggregation("measures");this.setVisibleMeasures([]);return o;};
Y.prototype.destroyMeasures=function(){var o=this.destroyAggregation("measures");this.setVisibleMeasures([]);return o;};
Y.prototype._getVisibleDimensions=function(d){var o=this._getDrillStateTop();var e=o?o.dimensions:this.getProperty("visibleDimensions");return d?this._normalizeDorM(e,true):e;};
Y.prototype.getVisibleDimensions=function(){var v=this._getVisibleDimensions();return this._aFeeds?v.filter(function(d){return this._aFeeds._unused.indexOf(d)===-1;},this):v;};
Y.prototype._getVisibleMeasures=function(d){var o=this._getDrillStateTop();var m=o?o.measures:this.getProperty("visibleMeasures");return d?this._normalizeDorM(m):m;};
Y.prototype.getVisibleMeasures=function(){var v=this._getVisibleMeasures();return this._aFeeds?v.filter(function(d){return this._aFeeds._unused.indexOf(d)===-1;},this):v;};
Y.prototype.setVisibleDimensions=function(v,d){var m=this._dimensionSanityCheck({visible:v});this.setProperty("visibleDimensions",v,d);this.setProperty("inResultDimensions",m.inResult,d);this._createDrillStack();this._invalidateBy({source:this,keys:{binding:true,dataSet:true,vizFrame:true}});return this;};
Y.prototype.setInResultDimensions=function(i,d){var m=this._dimensionSanityCheck({inResult:i});this.setProperty("inResultDimensions",i,d);this.setProperty("visibleDimensions",m.visible,d);this._createDrillStack();this._invalidateBy({source:this,keys:{binding:true,dataSet:true,vizFrame:true}});return this;};
Y.prototype.setVisibleMeasures=function(m,d){this.setProperty("visibleMeasures",m,d);var o=this._getDrillStateTop();if(!this._bIsInitialized){this._createDrillStack();}else{o.measures=this.getProperty("visibleMeasures");}this._invalidateBy({source:this,keys:{binding:true,dataSet:true,vizFrame:true}});return this;};
Y.prototype.setEnableStableColor=function(v){v=!!v;if(this.getProperty("enableStableColor")!==v){this.setProperty("enableStableColor",v);this._invalidateBy({source:this,keys:{vizFrame:true}});}return this;};
Y.prototype.setEnablePagination=function(e,d){if(!this._bIsInitialized){this.setProperty("enablePagination",e,d);this._createDrillStack();this._invalidateBy({source:this,keys:{binding:true,dataSet:true,vizFrame:true}});}return this;};
Y.prototype._dimensionSanityCheck=function(d){var v=d.visible||this.getVisibleDimensions()||[],i=d.inResult||this.getInResultDimensions()||[];var m=[].concat(v).concat(i).reduce(function(e,j){var k=v.indexOf(j)!==-1,o=i.indexOf(j)!==-1;if(k&&o){e.common[j]=true;}else if(k){e.visible[j]=true;}else if(o){e.inResult[j]=true;}return e;},{visible:{},inResult:{},common:{}});m.visible=Object.keys(m.visible);m.inResult=Object.keys(m.inResult);m.common=Object.keys(m.common);return m;};
Y.prototype._prepareFeeds=function(){if(!this._aFeeds){var d=this._normalizeDorM(this._getVisibleDimensions(),true),m=this._normalizeDorM(this._getVisibleMeasures(),false),i=this._normalizeDorM(this.getInResultDimensions(),true),e;this._sAdapteredChartType=this.getEnablePagination()?this.getChartType():f.adaptChartType(this.getChartType(),d);var v=this._getVisibleMeasures();e=this._normalizeDorM(this.getMeasures().filter(function(j){return v.indexOf(j.getName())===-1;}),false);this._aFeeds=R.fit(this._sAdapteredChartType,d,m,i,this._enableSemanticPattern(),e);if((!this._aFeeds._valid||this._aFeeds._unused.length)&&this._sAdapteredChartType!==this.getChartType()){this._sAdapteredChartType=this.getChartType();this._aFeeds=R.fit(this._sAdapteredChartType,d,m,i,this._enableSemanticPattern());}if(this._sAdapteredChartType!==this.getChartType()){this._bNeedToApplyDefaultProperties=true;}}return this._aFeeds;};
Y.prototype._normalizeDorM=function(m,i){var d=i?this.getDimensions():this.getMeasures(),e=d.reduce(function(p,v){p[v.getName()]=v;return p;},{}),j=i?b:c;var o=m.reduce(function(o,p){var v;if(typeof p==="string"){v=p;}else if(p instanceof j){v=p.getName();}else{o.errors.push(p);}if(e[v]){o.normalized.push(e[v]);}else{o.errors.push(p);}return o;},{normalized:[],errors:[]});var k=o.normalized;if(o.errors.length>0){k.errors=o.errors;}return k;};
Y.prototype._redundantsFromSelection=function(){var d=this._getVizFrame().vizSelection();if(!d||d.length===0){return{measureNames:{}};}var o=this._getContinuesSemanticTuples();var m=d.reduce(function(i,j){var p=[];for(var g1 in o){if(o.hasOwnProperty(g1)){var h1=o[g1];if(j.data[g1]){p.push((j.data[h1.timeAxis]<h1.projectedValueStartTime)?h1.projected:h1.actual);}else{p.push(h1.actual);p.push(h1.projected);}}}X.each(j.data,function(k,v){if(!(p.length>0&&p.indexOf(k)>-1)){if(!i[k]){i[k]=[];}if(i[k].indexOf(v)===-1){i[k].push(v);}}});return i;},{});var e=this._getVisibleDimensions().reduce(function(i,j){var v=m[j];if(v.length===1){i[j]=v[0];}return i;},{});e.measureNames=this._getVisibleMeasures().reduce(function(i,j){if(!m[j]){i[j]=true;}return i;},{});return e;};
Y.prototype._deriveFilterFromSelection=function(){var v=this._getVisibleDimensions();var d=this;var e=this._getVizFrame().vizSelection();if(this.getSelectionBehavior().toUpperCase()===sap.chart.SelectionBehavior.Category){e=e.category;}else if(this.getSelectionBehavior().toUpperCase()===sap.chart.SelectionBehavior.Series){e=e.series;}var i=false;var j=e.map(function(k){var p=v.reduce(function(g1,h1){var i1=d.getDimensionByName(h1);var j1;j1=k.data[h1];if(j1!=null){if(C.CONFIG.timeChartTypes.indexOf(d._sAdapteredChartType)>-1&&i1 instanceof T){var k1=g.getInstance(i1.getTimeUnit());if(k1){var l1=k1.format.bind(k1);j1=l1(new Date(k.data[h1]));}}var m1=new r({path:h1,operator:s.EQ,value1:j1});if(i1 instanceof H){g1.hierarchyFilters.push(m1);i=true;}else{g1.filters.push(m1);}g1.signature.push(h1+"="+k.data[h1]);}return g1;},{filters:[],hierarchyFilters:[],signature:[]});p.signature=p.signature.join(";");return p;});var m=j.reduce(function(k,p){if(!k[p.signature]&&(p.filters.length+p.hierarchyFilters.length>0)){k[p.signature]={filters:p.filters.length?new r(p.filters,true):null,hierarchyFilters:p.hierarchyFilters.length?new r(p.hierarchyFilters,true):null};}return k;},{});var o=Object.keys(m).map(function(k){return{filters:m[k].filters,hierarchyFilters:m[k].hierarchyFilters};});if(o.length>1){if(i){return{hierarchyFilters:new r(o.map(function(k){return k.hierarchyFilters;}),false)};}else{return{filters:new r(o.map(function(k){return k.filters;}),false)};}}else if(o.length===1){return{filters:o[0].filters,hierarchyFilters:o[0].hierarchyFilters};}else{return{filters:null,hierarchyFilters:null};}};
function $(){var d=this.getSelectionBehavior();var e=this._getVisibleDimensions().concat(this.getInResultDimensions()).filter(function(k){var o=this.getDimensionByName(k);if(d.toUpperCase()===sap.chart.SelectionBehavior.Category){return o._getFixedRole()==="category"||o._getFixedRole()==="category2";}else if(d.toUpperCase()===sap.chart.SelectionBehavior.Series){return o._getFixedRole()==="series";}return true;}.bind(this));var i=e.some(function(k){var o=this.getDimensionByName(k);return o instanceof H;}.bind(this));var j;if(d.toUpperCase()===sap.chart.SelectionBehavior.Category){j=this.getSelectedCategories().categories;}else if(d.toUpperCase()===sap.chart.SelectionBehavior.Series){j=this.getSelectedSeries().series;}else{j=this.getSelectedDataPoints().dataPoints;}if(i&&Object.keys(e).length>1&&j.length>1){return false;}return true;}
Y.prototype._checkDrilldownValid=function(d){if(this._bEmptyData){W.error("Drill down not possible, because there is already no data available!");return false;}var e=this.getInResultDimensions();var v=this._getVisibleDimensions().concat(e).reduce(function(g1,h1){g1[h1]=true;return g1;},{});if(!$.call(this)){W.error("Drill down not possible, because multiple selections on hierarchy/regular mixed dimension is not supported in backend service!");return false;}function j(g1,h1){var i1=true;if(h1[g1.getName()]){if(!(g1 instanceof H)){W.error("Drill down not possible, because one of the given dimensions is already drilled down!");i1=false;}else{if(e.indexOf(g1.getName())>-1){W.error("Drill down not possible, because one of the given dimensions is inResult!");i1=false;}}}return i1;}for(var i=0;i<d.length;++i){if(!j(d[i],v)){return false;}}var m=d.reduce(function(g1,h1){g1[h1.getName()]=h1;return g1;},{});var k=this;function o(g1){if(Array.isArray(g1.aFilters)){return g1.aFilters.some(o);}else{return!j(k.getDimensionByName(g1.sPath),m);}}var p=this._getDrillStateTop();if(p&&p.filter&&o(p.filter)){return false;}return true;};
Y.prototype._createDrillStack=function(){this._drillStateStack=_.call(this);var v=this.getProperty("visibleDimensions")||[];this._aUnavailableDims=v.filter(function(d){return!this.getDimensionByName(d);}.bind(this));if(this._aUnavailableDims.length){this._invalidateBy({source:this,keys:{drillStack:true}});}else{this.fireDrillStackChanged(this.getDrillStack());}};
Y.prototype._updateDrillStack=function(){var d=this._aUnavailableDims.some(function(e){return this.getDimensionByName(e)instanceof H;}.bind(this));if(d){this._drillStateStack=_.call(this);}this._aUnavailableDims=[];this.fireDrillStackChanged(this.getDrillStack());};
function _(){var v=this.getProperty("visibleDimensions")||[],d=this.getProperty("visibleMeasures")||[],e=[{dimensions:[],measures:d,filter:undefined,nonHierarchyFilters:undefined,hierarchyFilters:undefined,hierarchylevel:{}}],j=[];var o={};for(var i=0;i<v.length;i++){var k=v[i];j.push(k);var m=this.getDimensionByName(k);if(m&&m instanceof H){o[k]=m.getLevel();}e.push({dimensions:j.slice(),measures:d,filter:undefined,nonHierarchyFilters:undefined,hierarchyFilters:undefined,hierarchylevel:X.extend(true,{},o)});}return e;}
Y.prototype._invalidateBy=function(o){var d=o.source;var e=this._oCandidateColoringSetting?(this._oCandidateColoringSetting.additionalDimensions||[]):[];if(d===this){X.each(o.keys||{},function(k,v){this._markForUpdate(k,v);}.bind(this));}else if(d instanceof c&&this._getVisibleMeasures().indexOf(d.getName())!==-1){this._markForUpdate("dataSet",true);this._markForUpdate("vizFrame",true);if(o.property==="unitBinding"||(this.getColorings()&&(o.property==='semantics'||o.property==='semanticallyRelatedMeasures'))){this._markForUpdate("binding",true);}}else if(d instanceof b&&this._getVisibleDimensions().concat(e).indexOf(d.getName())!==-1){this._markForUpdate("dataSet",true);this._markForUpdate("vizFrame",true);if((d.getDisplayText()&&(o.property==="textProperty"||o.property==="displayText"))){this._markForUpdate("binding",true);}else if(o.property==='level'&&this.getProperty('visibleDimensions').indexOf(d.getName())>-1){this._createDrillStack();this._markForUpdate("binding",true);}}else if(d instanceof b&&this.getProperty('inResultDimensions').indexOf(d.getName())>-1){if(o.property==='level'){this._markForUpdate("dataSet",true);this._markForUpdate("binding",true);this._markForUpdate("vizFrame",true);}}this.invalidate(o);};
Y.prototype._handleNonAnalyticalFeeding=function(){var d=this;var i=this.getInResultDimensions();var v=this._getVisibleDimensions(),e=this.getDimensions().map(function(o){return o.getName();});var j=[];e.forEach(function(m){if(d.getDimensionByName(m)){var o=d.getDimensionByName(m).getTextProperty();if(o){j.push(o);}}});var k=v.concat(e.filter(function(m){return(v.indexOf(m)<0);})).filter(function(m){return(j.indexOf(m)<0)&&(i.indexOf(m)<0);});this.setProperty("visibleDimensions",k);this._createDrillStack();};
Y.prototype._markForUpdate=function(k,d){if(!this._mNeedToUpdate){this._mNeedToUpdate={};}this._mNeedToUpdate[k]=d;var o=this._updaters.onInvalidate[k];if(o){o.call(this);}};
Y.prototype._updaters=(function(){return{onInvalidate:{vizFrame:function(){this._aFeeds=null;this._bColoringParsed=null;},checkBinding:function(){this._bColoringParsed=null;},binding:function(){this._bColoringParsed=null;},loopData:function(){this._bColoringParsed=null;}},checkBinding:function(){var o=this._getCandidateColoringSetting();var d=o.additionalDimensions;var e=o.additionalMeasures;if((d&&d.length)||(e&&e.length)){this._mNeedToUpdate["binding"]=true;}},drillStack:function(){this._updateDrillStack();},dataSet:function(){this._getDataset().invalidate();},binding:function(){var o=this._getDataset().getBinding("data"),i=this.getInResultDimensions();if(!o){return;}var d=this._getVisibleDimensions(true).concat(this._normalizeDorM(i,true));var m=this._getVisibleMeasures(true);this._oMeasureRangePromise=h.updateModel(this.getIsAnalytical())(this,d,m);var e=this._getDrillStateTop();if(d.length>0||m.length>0){this._getVizFrame()._readyToRender(false);this.setBusy(true);}this._bFilterCalledByChart=true;o.filter((e&&e.filter)?e.filter:undefined,t.Control);var j=sap.ui.require("sap/ui/model/odata/v4/ODataModel");if(j&&(this.getModel()instanceof j)){o.resume();}if(this._bEnbableValueAxisScale){this._validateValueScaleOnDimChange(d,this._aDimensions);}this._aDimensions=d;},vizFrame:function(){var d=this,o=this._getDataset(),v=this._getVizFrame();if(this._mNeedToUpdate['binding']){var i=sap.ui.require("sap/ui/model/odata/v4/ODataModel");var j=this._getDataset().getBinding("data");if(i&&(this.getModel()instanceof i)){j.suspend();}if(this._isEnablePaging()){this._getPagingController().reset();this._oColoringStatus={};}else{this._getDataset().setPagingOption(null);}}else{this._markForUpdate('loopData',true);}if(this.getEnableStableColor()){this._oColorTracker.add(v._runtimeScales());v._runtimeScales(this._oColorTracker.get(),true);}else{this._resetRuntimeScale();}var m=this._isEnablePaging()?this._getPagingController().getMeasureRange():{};o.removeAllAggregation("dimensions",true);o.removeAllAggregation("measures",true);v.removeAllAggregation("feeds",true);if(this.getIsAnalytical()===false){this._handleNonAnalyticalFeeding();}var k={};try{k=this._prepareFeeds();k._def.dim.forEach(function(j1){o.addAggregation("dimensions",j1,true);},this);k._def.msr.forEach(function(j1){if(j1){var k1=m[j1.getIdentity()];if(k1){j1.setRange([k1.min,k1.max]);}if(!d.getDimensionByName(j1.getUnit())){j1.setUnit(null);}o.addAggregation("measures",j1,true);}},this);k.forEach(function(j1){v.addFeed(j1);});}catch(e){}this._semanticTuples=k._semanticTuples;var p=this._getCandidateColoringSetting();var g1=k._context||[];var h1=p.additionalMeasures||[];var i1=p.additionalDimensions||[];h1.forEach(function(j1){g1.push({id:j1,showInTooltip:false});o.addMeasure(new M({name:j1,identity:j1,value:'{'+j1+'}'}));});i1.forEach(function(j1){g1.push({id:j1,showInTooltip:false});o.addDimension(new a({name:j1,identity:j1,value:'{'+j1+'}'}));});o.setContext(g1);v.invalidate();o.invalidate();v.setVizType(this._reset100DonutChartType(this._sAdapteredChartType));v._setCustomMessages(this.getCustomMessages());this._setValueAxisScale();if(!this._mNeedToUpdate['loopData']){this._setEffectiveScales();v.setVizProperties(this._getEffectiveProperties());}},loopData:function(){var v=this._getVizFrame();try{this._prepareData();}catch(e){if(e instanceof z){e.display();}else{throw e;}}var o=this._getEffectiveProperties();this._usingDisplayNameForSemantics(o);v.setVizProperties(o);this._setEffectiveScales();}};})();
Y.prototype._getDrillStateTop=function(){return this._drillStateStack?this._drillStateStack[this._drillStateStack.length-1]:null;};
Y.prototype._getVizFrame=function(){return this.getAggregation("_vizFrame");};
Y.prototype._getDataset=function(){var v=this._getVizFrame();return v?v.getDataset():null;};
Y.prototype._prepareData=function(){var d=this._getContexts();if(d){this._bEmptyData=d.length?false:true;var o=this._getCandidateColoringSetting().contextHandler;var i=[];if(o){i.push(o);try{this._loopContext(i);}catch(e){if(e instanceof z){e.display();this._oCandidateColoringSetting={};}else{throw e;}}}this._oSemanticVizSettings=n.getSemanticVizSettings(this._sAdapteredChartType,this._semanticTuples,this._oCandidateColoringSetting,this._enableSemanticPattern(),this._bDataPointStyleSetByUser,this._bLegendSetByUser);}};
Y.prototype._getContexts=function(){return this._getDataset()._getDataContexts();};
Y.prototype._loopContext=function(d){var e=this._getContexts();if(e.length>0&&!e.dataRequested){var i=this;e.forEach(function(o){d.forEach(function(j){j.call(i,o);});});}};
Y.prototype._filterHandler=function(){if(!this._bFilterCalledByChart){this._bFilterCalledByCustomer=true;this._bColoringParsed=false;}this._bFilterCalledByChart=false;};
Y.prototype._dataRefreshListener=function(e){if(e.getParameters().reason==='filter'){this._filterHandler();}};
Y.prototype._bindingChangeListener=function(o){var v=this._getVizFrame();if(o.getParameters().reason==='filter'){this._filterHandler();}if(this.getEnableStableColor()){this._oColorTracker.add(v._runtimeScales());v._runtimeScales(this._oColorTracker.get(),true);}v.invalidate();this.setBusy(false);if(this._isEnablePaging()){this._getPagingController().bindingChanged();}else{v._readyToRender(true);}try{this._prepareData();}catch(e){if(e instanceof z){e.display();}}var d=this._getEffectiveProperties();this._usingDisplayNameForSemantics(d);v.setVizProperties(d);this._setEffectiveScales();this._bFilterCalledByChart=false;this._bFilterCalledByCustomer=false;};
Y.prototype._resetRuntimeScale=function(){this._oColorTracker.clear();this._getVizFrame()._runtimeScales(this._oColorTracker.get(),true);};
Y.prototype._hasUserSemanticProps=function(){var v=this.getProperty("vizProperties");if(v&&v.plotArea){if(v.plotArea.dataPointStyle||v.plotArea.seriesStyle){return true;}}return false;};
Y.prototype._enableSemanticColoring=function(){var d=true;if(this._sAdapteredChartType==="heatmap"){var v=this.getProperty("vizScales")||[];var o=v.filter(function(e){return e.feed==="color";})[0];if(o){d=false;}}else{if(this._hasUserSemanticProps()){d=false;}}return d;};
Y.prototype._enableSemanticPattern=function(){return!this._hasUserSemanticProps()&&C.CONFIG.nonSemanticPatternChartType.indexOf(this._sAdapteredChartType)===-1;};
Y.prototype._hasSemanticPattern=function(){return this._enableSemanticPattern()&&n.hasSemanticRelation(this._semanticTuples);};
Y.prototype._getContinuesSemanticTuples=function(){var d={};if(this._hasSemanticPattern()){d=this._semanticTuples.reduce(function(e,i){if(i.semanticMsrName){e[i.semanticMsrName]=i;}return e;},{});}return d;};
Y.prototype._getContinuesSemanticMap=function(){var d=[];if(this._hasSemanticPattern()){d=this._semanticTuples.filter(function(e){return e.projectedValueStartTime;});}return d;};
Y.prototype._getInternalVisibleMeasures=function(){var m=this._getVisibleMeasures();if(this._hasSemanticPattern()){m=m.concat(this._getContinuesSemanticMap().map(function(d){return d.semanticMsrName;}));}return m;};
Y.prototype._buildSelectedDataPoints=function(o,d){var m=this._getInternalVisibleMeasures(),e=this._getVisibleDimensions().concat(this.getInResultDimensions()),i=this._getEffectiveContinuesDataPoints(d);return S.buildSelectionVizCtx(m,e,o,i);};
Y.prototype._getEffectiveContinuesSeries=function(d){var e=d.slice(),i=this._getContinuesSemanticMap();if(this._hasSemanticPattern()){var m=e.map(function(j){return j.measures;});i.forEach(function(j){if(m.indexOf(j.actual)>-1||m.indexOf(j.projected)>-1){e=e.filter(function(k){return k.measures!==j.actual&&k.measures!==j.projected;});if(m.indexOf(j.actual)>-1&&m.indexOf(j.projected)>-1){e.push({measures:j.semanticMsrName});}}});}return e;};
Y.prototype._getEffectiveContinuesDataPoints=function(d){var e=d.slice(),k=this._getContinuesSemanticMap();if(this._hasSemanticPattern()){var m,p,o,v;for(var i=0;i<e.length;i++){o=e[i].measures;for(var j=0;j<k.length;j++){v=k[j];m=o.indexOf(v.actual);if(m>-1){o.splice(m,1);}p=o.indexOf(v.projected);if(p>-1){o.splice(p,1);}if(m>-1||p>-1){o.push(v.semanticMsrName);}}}}return e;};
Y.prototype._buildSelectEventData=function(d){if(d&&d.length>0&&this._hasSemanticPattern()){var v,e;var k=this._getContinuesSemanticMap();for(var i=0;i<d.length;i++){v=X.extend(true,{},d[i].data);for(var j=0;j<k.length;j++){e=k[j];if(v.measureNames===e.semanticMsrName){if(v[e.timeAxis]<e.projectedValueStartTime){v.measureNames=e.actual;delete v[e.projected];delete v[e.semanticMsrName];}else{v.measureNames=e.projected;delete v[e.actual];delete v[e.semanticMsrName];}}else{if(v[e.actual]&&v.measureNames!==e.actual){delete v[e.actual];}if(v[e.projected]&&v.measureNames!==e.projected){delete v[e.projected];}}}d[i].data=v;}}};
Y.prototype.addData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "addData" therefore cannot be used programmatically!');};
Y.prototype.destroyData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "destroyData" therefore cannot be used programmatically!');};
Y.prototype.getData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "getData" therefore cannot be used programmatically!');};
Y.prototype.indexOfData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "indexOfData" therefore cannot be used programmatically!');};
Y.prototype.insertData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "insertData" therefore cannot be used programmatically!');};
Y.prototype.removeData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "removeData" therefore cannot be used programmatically!');};
Y.prototype.removeAllData=function(){W.error('Chart manages the "data" aggregation only via data binding. The method "removeAllData" therefore cannot be used programmatically!');};
Y.prototype._createOData4SAPAnalyticsModel=function(m){var o=null;try{o=new u.Model(new u.Model.ReferenceByModel(m));}catch(e){return undefined;}return o;};
Y.prototype.getIsAnalytical=function(){return this.getProperty("isAnalytical");};
Y.prototype.setIsAnalytical=function(v,d){if(this._bIsInitialized){W.error('The proeprty isAnalytical will programmatically set according to data source. The method "setIsAnalytical" therefore cannot be used!');}else{this.setProperty("isAnalytical",v,d);}return this;};
Y.prototype._setIsAnalyticalProperty=function(o,d){var v=o.findQueryResultByName(h.getEntitySet(this.getIsAnalytical())(d))!==undefined;if(this.getIsAnalytical()!==v){this.setProperty("isAnalytical",v);}};
Y.prototype.bindAggregation=function(d,o){if(d==="data"){this._oBindingInfo=X.extend(true,{},o);var m=this.getModel(o.model);var e;if(m){var i=sap.ui.require("sap/ui/model/odata/v4/ODataModel");var j=sap.ui.require("sap/ui/model/json/JSONModel");if(j&&m instanceof j){if(this.getIsAnalytical()!==false){this.setProperty("isAnalytical",false);}}else if(i&&m instanceof i){this.setProperty("isAnalytical",true);if(o){o.parameters=X.extend(true,{$count:o.length!=undefined||this._isEnablePaging()},o.parameters);}}else{e=this._createOData4SAPAnalyticsModel(m);this._setIsAnalyticalProperty(e,o);if(this.getIsAnalytical()){if(o){var k=true;if(o.length!=undefined||this._isEnablePaging()){k=false;}o.parameters=X.extend(true,{analyticalInfo:[],useBatchRequests:true,provideGrandTotals:false,reloadSingleUnitMeasures:true,noPaging:k},o.parameters);}O.apply(m);if(e){m.setAnalyticalExtensions(e);}}}}}return B.prototype.bindAggregation.apply(this,arguments);};
Y.prototype._bindAggregation=function(d,o){if(d==="data"){var m=this.getModel(o.model);var e;if(m){var i=sap.ui.require("sap/ui/model/odata/v4/ODataModel");var j=sap.ui.require("sap/ui/model/json/JSONModel");if(j&&m instanceof j){if(this.getIsAnalytical()!==false){this.setProperty("isAnalytical",false);}this._deriveColumns(m,o);}else if(i&&m instanceof i){this.setProperty("isAnalytical",true);if(o){o.parameters=X.extend(true,{$count:o.length!=undefined||this._isEnablePaging()},o.parameters);}}else{e=this._createOData4SAPAnalyticsModel(m);this._setIsAnalyticalProperty(e,o);if(this.getIsAnalytical()){if(o){var k=true;if(o.length!=undefined||this._isEnablePaging()){k=false;}o.parameters=X.extend(true,{analyticalInfo:[],useBatchRequests:true,provideGrandTotals:false,reloadSingleUnitMeasures:true,noPaging:k},o.parameters);}O.apply(m);if(e){m.setAnalyticalExtensions(e);}}this._deriveColumns(m,o);}}var p=this._getDataset();p.bindAggregation("data",o);this._invalidateBy({source:this,keys:{binding:true,vizFrame:true}});}else{B.prototype._bindAggregation.apply(this,arguments);}};
Y.prototype._dataErrorListener=function(e){var v=this._getVizFrame();if(v){v._readyToRender(true);v.invalidate();this.setBusy(false);}};
Y.prototype.unbindAggregation=function(d,e){if(d==="data"){var o=this._getDataset();if(o){o.unbindAggregation.apply(o,arguments);}e=true;}return B.prototype.unbindAggregation.apply(this,[d,e]);};
Y.prototype.unbindData=function(){if(!this.getIsAnalytical()){this.removeAllAggregation("dimensions");this.removeAllAggregation("measures");this.setProperty("visibleDimensions",[]);this.setProperty("inResultDimensions",[]);this.setProperty("visibleMeasures",[]);this._createDrillStack();}this.unbindAggregation("data");};
Y.prototype._deriveColumns=function(m,o){var d=this.getAggregation("dimensions");var e=this.getAggregation("measures");if((d===null||d.length===0)&&(e===null||e.length===0)){var i=h.deriveColumns(this.getIsAnalytical())(m,o);i.dimensions.forEach(this.addDimension.bind(this));i.measures.forEach(this.addMeasure.bind(this));}};
Y.prototype.onBeforeRendering=function(){this._bIsInitialized=true;B.prototype.onBeforeRendering.apply(this,arguments);var o=["onInvalidate","drillStack","dataSet","vizFrame","checkBinding","binding","loopData"];o.forEach(function(k){if(this._mNeedToUpdate[k]){this._updaters[k].call(this);}}.bind(this));X.each(this._mNeedToUpdate,function(k){this._mNeedToUpdate[k]=false;}.bind(this));};
Y.prototype.onAfterRendering=function(){this._showLoading(this._bLoading);this._rendered=true;};
Y.prototype.onlocalizationChanged=function(){this._invalidateBy({source:this,keys:{vizFrame:true}});};
Y.prototype.exit=function(){this._getDataset().unbindAggregation('data',true);this._oColorTracker.clear();B.prototype.exit.apply(this,arguments);var v=this._getVizFrame();if(this._delegateEventHandlers){this._delegateEventHandlers.forEach(function(o){v["detach"+o.name](o.handler,this);delete o.handler;},this);delete this._delegateEventHandlers;}v.detachRenderComplete(this._vizFrameRenderCompleteHandler,this);v.detachEvent("_zoomDetected",e1.bind(this),this);v.detachEvent("_selectionDetails",f1.bind(this),this);};
Y.prototype.applySettings=function(){this._mNeedToUpdate={};A.prototype.applySettings.apply(this,arguments);var d=new F();d.attachEvent("dataChange",{},this._bindingChangeListener,this);d.attachEvent("dataRefresh",{},this._dataRefreshListener,this);d.attachEvent("dataError",{},this._dataErrorListener,this);var i=X.extend(true,{},{'applicationSet':'fiori'},this.getUiConfig());this.setUiConfig(i);this._bNeedToApplyDefaultProperties=true;this._oSemanticVizSettings={};var v=new V({width:Z(this.getWidth()),height:Z(this.getHeight()),vizType:this.getChartType(),uiConfig:this.getUiConfig(),vizProperties:X.extend(true,{'title':{'visible':false}},this._getEffectiveProperties())});v.setDataset(d);v.attachRenderComplete(null,this._updateLoadingIndicator.bind(this));v.attachEvent("_zoomDetected",e1.bind(this));v.attachEvent("renderFail",null,function(e){var p=this._getPagingController();if(p._sLoadingTimer){clearTimeout(p._sLoadingTimer);p._sLoadingTimer=null;}this._showLoading(false);},this);this._rendered=false;v._readyToRender(false);this.setAggregation("_vizFrame",v);this._delegateEvents();this._sAdapteredChartType=this.getChartType();this._oCandidateColoringSetting={};this._oColoringStatus={};this._oColorTracker=new I();if(this._isEnablePaging()){this._getPagingController();}};
Y.prototype.setCustomMessages=function(o){this.setProperty("customMessages",o);var v=this._getVizFrame();if(v){v._setCustomMessages(o);}return this;};
Y.prototype.getZoomInfo=function(){return this._getZoomInfo();};
Y.prototype._getZoomInfo=function(){var v=this._getVizFrame();if(v){return v._getZoomInfo();}};
Y.prototype.resetLayout=function(){this._createDrillStack();this._invalidateBy({source:this,keys:{binding:true,vizFrame:true,dataSet:true}});return this;};
Y.prototype.setSelectedDataPoints=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var o=this.getBinding("data"),v=this._getVizFrame();if(!o||!v||this.getSelectionBehavior().toUpperCase()!=="DATAPOINT"){return this;}v.vizSelection([],{clearSelection:true});v.vizSelection(this._buildSelectedDataPoints(o,d),{selectionMode:this.getSelectionMode()});}return this;};
Y.prototype.addSelectedDataPoints=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var o=this.getBinding("data"),v=this._getVizFrame();if(!o||!v||this.getSelectionBehavior().toUpperCase()!=="DATAPOINT"){return this;}v.vizSelection(this._buildSelectedDataPoints(o,d),{selectionMode:l.SelectionMode.Multi});}return this;};
Y.prototype.getSelectedDataPoints=function(){var v=this._getVizFrame();if(!v||this.getSelectionBehavior().toUpperCase()!=="DATAPOINT"){return{count:0,dataPoints:[]};}var o=this._getContinuesSemanticTuples();var m=this._getVisibleMeasures(),d=this._getDataset(),e=v.vizSelection()||[],j={};for(var i=0,k=e.length;i<k;i++){var p=e[i],g1=p.data._context_row_number;if(!j[g1]){j[g1]={index:g1,measures:[],context:d.findContext({"_context_row_number":g1})};}p.measures=S.filterVisibleMsr(p.data,m);if(!X.isEmptyObject(o)){S.filterSemMsr(o,m,p);}j[g1].measures=j[g1].measures.concat(p.measures);if(p.unit){j[g1].unit=X.extend(true,j[g1].unit,p.unit);}if(p.dataName){j[g1].dataName=X.extend(true,j[g1].dataName,p.dataName);}}return{count:e.length,dataPoints:Object.keys(j).map(function(id){return j[id];})};};
Y.prototype.removeSelectedDataPoints=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var o=this.getBinding("data"),v=this._getVizFrame();if(!v||this.getSelectionBehavior().toUpperCase()!=="DATAPOINT"){return this;}var e=this._buildSelectedDataPoints(o,d);v.vizSelection(e,{deselection:true});}return this;};
Y.prototype.setSelectedCategories=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var v=this._getVizFrame(),e=this.getSelectionBehavior().toUpperCase();if(!v||e!=="CATEGORY"){return this;}v.vizSelection([],{clearSelection:true});v.vizSelection(d.map(S.toVizCSCtx),{selectionMode:this.getSelectionMode()});}return this;};
Y.prototype.addSelectedCategories=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var v=this._getVizFrame(),e=this.getSelectionBehavior().toUpperCase();if(!v||e!=="CATEGORY"){return this;}v.vizSelection(d.map(S.toVizCSCtx),{selectionMode:l.SelectionMode.Multi});}return this;};
Y.prototype.removeSelectedCategories=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var v=this._getVizFrame(),e=this.getSelectionBehavior().toUpperCase();if(!v||e!=="CATEGORY"){return this;}v.vizSelection(d.map(S.toVizCSCtx),{deselection:true});}return this;};
Y.prototype.getSelectedCategories=function(){var v=this._getVizFrame(),d=this.getSelectionBehavior().toUpperCase();if(!v||d!=="CATEGORY"){return{count:0,categories:[]};}else{var e=v.vizSelection()||[];return{count:e.length,categories:(e.category||[]).map(S.fromVizCSCtx)};}};
Y.prototype.setSelectedSeries=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var v=this._getVizFrame(),e=this.getSelectionBehavior().toUpperCase();if(!v||e!=="SERIES"){return this;}v.vizSelection([],{clearSelection:true});var i=this._getEffectiveContinuesSeries(d);v.vizSelection(i.map(S.toVizCSCtx),{selectionMode:this.getSelectionMode()});}return this;};
Y.prototype.addSelectedSeries=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var v=this._getVizFrame(),e=this.getSelectionBehavior().toUpperCase();if(!v||e!=="SERIES"){return this;}var i=this._getEffectiveContinuesSeries(d);v.vizSelection(i.map(S.toVizCSCtx),{selectionMode:l.SelectionMode.Multi});}return this;};
Y.prototype.removeSelectedSeries=function(d){if(this.getSelectionMode()!==l.SelectionMode.None){var v=this._getVizFrame(),e=this.getSelectionBehavior().toUpperCase();if(!v||e!=="SERIES"){return this;}var i=this._getEffectiveContinuesSeries(d);v.vizSelection(i.map(S.toVizCSCtx),{deselection:true});}return this;};
Y.prototype.getSelectedSeries=function(){var v=this._getVizFrame(),d=this.getSelectionBehavior().toUpperCase();if(!v||d!=="SERIES"){return{count:0,series:[]};}else{var e=v.vizSelection()||[],i=(e.series||[]).map(S.fromVizCSCtx),j=[],k=this._getContinuesSemanticTuples();i=i.filter(function(m){var o=true;if(m&&m.measures){var p=k[m.measures];if(p&&p.semanticMsrName===m.measures){j.push({measures:p.actual});j.push({measures:p.projected});o=false;}}return o;});i=i.concat(j);return{count:e.length,series:i};}};
function a1(d){var e=d.filter(function(o){return o;});if(e.length===0){return null;}else if(e.length===1){return e[0];}else{return new r(e,true);}}
Y.prototype.drillDown=function(d){if(this.getIsAnalytical()===false){W.error('Data source does not support drillDown/drillUp. The method "drillDown" therefore cannot be used!');return;}if(d&&!(d instanceof Array)){d=[d];}var e=this._normalizeDorM(d,true);if(e.length===0){return;}if(!this._checkDrilldownValid(e)){return;}var o=this._getDrillStateTop(),m=this._redundantsFromSelection(),i=this._deriveFilterFromSelection();var j,k,p;if(i){j=a1([i.filters,o.nonHierarchyFilters]);k=i.hierarchyFilters||o.hierarchyFilters;p=a1([j,k])||undefined;}var v=X.extend(true,{},o.hierarchylevel);e.forEach(function(i1){if(i1 instanceof H){if(v[i1.getName()]==null){v[i1.getName()]=i1.getLevel();}else{v[i1.getName()]+=1;}}});var g1=o.dimensions.slice().filter(function(i1){return!m[i1];});g1=g1.concat(e.filter(function(i1){return g1.indexOf(i1.getName())===-1;}).map(function(i1){return i1.getName();}));this._drillStateStack.push({dimensions:g1,measures:o.measures.filter(function(i1){return!m.measureNames[i1];}),filter:p,hierarchylevel:v,nonHierarchyFilters:j,hierarchyFilters:k,redundant:m});if(this._aUnavailableDims.length===0){this.fireDrillStackChanged(this.getDrillStack());}var h1=e.map(function(i1){return i1.getName();});this.fireDrilledDown({dimensions:h1});this._invalidateBy({source:this,keys:{binding:true,vizFrame:true}});};
Y.prototype.drillUp=function(i){if(this.getIsAnalytical()===false){W.error('Data source does not support drillDown/drillUp. The method "drillUp" therefore cannot be used!');return;}if(arguments.length===0){i=this._drillStateStack.length-2;}var o=this._drillStateStack[i];if(o&&i!=this._drillStateStack.length-1){var p=this._drillStateStack.pop();this._drillStateStack.splice(i+1);if(this._aUnavailableDims.length===0){this.fireDrillStackChanged(this.getDrillStack());}this.fireDrilledUp({dimensions:p.dimensions.filter(function(d){return o.dimensions.indexOf(d)===-1;})});this._invalidateBy({source:this,keys:{binding:true,vizFrame:true}});}};
Y.prototype.getDrillStack=function(){if(this.getIsAnalytical()===false){W.error('Data source does not support drillDown/drillUp. The method "getDrillStack" therefore cannot be used!');return;}return X.map(this._drillStateStack||[],function(o,i){return{dimension:o.dimensions.slice(),measure:o.measures.slice(),filter:o.filter,hierarchylevel:X.extend(true,{},o.hierarchylevel)};});};
Y.prototype.setUiConfig=function(o){this.setProperty("uiConfig",o);if(this._getVizFrame()){this._getVizFrame().setUiConfig(o);}return this;};
var b1=(function(){var d=["interaction.selectability.mode","interaction.selectability.behavior"];function e(o,p){var j=o,v;v=p.reduce(function(m,g1){if(j.hasOwnProperty(g1)){m.push({parent:j,val:j[g1],key:g1});j=j[g1];}return m;},[]);if(v.length!==p.length){return;}var k=v.pop();delete k.parent[k.key];while(v.length>0){k=v.pop();if(Object.keys(k.val).length>0){return;}else{delete k.parent[k.key];}}}function i(v,j){var o=X.extend(true,{},v);d.forEach(function(p){delete o[p];e(o,p.split("."));});return o;}return{sanitize:i,modify:function(p,k,j){var m=k.split("."),o=p;while(m.length>1&&o.hasOwnProperty(m[0])){o=o[m.shift()];}var v=m[0];if(m.length===1&&o.hasOwnProperty(v)){o[v]=j(o[v]);}}};})();
Y.prototype.setVizProperties=function(v){v=b1.sanitize(v);this.setProperty("vizProperties",v);if(v.plotArea&&v.plotArea.dataPointStyle){this._bDataPointStyleSetByUser=true;this._invalidateBy({source:this,keys:{vizFrame:true,loopData:true}});}if(v.legend&&v.legend.title){this._bLegendSetByUser=true;}if(this._getVizFrame()){this._getVizFrame().setVizProperties(this._getEffectiveProperties());}return this;};
Y.prototype.getVizProperties=function(){var o=this._getVizFrame();var d=b1.sanitize(o?o.getVizProperties():this.getProperty("vizProperties"));function e(i){var j=sap.viz.api.env.Format.numericFormatter();if(!j||X.type(j.stripUnit)!=="function"){return i;}if(X.type(i)==="string"){return j.stripUnit(i);}else if(X.type(i)==="object"){X.each(i,function(k,v){i[k]=j.stripUnit(v);});return i;}else{return i;}}b1.modify(d,"plotArea.dataLabel.formatString",e);b1.modify(d,"tooltip.formatString",e);return d;};
Y.prototype.setVizScales=function(v){this.setProperty("vizScales",v);this._aVizValueScales=v.filter(function(o){return o.feed==="valueAxis"||o.feed==="valueAxis2"||o.feed==="actualValues";});if(this._aVizValueScales&&this._aVizValueScales.length>0){this._bEnbableValueAxisScale=false;}if(this._getVizFrame()){this._getVizFrame().setVizScales(v);}return this;};
Y.prototype.getVizScales=function(){var v=this._getVizFrame();return v?v.getVizScales():this.getProperty("vizScales");};
Y.prototype.getVizUid=function(){return this._getVizFrame().getVizUid();};
Y.prototype.zoom=function(o){this._getVizFrame().zoom(o);};
var c1=["selectData","deselectData"];
Y.prototype._delegateEvents=function(){if(this._delegateEventHandlers){return;}var v=this._getVizFrame();this._delegateEventHandlers=c1.map(function(e){var d=e.charAt(0).toUpperCase()+e.slice(1);var i=function(o){var p=o.getParameters();this._buildSelectEventData(p.data);delete p.id;this.fireEvent(e,p);};i=i.bind(this);v["attach"+d](null,i);return{name:d,handler:i};},this);this._vizFrameRenderCompleteHandler=d1.bind(this);v.attachRenderComplete(null,this._vizFrameRenderCompleteHandler);v.attachEvent("_selectionDetails",f1.bind(this));};
Y.getChartTypes=sap.chart.api.getChartTypes;
Y.prototype.getAvailableChartTypes=function(){var d=this._getVisibleDimensions(true),m=this._getVisibleMeasures(true);return C.CONFIG.chartTypes.reduce(function(o,e){var i=R.compatible(e,d,m);if(i.compatible){o.available.push({chart:e});}else{var j={};if(i.error.missing.dim){j.Dimension=i.error.missing.dim;}if(i.error.missing.time){j.DateTimeDimension=i.error.missing.time;}if(i.error.missing.msr){j.Measure=i.error.missing.msr;}o.unavailable.push({chart:e,error:j});}return o;},{available:[],unavailable:[]});};
Y.prototype._getDynamicScaleProp=function(){return{general:{enableScalingFactor:this.getEnableScalingFactor()}};};
Y.prototype._getEffectiveProperties=function(){var v={};if(this._bNeedToApplyDefaultProperties){v=X.extend(true,v,this._getDefaultVizProperties());this._bNeedToApplyDefaultProperties=false;}var d=this.getChartType();v=X.extend(true,v,this._get100DonutProperty(d),this._oSemanticVizSettings.properties||{},this.getProperty("vizProperties"),this._getHostedVizProperties(),this._getPagingVizProperties(),this._getTimeProperties(),this._getValueAxisScaleSetting().property||{},this._getDynamicScaleProp(),n.getSemanticSettingsForCombination(this._semanticTuples,d));return v;};
Y.prototype._get100DonutProperty=function(d){return{'tooltip':{'bodyMeasureValue':{'type':(d.indexOf("100_")===0)?'percentage':'value'}}};};
Y.prototype._reset100DonutChartType=function(d){return d.indexOf('donut')>-1?'donut':d;};
Y.prototype._setEffectiveScales=function(){var v=this._getVizFrame(),o=this.getProperty('vizScales'),d=this._getValueAxisScaleSetting(),e=(o||[]).filter(function(j){return j.feed==='color';});var i=U.extendScales(o,d.scale||[],this._oSemanticVizSettings.scales||[]);if(this._oSemanticVizSettings.replaceColorScales&&e.length===0){v.setVizScales(i,{replace:true});}else{v.setVizScales(i);}};
Y.prototype._usingDisplayNameForSemantics=function(v){var d=function(o){if((typeof(o)==='undefined')||(o===null)){return false;}return true;};if(v.plotArea&&v.plotArea.dataPointStyle&&v.plotArea.dataPointStyle.rules){var e=this._getContexts();if(e.length>0&&!e.hasOwnProperty("dataRequested")){var k=this.getVisibleDimensions(),m=v.plotArea.dataPointStyle.rules;for(var i=0;i<m.length;i++){var p=m[i].dataContext;if(p&&p.length!==0){var g1=Object.keys(p);if(!d(m[i].displayName)&&g1.length===1){var h1=g1[0];if(p[h1].hasOwnProperty("equal")&&k.indexOf(h1)!==-1){var i1=this.getDimensionByName(h1).getTextProperty();for(var j=0;j<e.length;j++){if(e[j].getProperty(h1)===p[h1].equal){var j1=e[j].getProperty(i1);if(!d(i1)||!d(j1)||typeof(j1)==="object"||this.getDimensionByName(h1).getDisplayText()===false){m[i].displayName=p[h1].equal;break;}else{m[i].displayName=j1;break;}}}}}}}}}};
Y.prototype._getCandidateColoringSetting=function(){if(!this._bColoringParsed&&this._semanticTuples){if(this._enableSemanticColoring()){this._bColoringParsed=true;this._oCandidateColoringSetting={};var d={},o=this.getColorings(),i=this.getActiveColoring();d.aMsr=this._normalizeDorM(this.getVisibleMeasures());var j=this._getDrillStateTop();var k=[],v;if(j.redundant){var k=Object.keys(j.redundant).filter(function(g1){return g1!=='measureNames';});}v=this._normalizeDorM(this.getVisibleDimensions().concat(k),true);d.aDim=v;d.aInResultDim=this._normalizeDorM(this.getInResultDimensions(),true);d.allMsr=this.getMeasures().map(function(g1){return g1.getName();});d.allDim=this.getDimensions().map(function(g1){return g1.getName();});if(o){try{var m=sap.ui.getCore().getLibraryResourceBundle("sap.chart.messages");var p={bFiltered:this._bFilterCalledByCustomer};this._oCandidateColoringSetting=y.getCandidateSetting(o,i,this._semanticTuples,d,this._oColoringStatus||{},this._sAdapteredChartType||this.getChartType(),m,p);}catch(e){if(e instanceof z){e.display();}else{throw e;}}}}else{this._oCandidateColoringSetting={};}}return this._oCandidateColoringSetting;};
Y.prototype._hostedVizProperties={selectionMode:{prop:"interaction.selectability.mode"},selectionBehavior:{prop:"interaction.selectability.behavior"}};
Y.prototype._getHostedVizProperties=function(){return Object.keys(this._hostedVizProperties).reduce(function(o,p){var d=this._hostedVizProperties[p].prop.split(".").reverse().reduce(function(o,e){var i={};i[e]=o;return i;},this.getProperty(p));return X.extend(true,o,d);}.bind(this),{});};
Y.prototype._getDefaultVizProperties=function(){var d=(this._sAdapteredChartType||this.getChartType());var i=(d.indexOf("100_")===0);var j=(d==="pie"||d.indexOf("donut")>-1);d='info/'+this._reset100DonutChartType(d);var o={interaction:{extraEventInfo:true}};return X.extend(true,o,v({},d,["valueAxis.label.formatString","valueAxis2.label.formatString"],i?'':J.DefaultPattern.SHORTFLOAT),v({},d,["legend.formatString","sizeLegend.formatString"],J.DefaultPattern.SHORTFLOAT_MFD2),v({},d,["plotArea.dataLabel.formatString"],j?'':J.DefaultPattern.SHORTFLOAT_MFD2),v({},d,["tooltip.formatString"],i?'':J.DefaultPattern.STANDARDFLOAT));function k(e,g1,h1){if(g1.length===0){return h1;}e=e||{};var p=e[g1[0]];e[g1[0]]=k(p,g1.slice(1),h1);return e;}function m(p,g1){if(p==null||g1.length===0){return p;}var e=p[g1[0]];if(e&&e.children){return m(e.children,g1.slice(1));}return e;}function v(e,g1,h1,i1){var j1=sap.viz.api.metadata.Viz.get(g1);if(j1){var k1=j1.properties;h1.forEach(function(l1){l1=l1.split(".");var p=m(k1,l1);if(p&&p.hasOwnProperty("defaultValue")){k(e,l1,i1);}});}return e;}};
Y.prototype._getPagingVizProperties=function(){if(this._isEnablePaging()){var p={interaction:{zoom:{enablement:false},selectability:{mode:"NONE"}},plotArea:{isFixedDataPointSize:true}};return p;}else{return{};}};
Y.prototype._getTimeProperties=function(){var d=["year","month","day"];var o=null;var e=this;var i=this.getVisibleDimensions().filter(function(k1){var l1=e.getDimensionByName(k1);return(l1 instanceof sap.chart.data.TimeDimension&&l1._getFixedRole()==="category");})[0];var j="ISO";var m,k,p;if(i){var v=this.getDimensionByName(i);switch(v.getTimeUnit()){case x.yearmonthday:d=["year","month","day"];break;case x.yearquarter:d=["year","quarter"];break;case x.yearmonth:d=["year","month"];break;case x.yearweek:d=["year","week"];var g1=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),h1=L.getInstance(g1),p=g1.getRegion();m=h1.getMinimalDaysInFirstWeek();k=h1.getFirstDayOfWeek();k=k===0?7:k;j="Gregorian";break;case x.fiscalyear:d=["fiscal_year"];break;case x.fiscalyearperiod:d=["fiscal_period","fiscal_year"];break;default:}o=v.getFiscalYearPeriodCount();}var i1=this.getProperty("vizProperties");if(i1&&i1.timeAxis){var j1=i1.timeAxis;if(j1.levels){d=j1.levels;}if(j1.fiscal&&j1.fiscal.periodNumbers){o=j1.fiscal.periodNumbers;}}return{"timeAxis":{"levels":d,"fiscal":{"periodNumbers":o},"levelConfig":{"week":{"type":j,"minDays":m,"firstDayOfWeek":k,"region":p}}}};};
Y.prototype.setSelectionMode=function(v){this.setProperty("selectionMode",v);var o=this._getVizFrame();if(o){o.setVizProperties({interaction:{selectability:{mode:v}}});}return this;};
Y.prototype.getSelectionMode=function(){var v=this._getVizFrame();if(v){return v.getVizProperties().interaction.selectability.mode;}else{return this.getProperty("selectionMode");}};
Y.prototype.setSelectionBehavior=function(v){this.setProperty("selectionBehavior",v);var o=this._getVizFrame();if(o){o.setVizProperties({interaction:{selectability:{behavior:v}}});}return this;};
Y.prototype.setEnableScalingFactor=function(v){this.setProperty("enableScalingFactor",v);this._invalidateBy({source:this,keys:{vizFrame:true}});return this;};
Y.prototype.getScalingFactor=function(){var v=this._getVizFrame();if(v){var d=v._states()["dynamicScale"];if(d){var e=null;var k=["primaryValues","secondaryValues"];var i=[d.valueAxis,d.valueAxis2];for(var j=0;j<k.length;j++){var m=i[j];if(m&&(m.symbol||m.unit)){e=e||{};var o=k[j];e[o]={scalingFactor:m.symbol};if(m.unit){e[o]["unit"]=m.unit;}}}return e;}}return null;};
Y.prototype.getSelectionBehavior=function(){var v=this._getVizFrame();if(v){return v.getVizProperties().interaction.selectability.behavior;}else{return this.getProperty("selectionBehavior");}};
Y.prototype.getDimensionByName=function(e){return this.getDimensions().filter(function(d){return d.getName()===e;})[0];};
Y.prototype.getMeasureByName=function(d){return this.getMeasures().filter(function(m){return m.getName()===d;})[0];};
Y.prototype.getTimeDimensions=function(){return this.getDimensions().filter(function(d){return d instanceof T;});};
Y.prototype._isEnablePaging=function(){this._bMobile=(w.system.tablet&&!w.system.desktop)||w.system.phone;var m=this.getModel();var d=sap.ui.require("sap/ui/model/json/JSONModel");var e=!(d&&m instanceof d)&&this.getEnablePagination()&&this._bIsPagingChartType&&!this._bMobile;return e;};
function d1(e){var p=e.getParameters();delete p.id;if(this._isEnablePaging()){this._getPagingController().vizFrameRenderCompleted();}this.fireEvent("renderComplete",p);}
function e1(e){var p=e.getParameters();delete p.id;this.fireEvent("_zoomDetected",p);}
function f1(e){var p=e.getParameters();delete p.id;var d=this._getDataset();p.data.forEach(function(i){i.context=d.findContext({"_context_row_number":i.data._context_row_number});});this.fireEvent("_selectionDetails",p);}
Y.prototype._showLoading=function(d){var e=this.$();if(!e){return;}if(!d){if(this._$loadingIndicator){this._$loadingIndicator.remove();}}else{if(!this._$loadingIndicator){this._$loadingIndicator=this._createLoadingIndicator();}this._updateLoadingIndicator();e.append(this._$loadingIndicator);}this._bLoading=d;};
Y.prototype._createLoadingIndicator=function(){var d=X(E.getElement());var e=X("<p>").attr("class","loading-text").text("Loading");e.css({"position":"absolute","transform":"translateY(-3em)","width":"100%","text-align":"center"});e.insertBefore(d.children()[0]);d.css({opacity:1});return d;};
Y.prototype._updateLoadingIndicator=function(){var d=this.$();if(!d||!this._$loadingIndicator){return;}var e=this._sAdapteredChartType,i=e==="bar"||e.indexOf("horizontal")!==-1;var j=d.find(".v-plot-bound"),o=d.offset(),p={top:o.top,left:o.left,width:d.width(),height:d.height()};if(j.length){var k=j.offset(),m=j[0].getBoundingClientRect();p.top=k.top-1;p.left=k.left;p.width=m.width+1;if(i){p.height=Math.ceil(m.height+1);}else{p.height=Math.floor(m.height+1);}}this._$loadingIndicator.css(p);var v=this._$loadingIndicator.find(".loading-text");v.css({"top":p.height/2,"font-weight":G.get("sapUiChartTitleFontWeight"),"font-size":G.get("sapUiChartMainTitleFontSize"),"color":G.get("sapUiChartMainTitleFontSize")});this._$loadingIndicator.css({"background-color":G.get("sapUiExtraLightBG")});};
Y.prototype._getRequiredDimensions=function(){var v=this._getVisibleDimensions(),i=this.getInResultDimensions();return this._normalizeDorM(v.concat(i),true);};
Y.prototype._getRequiredMeasures=function(){return this._getVisibleMeasures(true);};
Y.prototype.exportToSVGString=function(o){var d="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"/>",v=this._getVizFrame();if(v){d=v.exportToSVGString(o);}return d;};
Y.prototype._getPagingController=function(){if(!this._pagingController){this._pagingController=new P(this);}return this._pagingController;};
return Y;});
sap.ui.predefine('sap/chart/ChartLog',["sap/base/Log"],function(L){"use strict";
function C(t,n,m){this._type=t;this._name=n;this._message=m;}
C.prototype.display=function(){if(this._type==="error"){L.error("[Analytical Chart] "+this._name,this._message);}};
return C;});
sap.ui.predefine('sap/chart/ChartType',function(){"use strict";var C={Bar:"bar",Column:"column",Line:"line",Combination:"combination",Pie:"pie",Donut:"donut",Scatter:"scatter",Bubble:"bubble",Heatmap:"heatmap",Bullet:"bullet",VerticalBullet:"vertical_bullet",StackedBar:"stacked_bar",StackedColumn:"stacked_column",StackedCombination:"stacked_combination",HorizontalStackedCombination:"horizontal_stacked_combination",DualBar:"dual_bar",DualColumn:"dual_column",DualLine:"dual_line",DualStackedBar:"dual_stacked_bar",DualStackedColumn:"dual_stacked_column",DualCombination:"dual_combination",DualHorizontalCombination:"dual_horizontal_combination",DualStackedCombination:"dual_stacked_combination",DualHorizontalStackedCombination:"dual_horizontal_stacked_combination",PercentageStackedBar:"100_stacked_bar",PercentageStackedColumn:"100_stacked_column",PercentageDualStackedBar:"100_dual_stacked_bar",PercentageDualStackedColumn:"100_dual_stacked_column",PercentageDonut:"100_donut",Waterfall:"waterfall",HorizontalWaterfall:"horizontal_waterfall"};return C;},true);
sap.ui.predefine('sap/chart/ColoringType',function(){"use strict";var C={Criticality:"Criticality",Emphasis:"Emphasis",Gradation:"Gradation"};return C;},true);
sap.ui.predefine('sap/chart/ScaleBehavior',function(){"use strict";var S={AutoScale:"AutoScale",FixedScale:"FixedScale"};return S;},true);
sap.ui.predefine('sap/chart/SeriesColorTracker',["sap/ui/thirdparty/jquery"],function(q){"use strict";var _={color:true,color2:true};
function S(){this._mSeriesColor={};}
function s(c){var t=q.type(c);switch(t){case"string":return'"'+c+'"';case"null":case"undefined":return t;case"array":return"["+c.map(s).join(",")+"]";case"object":return"{"+Object.keys(c).map(function(p){return'"'+p+'":'+s(c[p]);}).join(",")+"}";case"number":case"boolean":return String(c);default:return t+"<"+String(c)+">";}}
function g(m,b){var a;for(var i=0;i<m.length;++i){var c=m[i];if(c.fields.length===b.length){var f=true;for(var j=0;f&&j<b.length;++j){f=(b[j]===c.fields[j]);}if(f){a=c;}}}if(!a){a={fields:b.slice(),results:{}};m.push(a);}return a;}
S.prototype.add=function(r){var a=this._mSeriesColor,m;if(r){r.forEach(function(R){var f=R.feed;if(!_[f]){return;}m=a[f];if(!m){m=[];a[f]=m;}var c=g(m,R.fields);var b=c.results;R.results.forEach(function(o){var k=s(o.dataContext);if(!b[k]){b[k]=o;}});});}};
S.prototype.get=function(){var f=Object.keys(this._mSeriesColor);var m=this._mSeriesColor;var r=[];for(var i=0;i<f.length;++i){var a=m[f[i]];var c={feed:f[i],mappings:[]};for(var j=0;j<a.length;++j){var b=[];var d=a[j].results;var K=Object.keys(d);for(var k=0;k<K.length;++k){b.push(d[K[k]]);}c.mappings.push({results:b,fields:a[j].fields});}r.push(c);}return r;};
S.prototype.clear=function(){this._mSeriesColor={};};
return S;});
sap.ui.predefine('sap/chart/TimeUnitType',function(){"use strict";var T={Date:"Date",yearmonthday:"yearmonthday",yearquarter:"yearquarter",yearmonth:"yearmonth",yearweek:"yearweek",fiscalyear:"fiscalyear",fiscalyearperiod:"fiscalyearperiod"};return T;},true);
sap.ui.predefine('sap/chart/coloring/Colorings',["sap/chart/coloring/criticality/Criticality","sap/chart/coloring/emphasis/Emphasis","sap/chart/coloring/gradation/Gradation",'sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,E,G,a,q){"use strict";var S=['Criticality','Emphasis','Gradation'];
function c(o,A,d){var i=d.aInResultDim,b=A.coloring||null;if(i&&i.length){throw new a('error','',"Semantic coloring could not be applied if inResult Dimensions exist.");}if(!A||!A.coloring){throw new a('error','activeColoring',"The activeColoring is mandatory.");}if(S.indexOf(b)<0){throw new a('error','activeColoring',"The active coloring type, "+b+", is not supported.");}else if(Object.keys(o).indexOf(b)<0){throw new a('error','activeColoring',"The active coloring type, "+b+", should be configured in Coloring.");}}
function s(m){if(m.length<=1){return false;}if(m.length>2){return true;}var b,r,d=false;m.forEach(function(e){var n=e.getSemantics();if(n==="actual"&&!b){b=e;}else if(n==="reference"&&!r){r=e;}else{d=true;}});d=d||(b&&r&&b.getSemanticallyRelatedMeasures()!==r.getName());return d;}
return{getCandidateSetting:function(o,A,t,d,b,e,l,f){c(o,A||{},d);var g,h={},i={'Criticality':C,'Emphasis':E,'Gradation':G};g=i[A.coloring];h.bMBC=e==="heatmap";h.bShowUnmentionedMsr=!(e&&e.indexOf("scatter")>-1||e&&e.indexOf("bubble")>-1);h.bIsScatter=e&&e.indexOf("scatter")>-1||e&&e.indexOf("bubble")>-1;h.bIsPie=e&&(e==="pie"||e.indexOf("donut")>-1);h.bWaterfall=e&&e.indexOf("waterfall")>-1;h.bTimeChart=e&&e.indexOf("timeseries")>-1;h.bIsLine=e&&e.indexOf("line")>-1;q.extend(true,h,f);if(e==="timeseries_bullet"&&s(d.aMsr)){return{};}if(g){var j=g.getCandidateSetting(o,A,t,d,b,h,l);j.type=A.coloring;return j;}else{return{};}}};});
sap.ui.predefine('sap/chart/coloring/CriticalityType',function(){"use strict";var C={Negative:"Negative",Critical:"Critical",Positive:"Positive",Neutral:"Neutral"};return C;},true);
sap.ui.predefine('sap/chart/coloring/criticality/Criticality',['sap/chart/coloring/criticality/measureValues/MeasureValues','sap/chart/coloring/criticality/DimensionValues','sap/chart/coloring/ColoringUtils','sap/chart/coloring/ColorPalette','sap/chart/coloring/CriticalityType','sap/chart/data/MeasureSemantics',"sap/ui/thirdparty/jquery"],function(M,D,C,a,b,c,q){"use strict";var t=q.type;var S=['DimensionValues','MeasureValues'];var m=[b.Positive,b.Neutral,b.Critical,b.Negative,'Unmentioned'];var d=[b.Positive,b.Critical,b.Negative,b.Neutral];
function e(i,l){var r=[];l.forEach(function(s){i.forEach(function(o){if(o.chartLog){throw o.chartLog;}var k=o.parsed.callbacks[s]||[];k.forEach(function(n,p){var u,v;if(s==="Unmentioned"){u=C.assignUnmentionedColor(a.CRITICALITY.Neutral,k.length);v=o.parsed.legend[p];}else{u=C.assignColor(a.CRITICALITY[s],k.length);var L=o.parsed.legend[s];v=(t(L)==="array")?L[p]:L;}var R={callback:n,properties:{color:u[p]},displayName:v};r.push(R);});});});return r;}
function f(i){var o=i[0];var l=o.parsed.legend;var p=[],B=[];var n=l.segments[0].upperBound>l.min;var N=(l.segments.length<2)||(l.segments[l.segments.length-2].upperBound<l.max);l.segments.forEach(function(s){var r=C.assignColor(a.CRITICALITY[s.CriticalityType],1)[0];p.push(r);B.push(s.upperBound);});if(n){B=[l.min].concat(B);}else{p.splice(0,1);}if(N){B[B.length-1]=l.max;}else{p.splice(p.length-1,1);B.splice(B.length-1,1);}var k=p.length;if(p.length===1){p=[p[0],p[0]];k=2;}else if(p.length===0){return null;}return{feed:"color",palette:p,numOfSegments:k,legendValues:B};}
function g(i){var l;if(i&&i.legendTitle){l={title:{text:i.legendTitle,visible:true}};}return l;}
function h(i,l){return function(){var k,p;if(i.bMBC){k=f(i);}else{var r=e(i,l);p={plotArea:{dataPointStyle:{rules:r}},legend:g(i)};}return{colorScale:k,properties:p};};}
function j(T,i){var s=[c.Actual,c.Projected,c.Reference];var m=[b.Positive,b.Neutral,b.Critical,b.Negative];var k=[];var n=[];var l=false;T.forEach(function(o){var p=false;var r=[];o.order=[];if(o.criticalityType){l=true;}s.forEach(function(u){if(o[u]){var v=i.filter(function(w){return o[u]===w.msr.getName();})[0];if(v){p=true;o.order.push(u);}else{r.push(u);}}});o.order=o.order.concat(r);if(p){k.push(o);}else{n.push(o);}});if(l){k.sort(function(o,p){return m.indexOf(o.criticalityType)-m.indexOf(p.criticalityType);});}T.splice(0,T.length);T.push.apply(T,k.concat(n));}
return{getCandidateSetting:function(o,A,T,k,s,l,L){var n=o.Criticality||{},p=A.parameters||{};var u=C.dimOrMsrUse(n,p,S,'Criticality');var r={additionalMeasures:[],additionalDimensions:[]};var v=l.bMBC,Q,P,w;switch(u){case'DimensionValues':var x=p.dimension||Object.keys(n.DimensionValues);if(t(x)==='string'){x=[x];}Q=D.qualify(n.DimensionValues,x,k,l);if(Q){r.qualifiedSettings=Q;Q.parsed=D.parse(Q,k.aDim,s,L,l);r.contextHandler=D.getContextHandler(Q,L,l);r.ruleGenerator=h([Q],d);}break;case'MeasureValues':var y=p.measure||Object.keys(n.MeasureValues);if(t(y)==='string'){y=[y];}Q=M.qualify(n.MeasureValues,T,y,k,s,l);if(Q.sMethod){q.each(Q,function(i,z){P=M.parse(z,k,s,l,L);q.each(P.additionalMeasures,function(i,B){r.additionalMeasures.push(B);});q.each(P.additionalDimensions,function(i,B){r.additionalDimensions.push(B);});z.parsed=P;if(z.settings.Legend&&z.settings.Legend.Title){Q.legendTitle=z.settings.Legend.Title;}});w=Q.sMethod;r.contextHandler=M.getContextHandler(w,Q,v,L);r.qualifiedSettings=Q;r.ruleGenerator=h(Q,m);Q.bMBC=v;j(T,Q);}break;default:return{};}if(Q.length){r.subType=u;}return r;},getLegendProps:g};});
sap.ui.predefine('sap/chart/coloring/emphasis/Emphasis',['sap/chart/coloring/emphasis/DimensionValues','sap/chart/coloring/ColorPalette','sap/chart/coloring/ColoringUtils','sap/chart/ChartLog','sap/chart/data/TimeDimension',"sap/ui/thirdparty/jquery"],function(D,C,a,b,T,q){"use strict";var t=q.type,S=['DimensionValues','MeasureValues'];
function c(d,l){var o=d[0];var e=o.parsed.callbacks.Highlight||[];var L=o.parsed.legend;var r=[];r.push({callback:e,properties:{color:C.EMPHASIS.Highlight},displayName:L.Highlight});var O={properties:{color:C.EMPHASIS.Others},displayName:L.Others};return{rules:r,others:O};}
function g(d,l){return function(){var p={plotArea:{dataPointStyle:c(d)}};return{properties:p};};}
return{getCandidateSetting:function(o,A,d,e,s,f,l){var E=o.Emphasis||{},p=A.parameters||{};var u=a.dimOrMsrUse(E,p,S,'Emphasis');var h;switch(u){case'DimensionValues':var i=p.dimension||Object.keys(E.DimensionValues);if(t(i)==='string'){i=[i];}h=D.qualify(E.DimensionValues,i,e,f);if(h){h.parsed=D.parse(h,l);h.ruleGenerator=g([h]);}break;default:return{};}if(h.length){h.subType=u;}return h;}};});
sap.ui.predefine('sap/chart/coloring/gradation/Gradation',['sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureValues','sap/chart/coloring/gradation/DelineatedMeasures','sap/chart/coloring/gradation/DelineatedDimensionValues','sap/chart/coloring/ColorPalette','sap/chart/coloring/ColoringUtils','sap/chart/data/MeasureSemantics','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(R,D,a,C,b,M,c,q){"use strict";var t=q.type;var S=['DelineatedDimensionValues','RankedMeasureValues','DelineatedMeasures'];
function g(f){return function(){var h,p;if(f.bMBC){h=R.createScales(f);}else{var r=d(f);p={plotArea:{dataPointStyle:{rules:r}}};}return{colorScale:h,properties:p};};}
function d(f){var r=[];f.forEach(function(o,i){if(o.chartLog){throw o.chartLog;}var s=o.dim;var l=o.setting[s].Levels;var p=C.GRADATION.SingleColorScheme[o.parsed.singleColorScheme];p=b.assignColor(p,l.length);if(o.parsed.saturation==='DarkToLight'){p=p.reverse();}l.forEach(function(m,i){var h={callback:o.parsed.callbacks[m],properties:{color:p[i]},displayName:o.parsed.legend[m]};if(f.bIsLine){h.properties.lineColor=h.properties.color;}r.push(h);});});return r;}
function e(T,f){var h=[];f.forEach(function(o){var m=o.msr.getName();T.forEach(function(i){Object.keys(M).forEach(function(k){var s=M[k];if(i[s]===m){i.order=[];i.order.push(s);h.push(i);}});});});T.splice(0,T.length);T.push.apply(T,h);}
return{getCandidateSetting:function(o,A,T,f,s,h,l){var G=o.Gradation||{},p=A.parameters||{};var u=b.dimOrMsrUse(G,p,S,'Gradation');var i={};var Q;switch(u){case'RankedMeasureValues':var j=p.measure||Object.keys(G.RankedMeasureValues);if(t(j)==='string'){j=[j];}Q=R.qualify(G.RankedMeasureValues,j,f,h);if(Q&&Q.sMethod){Q.forEach(function(n){n.parsed=R.parse(n);});i.contextHandler=R.getContextHandler(Q);i.qualifiedSettings=Q;i.ruleGenerator=g(Q);Q.bMBC=h.bMBC;}break;case'DelineatedMeasures':Q=D.qualify(G.DelineatedMeasures,T,f,h);if(Q){i.qualifiedSettings=Q;Q.forEach(function(n){n.type=u;n.parsed=D.parse(n);});e(T,Q);}break;case'DelineatedDimensionValues':var k=p.dimension||Object.keys(G.DelineatedDimensionValues).filter(function(n){return n!=='SingleColorScheme'&&n!=='Saturation';});if(t(k)==='string'){k=[k];}Q=a.qualify(G.DelineatedDimensionValues,k,T,f,h);if(Q){i.qualifiedSettings=Q;Q.parsed=a.parse(Q);i.contextHandler=a.getContextHandler(Q);var m=[Q];i.ruleGenerator=g(m);m.bIsLine=h.bIsLine;}break;default:return{};}if(Q&&Q.length){i.subType=u;}return i;}};});
sap.ui.predefine('sap/chart/data/Dimension',["sap/ui/core/Element","sap/chart/utils/ChartUtils","sap/ui/thirdparty/jquery"],function(E,C,q){"use strict";var _={category:true,category2:true,series:true};
var D=E.extend("sap.chart.data.Dimension",{metadata:{library:"sap.chart",properties:{name:{type:"string"},label:{type:"string"},textFormatter:{type:"function"},textProperty:{type:"string"},displayText:{type:"boolean",defaultValue:true},role:{type:"string",defaultValue:"category"}}}});
D.prototype.setLabel=C.makeNotifyParentProperty("label");D.prototype.setTextFormatter=C.makeNotifyParentProperty("textFormatter");var t=C.makeNotifyParentProperty("textProperty");
D.prototype.setTextProperty=function(v,s){return t.apply(this,arguments);};
D.prototype.setDisplayText=C.makeNotifyParentProperty("displayText");var r=C.makeNotifyParentProperty("role");
D.prototype.setRole=function(v,s){if(!_[v]){q.error("Invalide Dimension role: "+v);}return r.apply(this,arguments);};
D.prototype._getFixedRole=function(){return this._sFixedRole||this.getRole();};
return D;});
sap.ui.predefine('sap/chart/data/DimensionRoleType',function(){"use strict";var D={category:"category",series:"series",category2:"category2"};return D;},true);
sap.ui.predefine('sap/chart/data/HierarchyDimension',["sap/chart/data/Dimension","sap/chart/utils/ChartUtils"],function(D,C){"use strict";
var H=D.extend("sap.chart.data.HierarchyDimension",{metadata:{library:"sap.chart",properties:{level:{type:"int",defaultValue:0}}}});
H.prototype.setLevel=C.makeNotifyParentProperty("level");
H.prototype._getEffectiveLevel=function(){if(this._iEffectiveLevel==null){return this.getLevel();}else{return this._iEffectiveLevel;}};
return H;});
sap.ui.predefine('sap/chart/data/Measure',["sap/ui/core/Element","sap/chart/utils/ChartUtils","sap/chart/data/MeasureSemantics","sap/ui/thirdparty/jquery"],function(E,C,M,q){"use strict";var _={axis1:true,axis2:true,axis3:true,axis4:true};
var a=E.extend("sap.chart.data.Measure",{metadata:{library:"sap.chart",properties:{name:{type:"string"},label:{type:"string"},unitBinding:{type:"string"},valueFormat:{type:"string",defaultValue:null},role:{type:"string",defaultValue:"axis1"},semantics:{type:"sap.chart.data.MeasureSemantics",defaultValue:M.Actual},semanticallyRelatedMeasures:{type:"object",defaultValue:null},analyticalInfo:{type:"object",defaultValue:null}}}});
a.prototype.setLabel=C.makeNotifyParentProperty("label");var r=C.makeNotifyParentProperty("role");
a.prototype.setRole=function(v,s){if(!_[v]){q.error("Invalide Measure role: "+v);}return r.apply(this,arguments);};
a.prototype.setUnitBinding=C.makeNotifyParentProperty("unitBinding");a.prototype.setValueFormat=C.makeNotifyParentProperty("valueFormat");a.prototype.setSemantics=C.makeNotifyParentProperty("semantics");a.prototype.setSemanticallyRelatedMeasures=C.makeNotifyParentProperty("semanticallyRelatedMeasures");
a.prototype._getFixedRole=function(){return this._sFixedRole||this.getRole();};
return a;});
sap.ui.predefine('sap/chart/data/MeasureRoleType',function(){"use strict";var M={axis1:"axis1",axis2:"axis2",axis3:"axis3",axis4:"axis4"};return M;},true);
sap.ui.predefine('sap/chart/data/MeasureSemantics',function(){"use strict";var M={Actual:"actual",Reference:"reference",Projected:"projected"};return M;},true);
sap.ui.predefine('sap/chart/data/TimeDimension',["sap/chart/data/Dimension","sap/chart/utils/ChartUtils"],function(D,C){"use strict";
var T=D.extend("sap.chart.data.TimeDimension",{metadata:{library:"sap.chart",properties:{timeUnit:{type:"sap.chart.TimeUnitType"},fiscalYearPeriodCount:{type:"object"},projectedValueStartTime:{type:"any"}}}});
T.prototype.setTimeUnit=C.makeNotifyParentProperty("timeUnit");T.prototype.setFiscalYearPeriodCount=C.makeNotifyParentProperty("fiscalYearPeriodCount");T.prototype.setProjectedValueStartTime=C.makeNotifyParentProperty("projectedValueStartTime");return T;});
sap.ui.predefine('sap/chart/library',['sap/viz/ui5/format/ChartFormatter','sap/ui/core/library','sap/viz/library','sap/chart/utils/RoleFitter','sap/chart/utils/ChartTypeAdapterUtils','sap/chart/ChartType','sap/chart/data/Dimension','sap/chart/data/Measure','sap/chart/AutoScaleMode','sap/chart/ScaleBehavior','sap/chart/data/MeasureSemantics','sap/chart/coloring/CriticalityType','sap/chart/ColoringType','sap/chart/data/DimensionRoleType','sap/chart/data/MeasureRoleType'],function(C,c,v,R,a,b,D,M,A,S,d){"use strict";sap.ui.getCore().initLibrary({name:"sap.chart",dependencies:["sap.ui.core","sap.viz"],types:["sap.chart.data.MeasureSemantics"],interfaces:[],controls:["sap.chart.Chart"],elements:["sap.chart.data.Dimension","sap.chart.data.TimeDimension","sap.chart.data.HierarchyDimension","sap.chart.data.Measure"],noLibraryCSS:true,version:"1.64.0"});sap.chart.SelectionMode={Multi:"MULTIPLE",Single:"SINGLE",None:"NONE"};sap.chart.SelectionBehavior={DataPoint:"DATAPOINT",Category:"CATEGORY",Series:"SERIES"};sap.chart.MessageId={NoData:"NO_DATA",MultipleUnits:"MULTIPLE_UNITS"};sap.chart.api={};
sap.chart.api.getChartTypes=function(){var B=sap.ui.getCore().getLibraryResourceBundle("sap.chart.messages");return Object.keys(sap.chart.ChartType).reduce(function(m,s){var f=sap.chart.ChartType[s];m[f]=B.getText("info/"+f);return m;},{});};
sap.chart.data=sap.chart.data||{};sap.chart.coloring=sap.chart.coloring||{};sap.chart.coloring.ImprovementDirectionType={Minimize:"Minimize",Target:"Target",Maximize:"Maximize"};sap.chart.coloring.GradationSingleColorScheme={NoSemantics:"NoSemantics",Positive:"Positive",Negative:"Negative"};sap.chart.coloring.GradationDivergingColorScheme={NoSemantics:"NoSemantics",PositiveToNegative:"PositiveToNegative",NegativeToPositive:"NegativeToPositive",ColdToHot:"ColdToHot",HotToCold:"HotToCold"};sap.chart.coloring.GradationTargetColorScheme={PositiveTarget:"PositiveTarget"};sap.chart.coloring.GradationSaturation={LightToDark:"LightToDark",DarkToLight:"DarkToLight"};
sap.chart.api.getChartTypeLayout=function(s,f,m){var g,h;if(!s){throw new Error("Invalid chart type: "+String(s));}if(f){g=f.map(function(k,i){if(k instanceof D){return k;}else if(k&&(k.name)){return{getName:function(){return k.name;},getRole:function(){return k.role||"category";}};}else{throw new Error("Invalid Dimension at ["+i+"]: "+String(k)+". Dimension should be an object of the format{name:'name'} or an instance of sap.chart.data.Dimension.");}});}else{g=[];}if(m){h=m.map(function(k,i){if(k instanceof M){return k;}else if(k&&k.name){return{getName:function(){return k.name;},getRole:function(){return k.role||"axis1";}};}else{throw new Error("Invalid Measure at ["+i+"]: "+String(k)+". Measure should be an object of the format{name:'name'} or an instance of sap.chart.data.Measure.");}});}else{h=[];}var j=a.adaptChartType(s,g);var o=R.compatible(j,g,h);return{dimensions:o.used.Dimension||[],measures:o.used.Measure||[],errors:Object.keys(o.error||{}).reduce(function(E,i){return E.concat({cause:i,detail:o.error[i]});},[])};};
var e=C.getInstance();if(!(sap.viz.api.env.Format.numericFormatter()instanceof C)){sap.viz.api.env.Format.numericFormatter(e);}return sap.chart;});
sap.ui.predefine('sap/chart/pagination/PagingController',['sap/ui/model/Sorter',"sap/ui/thirdparty/jquery"],function(S,q){"use strict";var P=500;
function i(b,s,l){var c=b.getContexts(s,l),n;if(c.length===0||c.dataRequested){n=true;}else{n=c.some(function(C){return C===undefined;});}return!n;}
var a=function(c){this._mMeasureRange={};this._iRenderedPageNo=-1;this._bUnderPaging=false;this._iMaxPageNo=-1;this._iRemainingRecords=-1;this._iOffset=null;this._oChart=c;this._bInitialized=false;this._aPagingSorters=null;this._bMinMaxQueried=false;this._oColorTracker=c._oColorTracker;var d=this._oChart._getDataset();if(d){d.setRange(0,P*2);}var v=this._oChart._getVizFrame();v.attachEvent("_scroll",a.prototype._scrollHandler.bind(this));};
a.prototype.bindingChanged=function(){if(!this._bInitialized||!this._bMinMaxQueried){this.init(true);}else if(this.isUnderPaging()){this.paging(this._scrollRatio);}};
a.prototype.reset=function(){this._bInitialized=false;this._iRenderedPageNo=0;this._mMeasureRange={};this._bMinMaxQueried=false;this._oColorTracker.clear();var b=this._oChart.getBinding("data");var d=this._oChart._getDataset();if(!d||!b){return;}var f=this._oChart._prepareFeeds();f._order=f._order.filter(function(F){return F!=="MND"&&this._oChart.getDimensions().map(function(v){return v.getName();}).indexOf(F)>-1;}.bind(this));this._aPagingSorters=null;this._oChart._getVizFrame()._runtimeScales(this._oColorTracker.get(),true);this._oChart._getVizFrame()._readyToRender(false);var l;if(this._oChart.getBindingInfo("data").length){l=Math.min(P*2,this._oChart.getBindingInfo("data").length);}else{l=P*2;}d.setRange(0,l);var V=sap.ui.require("sap/ui/model/odata/v4/ODataModel");if(f._order.length){var s=this._oChart._aFeeds._order.map(function(p){return new S(p);});b.sort(s);this._aPagingSorters=s;}else if(V&&(b.getModel()instanceof V)){b.sort([]);}d.setPagingOption({bEnabled:false});};
a.prototype.getPagingSorters=function(){return this._aPagingSorters;};
a.prototype.isUnderPaging=function(){return!!this._bUnderPaging;};
a.prototype.init=function(n){this._bInitialized=true;this._bUnderPaging=false;var v=this._oChart._getVizFrame();var d=v.getDataset();var b=d.getBinding("data");if(!b){return;}var t=b instanceof sap.ui.model.analytics.AnalyticalBinding?b.getTotalSize():b.getLength();var p;if(t>=0){if(this._oChart.getBindingInfo("data").length){this._iTotalSize=Math.min(this._oChart.getBindingInfo("data").length,t);}else{this._iTotalSize=t;}if(this._iTotalSize>P*2){this._bUnderPaging=true;this._iMaxPageNo=Math.floor(this._iTotalSize/P)-1;this._iRemainingRecords=this._iTotalSize%P;this._iOffset=null;this._iRenderedPageNo=0;var c=P/this._iTotalSize;p={bEnabled:true,sMode:"reset",thumbRatio:c};d.setRange(0,P);if(n){this._bMinMaxQueried=true;var m=this._oChart._oMeasureRangePromise||this._queryMinMax(this._oChart,b);m.then(function(M){this._mMeasureRange=M;this._oChart._invalidateBy({source:this._oChart,keys:{vizFrame:true}});this._oChart.setBusy(false);v._readyToRender(i(b,0,P));}.bind(this));}else{v._readyToRender(i(b,0,P));}this._bUnderPaging=true;}else{this._mMeasureRange={};p={bEnabled:false};this._bUnderPaging=false;d.setRange(0,this._iTotalSize);v._readyToRender(i(b,0,this._iTotalSize));}d.setPagingOption(p);}};
a.prototype.paging=function(r){var c=Math.floor(this._iTotalSize*r/P);var v=this._oChart._getVizFrame();c=Math.min(c,this._iMaxPageNo);this._iOffset=null;var s=Math.max((c-1)*P,0);var l,d;if(c===0){l=P;d=P;}else if(c===this._iMaxPageNo){l=P*2+this._iRemainingRecords;d=P+this._iRemainingRecords;}else{l=P*2;d=P;}this._iOffset=(this._iTotalSize*r-c*P)/d;if(this._iRenderedPageNo===c){var t={plot:{transform:{translate:{translateByPage:{context:this._middleCtx,offset:this._iOffset}}}}};v._states(t);}else{if(this._pagingTimer){clearTimeout(this._pagingTimer);}var D=v.getDataset();var b=D.getBinding("data");this._pagingTimer=setTimeout(function(){D.setRange(s,l);D.setPagingOption({bEnabled:true,sMode:"update",thumbRatio:null});var e=i(b,s,l);if(e){this._iRenderedPageNo=c;D.invalidate();v._readyToRender(true);v.invalidate();this._oColorTracker.add(v._runtimeScales());v._runtimeScales(this._oColorTracker.get(),true);}else{v._readyToRender(false);}}.bind(this),50);this._sLoadingTimer=this._sLoadingTimer||setTimeout(function(){this._oChart._showLoading(true);}.bind(this),200);}};
a.prototype.vizFrameRenderCompleted=function(){if(this._sLoadingTimer){clearTimeout(this._sLoadingTimer);this._sLoadingTimer=null;}this._oChart._showLoading(false);if(!this._bUnderPaging){return;}var v=this._oChart._getVizFrame();var d=v.getDataset();var b=d.getBinding("data");var r=this._iRenderedPageNo;if(r!==0){var m=r*P-1;this._middleCtx=b.getContexts(m,1)[0].getObject();}else{this._middleCtx=null;}if(this._middleCtx||this._iOffset){var t={plot:{transform:{translate:{translateByPage:{context:this._middleCtx,offset:this._iOffset}}}}};v._states(t);}};
a.prototype._scrollHandler=function(e){if(this._oChart._isEnablePaging()){this._scrollRatio=e.getParameters().position;this.paging(this._scrollRatio);}};
a.prototype._queryMinMax=function(c,b){var d=c._getRequiredDimensions().map(function(D){return D.getName();}),m=c._getRequiredMeasures().map(function(M){return M.getName();});var r=m.reduce(function(r,M){r[M]={min:{},max:{}};return r;},{});return new Promise(function(e,f){function g(){var A=m.every(function(s){return r[s].min.requested&&r[s].max.requested;});if(A){e(r);}}function o(s,k,D){r[s][k].requested=true;r[s][k].value=parseFloat(D&&D.results[0][s]);g();}function h(s,k,D){r[s][k].requested=true;r[s][k].error=D;g();}var Q=m.reduce(function(Q,s){return Q.concat({urlParameters:{"$select":d.concat(s).join(","),"$top":1,"$orderby":s+" asc"},success:o.bind(null,s,"min"),error:h.bind(null,s,"min")},{urlParameters:{"$select":d.concat(s).join(","),"$top":1,"$orderby":s+" desc"},success:o.bind(null,s,"max"),error:h.bind(null,s,"max")});},[]);var p=b.getPath(),M=b.getModel();Q.forEach(function(j){M.read(p,j);});}).then(function(Q){var M={};q.each(Q,function(s,r){M[s]={min:r.min.value,max:r.max.value};});return M;});};
a.prototype.getMeasureRange=function(){return this._mMeasureRange;};
return a;});
sap.ui.predefine('sap/chart/utils/ChartTypeAdapterUtils',['sap/chart/utils/ChartUtils'],function(C){"use strict";var a={};
function t(c,d){var h=d.some(function(D){return D instanceof sap.chart.data.TimeDimension;});if(h){return C.CONFIG.oAdapteredChartTypes[c];}else{return c;}}
a.adaptChartType=function(c,d){if(C.CONFIG.oAdapteredChartTypes[c]){return t(c,d);}else{return c;}};
return a;});
sap.ui.predefine('sap/chart/utils/ChartUtils',['sap/chart/ChartType',"sap/base/util/deepEqual"],function(C,d){"use strict";var _={chartTypes:[C.Bar,C.Column,C.Line,C.Combination,C.Pie,C.Donut,C.Scatter,C.Bubble,C.Heatmap,C.Bullet,C.VerticalBullet,C.StackedBar,C.StackedColumn,C.StackedCombination,C.HorizontalStackedCombination,C.DualBar,C.DualColumn,C.DualLine,C.DualStackedBar,C.DualStackedColumn,C.DualCombination,C.DualHorizontalCombination,C.DualStackedCombination,C.DualHorizontalStackedCombination,C.PercentageStackedBar,C.PercentageStackedColumn,C.PercentageDualStackedBar,C.PercentageDualStackedColumn,C.Waterfall,C.HorizontalWaterfall],pagingChartTypes:[C.Bar,C.Column,C.Line,C.Combination,C.Bullet,C.VerticalBullet,C.StackedBar,C.StackedColumn,C.StackedCombination,C.HorizontalStackedCombination,C.DualBar,C.DualColumn,C.DualLine,C.DualStackedBar,C.DualStackedColumn,C.DualCombination,C.DualHorizontalCombination,C.DualStackedCombination,C.DualHorizontalStackedCombination,C.PercentageStackedBar,C.PercentageStackedColumn,C.PercentageDualStackedBar,C.PercentageDualStackedColumn],timeChartTypes:["timeseries_line","timeseries_column","timeseries_bubble","timeseries_scatter","timeseries_combination","dual_timeseries_combination","timeseries_bullet","timeseries_stacked_column","timeseries_100_stacked_column","timeseries_waterfall"],oAdapteredChartTypes:{"line":"timeseries_line","column":"timeseries_column","scatter":"timeseries_scatter","bubble":"timeseries_bubble","combination":"timeseries_combination","dual_combination":"dual_timeseries_combination","vertical_bullet":"timeseries_bullet","stacked_column":"timeseries_stacked_column","100_stacked_column":"timeseries_100_stacked_column","waterfall":"timeseries_waterfall"},nonSemanticPatternChartType:[C.Pie,C.Donut,C.PercentageDonut,C.Scatter,C.Bubble,C.Heatmap,C.Waterfall,C.HorizontalWaterfall,"timeseries_bubble","timeseries_scatter","timeseries_waterfall"],lineChartType:[C.Line,C.DualLine,'timeseries_line']};return{CONFIG:_,makeNotifyParentProperty:function(p){return function(v,s){var o=this.mProperties[p];v=this.validateProperty(p,v);if(d(o,v)){return this;}this.setProperty(p,v,s);if(s){return this;}var P=this.getParent();if(P&&typeof P._invalidateBy==="function"){P._invalidateBy({source:this,property:p,oldValue:o,newValue:v});}return this;};},isStackedLikeChart:function(c){return c.indexOf('stacked')>=0||c.indexOf('waterfall')>=0;},isBulletChart:function(c){return c.indexOf('bullet')>=0;}};});
sap.ui.predefine('sap/chart/utils/DataSourceUtils',['sap/chart/data/Dimension','sap/chart/data/TimeDimension','sap/chart/data/HierarchyDimension','sap/chart/data/Measure','sap/chart/TimeUnitType',"sap/ui/thirdparty/jquery"],function(D,T,H,M,a,q){"use strict";
function g(i,B){var p=B.path;var n=(B.parameters||{}).entitySet;if(!n){n=p.split("/")[1];if(n.indexOf("(")!=-1){n=n.split("(")[0]+(i?"Results":"Set");}}return n;}
function _(r,s,t){return"{/#"+r+"/"+s+"/@sap:"+t+"}";}
var b={"com.sap.vocabularies.Common.v1.IsCalendarDate":"yearmonthday","com.sap.vocabularies.Common.v1.IsCalendarYearQuarter":"yearquarter","com.sap.vocabularies.Common.v1.IsCalendarYearMonth":"yearmonth","com.sap.vocabularies.Common.v1.IsCalendarYearWeek":"yearweek","com.sap.vocabularies.Common.v1.IsFiscalYear":"fiscalyear","com.sap.vocabularies.Common.v1.IsFiscalYearPeriod":"fiscalyearperiod"};
function d(p,C){var h=D;if(p.type==="Edm.DateTime"&&p['sap:display-format']==="Date"){h=T;C.timeUnit=a.Date;}else if(p['sap:hierarchy-node-for']){h=H;}else if(p.type==="Edm.String"){var t=Object.keys(b);for(var i=0;i<t.length;i++){var j=t[i];if(p[j]&&p[j].Bool){var k=b[j];if(a[k]){h=T;C.timeUnit=k;}break;}}}return h;}
var c={getEntitySet:g.bind(null,true),deriveColumns:function(m,B){var r=m.getAnalyticalExtensions().findQueryResultByName(c.getEntitySet(B));if(!r){throw new Error("value of the \"isAnalytical\" property does not match the Data Service in use");}var R=r.getEntityType().getQName();R=R.slice(R.lastIndexOf(".")+1);var s=r.getEntityType().getSchema().namespace;var h=c.makeDimension.bind(this,R,s,r);var i=c.makeMeasure.bind(this,R);var j=r.getEntityType().getAllHierarchyPropertyNames().map(function(l){return r.findDimensionByPropertyName(l).getHierarchy().getNodeIDProperty().name;});var k=r.getAllDimensionNames().concat(j);return{dimensions:q.map(k,h),measures:q.map(r.getAllMeasures(),i)};},makeDimension:function(r,R,o,s){var C={name:s,label:_(r,s,"label"),textProperty:_(r,s,"text")};var A=c.ANNOTATION_ACCESS_TEMPLATE.replace(/%SCHEMANS/,R).replace(/%RESULTTYPE/,r).replace(/%DIMENSION/,s);var u=o.getModel().getODataModel().getMetaModel().getProperty(A);var h=d(u,C);return new h(C);},makeMeasure:function(r,m){return new M({name:m.getName(),label:_(r,m.getName(),"label")});},updateModel:function(C){function h(s,t,u,v){var l=[];var w={name:s.getName(),grouped:false,inResult:!!u,visible:!v};if(t!=null){w.level=t;}l.push(w);var x=s.getTextProperty();if(s.getDisplayText()&&x){w={name:x,grouped:false,inResult:!!u,visible:!v};l.push(w);}return l;}function i(s,k){var u=s.getUnitBinding(),E=C._isEnablePaging(),A=s.getAnalyticalInfo(),l=[];if(A){l.push({name:A.propertyPath,"with":A.with,as:s.getName(),total:false});}else{l.push({name:s.getName(),total:false,inResult:false,visible:true});}var V=sap.ui.require("sap/ui/model/odata/v4/ODataModel");if(E&&V&&(C.getModel()instanceof V)){l[0].min=true;l[0].max=true;}if(u&&k.indexOf(u)===-1){l.push({name:u,inResult:false,visible:true});}return l;}var B=C.getBinding("data");if(!B){return;}var j=C._getVisibleDimensions(true);var m=C._getVisibleMeasures(true);var I=C._normalizeDorM(C.getInResultDimensions(),true);var o=C._getDrillStateTop().hierarchylevel;var k=j.map(function(s){return s.getName();}).concat(I.map(function(s){return s.getName();})).concat(m.map(function(s){return s.getName();}));var l=j.reduce(function(l,s){return l.concat(h(s,o[s.getName()]));},[]).concat(I.reduce(function(l,s){var t=s instanceof H?s.getLevel():null;return l.concat(h(s,t,true,true));},[])).concat(m.reduce(function(l,s){return l.concat(i(s,k));},[]));var n=C._getCandidateColoringSetting();var p=n.additionalMeasures||[];var r=n.additionalDimensions||[];if(p.length){l=l.concat(C._normalizeDorM(p).reduce(function(s,t){return s.concat(i(t));},[]));}if(r.length){l=l.concat(C._normalizeDorM(r,true).reduce(function(s,t){return s.concat(h(t,o[t.getName()]));},[]));}var R=B.updateAnalyticalInfo(l);return R&&R.measureRangePromise;},ANNOTATION_ACCESS_TEMPLATE:"/dataServices/schema/[${"+"namespace"+"}==='%SCHEMANS']/entityType/[${"+"name"+"}==='%RESULTTYPE']/property/[${"+"name"+"}==='%DIMENSION']/"};var e={getEntitySet:g.bind(null,false),deriveColumns:function(m,B){var o=m.getMetaModel(),C={dimensions:[],measures:[]};if(o){var Q=o.getODataEntitySet(e.getEntitySet(B)).entityType;var E=o.getODataEntityType(Q);q.each(E.property,function(i,p){var h=e.CLAZZ[p.type];if(!h){throw new Error("Unsupported type: "+p.type);}var j={name:p.name};if(p.hasOwnProperty("com.sap.vocabularies.Common.v1.Label")){j.label=p["com.sap.vocabularies.Common.v1.Label"].String;}if(h===M){C.measures.push(new h(j));}else{if(p.hasOwnProperty("com.sap.vocabularies.Common.v1.Text")){j.textProperty=p["com.sap.vocabularies.Common.v1.Text"].Path;}h=d(p,j);C.dimensions.push(new h(j));}});}return C;},CLAZZ:{"Null":D,"Edm.Binary":D,"Edm.Boolean":D,"Edm.Byte":M,"Edm.DateTime":D,"Edm.Decimal":M,"Edm.Double":M,"Edm.Single":M,"Edm.Guid":D,"Edm.Int16":M,"Edm.Int32":M,"Edm.Int64":M,"Edm.SByte":M,"Edm.String":D,"Edm.Time":D,"Edm.DateTimeOffset":D},updateModel:function(C,h,m){if(C.getModel()instanceof sap.ui.model.odata.ODataModel){var i=h.reduce(function(i,o){if(o.getTextProperty()){return i.concat(o.getName(),o.getTextProperty());}else{return i.concat(o.getName());}},[]);var j=m.reduce(function(j,o){if(o.getUnitBinding()){return j.concat(o.getName(),o.getUnitBinding());}else{return j.concat(o.getName());}},[]);C._oBindingInfo.parameters=C._oBindingInfo.parameters||{};C._oBindingInfo.parameters.entitySet=e.getEntitySet(C._oBindingInfo);C._oBindingInfo.parameters.select=i.concat(j).join(",");C.bindData(C._oBindingInfo);if(C._isEnablePaging()&&C._getPagingController().getPagingSorters()){C.getBinding("data").sort(C._getPagingController().getPagingSorters());}}else{return;}}};
function f(m){return function(i){var h=i?c:e;return h[m];};}
return{deriveColumns:f("deriveColumns"),updateModel:f("updateModel"),getEntitySet:f("getEntitySet")};});
sap.ui.predefine('sap/chart/utils/DateFormatUtil',['sap/chart/TimeUnitType','sap/ui/core/format/DateFormat'],function(T,D){"use strict";var P={};P[T.yearmonthday]="yyyyMMdd";P[T.yearquarter]="yyyyQQQQQ";P[T.yearmonth]="yyyyMM";P[T.yearweek]="yyyyww";
function g(t){var p=P[t];if(p){return D.getDateInstance({pattern:p});}else{return null;}}
return{getInstance:g};});
sap.ui.predefine('sap/chart/utils/MeasureSemanticsUtils',['sap/chart/coloring/ColoringUtils','sap/chart/coloring/ColorPalette','sap/chart/data/MeasureSemantics','sap/chart/coloring/CriticalityType','sap/chart/ChartLog','sap/chart/ColoringType','sap/chart/coloring/criticality/Criticality','sap/chart/utils/ChartUtils',"sap/ui/thirdparty/jquery"],function(C,c,M,d,f,g,h,j,q){"use strict";var k=['sapUiChartPaletteQualitativeHue1','sapUiChartPaletteQualitativeHue2','sapUiChartPaletteQualitativeHue3','sapUiChartPaletteQualitativeHue4','sapUiChartPaletteQualitativeHue5','sapUiChartPaletteQualitativeHue6','sapUiChartPaletteQualitativeHue7','sapUiChartPaletteQualitativeHue8','sapUiChartPaletteQualitativeHue9','sapUiChartPaletteQualitativeHue10','sapUiChartPaletteQualitativeHue11','sapUiChartPaletteQualitativeHue12','sapUiChartPaletteQualitativeHue13','sapUiChartPaletteQualitativeHue14','sapUiChartPaletteQualitativeHue15','sapUiChartPaletteQualitativeHue16','sapUiChartPaletteQualitativeHue17','sapUiChartPaletteQualitativeHue18','sapUiChartPaletteQualitativeHue19','sapUiChartPaletteQualitativeHue20','sapUiChartPaletteQualitativeHue21','sapUiChartPaletteQualitativeHue22'],D=[['sapUiChartPaletteSequentialHue1','sapUiChartPaletteSequentialHue1Light2','sapUiChartPaletteSequentialHue1Dark1'],['sapUiChartPaletteSequentialHue2','sapUiChartPaletteSequentialHue2Light2','sapUiChartPaletteSequentialHue2Dark1']],S='sapUiChartPaletteSequentialNeutralDark2',l='sapUiChartPaletteSemanticNeutral',L={actual:'solid',projected:'dash',reference:'dot'},P={projected:'diagonalLightStripe',reference:'noFill'};var m=[d.Positive,d.Neutral,d.Critical,d.Negative];
function r(a){var R={};if(a.getSemanticallyRelatedMeasures){var b=a.getSemanticallyRelatedMeasures();if(b){if(b.projectedValueMeasure){R.projected=b.projectedValueMeasure;}if(b.referenceValueMeasure){R.reference=b.referenceValueMeasure;}return R;}}return R;}
function n(a,I){var b=a.reduce(function(b,e){b[e.getName()]={msr:e,sem:(e.getSemantics&&e.getSemantics())||"actual",rel:r(e)};return b;},{});q.each(b,function(x,y){if(y.sem==="actual"){q.each(y.rel,function(G,T){if(b[T]&&b[T].sem!==G){delete y.rel[G];var H=new f("error","Semantic Pattern",T+" shouldn't be used as "+G+" in semantic relation. ");H.display();}});}});if(I){for(var i=0;i<I.length;i++){var e=I[i];var R=r(e);if(R.projected&&R.reference&&b[R.projected]&&b[R.reference]){b[R.projected]={msr:e,sem:'projected',rel:{reference:R.reference}};}}}return b;}
function o(e,i,x){var T=[],y=0,G;var H;if(!x){H=e.slice().sort(function(a,b){var I=i[a.getName()].sem,J=i[b.getName()].sem;if(I<J){return-1;}else if(I>J){return 1;}else{return e.indexOf(a)-e.indexOf(b);}});}else{H=q.extend(true,{},e);}q.each(H,function(a,b){var N=b.getName();if(!i[N]){return;}var I=i[N];var J={};var K;J[x?'actual':I.sem]=N;if(b.getLabel){K=b.getLabel();if(K){J.labels={};J.labels[I.sem]=K;}}J.index=y++;if(!x&&(I.sem==="actual"||I.sem==="projected")){if(I.rel.projected){if(i[I.rel.projected]){J.projected=I.rel.projected;if(i[I.rel.projected].msr.getLabel){K=i[I.rel.projected].msr.getLabel();if(K){J.labels=q.extend(true,J.labels,{projected:K});}}delete i[I.rel.projected];}else{G=new f('error','Semantic Pattern',I.msr.getName()+' has an invalid projected semantic relation.');G.display();}}if(I.rel.reference){if(i[I.rel.reference]){J.reference=I.rel.reference;if(i[I.rel.reference].msr.getLabel){K=i[I.rel.reference].msr.getLabel();if(K){J.labels=q.extend(true,J.labels,{reference:K});}}delete i[I.rel.reference];}else{G=new f('error','Semantic Pattern',I.msr.getName()+' has an invalid reference semantic relation.');G.display();}}delete i[N];}J.order=[M.Actual,M.Projected,M.Reference];T.push(J);});return T;}
var p=function(a,b){if(!a.dataPointStyle){a=q.extend(true,a,{"dataPointStyle":{"rules":[],others:null}});}a.dataPointStyle.rules.push(b);};var s=function(a,i,b){var e,x;if(a.indexOf('dual')===-1){x=k;e=k.length;}else{var y=(b==='valueAxis')?0:1;x=D[y];e=x.length;}return{actual:x[i%e],projected:x[i%e],reference:x[i%e]};};var t=function(T,a,b){if(T.projectedValueStartTime&&T.timeAxis&&a!==M.Reference){b=b||function(){return true;};var i=function(e){return e.hasOwnProperty(T.semanticMsrName);};if(a===M.Actual){return function(e){return b(e)&&i(e)&&(new Date(e[T.timeAxis]).getTime()<T.projectedValueStartTime);};}else if(a===M.Projected){return function(e){return b(e)&&i(e)&&(new Date(e[T.timeAxis]).getTime()>=T.projectedValueStartTime);};}}else{b=b||function(e){return e.hasOwnProperty(T[a]);};return b;}};var u=function(T,a,b,e){var i,x;if(a){if(T.iUnMentionedIndex==undefined){x=l;}else{i=C.assignUnmentionedColor(c.CRITICALITY.Neutral,e.unMentionedTuplesNumber);x=i[T.iUnMentionedIndex];}}else{if(b===M.Reference&&e.hasSingleReference){x=S;}else{i=s(e.chartType,T.index,T.valueAxisID);x=i[b];}}return x;};var v=function(a,T,b){var i=false;if(a.chartType.indexOf('combination')>-1){if(a.chartType.indexOf('timeseries')>-1){if(T.index!==0||T.valueAxisID!=='valueAxis'){i=true;}else{if(T.hasOwnProperty('actual')){if((!T.projectedValueStartTime&&b!=='actual')||b==='reference'){i=true;}}}}else{if(b!=='actual'){i=true;}}}return i;};var w=function(T,a,b,e,i){var x,y,G={},H;var I=T[b];var J;(a||[]).forEach(function(U){if(U.parsed.msr&&U.parsed.msr.getName()===I){y=U.parsed;J=U.type;}});var K=(T.labels&&T.labels[b])?T.labels[b]:I;if(T.semanticMsrName&&(b===M.Actual||b===M.Projected)){G[T.semanticMsrName]=K;}if(y){var N=m,O,Q=0;if(a.Levels){N=a.Levels;O=c.GRADATION.SingleColorScheme[a.SingleColorScheme];Q=N.length;}N.forEach(function(U,V){var W=y.callbacks[U];if(W){var R=t(T,b,W[0]);var X=C.assignColor(O||c.CRITICALITY[U],Q||W.length);if(a.Saturation==='DarkToLight'){X=X.reverse();}x=X[Q===0?0:V];H={"color":x,"pattern":P[b]};if(j.CONFIG.lineChartType.indexOf(i.chartType)>-1){H.lineType=L[b];if(J==='Static'||J==='DelineatedMeasures'){H.lineColor=x;}}if(v(i,T,b)){if(b==='projected'){H.pattern='';}H.lineType=L[b];if(J==='Static'){H.lineColor=x;}}p(e,{"callback":R,"properties":H,"displayName":y.legend[U],"dataName":G});}});}else{if(!a||a.bShowUnmentionedMsr){var R=t(T,b);x=u(T,a,b,i);H={'color':x,"pattern":P[b]};if(j.CONFIG.lineChartType.indexOf(i.chartType)>-1){H.lineType=L[b];H.lineColor=x;}if(v(i,T,b)){if(b==='projected'){H.pattern='';}H.lineType=L[b];H.lineColor=x;}p(e,{"callback":R,"properties":H,"displayName":K,"dataName":G});}}};var z=function(a){return a.reference&&(!(a.actual||a.projected));};var A=function(T,a,b,e){var i=(T.filter(function(x){return x.reference;}).length===1);var U=T.filter(function(x){return x.hasOwnProperty('iUnMentionedIndex');}).length;T.forEach(function(x){x.order.forEach(function(y){var N=true;if(e.indexOf('bullet')>-1){N=(y!==M.Reference||z(x));}if(x.hasOwnProperty(y)&&N){var G={chartType:e,hasSingleReference:i,unMentionedTuplesNumber:U};w(x,a,y,b,G);}});});};var B=function(a,b,i,x,y,G){i=i||{};var H=(i.type===g.Criticality&&i.subType==="MeasureValues"&&!(i.qualifiedSettings&&i.qualifiedSettings.bMBC));var I=i.type===g.Gradation&&i.subType==="DelineatedMeasures";var J={};if(!y){J.plotArea={dataPointStyle:null};}if(!G){J.legend={title:{text:null,visible:a.indexOf('waterfall')>-1?true:false}};}else{J.legend={};}var K,N=true;if((x&&E(b))||H||I){var O=H||I?i.qualifiedSettings:null;A(b,O,J.plotArea,a);q.extend(true,J.legend,h.getLegendProps(O));}else if(i.ruleGenerator){try{var Q=i.ruleGenerator();q.extend(true,J,Q.properties);K=Q.colorScale;}catch(e){if(e instanceof f){e.display();}else{throw e;}}}if(K){N=false;}return{properties:J,scales:K?[K]:[],replaceColorScales:N};};
function E(T){if(T){return T.some(function(a){return a.hasOwnProperty(M.Projected)||a.hasOwnProperty(M.Reference);});}return false;}
function F(a,b){var e;var G;if(a){G=a.slice(0);G.sort(function(x,y){return x.index>y.index?1:-1;});}if(b.indexOf('combination')>-1&&a){var I=true;for(var i=0;i<G.length;i++){if(G[i].hasOwnProperty('projected')||G[i].hasOwnProperty('reference')){I=false;break;}}var H=[];var J=[];if(!I){G.forEach(function(T){T.order.forEach(function(x){if(T.hasOwnProperty(x)){if(T.valueAxisID==='valueAxis'){H.push((x==='actual')?"bar":"line");}else{J.push((x==='actual')?"bar":"line");}}});});}else{return;}e={'plotArea':{'dataShape':{'primaryAxis':H,'secondaryAxis':J}}};}return e;}
return{getTuples:function(a,i,b){return o(a,n(a,i),b);},getSemanticVizSettings:B,hasSemanticRelation:E,getSemanticSettingsForCombination:F};});
sap.ui.predefine('sap/chart/utils/RoleFitter',['sap/viz/ui5/data/DimensionDefinition','sap/viz/ui5/data/MeasureDefinition','sap/viz/ui5/controls/common/feeds/FeedItem','sap/viz/ui5/controls/common/feeds/AnalysisObject','sap/chart/TimeUnitType','sap/chart/utils/DateFormatUtil','sap/chart/utils/ChartUtils','sap/chart/utils/RoleMapper','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(D,M,F,A,T,a,C,R,b,q){"use strict";var s=function(){return sap.viz.vizservices.BVRService.suggestFeeds.apply(null,arguments);};var c=function(f,i){var r=sap.viz.vizservices.FeedService.validate(f,i);if(!r.valid){var k=r.results?r.results.bindings:null;if(k&&Object.keys(k).every(function(m){return k[m].allowMND&&(!k[m].missing||k[m].missing===1)&&!k[m].incorrect;})){return{valid:true};}}return r;};var _=[{"types":"*","toViz":{"category|category2":"categoryAxis","series":"color","axis1|axis2|axis3|axis4":"valueAxis"}},{"types":"column|bar|stacked_bar|stacked_column|line|combination|100_stacked_bar|100_stacked_column|stacked_combination|horizontal_stacked_combination","toViz":{}},{"types":"scatter|bubble|time_bubble|timeseries_scatter|timeseries_bubble","toViz":{"category|category2":"@context","axis1":"valueAxis","axis2":"valueAxis2"}},{"types":"bubble|time_bubble","toViz":{"axis3":"bubbleWidth"}},{"types":"pie|donut|100_donut","toViz":{"category|series|category2":"color","axis1|axis2|axis3|axis4":"size"}},{"types":"bullet|vertical_bullet","toViz":{"axis1|axis2|axis3|axis4":"@semanticBulletMsrs"}},{"types":"dual_combination|dual_horizontal_combination|dual_stacked_bar|100_dual_stacked_bar|dual_stacked_column|100_dual_stacked_column|dual_bar|dual_column|dual_line|dual_stacked_combination|dual_horizontal_stacked_combination","toViz":{"axis1":"valueAxis","axis2|axis3|axis4":"valueAxis2"}},{"types":"timeseries_line|timeseries_column|timeseries_combination|timeseries_stacked_column|timeseries_100_stacked_column","toViz":{"category":"timeAxis"}},{"types":"timeseries_scatter","toViz":{"category":R,"axis2|axis3":false}},{"types":"timeseries_bubble","toViz":{"category":R,"axis2":false,"axis3":"bubbleWidth"}},{"types":"dual_timeseries_combination","toViz":{"category":"timeAxis","axis1":"valueAxis","axis2|axis3|axis4":"valueAxis2"}},{"types":"heatmap","toViz":{"category":"categoryAxis","category2|series":"categoryAxis2","axis1|axis2|axis3|axis4":"color"}},{"types":"waterfall|horizontal_waterfall","toViz":{"series":"waterfallType"}},{"types":"timeseries_bullet","toViz":{"category|series":"timeAxis","axis1|axis2|axis3|axis4":"@semanticBulletMsrs"}},{"types":"timeseries_waterfall","toViz":{"category|series":"timeAxis"}}].reduce(function(m,f){var i=Object.keys(f.toViz).reduce(function(i,k){k.split("|").forEach(function(r){i[r]=f.toViz[k];return i;});return i;},{});f.types.split("|").forEach(function(k){if(!m.hasOwnProperty(k)){m[k]=[];}m[k].push(i);});return m;},{});var d=Object.keys(_).reduce(function(m,f){if(f!=="*"){m[f]=q.extend.apply(null,[true,{}].concat(_["*"].concat(_[f])));}return m;},{});
function e(f,k,v){var i=(typeof k==="function")?k:function(o){return o[k];};return f.reduce(function(o,m){var n=i(m),r=(typeof v==="function")?v(m):m;if(n&&!o[n]){o[n]=[r];}else if(n){o[n].push(r);}return o;},{});}
function g(m,f){var o={},r;f.forEach(function(v){var i=v._sFixedRole||v.getRole();if(m.hasOwnProperty(i)){var k=m[i];if(k){if(typeof k==="function"){if(!r){r=new k();}k=r.toFeedingId(v);}if(!o[k]){o[k]=[];}o[k].push(v);}}});return o;}
var L={from:F.fromLightWeightFmt,build:function(o){var f=[];q.each(o.dims,function(k,v){f.push({id:k,type:"Dimension",values:v.map(h("Dimension"))});});q.each(o.msrs,function(k,v){f.push({id:k,type:"Measure",values:v.map(h("Measure"))});});return f;}};
function h(f){return function(o){var i=o.getName();if(i==="MND"){return{id:"MND",type:"MND"};}var k={id:i,name:i,type:f};if(o instanceof sap.chart.data.TimeDimension){k.dataType="Date";}return k;};}
function w(o,p){var n=o.getName(),f=o.getLabel(),i=o.getTextProperty(),k=o.getTextFormatter(),m=o.getDisplayText();var r={identity:n,name:f||n,value:"{"+n+"}"};if(typeof k==="function"){r.displayValue={formatter:k,parts:[{path:n,type:new sap.ui.model.type.String()}]};if(i){r.displayValue.parts.push({path:i,type:new sap.ui.model.type.String()});}}else if(m&&i){r.displayValue="{"+i+"}";}var v=new D(r);if(p&&o instanceof sap.chart.data.TimeDimension){var P=a.getInstance(o.getTimeUnit());if(P){var Q=P.parse.bind(P);v.getBindingInfo("value").formatter=function(V){return Q(V);};}v.setDataType("Date");v._setTimeUnit(o.getTimeUnit());}return v;}
function j(m){var n=m.getName();var o=new M({identity:n,name:m.getLabel()||n,value:"{"+n+"}"});o._setUnitBinding(m.getUnitBinding());return o;}
function l(f,i){var m=sap.viz.api.metadata.Viz.get("info/"+f),k=e(m.bindings,"role"),n=e(i,"id"),o=k["layout.category"]||[],S=k["mark.color"]||[];if(o.length===0){return[];}else{var r=[];q.each(o.concat(S),function(v,P){var Q=n[P.id];if(Q&&Q.length>0){q.each(Q[0].values,function(U,V){r.push(V.id);});}});return r;}}
function p(f){return C.CONFIG.timeChartTypes.indexOf(f)>-1;}
function t(f){return f&&f.indexOf('bullet')>-1;}
function u(i){q.each(i,function(f,m){if(m&&(m.getSemantics&&m.getSemantics()!=='actual'||m.getSemanticallyRelatedMeasures&&!q.isEmptyObject(m.getSemanticallyRelatedMeasures()))){new b('error','Semantic Pattern'," Semantic pattern rule defined in invisible measures doesn't work.").display();}});}
function x(f,i,m,k,n){var r=d[f];var o={dims:g(r,i),msrs:g(r,m)};if(t(f)){o.invisibleMsrs=n;}else{u(n);}var v=null,S=null;if(o.dims["@context"]){v=o.dims["@context"];delete o.dims["@context"];}var P=false;if(!k){if(R.semantics.hasSemanticMeasures(o)){var Q;if(C.CONFIG.nonSemanticPatternChartType.indexOf(f)===-1){Q=new b('error','Semantic Pattern',"Semantic pattern doesn't work when there is dataPointStyle or seriesStyle defined.");P=true;}else{Q=new b('error','Semantic Pattern',f+" doesn't support semantic pattern feature.");P=true;}Q.display();}}S=R.semantics.semanticPatternMsrs(o,f,P);v=(v||[]).concat(S.contexts);var U=L.build(o);U.contexts=v;U.semanticTuples=S.semanticTuples;return U;}
var I=[{chartTypes:"bar,column,line,combination,heatmap,bullet,vertical_bullet,stacked_bar,stacked_column,stacked_combination,horizontal_stacked_combination,dual_bar,dual_column,dual_line,dual_stacked_bar,dual_stacked_column,dual_combination,dual_horizontal_combination,dual_stacked_combination,dual_horizontal_stacked_combination,100_stacked_bar,100_stacked_column,100_dual_stacked_bar,100_dual_stacked_column,waterfall,horizontal_waterfall".split(","),feed:"categoryAxis"},{chartTypes:"donut,100_donut,pie,scatter,bubble".split(","),feed:"color"}];
function y(f,k,m){var i,n;for(i=0;i<I.length;i++){if(I[i].chartTypes.indexOf(f)!==-1){n=I[i].feed;break;}}var o=k.some(function(v){return v.id===n;});if(!o){var r=s("info/"+f,k,[{id:"MND",type:"MND"}]).feedItems;k.splice(0,k.length);r.forEach(function(v){if(v.values.length>0){k.push(v);}});k=J(f,k);}for(i=0;i<k.length;i++){if(k[i].id===n&&k[i].type==="Dimension"){k[i].values=k[i].values.concat(m.map(function(v){return{id:v.getName(),name:v.getName(),type:"Dimension",inResult:true};}));}}return c("info/"+f,k);}
function z(f){f.forEach(function(o){o._sFixedRole=o.getRole();});}
function B(f,i,k){i.forEach(function(o){o.values.forEach(function(m){var n=k.filter(function(n){return n.getName()===m.id;})[0];if(n){q.each(d[f],function(r,v){if(v===o.id){n._sFixedRole=r;return false;}});}});});}
function E(f,i){var k=true;if(f.indexOf('timeseries_bullet')>-1){k=i.length>1&&i.every(function(m){return(m.actual&&m.reference)||(m.projected&&m.reference);});}else if(f.indexOf('timeseries_combination')>-1){k=i.length>0&&i.some(function(m){return(m.projected||m.reference);});}return k;}
function G(k,m,n,r,P,Q){var S=m.concat(n).concat(r);z(S);var U=x(k,m,n,P,Q);k=k.indexOf('donut')>-1?'donut':k;var V=c("info/"+k,U);var W=U.contexts,X=U.semanticTuples,Y=[];if(!V.valid){if(k.indexOf('dual_timeseries_combination')>-1){U.contexts=[];}U=K(k,V,U,m,n);V=c("info/"+k,U);B(k,U,S);if(P){if(E(k,X)){U=x(k,m,n,P,Q);W=U.contexts;X=U.semanticTuples;}}}else{B(k,U,S);}if(X){Y=X.filter(function(f){return f.projectedValueStartTime;});}if(V.valid&&r&&r.length>0){var Z=e(m,function(o){return o.getName();});y(k,U,r.filter(function(o){return!Z[o.getName()];}));}var $=U.reduce(function(i,f){f.values.forEach(function(v){i[v.id]=true;});return i;},{});var a1=L.from(U);if(W){W.forEach(function(f){$[f.getName()]=true;});a1._context=W.map(function(f){var o=f.getName();var v=true;for(var i=0;i<Y.length;i++){if(o===Y[i].actual||o===Y[i].projected){v=false;break;}}return{id:o,showInTooltip:v};});}a1._unused=N(U,m,n).filter(function(f){return!$[f];});a1._def=O(m,V.valid?r:[],n,$,X,p(k));a1._order=l(k,U);a1._valid=V.valid;a1._semanticTuples=X;return a1;}
function H(f){return e(sap.viz.api.metadata.Viz.get("info/"+f).bindings,"id");}
function J(f,i,m){m=m||H(f);i.forEach(function(o){o.type=m[o.id][0].type;});return i;}
function K(f,V,i,m,n){var o=H(f),r=false,P=false;var Q=V.results.bindings;Object.keys(Q).forEach(function(k){if(!o[k]){return;}if(o[k][0].type==="Measure"){P=true;}if(o[k][0].type==="Dimension"&&!(Q[k].allowMND&&(!Q[k].missing||Q[k].missing===1))){r=true;}});var S=i.filter(function(k){return!((k.type==="Dimension")?r:P);}),U=S.reduce(function(k,Z){(Z.values||[]).forEach(function(v){k[v.id]=true;});return k;},{});if(i.contexts){i.contexts.forEach(function(k){U[k.getName()]=true;});}var W=m.map(h("Dimension")),X=n.map(h("Measure"));var Y=s("info/"+f,S,W.concat(X).filter(function(k){return!U[k.id];})).feedItems;J(f,Y,o);return Y;}
function N(i,k,m){var U=i.reduce(function(n,f){f.values.forEach(function(v){n[v.id]=true;});return n;},{});return k.concat(m).filter(function(n){return!U[n.getName()];}).map(function(n){return n.getName();});}
function O(f,k,m,v,S,p){var o;if(p){var n;for(var i=0;i<f.length;i++){if(f[i]instanceof sap.chart.data.TimeDimension){n=f[i];break;}}o=a.getInstance(n.getTimeUnit());}return{dim:f.reduce(function(V,r){if(v[r.getName()]){V.push(w(r,p));}return V;},[]).concat(k.map(function(r){var P=w(r);P._setInResult(true);return P;})),msr:m.reduce(function(V,r){if(v[r.getName()]){V.push(j(r));}return V;},[]).concat((S||[]).reduce(function(r,P){if(P.timeAxis&&P.projectedValueStartTime){r.push(new M({identity:P.actual+"-"+P.projected,name:((P.labels&&P.labels.actual)||P.actual)+"-"+((P.labels&&P.labels.projected)||P.projected),value:{parts:[P.timeAxis,P.actual,P.projected],formatter:function(Q){var U=Q,V;if(Q&&Q.length>1){var W=Q[0];if(W){if(o){var X=o.parse(W);if(X){V=X.getTime();}}else{V=new Date(W).getTime();}if(V&&(V<P.projectedValueStartTime)){U=Q[1];}else{U=Q[2];}}}return U;}}}));}return r;},[]))};}
return{fit:G,compatible:function(f,i,m){var n="info/"+f,r={used:{},error:null,compatible:true};var P=x(f,i,m),V=c(n,P);if(!V.valid){P=K(f,V,P,i,m);V=c(n,P);r.needFix=true;}if(V.valid){r.used=e(P,function(o){return o.type;},function(o){return o.values.filter(function(v){return v.type==="Dimension"||v.type==="Measure";}).map(function(v){return v.id;});});q.each(r.used,function(k,v){r.used[k]=v.reduce(function(o,W){return o.concat(W);},[]);});}else{r.compatible=false;var Q=sap.viz.api.metadata.Viz.get(n).bindings,S=e(Q,"type",function(o){return o.id;}),U={dim:0,msr:0,time:0};q.each(V.results.bindings,function(k,v){if(!v.missing){return;}if(S.Dimension.indexOf(k)!==-1&&!(v.allowMND&&v.missing===1)){U[k==="timeAxis"?"time":"dim"]+=v.missing;}else if(S.Measure.indexOf(k)!==-1){U.msr+=v.missing;}});r.error={missing:U};}return r;}};});
sap.ui.predefine('sap/chart/utils/RoleMapper',['sap/chart/data/TimeDimension','sap/chart/utils/MeasureSemanticsUtils','sap/chart/utils/ChartUtils','sap/chart/utils/DateFormatUtil','sap/chart/data/MeasureSemantics','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(T,M,C,D,c,d,q){"use strict";
function R(F){this._bTimeFed=false;}
R.prototype.toFeedingId=function(o){if(o instanceof T&&!this._bTimeFed){this._bTimeFed=true;return"timeAxis";}else{return"@context";}};
function e(a){return C.CONFIG.timeChartTypes.indexOf(a)>-1;}
function s(S,m,o){var a={actualValues:[],targetValues:[]};q.each(S,function(i,t){if(t.actual){a.actualValues.push(m[t.actual]);t.valueAxisID='actualValues';}if(t.projected){a.actualValues.push(m[t.projected]);t.valueAxisID='actualValues';}if(t.reference){if((t.actual||t.projected)){a.targetValues.push(m[t.reference]);t.valueAxisID='targetValues';}else{a.actualValues.push(m[t.reference]);t.valueAxisID='actualValues';}}});delete o["@semanticBulletMsrs"];q.extend(o,a);}
function f(S,m){var a=m["@semanticBulletMsrs"];if(a){var F={actualValues:[]};for(var i=0;i<a.length;i++){F.actualValues.push(a[i]);}for(var i=0;i<S.length;i++){S[i].valueAxisID='actualValues';}delete m["@semanticBulletMsrs"];q.extend(m,F);}}
R.semantics={hasSemanticMeasures:function(F){return Object.keys(F.msrs).some(function(k){var r=false;var m=F.msrs[k];r=m.some(function(a){if(a.getSemantics){var b=a.getSemantics();return b&&b!=='actual';}});return r;});},semanticPatternMsrs:function(F,g,I){var A=[],h=[],m={},j,k;var n=e(g)&&(F.dims.timeAxis&&F.dims.timeAxis.length===1);var p;var o;if(n){var t=F.dims.timeAxis[0];p=t.getProjectedValueStartTime();if(p){var r=t.getTimeUnit();if(r==='fiscalyearperiod'||r==='fiscalyear'){o=p;}else{var u=D.getInstance(r);if(u){if(u.parse(p)){o=u.parse(p).getTime();}}else{o=new Date(p).getTime();}}}}var v=['valueAxis','valueAxis2'];var w=Object.keys(F.msrs).sort(function(a,b){return v.indexOf(a)-v.indexOf(b);});var x=this.hasSemanticMeasures(F);w.forEach(function(a){var b=F.msrs[a],H;k=null;q.extend(true,m,b.reduce(function(m,N){m[N.getName()]=N;return m;},{}));if(g&&g.indexOf('bullet')>-1&&F.invisibleMsrs){H=F.invisibleMsrs.filter(function(N){return N.getSemantics()==='actual'&&N.getSemanticallyRelatedMeasures();});}if(q.isEmptyObject(F.dims)){k=new d('error','Semantic Pattern',"Semantic Pattern doesn't work when there is no dimension.");I=I||true;}else if(F.dims.color&&F.dims.color.length>0){k=new d('error','Semantic Pattern',"Semantic pattern doesn't work when there is series dimension.");I=I||true;}var J;J=M.getTuples(b,H,I);if(g&&(g.indexOf('stacked_column')>-1||g.indexOf('stacked_bar')>-1)){var K=false;if(n&&p){if(!o){k=new d('error','Semantic Pattern',"The value of projectedValueStartTime is invalid.");k.display();K=true;}for(var l=0;l<J.length;l++){if(J[l].hasOwnProperty('actual')){if(!(J[l].hasOwnProperty('projected'))){K=true;break;}if(J[l].hasOwnProperty('reference')){K=true;break;}}else{K=true;break;}}}else{var L='';if(J[0].hasOwnProperty('actual')){L='actual';}else if(J[0].hasOwnProperty('projected')){L='projected';}else if(J[0].hasOwnProperty('reference')){L='reference';}if(L==='projected'||L==='reference'){for(var l=0;l<J.length;l++){if(!(J[l].hasOwnProperty(L))){K=true;break;}}}else{for(var l=0;l<J.length;l++){if(J[l].hasOwnProperty('projected')||J[l].hasOwnProperty('reference')){K=true;break;}}}}if(g.indexOf('dual')>-1&&w.length<=1){K=false;}if(K){k=new d('error','Semantic Pattern',"Actual, forecast or target can't be stacked in one bar or column.");I=true;J=M.getTuples(b,H,I);}}J.forEach(function(N){N.valueAxisID=a;});if(x&&I&&k){k.display();}A=A.concat(J);});if(g&&g.indexOf('bullet')>-1){n=n&&A.some(function(z){return z.actual&&z.projected;});j=A.some(function(z){return(z.actual&&z.projected)||(z.actual&&z.reference)||(z.projected&&z.reference);});if(j&&(!n)){s(A,m,F.msrs);}else{f(A,F.msrs);}}if((!I)&&n){k=null;var S=[];var y=function(a){var b=S.indexOf(a.getName())===-1;if(!b){h.push(a);}return b;};for(var i=0;i<A.length;i++){var z=A[i];if(p){if(o){var B=F.msrs[z.valueAxisID];if(z.actual&&z.projected){z.timeAxis=F.dims.timeAxis[0].getName();z.projectedValueStartTime=o;z.semanticMsrName=z.actual+"-"+z.projected;S.push(z.actual);S.push(z.projected);B.push(m[z.actual].clone().setName(z.semanticMsrName));if(A.length===1&&g.indexOf('combination')>-1){k=new d('error','Semantic Pattern',"Do not satisfy the minimum number of measure to work "+"with Projected Value Start Time in Time Series Combination.");}}F.msrs[z.valueAxisID]=B.filter(y);}else{k=new d('error','Semantic Pattern',"The value of projectedValueStartTime is invalid.");}}}if(k){k.display();}}if((A.length>0)&&(!I)){var E=[];var G=['actual','projected','semanticMsrName','reference'];A.forEach(function(a){for(var i=0;i<G.length;i++){if(a[G[i]]){E.push(a[G[i]]);}}});q.each(F.msrs,function(l){F.msrs[l].sort(function(a,b){return E.indexOf(a.getName())-E.indexOf(b.getName());});});}return{semanticTuples:A,contexts:h};}};return R;});
sap.ui.predefine('sap/chart/utils/SelectionAPIUtils',["sap/ui/thirdparty/jquery"],function(q){"use strict";
function m(k){return k.reduce(function(l,K){l[K]=true;return l;},{});}
function t(v,V){var e=m(v);function g(C){return V.reduce(function(p,D){if(C.hasOwnProperty(D)){p[D]=C[D];}return p;},{});}return function(r,C){return r.filter(function(M){return e[M];}).map(function(M){var D=g(C);D[M]="*";return{data:D};});};}
function a(C){var V={data:{}},M=C.measures,D=C.dimensions;if(M){V.data.measureNames=(M instanceof Array)?{"in":M}:M;}q.each(D||{},function(k,v){V.data[k]=(v instanceof Array)?{"in":v}:v;});return V;}
function f(V){var D=V.data;return Object.keys(D).reduce(function(o,k){var v=D[k];if(v.in&&v.in instanceof Array){v=v.in;}if(k==="measureNames"){o.measures=v;}else if(!o.dimensions){o.dimensions={};o.dimensions[k]=v;}else{o.dimensions[k]=v;}return o;},{});}
function b(v,V,B,C){var e=t(v,V);return C.reduce(function(D,o){var g=B.getContexts(o.index,1);if(g.length>0){D=D.concat(e(o.measures,g[0].getObject()));}return D;},[]);}
function c(e,v){return Object.keys(e).filter(function(M){return(v.indexOf(M)!==-1);});}
function d(s,v,D){if(s){var I,e;for(e in s){if(s.hasOwnProperty(e)&&D.data[e]){var g=s[e];I=(D.data[g.timeAxis]<g.projectedValueStartTime)?g.projected:g.actual;}}if(I){D.measures=D.measures.filter(function(M){return(M!==I);});if(D.dataName){D.dataName=Object.keys(D.dataName).reduce(function(h,k,i){if(v.indexOf(k)!==-1){h[k]=D.dataName[k];}return h;},{});if(q.isEmptyObject(D.dataName)){delete D.dataName;}}}else{var u=[];for(var k in s){if(s.hasOwnProperty(k)){e=s[k];u.push(e.actual);u.push(e.projected);}}D.measures=D.measures.filter(function(M){return u.indexOf(M)===-1;});}}}
return{makeLookUp:m,toVizCtx:t,toVizCSCtx:a,fromVizCSCtx:f,buildSelectionVizCtx:b,filterVisibleMsr:c,filterSemMsr:d,match:function(r,v,M){return Object.keys(r).every(function(k){if(M.indexOf(k)!==-1){return v.hasOwnProperty(k);}else{return r[k]===v[k];}});}};});
sap.ui.predefine('sap/chart/utils/ValueAxisScaleUtils',['sap/chart/AutoScaleMode','sap/chart/ScaleBehavior','sap/chart/ChartLog','sap/chart/utils/ChartUtils'],function(A,S,C,a){"use strict";var V={};
V.getValueAxisScaleSetting=function(c,v,b,d){var m=b.filter(function(t){return d.indexOf(t.getName())!==-1;});var r,M,B={};m.forEach(function(t){M=t.getName();r=t._getFixedRole();if(r==='axis1'||r==='axis2'){if(!B[r]){B[r]={measures:[],min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};}B[r].measures.push(M);}});var o,f=v&&v.scaleBehavior===S.FixedScale,i=a.isStackedLikeChart(c)&&m.length>1,e=(v&&v.fixedScaleSettings&&v.fixedScaleSettings.measureBoundaryValues)||{};if(f){if(i){var s=(v&&v.fixedScaleSettings&&v.fixedScaleSettings.stackedMultipleMeasureBoundaryValues)||[];if(s&&s.length>0){var g=function(h){return s.filter(function(t){return t.measures&&t.measures.length>0&&t.measures.sort().toString()===h.measures.sort().toString();});};for(var k in B){if(B.hasOwnProperty(k)){var h=B[k];var j=g(h);if(j&&j.length>0){o=j[j.length-1].boundaryValues;if(o&&(isFinite(o.minimum)&&typeof o.minimum=="number")||(isFinite(o.maximum)&&typeof o.maximum=="number")){h.min=o.minimum;h.max=o.maximum;}}}}}}else{m.forEach(function(t){r=t._getFixedRole();if(r==='axis1'||r==='axis2'){M=t.getName();o=e[M];if(!o||!(isFinite(o.minimum)&&typeof o.minimum=="number")||!(isFinite(o.maximum)&&typeof o.maximum=="number")){B[r].min=Number.NEGATIVE_INFINITY;B[r].max=Number.POSITIVE_INFINITY;}else{if(B[r].min>o.minimum){B[r].min=o.minimum;}if(B[r].max<o.maximum){B[r].max=o.maximum;}}}});}}f=false;var l=[],I=a.isBulletChart(c);for(var k in B){if(B.hasOwnProperty(k)){var h=B[k];var n=!(isFinite(h.min)&&typeof h.min=="number"&&isFinite(h.max)&&typeof h.max=="number");var p=k==='axis1'?"valueAxis":"valueAxis2";if(I){p='actualValues';}if(n){if(v&&v.scaleBehavior===S.FixedScale){new C('error','Chart.ValueAxisScale',p+' was switched to auto scale, because minimum or maximum value is missing in measure').display();}}else if(h.min>h.max){new C('error','Chart.ValueAxisScale',p+' was switched to auto scale, because minimum value exceeds maximum value').display();}else{f=true;}l.push({"feed":p,"type":"linear","min":n?"auto":h.min,"max":n?"auto":h.max});}}var P={};if(!f){var z=true,q=false;if(v&&v.autoScaleSettings&&v.autoScaleSettings.zeroAlwaysVisible===false){z=false;}if(v&&v.autoScaleSettings&&v.autoScaleSettings.syncWith===A.VisibleData){q=true;}P={plotArea:{adjustScale:!z},interaction:{syncValueAxis:q}};}return{scale:l,property:P};};
return V;});
sap.ui.require.preload({
	"sap/chart/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.chart","type":"library","embeds":[],"applicationVersion":{"version":"1.64.0"},"title":"Smart viz control based on Vizframe","description":"Smart viz control based on Vizframe","ach":"BI-CVM","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.64","libs":{"sap.ui.core":{"minVersion":"1.64.0"},"sap.viz":{"minVersion":"1.64.0"}}},"library":{"i18n":false,"css":false,"content":{"controls":["sap.chart.Chart"],"elements":["sap.chart.data.Dimension","sap.chart.data.TimeDimension","sap.chart.data.HierarchyDimension","sap.chart.data.Measure"],"types":["sap.chart.data.MeasureSemantics"],"interfaces":[]}}}}'
},"sap/chart/library-preload"
);
//# sourceMappingURL=library-preload.js.map