sap.ui.define(['sap/chart/coloring/ColoringUtils','sap/chart/coloring/ColorPalette','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(C,a,b,q){"use strict";var t=q.type;var M={SingleColorScheme:{},DivergingColorScheme:{},TargetColorScheme:{}};var S=['NoSemantics','Positive','Negative'];var c=['NoSemantics','PositiveToNegative','NegativeToPositive','ColdToHot','HotToCold'];var d=['PositiveTarget'];var e=['LightToDark','DarkToLight'];var D=5;var f=['BelowMidArea','AboveMidArea'];var g=['MidAreaLowValue','MidAreaHighValue'];var T=['BelowTargetMidpoint','AboveTargetMidpoint'];var h=['TargetMidpoint'];var E='colorings.Gradation.RankedMeasureValues';function j(n){return C.isNumber(n)&&n%1===0&&n>=2&&n<=6;}function k(m,n,o){var B=[];var s=(n-m)/o;if(s>1){if(m+Math.ceil(s)*(o-1)<n){s=Math.ceil(s);}else{s=Math.floor(s);}}for(var i=0;i<o;i++){B.push(m+s*i);}return B;}function l(L,p,P,m,A){var n=L.min,o=L.max,r=L.hasOwnProperty('belowMidArea')?L.belowMidArea:L.belowTargetMidpoint,s=L.hasOwnProperty('aboveMidArea')?L.aboveMidArea:L.aboveTargetMidpoint,u=L.hasOwnProperty('midAreaLowValue')?L.midAreaLowValue:L.targetMidpoint,v=L.midAreaHighValue;var w=[],x=[],y=[],z=0;if(u!==undefined){w.push(u);}if(v!==undefined&&w.indexOf(v)===-1){w.push(v);}if(w.length>1){x.push(1);y.push(m);z++;}var B;if(n<w[0]){w=[n].concat(w);x=[r].concat(x);B=A(p,r);if(p.gradationSaturation==='DarkToLight'){B=B.reverse();}y=B.concat(y);z+=r;}if(o>w[w.length-1]){w=w.concat([o]);x=x.concat([s]);B=A(P,s);if(P.gradationSaturation==='DarkToLight'){B=B.reverse();}y=y.concat(B);z+=s;}var F=[];for(var i=0;i<w.length-1;i++){F=F.concat(k(w[i],w[i+1],x[i]));}F=F.concat(w.slice(-1));if(y.length===0){y=A(p,1);return{feed:"color",palette:[],startColor:y[0],endColor:y[0],numOfSegments:1};}return{feed:"color",palette:y,numOfSegments:z,maxNumOfSegments:13,legendValues:F};}M.SingleColorScheme.SUPPORTED_SINGLE_SCHEMES=S;M.SingleColorScheme.SUPPORTED_SATURATIONS=e;M.SingleColorScheme.validate=function(s,m){var i=s[m].SingleColorScheme||{};if(i.Scheme&&S.indexOf(i.Scheme)===-1){throw new b('error',E,'"SingleColorScheme.Scheme" of the measure, '+m+', should be one of "'+S.join('" or "')+'".');}if(i.Saturation&&e.indexOf(i.Saturation)===-1){throw new b('error',E,'"SingleColorScheme.Saturation" of the measure, '+m+', should be one of "'+e.join('" or "')+'".');}};M.SingleColorScheme.parse=function(o,p){var s=o.settings[o.type];var i=[];if(o.byAggregation){i=o.byAggregation.LevelBoundaries;}p.legend={segments:i,gradationScheme:s.Scheme||S[0],gradationSaturation:s.Saturation||e[0],numberOfLevels:s.NumberOfLevels||D,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};M.SingleColorScheme.createScales=function(i){var B=[],o=i[0];var L=o.parsed.legend;var p=a.GRADATION.SingleColorScheme[L.gradationScheme];var n=L.numberOfLevels;if(L.segments.length>0){B=L.segments;n=B.length-1;var m=L.min,r=L.max;if(m<B[0]){B=[m].concat(B);n++;}if(r>B[B.length-1]){B=B.concat([r]);n++;}}p=C.assignColor(p,n);if(L.gradationSaturation==='DarkToLight'){p=p.reverse();}return{feed:"color",palette:p,numOfSegments:n,legendValues:B};};M.SingleColorScheme.levels=function(s,m,A){var i=s[m].SingleColorScheme;if(A){var L=false;var n=A.LevelBoundaries;if(t(n)==='array'&&n.length>=1&&n.length<=5){L=n.reduce(function(o,p){return o<p?p:Number.POSITIVE_INFINITY;},Number.NEGATIVE_INFINITY)<Number.POSITIVE_INFINITY;}if(!L){throw new b("error",E,'"SingleColorScheme.RankingPerAggregationLevel.LevelBoundaries" of the measure, '+m+', may contain between 1 to 5 members in strictly increasing sequence.');}}else{if(i.hasOwnProperty('NumberOfLevels')){var N=i.NumberOfLevels;if(!j(N)){throw new b("error",E,'"SingleColorScheme.NumberOfLevels" of the measure, '+m+', should be an Integer between 2 to 6.');}}}};M.DivergingColorScheme.validate=function(s,m){var i=s[m].DivergingColorScheme;if(i.Scheme&&c.indexOf(i.Scheme)===-1){throw new b('error',E,'"DivergingColorScheme.Scheme" of the measure, '+m+', should be one of "'+c.join('" or "')+'".');}var n=i.NumberOfLevels;f.forEach(function(o){if(!j(n&&n[o])){throw new b("error",E,'"DivergingColorScheme.NumberOfLevels.'+o+'"  of the measure, '+m+', should be an Integer between 2 to 6.');}});};M.DivergingColorScheme.parse=function(o,p){var s=o.settings[o.type];p.legend={midAreaLowValue:o.byAggregation.MidAreaLowValue,midAreaHighValue:o.byAggregation.MidAreaHighValue,gradationScheme:s.Scheme||c[0],belowMidArea:s.NumberOfLevels.BelowMidArea,aboveMidArea:s.NumberOfLevels.AboveMidArea,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};M.DivergingColorScheme.createScales=function(i){var o=i[0];var L=o.parsed.legend;var p=a.GRADATION.DivergingColorScheme[L.gradationScheme],P=p.slice(0,6).reverse(),m=p.slice(7);P.gradationSaturation='DarkToLight';return l(L,P,m,p[6],C.assignColor);};M.DivergingColorScheme.levels=function(s,m,A){var F=false;g.forEach(function(i){if(A.hasOwnProperty(i)){F=true;if(!C.isNumber(A[i])){throw new b("error",E,'"DivergingColorScheme.NumberOfLevels.'+i+'"  of the measure, '+m+', should be a number.');}}});if(!F){throw new b("error",E,'At least one of the "MidAreaLowValue" or "MidAreaHighValue" in "DivergingColorScheme.RankingPerAggregationLevel" of the measure, '+m+', should be specified.');}if(A.MidAreaLowValue>A.MidAreaHighValue){throw new b("error",E,'"MidAreaLowValue" should no more than "MidAreaHighValue" in "DivergingColorScheme.RankingPerAggregationLevel" of the measure, '+m+'.');}};M.TargetColorScheme.validate=function(s,m){var i=s[m].TargetColorScheme;if(i.Scheme&&d.indexOf(i.Scheme)===-1){throw new b('error',E,'"TargetColorScheme.Scheme" of the measure, '+m+',  should be "'+d.join('" or "')+'".');}var n=i.NumberOfLevels;T.forEach(function(o){if(!j(n&&n[o])){throw new b("error",E,'"TargetColorScheme.NumberOfLevels.'+o+'"  of the measure, '+m+', should be an Integer between 2 to 6.');}});};M.TargetColorScheme.parse=function(o,p){var s=o.settings[o.type];p.legend={targetMidpoint:o.byAggregation.TargetMidpoint,gradationScheme:s.Scheme||d[0],belowTargetMidpoint:s.NumberOfLevels.BelowTargetMidpoint,aboveTargetMidpoint:s.NumberOfLevels.AboveTargetMidpoint,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};};M.TargetColorScheme.createScales=function(i){var o=i[0];var L=o.parsed.legend;var p=a.GRADATION.TargetColorScheme[L.gradationScheme],P=p.slice(0,6),m=p.slice(0,6);m.gradationSaturation='DarkToLight';return l(L,P,m,null,M.TargetColorScheme.assignColor);};M.TargetColorScheme.levels=function(s,m,A){h.forEach(function(i){if(!C.isNumber(A[i])){throw new b("error",E,'"TargetColorScheme.NumberOfLevels.'+i+'"  of the measure, '+m+', should be a number.');}});};M.TargetColorScheme.assignColor=function(i,L){switch(L){case 1:return[i[5]];case 2:return[i[0],i[5]];case 3:return[i[0],i[2],i[5]];case 4:return i.slice(0,2).concat(i.slice(4,6));case 5:return i.slice(0,3).concat(i.slice(4,6));case 6:return i.slice(0,6);default:return null;}};return M;});
