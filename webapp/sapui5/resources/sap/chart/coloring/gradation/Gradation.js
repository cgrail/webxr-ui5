/*
 * SAPUI5

(c) Copyright 2009-2019 SAP SE. All rights reserved
 */
sap.ui.define(['sap/chart/coloring/gradation/rankedMeasureValues/RankedMeasureValues','sap/chart/coloring/gradation/DelineatedMeasures','sap/chart/coloring/gradation/DelineatedDimensionValues','sap/chart/coloring/ColorPalette','sap/chart/coloring/ColoringUtils','sap/chart/data/MeasureSemantics','sap/chart/ChartLog',"sap/ui/thirdparty/jquery"],function(R,D,a,C,b,M,c,q){"use strict";var t=q.type;var S=['DelineatedDimensionValues','RankedMeasureValues','DelineatedMeasures'];function g(f){return function(){var h,p;if(f.bMBC){h=R.createScales(f);}else{var r=d(f);p={plotArea:{dataPointStyle:{rules:r}}};}return{colorScale:h,properties:p};};}function d(f){var r=[];f.forEach(function(o,i){if(o.chartLog){throw o.chartLog;}var s=o.dim;var l=o.setting[s].Levels;var p=C.GRADATION.SingleColorScheme[o.parsed.singleColorScheme];p=b.assignColor(p,l.length);if(o.parsed.saturation==='DarkToLight'){p=p.reverse();}l.forEach(function(m,i){var h={callback:o.parsed.callbacks[m],properties:{color:p[i]},displayName:o.parsed.legend[m]};if(f.bIsLine){h.properties.lineColor=h.properties.color;}r.push(h);});});return r;}function e(T,f){var h=[];f.forEach(function(o){var m=o.msr.getName();T.forEach(function(i){Object.keys(M).forEach(function(k){var s=M[k];if(i[s]===m){i.order=[];i.order.push(s);h.push(i);}});});});T.splice(0,T.length);T.push.apply(T,h);}return{getCandidateSetting:function(o,A,T,f,s,h,l){var G=o.Gradation||{},p=A.parameters||{};var u=b.dimOrMsrUse(G,p,S,'Gradation');var i={};var Q;switch(u){case'RankedMeasureValues':var j=p.measure||Object.keys(G.RankedMeasureValues);if(t(j)==='string'){j=[j];}Q=R.qualify(G.RankedMeasureValues,j,f,h);if(Q&&Q.sMethod){Q.forEach(function(n){n.parsed=R.parse(n);});i.contextHandler=R.getContextHandler(Q);i.qualifiedSettings=Q;i.ruleGenerator=g(Q);Q.bMBC=h.bMBC;}break;case'DelineatedMeasures':Q=D.qualify(G.DelineatedMeasures,T,f,h);if(Q){i.qualifiedSettings=Q;Q.forEach(function(n){n.type=u;n.parsed=D.parse(n);});e(T,Q);}break;case'DelineatedDimensionValues':var k=p.dimension||Object.keys(G.DelineatedDimensionValues).filter(function(n){return n!=='SingleColorScheme'&&n!=='Saturation';});if(t(k)==='string'){k=[k];}Q=a.qualify(G.DelineatedDimensionValues,k,T,f,h);if(Q){i.qualifiedSettings=Q;Q.parsed=a.parse(Q);i.contextHandler=a.getContextHandler(Q);var m=[Q];i.ruleGenerator=g(m);m.bIsLine=h.bIsLine;}break;default:return{};}if(Q&&Q.length){i.subType=u;}return i;}};});
