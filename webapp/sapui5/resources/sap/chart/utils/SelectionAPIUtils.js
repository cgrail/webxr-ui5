/*
 * SAPUI5

(c) Copyright 2009-2019 SAP SE. All rights reserved
 */
sap.ui.define(["sap/ui/thirdparty/jquery"],function(q){"use strict";function m(k){return k.reduce(function(l,K){l[K]=true;return l;},{});}function t(v,V){var e=m(v);function g(C){return V.reduce(function(p,D){if(C.hasOwnProperty(D)){p[D]=C[D];}return p;},{});}return function(r,C){return r.filter(function(M){return e[M];}).map(function(M){var D=g(C);D[M]="*";return{data:D};});};}function a(C){var V={data:{}},M=C.measures,D=C.dimensions;if(M){V.data.measureNames=(M instanceof Array)?{"in":M}:M;}q.each(D||{},function(k,v){V.data[k]=(v instanceof Array)?{"in":v}:v;});return V;}function f(V){var D=V.data;return Object.keys(D).reduce(function(o,k){var v=D[k];if(v.in&&v.in instanceof Array){v=v.in;}if(k==="measureNames"){o.measures=v;}else if(!o.dimensions){o.dimensions={};o.dimensions[k]=v;}else{o.dimensions[k]=v;}return o;},{});}function b(v,V,B,C){var e=t(v,V);return C.reduce(function(D,o){var g=B.getContexts(o.index,1);if(g.length>0){D=D.concat(e(o.measures,g[0].getObject()));}return D;},[]);}function c(e,v){return Object.keys(e).filter(function(M){return(v.indexOf(M)!==-1);});}function d(s,v,D){if(s){var I,e;for(e in s){if(s.hasOwnProperty(e)&&D.data[e]){var g=s[e];I=(D.data[g.timeAxis]<g.projectedValueStartTime)?g.projected:g.actual;}}if(I){D.measures=D.measures.filter(function(M){return(M!==I);});if(D.dataName){D.dataName=Object.keys(D.dataName).reduce(function(h,k,i){if(v.indexOf(k)!==-1){h[k]=D.dataName[k];}return h;},{});if(q.isEmptyObject(D.dataName)){delete D.dataName;}}}else{var u=[];for(var k in s){if(s.hasOwnProperty(k)){e=s[k];u.push(e.actual);u.push(e.projected);}}D.measures=D.measures.filter(function(M){return u.indexOf(M)===-1;});}}}return{makeLookUp:m,toVizCtx:t,toVizCSCtx:a,fromVizCSCtx:f,buildSelectionVizCtx:b,filterVisibleMsr:c,filterSemMsr:d,match:function(r,v,M){return Object.keys(r).every(function(k){if(M.indexOf(k)!==-1){return v.hasOwnProperty(k);}else{return r[k]===v[k];}});}};});
