/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/shape/Shape","sap/gantt/misc/Format"],function(S,F){"use strict";var T=S.extend("sap.gantt.shape.Text",{metadata:{properties:{tag:{type:"string",defaultValue:"text"},text:{type:"string"},x:{type:"float"},y:{type:"float"},fontSize:{type:"int",defaultValue:10},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string"},wrapWidth:{type:"float",defaultValue:-1},wrapDy:{type:"float",defaultValue:20},truncateWidth:{type:"float",defaultValue:-1},ellipsisWidth:{type:"float",defaultValue:12}}}});T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var t=this.getTime(d,r);var a=this.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(x)){x=a.timeToView(0).toFixed(1);}return x;};T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)+this.getFontSize(d,r)/2;};T.prototype.getText=function(d){return this._configFirst("text",d);};T.prototype.getTextAnchor=function(d){var o=this._configFirst("textAnchor",d);var r=sap.ui.getCore().getConfiguration().getRTL();if(r&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)){if(o==="start"){return"end";}else if(o==="end"){return"start";}}return o;};T.prototype.getFontSize=function(d){return this._configFirst("fontSize",d,true);};T.prototype.getFontFamily=function(d){return this._configFirst("fontFamily",d,false);};T.prototype.getWrapWidth=function(d){return this._configFirst("wrapWidth",d);};T.prototype.getWrapDy=function(d){return this._configFirst("wrapDy",d);};T.prototype.getTruncateWidth=function(d){return this._configFirst("truncateWidth",d);};T.prototype.getEllipsisWidth=function(d){return this._configFirst("ellipsisWidth",d);};T.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"font-size":this.getFontSize(d,r)+"px;","fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r),"font-family":this.getFontFamily(d,r)};return i+this.getInlineStyle(s);};return T;},true);
