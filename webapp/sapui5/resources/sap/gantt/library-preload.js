//@ui5-bundle sap/gantt/library-preload.js
sap.ui.predefine('sap/gantt/drawer/Legend',["sap/gantt/drawer/Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,F){"use strict";
var L=D.extend("sap.gantt.drawer.Legend");
L.prototype._recursiveDraw=function(g,s){var S=g.selectAll("."+s.getId()).data(function(d){var r=[];return r.concat(d);});this._drawPerTag(S,s);};
L.prototype._drawPerTag=function(s,S){var l=S.mChartInstance;if(S.getIsDuration()){S.getTime=function(){return l.TIME_RANGE[0];};S.getEndTime=function(){return l.TIME_RANGE[1];};}else{S.getTime=function(){return l.TIME;};}S.setRowYCenter(l.getScaledLegendHeight()/2);switch(S.getTag()){case"g":this._drawGroup(s,S);break;case"line":this._drawLine(s,S);break;case"rect":this._drawRect(s,S);break;case"text":this._drawText(s,S);break;case"path":this._drawPath(s,S);break;case"image":this._drawImage(s,S);break;case"polygon":this._drawPolygon(s,S);break;case"polyline":this._drawPolyline(s,S);break;case"circle":this._drawCircle(s,S);break;default:break;}this._insertTitle(s,S);};
L.prototype._insertTitle=function(s,S){s.select("title").remove();s.insert("title",":first-child").text(function(d){if(!S.getParent()){return S.getTitle(d);}});};
L.prototype._drawGroup=function(s,S){s.enter().append("g").classed(S.getId(),true).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();var a=S.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i]);}}};
L.prototype._drawLine=function(s,S){var t=this;s.enter().append("line").attr("x1",function(d){return S.getX1(d);}).attr("y1",function(d){return S.getY1(d);}).attr("x2",function(d){return S.getX2(d);}).attr("y2",function(d){return S.getY2(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("fill-Opacity",function(d){return S.getFillOpacity(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawRect=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("rect").classed(S.getId(),true);s.attr("x",function(d){if(l.getLegendSpace!==undefined){if(sap.ui.getCore().getConfiguration().getRTL()){var x=l.getXDomain(),X=x.length;return l.getScaledLegendWidth()*(X-d.xIndex-1)+l.getLegendSpace()*(X-d.xIndex);}return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("rx",function(d){return S.getRx(d);}).attr("ry",function(d){return S.getRy(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){return S.getFillOpacity(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawText=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("text").attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getRowYCenter(d);}).attr("text-anchor","middle").attr("font-size",function(d){return S.getFontSize(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("alignment-baseline","central").attr("font-family",function(d){return S.getFontFamily(d);}).text(S.getText()).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPath=function(s,S){var t=this;s.enter().append("path").attr("d",function(d){return S.getD(d);}).attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke-dasharray",function(d){return S.getStrokeDasharray(d);}).attr("opacity",function(d){if(S.getIsClosed()){return S.getFillOpacity(d);}}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawImage=function(s,S){var l=S.mChartInstance;s.enter().append("image").attr("xlink:href",function(d){return S.getImage(d);}).attr("x",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*d.xIndex+l.getLegendSpace()*(d.xIndex+1);}return S.getX(d);}).attr("y",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*d.yIndex+l.getLegendSpace()*(d.yIndex+1);}return S.getY(d);}).attr("width",function(d){return S.getWidth(d);}).attr("height",function(d){return S.getHeight(d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolygon=function(s,S){var t=this;s.enter().append("polygon").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawPolyline=function(s,S){var t=this;s.enter().append("polyline").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("points",function(d){return S.getPoints(d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype._drawCircle=function(s,S){var l=S.mChartInstance,t=this;s.enter().append("circle").attr("fill",function(d){return t.determineValue("fill",S,d);}).attr("stroke-width",function(d){return S.getStrokeWidth(d);}).attr("stroke",function(d){return t.determineValue("stroke",S,d);}).attr("filter",function(d){return S.getFilter(d);}).attr("aria-label",function(d){return S.getAriaLabel(d);}).attr("cx",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendWidth()*(d.xIndex+0.5)+l.getLegendSpace()*(d.xIndex+1);}return S.getCx(d);}).attr("cy",function(d){if(l.getLegendSpace!==undefined){return l.getScaledLegendHeight()*(d.yIndex+0.5)+l.getLegendSpace()*(d.yIndex+1);}return S.getCy(d);}).attr("r",function(d){return S.getR(d);}).attr("transform",function(d){return S.getTransform(d);}).attr("role",function(d){if(!S.getParent()){return"tooltip";}}).attr("focusable",function(d){if(!S.getParent()){return true;}}).attr("tabindex",function(d){if(!S.getParent()){return 0;}}).attr("aria-label",function(d){if(!S.getParent()){return S.getAriaLabel(d);}});s.exit().remove();};
L.prototype.determineValue=function(a,s,d){var A=null;if(a==="fill"){A=s.getFill(d);}else if(a==="stroke"){A=s.getStroke(d);}return sap.gantt.ValueSVGPaintServer.normalize(A);};
return L;},true);
sap.ui.predefine('sap/gantt/eventHandler/BirdEyeHandler',["sap/ui/base/Object","sap/gantt/misc/Format","sap/gantt/config/TimeHorizon"],function(B,F,T){"use strict";
var a=B.extend("sap.gantt.eventHandler.BirdEyeHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._sStartTimeStamp=0;this._sEndTimeStamp=0;}});
a.prototype.calculateLargestVisibleHorizon=function(A,I){if(!A||A.length===0){return null;}var t=this;for(var i=0;i<A.length;i++){var s=A[i];var d=s.dataSet;if(d&&d.length>0){for(var j=0;j<d.length;j++){t._collectShapeTimeRange(s,d[j]);}}}if(!this._sStartTimeStamp&&!this._sEndTimeStamp){return null;}var S=F.abapTimestampToDate(this._sStartTimeStamp).getTime();var e=F.abapTimestampToDate(this._sEndTimeStamp).getTime();var o=F.abapTimestampToDate(this._sStartTimeStamp);var E=F.abapTimestampToDate(this._sEndTimeStamp);if(!I){var n=this._oSourceChart.getVisibleWidth();var b=(e-S)/n;o=new Date(S-b*5);E=new Date(e+b*5);}var v=new T({startTime:o,endTime:E});this._sStartTimeStamp=0;this._sEndTimeStamp=0;return v;};
a.prototype._collectShapeTimeRange=function(s,d,A,r){var t=this;if(d){var S=[];if(d.shapeData){r=d.objectInfoRef;S=S.concat(d.shapeData);}else if(A&&d[A]){S=S.concat(d[A]);}else if(d){S=S.concat(d);}if(s.filterValidData&&S.length>0){S=s.filterValidData(S,r);}if(s.getTag()=="g"&&S.length>0){var b=s.getShapes();if(b&&b.length>0){for(var i=0;i<b.length;i++){for(var j=0;j<S.length;j++){t._collectShapeTimeRange(b[i],S[j],b[i].mShapeConfig.getShapeDataName(),r);}}}}else if(s.mShapeConfig.getCountInBirdEye()){var c=(s.getTime||s.getEndTime)?true:false;if(S.length>0&&c){S.forEach(function(d){var e=s.getTime(d,r);var f=s.getEndTime(d,r);t._sStartTimeStamp=(e&&(!t._sStartTimeStamp||e<t._sStartTimeStamp))?e:t._sStartTimeStamp;if(f){t._sEndTimeStamp=(f&&(!t._sEndTimeStamp||f>t._sEndTimeStamp))?f:t._sEndTimeStamp;}else{t._sEndTimeStamp=(e&&(!t._sEndTimeStamp||e>t._sEndTimeStamp))?e:t._sEndTimeStamp;}});}}}};
a.prototype.doBirdEye=function(b,r){if(this._oSourceChart){var g=this._oSourceChart;var t=g.getLargestHorizonByDataRange(b,r);if(t){g.getAxisTimeStrategy().setVisibleHorizon(t);}}};
return a;},true);
sap.ui.predefine('sap/gantt/simple/ContainerToolbar',["sap/ui/core/Core","sap/gantt/library","sap/ui/base/ManagedObjectObserver","sap/ui/core/Item","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSpacer","sap/m/FlexBox","sap/m/FlexDirection","sap/m/Button","sap/m/ButtonType","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/Select","sap/m/ViewSettingsDialog","sap/m/ViewSettingsCustomTab","sap/m/PlacementType","sap/m/CheckBox","sap/m/Slider","sap/m/Popover","../control/AssociateContainer"],function(C,l,M,a,O,b,T,F,c,B,d,S,e,f,V,g,P,h,j,k,A){"use strict";var G=l.simple.GanttChartWithTableDisplayType;
var n=O.extend("sap.gantt.simple.ContainerToolbar",{metadata:{properties:{showBirdEyeButton:{type:"boolean",defaultValue:false},showDisplayTypeButton:{type:"boolean",defaultValue:false},showLegendButton:{type:"boolean",defaultValue:false},showSettingButton:{type:"boolean",defaultValue:true},showTimeZoomControl:{type:"boolean",defaultValue:true},zoomControlType:{type:"sap.gantt.config.ZoomControlType",defaultValue:l.config.ZoomControlType.SliderWithButtons},stepCountOfSlider:{type:"int",defaultValue:10},infoOfSelectItems:{type:"object[]",defaultValue:[]},zoomLevel:{type:"int",defaultValue:0}},aggregations:{settingItems:{type:"sap.gantt.config.SettingItem",multiple:true},legendContainer:{type:"sap.ui.core.Control",multiple:false,visibility:"public"}},events:{zoomStopChange:{parameters:{index:{type:"int"},selectedItem:{type:"sap.ui.core.Item"}}},birdEyeButtonPress:{},displayTypeChange:{parameters:{displayType:{type:"sap.gantt.simple.GanttChartWithTableDisplayType"}}}}}});
n.prototype.init=function(){O.prototype.init.apply(this,arguments);this.mSettingsConfig={};this._oRb=C.getLibraryResourceBundle("sap.gantt");this.oObserver=new M(this.observePropertiesChanges.bind(this));this.oObserver.observe(this,{properties:["showBirdEyeButton","showLegendButton","showTimeZoomControl","showSettingButton","zoomControlType","infoOfSelectItems","showDisplayTypeButton"]});this.bShallUpdateContent=true;this.bZoomControlTypeChanged=false;this._bSuppressZoomStopChange=false;this.oToolbarSpacer=new T();};
n.prototype.observePropertiesChanges=function(o){this.bShallUpdateContent=true;this.bZoomControlTypeChanged=o.name==="zoomControlType";};
n.prototype.exit=function(){this.oObserver.disconnect();};
n.prototype.applySettings=function(s,i){s=s||{};if(!s.settingItems){s.settingItems=l.config.DEFAULT_TOOLBAR_SETTING_ITEMS.map(function(o){return o.clone();});}O.prototype.applySettings.apply(this,arguments);this._createControlsOnly();return this;};
n.prototype.onBeforeRendering=function(){if(this.bShallUpdateContent===true){this.updateToolbarContents();this.bShallUpdateContent=false;this.bZoomControlTypeChanged=false;}};
n.prototype.updateToolbarContents=function(){var N=function(o){return this.getContent().indexOf(o)===-1;}.bind(this);if(N(this.oToolbarSpacer)){this._addToolbarContent(this.oToolbarSpacer);}var i=this.getContent().indexOf(this.oToolbarSpacer)+1;var I=function(s,o){if(s&&N(o)){this.insertContent(o,i);i++;}else if(!s&&!N(o)){this.removeContent(o);}else if(s&&!N(o)){i++;}}.bind(this);I(this.getShowBirdEyeButton(),this._genBirdEyeButton());if(this.bZoomControlTypeChanged){var p=[this._oZoomOutButton,this._oZoomSlider,this._oSelect,this._oZoomInButton];p.forEach(function(o){if(!N(o)){this.removeContent(o);}}.bind(this));}var t=this._genTimeZoomGroupControls();if(t){t.forEach(function(o){I(this.getShowTimeZoomControl(),o);}.bind(this));}I(this.getShowLegendButton(),this._genLegend());I(this.getShowSettingButton(),this._genSettings());I(this.getShowDisplayTypeButton(),this._genDisplayTypeButton());};
n.prototype._addToolbarContent=function(v){if(jQuery.isArray(v)){for(var m=0;m<v.length;m++){this.addContent(v[m]);}}else if(v){this.addContent(v);}};
n.prototype._createControlsOnly=function(){this._genBirdEyeButton();this._genTimeZoomGroupControls();this._genLegend();this._genSettings();this._genDisplayTypeButton();};
n.prototype._genDisplayTypeButton=function(){if(this._oDisplayTypeSegmentedButton){return this._oDisplayTypeSegmentedButton;}this._oDisplayTypeSegmentedButton=new S({selectedKey:G.Both,selectionChange:function(E){this.fireDisplayTypeChange({displayType:E.getParameter("item").getKey()});}.bind(this),items:[new e({tooltip:this._oRb.getText("TLTP_DISPLAY_TYPE_BUTTON_BOTH"),icon:"sap-icon://Chart-Tree-Map",key:G.Both}),new e({tooltip:this._oRb.getText("TLTP_DISPLAY_TYPE_BUTTON_CHART"),icon:"sap-icon://along-stacked-chart",key:G.Chart}),new e({tooltip:this._oRb.getText("TLTP_DISPLAY_TYPE_BUTTON_TABLE"),icon:"sap-icon://table-view",key:G.Table})]});};
n.prototype._genBirdEyeButton=function(){if(this._oBirdEyeButton==null){var i=function(r){var s=r.getText("TXT_BRIDEYE"),t=r.getText("TXT_BRIDEYE_RANGE_VISIBLE_ROWS"),m=r.getText("TLTP_BRIDEYE_ON_VISIBLE_ROWS");return s+"("+t+"): "+m;};this._oBirdEyeButton=new B({icon:"sap-icon://show",type:d.Transparent,tooltip:i(this._oRb),press:function(E){this.fireBirdEyeButtonPress();}.bind(this)});}return this._oBirdEyeButton;};
n.prototype._getSelectItems=function(){var s=[],I=this.getInfoOfSelectItems();if(I.length>0){if(I[0]instanceof a){s=I;}else{for(var i=0;i<I.length;i++){var o=new a({key:I[i].key,text:I[i].text});s.push(o);}}}return s;};
n.prototype._genTimeZoomGroupControls=function(){var Z=l.config.ZoomControlType;var z=this.getZoomControlType();var L=new b({priority:sap.m.OverflowToolbarPriority.NeverOverflow});var u=function(m){jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=-1;this.setZoomLevel(m,true);};this.fireEvent("_zoomControlTypeChange",{zoomControlType:z});if(z===Z.None){return[];}if(z===Z.Select){if(this._oSelect){return[this._oSelect];}var s=this._getSelectItems();this._oSelect=new f({items:s,selectedItem:s[this.getZoomLevel()],layoutData:L,change:function(E){var o=E.getSource();var m=o.getSelectedItem();var p=o.indexOfItem(m);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,u,[p,m]);}.bind(this)});return[this._oSelect];}else{if(this._oZoomSlider){this._oZoomSlider.setMax(this.getStepCountOfSlider()-1);if(z===Z.SliderOnly){return[this._oZoomSlider];}else if(z===Z.ButtonsOnly){return[this._oZoomOutButton,this._oZoomInButton];}else{return[this._oZoomOutButton,this._oZoomSlider,this._oZoomInButton];}}this._oZoomSlider=new j({width:"200px",layoutData:L,max:this.getStepCountOfSlider()-1,value:this.getZoomLevel(),min:0,step:1,liveChange:function(E){var m=parseInt(E.getParameter("value"),10);jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,u,[m]);}.bind(this)});var i=function(m){return function(E){this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,function(){var o=parseInt(m?this._oZoomSlider.stepUp(1).getValue():this._oZoomSlider.stepDown(1).getValue(),10);u.call(this,o);});};};this._oZoomInButton=new B({icon:"sap-icon://zoom-in",type:d.Transparent,tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_IN"),layoutData:L.clone(),press:i(true).bind(this)});this._oZoomOutButton=new B({icon:"sap-icon://zoom-out",type:d.Transparent,tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_OUT"),layoutData:L.clone(),press:i(false).bind(this)});return[this._oZoomOutButton,this._oZoomSlider,this._oZoomInButton];}};
n.prototype._genSettings=function(){if(this._oSettingsButton){return this._oSettingsButton;}var i=this.getSettingItems().map(function(s){return new h({name:s.getKey(),text:s.getDisplayText(),tooltip:s.getTooltip(),selected:s.getChecked()}).addStyleClass("sapUiSettingBoxItem");});this._oSettingsBox=new F({direction:c.Column,items:i}).addStyleClass("sapUiSettingBox");this._oSettingsDialog=new V({title:this._oRb.getText("SETTINGS_DIALOG_TITLE"),customTabs:[new g({content:this._oSettingsBox})],confirm:function(){this._fireSettingItemChangedEvent();}.bind(this),cancel:function(){this.updateSettingItems(this.mSettingsConfig);}.bind(this)});this._oSettingsButton=new B({icon:"sap-icon://action-settings",type:d.Transparent,tooltip:this._oRb.getText("TLTP_CHANGE_SETTINGS"),layoutData:new b({priority:sap.m.OverflowToolbarPriority.High}),press:function(E){this._oSettingsDialog.open();}.bind(this)});return this._oSettingsButton;};
n.prototype._genLegend=function(){if(this._oLegendButton){return this._oLegendButton;}if(!this._oLegendPop){this._oLegendPop=new k({placement:P.Bottom,showArrow:false,showHeader:false});}this._oLegendButton=new B({icon:"sap-icon://legend",type:d.Transparent,tooltip:this._oRb.getText("TLTP_SHOW_LEGEND"),layoutData:new b({priority:sap.m.OverflowToolbarPriority.High,closeOverflowOnInteraction:false}),press:function(E){var L=this._oLegendPop;if(L.isOpen()){L.close();}else{L.openBy(this._oLegendButton);}}.bind(this)});return this._oLegendButton;};
n.prototype.updateZoomLevel=function(z){this._bSuppressZoomStopChange=true;this.setZoomLevel(z);};
n.prototype.setZoomLevel=function(z,i){if(!isNaN(z)){var m=this.getZoomLevel();if(m!==z){this.setProperty("zoomLevel",z,i);if(this._oZoomSlider){this._oZoomSlider.setValue(z);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z});}}if(this._oSelect){this._oSelect.setSelectedItem(this._oSelect.getItems()[z]);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z,selectedItem:this._oSelect.getSelectedItem()});}}if(this._oZoomOutButton&&this._oZoomInButton){var o=this._oZoomSlider.getMax(),p=this._oZoomSlider.getMin();if(z===o){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else if(z===p){this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(false);}else{this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(true);}}}}this._bSuppressZoomStopChange=false;return this;};
n.prototype.setLegendContainer=function(L){this.setAggregation("legendContainer",L);if(!this._oLegendPop){this._oLegendPop=new k({placement:P.Bottom,showArrow:false,showHeader:false});}if(L){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(new A({content:L}));}};
n.prototype._fireSettingItemChangedEvent=function(){var s=this._oSettingsBox.getItems();var m=[];for(var i=0;i<s.length;i++){var o=s[i].getName(),p=o.substr(4),q=this.mSettingsConfig[p],N=s[i].getSelected();if(q!==N){m.push({name:o,value:N});}}if(m.length>0){this.fireEvent("_settingsChange",m);}};
n.prototype.updateSettingsConfig=function(m){Object.keys(m).forEach(function(p){this.mSettingsConfig[p]=m[p];}.bind(this));this.updateSettingItems(m);};
n.prototype.updateSettingItems=function(m){var s=this._oSettingsBox.getItems();Object.keys(m).forEach(function(p){var o=s.filter(function(i){return i.getName().endsWith(p);})[0];if(o){o.setSelected(m[p]);}});};
n.prototype.getAllToolbarItems=function(){return this.getContent();};
n.prototype.setInfoOfSelectItems=function(i,s){this.setProperty("infoOfSelectItems",i,s);var t=this;if(this._oSelect){var m=this._getSelectItems();this._oSelect.removeAllItems();m.forEach(function(o){t._oSelect.addItem(o);});}};
return n;},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine('sap/gantt/AdhocLine',["sap/ui/core/Element"],function(E){"use strict";
var A=E.extend("sap.gantt.AdhocLine",{metadata:{library:"sap.gantt",properties:{stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:1},strokeDasharray:{type:"string"},strokeOpacity:{type:"float",defaultValue:1},timeStamp:{type:"string"},description:{type:"string"}}}});
return A;},true);
sap.ui.predefine('sap/gantt/GanttChart',["jquery.sap.global","sap/ui/Device","sap/ui/core/Core","sap/ui/table/TreeTable","./GanttChartBase","./misc/Utility","./drawer/ShapeInRow","./drawer/ShapeCrossRow","./drawer/CursorLine","./drawer/NowLine","./drawer/VerticalLine","./drawer/AdhocLine","./drawer/CalendarPattern","./drawer/ExpandedBackground","./misc/AxisOrdinal","./misc/Format","./eventHandler/AutoScrollHandler","./eventHandler/MouseWheelHandler","./eventHandler/TimePeriodZoomHandler","./axistime/ProportionZoomStrategy","./config/TimeHorizon","./misc/ShapeSelectionModel","./misc/ShapeManager","./eventHandler/ShapeResizeHandler","./eventHandler/ShapeHoverHandler","./eventHandler/TimePopoverHandler","./eventHandler/BirdEyeHandler","sap/ui/thirdparty/d3"],function(q,D,C,T,G,U,S,a,b,N,V,A,c,E,e,F,f,M,g,P,h,m,n,o,p,r,B){"use strict";
var s=G.extend("sap.gantt.GanttChart",{metadata:{designtime:"sap/gantt/designtime/GanttChart.designtime",aggregations:{_treeTable:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"}}}});
s.prototype.init=function(){G.prototype.init.apply(this,arguments);q.sap.measure.start("GanttChart init","GanttPerf:GanttChart init function");this._oTT=new T(this.getId()+"-table",{visibleRowCountMode:"Auto",minAutoRowCount:1,columnHeaderVisible:false});q.extend(this.mDefaultTableProperties,{selectionBehavior:sap.ui.table.SelectionBehavior.RowOnly});this.setTableProperties(q.extend({},this.mDefaultTableProperties));this._oTT.setUseFlatMode(true);this._bJSONTreeBinding=true;this._oRowStatusMap={};this._oTT._bVariableRowHeightEnabled=true;var t=this;this._oTT._collectRowHeights=function(H){var d=T.prototype._collectRowHeights.apply(this,arguments);if(H){return d;}t._aHeights=d;if(t._aHeights[0]!==undefined&&t._aHeights[0]!==0){t._iInferedBaseRowHeightOnTT=t._aHeights[0];}var j=t.getBaseRowHeight();var k=t._getTTFirstRenderingRowIndex();var l=t._aHeights.length;var u=j;var v=t._getDrawingData([k,k+l-1]);if(v&&v.length>0){u=v[0].rowSpan*j;}for(var i=0;i<l;i++){var w=this.getContextByIndex(k+i);if(w){var x;if(t._bJSONTreeBinding){x=w.getObject();}else if(t._aFilteredRowData){x=t._aFilteredRowData[i];}var y=x?x.uid:undefined;if(y&&t._oRowStatusMap[y]){t._aHeights[i]=t._oRowStatusMap[y].visibleRowSpan*j;}else{t._aHeights[i]=u;}}else{t._aHeights[i]=j;}}return t._aHeights;};var R=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._oColumn=new sap.ui.table.Column({template:new sap.ui.core.HTML({content:"<div tabIndex = \" 0 \" style=\" opacity : 0 \">"+R.getText("XCEL_GANTT_CELL")+"</div>"})});this._oTT.addColumn(this._oColumn);this.setAggregation("_treeTable",this._oTT);this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this._oTT.attachRowSelectionChange(this._onRowSelectionChange,this);this._oTT.addEventDelegate({onAfterRendering:this._bindScrollLogicForTT},this);this._oTT.addEventDelegate({onAfterRendering:this._initialSvgDrawing},this);this._oShapeInRowDrawer=new S();this._oShapeCrossRowDrawer=new a();this._oCursorLineDrawer=new b();this._oCalendarPatternDrawer=new c();this._oExpandedBackgroundDrawer=new E();this._oAxisOrdinal=undefined;this._aFilteredRowData=undefined;this._oStatusSet=null;this._nLowerRange=0;this._nUpperRange=0;this._oShapeSelection=new m({selectionMode:this.getShapeSelectionMode(),ganttChart:this});this._oShapeManager=new n(this);this._bMouseDown=false;this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;this._lastHoverRowIndex=undefined;this._oChartSchemesConfigMap={};this._oChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._fExtendFactor=0.382;this._setAxisTimeStrategy(new P());this._mTimeouts={};this._bSuppressSetVisibleHorizon=false;this._oAutoScrollHandler=new f();this._oMouseWheelHandler=new M(this);this._oTimePeriodZoomHandler=new g(this);this._oShapeResizeHandler=new o(this);this._oShapeHoverHandler=new p(this);this._oTimePopoverHandler=new r(this);this._oBirdEyeHandler=new B(this);q.sap.measure.end("GanttChart init");};
s.prototype.setAxisTimeStrategy=function(d){this._setAxisTimeStrategy(d);this._oStatusSet=null;this._draw(true);return this;};
s.prototype._setAxisTimeStrategy=function(d){this.setAggregation("axisTimeStrategy",d,true);this._createAxisTime(d);d.attachEvent("_redrawRequest",this._onRedrawRequest,this);};
s.prototype._onRedrawRequest=function(d){var i=d.getParameter("forceUpdate");var v=d.getParameter("valueBeforeChange");var R=d.getParameter("reasonCode");var O=d.getParameter("originEvent");if(R!=="totalHorizonUpdated"&&v){this._oLastVisibleHorizon=v;if(R!=="syncVisibleHorizon"){var j=this.getAxisTimeStrategy();var k=j.getVisibleHorizon();var l=this.getVisibleWidth();this.fireEvent("_visibleHorizonUpdate",{reasonCode:R,visibleHorizon:k,visibleWidth:l,originEvent:O});}}this.redraw(i);};
s.prototype.setTimeAxis=function(t){this.setProperty("timeAxis",t,true);if(t){var d=t.getZoomStrategy();this.setAxisTimeStrategy(new P({totalHorizon:t.getPlanHorizon().clone(),visibleHorizon:t.getInitHorizon().clone(),timeLineOption:d[t.getGranularity()],coarsestTimeLineOption:d[t.getCoarsestGranularity()],finestTimeLineOption:d[t.getFinestGranularity()],timeLineOptions:d}));}else{this.setAxisTimeStrategy(null);}};
s.prototype.setLocale=function(l){this.setProperty("locale",l,true);var d=this.getAxisTime();if(d){d.setLocale(l);this._draw(true);}return this;};
s.prototype.setChartSchemes=function(d){this.setProperty("chartSchemes",d,true);this._oChartSchemesConfigMap={};if(d){for(var i=0;i<d.length;i++){this._oChartSchemesConfigMap[d[i].getKey()]=d[i];}}this._draw(true);return this;};
s.prototype.setObjectTypes=function(O){this.setProperty("objectTypes",O,true);this._oObjectTypesConfigMap={};if(O){for(var i=0;i<O.length;i++){this._oObjectTypesConfigMap[O[i].getKey()]=O[i];}}this._draw(true);return this;};
s.prototype.setSelectionMode=function(d){this.setProperty("selectionMode",d,true);this.setShapeSelectionMode(d);switch(d){case sap.gantt.SelectionMode.Multiple:case sap.gantt.SelectionMode.MultiWithKeyboard:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.MultiToggle});break;case sap.gantt.SelectionMode.None:case sap.gantt.SelectionMode.Single:this.setTableProperties({selectionMode:d});break;}return this;};
s.prototype.setShapeSelectionMode=function(d){this.setProperty("shapeSelectionMode",d,true);this._oShapeSelection.setSelectionMode(d);return this;};
s.prototype.setTableProperties=function(d){if(d.hasOwnProperty("selectionBehavior")){if(d.selectionBehavior!==sap.ui.table.SelectionBehavior.RowOnly){delete d.selectionBehavior;q.sap.log.warning("Change GanttChart's TreeTable selectionBehavior is not allowed!");}}G.prototype.setTableProperties.apply(this,arguments);return this;};
s.prototype._createAxisTime=function(d){if(d){d.createAxisTime(this.getLocale());this._nLowerRange=Math.ceil(this.getAxisTime().getViewRange()[0]);this._nUpperRange=Math.ceil(this.getAxisTime().getViewRange()[1]);}};
s.prototype.setShapes=function(d){this.setProperty("shapes",d,true);if(this.getAxisTimeStrategy().getAxisTime()&&d&&d.length>0){this._shapesInited=false;this._ensureShapesCreated(function(){this._draw(true);}.bind(this));}return this;};
s.prototype.setTimeZoomRate=function(t){this.setProperty("timeZoomRate",t,true);var d=this.getAxisTimeStrategy();if(d.onSetTimeZoomRate){d.onSetTimeZoomRate(t);}return this;};
s.prototype.redraw=function(d){if(!this._initHorizonApplied){return;}if(d){this.resetWidthInfo();}this._draw(d);};
s.prototype.resetWidthInfo=function(){this.getAxisTime().setViewOffset(0);this._oStatusSet=null;this._nLowerRange=Math.ceil(this.getAxisTime().getViewRange()[0]);this._nUpperRange=Math.ceil(this.getAxisTime().getViewRange()[1]);};
s.prototype.updateRelationships=function(R){var d=this.getBinding("relationships");if(d){var i=d.getContexts(0,0);if(i&&i.length>0){this._aRelationshipsContexts=i;}}this._prepareRelationshipDataFromModel();};
s.prototype.addRelationship=function(R){q.sap.log.error("The control manages the relationships aggregation. The method \"addRelationship\" cannot be used programmatically!");};
s.prototype.insertRelationship=function(i,R){q.sap.log.error("The control manages the relationships aggregation. The method \"insertRelationship\" cannot be used programmatically!");};
s.prototype.removeRelationship=function(R){q.sap.log.error("The control manages the relationships aggregation. The method \"removeRelationship\" cannot be used programmatically!");};
s.prototype.getRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"getRelationships\" cannot be used programmatically!");};
s.prototype.destroyRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"destroyRelationships\" cannot be used programmatically!");};
s.prototype.indexOfRelationship=function(R){q.sap.log.error("The control manages the relationships aggregation. The method \"indexOfRelationship\" cannot be used programmatically!");};
s.prototype.removeAllRelationships=function(){q.sap.log.error("The control manages the relationships aggregation. The method \"removeAllRelationships\" cannot be used programmatically!");};
s.prototype._bindAggregation=function(d,i){if(d=="rows"&&i){var j=this.getModel(i.model);var k=this.getBindingContext(i.model);if(k&&j){i.path=j.resolve(i.path,k);}this._getConfiguredRowKeys(i);this._oTT.bindRows(i);this._bJSONTreeBinding=(j instanceof sap.ui.model.json.JSONModel);}else{return G.prototype._bindAggregation.apply(this,arguments);}};
s.prototype.onBeforeRendering=function(){this._bTableReady=false;this._iSvgHeight=0;this._detachEvents();this._shapesInited=false;this._ensureShapesCreated();};
s.prototype._detachEvents=function(){var $=q(this.getDomSelectorById("svg-ctn"));var d=q(this.getDomSelectorById("header"));$.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);$.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel);d.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel);$.unbind("contextmenu",this._onContextMenu);$.unbind("mouseleave",this._onSvgMouseLeave);$.unbind("mouseenter",this._onSvgMouseEnter);$.unbind("mousedown",this._onSvgMouseDown);$.unbind("mousemove",this._onSvgMouseMove);$.unbind("mouseup",this._onSvgMouseUp);$.unbind("dblclick",this._onSvgDoubleClick);var i="keydown."+this.getId();q(document.body).unbind(i);if(D.support.touch){$.unbind("touchstart",this._onSvgTouchstart);$.unbind("touchend",this._onSvgTouchend);$.unbind("touchmove",this._onSvgTouchmove);d.unbind("touchstart",this._onSvgTouchstart);d.unbind("touchend",this._onSvgTouchend);d.unbind("touchmove",this._onSvgTouchmove);}this._oTimePeriodZoomHandler.detachEvents();};
s.prototype.onAfterRendering=function(){this._attachEvents();};
s.prototype._attachEvents=function(){var $=q(this.getDomSelectorById("svg-ctn"));var d=q(this.getDomSelectorById("header"));if(D.browser.firefox){$.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));d.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{$.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));d.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}$.bind("contextmenu",this._onContextMenu);$.bind("mouseenter",this._onSvgMouseEnter.bind(this));$.bind("mouseleave",this._onSvgMouseLeave.bind(this));$.bind("mousedown",this._onSvgMouseDown.bind(this));$.bind("mousemove",this._onSvgMouseMove.bind(this));$.bind("mouseup",this._onSvgMouseUp.bind(this));$.bind("dblclick",this._onSvgDoubleClick.bind(this));var i="keydown."+this.getId();q(document.body).bind(i,this._onKeyDown.bind(this));if(D.support.touch){$.bind("touchstart",this._onSvgTouchstart.bind(this));$.bind("touchend",this._onSvgTouchend.bind(this));$.bind("touchmove",this._onSvgTouchmove.bind(this));d.bind("touchstart",this._onSvgTouchstart.bind(this));d.bind("touchend",this._onSvgTouchend.bind(this));d.bind("touchmove",this._onSvgTouchmove.bind(this));}this._oTimePeriodZoomHandler.attachEvents();this.attachEvent("_autoScrolling",this._onAutoScrolling,this);};
s.prototype._onAutoScrolling=function(d){if(this._oTimePeriodZoomHandler.isActive()){this._oTimePeriodZoomHandler.handleAutoScrolling(d);}this._oShapeResizeHandler._handleShapeResizingWhenAutoScroll();};
s.prototype._getMouseOrTouchPoint=function(d){if(d.targetTouches&&d.targetTouches.length>0){return d.targetTouches[d.targetTouches.length-1];}else if(d.changedTouches&&d.changedTouches.length>0){return d.changedTouches[d.changedTouches.length-1];}return{"pageX":d.pageX,"pageY":d.pageY};};
s.prototype._onTouchScrollStart=function(d){if(D.system.combi||D.system.phone||D.system.tablet){this._aTouchStartPosition=null;this._bIsScrollVertical=null;var t=this._getMouseOrTouchPoint(d);this._aTouchStartPosition=[t.pageX,t.pageY];var v=this.getTTVsbDom();if(v){this._iTouchScrollTop=v.scrollTop;}var H=this.getTTHsbDom();if(H){this._iTouchScrollLeft=H.scrollLeft;}}};
s.prototype._onTouchScroll=function(d){if((D.system.combi||D.system.phone||D.system.tablet)&&this._aTouchStartPosition){var t=this._getMouseOrTouchPoint(d);var i=(t.pageX-this._aTouchStartPosition[0]);var j=(t.pageY-this._aTouchStartPosition[1]);if(this._bIsScrollVertical==null){this._bIsScrollVertical=Math.abs(j)>Math.abs(i);}if(this._bIsScrollVertical){var v=sap.ui.table.SharedDomRef.VerticalScrollBar;var k=this._oTT.getDomRef(v);if(k){var l=this._iTouchScrollTop-j;if(l>0&&l<(this._oTT.getDomRef(v+"-content").clientHeight-k.clientHeight)-1){this._preventBubbleAndDefault(d);}k.scrollTop=l;}}else{var H=sap.ui.table.SharedDomRef.HorizontalScrollBar;var u=this._oTT.getDomRef(H);if(u){var w=this._iTouchScrollLeft-i;if(w>0&&w<(this._oTT.getDomRef(H+"-content").clientWidth-u.clientWidth)-1){this._preventBubbleAndDefault(d);}u.scrollLeft=w;}}this._bScrolling=true;}};
s.prototype._onMouseWheel=function(d){this._oMouseWheelHandler.handleEvent(d);};
s.prototype.syncMouseWheelZoom=function(d){this._oMouseWheelHandler.handleEvent(d.originEvent,true);};
s.prototype.handleExpandChartChange=function(d,i,j){return this._ensureShapesCreated(function(){j=j?j:this._oTT.getSelectedIndices();if(j.length>0){this._updateRowStatusMap(d,i,j);this._oTT.updateRows();}}.bind(this));};
s.prototype.invertRowExpandStatus=function(d,j){d=d?d:this._oTT.getSelectedIndices();if(d.length>0&&j){for(var i=0;i<d.length;i++){var I=d[i];var k=this._ifRowExpanded(I,j);if(k!==null){this._updateRowStatusMap(!k,j,[I]);}}this._oTT.updateRows();}};
s.prototype._ifRowExpanded=function(i,d){var t=this._oTT;var j=t.getBinding();var k=j.getContextByIndex(i);var l=null;if(k){var u=k.getObject();var v=u.uid;var w=this._getRowSpanWithData(u,d),x=w.name;if(v&&this._oRowStatusMap[v]&&this._oRowStatusMap[v][x]){l=true;}else{l=false;}}return l;};
s.prototype._updateRowStatusMap=function(d,j,k){var t=this._oTT;var l=t.getBinding();for(var i=0;i<k.length;i++){var I=k[i];var u=l.getContextByIndex(I);if(u){var v;if(this._bJSONTreeBinding){v=u.getObject();}else{v=this._aFilteredRowData[I].data;}var w=v.uid;if(w){var x=this._getRowSpanWithData(v,j),y=x.name;if(d){if(this._oRowStatusMap[w]){this._oRowStatusMap[w][y]=x;}else{this._oRowStatusMap[w]={};this._oRowStatusMap[w][y]=x;}}else if(!d&&this._oRowStatusMap[w]){delete this._oRowStatusMap[w][y];delete this._oRowStatusMap[w].visibleRowSpan;if(q.isEmptyObject(this._oRowStatusMap[w])){delete this._oRowStatusMap[w];continue;}}this._getDrawingData([I,I]);}}}};
s.prototype.isRowExpanded=function(){var R=!q.isEmptyObject(this._oRowStatusMap);return R;};
s.prototype._getRowSpanWithData=function(d,i){var R=1,j=null,k=null,l=this.getRowTypeName();for(var t=0;t<i.length;t++){var u=i[t];var v;if(this._oChartSchemesConfigMap[u]&&this._oChartSchemesConfigMap[u].getModeKey()){v=this._oChartSchemesConfigMap[u].getModeKey();}else{v=this.getMode();}if(this._oObjectTypesConfigMap[d[l]]&&this._oObjectTypesConfigMap[d[l]].getExpandedChartSchemeKeys().length>0){var w=this._oObjectTypesConfigMap[d[l]].getExpandedChartSchemeKeys();if(q.inArray(u,w)>-1){var x=this._collectDataNameForValidChartScheme(u,v);if(x){k=x.drawData;R+=x.rowSpan;j=u;}}}}return{rowSpan:R,name:j,data:k};};
s.prototype._updateTableRowHeights=function(){if(this._aHeights){this._oTT._updateRowHeights(this._aHeights,false);}};
s.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this.resetRowStatusMap();};
s.prototype.resetRowStatusMap=function(){this._oRowStatusMap={};};
s.prototype._collectDataNameForValidChartScheme=function(d,i){if(this._oChartSchemesConfigMap[d]){var j=[];var k=this._oChartSchemesConfigMap[d].getShapeKeys();var R=this._oChartSchemesConfigMap[d].getRowSpan();var l=this._oChartSchemesConfigMap[d].getRowIndexName();var t=this._oShapeManager.mShapeConfig;q.each(k,function(K,v){if(t[v]){var u=t[v].getModeKeys();if((u&&u.length>0&&q.inArray(i,u)>-1)||u.length==0||i==sap.gantt.config.DEFAULT_MODE_KEY){j.push(t[v].getShapeDataName());}}});if(j.length>0&&R>=1){return{"drawData":j,"rowSpan":R,"rowIndexName":l};}}};
s.prototype._composeParameterForClickPosition=function(d){var i=q(this.getDomSelectorById("svg"));var j=this._getMouseXPos(d);var k=this._getSvgCoodinateByDiv(i[0],j,d.pageY);var x=j-i.offset().left||d.offsetX;var y=d.pageY-i.offset().top||d.offsetY;if(!this._oAxisOrdinalOfVisibleRow){return null;}var l=this.getAxisTime().viewToTime(x);var L=this._oAxisOrdinalOfVisibleRow.viewToRowIndex(y,this._getVisibleRowCount())+this._oTT.getFirstVisibleRow();var R=U.getRowDatumByEventTarget(d.target);var t=R?R.objectInfoRef:null;var u=false;var v=this._oAxisOrdinal.viewToElementIndex(y);var w=this._aFilteredRowData[v];if(w&&w.index&&w.index!==0){u=true;}var z={"startTime":l,"svgPoint":k,"leadingRowNum":L,"leadingRowInfo":t,"rowIndex":v,"rowInfo":w,"isExpandedRow":u};return z;};
s.prototype.getAllRowData=function(){var d=this._oTT.getBinding("rows");return this._getDrawingData([0,d.getLength()-1]);};
s.prototype.getAllSelections=function(){var d=this.getSelectedRows();var i=this.getSelectedShapes();var j=this.getSelectedRelationships();var k={"rows":d,"shapes":i,"relationships":j};return k;};
s.prototype.getSelectedRows=function(){var d=this._oTT.getSelectedIndices();var j=this._getDrawingData(undefined,d);var k=[];for(var i=0;i<j.length;i++){if(j[i]&&!j[i].parentId){k.push(j[i]);}}return k;};
s.prototype.getSelectedShapes=function(){var d=this._oShapeSelection.getSelectedShapeDatum();var R={};d.forEach(function(i){var j=this._oShapeSelection.getRowDatumByShapeUid(i.uid,this),k=U.getShapeDataNameByUid(i.uid);var l=R[k]||[];l.push({"shapeUid":i.uid,"shapeData":i,"objectInfoRef":j});R[k]=l;}.bind(this));return R;};
s.prototype.getSelectedRelationships=function(){return this._oShapeSelection.getSelectedRelationships();};
s.prototype.getRowByShapeUid=function(d){return this._oShapeSelection.getRowDatumByShapeUid(d,this);};
s.prototype.selectShapes=function(i,d){var j=this._oShapeSelection.selectShapes(i,d);if(j){this._drawSelectedShapes();}return this;};
s.prototype.selectByUid=function(u){var d=this._oShapeSelection.selectShapeByUid(u,this);if(d){this._drawSelectedShapes();}return this;};
s.prototype.deselectShapes=function(i){var d=this._oShapeSelection.deselectShapes(i);if(d){this._drawSelectedShapes();}return this;};
s.prototype.selectRowsAndShapes=function(R,d){if(!R||R.length===0){this.deselectShapes();this.deselectRows();return this;}var j=[];var k=U.getRowDatumById(R,this.getId());q.each(k,function(_,t){var u=t.shapeData;for(var i=0;i<u.length;i++){var v=u[i];if(this.isShapeSelectable(v)){j.push(v.__id__);}}}.bind(this));this._oShapeSelection.selectUnderlyingTableRows(R,this._oTT,d);var l=this._oShapeSelection.selectShapes(j,d);if(l){this._drawSelectedShapes();}return this;};
s.prototype.selectRelationships=function(i,d){var R=U.getShapeDatumById(i,this.getId());var u=this._oShapeSelection.selectRelationships(R,d);if(u){this._drawSelectedShapes();}return this;};
s.prototype.deselectRelationships=function(i){var u=this._oShapeSelection.deselectRelationships(i);if(u){this._drawSelectedShapes();}return this;};
s.prototype.selectRows=function(i,d){this._oShapeSelection.selectUnderlyingTableRows(i,this._oTT,d);return this;};
s.prototype.deselectRows=function(i){this._oShapeSelection.deselectUnderlyingTableRows(i,this._oTT);return this;};
s.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
s.prototype.expand=function(R){this._oTT.expand(R);return this;};
s.prototype.collapse=function(R){this._oTT.collapse(R);return this;};
s.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
s.prototype._onRowSelectionChange=function(d){this.fireRowSelectionChange({originEvent:d});};
s.prototype._selectionChange=function(d,i,j,k){var R=U.getRowDatumByEventTarget(k.target);var l=R?R.objectInfoRef:null;var u=this._oShapeSelection.changeShapeSelection(d,l,i,this._bDragging,this._oShapeResizeHandler.getIsResizing());return u;};
s.prototype._syncTTSelection=function(d){q.sap.measure.start("GanttChart syncTTSelection","GanttPerf:GanttChart syncTTSelection function");var i=d.shiftKey;var j=d.ctrlKey;var $=q(this.getDomSelectorById("svg"))[0];var k=this._getSvgCoodinateByDiv($,this._getMouseXPos(d),d.pageY);var R=parseInt(this._oAxisOrdinalOfVisibleRow.viewToElementIndex(k.y),10);if(R<0){return false;}var v=this._oTT.getRows();var I=v[R].getIndex();var l=this._oTT.getSelectionMode();if(I>=0&&l!==sap.ui.table.SelectionMode.None){if(l===sap.ui.table.SelectionMode.Single){if(!this._oTT.isIndexSelected(I)){this._oTT.setSelectedIndex(I);}else{this._oTT.clearSelection();}}else{j=true;if(i){var t=this._oTT.getSelectedIndex();if(t>=0){if(t<I){this._oTT.addSelectionInterval(t,I);}else{this._oTT.addSelectionInterval(I,t);}}else{this._oTT.setSelectedIndex(I);}}else if(!this._oTT.isIndexSelected(I)){if(j){this._oTT.addSelectionInterval(I,I);}else{this._oTT.setSelectedIndex(I);}}else if(j){this._oTT.removeSelectionInterval(I,I);}else if(this._oTT.getSelectedIndices().length>1){this._oTT.setSelectedIndex(I);}}}q.sap.measure.end("GanttChart syncTTSelection");};
s.prototype._setEventStatus=function(d){switch(d){case"dragEnter":this._bDragStart=true;break;case"mouseDown":this._bMouseDown=true;this._bDragging=false;this._bDragStart=false;this._bScrolling=false;break;case"mouseUp":this._bMouseDown=false;this._bScrolling=false;break;case"shapeDragStart":this._bDragStart=true;break;case"shapeDragging":if(this._bDragStart){this._bDragging=true;}break;case"shapeDragEnd":this._bDragging=false;this._bDragStart=false;this._oDraggingData=undefined;break;case"dragLeave":this._bDragStart=false;break;default:break;}};
s.prototype._handleShapeDragStart=function(d){var j=q(this.getDomSelectorById("svg"));var k=d3.select(d.target).datum();var l=d.target.getAttribute("class").split(" ")[0];var t=this._oShapeManager.isShapeDraggable(k,l);if(k&&t){var u=this._oShapeSelection.getRowDatumByShapeUid(k.uid,this);if(u){var x=this._getMouseXPos(d)-j.offset().left||d.offsetX;var y=d.pageY-j.offset().top||d.offsetY;var v,w,z,H;if(d.target.getAttribute("x")&&d.target.getAttribute("width")){v=parseInt(d.target.getAttribute("x"),10);w=parseInt(d.target.getAttribute("y"),10);z=parseInt(d.target.getAttribute("width"),10);H=parseInt(d.target.getAttribute("height"),10);}else if(k.startTime){var I=this.getAxisTime().timeToView(F.abapTimestampToDate(k.startTime));var J=this.getAxisTime().timeToView(F.abapTimestampToDate(k.endTime));if(C.getConfiguration().getRTL()){v=J;z=(I-J)>0?(I-J):1;}else{v=I;z=(J-I)>0?(J-I):1;}w=y;H=u.rowHeight/2;}else{v=x;z=1;w=y;H=u.rowHeight/2;}var K={"x":x,"y":y,"shapeX":v,"shapeWidth":z,"shapeY":w,"shapeHeight":H};var L=[];L.push({"shapeData":k,"objectInfo":u});var O=this._oShapeSelection.getSelectedShapeDatum();for(var i=0;i<O.length;i++){if(O[i].uid!==k.uid&&this._oShapeManager.isShapeDraggable(O[i])){L.push({"shapeData":O[i],"objectInfo":this._oShapeSelection.getRowDatumByShapeUid(O[i].uid,this)});}}var Q=this._getDraggingDomObjs(d);this._oDraggingData={"sourceShapeData":L,"dragStartPoint":K,"sourceSvgId":this.getId(),"targetSvgId":this.getId(),"domObject":Q.contentDoms,"groupDom":Q.groupDom};this._setEventStatus("shapeDragStart");q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));if(this.getEnableShapeTimeDisplay()){this._oTimePopoverHandler.handleTimePopover(d);}}}};
s.prototype._getDraggingDomObjs=function(d){var i={};var j=d3.select(d.target)[0][0];var k;if(j.parentElement){k=j.parentElement;}else if(j.parentNode){k=j.parentNode;}if(k&&k.getAttribute("class")){var l=k.getAttribute("class");var t=l.split(" ")[0];if(sap.ui.getCore().byId(t)instanceof sap.gantt.shape.Group){i.groupDom=k;i.contentDoms=k.childNodes;}}else{i.groupDom=j;i.contentDoms=[j];}return i;};
s.prototype._handleShapeDragging=function(d){if(!D.support.touch&&(d.button!==0||d.buttons===0||d.ctrlKey)){return false;}var R=C.getConfiguration().getRTL();var i=q(this.getDomSelectorById("svg"));var j=Math.abs((this._getMouseXPos(d)-i.offset().left||d.offsetX)-this._oDraggingData.dragStartPoint.x);var k=Math.abs((d.pageY-i.offset().top||d.offsetY)-this._oDraggingData.dragStartPoint.y);if(j>3||k>3){var l=d3.select("#dragDropShadow");var t=l[0];if(this._oDraggingData===undefined){if(!l.empty()){l.remove();}}else{var u=this._oDraggingData.dragStartPoint.shapeX;var v=this._oDraggingData.dragStartPoint.shapeY;var w=this._oDraggingData.dragStartPoint.x;var x=this._oDraggingData.dragStartPoint.y;var y=12;var z=10;if(l.empty()||t===null){this._handleDragWithoutSelection(d);var H=this._oDraggingData.sourceShapeData.length;t=d3.select("body").append("div").attr("id","dragDropShadow");t.classed("sapGanttDraggingShadow",true);var I=12;var J=12;var K=this._oDraggingData.groupDom.getBoundingClientRect();if(K){y=K.width;z=K.height;I=R?I:Math.ceil(K.right);}if(D.browser.safari){y=this._oDraggingData.dragStartPoint.shapeWidth;z=this._oDraggingData.dragStartPoint.shapeHeight;}var L=z/2;var O='width="'+(y+5)+'" '+'height="'+(z+10)+'"';var Q=q(this._oDraggingData.groupDom).clone();this._resetShadowRelativePosition(Q);var W='<svg '+O+'>'+this._getOuterHTML(Q)+"</svg>";q("#dragDropShadow").append(W);var X=t.select("svg");X.select("g").attr("opacity",0.5);X.append("text").attr("x",y/2-J/2).attr("y",L+4).attr("fill","blue").attr("font-size",J).text(function(){return H;});}var Y;var Z=this._getMouseXPos(d);if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){Y=R?(Z-this._oDraggingData.dragStartPoint.shapeWidth):Z;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){Y=u+Z-w;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){Y=R?Z:(Z-this._oDraggingData.dragStartPoint.shapeWidth);}var $=d.pageY;var _=d.pageY;_=v+$-x;var a1=Y+"px";var b1=_+"px";var c1=y+5+"px";var d1=z+5+"px";d3.select("#dragDropShadow").style({'left':a1,'top':b1,'width':c1,'height':d1});q(document.body).addClass("sapGanttDraggingCursor sapGanttDraggingOverflow");q("svg").addClass("sapGanttDraggingCursor");this._setEventStatus("shapeDragging");this._handleAutoScroll(d);}}};
s.prototype._resetShadowRelativePosition=function(d,i,j){var t=this;if(d.attr("x")!==undefined){if(!i){d.attr("x",0);d.attr("y",2);}}var k=d.children();if(k&&k.length>0){if(!i){k=k.filter(function(v,w){var J=q(w);if(J.is('text')){return false;}if(J.attr("x")==undefined||J.attr("y")==undefined){return false;}return true;});var l,u;k.each(function(v,w){var J=q(w);var x=J.attr("x");var y=J.attr("y")-2;if(!l){l=x;}else{l=x<l?x:l;}if(!u){u=y;}else{u=y<u?y:u;}});if(!l||!u){return;}k.each(function(v,w){var J=q(w);J.attr("x",J.attr("x")-l);J.attr("y",J.attr("y")-u);t._resetShadowRelativePosition(J,l,u);});}else{k.each(function(v,w){var J=q(w);if(J.attr("x")!==undefined){J.attr("x",J.attr("x")-i);J.attr("y",J.attr("y")-j);}t._resetShadowRelativePosition(J,i,j);});}}};
s.prototype._handleDragWithoutSelection=function(d){var i=this._oDraggingData.sourceShapeData[0];if(!this._oShapeSelection.isShapeSelected(i.shapeData.uid)){var R=false;if(!d.ctrlKey){this._oDraggingData.sourceShapeData.splice(1,this._oDraggingData.sourceShapeData.length-1);R=this._oShapeSelection.clearAllSelections();}this._oShapeSelection.selectByShapeData(i.shapeData);this._drawSelectedShapes();this.fireShapeSelectionChange({originEvent:d});if(R){this.fireRelationshipSelectionChange({originEvent:d});}}};
s.prototype._handleAutoScroll=function(d){return this._oAutoScrollHandler.autoScroll(this,d);};
s.prototype._handleShapeDragEnd=function(d){this._oAutoScrollHandler.stop();var i=d3.select("#dragDropShadow");if(!i.empty()){i.remove();}if(this._bDragging&&this._oDraggingData!==undefined){var t=this.getId();this._collectDraggingShapeData(this._oDraggingData,d);this.fireShapeDragEnd({originEvent:d,sourceSvgId:this._oDraggingData.sourceSvgId,targetSvgId:t,sourceShapeData:this._oDraggingData.sourceShapeData,targetData:this._oDraggingData.targetData});}q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q("svg").removeClass("sapGanttDraggingCursor");q(document.body).removeClass("sapGanttDraggingCursor sapGanttDraggingOverflow");this._setEventStatus("shapeDragEnd");};
s.prototype._collectDraggingShapeData=function(d,i){var j=q(this.getDomSelectorById("svg"));var x=parseInt((this._getMouseXPos(i)-j.offset().left||i.offsetX),10);var k=d.dragStartPoint.x;var l=x-parseInt(k,10);var t;if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){t=x;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){t=parseInt(d.dragStartPoint.shapeX,10)+l;}else if(this.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){t=x-parseInt(d.dragStartPoint.shapeWidth,10);}var u=t+parseInt(d.dragStartPoint.shapeWidth,10);var v,w;if(C.getConfiguration().getRTL()===true){v=this.getAxisTime().viewToTime(u).getTime();w=this.getAxisTime().viewToTime(t).getTime();}else{v=this.getAxisTime().viewToTime(t).getTime();w=this.getAxisTime().viewToTime(u).getTime();}var y=this._composeParameterForClickPosition(i);var z=y?y.rowInfo:undefined;d.targetData={"cursorTimestamp":this.getAxisTime().viewToTime(x).getTime(),"shapeTimestamp":{startTime:v,endTime:w},"mouseTimestamp":{startTime:v,endTime:w},"mode":this.getMode(),"objectInfo":z};};
s.prototype.setDraggingData=function(d){if(d!==undefined){this._oDraggingData=d;}if(this._oDraggingData!==undefined){this._oDraggingData.targetSvgId=this.getId();q(document.body).unbind("mousemove.ganttChartDragDrop");q(document).unbind("mouseup.ganttChartDragDrop");q(document.body).bind("mousemove.ganttChartDragDrop",this._handleShapeDragging.bind(this));q(document).bind("mouseup.ganttChartDragDrop",this._handleShapeDragEnd.bind(this));q(document.body).unbind("mousemove.shapeDragDrop");q(document).unbind("mouseup.shapeDragDrop");q(document.body).bind("mousemove.shapeDragDrop",this._oTimePopoverHandler._handleTimePopoverDragging.bind(this._oTimePopoverHandler));q(document).bind("mouseup.shapeDragDrop",this._oTimePopoverHandler._handleTimePopoverEnd.bind(this._oTimePopoverHandler));this._setEventStatus("dragEnter");}};
s.prototype.setTimePopoverData=function(t){this._oTimePopoverHandler.setCurrentPopoverData(t);};
s.prototype._onSvgMouseEnter=function(d){if(d.button===0&&d.buttons!==0&&d.target&&(d.target.id===this.getId()+"-svg-ctn"||d.target.id===this.getId()+"-svg"||this._mouseInSvgCtn(d))){this.fireChartDragEnter({originEvent:d});}};
s.prototype._onSvgMouseLeave=function(d){if(d.target&&(d.target.id===this.getId()+"-svg-ctn"||d.target.id===this.getId()+"-svg"||!this._mouseInSvgCtn(d))){if(this._bDragStart&&this._oDraggingData!==undefined){this._handleDragLeave(d);}this._destroyCursorLine();this._handleHoverLeave();this._oShapeHoverHandler.handleShapeHover(null,d);}};
s.prototype._mouseInSvgCtn=function(d){var $=q(this.getDomSelectorById("svg-ctn"));var i=$.width()-((C.getConfiguration().getRTL()||(q(this.getTTVsbDom()).css("display")=="none"))?0:q(this.getTTVsbDom()).width());var j=$.height();var k=$.offset();var l=this._getMouseXPos(d)-k.left;var t=(d.pageY||d.clientY)-k.top;if(t>=0&&t<j&&l>=0&&l<i){return true;}return false;};
s.prototype._onSvgMouseDown=function(d){this._prepareSelection(d);this._prepareDragging(d);this._oShapeResizeHandler.handleShapeResize(d);};
s.prototype._onSvgMouseMove=function(d){this._drawCursorLine(d);this._handleHover(d);};
s.prototype._onContextMenu=function(d){d.preventDefault();};
s.prototype._onSvgMouseUp=function(d){if(d.button==2){this._handleRightClick(d);}else if(d.button==0&&!this._bDragging&&this._bMouseDown&&!this._oShapeResizeHandler.getIsResizing()){this._handleSelectionChange(d);}};
s.prototype._onSvgDoubleClick=function(d){if(!this._bDragging&&!this._oShapeResizeHandler.getIsResizing()&&!d.ctrlKey&&!d.shiftKey&&!(D.os.name===D.os.OS.MACINTOSH&&d.metaKey)){var i=this._composeParameterForClickPosition(d);this.fireChartDoubleClick({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});}};
s.prototype._onSvgTouchstart=function(d){this._prepareSelection(d);this._onTouchScrollStart(d);};
s.prototype._onSvgTouchmove=function(d){this._onTouchScroll(d);};
s.prototype._onSvgTouchend=function(d){if(this._bScrolling){this._setEventStatus("mouseUp");}};
s.prototype._onKeyDown=function(d){if(d.which===q.sap.KeyCodes.Z&&this._oTimePeriodZoomHandler.isTimePeriodZoomEnabled()){this._oTimePeriodZoomHandler.invertActiveStatus();}};
s.prototype._preventBubbleAndDefault=function(d){d.preventDefault();d.stopPropagation();};
s.prototype._prepareSelection=function(d){if(!D.support.touch&&d.button!==0){return false;}if(!this._bDragging&&!this._oShapeResizeHandler.getIsResizing()){this._setEventStatus("mouseDown");}};
s.prototype._prepareDragging=function(d){if(d.button==0){if(this._oTimePeriodZoomHandler&&this._oTimePeriodZoomHandler.isActive()){this._oTimePeriodZoomHandler.handleDragStart(d);this._preventBubbleAndDefault(d);}else{var i=d3.select(d.target).data()[0];var j,k;if(d.target.getAttribute("class")){j=d.target.getAttribute("class").split(" ")[0];k=d3.select(d.target).classed("sapUiShapeResizingCursor");}if(!k&&j&&i&&this.isShapeSelectable(i,j)){if(this._bMouseDown){this._handleShapeDragStart(d);}this._preventBubbleAndDefault(d);}}}};
s.prototype.syncTimePeriodZoomStatus=function(d){if(d){this._oTimePeriodZoomHandler.activate(true);}else{this._oTimePeriodZoomHandler.deactivate(true);}};
s.prototype.syncTimePeriodZoomOperation=function(d,t,O){this._oTimePeriodZoomHandler.syncTimePeriodZoomOperation(d,t,O);};
s.prototype._handleRightClick=function(d){var i=this._composeParameterForClickPosition(d);this.fireChartRightClick({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});};
s.prototype._handleClick=function(d){var i=this._composeParameterForClickPosition(d);this.fireChartClick({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});};
s.prototype._drawCursorLine=function(d){if(this.getEnableCursorLine()){var i=q(this.getDomSelectorById("svg"));var j=this._getSvgCoodinateByDiv(i[0],this._getMouseXPos(d),d.pageY||d.clientY);this._oCursorLineDrawer.drawSvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"),this.getLocale(),j);}};
s.prototype._destroyCursorLine=function(){if(this.getEnableCursorLine()){this._oCursorLineDrawer.destroySvg(d3.selectAll(".sapGanttChartSvg"),d3.selectAll(".sapGanttChartHeaderSvg"));}};
s.prototype._handleHover=function(d){var i=this._composeParameterForClickPosition(d);var R=i?i.leadingRowNum-this._oTT.getFirstVisibleRow():-1;R=R<0?-1:R;var j=i?i.isExpandedRow:false;var k=d3.select(d.target).data()[0];if(k){var l=this._getMouseXPos(d)-q(this.getDomSelectorById("svg")).offset().left||d.offsetX;this._oShapeResizeHandler.checkShapeResizable(k,d.target,i.svgPoint?i.svgPoint.x:l);}this._oShapeHoverHandler.handleShapeHover(k,d);if(R>-1&&((k!==undefined&&k.uid!==this._lastHoverShapeUid)||(k===undefined&&this._lastHoverShapeUid!==undefined)||R!==this._lastHoverRowIndex)){this.fireChartMouseOver({objectInfo:i?i.rowInfo:undefined,leadingRowInfo:i?i.leadingRowInfo:undefined,timestamp:i?i.startTime.getTime():undefined,svgId:this.getId()+"-svg",svgCoordinate:i?i.svgPoint:undefined,effectingMode:this.getMode(),originEvent:d});if(k!==undefined){this._lastHoverShapeUid=k.uid;}else{this._lastHoverShapeUid=undefined;}}if(R>-1&&R!==this._lastHoverRowIndex){var t=this._oTT;var H=t.getRows()[R];if(H){t.$().find(".sapUiTableRowHvr").trigger("mouseout");if(!j){H.$().trigger("mouseover");}}}if(R!==this._lastHoverRowIndex){this._lastHoverRowIndex=R;}};
s.prototype._handleDragLeave=function(d){this._oDraggingData.targetSvgId=undefined;this._setEventStatus("dragLeave");this.fireChartDragLeave({originEvent:d,draggingSource:this._oDraggingData,timePopoverData:this._oTimePopoverHandler.getCurrentPopoverData()});};
s.prototype._handleHoverLeave=function(){var t=this._oTT;t.$().find(".sapUiTableRowHvr").trigger("mouseleave");this._lastHoverShapeUid=undefined;this._lastHoverRowIndex=-1;};
s.prototype._handleSelectionChange=function(d){var i=d3.select(d.target).datum();var j;if(d.target.getAttribute("class")){j=d.target.getAttribute("class").split(" ")[0];}var k={};if(i!==undefined&&this.isShapeSelectable(i,j)){var l=d.ctrlKey||(D.os.name===sap.ui.Device.os.OS.MACINTOSH&&d.metaKey);k=this._selectionChange(i,l,d.shiftKey,d);}else{if(!(this.getParent()instanceof sap.gantt.GanttChartWithTable)||(this.getParent().getTableProperties().selectionBehavior!==sap.ui.table.SelectionBehavior.RowSelector)){var t=this._composeParameterForClickPosition(d);if(t&&!t.isExpandedRow){this._syncTTSelection(d);}else{return null;}}if(this.getShapeSelectionMode()!==sap.gantt.SelectionMode.MultiWithKeyboard){k.shapeSelectionChange=this._oShapeSelection.clearShapeSelection();k.relationshipSelectionChange=this._oShapeSelection.clearRelationshipSelection();}}if(k.shapeSelectionChange||k.relationshipSelectionChange){this._drawSelectedShapes();}this._setEventStatus("mouseUp");if(k.shapeSelectionChange){this.fireShapeSelectionChange({originEvent:d});}if(k.relationshipSelectionChange){this.fireRelationshipSelectionChange({originEvent:d});}this._handleClick(d);};
s.prototype._bindScrollLogicForTT=function(){this._bindHorizontalScroll();this._bindVerticalScroll();};
s.prototype._bindHorizontalScroll=function(){this._updateScrollLeft();var $=q(this.getTTHsbDom());$.unbind("scroll.sapUiTableHScroll");$.unbind("scroll.sapUiTableHScrollForGanttChart",this._onHSbScroll);$.bind("scroll.sapUiTableHScrollForGanttChart",q.proxy(this._onHSbScroll,this));};
s.prototype._bindVerticalScroll=function(){var $=q(this.getTTVsbDom());$.unbind("scroll.sapUiTableVScrollForGanttChart",this._onVSbScroll);$.bind("scroll.sapUiTableVScrollForGanttChart",q.proxy(this._onVSbScroll,this));};
s.prototype._getSvgHeight=function(){return this._oTT.$().find(".sapUiTableCCnt").height();};
s.prototype._getRowHeights=function(){return this._aHeights;};
s.prototype.setBaseRowHeight=function(d){this.setProperty("baseRowHeight",d,true);this._oTT.setRowHeight(d);return this;};
s.prototype._setInferedBaseRowHeight=function(d){this._iInferedBaseRowHeight=d;};
s.prototype.getBaseRowHeight=function(){return this._iInferedBaseRowHeight?this._iInferedBaseRowHeight:this._iInferedBaseRowHeightOnTT;};
s.prototype._initialSvgDrawing=function(){if(this.getBaseRowHeight()&&this._iSvgHeight!=this._getSvgHeight()){this._iSvgHeight=this._getSvgHeight();this._bTableReady=true;this._onTTRowUpdate();}};
s.prototype._onHSbScroll=function(d){if(this._initHorizonApplied){var i=this._getHSBScrollLeft();if(!this._bSuppressSetVisibleHorizon){var j=this._getScrollRateByScrollLeft(i);var t=this._getVisibleHorizonByScrollRate(j);this._updateVisibleHorizon(t,"horizontalScroll");}this._bSuppressSetVisibleHorizon=false;var k=this.getAxisTimeStrategy();var v=k.getVisibleHorizon();var l=this.getVisibleWidth();this.fireHorizontalScroll({scrollSteps:i,startTime:v.getStartTime(),endTime:v.getEndTime(),visibleWidth:l});}};
s.prototype._getScrollRateByScrollLeft=function(i){var H=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar+"-content");var d=H.width();var j=this.getVisibleWidth();var k=0;if(d!==j){if(C.getConfiguration().getRTL()===true&&(D.browser.msie||D.browser.edge)){k=(d-i-j)/(d-j);}else if(C.getConfiguration().getRTL()===true&&D.browser.safari){k=(d+i-j)/(d-j);}else{k=i/(d-j);}k=k<0?0:k;k=k>1?1:k;}return k;};
s.prototype._getScrollRateByHorizon=function(t){var d=0;var i=this._nUpperRange-this._nLowerRange;var j=this.getVisibleWidth();if(this._initHorizonApplied&&i!==j){var k;if(C.getConfiguration().getRTL()){k=this.getAxisTime().timeToView(F.abapTimestampToDate(t.getEndTime()),true);d=k/(i-j);}else{k=this.getAxisTime().timeToView(F.abapTimestampToDate(t.getStartTime()),true);d=k/(i-j);}d=d<0?0:d;d=d>1?1:d;}return d;};
s.prototype._getHSBScrollLeftByScrollRate=function(d){var H=this._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar+"-content");var i=H.width();var j=this.getVisibleWidth();var k=d*(i-j);if(C.getConfiguration().getRTL()&&(D.browser.msie||D.browser.edge)){k=i-j-k;}else if(C.getConfiguration().getRTL()&&D.browser.safari){k=0-(i-j-k);}return k;};
s.prototype._getContentScrollLeftByScrollRate=function(d){var i=this._nUpperRange-this._nLowerRange;var j=this.getVisibleWidth();var k=d*(i-j);return k;};
s.prototype._getVisibleHorizonByScrollRate=function(d){var i=this._getContentScrollLeftByScrollRate(d);var t=this.getAxisTimeStrategy().getTotalHorizon();var v;var j={};var R=C.getConfiguration().getRTL();if(d===0){j.startTime=R?undefined:t.getStartTime();j.endTime=R?t.getEndTime():undefined;}else if(d===1){j.startTime=R?t.getStartTime():undefined;j.endTime=R?undefined:t.getEndTime();}else{var k=this.getAxisTime().viewToTime(i,true);j.startTime=R?undefined:k;j.endTime=R?k:undefined;}v=new h(j);return v;};
s.prototype.syncVisibleHorizon=function(t,v,k){var d=this.getAxisTimeStrategy();var i=d.getTotalHorizon();var j;if(v!==undefined){var l=this.getVisibleWidth();if(k){var u=d.getVisibleHorizon();var w=F.abapTimestampToDate(u.getStartTime());j=U.calculateHorizonByWidth(t,v,l,w);}else{j=U.calculateHorizonByWidth(t,v,l);}}else{j=t;}if(i.getEndTime()<j.getEndTime()){var x=F.abapTimestampToDate(j.getEndTime()).getTime()-F.abapTimestampToDate(j.getStartTime()).getTime();var y=F.abapTimestampToDate(i.getEndTime());var z=new Date();z.setTime(y.getTime()-x);j=new h({startTime:z,endTime:y});}this._updateVisibleHorizon(j,"syncVisibleHorizon");};
s.prototype._onVSbScroll=function(){if(!this._mTimeouts._drawSvg){this.$().find(".sapGanttChartSvg").css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");}this.fireVerticalScroll({scrollSteps:this._oTT.getFirstVisibleRow(),scrollPosition:q(this.getTTVsbDom()).scrollTop()});};
s.prototype._hSbScrollLeft=function(d){var $=q(this.getDomSelectorById("svg-ctn"));var i=q(this.getDomSelectorById("header"));var j;if(C.getConfiguration().getRTL()===true){if(!D.browser.safari){j=this._oStatusSet.aViewBoundary[1]-i.width()-d;if(j<0){j=0;}}else{j=0-d;}}else{j=d;}if(C.getConfiguration().getRTL()===true&&D.browser.firefox){if(Math.abs($.scrollLeftRTL()-j)>1){$.scrollLeftRTL(j);}if(Math.abs(i.scrollLeftRTL()-j)>1){i.scrollLeftRTL(j);}}else{if(Math.abs($.scrollLeft()-j)>1){$.scrollLeft(j);}if(Math.abs(i.scrollLeft()-j)>1){i.scrollLeft(j);}}};
s.prototype._doBirdEye=function(d){this._oBirdEyeHandler.doBirdEye(d);};
s.prototype.getLargestHorizonByDataRange=function(d,R,i){var j=this._oShapeManager.getAllShapeInstances();var k=[];if(j&&j.length>0){if(d===sap.gantt.config.BirdEyeRange.AllRows){k=k.concat(this.getAllRowData());}else if(d===sap.gantt.config.BirdEyeRange.VisibleRows){k=k.concat(this._aFilteredRowData);}else if(!d&&R>=0&&this._aFilteredRowData.length>R){k=k.concat(this._aFilteredRowData[R]);}this._oShapeManager.collectDataForAllShapeInstances(k,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);}return this._oBirdEyeHandler.calculateLargestVisibleHorizon(j,i);};
s.prototype.doBirdEyeOnRow=function(R){var i=this._getTTFirstRenderingRowIndex();R=R-i;this._oBirdEyeHandler.doBirdEye(null,R);};
s.prototype.jumpToPosition=function(v){if(v instanceof Date){this._updateVisibleHorizon(new h({startTime:v}),"jumpToPosition");}else if(v instanceof Array){this._updateVisibleHorizon(new h({startTime:v[0],endTime:v[1]}),"jumpToPosition");}else if(v===undefined){this._updateVisibleHorizon(this.getAxisTimeStrategy().getTotalHorizon(),"jumpToPosition");}};
s.prototype._updateVisibleHorizon=function(t,R){var d=this.getAxisTimeStrategy();var i=this.getVisibleWidth();d.updateGanttVisibleWidth(i);d.setVisibleHorizonWithReason(t,R);};
s.prototype._onTTRowUpdate=function(){if(this._bTableReady){this._syncSvgHeightWithTT();this._syncSvgDataWithTT();this._draw(true);}};
s.prototype._syncSvgHeightWithTT=function(){var $=this.$().find(".sapGanttChartSvgCtn");$.height(this._getSvgHeight());var d=this.$().find(".sapGanttChartSvg");d.height(q(this._oTT.$().find(".sapUiTableCtrlRowScroll:not(.sapUiTableCHT)")).height());};
s.prototype._syncSvgDataWithTT=function(){var d=this._oTT.getBinding("rows");if(!d){return false;}var i=this._getTTFirstRenderingRowIndex();var v=this._getVisibleRowCount();this._aFilteredRowData=[];this._aNonVisibleShapeData=[];var _=[];var j=[];var k=[i,i+v-1];var I=this._aRelationshipsContexts&&this._aRelationshipsContexts.length>0;if(I){d.getContexts(0,0);if(i>0){_=this._getDrawingData([0,i-1]);}j=this._getDrawingData([i+v,d.getLength()-1]);d.getContexts(k[0],k[1]);}this._aFilteredRowData=this._getDrawingData(k);this._aNonVisibleShapeData=_.concat(j);var l=this.getBaseRowHeight();if(!l){l=0;}this._oAxisOrdinal=this._createAxisOrdinal(this._aFilteredRowData,l,0);this._cacheObjectPosition(this._aFilteredRowData,this._oAxisOrdinal);this._cacheObjectPosition(_,this._oAxisOrdinal,true);this._cacheObjectPosition(j,this._oAxisOrdinal,false);if(!this._aVisibleRange||this._aVisibleRange[0]!==k[0]||this._aVisibleRange[1]!==k[1]){this._aVisibleRange=k;return true;}return false;};
s.prototype._cacheObjectPosition=function(d,l,t){if(d&&d.length>0){if(t===true){for(var i=0;i<d.length;i++){d[i].y=-100;d[i].rowHeight=l.getViewBandWidth();}}else if(t===false){for(var j=0;j<d.length;j++){d[j].y=l.getViewRange()[1]+100;d[j].rowHeight=l.getViewBandWidth();}}else{var v=[];var u=[];for(var k=0;k<d.length;k++){d[k].y=l.elementToView(d[k].uid);if(k>0){d[k-1].rowHeight=d[k].y-d[k-1].y;}if(d[k].visibleRowSpan){d[k].visibleRowHeight=d[k].visibleRowSpan*l.getViewBandWidth();v.push(d[k].uid);u.push(d[k].visibleRowSpan);}}d[d.length-1].rowHeight=l.getViewRange()[1]-d[d.length-1].y;this._oAxisOrdinalOfVisibleRow=new e(v,u,this.getBaseRowHeight(),0);}}};
s.prototype._prepareRelationshipDataFromModel=function(){this._aRelationships=[];if(this._aRelationshipsContexts){for(var i=0;i<this._aRelationshipsContexts.length;i++){var R=this._aRelationshipsContexts[i].getObject();if(R!==undefined){this._aRelationships.push(R);}}}U.generateUidForRelationship(this._aRelationships,this.getRlsIdName());};
s.prototype._createAxisOrdinal=function(d,i,j){var R=d.map(function(l){return l.uid;});var k=d.map(function(l){if(l.rowSpan){return l.rowSpan;}else{return 1;}});return new e(R,k,i,j);};
s.prototype.getFilteredRowData=function(R){return this._aFilteredRowData;};
s.prototype._getDrawingData=function(R,d){var t=function(e1,g1,i1,j1){if(!e1[g1]){e1.push({});}if(!e1[g1][i1]){e1[g1][i1]=[];}e1[g1][i1].push(j1);};var i,j,k,l,u,v;var w=this.getRowIdName();var x=this.getRowTypeName();var y=this._oTT.getBinding("rows");var z=this._oTT.getBindingInfo("rows");var H=[];var I=[],J;if(d){I=d;}else{for(i=R[0];i<=R[1];i++){I.push(i);}}J=I.length;if(y!==undefined){var K=y.getModel();var L=this.getShapeDataNames();for(i=0;i<J;i++){var O=this._oTT.getContextByIndex(I[i]);if(!O){continue;}else{u=O.getObject();if(!u){continue;}}var Q=1;v=this._oObjectTypesConfigMap[u[x]]?this._oObjectTypesConfigMap[u[x]].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;if(u[x]){var W=this._oChartSchemesConfigMap[v];if(W){Q=W.getRowSpan();}}var X={"bindingObj":y,"bindingInfo":z,"contextObj":O,"data":u,"id":u[w],"type":u[x],"rowSpan":Q,"chartScheme":v,"rowIndex":I[i],"index":0,"visibleRowSpan":Q};H.push(X);if(!this._bJSONTreeBinding){if(L&&L.length>0){for(j=0;j<L.length;j++){var Y;if(typeof L[j]==="string"){Y=L[j];}else{Y=L[j].name;}var Z=O.getProperty(Y);var $;if(Z){X.data[Y]=[];for(k=0;k<Z.length;k++){var _=Z[k];if(typeof _==="string"){$=K.getData("/"+_);}else{$=_;}X.data[Y].push($);}}}}}U.generateRowUid([X],this._oObjectTypesConfigMap,L,undefined,w);var a1=u.uid;if(a1&&this._oRowStatusMap[a1]){for(v in this._oRowStatusMap[a1]){var b1;if(this._oChartSchemesConfigMap[v]&&this._oChartSchemesConfigMap[v].getModeKey()&&this._oChartSchemesConfigMap[v].getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY){b1=this._oChartSchemesConfigMap[v].getModeKey();}else{b1=this.getMode();}var c1=this._collectDataNameForValidChartScheme(v,b1);if(c1&&c1.drawData){var d1=0;var e1=[{}];for(j=0;j<c1.drawData.length;j++){if(!u[c1.drawData[j]]){continue;}for(k=0;k<u[c1.drawData[j]].length;k++){var f1=u[c1.drawData[j]][k][c1.rowIndexName];if(f1&&d1<f1){d1=f1;}}}if(d1>0){for(j=0;j<c1.drawData.length;j++){if(!u[c1.drawData[j]]){continue;}for(k=0;k<u[c1.drawData[j]].length;k++){var g1=u[c1.drawData[j]][k][c1.rowIndexName];if(g1){t(e1,g1,c1.drawData[j],u[c1.drawData[j]][k]);}else{for(l=1;l<=d1;l++){t(e1,l,c1.drawData[j],u[c1.drawData[j]][k]);}}}}for(j=1;j<=d1;j++){var h1={"bindingObj":y,"bindingInfo":z,"data":e1[j],"id":u[w],"type":u[x],"parentId":X.id,"rowSpan":c1.rowSpan,"chartScheme":v,"rowIndex":I[i],"index":j,"icon":this._oChartSchemesConfigMap[v].getIcon(),"closeIcon":"./image/closeChart.png","name":this._oChartSchemesConfigMap[v].getName()};U.generateRowUid([h1],this._oObjectTypesConfigMap,L,undefined,w);H.push(h1);X.visibleRowSpan+=c1.rowSpan;}}}}this._oRowStatusMap[a1].visibleRowSpan=X.visibleRowSpan;}}}return H;};
s.prototype._prepareVerticalDrawingRange=function(){var d=this._oTT.getBinding("rows").getLength()-1;if(d<0){return[0,-1];}var i=this._getTTFirstRenderingRowIndex();var j=i+this._getVisibleRowCount()-1;var k=i;var l=j<d?j:d;return[k,l];};
s.prototype._prepareHorizontalDrawingRange=function(){var d=this._nUpperRange-this._nLowerRange;var i=this.getVisibleWidth();if(!this._oStatusSet){this._updateScrollWidth();}var j=this._getContentScrollLeft();if(this._oStatusSet){if((i>=d||(this._oStatusSet.aViewBoundary[0]<=j-this._oStatusSet.nOffset&&this._oStatusSet.aViewBoundary[1]>=j+i-this._oStatusSet.nOffset))){if(!this._mTimeouts._drawSvg){this._updateScrollLeft();this._scrollSvg();}return false;}}var k=i*(1+this._fExtendFactor*2);var l=j-i*this._fExtendFactor;if(l<this._nLowerRange){k+=l;l=0;}if(l+k>this._nUpperRange){k=this._nUpperRange-l;}this.getAxisTime().setViewOffset(l);if(k<0){return false;}this._oStatusSet={nWidth:k,nOffset:l,nScrollLeft:j,aViewBoundary:[0,k],aTimeBoundary:[this.getAxisTime().viewToTime(0),this.getAxisTime().viewToTime(k)],bRTL:C.getConfiguration().getRTL()};return true;};
s.prototype._draw=function(d){if(!this._bTableReady){return;}this._ensureShapesCreated(function(){var i=this._nUpperRange-this._nLowerRange;if(i<=2){return;}var j=this.getVisibleWidth();if(!j||j<=0||j>document.body.clientWidth){return;}var k=this.getAxisTimeStrategy().syncContext(j);this.fireEvent("_zoomInfoUpdated",k);if(k.axisTimeChanged){this.setProperty("timeZoomRate",this.getAxisTime().getZoomRate(),true);this.resetWidthInfo();}if(!this._prepareHorizontalDrawingRange()&&!d){return;}this._updateTableRowHeights();var t=this;this._mTimeouts._drawSvg=this._mTimeouts._drawSvg||window.setTimeout(function(){t._drawSvg();},0);}.bind(this));};
s.prototype.getVisibleWidth=function(){var $=q(this.getDomSelectorById("svg-ctn"));if(!$){return null;}var d=this.getTTVsbDom()!=null?this.getTTVsbDom().getBoundingClientRect().width:0;var i=$.width()-(C.getConfiguration().getRTL()?0:d);if(!i||i<=0){return null;}return i;};
s.prototype._updateScrollWidth=function(){var d=this._nUpperRange-this._nLowerRange;this._oColumn.setWidth((d-4)+"px");};
s.prototype._updateScrollLeft=function(u){var $=q(this.getTTHsbDom());var d=this._calHSBScrollLeft();var i=this._getHSBScrollLeft($);if(Math.abs(i-d)>1){this._bSuppressSetVisibleHorizon=!u;if((C.getConfiguration().getRTL()===true&&D.browser.firefox)){$.scrollLeftRTL(d);}else{$.scrollLeft(d);}}else if(this._forceHsbScrollSync(i,d)){this._bSuppressSetVisibleHorizon=!u;this._onHSbScroll();}};
s.prototype._forceHsbScrollSync=function(d,i){if(this._oLastVisibleHorizon){var v=this.getAxisTimeStrategy().getVisibleHorizon();if(v&&(this._oLastVisibleHorizon.getStartTime()!=v.getStartTime()||this._oLastVisibleHorizon.getEndTime()!=v.getEndTime())){this._oLastVisibleHorizon=v;return true;}}return false;};
s.prototype._calHSBScrollLeft=function(){var t=this.getAxisTimeStrategy().getVisibleHorizon();var d=this._getScrollRateByHorizon(t);var i=this._getHSBScrollLeftByScrollRate(d);return i;};
s.prototype._getHSBScrollLeft=function($){if(!$){$=q(this.getTTHsbDom());}return(C.getConfiguration().getRTL()===true&&D.browser.firefox)?$.scrollLeftRTL():$.scrollLeft();};
s.prototype._scrollSvg=function(){var $=q(this.getDomSelectorById("svg"));var d=q(this.getDomSelectorById("header-svg"));if(Math.abs(this._oStatusSet.nWidth-$.width())>1){$.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width()));}if(Math.abs(this._oStatusSet.nWidth-d.width())>1){d.width(this._oStatusSet.nWidth+((C.getConfiguration().getRTL())?0:q(this.getTTVsbDom()).width()));}var i=this.getVisibleWidth();var j=this._getContentScrollLeft();if(C.getConfiguration().getRTL()===true&&!(D.browser.msie||D.browser.edge)){this._hSbScrollLeft(this._oStatusSet.nOffset-j+this._oStatusSet.nWidth-i);}else{this._hSbScrollLeft(j-this._oStatusSet.nOffset);}};
s.prototype._getContentScrollLeft=function(){var t=this.getAxisTimeStrategy().getVisibleHorizon();var d=this._getScrollRateByHorizon(t);var i=this._getContentScrollLeftByScrollRate(d);return i;};
s.prototype._drawSvg=function(){q.sap.measure.start("GanttChart _drawSvg","GanttPerf:GanttChart _drawSvg function");if(!this._initHorizonApplied){this._prepareHorizontalDrawingRange();this._initHorizonApplied=true;this._updateScrollLeft(true);}else{this._updateScrollLeft();}q(this.getDomSelectorById("svg-ctn")).css("visibility","hidden");this._scrollSvg();q(this.getDomSelectorById("svg-ctn")).css("visibility","visible");this._sUiSizeMode=U.findSapUiSizeClass(this);this._drawCalendarPattern();this._drawHeader();this._drawNowLine();this._drawVerticalLine();this._drawExpandedBackground();this._drawShapes();this._drawSelectedShapes();this._drawAdhocLine();delete this._mTimeouts._drawSvg;this.$().find(".sapGanttChartSvg").css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");this.fireEvent("_shapesUpdated",{aSvg:q(this.getDomSelectorById("svg"))});q.sap.measure.end("GanttChart _drawSvg");};
s.prototype._drawHeader=function(){var $=q(this.getDomRef()).find(".sapGanttChartHeader");var j=$.height();var H=d3.select(q(this.getDomRef()).find(".sapGanttChartHeaderSvg").get(0));H.attr("height",j);var k=j/5*2;var l=j/5*4;var t=j/5*4;var u=this.getAxisTimeStrategy();var v=window.screen.width;var L=this.getAxisTime().getTickTimeIntervalLabel(u.getTimeLineOption(),null,[0,this._oStatusSet.nWidth>=v?this._oStatusSet.nWidth:v]);H.selectAll("g").remove();var w=H.append("g");w.selectAll("label0").data(L[0]).enter().append("text").classed("sapGanttTimeHeaderSvgText0",true).text(function(d){return d.label;}).attr("x",this._getXwithOffset).attr("y",function(d){return k;}).attr("text-anchor","start");w.selectAll("label1").data(L[1]).enter().append("text").classed("sapGanttTimeHeaderSvgText1",true).text(function(d){return d.label;}).attr("x",this._getXwithOffset).attr("y",function(d){return t;});d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText1").each(function(d,i){d3.select(this).append("title").text(function(d){if(d!=null){return d.largeLabel;}});});if((D.browser.msie||D.browser.edge)&&C.getConfiguration().getRTL()){d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText0").each(function(d,i){d3.select(this).attr("transform",function(d){var O="translate("+(-U.calculateStringLength(d.label)*parseInt(q(".sapGanttTimeHeaderSvgText0").css("font-size"),10)/2)+")";return O;});});d3.selectAll(".sapGanttChartHeader .sapGanttTimeHeaderSvgText1").each(function(d,i){d3.select(this).attr("transform",function(d){var O="translate("+(-U.calculateStringLength(d.label)*parseInt(q(".sapGanttTimeHeaderSvgText1").css("font-size"),10)/2)+")";return O;});});}var x="";for(var i=0;i<L[1].length;i++){var y=L[1][i];if(y){x+=" M"+" "+(y.value-1/2)+" "+l+" L"+" "+(y.value-1/2)+" "+j;}}var z="";for(var i=0;i<L[0].length;i++){var y=L[0][i];if(y){z+=" M"+" "+(y.value-1/2)+" 0"+" L"+" "+(y.value-1/2)+" "+j/2;}}w.append("path").classed("sapGanttTimeHeaderSvgPath",true).attr("d",x);w.append("path").classed("sapGanttTimeHeaderLargeIntervalSvgPath",true).attr("d",z);};
s.prototype._getXwithOffset=function(d){var O=5;if(C.getConfiguration().getRTL()){return d.value-O;}else{return d.value+O;}};
s.prototype._drawCalendarPattern=function(){var $=d3.select(this.getDomSelectorById("svg"));this._oCalendarPatternDrawer.drawSvg($,this.getId(),this.getCalendarDef(),this._oStatusSet,this.getBaseRowHeight());};
s.prototype._drawNowLine=function(){this._oNowlineDrawer=new N(this.getAxisTime());var $=d3.select(this.getDomSelectorById("header-svg")),d=d3.select(this.getDomSelectorById("svg"));if(this.getEnableNowLine()){this._oNowlineDrawer.drawSvg(d,$);}else{this._oNowlineDrawer.destroySvg(d,$);}};
s.prototype._drawVerticalLine=function(){this._oVerticalLineDrawer=new V(this.getAxisTime());var $=d3.select(this.getDomSelectorById("svg"));if(this.getEnableVerticalLine()){this._oVerticalLineDrawer.drawSvg($);}else{this._oVerticalLineDrawer.destroySvg($);}};
s.prototype._drawAdhocLine=function(){this._oAdhocLineDrawer=new A(this.getAxisTime());var $=d3.select(this.getDomSelectorById("svg"));if(this.getEnableAdhocLine()){this._oAdhocLineDrawer.drawSvg($,this.getAdhocLines(),this._oStatusSet,this.getAdhocLineLayer());}else{this._oAdhocLineDrawer.destroySvg($);}};
s.prototype._drawExpandedBackground=function(){var d=d3.select(this.getDomSelectorById("svg"));if(!this._oTT||!this._oTT.getRows()||this._oTT.getRows().length<=0){return;}if(this._aFilteredRowData){var i=this._composeChartSchemeBackgroundConfig();this._oExpandedBackgroundDrawer.drawSvg(d,this._aFilteredRowData,i);}};
s.prototype._composeChartSchemeBackgroundConfig=function(){var d=this._oChartSchemesConfigMap;var i={};if(d){for(var j in d){if(d[j].getHaveBackground()){i[j]=d[j].getBackgroundClass();}}}return i;};
s.prototype._drawShapes=function(){var d=d3.select(this.getDomSelectorById("svg"));var j=this._oShapeManager.getAllShapeInstances();var k=this._oShapeManager.mShapeInstance;if(this._aFilteredRowData&&j&&j.length>0){this._oShapeManager.collectDataForAllShapeInstances(this._aFilteredRowData,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);var l=this.getAxisTime();var t=this._oShapeCrossRowDrawer.generateRelationshipDataSet(d,k,this._aNonVisibleShapeData,this.getShapeDataNames(),this._aRelationships,l,this._oAxisOrdinal);for(var i=0;i<j.length;i++){var u=j[i];switch(u.getCategory(null,l,this._oAxisOrdinal)){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(d,u,l,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:u.dataSet=this._oShapeManager.isRelationshipDisplayable(u)?t:[];this._oShapeCrossRowDrawer.drawSvg(d,u,l,this._oAxisOrdinal);break;default:break;}}}};
s.prototype.getShapeInstance=function(d){this._ensureShapesCreatedSync();return this._oShapeManager.mShapeInstance[d];};
s.prototype._drawSelectedShapes=function(){var d=d3.select(this.getDomSelectorById("svg"));var i=this._oShapeManager.mShapeInstance;this._oShapeManager.collectDataForSelectedShapes(this._oShapeSelection,this._oObjectTypesConfigMap,this._oChartSchemesConfigMap);var j=this.getAxisTime();var k=this._oShapeCrossRowDrawer.generateRelationshipDataSet(d,i,this._aNonVisibleShapeData,this.getShapeDataNames(),this._oShapeSelection.getSelectedRelationships(),j,this._oAxisOrdinal);for(var l in i){var t=i[l].getAggregation("selectedShape");var u=t.getCategory(null,this._oAxisTime,this._oAxisOrdinal);switch(u){case sap.gantt.shape.ShapeCategory.InRowShape:this._oShapeInRowDrawer.drawSvg(d,t,j,this._oAxisOrdinal,this._oStatusSet);break;case sap.gantt.shape.ShapeCategory.Relationship:t.dataSet=k;this._oShapeCrossRowDrawer.drawSvg(d,t,j,this._oAxisOrdinal);break;default:break;}}};
s.prototype._getSvgCoodinateByDiv=function(d,x,y){var i=d.createSVGPoint();i.x=x;i.y=y;i=i.matrixTransform(d.getScreenCTM().inverse());i.svgHeight=d.height.baseVal.value;i.svgId=this.getId()+"-svg";return i;};
s.prototype.isShapeSelectable=function(d,i){return this._oShapeManager.isShapeSelectable(d,i);};
s.prototype.getAxisOrdinal=function(){return this._oAxisOrdinal;};
s.prototype._ensureAxisTimeCreated=function(){var d=this.getAxisTimeStrategy().getAxisTime();if(!d){this._createAxisTime(this.getAxisTimeStrategy());d=this.getAxisTimeStrategy().getAxisTime();}};
s.prototype._ensureShapesCreatedSync=function(){this._ensureAxisTimeCreated();if(!this._shapesInited){var d=this.getProperty("shapes");if(d&&d.length>0){this._oShapeManager.instantiateShapesSync(d);}this._shapesInited=true;}};
s.prototype._ensureShapesCreated=function(d){d=d||function(){};this._ensureAxisTimeCreated();if(!this._shapesInited){var i=this.getProperty("shapes");if(i&&i.length>0){try{this._oShapeManager.instantiateShapesSync(i);this._shapesInited=true;d();}catch(j){this._oShapeManager.instantiateShapes(i).then(function(){this._shapesInited=true;d();}.bind(this)).catch(function(){});}}else{this._shapesInited=true;d();}}else{d();}};
s.prototype.getAxisTime=function(){this._ensureAxisTimeCreated();var d=this.getAxisTimeStrategy().getAxisTime();return d;};
s.prototype.ondblclick=function(d){return null;};
s.prototype.onclick=function(d){return null;};
s.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
s.prototype.setFirstVisibleRow=function(R){this.setTableProperties({firstVisableRow:R});return this;};
s.prototype._getVisibleRowCount=function(){return this._oTT.getVisibleRowCount()+1;};
s.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}};
s.prototype.exit=function(){this._oShapeManager.destroy();this._detachEvents();this._cleanUpTimers();};
s.prototype._cleanUpTimers=function(){for(var k in this._mTimeouts){if(this._mTimeouts[k]){clearTimeout(this._mTimeouts[k]);this._mTimeouts[k]=undefined;}}};
s.prototype.getTTHsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);};
s.prototype.getTTVsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);};
s.prototype._getTTFirstRenderingRowIndex=function(){if(this._oTT.getRows().length>0){return this._oTT.getRows()[0].getIndex();}return this._oTT.getFirstVisibleRow();};
s.prototype._getMouseXPos=function(d){if(D.browser.edge){return d.clientX;}return d.pageX;};
s.prototype._getOuterHTML=function(d){if(D.browser.msie){return q('<div>').append(d).html();}return d.prop("outerHTML");};
return s;},true);
sap.ui.predefine('sap/gantt/GanttChartBase',['jquery.sap.global','sap/gantt/library','sap/ui/core/Control',"./misc/Utility"],function(q,l,C,U){"use strict";
var G=C.extend("sap.gantt.GanttChartBase",{metadata:{"abstract":true,library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},enableShapeTimeDisplay:{type:"boolean",defaultValue:false},timeZoomRate:{type:"float",defaultValue:1},mode:{type:"string",defaultValue:l.config.DEFAULT_MODE_KEY},selectionMode:{type:"sap.gantt.SelectionMode",defaultValue:l.SelectionMode.MultiWithKeyboard},shapeSelectionMode:{type:"sap.gantt.SelectionMode",defaultValue:l.SelectionMode.MultiWithKeyboard},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},hierarchyKey:{type:"string",defaultValue:l.config.DEFAULT_HIERARCHY_KEY},baseRowHeight:{type:"int",group:"Appearance",defaultValue:null},svgDefs:{type:"object",defaultValue:null},timeAxis:{type:"object",defaultValue:l.config.DEFAULT_TIME_AXIS},modes:{type:"object[]",defaultValue:l.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:l.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:l.config.DEFAULT_HIERARCHYS},objectTypes:{type:"object[]",defaultValue:l.config.DEFAULT_OBJECT_TYPES},chartSchemes:{type:"object[]",defaultValue:l.config.DEFAULT_CHART_SCHEMES},locale:{type:"object",defaultValue:l.config.DEFAULT_LOCALE_CET},shapeDataNames:{type:"sap.gantt.GenericArray",defaultValue:[]},shapes:{type:"object[]",defaultValue:[]},adhocLineLayer:{type:"string",defaultValue:l.AdhocLineLayer.Top},tableProperties:{type:"object",defaultValue:{}},ghostAlignment:{type:"string",defaultValue:l.dragdrop.GhostAlignment.None}},aggregations:{rows:{type:"sap.ui.core.Control",multiple:true,singularName:"row",bindable:"bindable",visibility:"public"},relationships:{type:"sap.ui.core.Control",multiple:true,bindable:"bindable",visibility:"public"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable",visibility:"public"},axisTimeStrategy:{type:"sap.gantt.axistime.AxisTimeStrategyBase",multiple:false,bindable:"bindable",visibility:"public"},adhocLines:{type:"sap.gantt.AdhocLine",multiple:true,singularName:"adhocLine",bindable:"bindable",visibility:"public"}},events:{ganttChartSwitchRequested:{parameters:{hierarchyKey:{type:"string"}}},splitterResize:{parameters:{id:{type:"string"},oldSizes:{type:"int[]"},newSizes:{type:"int[]"},zoomInfo:{type:"object"}}},horizontalScroll:{parameters:{scrollSteps:{type:"int"},startTime:{type:"string"},endTime:{type:"string"}}},verticalScroll:{parameters:{scrollSteps:{type:"int"}}},chartMouseOver:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDoubleClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartRightClick:{parameters:{objectInfo:{type:"object"},leadingRowInfo:{type:"object"},timestamp:{type:"string"},svgId:{type:"string"},svgCoordinate:{type:"int[]"},effectingMode:{type:"string"},originEvent:{type:"object"}}},chartDragEnter:{parameters:{originEvent:{type:"object"}}},chartDragLeave:{parameters:{originEvent:{type:"object"},draggingSource:{type:"object"}}},rowSelectionChange:{parameters:{originEvent:{type:"object"}}},relationshipSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeSelectionChange:{parameters:{originEvent:{type:"object"}}},shapeDragEnd:{parameters:{originEvent:{type:"object"},sourceShapeData:{type:"object[]"},sourceSvgId:{type:"string"},targetData:{type:"object"},targetSvgId:{type:"string"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}},shapeResizeEnd:{parameters:{shapeUid:{type:"string"},rowObject:{type:"object"},oldTime:{type:"string[]"},newTime:{type:"string[]"}}},shapeMouseEnter:{parameters:{shapeData:{type:"object"},pageX:{type:"int"},pageY:{type:"int"},originEvent:{type:"object"}}},shapeMouseLeave:{parameters:{shapeData:{type:"object"},originEvent:{type:"object"}}}}}});
G.getMetadata().getAllAggregations()["rows"]._doesNotRequireFactory=true;G.getMetadata().getAllAggregations()["relationships"]._doesNotRequireFactory=true;
G.prototype.init=function(){this._iBaseRowHeight=undefined;this.mDefaultTableProperties={rowHeight:33,threshold:100,firstVisibleRow:0,selectionMode:sap.ui.table.SelectionMode.MultiToggle};};
G.prototype.handleExpandChartChange=function(e,c,s){};
G.prototype.notifySourceChange=function(){};
G.prototype._setLargeDataScrolling=function(L){};
G.prototype._getConfiguredRowKeys=function(b){if(!b){b=this.getBindingInfo("rows");}var r;if(b&&b.parameters){r=b.parameters.gantt;}this._configuredRowKeys={rowIdName:r&&r.rowIdName?r.rowIdName:"id",rowTypeName:r&&r.rowTypeName?r.rowTypeName:"type"};return this._configuredRowKeys;};
G.prototype.getRowIdName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowIdName;};
G.prototype.getRowTypeName=function(){if(!this._configuredRowKeys){this._getConfiguredRowKeys();}return this._configuredRowKeys.rowTypeName;};
G.prototype.getRlsIdName=function(){if(!this._configuredRlsKeys){this._getConfiguredRlsKeys();}return this._configuredRlsKeys.rlsIdName;};
G.prototype._getConfiguredRlsKeys=function(){var b=this.getBindingInfo("relationships");var c;if(b&&b.parameters){c=b.parameters.gantt;}this._configuredRlsKeys={rlsIdName:c&&c.rlsIdName?c.rlsIdName:"id"};return this._configuredRlsKeys;};
G.prototype.getDomSelectorById=function(s){var a=U.attributeEqualSelector("id",s?this.getId()+"-"+s:this.getId());return a;};
G.prototype.setTableProperties=function(p){var t=q.extend({},this.getProperty("tableProperties"));Object.keys(p).forEach(function(k){if(this.mDefaultTableProperties.hasOwnProperty(k)){t[k]=p[k];this._oTT["set"+k[0].toUpperCase()+k.slice(1)](p[k]);}else{q.sap.log.warning('The TreeTable property of "'+k+'" is not exposed by Gantt');}},this);this.setProperty("tableProperties",t,true);return this;};
G.prototype.getTableProperties=function(){var t=this.getProperty("tableProperties");Object.keys(t).forEach(function(k){t[k]=this._oTT["get"+k[0].toUpperCase()+k.slice(1)]();},this);return t;};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainer',["sap/gantt/library","sap/ui/core/Control","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/Orientation","./control/Toolbar","./control/AssociateContainer","./config/TimeHorizon","./misc/Format"],function(l,C,S,a,O,T,A,b,F){"use strict";
var G=C.extend("sap.gantt.GanttChartContainer",{metadata:{library:"sap.gantt",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},svgDefs:{type:"object",defaultValue:null},modes:{type:"object[]",defaultValue:l.config.DEFAULT_MODES},toolbarSchemes:{type:"object[]",defaultValue:l.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES},hierarchies:{type:"object[]",defaultValue:l.config.DEFAULT_HIERARCHYS},containerLayouts:{type:"object[]",defaultValue:l.config.DEFAULT_CONTAINER_LAYOUTS},containerLayoutKey:{type:"string",defaultValue:l.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},sliderStep:{type:"int",defautValue:undefined},maxNumOfGanttCharts:{type:"int",defaultValue:3}},aggregations:{legendContainer:{type:"sap.gantt.legend.LegendContainer",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},ganttCharts:{type:"sap.gantt.GanttChartBase",multiple:true,visibility:"public",singularName:"ganttChart",bindable:"bindable"},_toolbar:{type:"sap.gantt.control.Toolbar",multiple:false,visibility:"hidden"}},events:{ganttChartChangeRequested:{parameters:{action:{type:"string"},ganttChartIndex:{type:"int"},hierarchyKey:{type:"string"},oldHierarchyKey:{type:"string"},containerLayoutKey:{type:"string"}}},customSettingChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},treeTableToggleEvent:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},expanded:{type:"boolean"}}}}}});
G.prototype.init=function(){jQuery.sap.measure.start("GanttChartContainer Init","GanttPerf:GanttChartContainer Init function");this._bInitHorizonApplied=false;this._oToolbar=new T({type:sap.gantt.control.ToolbarType.Global,sourceId:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY});this.setAggregation("_toolbar",this._oToolbar);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachZoomStopChange(this._onToolbarZoomStopChange,this);this._oToolbar.attachSettingsChange(this._onToolbarSettingsChange,this);this._oToolbar.attachBirdEye(this._onToolbarBirdEye,this);this._oToolbar.attachEvent("_zoomControlTypeChange",this._onToolbarZoomControlTypeChange,this);this._oToolbar.data("holder",this);this._oSplitter=new S({width:"100%",height:"100%",orientation:O.Vertical});this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT;jQuery.sap.measure.end("GanttChartContainer Init");};
G.prototype.applySettings=function(s,o){var r=C.prototype.applySettings.apply(this,arguments);if(this.getContainerLayouts()&&this.getContainerLayoutKey()){this.switchOrientation(null,true);}return r;};
G.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
G.prototype.setTimeZoomRate=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomRate(t);}return this;};
G.prototype.setTimeZoomStop=function(t){var g=this.getGanttCharts();var i,o;for(i=0;i<g.length;i++){o=g[i];o.setTimeZoomStop(t);}return this;};
G.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
G.prototype.setHierarchies=function(h){this.setProperty("hierarchies",h);this._oToolbar.setHierarchies(h);this._oHierarchyConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oHierarchyConfigMap[h[i].getKey()]=h[i];}}return this;};
G.prototype.setContainerLayouts=function(c){this.setProperty("containerLayouts",c);this._oToolbar.setContainerLayouts(c);this._oContainerLayoutConfigMap={};if(c){for(var i=0;i<c.length;i++){this._oContainerLayoutConfigMap[c[i].getKey()]=c[i];}}if(this.getContainerLayoutKey()){this.switchOrientation(null,true);}return this;};
G.prototype.setEnableCursorLine=function(e){this.setProperty("enableCursorLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableCursorLine(e);}this.getAggregation("_toolbar").setEnableCursorLine(e);return this;};
G.prototype.setEnableNowLine=function(e){this.setProperty("enableNowLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableNowLine(e);}this.getAggregation("_toolbar").setEnableNowLine(e);return this;};
G.prototype.setEnableVerticalLine=function(e){this.setProperty("enableVerticalLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableVerticalLine(e);}this.getAggregation("_toolbar").setEnableVerticalLine(e);return this;};
G.prototype.setEnableAdhocLine=function(e){this.setProperty("enableAdhocLine",e);var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].setEnableAdhocLine(e);}this.getAggregation("_toolbar").setEnableAdhocLine(e);return this;};
G.prototype.setEnableTimeScrollSync=function(e){this.setProperty("enableTimeScrollSync",e);this.getAggregation("_toolbar").setEnableTimeScrollSync(e);return this;};
G.prototype.setContainerLayoutKey=function(c){if(this.getProperty("containerLayoutKey")===c){return this;}this.setProperty("containerLayoutKey",c);this._oToolbar.setSourceId(c);if(this.getContainerLayouts()){this.switchOrientation(null,true);}return this;};
G.prototype.setLegendContainer=function(L){this.setAggregation("legendContainer",L);if(L){this._oToolbar.setLegend(new A({content:L.getId()}));}return this;};
G.prototype.addGanttChart=function(g,r){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.addAggregation("ganttCharts",g);this._insertGanttChart(g,r);}};
G.prototype.insertGanttChart=function(g,i){if(this.getGanttCharts().length<this.getMaxNumOfGanttCharts()){this.insertAggregation("ganttCharts",g,i);this._insertGanttChart(g,false,i);}};
G.prototype.removeGanttChart=function(g){this._removeGanttChart(g);this.removeAggregation("ganttCharts",g);};
G.prototype.removeAllGanttCharts=function(){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){this._removeGanttChart(g[i]);}this.removeAllAggregation("ganttCharts");};
G.prototype._insertGanttChart=function(g,r,i){jQuery.sap.measure.start("GanttChartContainer _insertGanttChart","GanttPerf:GanttChartContainer _insertGanttChart function");if(!g){return;}var R=true;var s="30%";var f=this.getGanttCharts()[0];if(this._oSplitter.getContentAreas().length>0){R=false;var o=f._oSplitter;if(o&&o.getContentAreas().length>0){var L=o.getContentAreas()[0].getLayoutData();s=L?L.getSize():s;}}if(g===f){this._oToolbar.setZoomLevel(g.getAxisTimeStrategy().getZoomLevel());}else{g.setSelectionPanelSize(s);g.getAxisTimeStrategy().setZoomLevel(this._oToolbar.getZoomLevel());g.getAxisTimeStrategy().setZoomLevels(this._oToolbar.getZoomLevels());g.getAxisTimeStrategy().setTimeLineOption(f.getAxisTimeStrategy().getTimeLineOption());g.getAxisTimeStrategy().setVisibleHorizon(f.getAxisTimeStrategy().getVisibleHorizon());}var c=new A({content:g.getId(),layoutData:new a({size:"auto"})});if(i!==0&&!i){this._oSplitter.addContentArea(c);}else{this._oSplitter.insertContentArea(c,i);}this._adjustSplitterLayoutData(R,r);this._oSplitter.triggerResize(true);g.attachEvent("_visibleHorizonUpdate",this._onGanttChartVisibleHorizonUpdate,this);g.attachEvent("_timePeriodZoomStatusChange",this._onGanttChartTimePeriodZoomStatusChange,this);g.attachEvent("_timePeriodZoomOperation",this._onGanttChartTimePeriodZoomOperation,this);g.attachSplitterResize(this._onViewSplitterResize,this);g.attachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);g.attachChartDragEnter(this._onChartDragEnter,this);g.attachChartDragLeave(this._onChartDragLeave,this);g.attachShapeDragEnd(this._onShapeDragEnd,this);g.attachTreeTableToggleEvent(this._onTreeTableToggle,this);g.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);g.getAxisTimeStrategy()._updateZoomControlType(this._oToolbar._getZoomControlType());jQuery.sap.measure.end("GanttChartContainer _insertGanttChart");};
G.prototype._onGanttChartVisibleHorizonUpdate=function(e){var p=e.getParameters();var g=this.getGanttCharts();if(!this.getEnableTimeScrollSync()){if(p.reasonCode==="visibleHorizonUpdated"){for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth,true);}}else{var s;if(p.reasonCode==="mouseWheelZoom"){s="syncMouseWheelZoom";}if(s){for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i][s](p);}}}}else{for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth);}}};
G.prototype._onGanttChartTimePeriodZoomStatusChange=function(e){var p=e.getParameters();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncTimePeriodZoomStatus(p.isActive);}};
G.prototype._onGanttChartTimePeriodZoomOperation=function(e){var t=this.getEnableTimeScrollSync();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}var o=this._oSplitter.getOrientation();g[i].syncTimePeriodZoomOperation(e,t,o);}};
G.prototype._adjustSplitterLayoutData=function(r,R){if(r){this._setSelectionPanelLayoutByConfiguration();}var c=this._oSplitter.getContentAreas();var t=this;if(c){c.forEach(function(o,i){if(o.getLayoutData()){if(i%2==0){var L=Math.floor(1/c.length*100);var s=o.getLayoutData().getSize();if(R){s=t.getConfiguredGanttChartLayoutSize(t.getGanttCharts()[i]);}else{s=L+"%";}if(s=="auto"||(R&&(s=="100%"||c.length==1))){o.getLayoutData().setSize(L+"%");}else{o.getLayoutData().setSize(s);}}else{if(o.getLayoutData().getSize()!=="auto"){o.getLayoutData().setSize("auto");}}}});}};
G.prototype.getConfiguredGanttChartLayoutSize=function(g){var c=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];var s="auto";if(c){var d=c.getGanttChartLayouts();if(d){for(var i=0;i<d.length;i++){if(d[i]&&g&&d[i].getHierarchyKey()===g.getHierarchyKey()){s=d[i].getGanttChartSize()?d[i].getGanttChartSize():s;break;}}}}return s;};
G.prototype.getConfiguredSelectionPanelLayoutSize=function(){var s="30%";var c=this._oContainerLayoutConfigMap[this.getContainerLayoutKey()];if(c){var d=c.getSelectionPanelSize();s=(d&&d!=="auto")?d:s;}return s;};
G.prototype._setSelectionPanelLayoutByConfiguration=function(r){var s=this.getConfiguredSelectionPanelLayoutSize();var g=this.getGanttCharts();if(g&&s){g.forEach(function(o,i){o.setSelectionPanelSize(s);});}};
G.prototype._removeGanttChart=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o._oAC);this._adjustSplitterLayoutData();this._oSplitter.triggerResize(true);o.detachSplitterResize(this._onViewSplitterResize,this);o.detachGanttChartSwitchRequested(this._onGanttChartSwitchRequested,this);o.detachChartDragEnter(this._onChartDragEnter,this);o.detachChartDragLeave(this._onChartDragLeave,this);o.detachShapeDragEnd(this._onShapeDragEnd,this);o.detachTreeTableToggleEvent(this._onTreeTableToggle,this);}};
G.prototype.onBeforeRendering=function(){this._detachEvents();this._oToolbar.setEnableTimeScrollSync(this.getEnableTimeScrollSync());this._oToolbar.setEnableCursorLine(this.getEnableCursorLine());this._oToolbar.setEnableNowLine(this.getEnableNowLine());this._oToolbar.setEnableVerticalLine(this.getEnableVerticalLine());this._oToolbar.setEnableAdhocLine(this.getEnableAdhocLine());var g=this.getGanttCharts();for(var i=0;i<g.length;i++){var o=g[i];o.setEnableCursorLine(this.getEnableCursorLine());o.setEnableNowLine(this.getEnableNowLine());o.setEnableVerticalLine(this.getEnableVerticalLine());o.setEnableAdhocLine(this.getEnableAdhocLine());}};
G.prototype._detachEvents=function(){};
G.prototype.onAfterRendering=function(){this._attachEvents();};
G.prototype._attachEvents=function(){};
G.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachLayoutChange(this._onToolbarLayoutChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachZoomStopChange(this._onToolbarZoomStopChange,this);this._oToolbar.detachSettingsChange(this._onToolbarSettingsChange,this);this._oToolbar.detachBirdEye(this._onToolbarBirdEye,this);this._oToolbar.detachEvent("_zoomControlTypeChange",this._onToolbarZoomControlTypeChange,this);};
G.prototype._onToolbarBirdEye=function(e){var g=this.getGanttCharts();var t;var o;var p=e.getParameters();var B=p.birdEyeRange;for(var i=0;i<g.length;i++){var L=g[i].getLargestHorizonByDataRange(B,undefined,true);if(L){var s=F.abapTimestampToDate(L.getStartTime());var E=F.abapTimestampToDate(L.getEndTime());if(!t&&!o){t=new Date();t.setTime(s.getTime());o=new Date();o.setTime(E.getTime());}else{if(s.getTime()<t.getTime()){t.setTime(s.getTime());}if(o.getTime()<E.getTime()){o.setTime(E.getTime());}}}}if(t&&o){var n=g[0].getVisibleWidth();var c=(o.getTime()-t.getTime())/n;var d=new Date(t.getTime()-c*5);var f=new Date(o.getTime()+c*5);var h=new b({startTime:d,endTime:f});for(i=0;i<g.length;i++){g[i].syncVisibleHorizon(h);}}};
G.prototype._onViewSplitterResize=function(e){if(this._oSplitter.getOrientation()===O.Vertical){this._syncSelectionPanelSizeBetweenViews(e);}};
G.prototype._onZoomInfoUpdated=function(e){var z=e.getParameter("zoomLevel");if(!isNaN(z)){this._oToolbar.updateZoomLevel(z);}};
G.prototype._syncSelectionPanelSizeBetweenViews=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()&&g.length>1){continue;}var s=e.getParameter("newSizes")[0];var c=e.getParameter("newSizes")[1];if(s>=0&&(s+c)!==0){var d=(100*s/(s+c)).toFixed(0);g[i].setSelectionPanelSize(d+"%",true);}}};
G.prototype._onGanttChartSwitchRequested=function(e){e.getSource().notifySourceChange();this.fireGanttChartChangeRequested({action:"switchGanttChart",hierarchyKey:e.getParameter("hierarchyKey"),oldHierarchyKey:e.getParameter("oldHierarchyKey"),oldMode:e.getParameter("oldMode"),ganttChartIndex:this.getGanttCharts().indexOf(e.getSource())});};
G.prototype._onTreeTableToggle=function(e){this.fireTreeTableToggleEvent({rowIndex:e.getParameter("rowIndex"),rowContext:e.getParameter("rowContext"),expanded:e.getParameter("expanded")});};
G.prototype._onToolbarLayoutChange=function(e){var E=e.getParameter("id");var o=e.getParameter("value");switch(E){case"orientation":this.switchOrientation(o);break;case"add":this.fireGanttChartChangeRequested({action:"addGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:this.getGanttCharts().length});break;case"less":this.fireGanttChartChangeRequested({action:"lessGanttChart",hierarchyKey:o.hierarchyKey,ganttChartIndex:o.ganttChartIndex});break;default:break;}};
G.prototype._onToolbarSourceChange=function(e){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].notifySourceChange();}this.setContainerLayoutKey(e.getParameter("id"));this.fireGanttChartChangeRequested({action:"switchContainerLayout",containerLayoutKey:e.getParameter("id")});};
G.prototype._onToolbarExpandChartChange=function(e){var E=e.getParameter("isExpand"),c=e.getParameter("expandedChartSchemes");var g=this.getGanttCharts();for(var i=0;i<g.length;i++){g[i].handleExpandChartChange(E,c,null);}};
G.prototype._onToolbarZoomStopChange=function(e){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy().updateStopInfo({index:e.getParameter("index"),selectedItem:e.getParameter("selectedItem")});});};
G.prototype._onToolbarZoomControlTypeChange=function(e){this._handleZoomControlType(e.getParameter("zoomControlType"));};
G.prototype._handleZoomControlType=function(z){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy()._updateZoomControlType(z);});};
G.prototype._onChartDragEnter=function(e){var s=e.getParameter("originEvent");var g=e.getSource();if(s.button===0&&s.buttons!==0&&this._oDraggingSource!==undefined){g.setDraggingData(this._oDraggingSource);if(this._oTimePopoverData){g.setTimePopoverData(this._oTimePopoverData);}this._oDraggingSource=undefined;this._oTimePopoverData=undefined;}else{this._oDraggingSource=undefined;this._oTimePopoverData=undefined;g.setDraggingData(this._oDraggingSource);g.setTimePopoverData(this._oTimePopoverData);}};
G.prototype._onChartDragLeave=function(e){var p=e.getParameters();if(p.draggingSource!==undefined){this._oDraggingSource=p.draggingSource;if(p.timePopoverData){this._oTimePopoverData=p.timePopoverData;}}else{this._oDraggingSource=undefined;this._oTimePopoverData=undefined;}};
G.prototype._onShapeDragEnd=function(e){this._oDraggingSource=undefined;this.getGanttCharts().forEach(function(i){var c=i.getAggregation("_chart");if(c&&c._setEventStatus){c._setEventStatus("shapeDragEnd");}});};
G.prototype._onToolbarSettingsChange=function(e){var p=e.getParameters();for(var i=0;i<p.length;i++){switch(p[i].id){case sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:if(this.getEnableTimeScrollSync()!==p[i].value){this.setEnableTimeScrollSync(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:if(this.getEnableCursorLine()!==p[i].value){this.setEnableCursorLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY:if(this.getEnableNowLine()!==p[i].value){this.setEnableNowLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:if(this.getEnableVerticalLine()!==p[i].value){this.setEnableVerticalLine(p[i].value);}break;case sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY:if(this.getEnableAdhocLine()!==p[i].value){this.setEnableAdhocLine(p[i].value);}break;default:this.fireCustomSettingChange(p[i]);}}};
G.prototype.switchOrientation=function(o,r){var s=this._oSplitter.getOrientation()===O.Horizontal?O.Vertical:O.Horizontal;s=o?o:s;if(r){var c=this.getContainerLayoutKey();if(this._oContainerLayoutConfigMap[c]){s=this._oContainerLayoutConfigMap[c].getOrientation();}}this._oSplitter.setOrientation(s);this._adjustSplitterLayoutData(r,r);this._oSplitter.triggerResize(true);return this;};
G.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
G.prototype.selectShapes=function(g,I,c){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectShapes(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectShapes(I,c)){r=true;}}}return r;};
G.prototype.deselectShapes=function(g,i){var c=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<this.getGanttCharts().length){o=this.getGanttCharts()[g];r=o.deselectShapes(i);}else{for(var d in c){o=c[d];if(o.deselectShapes(i)){r=true;}}}return r;};
G.prototype.selectRelationships=function(g,I,c){var d=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRelationships(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRelationships(I,c)){r=true;}}}return r;};
G.prototype.deselectRelationships=function(g,I){var c=this.getGanttCharts(),r=false,o;if(g!=undefined&&g<c.length){o=c[g];r=o.deselectRelationships(I);}else{for(var i=0;i<c.length;i++){o=c[i];if(o.deselectRelationships(I)){r=true;}}}return r;};
G.prototype.selectRows=function(g,I,c){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRows(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRows(I,c)){r=true;}}}return r;};
G.prototype.deselectRows=function(g,I){var r=false,c=this.getGanttCharts(),o;if(g!=undefined&&g<c.length){o=c[g];r=o.deselectRows(I);}else{for(var i=0;i<c.length;i++){o=c[i];if(o.deselectRows(I)){r=true;}}}return r;};
G.prototype.selectRowsAndShapes=function(g,I,c){var r=false,d=this.getGanttCharts(),o;if(g!=undefined&&g<d.length){o=d[g];r=o.selectRowsAndShapes(I,c);}else{for(var i=0;i<d.length;i++){o=d[i];if(o.selectRowsAndShapes(I,c)){r=true;}}}return r;};
G.prototype.getSelectedShapes=function(g){var r=[],c=this.getGanttCharts(),o,s;if(g!=undefined&&g<c.length){o=c[g];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":g,"selectedShapes":s});}}else{for(var i=0;i<c.length;i++){o=c[i];s=o.getSelectedShapes();if(s!==undefined){r.push({"ganttChartIndex":i,"selectedShapes":s});}}}return r;};
G.prototype.getSelectedRows=function(g){var r=[],c=this.getGanttCharts(),o,R;if(g!=undefined&&g<c.length){o=c[g];R=o.getSelectedRows();if(R!==undefined&&R.length>0){r.push({"ganttChartIndex":g,"selectedRows":R});}}else{for(var i=0;i<c.length;i++){o=c[i];R=o.getSelectedRows();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRows":R});}}}return r;};
G.prototype.getSelectedRelationships=function(g){var r=[],c=this.getGanttCharts(),o,R;if(g!=undefined&&g<c.length){o=c[g];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":g,"selectedRelationships":R});}}else{for(var i=0;i<c.length;i++){o=c[i];R=o.getSelectedRelationships();if(R!==undefined){r.push({"ganttChartIndex":i,"selectedRelationships":R});}}}return r;};
G.prototype.getAllSelections=function(g){var r=[],c=this.getGanttCharts(),o,s;if(g!=undefined&&g<c.length){o=c[g];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":g,"allSelection":s});}}else{for(var i=0;i<c.length;i++){o=c[i];s=o.getAllSelections();if(s!==undefined){r.push({"ganttChartIndex":i,"allSelection":s});}}}return r;};
G.prototype.exit=function(){this._detachEvents();this._oToolbar.destroy();this._oSplitter.destroy();};
["addCustomToolbarItem","insertCustomToolbarItem","removeCustomToolbarItem","indexOfCustomToolbarItem","removeAllCustomToolbarItems","destroyCustomToolbarItems","getCustomToolbarItems"].forEach(function(m){G.prototype[m]=function(){return this._oToolbar[m].apply(this._oToolbar,arguments);};});return G;},true);
sap.ui.predefine('sap/gantt/GanttChartContainerRenderer',["sap/gantt/misc/Utility"],function(U){"use strict";var G={};
G.render=function(r,g){jQuery.sap.measure.start("GanttChartContainerRenderer render","GanttPerf:GanttChartContainerRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChartContainer");r.writeClasses();r.write(">");jQuery.sap.measure.start("GanttChartContainerRenderer renderPaintServer","GanttPerf:GanttChartContainerRenderer renderPaintServer part");this.renderSvgDefs(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderPaintServer");jQuery.sap.measure.start("GanttChartContainerRenderer renderToolbar","GanttPerf:GanttChartContainerRenderer renderToolbar part");this.renderToolbar(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderToolbar");jQuery.sap.measure.start("GanttChartContainerRenderer renderGanttCharts","GanttPerf:GanttChartContainerRenderer renderGanttCharts part");this.renderGanttCharts(r,g);jQuery.sap.measure.end("GanttChartContainerRenderer renderGanttCharts");r.write("</div>");jQuery.sap.measure.end("GanttChartContainerRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef' tabindex='-1' focusable='false'");r.addClass("sapGanttInvisiblePaintServer");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderToolbar=function(r,g){r.renderControl(g._oToolbar);};
G.renderGanttCharts=function(r,g){r.write("<div");r.addClass("sapGanttViewContainer");r.writeClasses();r.addStyle("width",g.getWidth());var s=g.getHeight();if(g._oToolbar.getAllToolbarItems().length>0){var c=U.findSapUiSizeClass();var t=(c==="sapUiSizeCompact"||c==="sapUiSizeCondensed")?"32px":"48px";s="calc("+s+" - "+t+")";}r.addStyle("height",s);r.writeStyles();r.write(">");r.renderControl(g._oSplitter);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartRenderer',[],function(){"use strict";var G={};
G.render=function(r,g){jQuery.sap.measure.start("GanttChartRenderer render","GanttPerf:GanttChartRenderer render function");r.write("<div");r.writeControlData(g);r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.addClass("sapGanttChart");r.writeClasses();r.write(">");jQuery.sap.measure.start("GanttChartRenderer renderPaintServer","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderSvgDefs(r,g);jQuery.sap.measure.end("GanttChartRenderer renderPaintServer");jQuery.sap.measure.start("GanttChartRenderer renderChartHeader","GanttPerf:GanttChartRenderer renderChartHeader part");this.renderChartHeader(r,g);jQuery.sap.measure.end("GanttChartRenderer renderChartHeader");jQuery.sap.measure.start("GanttChartRenderer renderChartBody","GanttPerf:GanttChartRenderer renderChartBody part");this.renderChartBody(r,g);jQuery.sap.measure.end("GanttChartRenderer renderChartBody");r.write("</div>");jQuery.sap.measure.end("GanttChartRenderer render");};
G.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderChartHeader=function(r,g){r.write("<div id='"+g.getId()+"-header'");r.addClass("sapGanttChartHeader");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-header-svg'");r.addClass("sapGanttChartHeaderSvg");r.writeClasses();r.write("></svg>");r.write("</div>");};
G.renderChartBody=function(r,g){r.write("<div id='"+g.getId()+"-tt'");r.addClass("sapGanttChartTT");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("flex","1 1 auto");r.writeStyles();r.write(">");jQuery.sap.measure.start("GanttChartRenderer renderSvgDiv","GanttPerf:GanttChartRenderer renderPaintServer part");this.renderBodySvg(r,g);jQuery.sap.measure.end("GanttChartRenderer renderSvgDiv");r.renderControl(g.getAggregation("_treeTable"));r.write("</div>");};
G.renderBodySvg=function(r,g){r.write("<div id='"+g.getId()+"-svg-ctn'");r.addClass("sapGanttChartSvgCtn");r.writeClasses();r.write(">");r.write("<svg id='"+g.getId()+"-svg'");r.addClass("sapGanttChartSvg");r.writeClasses();r.addStyle("height","100%");r.writeStyles();r.write(">");r.write("</svg>");r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTable',["sap/ui/Device","./GanttChartBase","sap/ui/table/Column","sap/ui/table/TreeTable","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","./GanttChart","./control/Cell","./control/Toolbar","./control/AssociateContainer","./drawer/SelectionPanel","./eventHandler/MouseWheelHandler","sap/ui/thirdparty/d3"],function(D,G,C,T,S,a,b,c,d,A,e,M){"use strict";
var f=G.extend("sap.gantt.GanttChartWithTable",{metadata:{designtime:"sap/gantt/designtime/GanttChartWithTable.designtime",properties:{cellCallback:{type:"object"},fixedColumnCount:{type:"int"}},aggregations:{customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem",bindable:"bindable"},columns:{type:"sap.ui.table.Column",multiple:true,visibility:"public",singularName:"column"},_selectionPanel:{type:"sap.ui.table.TreeTable",multiple:false,visibility:"hidden"},_chart:{type:"sap.gantt.GanttChart",multiple:false,visibility:"hidden"}}}});
f.prototype.init=function(){G.prototype.init.apply(this,arguments);jQuery.sap.measure.start("GanttChartWithTable Init","GanttPerf:GanttChartWithTable Init function");this._oGanttChart=new b();this.setAggregation("_chart",this._oGanttChart);this._oGanttChartCnt=new A({enableRootDiv:true,content:this._oGanttChart});this._oTC=this._oGanttChart._oTT;var t=this;this._oTT=new T({visibleRowCountMode:"Auto",minAutoRowCount:1});jQuery.extend(this.mDefaultTableProperties,{fixedColumnCount:0,showColumnVisibilityMenu:false,selectionBehavior:sap.ui.table.SelectionBehavior.Row});this.setTableProperties(jQuery.extend({},this.mDefaultTableProperties));this._oTT._bVariableRowHeightEnabled=true;this._oTT._collectRowHeights=function(h){var H=T.prototype._collectRowHeights.apply(this,arguments);if(h){return H;}t._aHeights=H;var B=t._aHeights[0];var F=t._getTTFirstRenderingRowIndex();var r=t._aHeights.length;var m=B;var s=t._oGanttChart._getDrawingData([F,F+r-1]);if(s&&s.length>0){m=s[0].rowSpan*B;}for(var i=0;i<r;i++){var o=this.getContextByIndex(F+i);if(o){var g=o.getObject();var u=g?g.uid:undefined;if(u&&t._oGanttChart._oRowStatusMap[u]){t._aHeights[i]=t._oGanttChart._oRowStatusMap[u].visibleRowSpan*B;}else{t._aHeights[i]=m;}}else{t._aHeights[i]=B;}}return t._aHeights;};this._oTT._updateTableContent=function(){sap.ui.table.TreeTable.prototype._updateTableContent.apply(this,arguments);var r=this.getRows(),R=t._getRowHeights();if(!R){return;}var $=this.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr");var g=this.$().find(".sapUiTableRowHdr");for(var i=0;i<r.length;i++){var h=r[i].$(),j=$.filter(":eq("+i+")"),k=g.filter(":eq("+i+")"),H=R[i]||0;var B=t._oGanttChart.getBaseRowHeight();var l=H/B>1;h.toggleClass('sapGanttExpandedRow',l);j.toggleClass('sapGanttExpandedRow',l);k.toggleClass('sapGanttExpandedRow',l);}};this._oTT.addEventDelegate({onAfterRendering:this._bindVerticalScrollForTT},this);this._oTT.attachToggleOpenState(function(E){t.fireTreeTableToggleEvent({rowIndex:E.getParameter("rowIndex"),rowContext:E.getParameter("rowContext"),expanded:E.getParameter("expanded")});});this._oTT.attachEvent("_rowsUpdated",this._onTTRowUpdate.bind(this));this.setAggregation("_selectionPanel",this._oTT);this._oToolbar=new d({type:sap.gantt.control.ToolbarType.Local,sourceId:sap.gantt.config.DEFAULT_HIERARCHY_KEY});this._oToolbar.data("holder",this);this._oToolbar.attachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.attachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.attachExpandTreeChange(this._onToolbarExpandTreeChange,this);this._oToolbar.attachModeChange(this._onToolbarModeChange,this);this._oToolbar.attachBirdEye(this._onToolbarBirdEye,this);this._oTT.addExtension(this._oToolbar);this._oSelectionPanelCnt=new A({enableRootDiv:true,content:this._oTT,layoutData:new a({size:"30%"})});this._oSplitter=new S({width:"100%",height:"100%",orientation:sap.ui.core.Orientation.Horizontal,contentAreas:[this._oSelectionPanelCnt,this._oGanttChartCnt]}).addStyleClass("sapGanttViewSplitterH");this._oSplitter.attachResize(this._onSplitterResize,this);this._oGanttChart.attachHorizontalScroll(this._onChartHSbScroll,this);this._oGanttChart.attachVerticalScroll(this._onChartVSbScroll,this);this._oGanttChart.attachRowSelectionChange(this._onRowSelectionChange,this);this._oGanttChart.attachShapeSelectionChange(this._onShapeSelectionChange,this);this._oGanttChart.attachChartMouseOver(this._onChartMouseOver,this);this._oGanttChart.attachRelationshipSelectionChange(this._onRelationshipSelectionChange,this);this._oGanttChart.attachChartClick(this._onClick,this);this._oGanttChart.attachChartDoubleClick(this._onDoubleClick,this);this._oGanttChart.attachChartRightClick(this._onRightClick,this);this._oGanttChart.attachEvent("_zoomInfoUpdated",this._onZoomInfoUpdated,this);this._oGanttChart.attachEvent("_shapesUpdated",this._onShapesUpdated,this);this._oGanttChart.attachChartDragEnter(this._onChartDragEnter,this);this._oGanttChart.attachChartDragLeave(this._onChartDragLeave,this);this._oGanttChart.attachShapeDragEnd(this._onShapeDragEnd,this);this._oGanttChart.attachEvent("_visibleHorizonUpdate",this._onGanttChartVisibleHorizonUpdate,this);this._oGanttChart.attachEvent("_timePeriodZoomStatusChange",this._onGanttChartTimePeriodZoomStatusChange,this);this._oGanttChart.attachEvent("_timePeriodZoomOperation",this._onGanttChartTimePeriodZoomOperation,this);this._oGanttChart.attachShapeResizeEnd(this._onShapeResizeEnd,this);this._oGanttChart.attachShapeMouseEnter(this._onShapeMouseEnter,this);this._oGanttChart.attachShapeMouseLeave(this._onShapeMouseLeave,this);this._oModesConfigMap={};this._oModesConfigMap[sap.gantt.config.DEFAULT_MODE_KEY]=sap.gantt.config.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY]=sap.gantt.config.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[sap.gantt.config.DEFAULT_HIERARCHY_KEY]=sap.gantt.config.DEFAULT_HIERARCHY;this._oSelectionPanelDrawer=new e();this._oGanttChartSchemesConfigMap={};this._oGanttChartSchemesConfigMap[sap.gantt.config.DEFAULT_CHART_SCHEME_KEY]=sap.gantt.config.DEFAULT_CHART_SCHEME;this._oObjectTypesConfigMap={};this._oObjectTypesConfigMap[sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY]=sap.gantt.config.DEFAULT_OBJECT_TYPE;this._oShapesConfigMap={};this._oMouseWheelHandler=new M(this);jQuery.sap.measure.end("GanttChartWithTable Init");};
f.prototype.setFixedColumnCount=function(F){this.setTableProperties({fixedColumnCount:F});return this;};
f.prototype.getFixedColumnCount=function(){return this.getTableProperties().fixedColumnCount;};
f.prototype.setTimeAxis=function(t){this.setProperty("timeAxis",t,true);this._oGanttChart.setTimeAxis(t);return this;};
f.prototype.setMode=function(m){this.setProperty("mode",m);this._oGanttChart.setMode(m);this._oToolbar.setMode(m);return this;};
f.prototype.setModes=function(m){this.setProperty("modes",m);this._oToolbar.setModes(m);this._oGanttChart.setModes(m);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
f.prototype.setSelectionMode=function(s){this.setProperty("selectionMode",s);switch(s){case sap.gantt.SelectionMode.Multiple:case sap.gantt.SelectionMode.MultiWithKeyboard:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.MultiToggle,selectionBehavior:sap.ui.table.SelectionBehavior.Row});break;case sap.gantt.SelectionMode.Single:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.Single,selectionBehavior:sap.ui.table.SelectionBehavior.Row});break;case sap.gantt.SelectionMode.None:this.setTableProperties({selectionMode:sap.ui.table.SelectionMode.None,selectionBehavior:sap.ui.table.SelectionBehavior.RowOnly});break;}this._oGanttChart.setSelectionMode(s);return this;};
f.prototype.setShapeSelectionMode=function(s){this.setProperty("shapeSelectionMode",s);this._oGanttChart.setShapeSelectionMode(s);return this;};
f.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t);this._oToolbar.setToolbarSchemes(t);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}return this;};
f.prototype.setHierarchyKey=function(h){this.setProperty("hierarchyKey",h);this._oGanttChart.setProperty("hierarchyKey",h);this._oToolbar.setSourceId(h);this._hierarchyChange();return this;};
f.prototype.setHierarchies=function(h){this.setProperty("hierarchies",h);this._oToolbar.setHierarchies(h);this._oGanttChart.setHierarchies(h);this._oHierarchyConfigMap={};if(h){for(var i=0;i<h.length;i++){this._oHierarchyConfigMap[h[i].getKey()]=h[i];}}this._hierarchyChange();return this;};
f.prototype.setCalendarDef=function(o){this.setAggregation("calendarDef",o);var p=o.getBindingInfo("defs");if(p){p.templateShareable=true;}this._oGanttChart.setCalendarDef(o.clone());return this;};
f.prototype.setAdhocLineLayer=function(l){this.setProperty("adhocLineLayer",l);this._oGanttChart.setAdhocLineLayer(l);return this;};
f.prototype.addAdhocLine=function(o){this._oGanttChart.addAdhocLine(o);return this;};
f.prototype.insertAdhocLine=function(o,i){this._oGanttChart.insertAdhocLine(o,i);return this;};
f.prototype.removeAdhocLine=function(o){return this._oGanttChart.removeAdhocLine(o);};
f.prototype.getAdhocLines=function(){return this._oGanttChart.getAdhocLines();};
f.prototype.removeAllAdhocLines=function(){return this._oGanttChart.removeAllAdhocLines();};
f.prototype.setUseFlatMode=function(F){this._oTT.setUseFlatMode(F);return this;};
f.prototype._hierarchyChange=function(o){var h=this.getHierarchyKey();if(h&&this._oHierarchyConfigMap[h]){if(this._oHierarchyConfigMap[h].getColumns()&&this._oHierarchyConfigMap[h].getColumns().length>0){this._buildColumnFromCellCallback();}var m=this.getMode();if(m===sap.gantt.config.DEFAULT_MODE_KEY&&this._oHierarchyConfigMap[this.getHierarchyKey()]){m=this._oHierarchyConfigMap[this.getHierarchyKey()].getActiveModeKey();}this.setMode(m);}};
f.prototype._buildColumnFromCellCallback=function(){this._oTT.removeAllColumns();var h,g;h=this._oHierarchyConfigMap[this.getHierarchyKey()];if(h){g=h.getColumns();}if(g){for(var i=0;i<g.length;i++){var o=new C({label:g[i].getTitle(),sortProperty:g[i].getSortAttribute(),filterProperty:g[i].getFilterAttribute(),width:g[i].getWidth(),template:new c({cellCallback:this.getCellCallback(),columnConfig:g[i]}).data("rowTypeName",this.getRowTypeName())});this._oTT.addColumn(o);this._oTT.addAriaLabelledBy(o.getLabel());}}};
f.prototype.setObjectTypes=function(o){this.setProperty("objectTypes",o,true);this._oGanttChart.setObjectTypes(o);this._oObjectTypesConfigMap={};if(o){for(var i=0;i<o.length;i++){this._oObjectTypesConfigMap[o[i].getKey()]=o[i];}}return this;};
f.prototype.setChartSchemes=function(g){this.setProperty("chartSchemes",g,true);this._oGanttChart.setChartSchemes(g);this._oGanttChartSchemesConfigMap={};if(g){for(var i=0;i<g.length;i++){this._oGanttChartSchemesConfigMap[g[i].getKey()]=g[i];}}return this;};
f.prototype.setShapeDataNames=function(s){this.setProperty("shapeDataNames",s);this._oGanttChart.setShapeDataNames(s);return this;};
f.prototype.setLocale=function(l){this.setProperty("locale",l,true);this._oGanttChart.setLocale(l);return this;};
f.prototype.setShapes=function(s){this.setProperty("shapes",s,true);this._oGanttChart.setShapes(s);this._oShapesConfigMap={};if(s){for(var i=0;i<s.length;i++){this._oShapesConfigMap[s[i].getKey()]=s[i];}}return this;};
f.prototype.setSvgDefs=function(s){this.setProperty("svgDefs",s);this._oGanttChart.setSvgDefs(s);return this;};
f.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E);this._oGanttChart.setEnableCursorLine(E);this._oToolbar.setEnableCursorLine(E);return this;};
f.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E);this._oGanttChart.setEnableNowLine(E);this._oToolbar.setEnableNowLine(E);return this;};
f.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E);this._oGanttChart.setEnableVerticalLine(E);this._oToolbar.setEnableVerticalLine(E);return this;};
f.prototype.setEnableAdhocLine=function(E){this.setProperty("enableAdhocLine",E);this._oGanttChart.setEnableAdhocLine(E);this._oToolbar.setEnableAdhocLine(E);return this;};
f.prototype.setEnableShapeTimeDisplay=function(E){this.setProperty("enableShapeTimeDisplay",E);this._oGanttChart.setEnableShapeTimeDisplay(E);return this;};
f.prototype.setTimeZoomRate=function(t){this.setProperty("timeZoomRate",t,true);this._oGanttChart.setTimeZoomRate(t);return this;};
f.prototype.setAxisTimeStrategy=function(o){this._oGanttChart.setAxisTimeStrategy(o);return this;};
f.prototype.getAxisTimeStrategy=function(){return this._oGanttChart.getAxisTimeStrategy();};
f.prototype.addRelationship=function(r){this._oGanttChart.addRelationship(r);};
f.prototype.insertRelationship=function(i,r){this._oGanttChart.insertRelationship(i,r);};
f.prototype.removeRelationship=function(r){this._oGanttChart.removeRelationship(r);};
f.prototype.getRelationships=function(){this._oGanttChart.getRelationships();};
f.prototype.destroyRelationships=function(){this._oGanttChart.destroyRelationships();};
f.prototype.indexOfRelationship=function(r){this._oGanttChart.indexOfRelationship(r);};
f.prototype.removeAllRelationships=function(){this._oGanttChart.removeAllRelationships();};
f.prototype.updateRelationships=function(r){this._oGanttChart.updateRelationships(r);};
f.prototype.setSelectionPanelSize=function(s,g){this.setProperty("selectionPanelSize",s,g);this._oSelectionPanelCnt.setLayoutData(new a({size:s}));return this;};
f.prototype.addColumn=function(o){this._oTT.addColumn(o);};
f.prototype.insertColumn=function(o,i){this._oTT.insertColumn(o,i);};
f.prototype.removeColumn=function(o){this._oTT.removeColumn(o);};
f.prototype.removeAllColumns=function(){this._oTT.removeAllColumns();};
f.prototype.getColumns=function(){return this._oTT.getColumns();};
f.prototype.setGhostAlignment=function(g){this.setProperty("ghostAlignment",g);this._oGanttChart.setGhostAlignment(g);return this;};
f.prototype._bindAggregation=function(n,B){var m,o;if(n=="rows"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindRows(B);this._oGanttChart.bindRows(B);this._oTC.updateRows=this._updateRows.bind(this);this._oTT._oSelectionPlugin=this._oTC._oSelectionPlugin;}else if(n=="relationships"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oGanttChart.bindRelationships(B);}else if(n=="columns"&&B){m=this.getModel(B.model);o=this.getBindingContext(B.model);if(o&&m){B.path=m.resolve(B.path,o);}this._oTT.bindColumns(B);}else{return G.prototype._bindAggregation.apply(this,arguments);}};
f.prototype.setTableProperties=function(p){G.prototype.setTableProperties.apply(this,arguments);this._oGanttChart.setTableProperties(p);return this;};
f.prototype._updateRows=function(r){if(r!==sap.ui.table.TableUtils.RowsUpdateReason.VerticalScroll&&(this._oTC.getFirstVisibleRow()===this._oTT.getFirstVisibleRow()||r===sap.ui.model.ChangeReason.Filter||r===sap.ui.model.ChangeReason.Sort)){sap.ui.table.Table.prototype.updateRows.apply(this._oTT,arguments);}sap.ui.table.Table.prototype.updateRows.apply(this._oTC,arguments);};
f.prototype._detachToolbarEvents=function(){this._oToolbar.detachSourceChange(this._onToolbarSourceChange,this);this._oToolbar.detachExpandChartChange(this._onToolbarExpandChartChange,this);this._oToolbar.detachExpandTreeChange(this._onToolbarExpandTreeChange,this);this._oToolbar.detachBirdEye(this._onToolbarBirdEye,this);};
f.prototype._onToolbarBirdEye=function(E){var p=E.getParameters();var B=p.birdEyeRange;this._oGanttChart._doBirdEye(B);};
f.prototype.doBirdEyeOnRow=function(r){this._oGanttChart.doBirdEyeOnRow(r);};
f.prototype.getVisibleWidth=function(){return this._oGanttChart.getVisibleWidth();};
f.prototype.onAfterRendering=function(){this._attachEvents();};
f.prototype.onBeforeRendering=function(){if(this._oToolbar.getAllToolbarItems().length===0){this._oTT.removeExtension(this._oToolbar);}else if(this._oTT.getExtension().length==0){this._oTT.addExtension(this._oToolbar);}};
f.prototype._attachEvents=function(){var o={onAfterRendering:this._syncGanttTablesDomEvents};this._oTT.removeEventDelegate(o);this._oTT.addEventDelegate(o,this);this._oTC.removeEventDelegate(o);this._oTC.addEventDelegate(o,this);this._appendMaskSvg();var $=this.$().find(this.getDomSelectorById("spm-svg-table"));if(D.browser.firefox){$.unbind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));$.bind("MozMousePixelScroll.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}else{$.unbind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));$.bind("wheel.sapUiTableMouseWheel",this._onMouseWheel.bind(this));}};
f.prototype._onMouseWheel=function(E){this._oMouseWheelHandler.handleEvent(E);};
f.prototype._onRowSelectionChange=function(E){var s=this._oTT.getSelectedIndices();this._oToolbar.toggleExpandTreeButton(s.length>0);this.fireRowSelectionChange({originEvent:E.getParameter("originEvent")});this._oTT._updateSelection();};
f.prototype._onChartMouseOver=function(E){var p=E.getParameters();this.fireChartMouseOver({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
f.prototype._onShapeSelectionChange=function(E){this.fireShapeSelectionChange({originEvent:E.getParameter("originEvent")});};
f.prototype._onRelationshipSelectionChange=function(E){this.fireRelationshipSelectionChange({originEvent:E.getParameter("originEvent")});};
f.prototype._onClick=function(E){var p=E.getParameters();this.fireChartClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
f.prototype._onDoubleClick=function(E){var p=E.getParameters();this.fireChartDoubleClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
f.prototype._onRightClick=function(E){var p=E.getParameters();this.fireChartRightClick({objectInfo:p.objectInfo,leadingRowInfo:p.leadingRowInfo,timestamp:p.timestamp,svgId:p.svgId,svgCoordinate:p.svgCoordinate,effectingMode:p.effectingMode,originEvent:p.originEvent});};
f.prototype._onChartDragEnter=function(E){this.fireChartDragEnter({originEvent:E.getParameter("originEvent")});};
f.prototype._onChartDragLeave=function(E){this.fireChartDragLeave({originEvent:E.getParameter("originEvent"),draggingSource:E.getParameter("draggingSource"),timePopoverData:E.getParameter("timePopoverData")});};
f.prototype._onShapeDragEnd=function(E){var p=E.getParameters();this.fireShapeDragEnd({originEvent:p.originEvent,sourceShapeData:p.sourceShapeData,targetData:p.targetData,sourceSvgId:p.sourceSvgId,targetSvgId:p.targetSvgId});};
f.prototype._onShapeResizeEnd=function(E){var p=E.getParameters();this.fireShapeResizeEnd({shapeUid:p.shapeUid,rowObject:p.rowObject,oldTime:p.oldTime,newTime:p.newTime});};
f.prototype._onShapeMouseEnter=function(E){var p=E.getParameters();this.fireShapeMouseEnter({shapeData:p.shapeData,pageX:p.pageX,pageY:p.pageY,originEvent:p.originEvent});};
f.prototype._onShapeMouseLeave=function(E){var p=E.getParameters();this.fireShapeMouseLeave({shapeData:p.shapeData,originEvent:p.originEvent});};
f.prototype._onGanttChartVisibleHorizonUpdate=function(E){this.fireEvent("_visibleHorizonUpdate",E.getParameters());};
f.prototype._onGanttChartTimePeriodZoomStatusChange=function(E){this.fireEvent("_timePeriodZoomStatusChange",E.getParameters());};
f.prototype._onGanttChartTimePeriodZoomOperation=function(E){this.fireEvent("_timePeriodZoomOperation",E.getParameters());};
f.prototype.syncTimePeriodZoomStatus=function(g){this._oGanttChart.syncTimePeriodZoomStatus(g);};
f.prototype.syncTimePeriodZoomOperation=function(E,t,o){this._oGanttChart.syncTimePeriodZoomOperation(E,t,o);};
f.prototype.syncMouseWheelZoom=function(E){this._oGanttChart.syncMouseWheelZoom(E);};
f.prototype._onChartHSbScroll=function(E){this.fireHorizontalScroll(E.getParameters());};
f.prototype.syncVisibleHorizon=function(t,v,k){this._oGanttChart.syncVisibleHorizon(t,v,k);};
f.prototype._onChartVSbScroll=function(E){var $=jQuery(this.getTTVsbDom());var g=jQuery(this.getTCVsbDom());if(this.sScrollSource===null||this.sScrollSource!=="GanttChartWithTable"){this.sScrollSource="GanttChart";window.requestAnimationFrame(function(){$.scrollTop(g.scrollTop());});}else{this.sScrollSource=null;}this.fireVerticalScroll({scrollSteps:this._oTC.getFirstVisibleRow(),scrollPosition:jQuery(this.getTCVsbDom()).scrollTop()});};
f.prototype._drawSvg=function(){this._appendMaskSvg();this._updateMaskSvg();this._updateTableRowHeights();this._drawSelectionPanel();};
f.prototype._onZoomInfoUpdated=function(E){var p=E.getParameters();if(p.axisTimeChanged){this.setProperty("timeZoomRate",this._oGanttChart.getAxisTime().getZoomRate(),true);}this.fireEvent("_zoomInfoUpdated",p);};
f.prototype._onShapesUpdated=function(E){this.fireEvent("_shapesUpdated",{aSvg:E.getParameter("aSvg")});};
f.prototype._bindVerticalScrollForTT=function(){var $=jQuery(this.getTTVsbDom());$.unbind("scroll.sapUiTableVScrollForGanttChartWithTable",this._onSelectionPanelVSbScroll);$.bind("scroll.sapUiTableVScrollForGanttChartWithTable",jQuery.proxy(this._onSelectionPanelVSbScroll,this));};
f.prototype._onSelectionPanelVSbScroll=function(){var $=jQuery(this.getTTVsbDom());var g=jQuery(this.getTCVsbDom());if(this.sScrollSource===null||this.sScrollSource!=="GanttChart"){this.sScrollSource="GanttChartWithTable";window.requestAnimationFrame(function(){g.scrollTop($.scrollTop());});}else{this.sScrollSource=null;}this._applyTransform();};
f.prototype._applyTransform=function(){this.$().find(this.getDomSelectorById("spm-svg-table")).css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");};
f.prototype._onSplitterResize=function(E){var p=E.getParameters();this._oGanttChart._draw();this.fireSplitterResize(p);};
f.prototype._onToolbarSourceChange=function(E){var o=this.getHierarchyKey();var g=this.getMode();this.setHierarchyKey(E.getParameter("id"));this.notifySourceChange();this.fireGanttChartSwitchRequested({hierarchyKey:E.getParameter("id"),oldHierarchyKey:o,oldMode:g});};
f.prototype._onToolbarExpandChartChange=function(E){var g=E.getParameter("isExpand"),h=E.getParameter("expandedChartSchemes");this.handleExpandChartChange(g,h,null);};
f.prototype._onToolbarExpandTreeChange=function(E){var s=E.getParameter("action");if(s){var g=this._oTT.getSelectedIndices();this._oTT[s](g);}};
f.prototype._onToolbarModeChange=function(E){var B=this.getBinding("mode");if(B){B.setValue(E.getParameter("mode"));}this.setMode(E.getParameter("mode"));};
f.prototype.handleExpandChartChange=function(E,g,s){s=s?s:this._oTT.getSelectedIndices();this._oGanttChart.handleExpandChartChange(E,g,s);};
f.prototype.invertRowExpandStatus=function(s,g){if(s&&s.length>0&&g){this._oGanttChart.invertRowExpandStatus(s,g);}};
f.prototype._updateTableRowHeights=function(){var t=this._oTT;var h=this._getRowHeights();if(!h){return;}t._updateRowHeights(h,false);};
f.prototype._getRowHeights=function(){return this._aHeights;};
f.prototype.setBaseRowHeight=function(n){this.setProperty("baseRowHeight",n);this._oTT.setRowHeight(n);return this._oGanttChart.setBaseRowHeight(n);};
f.prototype.getBaseRowHeight=function(){return this._oGanttChart.getBaseRowHeight();};
f.prototype._onTTRowUpdate=function(){var $=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));if(this._oGanttChart.isRowExpanded()){var g=this._oTT.$();$.height(g.find(".sapUiTableCCnt").height());$.show();var h=$.find(".sapGanttSPMaskSvg");h.height(g.find(".sapUiTableCtrlCnt").height());this._drawSvg();}else{$.hide();}this._adjustGanttInferredRowHeight();this._oTT._updateTableContent();this._adjustChartHeaderHeight();};
f.prototype._adjustChartHeaderHeight=function(){var $=this._oTT.$().find(".sapUiTableExt");var g=this._oTT.$().find(".sapUiTableColHdrCnt");var i=($?$.outerHeight():0)+g.height()+1;if(D.browser.firefox){var h=this._oTT.$().find(".sapUiTableCCnt");i=parseInt(h[0].getBoundingClientRect().top-this._oTT.$()[0].getBoundingClientRect().top,10);}var j=this._oGanttChart.$().find(".sapGanttChartHeader");j.height(i);j.css("min-height",i);var k=this._oGanttChart.$().find(".sapGanttChartHeaderSvg");k.height(i);k.css("min-height",i);};
f.prototype._adjustGanttInferredRowHeight=function(){var h=this._getRowHeights();var F=this._getTTFirstRenderingRowIndex();var s=this._oGanttChart._getDrawingData([F,F]);if(h&&h.length>0&&s&&s.length>0){var B=h[0]/s[0].visibleRowSpan;var p=this._oGanttChart._iInferedBaseRowHeight;if(B!==p){this._oGanttChart._setInferedBaseRowHeight(B);if(p===undefined){this._oTC.updateRows();}}}};
f.prototype._syncGanttTablesDomEvents=function(E){var s=E.srcControl,t=s.getId()===this._oTT.getId()?this._oTC:this._oTT;s.$().find(".sapUiTableRowHdr, .sapUiTableTr").hover(function(E){var i=jQuery(E.currentTarget).data("sapUiRowindex");t.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr.sapUiTableTr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").filter(":eq("+i+")").addClass("sapUiTableRowHvr");},function(E){t.$().find(".sapUiTableCtrlFixed > tbody > tr.sapUiTableTr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableCtrlScroll > tbody > tr.sapUiTableTr").removeClass("sapUiTableRowHvr");t.$().find(".sapUiTableRowHdr").removeClass("sapUiTableRowHvr");});};
f.prototype._setLargeDataScrolling=function(l){if(this._oTT._setLargeDataScrolling){this._oTT._setLargeDataScrolling(!!l);}if(this._oTC._setLargeDataScrolling){this._oTC._setLargeDataScrolling(!!l);}};
f.prototype.getToolbarSchemeKey=function(){return this._oToolbar.getToolbarSchemeKey();};
f.prototype.jumpToPosition=function(o){this._oGanttChart.jumpToPosition(o);};
f.prototype.selectShapes=function(i,g){return this._oGanttChart.selectShapes(i,g);};
f.prototype.deselectShapes=function(i){return this._oGanttChart.deselectShapes(i);};
f.prototype.selectRelationships=function(i,g){return this._oGanttChart.selectRelationships(i,g);};
f.prototype.deselectRelationships=function(i){return this._oGanttChart.deselectRelationships(i);};
f.prototype.selectRows=function(i,g){return this._oGanttChart.selectRows(i,g);};
f.prototype.deselectRows=function(i){return this._oGanttChart.deselectRows(i);};
f.prototype.selectRowsAndShapes=function(i,I){return this._oGanttChart.selectRowsAndShapes(i,I);};
f.prototype.getAllSelections=function(){return this._oGanttChart.getAllSelections();};
f.prototype.getSelectedShapes=function(){var s=this._oGanttChart.getSelectedShapes();return s;};
f.prototype.getSelectedRows=function(){var s=this._oGanttChart.getSelectedRows();return s;};
f.prototype.getSelectedRelationships=function(){var s=this._oGanttChart.getSelectedRelationships();return s;};
f.prototype.setDraggingData=function(o){this._oGanttChart.setDraggingData(o);};
f.prototype.setTimePopoverData=function(o){this._oGanttChart.setTimePopoverData(o);};
f.prototype.getRowByShapeUid=function(s){return this._oGanttChart.getRowByShapeUid(s);};
f.prototype._drawSelectionPanel=function(){var t=this._oTT.$().find(".sapUiTableRowHdrScr").width();var v=this._getVisibleRowData();if(v!==undefined){this._oSelectionPanelDrawer.drawSvg(d3.select(this.getDomSelectorById("spm-svg-table")),v,t,this);this.$().find(this.getDomSelectorById("spm-svg-table")).css("transform","translateY("+(-this._oTT.$().find(".sapUiTableCCnt").scrollTop())+"px)");}};
f.prototype._getVisibleRowData=function(){var F=this._getTTFirstRenderingRowIndex();var v=this.getVisibleRowCount()+1;var V=this._oGanttChart._getDrawingData([F,F+v-1]);var B=this._oGanttChart.getBaseRowHeight();var p=0;for(var i=0;i<V.length;i++){var s=V[i];s.rowHeight=s.rowSpan*B;s.y=p;p+=s.rowHeight;}return V;};
f.prototype._appendMaskSvg=function(){var $=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));var g=this._oTT.$();if($.length==0&&this._oGanttChart.isRowExpanded()){$=jQuery("<div id='"+this.getId()+"-spm-svg-table-ctn' class='sapGanttChartSPMSvgCtn' >"+"<svg id='"+this.getId()+"-spm-svg-table' class='sapGanttSPMaskSvg'>"+"</svg>"+"</div>");g.parent().append($);}};
f.prototype._updateMaskSvg=function(){var $=this.$().find(this.getDomSelectorById("spm-svg-table-ctn"));var g=this._oTT.$();$.height(g.find(".sapUiTableCCnt").height());$.width(jQuery(document).width());$.css("top",this._oGanttChart.$().find(".sapGanttChartHeader").height()+1);$.css("min-width",g.find("table").css("min-width"));var h=$.find(".sapGanttSPMaskSvg");h.width($.width());h.height(g.find(".sapUiTableCtrlCnt").height());};
f.prototype.getAxisOrdinal=function(){return this._oGanttChart.getAxisOrdinal();};
f.prototype.getAxisTime=function(){return this._oGanttChart.getAxisTime();};
f.prototype.expandToLevel=function(l){this._oTT.expandToLevel(l);return this;};
f.prototype.expand=function(r){this._oTT.expand(r);return this;};
f.prototype.collapse=function(r){this._oTT.collapse(r);return this;};
f.prototype.getVisibleRowCount=function(){return this._oTT.getVisibleRowCount();};
f.prototype.getLargestHorizonByDataRange=function(B,r,i){return this._oGanttChart.getLargestHorizonByDataRange(B,r,i);};
f.prototype.setSelectedIndex=function(r){this._oTT.setSelectedIndex(r);return this;};
f.prototype.getSelectedIndex=function(){return this._oTT.getSelectedIndex();};
f.prototype.getFirstVisibleRow=function(){return this.getTableProperties().firstVisibleRow;};
f.prototype.setFirstVisibleRow=function(r){this.setTableProperties({firstVisibleRow:r});return this;};
f.prototype.getRows=function(){return this._oTT.getRows();};
f.prototype.exit=function(){this._detachToolbarEvents();this._oSplitter.destroy();};
f.prototype.notifySourceChange=function(){this._oTT.setFirstVisibleRow(0);this._oGanttChart.notifySourceChange();};
f.prototype.autoResizeColumn=function(g){if(g>=0&&jQuery.isNumeric(g)){this._oTT.autoResizeColumn(g);}else{for(var i=this._oTT.getColumns().length;i>=0;i--){this._oTT.autoResizeColumn(i);}}};
f.prototype._autoResizeColumn=function(){if(this._oHierarchyConfigMap[this.getHierarchyKey()].getAutoResizeColumn()){this.autoResizeColumn();}};
f.prototype.redraw=function(h){this._oGanttChart.redraw(h);};
f.prototype.selectByUid=function(u){this._oGanttChart.selectByUid(u);};
f.prototype.getTTHsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.HorizontalScrollBar);};
f.prototype.getTTVsbDom=function(){return this._oTT.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar);};
f.prototype.getTCVsbDom=function(){return this._oGanttChart.getTTVsbDom();};
f.prototype._getTTFirstRenderingRowIndex=function(){if(this._oTT.getRows().length>0){return this._oTT.getRows()[0].getIndex();}return this._oTT.getFirstVisibleRow();};
["addCustomToolbarItem","insertCustomToolbarItem","removeCustomToolbarItem","indexOfCustomToolbarItem","removeAllCustomToolbarItems","destroyCustomToolbarItems","getCustomToolbarItems"].forEach(function(m){f.prototype[m]=function(){return this._oToolbar[m].apply(this._oToolbar,arguments);};});return f;},true);
sap.ui.predefine('sap/gantt/GanttChartWithTableRenderer',['sap/ui/core/theming/Parameters','sap/gantt/misc/Utility'],function(P,U){"use strict";var G={};
G.render=function(r,g){r.write("<div");r.writeControlData(g);r.addClass("sapGanttChartWithTable");r.writeClasses();r.addStyle("width",g.getWidth());r.addStyle("height",g.getHeight());r.writeStyles();r.write(">");this._setTableColumnHeaderHeight(g);r.renderControl(g._oSplitter);r.write("</div>");};
G._setTableColumnHeaderHeight=function(g){var h=g._oToolbar.getAllToolbarItems().length===0;if(h){var m=U.findSapUiSizeClass(g),H=jQuery.sap.endsWith(sap.ui.getCore().getConfiguration().getTheme(),"hcb"),i=0,p=H?4:2;if(m==="sapUiSizeCozy"){i=parseInt(P.get("_sap_gantt_Gantt_HeaderHeight"),10)-p;}else{i=parseInt(P.get("_sap_gantt_Gantt_CompactHeaderHeight"),10)-p;}g._oTT.setColumnHeaderHeight(i);}};
return G;},true);
sap.ui.predefine('sap/gantt/axistime/AxisTimeStrategyBase',["sap/gantt/library","sap/ui/core/Element","sap/ui/core/Locale","sap/ui/core/format/DateFormat","sap/base/util/ObjectPath","../misc/Utility","../misc/Format","../misc/RelativeTimeFormatter","../config/TimeHorizon","../misc/AxisTime"],function(l,E,L,D,O,U,F,R,T,A){"use strict";
var a=E.extend("sap.gantt.axistime.AxisTimeStrategyBase",{metadata:{"abstract":true,properties:{timeLineOptions:{type:"object"},timeLineOption:{type:"object"},coarsestTimeLineOption:{type:"object"},finestTimeLineOption:{type:"object"},zoomLevels:{type:"int",defaultValue:10},zoomLevel:{type:"int",defaultValue:0},calendarType:{type:"string",defaultValue:sap.ui.core.CalendarType.Gregorian},locale:{type:"object"},mouseWheelZoomType:{type:"sap.gantt.MouseWheelZoomType",defaultValue:l.MouseWheelZoomType.FineGranular}},aggregations:{totalHorizon:{type:"sap.gantt.config.TimeHorizon",multiple:false},visibleHorizon:{type:"sap.gantt.config.TimeHorizon",multiple:false},_axisTime:{type:"sap.gantt.misc.AxisTime",multiple:false,visibility:"hidden"}}}});
a.prototype.applySettings=function(s){s=s||{};if(!s.visibleHorizon){s.visibleHorizon=l.config.DEFAULT_INIT_HORIZON.clone();}if(!s.totalHorizon){s.totalHorizon=l.config.DEFAULT_PLAN_HORIZON.clone();}E.prototype.applySettings.call(this,s);this.calZoomBase();return this;};
a.prototype.isTimePeriodZoomEnabled=function(){return true;};
a.prototype.setVisibleHorizon=function(v){var h=this._completeTimeHorizon(v);var o=this.getAggregation("visibleHorizon");if(o){o.setStartTime(h.getStartTime(),true);o.setEndTime(h.getEndTime(),true);}else{this.setAggregation("visibleHorizon",h,true);}return this;};
a.prototype.setVisibleHorizonWithReason=function(v,r,o){this.setVisibleHorizon(v);return this;};
a.prototype._completeTimeHorizon=function(v){var o=this.getVisibleHorizon(),b=this.getTotalHorizon();if(o===null||b===null){return v;}var r=new T({startTime:o.getStartTime(),endTime:o.getEndTime()});if(v){var s=v.getStartTime(),e=v.getEndTime(),d,t=F.abapTimestampToDate(b.getStartTime()),c=F.abapTimestampToDate(b.getEndTime());if(!s&&!e){return r;}var i;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined&&this._nGanttVisibleWidth!==undefined&&this.getAxisTime()){var n=this.getAxisTime().getZoomRate();var f=this._oZoom.base.scale/n;i=this._nGanttVisibleWidth*f;}else{i=F.abapTimestampToDate(r.getEndTime()).getTime()-F.abapTimestampToDate(r.getStartTime()).getTime();}if(!s){d=F.abapTimestampToDate(e);d.setTime(d.getTime()-i);if(d<t){d=t;e=F.dateToAbapTimestamp(new Date(t+i));}s=F.dateToAbapTimestamp(d);}else if(!e){d=F.abapTimestampToDate(s);d.setTime(d.getTime()+i);if(d>c){d=c;s=F.dateToAbapTimestamp(new Date(c-i));}e=F.dateToAbapTimestamp(d);}else{d=F.abapTimestampToDate(s);if(d<t){s=this.getTotalHorizon().getStartTime();}d=F.abapTimestampToDate(e);if(d>c){e=this.getTotalHorizon().getEndTime();}}r.setStartTime(s);r.setEndTime(e);}return r;};
a.prototype.createAxisTime=function(o){var t=this.getTimeLineOption(),v=this.getVisibleHorizon(),b=this.getTotalHorizon();if(!U.judgeTimeHorizonValidity(v,b)){this.getVisibleHorizon().setStartTime(b.getStartTime(),true);this.getVisibleHorizon().setEndTime(b.getEndTime(),true);jQuery.sap.log.warning("Visible horizon is not in total horizon, so convert visible horizon to total horizon",null,"sap.gantt.axistime.AxisTimeStrategyBase.createAxisTime()");}var h=F.getTimeStampFormatter().parse(b.getStartTime());var H=F.getTimeStampFormatter().parse(b.getEndTime());var n=H.valueOf()-h.valueOf();var c=O.get(t.innerInterval.unit).offset(h,t.innerInterval.span).valueOf()-h.valueOf();var d=new A([h,H],[0,Math.ceil(n*t.innerInterval.range/c)],1,null,null,o,this);this.setAggregation("_axisTime",d,true);};
a.prototype.syncContext=function(n){var r={zoomLevel:undefined,axisTimeChanged:false};return r;};
a.prototype.updateStopInfo=function(s){return null;};
a.prototype.setTotalHorizon=function(t,s){if(typeof s==="undefined"){s=true;}if(t){var o=this.getAggregation("totalHorizon");if(o){o.setStartTime(t.getStartTime(),true);o.setEndTime(t.getEndTime(),true);}else{this.setAggregation("totalHorizon",t,s);}}return this;};
a.prototype.getUpperRowFormatter=function(){var t=this.getTimeLineOption();var o=t.largeInterval;var f;if(o.relativeTime){var b=F.abapTimestampToDate(this.getTotalHorizon().getStartTime());f=new R(b,o.unit,o.relativeTimePrefix);}else{var c=this.getCalendarType(),C=this.getLocale()?this.getLocale():new L(sap.ui.getCore().getConfiguration().getLanguage().toLowerCase());f=D.getDateTimeInstance({format:o.format,pattern:o.pattern,style:o.style,calendarType:t.calendarType||c},o.locale?new L(o.locale):C);}return f;};
a.prototype.getLowerRowFormatter=function(){var t=this.getTimeLineOption();var s=t.smallInterval;var f;if(s.relativeTime){var o=F.abapTimestampToDate(this.getTotalHorizon().getStartTime());f=new R(o,s.unit,s.relativeTimePrefix);}else{var c=this.getCalendarType(),C=this.getLocale()?this.getLocale():new L(sap.ui.getCore().getConfiguration().getLanguage().toLowerCase());f=D.getDateTimeInstance({format:s.format,pattern:s.pattern,style:s.style,calendarType:c},s.locale?new L(s.locale):C);}return f;};
a.prototype.isLowerRowTickHourSensitive=function(){var t=this.getTimeLineOption();var u=t.innerInterval.unit;var s=t.innerInterval.span;var S=F.getTimeStampFormatter().parse("20000101000000");var e=O.get(u).offset(S,s);return(e.getTime()-S.getTime())<=60*60*1000;};
a.prototype.getAxisTime=function(){return this.getAggregation("_axisTime");};
a.prototype.fireRedrawRequest=function(f,r,v,o){this.fireEvent("_redrawRequest",{forceUpdate:f,reasonCode:r,valueBeforeChange:v,originEvent:o});};
a.prototype.updateGanttVisibleWidth=function(n){this._nGanttVisibleWidth=n;};
a.prototype.getGanttVisibleWidth=function(){return this._nGanttVisibleWidth;};
a.prototype.calZoomScale=function(u,s,r){var S=F.getTimeStampFormatter().parse("20000101000000");var e=O.get(u).offset(S,s);return this.calZoomScaleByDate(S,e,r);};
a.prototype.calZoomScaleByDate=function(s,e,r){return(e.valueOf()-s.valueOf())/r;};
a.prototype.calZoomBase=function(){var b=this.getTimeLineOption()||this.getFinestTimeLineOption();if(b){var s=this.calZoomScale(b.innerInterval.unit,b.innerInterval.span,b.innerInterval.range);this._oZoom={base:{timeLineOption:b,rate:1,scale:s}};return true;}return false;};
a.prototype.updateVisibleHorizonOnMouseWheelZoom=function(t,s,o,S){var z=s<0;var Z=Math.round(Math.abs(s)/100);var m=this.getMouseWheelZoomType();if(m===l.MouseWheelZoomType.FineGranular){this.updateVisibleHorizonOnFineGranularMouseWheelZoom(t,z,Z,o,S);}else if(m===l.MouseWheelZoomType.Stepwise){this.updateVisibleHorizonOnStepWiseMouseWheelZoom(t,z,Z,o,S);}};
a.prototype.updateVisibleHorizonOnFineGranularMouseWheelZoom=function(t,z,Z,o,s){var v=this.getVisibleHorizon();var V=F.abapTimestampToDate(v.getStartTime());var b=this.getTimeLineOption();var n=O.get(b.innerInterval.unit).offset(V,Z*b.innerInterval.span).getTime()-V.getTime();var i=z?-1:1;var N=this.calVisibleHorizonByDelta(i*n,t);var r=s?"syncVisibleHorizon":"mouseWheelZoom";this.setVisibleHorizonWithReason(N,r,o);};
a.prototype.updateVisibleHorizonOnStepWiseMouseWheelZoom=function(t,z,Z,o,s){var i=z?-1:1;var b=this.getZoomLevel()-i*Z;if(b>-1&&b<this.getZoomLevels()){if(this._aZoomRate[b]&&!U.floatEqual(this._aZoomRate[b],this._oZoom.rate)){this.setZoomLevel(b);}}};
a.prototype.calVisibleHorizonByRate=function(n,o){var b=0;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined&&this._nGanttVisibleWidth!==undefined){var v=F.abapTimestampToDate(this.getVisibleHorizon().getStartTime());var V=F.abapTimestampToDate(this.getVisibleHorizon().getEndTime());var c=V.getTime()-v.getTime();var d=this._oZoom.base.scale/n;var e=this._nGanttVisibleWidth*d;b=e-c;}return this.calVisibleHorizonByDelta(b,o);};
a.prototype.calVisibleHorizonByDelta=function(n,o){var v=this.getVisibleHorizon();if(n!==0){var b=F.abapTimestampToDate(v.getStartTime()).getTime();var c=F.abapTimestampToDate(v.getEndTime()).getTime();var d=c-b;var e=0;var f,g;var h=F.abapTimestampToDate(this.getTotalHorizon().getStartTime()).getTime();var i=F.abapTimestampToDate(this.getTotalHorizon().getEndTime()).getTime();if(n>0&&b<=h){f=0;g=1;e=h;}else if(n>0&&c>=i){f=1;g=0;e=i;}else{if(!o){e=b+d/2;}else{e=o.getTime();}f=(e-b)/d;g=1-f;}var j=d+n;var k=e-f*j;var m=e+g*j;var N,p;if(k<=h){N=this.getTotalHorizon().getStartTime();}else{N=new Date();N.setTime(k);}if(m>=i){p=this.getTotalHorizon().getEndTime();}else{p=new Date();p.setTime(m);}return new T({startTime:N,endTime:p});}return v;};
a.prototype.calMiddleDate=function(s,e){return new Date(s.getTime()+(e.getTime()-s.getTime())/2);};
a.prototype._updateZoomControlType=function(z){return null;};
return a;},true);
sap.ui.predefine('sap/gantt/axistime/FullScreenStrategy',["sap/gantt/library","sap/ui/core/Element","sap/base/util/ObjectPath","./AxisTimeStrategyBase","../misc/Utility","../misc/Format"],function(l,E,O,A,U,F){"use strict";sap.gantt.axistime.FullScreenTimeLineOptions=l.config.DEFAULT_TIME_ZOOM_STRATEGY;
var a=A.extend("sap.gantt.axistime.FullScreenStrategy");
a.prototype.init=function(){this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.FullScreenTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.FullScreenTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",0,true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.None,true);};
a.prototype.applySettings=function(s){E.prototype.applySettings.call(this,s);this.calZoomBase();return this;};
a.prototype.isTimePeriodZoomEnabled=function(){return false;};
a.prototype.setMouseWheelZoomType=function(m){jQuery.sap.log.warning("FullScreenStrategy does not support zoom, its zoom type is None and can not be set",null,"FullScreenStrategy.prototype.setMouseWheelZoomType()");return this;};
a.prototype.setVisibleHorizon=function(v){this.setVisibleHorizonWithReason(v,"visibleHorizonUpdated");return this;};
a.prototype.setVisibleHorizonWithReason=function(v,r,o){this.setTotalHorizon(v.clone());A.prototype.setVisibleHorizon.call(this,v);var L=this.getVisibleHorizon();if(L){this.fireRedrawRequest(true,r,L,o);}return this;};
a.prototype.syncContext=function(n){var b=false;var r={axisTimeChanged:false};var s=this._calSuitableRateByChartWidth(n);if(s!==undefined){var L=this._oZoom.rate||-1;this._oZoom.rate=s;this.getAxisTime().setZoomRate(this._oZoom.rate);b=!U.floatEqual(L,this._oZoom.rate);if(b){r.axisTimeChanged=true;}}this._updateTimeLineOption();return r;};
a.prototype._calSuitableRateByChartWidth=function(n){var i=this.getVisibleHorizon(),s;if(i&&i.getStartTime()&&i.getEndTime()){var S=this.calZoomScaleByDate(F.abapTimestampToDate(i.getStartTime()),F.abapTimestampToDate(i.getEndTime()),n);s=this._oZoom.base.scale/S;}return s;};
a.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),T=this.getProperty("timeLineOption");var o=this.getAxisTime();if(o){var b=o.timeToView(s);for(i in t){var d=t[i].innerInterval;var e=o.timeToView(O.get(d.unit).offset(s,d.span));var r=Math.abs(Math.ceil((e-b)));if(r>=d.range){c=i;break;}}T=c?t[c]:t[i];this.setProperty("timeLineOption",T,true);}};
return a;},true);
sap.ui.predefine('sap/gantt/axistime/ProportionZoomStrategy',["sap/gantt/library","sap/base/util/ObjectPath","./AxisTimeStrategyBase","../misc/Utility","../misc/Format"],function(l,O,A,U,F){"use strict";sap.gantt.axistime.ProportionTimeLineOptions=l.config.DEFAULT_TIME_ZOOM_STRATEGY;
var P=A.extend("sap.gantt.axistime.ProportionZoomStrategy");
P.prototype.init=function(){this._aZoomRate=new Array(10);this.setProperty("coarsestTimeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["1month"],true);this.setProperty("finestTimeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["5min"],true);this.setProperty("timeLineOptions",sap.gantt.axistime.ProportionTimeLineOptions,true);this.setProperty("timeLineOption",sap.gantt.axistime.ProportionTimeLineOptions["4day"],true);this.setProperty("zoomLevel",0,true);this.setProperty("zoomLevels",10,true);};
P.prototype.applySettings=function(s){A.prototype.applySettings.call(this,s);};
P.prototype.setVisibleHorizon=function(v){this.setVisibleHorizonWithReason(v,"visibleHorizonUpdated");return this;};
P.prototype.setVisibleHorizonWithReason=function(v,r,o){if(v&&!v.getStartTime()&&!v.getEndTime()){this._bHorizontalScroll=false;}else if(v&&(!v.getStartTime()||!v.getEndTime())){this._bHorizontalScroll=true;}else{this._bHorizontalScroll=false;}A.prototype.setVisibleHorizon.apply(this,arguments);var L=this.getVisibleHorizon();if(L){this.fireRedrawRequest(false,r,L,o);}return this;};
P.prototype.setTotalHorizon=function(t){A.prototype.setTotalHorizon.apply(this,arguments);if(this.getAxisTime()){this.calZoomBase();this.createAxisTime(this.getAxisTime().getLocale());this.fireRedrawRequest(true,"totalHorizonUpdated");}return this;};
P.prototype.updateStopInfo=function(s){this.setZoomLevel(s.index);return this;};
P.prototype.setZoomLevel=function(z){if(z>=0&&z!==this.getZoomLevel()){this.setProperty("zoomLevel",z,true);if(this._aZoomRate[z]){var n=this.calVisibleHorizonByRate(this._aZoomRate[z]);this.setVisibleHorizonWithReason(n,"zoomLevelChange");}}return this;};
P.prototype.setZoomLevels=function(z){this.setProperty("zoomLevels",z,true);if(z>1){this._aZoomRate=new Array(z);}else{this._aZoomRate=[1];}this._updateZoomRateOnStops();return this;};
P.prototype.syncContext=function(n){var a=false,z=false;var r={zoomLevel:undefined,axisTimeChanged:false};var o=this.getGanttVisibleWidth();if((o!==undefined)&&(n!==o)){this._updateVisibleHorizon(n);}var d=this._determineZoomBoundaryByStrategy();var D=this._determineZoomRateByChartWidth(n);if(D){this.updateGanttVisibleWidth(n);var L=this._oZoom.minRate||-1;this._oZoom.minRate=Math.max(d.minRate,D.minRate)||d.minRate;var f=this._oZoom.maxRate||-1;this._oZoom.maxRate=d.maxRate;var b=this._oZoom.rate||-1;z=!U.floatEqual(L,this._oZoom.minRate)||!U.floatEqual(f,this._oZoom.maxRate);if(z){this._updateZoomRateOnStops();this._adjustRateByBoundary();}if(D.suitableRate&&!this._bHorizontalScroll){this._oZoom.rate=D.suitableRate;this._adjustRateByBoundary();}var i=this.getZoomLevel(),Z=this._calcZoomLevelFromZoomRate(this._oZoom.rate);var c=i!==Z;if(c){this.setProperty("zoomLevel",Z,true);}r.zoomLevel=this.getZoomLevel();a=!U.floatEqual(b,this._oZoom.rate);if(a){this.getAxisTime().setZoomRate(this._oZoom.rate);this._updateTimeLineOption();}r.axisTimeChanged=a;}return r;};
P.prototype._updateVisibleHorizon=function(n){var o=this.getVisibleHorizon();var i=this.getGanttVisibleWidth();var c=U.calculateHorizonByWidth(o,i,n);A.prototype.setVisibleHorizon.call(this,c);};
P.prototype._adjustRateByBoundary=function(){if(this._oZoom.rate){this._oZoom.rate=Math.max(this._oZoom.rate,this._oZoom.minRate);this._oZoom.rate=Math.min(this._oZoom.rate,this._oZoom.maxRate);}};
P.prototype._updateZoomRateOnStops=function(){if(this._oZoom&&this._oZoom.maxRate&&this._oZoom.minRate){var m=this._oZoom.maxRate,M=this._oZoom.minRate,s=this.getZoomLevels();this._oLog={};this._oLog.fMax=Math.log(m);this._oLog.fMin=Math.log(M);this._oLog.fStep=(this._oLog.fMax-this._oLog.fMin)/s;if(s>0){for(var i=0;i<s;i++){this._aZoomRate[i]=Math.pow(Math.E,this._oLog.fMin+this._oLog.fStep*i);}}else{this._aZoomRate[0]=1;}}};
P.prototype._calcZoomLevelFromZoomRate=function(r){if(this._oZoom&&this._oLog&&r){return Math.round((Math.log(r)-this._oLog.fMin)/this._oLog.fStep);}};
P.prototype._determineZoomBoundaryByStrategy=function(){if(this._oZoom&&this._oZoom.base){var c=this.getCoarsestTimeLineOption(),f=this.getFinestTimeLineOption();return{minRate:this._oZoom.base.scale/this.calZoomScale(c.innerInterval.unit,c.innerInterval.span,c.innerInterval.range),maxRate:this._oZoom.base.scale/this.calZoomScale(f.innerInterval.unit,f.innerInterval.span,f.innerInterval.range*4)};}};
P.prototype._determineZoomRateByChartWidth=function(n){var t=this.getTotalHorizon(),v=this.getVisibleHorizon(),r={};if(!this._oZoom){return null;}if(!U.judgeTimeHorizonValidity(v,t)){this.getVisibleHorizon().setStartTime(t.getStartTime(),true);this.getVisibleHorizon().setEndTime(t.getEndTime(),true);jQuery.sap.log.warning("Visible horizon is not in total horizon, so convert visible horizon to total horizon",null,"sap.gantt.axistime.ProportionZoomStrategy.syncContext()");}if(t){var m=this.calZoomScaleByDate(F.abapTimestampToDate(t.getStartTime()),F.abapTimestampToDate(t.getEndTime()),n);r.minRate=this._oZoom.base.scale/m;}if(v&&v.getStartTime()&&v.getEndTime()){var s=this.calZoomScaleByDate(F.abapTimestampToDate(v.getStartTime()),F.abapTimestampToDate(v.getEndTime()),n);r.suitableRate=this._oZoom.base.scale/s;}return r;};
P.prototype._updateTimeLineOption=function(){var s=F.getTimeStampFormatter().parse("20000101000000"),c,i,t=this.getTimeLineOptions(),T=this.getProperty("timeLineOption");var a=this.getAxisTime();if(a){var b=a.timeToView(s);for(i in t){var d=t[i].innerInterval;var e=a.timeToView(O.get(d.unit).offset(s,d.span));var r=Math.abs(Math.ceil((e-b)));if(r>=d.range){c=i;break;}}T=c?t[c]:t[i];this.setProperty("timeLineOption",T,true);}};
P.prototype.onSetTimeZoomRate=function(t){var n=this.calVisibleHorizonByRate(t);this.setVisibleHorizon(n);};
return P;},true);
sap.ui.predefine('sap/gantt/axistime/StepwiseZoomStrategy',["sap/gantt/library","sap/base/util/ObjectPath","./AxisTimeStrategyBase","../misc/Format"],function(l,O,A,F){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");var T=l.config.TimeUnit;sap.gantt.axistime.StepwiseTimeLineOptions={"FiveMinutes":{text:r.getText("SWZS_FIVE_MINUTES"),innerInterval:{unit:T.minute,span:5,range:32},largeInterval:{unit:T.hour,span:1,pattern:"ha / MMMM dd, yyyy "},smallInterval:{unit:T.minute,span:5,pattern:"mm "}},"FifteenMinutes":{text:r.getText("SWZS_FIFTEEN_MINUTES"),innerInterval:{unit:T.minute,span:15,range:48},largeInterval:{unit:T.hour,span:1,pattern:"ha / MMMM dd, yyyy "},smallInterval:{unit:T.minute,span:15,pattern:"mm "}},"Hour":{text:r.getText("SWZS_HOUR"),innerInterval:{unit:T.hour,span:1,range:48},largeInterval:{unit:T.day,span:1,pattern:"MMMM dd, yyyy "},smallInterval:{unit:T.hour,span:1,pattern:"HH:mm "}},"SixHours":{text:r.getText("SWZS_SIX_HOURS"),innerInterval:{unit:T.hour,span:6,range:64},largeInterval:{unit:T.day,span:1,pattern:"MMMM dd, yyyy "},smallInterval:{unit:T.hour,span:6,pattern:"HH:mm "}},"DayDate":{text:r.getText("SWZS_DATE_1"),innerInterval:{unit:T.day,span:1,range:64},largeInterval:{unit:T.week,span:1,pattern:"MMM yyyy, 'Week' ww  "},smallInterval:{unit:T.day,span:1,pattern:sap.ui.getCore().getConfiguration().getRTL()?"dd EEE ":"EEE dd "}},"Date":{text:r.getText("SWZS_DATE_2"),innerInterval:{unit:T.day,span:1,range:32},largeInterval:{unit:T.week,span:1,pattern:"MMM yyyy, 'Week' ww  "},smallInterval:{unit:T.day,span:1,pattern:"dd "}},"CWWeek":{text:r.getText("SWZS_WEEK_1"),innerInterval:{unit:T.week,span:1,range:56},largeInterval:{unit:T.month,span:1,pattern:"MMM yyyy "},smallInterval:{unit:T.week,span:1,pattern:sap.ui.getCore().getConfiguration().getRTL()?"'CW' ww  ":"'CW' ww  "}},"WeekOfYear":{text:r.getText("SWZS_WEEK_2"),innerInterval:{unit:T.week,span:1,range:32},largeInterval:{unit:T.month,span:1,pattern:"MMM yyyy "},smallInterval:{unit:T.week,span:1,pattern:"ww "}},"Month":{text:r.getText("SWZS_MONTH"),innerInterval:{unit:T.day,span:30,range:48},largeInterval:{unit:T.month,span:3,pattern:"yyyy QQQ "},smallInterval:{unit:T.month,span:1,pattern:"MMM "}},"Quarter":{text:r.getText("SWZS_QUARTER"),innerInterval:{unit:T.day,span:90,range:48},largeInterval:{unit:T.year,span:1,pattern:"yyyy "},smallInterval:{unit:T.month,span:3,pattern:"QQQ "}},"Year":{text:r.getText("SWZS_YEAR"),innerInterval:{unit:T.day,span:360,range:48},largeInterval:{unit:T.year,span:5,pattern:"yyyy "},smallInterval:{unit:T.year,span:1,pattern:"yyyy "}}};var S=sap.gantt.axistime.StepwiseTimeLineOptions;
var a=A.extend("sap.gantt.axistime.StepwiseZoomStrategy",{metadata:{library:"sap.gantt"}});
a.prototype.init=function(){this._oTotalHorizonBeforeExtension=null;this._sZoomControlType=sap.gantt.config.ZoomControlType.Select;this._aTimeLineOptions=null;this._calculatedTotalHorizon=null;this.bAxisTimeChanged=false;this.iLastZoomLevel=-1;var t=S.DayDate;this.setProperty("timeLineOption",t,true);this.setProperty("timeLineOptions",S,true);this.setProperty("mouseWheelZoomType",sap.gantt.MouseWheelZoomType.Stepwise,true);this.setProperty("finestTimeLineOption",null,true);this.setProperty("coarsestTimeLineOption",null,true);this._aZoomRate=new Array(11);};
a.prototype.applySettings=function(){A.prototype.applySettings.apply(this,arguments);this._updateZoomRateArray();this._updateTimeLineOptions();this.setInitialProperties();return this;};
a.prototype.setInitialProperties=function(){this.setProperty("zoomLevels",this._getCountOfTimeLineOptions(),true);if(this._getIndexOfTimeLineOption(this.getTimeLineOption())===-1){this.setTimeLineOption(this._aTimeLineOptions[this._getCountOfTimeLineOptions()/2]);}};
a.prototype.createAxisTime=function(L){A.prototype.createAxisTime.apply(this,arguments);this.setZoomLevel(this._getIndexOfTimeLineOption(this.getTimeLineOption(),this.getTimeLineOptions()));this._Locale=L;return this;};
a.prototype.setVisibleHorizon=function(v){this.setVisibleHorizonWithReason(v,"visibleHorizonUpdated");return this;};
a.prototype.setVisibleHorizonWithReason=function(v,R,o){var L=this.getVisibleHorizon();A.prototype.setVisibleHorizon.apply(this,arguments);this.fireRedrawRequest(false,R,L,o);return this;};
a.prototype.setTotalHorizon=function(t){A.prototype.setTotalHorizon.apply(this,arguments);this._setCalculatedTotalHorizon(t);if(this.getAxisTime()){this.fireRedrawRequest(true,"totalHorizonUpdated");}return this;};
a.prototype._setCalculatedTotalHorizon=function(h){if(h){if(this._calculatedTotalHorizon){this._calculatedTotalHorizon.setStartTime(h.getStartTime(),true);this._calculatedTotalHorizon.setEndTime(h.getEndTime(),true);}else{this._calculatedTotalHorizon=new sap.gantt.config.TimeHorizon({startTime:h.getStartTime(),endTime:h.getEndTime()});}this._updateTimeRangeAndViewRange(h);}return this;};
a.prototype._updateTimeRangeAndViewRange=function(h){var o=this.getAxisTime();if(o&&h){o.setTimeRange([F.getTimeStampFormatter().parse(h.getStartTime()),F.getTimeStampFormatter().parse(h.getEndTime())]);var H=F.getTimeStampFormatter().parse(h.getStartTime());var b=F.getTimeStampFormatter().parse(h.getEndTime());var n=b.valueOf()-H.valueOf();var t=this.getTimeLineOption();var c=O.get(t.innerInterval.unit).offset(H,t.innerInterval.span).valueOf()-H.valueOf();o.setViewRange([0,Math.ceil((n*t.innerInterval.range/c)/this._aZoomRate[this.getZoomLevel()])]);}return this;};
a.prototype._getCalculatedTotalHorizon=function(){if(!this._calculatedTotalHorizon||!this._calculatedTotalHorizon.getStartTime()||!this._calculatedTotalHorizon.getEndTime()){this._setCalculatedTotalHorizon(this.getAggregation("totalHorizon"));}return this._calculatedTotalHorizon;};
a.prototype.getTotalHorizon=function(){return this._getCalculatedTotalHorizon();};
a.prototype.setZoomLevels=function(z){return this;};
a.prototype.setZoomLevel=function(z){if(z>=0){this.iLastZoomLevel=this.getZoomLevel();this.setProperty("zoomLevel",z,true);this.setProperty("timeLineOption",this._getTimeLineOptionByIndex(z),true);if(this._aZoomRate[z]&&this.getGanttVisibleWidth()){var n=this._updateVisibleHorizon(this.getGanttVisibleWidth());this.setVisibleHorizon(n);}}return this;};
a.prototype.setTimeLineOption=function(t){this.setProperty("timeLineOption",t,true);this.setZoomLevel(this._getIndexOfTimeLineOption(t));};
a.prototype.setCoarsestTimeLineOption=function(t){return this;};
a.prototype.setFinestTimeLineOption=function(t){return this;};
a.prototype.setTimeLineOptions=function(t){A.prototype.setTimeLineOptions.apply(this,arguments);this._updateZoomRateArray();this._updateTimeLineOptions();return this;};
a.prototype._updateVisibleHorizon=function(n){if(!n){var w=this._getWidthOfTotalHorizon();this._extendTotalHorizon(w);}else{this._extendTotalHorizon(n);}var o=this.getAxisTime();if(o){o.setZoomRate(this._aZoomRate[this.getZoomLevel()]);var v=this.getVisibleHorizon();var m=this.calMiddleDate(F.getTimeStampFormatter().parse(v.getStartTime()),F.getTimeStampFormatter().parse(v.getEndTime()));var N=this.calVisibleHorizonByRate(this._aZoomRate[this.getZoomLevel()],m);A.prototype.setVisibleHorizon.call(this,N);return N;}};
a.prototype.updateGanttVisibleWidth=function(n){return this;};
a.prototype.isTimePeriodZoomEnabled=function(){return false;};
a.prototype.syncContext=function(n){var R={zoomLevel:undefined,axisTimeChanged:false};if(n!==this.getGanttVisibleWidth()){this._updateVisibleHorizon(n);R.axisTimeChanged=true;A.prototype.updateGanttVisibleWidth.apply(this,arguments);}else if(this.iLastZoomLevel===this.getZoomLevel()){R.axisTimeChanged=false;}else{R.axisTimeChanged=true;this.iLastZoomLevel=this.getZoomLevel();}R.zoomLevel=this.getZoomLevel();return R;};
a.prototype._updateZoomRateArray=function(){if(this._oZoom){var t=this.getTimeLineOptions();this._aZoomRate=[];if(t){var i;if(this._sZoomControlType!==sap.gantt.config.ZoomControlType.Select){i=this._getCountOfTimeLineOptions();for(var j in t){i--;this._aZoomRate[i]=this._oZoom.base.scale/this.calZoomScale(t[j].innerInterval.unit,t[j].innerInterval.span,t[j].innerInterval.range);}}else{i=0;for(var n in t){this._aZoomRate[i]=this._oZoom.base.scale/this.calZoomScale(t[n].innerInterval.unit,t[n].innerInterval.span,t[n].innerInterval.range);i++;}}}else{this._aZoomRate[0]=1;}}};
a.prototype._updateTimeLineOptions=function(){var t=this.getTimeLineOptions();this._aTimeLineOptions=[];if(t){for(var i in t){this._aTimeLineOptions.push(t[i]);}if(this._sZoomControlType!==sap.gantt.config.ZoomControlType.Select){this._aTimeLineOptions=this._aTimeLineOptions.reverse();}}};
a.prototype.updateStopInfo=function(s){this.setZoomLevel(s.index);return this;};
a.prototype._getIndexOfTimeLineOption=function(t,o){var b=o;if(!b){b=this.getTimeLineOptions();}if(!this._aTimeLineOptions){this._updateTimeLineOptions();}for(var i=0,c=this._aTimeLineOptions.length;i<c;i++){if(this._aTimeLineOptions[i]==t){return i;}}return-1;};
a.prototype._getTimeLineOptionByIndex=function(i){if(!this._aTimeLineOptions){this._updateTimeLineOptions();}if(i<this._aTimeLineOptions.length){return this._aTimeLineOptions[i];}else{return null;}};
a.prototype._getWidthOfTotalHorizon=function(){var c=this._getCalculatedTotalHorizon();var s=F.getTimeStampFormatter().parse(c.getStartTime());var e=F.getTimeStampFormatter().parse(c.getEndTime());var o=this.getAxisTime();var b=o.timeToView(s);var d=o.timeToView(e);return Math.abs(d-b);};
a.prototype._extendTotalHorizon=function(n){var c=this._getCalculatedTotalHorizon();var b=0;if(this._oZoom&&this._oZoom.base&&this._oZoom.base.scale!==undefined){var C=F.abapTimestampToDate(c.getStartTime());var o=F.abapTimestampToDate(c.getEndTime());var d=o.getTime()-C.getTime();var e=this._aZoomRate[this.getZoomLevel()];var f=this._oZoom.base.scale/e;var g=n*f;b=g-d;c=this._calTotalHorizon(b,g);this._setCalculatedTotalHorizon(c);}};
a.prototype._calTotalHorizon=function(n,b){var c=this._getCalculatedTotalHorizon();if(n!==0){var d=F.abapTimestampToDate(this.getAggregation("totalHorizon").getStartTime()).getTime();var e=F.abapTimestampToDate(this.getAggregation("totalHorizon").getEndTime()).getTime();var f=(d+e)/2;var g,h;if(n>0){g=f-b/2;h=f+b/2;}else{g=F.abapTimestampToDate(c.getStartTime()).getTime()-n/2;h=F.abapTimestampToDate(c.getEndTime()).getTime()+n/2;if(g>d){g=d;}if(h<e){h=e;}}var N=new Date();N.setTime(g);var o=new Date();o.setTime(h);return new sap.gantt.config.TimeHorizon({startTime:N,endTime:o});}return c;};
a.prototype._updateZoomControlType=function(z){if(z){A.prototype._updateZoomControlType.apply(this,arguments);this._sZoomControlType=z;this._updateZoomRateArray();this._updateTimeLineOptions();this.setZoomLevel(this._getIndexOfTimeLineOption(this.getTimeLineOption(),this.getTimeLineOptions()));}};
a.prototype._getCountOfTimeLineOptions=function(){if(this._iCountOfTimeLineOptions){return this._iCountOfTimeLineOptions;}var t=this.getTimeLineOptions();var c=0;for(var i in t){if(t.hasOwnProperty(i)){c++;}}this._iCountOfTimeLineOptions=c;return c;};
return a;},true);
sap.ui.predefine('sap/gantt/config/BirdEyeGroup',['./ToolbarGroup'],function(T){"use strict";
var B=T.extend("sap.gantt.config.BirdEyeGroup",{metadata:{properties:{birdEyeRange:{type:"string",defaultValue:null}}}});
return B;},true);
sap.ui.predefine('sap/gantt/config/ChartScheme',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.gantt.config.ChartScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},name:{type:"string",defaultValue:null},rowSpan:{type:"int",defaultValue:1},icon:{type:"sap.ui.core.URI",defaultValue:null},modeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},haveBackground:{type:"boolean",defaultValue:false},backgroundClass:{type:"string"},shapeKeys:{type:"string[]",defaultValue:[]},rowIndexName:{type:"string",defaultValue:"rowIndex"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ColumnAttribute',['sap/ui/core/Element'],function(E){"use strict";
var C=E.extend("sap.gantt.config.ColumnAttribute",{metadata:{properties:{objectTypeKey:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ContainerLayout',['sap/ui/core/Element','sap/ui/core/Orientation'],function(E,O){"use strict";
var C=E.extend("sap.gantt.config.ContainerLayout",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY},text:{type:"string",defaultValue:sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("XLST_SINGLE_LAYOUT")},orientation:{type:"sap.ui.core.Orientation",defaultValue:O.Vertical},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},ganttChartLayouts:{type:"object[]",defaultValue:[]}}}});
return C;},true);
sap.ui.predefine('sap/gantt/config/ExpandChart',['sap/ui/core/Element'],function(E){"use strict";
var a=E.extend("sap.gantt.config.ExpandChart",{metadata:{properties:{icon:{type:"sap.ui.core.URI",defaultValue:null},isExpand:{type:"boolean",defaultValue:null},chartSchemeKeys:{type:"string[]",defaultValue:[]}}}});
return a;},true);
sap.ui.predefine('sap/gantt/config/ExpandChartGroup',['./ToolbarGroup'],function(T){"use strict";
var E=T.extend("sap.gantt.config.ExpandChartGroup",{metadata:{properties:{expandCharts:{type:"object[]",defaultValue:[]},enableRichType:{type:"boolean"},showArrowText:{type:"boolean"}}}});
return E;},true);
sap.ui.predefine('sap/gantt/config/GanttChartLayout',['sap/ui/core/Element'],function(E){"use strict";
var G=E.extend("sap.gantt.config.GanttChartLayout",{metadata:{properties:{ganttChartSize:{type:"sap.ui.core.CSSSize",defaultValue:null},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},hierarchyKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY}}}});
return G;},true);
sap.ui.predefine('sap/gantt/config/Hierarchy',['sap/ui/core/Element'],function(E){"use strict";
var H=E.extend("sap.gantt.config.Hierarchy",{metadata:{properties:{key:{type:"string",defaultValue:sap.gantt.config.DEFAULT_HIERARCHY_KEY},text:{type:"string",defaultValue:"Default Hierarchy"},activeModeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MODE_KEY},toolbarSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY},columns:{type:"object[]"},expandedLevels:{type:"string[][]"}}}});
H.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setText(this._oRb.getText("XLST_DEFAULT_HIE"));};
return H;},true);
sap.ui.predefine('sap/gantt/config/HierarchyColumn',['sap/ui/core/Element'],function(E){"use strict";
var H=E.extend("sap.gantt.config.HierarchyColumn",{metadata:{properties:{key:{type:"string",defaultValue:null},title:{type:"string",defaultValue:null},contentType:{type:"string",defaultValue:null},sortAttribute:{type:"string",defaultValue:null},filterAttribute:{type:"string",defaultValue:null},attribute:{type:"string",defaultValue:null},attributes:{type:"object[]",defaultValue:[]},width:{type:"sap.ui.core.CSSSize"}}}});
return H;},true);
sap.ui.predefine('sap/gantt/config/LayoutGroup',['./ToolbarGroup'],function(T){"use strict";
var L=T.extend("sap.gantt.config.LayoutGroup",{metadata:{properties:{enableRichStyle:{type:"boolean",defaultValue:true}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Locale',['sap/ui/core/Element'],function(E){"use strict";
var L=E.extend("sap.gantt.config.Locale",{metadata:{properties:{timeZone:{type:"string",defaultValue:"UTC"},utcdiff:{type:"string",defaultValue:"000000"},utcsign:{type:"string",defaultValue:"+"},dstHorizons:{type:"object[]",defaultValue:[]}}}});
return L;},true);
sap.ui.predefine('sap/gantt/config/Mode',['sap/ui/core/Element'],function(E){"use strict";
var M=E.extend("sap.gantt.config.Mode",{metadata:{properties:{key:{type:"string",defaultValue:null},text:{type:"string",defaultValue:null},icon:{type:"sap.ui.core.URI",defaultValue:null},activeIcon:{type:"sap.ui.core.URI"}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ModeGroup',['./ToolbarGroup'],function(T){"use strict";
var M=T.extend("sap.gantt.config.ModeGroup",{metadata:{properties:{modeKeys:{type:"string[]",defaultValue:[]}}}});
return M;},true);
sap.ui.predefine('sap/gantt/config/ObjectType',['sap/ui/core/Element'],function(E){"use strict";
var O=E.extend("sap.gantt.config.ObjectType",{metadata:{properties:{key:{type:"string",defaultValue:null},description:{type:"string",defaultValue:null},mainChartSchemeKey:{type:"string",defaultValue:sap.gantt.config.DEFAULT_MAIN_CHART_SCHEME_KEY},expandedChartSchemeKeys:{type:"string[]",defaultValue:[]}}}});
return O;},true);
sap.ui.predefine('sap/gantt/config/SettingGroup',["./ToolbarGroup","./SettingItem"],function(T,S){"use strict";
var a=T.extend("sap.gantt.config.SettingGroup",{
library:"sap.gantt",
metadata:{properties:{items:{type:"object[]",defaultValue:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS}}}
});
return a;},true);
sap.ui.predefine('sap/gantt/config/SettingItem',["sap/ui/core/Element"],function(E){"use strict";
var S=E.extend("sap.gantt.config.SettingItem",{
library:"sap.gantt",
metadata:{properties:{checked:{type:"boolean",defaultValue:false},key:{type:"string",defaultValue:null},displayText:{type:"string",defaultValue:null}}}
});
return S;},true);
sap.ui.predefine('sap/gantt/config/Shape',['sap/gantt/library','sap/ui/core/Element'],function(l,E){"use strict";
var S=E.extend("sap.gantt.config.Shape",{metadata:{properties:{key:{type:"string",defaultValue:null},shapeClassName:{type:"string",defaultValue:null},shapeDataName:{type:"string",defaultValue:null},modeKeys:{type:"string[]",defaultValue:[]},level:{type:"string",defaultValue:null},shapeProperties:{type:"object",defaultValue:l.config.DEFAULT_EMPTY_OBJECT},groupAggregation:{type:"object[]"},clippathAggregation:{type:"object[]"},selectedClassName:{type:"string",defaultValue:null},switchOfCheckBox:{type:"string",defaultValue:"noShow"},resizeShadowClassName:{type:"string",defaultValue:null},countInBirdEye:{type:"boolean",defaultValue:false}}}});
S.prototype.hasShapeProperty=function(p){return this.getShapeProperties().hasOwnProperty(p);};
S.prototype.getShapeProperty=function(p){return this.getShapeProperties()[p];};
return S;},true);
sap.ui.predefine('sap/gantt/config/TimeAxis',["sap/ui/core/Element"],function(E){"use strict";
var T=E.extend("sap.gantt.config.TimeAxis",{metadata:{library:"sap.gantt",properties:{planHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_PLAN_HORIZON},initHorizon:{type:"object",defaultValue:sap.gantt.config.DEFAULT_INIT_HORIZON},zoomStrategy:{type:"object",defaultValue:sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY},granularity:{type:"string",defaultValue:"4day"},finestGranularity:{type:"string",defaultValue:"5min"},coarsestGranularity:{type:"string",defaultValue:"1month"},rate:{type:"float",defaultValue:1}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeHorizon',['sap/ui/core/Element',"sap/gantt/misc/Format"],function(E,F){"use strict";
var T=E.extend("sap.gantt.config.TimeHorizon",{metadata:{library:"sap.gantt",properties:{startTime:{type:"string",group:"Misc",defaultValue:undefined},endTime:{type:"string",group:"Misc",defaultValue:undefined}}}});
T.prototype.setStartTime=function(s,S){this.setProperty("startTime",this._convertTimestamp(s),S);};
T.prototype.setEndTime=function(e,s){this.setProperty("endTime",this._convertTimestamp(e),s);};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
return T;},true);
sap.ui.predefine('sap/gantt/config/TimeZoomGroup',['./ToolbarGroup'],function(T){"use strict";var Z=sap.gantt.config.ZoomControlType;
var a=T.extend("sap.gantt.config.TimeZoomGroup",{metadata:{properties:{showZoomSlider:{type:"boolean",defaultValue:true},showZoomButtons:{type:"boolean",defaultValue:true},zoomControlType:{type:"sap.gantt.config.ZoomControlType",defaultValue:sap.gantt.config.ZoomControlType.SliderWithButtons},stepCountOfSlider:{type:"int",defaultValue:10},infoOfSelectItems:{type:"object[]"}}}});
a.prototype.getZoomControlType=function(){var d=Z.SliderWithButtons;var c=this.getProperty("zoomControlType");if(c==d){return this._getZoomControlTypeByDeprecatedProperties();}return c;};
a.prototype._getZoomControlTypeByDeprecatedProperties=function(){var s=this.getShowZoomSlider();var S=this.getShowZoomButtons();if(s&&S){return Z.SliderWithButtons;}if(s&&!S){return Z.SliderOnly;}if(!s&&S){return Z.ButtonsOnly;}if(!s&&!S){return Z.None;}return Z.SliderWithButtons;};
return a;},true);
sap.ui.predefine('sap/gantt/config/ToolbarGroup',['sap/ui/core/Element',"sap/m/OverflowToolbarPriority"],function(E,O){"use strict";
var T=E.extend("sap.gantt.config.ToolbarGroup",{metadata:{properties:{position:{type:"string",defaultValue:null},overflowPriority:{type:"sap.m.OverflowToolbarPriority",defaultValue:O.Low},buttonType:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:sap.m.ButtonType.Default}}}});
return T;},true);
sap.ui.predefine('sap/gantt/config/ToolbarScheme',['sap/ui/core/Element'],function(E){"use strict";
var T=E.extend("sap.gantt.config.ToolbarScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},sourceSelect:{type:"object",defaultValue:null},birdEye:{type:"object",defaultValue:null},layout:{type:"object",defaultValue:null},customToolbarItems:{type:"object",defaultValue:null},expandChart:{type:"object",defaultValue:null},expandTree:{type:"object",defaultValue:null},timeZoom:{type:"object",defaultValue:null},legend:{type:"object",defaultValue:null},settings:{type:"object",defaultValue:null},mode:{type:"object",defaultValue:null},toolbarDesign:{type:"string",defaultValue:sap.m.ToolbarDesign.Auto}}}});
T.prototype.setTimeZoom=function(t){var o=t;if(!(o instanceof sap.gantt.config.TimeZoomGroup)){o=new sap.gantt.config.TimeZoomGroup();o.setOverflowPriority(t.getOverflowPriority());o.setPosition(t.getPosition());}this.setProperty("timeZoom",o);return this;};
return T;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainer',["sap/ui/core/Control","sap/ui/core/Core"],function(C,a){"use strict";
var A=C.extend("sap.gantt.control.AssociateContainer",{metadata:{properties:{enableRootDiv:{type:"boolean",defaultValue:false}},associations:{content:{type:"sap.ui.core.Control",multiple:false}}}});
A.prototype.setContent=function(c){this.setAssociation("content",c);if(c){var o=typeof(c)==="string"?a.byId(c):c;o._oAC=this;}return this;};
return A;},true);
sap.ui.predefine('sap/gantt/control/AssociateContainerRenderer',[],function(){"use strict";var A={};
A.render=function(r,c){if(c.getEnableRootDiv()){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLayoutBG");r.writeClasses();r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("overflow","hidden");r.writeStyles();r.write(">");}r.renderControl(sap.ui.getCore().byId(c.getContent()));if(c.getEnableRootDiv()){r.write("</div>");}};
return A;},true);
sap.ui.predefine('sap/gantt/control/Cell',["sap/ui/core/Control","sap/m/Label","sap/ui/model/Context"],function(C,L,a){"use strict";
var b=C.extend("sap.gantt.control.Cell",{metadata:{properties:{cellCallback:{type:"object"},columnConfig:{type:"object"}}}});
b.prototype.setColumnConfig=function(c){this.setProperty("columnConfig",c);if(c){var A=c.getAttributes();if(A&&A.length>0){this._oMapAttributes={};A.forEach(function(o){this._oMapAttributes[o.getObjectTypeKey()]=o.getAttribute();}.bind(this));}}return this;};
b.prototype.createCellContent=function(c){var o=this.getCellCallback();if(o&&o.createCellContent){return o.createCellContent(c);}return new L();};
b.prototype.updateCellContent=function(c,o,A,O,d){var e=this.getCellCallback();if(e&&e.updateCellContent){e.updateCellContent(c,o,A,O,d);}else{c.setText(o.getProperty(A));}};
b.prototype._updateTableCell=function(c,o,$,A){if(!o){return;}if(!(o instanceof a)){o=o.context;}if(!this._oAttributeControl){this._oAttributeControl=this.createCellContent(this.getColumnConfig());}this._oContext=o;var r=this.data("rowTypeName");r=r?r:"type";var O=o.getProperty(r);if(this._oMapAttributes){this.updateCellContent(this._oAttributeControl,o,this._oMapAttributes[O],O,this.getColumnConfig());}else{this.updateCellContent(this._oAttributeControl,o,this.getColumnConfig().getAttribute(),O,this.getColumnConfig());}if(this.bOutput){var R=sap.ui.getCore().createRenderManager(),d=this._oAttributeControl.getRenderer();d.render(R,this._oAttributeControl);if($&&$.length>0){R.flush(this.getDomRef(),false,false);}R.destroy();}};
b.prototype.getContentToRender=function(){return this._oAttributeControl;};
b.prototype.getAccessibilityInfo=function(){var i=this.getContentToRender();return i&&i.getAccessibilityInfo?i.getAccessibilityInfo():null;};
return b;},true);
sap.ui.predefine('sap/gantt/control/CellRenderer',[],function(){"use strict";var C={};
C.render=function(r,c){var o=c.getContentToRender();r.write("<div");r.writeControlData(c);r.write(">");if(o){r.renderControl(o);}r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/gantt/control/Toolbar',["sap/gantt/library","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/CustomData","sap/ui/base/ManagedObjectMetadata","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSpacer","sap/m/FlexBox","sap/m/FlexDirection","sap/m/Button","sap/m/SegmentedButton","sap/m/Select","sap/m/MenuButton","sap/m/Menu","sap/m/MenuItem","sap/ui/core/Item","sap/m/ViewSettingsDialog","sap/m/ViewSettingsCustomTab","sap/m/PlacementType","sap/m/CheckBox","sap/ui/core/Orientation","sap/m/Slider","sap/m/Popover"],function(l,C,a,b,M,O,c,T,F,d,B,S,e,f,g,h,j,V,k,P,n,o,p,q){"use strict";var L=l.config,r=l.control;
var s=C.extend("sap.gantt.control.Toolbar",{metadata:{properties:{width:{type:"CSSSize",defaultValue:"100%"},height:{type:"CSSSize",defaultValue:"100%"},type:{type:"string",defaultValue:r.ToolbarType.Global},sourceId:{type:"string"},zoomLevel:{type:"int",defaultValue:0},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},modes:{type:"object[]",defaultValue:[L.DEFAULT_MODE]},mode:{type:"string",defaultValue:L.DEFAULT_MODE_KEY},toolbarSchemes:{type:"object[]",defaultValue:[L.DEFAULT_CONTAINER_TOOLBAR_SCHEME,L.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,L.EMPTY_TOOLBAR_SCHEME]},hierarchies:{type:"object[]",defaultValue:[L.DEFAULT_HIERARCHY]},containerLayouts:{type:"object[]",defaultValue:[L.DEFAULT_CONTAINER_SINGLE_LAYOUT,L.DEFAULT_CONTAINER_DUAL_LAYOUT]}},aggregations:{legend:{type:"sap.ui.core.Control",multiple:false,visibility:"public"},customToolbarItems:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"customToolbarItem"},_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"}},events:{sourceChange:{parameters:{id:{type:"string"}}},layoutChange:{parameters:{id:{type:"string"},value:{type:"string"}}},expandChartChange:{parameters:{action:{type:"string"},expandedChartSchemes:{type:"[]"}}},expandTreeChange:{parameters:{action:{type:"string"}}},zoomStopChange:{parameters:{index:{type:"int"},selectedItem:{type:"sap.ui.core.Item"}}},settingsChange:{parameters:{id:{type:"string"},value:{type:"boolean"}}},modeChange:{parameters:{mode:{type:"string"}}},birdEye:{parameters:{birdEyeRange:{type:"string"}}}}}});
s.ToolbarItemPosition={Left:"Left",Right:"Right"};
s.prototype.init=function(){this._oToolbar=new O({width:"auto",design:sap.m.ToolbarDesign.Auto});this.setAggregation("_toolbar",this._oToolbar,true);this._bClearCustomItems=true;this._resetToolbarInfo();this._oModesConfigMap={};this._oModesConfigMap[L.DEFAULT_MODE_KEY]=L.DEFAULT_MODE;this._oToolbarSchemeConfigMap={};this._oToolbarSchemeConfigMap[L.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY]=L.DEFAULT_CONTAINER_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[L.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY]=L.DEFAULT_GANTTCHART_TOOLBAR_SCHEME;this._oToolbarSchemeConfigMap[L.EMPTY_TOOLBAR_SCHEME_KEY]=L.EMPTY_TOOLBAR_SCHEME;this._oHierarchyConfigMap={};this._oHierarchyConfigMap[L.DEFAULT_HIERARCHY_KEY]=L.DEFAULT_HIERARCHY;this._oContainerLayoutConfigMap={};this._oContainerLayoutConfigMap[L.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY]=L.DEFAULT_CONTAINER_SINGLE_LAYOUT;this._oContainerLayoutConfigMap[L.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY]=L.DEFAULT_CONTAINER_DUAL_LAYOUT;this._oZoomSlider=null;this._oSelect=null;this._iLiveChangeTimer=-1;this._aTimers=[];this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._nCounterOfDefaultSliders=0;this._sZoomControlType=L.ZoomControlType.SliderWithButtons;};
s.prototype._resetToolbarInfo=function(){this._oItemConfiguration={Left:[],Right:[]};this._oAllItems={Left:[],Right:[]};if(this._bClearCustomItems){this._aCustomItems=[];this._iCustomItemInsertIndex=-1;}};
s.prototype.applySettings=function(m,i){if(this.getSourceId()&&this.getType()){this._resetAllCompositeControls();}var R=C.prototype.applySettings.apply(this,arguments);return R;};
s.prototype.onAfterRendering=function(){if(this._oVHButton&&jQuery("#"+this._oVHButton.getId())[0]){jQuery("#"+this._oVHButton.getId()).attr("aria-label",this._oRb.getText("TLTP_SWITCH_GANTTCHART"));}};
s.prototype.setLegend=function(i){this.setAggregation("legend",i);if(!this._oLegendPop){this._oLegendPop=new q({placement:P.Bottom,showArrow:false,showHeader:false});}if(i){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(i);this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());}};
s.prototype.updateZoomLevel=function(z){this._bSuppressZoomStopChange=true;this.setZoomLevel(z);};
s.prototype.setZoomLevel=function(z,i){if(z>=0){var m=this.getZoomLevel();if(m!==z){this.setProperty("zoomLevel",z,i);if(this._oZoomSlider){this._oZoomSlider.setValue(z);this._oZoomSlider.setTooltip(this._oRb.getText("TLTP_SLIDER_ZOOM_LEVEL")+':'+z);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z});}}if(this._oSelect){this._oSelect.setSelectedItem(this._oSelect.getItems()[z]);if(!this._bSuppressZoomStopChange){this.fireZoomStopChange({index:z,selectedItem:this._oSelect.getSelectedItem()});}}if(this._oToolbarScheme&&!isNaN(z)&&this._oZoomInButton&&this._oZoomOutButton&&this._oToolbarScheme.getTimeZoom()){var t=this._oToolbarScheme.getTimeZoom().getStepCountOfSlider()-1,u=0;if(z===t){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else if(z===u){this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(false);}else{this._oZoomInButton.setEnabled(true);this._oZoomOutButton.setEnabled(true);}}}}this._bSuppressZoomStopChange=false;return this;};
s.prototype.setMode=function(m){this.setProperty("mode",m);if(this._oModeSegmentButton){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[m]);}return this;};
s.prototype.setHierarchies=function(H){this.setProperty("hierarchies",H,true);this._oHierarchyConfigMap={};if(H){for(var i=0;i<H.length;i++){this._oHierarchyConfigMap[H[i].getKey()]=H[i];}}this._resetAllCompositeControls();return this;};
s.prototype.setContainerLayouts=function(m){this.setProperty("containerLayouts",m,true);this._oContainerLayoutConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oContainerLayoutConfigMap[m[i].getKey()]=m[i];}}this._resetAllCompositeControls();return this;};
s.prototype.setModes=function(m){this.setProperty("modes",m,true);this._oModesConfigMap={};if(m){for(var i=0;i<m.length;i++){this._oModesConfigMap[m[i].getKey()]=m[i];}}return this;};
s.prototype.setToolbarDesign=function(t){this._oToolbar.setDesign(t);return this;};
s.prototype.setToolbarSchemes=function(t){this.setProperty("toolbarSchemes",t,true);this._oToolbarSchemeConfigMap={};if(t){for(var i=0;i<t.length;i++){this._oToolbarSchemeConfigMap[t[i].getKey()]=t[i];}}this._resetAllCompositeControls();return this;};
s.prototype.setSourceId=function(i){this.setProperty("sourceId",i,true);this._resetAllCompositeControls();return this;};
s.prototype.setType=function(t){this.setProperty("type",t,true);this._resetAllCompositeControls();return this;};
s.prototype.addCustomToolbarItem=function(i){if(this._iCustomItemInsertIndex==-1){this._oToolbar.insertContent(i,0);this._iCustomItemInsertIndex++;}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex+1);this._iCustomItemInsertIndex++;}this._aCustomItems.push(i);this._resetAllCompositeControls();return this;};
s.prototype.insertCustomToolbarItem=function(i,I){var m=this._aCustomItems.length;if(I>=m){I=m;}if(this._iCustomItemInsertIndex===-1){this._oToolbar.insertContent(i,0);this._aCustomItems.push(i);}else{this._oToolbar.insertContent(i,this._iCustomItemInsertIndex-this._aCustomItems.length+1+I);this._aCustomItems.splice(I,0,i);}this._iCustomItemInsertIndex++;return this;};
s.prototype.removeCustomToolbarItem=function(v){if(this._aCustomItems.length===0){return this._aCustomItems;}if((typeof v)==="number"){var i=this._aCustomItems.length;var R=v>i?i:v;this._oToolbar.removeContent(this._iCustomItemInsertIndex-i+R+1);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(R,1);}else if(v){this._oToolbar.removeContent(v);this._iCustomItemInsertIndex--;return this._aCustomItems.splice(jQuery.inArray(v,this._aCustomItems),1);}};
s.prototype.getCustomToolbarItems=function(){return this._aCustomItems.slice(0);};
s.prototype.destroyCustomToolbarItems=function(){var i=this.removeAllCustomToolbarItems();i.forEach(function(m){m.destroy();});return i;};
s.prototype.removeAllCustomToolbarItems=function(){var R=[];for(var i=0;i<this._aCustomItems.length;i++){R.push(this._oToolbar.removeContent(this._aCustomItems[i]));}this._iCustomItemInsertIndex=this._iCustomItemInsertIndex-this._aCustomItems.length;this._aCustomItems.splice(0,this._aCustomItems.length);return R;};
s.prototype._resetAllCompositeControls=function(){this._determineToolbarSchemeConfig(this.getSourceId());this._destroyCompositeControls();if(!this._sToolbarSchemeKey){return;}this._resolvePositions();var i,t,u=s.ToolbarItemPosition.Left,R=s.ToolbarItemPosition.Right;var v=this._oItemConfiguration[u];for(i=0;i<v.length;i++){if(v[i]){this._createCompositeControl(u,i,v[i]);}}var w=this._oItemConfiguration[R];for(i=w.length-1;i>=0;i--){if(w[i]){this._createCompositeControl(R,i,w[i]);}}var A=function(t){if(jQuery.isArray(t)){for(var m=0;m<t.length;m++){this._oToolbar.addContent(t[m]);}}else if(t){this._oToolbar.addContent(t);}};for(i=0;i<this._oAllItems[u].length;i++){t=this._oAllItems[u][i];A.call(this,t);}if(this._oAllItems[u].length!==0||this._oAllItems[R].length!==0){this._oToolbar.addContent(new T());}for(i=0;i<this._oAllItems[R].length;i++){t=this._oAllItems[R][i];A.call(this,t);}};
s.prototype.getAllToolbarItems=function(){return this._oToolbar.getContent();};
s.prototype._determineToolbarSchemeConfig=function(i){this._sToolbarSchemeKey=null;if(this.getType()===r.ToolbarType.Global&&this._oContainerLayoutConfigMap[i]){this._sToolbarSchemeKey=this._oContainerLayoutConfigMap[i].getToolbarSchemeKey();this._sInitMode=this.getMode()!=L.DEFAULT_MODE_KEY?this.getMode():this._oContainerLayoutConfigMap[i].getActiveModeKey();}else if(this.getType()===r.ToolbarType.Local&&this._oHierarchyConfigMap[i]){this._sToolbarSchemeKey=this._oHierarchyConfigMap[i].getToolbarSchemeKey();this._sInitMode=this.getMode()!=L.DEFAULT_MODE_KEY?this.getMode():this._oHierarchyConfigMap[i].getActiveModeKey();}if(this._oToolbarScheme==this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey]){this._bClearCustomItems=false;}else{this._oToolbarScheme=this._oToolbarSchemeConfigMap[this._sToolbarSchemeKey];this._bClearCustomItems=true;}if(this._oToolbarScheme&&this._oToolbarScheme.getProperty("toolbarDesign")){this.setToolbarDesign(this._oToolbarScheme.getProperty("toolbarDesign"));}};
s.prototype._destroyCompositeControls=function(){this._oToolbar.removeAllContent();this._resetToolbarInfo();};
s.prototype._resolvePositions=function(){if(this._oToolbarScheme){jQuery.each(this._oToolbarScheme.getMetadata().getAllProperties(),function(m){if(m!=="key"&&m!=="toolbarDesign"){var t=this._oToolbarScheme.getProperty(m);if(t){var u=this._parsePosition(t.getPosition());this._oItemConfiguration[u.position][u.idx]=jQuery.extend({},{groupId:m},t);}}}.bind(this));var i=this._oItemConfiguration;var A=Object.keys(i);A.forEach(function(m){var t=i[m],u=[];var v=Object.keys(t).sort();v.forEach(function(w,x){u.push(t[w]);});i[m]=u;});}};
s.prototype._parsePosition=function(i){return{position:i.toUpperCase().substr(0,1)==="L"?s.ToolbarItemPosition.Left:s.ToolbarItemPosition.Right,idx:parseInt(i.substr(1,i.length-1),10)};};
s.prototype._createCompositeControl=function(i,I,G){var v;switch(G.groupId){case"sourceSelect":v=this._genSourceSelectGroup(G);break;case"birdEye":v=this._genBirdEyeGroup(G);break;case"layout":v=this._genLayoutGroup(G);break;case"expandChart":v=this._genExpandChartGroup(G);break;case"expandTree":v=this._genExpandTreeGroup(G);break;case"customToolbarItems":v=this._genCustomToolbarItemGroup(i,G);break;case"mode":v=this._genModeButtonGroup(G);break;case"timeZoom":v=this._genTimeZoomGroupControls(G);break;case"legend":v=this._genLegend(G);break;case"settings":v=this._genSettings(G);break;default:break;}if(v){this._oAllItems[i]=this._oAllItems[i].concat(v);}};
s.prototype._genBirdEyeGroup=function(G){var t=this;var i=new c({priority:G.getOverflowPriority()});var m=this._oRb.getText("TXT_BRIDEYE");var u=this._oRb.getText("TXT_BRIDEYE_RANGE_VISIBLE_ROWS");var v=this._oRb.getText("TXT_BRIDEYE_RANGE_ALL_ROWS");var w=this._oRb.getText("TLTP_BRIDEYE_ON_VISIBLE_ROWS");var x=this._oRb.getText("TLTP_BRIDEYE_ON_ALL_ROWS");this._oBirdEyeButton=null;if(G.getBirdEyeRange()===L.BirdEyeRange.AllRows){this._oBirdEyeButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://show",tooltip:m+"("+v+"): "+x,layoutData:i,press:function(E){t.fireBirdEye({action:"birdEye",birdEyeRange:G.getBirdEyeRange()});}});}else if(G.getBirdEyeRange()===L.BirdEyeRange.VisibleRows){this._oBirdEyeButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://show",tooltip:m+"("+u+"): "+w,layoutData:i,press:function(E){t.fireBirdEye({action:"birdEye",birdEyeRange:G.getBirdEyeRange()});}});}else{this._oBirdEyeButton=new f({width:"8rem",text:u,tooltip:m+": "+w,icon:"sap-icon://show",buttonMode:sap.m.MenuButtonMode.Split,useDefaultActionOnly:true,defaultAction:function(E){t.fireBirdEye({action:"birdEye",birdEyeRange:this._currentBirdEyeRange?this._currentBirdEyeRange:L.BirdEyeRange.VisibleRows});}});var y=new g({id:this._getConfigButtonId(G),itemSelected:function(E){var I=E.getParameter("item");var A=I.birdEyeRange;t._oBirdEyeButton.setTooltip(I.getTooltip());t._oBirdEyeButton.setText(I.getText());I.setIcon("sap-icon://show");if(!this.getParent()._currentBirdEyeRange||this.getParent()._currentBirdEyeRange!==A){this.getParent()._currentBirdEyeRange=A;}t.fireBirdEye({action:"birdEye",birdEyeRange:A});}});var z=new h({text:u,tooltip:m+": "+w,press:function(E){this.setIcon();}});z.birdEyeRange=L.BirdEyeRange.VisibleRows;y.addItem(z);z=new h({text:v,tooltip:m+": "+x,press:function(E){this.setIcon();}});z.birdEyeRange=L.BirdEyeRange.AllRows;y.addItem(z);this._oBirdEyeButton.setMenu(y);}return this._oBirdEyeButton;};
s.prototype._genSourceSelectGroup=function(G){var i=this.getSourceId();var t=this;var m;this._oSourceSelectBox=new e({id:this._getConfigButtonId(G),layoutData:new c({priority:G.getOverflowPriority()}),width:"200px",change:function(E){var v=E.getParameter("selectedItem");var w=v.oSourceConfig;t.fireSourceChange({id:v.getKey(),config:w});}});switch(this.getType()){case r.ToolbarType.Global:m=this.getContainerLayouts();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_GLOBAL_HIERARCHY_RESOURCES"));break;case r.ToolbarType.Local:m=this.getHierarchies();this._oSourceSelectBox.setTooltip(this._oRb.getText("TLTP_LOCAL_HIERARCHY_RESOURCES"));break;default:return null;}var u;for(var I=0;I<m.length;I++){u=new j({key:m[I].getKey(),text:m[I].getText()});u.oSourceConfig=m[I];this._oSourceSelectBox.addItem(u);if(u.getKey()===i){this._oSourceSelectBox.setSelectedItem(u);}}return this._oSourceSelectBox;};
s.prototype._genLayoutGroup=function(G){if(this.getType==="LOCAL"){return null;}var t=this,H=this.getHierarchies(),m,i;this._oAddGanttChartSelect=new e({id:this._getConfigButtonId(G,"add"),icon:"sap-icon://add",type:sap.m.SelectType.IconOnly,autoAdjustWidth:true,maxWidth:"50px",tooltip:this._oRb.getText("TLTP_ADD_GANTTCHART"),forceSelection:false,layoutData:new c({priority:G.getOverflowPriority()}),change:function(v){if(v.getParameter("selectedItem")){var w=t.data("holder");if(w.getGanttCharts().length<w.getMaxNumOfGanttCharts()){if(!t._oLessGanttChartSelect.getEnabled()){t._oLessGanttChartSelect.setEnabled(true);if(t._oVHButton){t._oVHButton.setEnabled(true);}}if(w.getGanttCharts().length==w.getMaxNumOfGanttCharts()-1){this.setEnabled(false);}v.getSource().setSelectedItemId("");t.fireLayoutChange({id:"add",value:{hierarchyKey:v.getParameter("selectedItem").getKey(),hierarchyConfig:v.getParameter("selectedItem").data("hierarchyConfig")}});}if(w.getGanttCharts().length>w.getMaxNumOfGanttCharts()){this.setEnabled(false);}}}});if(H&&H.length>0){for(i=0;i<H.length;i++){m=new j({text:H[i].getText(),key:H[i].getKey()});m.data("hierarchyConfig",H[i]);this._oAddGanttChartSelect.addItem(m);}}var E=this._oContainerLayoutConfigMap[this.getSourceId()].getGanttChartLayouts().length>1?true:false;this._oLessGanttChartSelect=new e({id:this._getConfigButtonId(G,"less"),icon:"sap-icon://less",type:sap.m.SelectType.IconOnly,tooltip:this._oRb.getText("TLTP_REMOVE_GANTTCHART"),maxWidth:"50px",autoAdjustWidth:true,forceSelection:false,enabled:E,layoutData:new c({priority:G.getOverflowPriority()}),change:function(v){if(v.getParameter("selectedItem")){var w=t.data("holder");if(w.getGanttCharts().length<=w.getMaxNumOfGanttCharts()){if(!t._oAddGanttChartSelect.getEnabled()){t._oAddGanttChartSelect.setEnabled(true);}}t.fireLayoutChange({id:"less",value:{hierarchyKey:v.getParameter("selectedItem").getKey(),hierarchyConfig:v.getParameter("selectedItem").data("hierarchyConfig"),ganttChartIndex:v.getParameter("selectedItem").data("ganttChartIndex")}});var x=v.getSource().getSelectedItem();if(x){x.setText("");}if(w.getGanttCharts().length==1){this.setEnabled(false);if(t._oVHButton){t._oVHButton.setEnabled(false);}}}}});this._oLessGanttChartSelect.addEventDelegate({onclick:this._fillLessGanttChartSelectItem},this);var I=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===o.Vertical?"sap-icon://resize-vertical":"sap-icon://resize-horizontal";var u=this._oContainerLayoutConfigMap[this.getSourceId()].getOrientation()===o.Vertical?this._oRb.getText("TLTP_ARRANGE_GANTTCHART_VERTICALLY"):this._oRb.getText("TLTP_ARRANGE_GANTTCHART_HORIZONTALLY");this._oVHButton=new B({id:this._getConfigButtonId(G),icon:I,tooltip:u,type:G.getButtonType(),layoutData:new c({priority:G.getOverflowPriority()}),press:function(v){switch(this.getIcon()){case"sap-icon://resize-vertical":this.setIcon("sap-icon://resize-horizontal");this.setTooltip(t._oRb.getText("TLTP_ARRANGE_GANTTCHART_HORIZONTALLY"));t.fireLayoutChange({id:"orientation",value:o.Horizontal});break;case"sap-icon://resize-horizontal":this.setIcon("sap-icon://resize-vertical");this.setTooltip(t._oRb.getText("TLTP_ARRANGE_GANTTCHART_VERTICALLY"));t.fireLayoutChange({id:"orientation",value:o.Vertical});break;default:break;}}});this._oLayoutButton=[this._oAddGanttChartSelect,this._oLessGanttChartSelect,this._oVHButton];return this._oLayoutButton;};
s.prototype._fillLessGanttChartSelectItem=function(){var G=this.data("holder").getGanttCharts(),I;this._oLessGanttChartSelect.removeAllItems();if(G&&G.length>0){for(var i=0;i<G.length;i++){I=new j({text:this._oHierarchyConfigMap[G[i].getHierarchyKey()].getText(),key:G[i].getHierarchyKey()});I.data("hierarchyConfig",this._oHierarchyConfigMap[G[i].getHierarchyKey()]);I.data("ganttChartIndex",i);this._oLessGanttChartSelect.insertItem(I,i);}}};
s.prototype._genExpandChartGroup=function(G){this._aChartExpandButtons=[];var m=function(v){this.fireExpandChartChange({isExpand:v.getSource().data("isExpand"),expandedChartSchemes:v.getSource().data("chartSchemeKeys")});};var E=G.getExpandCharts(),t;for(var i=0;i<E.length;i++){var u=E[i];t=new B({id:this._getConfigButtonId(u),icon:u.getIcon(),tooltip:u.getTooltip(),layoutData:new c({priority:G.getOverflowPriority()}),press:m.bind(this),type:G.getButtonType(),customData:[new b({key:"isExpand",value:u.getIsExpand()}),new b({key:"chartSchemeKeys",value:u.getChartSchemeKeys()})]});if(G.getShowArrowText()){t.setText(u.getIsExpand()?"":"");}this._aChartExpandButtons.push(t);}return this._aChartExpandButtons;};
s.prototype._genCustomToolbarItemGroup=function(i,G){if(this._iCustomItemInsertIndex===-1){if(i==s.ToolbarItemPosition.Left){var t=this._oAllItems[i].length;this._iCustomItemInsertIndex=t-1;}else{var t=this._oAllItems[s.ToolbarItemPosition.Left].length+1+this._oAllItems[i].length;this._iCustomItemInsertIndex=t-1;}}return this._aCustomItems;};
s.prototype._genExpandTreeGroup=function(G){var t=this;this._oTreeGroup=[new B({id:this._getConfigButtonId(G,"expand"),icon:"sap-icon://expand",tooltip:this._oRb.getText("TLTP_EXPAND"),type:G.getButtonType(),layoutData:new c({priority:G.getOverflowPriority()}),enabled:false,press:function(E){t.fireExpandTreeChange({action:"expand"});}}),new B({id:this._getConfigButtonId(G,"collapse"),icon:"sap-icon://collapse",tooltip:this._oRb.getText("TLTP_COLLAPSE"),layoutData:new c({priority:G.getOverflowPriority()}),enabled:false,press:function(E){t.fireExpandTreeChange({action:"collapse"});}})];return this._oTreeGroup;};
s.prototype._genModeButtonGroup=function(G){var m=function(E){var i=E.getParameter("button");this.fireModeChange({mode:i.data("mode")});};this._oModeSegmentButton=new S({select:m.bind(this)});this._oModeButtonMap={};var J=function(i,t){if(this._oModesConfigMap[t]){var u=new B({id:this._getConfigButtonId(this._oModesConfigMap[t]),icon:this._oModesConfigMap[t].getIcon(),activeIcon:this._oModesConfigMap[t].getActiveIcon(),type:G.getButtonType(),tooltip:this._oModesConfigMap[t].getText(),layoutData:new c({priority:G.getOverflowPriority()}),customData:[new b({key:"mode",value:t})]});this._oModeButtonMap[t]=u;this._oModeSegmentButton.addButton(u);}};jQuery.each(G.getModeKeys(),J.bind(this));if(this._sInitMode){this._oModeSegmentButton.setSelectedButton(this._oModeButtonMap[this._sInitMode]);}return this._oModeSegmentButton;};
s.prototype._getCounterOfZoomLevels=function(){if(!this._nCounterOfDefaultSliders){this._nCounterOfDefaultSliders=this._oToolbarScheme.getTimeZoom().getStepCountOfSlider();}var i=this._oToolbarScheme.getTimeZoom().getInfoOfSelectItems();if(!i||i.length===0){this._oToolbarScheme.getTimeZoom().setStepCountOfSlider(this._nCounterOfDefaultSliders);return this._nCounterOfDefaultSliders;}var m=i.length;this._oToolbarScheme.getTimeZoom().setStepCountOfSlider(m);return m;};
s.prototype._getZoomControlType=function(){return this._sZoomControlType;};
s.prototype._genTimeZoomGroupControls=function(G){var t=this;var z=G.getZoomControlType(),R=[],m,Z,u,v;var w=new c({priority:G.getOverflowPriority()});var U=function(E){jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=-1;this.setZoomLevel(E,true);};this._sZoomControlType=z;this.fireEvent("_zoomControlTypeChange",{zoomControlType:z});if(z===L.ZoomControlType.None){return R;}else if(z===L.ZoomControlType.Select){var x=[],I=this._oToolbarScheme.getTimeZoom().getInfoOfSelectItems();if(I.length>0){if(I[0]instanceof j){x=I;}else{for(var i=0;i<I.length;i++){var y=new j({key:I[i].key,text:I[i].text});x.push(y);}}}m=new e({id:this._getConfigButtonId(G,"select"),items:x,selectedItem:x[this.getZoomLevel()],layoutData:w,change:function(E){var m=E.getSource();var H=m.getSelectedItem();var J=m.indexOfItem(H);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,t,U,[J,H]);}});this._oSelect=m;R.push(m);}else{var A=this._getCounterOfZoomLevels();if(this.data("holder")&&this.data("holder").getSliderStep()){A=this.data("holder").getSliderStep();}if(z!==L.ZoomControlType.ButtonsOnly){Z=new p({tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_LEVEL")+':'+this.getZoomLevel(),showHandleTooltip:true,showAdvancedTooltip:true,id:this._getConfigButtonId(G,"slider"),width:"200px",layoutData:w,max:A-1,value:this.getZoomLevel(),min:0,step:1,liveChange:function(E){var H=parseInt(E.getParameter("value"),10);jQuery.sap.clearDelayedCall(this._iLiveChangeTimer);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,U,[H]);}.bind(this)});}if(z!==L.ZoomControlType.SliderOnly){var D=function(E){return function(H){var J=parseInt(E?this._oZoomSlider.stepUp(1).getValue():this._oZoomSlider.stepDown(1).getValue(),10);this._iLiveChangeTimer=jQuery.sap.delayedCall(200,this,U,[J]);};};u=new sap.m.Button({id:this._getConfigButtonId(G,"zoomIn"),icon:"sap-icon://zoom-in",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_IN"),layoutData:w.clone(),press:D(true).bind(this)});v=new B({id:this._getConfigButtonId(G,"zoomOut"),icon:"sap-icon://zoom-out",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SLIDER_ZOOM_OUT"),layoutData:w.clone(),press:D(false).bind(this)});}if(v){R.push(v);this._oZoomOutButton=v;}if(Z){R.push(Z);this._oZoomSlider=Z;}if(u){R.push(u);this._oZoomInButton=u;}}return R;};
s.prototype._genLegend=function(G){if(!this._oLegendPop){this._oLegendPop=new q({placement:P.Bottom,showArrow:false,showHeader:false});}if(this.getLegend()){this._oLegendPop.removeAllContent();this._oLegendPop.addContent(this.getLegend());}this._oLegendButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://legend",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_SHOW_LEGEND"),layoutData:new c({priority:G.getOverflowPriority(),closeOverflowOnInteraction:false}),press:function(E){this._oLegendPop.setOffsetX(this._calcOffsetForLegendPopover());var i=this._oLegendPop;if(i.isOpen()){i.close();}else{i.openBy(this._oLegendButton);}}.bind(this)});return this._oLegendButton;};
s.prototype._genSettings=function(G){var m=G.getItems()||[];var t=this;var A=m.map(function(i){return new n({name:i.getKey(),text:i.getDisplayText(),tooltip:i.getTooltip(),selected:i.getChecked()}).addStyleClass("sapUiSettingBoxItem");});this._aOldSettingState=A.map(function(i){return i.getSelected();});var R=function(A){for(var i=0;i<A.length;i++){switch(A[i].getName()){case L.SETTING_ITEM_ENABLE_NOW_LINE_KEY:A[i].setSelected(this.getEnableNowLine());break;case L.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY:A[i].setSelected(this.getEnableCursorLine());break;case L.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY:A[i].setSelected(this.getEnableVerticalLine());break;case L.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY:A[i].setSelected(this.getEnableAdhocLine());break;case L.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY:A[i].setSelected(this.getEnableTimeScrollSync());break;default:break;}}}.bind(this);this._oSettingsBox=new F({direction:d.Column,items:A}).addStyleClass("sapUiSettingBox");this._oSettingsDialog=new V({title:this._oRb.getText("SETTINGS_DIALOG_TITLE"),customTabs:[new k({content:this._oSettingsBox})],confirm:function(){var u=this._oSettingsBox.getItems();var v=[];for(var i=0;i<u.length;i++){v.push({id:u[i].getName(),value:u[i].getSelected()});t._aOldSettingState[i]=u[i].getSelected();}this.fireSettingsChange(v);}.bind(this),cancel:function(){R(A);}});this._oSettingsButton=new B({id:this._getConfigButtonId(G),icon:"sap-icon://action-settings",type:G.getButtonType(),tooltip:this._oRb.getText("TLTP_CHANGE_SETTINGS"),layoutData:new c({priority:G.getOverflowPriority()}),press:function(E){this._oSettingsDialog.open();}.bind(this)});return this._oSettingsButton;};
s.prototype.toggleExpandTreeButton=function(R){if(this._oTreeGroup&&this._oTreeGroup.length>0){this._oTreeGroup.forEach(function(i){i.setEnabled(R);});}};
s.prototype.getToolbarSchemeKey=function(){return this._sToolbarSchemeKey;};
s.prototype.setEnableNowLine=function(E){this.setProperty("enableNowLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_NOW_LINE_KEY,E);}return this;};
s.prototype.setEnableCursorLine=function(E){this.setProperty("enableCursorLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,E);}return this;};
s.prototype.setEnableVerticalLine=function(E){this.setProperty("enableVerticalLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,E);}return this;};
s.prototype.setEnableAdhocLine=function(E){this.setProperty("enableAdhocLine",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY,E);}return this;};
s.prototype.setEnableTimeScrollSync=function(E){this.setProperty("enableTimeScrollSync",E,true);if(this._oSettingsBox&&this._oSettingsBox.getItems().length>0){this._setSettingItemProperties(L.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,E);}return this;};
s.prototype._setSettingItemProperties=function(m,t){var u=this._oSettingsBox.getItems();for(var i=0;i<u.length;i++){if(u[i].getName()===m){u[i].setSelected(t);break;}}};
s.prototype.exit=function(){if(this._oLegendPop){this._oLegendPop.destroy(false);}if(this._oSettingsPop){this._oSettingsPop.destroy(false);}};
s.prototype._calcOffsetForLegendPopover=function(){var i=0,m=65;var t=1;var z=1;var u=window.devicePixelRatio||1;u=Math.round(u*100)/100;if(sap.ui.Device.browser.name==="ie"){z=Math.round((screen.deviceXDPI/screen.logicalXDPI)*100)/100;}else if(sap.ui.Device.browser.name==="cr"){z=Math.round((window.outerWidth/window.innerWidth)*100)/100;}else{z=u;}if(z!==1){if(z<1||(z-1)%1===0){m+=m*(z-1)*0.1;}else{m=85;}u=Math.round(u*10)/10;if(z<1){t=u+Math.floor((1-z)*10)/10;}else if(z<=1.1){t=Math.round(z*10)/10*u;}else{t=u-Math.floor((z-1.1)*10)/10;}}if(a.getConfiguration().getRTL()===true){i=140;}else{var v=this._oLegendPop.getContent();if(v&&v.length>0){var w=sap.ui.getCore().byId(v[0].getContent());i=Math.round((m-parseInt(w.getWidth(),10))*t);}}return i;};
s.prototype.getZoomLevels=function(){if(this._oToolbarScheme){var t=this._oToolbarScheme.getTimeZoom();if(t){switch(t.getZoomControlType()){case L.ZoomControlType.Select:return t.getTextsOfSelect()||0;case L.ZoomControlType.None:return-1;default:return t.getStepCountOfSlider();}}}return-1;};
s.prototype._getConfigButtonId=function(i,m){var I=null;if(M.isGeneratedId(i.getId())){return I;}var t=this.getParent();if(t){t=this.getType()==="LOCAL"?t.getParent():t;if(t){I=t.getId()+"-"+i.getId();I=m?I+"-"+m:I;}}return I;};
return s;},true);
sap.ui.predefine('sap/gantt/control/ToolbarRenderer',[],function(){"use strict";var T={};
T.render=function(r,t){var n=t.getAllToolbarItems().length;r.write("<div");r.writeControlData(t);r.addClass("sapGanttToolbar");if(n==0){r.addClass("sapGanttSkipToolbar");}r.writeClasses();r.write(">");r.renderControl(t.getAggregation("_toolbar"));r.write("</div>");};
return T;},true);
sap.ui.predefine('sap/gantt/def/DefBase',["sap/ui/core/Element"],function(E){"use strict";
var D=E.extend("sap.gantt.def.DefBase",{metadata:{"abstract":true,properties:{defString:{type:"string",defaultValue:null},refString:{type:"string",defaultValue:null}}}});
D.prototype.getRefString=function(){var d=this.getProperty("refString");return d?d:"url(#"+this.generateRefId()+")";};
D.prototype.generateRefId=function(){return this.getId();};
return D;},true);
sap.ui.predefine('sap/gantt/def/SvgDefs',["sap/ui/base/ManagedObject",'sap/ui/core/Element'],function(M,E){"use strict";
var S=E.extend("sap.gantt.def.SvgDefs",{metadata:{defaultAggregation:"defs",aggregations:{defs:{type:"sap.gantt.def.DefBase",multiple:true,visibility:"public",singularName:"def",bindable:"bindable"}}}});
S.prototype.getDefString=function(){var r="<defs id='"+this.getId()+"'>",d=this.getDefs();if(d&&d.length>0){d.forEach(function(D){r+=D.getDefString();});}return r+"</defs>";};
S.prototype.getDefNode=function(){var r={"id":this.getId(),"defNodes":[]};var d=this.getDefs();for(var i=0;i<d.length;i++){r.defNodes.push(d[i].getDefNode());}return r;};
return S;},true);
sap.ui.predefine('sap/gantt/def/cal/Calendar',["../DefBase","sap/gantt/misc/Format"],function(D,F){"use strict";
var C=D.extend("sap.gantt.def.cal.Calendar",{metadata:{properties:{key:{type:"string",defaultValue:"calendar"},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#e5e5e5"}},defaultAggregation:"timeIntervals",aggregations:{timeIntervals:{type:"sap.gantt.def.cal.TimeInterval",multiple:true,singularName:"timeInterval",bindable:"bindable"}}}});
C.prototype.getDefNode=function(){var t=this.getTimeIntervals();var s=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent()._oStatusSet:null;var v=s?s.aViewBoundary:null;var T=s?s.aTimeBoundary:null;var f=t;if(T&&s){f=t.filter(function(o){var a=F.abapTimestampToDate(o.getStartTime());var e=F.abapTimestampToDate(o.getEndTime());var b=s.bRTL?T[1]:T[0],c=s.bRTL?T[0]:T[1];return e>b&&a<c;});}var w=(v&&v.length>1)?(v[1]-v[0]):1;var p={id:this.generateRefId(),x:0,y:0,width:w,timeIntervals:[]};for(var i=0;i<f.length;i++){var I=f[i].getDefNode();I.fill=this.getBackgroundColor();p.timeIntervals.push(I);}return p;};
C.prototype.generateRefId=function(){var i=(this.getParent()&&this.getParent().getParent())?this.getParent().getParent().getId():"";return i+"_"+this.getKey();};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/CalendarDefs',["sap/gantt/def/SvgDefs"],function(S){"use strict";
var C=S.extend("sap.gantt.def.cal.CalendarDefs",{});
C.prototype.getRefString=function(c){var i="";if(this.getParent()&&this.getParent().getId()){i=this.getParent().getId();}return"url(#"+i+"_"+c+")";};
return C;},true);
sap.ui.predefine('sap/gantt/def/cal/TimeInterval',["../DefBase","sap/gantt/misc/Format","sap/ui/core/Core"],function(D,F,C){"use strict";
var T=D.extend("sap.gantt.def.cal.TimeInterval",{metadata:{properties:{startTime:{type:"string",group:"Misc",defaultValue:null},endTime:{type:"string",group:"Misc",defaultValue:null}}}});
T.prototype.setStartTime=function(s){this.setProperty("startTime",this._convertTimestamp(s));return this;};
T.prototype.setEndTime=function(e){this.setProperty("endTime",this._convertTimestamp(e));return this;};
T.prototype._convertTimestamp=function(t){var r=t;if(r&&typeof r==="object"){r=F.dateToAbapTimestamp(r);}return r;};
T.prototype.getDefNode=function(){var a=(this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().getParent())?this.getParent().getParent().getParent().getAxisTime():null;var s;var w;if(a){if(C.getConfiguration().getRTL()===true){s=a.timeToView(F.abapTimestampToDate(this.getEndTime()));w=a.timeToView(F.abapTimestampToDate(this.getStartTime()))-s;}else{s=a.timeToView(F.abapTimestampToDate(this.getStartTime()));w=a.timeToView(F.abapTimestampToDate(this.getEndTime()))-s;}}return{x:s,y:0,width:w};};
return T;},true);
sap.ui.predefine('sap/gantt/def/filter/MorphologyFilter',["sap/gantt/library","../DefBase"],function(l,D){"use strict";
var M=D.extend("sap.gantt.def.filter.MorphologyFilter",{metadata:{properties:{operator:{type:"string",defaultValue:l.def.filter.MorphologyOperator.Dilate},radius:{type:"string",defaultValue:"2,1"},colorMatrix:{type:"string",defaultValue:l.def.filter.ColorMatrixValue.AllToWhite}}}});
M.prototype.getDefString=function(){return"<filter id='"+this.getId()+"'>"+"<feMorphology in='SourceAlpha' result='morphed' operator='"+this.getOperator()+"' radius='"+this.getRadius()+"'/>"+"<feColorMatrix in='morphed' result='recolored' type='matrix' values='"+this.getColorMatrix()+"'/>"+"<feMerge>"+"<feMergeNode in='recolored'/>"+"<feMergeNode in='SourceGraphic'/>"+"</feMerge>"+"</filter>";};
return M;},true);
sap.ui.predefine('sap/gantt/def/gradient/LinearGradient',["../DefBase"],function(D){"use strict";
var L=D.extend("sap.gantt.def.gradient.LinearGradient",{metadata:{properties:{x1:{type:"string",defaultValue:"0"},y1:{type:"string",defaultValue:"0"},x2:{type:"string",defaultValue:"100"},y2:{type:"string",defaultValue:"15"}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
L.prototype.getDefString=function(){var r="<linearGradient id='"+this.getId()+"' x1='"+this.getX1()+"' y1='"+this.getY1()+"' x2='"+this.getX2()+"' y2='"+this.getY2()+"'>";var s=this.getStops();for(var i=0;i<s.length;i++){r=r.concat(s[i].getDefString());}r=r.concat("</linearGradient>");return r;};
return L;},true);
sap.ui.predefine('sap/gantt/def/gradient/RadialGradient',["../DefBase"],function(D){"use strict";
var R=D.extend("sap.gantt.def.gradient.RadialGradient",{metadata:{properties:{cx:{type:"float",defaultValue:400},cy:{type:"float",defaultValue:200},r:{type:"float",defaultValue:300},fx:{type:"float",defaultValue:400},fy:{type:"float",defaultValue:200}},aggregations:{stops:{type:"sap.gantt.def.gradient.Stop",multiple:true,singularName:"stop"}}}});
return R;},true);
sap.ui.predefine('sap/gantt/def/gradient/Stop',["../DefBase"],function(D){"use strict";
var S=D.extend("sap.gantt.def.gradient.Stop",{metadata:{properties:{offSet:{type:"string",defaultValue:"5%"},stopColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#FFFFFF"}}}});
S.prototype.getDefString=function(){return"<stop id='"+this.getId()+"' offset='"+this.getOffSet()+"' stop-color='"+this.getStopColor()+"' />";};
return S;},true);
sap.ui.predefine('sap/gantt/def/pattern/BackSlashPattern',["./PatternBase"],function(P){"use strict";
var B=P.extend("sap.gantt.def.pattern.BackSlashPattern",{metadata:{properties:{path:{type:"string"},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}});
B.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M").concat(t/4).concat(",").concat(a/4*5).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0,0").concat(" ");s=s.concat("l").concat(t).concat(",").concat(a).concat(" ");s=s.concat("M").concat(t/4*5).concat(",").concat(a/4).concat(" ");s=s.concat("l-").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
B.prototype.getDefString=function(){return"<pattern class='pattern' id='"+this.getId()+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+(this.getTileHeight()+4)+"' stroke-width='"+this.getStrokeWidth()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return B;},true);
sap.ui.predefine('sap/gantt/def/pattern/PatternBase',["../DefBase"],function(D){"use strict";
var P=D.extend("sap.gantt.def.pattern.PatternBase",{metadata:{"abstract":true,properties:{tileWidth:{type:"int",defaultValue:8},tileHeight:{type:"int",defaultValue:8},backgroundColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#fff"},backgroundFillOpacity:{type:"float",defaultValue:"1"}}}});
return P;},true);
sap.ui.predefine('sap/gantt/def/pattern/SlashPattern',["./PatternBase"],function(P){"use strict";
var S=P.extend("sap.gantt.def.pattern.SlashPattern",{
library:"sap.gantt",
metadata:{properties:{path:{type:"string",defaultValue:null},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"int",defaultValue:2}}}
});
S.prototype.getPath=function(){var t=this.getTileWidth();var a=this.getTileHeight();var s="";s=s.concat("M-").concat(t/4).concat(",").concat(a/4).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");s=s.concat("M0").concat(",").concat(a).concat(" ");s=s.concat("l").concat(t).concat(",-").concat(a).concat(" ");s=s.concat("M").concat(t/4*3).concat(",").concat(a/4*5).concat(" ");s=s.concat("l").concat(t/2).concat(",-").concat(a/2).concat(" ");return s;};
S.prototype.getDefString=function(){return"<pattern class='pattern' id='"+this.getId()+"' patternUnits='userSpaceOnUse' x='0' y='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"'><rect x='0' width='"+this.getTileWidth()+"' height='"+this.getTileHeight()+"' fill='"+this.getBackgroundColor()+"' fill-opacity='"+this.getBackgroundFillOpacity()+"'></rect><path d='"+this.getPath()+"' stroke='"+this.getStroke()+"' stroke-width='"+this.getStrokeWidth()+"'></path></pattern>";};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/AdhocLine',["sap/gantt/library","sap/ui/core/Core","sap/gantt/misc/Utility","./Drawer","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(l,C,U,D,F){"use strict";
var A=D.extend("sap.gantt.drawer.AdhocLine",{constructor:function(a){this.oAxisTime=a;}});
A.prototype.drawSvg=function(g,a,s,L){if(!a||a.length==0){return;}var v=C.getConfiguration().getRTL()?s.aTimeBoundary[1]:s.aTimeBoundary[0],V=C.getConfiguration().getRTL()?s.aTimeBoundary[0]:s.aTimeBoundary[1];var b=a.filter(function(d,I){var h=F.abapTimestampToDate(d.getTimeStamp());if(v<=h&&h<=V){return true;}return false;});g.selectAll(".sapGanttChartAdhocLine").remove();if(b.length==0){return;}var c=jQuery(g.node()),i=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());if(L===l.AdhocLineLayer.Top){g.append("g").classed("sapGanttChartAdhocLine",true);}else if(L===l.AdhocLineLayer.Bottom){var o=document.createElementNS(d3.ns.prefix.svg,"g");o.setAttribute("class","sapGanttChartAdhocLine");var w=U.attributeEqualSelector("id",g.attr("id"));var e=jQuery(w).find(".sapGanttChartCalendar");var B=jQuery(w).find(".sapGanttChartRowBackground");if(e.length>0){e.after(o);}else if(B.length>0){B.after(o);}else{g.insert("g",":first-child").classed("sapGanttChartAdhocLine",true);}}var o=g.select(".sapGanttChartAdhocLine");var f=o.selectAll(".sapGanttChartAdhocTimestamp").data(b);var t=this;f.enter().append("line").classed("sapGanttChartAdhocTimestamp",true).attr("x1",function(d){return t.oAxisTime.timeToView(F.abapTimestampToDate(d.getTimeStamp()));}).attr("y1",function(d){return 0;}).attr("x2",function(d){return t.oAxisTime.timeToView(F.abapTimestampToDate(d.getTimeStamp()));}).attr("y2",function(d){return i;}).attr("stroke",function(d){return d.getStroke();}).attr("stroke-width",function(d){return d.getStrokeWidth();}).attr("stroke-dasharray",function(d){return d.getStrokeDasharray();}).attr("stroke-opacity",function(d){return d.getStrokeOpacity();});f.selectAll("title").remove();f.insert("title",":first-child").text(function(d){return d.getDescription();});};
A.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartAdhocLine").remove();}};
return A;},true);
sap.ui.predefine('sap/gantt/drawer/CalendarPattern',["sap/ui/core/Core","sap/gantt/misc/Format","sap/ui/core/format/DateFormat","sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(C,F,D,a,U){"use strict";
var b=a.extend("sap.gantt.drawer.CalendarPattern");
b.prototype.drawSvg=function(s,p,P,S,B){this._oStatusSet=S;if(P&&P.getDefNode()&&P.getDefNode().defNodes){var c=P.getDefNode();var e=p+"-calendardefs";var w=U.attributeEqualSelector("id",e);if(!(d3.select(w).empty())){jQuery(w).remove();}var f=this._oStatusSet.aViewBoundary[1]-this._oStatusSet.aViewBoundary[0];if(f<0){f=this._oStatusSet.aViewBoundary[0]-this._oStatusSet.aViewBoundary[1];}var g={height:B,width:f};var h=s.select(w);if(h.empty()){h=s.insert("defs",":first-child").attr("id",e);}var i=h.selectAll(".calendarPattern").data(c.defNodes);i.enter().append("pattern").attr("class","calendarPattern").attr("id",function(d){return d.id;}).attr("patternUnits","userSpaceOnUse").attr("x",0).attr("y",0).attr("width",g.width).attr("height",g.height);i.exit().remove();var j=i.selectAll("rect").data(function(){return this.parentNode.__data__.timeIntervals;});j.enter().append("rect");j.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).attr("width",function(d){return d.width;}).attr("height",g.height).attr("fill",function(d){return d.fill;});j.exit().remove();}};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/CursorLine',["sap/ui/core/Core","sap/ui/Device","sap/gantt/misc/Format","sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(C,D,F,a,U){"use strict";
var b=a.extend("sap.gantt.drawer.CursorLine");
b.prototype.drawSvg=function(s,S,l,c){this._oLocale=l;var i=jQuery(U.attributeEqualSelector("id",c.svgId)).offset().left;var A=[];s.each(function(d,e){var o=jQuery(this),f=o.offset();A.push({x:c.x+i-f.left,y:c.y,svgId:o.attr("id"),svgHeight:o.height()});});var t=this;S.each(function(d,e){var h=t._createHeaderTopG(d3.select(this));t._drawHeaderLabel(h,A[e]);});s.each(function(d,e){var B=t._createBodyTopG(d3.select(this));t._drawCursorLine(B,A[e]);});};
b.prototype._createBodyTopG=function(s){var B=s.selectAll(".cursorline-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});B.enter().append("g").classed("cursorline-top",true);B.exit().remove();return B;};
b.prototype._drawCursorLine=function(g,s){var p=g.selectAll("path").data(function(d){return[{svgHeight:d.svgHeight,x:s.x,y:s.y}];});p.enter().append("path").classed("sapGanttCursorLineBody",true);p.attr("d",function(d){return"M"+d.x+",0v"+d.svgHeight+"h1h-1";});p.exit().remove();};
b.prototype._createHeaderTopG=function(s){var h=s.selectAll(".cursorline-header-top").data(function(){return[{svgHeight:jQuery(this.parentNode).height()}];});h.enter().append("g").classed("cursorline-header-top",true);h.exit().remove();return h;};
b.prototype._drawHeaderLabel=function(g,s){var t=this;var A=this._getAxisTime(s.svgId);var r=g.selectAll("rect").data(function(d){return[{svgHeight:d.svgHeight,svgId:d.svgId,x:s.x,y:s.y}];});r.enter().append("rect").classed("sapGanttCursorLineHeader",true);r.attr("width",function(d){return 64;}).attr("height",function(d){return d.svgHeight>80?30:25;}).attr("x",function(d){return d.x-parseFloat(r.attr('width'))/2;}).attr("y",function(d){return d.svgHeight-parseFloat(r.attr('height'))-5;});r.exit().remove();var T=g.selectAll("text").data(function(d){return[{x:parseFloat(r.attr('x'))+parseFloat(r.attr('width')/2),y:parseFloat(r.attr('y'))+parseFloat(r.attr('height')/2)}];});T.enter().append("text").classed("sapGanttCursorLineLabel",true);T.attr("x",function(d){return d.x;}).attr("y",function(d){return d.y;}).text(function(d){return t._getTimeLabel(F.dateToAbapTimestamp(A.viewToTime(d.x)),t._oLocale,A);});if(D.browser.msie){T.attr("dy",".35em");}T.exit().remove();};
b.prototype.destroySvg=function(s,S){s.selectAll(".cursorline-top").remove();S.selectAll(".cursorline-header-top").remove();};
b.prototype._getAxisTime=function(e){var w=U.attributeEqualSelector("id",e);var $=jQuery(w);var A=null;if($){A=$.control(0,true).getAxisTime();}return A;};
b.prototype._getTimeLabel=function(t,l,A){var L=F._convertUTCToLocalTime(t,l),z=A.getZoomStrategy();return z.getLowerRowFormatter().format(L);};
return b;},true);
sap.ui.predefine('sap/gantt/drawer/Drawer',["sap/ui/base/Object"],function(O){"use strict";
var D=O.extend("sap.gantt.drawer.Drawer",{metadata:{"abstract":true}});
return D;},true);
sap.ui.predefine('sap/gantt/drawer/ExpandedBackground',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D,U,C){"use strict";
var E=D.extend("sap.gantt.drawer.ExpandedBackground");
E.prototype.drawSvg=function(s,d,c){if(!d){return null;}var e=[];for(var i=0;i<d.length;i++){if((d[i].index&&d[i].index!==0)||c.hasOwnProperty(d[i].chartScheme)){e.push(d[i]);}}var b=s.selectAll(".sapGanttChartRowBackground").remove();b=s.insert("g",":first-child").classed("sapGanttChartRowBackground",true);var S=b.selectAll(".expandedRow").data(e);S.enter().append("g").classed("expandedRow",true);S.exit().remove();if(!S.empty()){var a=jQuery(s.node()).width();this._drawExpandedBackground(s,a,c);}};
E.prototype._drawExpandedBackground=function(s,w,c){s.selectAll(".expandedRow").selectAll("rect").remove();s.selectAll(".expandedRow").append("rect").attr("x",function(d){return 0;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",function(d){return"100%";}).attr("class",function(d){var b=c[d.chartScheme];if(b&&b!==""){return b;}else{return"sapGanttExpandChartCntBG";}});s.selectAll(".expandedRow").selectAll("path").remove();s.selectAll(".expandedRow").append("path").classed("sapGanttExpandChartLine",true).attr("d",function(d){return"M0 "+(d.y-1)+" H"+(w-1);});};
return E;},true);
sap.ui.predefine('sap/gantt/drawer/NowLine',["./Drawer"],function(D){"use strict";var l=8;
var N=D.extend("sap.gantt.drawer.NowLine",{constructor:function(a){this.oAxisTime=a;}});
N.prototype.drawSvg=function(g,G){this.destroySvg(g,G);var n=this.oAxisTime.getNowLabel()[0].value;var c=jQuery(g.node()).width();if(isNaN(n)||n>c){return;}var C=g,o=G;var s={x:n,y:jQuery(G.node()).height()};this._drawHeaderTriangle(s,o);this._drawBodyStaightLine(s,C);};
N.prototype._drawHeaderTriangle=function(s,p){var h=l/2,t=Math.sqrt(l*l-h*h);var T=[s,{x:s.x-h,y:s.y-t},{x:s.x+h,y:s.y-t},s];var L=d3.svg.line().x(function(d){return d.x;}).y(function(d){return d.y;}).interpolate("linera");p.append("g").classed("sapGanttNowLineHeaderSvgPath",true).append("path").attr("d",L(T));};
N.prototype._drawBodyStaightLine=function(s,p){var n=p.selectAll(".sapGanttNowLineBodySvgLine").data(function(){var w=jQuery(window).height();return[{x1:s.x,y1:0,x2:s.x,y2:s.y+w}];});n.enter().append("g").classed("sapGanttNowLineBodySvgLine",true);var o=n.selectAll("g").data(function(d){return[d];});o.enter().append("line");o.attr("x1",function(d){return d.x1;}).attr("y1",function(d){return d.y1;}).attr("x2",function(d){return d.x2;}).attr("y2",function(d){return d.y2;});o.exit().remove();};
N.prototype.destroySvg=function(g,G){if(g&&G){g.selectAll(".sapGanttNowLineBodySvgLine").remove();G.selectAll(".sapGanttNowLineHeaderSvgPath").remove();}};
return N;},true);
sap.ui.predefine('sap/gantt/drawer/SelectionPanel',["sap/gantt/drawer/Drawer","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/Device","sap/ui/thirdparty/d3"],function(D,C,I,a){"use strict";
var S=D.extend("sap.gantt.drawer.SelectionPanel");
S.prototype.drawSvg=function(t,d,T,g){if(!d){return;}this._oGanttChartWithTable=g;var e=[];for(var i=0;i<d.length;i++){if(d[i].index&&d[i].index!==0){e.push(d[i]);}}var b=t.selectAll(".sapGanttSelectionPanel");if(b.empty()){b=t.append("g").classed("sapGanttSelectionPanel",true);}if(!b.empty()){var c=jQuery(t.node()).width();var o=g._oGanttChart._composeChartSchemeBackgroundConfig();this._drawExpandedBackground(b,c,T,e,o);this._drawExpandedContent(b,c,T,e);}};
S.prototype._drawExpandedBackground=function(s,t,T,b,c){var h=s.selectAll(".sapGanttExpandChartHeader").data(b);h.enter().append("rect").classed("sapGanttExpandChartHeader",true);h.attr("x",function(){return C.getConfiguration().getRTL()?t-T+1:2;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",T-2).attr("class",function(d){var f=c?c[d.chartScheme]:undefined;if(f&&f!==""){return"sapGanttExpandChartHeader "+f;}else{return"sapGanttExpandChartHeader sapGanttExpandChartHeaderBG";}});h.exit().remove();var e=s.selectAll(".sapGanttExpandChartCnt").data(b);e.enter().append("rect").classed("sapGanttExpandChartCnt",true);e.attr("x",function(){return C.getConfiguration().getRTL()?2:T+1;}).attr("y",function(d){return d.y;}).attr("height",function(d){return d.rowHeight-1;}).attr("width",t-T-3).attr("class",function(d){var f=c?c[d.chartScheme]:undefined;if(f&&f!==""){return"sapGanttExpandChartCnt "+f;}else{return"sapGanttExpandChartCnt sapGanttExpandChartCntBG";}});e.exit().remove();var B=s.selectAll("path.sapGanttExpandChartLine").data(b);B.enter().append("path").classed("sapGanttExpandChartLine",true);B.attr("d",function(d){return"M0 "+(d.y-1)+" H"+(t-1);});B.exit().remove();};
S.prototype._drawExpandedContent=function(s,t,T,b){var g=this._getLevelIndentByShape;var c=[];for(var i=0;i<b.length;i++){if(b[i].index===1){var e=[];e.push(b[i]);c.push(e);}}s.selectAll("g").remove();var f=s.selectAll("g").data(c);f.enter().append("g").classed("sapGanttExpandChartContent",true);f.exit().remove();var h=f.selectAll(".sapGanttExpandChartIcon").data(function(d){return d;});h.enter().append(function(d){if(I.isIconURI(d.icon)){return document.createElementNS(d3.ns.prefix.svg,"text");}return document.createElementNS(d3.ns.prefix.svg,"image");}).classed("sapGanttExpandChartIcon",true).classed("iconFont",function(d){return I.isIconURI(d.icon);}).classed("iconImage",function(d){return!(I.isIconURI(d.icon));});f.selectAll(".iconImage").attr("xlink:href",function(d){return d.icon;}).attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-17:g(d)+T;}).attr("y",function(d){return d.y+4.25;}).attr("width",16).attr("height",16);f.selectAll(".iconFont").attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d):g(d)+T;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo(d.icon);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo(d.icon);if(o){return o.fontFamily;}}).attr("font-size","16px");h.exit().remove();var j=f.selectAll("sapGanttExpandChartText").data(function(d){return d;});j.enter().append("text").classed("sapGanttExpandChartText",true);j.attr("x",function(d){return C.getConfiguration().getRTL()?t-T-g(d)-26:g(d)+T+27;}).attr("y",function(d){return d.y+16.5;}).attr("font-size",function(d){return"0.75em";}).text(function(d){return d.name;}).attr("text-anchor",(a.browser.msie||a.browser.edge)&&C.getConfiguration().getRTL()?"end":"start");j.exit().remove();var k=this;var l=f.selectAll(".sapGanttExpandChartCloseButton").data(function(d){return d;});l.enter().append("text").classed("sapGanttExpandChartCloseButton",true);l.attr("x",function(d){var p,P=jQuery(this).prev("text");if(P&&P.length>0){var B=P[0].getBoundingClientRect();if(B&&B.width>0){p=B.width;}else{p=P[0].clientWidth;}}if(isNaN(p)||p==null||p==0){p=60;}var m=C.getConfiguration().getRTL()?t-T-g(d)-p-37:g(d)+T+p+35;return m;}).attr("y",function(d){return d.y+19;}).text(function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.content;}}).attr("font-family",function(d){var o=I.getIconInfo("decline",undefined);if(o){return o.fontFamily;}}).attr("font-size","14px").attr("font-weight","bolder").on("click",function(d){var B=k._oGanttChartWithTable._oTT.getBinding("rows");var r=B.getContexts(0,B.getLength());var R=k._oGanttChartWithTable.getRowIdName();for(var i=0;i<r.length;i++){var o=r[i].getProperty();if(o&&d.id&&o[R]===d.id){k._oGanttChartWithTable.handleExpandChartChange(false,[d.chartScheme],[i]);}}});l.select("title").remove();l.insert("title",":first-child").text(function(d){return sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("TLTP_CLOSE");});l.exit().remove();};
S.prototype._getLevelIndentByShape=function(s){var f=13;var m=17;var i=25;var h=0;if(s&&s.bindingObj&&s.bindingObj._aRowIndexMap&&s.rowIndex&&s.rowIndex<s.bindingObj._aRowIndexMap.length){h=s.bindingObj._aRowIndexMap[s.rowIndex].level;}if(isNaN(h)||h==null){h=0;}return m*h+i+f;};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeCrossRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(D,U){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeCrossRow");
S.prototype.drawSvg=function(s,o,a,A){this._oAxisTime=a;this._oAxisOrdinal=A;var b=s.select("."+o.getId()+"-top");if(b.empty()){b=s.append("g").classed(o.getId()+"-top",true);}var r=[];for(var i in o.dataSet){r.push(o.dataSet[i].shapeData[0]);}var c=b.selectAll("."+o.getId()).data(r);this._drawPath(c,o);this._drawInsertTitle(c,o);};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o,t))?true:false;}).classed("enableSelected",function(d){return o.getEnableSelection(d,f(this,o,t))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o,t));}).attr("fill",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFill(d,f(this,o,t));}}).attr("stroke",function(d){return o.getStroke(d,f(this,o,t));}).attr("stroke-width",function(d){return o.getStrokeWidth(d,f(this,o,t));}).attr("stroke-dasharray",function(d){return o.getStrokeDasharray(d,f(this,o,t));}).attr("fill-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getFillOpacity(d,f(this,o,t));}}).attr("stroke-opacity",function(d){if(o.getIsClosed(d,f(this,o,t))){return o.getStrokeOpacity(d,f(this,o,t));}});this.addDataAttributes(s);s.exit().remove();};
S.prototype._drawInsertTitle=function(s,o){var f=this._findObjectInfo;s.select("title").remove();s.insert("title",":first-child").each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();if(sap.ui.Device.browser.msie){var l=o.getTitle(d,f(this,o)).split("\n");for(var i=0;i<l.length;i++){a.append("tspan").classed("sapGanttTooltipLine",true).text(l[i]);}}else{a.text(o.getTitle(d,f(this,o)));}});};
S.prototype._findObjectInfo=function(n,s,t,i){var r=n.__data__;var R=r;if(i){R=r.data.rawData;}var a={from:{objectInfo:R.fromObject.objectInfoRef?R.fromObject.objectInfoRef:R.fromObject,shapeRawData:R.fromShapeRawData},to:{objectInfo:R.toObject.objectInfoRef?R.toObject.objectInfoRef:R.toObject,shapeRawData:R.toShapeRawData}};return a;};
S.prototype.destroySvg=function(s,o){};
S.prototype.generateRelationshipDataSet=function(s,o,n,a,r,A,b){var R=r;var c=[];if(R!==undefined&&R.length>0){var d;var e;for(e in o){if(o[e].getCategory(null,A,b)===sap.gantt.shape.ShapeCategory.Relationship){d=o[e];break;}}if(d){var f={};for(e in o){if(o[e].dataSet&&o[e].dataSet!=""&&o[e].mShapeConfig.getShapeDataName()!=sap.gantt.shape.ShapeCategory.Relationship){U.generateObjectPathToObjectMap(o[e].dataSet,f,null);}}U.generateObjectPathToObjectMap(n,f,null);var g;var h;for(var i=0;i<R.length;i++){g=R[i];h=g;var j=d.getFromObjectPath(h,null);var k=f[j+"-"+d.getFromExpandRowIndex(h,null)];if(!k){continue;}var t=d.getToObjectPath(h,null);var l=f[t+"-"+d.getToExpandRowIndex(h,null)];if(!l){continue;}var m=d.getFromShapeId(h,null);var p=d.getFromDataId(h,null);var F=o[m].mShapeConfig.getShapeDataName();var q=this._findShapeDataFromRowObjectByShapeDataName(k,p,F);if(!q){continue;}var u=d.getToShapeId(h,null);var v=d.getToDataId(h,null);var T=o[u].mShapeConfig.getShapeDataName();var w=this._findShapeDataFromRowObjectByShapeDataName(l,v,T);if(!w){continue;}h.fromObject=k;h.toObject=l;h.fromShapeRawData=q;h.toShapeRawData=w;var x={"shapeData":[g]};c.push(x);}}}return c;};
S.prototype._findShapeDataFromRowObjectByShapeDataName=function(r,s,a){var o,b;if(r.shapeData){b=r.shapeData;}else if(r.data&&r.data[a]){b=r.data[a];}else if(r.data){return r.data;}else{b=r;}for(var i=0;i<b.length;i++){if(b[i].__id__!==undefined&&b[i].__id__==s){o=b[i];break;}}if(o==undefined&&b.length>0){o=b[0];}return o;};
S.prototype.addDataAttributes=function(s){s.attr("data-sap-gantt-shape-id",function(d){return d.__id__;});};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/ShapeInRow',["sap/gantt/drawer/Drawer","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/thirdparty/d3"],function(D,U,F){"use strict";
var S=D.extend("sap.gantt.drawer.ShapeInRow",{});
S.prototype.drawSvg=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;var c=s.select("."+o.getId()+"-top");if(c.empty()){c=s.append("g").classed(o.getId()+"-top",true);}if(sap.ui.getCore().byId(o.getId()).getMetadata().getName()==="sap.gantt.shape.cal.Calendar"){c.classed("sapGanttChartCalendar",true);}var r=o.getId()+"-row";var R=c.selectAll("."+r).data(o.dataSet);R.enter().append("g").classed(r,true);R.attr("data-sap-gantt-row-id",function(d){return d.objectInfoRef.id;});R.exit().remove();if(!R.empty()){this._recursiveDraw(R,o);}};
S.prototype.drawResizeShadow=function(s,o,a,A,b){this._oAxisTime=a;this._oAxisOrdinal=A;this._oStatusSet=b;if(o){var r=s.select(".resizingShadow");if(r.empty()){r=s.append("g").classed("resizingShadow",true);}var R=r.select("."+o.getId()+"-resize");if(R.empty()){R=r.append("g").classed(o.getId()+"-resize",true);}var c=R.data(o.dataSet);c.exit().remove();if(!c.empty()){this._recursiveDraw(c,o);}}};
S.prototype._recursiveDraw=function(g,s,a){var t=this;var b=g.selectAll("."+s.getId()).data(function(d){return t._bindRowData(d,a,this,s);});this._drawPerTag(b,s);this._drawInsertTitle(g,s);};
S.prototype._bindRowData=function(d,s,n,o){var v=this._oStatusSet&&this._oStatusSet.aViewBoundary?this._oStatusSet.aViewBoundary:undefined;var a=o.getIsBulk();var f,i;if(d){var r=[];if(d.shapeData){if(!(d.shapeData instanceof Array)){r=r.concat(d.shapeData);}else{for(i=0;i<d.shapeData.length;i++){if(d.shapeData[i]){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d.shapeData[i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r=r.concat(d.shapeData[i]);}}}}else if(s&&d[s]){if(d[s].length){for(i=0;i<d[s].length;i++){f={};f.oShape=o;f.objectInfo=d.objectInfoRef;f.dShapeData=d[s][i];f.aViewRange=v;if(!a&&(v!==undefined)&&this._filterDataVisibleRange(f)){continue;}r.push(d[s][i]);}}else{r.push(d[s]);}}else if(d){r=r.concat(d);}if(o.filterValidData&&(r.length>0)){r=o.filterValidData(r,d.objectInfoRef);}return r;}};
S.prototype._filterDataVisibleRange=function(f){var a=this._oAxisTime;var A=this._oAxisOrdinal;var v=f.aViewRange;var i=f.oShape.getIsDuration(f.dShapeData);if(i){var s=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));var e=a.timeToView(F.abapTimestampToDate(f.oShape.getEndTime(f.dShapeData,undefined,a,A,f.objectInfo)));if(this._oStatusSet.bRTL===true){return(e>v[1])||(s<v[0]);}else{return(e<v[0])||(s>v[1]);}}else{var t=a.timeToView(F.abapTimestampToDate(f.oShape.getTime(f.dShapeData,undefined,a,A,f.objectInfo)));return(t>v[1])||(t<v[0]);}return false;};
S.prototype._drawPerTag=function(s,o){switch(o.getTag()){case"g":this._drawGroup(s,o);break;case"line":this._drawLine(s,o);break;case"rect":this._drawRect(s,o);break;case"text":this._drawText(s,o);break;case"path":this._drawPath(s,o);break;case"clippath":this._drawClipPath(s,o);break;case"image":this._drawImage(s,o);break;case"polygon":this._drawPolygon(s,o);break;case"polyline":this._drawPolyline(s,o);break;case"circle":this._drawCircle(s,o);break;case"defs":this._drawDefinitions(s,o);break;default:break;}if(o.getParent()===null){this.addDataAttributes(s);}};
S.prototype._drawGroup=function(s,o){var f=this._findObjectInfo;s.enter().append("g").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;});s.exit().remove();var a=o.getShapes();if(a&&a.length>0){for(var i=0;i<a.length;i++){this._recursiveDraw(s,a[i],a[i].mShapeConfig.getShapeDataName());}}};
S.prototype._drawLine=function(s,o){var f=this._findObjectInfo;s.enter().append("line").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x1",function(d){return o.getX1(d,f(this,o));}).attr("y1",function(d){return o.getY1(d,f(this,o));}).attr("x2",function(d){return o.getX2(d,f(this,o));}).attr("y2",function(d){return o.getY2(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawRect=function(s,o){var f=this._findObjectInfo;s.enter().append("rect").classed(o.getId(),true);s.classed(o.getHtmlClass(),function(d){return o.getHtmlClass(d,f(this,o))?true:false;}).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).classed("enableClone",function(d){return o.getEnableDnD(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("rx",function(d){return o.getRx(d,f(this,o));}).attr("ry",function(d){return o.getRy(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("clip-path",function(d){return o.getClipPath(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawText=function(s,o){var f=this._findObjectInfo;var t=this;s.enter().append("text").classed(o.getId(),true);s.classed("sapGanttShapeSvgText",true).classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("text-anchor",function(d){return o.getTextAnchor(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));}).text(function(d){return o.getText(d,f(this,o));}).each(function(d){var a=d3.select(this);a.selectAll("tspan").remove();var O=f(this,o);var n=o.getWrapWidth(d,O);var b=o.getTruncateWidth(d,O);if(b>-1){t._textTruncate(d,a,b,o.getEllipsisWidth(d,O));}else if(n>-1){t._textWrap(d,this,n,o.getWrapDy(d,O));}});s.exit().remove();};
S.prototype._textTruncate=function(d,s,n,a){var b=s.node().getComputedTextLength();if(b>n){var t=s.text().trim(),c,e;if(a>-1&&a<n){e=true;c=n-a;}else{e=false;c=n;}var f=this._getTextTruncatCountByBinarySearch(s,b,c,t);t=t.slice(0,f).trim();s.text(t);if(e){if(sap.ui.Device.browser.name==="cr"){s.append("tspan").text("...").attr("textLength",s.node().getComputedTextLength()).attr("lengthAdjust","spacingAndGlyphs");}else{var r=sap.ui.getCore().getConfiguration().getRTL();if(r&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge||sap.ui.Device.browser.safari)){s.text("..."+t);}else{s.append("tspan").text("...").attr("textLength",a).attr("lengthAdjust","spacingAndGlyphs");}}}}};
S.prototype._getTextTruncatCountByBinarySearch=function(s,n,a,t){var b=0;if(a>0&&t.length>0){var c=Math.round(a/Math.ceil(n/t.length));var d,e,f;if(c<1){d=c;e=c+1;f=c+2;}else if(c==t.length){d=c-2;e=c-1;f=c;}else{d=c-1;e=c;f=c+1;}var g=s[0][0].getSubStringLength(0,e);var h=s[0][0].getSubStringLength(0,f);var i=s[0][0].getSubStringLength(0,d);if(g==a||(g<a&&h>a)){b=e;}else if(h==a){b=f;}else if(i==a||(i<a&&g>a)){b=d;}else{var j=1,k=t.length;if(h<a){j=f;}else if(i>a){k=d-1;}while(j<=k){e=Math.floor(j+(k-j)/2);g=s[0][0].getSubStringLength(0,e);h=s[0][0].getSubStringLength(0,e+1);if(g==a||(g<a&&h>a)){b=e;break;}else if(g>a){k=e-1;}else{j=e+1;}}}}return(b>=0&&b<=t.length)?b:0;};
S.prototype._textWrap=function(d,s,n,a){};
S.prototype._drawPath=function(s,o){var f=this._findObjectInfo;s.enter().append("path").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("d",function(d){return o.getD(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawClipPath=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.selectAll("clipPath").remove();s.append("clipPath").attr("id",function(d){return o.getHtmlClass(d,f(this,o));}).append("path").attr("d",function(d){return o.getPaths()[0].getD(d,f(this,o));});s.exit().remove();};
S.prototype._drawImage=function(s,o){var f=this._findObjectInfo;s.enter().append("image").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("xlink:href",function(d){return o.getImage(d,f(this,o));}).attr("x",function(d){return o.getX(d,f(this,o));}).attr("y",function(d){return o.getY(d,f(this,o));}).attr("width",function(d){return o.getWidth(d,f(this,o));}).attr("height",function(d){return o.getHeight(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolygon=function(s,o){var f=this._findObjectInfo;s.enter().append("polygon").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawPolyline=function(s,o){var f=this._findObjectInfo;s.enter().append("polyline").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("points",function(d){return o.getPoints(d,f(this,o));}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawCircle=function(s,o){var f=this._findObjectInfo;s.enter().append("circle").classed(o.getId(),true);s.classed("hasTitle",function(d){return o.getTitle(d,f(this,o))?true:false;}).attr("filter",function(d){return o.getFilter(d,f(this,o));}).attr("transform",function(d){return o.getTransform(d,f(this,o));}).attr("aria-label",function(d){return o.getAriaLabel(d,f(this,o));}).attr("cx",function(d){return o.getCx(d,f(this,o));}).attr("cy",function(d){return o.getCy(d,f(this,o));}).attr("r",function(d){return o.getR(d,f(this,o));}).attr("style",function(d){return o.getStyle(d,f(this,o));});s.exit().remove();};
S.prototype._drawDefinitions=function(s,o){var f=this._findObjectInfo;s.enter().append("defs").classed(o.getId(),true);s.each(function(d,i){jQuery(this).empty();var h=o.getContent(d,f(this));var x="<svg xmlns='"+d3.ns.prefix.svg+"'>"+h+"</svg>";this.appendChild(jQuery(x)[0].firstChild);});s.exit().remove();};
S.prototype._drawInsertTitle=function(g,s){var f=this._findObjectInfo;var a=g.selectAll("."+s.getId()+".hasTitle");a.select("title").remove();a.insert("title",":first-child").each(function(d){var o=d3.select(this);o.selectAll("tspan").remove();if(sap.ui.Device.browser.msie){var l=s.getTitle(d,f(this,s)).split("\n");for(var i=0;i<l.length;i++){o.append("tspan").classed("sapGanttTooltipLine",true).text(l[i]);}}else{o.text(s.getTitle(d,f(this,s)));}});};
S.prototype._findObjectInfo=function(n,s,i){var t=n;while(!t.__data__.objectInfoRef){t=t.parentNode;}return t.__data__.objectInfoRef;};
S.prototype.addDataAttributes=function(s){s.attr("data-sap-gantt-shape-id",function(d){return d.__id__;});};
S.prototype.destroySvg=function(s,o){};
return S;},true);
sap.ui.predefine('sap/gantt/drawer/TimePeriodZoomRectangle',["sap/gantt/drawer/Drawer","sap/ui/thirdparty/d3"],function(D){"use strict";
var T=D.extend("sap.gantt.drawer.TimePeriodZoomRectangle");
T.prototype.drawSvg=function(s,x){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();s.append("rect").classed("sapGanttChartTimePeriodZoomRectangle",true).attr("x",function(){return x;}).attr("y",function(){return 0;}).attr("height",function(){return jQuery(s.node()).height();});};
T.prototype.updateSvg=function(s,S,e){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").attr("x",function(){return S;}).attr("width",function(){return e-S;});};
T.prototype.destroySvg=function(s){s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();};
return T;},true);
sap.ui.predefine('sap/gantt/drawer/VerticalLine',["./Drawer","sap/ui/thirdparty/d3"],function(D){"use strict";
var V=D.extend("sap.gantt.drawer.VerticalLine",{constructor:function(a){this.oAxisTime=a;}});
V.prototype.drawSvg=function(g){var c=jQuery(g.node()),C=c.width(),a=Math.max.apply(null,c.map(function(){return jQuery(this).height();}).get());var z=this.oAxisTime.getZoomStrategy();var t=this.oAxisTime.getTickTimeIntervalLabel(z.getTimeLineOption(),null,[0,C]);var T=t[1];var p="";for(var i=0;i<T.length;i++){p+=" M"+" "+(T[i].value-1/2)+" 0"+" L"+" "+(T[i].value-1/2)+" "+(a);}if(p){g.selectAll(".sapGanttChartVerticalLine").remove();g.insert("g",":first-child").classed("sapGanttChartVerticalLine",true).append("path").attr("d",p);}};
V.prototype.destroySvg=function(g){if(g){g.selectAll(".sapGanttChartVerticalLine").remove();}};
return V;},true);
sap.ui.predefine('sap/gantt/eventHandler/AutoScrollHandler',['jquery.sap.global','sap/ui/core/Element',"sap/ui/core/Core"],function(q,E,C){"use strict";
var A=E.extend("sap.gantt.eventHandler.AutoScrollHandler",{metadata:{properties:{horizontalThreshold:{type:"int",defaultValue:50},verticalThreshold:{type:"int",defaultValue:50},horizontalScrollStep:{type:"int",defaultValue:50},verticalScrollStep:{type:"int",defaultValue:50},delayInMillis:{type:"int",defaultValue:200}}}});
A.prototype.autoScroll=function(g,e){this.stop();var $=q(g.getDomSelectorById("svg-ctn"));var a=g._oTT.$(sap.ui.table.SharedDomRef.HorizontalScrollBar);var b=g._oTT.$(sap.ui.table.SharedDomRef.VerticalScrollBar);if($.offset()){var s=$.offset().left;var S=s+$.width();var i=$.offset().top;var c=$.offset().top+$.height();var h=this.getHorizontalThreshold();var v=this.getVerticalThreshold();var H=this.getHorizontalScrollStep();var V=this.getVerticalScrollStep();var d=this.getDelayInMillis();var t=this;if(e.pageX-s>0&&e.pageX-s<h){g._destroyCursorLine();this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){if(C.getConfiguration().getRTL()){a.scrollLeftRTL(a.scrollLeftRTL()-H);}else{a.scrollLeft(a.scrollLeft()-H);}t.fireAutoScrollingEvent(g,"scrollLeft");});return"scrollLeft";}else if(S-e.pageX>0&&S-e.pageX<h){g._destroyCursorLine();this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){if(C.getConfiguration().getRTL()){a.scrollLeftRTL(a.scrollLeftRTL()+H);}else{a.scrollLeft(a.scrollLeft()+H);}t.fireAutoScrollingEvent(g,"scrollRight");});return"scrollRight";}else if(e.pageY-i>0&&e.pageY-i<(v-4)){this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){b.scrollTop(b.scrollTop()-V);t.fireAutoScrollingEvent(g,"scrollTop");});return"scrollTop";}else if(c-e.pageY>0&&c-e.pageY<(v+4)){this._iAutoScrollTimeout=q.sap.intervalCall(d,this,function(){b.scrollTop(b.scrollTop()+V);t.fireAutoScrollingEvent(g,"scrollBottom");});return"scrollBottom";}}};
A.prototype.fireAutoScrollingEvent=function(g,d){g.fireEvent("_autoScrolling",{direction:d});};
A.prototype.stop=function(){q.sap.clearIntervalCall(this._iAutoScrollTimeout);};
return A;},true);
sap.ui.predefine('sap/gantt/eventHandler/MouseWheelHandler',["jquery.sap.global","sap/ui/Device","sap/ui/base/Object"],function(q,D,B){"use strict";
var M=B.extend("sap.gantt.eventHandler.MouseWheelHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._lastCalledMouseWheelZoom=0;this._iMouseWheelZoomTimer=undefined;}});
M.prototype.handleEvent=function(e,s){var o=e.originalEvent;var i=o.shiftKey;var I=o.ctrlKey;var S=this._getScrollDelta(o);var b=false;if(i){if(I){b=this._handleZoom(e,S,s);}else{this._handleHScroll(e,S);}}else{this._handleVScroll(e,S);}return b;};
M.prototype._getScrollDelta=function(e){var s=0;if(D.browser.firefox){s=e.detail;}else{s=e.deltaY||e.deltaX;}return s;};
M.prototype._handleZoom=function(e,s,S){var z=this._oSourceChart.getAxisTimeStrategy();var i=false;if(z.getMouseWheelZoomType()!==sap.gantt.MouseWheelZoomType.None){var Z=s<0;if((!Z&&z.getZoomLevel()>0)||(Z&&z.getZoomLevel()<z.getZoomLevels()-1)){if(this._oSourceChart._destroyCursorLine){this._oSourceChart._destroyCursorLine();}var t=(!this._iMouseWheelZoomTimer&&(Date.now()-this._lastCalledMouseWheelZoom>100))?0:100;if(t===0){this._updateVisibleHorizon(e,s,S);}else{this._iMouseWheelZoomTimer=this._iMouseWheelZoomTimer||q.sap.delayedCall(t,this,this._updateVisibleHorizon,[e,s,S]);}i=true;}this._preventBubbleAndDefault(e);}return i;};
M.prototype._updateVisibleHorizon=function(e,s,S){this._lastCalledMouseWheelZoom=Date.now();var z=this._oSourceChart.getAxisTimeStrategy();var o=e.originalEvent;var $=q(this._oSourceChart.getDomSelectorById("svg"));if($){var m=(D.browser.edge?o.clientX:o.pageX)-$.offset().left||o.offsetX;var t=z.getAxisTime().viewToTime(m);z.updateVisibleHorizonOnMouseWheelZoom(t,s,e,S);}this._iMouseWheelZoomTimer=undefined;};
M.prototype._handleHScroll=function(e,s){var h=this._oSourceChart.getTTHsbDom();var S=false;var b=s>0;if(h){if(b){S=Math.round(h.scrollLeft)===h.scrollWidth-h.clientWidth;}else{S=h.scrollLeft===0;}if(!S){this._preventBubbleAndDefault(e);h.scrollLeft+=s;}}};
M.prototype._handleVScroll=function(e,s){var v=this._oSourceChart.getTTVsbDom();var S=false;var b=s>0;if(v){if(b){S=Math.round(v.scrollTop)===v.scrollHeight-v.clientHeight;}else{S=v.scrollTop===0;}if(!S){this._preventBubbleAndDefault(e);var r=s/this._oSourceChart.getBaseRowHeight();if(r>1){r=Math.floor(r);}v.scrollTop+=r*this._getScrollingPixelsForRow();}}};
M.prototype._getScrollingPixelsForRow=function(){var t=this._oSourceChart._oTT;if(t){var v=t.getVisibleRowCount();var s=Math.max(1,v-t.getFixedRowCount()-t.getFixedBottomRowCount());var r=this._oSourceChart.getBaseRowHeight();var V=s*r;var b=t.getBinding("rows").getLength();var T=Math.max(b,v+1);var i=T*r;var a=Math.max(1,i-V-this._getRowHeightsDelta());var m;if(v>b){m=b;}else{m=Math.max(0,b-v-1);}return Math.ceil(a/Math.max(1,m));}return 0;};
M.prototype._getRowHeightsDelta=function(){var t=this._oSourceChart._oTT;if(t){var i=t.getBinding("rows").getLength();var v=t.getVisibleRowCount();var e=this._oSourceChart.getBaseRowHeight()*v;var r=this._oSourceChart._getRowHeights();if(v>i){r=r.slice(0,i);}var R=r.reduce(function(a,b){return a+b;},0)-e;if(R>0){R=Math.ceil(R);}return Math.max(0,R);}return 0;};
M.prototype._preventBubbleAndDefault=function(e){e.preventDefault();e.stopPropagation();};
return M;},true);
sap.ui.predefine('sap/gantt/eventHandler/ShapeHoverHandler',["jquery.sap.global","sap/ui/base/Object"],function(q,B){"use strict";
var S=B.extend("sap.gantt.eventHandler.ShapeHoverHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._oShapeManager=c._oShapeManager;this._oLastHoverShapeUID=undefined;this._oLastHoverShapeData=undefined;this._sHoverDelayCall=undefined;this._iHoverDelayInMillionsecond=500;}});
S.prototype.handleShapeHover=function(s,e){if(this._oSourceChart._bDragStart){if(e&&this._oLastHoverShapeUID!==undefined){q.sap.clearDelayedCall(this._sHoverDelayCall);this.fireMouseLeave(e);}}else{if(e){var a=e.target.getAttribute("class")?e.target.getAttribute("class").split(" ")[0]:undefined;q.sap.clearDelayedCall(this._sHoverDelayCall);this._sHoverDelayCall=q.sap.delayedCall(this._iHoverDelayInMillionsecond,this,"fireHoverEvent",[s,a,e]);}}};
S.prototype.fireHoverEvent=function(s,a,e){if(!s&&this._oLastHoverShapeUID!==undefined){this.fireMouseLeave(e);}else if(this._oShapeManager.isShapeHoverable(s,a)){if(this._oLastHoverShapeUID!==s.uid){if(this._oLastHoverShapeUID!==undefined){this.fireMouseLeave(e);}this.fireMouseEnter(s,e);}}else{if(this._oLastHoverShapeUID!==undefined){this.fireMouseLeave(e);}}};
S.prototype.fireMouseEnter=function(c,o){this._oLastHoverShapeUID=c.uid;this._oLastHoverShapeData=c;this._oSourceChart.fireShapeMouseEnter({shapeData:c,pageX:o.pageX,pageY:o.pageY,originEvent:o});};
S.prototype.fireMouseLeave=function(o){this._oSourceChart.fireShapeMouseLeave({shapeData:this._oLastHoverShapeData,originEvent:o});this._oLastHoverShapeUID=undefined;this._oLastHoverShapeData=undefined;};
return S;},true);
sap.ui.predefine('sap/gantt/eventHandler/ShapeResizeHandler',["jquery.sap.global","sap/ui/Device","sap/ui/base/Object","sap/gantt/misc/ShapeManager","sap/gantt/misc/Format","sap/ui/core/Core","sap/gantt/misc/Utility","sap/gantt/drawer/ShapeInRow"],function(q,D,B,S,F,C,U,a){"use strict";
var b=B.extend("sap.gantt.eventHandler.ShapeResizeHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._bResizing=false;this._oResizingData=undefined;this._oShapeManager=c._oShapeManager;this._oSourceChartId=this._oSourceChart.getId();this._oShapeInRowDrawer=new a();this._DEFAULT_RESIZE_CURSOR_SHOWING_THRESHOLD=1;this._DEFAULT_MOUSE_MOVE_PIXEL=3;this._TIMESTAMP_START_TIME_KEY="time";this._TIMESTAMP_END_TIME_KEY="endTime";}});
b.prototype.getIsResizing=function(){return this._bResizing;};
b.prototype.getResizingData=function(){return this._oResizingData;};
b.prototype.handleShapeResize=function(e){if(e.button===0){var s=d3.select(e.target).datum();if(e.target.getAttribute("class")&&s){var c=e.target.getAttribute("class").split(" ")[0];if(d3.select(e.target).classed("sapUiShapeResizingCursor")&&this._oShapeManager.isShapeResizable(s,c)&&this._oShapeManager.isShapeDuration(s,c)){this._handleShapeResizeStart(e);this._preventBubbleAndDefault(e);}}}};
b.prototype._handleShapeResizeStart=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=d3.select(e.target).datum();if(c){var r=U.getRowDatumByShapeUid(c.uid,this._oSourceChart.getId());if(r){r.y=this._oSourceChart._oAxisOrdinal.elementToView(r.uid);var x=e.pageX-s.offset().left||e.offsetX;var t=this._getTopShapeInstance(c,e.target.getAttribute("class").split(" ")[0]);var d,f;if(t){if(C.getConfiguration().getRTL()===true){d=t.getEndTime(c);f=t.getTime(c);}else{d=t.getTime(c);f=t.getEndTime(c);}}var o={"shapeData":c,"objectInfoRef":r};this._oResizingData={"oShapeData":o,"aOldTime":[d,f],"resizeStartPointX":x,"topShapeInstance":t};q(document.body).unbind("mousemove.shapeResizing");q(document.body).unbind("mouseup.shapeResizing");q(document.body).bind("mousemove.shapeResizing",this._handleShapeResizing.bind(this));q(document.body).bind("mouseup.shapeResizing",this._handleShapeResizeEnd.bind(this));}}};
b.prototype.checkShapeResizable=function(s,t,p){if(s&&t&&p){q(t).removeClass("sapUiShapeResizingCursor");var c=t.getAttribute("class")?t.getAttribute("class").split(" ")[0]:undefined;if(!c||c.indexOf("__")<0){return;}if(this._oShapeManager.isShapeResizable(s,c)){var h,d,e;var o=this._getShapeInstance(s,c);if(o){var f=o.getTime(s);var E=o.getEndTime(s);d=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(f));e=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(E));h=Math.abs(e-p)<Math.abs(d-p)?Math.abs(e-p):Math.abs(d-p);}if(h<=this._DEFAULT_RESIZE_CURSOR_SHOWING_THRESHOLD&&!this._oSourceChart._bDragging){q(t).addClass("sapUiShapeResizingCursor");}else{q(t).removeClass("sapUiShapeResizingCursor");}}}};
b.prototype._preventBubbleAndDefault=function(e){e.preventDefault();e.stopPropagation();};
b.prototype._handleShapeResizing=function(e){if(!D.support.touch&&(e.button!==0||e.buttons===0||e.ctrlKey)){return false;}var s=q(this._oSourceChart.getDomSelectorById("svg"));var d=Math.abs((e.pageX-s.offset().left||e.offsetX)-this._oResizingData.resizeStartPointX);if(d>this._DEFAULT_MOUSE_MOVE_PIXEL){if(this._oResizingData!==undefined){this._updateResizingShapeData(e);this._bResizing=true;this._oSourceChart._oAutoScrollHandler.autoScroll(this._oSourceChart,e);}}};
b.prototype._handleShapeResizingWhenAutoScroll=function(){if(this.getIsResizing()){this._updateResizingShapeData(this._oLastEvent);}};
b.prototype._updateResizingShapeData=function(e){this._oLastEvent=e;var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=e.pageX-s.offset().left||e.offsetX;var r=this._calculateResizedNewTime(c);this._drawResizingShadow(r);};
b.prototype._parseShapeTimeProperty=function(s,A){var p;if(s.mShapeConfig.hasShapeProperty(A)){var c=s.mShapeConfig.getShapeProperty(A);if(typeof c==="string"&&c.charAt(0)==="{"&&c.charAt(c.length-1)==="}"){p=c.substring(1,c.length-1);}}return p;};
b.prototype._drawResizingShadow=function(r){var s=d3.select(this._oSourceChart.getDomSelectorById("svg"));if(r){var c=q.extend(true,{},this._oResizingData.oShapeData.shapeData);var o=this._oResizingData.topShapeInstance.getAggregation("resizeShadowShape");var d=this._parseShapeTimeProperty(o,this._TIMESTAMP_START_TIME_KEY);var e=this._parseShapeTimeProperty(o,this._TIMESTAMP_END_TIME_KEY);var n,N;if(C.getConfiguration().getRTL()===true){n=r[1];N=r[0];}else{n=r[0];N=r[1];}if(c[d]){c[d]=n;}if(c[e]){c[e]=N;}var f={"objectInfoRef":this._oResizingData.oShapeData.objectInfoRef};f.shapeData=c;o.dataSet=[f];this._oShapeInRowDrawer.drawResizeShadow(s,o,this._oSourceChart.getAxisTime(),this._oSourceChart._oAxisOrdinal,this._oSourceChart._oStatusSet);}};
b.prototype._calculateResizedNewTime=function(c){var r=[];var n,N;var o=this._oResizingData.aOldTime[0];var d=this._oResizingData.aOldTime[1];var e=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(o));var f=this._oSourceChart.getAxisTime().timeToView(F.abapTimestampToDate(d));var i;if(this._oResizingData.isLeftSideClick!==undefined&&this._oResizingData.isLeftSideClick!==null){i=this._oResizingData.isLeftSideClick;}else{i=Math.abs(this._oResizingData.resizeStartPointX-e)<Math.abs(this._oResizingData.resizeStartPointX-f)?true:false;this._oResizingData.isLeftSideClick=i;}if(i){N=d;if(c>=f){n=d;}else{n=F.dateToAbapTimestamp(this._oSourceChart.getAxisTime().viewToTime(c));}}else{n=o;if(c<=e){N=o;}else{N=F.dateToAbapTimestamp(this._oSourceChart.getAxisTime().viewToTime(c));}}r=[n,N];return r;};
b.prototype._getShapeInstance=function(s,c){var m=this._oShapeManager.getShapeInstance(s,c);if(m){if(m.getId()===c){return m;}else if(m.getShapes()){var d=m.getShapes();for(var i=0;i<d.length;i++){if(d[i].getId()===c){return d[i];}}}}else{var t=C.byId(c).getParent();if(t){return t;}}return undefined;};
b.prototype._getTopShapeInstance=function(s,c){var m=this._oShapeManager.getShapeInstance(s,c);if(m){return m;}else{var t=C.byId(c).getParent();if(t){return t;}}return undefined;};
b.prototype._handleShapeResizeEnd=function(e){this._oSourceChart._oAutoScrollHandler.stop();var r=d3.selectAll(".resizingShadow");if(!r.empty()){r.remove();}if(this._bResizing&&this._oResizingData!==undefined){this._collectResizingShapeData(e);this._oSourceChart.fireShapeResizeEnd({shapeUid:this._oResizingData.oShapeData.shapeData.uid,rowObject:this._oResizingData.oShapeData.objectInfoRef,oldTime:this._oResizingData.aOldTime,newTime:this._oResizingData.aNewTime});}q(document.body).unbind("mousemove.shapeResizing");q(document.body).unbind("mouseup.shapeResizing");q(e.target).removeClass("sapUiShapeResizingCursor");this._bResizing=false;this._oResizingData=undefined;this._oLastEvent=undefined;};
b.prototype._collectResizingShapeData=function(e){var s=q(this._oSourceChart.getDomSelectorById("svg"));var c=e.pageX-s.offset().left||e.offsetX;var r=this._calculateResizedNewTime(c);var n,N;if(C.getConfiguration().getRTL()===true){n=r[1];N=r[0];}else{n=r[0];N=r[1];}this._oResizingData.aNewTime=[n,N];};
return b;},true);
sap.ui.predefine('sap/gantt/eventHandler/TimePeriodZoomHandler',["jquery.sap.global","sap/ui/base/Object","sap/gantt/misc/Format","sap/gantt/config/TimeHorizon","sap/gantt/drawer/TimePeriodZoomRectangle","sap/ui/core/Orientation","sap/gantt/misc/Utility"],function(q,B,F,T,a,O,U){"use strict";
var b=B.extend("sap.gantt.eventHandler.TimePeriodZoomHandler",{constructor:function(c){B.call(this);this._oSourceChart=c;this._oTimePeriodZoomRectangleDrawer=new a();this._bActive=false;this._bLocked=false;this._bMouseOnSvg=false;this._bEnableSetVisibleHorizon=false;this._sAutoScrollDirection=undefined;this._oLastEvent=undefined;}});
b.prototype.activate=function(s){this._bActive=true;var $=q(this._oSourceChart.getDomSelectorById("svg"));$.css("cursor","crosshair");if(!s){this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.deactivate=function(s){this._bActive=false;var $=q(this._oSourceChart.getDomSelectorById("svg"));$.css("cursor","auto");if(!s){this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.invertActiveStatus=function(){if(this._bActive){this.deactivate();}else{this.activate();}};
b.prototype.fireActiveStatusChangeEvent=function(A){this._oSourceChart.fireEvent("_timePeriodZoomStatusChange",{isActive:A});};
b.prototype.isTimePeriodZoomEnabled=function(){var A=this._oSourceChart.getAxisTimeStrategy();return A.isTimePeriodZoomEnabled()&&this._bMouseOnSvg;};
b.prototype.isActive=function(){return this._bActive;};
b.prototype.handleDragStart=function(e,s){var g=this._oSourceChart;this._bLocked=true;this._bEnableSetVisibleHorizon=true;this.oStartEvent=e;this.oStartTime=this._caculateEventTime(e);this.createRectangle(this.oStartTime);var G=q(g.getDomSelectorById("svg"));G.unbind("mousemove.timePeriodZoomDragDrop");q(document.body).unbind("mouseup.timePeriodZoomDragDrop");g.detachHorizontalScroll(this.handleAutoScroll,this);G.bind("mousemove.timePeriodZoomDragDrop",this.handleDragging.bind(this));q(document.body).bind("mouseup.timePeriodZoomDragDrop",this.handleDragEnd.bind(this));g.attachHorizontalScroll(this.handleAutoScroll,this);if(!s){this._bMouseOnSvg=true;g.fireEvent("_timePeriodZoomOperation",{type:"dragStart",dragStartTime:this.oStartTime,originalEvent:e});}};
b.prototype.createRectangle=function(d){var g=this._oSourceChart;var D=g.getAxisTime().timeToView(d);var s=d3.select(g.getDomSelectorById("svg"));this._oTimePeriodZoomRectangleDrawer.drawSvg(s,D);};
b.prototype.handleDragging=function(e,s){var g=this._oSourceChart;this._oLastEvent=e;var d=this._caculateEventTime(e);this.updateRectangle(this.oStartTime,d);if(!s){var D=g._handleAutoScroll(e);if(D){this._sAutoScrollDirection=D;}g.fireEvent("_timePeriodZoomOperation",{type:"dragging",dragStartTime:this.oStartTime,draggingTime:d,originalEvent:e});}};
b.prototype.updateRectangle=function(d,D){var g=this._oSourceChart;var i=g.getAxisTime().timeToView(d);var c=g.getAxisTime().timeToView(D);var s=d3.select(g.getDomSelectorById("svg"));if(c>i){this._oTimePeriodZoomRectangleDrawer.updateSvg(s,i,c);}else{this._oTimePeriodZoomRectangleDrawer.updateSvg(s,c,i);}};
b.prototype.handleDragEnd=function(e,s){var g=this._oSourceChart;g._oAutoScrollHandler.stop();this._bLocked=false;this.deactivate();this._sAutoScrollDirection=undefined;this.destoryRectangle();var d;if(this._bEnableSetVisibleHorizon){var D=g.getAxisTime().timeToView(this.oStartTime);var i=this._caculateXPosition(e);d=this._caculateEventTime(e);var E=d;var o=5;if(Math.abs(i-D)>o){var S=this.oStartTime;if(E.getTime()<S.getTime()){var t=S;S=E;E=t;}var c=new T({startTime:S,endTime:E});g.syncVisibleHorizon(c);}}var G=q(g.getDomSelectorById("svg"));G.unbind("mousemove.timePeriodZoomDragDrop");q(document.body).unbind("mouseup.timePeriodZoomDragDrop");g.detachHorizontalScroll(this.handleAutoScroll,this);if(!s){var v=g.getVisibleWidth();g.fireEvent("_timePeriodZoomOperation",{type:"dragEnd",dragStartTime:this.oStartTime,dragEndTime:d,visibleWidth:v,originalEvent:e});this.fireActiveStatusChangeEvent(this._bActive);}};
b.prototype.destoryRectangle=function(){var g=this._oSourceChart;var s=d3.select(g.getDomSelectorById("svg"));this._oTimePeriodZoomRectangleDrawer.destroySvg(s);};
b.prototype.handleAutoScroll=function(e){if(this._bMouseOnSvg){var g=this._oSourceChart;var p=e.getParameters();var t;if(this._sAutoScrollDirection==="scrollLeft"){var v=F.abapTimestampToDate(p.startTime);t=v.getTime()-this.oStartTime.getTime();}else if(this._sAutoScrollDirection==="scrollRight"){var V=F.abapTimestampToDate(p.endTime);t=V.getTime()-this.oStartTime.getTime();}g.fireEvent("_timePeriodZoomOperation",{type:"autoScroll",timeBias:t,originalEvent:e});}};
b.prototype.attachEvents=function(){var g=q(this._oSourceChart.getDomSelectorById("svg"));g.bind("mouseenter.timePeriodZoomDragDrop",this.handleMouseEnter.bind(this));g.bind("mouseleave.timePeriodZoomDragDrop",this.handleMouseLeave.bind(this));};
b.prototype.detachEvents=function(){var g=q(this._oSourceChart.getDomSelectorById("svg"));g.unbind("mouseenter.timePeriodZoomDragDrop");g.unbind("mouseleave.timePeriodZoomDragDrop");};
b.prototype.handleMouseEnter=function(e){this._bMouseOnSvg=true;this._bLocked=true;this.setEnableSetVisibleHorizon(true);};
b.prototype.handleMouseLeave=function(e){this._bMouseOnSvg=false;this._oSourceChart._oAutoScrollHandler.stop();this._bLocked=false;this.setEnableSetVisibleHorizon(false);};
b.prototype.handleAutoScrolling=function(e){if(e.getParameter("direction")==="scrollLeft"||e.getParameter("direction")==="scrollRight"){var g=this._oSourceChart;var d=this._caculateEventTime(this._oLastEvent);this.updateRectangle(this.oStartTime,d);g.fireEvent("_timePeriodZoomOperation",{type:"dragging",dragStartTime:this.oStartTime,draggingTime:d,originalEvent:this._oLastEvent});}};
b.prototype.setEnableSetVisibleHorizon=function(e,s){this._bEnableSetVisibleHorizon=e;if(!s){var g=this._oSourceChart;g.fireEvent("_timePeriodZoomOperation",{type:"enableSetVisibleHorizon",enable:e});}};
b.prototype.calculateTargetVisibleHorizonByTimeBias=function(t){var o;var c;if(t!==undefined){var g=this._oSourceChart;var d=g.getAxisTimeStrategy().getTotalHorizon();c=new Date();c.setTime(this.oStartTime.getTime()+t);if(t<0){var e=F.abapTimestampToDate(d.getStartTime());if(c.getTime()<e.getTime()){c=e;this.oStartTime.setTime(c.getTime()-t);}o=new T({startTime:c});}else{var f=F.abapTimestampToDate(d.getEndTime());if(c.getTime()>f.getTime()){c=f;this.oStartTime.setTime(c.getTime()-t);}o=new T({startTime:undefined,endTime:c});}}return o;};
b.prototype.calculateTargetVisibleHorizon=function(e,s){var t;if(e.dragEndTime){var g=this._oSourceChart;var A=g.getAxisTimeStrategy();var o=A.getVisibleHorizon();var G=g.getVisibleWidth();var d=e.dragStartTime.getTime();var D=e.dragEndTime.getTime();var S;if(s){S=d<D?e.dragStartTime:e.dragEndTime;}else{S=F.abapTimestampToDate(A.getVisibleHorizon().getStartTime());}t=U.calculateHorizonByWidth(o,e.visibleWidth,G,S);}return t;};
b.prototype.syncTimePeriodZoomOperation=function(e,t,o){var g=this._oSourceChart;var p=e.getParameters();var c;if(o===O.Vertical){if(p.type==="dragStart"){this.handleDragStart(p.originalEvent,true);}else if(p.type==="dragging"){this.handleDragging(p.originalEvent,true);}else if(p.type==="dragEnd"){this.handleDragEnd(p.originalEvent,true);}else if(p.type==="enableSetVisibleHorizon"){this.setEnableSetVisibleHorizon(p.enable,true);}else if(p.type==="autoScroll"){if(!t){c=this.calculateTargetVisibleHorizonByTimeBias(p.timeBias);if(c){g.syncVisibleHorizon(c);}}}}else if(o===O.Horizontal){if(p.type==="dragStart"&&t){this.createRectangle(p.dragStartTime);}else if(p.type==="dragging"&&t){this.updateRectangle(p.dragStartTime,p.draggingTime);}else if(p.type==="dragEnd"){if(t){this.destoryRectangle();}c=this.calculateTargetVisibleHorizon(p,t);if(c){g.syncVisibleHorizon(c);}}}};
b.prototype._caculateXPosition=function(e){var g=this._oSourceChart;var m=g._getMouseXPos(e);var s=q(g.getDomSelectorById("svg"));var x=m;if(s.offset()){x=m-s.offset().left||e.offsetX;}return x;};
b.prototype._caculateEventTime=function(e){var g=this._oSourceChart;var x=this._caculateXPosition(e);return g.getAxisTime().viewToTime(x);};
return b;},true);
sap.ui.predefine('sap/gantt/eventHandler/TimePopoverHandler',["jquery.sap.global","sap/ui/base/Object","sap/ui/core/Core","sap/gantt/misc/Format"],function(q,B,C,F){"use strict";
var T=B.extend("sap.gantt.eventHandler.TimePopoverHandler",{constructor:function(c){B.call(this);this._bSelectShape=false;this._bDragShape=false;this._iOffsetX=0;this._iOffsetY=28;this._oSourceChart=c;this._oTimePopoverModel=undefined;}});
T.prototype.handleTimePopover=function(e){this._handleTimePopoverDragStart(e);};
T.prototype._handleTimePopoverDragStart=function(e){this._bSelectShape=false;this._bDragShape=false;this._calcPositionGap();q(document.body).unbind("mousemove.shapeDragDrop");q(document).unbind("mouseup.shapeDragDrop");q(document.body).bind("mousemove.shapeDragDrop",this._handleTimePopoverDragging.bind(this));q(document).bind("mouseup.shapeDragDrop",this._handleTimePopoverEnd.bind(this));};
T.prototype._calcPositionGap=function(e){var t;var r=C.getConfiguration().getRTL();if(this._oSourceChart.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.Start){this._iOffsetX=r?this._oSourceChart._oDraggingData.dragStartPoint.shapeWidth:-this._oSourceChart._oDraggingData.dragStartPoint.shapeWidth;}else if(this._oSourceChart.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.None){t=r?this._oSourceChart._oDraggingData.dragStartPoint.x-this._oSourceChart._oDraggingData.dragStartPoint.shapeX:this._oSourceChart._oDraggingData.dragStartPoint.x-this._oSourceChart._oDraggingData.dragStartPoint.shapeX-this._oSourceChart._oDraggingData.dragStartPoint.shapeWidth;this._iOffsetX=Math.ceil(t);}else if(this._oSourceChart.getGhostAlignment()===sap.gantt.dragdrop.GhostAlignment.End){this._iOffsetX=0;}var o=this._oSourceChart.getBaseRowHeight();var d=this._oSourceChart._oDraggingData.groupDom.getBoundingClientRect();if(d){o+=d.height;}this._iOffsetY=Math.ceil(o);};
T.prototype._handleTimePopoverDragging=function(e){var d=d3.select("#dragDropShadow");var a=d[0];if(this._oSourceChart.getEnableShapeTimeDisplay()&&a[0]){var p=this._getPopoverPosition(e);this._displayTimePopover(p,a[0]);}};
T.prototype._displayTimePopover=function(p,d){if(!this._isDraggingShape()){this._changeDraggingStatus();}else if(!this._existsPopover()){this._buildPopover(p);this.oTimePopover.openBy(d);}else{if(this.oTimePopover.isOpen()){this._updatePopover(p);}else{this.oTimePopover.destroy();this.oTimePopover=undefined;this._buildPopover(p);this.oTimePopover.openBy(d);}}};
T.prototype._buildPopover=function(p){var s=sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_START");var e=sap.ui.getCore().getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_END");this.oTimePopover=new sap.m.ResponsivePopover({showArrow:false,showHeader:false,offsetX:"{time>/offsetX}",offsetY:"{time>/offsetY}",placement:"{time>/placement}",content:[new sap.m.FlexBox({alignItems:"Center",items:[new sap.m.Panel({content:[new sap.m.FlexBox({alignItems:"Center",justifyContent:"End",items:[new sap.m.Label({text:s})]}).addStyleClass("sapUiTinyMargin"),new sap.m.FlexBox({alignItems:"Center",justifyContent:"End",items:[new sap.m.Label({text:e})]}).addStyleClass("sapUiTinyMargin")]}).addStyleClass("sapUiNoContentPadding"),new sap.m.Panel({content:[new sap.m.FlexBox({justifyContent:"Start",items:[new sap.m.Label({text:"{time>/startNewDate}"})]}).addStyleClass("sapUiTinyMargin"),new sap.m.FlexBox({justifyContent:"Start",items:[new sap.m.Label({text:"{time>/endNewDate}"})]}).addStyleClass("sapUiTinyMargin")]}).addStyleClass("sapUiNoContentPadding")]})]});this._oTimePopoverModel=new sap.ui.model.json.JSONModel(p);this.oTimePopover.setModel(this._oTimePopoverModel,"time");};
T.prototype._updatePopover=function(p){this._oTimePopoverModel=new sap.ui.model.json.JSONModel();this._oTimePopoverModel.setData(p);this.oTimePopover.setModel(this._oTimePopoverModel,"time");};
T.prototype._calPopoverPosition=function(s,e){var g=this._oSourceChart.getLocale();var S=F.abapTimestampToTimeLabel(new Date(s),g);var E=F.abapTimestampToTimeLabel(new Date(e),g);var p={startNewDate:S,endNewDate:E,offsetX:this._iOffsetX,offsetY:this._iOffsetY,placement:sap.m.PlacementType.Right};return p;};
T.prototype._changeDraggingStatus=function(){if(this._bSelectShape){this._bDragShape=true;}if(!this._bSelectShape){this._bSelectShape=true;}};
T.prototype._isDraggingShape=function(){return this._bSelectShape&&this._bDragShape;};
T.prototype._existsPopover=function(){return this.oTimePopover!==undefined;};
T.prototype._getPopoverPosition=function(e){this._oSourceChart._collectDraggingShapeData(this._oSourceChart._oDraggingData,e);var t=this._oSourceChart._oDraggingData.targetData;var p=this._calPopoverPosition(t["mouseTimestamp"].startTime,t["mouseTimestamp"].endTime);return p;};
T.prototype._handleTimePopoverEnd=function(){if(this.oTimePopover){this.oTimePopover.destroy();this.oTimePopover=undefined;}q(document.body).unbind("mousemove.shapeDragDrop");q(document.body).unbind("mouseup.shapeDragDrop");};
T.prototype.getCurrentPopoverData=function(){return{timePopover:this.oTimePopover,offsetX:this._iOffsetX,offsetY:this._iOffsetY};};
T.prototype.setCurrentPopoverData=function(t){if(t){this.oTimePopover=t.timePopover;this._iOffsetX=t.offsetX;this._iOffsetY=t.offsetY;}};
return T;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegend',["sap/ui/core/Control","./LegendBase","sap/gantt/drawer/Legend"],function(C,L,a){"use strict";
var D=L.extend("sap.gantt.legend.DimensionLegend",{metadata:{properties:{shape:{type:"sap.gantt.config.Shape"},xDimension:{type:"string"},yDimension:{type:"string"},xDomain:{type:"any[]",defaultValue:[]},yDomain:{type:"any[]",defaultValue:[]},exclude:{type:"any[][]",defaultValue:[]},legendSpace:{type:"float",defaultValue:8}}}});
D.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oDimensionLegendDrawer=new a();};
D.prototype.applySettings=function(){var r=C.prototype.applySettings.apply(this,arguments);this._modifyDimensionFunction();return r;};
D.prototype._modifyDimensionFunction=function(){var x=this.getXDimension(),y=this.getYDimension();this._oShapeInstance._oLegend=this;this._oShapeInstance._sXDimension=x;this._oShapeInstance._sYDimension=y;this._oShapeInstance["get"+this._capitalFirst(x)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sXDimension)){return this._configFirst(this._sXDimension,d);}if(d.xIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getXDomain()[d.xIndex];};this._oShapeInstance["get"+this._capitalFirst(y)]=function(d){if(this.mShapeConfig.hasShapeProperty(this._sYDimension)){return this._configFirst(this._sYDimension,d);}if(d.yIndex===-1){return sap.gantt.DIMENSION_LEGEND_NIL;}return this._oLegend.getYDomain()[d.yIndex];};};
D.prototype._capitalFirst=function(o){return o.charAt(0).toUpperCase()+(o.length>1?o.slice(1):"");};
D.prototype.onAfterRendering=function(){if(this._oShapeInstance){var $=this.getParent().$();var l={width:$.width(),height:$.height()};var s=d3.select("#"+this.getId()+"-svg");var o=this._drawDimensionLegend(s,this._oShapeInstance);s.attr("width",o.width+"px");s.attr("height",o.height+"px");var p=d3.select("#"+this.getId()+"-dimension-path");var P=this._drawDimensionPath(p,this._oShapeInstance);p.attr("width",o.width+"px");p.attr("height",P.height+"px");p.style("top",o.height+"px");var t=d3.select("#"+this.getId()+"-dimension-text");this._drawDimensionText(t,this._oShapeInstance,l,o);t.style(sap.ui.getCore().getConfiguration().getRTL()?"right":"left",o.width+"px");t.attr("width",l.width-o.width-5+"px");t.attr("height",o.height+P.height+this.getLegendSpace()*2+"px");d3.select("#"+this.getId()).style("height",o.height+P.height+this.getLegendSpace()*2+"px");}};
D.prototype.setShape=function(s){this.setProperty("shape",s);if(s){this._oShapeInstance=this._instantShape([s])[0];}return this;};
D.prototype._drawDimensionLegend=function(s,S){var x=this.getXDomain();var d=this._prepareData(S);var r=s.selectAll("."+S.getId()+"-row").data(d);r.enter().append("g").classed(S.getId()+"-row",true);r.exit().remove();if(!r.empty()){this._oDimensionLegendDrawer._recursiveDraw(r,S);}var l={};var i=x.length;if(i>0){l.width=this.getScaledLegendWidth()*i+this.getLegendSpace()*(i+1);l.height=this.getScaledLegendHeight()*d.length+this.getLegendSpace()*(d.length+1);}return l;};
D.prototype._prepareData=function(s){var r=[],x=this.getXDimension(),y=this.getYDimension(),X=this.getXDomain(),Y=this.getYDomain(),e=this.getExclude();this.aXDimension=[];this.aYDimension=[];var t=this,l;jQuery.each(X,function(i,v){l={};l.xIndex=i;l.yIndex=-1;t.aXDimension.push(s.getLegend(l));});this.aReversedXDimension=jQuery.extend(true,[],this.aXDimension);this.aReversedXDimension.reverse();jQuery.each(Y,function(i,v){l={};l.xIndex=-1;l.yIndex=i;t.aYDimension.push(s.getLegend(l));});jQuery.each(Y,function(b,o){var R=[];jQuery.each(X,function(c,d){var E=false;jQuery.each(e,function(i,f){if((d==f[0])&&(o==f[1])){E=true;return false;}});if(!E){var l={};l.xIndex=c;l.yIndex=b;l[x]=d;l[y]=o;l.xName=t.aXDimension[c];l.yName=t.aYDimension[b];R.push(l);}});if(R.length>0){r.push(R);}});return r;};
D.prototype._drawDimensionPath=function(s,S){var x=this.getXDomain(),X=x.length,t=this;var p=s.selectAll(".dimension-path").data(x);p.enter().append("path").attr("d",function(d,i){var w=t.getScaledLegendWidth();var h=t.getScaledLegendHeight();var b=0,c=c=h*(X-1-i)+t.getLegendSpace()*(X-i),e=w*(X-1-i)+t.getLegendSpace()*(X-i);if(sap.ui.getCore().getConfiguration().getRTL()){b=w*(X-1-i)+t.getLegendSpace()*(X-i)+w/2;e=-e;}else{b=w*i+t.getLegendSpace()*(i+1)+w/2;}return"M"+b+" 0 v"+c+" h"+e;}).attr("fill","none");p.exit().remove();var P={};P.height=0;if(X>0){P.height=this.getScaledLegendHeight()*X+this.getLegendSpace()*(X-1);}return P;};
D.prototype._drawDimensionText=function(s,S,l,o){var b=this.aYDimension.concat(this.aReversedXDimension);var x=this.aYDimension.length;var t=this;var c=l.width-o.width-5;var T=s.selectAll(".dimension-text").data(b);T.enter().append("text").attr("x",function(d){if(sap.ui.getCore().getConfiguration().getRTL()){return c;}return 0;}).attr("y",function(d,i){return t.getScaledLegendHeight()*i+t.getLegendSpace()*(i+1)+parseInt(t.getFontSize(),10)/2+t.getScaledLegendHeight()/2-2;}).text(function(d){return d;}).attr("font-size",t.getFontSize()+"px").attr("font-style",function(d,i){return i<x?"normal":"italic";}).attr("text-anchor",sap.ui.Device.browser.name==="ie"&&sap.ui.getCore().getConfiguration().getRTL()?"end":"start");T.select("title").remove();T.insert("title",":first-child").text(function(d){return d;});T.exit().remove();};
return D;},true);
sap.ui.predefine('sap/gantt/legend/DimensionLegendRenderer',[],function(P){"use strict";var D={};
D.render=function(r,l){jQuery.sap.measure.start("DimensionLegendRenderer render","GanttPerf:DimensionLegendRenderer render function");r.write("<div");r.writeControlData(l);r.addStyle("width","100%");r.addStyle("height","100%");r.addStyle("position","relative");r.writeStyles();r.write(">");this.renderSvgDefs(r,l);r.write("<div");r.addStyle("float",sap.ui.getCore().getConfiguration().getRTL()?"right":"left");r.writeStyles();r.write(">");r.write("<svg");r.writeAttribute("id",l.getId()+"-svg");r.writeClasses();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg>");r.write("<svg");r.writeAttribute("id",l.getId()+"-dimension-path");r.addClass("sapGanttDimensionLegendPath");r.writeClasses();r.addStyle("position","absolute");r.addStyle(sap.ui.getCore().getConfiguration().getRTL()?"right":"left","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write("</svg>");r.write("</div>");r.write("<div><svg");r.writeAttribute("id",l.getId()+"-dimension-text");r.addClass("sapGanttDLItemTxt");r.writeClasses();r.addStyle("position","absolute");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write("></svg></div>");r.write("</div>");jQuery.sap.measure.end("DimensionLegendRenderer render");};
D.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg id='"+l.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.writeAttributeEscaped("tabindex",(sap.ui.Device.browser.chrome?null:-1));r.writeAttributeEscaped("focusable",false);r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return D;},true);
sap.ui.predefine('sap/gantt/legend/LegendBase',["sap/ui/core/Control","sap/base/util/ObjectPath","../misc/Utility","../misc/Format","../shape/cal/Calendar","../misc/AxisTime"],function(C,O,U,F,a,A){"use strict";
var L=C.extend("sap.gantt.legend.LegendBase",{metadata:{"abstract":true,properties:{svgDefs:{type:"sap.gantt.def.SvgDefs",defaultValue:null},legendWidth:{type:"float",defaultValue:32},legendHeight:{type:"float",defaultValue:32},fontSize:{type:"int",defaultValue:16}}}});
L.prototype.TIME_RANGE=["20160101000000","20160103000000"];L.prototype.TIME="20160102000000";
L.prototype.init=function(){this._aTimeRange=[F.getTimeStampFormatter().parse(this.TIME_RANGE[0]),F.getTimeStampFormatter().parse(this.TIME_RANGE[1])];};
L.prototype.getAxisTime=function(){return this._oAxisTime;};
L.prototype.onBeforeRendering=function(){this._sUiSizeMode=U.findSapUiSizeClass();this._aViewRange=[0,this.getScaledLegendWidth()];this._oAxisTime=new A(this._aTimeRange,this._aViewRange);};
L.prototype.getScaledLegendWidth=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendWidth());};
L.prototype.getScaledLegendHeight=function(){var m=this.getSapUiSizeClass();return U.scaleBySapUiSize(m,this.getLegendHeight());};
L.prototype._instantShape=function(s){var r=[];for(var i=0;i<s.length;i++){if(s[i].getShapeClassName()){var S=this._instantiateCustomerClass(s[i].getShapeClassName(),i,s[i]);if(s[i].getClippathAggregation()&&s[i].getClippathAggregation()instanceof Array){var p=this._instantShape(s[i].getClippathAggregation());for(var j=0;j<p.length;j++){S.addPath(p[j]);}}else if(s[i].getGroupAggregation()&&s[i].getGroupAggregation()instanceof Array){var b=this._instantShape(s[i].getGroupAggregation());for(var k=0;k<b.length;k++){S.addShape(b[k]);}}if(this._isProperShape(S)){r.push(S);}}}return r;};
L.prototype._isProperShape=function(s){if(s instanceof a){jQuery.sap.log.warning("Calendar is not proper shape","key '"+s.mShapeConfig.getKey()+"'","ListLegend");return false;}else if(s.getTag()=="clippath"){return false;}else{return true;}};
L.prototype._instantiateCustomerClass=function(c,s,S){var b=O.get(c);if(!b){sap.ui.require(c);b=O.get(c);}var o=new b();o.mShapeConfig=S;o.mChartInstance=this;return o;};
L.prototype.getSapUiSizeClass=function(){return this._sUiSizeMode;};
return L;},true);
sap.ui.predefine('sap/gantt/legend/LegendContainer',["sap/ui/core/Control","sap/m/NavContainer","sap/m/Page","sap/m/List","sap/m/StandardListItem"],function(C,N,P,L,S){"use strict";
var a=C.extend("sap.gantt.legend.LegendContainer",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"}},aggregations:{legendSections:{type:"sap.m.Page",multiple:true,visibility:"public",singularName:"legendSection"}}}});
a.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this._sTitle=this._oRb.getText("LEGEND_TITLE");this._oNavContainer=new N({autoFocus:false,width:this.getWidth(),height:this.getHeight()});this._oInitNavPage=new P({title:this._oRb.getText("LEGEND_TITLE"),content:[new L()]});this._aLegendSections=[];};
a.prototype.setWidth=function(w){this.setProperty("width",w,true);this._oNavContainer.setWidth(w);return this;};
a.prototype.setHeight=function(h){this.setProperty("height",h,true);this._oNavContainer.setHeight(h);return this;};
a.prototype.addLegendSection=function(l){if(l){if(this._aLegendSections.length==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(this._aLegendSections.length!==0){l.setShowNavButton(true);}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].addItem(o);}this._aLegendSections.push(l);this._oNavContainer.addPage(l);}return this;};
a.prototype.insertLegendSection=function(l,i){if(l){var m=this._aLegendSections.length;if(m==1){this._oNavContainer.insertPage(this._oInitNavPage,0);this._aLegendSections[0].setShowNavButton(true);}if(m!==0){l.setShowNavButton(true);}if(i>=m){i=m;}l.attachNavButtonPress(this._onNavBack,this);l.setBackgroundDesign(sap.m.PageBackgroundDesign.Solid);l.setEnableScrolling(true);var s=l.getTitle();if(s!==undefined){var o=new S({title:s,type:sap.m.ListType.Navigation});o.attachPress(this._onNavToLegendSection,this);this._oInitNavPage.getContent()[0].insertItem(o,i);}this._oNavContainer.insertPage(l,i+1);this._aLegendSections.splice(i,0,l);}return this;};
a.prototype.indexOfLegendSection=function(l){var i=jQuery.inArray(l,this._aLegendSections);return i;};
a.prototype.removeLegendSection=function(p){var r;if((typeof p)==="number"){this._oNavContainer.removePage(p+1);this._oInitNavPage.getContent()[0].removeItem(p);r=this._aLegendSections.splice(p+1,1);}else if(p){this._oInitNavPage.getContent()[0].removeItem(jQuery.inArray(p,this._oNavContainer.getPages())-1);this._oNavContainer.removePage(p);r=this._aLegendSections.splice(jQuery.inArray(p,this._aLegendSections),1);}if(this._aLegendSections.length==1){if(this._oNavContainer.getCurrentPage()==this._oInitNavPage){this._oNavContainer.to(this._aLegendSections[0]);}this._aLegendSections[0].setShowNavButton(false);}return r;};
a.prototype.removeAllLegendSection=function(){var r=this._aLegendSections.splice(0,this._aLegendSections.length);this._oInitNavPage.getContent()[0].removeAllItems();this._oNavContainer.removeAllPages();return r;};
a.prototype.getLegendSections=function(){var p=this._oNavContainer.getPages();var t=this;return p.filter(function(v){if(v.getTitle()!==t._sTitle){return true;}});};
a.prototype.getNavigationPage=function(){return this._oInitNavPage;};
a.prototype.getNavigationItems=function(){return this._oInitNavPage.getContent()[0].getItems();};
a.prototype.getCurrentLegendSection=function(){return this._oNavContainer.getCurrentPage();};
a.prototype._onNavToLegendSection=function(e){var l=e.getSource().getTitle();this._oNavContainer.setAutoFocus(true);for(var i=0;i<this._aLegendSections.length;i++){if(l==this._aLegendSections[i].getTitle()){this._oNavContainer.to(this._aLegendSections[i]);}}};
a.prototype._onNavBack=function(e){this._oNavContainer.to(this._oInitNavPage);};
return a;});
sap.ui.predefine('sap/gantt/legend/LegendContainerRenderer',[],function(){"use strict";var L={};
L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLegend");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height","100%");r.writeStyles();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/legend/ListLegendRenderer',["sap/ui/core/theming/Parameters"],function(P){"use strict";var L={};
L.render=function(r,l){jQuery.sap.measure.start("ListLegendRenderer render","GanttPerf:ListLegendRenderer render function");var s=l._aShapeInstance,a=l.getScaledLegendWidth(),b=l.getScaledLegendHeight();r.write("<div");r.writeControlData(l);r.addClass("sapGanttLL");r.write(">");jQuery.sap.measure.start("ListLegendRenderer renderPaintServer","GanttPerf:ListLegendRenderer renderPaintServer part");this.renderSvgDefs(r,l);jQuery.sap.measure.end("ListLegendRenderer renderPaintServer");for(var i=0;i<s.length;i++){var c=s[i].getLegend();r.write("<div");r.writeAttributeEscaped("title",c);r.addClass("sapGanttLLItem");r.writeClasses();r.addStyle("height",b+"px");r.addStyle("line-height",b+"px");r.writeStyles();r.write(">");if(l._aCheckBoxes[i]){if(s[i].mShapeConfig.getSwitchOfCheckBox()=="noShow"){l._aCheckBoxes[i].addStyleClass("noShowCheckBox");}r.renderControl(l._aCheckBoxes[i]);}r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-"+i);r.addClass("sapGanttLLSvg");r.addStyle("width",a+"px");r.writeStyles();r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);if(l._aCheckBoxes.length==0){r.addClass("NoCheckBox");}r.writeClasses();r.write("></svg>");r.write("<div");r.writeAttribute("id",l.getId()+"-txt-"+i);r.addClass("sapGanttLLItemTxt");r.writeClasses();r.addStyle("font-size",l.getFontSize()+"px");r.writeStyles();r.write(">");if(c){r.writeEscaped(c);}r.write("</div>");r.write("</div>");}r.write("</div>");jQuery.sap.measure.end("ListLegendRenderer render");};
L.renderSvgDefs=function(r,l){var s=l.getSvgDefs();if(s){r.write("<svg");r.writeAttribute("id",l.getId()+"-svg-psdef");r.addClass("sapGanttLLSvgDefs");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
return L;},true);
sap.ui.predefine('sap/gantt/library',["sap/ui/base/DataType","sap/ui/core/theming/Parameters"],function(D,P){"use strict";sap.ui.getCore().initLibrary({name:"sap.gantt",dependencies:["sap.ui.core","sap.ui.layout","sap.ui.table","sap.m"],types:["sap.gantt.control.ToolbarType","sap.gantt.SelectionMode","sap.gantt.shape.ShapeCategory","sap.gantt.def.filter.MorphologyOperator","sap.gantt.def.filter.ColorMatrixValue","sap.gantt.shape.ext.rls.RelationshipType","sap.gantt.config.ZoomControlType","sap.gantt.config.BirdEyeRange","sap.gantt.GenericArray","sap.gantt.dragdrop.GhostAlignment","sap.gantt.simple.GanttChartWithTableDisplayType"],interfaces:["sap.gantt.GanttChartBase"],controls:["sap.gantt.control.Toolbar","sap.gantt.GanttChart","sap.gantt.GanttChartWithTable","sap.gantt.GanttChartContainer","sap.gantt.axistime.ProportionZoomStrategy","sap.gantt.legend.LegendContainer","sap.gantt.legend.ListLegend","sap.gantt.legend.DimensionLegend","sap.gantt.simple.GanttChartWithTable","sap.gantt.simple.ContainerToolbar","sap.gantt.simple.GanttChartContainer"],elements:["sap.gantt.config.TimeHorizon","sap.gantt.config.TimeAxis","sap.gantt.config.ToolbarGroup","sap.gantt.config.Mode","sap.gantt.config.ModeGroup","sap.gantt.config.LayoutGroup","sap.gantt.config.ExpandChart","sap.gantt.config.ExpandChartGroup","sap.gantt.config.TimeZoomGroup","sap.gantt.config.BirdEyeGroup","sap.gantt.config.ToolbarScheme","sap.gantt.config.Hierarchy","sap.gantt.config.HierarchyColumn","sap.gantt.config.ColumnAttribute","sap.gantt.config.GanttChartLayout","sap.gantt.config.ContainerLayout","sap.gantt.config.SettingItem","sap.gantt.config.SettingGroup","sap.gantt.config.ObjectType","sap.gantt.config.ChartScheme","sap.gantt.config.Locale","sap.gantt.config.Shape","sap.gantt.def.SvgDefs","sap.gantt.axistime.AxisTimeStrategyBase","sap.gantt.AdhocLine","sap.gantt.simple.GanttRowSettings","sap.gantt.simple.BaseCalendar","sap.gantt.simple.BaseChevron","sap.gantt.simple.BaseDiamond","sap.gantt.simple.BaseGroup","sap.gantt.simple.BaseImage","sap.gantt.simple.BaseLine","sap.gantt.simple.BasePath","sap.gantt.simple.BaseRectangle","sap.gantt.simple.BaseShape","sap.gantt.simple.BaseText","sap.gantt.simple.BaseCursor","sap.gantt.simple.BaseConditionalShape","sap.gantt.simple.UtilizationBarChart","sap.gantt.simple.UtilizationLineChart","sap.gantt.simple.UtilizationChart","sap.gantt.simple.UtilizationDimension","sap.gantt.simple.UtilizationPeriod"],noLibraryCSS:false,version:"1.64.0"});this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");sap.gantt.SelectionMode={MultiWithKeyboard:"MultiWithKeyboard",Multiple:"Multiple",Single:"Single",None:"None"};sap.gantt.AdhocLineLayer={Top:"Top",Bottom:"Bottom"};sap.gantt.control.ToolbarType={Global:"GLOBAL",Local:"LOCAL"};sap.gantt.ValueSVGPaintServer=D.createType('sap.gantt.ValueSVGPaintServer',{isValid:function(v){var V=sap.m.ValueCSSColor.isValid(v);if(!V){V=/(?:url\(['|"]?)(.*?)(?:['|"]?\))|^[@|#](.*?)$|initial|transparent|none|inherit/.test(v);}return V;}},D.getType('string'));sap.gantt.ValueSVGPaintServer.setNormalizer(function(v){if(!v){return v;}if(v.substr(0,1)==="@"){v=v.substring(1);}var r=P.get(v)||v;return r;});sap.gantt.SVGLength=D.createType("sap.gantt.SVGLength",{isValid:function(v){if(v==="auto"||v==="inherit"){return true;}return/^[-+]?([0-9]*\.?[0-9]+)(em|ex|px|in|cm|mm|pt|pc|%)?$/.test(v);}},D.getType("any"));sap.gantt.shape.ShapeCategory={InRowShape:"InRowShape",Relationship:"relationship"};sap.gantt.def.filter.MorphologyOperator={Dilate:"dilate",Erode:"erode"};sap.gantt.def.filter.ColorMatrixValue={AllToWhite:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0",AllToBlack:"-1 0 0 0 0, 0 -1 0 0 0, 0 0 -1 0 0, 0 0 0 1 0"};sap.gantt.shape.ext.rls.RelationshipType={FinishToFinish:0,FinishToStart:1,StartToFinish:2,StartToStart:3};sap.gantt.simple.RelationshipType={FinishToFinish:"FinishToFinish",FinishToStart:"FinishToStart",StartToFinish:"StartToFinish",StartToStart:"StartToStart"};sap.gantt.config.ZoomControlType={SliderWithButtons:"SliderWithButtons",SliderOnly:"SliderOnly",ButtonsOnly:"ButtonsOnly",Select:"Select",None:"None"};sap.gantt.config.BirdEyeRange={AllRows:"AllRows",VisibleRows:"VisibleRows"};sap.gantt.config.TimeUnit={minute:"d3.time.minute",hour:"d3.time.hour",day:"d3.time.day",week:"d3.time.week",month:"d3.time.month",year:"d3.time.year"};sap.gantt.config.WeekFirstDay={"ad":"d3.time.monday","ae":"d3.time.saturday","af":"d3.time.saturday","ag":"d3.time.sunday","ai":"d3.time.monday","al":"d3.time.monday","am":"d3.time.monday","an":"d3.time.monday","ar":"d3.time.sunday","as":"d3.time.sunday","at":"d3.time.monday","au":"d3.time.sunday","ax":"d3.time.monday","az":"d3.time.monday","ba":"d3.time.monday","bd":"d3.time.friday","be":"d3.time.monday","bg":"d3.time.monday","bh":"d3.time.saturday","bm":"d3.time.monday","bn":"d3.time.monday","br":"d3.time.sunday","bs":"d3.time.sunday","bt":"d3.time.sunday","bw":"d3.time.sunday","by":"d3.time.monday","bz":"d3.time.sunday","ca":"d3.time.sunday","ch":"d3.time.monday","cl":"d3.time.monday","cm":"d3.time.monday","cn":"d3.time.sunday","co":"d3.time.sunday","cr":"d3.time.monday","cy":"d3.time.monday","cz":"d3.time.monday","de":"d3.time.monday","dj":"d3.time.saturday","dk":"d3.time.monday","dm":"d3.time.sunday","do":"d3.time.sunday","dz":"d3.time.saturday","ec":"d3.time.monday","ee":"d3.time.monday","eg":"d3.time.saturday","es":"d3.time.monday","et":"d3.time.sunday","fi":"d3.time.monday","fj":"d3.time.monday","fo":"d3.time.monday","fr":"d3.time.monday","gb":"d3.time.monday","gb-alt-variant":"d3.time.sunday","ge":"d3.time.monday","gf":"d3.time.monday","gp":"d3.time.monday","gr":"d3.time.monday","gt":"d3.time.sunday","gu":"d3.time.sunday","hk":"d3.time.sunday","hn":"d3.time.sunday","hr":"d3.time.monday","hu":"d3.time.monday","id":"d3.time.sunday","ie":"d3.time.sunday","il":"d3.time.sunday","in":"d3.time.sunday","iq":"d3.time.saturday","ir":"d3.time.saturday","is":"d3.time.monday","it":"d3.time.monday","jm":"d3.time.sunday","jo":"d3.time.saturday","jp":"d3.time.sunday","ke":"d3.time.sunday","kg":"d3.time.monday","kh":"d3.time.sunday","kr":"d3.time.sunday","kw":"d3.time.saturday","kz":"d3.time.monday","la":"d3.time.sunday","lb":"d3.time.monday","li":"d3.time.monday","lk":"d3.time.monday","lt":"d3.time.monday","lu":"d3.time.monday","lv":"d3.time.monday","ly":"d3.time.saturday","ma":"d3.time.saturday","mc":"d3.time.monday","md":"d3.time.monday","me":"d3.time.monday","mh":"d3.time.sunday","mk":"d3.time.monday","mm":"d3.time.sunday","mn":"d3.time.monday","mo":"d3.time.sunday","mq":"d3.time.monday","mt":"d3.time.sunday","mv":"d3.time.friday","mx":"d3.time.sunday","my":"d3.time.monday","mz":"d3.time.sunday","ni":"d3.time.sunday","nl":"d3.time.monday","no":"d3.time.monday","np":"d3.time.sunday","nz":"d3.time.monday","om":"d3.time.saturday","pa":"d3.time.sunday","pe":"d3.time.sunday","ph":"d3.time.sunday","pk":"d3.time.sunday","pl":"d3.time.monday","pr":"d3.time.sunday","pt":"d3.time.monday","py":"d3.time.sunday","qa":"d3.time.saturday","re":"d3.time.monday","ro":"d3.time.monday","rs":"d3.time.monday","ru":"d3.time.monday","sa":"d3.time.sunday","sd":"d3.time.saturday","se":"d3.time.monday","sg":"d3.time.sunday","si":"d3.time.monday","sk":"d3.time.monday","sm":"d3.time.monday","sv":"d3.time.sunday","sy":"d3.time.saturday","th":"d3.time.sunday","tj":"d3.time.monday","tm":"d3.time.monday","tn":"d3.time.sunday","tr":"d3.time.monday","tt":"d3.time.sunday","tw":"d3.time.sunday","ua":"d3.time.monday","um":"d3.time.sunday","us":"d3.time.sunday","uy":"d3.time.monday","uz":"d3.time.monday","va":"d3.time.monday","ve":"d3.time.sunday","vi":"d3.time.sunday","vn":"d3.time.monday","ws":"d3.time.sunday","xk":"d3.time.monday","ye":"d3.time.sunday","za":"d3.time.sunday","zw":"d3.time.sunday"};sap.gantt.config.DEFAULT_PLAN_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-31536000000),endTime:new Date((new Date()).getTime()+31536000000)});sap.gantt.config.DEFAULT_INIT_HORIZON=new sap.gantt.config.TimeHorizon({startTime:new Date((new Date()).getTime()-2628000000),endTime:new Date((new Date()).getTime()+2628000000)});var u=sap.ui.getCore().getConfiguration().getRTL()?".M.d":"d.M.";sap.gantt.config.DEFAULT_TIME_ZOOM_STRATEGY={"1min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:1,pattern:"HH:mm"}},"5min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:5,pattern:"HH:mm"}},"10min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:10,pattern:"HH:mm"}},"15min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:15,pattern:"HH:mm"}},"30min":{innerInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.minute,span:30,pattern:"HH:mm"}},"1hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:1,pattern:"HH:mm"}},"2hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:2,pattern:"HH:mm"}},"4hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:4,pattern:"HH:mm"}},"6hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:6,pattern:"HH:mm"}},"12hour":{innerInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,format:"yyMMMEEEEd"},smallInterval:{unit:sap.gantt.config.TimeUnit.hour,span:12,pattern:"HH:mm"}},"1day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:1,pattern:u}},"2day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:2,pattern:u}},"4day":{innerInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.day,span:4,pattern:u}},"1week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:1,pattern:u}},"2week":{innerInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.week,span:2,pattern:u}},"1month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:1,pattern:u}},"2month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,format:"yyyyMMMM"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:2,pattern:u}},"4month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:4,pattern:"MMMM"}},"6month":{innerInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.month,span:6,pattern:"MMMM"}},"1year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:1,pattern:"MMMM"}},"2year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:2,pattern:"MMMM"}},"5year":{innerInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,range:90},largeInterval:{unit:sap.gantt.config.TimeUnit.year,span:10,format:"yyyy"},smallInterval:{unit:sap.gantt.config.TimeUnit.year,span:5,pattern:"MMMM"}}};sap.gantt.config.DEFAULT_TIME_AXIS=new sap.gantt.config.TimeAxis();sap.gantt.config.DEFAULT_MODE_KEY="sap_mode";sap.gantt.config.DEFAULT_MODE=new sap.gantt.config.Mode({key:sap.gantt.config.DEFAULT_MODE_KEY,text:this._oRb.getText("TLTP_DEFAULT"),icon:"sap-icon://status-positive"});sap.gantt.config.DEFAULT_MODES=[sap.gantt.config.DEFAULT_MODE];sap.gantt.config.DEFAULT_CHART_SCHEME_KEY="sap_main";sap.gantt.config.DEFAULT_CHART_SCHEME=new sap.gantt.config.ChartScheme({key:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY,name:"Default",rowSpan:1});sap.gantt.config.DEFAULT_CHART_SCHEMES=[sap.gantt.config.DEFAULT_CHART_SCHEME];sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY="sap_object";sap.gantt.config.DEFAULT_OBJECT_TYPE=new sap.gantt.config.ObjectType({key:sap.gantt.config.DEFAULT_OBJECT_TYPE_KEY,description:"Default",mainChartSchemeKey:sap.gantt.config.DEFAULT_CHART_SCHEME_KEY});sap.gantt.config.DEFAULT_OBJECT_TYPES=[sap.gantt.config.DEFAULT_OBJECT_TYPE];sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY="sap_enableNowLine";sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_NOW_LINE"),tooltip:this._oRb.getText("TLTP_NOW_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY="sap_enableCursorLine";sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_CURSOR_LINE"),tooltip:this._oRb.getText("TLTP_CURSOR_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY="sap_enableVerticalLine";sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY="sap_enableAdhocLine";sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_VERTICAL_LINE"),tooltip:this._oRb.getText("TLTP_VERTICAL_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE_KEY,checked:true,displayText:this._oRb.getText("XCKL_ADHOC_LINE"),tooltip:this._oRb.getText("TLTP_ADHOC_LINE")});sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY="sap_enableTimeScrollSync";sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC=new sap.gantt.config.SettingItem({key:sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC_KEY,checked:true,displayText:this._oRb.getText("XCKL_TIME_SCROLL_SYNC"),tooltip:this._oRb.getText("TLTP_TIME_SCROLL_SYNC")});sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS=[sap.gantt.config.SETTING_ITEM_ENABLE_NOW_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_CURSOR_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_VERTICAL_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_ADHOC_LINE,sap.gantt.config.SETTING_ITEM_ENABLE_TIME_SCROLL_SYNC];sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY="sap_empty_toolbar";sap.gantt.config.EMPTY_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.EMPTY_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High})});sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY="sap_container_toolbar";sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L1",overflowPriority:sap.m.OverflowToolbarPriority.High}),timeZoom:new sap.gantt.config.TimeZoomGroup({position:"R2",overflowPriority:sap.m.OverflowToolbarPriority.NeverOverflow}),settings:new sap.gantt.config.SettingGroup({position:"R1",overflowPriority:sap.m.OverflowToolbarPriority.Low,items:sap.gantt.config.DEFAULT_TOOLBAR_SETTING_ITEMS})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY="sap_ganttchart_toolbar";sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME=new sap.gantt.config.ToolbarScheme({key:sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME_KEY,customToolbarItems:new sap.gantt.config.ToolbarGroup({position:"L2",overflowPriority:sap.m.OverflowToolbarPriority.High}),expandTree:new sap.gantt.config.ToolbarGroup({position:"L3",overflowPriority:sap.m.OverflowToolbarPriority.Low})});sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_GANTTCHART_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEMES=[sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME,sap.gantt.config.EMPTY_TOOLBAR_SCHEME];sap.gantt.config.DEFAULT_HIERARCHY_KEY="sap_hierarchy";sap.gantt.config.DEFAULT_HIERARCHY=new sap.gantt.config.Hierarchy();sap.gantt.config.DEFAULT_HIERARCHYS=[sap.gantt.config.DEFAULT_HIERARCHY];sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY="sap_container_layout_single";sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT_KEY,text:this._oRb.getText("XLST_SINGLE_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY="sap_container_layout_dual";sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT=new sap.gantt.config.ContainerLayout({key:sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT_KEY,text:this._oRb.getText("XLST_DUAL_LAYOUT"),toolbarSchemeKey:sap.gantt.config.DEFAULT_CONTAINER_TOOLBAR_SCHEME_KEY,ganttChartLayouts:[new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY}),new sap.gantt.config.GanttChartLayout({activeModeKey:sap.gantt.config.DEFAULT_MODE_KEY,hierarchyKey:sap.gantt.config.DEFAULT_HIERARCHY_KEY})]});sap.gantt.config.DEFAULT_CONTAINER_LAYOUTS=[sap.gantt.config.DEFAULT_CONTAINER_SINGLE_LAYOUT,sap.gantt.config.DEFAULT_CONTAINER_DUAL_LAYOUT];sap.gantt.config.DEFAULT_LOCALE_CET=new sap.gantt.config.Locale({timeZone:"CET",utcdiff:"000000",utcsign:"+"});sap.gantt.config.DEFAULT_EMPTY_OBJECT={};sap.gantt.DIMENSION_LEGEND_NIL="NIL";sap.gantt.MouseWheelZoomType={FineGranular:"FineGranular",Stepwise:"Stepwise",None:"None"};sap.gantt.GenericArray=D.createType('sap.gantt.GenericArray',{isValid:function(v){if(typeof v==="string"||v instanceof String){return true;}if(Array.isArray(v)){for(var i=0;i<v.length;i++){if(!(typeof v[i]==="string"||v[i]instanceof String||typeof v[i]==="object")){return false;}}return true;}return false;},parseValue:function(v){if(v){if(Array.isArray(v)){return v;}else if(typeof v==="string"){var V;if(v.indexOf("[")>-1&&v.indexOf("{")>-1){v=v.replace(/\'/g,"\"");V=JSON.parse(v);}else{if(v.indexOf("[")>-1){var r=/^\[(.*)\]$/g;var m=r.exec(v);if(m){v=m[1];}}V=v.split(",");for(var i=0;i<V.length;i++){V[i]=V[i].trim();}}return V;}}return v;}},D.getType("any"));sap.gantt.dragdrop.GhostAlignment={Start:"Start",None:"None",End:"End"};sap.gantt.simple.GanttChartWithTableDisplayType={Both:"Both",Chart:"Chart",Table:"Table"};sap.gantt.DragOrientation={Horizontal:"Horizontal",Vertical:"Vertical",Free:"Free"};return sap.gantt;});
sap.ui.predefine('sap/gantt/misc/AxisOrdinal',["sap/gantt/misc/Utility","sap/ui/thirdparty/d3"],function(U){"use strict";var A=function(e,s,n,a,b,c,d,f){this.elementArray=e;this.scaleArray=s;this.padding=U.assign(f,0);this.zoomRate=U.assign(c,1);this.zoomOrigin=U.assign(d,0);this.viewRangeStart=U.assign(a,0);this.viewRangeEnd=b;this.viewBandWidth=n;this.scale=d3.scale.ordinal();this._createScale();};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype._createScale=function(){if(typeof(this.viewBandWidth)!=="undefined"){this.viewRangeEnd=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeBands(this._calculateViewRangeByViewBandWidth());}else if(typeof(this.viewRangeEnd)!=="undefined"){this.viewBandWidth=undefined;this.scale.domain(this._calculateInternalValuesByElements()).rangeBands([this.viewRangeStart,this.viewRangeEnd]);}else{}};
A.prototype._calculateInternalValuesByElements=function(){var v=[];for(var i=0;i<this.scaleArray.length;i++){var a=this.elementArray[i]+this.CONSTANT.C_SEPARATOR;for(var j=0;j<this.scaleArray[i];j++){v.push(a+j);}}return v;};
A.prototype._calculateViewRangeByViewBandWidth=function(){var v=0;for(var i=0;i<this.scaleArray.length;i++){v+=this.scaleArray[i]*this.viewBandWidth;}return[this.viewRangeStart,this.viewRangeStart+v];};
A.prototype.elementToView=function(e){return(this.scale(e+this.CONSTANT.C_SEPARATOR+0)+this.padding-this.zoomOrigin)*this.zoomRate;};
A.prototype.viewToElement=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return undefined;}return r;};
A.prototype.viewToElementIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var t=this.elementArray.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(this.elementArray[m]+this.CONSTANT.C_SEPARATOR+0);if(c<a){t=m-1;}else{h=m;}}var r=this.elementArray[h];var b=this.scale(r+this.CONSTANT.C_SEPARATOR+0);if(c<b+this.padding||c>=b+this.scale.rangeBand()*this.scaleArray[h]){return-1;}return h;};
A.prototype.viewToBandIndex=function(v){var c=v/this.zoomRate+this.zoomOrigin;var i=this._calculateInternalValuesByElements();var h=0;var t=i.length-1;while(h<t){var m=Math.ceil((h+t)/2);var a=this.scale(i[m]);if(c<a){t=m-1;}else{h=m;}}var r=this.scale(i[h]);if(c<r+this.padding||c>=r+this.scale.rangeBand()){return-1;}return h;};
A.prototype.viewToRowIndex=function(v,m){var c=v/this.zoomRate+this.zoomOrigin;var h=0;var a=this._calculateViewRangeByViewBandWidth();if(c<=a[1]&&c>=a[0]){return this.viewToElementIndex(v);}else if(jQuery.isNumeric(m)&&m>this.elementArray.length){var b=parseInt((v-a[1]-a[0])/this.viewBandWidth,10);var r=b+this.elementArray.length;h=r;}else{return-1;}return h;};
A.prototype.setElements=function(e,s){this.elementArray=e;this.scaleArray=s;this._createScale();return this;};
A.prototype.getElementArray=function(){return this.elementArray;};
A.prototype.getScaleArray=function(){return this.scaleArray;};
A.prototype.setViewRangeStart=function(v){this.viewBandWidth=undefined;this.viewRangeStart=sap.gantt.misc.Utility.assign(v,0);this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.setViewRangeEnd=function(v){this.viewBandWidth=undefined;this.viewRangeEnd=v;this.scale.rangeRoundBands([this.viewRangeStart,this.viewRangeEnd]);return this;};
A.prototype.getViewRange=function(){var v=this.scale.rangeExtent();return[(v[0]-this.zoomOrigin)*this.zoomRate,(v[1]-this.zoomOrigin)*this.zoomRate];};
A.prototype.setViewBandWidth=function(v){this.viewRangeEnd=undefined;this.viewBandWidth=v;this.scale.rangeRoundBands(this._calculateViewRangeByViewBandWidth());return this;};
A.prototype.getViewBandWidth=function(){return this.scale.rangeBand()*this.zoomRate;};
A.prototype.setZoomRate=function(z){this.zoomRate=sap.gantt.misc.Utility.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=sap.gantt.misc.Utility.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.clone=function(){return new A(this.elementArray.slice(0),this.scaleArray.slice(0),this.viewBandWidth,this.viewRangeStart,this.viewRangeEnd,this.zoomRate,this.zoomOrigin,this.padding);};
return A;},true);
sap.ui.predefine('sap/gantt/misc/AxisTime',["sap/base/util/ObjectPath","sap/ui/core/Core","sap/ui/core/LocaleData","sap/gantt/misc/Utility","sap/gantt/misc/Format"],function(O,C,L,U,F){"use strict";var A=function(t,v,z,a,b,l,Z){this.scale=d3.time.scale().domain(t).range(v).clamp(false);this.timeRange=t;this.viewRange=v;this.zoomRate=U.assign(z,1);this.zoomOrigin=U.assign(a,0);this.viewOffset=U.assign(b,0);this.locale=l;if(l&&l.getUtcdiff()){var f=F.getTimeStampFormatter();this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}this._oZoomStrategy=Z;};A.prototype.CONSTANT={C_SEPARATOR:"_@@_",C_MESSAGE:{ARGUMENT_ERROR:"AxisOrdinal: Argument Error!"}};
A.prototype.timeToView=function(t,i){if(C.getConfiguration().getRTL()!==true){return Math.round((this.scale(t)-this.zoomOrigin)*this.zoomRate-(i?0:this.viewOffset));}else{return Math.round(this.viewRange[1]*this.zoomRate-(((this.scale(t)+this.zoomOrigin)*this.zoomRate)+(i?0:this.viewOffset)));}};
A.prototype.viewToTime=function(v,i){if(C.getConfiguration().getRTL()!==true){return this.scale.invert((v+(i?0:this.viewOffset))/this.zoomRate+this.zoomOrigin);}else{return this.scale.invert(this.viewRange[1]-(v+(i?0:this.viewOffset))/this.zoomRate-this.zoomOrigin);}};
A.prototype.setTimeRange=function(t){this.timeRange=t;this.scale.domain(t);return this;};
A.prototype.getTimeRange=function(){return this.scale.domain();};
A.prototype.getTimeRangeSlice=function(s,e){var a=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(s),this.timeZoneOffset):this.viewToTime(s);var b=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(e),this.timeZoneOffset):this.viewToTime(e);if(C.getConfiguration().getRTL()!==true){return[a,b];}else{return[b,a];}};
A.prototype.setViewRange=function(v){this.viewRange=v;this.scale.range(v);return this;};
A.prototype.getViewRange=function(){var r=this.scale.range();return[Math.round((r[0]-this.zoomOrigin)*this.zoomRate-this.viewOffset),Math.round((r[1]-this.zoomOrigin)*this.zoomRate-this.viewOffset)];};
A.prototype.getZoomStrategy=function(){return this._oZoomStrategy;};
A.prototype.setZoomRate=function(z){this.zoomRate=U.assign(z,1);return this;};
A.prototype.getZoomRate=function(){return this.zoomRate;};
A.prototype.setZoomOrigin=function(z){this.zoomOrigin=U.assign(z,0);return this;};
A.prototype.getZoomOrigin=function(){return this.zoomOrigin;};
A.prototype.setViewOffset=function(v){this.viewOffset=U.assign(v,0);return this;};
A.prototype.getViewOffset=function(){return this.viewOffset;};
A.prototype.setLocale=function(l){this.locale=l;if(l&&l.getUtcdiff()){var f=F.getTimeStampFormatter();this.timeZoneOffset=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){this.timeZoneOffset=-this.timeZoneOffset;}}return this;};
A.prototype.getLocale=function(){return this.locale;};
A.prototype.clone=function(){return new A([new Date(this.timeRange[0].valueOf()),new Date(this.timeRange[1].valueOf())],this.viewRange.slice(0),this.zoomRate,this.zoomOrigin,this.viewOffset,this.locale,this._oZoomStrategy);};
A.prototype.getCurrentTickTimeIntervalLevel=function(){var t=this._oZoomStrategy.getTimeLineOption(),T=this._oZoomStrategy.getTimeLineOptions(),i=0;for(var a in T){if(T[a]===t){return i;}i++;}};
A.prototype.getCurrentTickTimeIntervalKey=function(){var t=this._oZoomStrategy.getTimeLineOption(),T=this._oZoomStrategy.getTimeLineOptions();for(var a in T){if(T[a]===t){return a;}}};
A.prototype.getNowLabel=function(){var d=new Date();var u=new Date(d.getTime()+(d.getTimezoneOffset()*60000));var v=this.timeToView(u);var l=d3.time.second.offset(u,this.timeZoneOffset);return[{"date":l,"value":Math.round(v)}];};
A.prototype.getTickTimeIntervalLabel=function(l,t,v){var i,p,a,b=null;if(this.locale&&this.locale.getDstHorizons().length>0){b=this.locale.getDstHorizons();}var f=F.getTimeStampFormatter();var c=[];if(b){for(i=0;i<b.length;i++){c[i]={};p=b[i].getStartTime();a=b[i].getEndTime();c[i].startDate=f.parse(p);c[i].endDate=f.parse(a);}}var e=this.timeZoneOffset?[d3.time.second.offset(this.timeRange[0],this.timeZoneOffset),d3.time.second.offset(this.timeRange[1],this.timeZoneOffset)]:this.timeRange;var g=new A(e,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy);var h=null;var j=null;var k=null;var m=null;var n=null;var o=null;var q=null;var r=[];var u=[];var w=null;if(t){o=this.timeZoneOffset?d3.time.second.offset(t[0],this.timeZoneOffset):t[0];q=this.timeZoneOffset?d3.time.second.offset(t[1],this.timeZoneOffset):t[1];h=this.timeZoneOffset?[d3.time.second.offset(t[0],this.timeZoneOffset),d3.time.second.offset(t[1],this.timeZoneOffset)]:t;j=[this.timeToView(t[0]),this.timeToView(t[1])];if(c&&c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,false);}else if(v){o=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[0]),this.timeZoneOffset):this.viewToTime(v[0]);q=this.timeZoneOffset?d3.time.second.offset(this.viewToTime(v[1]),this.timeZoneOffset):this.viewToTime(v[1]);h=[o,q];j=v;if(c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,false);}else{o=e[0];q=e[1];h=e;j=this.viewRange;if(c.length){this._calculateTimeRange(c,o,q,r);}w=this._calculateScale(r,u,h,j,e);}u=w.viewRangeSet;k=w.visibleScale;m=w.dstScale;n=w.normalScale;var x=[];var y,z,B,D;var E={unit:this._oZoomStrategy.getTimeLineOption().largeInterval.unit,span:this._oZoomStrategy.getTimeLineOption().largeInterval.span};var G={unit:this._oZoomStrategy.getTimeLineOption().smallInterval.unit,span:this._oZoomStrategy.getTimeLineOption().smallInterval.span};var I,H;if(E){var J=[];var K=[];var M=[];if(!(k instanceof Array)){J[0]=this._getTimeIntervalTicks(E,k);}else{for(I=0;I<m.length;I++){K[I]=m[I].ticks(O.get(E.unit).range,E.span);M[I]=n[I].ticks(O.get(E.unit).range,E.span);}for(I=0;I<k.length;I++){J[I]=k[I].ticks(O.get(E.unit).range,E.span);}}var N=[];if(J[0]!==null){for(I=0;I<J.length;I++){for(H=0;H<J[I].length;H++){y=J[I][H];B=g.timeToView(y);D=this._oZoomStrategy.getUpperRowFormatter().format(y);N.push({"date":y,"value":Math.round(B),"label":D});}}}if(K[0]!==null){for(I=0;I<K.length;I++){for(H=0;H<K[I].length;H++){y=K[I][H];z=M[I][H];B=g.timeToView(d3.time.second.offset(y.getTime(),-60*60));D=this._oZoomStrategy.getUpperRowFormatter().format(y);N.push({"date":y,"value":Math.round(B),"label":D});}}}x.push(N);}else{x.push([]);}if(G){var P=[];var Q=[];var R=[];if(!(k instanceof Array)){R[0]=this._getTimeIntervalTicks(G,k);}else{for(I=0;I<m.length;I++){P[I]=m[I].ticks(O.get(G.unit).range,G.span);Q[I]=n[I].ticks(O.get(G.unit).range,G.span);}for(I=0;I<k.length;I++){R[I]=k[I].ticks(O.get(G.unit).range,G.span);}}var S=[];if(R[0]){for(I=0;I<R.length;I++){for(H=0;H<R[I].length;H++){y=R[I][H];var T;var V=false;if(c.length){for(var d=0;d<c.length;d++){if(y.getTime()===c[d].startDate.getTime()){T=d3.time.second.offset(y.getTime(),60*60);if((H===R[I].length-1)&&this._oZoomStrategy.isLowerRowTickHourSensitive()){V=true;}}if((H===R[I].length-1)&&(y.getTime()===d3.time.second.offset(c[d].endDate.getTime(),60*60).getTime())){T=d3.time.second.offset(y.getTime(),-60*60);}}}B=g.timeToView(y);var W;if(V){break;}else if(T){W=this._oZoomStrategy.getUpperRowFormatter().format(T);D=this._oZoomStrategy.getLowerRowFormatter().format(T);T=null;}else{W=this._oZoomStrategy.getUpperRowFormatter().format(y);D=this._oZoomStrategy.getLowerRowFormatter().format(y);}S.push({"date":y,"value":Math.round(B),"label":D,"largeLabel":W});}}}if(P[0]){for(I=0;I<P.length;I++){for(H=0;H<P[I].length;H++){y=P[I][H];z=Q[I][H];var X;var Y=false;if((H===P[I].length-1)&&this._oZoomStrategy.isLowerRowTickHourSensitive()){if(r.length>0){for(var Z=0;Z<r.length;Z++){if((!r[Z].haveDST)&&(z.getTime()===r[Z].range[0].getTime())){Y=true;}}}}if(c.length){for(var s=0;s<c.length;s++){if(y.getTime()===c[s].startDate.getTime()){X=d3.time.second.offset(y.getTime(),60*60);}if((H===P[I].length-1)&&(y.getTime()===d3.time.second.offset(c[s].endDate.getTime(),60*60).getTime())){X=d3.time.second.offset(y.getTime(),-60*60);}}}if(!this._oZoomStrategy.isLowerRowTickHourSensitive()){B=g.timeToView(d3.time.second.offset(y.getTime(),-60*60));}else{B=g.timeToView(z);}if(Y){break;}else if(X){D=this._oZoomStrategy.getLowerRowFormatter().format(X);X=null;}else{D=this._oZoomStrategy.getLowerRowFormatter().format(y);}S.push({"date":y,"value":Math.round(B),"label":D});}}}x.push(S);}else{x.push([]);}return x;};
A.prototype._getTimeIntervalTicks=function(t,v){if(t.unit!==sap.gantt.config.TimeUnit.week){return v.ticks(O.get(t.unit).range,t.span);}var l=sap.ui.getCore().getConfiguration().getLocale();var f=L.getInstance(l).getFirstDayOfWeek();var w=["d3.time.sunday","d3.time.monday","d3.time.tuesday","d3.time.wednesday","d3.time.thursday","d3.time.friday","d3.time.saturday"];return v.ticks(O.get(w[f]).range,t.span);};
A.prototype._calculateScale=function(a,v,b,c,l){var d=null;var e=[];var n=[];if(a.length){d=[];var f=0;var g=0;for(var t=0;t<a.length;t++){v[t]=[this.timeToView(a[t].range[0]),this.timeToView(a[t].range[1])];if(a[t].haveDST){e[f]=new A(a[t].dstRange,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;n[f]=new A(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;f++;}else{d[g]=new A(a[t].range,v[t],this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;g++;}}}else if(l){d=new A(l,this.viewRange,this.zoomRate,this.zoomOrigin,this.viewOffset,null).scale;}else{d=new A(b,c,this.zoomRate,this.zoomOrigin,this.viewOffset,null,this._oZoomStrategy).scale;}var r={"viewRangeSet":v,"visibleScale":d,"dstScale":e,"normalScale":n};return r;};
A.prototype._calculateTimeRange=function(d,s,e,a){if(d.length){var b=s;var c=e;var f=[];var g=[];var h,i;h=d[0].startDate;i=d[0].endDate;this._calculateRangeItem(h,i,b,c,f,g);if(d.length>1){for(var j=1;j<d.length;j++){if(f.length){var r=[];for(var k in f){r.push(f[k]);}f=[];for(var t=0;t<r.length;t++){h=d[j].startDate;i=d[j].endDate;b=r[t].range[0];c=r[t].range[1];this._calculateRangeItem(h,i,b,c,f,g);}}}}for(var l in g){a.push(g[l]);}for(var m in f){a.push(f[m]);}}};
A.prototype._calculateRangeItem=function(d,a,s,e,t,b){var r=null;if(s<d){if(e<a){if(e>d){r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,e];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,d];t.push(r);r={};r.haveDST=true;r.range=[d,a];r.dstRange=[d3.time.second.offset(d.getTime(),60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else if(s>=d){if(s<a){if(e<=a){r={};r.haveDST=true;r.range=[s,e];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(e,60*60)];b.push(r);}else{r={};r.haveDST=true;r.range=[s,a];r.dstRange=[d3.time.second.offset(s,60*60),d3.time.second.offset(a.getTime(),60*60)];b.push(r);r={};r.haveDST=false;r.range=[a,e];t.push(r);}}else{r={};r.haveDST=false;r.range=[s,e];t.push(r);}}};
return A;},true);
sap.ui.predefine('sap/gantt/misc/Format',["sap/ui/core/format/DateFormat","sap/ui/thirdparty/d3"],function(D){"use strict";var F=function(){throw new Error();};F._oDefaultDateTimeFormat=D.getDateTimeInstance();
F.abapTimestampToDate=function(t){if(typeof t==="string"){var d=new Date(t.substr(0,4),parseInt(t.substr(4,2),0)-1,t.substr(6,2),t.substr(8,2),t.substr(10,2),t.substr(12,2));if(!jQuery.isNumeric(d.getTime())){d=new Date(t);}return d;}else if(jQuery.type(t)==="date"){return t;}return null;};
F.dateToAbapTimestamp=function(d){if(d){return""+d.getFullYear()+(d.getMonth()<9?"0":"")+(d.getMonth()+1)+(d.getDate()<10?"0":"")+d.getDate()+(d.getHours()<10?"0":"")+d.getHours()+(d.getMinutes()<10?"0":"")+d.getMinutes()+(d.getSeconds()<10?"0":"")+d.getSeconds();}return"";};
F.abapTimestampToTimeLabel=function(t,l){var a=sap.gantt.misc.Format._convertUTCToLocalTime(t,l);var L=sap.gantt.misc.Format._oDefaultDateTimeFormat.format(a);return L;};
F.relativeTimeToAbsolutTime=function(i,I,a,b){i=i!==undefined?i:0;I=I!==undefined?I:0;a=a!==undefined?a:0;b=b!==undefined?b:0;var B=this.abapTimestampToDate("20120101000000");var t=new Date();t.setTime(B.getTime()+b*1000+a*60*1000+I*3600*1000+i*24*3600*1000);return t;};
F.absolutTimeToRelativeTime=function(t){var b=this.abapTimestampToDate("20120101000000");var m=t.getTime()-b.getTime();var i=Math.floor(m/(24*3600*1000));var r=m%(24*3600*1000);var I=Math.floor(r/(3600*1000));r=r%(3600*1000);var a=Math.floor(r/(60*1000));r=r%(60*1000);var c=Math.floor(r/1000);var R={intervalDays:i,intervalHours:I,intervalMinutes:a,intervalSecond:c};return R;};
F._convertUTCToLocalTime=function(t,l){var a=0;if(l&&l.getUtcdiff()){var f=this.getTimeStampFormatter();a=Math.round((f.parse("20000101"+l.getUtcdiff()).getTime()-f.parse("20000101000000").getTime())/1000);if(l.getUtcsign()==="-"){a=-a;}}var u=sap.gantt.misc.Format.abapTimestampToDate(t);var b=d3.time.second.offset(u,a);var d=l.getDstHorizons();if(d.length>0){for(var i=0;i<d.length;i++){var s=sap.gantt.misc.Format.abapTimestampToDate(d[i].getStartTime());var e=sap.gantt.misc.Format.abapTimestampToDate(d[i].getEndTime());if(b>=s&&b<=e){b=d3.time.second.offset(b,60*60);}}}return b;};
F.getTimeStampFormatter=function(){return d3.time.format("%Y%m%d%H%M%S");};
return F;},true);
sap.ui.predefine('sap/gantt/misc/RelativeTimeFormatter',["sap/base/util/ObjectPath"],function(O){"use strict";var R=function(b,u,p){this.oBaseTime=b;this.sUnit=u;this.sPrefix=p;this.iIntervalMillisecond=O.get(u).offset(b,1).getTime()-b.getTime();};
R.prototype.format=function(d){var t;var s=Math.floor((d.getTime()-this.oBaseTime.getTime())/this.iIntervalMillisecond)+1;t=this.sPrefix+" "+s;return t;};
return R;},true);
sap.ui.predefine('sap/gantt/misc/ShapeManager',["jquery.sap.global","sap/base/util/ObjectPath","sap/ui/base/EventProvider","./Utility","sap/gantt/shape/ResizeShadowShape","sap/gantt/shape/ext/rls/SelectedRelationship","sap/gantt/shape/SelectedShape","sap/gantt/shape/Group","sap/gantt/shape/Text"],function(q,O,E,U){"use strict";
var S=E.extend("sap.gantt.misc.ShapeManager",{constructor:function(g){E.apply(this);this.mShapeElementIds={};this.mShapeConfig={};this.mShapeInstance={};this.aShapeInstance=[];this.oGantt=g;}});
S.prototype.instantiateShapes=function(s){this.mShapeConfig={};for(var i=0;i<s.length;i++){this.mShapeConfig[s[i].getKey()]=s[i];}return this.recursiveInstantiateShapes(this.mShapeConfig).then(function(a){this.aShapeInstance=a;q.each(this.aShapeInstance,function(k,o){this.mShapeInstance[o.mShapeConfig.getKey()]=o;}.bind(this));}.bind(this));};
S.prototype.getAllShapeInstances=function(){return this.aShapeInstance;};
S.prototype.getSelectedShapeInstance=function(s,o){if(this.bDestroyed){return Promise.reject();}var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var a=s.getSelectedClassName();if(!a){if(c===sap.gantt.shape.ShapeCategory.Relationship){a="sap.gantt.shape.ext.rls.SelectedRelationship";}else{a="sap.gantt.shape.SelectedShape";}}return this.instantiateShapeClass(a);};
S.prototype.recursiveInstantiateShapes=function(s,p){var h=function(k){var o;var a=p?p:k;var i=p?p+"_"+k:k;var b=s[k];var c=b.getShapeClassName();if(c){return this.instantiateShapeClass(c).then(function(d){o=d;this.setSpecialProperty(o,b);this.setShapeElementId(i,a,o.getId());var P;if(!p){P=this.getSelectedShapeInstance(b,o).then(function(e){this.setSpecialProperty(e,b);o.setAggregation("selectedShape",e);i=a+"_selected"+a;this.setShapeElementId(i,undefined,e.getId());return this._createResizeShadowShape(b,o,a+"_resizeShadow"+a);}.bind(this));}else{P=Promise.resolve();}P=P.then(function(){var e=b.getGroupAggregation();if(e&&e instanceof Array){return this.recursiveInstantiateShapes(e,a).then(function(A){A.forEach(o.addShape,o);});}}.bind(this)).then(function(){var e=b.getClippathAggregation();if(e&&e instanceof Array){return this.recursiveInstantiateShapes(e,a).then(function(f){f.forEach(o.addPath,o);});}return o;}.bind(this));return P;}.bind(this));}else{return Promise.resolve(null);}}.bind(this);return Promise.all(Object.keys(s).map(h)).then(function(i){i=i.filter(function(I){return!!I;});if(!p){this.sortByShapeLevelAccendingly(i);}return i;}.bind(this));};
S.prototype.setSpecialProperty=function(s,o){s.mShapeConfig=o;s.mChartInstance=this.oGantt;s.dataSet=[];};
S.prototype.sortByShapeLevelAccendingly=function(i){i.sort(function(s,o){var l=s.mShapeConfig.getLevel(),L=o.mShapeConfig.getLevel();var a=q.isNumeric(l)?l:99;var b=q.isNumeric(L)?L:99;return b-a;});};
S.prototype.loadClass=function(s){return new Promise(function(r){var a=O.get(s);if(a){r(a);}else{sap.ui.require([s.replace(/\./g,"/")],function(a){r(a);});}});};
S.prototype.instantiateShapeClass=function(s){return this.loadClass(s).then(function(a){var o=new a();if(!o){q.sap.log.error("shapeClassName:"+s+" can't be instantiated");q.sap.log.warning("shapeClassName:"+s+" fallback to sap.gantt.shape.Shape");o=new sap.gantt.shape.Shape();}return o;});};
S.prototype.isShapeSelectable=function(s,e){return this.getShapePropertyValue("enableSelection",s,e);};
S.prototype.isShapeResizable=function(s,e){return this.getShapePropertyValue("enableResize",s,e);};
S.prototype.isShapeDuration=function(s,e){return this.getShapePropertyValue("isDuration",s,e);};
S.prototype.isShapeHoverable=function(s,e){return this.getShapePropertyValue("enableHover",s,e);};
S.prototype.getShapePropertyValue=function(p,s,e){var i,v;if(s){i=this.getShapeInstance(s,e)||sap.ui.getCore().byId(e);var m="get"+p.substr(0,1).toUpperCase()+p.substr(1);v=(i&&i[m])?i[m](s):v;}return v;};
S.prototype.isShapeDraggable=function(s,e){return this.getShapePropertyValue("enableDnD",s,e);};
S.prototype.setShapeElementId=function(i,s,a){this.mShapeElementIds[i]={"shapeElementId":a,"shapeKey":s};};
S.prototype.getShapeInstance=function(s,a){var c={};if(a){c=this._getShapeElementConfig(a);}else{var b=U.getShapeDataNameByUid(s.uid);for(var d in this.mShapeInstance){var e=this.mShapeInstance[d].mShapeConfig.getShapeDataName();if(b===e){c=this.mShapeElementIds[d];break;}}}return this.mShapeInstance[c?c.shapeKey:null];};
S.prototype._getShapeElementConfig=function(s){for(var a in this.mShapeElementIds){var c=this.mShapeElementIds[a];if(c.shapeElementId===s){return c;}}return null;};
S.prototype.collectDataForSelectedShapes=function(s,o,c){var m=this.mShapeInstance;for(var a in m){var b=m[a];var d=b.mShapeConfig.getShapeDataName();var e=b.getAggregation("selectedShape");var C=e.getCategory(null,this.oGantt.getAxisTime(),this.oGantt._oAxisOrdinal);e.dataSet=[];if(C===sap.gantt.shape.ShapeCategory.Relationship){var f=s.getSelectedRelationships();e.dataSet.push({"shapeData":f});}else{var g=s.getSelectedShapeDatum();for(var i=0;i<g.length;i++){var h=g[i];if(U.getShapeDataNameByUid(h.uid)!==d){continue;}var r=U.getRowDatumByShapeUid(h.uid,this.oGantt.getId());var v=s.isSelectedShapeVisible(h.uid,this.oGantt.getId());if(r&&v&&this.isShapeSelectable(h,b.getId())&&this.isShapeDisplayableInRow(r,a,o,c)){e.dataSet.push({"objectInfoRef":r,"shapeData":[h]});}}}}};
S.prototype.collectDataForAllShapeInstances=function(r,o,c){var j=true;var s=this.mShapeInstance;for(var a in s){var b=s[a];var d;var B=b.mShapeConfig.getShapeDataName();b.dataSet=[];if(b._attributeNameBindingMap){b._attributeNameBindingMap=undefined;}for(var i=0;i<r.length;i++){var R=r[i];if(!B){b.dataSet.push({"objectInfoRef":R,"shapeData":R.data});continue;}var D=this.isShapeDisplayableInRow(R,a,o,c);if(!D){continue;}if(j){d=R.data[B];}else if(B===R.shapeName){d=R.shapeData;}else{continue;}if(d){b.dataSet.push({"objectInfoRef":R,"shapeData":d});}}}};
S.prototype.isShapeDisplayableInRow=function(r,s,o,c){var C;if(r.chartScheme){C=r.chartScheme;}else{C=o[r.type]?o[r.type].getMainChartSchemeKey():sap.gantt.config.DEFAULT_CHART_SCHEME_KEY;}var a=c[C];if(a===undefined){return false;}var b=a.getShapeKeys();var m=a.getModeKey()!==sap.gantt.config.DEFAULT_MODE_KEY?a.getModeKey():this.oGantt.getMode();var d=this.mShapeConfig;if((C!==sap.gantt.config.DEFAULT_CHART_SCHEME_KEY&&b.indexOf(s)===-1)||(m!==sap.gantt.config.DEFAULT_MODE_KEY&&d[s].getModeKeys()&&d[s].getModeKeys().length>0&&d[s].getModeKeys().indexOf(m)<0)||!r.data){return false;}return true;};
S.prototype.isRelationshipDisplayable=function(s){var m=this.mShapeConfig;var a=s.mShapeConfig.getKey();var b=m[a]?m[a].getModeKeys():[];if(q.inArray(this.oGantt.getMode(),b)===-1&&this.oGantt.getMode()!==sap.gantt.config.DEFAULT_MODE_KEY){return false;}return true;};
S.prototype.getResizeShadowShapeInstance=function(s,o){if(this.bDestroyed){return Promise.reject();}var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var r=s.getResizeShadowClassName();if(!r||r===""){if(c===sap.gantt.shape.ShapeCategory.InRowShape){r="sap.gantt.shape.ResizeShadowShape";}else{return Promise.resolve(null);}}return this.instantiateShapeClass(r);};
S.prototype._createResizeShadowShape=function(s,o,r){return this.getResizeShadowShapeInstance(s,o).then(function(R){if(this.bDestroyed){return;}if(R){this.setSpecialProperty(R,s);o.setAggregation("resizeShadowShape",R);this.setShapeElementId(r,undefined,R.getId());}}.bind(this));};
S.prototype.destroy=function(){this.bDestroyed=true;};
S.prototype._createResizeShadowShapeSync=function(s,o,r){var R=this.getResizeShadowShapeInstanceSync(s,o);if(R){this.setSpecialProperty(R,s);o.setAggregation("resizeShadowShape",R);this.setShapeElementId(r,undefined,R.getId());}};
S.prototype.getResizeShadowShapeInstanceSync=function(s,o){var r=null;var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var R=s.getResizeShadowClassName();if(!R||R===""){if(c===sap.gantt.shape.ShapeCategory.InRowShape){R="sap.gantt.shape.ResizeShadowShape";}else{return null;}}r=this.instantiateShapeClassSync(R);return r;};
S.prototype.instantiateShapeClassSync=function(s){var C=O.get(s);if(!C){throw new Error("Class "+s+" not preloaded. Please add it to require of your"+" controller to ensure that it's initialized before this point or use Gantt 2.0.");}var o=new C();if(!o){q.sap.log.error("shapeClassName:"+s+" can't be instantiated");q.sap.log.warning("shapeClassName:"+s+" fallback to sap.gantt.shape.Shape");o=new sap.gantt.shape.Shape();}return o;};
S.prototype.recursiveInstantiateShapesSync=function(s,p){var i=[],o;for(var K in s){var a=p?p:K;var I=p?p+"_"+K:K;var b=s[K];var c=b.getShapeClassName();if(c){o=this.instantiateShapeClassSync(c);this.setSpecialProperty(o,b);this.setShapeElementId(I,a,o.getId());if(!p){var d=this.getSelectedShapeInstanceSync(b,o);this.setSpecialProperty(d,b);o.setAggregation("selectedShape",d);I=a+"_selected"+a;this.setShapeElementId(I,undefined,d.getId());this._createResizeShadowShapeSync(b,o,a+"_resizeShadow"+a);}var e=b.getGroupAggregation();if(e&&e instanceof Array){var A=this.recursiveInstantiateShapesSync(e,a);for(var k=0;k<A.length;k++){o.addShape(A[k]);}}var f=b.getClippathAggregation();if(f&&f instanceof Array){var P=this.recursiveInstantiateShapesSync(f,a);for(var j=0;j<P.length;j++){o.addPath(P[j]);}}}i.push(o);}if(!p){this.sortByShapeLevelAccendingly(i);}return i;};
S.prototype.getSelectedShapeInstanceSync=function(s,o){var a=null;var c=o.getCategory(null,this.oGantt.getAxisTime(),this.oGantt.getAxisOrdinal());var b=s.getSelectedClassName();if(!b){if(c===sap.gantt.shape.ShapeCategory.Relationship){b="sap.gantt.shape.ext.rls.SelectedRelationship";}else{b="sap.gantt.shape.SelectedShape";}}a=this.instantiateShapeClassSync(b);return a;};
S.prototype.instantiateShapesSync=function(s){this.mShapeConfig={};for(var i=0;i<s.length;i++){this.mShapeConfig[s[i].getKey()]=s[i];}this.aShapeInstance=this.recursiveInstantiateShapesSync(this.mShapeConfig);q.each(this.aShapeInstance,function(k,o){this.mShapeInstance[o.mShapeConfig.getKey()]=o;}.bind(this));};
return S;});
sap.ui.predefine('sap/gantt/misc/ShapeSelectionModel',["jquery.sap.global","sap/ui/base/ManagedObject","sap/gantt/misc/Utility"],function(q,M,U){"use strict";
var S=M.extend("sap.gantt.misc.ShapeSelectionModel",{
constructor:function(i,s){M.apply(this,arguments);this.aSelectedRelationships=[];this.mSelectedShapes={"uid":[],"shapes":[]};},
metadata:{properties:{"selectionMode":{type:"sap.gantt.SelectionMode",defaultValue:sap.gantt.SelectionMode.MultiWithKeyboard}},associations:{"ganttChart":{type:"sap.gantt.GanttChart",multiple:false}}}
});
var D={Row:"Row",Shape:"Shape"};
S.prototype.clearAllSelections=function(){var c=this.clearShapeSelection();var r=this.clearRelationshipSelection();return c&&r;};
S.prototype.clearShapeSelection=function(){if(this.mSelectedShapes.uid.length===0){return false;}this.mSelectedShapes.uid=[];return true;};
S.prototype.clearRelationshipSelection=function(){if(this.aSelectedRelationships.length===0){return false;}this.aSelectedRelationships=[];return true;};
S.prototype.getSelectedShapeDatum=function(){var d=[];var l=this.mSelectedShapes.uid.length;for(var i=0;i<l;i++){var u=this.mSelectedShapes.uid[i];var o=this.getShapeDatumByShapeUid(u);if(o){d.push(o);}}return d;};
S.prototype.getSelectedRelationships=function(){return this.aSelectedRelationships;};
S.prototype.isShapeSelected=function(s){return q.inArray(s,this.mSelectedShapes.uid)===-1?false:true;};
S.prototype.isRelationshipSelected=function(u){return this.aSelectedRelationships.some(function(s){return s.uid===u;});};
S.prototype.isSelectedShapeVisible=function(s,c){var a=U.getIdByUid(s);var d=U.getShapeDatumById(a,c);return d.some(function(i){return i.uid===s;});};
S.prototype.changeShapeSelection=function(s,r,c,d,R){var b,a;if(this.getSelectionMode()===sap.gantt.SelectionMode.None){return{shapeSelectionChange:false,relationshipSelectionChange:false};}var i=(U.getShapeDataNameByUid(s.uid)===sap.gantt.shape.ShapeCategory.Relationship);var m=(c&&this.getSelectionMode()===sap.gantt.SelectionMode.MultiWithKeyboard)||this.getSelectionMode()===sap.gantt.SelectionMode.Multiple;if(m){if(i){if(this.isRelationshipSelected(s.uid)){a=this.deselectRelationship(s.uid);}else{a=this.selectRelationship(s);}}else{if(this.isShapeSelected(s.uid)&&!d&&!R){b=this.deselectShape(s.uid);}else{b=this.selectByShapeData(s);}}}else{if(i){if(!this.isRelationshipSelected(s.uid)){a=this.clearRelationshipSelection();b=this.clearShapeSelection();a=this.selectRelationship(s)?true:a;}}else{if(!this.isShapeSelected(s.uid)&&!d&&!R){a=this.clearRelationshipSelection();b=this.clearShapeSelection();b=this.selectByShapeData(s)?true:b;}}}return{shapeSelectionChange:b,relationshipSelectionChange:a};};
S.prototype.selectByShapeData=function(s){if(!s||this.isShapeSelected(s.uid)){return false;}this.mSelectedShapes.uid.push(s.uid);return true;};
S.prototype.selectShapeByUid=function(u){var r;if(u&&u.length>0){for(var i=0;i<u.length;i++){r=r||this.selectByShapeData(this.getShapeDatumByShapeUid(u[i]));}}return r;};
S.prototype.deselectShape=function(s){var i=q.inArray(s,this.mSelectedShapes.uid);if(i>=0){this.mSelectedShapes.uid.splice(i,1);}else{return false;}return true;};
S.prototype.selectShapes=function(s,e){if(!s||s.length===0){return this.clearShapeSelection();}var u;if(e){u=this.clearShapeSelection();}var a=this._getShapeDatumForSelection(s);for(var j=0;j<a.length;j++){u=this.selectByShapeData(a[j])?true:u;}return u;};
S.prototype.deselectShapes=function(I){if(!I||I.length===0){return this.clearShapeSelection();}var u;var s=this.getSelectedShapeDatum();for(var i=0;i<s.length;i++){var o=s[i];if(q.inArray(o.__id__,I)>=0){u=this.deselectShape(o.uid)?true:u;}}return u;};
S.prototype.selectRelationship=function(r){if(this.isRelationshipSelected(r.uid)){return false;}this.aSelectedRelationships.push(r);return true;};
S.prototype.deselectRelationship=function(r){var t=this;var u=q.each(this.aSelectedRelationships,function(i,a){if(a&&a.uid===r){t.aSelectedRelationships.splice(i,1);return true;}});return u?true:false;};
S.prototype.selectRelationships=function(r,e){if(!r||r.length===0){return this.clearRelationshipSelection();}var u;if(e){u=this.clearRelationshipSelection();}for(var i=0;i<r.length;i++){u=this.selectRelationship(r[i])?true:u;}return u;};
S.prototype.deselectRelationships=function(i){if(!i||i.length===0){return this.clearRelationshipSelection();}else{var u;for(var j in this.aSelectedRelationships){var r=this.aSelectedRelationships[j];if(q.inArray(r.id,i)>=0){u=this.deselectRelationship(r.uid)?true:u;}}return u;}};
S.prototype.selectUnderlyingTableRows=function(i,t,e){var T=t.getSelectedIndices();if(e&&T.length>0){t.clearSelection();}var r=this._getRowDatumForSelection(i,t);for(var I=0;I<r.length;I++){var R=r[I];var s=this.getSelectionMode();if(s===sap.gantt.SelectionMode.Multiple||s===sap.gantt.SelectionMode.MultiWithKeyboard){t.addSelectionInterval(R.rowIndex,R.rowIndex);}else{t.setSelectedIndex(R.rowIndex);}}};
S.prototype.deselectUnderlyingTableRows=function(i,t){if(!i||i.length===0){t.clearSelection();return;}var r=this._getRowDatumForSelection(i,t);for(var I=0;I<r.length;I++){var R=r[I];t.removeSelectionInterval(R.rowIndex,R.rowIndex);}};
S.prototype.getShapeDatumByShapeUid=function(s){return this._getDatumByUid(s,D.Shape);};
S.prototype.getRowDatumByShapeUid=function(s){return this._getDatumByUid(s,D.Row);};
S.prototype._getDatumByUid=function(s,d){var g=this._getGanttChart();var o;if(D.Shape===d){o=U.getShapeDatumByShapeUid(s,g.getId());}else{o=U.getRowDatumByShapeUid(s,g.getId());}if(o){return o;}var r,a;var b=U.getShapeDataNameByUid(s);var j=(g._oTT.getBinding("rows").getMetadata().getName()==="sap.ui.model.json.JSONTreeBinding");var R=U.getChartSchemeByShapeUid(s);var A=g.getAllRowData();q.each(A,function(k,v){var c=v;if(R===""||R===c.chartScheme){if(j&&c.data[b]){for(var i=0;i<c.data[b].length;i++){if(c.data[b][i].uid===s){r=c;a=c.data[b][i];return false;}}}else if(c.data.uid===s){r=c;a=c.data;return false;}}});if(d===D.Shape){return a;}return r;};
S.prototype._getRowDatumForSelection=function(i,t){var r=i?i:[],R=U.getRowDatumRefById(r,t.getParent().getId()),m=R.length===r.length;if(!m){var I=this._lookupInvisibleDatum(r,R,D.Row);R=R.concat(I);}return R;};
S.prototype._getShapeDatumForSelection=function(i){var g=this._getGanttChart();var s=i?i:[];var a=U.getShapeDatumById(s,g.getId()),m=a.length===s.length;if(!m){var I=this._lookupInvisibleDatum(s,a,D.Shape);a=a.concat(I);}return a;};
S.prototype._lookupInvisibleDatum=function(I,f,d){var a=this._getInvisibleIds(I,f,d);var b=[];if(a.length>0){var g=this._getGanttChart(),s=g.getShapeDataNames();var A=g.getAllRowData();var l=function(r,c){var R=null;q.each(s,function(j,o){var e;if(typeof o==="string"){e=o;}else{e=o.name;}var h=r.data[e];if(h){q.each(h,function(k,i){if(i.__id__==c){R=i;return false;}});if(R){return false;}}});return R;};var L=function(c,t){var r=null;q.each(A,function(i,R){if(t===D.Shape){r=l(R,c);if(r){return false;}}else{if(R.id==c){r=R;return false;}}});return r;};b=a.map(function(i){return L(i,d);});}return b;};
S.prototype._getInvisibleIds=function(i,f,d){var F=f.map(function(o){if(d===D.Shape){return o.__id__;}return o.id;});return i.filter(function(I){return q.inArray(I,F)===-1;});};
S.prototype._getGanttChart=function(){return sap.ui.getCore().byId(this.getGanttChart());};
return S;});
sap.ui.predefine('sap/gantt/misc/Utility',["sap/gantt/misc/Format","sap/gantt/config/TimeHorizon","sap/base/Log"],function(F,T,L){"use strict";var U={};
U.assign=function(i,d){if(typeof(i)!==typeof(d)){return d;}else if((typeof i==="undefined")||i===null){return d;}else{return i;}};
U.assignDeep=function(i,d){if(!i&&!d){return null;}else if(i&&!d){return i;}else if(!i&&d){return d;}else if(typeof(i)==="object"&&typeof(d)==="object"){var r=i;for(var a in d){if(typeof(r[a])!=="boolean"&&!r[a]){r[a]=d[a];}else if(typeof(d[a])==="object"&&typeof(r[a])==="object"){r[a]=this.assignDeep(r[a],d[a]);}}return r;}else{return i;}};
U.generateRowUid=function(d,o,s,p,r){jQuery.each(d,function(k,v){v.uid=v.id;if(p){v.uid=p+"|"+v.uid;}else if(v.bindingObj&&v.bindingObj.findNode){var n=v.bindingObj.findNode(v.rowIndex);while(n.parent&&n.level>0){n=n.parent;v.uid=n.context.getObject()[r]+"|"+v.uid;}}var a=(v.index===undefined)?-1:v.index;var c=(v.chartScheme===undefined)?"":v.chartScheme;v.uid="PATH:"+v.uid+"|SCHEME:"+c+"["+a+"]";v.data.uid=v.uid;for(var i=0;i<s.length;i++){var D,b;if(typeof s[i]==="string"){D=s[i];b="id";}else{D=s[i].name;b=s[i].idName?s[i].idName:"id";}if(D in v.data){for(var j=0;j<v.data[D].length;j++){var e=v.data[D][j];if(e[b]===undefined){e[b]=jQuery.sap.uid();}e.uid=v.uid+"|DATA:"+D+"["+e[b]+"]";e.__id__=e[b];}}}});};
U.getChartSchemeByShapeUid=function(s){return U.parseUid(s).chartScheme||"";};
U.generateUidForRelationship=function(d,r){var s="relationship";var D="PATH:DUMMY|SCHEME:DUMMY[0]";for(var i=0;i<d.length;i++){if(d[i][r]===undefined){d[i][r]=jQuery.sap.uid();}d[i].uid=D+"|DATA:"+s+"["+d[i][r]+"]";d[i].__id__=d[i][r];}};
U.generateObjectPathToObjectMap=function(d,m,p){var r;for(var i in d){var o=d[i],a,b;if(o.objectInfoRef){a=o.objectInfoRef.id;o=o.objectInfoRef;}else{a=o.id;}if(p&&p!=""){a=p.concat(".").concat(a);}b=a.concat("-").concat(U.parseUid(o.uid).rowIndex);m[b]=o;if(o.children&&o.children.length>0){r=this.generateObjectPathToObjectMap(o.children,m,a);}}return r;};
U.getShapeDataNameByUid=function(s){return U.parseUid(s).shapeDataName;};
U.getIdByUid=function(u,r){return r?U.parseUid(u).rowId:U.parseUid(u).shapeId;};
U.parseUid=function(u){var r=/(PATH:(.+)\|SCHEME:(.*?\[-?\d+\]))(?:\|DATA:(.+)\[(.*)\])?$/g;var m=r.exec(u);var a={};if(m){var c=m[3];if(c){var R=c.match(/\[-?\d+\]/)[0].slice(1,-1);c=c.replace(/\[-?\d+\]/,"");}var s=m[1],b=m[2],d=b.split("|"),e=d[d.length-1];a={rowId:e,rowPath:b,rowUid:s,chartScheme:c,shapeDataName:m[4],shapeId:m[5],rowIndex:R};}else{L.warning("UID "+u+" does not match regular expression.");}return a;};
U.scaleBySapUiSize=function(m,n){switch(m){case"sapUiSizeCozy":return n*1.5;case"sapUiSizeCondensed":return n*0.78;default:return n;}};
U.findSapUiSizeClass=function(c){var $,a;if(c){$=c.$();}var s=".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy";if(!$||$.length===0){a=jQuery(document.body).find(s);}else{a=$.closest(s);}if(a.hasClass("sapUiSizeCondensed")){return"sapUiSizeCondensed";}else if(a.hasClass("sapUiSizeCompact")){return"sapUiSizeCompact";}else if(a.hasClass("sapUiSizeCozy")){return"sapUiSizeCozy";}else{return"sapUiSizeCozy";}};
U.floatEqual=function(v,V){return Math.abs(v-V)<0.0001;};
U.calculateStringLength=function(s){var l=0;if(s.match("[\u4E00-\u9FFF]")===null){l=s.length;}else{l=s.length+s.match(/[\u4E00-\u9FFF]/g).length;}return l;};
U.judgeTimeHorizonValidity=function(v,t){if(!v.getStartTime()||!v.getEndTime()){return false;}var V=F.abapTimestampToDate(v.getStartTime()).getTime(),o=F.abapTimestampToDate(v.getEndTime()).getTime(),a=F.abapTimestampToDate(t.getStartTime()).getTime(),b=F.abapTimestampToDate(t.getEndTime()).getTime();return(V-a>=0)&&(b-o>=0);};
U.getShapeDatumById=function(i,c){return U.getDatumById(i,"sap-gantt-shape-id",c);};
U.getRowDatumById=function(i,c){return U.getDatumById(i,"sap-gantt-row-id",c)||[];};
U.getRowDatumRefById=function(i,c){return U.getRowDatumById(i,c).map(function(I){return I.objectInfoRef;});};
U.getRowDatumByShapeUid=function(s,c){var p=this.parseUid(s),r=p.rowUid,R=p.rowId;var d=null;var a=this.getRowDatumById(R,c);var f=a.filter(function(d){return d.objectInfoRef.uid.indexOf(r)>=0;});if(f.length>0){d=f[0].objectInfoRef;}return d;};
U.getShapeDatumByShapeUid=function(s,c){var p=this.parseUid(s),S=p.shapeId,r=p.rowUid;var a=this.getShapeDatumById(S,c);var f=a.filter(function(d){return d.uid.indexOf(r)>=0;});return f[0];};
U.getRowDatumByEventTarget=function(t){var d=null;var $=jQuery(t).closest("g[data-sap-gantt-row-id]");if($.length){d=d3.select($.get(0)).datum();}return d;};
U.getDatumById=function(i,a,c){var p=i?i:"";var I=p;if(typeof p==="string"){I=[p];}var d=[];I.forEach(function(b){var s=["[id='",c,"']"," [data-",a,"='",b,"']"].join("");jQuery(s).each(function(_,e){var $=d3.select(e),n=$.datum();var f=d.some(function(o){var O=o.uid||o.objectInfoRef.uid,N=n.uid||n.objectInfoRef.uid;if(O!==N){return false;}else{var S=o.shapeData?o.shapeData.length:0;var g=n.shapeData?n.shapeData.length:0;return S===g;}});if(!f){d.push(n);}});});return jQuery.sap.unique(d);};
U.attributeEqualSelector=function(a,v){return"["+a+"="+"'"+v+"'"+"]";};
U.calculateHorizonByWidth=function(o,O,c,C){var a=F.abapTimestampToDate(o.getStartTime());var b=F.abapTimestampToDate(o.getEndTime());var r=Math.abs(a.getTime()-b.getTime())/O;var s;if(C){s=C;}else{s=a;}var e=new Date();e.setTime(s.getTime()+c*r);var d=new T({startTime:s,endTime:e});return d;};
U.safeCall=function(s,c,d,a){var C=s;for(var p=0;p<c.length;p++){var f=c[p];if(!C||typeof C[f]!=="function"){return d;}else if(p<c.length-1){C=C[f]();}else{C=C[f].apply(C,a);}}return C;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/Circle',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.Circle",{metadata:{properties:{tag:{type:"string",defaultValue:"circle"},cx:{type:"float"},cy:{type:"float"},r:{type:"float",defaultValue:5}}}});
C.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
C.prototype.getCx=function(d,r){if(this.mShapeConfig.hasShapeProperty("cx")){return this._configFirst("cx",d);}return this.getRotationCenter(d,r)[0];};
C.prototype.getCy=function(d,r){if(this.mShapeConfig.hasShapeProperty("cy")){return this._configFirst("cy",d);}return this.getRowYCenter(d,r);};
C.prototype.getR=function(d){return this._configFirst("r",d,true);};
C.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ClipPath',["sap/gantt/shape/Shape"],function(S){"use strict";
var C=S.extend("sap.gantt.shape.ClipPath",{metadata:{properties:{tag:{type:"string",defaultValue:"clippath"}},aggregations:{paths:{type:"sap.gantt.shape.Path",multiple:true,singularName:"path"}}}});
return C;},true);
sap.ui.predefine('sap/gantt/shape/Definitions',["sap/gantt/shape/Shape"],function(S){"use strict";
var D=S.extend("sap.gantt.shape.Definitions",{metadata:{properties:{tag:{type:"string",defaultValue:"defs"},childTagName:{type:"string"},content:{type:"string",defaultValue:""},referenceId:{type:"string"}}}});
D.prototype.getChildTagName=function(d,r){if(this.mShapeConfig.hasShapeProperty("childTagName")){return this._configFirst("childTagName",d);}};
D.prototype.getContent=function(d,r){if(this.mShapeConfig.hasShapeProperty("content")){return this._configFirst("content",d);}return null;};
D.prototype.getReferenceId=function(d,r){return this.getParentReferenceId(d,r);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/Group',["sap/gantt/shape/Shape"],function(S){"use strict";
var G=S.extend("sap.gantt.shape.Group",{metadata:{properties:{tag:{type:"string",defaultValue:"g"},RLSAnchors:{type:"object"}},aggregations:{shapes:{type:"sap.gantt.shape.Shape",multiple:true,singularName:"shape"}}}});
G.prototype.getRLSAnchors=function(d,r){return this._configFirst("RLSAnchors",d);};
G.prototype.genReferenceId=function(d,r){return this._configFirst("referenceId",d);};
return G;},true);
sap.ui.predefine('sap/gantt/shape/Image',["sap/gantt/shape/Shape","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,U,F,C){"use strict";
var I=S.extend("sap.gantt.shape.Image",{metadata:{properties:{tag:{type:"string",defaultValue:"image"},image:{type:"string"},x:{type:"float"},y:{type:"float"},width:{type:"float",defaultValue:20},height:{type:"float",defaultValue:20}}}});
I.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_IMAGE"));};
I.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n,a=this.getAxisTime();if(C.getConfiguration().getRTL()){if(this.getIsDuration(d,r)===true){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}return(n?n:0)-this.getWidth(d,r)/2;};
I.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
I.prototype.getImage=function(d){return this._configFirst("image",d);};
I.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
I.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return I;},true);
sap.ui.predefine('sap/gantt/shape/Line',["sap/gantt/shape/Shape","sap/gantt/misc/Format"],function(S,F){"use strict";
var L=S.extend("sap.gantt.shape.Line",{metadata:{properties:{tag:{type:"string",defaultValue:"line"},isDuration:{type:"boolean",defaultValue:true},x1:{type:"float"},y1:{type:"float"},x2:{type:"float"},y2:{type:"float"}}}});
L.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_LINE"));};
L.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}return this.getAxisTime().timeToView(F.abapTimestampToDate(this.getTime(d,r)));};
L.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}return this.getAxisTime().timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));};
L.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d,true);}return this.getRowYCenter(d,r);};
L.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"stroke-dasharray":this.getStrokeDasharray(d,r),"fill-opacity":this.getFillOpacity(d,r),"stroke-opacity":this.getStrokeOpacity(d,r)};return i+this.getInlineStyle(s);};
return L;},true);
sap.ui.predefine('sap/gantt/shape/Path',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Path",{metadata:{properties:{tag:{type:"string",defaultValue:"path"},isClosed:{type:"boolean",defaultValue:false},fill:{type:"string",defaultValue:"none"},d:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PATH"));};
P.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var c=this._getCenter(d,r),i=this.getIsDuration(d,r),m=this.mChartInstance.getSapUiSizeClass();var n=U.scaleBySapUiSize(m,7.5);if(i){var e=this._getCenter(d,r,true);n=(e[0]-c[0])/2;}D="M "+c[0]+" "+c[1]+" c 0,"+-n+" "+n+","+-n+" "+n+",0 c 0,"+n+" "+n+","+n+" "+n+",0";}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Path shape generated invalid d: "+D+" from the given data: "+d);return null;}};
P.prototype.getIsClosed=function(d){return this._configFirst("isClosed",d);};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"stroke-dasharray:":this.getStrokeDasharray(d,r)};if(this.getIsClosed(d,r)){s["fill-opacity"]=this.getFillOpacity(d,r);s["stroke-opacity"]=this.getStrokeOpacity(d,r);}return i+this.getInlineStyle(s);};
P.prototype.isValid=function(d){return!!d&&d.indexOf("NaN")===-1&&d.indexOf("undefined")===-1&&d.indexOf("null")===-1;};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polygon',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polygon",{metadata:{properties:{tag:{type:"string",defaultValue:"polygon"},points:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_POLYGON"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var m=this.mChartInstance.getSapUiSizeClass();var c=this.getRotationCenter(d,r),n=U.scaleBySapUiSize(m,8),a=U.scaleBySapUiSize(m,4),b=U.scaleBySapUiSize(m,4*Math.sqrt(3)),R=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)){R.push([c[0]-b,c[1]-a].join(","));R.push([c[0],c[1]-n].join(","));R.push([c[0]+b,c[1]-a].join(","));R.push([c[0]+b,c[1]+a].join(","));R.push([c[0],c[1]+n].join(","));R.push([c[0]-b,c[1]+a].join(","));}return R.join(" ");};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Polyline',["sap/gantt/shape/Shape","sap/gantt/misc/Utility"],function(S,U){"use strict";
var P=S.extend("sap.gantt.shape.Polyline",{metadata:{properties:{tag:{type:"string",defaultValue:"polyline"},fill:{type:"string",defaultValue:"none"},points:{type:"string"}}}});
P.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CIRCLE"));};
P.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r),R=[];var m=this.mChartInstance.getSapUiSizeClass();if(c&&c.length===2){R.push([c[0]-15,c[1]].join(","));R.push([c[0]-10,c[1]].join(","));R.push([c[0]-5,c[1]-U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+5,c[1]+U.scaleBySapUiSize(m,7.5)].join(","));R.push([c[0]+10,c[1]].join(","));R.push([c[0]+15,c[1]].join(","));}return R.join(" ");};
P.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r)};return i+this.getInlineStyle(s);};
return P;},true);
sap.ui.predefine('sap/gantt/shape/Rectangle',["sap/gantt/shape/Shape","sap/gantt/misc/Format","sap/ui/core/Core"],function(S,F,C){"use strict";
var R=S.extend("sap.gantt.shape.Rectangle",{metadata:{properties:{tag:{type:"string",defaultValue:"rect"},isDuration:{type:"boolean",defaultValue:true},x:{type:"float"},y:{type:"float"},width:{type:"float"},height:{type:"float",defaultValue:15},rx:{type:"string",defaultValue:"0"},ry:{type:"string",defaultValue:"0"}}}});
R.prototype.init=function(){S.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RECTANGLE"));};
R.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getAxisTime();if(C.getConfiguration().getRTL()){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){jQuery.sap.log.warning("Cannot get start time or end time from shape data: "+d+", please check whether the attribute name");return 0;}return n;};
R.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d,true);}return this.getRowYCenter(d,r)-this.getHeight(d,r)/2;};
R.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var a=this.getAxisTime();var n,s=a.timeToView(F.abapTimestampToDate(this.getTime(d,r))),e=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));if(!jQuery.isNumeric(s)||!jQuery.isNumeric(e)){return 0;}if(C.getConfiguration().getRTL()){n=s-e;}else{n=e-s;}if(n===0||n<0){n=1;}return n;};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
R.prototype.getRx=function(d){return this._configFirst("rx",d);};
R.prototype.getRy=function(d){return this._configFirst("ry",d);};
R.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill(d,r)),"stroke-dasharray":this.getStrokeDasharray(d,r),"fill-opacity":this.getFillOpacity(d,r),"stroke-opacity":this.getStrokeOpacity(d,r)};return i+this.getInlineStyle(s);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ResizeShadowShape',["sap/gantt/shape/Path","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,F,C){"use strict";
var R=P.extend("sap.gantt.shape.ResizeShadowShape",{metadata:{properties:{height:{type:"int",defaultValue:15}}}});
R.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
R.prototype.getD=function(d,o){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,o);x=this.getParent().getX(d,o)-s/2;y=this.getParent().getY(d,o)-s/2;a=x+this.getParent().getWidth(d,o)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,o);x=this.getParent().getX1(d,o)-s/2;y=this.getParent().getY1(d,o)-s/2;a=this.getParent().getX2(d,o)+s;b=this.getParent().getY2(d,o)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,o);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,o);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,o);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,o);n=this.getParent().getCy(d,o);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,o);s=this.getStrokeWidth(d,o);var f=this.getParent().getTime(d,o);var g=this.getParent().getEndTime(d,o);var A=this.getParent().getAxisTime();var h=this.getHeight(d)+e;if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,o)-h/2-s/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("ResizeShadowShape generated invalid d: "+p+" from the given data: "+d);return null;}};
R.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
R.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
R.prototype.getEnableSelection=function(d,r){return false;};
R.prototype.getStroke=function(d,r){return"red";};
R.prototype.getFill=function(d,r){return"none";};
R.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return R;},true);
sap.ui.predefine('sap/gantt/shape/SelectedShape',["sap/gantt/shape/Path","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,F,C){"use strict";
var S=P.extend("sap.gantt.shape.SelectedShape",{metadata:{properties:{fill:{type:"string",defaultValue:"none"},fillOpacity:{type:"float",defaultValue:0},strokeOpacity:{type:"float",defaultValue:0},height:{type:"int",defaultValue:15}}}});
S.prototype.getIsDuration=function(d,r){if(this.mShapeConfig.hasShapeProperty("isDuration")){return this._configFirst("isDuration",d);}return this.getParent().getIsDuration();};
S.prototype.getD=function(d,R){var s,x,a,y,b;var p="";var c=this.getParent().getTag();switch(c){case"rect":case"image":s=this.getStrokeWidth(d,R);x=this.getParent().getX(d,R)-s/2;y=this.getParent().getY(d,R)-s/2;a=x+this.getParent().getWidth(d,R)+s;b=y+this.getParent().getHeight(d)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"line":s=this.getStrokeWidth(d,R);x=this.getParent().getX1(d,R)-s/2;y=this.getParent().getY1(d,R)-s/2;a=this.getParent().getX2(d,R)+s;b=this.getParent().getY2(d,R)+s;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;case"path":p=this.getParent().getD(d,R);break;case"clippath":p=this.getParent().getPaths()[0].getD(d,R);break;case"polygon":case"polyline":var j=this.getParent().getPoints(d,R);var k=j.split(" ");if(k!==undefined&&k[0]==""){k.splice(0,1);}if(k!==undefined&&k.length>1){p="M ";var l;for(var i in k){l=k[i].split(",");if(k[i]!==""&&l.length>1){if(i==k.length-1){if(c==="polygon"){p=p+l[0]+" "+l[1]+" z";}else{p=p+l[0]+" "+l[1];}}else{p=p+l[0]+" "+l[1]+" L ";}}}}break;case"circle":var m,n,r;m=this.getParent().getCx(d,R);n=this.getParent().getCy(d,R);r=this.getParent().getR(d);p="M "+m+" "+n+" A "+r+" "+r+", 0, 1, 1, "+m+" "+n;break;case"text":break;default:var w;var e=this.getParent().getStrokeWidth(d,R);s=this.getStrokeWidth(d,R);var f=this.getParent().getTime(d,R);var g=this.getParent().getEndTime(d,R);var A=this.getParent().getAxisTime();var h=this.getHeight(d);if(C.getConfiguration().getRTL()){x=A.timeToView(F.abapTimestampToDate(g));a=A.timeToView(F.abapTimestampToDate(f));}else{x=A.timeToView(F.abapTimestampToDate(f));a=A.timeToView(F.abapTimestampToDate(g));}if(this.getParent().mShapeConfig.hasShapeProperty("y")){y=this.getParent()._configFirst("y",d)-s/2;}else{y=this.getParent().getRowYCenter(d,R)-h/2;}if(this.getParent().mShapeConfig.hasShapeProperty("width")){w=this.getParent()._configFirst("width",d)+s;}else{w=a-x-e-1+s;}if(w===0||w<0||!w){w=2;}a=x+w;b=y+h;p="M "+x+" "+y+" L "+a+" "+y+" L "+a+" "+b+" L "+x+" "+b+" z";break;}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("SelectedShape generated invalid d: "+p+" from the given data: "+d);return null;}};
S.prototype.getStroke=function(d,r){return"red";};
S.prototype.getFill=function(d,r){return"none";};
S.prototype.getStrokeWidth=function(d,r){var s=this.getParent().getStrokeWidth(d,r);return s?s:2;};
S.prototype.getTransform=function(d,r){return this.getParent().getTransform(d,r);};
S.prototype.getEnableDnD=function(d,r){return false;};
S.prototype.getEnableSelection=function(d,r){return false;};
S.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Shape',["sap/gantt/library","sap/ui/core/Element","sap/gantt/misc/Utility","sap/gantt/misc/Format","sap/ui/core/Core","sap/ui/core/format/NumberFormat"],function(l,E,U,F,C,N){"use strict";
var S=E.extend("sap.gantt.shape.Shape",{metadata:{"abstract":true,properties:{tag:{type:"string"},category:{type:"string",defaultValue:l.shape.ShapeCategory.InRowShape},htmlClass:{type:"string"},isDuration:{type:"boolean",defaultValue:false},time:{type:"string"},endTime:{type:"string"},title:{type:"string"},ariaLabel:{type:"string"},xBias:{type:"float",defaultValue:0},yBias:{type:"float",defaultValue:0},fill:{type:"sap.gantt.ValueSVGPaintServer"},strokeOpacity:{type:"float",defaultValue:1},fillOpacity:{type:"float",defaultValue:1},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:0},strokeDasharray:{type:"string"},clipPath:{type:"string"},transform:{type:"string"},filter:{type:"string"},enableHover:{type:"boolean",defaultValue:false},enableDnD:{type:"boolean",defaultValue:false},enableSelection:{type:"boolean",defaultValue:true},enableResize:{type:"boolean",defaultValue:false},rowYCenter:{type:"float",defaultValue:7.5},rotationCenter:{type:"float[]"},rotationAngle:{type:"float"},isBulk:{type:"boolean",defaultValue:false},arrayAttribute:{type:"string"},timeFilterAttribute:{type:"string"},endTimeFilterAttribute:{type:"string"},legend:{type:"string"}},aggregations:{selectedShape:{type:"sap.gantt.shape.SelectedShape",multiple:false},resizeShadowShape:{type:"sap.gantt.shape.ResizeShadowShape",multiple:false}}}});
S.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_SHAPE"));this.mShapeConfig=null;this.mChartInstance=null;};
var v={};sap.ui.getCore().attachThemeChanged(function(){v={};});
S.prototype.getTag=function(d){return this._configFirst("tag",d);};
S.prototype.getCategory=function(d){return this._configFirst("category",d);};
S.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
S.prototype.getIsDuration=function(d){return this._configFirst("isDuration",d);};
S.prototype.getTime=function(d){return this._configFirst("time",d);};
S.prototype.getEndTime=function(d){return this._configFirst("endTime",d);};
S.prototype.getTitle=function(d){return this._configFirst("title",d);};
S.prototype.getAriaLabel=function(d){return this._configFirst("ariaLabel",d);};
S.prototype.getXBias=function(d){if(C.getConfiguration().getRTL()===true){return 0-this._configFirst("xBias",d);}else{return this._configFirst("xBias",d);}};
S.prototype.getYBias=function(d){return this._configFirst("yBias",d,true);};
S.prototype.getFill=function(d,r){return this._configFirst("fill",d);};
S.prototype.getStrokeOpacity=function(d){return this._configFirst("strokeOpacity",d);};
S.prototype.getFillOpacity=function(d){return this._configFirst("fillOpacity",d);};
S.prototype.getStroke=function(d){return this._configFirst("stroke",d);};
S.prototype.getStrokeWidth=function(d){return this._configFirst("strokeWidth",d,true);};
S.prototype.getStrokeDasharray=function(d){return this._configFirst("strokeDasharray",d);};
S.prototype.getClipPath=function(d){return this._configFirst("clipPath",d);};
S.prototype.getTransform=function(d,r){if(this.mShapeConfig.hasShapeProperty("transform")){return this._configFirst("transform",d);}var R=[];this._translate(d,r,R);this._rotate(d,r,R);if(R.length>0){return R.join(" ");}};
S.prototype._rotate=function(d,r,R){var c=this.getRotationCenter(d,r),n=this.getRotationAngle(d,r);if(c&&c.length===2&&n){R.push("rotate("+n+" "+c[0]+" "+c[1]+")");}};
S.prototype._translate=function(d,r,R){var n=this.getXBias(d,r),a=this.getYBias(d,r);if(n||a){n=n?n:0;a=a?a:0;R.push("translate("+n+" "+a+")");}};
S.prototype.getFilter=function(d){return this._configFirst("filter",d);};
S.prototype.getEnableDnD=function(d){return this._configFirst("enableDnD",d);};
S.prototype.getEnableSelection=function(d){return this._configFirst("enableSelection",d);};
S.prototype.getEnableResize=function(d){return this._configFirst("enableResize",d);};
S.prototype.getEnableHover=function(d){return this._configFirst("enableHover",d);};
S.prototype.getRotationAngle=function(d){return this._rtlRotation(this._configFirst("rotationAngle",d));};
S.prototype._rtlRotation=function(n){if(n>0||n<0){if(C.getConfiguration().getRTL()){return 360-n;}else{return n;}}};
S.prototype.getRowYCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rowYCenter")){return this._configFirst("rowYCenter",d);}if(r){return r.y+r.rowHeight/2;}else{return this.getProperty("rowYCenter");}};
S.prototype.getRotationCenter=function(d,r){if(this.mShapeConfig.hasShapeProperty("rotationCenter")){return this._configFirst("rotationCenter",d);}return this._getCenter(d,r);};
S.prototype._getCenter=function(d,r,e){var a=this.getAxisTime();var t=e?this.getEndTime(d,r):this.getTime(d,r);if(!t){return undefined;}var n=a.timeToView(F.abapTimestampToDate(t));if(!n&&!n==0){n=a.timeToView(0);}var b=this.getRowYCenter(d,r);return[n,b];};
S.prototype.getIsBulk=function(d){return this._configFirst("isBulk",d);};
S.prototype.getArrayAttribute=function(d){return this._configFirst("arrayAttribute",d);};
S.prototype.getTimeFilterAttribute=function(d){return this._configFirst("timeFilterAttribute",d);};
S.prototype.getEndTimeFilterAttribute=function(d){return this._configFirst("endTimeFilterAttribute",d);};
S.prototype.getLegend=function(d){return this._configFirst("legend",d);};
S.prototype._configFirst=function(a,d,s){var p=null;if(this.mShapeConfig.hasShapeProperty(a)){var c=this.mShapeConfig.getShapeProperty(a);if(typeof c==="string"){p=this._formatting(d,a,c);}else{p=c;}}else{p=this.getProperty(a);}if(s&&this.mChartInstance){var m=this.mChartInstance.getSapUiSizeClass();p=U.scaleBySapUiSize(m,p);}return p;};
S.prototype.getStyle=function(d,r){var s={"stroke":this.determineValueColor(this.getStroke(d,r)),"stroke-width":this.getStrokeWidth(d,r)};return this.getInlineStyle(s);};
S.prototype.getAxisTime=function(){var a=null;if(this.mChartInstance){a=this.mChartInstance.getAxisTime();}return a;};
S.prototype.getInlineStyle=function(s){return Object.keys(s).reduce(function(i,a){if(s[a]!==undefined&&s[a]!==null&&s[a]!==""){i+=(a+":"+s[a]+"; ");}return i;},"");};
S.prototype.determineValueColor=function(p){var f=v[p];if(!f&&p){f=sap.gantt.ValueSVGPaintServer.normalize(p);v[p]=f;}return f;};
S.prototype.getShapeViewBoundary=function(){var s=this.mChartInstance._oStatusSet;if(s&&s.aViewBoundary){return s.aViewBoundary;}return null;};
S.prototype._formatting=function(d,a,A){if(!A){return"";}this._attributeNameBindingMap=this._attributeNameBindingMap||{};if(!this._attributeNameBindingMap[a]){this._attributeNameBindingMap[a]=this._resolveAttributeMap(A);}return this._formatFromResolvedAttributeMap(d,a);};
S.prototype._resolveAttributeMap=function(a){var r=[];var m=a.match(/[^\{\}]*(\{.*?\})?/g);m.pop();m.forEach(function(V,i,A){var o={},s=V.split("{");if(s[0].length>0){o.leadingText=s[0];}if(s[1]){s=s[1].split("}")[0].split(":");if(s[0].length>0){o.attributeName=s[0].trim().split("/");}if(s[1]){o.attributeType=s[1].trim();}}r.push(o);});return r;};
S.prototype._formatFromResolvedAttributeMap=function(d,a){var A=this._attributeNameBindingMap[a],r=[],p,V;if(A){A.forEach(function(P,i){p=P.leadingText;if(P.attributeName){V=d;P.attributeName.forEach(function(s,i){V=V[s];});if(p){p=p+this._formatValue(V,P.attributeType);}else{p=this._formatValue(V,P.attributeType);}}r.push(p);}.bind(this));}if(r.length===1){return r[0];}return r.join("");};
S.prototype._formatValue=function(a,t){var r=a;switch(t){case"Number":r=this._formatNumber(a);break;case"Timestamp":var L=this.mChartInstance.getLocale();if(L){r=F.abapTimestampToTimeLabel(a,L);}break;default:if(r===undefined||r===null){r="";}break;}return r;};
S.prototype._formatNumber=function(n,d){var r="";if(d!==undefined){r=N.getFloatInstance({minFractionDigits:d,maxFractionDigits:d}).format(n);}else{r=N.getFloatInstance().format(n);}return r;};
S.prototype.getParentReferenceId=function(d,r){if(this.mShapeConfig.hasShapeProperty("referenceId")){return this._configFirst("referenceId",d);}if(this.getParent()&&this.getParent().genReferenceId){return this.getParent().genReferenceId(d,r);}};
return S;},true);
sap.ui.predefine('sap/gantt/shape/Text',["sap/gantt/shape/Shape","sap/gantt/misc/Format"],function(S,F){"use strict";
var T=S.extend("sap.gantt.shape.Text",{metadata:{properties:{tag:{type:"string",defaultValue:"text"},text:{type:"string"},x:{type:"float"},y:{type:"float"},fontSize:{type:"int",defaultValue:10},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string"},wrapWidth:{type:"float",defaultValue:-1},wrapDy:{type:"float",defaultValue:20},truncateWidth:{type:"float",defaultValue:-1},ellipsisWidth:{type:"float",defaultValue:12}}}});
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var t=this.getTime(d,r);var a=this.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(x)){x=a.timeToView(0).toFixed(1);}return x;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return this.getRowYCenter(d,r)+this.getFontSize(d,r)/2;};
T.prototype.getText=function(d){return this._configFirst("text",d);};
T.prototype.getTextAnchor=function(d){var o=this._configFirst("textAnchor",d);var r=sap.ui.getCore().getConfiguration().getRTL();if(r&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)){if(o==="start"){return"end";}else if(o==="end"){return"start";}}return o;};
T.prototype.getFontSize=function(d){return this._configFirst("fontSize",d,true);};
T.prototype.getFontFamily=function(d){return this._configFirst("fontFamily",d,false);};
T.prototype.getWrapWidth=function(d){return this._configFirst("wrapWidth",d);};
T.prototype.getWrapDy=function(d){return this._configFirst("wrapDy",d);};
T.prototype.getTruncateWidth=function(d){return this._configFirst("truncateWidth",d);};
T.prototype.getEllipsisWidth=function(d){return this._configFirst("ellipsisWidth",d);};
T.prototype.getStyle=function(d,r){var i=S.prototype.getStyle.apply(this,arguments);var s={"font-size":this.getFontSize(d,r)+"px;","fill":this.determineValueColor(this.getFill(d,r)),"fill-opacity":this.getFillOpacity(d,r),"font-family":this.getFontFamily(d,r)};return i+this.getInlineStyle(s);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/cal/Calendar',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var C=R.extend("sap.gantt.shape.cal.Calendar",{metadata:{properties:{isBulk:{type:"boolean",defaultValue:true},enableSelection:{type:"boolean",defaultValue:false},calendarName:{type:"string",defaultValue:"nwt"}}}});
C.prototype.init=function(){R.prototype.init.apply(this,arguments);var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CALENDAR"));};
C.prototype.getCalendarName=function(d){return this._configFirst("calendarName",d);};
C.prototype.getIsBulk=function(d){if(this.mShapeConfig.isBulk){return this._configFirst("isBulk",d);}return true;};
C.prototype.getEnableSelection=function(d){if(this.mShapeConfig.enableSelection){return this._configFirst("enableSelection",d);}return false;};
C.prototype.getX=function(d){if(this.mShapeConfig.x){return this._configFirst("x",d);}return this.mChartInstance._oStatusSet.aViewBoundary[0];};
C.prototype.getY=function(d,r){if(this.mShapeConfig.y){return this._configFirst("y",d);}return r.y;};
C.prototype.getWidth=function(d){if(this.mShapeConfig.width){return this._configFirst("width",d);}var s=this.mChartInstance._oStatusSet;if(s){return s.aViewBoundary[1]-s.aViewBoundary[0];}else{return 0;}};
C.prototype.getHeight=function(d,r){if(this.mShapeConfig.height){return this._configFirst("height",d);}return r.rowHeight;};
C.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c=this.getCalendarName(d,r);var p=this.mChartInstance.getCalendarDef();if(p){return p.getRefString(c);}};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Chevron',["sap/gantt/shape/Path","sap/gantt/misc/Format","sap/ui/core/Core"],function(P,F,C){"use strict";
var a=P.extend("sap.gantt.shape.ext.Chevron",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:true},headLength:{type:"float",defaultValue:5},tailLength:{type:"float",defaultValue:5},height:{type:"float",defaultValue:15}}}});
a.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CHEVRON"));};
a.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getHeight(d,r);var b=this.getHeadLength(d,r),c=this.getTailLength(d,r),A=this.getAxisTime();var e=A.timeToView(F.abapTimestampToDate(this.getTime(d,r)));var f=A.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));var g=this.getRowYCenter(d,r);D=this.getDString({nStartOriginalX:e,nEndOriginalX:f,nTailLength:c,nHeadLength:b,nHeight:n,nRowYCenter:g});}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Chevron shape generated invalid d: "+D+" from the given data: "+d);return null;}};
a.prototype.getDString=function(c){var n=c.nHeight/2;if(this._isRTL){var b=c.nStartOriginalX-c.nEndOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX-1):(c.nStartOriginalX-c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l "+c.nTailLength+" -"+n+" l -"+b+" "+0+" l -"+c.nHeadLength+" "+n+" l "+c.nHeadLength+" "+n+" l "+b+" "+0+" z";}else{var b=c.nEndOriginalX-c.nStartOriginalX-c.nHeadLength;var b=(b>0)?b:1;var d=(b===1)?(c.nStartOriginalX+1):(c.nStartOriginalX+c.nTailLength);var r="m "+d+" "+c.nRowYCenter+" l -"+c.nTailLength+" -"+n+" l "+b+" "+0+" l "+c.nHeadLength+" "+n+" l -"+c.nHeadLength+" "+n+" l -"+b+" "+0+" z";}return r;};
a.prototype.getHeadLength=function(d){return this._configFirst("headLength",d,true);};
a.prototype.getTailLength=function(d){return this._configFirst("tailLength",d,true);};
a.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Cursor',["sap/gantt/shape/Path"],function(P){"use strict";
var C=P.extend("sap.gantt.shape.ext.Cursor",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},length:{type:"float",defaultValue:10},width:{type:"float",defaultValue:5},pointHeight:{type:"float",defaultValue:5}}}});
C.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_CURSOR"));};
C.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getPointHeight(d,r);var a=this.getWidth(d,r);var b=this.getLength(d,r);var c=b/2;var e=this.getRotationCenter(d,r);if(e&&e.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+e.join(" ")+" m "+-c+" "+-(a+n)/2+" l "+b+" 0 l 0 "+a+" l -"+c+" "+n+" l -"+c+" -"+n+" z";}}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Cursor shape generated invalid d: "+D+" from the given data: "+d);return null;}};
C.prototype.getLength=function(d){return this._configFirst("length",d,true);};
C.prototype.getWidth=function(d){return this._configFirst("width",d,true);};
C.prototype.getPointHeight=function(d){return this._configFirst("pointHeight",d,true);};
return C;},true);
sap.ui.predefine('sap/gantt/shape/ext/Diamond',["sap/gantt/shape/Path"],function(P){"use strict";
var D=P.extend("sap.gantt.shape.ext.Diamond",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},verticalDiagonal:{type:"float",defaultValue:12},horizontalDiagonal:{type:"float",defaultValue:12}}}});
D.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_DIAMOND"));};
D.prototype.getD=function(d,r){var s;if(this.mShapeConfig.hasShapeProperty("d")){s=this._configFirst("d",d);}else{var h=this.getVerticalDiagonal(d,r)/2;var a=this.getHorizontalDiagonal(d,r)/2;var c=this.getRotationCenter(d,r);if(c&&c.length===2&&jQuery.isNumeric(h)&&jQuery.isNumeric(a)){s="M "+c.join(" ")+" m "+-a+" 0"+" l "+a+" -"+h+" l "+a+" "+h+" l -"+a+" "+h+" z";}}if(this.isValid(s)){return s;}else{jQuery.sap.log.warning("Diamond shape generated invalid d: "+s+" from the given data: "+d);return null;}};
D.prototype.getVerticalDiagonal=function(d){return this._configFirst("verticalDiagonal",d,true);};
D.prototype.getHorizontalDiagonal=function(d){return this._configFirst("horizontalDiagonal",d,true);};
return D;},true);
sap.ui.predefine('sap/gantt/shape/ext/Iconfont',["sap/gantt/shape/Text","sap/ui/core/IconPool"],function(T,I){"use strict";
var a=T.extend("sap.gantt.shape.ext.Iconfont",{metadata:{properties:{name:{type:"string"},collectionName:{type:"string"}}}});
a.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}var n=this.getName(d,r),c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.content;}};
a.prototype.getName=function(d){return this._configFirst("name",d);};
a.prototype.getCollectionName=function(d){return this._configFirst("collectionName",d);};
a.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d);}var n=this.getName(d,r);var c=this.getCollectionName(d,r);if(c===""){c=undefined;}var i=I.getIconInfo(n,c);if(i){return i.fontFamily;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/Pentangle',["sap/gantt/shape/Polygon","sap/gantt/misc/Utility"],function(P,U){"use strict";
var a=P.extend("sap.gantt.shape.ext.Pentangle",{metadata:{properties:{radius:{type:"float",defaultValue:10},radius2:{type:"float",defaultValue:undefined}}}});
a.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_PENTANGLE"));};
a.prototype.getRadius=function(d){return this._configFirst("radius",d,true);};
a.prototype.getRadius2=function(d,r){if(this.mShapeConfig.hasShapeProperty("radius2")){return this._configFirst("radius2",d,true);}var D=this.getProperty("radius2");if(D||D===0){var m=this.mChartInstance.getSapUiSizeClass();return U.scaleBySapUiSize(m,D);}else{return this.calRadius2ByGoldenRatio(this.getRadius(d,r));}};
a.prototype.calRadius2ByGoldenRatio=function(n){return n*Math.cos(2*Math.PI/5)/Math.cos(Math.PI/5);};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var c=this.getRotationCenter(d,r);var n=this.getRadius(d,r);var b=this.getRadius2(d,r);var p=[];if(c&&c.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(b)){p=this._generatePentaclePoints(c,n,b);}return p.join("");};
a.prototype._generatePentaclePoints=function(c,n,b){var p={},d=[],e=Math.PI/5,f=0;for(var i=0;i<10;i++){f=e*i;p.x=this._getPointX(c[0],(i%2==0)?n:b,f);p.y=this._getPointY(c[1],(i%2==0)?n:b,f);d.push(" "+p.x+","+p.y);}return d;};
a.prototype._getPointX=function(n,b,c){return n+(b*Math.sin(c));};
a.prototype._getPointY=function(n,b,c){return n-(b*Math.cos(c));};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/TextRepeat',["sap/gantt/shape/Definitions","sap/ui/core/Core","sap/gantt/misc/Format"],function(D,C,F){"use strict";
var T=D.extend("sap.gantt.shape.ext.TextRepeat",{metadata:{properties:{childTagName:{type:"string",defaultValue:"pattern"},x:{type:"float"},y:{type:"float"},width:{type:"float"},height:{type:"float",defaultValue:15},dx:{type:"string"},dy:{type:"string"},text:{type:"string"},fontSize:{type:"int"},fontFamily:{type:"string"}}}});
T.prototype.getChildTagName=function(d,r){if(this.mShapeConfig.hasShapeProperty("childTagName")){return this._configFirst("childTagName",d);}return'pattern';};
T.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var n;var a=this.getAxisTime();if(C.getConfiguration().getRTL()){n=a.timeToView(F.abapTimestampToDate(this.getEndTime(d,r)));}else{n=a.timeToView(F.abapTimestampToDate(this.getTime(d,r)));}if(!jQuery.isNumeric(n)){return 0;}return n;};
T.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return 0;};
T.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}return 0;};
T.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return 0;};
T.prototype.getDx=function(d,r){if(this.mShapeConfig.hasShapeProperty("dx")){return this._configFirst("dx",d);}return"0";};
T.prototype.getDy=function(d,r){if(this.mShapeConfig.hasShapeProperty("dy")){return this._configFirst("dy",d);}return"0";};
T.prototype.getText=function(d,r){if(this.mShapeConfig.hasShapeProperty("text")){return this._configFirst("text",d);}return"";};
T.prototype.getContent=function(d,r){if(this.mShapeConfig.hasShapeProperty("content")){return this._configFirst("content",d);}var c=this.getChildTagName(d,r);return"<"+c+" id='"+this.getReferenceId(d,r)+"' patternUnits='userSpaceOnUse'"+" width="+this.getWidth(d,r)+" height="+this.getHeight(d,r)+" x="+this.getX(d,r)+" y="+this.getY(d,r)+"><text dx="+this.getDx(d,r)+" dy="+this.getDy(d,r)+" font-size="+this.getFontSize(d,r)+" font-family='"+this.getFontFamily(d,r)+"'>"+this.getText(d,r)+"</text></"+c+">";};
T.prototype.getFontSize=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontSize")){return this._configFirst("fontSize",d,true);}return 12;};
T.prototype.getFontFamily=function(d,r){if(this.mShapeConfig.hasShapeProperty("fontFamily")){return this._configFirst("fontFamily",d,true);}return"";};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/Triangle',["sap/gantt/shape/Path"],function(P){"use strict";
var T=P.extend("sap.gantt.shape.ext.Triangle",{metadata:{properties:{isClosed:{type:"boolean",defaultValue:true},base:{type:"float",defaultValue:10},height:{type:"float",defaultValue:10},distanceOfyAxisHeight:{type:"float",defaultValue:5}}}});
T.prototype.init=function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_TRIANGLE"));};
T.prototype.getD=function(d,r){var D;if(this.mShapeConfig.hasShapeProperty("d")){D=this._configFirst("d",d);}else{var n=this.getBase(d,r);var a=this.getHeight(d,r);var b=this.getDistanceOfyAxisHeight(d,r);var c=this.getHeight(d,r)/2;var C=this.getRotationCenter(d,r);if(C&&C.length===2&&jQuery.isNumeric(n)&&jQuery.isNumeric(a)&&jQuery.isNumeric(b)&&jQuery.isNumeric(c)){D="M "+C.join(" ")+" m 0 "+c+" l -"+b+" 0 l "+b+" -"+a+" l "+Number(n-b)+" "+a+" l -"+Number(n-b)+" 0 z";}}if(this.isValid(D)){return D;}else{jQuery.sap.log.warning("Triangle shape generated invalid d: "+D+" from the given data: "+d);return null;}};
T.prototype.getBase=function(d){return this._configFirst("base",d,true);};
T.prototype.getHeight=function(d){return this._configFirst("height",d,true);};
T.prototype.getDistanceOfyAxisHeight=function(d){return this._configFirst("distanceOfyAxisHeight",d,true);};
return T;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/Relationship',["sap/gantt/shape/Path","sap/ui/core/Core"],function(P,C){"use strict";
var R=P.extend("sap.gantt.shape.ext.rls.Relationship",{metadata:{properties:{htmlClass:{type:"string",defaultValue:"relationshipLine"},category:{type:"string",defaultValue:sap.gantt.shape.ShapeCategory.Relationship},isClosed:{type:"boolean",defaultValue:true},isDuration:{type:"boolean",defaultValue:false},stroke:{type:"string",defaultValue:"#000000"},fill:{type:"string",defaultValue:"#000000"},type:{type:"sap.gantt.shape.ext.rls.RelationshipType",defaultValue:sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish},fromObjectPath:{type:"string"},fromExpandRowIndex:{type:"int",defaultValue:0},fromShapeId:{type:"string"},fromDataId:{type:"string"},toObjectPath:{type:"string"},toExpandRowIndex:{type:"int",defaultValue:0},toShapeId:{type:"string"},toDataId:{type:"string"},showStart:{type:"boolean",defaultValue:false},showEnd:{type:"boolean",defaultValue:true},lShapeforTypeFS:{type:"boolean",defaultValue:true},minXLen:{type:"float",defaultValue:10},arrowSideLength:{type:"float",defaultValue:5}},aggregations:{selectedShape:{type:"sap.gantt.shape.ext.rls.SelectedRelationship",multiple:false}}}});
R.prototype.init=function(){this._isRTL=C.getConfiguration().getRTL();var r=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");this.setProperty("ariaLabel",r.getText("ARIA_RELATIONSHIP"));};
R.prototype.getType=function(d){return this._configFirst("type",d);};
R.prototype.getFromObjectPath=function(d){return this._configFirst("fromObjectPath",d);};
R.prototype.getFromExpandRowIndex=function(d){return d.hasOwnProperty("fromExpandRowIndex")?this._configFirst("fromExpandRowIndex",d):this.getProperty("fromExpandRowIndex");};
R.prototype.getFromShapeId=function(d){return this._configFirst("fromShapeId",d);};
R.prototype.getFromDataId=function(d){return this._configFirst("fromDataId",d);};
R.prototype.getToObjectPath=function(d){return this._configFirst("toObjectPath",d);};
R.prototype.getToExpandRowIndex=function(d){return d.hasOwnProperty("toExpandRowIndex")?this._configFirst("toExpandRowIndex",d):this.getProperty("toExpandRowIndex");};
R.prototype.getToShapeId=function(d){return this._configFirst("toShapeId",d);};
R.prototype.getToDataId=function(d){return this._configFirst("toDataId",d);};
R.prototype.getLShapeforTypeFS=function(d){return this._configFirst("lShapeforTypeFS",d);};
R.prototype.getHtmlClass=function(d){return this._configFirst("htmlClass",d);};
R.prototype.getShowStart=function(d){return this._configFirst("showStart",d);};
R.prototype.getShowEnd=function(d){return this._configFirst("showEnd",d);};
R.prototype.getD=function(d,r){var s=this.getShowEnd(d,r);var a=this.getShowStart(d,r);var x,y,b,c;var t;try{t=window.parseInt(this.getType(d,r));}catch(e){jQuery.sap.log.warning("invalid relationship type");}var l=this.getLShapeforTypeFS(d,r);var f=this.getFromShapeId(d,r.from.objectInfo);var F=this.mChartInstance.getShapeInstance(f);var p=F.getRLSAnchors(r.from.shapeRawData,r.from.objectInfo);var T=this.getToShapeId(d,r.from.objectInfo);var o=this.mChartInstance.getShapeInstance(T);var g=o.getRLSAnchors(r.to.shapeRawData,r.to.objectInfo);if(this._isRTL){if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.startPoint.x;y=p.startPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.startPoint.x;y=p.startPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.endPoint.x;y=p.endPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.endPoint.x;y=p.endPoint.y;b=g.endPoint.x;c=g.endPoint.y;}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){x=p.endPoint.x;y=p.endPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){x=p.endPoint.x;y=p.endPoint.y;b=g.startPoint.x;c=g.startPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){x=p.startPoint.x;y=p.startPoint.y;b=g.endPoint.x;c=g.endPoint.y;}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){x=p.startPoint.x;y=p.startPoint.y;b=g.startPoint.x;c=g.startPoint.y;}var S="";if(a){var h=this._calculateSquareCoordinate(t,x,y);S=S.concat("M").concat(h[0].x).concat(",").concat(h[0].y).concat(" ");var m=h.length;for(var i=1;i<m;i++){S=S.concat("L").concat(h[i].x).concat(",").concat(h[i].y).concat(" ");}}var n=this._calculateLineCoordinate(l,t,x,b,y,c,r.from.objectInfo,g.startPoint.height);S=S.concat("M").concat(n[0].x).concat(",").concat(n[0].y).concat(" ");var q=n.length;for(var j=0;j<q;j++){S=S.concat("L").concat(n[j].x).concat(",").concat(n[j].y).concat(" ");S=S.concat("M").concat(n[j].x).concat(",").concat(n[j].y).concat(" ");}if(s){var u=this._calculateArrowCoordinate(l,t,x,b,y,c,g.startPoint.height);var v=u.length;for(var k=0;k<v;k++){S=S.concat("L").concat(u[k].x).concat(",").concat(u[k].y).concat(" ");}}S=S.concat("Z");if(this.isValid(S)){return S;}else{jQuery.sap.log.warning("Relationship shape generated invalid d: "+S+" from the given data: "+d);return null;}};
R.prototype._calculateSquareCoordinate=function(t,x,y){var s=[];if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(this._isRTL){s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}else{s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}}else if(this._isRTL){s=[x-1,y-2,x-1+3,y-2,x-1+3,y+1.5,x-1,y+1.5,x-1,y-2];}else{s=[x,y-2,x-3,y-2,x-3,y+1.5,x,y+1.5,x,y-2];}var o=[];var a=s.length;for(var i=0;i<a;){o[o.length]={"x":s[i++],"y":s[i++]};}return o;};
R.prototype._calculateLineCoordinate=function(l,t,x,a,y,b,f,s){var d=[];var r,c;if(y===b){d=d.concat([x,y,a,b]);}else{var k=this.getMinXLen();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish){if(this._isRTL){d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}else{d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToStart){if(l){if(this._isRTL){if(x>=a){if(y<b){b=b-s/2-2;}else{b=b+s/2+2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x<=a){if(y<b){b=b-s/2-2;}else{b=b+s/2+2;}d=d.concat([x,y,a,y,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(this._isRTL){if(x-k>a){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(x+k<=a){if(this.getShowEnd()){var e=this.getArrowSideLength();k=(x+k+e>a)?Math.abs(k-e):k;}d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y-f.rowHeight;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){if(x<a-k){d=d.concat([x,y,x+k,y,x+k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x+k,y,x+k,c,a-k,c,a-k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x+k,y,x+k,r,a-k,r,a-k,b,a,b]);}}else if(x>=a+k){d=d.concat([x,y,x-k,y,x-k,b,a,b]);}else if(y<b){c=f.y+f.rowHeight;d=d.concat([x,y,x-k,y,x-k,c,a+k,c,a+k,b,a,b]);}else if(y>b){r=f.y;d=d.concat([x,y,x-k,y,x-k,r,a+k,r,a+k,b,a,b]);}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){d=d.concat([x,y,Math.max(x,a)+k,y,Math.max(x,a)+k,b,a,b]);}else{d=d.concat([x,y,Math.min(x,a)-k,y,Math.min(x,a)-k,b,a,b]);}}}var o=[];var g=d.length;for(var i=0;i<g;){o[o.length]={"x":d[i++],"y":d[i++]};}return o;};
R.prototype._calculateArrowCoordinate=function(l,t,x,a,y,b,s){var c=[];var d=this.getArrowSideLength();if(t===sap.gantt.shape.ext.rls.RelationshipType.FinishToFinish||t===sap.gantt.shape.ext.rls.RelationshipType.StartToFinish){if(this._isRTL){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(t===sap.gantt.shape.ext.rls.RelationshipType.StartToStart){if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(l){if(this._isRTL){if(x>=a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a+d/2,b-d*Math.pow(3,1/2)/2,a-d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a+d/2,b+d*Math.pow(3,1/2)/2,a-d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}}else if(x<=a){if(y<b){b=b-s/2-1;}else if(y>b){b=b+s/2+1;}else{}if(y<b){c=[a-d/2,b-d*Math.pow(3,1/2)/2,a+d/2,b-d*Math.pow(3,1/2)/2];}else if(y==b){c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d/2,b+d*Math.pow(3,1/2)/2,a+d/2,b+d*Math.pow(3,1/2)/2];}}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}}else if(this._isRTL){c=[a+d*Math.pow(3,1/2)/2,b-d/2,a+d*Math.pow(3,1/2)/2,b+d/2];}else{c=[a-d*Math.pow(3,1/2)/2,b-d/2,a-d*Math.pow(3,1/2)/2,b+d/2];}var o=[];var e=c.length;for(var i=0;i<e;){o[o.length]={"x":c[i++],"y":c[i++]};}return o;};
return R;},true);
sap.ui.predefine('sap/gantt/shape/ext/rls/SelectedRelationship',["sap/gantt/shape/ext/rls/Relationship"],function(R){"use strict";
var S=R.extend("sap.gantt.shape.ext.rls.SelectedRelationship",{metadata:{properties:{stroke:{type:"string"},strokeWidth:{type:"int"}}}});
S.prototype.getStroke=function(d){return"red";};
S.prototype.getFill=function(d){return"red";};
S.prototype.getStrokeWidth=function(d){return 2;};
return S;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcBorderPath',["sap/gantt/misc/Format","sap/gantt/shape/Path"],function(F,P){"use strict";
var U=P.extend("sap.gantt.shape.ext.ubc.UbcBorderPath",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.getD=function(d,r){var p="";if(this.mShapeConfig.hasShapeProperty("d")){p=this._configFirst("d",d);}else{var a=d.drawData?d.drawData:d.period;if(a.length>0){var m=this._getMaxTotalRevised(d);var b=this._getMaxY(d,r);var c=r.rowHeight-1;var A=this.getAxisTime();for(var i=0;i<a.length;i++){var x,e,y,f;x=A.timeToView(F.abapTimestampToDate(a[i].start_date)).toFixed(1);if(i<a.length-1){e=A.timeToView(F.abapTimestampToDate(a[i+1].start_date)).toFixed(1);}else{e=A.timeToView(F.abapTimestampToDate(a[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(e)){x=A.timeToView(0).toFixed(1);}y=b-a[i].demand/m*c;y=y.toFixed(1);if(y<r.y){y=r.y;}if(i<a.length-1){f=b-a[i+1].demand/m*c;}else{e=A.timeToView(F.abapTimestampToDate(a[i].start_date)).toFixed(1);f=b-a[i].demand/m*c;}f=f.toFixed(1);if(f<r.y){f=r.y;}p+=" M "+x+" "+y+"L"+e+" "+y;p+=" M "+e+" "+y+"L"+e+" "+f;}}}if(this.isValid(p)){return p;}else{jQuery.sap.log.warning("UbcBorderPath shape generated invalid d: "+p+" from the given data: "+d);return null;}};
U.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"blue";};
U.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
U.prototype._getMaxY=function(d,r){var t=r.y;var a=r.rowHeight-1;var m=t+a;return m;};
U.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var a=m+this._getmaxExceedCap(d);return a;};
U.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
U.prototype._getmaxExceedCap=function(d){var m=this._getMaxTotal(d);var a=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){a=this._configFirst("maxExceedCapacity",d);}return m*a/100;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcOverCapacityZonePolygon',["sap/gantt/shape/ext/ubc/UbcPolygon"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcOverCapacityZonePolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var v=this.getShapeViewBoundary();if(v){o=v[0]+","+r.y+" "+(v[1]-v[0])+","+r.y+" "+(v[1]-v[0])+","+(r.y+r.rowHeight)+" "+v[0]+","+(r.y+r.rowHeight);return o;}};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcPolygon',["sap/gantt/shape/Polygon"],function(P){"use strict";
var U=P.extend("sap.gantt.shape.ext.ubc.UbcPolygon",{metadata:{"abstract":true}});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype._getMaxY=function(d,r){var t=r.y;var a=r.rowHeight-1;var m=t+a;return m;};
U.prototype._getMaxTotal=function(d){var m=Math.max.apply(Math,d.period.map(function(o){return o.supply;}));if(m<=0){m=1;}return m;};
U.prototype._getmaxExceedCap=function(d,t){var m;if(t){m=t;}else{m=this._getMaxTotal(d);}var a=25;if(this.mShapeConfig.hasShapeProperty("maxExceedCapacity")){a=this._configFirst("maxExceedCapacity",d);}return m*a/100;};
U.prototype._getMaxTotalRevised=function(d){var m=this._getMaxTotal(d);var a=this._getmaxExceedCap(d,m)+m;return a;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcShortageCapacityPolygon',["sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(F,U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcShortageCapacityPolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0.3;};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var t=r.y;var b=this._getMaxTotalRevised(d);var c=r.rowHeight-1;var e=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<e.length;i++){var p=e[i];var x,f;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<e.length-1){f=A.timeToView(F.abapTimestampToDate(e[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(e[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){f=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var g=m;if(p.demand>p.supply){if(p.demand/b>1){g=t;}else{g=m-p.demand/b*c;}}g=g.toFixed(1);o+=x+","+g+" ";o+=f+","+g+" ";if(i===e.length-1){o+=x+","+g+" ";o+=x+","+m+" ";}}return o;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcTooltipRectangle',["sap/gantt/misc/Format","sap/gantt/shape/Rectangle"],function(F,R){"use strict";
var U=R.extend("sap.gantt.shape.ext.ubc.UbcTooltipRectangle",{});
U.prototype.init=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.gantt");};
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var a=this.getAxisTime();var x=a.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);if(!jQuery.isNumeric(x)){x=this.axisTime.timeToView(0).toFixed(1);}return x;};
U.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
U.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var w,s,e;var a=this.getAxisTime();s=a.timeToView(F.abapTimestampToDate(d.start_date)).toFixed(1);e=a.timeToView(F.abapTimestampToDate(d.end_date)).toFixed(1);if(!jQuery.isNumeric(s)){s=this.axisTime.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(e)){e=this.axisTime.timeToView(0).toFixed(1);}w=(e-s>0)?(e-s):(s-e);if((w===0)||!jQuery.isNumeric(w)){w=1;}return w;};
U.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight-1;};
U.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
U.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
U.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var a=this._oRb.getText("TLTP_CAPACITY",[d.supply,d.demand]);if(d.demand>d.supply){a+=this._oRb.getText("TLTP_OVER_CAPACITY",[d.demand-d.supply]);}return a;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUnderCapacityZonePolygon',["sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(F,U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcUnderCapacityZonePolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#40d44c";};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var o="";var m=this._getMaxY(d,r);var b=this._getMaxTotalRevised(d);var c=r.rowHeight-1;var e=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<e.length;i++){var p=e[i];var x,f;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<e.length-1){f=A.timeToView(F.abapTimestampToDate(e[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(e[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){f=A.timeToView(0).toFixed(1);}if(i===0){o+=x+","+m+" ";}var g=m-p.supply/b*c;g=g.toFixed(1);o+=x+","+g+" ";o+=f+","+g+" ";if(i===e.length-1){o+=x+","+g+" ";o+=x+","+m+" ";}}return o;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UbcUsedPolygon',["sap/gantt/misc/Format","sap/gantt/shape/ext/ubc/UbcPolygon"],function(F,U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ubc.UbcUsedPolygon",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#CAC7BA";};
a.prototype.getPoints=function(d,r){if(this.mShapeConfig.hasShapeProperty("points")){return this._configFirst("points",d);}var u="";var m=this._getMaxY(d,r);var b=this._getMaxTotalRevised(d);var c=r.rowHeight-1;var e=d.drawData?d.drawData:d.period;var A=this.getAxisTime();for(var i=0;i<e.length;i++){var p=e[i];var x,f;var g;x=A.timeToView(F.abapTimestampToDate(p.start_date)).toFixed(1);if(i<e.length-1){f=A.timeToView(F.abapTimestampToDate(e[i+1].start_date)).toFixed(1);}else{f=A.timeToView(F.abapTimestampToDate(e[i].start_date)).toFixed(1);}if(!jQuery.isNumeric(x)){x=A.timeToView(0).toFixed(1);}if(!jQuery.isNumeric(f)){f=A.timeToView(0).toFixed(1);}if(i===0){u+=x+","+m+" ";}if(p.demand>=p.supply){g=m-p.supply/b*c;}else{g=m-p.demand/b*c;}g=g.toFixed(1);u+=x+","+g+" ";u+=f+","+g+" ";if(i===e.length-1){u+=x+","+g+" ";u+=x+","+m+" ";}}return u;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ubc/UtilizationBarChart',["sap/gantt/shape/Group","sap/gantt/misc/Format"],function(G,F){"use strict";
var U=G.extend("sap.gantt.shape.ext.ubc.UtilizationBarChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
U.prototype.filterValidData=function(d){if(!d){return[];}var f=[];for(var i=0;i<d.length;i++){var a=this.getIsBulk(d[i]);var A=this.getArrayAttribute(d[i]);var t=this.getTimeFilterAttribute(d[i]);var e=this.getEndTimeFilterAttribute(d[i]);var T=this.mChartInstance._oStatusSet.aTimeBoundary;var o=jQuery.extend(true,{},d[i]);if(a&&A&&t&&e){var s=null;var b=null;var S=this.getShapes();var c=[];for(var j=0;j<S.length;j++){var g=S[j].mShapeConfig.getShapeDataName();if(g&&(jQuery.inArray(g,c)==-1)){c.push(g);}}for(var h in o){if((jQuery.type(o[h])=="object")&&o[h][A]&&o[h][A].length>0){s=this._binarySearchElement(T[0],o[h][A],t,e);b=this._binarySearchElement(T[1],o[h][A],t,e,s);if(s!==null&&b!==null&&s<=b){s=s>=1?s-1:s;o[h].drawData=o[h][A].slice(s,b+2);for(var k=0;k<c.length;k++){if(h!==c[k]&&(jQuery.type(o[c[k]])=="array")&&o[c[k]].length>0){o[c[k]]=o[c[k]].slice(s,b+1);}}}break;}}}f.push(o);}return f;};
U.prototype._binarySearchElement=function(v,a,t,e,l){var b=0;var h=a.length-1;if(l&&l<h){b=l;}var m;while(b<=h){m=Math.floor((b+h)/2);var s=F.abapTimestampToDate(a[m][t]);var c=F.abapTimestampToDate(a[m][e]);if(!c){c=s;}if(s<=v&&v<=c){return m;}else if(c<v){b=m+1;}else if(s>v){h=m-1;}}return m;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcBorderPath',["sap/gantt/shape/Path","sap/gantt/misc/Format"],function(P,F){"use strict";
var U=P.extend("sap.gantt.shape.ext.ulc.UlcBorderPath",{});
U.prototype.getD=function(d,r){var a="";if(this.mShapeConfig.hasShapeProperty("d")){a=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var b=A.timeToView(F.abapTimestampToDate(d.values[i].to));var c=d.values[i].value;if(isNaN(c)){c=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(c>(100+m)){c=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(c/(100+m));var l=r.y+r.rowHeight;a=a+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+b+" "+y+(d.values[i].lastOne?" L "+b+" "+l:"");}}}if(this.isValid(a)){return a;}else{jQuery.sap.log.warning("UlcBorderPath shape generated invalid d: "+a+" from the given data: "+d);return null;}};
U.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);return u[d.dimension].color;}};
U.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipPath',["sap/gantt/shape/ClipPath"],function(C){"use strict";
var U=C.extend("sap.gantt.shape.ext.ulc.UlcClipPath",{});
U.prototype.getHtmlClass=function(d,r){if(this.mShapeConfig.hasShapeProperty("htmlClass")){return this._configFirst("htmlClass",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return n+"_"+d.id+"_"+d.dimension;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcClipingPath',["sap/gantt/shape/Path","sap/gantt/misc/Format"],function(P,F){"use strict";
var U=P.extend("sap.gantt.shape.ext.ulc.UlcClipingPath",{});
U.prototype.getD=function(d,r){var a="";if(this.mShapeConfig.hasShapeProperty("d")){a=this._configFirst("d",d);}else{if(d.values){for(var i=0;i<d.values.length;i++){var A=this.getAxisTime();var x=A.timeToView(F.abapTimestampToDate(d.values[i].from));var b=A.timeToView(F.abapTimestampToDate(d.values[i].to));var c=d.values[i].value;if(isNaN(c)){c=0;}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}if(c>(100+m)){c=100+m;}var y=r.y+r.rowHeight-r.rowHeight*(c/(100+m));var l=r.y+r.rowHeight;a=a+(d.values[i].firstOne?" M "+x+" "+l:"")+" L "+x+" "+y+" L "+b+" "+y+(d.values[i].lastOne?" L "+b+" "+l:"");}}}if(this.isValid(a)){return a;}else{jQuery.sap.log.warning("UlcClipingPath shape generated invalid d: "+a+" from the given data: "+d);return null;}};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcDimension',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UlcDimension",{});
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcMiddleLine',["sap/gantt/shape/Line"],function(L){"use strict";
var U=L.extend("sap.gantt.shape.ext.ulc.UlcMiddleLine",{});
U.prototype.getX1=function(d,r){if(this.mShapeConfig.hasShapeProperty("x1")){return this._configFirst("x1",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[0];}return 0;};
U.prototype.getY1=function(d,r){if(this.mShapeConfig.hasShapeProperty("y1")){return this._configFirst("y1",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*(50+m)/(100+m);};
U.prototype.getX2=function(d,r){if(this.mShapeConfig.hasShapeProperty("x2")){return this._configFirst("x2",d);}var v=this.mChartInstance._oStatusSet?this.mChartInstance._oStatusSet.aViewBoundary:[];if(v.length>0){return v[1];}return 0;};
U.prototype.getY2=function(d,r){if(this.mShapeConfig.hasShapeProperty("y2")){return this._configFirst("y2",d);}return this.getY1(d,r);};
U.prototype.getStrokeDasharray=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeDasharray")){return this._configFirst("strokeDasharray",d);}return"5,5";};
U.prototype.getStroke=function(d){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
U.prototype.getStrokeWidth=function(d){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 1;};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverCapacityZoneRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverCapacityZoneRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}var c,p;if(this.mShapeConfig.hasShapeProperty("backgroundColor")){c=this._configFirst("backgroundColor",d);}if(this.mShapeConfig.hasShapeProperty("pattern")){p=this._configFirst("pattern",d);}var P;if(c&&p){P="pattern_"+p+"_"+(c.indexOf("#")==0?c.substring(1,c.length):c);}if(P&&sap.ui.getCore().byId(P)){return sap.ui.getCore().byId(P).getRefString();}return"#F6F6F6";};
a.prototype.getStroke=function(d,r){if(this.mShapeConfig.hasShapeProperty("stroke")){return this._configFirst("stroke",d);}return"#CAC7BA";};
a.prototype.getStrokeWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeWidth")){return this._configFirst("strokeWidth",d);}return 0;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcOverClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcOverClipRectangle",{});
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#FF0000";};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcRectangle',["sap/gantt/shape/Rectangle"],function(R){"use strict";
var U=R.extend("sap.gantt.shape.ext.ulc.UlcRectangle",{metadata:{"abstract":true}});
U.prototype.getFill=function(){return R.prototype.getFill.apply(this,arguments)||"transparent";};
U.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var v=this.getShapeViewBoundary();if(v){return v[0];}return 0;};
U.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}return r.y;};
U.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var v=this.getShapeViewBoundary();if(v){return v[1]-v[0];}return 0;};
U.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight*m/(100+m);};
return U;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcTooltipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle","sap/gantt/misc/Format","sap/ui/core/Core"],function(U,F,C){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcTooltipRectangle",{});
a.prototype.getTitle=function(d,r){if(this.mShapeConfig.hasShapeProperty("title")){return this._configFirst("title",d);}var b="";var u;if(this.mShapeConfig.hasShapeProperty("utilizationCurves")){u=this._configFirst("utilizationCurves",d);}if(d){for(var c in u){if(d[u[c].ratioAttribute]||d[u[c].ratioAttribute]===0){if(d[u[c].ratioAttribute].previous!==undefined){b+=u[c].name+"\t"+d[u[c].ratioAttribute].previous+"-"+d[u[c].ratioAttribute].next+"%"+"\n";}else{b+=u[c].name+"\t"+d[u[c].ratioAttribute].value+"%"+"\n";}}}}return b;};
a.prototype.getX=function(d,r){if(this.mShapeConfig.hasShapeProperty("x")){return this._configFirst("x",d);}var A=this.getAxisTime();if(C.getConfiguration().getRTL()){return A.timeToView(F.abapTimestampToDate(d.to));}else{return A.timeToView(F.abapTimestampToDate(d.from));}};
a.prototype.getWidth=function(d,r){if(this.mShapeConfig.hasShapeProperty("width")){return this._configFirst("width",d);}var A=this.getAxisTime();if(C.getConfiguration().getRTL()){return Math.abs(A.timeToView(F.abapTimestampToDate(d.from))-A.timeToView(F.abapTimestampToDate(d.to)));}else{return Math.abs(A.timeToView(F.abapTimestampToDate(d.to))-A.timeToView(F.abapTimestampToDate(d.from)));}};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}return r.rowHeight;};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0;};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UlcUnderClipRectangle',["sap/gantt/shape/ext/ulc/UlcRectangle"],function(U){"use strict";
var a=U.extend("sap.gantt.shape.ext.ulc.UlcUnderClipRectangle",{});
a.prototype.getY=function(d,r){if(this.mShapeConfig.hasShapeProperty("y")){return this._configFirst("y",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.y+r.rowHeight*m/(100+m);};
a.prototype.getHeight=function(d,r){if(this.mShapeConfig.hasShapeProperty("height")){return this._configFirst("height",d);}var m=25;if(this.mShapeConfig.hasShapeProperty("maxVisibleRatio")){m=this._configFirst("maxVisibleRatio",d);}return r.rowHeight-r.rowHeight*m/(100+m);};
a.prototype.getFill=function(d,r){if(this.mShapeConfig.hasShapeProperty("fill")){return this._configFirst("fill",d);}return"#F2F2F2";};
a.prototype.getStrokeOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("strokeOpacity")){return this._configFirst("strokeOpacity",d);}return 0.3;};
a.prototype.getFillOpacity=function(d,r){if(this.mShapeConfig.hasShapeProperty("fillOpacity")){return this._configFirst("fillOpacity",d);}return 0.3;};
a.prototype.getClipPath=function(d,r){if(this.mShapeConfig.hasShapeProperty("clipPath")){return this._configFirst("clipPath",d);}var u=r.uid;var p=new RegExp("\\[|\\]|:|\\|","g");var n=u.replace(p,"_");return"url(#"+n+"_"+d.id+"_"+d.dimension+")";};
return a;},true);
sap.ui.predefine('sap/gantt/shape/ext/ulc/UtilizationLineChart',["sap/gantt/shape/Group"],function(G){"use strict";
var U=G.extend("sap.gantt.shape.ext.ulc.UtilizationLineChart",{});
U.prototype.getEnableSelection=function(d,r){if(this.mShapeConfig.hasShapeProperty("enableSelection")){return this._configFirst("enableSelection",d);}return false;};
return U;},true);
sap.ui.predefine('sap/gantt/simple/AggregationUtils',["jquery.sap.global"],function(q){"use strict";var i=function(o,t){if(!o||!t){return false;}return o.isA(t);};var A={isParentRowSetting:function(s){return s.getParent().isA("sap.gantt.simple.GanttRowSettings");},getParentControlOf:function(c,e){if(i(e,c)){return e;}var p=e.getParent(),C;while(p&&i(p,c)===false){p=p.getParent();}C=p;return C;},isLazyAggregation:function(e){var p=e.getParent();if(!p){return false;}var a=p.getMetadata().getAggregation(e.sParentAggregationName);return this._hasLazyConfiguration(a);},isLazy:function(e,n){return Object.keys(this.getLazyAggregations(e)).indexOf(n)!==-1;},getLazyAggregations:function(e){return this._filterAggregationBy(e,function(a){return A._hasLazyConfiguration(a);});},getLazyElementsByScheme:function(e,s){var a=this.getLazyAggregations(e);var c=[];Object.keys(a).forEach(function(n){var C=e.getAggregation(n);if(C&&!q.isArray(C)){C=[C];}if(C&&C.length>0&&C[0].getScheme()===s){c.push(C);}});return[].concat.apply([],c);},_hasLazyConfiguration:function(a){return a.appData&&a.appData.sapGanttLazy===true;},getNonLazyAggregations:function(e){return this._filterAggregationBy(e,function(a){return a.appData===null||!a.appData.sapGanttLazy;});},_filterAggregationBy:function(e,c){var m=e.getMetadata(),a=m.getAggregations();var r={};for(var n in a){if(a.hasOwnProperty(n)){var o=a[n];if(c(o)){r[n]=o;}}}return r;},eachNonLazyAggregation:function(e,c){var m=this.getNonLazyAggregations(e);var k=Object.keys(m).sort(function(a,b){var o=m[a].appData?(m[a].appData.sapGanttOrder||0):0;var d=m[b].appData?(m[b].appData.sapGanttOrder||0):0;return o-d;});k.forEach(function(n){var a=m[n];var C=e[a._sGetter]();if(q.isArray(C)){C.forEach(function(o){c(o);});}else if(C){c(C);}});}};return A;},true);
sap.ui.predefine('sap/gantt/simple/BaseCalendar',["sap/gantt/simple/BaseRectangle"],function(B){"use strict";
var a=B.extend("sap.gantt.simple.BaseCalendar",{metadata:{properties:{calendarName:{type:"string"}}}});
a.prototype.applySettings=function(s,S){s=s||{};s.height=s.height||"inherit";B.prototype.applySettings.call(this,s,S);};
a.prototype.getX=function(){return 0;};
a.prototype.getSelectable=function(){return false;};
a.prototype.getWidth=function(){return this.getGanttChartBase().iGanttRenderedWidth;};
a.prototype.getFill=function(){var c=this.getCalendarName();var p=this.getGanttChartBase().getCalendarDef();if(p){return p.getRefString(c);}else{return this.getProperty("fill");}};
a.prototype.isVisible=function(){return true;};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseChevron',["sap/ui/core/Core","./BaseRectangle","./TitlePropagator","./BasePath"],function(C,B,T,a){"use strict";
var b=B.extend("sap.gantt.simple.BaseChevron",{metadata:{properties:{headWidth:{type:"sap.gantt.SVGLength",defaultValue:10},tailWidth:{type:"sap.gantt.SVGLength",defaultValue:10}}}});
T.call(b.prototype,false);
b.prototype.getD=function(){var r=C.getConfiguration().getRTL();var c=this.getHeadWidth(),t=this.getTailWidth();var x=this.getX(),w=this.getWidth(),h=this.getHeight(),y=this.getRowYCenter();var d=function(){var R="";for(var i=0;i<arguments.length;i++){R+=arguments[i]+" ";}return R;};if(!r){if(w-c<0){return d("M",x+w/2,y,"l",-w/2,-h/2,"h",w/2,"l",w/2,h/2,"l",-w/2,h/2,"h",-w/2)+"Z";}return d("M",x+t,y,"l",-t,-h/2,"h",w-c,"l",c,h/2,"l",-c,h/2,"h",c-w)+"Z";}else{if(w-c<0){return d("M",x,y,"l",w/2,-h/2,"h",w/2,"l",-w/2,h/2,"l",w/2,h/2,"h",-w/2)+"Z";}return d("M",x,y,"l",c,-h/2,"h",w-c,"l",-t,h/2,"l",t,h/2,"h",c-w)+"Z";}};
b.prototype.renderElement=function(){if(this._isValid()){a.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseConditionalShape',["./BaseShape"],function(B){"use strict";var P=["rowYCenter","shapeUid","selected"];
var a=B.extend("sap.gantt.simple.BaseConditionalShape",{metadata:{properties:{activeShape:{type:"int",defaultValue:0}},aggregations:{shapes:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape",sapGanttLazy:true}}}});
a.prototype.renderElement=function(r,e){var A=e.getActiveShape(),s=e.getShapes();if(A>=0&&A<s.length){var S=s[A];S._iBaseRowHeight=e._iBaseRowHeight;S.renderElement(r,S);}};
a.prototype.setProperty=function(p,v,s){B.prototype.setProperty.apply(this,arguments);if(P.indexOf(p)>=0){this.getShapes().forEach(function(S){S.setProperty(p,v,s);});}if(p==="shapeId"){this.getShapes().forEach(function(S){var b=S.getShapeId();if(!b){S.setProperty(p,v,s);}});}};
return a;});
sap.ui.predefine('sap/gantt/simple/BaseCursor',["./BaseRectangle","./BasePath","./RenderUtils"],function(B,a,R){"use strict";
var b=B.extend("sap.gantt.simple.BaseCursor",{metadata:{properties:{length:{type:"float",defaultValue:10},width:{type:"float",defaultValue:5},pointHeight:{type:"float",defaultValue:5}}}});
b.prototype.getD=function(){var d;var n=this.getPointHeight();var c=this.getWidth();var e=this.getLength();var f=e/2;var C=this._getCenter();if(this._isPropertiesValid(n,c,e,f)){d=["M ",C.join(" ")," m ",-f," ",-(c+n)/2," l ",e," 0 l 0 ",c," l -",f," ",n," l -",f," -",n," z"].join("");}if(R.isValidD(d)){return d;}else{jQuery.sap.log.warning("Cursor shape generated invalid d: "+d);return null;}};
b.prototype._getCenter=function(){var n=B.prototype.getX.apply(this,arguments);var c=this.getRowYCenter();return[n,c];};
b.prototype._isPropertiesValid=function(n,c,d,e){return jQuery.isNumeric(n)&&jQuery.isNumeric(c)&&jQuery.isNumeric(d)&&jQuery.isNumeric(e);};
b.prototype.renderElement=function(){if(this._isValid()){a.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseDiamond',["./BaseRectangle","./BasePath"],function(B,a){"use strict";
var b=B.extend("sap.gantt.simple.BaseDiamond",{metadata:{properties:{width:{type:"sap.gantt.SVGLength",defaultValue:"auto"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"}}}});
b.prototype.getD=function(){var x=this.getX(),w=this.getWidth(),h=this.getHeight(),y=this.getRowYCenter();var c=function(){var r="";for(var i=0;i<arguments.length;i++){r+=arguments[i]+" ";}return r;};return c("M",x,y-h/2,"l",w/2,h/2,"l",-w/2,h/2,"l",-w/2,-h/2)+"Z";};
b.prototype.getWidth=function(){var w=this.getProperty("width");if(w==="auto"){return parseFloat(this._iBaseRowHeight*0.625,10);}if(w==="inherit"){return this._iBaseRowHeight;}return w;};
b.prototype.renderElement=a.prototype.renderElement;
b.prototype.getShapeAnchors=function(){return{head:{x:this.getX()-this.getWidth()/2,y:this.getRowYCenter(),dx:this.getWidth()/2,dy:this.getHeight()/2},tail:{x:this.getX()+this.getWidth()/2,y:this.getRowYCenter(),dx:this.getWidth()/2,dy:this.getHeight()/2}};};
b.prototype.renderElement=function(){if(this._isValid()){a.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseGroup',["./BaseShape","./AggregationUtils","./RenderUtils"],function(B,A,R){"use strict";
var a=B.extend("sap.gantt.simple.BaseGroup",{metadata:{aggregations:{shapes:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape"}}}});
var m=["filter","opacity","transform"];
a.prototype.renderElement=function(r,g){r.write("<g");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,g,m);r.write(">");R.renderTooltip(r,g);this.renderChildElements(r,g);r.write("</g>");B.prototype.renderElement.apply(this,arguments);};
a.prototype.renderChildElements=function(r,g){this._eachChildOfGroup(g,function(c){if(c.renderElement){c.setProperty("childElement",true,true);c.setProperty("rowYCenter",g.getRowYCenter(),true);c._iBaseRowHeight=g._iBaseRowHeight;c.renderElement(r,c);}});};
a.prototype._eachChildOfGroup=function(g,c){A.eachNonLazyAggregation(g,c);};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseImage',["./BaseText","./BaseRectangle","./RenderUtils","sap/ui/core/IconPool","sap/ui/core/Core"],function(B,a,R,I,C){"use strict";
var b=B.extend("sap.gantt.simple.BaseImage",{metadata:{properties:{src:{type:"sap.ui.core.URI",defaultValue:null},width:{type:"sap.gantt.SVGLength",defaultValue:20},height:{type:"sap.gantt.SVGLength",defaultValue:20}}}});
var i=["x","y","width","height"];var c={IconFont:"iconFont",Image:"bitImage"};
b.prototype._needToRenderAs=function(){return I.isIconURI(this.getSrc())?c.IconFont:c.Image;};
b.prototype.getText=function(){if(this._needToRenderAs()===c.IconFont){var o=I.getIconInfo(this.getSrc());if(o){return o.content;}}else{jQuery.sap.log.error("\"getText\" can not be invoked since it's not a icon font!",this);}};
b.prototype.getFontFamily=function(){if(this._needToRenderAs()===c.IconFont){var o=I.getIconInfo(this.getSrc());if(o){return o.fontFamily;}}else{jQuery.sap.log.error("\"getFontFamily\" can not be invoked since it's not a icon font!",this);}};
b.prototype.getFontSize=function(){if(this._needToRenderAs()===c.IconFont){return parseFloat(this.getHeight());}else{jQuery.sap.log.error("\"getFontSize\" can not be invoked since it's not a icon font!",this);}};
b.prototype.getX=function(){var r=C.getConfiguration().getRTL();if(this._needToRenderAs()===c.Image){if(r){return a.prototype.getX.apply(this)-this.getWidth();}return a.prototype.getX.apply(this);}else if(this._needToRenderAs()===c.IconFont){return B.prototype.getX.apply(this);}};
b.prototype.getY=function(){if(this._needToRenderAs()===c.Image){return a.prototype.getY.apply(this);}else if(this._needToRenderAs()===c.IconFont){return B.prototype.getY.apply(this);}};
b.prototype.renderElement=function(r,e){if(this._needToRenderAs()===c.Image){r.write("<image");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,i);r.writeAttribute("xlink:href",this.getProperty("src"));r.write(">");R.renderTooltip(r,e);r.write("</image>");}else if(this._needToRenderAs()===c.IconFont){B.prototype.renderElement.apply(this,arguments);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BaseLine',["./BaseShape","./BaseRectangle","./RenderUtils"],function(B,a,R){"use strict";
var b=B.extend("sap.gantt.simple.BaseLine",{metadata:{properties:{x1:{type:"sap.gantt.SVGLength",defaultValue:0},y1:{type:"sap.gantt.SVGLength",defaultValue:0},x2:{type:"sap.gantt.SVGLength",defaultValue:0},y2:{type:"sap.gantt.SVGLength",defaultValue:0}}}});
b.prototype.applySettings=function(s,S){B.prototype.applySettings.apply(this,arguments);this.oDelegator=new a({},S);};
var A=["x1","y1","x2","y2","stroke","stroke-width","transform","style"];
b.prototype.getX1=function(){var v=this.getProperty("x1");if(v||v===0){return v;}return this.oDelegator.getX();};
b.prototype.getY1=function(){var v=this.getProperty("y1");if(v||v===0){return v;}return this.oDelegator.getRowYCenter();};
b.prototype.getX2=function(){var v=this.getProperty("x2");if(v||v===0){return v;}var w=this.oDelegator.getWidth();return this.getX1()+w;};
b.prototype.getY2=function(){var v=this.getProperty("y2");if(v||v===0){return v;}return this.getY1();};
b.prototype.getStyle=function(){var i=B.prototype.getStyle.apply(this,arguments);var s={"stroke-dasharray":this.getStrokeDasharray(),"fill-opacity":this.getFillOpacity(),"stroke-opacity":this.getStrokeOpacity()};return i+this.getInlineStyle(s);};
b.prototype.renderElement=function(r,e){r.write("<line");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,A);r.write(">");R.renderTooltip(r,e);r.write("</line>");B.prototype.renderElement.apply(this,arguments);};
return b;},true);
sap.ui.predefine('sap/gantt/simple/BasePath',["./BaseShape","./RenderUtils"],function(B,R){"use strict";
var a=B.extend("sap.gantt.simple.BasePath",{metadata:{properties:{d:{type:"string"}}}});
var A=["d","fill","stroke-dasharray","transform","style"];
a.prototype.renderElement=function(r,e){r.write("<path");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,A);r.writeAttribute("shape-rendering","crispedges");r.write(">");R.renderTooltip(r,e);r.write("</path>");R.renderElementTitle(r,e);};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseRectangle',["./TitlePropagator","./BaseShape","./RenderUtils","./GanttUtils","../misc/Format"],function(T,B,R,G,F){"use strict";
var a=B.extend("sap.gantt.simple.BaseRectangle",{metadata:{properties:{x:{type:"sap.gantt.SVGLength"},y:{type:"sap.gantt.SVGLength"},width:{type:"sap.gantt.SVGLength"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"},rx:{type:"sap.gantt.SVGLength",group:"Appearance",defaultValue:0},ry:{type:"sap.gantt.SVGLength",group:"Appearance",defaultValue:0}}}});
var A=["x","y","width","height","style","rx","ry","filter","opacity","transform"];T.call(a.prototype,true);
a.prototype.getX=function(){return G.getValueX(this);};
a.prototype.getY=function(){var y=this.getProperty("y");if(y===null||y===undefined){y=this.getRowYCenter()-(this.getHeight()/2);}return y;};
a.prototype.getWidth=function(){var w=this.getProperty("width");if(w!==null&&w!==undefined){return w;}var o=this.getAxisTime();if(o==null){return 0;}var n,s=o.timeToView(F.abapTimestampToDate(this.getTime())),e=o.timeToView(F.abapTimestampToDate(this.getEndTime()));if(!jQuery.isNumeric(s)||!jQuery.isNumeric(e)){return 0;}n=Math.abs(e-s);n=n<=0?1:n;return n;};
a.prototype.getHeight=function(){var h=this.getProperty("height");if(h==="auto"){return parseFloat(this._iBaseRowHeight*0.625,10);}if(h==="inherit"){return this._iBaseRowHeight;}return h;};
a.prototype.getStyle=function(){var i=B.prototype.getStyle.apply(this,arguments);var s={"fill":this.determineValueColor(this.getFill()),"stroke-dasharray":this.getStrokeDasharray(),"fill-opacity":this.getFillOpacity(),"stroke-opacity":this.getStrokeOpacity()};return i+this.getInlineStyle(s);};
a.prototype._isValid=function(){var x=this.getX();return x!==undefined&&x!==null;};
a.prototype.renderElement=function(r,e){if(!this._isValid()){return;}r.write("<rect");this.writeElementData(r);r.writeClasses(this);R.renderAttributes(r,e,A);r.write(">");R.renderTooltip(r,e);r.write("</rect>");if(this.getShowTitle()){R.renderElementTitle(r,e);}B.prototype.renderElement.apply(this,arguments);};
a.prototype.getShapeAnchors=function(){return{head:{x:this.getX(),y:this.getRowYCenter(),dx:0,dy:this.getHeight()/2},tail:{x:this.getX()+this.getWidth(),y:this.getRowYCenter(),dx:0,dy:this.getHeight()/2}};};
return a;},true);
sap.ui.predefine('sap/gantt/simple/BaseShape',["sap/ui/core/Core","sap/gantt/library","sap/ui/core/Element","sap/ui/core/CustomStyleClassSupport","sap/ui/base/ManagedObjectMetadata","./GanttUtils","./CoordinateUtils","./AggregationUtils","../misc/Format"],function(C,l,E,a,M,G,b,A,F){"use strict";
var B=E.extend("sap.gantt.simple.BaseShape",{metadata:{"abstract":true,properties:{shapeId:{type:"string"},time:{type:"object"},endTime:{type:"object"},scheme:{type:"string",defaultValue:null},xBias:{type:"float",defaultValue:0},yBias:{type:"float",defaultValue:0},fill:{type:"sap.gantt.ValueSVGPaintServer"},strokeOpacity:{type:"float",defaultValue:1.0},fillOpacity:{type:"float",defaultValue:1.0},opacity:{type:"float",defaultValue:1.0},stroke:{type:"sap.gantt.ValueSVGPaintServer"},strokeWidth:{type:"float",defaultValue:0},strokeDasharray:{type:"string"},transform:{type:"string"},filter:{type:"string"},expandable:{type:"boolean",defaultValue:false},selectable:{type:"boolean",defaultValue:false},selected:{type:"boolean",defaultValue:false},draggable:{type:"boolean",defaultValue:false},resizable:{type:"boolean",defaultValue:false},hoverable:{type:"boolean",defaultValue:false},connectable:{type:"boolean",defaultValue:false},rowYCenter:{type:"float"},countInBirdEye:{type:"boolean",defaultValue:false},childElement:{type:"boolean",defaultValue:false,visibility:"hidden"},shapeUid:{type:"string",visibility:"hidden"}}}});
a.apply(B.prototype);
B.prototype.init=function(){this.bPreventSingleClick=false;};
var v={};C.attachThemeChanged(function(){v={};});var R=/translate\((-?\d{1,}),?\s?(-?\d{1,})?\)/gi;
B.prototype.setShapeUid=function(u){jQuery.sap.log.error("The control manages the shapeUid generation. The method \"setShapeUid\" cannot be used programmatically!",this);};
B.prototype.getTransform=function(){var t=this.getProperty("transform");if(t){return t;}return this._buildTransformByXYBias();};
B.prototype.setTransform=function(V){this.setProperty("transform",V);this._updateBiasFromTransform(V);return this;};
B.prototype._buildTransformByXYBias=function(){var n=this.getXBias(),c=this.getYBias();if(n||c){n=n?n:0;n=C.getConfiguration().getRTL()?-n:n;c=c?c:0;return"translate("+n+" "+c+")";}return null;};
B.prototype._updateBiasFromTransform=function(t){if(t!=null){var c=this._parseBias(t);if(c.length>0){var n=c[0]||0,N=c[1]||0;this.setProperty("xBias",n,true);this.setProperty("yBias",N,true);}}};
B.prototype._parseBias=function(t){var m=R.exec(t);var c=[];if(m&&m.length>0){m.forEach(function(d,i){if(i!==0&&d){c.push(parseFloat(d));}});}return c;};
B.prototype.getStyle=function(){var s={"stroke":this.determineValueColor(this.getStroke()),"stroke-width":this.getStrokeWidth()};var i=this.getSelectable()||this.getHoverable();if(this.getProperty("childElement")===false&&i===false){s["pointer-events"]="none";}return this.getInlineStyle(s);};
B.prototype.getXByTime=function(t){var o=this.getAxisTime();var n=o.timeToView(F.abapTimestampToDate(t));if(!jQuery.isNumeric(n)){jQuery.sap.log.warning("Cannot convert time:"+t+" to an valid coordinate. Invalid coordinate might not get rendered at all, check the property value!");return 0;}return n;};
B.prototype.getAxisTime=function(){if(this.mAxisTime){return this.mAxisTime;}else{var g=this.getGanttChartBase();return g?g.getAxisTime():null;}};
B.prototype.getGanttChartBase=function(){var r=this.getParentRowSettings();return r?r.getParentGantt():null;};
B.prototype.getParentRowSettings=function(){return A.getParentControlOf("sap.gantt.simple.GanttRowSettings",this);};
B.prototype.getInlineStyle=function(s){return Object.keys(s).reduce(function(i,c){if(s[c]!==undefined&&s[c]!==null&&s[c]!==""){i+=(c+":"+s[c]+"; ");}return i;},"");};
B.prototype.determineValueColor=function(p){var f=v[p];if(!f&&p){f=l.ValueSVGPaintServer.normalize(p);v[p]=f;}return f;};
B.prototype.destroy=function(){return E.prototype.destroy.apply(this,["KeepDom"]);};
B.prototype.isVisible=function(){return false;};
B.prototype.renderElement=function(r,e){};
B.prototype.writeElementData=function(r){if(this.getProperty("childElement")){var g=M.isGeneratedId(this.getId());if(!g){r.writeAttribute("id",this.getId());}return;}if(this._shallWriteElementData(this)){r.writeElementData(this);if(this.getShapeId()){r.writeAttribute(G.SHAPE_ID_DATASET_KEY,this.getShapeId());}if(this.getConnectable()){r.writeAttribute(G.CONNECTABLE_DATASET_KEY,this.getConnectable());}}};
B.prototype._shallWriteElementData=function(s){var S=s.getParent()===null;if(S===false){S=A.isParentRowSetting(s);}if(S===false){S=A.isLazyAggregation(s);}return S;};
B.prototype.ensureGanttChart=function(){if(!this.mChartInstance){this.mChartInstance=this.getGanttChartBase();}};
B.prototype.setSelected=function(s,S){var p=this.getSelected();this.setProperty("selected",s,S);var g=this.getGanttChartBase(),c=this.getShapeUid();if(p!==s&&g&&c){g.getSelection().update(c,{selected:s,ctrl:false,draggable:this.getDraggable(),time:this.getTime(),endTime:this.getEndTime()});}return this;};
B.prototype.onclick=function(e){var s=this.getSelectable();if(!s){return;}this.iSingleClickTimer=jQuery.sap.delayedCall(300,this,function(){if(this.bPreventSingleClick===false){this.getGanttChartBase().handleShapePress({shape:this,ctrlOrMeta:e.ctrlKey||e.metaKey});e.setMarked();}this.bPreventSingleClick=false;});};
B.prototype.ondblclick=function(e){jQuery.sap.clearDelayedCall(this.iSingleClickTimer);this.bPreventSingleClick=true;this.getGanttChartBase().fireShapeDoubleClick({shape:this,rowSettings:this.getParentRowSettings()});e.stopImmediatePropagation();};
B.prototype.oncontextmenu=function(e){e.preventDefault();e.stopImmediatePropagation();var c=b.getLatestCursorPosition();this.getGanttChartBase().fireShapeContextMenu({shape:this,rowSettings:this.getParentRowSettings(),pageX:c.pageX,pageY:c.pageY});};
B.prototype.onmouseout=function(e){if(this.getHoverable()===false){return;}this.iMouseOutTimer=jQuery.sap.delayedCall(500,this,function(){if(this.bShapeMouseEnterFired){this.getGanttChartBase().fireShapeMouseLeave({shape:this});this.bShapeMouseEnterFired=false;}jQuery.sap.clearDelayedCall(this.iMouseOutTimer);});};
B.prototype.onmouseover=function(e){if(this.getHoverable()===false){return;}this.iMouseOverTimer=jQuery.sap.delayedCall(500,this,function(){var c=b.getCursorElement();if(c===this){var m=b.getLatestCursorPosition();this.getGanttChartBase().fireShapeMouseEnter({shape:this,pageX:m.pageX,pageY:m.pageY});this.bShapeMouseEnterFired=true;}jQuery.sap.clearDelayedCall(this.iMouseOverTimer);});};
B.prototype.getShapeUid=function(){return this.getProperty("shapeUid");};
return B;},true);
sap.ui.predefine('sap/gantt/simple/BaseText',["sap/ui/core/Core","./BaseShape","./GanttUtils"],function(C,B,G){"use strict";
var a=B.extend("sap.gantt.simple.BaseText",{metadata:{properties:{text:{type:"string"},x:{type:"float"},y:{type:"float"},fontSize:{type:"int",defaultValue:13},textAnchor:{type:"string",defaultValue:"start"},fontFamily:{type:"string",defaultValue:"Arial"},truncateWidth:{type:"float"},showEllipsis:{type:"boolean",defaultValue:true}}}});
var A=["x","y","text-anchor","style","filter","transform"];
a.prototype.getX=function(){var x=G.getValueX(this);if(isNaN(x)&&this.getParent()&&this.getParent().getTime){x=G.getValueX(this.getParent());}return x;};
a.prototype.getY=function(){var v=this.getProperty("y");if(v!==null&&v!==undefined){return v;}return this.getRowYCenter()+this.getFontSize()/2;};
a.prototype.getStyle=function(){var i=B.prototype.getStyle.apply(this,arguments);var s={"font-size":this.getFontSize()+"px","fill":this.determineValueColor(this.getFill()),"font-family":this.getFontFamily()};return i+this.getInlineStyle(s);};
a.prototype.renderElement=function(r,e){r.write("<text");this.writeElementData(r);r.writeClasses(this);var R=sap.gantt.simple.RenderUtils;R.renderAttributes(r,e,A);r.write(">");R.renderTooltip(r,e);this.writeTruncatedText(r,e);r.write("</text>");};
a.prototype.writeTruncatedText=function(r,e){var t=e.getText(),T=this.getTruncateWidth()!=null;if(T){var R=this._truncateText(t);this.renderEllipsisIfNecessary(r,R);}else{r.write(t);}};
a.prototype.getTruncateWidth=function(){var o=this.getProperty("truncateWidth");var p=this.getParent();if(p&&p.isA("sap.gantt.simple.BaseShape")){var P=0;if(p.getWidth){P=p.getWidth();}else{P=Math.abs(this.getXByTime(p.getEndTime())-this.getXByTime(p.getTime()));}if(P<o){return P;}}return o;};
a.prototype.renderEllipsisIfNecessary=function(r,R){if(R.ellipsis){var b=C.getConfiguration().getRTL();if(b){r.write("..."+R.truncatedText);}else{r.write(R.truncatedText+"...");}}else{r.write(R.truncatedText);}};
a.prototype._truncateText=function(s){var r=this._processTextForTruncation(s);r=r||{ellipsis:false,truncatedText:s};return r;};
a.prototype._processTextForTruncation=function(s){var t=this.getTruncateWidth(),e=this.measureTextWidth("..."),T=this.measureTextWidth(s);if(T>t){var i,S;if(this.getShowEllipsis()&&e<t){S=true;i=t-e;}else{S=false;i=t;}var n=this._geNumberOfTruncatedCharacters(T,i,s);var b=s.slice(0,n).trim();return{ellipsis:S,truncatedText:b};}return null;};
a.prototype.getTextAnchor=function(){var o=this.getProperty("textAnchor");var r=C.getConfiguration().getRTL();if(r){if(o==="start"){return"end";}else if(o==="end"){return"start";}}return o;};
a.prototype._geNumberOfTruncatedCharacters=function(t,T,s){var n=0;if(t>T){if(T>0&&s.length>0){n=Math.round(T/Math.ceil(t/s.length));while(true){if(n<0){break;}var b=this.measureTextWidth(s.slice(0,n));var c=this.measureTextWidth(s.slice(0,n+1));if(b>T){n--;continue;}if(c<T){n++;continue;}break;}}}else{return s?s.length:0;}return(n>=0&&n<=s.length)?n:0;};
a.prototype.measureTextWidth=function(t){if(!this.context){var e=document.createElement('canvas');this.context=e.getContext("2d");this.context.font=this.getFontSize()+"px"+" "+this.getFontFamily();}return this.context.measureText(t).width;};
return a;},true);
sap.ui.predefine('sap/gantt/simple/ContainerToolbarRenderer',["sap/ui/core/Renderer","sap/m/OverflowToolbarRenderer"],function(R,O){"use strict";var T=R.extend(O);return T;},true);
sap.ui.predefine('sap/gantt/simple/CoordinateUtils',['jquery.sap.global',"sap/ui/Device"],function(q,D){"use strict";var x={};var C={xPosOfEvent:function(e){return D.browser.edge?e.clientX:e.pageX;},xPosOfSvgElement:function(e,$){return this.xPosOfEvent(e)-($.offset().left||e.offsetX);},getEventSVGPoint:function(s,e){var c=s.createSVGPoint();c.x=this.xPosOfEvent(e);c.y=e.pageY||e.clientY;c=c.matrixTransform(s.getScreenCTM().inverse());c.svgId=s.id;return c;},getSvgScreenPoint:function(s,e){var c=s.createSVGPoint();c.x=this.xPosOfEvent(e);c.y=e.pageY||e.clientY;c=c.matrixTransform(s.getScreenCTM());c.svgId=s.id;return c;},getEventPosition:function(e){return{pageX:this.xPosOfEvent(e),pageY:e.pageY};},updateCursorPosition:function(e){x={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};},getLatestCursorPosition:function(){return x;},getCursorElement:function(){var e=document.elementFromPoint(x.clientX,x.clientY);return q(e).control(0);}};return C;},true);
sap.ui.predefine('sap/gantt/simple/DimensionLegend',["sap/ui/core/Control","sap/gantt/library"],function(C,l){"use strict";
var D=C.extend("sap.gantt.simple.DimensionLegend",{metadata:{library:"sap.gantt",properties:{title:{type:"string",group:"Data",defaultValue:null}},aggregations:{columnConfigs:{type:"sap.gantt.simple.LegendColumnConfig",multiple:true,singularName:"columnConfig"},rowConfigs:{type:"sap.gantt.simple.LegendRowConfig",multiple:true,singularName:"rowConfig"}},events:{}}});
return D;});
sap.ui.predefine('sap/gantt/simple/DimensionLegendRenderer',["sap/base/util/ObjectPath","sap/gantt/misc/Utility","./BasePath","sap/ui/core/Core"],function(O,U,B,C){"use strict";var D={};var _=10;var d=function(){var i=32;var s=U.findSapUiSizeClass();return U.scaleBySapUiSize(s,i);};
D.render=function(r,o){r.write("<div");r.writeControlData(o);r.write(">");var a=o.getColumnConfigs();var R=o.getRowConfigs();var y=[];for(var i=0;i<R.length;i++){var Y=R[i];var m={};m.text=Y.getText();var s=Y.getShapeClass();var S=Y.getShapeName();var b=Y.getStroke();var f=Y.getStrokeWidth();var c=O.get(s);var e=[];for(var l=0;l<a.length;l++){var F=a[l].getFill();if(F==null){var g=a[l].getFillFactory();if(typeof g==='function'){F=g(S);}}var h=new c({stroke:b,strokeWidth:f,fill:F});e.push(h);}m.shapeInstances=e;y.push(m);}this.renderYDimension(r,y);var x=[];for(var j=0;j<a.length;j++){var k={};k.text=a[j].getText();x.push(k);}this.renderXDimension(r,x);r.write("</div>");};
D.renderYDimension=function(r,y){for(var k=0;k<y.length;k++){this.renderYItems(r,y[k],k);}};
D.renderYItems=function(r,i,I){var l=d(),L=l+"px";var h=l/2,w=h;r.write("<div");r.writeAttributeEscaped("title",i.text);r.addClass("sapGanttDLItem");r.writeClasses();r.addStyle("height",L);r.addStyle("line-height",L);r.addStyle(this._getMarginStyle(),(w/2)+"px");r.writeStyles();r.write(">");this.renderYSvgPart(r,i.shapeInstances,w,h);this.renderYLegendText(r,i.text);r.write("</div>");};
D._getMarginStyle=function(){var r=C.getConfiguration().getRTL();return"margin-"+(r?"right":"left");};
D.normalizeShape=function(s,w,h,i){var H=h/2;var v={x:i*(w+_)+_/2,y:0,x1:0,y1:H,x2:w,y2:H,width:w,height:h,yBias:H,rowYCenter:H};Object.keys(v).forEach(function(p){var P=p.split("-").reduce(function(a,n){return a+n.charAt(0).toUpperCase()+n.slice(1);},"set");if(s[P]){s[P](v[p]);}});};
D.renderYSvgPart=function(r,s,w,h){r.write("<svg");r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);r.addClass("sapGanttDLSvg");r.writeClasses();r.addStyle("width",(w+_)*s.length+"px");r.writeStyles();r.write(">");for(var i=0;i<s.length;i++){this.normalizeShape(s[i],w,h,i);s[i].renderElement(r,s[i]);}r.write("</svg>");};
D.renderYLegendText=function(r,t){r.write("<div");r.addClass("sapGanttDLItemTxt");r.writeClasses();r.write(">");if(t){r.writeEscaped(t);}r.write("</div>");};
D.renderXDimension=function(r,x){var l=x.length;var L=d(),s=L+"px";var h=L/2,w=h;r.write("<div");r.addClass("sapGanttDLItem");r.writeClasses();r.addStyle("height",s*l);r.addStyle("line-height",s);r.addStyle(this._getMarginStyle(),(w/2)+"px");r.writeStyles();r.write(">");this.renderXDimensionPath(r,x);this.renderXDimensionText(r,x);r.write("</div>");};
D.renderXDimensionPath=function(r,R){var l=R.length;var L=d();var h=L/2,w=h;r.write("<div");r.addStyle("height",L*l+"px");var s=(L/2+_)*l;r.addStyle("width",s+"px");r.addStyle("display","block");r.writeStyles();r.write(">");r.write("<svg");r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);r.writeAttribute("width",s+"px");r.addClass("sapGanttDLSvg");r.writeClasses();r.write(">");var b=C.getConfiguration().getRTL();for(var i=0;i<l;i++){var S=i*(w+_)+_/2+w/2;var a="M"+S+" 0";if(b){a+=" v"+((i+0.5)*L);a+=" h"+(-S);}else{a+=" v"+((l-i-0.5)*L);a+=" h"+((L/2+_)*l-S);}var o=new B({d:a,fill:"transparent",strokeWidth:2.5}).addStyleClass("sapGanttDimensionLegendPath");o.renderElement(r,o);}r.write("</svg>");r.write("</div>");};
D.renderXDimensionText=function(r,R){var l=R.length;var L=d();r.write("<div");r.addClass("sapGanttDLItemTxt");r.writeClasses();r.addStyle("height",L*l+"px");r.addStyle("width","100%");r.writeStyles();r.write(">");for(var i=l-1;i>=0;i--){r.write("<div");var s=R[i].text;if(s){r.writeAttribute("title",s);}r.addClass("sapGanttDLItemTxt");r.writeClasses();r.addStyle("font-style","italic");r.addStyle("height",L+"px");r.writeStyles();r.write(">");if(s){r.writeEscaped(R[i].text);}r.write("</div>");}r.write("</div>");};
return D;},true);
sap.ui.predefine('sap/gantt/simple/ExpandModel',["jquery.sap.global","sap/ui/base/ManagedObject","./AggregationUtils","./GanttUtils"],function(q,M,A,G){"use strict";
var E=M.extend("sap.gantt.simple.ExpandModel",{
metadata:{properties:{baseRowHeight:{type:"int",group:"Appearance",defaultValue:null}}},
constructor:function(){M.apply(this,arguments);this.mExpanded={};}
});
E.prototype.isTableRowHeightNeedChange=function(e,t,s,p,o){var b=false;var f=t.getFirstVisibleRow();var S=o.getKey();for(var i=0;i<s.length;i++){var a=s[i];var c=f>a;if(c){break;}var r=G.getSelectedTableRowSettings(t,a);if(r==null){break;}var d=r.getAllExpandableShapes();var l=[];d.forEach(function(g){var C=A.getLazyElementsByScheme(g,S);l.push(C.length);});var m=Math.max.apply(null,l);if(m>0){this.toggle(e,r,p,o,m);b=true;}}return b;};
E.prototype.refreshRowYAxis=function(t){if(this.hasExpandedRows()===false){return;}var r=t.getRows();var R=t.getParent().getTableRowHeights();var a=0;for(var i=0;i<r.length;i++){var o=r[i],b=o.getAggregation("_settings"),s=b.getRowUid();a+=(R[i-1]||0);if(!this.isRowExpanded(s)){continue;}this.calcExpandRowYAxis({uid:b.getRowUid(),rowIndex:i,rowY:a,baseRowHeight:this.getBaseRowHeight(),allRowHeights:R});}};
E.prototype.toggle=function(e,r,m,o,i){if(e){this.expand(r,m,o,i);}else{this.collapse(r,o);}};
E.prototype.expand=function(r,m,e,i){var u=r.getRowUid(),s=m.getKey(),a=m.getRowSpan();var b=e.getKey(),c=e.getRowSpan();var I=this.mExpanded[u];if(!I||I.length===0){this.mExpanded[u]=[{scheme:s,metadata:{rowSpan:a,main:true}}];}if(!this.hasExpandScheme(u,b)){this.mExpanded[u].push({scheme:b,metadata:{numberOfRows:i,rowSpan:c}});}this.updateVisibleRowSpan(u);};
E.prototype.collapse=function(r,e){var u=r.getRowUid();if(u&&this.mExpanded[u]==null){return;}var s=e.getKey();var i=this.mExpanded[u];for(var I=0;I<i.length;I++){var o=i[I];if(o.scheme===s){i.splice(I,1);}if(this.hasNoExpandRows(u)){delete this.mExpanded[u];break;}else{this.updateVisibleRowSpan(u);}}};
E.prototype.hasExpandScheme=function(u,s){return this.mExpanded[u].filter(function(i){return i.scheme===s;}).length>0;};
E.prototype.hasExpandedRows=function(){return!q.isEmptyObject(this.mExpanded);};
E.prototype.isRowExpanded=function(u){return!this.hasNoExpandRows(u);};
E.prototype.hasNoExpandRows=function(u){var i=this.mExpanded[u]||[];return i.every(function(I){return I.metadata.main;});};
E.prototype.updateVisibleRowSpan=function(u){var i=this.mExpanded[u]||[];var m,o,s=0;for(var I=0;I<i.length;I++){var a=i[I];var k=a.scheme;var v=a.metadata;if(v.main){m=k;o=v;s+=v.rowSpan;}else{s+=v.rowSpan*(v.numberOfRows||1);}}o.rowSpanSum=s;this.mExpanded[u][0]={scheme:m,metadata:o};};
E.prototype.getMainRowScheme=function(u){var i=this.mExpanded[u]||[];return i.filter(function(I){return I.metadata.main;}).map(function(m){return{key:m.scheme,value:m.metadata};})[0];};
E.prototype.getExpandSchemeKeys=function(u){var i=this.mExpanded[u]||[];return i.filter(function(I){return!I.metadata.main;}).map(function(I){return I.scheme;});};
E.prototype.getCalculatedRowHeight=function(r,b){var R=b;if(this.hasExpandedRows()){var u=r.getRowUid();if(!u){return R;}var i=this.mExpanded[u];if(i){var m=this.getMainRowScheme(u);R=b*m.value.rowSpanSum;}}return R;};
E.prototype.getRowHeightByIndex=function(t,i,T){if(t==null){return T;}var r=t.getRows(),R=r[i].getAggregation("_settings");return this.getCalculatedRowHeight(R,T);};
E.prototype.calcExpandRowYAxis=function(p){var u=p.uid,b=p.baseRowHeight;var f=p.rowY;var o,s,e=[];var a=[];var I=this.mExpanded[u];if(q.isEmptyObject(I)){return;}for(var c=0;c<I.length;c++){var d=I[c],k=d.scheme,v=d.metadata;if(v.main){o=v;s=k;}else{a.push(v);e.push(k);}}var g=o?o.rowSpan:1;var h={};h[s]=[g];var r=[h];for(var i=0;i<a.length;i++){var l=a[i],R=l.rowSpan,t=l.numberOfRows;var S=[];for(var j=0;j<t;j++){S.push(R);}h={};h[e[i]]=S;r.push(h);}var w=f;for(var m=0;m<r.length;m++){var x=r[m],y=Object.keys(x)[0],z=x[y];if(m===0){this._updateRowYAxis(u,y,{rowYAxis:[w].slice()});}else{var B=[];if(z.length===1){B.push(w+b);w+=(z[0]*b);}else{for(var n=0;n<z.length;n++){w=w+(z[n]*b);B.push(w);}}this._updateRowYAxis(u,y,{rowYAxis:B.slice()});}}};
E.prototype._updateRowYAxis=function(u,s,v){var r=v.rowYAxis;var i=this.mExpanded[u]||[];for(var I=0;I<i.length;I++){var o=i[I];if(o.scheme===s){o.metadata.yAxis=r;break;}}};
E.prototype.getRowYCenterByUid=function(u,m,s,e){var r=this.isRowExpanded(u);if(r===false){return m;}var I=this.mExpanded[u],S=s||this.getMainRowScheme(u).key;for(var a=0;a<I.length;a++){var o=I[a];if(o.scheme===S){var y=o.metadata.yAxis;var b=this.getBaseRowHeight(),c=b*o.metadata.rowSpan;var R=y.map(function(v){return v+(c/2);});var i=e===undefined?0:e;return R[i];}}};
E.prototype.getExpandShapeHeightByUid=function(u,s,f){var i=this.mExpanded[u];var F=i.filter(function(I){return I.scheme===s;})[0];return F?F.metadata.rowSpan*this.getBaseRowHeight():f;};
E.prototype.intersectRows=function(l,r){return q.grep(l,function(L){return q.inArray(L,r)>-1;});};
E.prototype.collectExpandedBgData=function(r){var I=this.intersectRows(r,Object.keys(this.mExpanded));if(q.isEmptyObject(this.mExpanded)||q.isEmptyObject(r)||q.isEmptyObject(I)){return[];}var R=this.getBaseRowHeight();var a=[];for(var b=0;b<I.length;b++){var u=I[b],c=this.mExpanded[u]||[];for(var i=0;i<c.length;i++){var o=c[i],y=o.metadata.yAxis||[],m=o.metadata.main;if(!m){var s=[];y.forEach(function(Y){s.push({x:0,y:Y,rowUid:u,rowHeight:R*o.metadata.rowSpan});});a.push(s);}}}return a;};
return E;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartContainer',["sap/ui/core/Control","sap/gantt/library","sap/ui/base/ManagedObjectObserver","sap/ui/layout/Splitter","sap/ui/layout/SplitterLayoutData","sap/ui/core/Orientation","../control/AssociateContainer","../config/TimeHorizon"],function(C,l,M,S,a,O,A,T){"use strict";var G=l.simple.GanttChartWithTableDisplayType;
var b=C.extend("sap.gantt.simple.GanttChartContainer",{metadata:{library:"sap.gantt",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},layoutOrientation:{type:"sap.ui.core.Orientation",group:"Behavior",defaultValue:sap.ui.core.Orientation.Vertical},enableTimeScrollSync:{type:"boolean",defaultValue:true},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},displayType:{type:"sap.gantt.simple.GanttChartWithTableDisplayType",defaultValue:G.Both}},defaultAggregation:"ganttCharts",aggregations:{toolbar:{type:"sap.gantt.simple.ContainerToolbar",multiple:false},ganttCharts:{type:"sap.gantt.simple.GanttChartWithTable",multiple:true},svgDefs:{type:"sap.gantt.def.SvgDefs",multiple:false}},events:{customSettingChange:{parameters:{name:{type:"string"},value:{type:"boolean"}}}}}});
var c=["enableCursorLine","enableNowLine","enableVerticalLine","enableAdhocLine"];var d=["enableTimeScrollSync"].concat(c);c.forEach(function(p){b.prototype["set"+jQuery.sap.charToUpperCase(p,0)]=function(v){this.setProperty(p,v);this.getGanttCharts().forEach(function(g){g.setProperty(p,v);});return this;};});
b.prototype.setSharedPropertiesValueToGantts=function(){c.forEach(function(p){var P=this.getProperty(p);this.getGanttCharts().forEach(function(g){g.setProperty(p,P,true);});}.bind(this));};
b.prototype.init=function(){this._bInitHorizonApplied=false;this._oSplitter=new S({orientation:this.getLayoutOrientation()});this.oObserver=new M(this.observePropertiesChanges.bind(this));this.oObserver.observe(this,{properties:d});};
b.prototype.exit=function(){this.oObserver.disconnect();};
b.prototype.setDisplayType=function(D){this._setDisplayTypeForAll(D);this.setProperty("displayType",D,false);return this;};
b.prototype.setToolbar=function(t){this.setAggregation("toolbar",t,true);t.attachZoomStopChange(this._onToolbarZoomStopChange,this);t.attachBirdEyeButtonPress(this._onToolbarBirdEyeButtonPress,this);t.attachEvent("_settingsChange",this._onToolbarSettingsChange.bind(this));t.attachEvent("_zoomControlTypeChange",this._onToolbarZoomControlTypeChange.bind(this));t.attachDisplayTypeChange(this._onToolbarDisplayTypeChanged,this);t._oDisplayTypeSegmentedButton.setSelectedKey(this.getDisplayType());return this;};
b.prototype.setLayoutOrientation=function(o){this.setProperty("layoutOrientation",o);this._oSplitter.setOrientation(o);return this;};
b.prototype.addGanttChart=function(g){this.addAggregation("ganttCharts",g);this._insertGanttChart(g);};
b.prototype.insertGanttChart=function(g,i){this.insertAggregation("ganttCharts",g,i);this._insertGanttChart(g,i);};
b.prototype.removeGanttChart=function(g){this._removeGanttChartFromSplitter(g);var r=this.removeAggregation("ganttCharts",g);this._adjustSplitterLayoutData();return r;};
b.prototype.removeAllGanttCharts=function(){var g=this.getGanttCharts();for(var i=0;i<g.length;i++){this._removeGanttChartFromSplitter(g[i]);}return this.removeAllAggregation("ganttCharts");};
b.prototype._insertGanttChart=function(g,i){if(!g){return;}var o=this._getOtherGanttSelectionPanelSize(g);if(o){g.setProperty("selectionPanelSize",o,"true");}var e=new A({content:g,layoutData:g.getLayoutData()?g.getLayoutData().clone():new a()});if(i!==0&&!i){this._oSplitter.addContentArea(e);}else{this._oSplitter.insertContentArea(e,i);}this._sanitizeGanttChartEvents(g);this.setSharedPropertiesValueToGantts();g.setDisplayType(this.getDisplayType());};
b.prototype._adjustSplitterLayoutData=function(){var g=this.getGanttCharts();var e=this._oSplitter.getContentAreas();if(g.length===1){e[0].getLayoutData().setSize("auto");}};
b.prototype._getOtherGanttSelectionPanelSize=function(n){var o=this.getGanttCharts().filter(function(g){return g.getId()!==n.getId();});return o&&o.length>0?o[0].getSelectionPanelSize():null;};
b.prototype._sanitizeGanttChartEvents=function(g){var e={"_visibleHorizonUpdate":this._onGanttChartVisibleHorizonUpdate,"_timePeriodZoomOperation":this._onGanttChartTimePeriodZoomOperation,"_zoomInfoUpdated":this._onZoomInfoUpdated,"_selectionPanelResize":this._onSelectionPanelWidthChange,"_layoutDataChange":this._onGanttChartLayoutDataChange};Object.keys(e).forEach(function(E){g.detachEvent(E,e[E],this);}.bind(this));Object.keys(e).forEach(function(E){g.attachEvent(E,e[E],this);}.bind(this));};
b.prototype._onGanttChartLayoutDataChange=function(e){var g=e.getSource(),n=g.getLayoutData();this._oSplitter.getContentAreas().forEach(function(o){if(o.getContent()===g.getId()){o.getLayoutData().setSize(n.getSize()).setMinSize(n.getMinSize());}});};
b.prototype._removeGanttChartFromSplitter=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o);}return o;};
b.prototype._onGanttChartVisibleHorizonUpdate=function(e){var p=e.getParameters();var g=this.getGanttCharts();if(p.reasonCode==="initialRender"&&!this.getEnableTimeScrollSync()){return;}if(!this.getEnableTimeScrollSync()){if(p.reasonCode==="visibleHorizonUpdated"){for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}g[i].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth,true);}}else{var s;if(p.reasonCode==="mouseWheelZoom"){s="syncMouseWheelZoom";}if(s){for(var m=0;m<g.length;m++){var o=g[m];var f=o;if(e.getSource().getId()===f.getId()){continue;}f[s](p);}}}}else{for(var j=0;j<g.length;j++){if(e.getSource().getId()===g[j].getId()){continue;}g[j].syncVisibleHorizon(p.visibleHorizon,p.visibleWidth);}}};
b.prototype._onGanttChartTimePeriodZoomOperation=function(e){var t=this.getEnableTimeScrollSync();var g=this.getGanttCharts();for(var i=0;i<g.length;i++){if(e.getSource().getId()===g[i].getId()){continue;}var o=this._oSplitter.getOrientation();g[i].syncTimePeriodZoomOperation(e,t,o);}};
b.prototype._onSelectionPanelWidthChange=function(e){var D=this.getDisplayType(),g=e.getParameter("displayType");if(D!==g){this.setDisplayType(g);return;}if(this.getLayoutOrientation()===O.Horizontal&&D!==G.Both){return;}var n=e.getParameter("newWidth");this.getGanttCharts().forEach(function(o){o.setSelectionPanelSize(n+"px");o._draw(true);});};
b.prototype._removeGanttChartFromSplitter=function(g){var o=g;if((typeof g)==="number"){o=this.getGanttCharts()[g];}if(o){this._oSplitter.removeContentArea(o._oAC);}};
b.prototype.onBeforeRendering=function(){this.observePropertiesChanges();this.handleZoomControlTypeToAxistimeStrategy();};
b.prototype.handleZoomControlTypeToAxistimeStrategy=function(){if(this.getToolbar()){var g=this.getGanttCharts();var z=this.getToolbar().getZoomControlType();g.forEach(function(o){o.getAxisTimeStrategy()._updateZoomControlType(z);});}};
b.prototype._onZoomInfoUpdated=function(e){if(this.getToolbar()){var z=e.getParameter("zoomLevel");if(!isNaN(z)){this.getToolbar().updateZoomLevel(z);}}};
b.prototype._onToolbarDisplayTypeChanged=function(e){this.setDisplayType(e.getParameter("displayType"));};
b.prototype._setDisplayTypeForAll=function(D){var t=this.getToolbar();if(t){t._oDisplayTypeSegmentedButton.setSelectedKey(D);}this.getGanttCharts().forEach(function(o){o.setDisplayType(D);});};
b.prototype._onToolbarBirdEyeButtonPress=function(e){var g=this.getGanttCharts();var s;var E;g.forEach(function(o){var h=o._getZoomExtension().calculateBirdEyeRange();if(h.startTime&&h.endTime){if(!s||h.startTime.getTime()<s.getTime()){s=h.startTime;}if(!E||E.getTime()<h.endTime.getTime()){E=h.endTime;}}});if(s&&E){var B=new T({startTime:s,endTime:E});g.forEach(function(o){o.syncVisibleHorizon(B);});}};
b.prototype._onToolbarZoomStopChange=function(e){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy().updateStopInfo({index:e.getParameter("index"),selectedItem:e.getParameter("selectedItem")});});};
b.prototype._onToolbarZoomControlTypeChange=function(e){this._handleZoomControlType(e.getParameter("zoomControlType"));};
b.prototype._handleZoomControlType=function(z){var g=this.getGanttCharts();g.forEach(function(o){o.getAxisTimeStrategy()._updateZoomControlType(z);});};
b.prototype._onToolbarSettingsChange=function(e){var p=e.getParameters();var f=[];p.forEach(function(P){var s=P.name.substr(4);if(d.indexOf(s)>=0){this["set"+jQuery.sap.charToUpperCase(s,0)](P.value);}else{f.push(P);}}.bind(this));if(f.length>0){this.fireCustomSettingChange(f);}};
b.prototype.observePropertiesChanges=function(o){var s;if(!o){s=d.reduce(function(m,p){m[p]=this.getProperty(p);return m;}.bind(this),{});}else{s={};s[o.name]=o.current;}var t=this.getToolbar();if(t){t.updateSettingsConfig(s);}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartContainerRenderer',[],function(){"use strict";var G={};
G.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttContainer");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");this.renderSvgDefs(r,c);this.renderToolbar(r,c);this.renderGanttCharts(r,c);r.write("</div>");};
G.renderSvgDefs=function(r,c){var s=c.getSvgDefs();if(s){r.write("<svg id='"+c.getId()+"-svg-psdef' tabindex='-1' focusable='false'");r.addClass("sapGanttInvisiblePaintServer");r.writeClasses();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
G.renderToolbar=function(r,c){var t=c.getToolbar();if(t){r.write("<div");r.addClass("sapGanttContainerTbl");r.writeClasses();r.write(">");r.renderControl(t);r.write("</div>");}};
G.renderGanttCharts=function(r,c){r.write("<div");r.addClass("sapGanttContainerCnt");r.writeClasses();r.write(">");r.renderControl(c._oSplitter);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartWithTable',["sap/gantt/library","jquery.sap.global","sap/ui/core/Control","sap/ui/model/ChangeReason","sap/base/util/values","sap/ui/layout/Splitter","./InnerGanttChart","./GanttHeader","./GanttSyncedControl","../control/AssociateContainer","../axistime/ProportionZoomStrategy","./SelectionModel","./ExpandModel","./ShapeScheme","./GanttExtension","./GanttScrollExtension","./GanttZoomExtension","./GanttPointerExtension","./GanttDragDropExtension","./GanttPopoverExtension","./GanttConnectExtension","./GanttResizeExtension","./RenderUtils","../misc/Format","../misc/Utility","../config/TimeHorizon"],function(l,q,C,c,v,S,I,G,d,A,P,e,E,f,g,h,j,k,m,n,o,p,R,F,U,T){"use strict";var r=l.simple.GanttChartWithTableDisplayType;var M=10;
function s(a,b){return a+b;}
function t(a,b){return Math.abs(a-b)<M;}
var u=C.extend("sap.gantt.simple.GanttChartWithTable",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},shapeSelectionMode:{type:"sap.gantt.SelectionMode",defaultValue:l.SelectionMode.MultiWithKeyboard},shapeSelectionSettings:{type:"object",defaultValue:null},enableCursorLine:{type:"boolean",defaultValue:true},enableNowLine:{type:"boolean",defaultValue:true},enableVerticalLine:{type:"boolean",defaultValue:true},enableAdhocLine:{type:"boolean",defaultValue:true},adhocLineLayer:{type:"string",defaultValue:l.AdhocLineLayer.Top},dragOrientation:{type:"sap.gantt.DragOrientation",defaultValue:l.DragOrientation.Free},ghostAlignment:{type:"string",defaultValue:l.dragdrop.GhostAlignment.None},showShapeTimeOnDrag:{type:"boolean",defaultValue:false},selectionPanelSize:{type:"sap.ui.core.CSSSize",defaultValue:"30%"},displayType:{type:"sap.gantt.simple.GanttChartWithTableDisplayType",defaultValue:r.Both}},aggregations:{table:{type:"sap.ui.table.Table",multiple:false},adhocLines:{type:"sap.gantt.AdhocLine",multiple:true,singularName:"adhocLine",bindable:"bindable",visibility:"public"},svgDefs:{type:"sap.gantt.def.SvgDefs",multiple:false,singularName:"svgDef"},shapeSchemes:{type:"sap.gantt.simple.ShapeScheme",multiple:true,singularName:"shapeScheme"},calendarDef:{type:"sap.gantt.def.cal.CalendarDefs",multiple:false,bindable:"bindable"},axisTimeStrategy:{type:"sap.gantt.axistime.AxisTimeStrategyBase",multiple:false,bindable:"bindable"},locale:{type:"sap.gantt.config.Locale",multiple:false},_splitter:{type:"sap.ui.layout.Splitter",multiple:false,visibility:"hidden"},_header:{type:"sap.gantt.simple.GanttHeader",multiple:false,defaultValue:null,visibility:"hidden"},_innerGantt:{type:"sap.gantt.simple.InnerGanttChart",multiple:false,visibility:"hidden"}},events:{shapeSelectionChange:{parameters:{shapeUids:{type:"string[]"}}},shapeResize:{parameters:{shapeUid:{type:"string"},shape:{type:"sap.gantt.shape.BaseShape"},rowObject:{type:"object"},oldTime:{type:"string[]"},newTime:{type:"string[]"}}},shapeMouseEnter:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},pageX:{type:"int"},pageY:{type:"int"}}},shapeMouseLeave:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},originEvent:{type:"object"}}},shapeDoubleClick:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},rowSettings:{type:"sap.gantt.simple.GanttRowSettings"}}},shapeContextMenu:{parameters:{shape:{type:"sap.gantt.shape.BaseShape"},rowSettings:{type:"sap.gantt.simple.GanttRowSettings"},pageX:{type:"int"},pageY:{type:"int"}}},dragStart:{parameters:{sourceGanttChart:{type:"sap.gantt.simple.GanttChartWithTable"},draggedShapeDates:{type:"object"},lastDraggedShapeUid:{type:"string"},cursorDateTime:{type:"object"}}},shapeDrop:{parameters:{sourceGanttChart:{type:"sap.gantt.simple.GanttChartWithTable"},targetGanttChart:{type:"sap.gantt.simple.GanttChartWithTable"},draggedShapeDates:{type:"object"},lastDraggedShapeUid:{type:"string"},targetRow:{type:"sap.ui.table.Row"},cursorDateTime:{type:"object"},newDateTime:{type:"object"},targetShape:{type:"sap.gantt.shape.BaseShape"}}},shapeConnect:{parameters:{fromShapeUid:{type:"string"},toShapeUid:{type:"string"},type:{type:"sap.gantt.simple.RelationshipType"}}}}}});
u.prototype.init=function(){this.iGanttRenderedWidth=-1;this._bExtensionsInitialized=false;this._oExpandModel=new E();this._oSplitter=new S();this.setAggregation("_splitter",this._oSplitter);this._oSplitter.attachResize(this.onSplitterResize.bind(this));this._oSyncedControl=new d();this.setAggregation("_innerGantt",new I());this.setAggregation("_header",new G());this._sPreviousDisplayType=this.getDisplayType();};
u.prototype.getInnerGantt=function(){return this.getAggregation("_innerGantt");};
u.prototype.onSplitterResize=function(a){var O=a.getParameter("oldSizes"),N=a.getParameter("newSizes"),b=O.length>0&&O[0]!==-1,D=this.getDisplayType(),i=true,w=N[0];if(D===r.Both){if(this._sPreviousDisplayType===r.Chart){i=false;this._sPreviousDisplayType=D;}if(i&&w){this._iLastTableAreaSize=w;}}if(b){if(t(O.reduce(s),N.reduce(s))&&O[0]!==N[0]){this.setProperty("selectionPanelSize",w+"px",true);this.fireEvent("_selectionPanelResize",{newWidth:w,displayType:D});}this._draw(true);}};
u.prototype.setLayoutData=function(L){this.setAggregation("layoutData",L,true);this.fireEvent("_layoutDataChange");return this;};
u.prototype.setDisplayType=function(D){this._sPreviousDisplayType=this.getDisplayType();this.setProperty("displayType",D,false);return this;};
u.prototype.applySettings=function(a,b){a=a||{};this._applyMissingSettings(a);C.prototype.applySettings.call(this,a,b);this._initSelectionModel(this.getProperty("shapeSelectionMode"));};
u.prototype._applyMissingSettings=function(a){if(!a.axisTimeStrategy){a.axisTimeStrategy=new P();}if(!a.locale){a.locale=l.config.DEFAULT_LOCALE_CET.clone();}if(!a.shapeSchemes){a.shapeSchemes=[new f({key:"default",primary:true})];}else{var H=a.shapeSchemes.some(function(b){return b.getPrimary();});if(!H){q.sap.log.warning("you need set a ShapeSheme with primary:true");}}};
u.prototype.getPrimaryShapeScheme=function(){return this.getShapeSchemes().filter(function(a){return a.getPrimary();})[0];};
u.prototype.getSyncedControl=function(){return this._oSyncedControl;};
u.prototype.getTableRowHeights=function(){return this.getSyncedControl().getRowHeights();};
u.prototype.setTable=function(a){this.setAggregation("table",a);a._bVariableRowHeightEnabled=true;var O=this._oSplitter.removeContentArea(0);this._oSplitter.insertContentArea(new A({content:a,enableRootDiv:true}),0);if(O==null){this._oSyncedControl.syncWith(a);this._oSplitter.addContentArea(this._oSyncedControl);}else if(O&&O.getContent()!=a.getId()){this._oSyncedControl.syncWith(a);}a.detachEvent("_rowsUpdated",this._onTableRowsUpdated,this);a.attachEvent("_rowsUpdated",this._onTableRowsUpdated,this);};
u.prototype.setEnableVariableRowHeight=function(b){if(this.getTable()){this.getTable()._bVariableRowHeightEnabled=b;}else{q.sap.log.warning("you need to set table aggregation first");}};
u.prototype.getRenderedTimeRange=function(){return this.getAxisTime().getTimeRangeSlice(0,this.iGanttRenderedWidth);};
u.prototype._initSelectionModel=function(a){if(this.oSelection){this.oSelection.detachSelectionChanged(this._onSelectionChanged,this);}this.oSelection=new e(a);this.oSelection.attachSelectionChanged(this._onSelectionChanged,this);return this;};
u.prototype.setShapeSelectionMode=function(a){this.setProperty("shapeSelectionMode",a);if(this.oSelection){this.oSelection.setSelectionMode(a);}return this;};
u.prototype.getSelectedShapeUid=function(){var a=this.oSelection.allUid();return a;};
u.prototype._onSelectionChanged=function(a){var b=a.getParameter("shapeUid"),D=a.getParameter("deselectedUid"),i=a.getParameter("silent");this._updateShapeSelections(b,D);if(!i){this.fireShapeSelectionChange({shapeUids:b});}};
u.prototype.handleShapePress=function(a){var b=a.shape,i=b.getShapeUid(),w=a.ctrlOrMeta;var N=!b.getSelected();this.oSelection.update(i,{selected:N,ctrl:w,draggable:b.getDraggable(),time:b.getTime(),endTime:b.getEndTime()});};
u.prototype._updateShapeSelections=function(a,D){var b=this.getShapeSelectionMode();if(b===l.SelectionMode.None){return;}R.updateShapeSelections(this,a,D);};
u.prototype.getSelection=function(){return this.oSelection;};
u.prototype.getExpandedBackgroundData=function(){if(this._oExpandModel.hasExpandedRows()){var a=this.getTable().getRows();var b=a.length;var w=this.getTable().getFirstVisibleRow();var x=[];for(var i=0;i<b;i++){if(a[i].getIndex()>=w){var y=a[i].getAggregation("_settings");x.push(y.getRowUid());}}return this._oExpandModel.collectExpandedBgData(x);}};
u.prototype.setAxisTimeStrategy=function(a){this.setAggregation("axisTimeStrategy",a,false);a.attachEvent("_redrawRequest",this._onRedrawRequest,this);return this;};
u.prototype._onTableRowsUpdated=function(a){var b=a.getParameter("reason"),i=this.getInnerGantt();var w=v(c).slice();var x=w.concat(["Render","VerticalScroll","FirstVisibleRowChange","Resize"]);if(x.indexOf(b)!==-1){this.getSyncedControl().setAllowContentScroll(false);i.invalidate();}else{i.getRenderer().renderImmediately(this);}};
u.prototype.syncVisibleHorizon=function(a,V,K){var b=this.getAxisTimeStrategy();var i=b.getTotalHorizon();var w;var x=this.getVisibleWidth();if(V!==undefined){if(x===undefined){return;}if(K){var y=b.getVisibleHorizon();var z=F.abapTimestampToDate(y.getStartTime());w=U.calculateHorizonByWidth(a,V,x,z);}else{w=U.calculateHorizonByWidth(a,V,x);}}else{w=a;}if(i.getEndTime()<w.getEndTime()){var B=F.abapTimestampToDate(w.getEndTime()).getTime()-F.abapTimestampToDate(w.getStartTime()).getTime();var D=F.abapTimestampToDate(i.getEndTime());var H=new Date();H.setTime(D.getTime()-B);w=new T({startTime:H,endTime:D});}this._updateVisibleHorizon(w,"syncVisibleHorizon",x);};
u.prototype._updateVisibleHorizon=function(a,b,i){var w=this.getAxisTimeStrategy();w.updateGanttVisibleWidth(i);w.setVisibleHorizonWithReason(a,b);};
u.prototype.syncMouseWheelZoom=function(a){this._getZoomExtension().performMouseWheelZooming(a.originEvent,true);};
u.prototype.syncTimePeriodZoomOperation=function(a,b,O){this._getZoomExtension().syncTimePeriodZoomOperation(a,b,O);};
u.prototype._onRedrawRequest=function(a){var b=a.getParameter("forceUpdate");var V=a.getParameter("valueBeforeChange");var i=a.getParameter("reasonCode");var O=a.getParameter("originEvent");if(i!=="totalHorizonUpdated"&&V){this._oLastVisibleHorizon=V;if(i!=="syncVisibleHorizon"){var w=this.getAxisTimeStrategy();var x=w.getVisibleHorizon();var y=this.getVisibleWidth();this.fireEvent("_visibleHorizonUpdate",{reasonCode:i,visibleHorizon:x,visibleWidth:y,originEvent:O});}}b=i==="initialRender"?true:b;this.redraw(b);this._setupDisplayType();};
u.prototype.redraw=function(b){if(b){var a=this._getScrollExtension();a.clearOffsetWidth();}this._draw(b);};
u.prototype._draw=function(){var a=this._getScrollExtension();var V=this.getVisibleWidth();if(!V){return;}var b=this.getAxisTimeStrategy().syncContext(V);this.fireEvent("_zoomInfoUpdated",b);if(b.axisTimeChanged){a.clearOffsetWidth();}a.needRerenderGantt(function(){this.getInnerGantt().getRenderer().renderImmediately(this);}.bind(this));};
u.prototype.onBeforeRendering=function(a){this._updateRowHeightInExpandModel(this.getTable());g.detachEvents(this);};
u.prototype.onAfterRendering=function(a){this._attachExtensions();g.attachEvents(this);this.jumpToVisibleHorizon("initialRender");};
u.prototype._setupDisplayType=function(){var D=this.getDisplayType(),V,a;var b=function(a,i){var w=this._oSplitter.getContentAreas(),x=w[0].getLayoutData(),y=w[1].getLayoutData(),z=D===r.Both;x.setSize(a).setResizable(z);y.setSize(i).setResizable(z);}.bind(this);if(D===r.Table){V=this.getSyncedControl().$().find(".sapGanttBackgroundVScrollContentArea").width();if(V!==0){V+=2;}b("auto",V+"px");}else if(D===r.Chart){b("1px","auto");}else if(D!==this._sPreviousDisplayType){a=this._iLastTableAreaSize?this._iLastTableAreaSize+"px":this.getMetadata().getProperty("selectionPanelSize").getDefaultValue();b(a,"auto");}};
u.prototype._updateRowHeightInExpandModel=function(a){var i=a.getRowHeight();if(i===0){i=a._getDefaultRowHeight();}this._oExpandModel.setBaseRowHeight(i);};
u.prototype.jumpToVisibleHorizon=function(a){var b=this.getAxisTimeStrategy().getVisibleHorizon();this._updateVisibleHorizon(b,a,this.getVisibleWidth());};
u.prototype.exit=function(){this._detachExtensions();};
u.prototype._attachExtensions=function(){if(this._bExtensionsInitialized){return;}g.enrich(this,h);g.enrich(this,j);g.enrich(this,k);g.enrich(this,m);g.enrich(this,n);g.enrich(this,o);g.enrich(this,p);this._bExtensionsInitialized=true;};
u.prototype._detachExtensions=function(){g.cleanup(this);};
u.prototype.getAxisTime=function(){var a=this.getAxisTimeStrategy().getAxisTime();if(!a){this.getAxisTimeStrategy().createAxisTime(this.getLocale());a=this.getAxisTimeStrategy().getAxisTime();}return a;};
u.prototype.getContentWidth=function(){var a=this.getAxisTime(),b=a.getViewRange();return Math.abs(Math.ceil(b[1])-Math.ceil(b[0]));};
u.prototype.getVisibleWidth=function(){return this._getScrollExtension?this._getScrollExtension().getVisibleWidth():undefined;};
u.prototype.expand=function(a,b){this.toggleShapeScheme(true,a,b);};
u.prototype.collapse=function(a,b){this.toggleShapeScheme(false,a,b);};
u.prototype.toggleShapeScheme=function(b,a,i){var w=[];if(typeof i==="number"){w=[i];}else if(Array.isArray(i)){w=i;}if(w.length===0||!a){return;}var x=this.getShapeSchemes().filter(function(B){return B.getKey()===a;});if(x==null||x.length===0||x.length>1){return;}var y=this.getPrimaryShapeScheme();var z=this._oExpandModel.isTableRowHeightNeedChange(b,this.getTable(),w,y,x[0]);if(z){this.getTable().invalidate();}};
u.prototype.isShapeVisible=function(a){if(a&&a.isVisible()){return true;}var b=this.getRenderedTimeRange(),i=b[0],w=b[1];var x=a.getTime(),y=a.getEndTime();var z=function(B){return(B>=i&&B<=w);};if(a.getSelected()||!x||!y){return true;}else if(x&&y){return z(x)||z(y)||(x<=i&&y>=w);}else if(x&&!y){return z(x);}else if(!x&&y){return z(y);}};
u.prototype.doBirdEye=function(i){var z=this._getZoomExtension();z.doBirdEye(i);};
return u;},true);
sap.ui.predefine('sap/gantt/simple/GanttChartWithTableRenderer',["sap/gantt/library"],function(l){"use strict";var G={};
G.render=function(r,c){this.renderSplitter(r,c);};
G.renderSplitter=function(r,c){r.write("<div");r.writeControlData(c);r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.addClass("sapGanttChartWithSingleTable");if(c.getDisplayType()===l.simple.GanttChartWithTableDisplayType.Chart){r.addClass("sapGanttChartWithTableShowOnlyChart");}r.writeClasses();r.write(">");var s=c.getAggregation("_splitter");s.getContentAreas()[0].getLayoutData().setSize(c.getSelectionPanelSize());r.renderControl(s);r.write("</div>");};
return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttConnectExtension',["jquery.sap.global","sap/ui/core/Core","sap/gantt/library","./GanttExtension","./CoordinateUtils","./GanttUtils"],function(q,C,l,G,a,b){"use strict";var _=".sapGanttShapeConnect";var R=l.simple.RelationshipType;var S={addEventListeners:function(g){this.removeEventListeners(g);var e=g._getConnectExtension();e.shapeConnectDoms().shapeConnectTriggers.on("mousedown"+_,e.beforeShapeConnect.bind(e));},removeEventListeners:function(g){var e=g._getConnectExtension();e.shapeConnectDoms().shapeConnectTriggers.off(_);},addShapeConnectEventListeners:function(g){this.removeShapeConnectEventListeners(g);var e=g._getConnectExtension();var $=q(document);$.on("mousemove"+_,e.onMousemove.bind(e));$.on("mouseup"+_,e.endShapeConnect.bind(e));$.on("keydown"+_,e.onKeydown.bind(e));},removeShapeConnectEventListeners:function(g){q(document).off(_);}};
var c=G.extend("sap.gantt.simple.GanttConnectExtension",{_init:function(g,s){this._initShapeConnectStates();return"ConnectExtension";}});
c.prototype.attachShapeConnectEvents=function(){var g=this.getGantt();S.addEventListeners(g);if(this.isShapeConnecting()){S.addShapeConnectEventListeners(g);}};
c.prototype._initShapeConnectStates=function(){this.mDom={};this._oStartShape={};this._bShapeConnecting=false;this._oScrollDistance={x:0,y:0};this._bElementConnectable=false;};
c.prototype.getRlsStartShape=function(){return this._oStartShape;};
c.prototype.getSvgElement=function(){return this.getDomRefs().ganttSvg;};
c.prototype._getShapeConnectRootNode=function(){var $=this.shapeConnectDoms().shapeConnect;return d3.select($.get(0));};
c.prototype.setDomSelector=function(){var d=this.shapeConnectDoms();this.mDom.connectLine=d.connectLine;this.mDom.ghostRect=d.shapeConnectGhost;};
c.prototype.createConnectLine=function(f,s){var p=this.getGantt()._getPointerExtension();var x=s.x+p._getAutoScrollStep();var L={"class":"shapeConnectLine",x1:f.x+f.width/2,y1:f.y+f.width/2,x2:x,y2:s.y};if(this.getD3Doms().shapeConnectLine.empty()){var o=this._getShapeConnectRootNode();o.append("line").attr(L);}};
c.prototype.createGhostRect=function(f,s){var p=this.getGantt()._getPointerExtension();var x=f.x+p._getAutoScrollStep();var g={"class":"shapeConnectGhost",x:x-f.width/2,y:s.y-f.width/2,width:f.width,height:f.width};if(this.getD3Doms().shapeConnectGhost.empty()){var o=this._getShapeConnectRootNode();o.append("rect").attr(g);}};
c.prototype.isShapeConnecting=function(){return this._bShapeConnecting;};
c.prototype.updateShapeConnectEffect=function(g){if(this.isShapeConnecting()){var o=a.getLatestCursorPosition();var f=this.getStartShapeFrame();var s=this.getSvgElement();var d=a.getEventSVGPoint(s,o);this.createConnectLine(f,d);this.createGhostRect(f,d);this.showIndicator();this.setDomSelector();this.attachShapeConnectEvents();}};
c.prototype.beforeShapeConnect=function(e){var $=q(e.target);var s=$.parents("g").attr(b.SELECT_FOR_DATASET_KEY);this._bElementConnectable=true;var r=C.getConfiguration().getRTL();var f=e.target.getBBox();var d;if(r){d=$.hasClass("rightTrigger")?"Start":"Finish";}else{d=$.hasClass("leftTrigger")?"Start":"Finish";}this._oScrollDistance={x:0,y:0};this._oStartShape={startTriggerFrame:f,x:f.x+f.width/2,y:f.y+f.width/2,shapeUid:s,isRightTrigger:$.hasClass("rightTrigger"),startPoint:d};S.addShapeConnectEventListeners(this.getGantt());};
c.prototype.toggleShapeConnectTrigger=function(){var g=this.getGantt();g._updateShapeSelections(g.getSelectedShapeUid(),[]);};
c.prototype.getStartShapeFrame=function(){var f={x:0,y:0,width:b.SHAPE_CONNECT_INDICATOR_WIDTH};if(this.isShapeConnecting()){var $=this.shapeConnectDoms().startShapeConnectTrigger;if($&&$.length===1){return $.get(0).getBBox();}else{f.x=this._oStartShape.x-this._oScrollDistance.x;f.y=this._oStartShape.y-this._oScrollDistance.y;}}return f;};
c.prototype._getAcceptableShapeElements=function(){var A=[];var t=this;this.shapeConnectDoms().connectableShapes.each(function(i,s){var o=q(s).control(0,true);if(o&&t._oStartShape.shapeUid!==o.getShapeUid()&&o.getDomRef()){A.push(o);}});return A;};
c.prototype.showIndicator=function(){if(!this.isShapeConnecting()){return;}var i=[];var t=this;this._getAcceptableShapeElements().forEach(function(s){i.push(t._getIndicatorData(s));});this.getD3Doms().shapeConnectContainers.data(i).enter().append("g").classed("shapeConnectContainer",true).attr("id",function(d){return d.id+"-shape-connect";}).attr(b.SHAPE_CONNECT_FOR_DATASET_KEY,function(d){return d.id;}).each(function(d){var g=d3.select(this);g.append("rect").attr(d.left);g.append("rect").attr(d.right);});this.attachEventHandlerToIndicator();};
c.prototype.onMousemove=function(e){if(this._bElementConnectable===false){return;}if(!this.isShapeConnecting()){this._bShapeConnecting=true;var s=this.getSvgElement();var o=a.getEventSVGPoint(s,e);this.createConnectLine(this._oStartShape.startTriggerFrame,o);this.createGhostRect(this._oStartShape.startTriggerFrame,o);this.showIndicator();this.toggleShapeConnectTrigger();this.setDomSelector();}else{this.onShapeConnecting(e);}};
c.prototype.onShapeConnecting=function(e){var s=this.getSvgElement();var o=a.getEventSVGPoint(s,e);var p=this.getGantt()._getPointerExtension();var x=o.x+p._getAutoScrollStep();this.mDom.connectLine.attr({x2:x,y2:o.y});var i=b.SHAPE_CONNECT_INDICATOR_WIDTH;this.mDom.ghostRect.attr({x:x-i/2,y:o.y-i/2});};
c.prototype.fireEvent=function(e){var $=q(e.target);var t=$.parents("g").attr(b.SHAPE_CONNECT_FOR_DATASET_KEY);var r=C.getConfiguration().getRTL();var E=(r?$.hasClass("rightIndicator"):$.hasClass("leftIndicator"))?"Start":"Finish";var T=this._oStartShape.startPoint+"To"+E;var o={fromShapeUid:this._oStartShape.shapeUid,toShapeUid:q.sap.byId(t).control(0).getShapeUid(),type:R[T]};var g=this.getGantt();g.fireShapeConnect(o);};
c.prototype.endShapeConnect=function(e){if(this.isShapeConnecting()){var s=this._getShapeConnectRootNode();s.selectAll("*").remove();}S.removeShapeConnectEventListeners(this.getGantt());this._initShapeConnectStates();this.toggleShapeConnectTrigger();};
c.prototype.onKeydown=function(e){if(this.isShapeConnecting()&&e.keyCode===q.sap.KeyCodes.ESCAPE){this.endShapeConnect(e);}};
c.prototype.toggleGhostRect=function(e){if(this.isShapeConnecting()){this.shapeConnectDoms().shapeConnectGhost.toggleClass("hideShapeConnectGhost");q(e.target).toggleClass("hoverOnShapeConnectIndicator");}};
c.prototype.attachEventHandlerToIndicator=function(){var i=this.shapeConnectDoms().indicators;i.off(_);i.on("mouseup"+_,this.fireEvent.bind(this));i.on("mouseover"+_+" mouseout"+_,this.toggleGhostRect.bind(this));};
c.prototype._getIndicatorData=function(s){var e=s.getId();var f=s.getDomRef().getBBox(),x=f.x,y=f.y,w=f.width,h=f.height;var r=b.SHAPE_CONNECT_INDICATOR_WIDTH-2;var m=2;var L=x-m-r,i=y+(h/2)-(r/2);var d=(x+w+m),g=i;var j={width:r,height:r};return{id:e,left:q.extend({x:L,y:i,"class":"leftIndicator shapeConnectIndicator"},j),right:q.extend({x:d,y:g,"class":"rightIndicator shapeConnectIndicator"},j)};};
c.prototype.storeScrollDistance=function(s,h){if(h){this._oScrollDistance.x+=s;}else{this._oScrollDistance.y+=s;}};
c.prototype.shapeConnectDoms=function(){var $=q(this.getSvgElement());var s='g['+b.SELECT_FOR_DATASET_KEY+'="'+this._oStartShape.shapeUid+'"]';var t=".shapeConnectTrigger."+(this._oStartShape.isRightTrigger?"rightTrigger":"leftTrigger");var d=$.find("g.sapGanttChartShapeConnect");var e=$.find("g.sapGanttChartSelection");return{shapeConnect:d,indicators:d.find(".shapeConnectContainer .shapeConnectIndicator"),shapeConnectGhost:d.find(".shapeConnectGhost"),connectLine:d.find(".shapeConnectLine"),connectableShapes:$.find("["+b.CONNECTABLE_DATASET_KEY+"=true]"),shapeConnectTriggers:e.find(".shapeConnectTrigger"),startShapeConnectTrigger:e.find(s+' '+t)};};
c.prototype.getD3Doms=function(){var n=this._getShapeConnectRootNode();return{shapeConnectLine:n.selectAll(".shapeConnectLine"),shapeConnectGhost:n.selectAll(".shapeConnectGhost"),shapeConnectContainers:n.selectAll(".shapeConnectContainer")};};
return c;});
sap.ui.predefine('sap/gantt/simple/GanttDragDropExtension',["jquery.sap.global","sap/ui/core/Core","sap/gantt/library","./GanttExtension","./CoordinateUtils","./GanttUtils","sap/gantt/misc/Format"],function(q,C,l,G,a,b,F){"use strict";var _=".sapGanttDragDrop";var e=["mousemove","mouseup","keydown"];var m="mousedown";var B=e.reduce(function(g,n){g[n]=n;return g;},{});B[m]=m;var E=e.map(function(s){return s+_;});var M=m+_;var I=3;var c=l.dragdrop.GhostAlignment;var D=sap.gantt.DragOrientation;var d={dispatchEvent:function(o){var g=this._getDragDropExtension();if(o.type===B.mousedown){g.onMouseDown(o);}else if(o.type===B.mousemove){g.onMouseMove(o);}else if(o.type===B.mouseup){g.onMouseUp(o);}else if(o.type===B.keydown){g.onKeydown(o);}},addEventListeners:function(g){this.removeEventListeners(g);var s=q(g._getDragDropExtension().getDomRefs().ganttSvg);s.on(M,d.dispatchEvent.bind(g));},removeEventListeners:function(g){var s=q(g._getDragDropExtension().getDomRefs().ganttSvg);s.off(_);},addDragDropEventListeners:function(g){this.removeDragDropEventListeners(g);E.forEach(function(s){q(document).on(s,d.dispatchEvent.bind(g));});},removeDragDropEventListeners:function(g){E.forEach(function(s){q(document).off(s);});}};
var f=G.extend("sap.gantt.simple.GanttDragDropExtension",{
_init:function(g,s){this._initDragStates();return"DragDropExtension";},
_attachEvents:function(){var g=this.getGantt();d.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();d.removeEventListeners(g);}
});
f.prototype._initDragStates=function(){this.bDragging=false;this.bElementDraggable=false;this.oMouseDownTarget=null;this.oLastDraggedShapeData=null;this.mDragPoint={};this.bDragging=false;this.$ghost=null;};
f.prototype.onMouseDown=function(o){this.bElementDraggable=this.isEventTargetDraggable(o);if(this.bElementDraggable){var p=a.getEventSVGPoint(this.getDomRefs().ganttSvg,o);var g=this.getDraggableDOMElement(o.target),h=g.getBBox();this.mDragPoint={cursorX:p.x,cursorY:p.y,shapeX:h.x,shapeY:h.y,shapeWidth:h.width};var i=this.getShapeElementByTarget(g);this.oMouseDownTarget=g;this.oLastDraggedShapeData={shapeUid:i.getShapeUid(),startTime:i.getTime(),endTime:i.getEndTime()};d.addDragDropEventListeners(this.getGantt());}};
f.prototype.updateCursorStyle=function(s){document.body.style.cursor=s;this.getDomRefs().ganttSvg.style.cursor=s;};
f.prototype.onMouseMove=function(o){if(this.skipEvent(o)){return;}if(this.bDragging===false){var n=a.getEventSVGPoint(this.getDomRefs().ganttSvg,o),g=this.isExceedDraggingThreshold(n),s=g&&this.isAllowedVerticalOrentationDrag();this.bDragging=s;if(s&&this.oMouseDownTarget){this._hideScrollBarOnBody(true);this.$ghost=this.createDragGhost(this.oMouseDownTarget);var h=this._getDragStartEventData(o);if(h){this.getGantt().fireDragStart(h);}}else if(g){this.updateCursorStyle("not-allowed");}}else{this.onDragging(o);}};
f.prototype.onMouseUp=function(o){if(this.bElementDraggable===true&&this.bDragging===false){this.stopDragging(o);return;}var g=this._getShapeDropEventData(o);this.stopDragging(o);if(g){this.getGantt().fireShapeDrop(g);}};
f.prototype._getDragStartEventData=function(o){return{sourceGanttChart:this.getGantt(),draggedShapeDates:this._getDraggedShapeDates(),lastDraggedShapeUid:this.oLastDraggedShapeData.shapeUid,cursorDateTime:this._getGhostTime(o).cursorTime};};
f.prototype._getShapeDropEventData=function(o){if(this.isValidDropZone(o)){var g=this.getGantt();var s=this._getDraggedShapeDates();var t=this.getGanttChartByTarget(o.target);var h=b.getRowInstance(o,t.getTable());var T=this.getShapeElementByTarget(o.target);var i=this._getGhostTime(o);return{sourceGanttChart:g,targetGanttChart:t,draggedShapeDates:s,lastDraggedShapeUid:this.oLastDraggedShapeData.shapeUid,targetRow:h,cursorDateTime:i.cursorTime,newDateTime:i.newDateTime,targetShape:T};}};
f.prototype._getGhostTime=function(o){var g=this.getGantt();var t=this.getGanttChartByTarget(o.target);var h=t!=null?(t.getId()!==g.getId()):false;var A=h?t.getAxisTime():g.getAxisTime();var i=h?q.sap.domById(t.getId()+"-svg"):q.sap.domById(g.getId()+"-svg");var j=a.getEventSVGPoint(i,o).x;var k=A.viewToTime(j);var n=k;var r=C.getConfiguration().getRTL();var s=this.mDragPoint.shapeX,S=r?-this.mDragPoint.shapeWidth:this.mDragPoint.shapeWidth,p=this.mDragPoint.cursorX;var u=k;var v=k;if(this.getGantt().getDragOrientation()===D.Vertical){u=this.oLastDraggedShapeData.startTime;v=this.oLastDraggedShapeData.endTime;n=u;}else{if(this.getGantt().getGhostAlignment()===c.Start){v=A.viewToTime(j+S);n=k;}else if(this.getGantt().getGhostAlignment()===c.End){u=A.viewToTime(j-S);n=k;}else if(this.getGantt().getGhostAlignment()===c.None){var N=r?(j-S-(p-s)):(j-(p-s));var w=A.viewToTime(N);u=w;v=A.viewToTime(N+S);n=w;}}return{newDateTime:n,cursorTime:k,time:u,endTime:v};};
f.prototype._getDraggedShapeDates=function(){var s=this.getGantt().getSelection();var S=s.allSelectedDraggableUid();var o={};S.forEach(function(u){var g=s.getSelectedShapeDataByUid(u);o[u]={time:g.time,endTime:g.endTime};});return o;};
f.prototype.getDroppedShapeStartTime=function(i,A,o){if(this.getGantt().getGhostAlignment()===c.None){var s=this.mDragPoint.shapeX,S=this.mDragPoint.shapeWidth,g=this.mDragPoint.cursorX;var r=C.getConfiguration().getRTL();var n=r?(i+S-(g-s)):(i-(g-s));var N=A.viewToTime(n),h=F.abapTimestampToDate(N);return h;}return o;};
f.prototype.isValidDropZone=function(o){return q(o.target).closest("svg.sapGanttChartSvg").length===1;};
f.prototype._hideScrollBarOnBody=function(h){q(document.body).toggleClass("sapGanttDraggingOverflow",h);};
f.prototype.onKeydown=function(o){if(this.skipEvent(o)){return;}if(o.keyCode===q.sap.KeyCodes.ESCAPE){this.stopDragging(o);}};
f.prototype.stopDragging=function(o){this._enableTextSelection();this._avoidShapeSelectionAfterDragging();this.removeGhost();this._initDragStates();this.updateCursorStyle("default");this._hideScrollBarOnBody(false);this._stopAutoScroll();d.removeDragDropEventListeners(this.getGantt());};
f.prototype._avoidShapeSelectionAfterDragging=function(){if(this.bDragging&&this.oMouseDownTarget){var o=this.getShapeElementByTarget(this.oMouseDownTarget);q.sap.delayedCall(100,this,function(){if(o){q.sap.clearDelayedCall(o.iSingleClickTimer);}},[]);}};
f.prototype.isEventTargetDraggable=function(o){var s=this.getShapeElementByTarget(o.target);if(s){return s.getSelected()&&s.getDraggable();}return false;};
f.prototype.getShapeElementByTarget=function(t){return q(this.getDraggableDOMElement(t)).control(0,true);};
f.prototype.getGanttChartByTarget=function(t){return q(t).closest("svg.sapGanttChartSvg").control(0,true);};
f.prototype.getDraggableDOMElement=function(t){return q(t).closest("["+b.SHAPE_ID_DATASET_KEY+"]").get(0);};
f.prototype.isExceedDraggingThreshold=function(p){return Math.abs(p.x-this.mDragPoint.cursorX)>I||Math.abs(p.y-this.mDragPoint.cursorY)>I;};
f.prototype.onDragging=function(o){if(this.$ghost){var p=this.getGantt()._getPointerExtension();if(p.isPointerInGanttChart()===false){this.updateCursorStyle("not-allowed");this._stopAutoScroll();}else{this.updateCursorStyle("move");}this.showGhost(o);this._disableTextSelection();}};
f.prototype._stopAutoScroll=function(){var p=this.getGantt()._getPointerExtension();p._bAutoScroll=false;};
f.prototype.isDragging=function(){return this.bDragging;};
f.prototype.skipEvent=function(o){return this.bElementDraggable===false;};
f.prototype.showGhost=function(o){var A=this.getGantt().getGhostAlignment();var O=this.calcGhostOffsetByAlignment(o,A);q.sap.byId("sapGanttDragGhostWrapper").css(O).css({"visibility":"visible"});};
f.prototype.calcGhostOffsetByAlignment=function(o,A){var r=C.getConfiguration().getRTL();var s=this.mDragPoint.shapeWidth,S=this.mDragPoint.shapeX,i=this.mDragPoint.cursorX;var g;var h=a.xPosOfEvent(o);if(this.getGantt().getDragOrientation()===D.Vertical){var j=a.getSvgScreenPoint(this.getDomRefs().ganttSvg,{pageX:this.mDragPoint.shapeX,clientX:this.mDragPoint.shapeX,pageY:this.mDragPoint.shapeY,clientY:this.mDragPoint.shapeY});g=j.x;}else{if(A===c.Start){g=r?(h-s):h;}else if(A===c.None){g=h+(S-i);}else if(A===c.End){g=r?h:(h-s);}}var t=(a.getEventPosition(o).pageY-2);if(this.getGantt().getDragOrientation()===D.Horizontal){var k=a.getSvgScreenPoint(this.getDomRefs().ganttSvg,{pageX:this.mDragPoint.shapeX,clientX:this.mDragPoint.shapeX,pageY:this.mDragPoint.shapeY,clientY:this.mDragPoint.shapeY});t=k.y;}return{left:g+"px",top:t+"px"};};
f.prototype.removeGhost=function(){this.$ghost=null;q.sap.byId("sapGanttDragGhostWrapper").remove();};
f.prototype.createDragGhost=function(L){var $=q("<div id='sapGanttDragGhostWrapper'></div>");q(document.body).append($);var g=document.createElement("canvas");var h=L.getBBox();g.width=this.normalizeGhostImageWidth(h.width);g.height=h.height;this.createGhostImage(L,g);return $;};
f.prototype.normalizeGhostImageWidth=function(w){return w;};
f.prototype.createGhostImage=function(L,g){var s=this.serializeClonedSvg(g,L);var h=this._b64EncodeUnicode(s);var i="data:image/svg+xml;base64,"+h;this.appendGhostImageToWrapper(L,i);};
f.prototype._b64EncodeUnicode=function(s){return btoa(encodeURIComponent(s).replace(/%([0-9A-F]{2})/g,function toSolidBytes(g,p){return String.fromCharCode('0x'+p);}));};
f.prototype.appendGhostImageToWrapper=function(L,g){var n=this.getNumberOfDragObject(L);var $=q.sap.byId("sapGanttDragGhostWrapper");var s=this._getDragTextOverlayStyle(L);q("<div class='sapGanttDragGhost'>"+"<img class='sapGanttDragGhostImg' src='"+g+"'/>"+"<div class='sapGanttDragTextOverlay "+s.css+"' style='"+s.style+"'>"+n+"</div>"+"</div>").appendTo($);};
f.prototype._getDragTextOverlayStyle=function(L){var r=C.getConfiguration().getRTL();var A=this.getGantt().getGhostAlignment();var s=this.mDragPoint.shapeWidth,S=this.mDragPoint.shapeX,i=this.mDragPoint.cursorX;var g=i-S;var h="";var j="";if(A===c.None){j=r?("right: "+(s-g)+"px;"):("left: "+(g)+"px;");}else if(A===c.End){h="sapGanttDragTextOverlayGhostAlignEnd";}var k="line-height: "+L.getBBox().height+"px;"+j;return{style:k,css:h};};
f.prototype.serializeClonedSvg=function(g,o){var s=d3.ns.prefix.svg;var h=o.getBBox();var i=document.createElementNS(s,"svg");i.setAttribute("width",g.width);i.setAttribute("height",g.height);var j=o.cloneNode(true);this.removeOriginalTextNode(j);var k=document.createElementNS(s,"g");k.setAttribute("transform","translate("+-(h.x)+", "+-(h.y)+")");k.appendChild(j);var S=this.getGantt().getSvgDefs();if(S){var n=q.sap.byId(S.getId()).get(0).cloneNode(true);i.appendChild(n);}i.appendChild(k);return new XMLSerializer().serializeToString(i);};
f.prototype.removeOriginalTextNode=function(n){if(n.tagName==="text"){n.parentNode.removeChild(n);}var g=n.children||n.childNodes;for(var i=0;i<g.length;i++){this.removeOriginalTextNode(g[i]);}};
f.prototype.getNumberOfDragObject=function(L){var s=this.getGantt().getSelection();var S=s.numberOfSelectedDraggableShapes();var r=C.getLibraryResourceBundle("sap.gantt");var o=r.getText("GNT_DRAGGED_OBJECT");var O=r.getText("GNT_DRAGGED_OBJECTS");var g=S>1?O:o;return S+" "+g;};
f.prototype._disableTextSelection=function(){q(document.body).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).bind("selectstart",function(o){o.preventDefault();return false;});};
f.prototype._enableTextSelection=function(){q(document.body).attr("unselectable","off").css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}).unbind("selectstart");};
f.prototype.isAllowedVerticalOrentationDrag=function(){var g=this.getGantt();if(g.getDragOrientation()===D.Vertical){return g.oSelection.numberOfSelectedDraggableShapes()<2;}return true;};
return f;});
sap.ui.predefine('sap/gantt/simple/GanttExtension',["sap/ui/base/Object"],function(B){"use strict";
var G=B.extend("sap.gantt.simple.GanttExtension",{
_gantt:null,
_settings:null,
constructor:function(g,s){B.call(this);this._gantt=g;this._settings=s||{};var e=this._init(this._gantt,this._settings);if(e){var t=this;g["_get"+e]=function(){return t;};}},
destroy:function(){this._detachEvents();this._gantt=null;B.prototype.destroy.apply(this,arguments);},
getInterface:function(){return this;}
});
G.prototype.getGantt=function(){return this._gantt;};
G.prototype.getDomRefs=function(){var b=function(s){return jQuery.sap.domById(this.getGantt().getId()+s);}.bind(this);var h=b("-header-svg"),H=null;if(h){H=h.parentNode;}return{gantt:b("-gantt"),ganttSvg:b("-svg"),header:H,headerSvg:h};};
G.prototype._init=function(g,s){return null;};
G.prototype._attachEvents=function(){};
G.prototype._detachEvents=function(){};
G.attachEvents=function(g){if(!g._aExtensions){return;}for(var i=0;i<g._aExtensions.length;i++){g._aExtensions[i]._attachEvents();}};
G.detachEvents=function(g){if(!g._aExtensions){return;}for(var i=0;i<g._aExtensions.length;i++){g._aExtensions[i]._detachEvents();}};
G.enrich=function(g,E,s){if(!E||!(E.prototype instanceof G)){return null;}var e=new E(g,s);if(!g._aExtensions){g._aExtensions=[];}g._aExtensions.push(e);return e;};
G.cleanup=function(g){if(!g._bExtensionsInitialized||!g._aExtensions){return;}for(var i=0;i<g._aExtensions.length;i++){g._aExtensions[i].destroy();}delete g._aExtensions;delete g._bExtensionsInitialized;};
return G;});
sap.ui.predefine('sap/gantt/simple/GanttHeader',["sap/ui/core/Element","sap/ui/core/Core","sap/ui/Device","./RenderUtils","../misc/Utility"],function(E,C,D,R,U){"use strict";
var G=E.extend("sap.gantt.simple.GanttHeader");
G.prototype.renderElement=function(){var r=C.createRenderManager();var g=this.getParent();var s=g.getId();var h=jQuery("div.sapGanttChartWithTableHeader[data-sap-ui-related="+s+"]");var H=h.height();var i=R.getGanttRenderWidth(g);var n=H/2,a=H/5*2,b=H/5*4;var A=g.getAxisTimeStrategy(),t=A.getTimeLineOption(),o=g.getAxisTime();var l=o.getTickTimeIntervalLabel(t,null,[0,i]);r.write("<svg id='"+s+"-header-svg' class='sapGanttChartHeaderSvg' height='"+H+"px' width='"+i+"'>");r.write("<g>");this.renderHeaderLabel(r,l[0],{y:a,className:"sapGanttTimeHeaderSvgText0",fontSize:14});this.renderHeaderLabel(r,l[1],{y:b,className:"sapGanttTimeHeaderSvgText1",fontSize:14});this.renderIntervalLine(r,l[0],{start:0,end:n,className:"sapGanttTimeHeaderLargeIntervalSvgPath"});this.renderIntervalLine(r,l[1],{start:b,end:H,className:"sapGanttTimeHeaderSvgPath"});r.write("</g>");var N=o.getNowLabel()[0].value;this.renderNowLineHeader(r,g,{headerHeight:H,nowLineX:N});r.write("</svg>");r.flush(h.get(0));r.destroy();};
G.prototype.renderHeaderLabel=function(r,l,a){var b=C.getConfiguration().getRTL();var i=(D.browser.msie||D.browser.edge)&&b;l.forEach(function(d){r.write("<text");r.addClass(a.className);r.writeClasses();r.writeAttribute("text-anchor","start");r.writeAttribute("x",d.value+(b?-5:5));r.writeAttribute("y",a.y);if(i){var o=U.calculateStringLength(d.label)*(a.fontSize/2);r.writeAttribute("transform","translate("+(-o)+")");}r.write(">");r.write(d.label);if(a.className==="sapGanttTimeHeaderSvgText1"&&d.largeLabel){r.write("<title>");r.write(d.largeLabel);r.write("</title>");}r.write("</text>");});};
G.prototype.renderIntervalLine=function(r,l,a){var p="";for(var i=0;i<l.length;i++){var L=l[i];if(L){p+=" M"+" "+(L.value-1/2)+" "+a.start+" L"+" "+(L.value-1/2)+" "+a.end;}}r.write("<path");r.writeAttribute("d",p);r.addClass(a.className);r.writeClasses();r.write(">");r.write("</path>");};
G.prototype.renderNowLineHeader=function(r,g,a){var h=a.headerHeight,n=a.nowLineX;if(g.getEnableNowLine()===false||isNaN(n)){return;}var l=8;var b=l/2,t=Math.sqrt(l*l-b*b);var p=[[n,h],[n-b,h-t],[n+b,h-t],[n,h]].reduce(function(I,c,i){var P=c.join(",");return i===0?"M"+P:(I+"L"+P);},"");r.write("<g class='sapGanttNowLineHeaderSvgPath'>");r.write("<path");r.writeAttribute("d",p);r.write("/>");r.write("</g>");};
return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttPointerExtension',["jquery.sap.global","sap/ui/core/Core","./GanttExtension","../drawer/CursorLine","./CoordinateUtils"],function(q,C,G,a,b){"use strict";var n=".sapGanttPointer";var c="contextmenu"+n;var m=["mouseenter","mouseleave","click","dblclick","mouseup","mousedown"],M=m.map(function(E){return E+n;});var s="mousemove",d=s+n,e=d+" mouseup"+n;var B=m.reduce(function(i,j){i[j]=j;return i;},{});B[s]=s;var D={Forward:"forward",Backward:"backward",Bottom:"bottom",Top:"top"};var f=200;var g={addEventListeners:function(o){var E=o._getPointerExtension(),$=q(E.getDomRefs().ganttSvg),i=q(E.getDomRefs().headerSvg);g.removeEventListeners(o);M.forEach(function(j){$.on(j,E.onGanttChartMouseEvent.bind(E));});$.on(e,E.onCrossSvgMouseEvent.bind(E));$.on(d,E.updateGanttCursorLine.bind(E));this.bindBackgroundRowEvent($,E);i.on(B.mousedown+n,function(j){j.preventDefault();j.stopPropagation();j.stopImmediatePropagation();return false;});q("body #"+o.getId()).on(d,b.updateCursorPosition);},removeEventListeners:function(o){var E=o._getPointerExtension(),$=q(E.getDomRefs().ganttSvg),i=q(E.getDomRefs().headerSvg);$.off(n);i.off(B.mousedown+n);this.unbindBackgroundRowEvent($);},doGanttAutoScroll:function(o,i,E,l){var j=o._getPointerExtension();if(j.iTableAutoScrollTimerId){q.sap.clearDelayedCall(j.iTableAutoScrollTimerId);j.iTableAutoScrollTimerId=null;}if(j._bAutoScroll){if(!j.allowAutoScroll()){return;}j._toggleCursorLine(false);var r=o._getResizeExtension();if(r.isResizing()){r.onResizing(E);}var k=o._getConnectExtension();if(k.isShapeConnecting()){k.onShapeConnecting(E);}var p=o._getPopoverExtension();p._updatePopoverWhenAutoScroll(E);var z=o._getZoomExtension();z._handleAutoScroll(E);var R=C.getConfiguration().getRTL();var S=30;if(D.Backward===i||D.Top===i){S=(-1)*S;}if(D.Backward===i||D.Forward===i){j._iStep=S;}else{j._iStep=0;}var $=this.getScrollArea(o,i);var t,H=false;if(i===D.Forward||i===D.Backward){t=R?"scrollLeftRTL":"scrollLeft";H=true;}else{t="scrollTop";H=false;}k.storeScrollDistance(S,H);var T=$[t]()+S;$[t](T);var u=$[t]();if(u!==T){k.storeScrollDistance(u-T,H);}if(!(l!==undefined&&l===u)){j.iTableAutoScrollTimerId=q.sap.delayedCall(f,g,g.doGanttAutoScroll,[o,i,E,u]);}}},getScrollArea:function(o,i){var S;var t=o.getTable();var T=q(t.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar));if(i===D.Forward||i===D.Backward){S=q.sap.byId(o.getId()+"-hsb");}else{S=T;}return S;},bindBackgroundRowEvent:function($,E){function j(r){q(r).on(B.mouseenter+n+" "+B.mouseleave+n,function(o){var I=E._getRowIndexFromEvent(o);E.onMouseHover(I,o.type===B.mouseenter);});q(r).on(B.click+n+" "+B.dblclick+n,function(o){E.dispatchGanttClick(o);});q(r).on(c,function(o){E.onGanttChartContextMenu(o);});}var k=$.find("rect.sapGanttBackgroundSVGRow");var l=k.length;for(var i=0;i<l;i++){j(k[i]);}},unbindBackgroundRowEvent:function($){var j=$.find("rect.sapGanttBackgroundSVGRow");var l=j.length;for(var i=0;i<l;i++){q(j[i]).off(n);}}};
var h=G.extend("sap.gantt.simple.GanttPointerExtension",{
_init:function(o,S){this._oCursorLineDrawer=new a();this.bPreventSingleClick=false;this.iTableAutoScrollTimerId=null;this._iStep=0;return"PointerExtension";},
_attachEvents:function(){var o=this.getGantt();g.addEventListeners(o);},
_detachEvents:function(){var o=this.getGantt();g.removeEventListeners(o);},
destroy:function(){if(this._oCursorLineDrawer){this._oCursorLineDrawer.destroy();}delete this.bPreventSingleClick;}
});
h.prototype.onGanttChartContextMenu=function(E){E.preventDefault();if(E.target===E.currentTarget){var o=this.getGantt();var i=this._getRowIndexFromEvent(E);var r=o.getTable().getRows()[i];o.fireShapeContextMenu({row:r,pageX:E.pageX,pageY:E.pageY});}};
h.prototype.onGanttChartMouseEvent=function(E){this.updateGanttCursorLine(E);if(E.type===B.mousedown){this.oMousedownTargetElement=E.target;}this.onMouseEnterLeaveEvent(E);};
h.prototype.onCrossSvgMouseEvent=function(E){var o=this.getGantt();if(E.type===B.mousemove){if(this.needAutoscrollInContainerIfNecessary()){this.updateCursorStyle("move");this.tableAutoScroll(E);}else{var i=o._getDragDropExtension();var j=o._getConnectExtension();var r=o._getResizeExtension();var z=o._getZoomExtension();if((i.isDragging()||r.isResizing()||j.isShapeConnecting()||z.isTimeZooming())){this.tableAutoScroll(E);}}}if(E.type===B.mouseup){this.oMouseupTargetElement=E.target;this._bAutoScroll=false;}};
h.prototype.needAutoscrollInContainerIfNecessary=function(){var o=this.getGantt().getParent();if(o&&o.getGanttCharts){var i=o.getGanttCharts();var j=this.getGantt();return i.some(function(k){return k!==j&&k._getDragDropExtension().isDragging();});}return false;};
h.prototype.updateCursorStyle=function(S){document.body.style.cursor=S;this.getDomRefs().ganttSvg.style.cursor=S;};
h.prototype.isPointerInGanttChart=function(E){return this._bMouseOnSvg;};
h.prototype.onMouseEnterLeaveEvent=function(E){this.updateCursorStyle("default");if(E.type===B.mouseenter){this._bMouseOnSvg=true;}else if(E.type===B.mouseleave){this._bMouseOnSvg=false;}};
h.prototype.dispatchGanttClick=function(E){if(this.isEventTargetOnGanttRow(E)===false){return;}if(E.type===B.click){if(this.oMousedownTargetElement===this.oMouseupTargetElement){this.onGanttSingleClick(E);delete this.oMouseupTargetElement;delete this.oMousedownTargetElement;}}else if(E.type===B.dblclick){this.onGanttDoubleClick(E);}};
h.prototype.isEventTargetOnGanttRow=function(E){return q(E.target).hasClass("sapGanttBackgroundSVGRow");};
h.prototype._getRowIndexFromEvent=function(E){return parseInt(E.target.getAttribute("data-sap-ui-index"),10);};
h.prototype.onGanttSingleClick=function(E){this.getGantt().getSelection().update(null,{selected:false,ctrl:E.ctrlKey||E.metaKey});var o=this.getGantt();var i=this._getRowIndexFromEvent(E);var r=o.getTable().getRows()[i];if(!r){return;}this.iSingleClickTimer=q.sap.delayedCall(300,this,function(){if(this.bPreventSingleClick===false){this._selectTableRow(o,i);}this.bPreventSingleClick=false;},[]);};
h.prototype.onGanttDoubleClick=function(E){q.sap.clearDelayedCall(this.iSingleClickTimer);this.bPreventSingleClick=true;var o=this.getGantt();var i=this._getRowIndexFromEvent(E);var r=o.getTable().getRows()[i];this._selectTableRow(o,i);o.fireShapeDoubleClick({shape:null,row:r});};
h.prototype._selectTableRow=function(o,i){var t=this.getGantt().getTable().getSelectionBehavior();var S=sap.ui.table.SelectionBehavior;if(S.Row===t||S.RowOnly===t){o.getSyncedControl().syncRowSelection(i);}};
h.prototype.onMouseHover=function(i,H){this.getGantt().getSyncedControl().syncRowHover(i,H);};
h.prototype._getAutoScrollStep=function(){if(this._bAutoScroll){return this._iStep;}return 0;};
h.prototype.updateGanttCursorLine=function(E){if(this.getGantt().getEnableCursorLine()===false){return;}if(E.type===B.mousemove){var S=b.getEventSVGPoint(this.getDomRefs().ganttSvg,E);this._toggleCursorLine(true,S);}else if(E.type===B.mouseleave){this._toggleCursorLine(false);}};
h.prototype._toggleCursorLine=function(S,p){var i=this._getCursorLineDOMs();if(S){this._oCursorLineDrawer.drawSvg(i.allGanttSvg,i.allHeaderSvg,this.getGantt().getLocale(),p);}else{this._oCursorLineDrawer.destroySvg(i.allGanttSvg,i.allHeaderSvg);}};
h.prototype._getCursorLineDOMs=function(){return{allHeaderSvg:d3.selectAll(".sapGanttChartWithSingleTable .sapGanttChartHeaderSvg"),allGanttSvg:d3.selectAll(".sapGanttChartWithSingleTable .sapGanttChartSvg")};};
h.prototype.tableAutoScroll=function(E){this._bAutoScroll=false;if(this.ifAutoScrollToRight()){q.sap.delayedCall(f,this,function(){g.doGanttAutoScroll(this.getGantt(),D.Forward,E);});}else if(this.ifAutoScrollToLeft()){q.sap.delayedCall(f,this,function(){g.doGanttAutoScroll(this.getGantt(),D.Backward,E);});}else if(this.ifAutoScrollToDown()){q.sap.delayedCall(f,this,function(){g.doGanttAutoScroll(this.getGantt(),D.Bottom,E);});}else if(this.ifAutoScrollToUp()){q.sap.delayedCall(f,this,function(){g.doGanttAutoScroll(this.getGantt(),D.Top,E);});}else{this._bAutoScroll=false;}};
h.prototype.ifAutoScrollToRight=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationX>A.oScrollAreaRect.left+A.iScrollAreaWidth-A.iScrollTriggerAreaWidth&&A.iLocationX<A.oScrollAreaRect.left+A.iScrollAreaWidth&&A.iScrollAreaScrollLeft+A.iScrollAreaWidth<A.oScrollArea.scrollWidth;return this._bAutoScroll;};
h.prototype.ifAutoScrollToLeft=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationX<A.oScrollAreaRect.left+A.iScrollTriggerAreaWidth&&A.iLocationX>A.oScrollAreaRect.left&&A.iScrollAreaScrollLeft>0;return this._bAutoScroll;};
h.prototype.ifAutoScrollToDown=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationY>A.oVisibleScrollAreaRect.top+A.iVisibleScrollAreaHeight-A.iScrollTriggerAreaHeight&&A.iLocationY<A.oVisibleScrollAreaRect.top+A.iVisibleScrollAreaHeight&&A.iScrollAreaScrollTop+A.iScrollAreaHeight-A.iBaseRowHeight<=A.iScrollHeight;return this._bAutoScroll;};
h.prototype.ifAutoScrollToUp=function(){var A=this.getAutoScrollPosition();this._bAutoScroll=A.iLocationY<A.oVisibleScrollAreaRect.top+A.iScrollTriggerAreaHeight&&A.iLocationY>A.oVisibleScrollAreaRect.top;return this._bAutoScroll;};
h.prototype.getAutoScrollPosition=function(){var r=C.getConfiguration().getRTL();var t=this.getGantt().getTable();var i=10,j=10,o=q.sap.domById(this.getGantt().getId()+"-gantt"),S=q(o),k=o.getBoundingClientRect(),l=S.outerWidth(),p=S.outerHeight(),u=k,v=p,w=this.getGantt()._oExpandModel.getBaseRowHeight(),x=r?S.scrollLeftRTL():S.scrollLeft();var T=q(t.getDomRef(sap.ui.table.SharedDomRef.VerticalScrollBar)),y=T.scrollTop(),z=T.get(0).scrollHeight;var A=b.getLatestCursorPosition().pageX,E=b.getLatestCursorPosition().pageY;return{iLocationX:A,iLocationY:E,oScrollAreaRect:k,oScrollArea:o,iScrollAreaWidth:l,iScrollTriggerAreaWidth:i,iScrollTriggerAreaHeight:j,iScrollAreaScrollLeft:x,oVisibleScrollAreaRect:u,iVisibleScrollAreaHeight:v,iScrollAreaScrollTop:y,iBaseRowHeight:w,iScrollHeight:z,iScrollAreaHeight:p};};
h.prototype.allowAutoScroll=function(){return this.ifAutoScrollToRight()||this.ifAutoScrollToLeft()||this.ifAutoScrollToDown()||this.ifAutoScrollToUp();};
return h;});
sap.ui.predefine('sap/gantt/simple/GanttPopoverExtension',["jquery.sap.global","sap/ui/core/Core","./GanttExtension","./GanttUtils","./CoordinateUtils"],function(q,C,G,a,b){"use strict";var _=".sapGanttPopover";var m="mousedown";var M=m+_;var e=["mousemove","mouseup","keydown"];var B=e.reduce(function(d,n){d[n]=n;return d;},{});var E=e.map(function(s){return s+_;});var P={dispatchEvent:function(o){var d=this._getPopoverExtension();if(o.type===B.mousemove){d.onMouseMove(o);}else if(o.type===B.mouseup){d.onMouseUp(o);}else if(o.type===B.keydown){d.onKeydown(o);}},entry:function(o){if(this.getShowShapeTimeOnDrag()){var d=this._getPopoverExtension();d.onMouseDown(o);}},addEventListeners:function(g){this.removeEventListeners(g);var s=q(g._getPopoverExtension().getDomRefs().ganttSvg);s.on(M,P.entry.bind(g));},removeEventListeners:function(g){var s=q(g._getPopoverExtension().getDomRefs().ganttSvg);s.off(M);},addPopoverEventListeners:function(g){this.removePopoverEventListeners(g);E.forEach(function(s){q(document).on(s,P.dispatchEvent.bind(g));});},removePopoverEventListeners:function(g){q(document).off(_);}};
var c=G.extend("sap.gantt.simple.GanttPopoverExtension",{
_init:function(g,s){this._initPopoverStates();return"PopoverExtension";},
_attachEvents:function(){var g=this.getGantt();P.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();P.removeEventListeners(g);}
});
c.prototype._initPopoverStates=function(){this._iOffsetX=10;this._iOffsetY=32;this._bNeedReverse=false;};
c.prototype.onMouseMove=function(o){if(this.isDraggingOrResizing(o)){this._showPopover(o);}};
c.prototype.onMouseDown=function(o){P.addPopoverEventListeners(this.getGantt());};
c.prototype.onMouseUp=function(o){P.removePopoverEventListeners(this.getGantt());this._hidePopover(o);this._initPopoverStates();};
c.prototype.onKeydown=function(o){if(!this.isDraggingOrResizing(o)){return;}if(o.keyCode===q.sap.KeyCodes.ESCAPE){P.removePopoverEventListeners(this.getGantt());this._hidePopover(o);this._initPopoverStates();}};
c.prototype.isDraggingOrResizing=function(o){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();return d.isDragging()||r.isResizing();};
c.prototype._buildPopover=function(o){var s=C.getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_START");var d=C.getLibraryResourceBundle("sap.gantt").getText("GNT_CURRENT_END");var f=function(l,S){var g="<span class='sapUiTinyMarginEnd sapMLabel'>"+l+"</span>"+"<span class='sapMLabel "+S+"'></span>";return"<div class='sapUiTinyMargin'>"+g+"</div>";};this.oTimePopover=q("<div id='sapGanttPopoverWrapper'>"+f(s,"sapGanttPopoverStartTime")+f(d,"sapGanttPopoverEndTime")+"</div>");this.createAnchor();this._calcPopoverOffset();var $=q.sap.byId("sapGanttPopoverAnchor");$.append(this.oTimePopover);var p=this._getPopoverData(o);this._updateTime(p);};
c.prototype._updateTime=function(p){var r=C.getConfiguration().getRTL();var s=r?"marginRight":"marginLeft";var S={marginTop:p.offsetY+"px"};S[s]=p.offsetX+"px";var w=q.sap.byId("sapGanttPopoverWrapper").css(S);w.find(".sapGanttPopoverStartTime").html(p.startNewDate);w.find(".sapGanttPopoverEndTime").html(p.endNewDate);};
c.prototype._getDragDropOrResizingDom=function(){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();if(d.isDragging()){return d.$ghost.get(0);}else if(r.isResizing()){var s=a.getShapesWithUid(this.getGantt().getId(),[r.origin.resizeFor]);if(s.length===1&&s[0]){return document.getElementById(s[0].getShapeUid()+"-selected");}}};
c.prototype.createAnchor=function(o){var $=q.sap.byId("sapGanttPopoverAnchor");if($.length===0){$=q("<div id='sapGanttPopoverAnchor'></div>");q(document.body).append($);}this._oTargetDom=$.get(0);};
c.prototype.moveAnchor=function(o){var p=b.getEventPosition(o),i=p.pageX,d=p.pageY,s=window.screen.width,S=window.screen.height;if(i<-this._iOffsetX){i=-this._iOffsetX;}else if(i>s+this._iOffsetX){i=s+this._iOffsetX;}var f=this._iOffsetY;if(this.oTimePopover){f+=this.oTimePopover.height();}if(d<-this._iOffsetY){d=-this._iOffsetY;}else if(d>S-f){d=S-f;}var l={left:i+"px",top:d+"px",visibility:"visible"};q.sap.byId("sapGanttPopoverAnchor").css(l);};
c.prototype.checkIfNeedReverse=function(o){var r=C.getConfiguration().getRTL();var p=b.getEventPosition(o);var w=this.oTimePopover.width()+10;if(r&&p.pageX<w||!r&&p.pageX+w>window.screen.width){this._bNeedReverse=true;}else{this._bNeedReverse=false;}};
c.prototype._showPopover=function(o){this.moveAnchor(o);if(this.oTimePopover){this.checkIfNeedReverse(o);this._calcPopoverOffset();var p=this._getPopoverData(o);this._updateTime(p);}else{this._buildPopover(o);}};
c.prototype._hidePopover=function(){if(this.oTimePopover){var $=q.sap.byId("sapGanttPopoverAnchor");$.css({"visibility":"hidden"});}};
c.prototype._getPopoverData=function(o){var d=this._getCurrentTime(o);var O=this._iOffsetX;if(this._bNeedReverse){O=-O-this.oTimePopover.width();}var p={offsetX:O,offsetY:this._iOffsetY};if(d){var f=a.getTimeFormaterBySmallInterval(this.getGantt());p.startNewDate=f.format(d.time);p.endNewDate=f.format(d.endTime);}return p;};
c.prototype._getCurrentTime=function(o){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();if(d.isDragging()){return d._getGhostTime(o);}else if(r.isResizing()){return r._getResizeTime(o);}};
c.prototype._calcPopoverOffset=function(){this._iOffsetY=this._getOffsetY();};
c.prototype._getOffsetY=function(){var d=this._getDragDropOrResizingDom();var D=d&&d.getBoundingClientRect();var o=32;if(D){o=D.height+2;}return Math.ceil(o);};
c.prototype._updatePopoverWhenAutoScroll=function(o){if(this.getGantt().getShowShapeTimeOnDrag()){var d=this.getGantt()._getDragDropExtension();var r=this.getGantt()._getResizeExtension();if(d.isDragging()||r.isResizing()){this._showPopover(o);}}};
return c;});
sap.ui.predefine('sap/gantt/simple/GanttResizeExtension',["jquery.sap.global","sap/ui/core/Core","./GanttExtension","./CoordinateUtils","./GanttUtils"],function(q,C,G,a,b){"use strict";
var c=G.extend("sap.gantt.simple.GanttResizeExtension",{_init:function(g,s){this._initResizeStatus();return"ResizeExtension";}});
var _=".sapGanttResizing";var D={color:"#596468",strokeWidth:1,strokeDasharray:"5, 1"};var R={None:0,LeftResize:1,RightResize:2};var v=function($,d){return parseFloat($.attr(d),10);};
c.prototype.getSelectionSettings=function(){if(!this.mSelectionSettings){var m=this.getGantt().getShapeSelectionSettings();if(q.isEmptyObject(m)){return D;}var d=q.extend(true,{},D);for(var s in d){if(m[s]){d[s]=m[s];}}this.mSelectionSettings=d;}return this.mSelectionSettings;};
c.prototype.getSelectionInlineStyle=function(){var s=this.getSelectionSettings();var S={fill:"transparent",stroke:s.color,"stroke-width":s.strokeWidth,"stroke-dasharray":s.strokeDasharray};return Object.keys(S).reduce(function(d,e){d+=(e+":"+S[e]+";");return d;},"");};
c.prototype.initDomSelector=function(){this.mDoms={};};
c.prototype.updateDomSelector=function(e){if(e){this.origin.shapeUid=q(e.target).parents("g").attr(b.SELECT_FOR_DATASET_KEY);}var r='g['+b.SELECT_FOR_DATASET_KEY+'="'+this.origin.shapeUid+'"]';var s={leftLine:r+" .leftLine",rightLine:r+" .rightLine",topLine:r+" .topLine",bottomLine:r+" .bottomLine",leftLineTrigger:r+" line.leftTrigger",rightLineTrigger:r+" line.rightTrigger",leftRectTrigger:r+" rect.leftTrigger",rightRectTrigger:r+" rect.rightTrigger",resizeRectCover:r+" rect.resizeCover"};for(var k in s){if(s.hasOwnProperty(k)){this.mDoms[k]=q(s[k]);}}};
c.prototype.getSvgElement=function(){var $=q.sap.byId(this.getGantt().getId());if($.length===0){q.sap.log.warning("can not find gantt chart, use gantt chart instance sId as the key is required");}return $.find("svg.sapGanttChartSvg").get(0);};
c.prototype._getShapeSelectionRootNode=function(){var s=this.getSvgElement(),$=q(s).find("g.sapGanttChartSelection");return d3.select($.get(0));};
c.prototype.toggleOutline=function(e){if(!e.getSelected()){this.removeOutline(e);return;}this.setFrame(e.getDomRef().getBBox());var d=e.getConnectable(),r=e.getResizable();if(d||r){this.renderResizerOutline(e);}else{this.renderPlainOutline(e);}};
c.prototype.clearAllOutline=function(s){this._getShapeSelectionRootNode().selectAll("*").remove();};
c.prototype.renderPlainOutline=function(e){var d=e.getDomRef();if(d){var r=!!e.getRlsAnchors;var B={x:e.getXBias(),y:e.getYBias()};var E=r?e.getD():this.determineOutlineByFrame(d.getBBox(),B);var s=this._getShapeSelectionRootNode();var p=r?this.createOutlineRlsNode(e,E):this.createOutlinePathNode(e,E);s.node().appendChild(p);}};
c.prototype.createOutlineRlsNode=function(e,o){var g=document.createElementNS(d3.ns.prefix.svg,"g");var l=document.createElementNS(d3.ns.prefix.svg,"path");var A=document.createElementNS(d3.ns.prefix.svg,"path");g.setAttribute("id",e.getShapeUid()+"-selected");g.setAttribute("aria-hidden","false");g.setAttribute("class","resizeContainer sapGanttSelectedPath");g.setAttribute("style",e.getSelectedStyle());l.setAttribute("d",o);A.setAttribute("d",e.getArrowPathD(o));g.appendChild(l);g.appendChild(A);return g;};
c.prototype.createOutlinePathNode=function(e,o){var p=document.createElementNS(d3.ns.prefix.svg,"path");p.setAttribute("id",e.getShapeUid()+"-selected");p.setAttribute("aria-hidden","false");p.setAttribute("class","resizeContainer sapGanttSelectedPath");var s=e.getSelectedStyle?e.getSelectedStyle():this.getSelectionInlineStyle();p.setAttribute("style",s);p.setAttribute("d",o);return p;};
c.prototype.determineOutlineByFrame=function(r,B){var x=r.x,y=r.y,w=r.width,h=r.height,d=x+w,e=y+h;var s=this.getSelectionSettings().strokeWidth,H=s/2;x=x-H+B.x;y=y-H+B.y;d=d+H+B.x;e=e+H+B.y;var f=["M",x,y,"L",d,y,"L",d,e,"L",x,e,"z"].join(" ").trim();return f;};
c.prototype.removeOutline=function(e){var r=document.getElementById(e.getShapeUid()+"-selected");if(r){q(r).remove();}};
c.prototype.renderResizerOutline=function(e){this.removeOutline(e);var d=e.getConnectable(),r=e.getResizable();var p=this.getOutlineLines();var s=this.createResizeContainer(e);this.renderSelectionBorders(p,s);if(r){this.renderResizeTriggerAndCover(p,s);this.attachMousedownEvent();}if(d){this.renderShapeConnectTrigger(e,s);this.getGantt()._getConnectExtension().attachShapeConnectEvents();}if(this.isResizing()){this.updateDomSelector();this.updateOriginShapeFrame();this.attachResizeEvents();}};
c.prototype.showShapeConnectTrigger=function(e){var E=this.getGantt()._getConnectExtension();var s=E.getRlsStartShape().shapeUid;return E.isShapeConnecting()?s===e.getShapeUid():true;};
c.prototype.renderSelectionBorders=function(p,g){g.selectAll(".border").data(p.border).enter().append("line").each(function(d){d3.select(this).attr(d);}).attr("class",function(d){return"border "+d.class+"Line";});};
c.prototype.renderResizeTriggerAndCover=function(p,g){g.selectAll(".lineTrigger").data(p.indicator).enter().append("line").each(function(d){d3.select(this).attr(d);}).attr("class",function(d){return"resizeTrigger lineTrigger "+d.class+"Trigger";}).attr({opacity:0,"stroke-width":3,style:"cursor: ew-resize"});var m=this.getResizeRectCoverAttrs();g.append("rect").attr(m);};
c.prototype.createResizeContainer=function(e){var s=this._getShapeSelectionRootNode();var g=s.append("g").classed("resizeContainer",true).attr("id",e.getShapeUid()+"-selected").attr(b.SELECT_FOR_DATASET_KEY,e.getShapeUid());return g;};
c.prototype.renderShapeConnectTrigger=function(e,g){var s=this.showShapeConnectTrigger(e);var r=this.getConnectSquaresData(s);g.selectAll(".rectTrigger").data(r.slice()).enter().append("rect").each(function(d){d3.select(this).attr(d);}).attr("class",function(d){return"shapeConnectTrigger rectTrigger "+d.class+"Trigger";}).attr({stroke:"#000","stroke-width":1});};
c.prototype.attachMousedownEvent=function(){var $=q("#"+this.getGantt().getId()+" svg.sapGanttChartSvg");var d=$.find(".resizeTrigger");d.off(_);d.bind("mousedown"+_,q.proxy(this.beforeResizing,this));};
c.prototype.attachResizeEvents=function(){this._removeDragEvents();var $=q(document);$.bind("mousemove"+_,q.proxy(this.onResizing,this));$.bind("mouseup"+_,q.proxy(this.endResizing,this));$.bind("keydown"+_,q.proxy(this.onKeydown,this));};
c.prototype._removeDragEvents=function(){var $=q(document);$.off(_);};
c.prototype.beforeResizing=function(e){var $=q(e.target),s=$.parents("g").attr(b.SELECT_FOR_DATASET_KEY);var E=this._getShapeByUid(s);if(!E){return;}this.setFrame(E.getDomRef().getBBox());this.updateDomSelector(e);this.origin.eventTarget=e.target;this.updateOriginShapeFrame();this.origin.resizeFor=s;if($.hasClass("leftTrigger")){this.currentAction=R.LeftResize;}else{this.currentAction=R.RightResize;}this._updateResizingEffect(true);this.attachResizeEvents();};
c.prototype.updateOriginShapeFrame=function(){var f=this.getFrame();this.origin.minX=f.x;this.origin.maxX=f.x+f.width;};
c.prototype.onResizing=function(e){if(this._shallSkip(e)){return;}this._updateResizingEffect(true);var s=this.getSvgElement();var E=a.getEventSVGPoint(s,e).x;var p=this.getGantt()._getPointerExtension();E=E+p._getAutoScrollStep();if(this.currentAction===R.RightResize){this._updateRightPartDoms(E);}else if(this.currentAction===R.LeftResize){this._updateLeftPartDoms(E);}};
c.prototype._updateResizingEffect=function(r){var o=r?0.4:0;this.mDoms.resizeRectCover.attr("opacity",o);};
c.prototype.isResizing=function(){return this.currentAction===R.LeftResize||this.currentAction===R.RightResize;};
c.prototype._updateRightPartDoms=function(e){var n=function(x){if(x-this.origin.minX<=2*this.getMargin()){return this.origin.minX+2*this.getMargin();}return x;}.bind(this);var x=n(e);this.mDoms.rightLine.attr({x1:x,x2:x});this.mDoms.rightLineTrigger.attr({x1:x,x2:x});this.mDoms.topLine.attr({x2:x});this.mDoms.bottomLine.attr({x2:x});this.mDoms.rightRectTrigger.attr({x:x+b.SHAPE_CONNECT_INDICATOR_WIDTH/2-2});var N=x-this.origin.minX;this.mDoms.resizeRectCover.attr({width:N});};
c.prototype._updateLeftPartDoms=function(e){var n=function(x){var m=this.origin.maxX;var l=2*this.getMargin();if(m-x<=l){return m-l;}return x;}.bind(this);var x=n(e);this.mDoms.leftLine.attr({x1:x,x2:x});this.mDoms.leftLineTrigger.attr({x1:x,x2:x});this.mDoms.topLine.attr({x1:x});this.mDoms.bottomLine.attr({x1:x});this.mDoms.leftRectTrigger.attr({x:x-this.getMargin()-b.SHAPE_CONNECT_INDICATOR_WIDTH-2});var r=Math.abs(x-v(this.mDoms.rightLineTrigger,"x1"))-2;this.mDoms.resizeRectCover.attr({x:x+this.getMargin(),width:r<0?0:r});};
c.prototype.onKeydown=function(e){if(e.keyCode===q.sap.KeyCodes.ESCAPE){if(this.isResizing()){this._updateLeftPartDoms(this.origin.minX-this.getMargin());this._updateRightPartDoms(this.origin.maxX+this.getMargin());this._updateResizingEffect(false);this._initResizeStatus();}this._removeDragEvents();}};
c.prototype.endResizing=function(e){this._removeDragEvents();if(this._shallSkip(e)){return;}var m=v(this.mDoms.leftLine,"x1")+this.getMargin(),d=v(this.mDoms.rightLine,"x1")-this.getMargin();var s=this._getShapeByUid(this.origin.resizeFor),g=this.getGantt();if(s){this.renderResizerOutline(s);this._initResizeStatus();this._fireShapeResizeEvent(g,s,m,d);}else{this._initResizeStatus();}};
c.prototype._getShapeByUid=function(s){var S=b.getShapesWithUid(this.getGantt().getId(),[s]);if(S.length>0){return S[0];}};
c.prototype._fireShapeResizeEvent=function(g,s,m,d){var e=g.getAxisTime().viewToTime(m),f=g.getAxisTime().viewToTime(d),t;var r=C.getConfiguration().getRTL();if(r){t=f;f=e;e=t;}g.fireShapeResize({shape:s,shapeUid:s.getShapeUid(),rowObject:s.getParent(),oldTime:[s.getTime(),s.getEndTime()],newTime:[e,f]});};
c.prototype._initResizeStatus=function(){this.currentAction=R.None;this.origin={minX:-1,maxX:-1,eventTarget:null,resizeFor:null};this.mElementFrame=null;this.iOutlineMargin=0;this.initDomSelector();};
c.prototype.setFrame=function(f){this.mElementFrame=f;};
c.prototype.getFrame=function(){return this.mElementFrame;};
c.prototype.setMargin=function(m){this.iOutlineMargin=m;};
c.prototype.getMargin=function(){return this.iOutlineMargin;};
c.prototype._shallSkip=function(e){if(!this.isResizing()){return true;}if(this.origin.eventTarget&&!q(this.origin.eventTarget).hasClass("resizeTrigger")){return true;}return false;};
c.prototype.getConnectSquaresData=function(s){var f=this.getFrame(),x=f.x,y=f.y,w=f.width,h=f.height;var m=this.getMargin();var r=s?b.SHAPE_CONNECT_INDICATOR_WIDTH:0;var d={width:r,height:r,stroke:"#000","stroke-width":1};var l=x-m-r-2,L=y+(h/2)-(r/2);var i=(x+w+m)+2,e=L;return[q.extend({x:l,y:L,"class":"left"},d),q.extend({x:i,y:e,"class":"right"},d)];};
c.prototype.getResizeRectCoverAttrs=function(){var f=this.getFrame(),m=this.getMargin(),s=this.getSelectionSettings().strokeWidth;var d={stroke:"none","stroke-width":0,fill:"red","class":"resizeCover",opacity:0,style:"pointer-events: none;"};var o=(2*m)-(2*s);return q.extend({x:f.x-m+s,y:f.y-m+s,width:f.width+o,height:f.height+o},d);};
c.prototype.getOutlineLines=function(){var f=this.getFrame(),x=f.x,y=f.y,w=f.width,h=f.height;var m=this.getMargin();var s=this.getSelectionSettings();var d={"stroke-dasharray":s.strokeDasharray,fill:"transparent",stroke:s.color,"stroke-width":s.strokeWidth};var p={minX:x-m,minY:y-m,maxX:x+w+m,maxY:y+h+m};var P={top:{x1:p.minX,y1:p.minY,x2:p.maxX,y2:p.minY},right:{x1:p.maxX,y1:p.minY,x2:p.maxX,y2:p.maxY},bottom:{x1:p.minX,y1:p.maxY,x2:p.maxX,y2:p.maxY},left:{x1:p.minX,y1:p.minY,x2:p.minX,y2:p.maxY}};var e=["top","right","bottom","left"];var l=e.map(function(j){return q.extend(P[j],{"class":j},d);});var g=q.extend(true,P);var i=["left","right"].map(function(j){return q.extend(g[j],{"class":j},d);});return{border:l,indicator:i};};
c.prototype._getResizeTime=function(e){var m=v(this.mDoms.leftLine,"x1")+this.getMargin(),d=v(this.mDoms.rightLine,"x1")-this.getMargin();if(isNaN(m)||isNaN(d)){return null;}var g=this.getGantt();var s=g.getAxisTime().viewToTime(m),f=g.getAxisTime().viewToTime(d),t;var r=C.getConfiguration().getRTL();if(r){t=f;f=s;s=t;}return{time:s,endTime:f};};
return c;});
sap.ui.predefine('sap/gantt/simple/GanttRowSettings',["sap/ui/table/RowSettings","./AggregationUtils","./RenderUtils","sap/gantt/misc/Utility"],function(T,A,R,U){"use strict";
var G=T.extend("sap.gantt.simple.GanttRowSettings",{metadata:{library:"sap.gantt",properties:{rowId:{type:"string"}},defaultAggregation:"shapes1",aggregations:{calendars:{type:"sap.gantt.simple.BaseCalendar",multiple:true,singularName:"calendars"},relationships:{type:"sap.gantt.simple.Relationship",multiple:true,singularName:"relationship"},shapes1:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape1"},shapes2:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape2"},shapes3:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape3"},shapes4:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape4"},shapes5:{type:"sap.gantt.simple.BaseShape",multiple:true,singularName:"shape5"}}}});
G.prototype.getAllExpandableShapes=function(){var a=[];this._mapAllShapes(function(s){if(s.length>0&&s[0].getExpandable()){a.push(s);}});return[].concat.apply([],a);};
G.prototype._mapAllShapes=function(t){var a=A.getNonLazyAggregations(this);Object.keys(a).map(function(n){if(a.hasOwnProperty(n)){var o=a[n];t(this[o._sGetter]());}}.bind(this));};
G.prototype.getParentGantt=function(){return A.getParentControlOf("sap.gantt.simple.GanttChartWithTable",this);};
G.prototype.getShapeUid=function(s){var S=s.getShapeId();if(!S){S=jQuery.sap.uid();s.setProperty("shapeId",S,true);}var p=s.getParent(),n=s.sParentAggregationName,e=false;if(p!=null){e=A.isLazy(p,n);}var i;if(e){i=p.indexOfAggregation(n,this);}var a=s.getScheme(),r=this.getRowUid(a,i);var b=this.getShapeBindingContextPath(s);var c=r+"|DATA:"+b+"["+S+"]";return c;};
G.prototype.getShapeBindingContextPath=function(s){var m=this.getBindingModelName();var b=s.getBindingContext(m);if(b==null){b=this.getBindingContextFromParent(s);}if(b){return b.getPath();}return"";};
G.prototype.getBindingModelName=function(){var b=this._getRow().getParent().getBindingInfo("rows");return b.model;};
G.prototype.getBindingContextFromParent=function(s,m){var p=s.getParent();var b;while(p){b=p.getBindingContext(m);if(b){return b;}else{p=p.getParent();}}return b;};
G.prototype.getRowUid=function(s,i){var r=this.getRowId();if(r==null){return null;}var a=s,b=i;if(!a){a=this.getParentGantt().getPrimaryShapeScheme().getKey();}b=b===undefined?0:b;return"PATH:"+r+"|SCHEME:"+a+"["+b+"]";};
G.prototype.renderElement=function(r,g){R.renderInlineShapes(r,this,g);};
G.prototype.invalidate=function(o){return this._invalidateInnerGanttIfNeeded();};
G.prototype._invalidateInnerGanttIfNeeded=function(){var r=this._getRow();U.safeCall(r,["getParent","getParent","getInnerGantt","invalidate"]);return this;};
return G;});
sap.ui.predefine('sap/gantt/simple/GanttScrollExtension',["jquery.sap.global","sap/ui/core/Core","sap/ui/Device","../misc/Format","../config/TimeHorizon","./GanttExtension","./RenderUtils"],function(q,C,D,F,T,G,R){"use strict";var s=function($,v){var r=C.getConfiguration().getRTL();var b=r?"scrollLeftRTL":"scrollLeft";if(typeof v==="number"){$[b](v);}return $[b]();};var n=".sapGanttScroll";var S="scroll"+n;var H={onHSBScroll:function(e){this._getScrollExtension().updateVisibleHorizonIfNecessary();},onMouseWheelScrolling:function(e){var o=this._getScrollExtension();var h=Math.abs(e.deltaX)>Math.abs(e.deltaY),b=h&&e.shiftKey;var i=h?e.deltaX:e.deltaY,c=i>0,d=false;if(i===0){return;}if(b){var f=o.getGanttHsb();if(c){d=f.scrollLeft===f.scrollWidth-f.offsetWidth;}else{d=f.scrollLeft===0;}if(!d){f.scrollLeft=f.scrollLeft+i;}e.preventDefault();e.stopPropagation();}},getEventListenerTargets:function(g){var e=[g.getDomRef("svg"),g.getDomRef("header-svg")];return e.filter(function(E){return E!=null;});},onTouchStart:function(e){if(e.type==="touchstart"||e.pointerType==="touch"){var o=this._getScrollExtension(),h=o.getGanttHsb();var t=e.touches?e.touches[0]:e;o._mTouchSessionData={initialPageX:t.pageX,initialPageY:t.pageY,initialScrollLeft:h?h.scrollLeft:0,initialScrolledToEnd:null};}},onTouchMoveHorizontalScrolling:function(e){if(e.type==="touchmove"||e.pointerType==="touch"){var o=this._getScrollExtension();var t=o._mTouchSessionData;var b=e.touches?e.touches[0]:e;var i=(b.pageX-t.initialPageX);var c=(b.pageY-t.initialPageY);var d=false;var f=false;var h=Math.abs(i)>Math.abs(c);if(!t||!h){return;}var g=o.getGanttHsb();if(i<0){d=g.scrollLeft===g.scrollWidth-g.offsetWidth;}else{d=g.scrollLeft===0;}if(!t.initialScrolledToEnd){t.initialScrolledToEnd=d;}if(!d&&!t.initialScrolledToEnd){g.scrollLeft=t.initialScrollLeft-i;f=true;}if(f){e.preventDefault();}}},addEventListeners:function(g){var e=g._getScrollExtension();this.removeEventListeners(g);q(e.getGanttHsb()).on(S,this.onHSBScroll.bind(g));var E=this.getEventListenerTargets(g);e._mTouchEventListener=this.addTouchEventListener(E,g);e._mMouseWheelEventListener=this.addMouseWheelEventListener(E,g);},removeEventListeners:function(g){var e=g._getScrollExtension();q(e.getGanttHsb()).off(n);H.removeScrollEventListeners(g);},addMouseWheelEventListener:function(e,g){var o=H.onMouseWheelScrolling.bind(g);for(var i=0;i<e.length;i++){e[i].addEventListener("wheel",o);}return{wheel:o};},addTouchEventListener:function(e,g){var o=H.onTouchStart.bind(g);var O=H.onTouchMoveHorizontalScrolling.bind(g);var l={};for(var i=0;i<e.length;i++){if(D.support.pointer&&D.system.desktop){e[i].addEventListener("pointerdown",o);e[i].addEventListener("pointermove",O,D.browser.chrome?{passive:true}:false);}else if(D.support.touch){e[i].addEventListener("touchstart",o);e[i].addEventListener("touchmove",O);}}if(D.support.pointer&&D.system.desktop){l={pointerdown:o,pointermove:O};}else if(D.support.touch){l={touchstart:o,touchmove:O};}return l;},removeScrollEventListeners:function(g){var o=g._getScrollExtension();var e=H.getEventListenerTargets(g);function r(t,E){for(var b in E){var l=E[b];if(l){t.removeEventListener(b,l);}}}for(var i=0;i<e.length;i++){r(e[i],o._mTouchEventListener);r(e[i],o._mMouseWheelEventListener);}delete o._mTouchEventListener;delete o._mMouseWheelEventListener;}};
var a=G.extend("sap.gantt.GanttScrollExtension",{
_init:function(g,m){this.oGanttHsb=null;this._bSuppressSetVisibleHorizon=false;this.mOffsetWidth=null;return"ScrollExtension";},
_attachEvents:function(){var g=this.getGantt();H.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();H.removeEventListeners(g);},
destroy:function(){this._detachEvents();this._delegate=null;this.oGanttHsb=null;this.mOffsetWidth=null;G.prototype.destroy.apply(this,arguments);}
});
a.prototype.updateVisibleHorizonIfNecessary=function(){if(!this._bSuppressSetVisibleHorizon){var t=this._scrollLeftToVisibleHorizon();this.getGantt()._updateVisibleHorizon(t,"horizontalScroll",this.getVisibleWidth());}this._bSuppressSetVisibleHorizon=false;};
a.prototype.jumpToVisibleHorizon=function(r){var t=this.getGantt().getAxisTimeStrategy().getVisibleHorizon();this.getGantt()._updateVisibleHorizon(t,r?r:"horizontalScroll",this.getVisibleWidth());};
a.prototype._getGanttHsbScrollLeft=function(){return s(q(this.getGanttHsb()));};
a.prototype.getContentWidth=function(){var g=this.getGantt();var A=g.getAxisTime(),r=A.getViewRange();return Math.abs(Math.ceil(r[1])-Math.ceil(r[0]));};
a.prototype.updateGanttScrollWidth=function(){var g=this.getGantt();g.getSyncedControl().setInnerWidth(g.getContentWidth()+"px");};
a.prototype.getVisibleWidth=function(){return q.sap.byId(this.getGantt().getId()+"-gantt").width();};
a.prototype.scrollGanttChartToVisibleHorizon=function(){var b=this._visibleHorizonToScrollLeft();var r=C.getConfiguration().getRTL();var c=b-this.mOffsetWidth.svgOffset;var d=this.getDomRefs(),$=q(d.gantt),e=q(d.header);if(Math.abs(s($)-c)>0){if(r&&D.browser.msie){c+=$.get(0).scrollWidth-R.getGanttRenderWidth(this.getGantt());}var h=this.getGanttHsb();if(h){if(s(q(h))===0&&!(D.browser.msie&&r)){s($,0);s(e,0);}else{s($,c);var f=0;if(r&&D.browser.msie){var o=this.getDomRefs();f=o.header.scrollWidth-o.gantt.scrollWidth;}s(e,c+f);}}}this.getGantt()._getConnectExtension().updateShapeConnectEffect(this);};
a.prototype.clearOffsetWidth=function(){this.mOffsetWidth=null;this.getGantt().getAxisTime().setViewOffset(0);};
a.prototype.needRerenderGantt=function(r){if(this.mOffsetWidth===null){this.updateGanttScrollWidth();}var b=this.getGantt().getSyncedControl().getRowsHeightChanged();if(this.mOffsetWidth&&this.doesSvgScrollWithinBuffer()&&!b){this._scrollTableToVisibleHorizon(true);this.scrollGanttChartToVisibleHorizon();return false;}this._scrollTableToVisibleHorizon(true);this.updateSvgOffsetWidth();if(r){r.apply(this.getGantt());}this.scrollGanttChartToVisibleHorizon();return true;};
a.prototype._scrollTableToVisibleHorizon=function(b){var $=q(this.getGanttHsb()),c=s($);var e=this._visibleHorizonToScrollLeft();if(Math.abs(c-e)>1){this._bSuppressSetVisibleHorizon=b;s($,e);}};
a.prototype.updateSvgOffsetWidth=function(){var o=this.calcSvgLatestOffsetWidth();this.getGantt().getAxisTime().setViewOffset(o.svgOffset);this.getGantt().iGanttRenderedWidth=o.svgWidth;this.mOffsetWidth={svgWidth:o.svgWidth,svgOffset:o.svgOffset};};
a.prototype.doesSvgScrollWithinBuffer=function(){var v=this.getVisibleWidth(),c=this.getContentWidth(),i=this._visibleHorizonToScrollLeft();if(this.mOffsetWidth===null){return false;}var b=this.mOffsetWidth.svgOffset,d=this.mOffsetWidth.svgWidth;var I=(v>=c)||(i-b>=0&&d>=i-b+v);return I;};
a.prototype.calcSvgLatestOffsetWidth=function(){var c=this.getContentWidth(),v=this.getVisibleWidth();var i=this._getGanttHsbScrollLeft()||0;var b=R.getGanttRenderWidth(this.getGantt());var o=i-(v*R.RENDER_EXTEND_FACTOR);if(o<0){b+=o;o=0;}if(o+b>c){b=c-o;}return{svgWidth:b,svgOffset:o};};
a.prototype._visibleHorizonToScrollLeft=function(){var t=this.getGantt().getAxisTimeStrategy().getVisibleHorizon();var r=C.getConfiguration().getRTL(),b=t.getStartTime();var i=this.getGantt().getAxisTime().timeToView(F.abapTimestampToDate(b),true);if(r){i=i-this.getVisibleWidth();}if(i<0){i=0;}return i;};
a.prototype._scrollLeftToVisibleHorizon=function(){var r=C.getConfiguration().getRTL(),A=this.getGantt().getAxisTime();var i=this._getGanttHsbScrollLeft();var o=A.viewToTime(i,true),e;if(r){e=A.viewToTime(i,true);o=undefined;}return new T({startTime:o,endTime:e});};
a.prototype.getGanttHsb=function(){var g=this.getGantt();if(g){this.oGanttHsb=g.getDomRef("hsb");}return this.oGanttHsb;};
return a;});
sap.ui.predefine('sap/gantt/simple/GanttSyncedControl',["sap/ui/core/Control","sap/ui/Device","sap/ui/core/Core","./GanttUtils"],function(C,D,a,G){"use strict";
var b=C.extend("sap.gantt.simple.GanttSyncedControl",{
metadata:{library:"sap.gantt",properties:{innerWidth:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"}}},
renderer:function(r,c){var g=c.getParent().getParent();r.write("<div class='sapGanttBackground'");r.writeControlData(c);r.write(">");r.write("<div class='sapGanttBackgroundFlexContainer'>");r.write("<div class='sapGanttBackgroundContainer sapGanttBackgroundScrollbar'>");r.write("<div");r.addClass("sapGanttBackgroundTable");r.writeClasses();r.write(">");c.renderGanttHeaderPlaceholder(r,g);c.renderGanttBodyPlaceholder(r,g);c.renderHorizontalScrollbarContainer(r);r.write("</div>");r.write("</div>");c.renderVerticalScrollbarContainer(r,c);r.write("</div>");r.write("</div>");}
});
b.prototype.init=function(){this.oSyncInterface=null;this.state={rows:[],innerVerticalScrollPosition:0,horizontalScrollPosition:0,layout:{top:0,headerHeight:0,contentHeight:0}};this._bRowsHeightChanged=false;this._bAllowContentScroll=true;};
b.prototype.onAfterRendering=function(){var d=this.getDomRefs();var g=this.getParent().getParent();if(this.oSyncInterface){var r=a.createRenderManager();this.oSyncInterface.renderHorizontalScrollbar(r,g.getId()+"-hsb",g.getContentWidth());r.flush(d.hsbContainer);}if(this.oSyncInterface&&d.content&&d.vsbContainerContent){this.oSyncInterface.registerVerticalScrolling({wheelAreas:[d.content],touchAreas:[d.content]});this.oSyncInterface.placeVerticalScrollbarAt(d.vsbContainerContent);}this.updateScrollPositions();};
b.prototype.renderGanttHeaderPlaceholder=function(r,g){r.write("<div");r.writeAttribute("data-sap-ui-related",g.getId());r.addClass("sapGanttChartWithTableHeader");r.writeClasses();r.write(">");r.write("</div>");};
b.prototype.renderGanttBodyPlaceholder=function(r,g){r.write("<div class='sapGanttBackgroundTableContent' style='height:"+this.state.layout.contentHeight+"px'>");r.write("<div");r.writeAttribute("id",g.getId()+"-gantt");r.writeAttribute("data-sap-ui-related",g.getId());r.addClass("sapGanttChartContentBody");r.addClass("sapGanttBackgroundSVG");r.writeClasses();r.write(">");this.renderSvgDefs(r,g);this.renderGanttChartCnt(r,g);r.write("</div>");r.write("</div>");};
b.prototype.renderVerticalScrollbarContainer=function(r,c){r.write("<div class='sapGanttBackgroundVScrollContainer'>");r.write("<div class='sapGanttBackgroundVScrollContentArea' style='margin-top:"+(c.state.layout.top+c.state.layout.headerHeight)+"px'></div>");r.write("</div>");};
b.prototype.syncWith=function(t){var c=this;var e=t.getParent()._oExpandModel;t._enableSynchronization().then(function(s){c.oSyncInterface=s;s.rowCount=function(d){var o=c.state.rows.length;var i;if(o<d){for(i=0;i<d-o;i++){c.state.rows.push({height:0,selected:false,hovered:false});}}else if(o>d){for(i=o-1;i>=d;i--){c.state.rows.pop();}}};s.rowSelection=function(i,S){if(c.state.rows[i]){c.state.rows[i].selected=S;G.updateGanttRows(c,c.state.rows,i);}};s.rowHover=function(i,h){c.state.rows[i].hovered=h;G.updateGanttRows(c,c.state.rows,i);};s.rowHeights=function(h){for(var i=0;i<=h.length-1;i++){h[i]=e.getRowHeightByIndex(t,i,h[i]);}c.setRowsHeightChanged(false);h.forEach(function(H,I){if(!this.state.rows[I]){this.state.rows[I]={};}if(this.state.rows[I].height!==H){c.setRowsHeightChanged(true);}this.state.rows[I].height=H;}.bind(c));return h;};s.innerVerticalScrollPosition=function(S){c.state.innerVerticalScrollPosition=S;c.updateScrollPositions();};s.layout=function(l){c.state.layout=l;c.updateLayout();};c.invalidate();});};
b.prototype.renderHorizontalScrollbarContainer=function(r){r.write("<div class='sapGanttHSBContainer'>");r.write("</div>");};
b.prototype.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
b.prototype.renderGanttChartCnt=function(r,g){r.write("<div id='"+g.getId()+"-cnt'");r.addClass("sapGanttChartCnt");r.writeClasses();r.addStyle("height","100%");r.addStyle("width","100%");r.write(">");r.write("</div>");};
b.prototype.setInnerWidth=function(w){this.setProperty("innerWidth",w,true);this._toggleHSBVisibility(w);return this;};
b.prototype._toggleHSBVisibility=function(w){var d=this.getDomRefs();if(d.hsb==null||d.hsbContent==null){return;}var s=parseFloat(w)>jQuery(d.contentContainer).width();if(s){d.hsbContent.style.height=null;d.hsbContent.style.width=w;}else{d.hsbContent.style.cssText=null;if(D.browser.msie){d.hsbContent.style.width=0;}}};
b.prototype.addEventListeners=function(){this.addScrollEventListeners();};
b.prototype.addScrollEventListeners=function(){var t=this;this.oHSb.addEventListener("scroll",function(e){t.state.horizontalScrollPosition=e.target.scrollLeft;});};
b.prototype.updateLayout=function(){var d=this.getDomRefs();if(d){d.header.style.height=(this.state.layout.top+this.state.layout.headerHeight)+"px";d.contentContainer.style.height=this.state.layout.contentHeight+"px";d.vsbContainerContent.style.marginTop=(this.state.layout.top+this.state.layout.headerHeight)+"px";}};
b.prototype.updateScrollPositions=function(){var d=this.getDomRefs();if(d&&this._bAllowContentScroll){d.content.scrollTop=this.state.innerVerticalScrollPosition;}};
b.prototype.setAllowContentScroll=function(A){this._bAllowContentScroll=A;};
b.prototype.setRowsHeightChanged=function(r){this._bRowsHeightChanged=r;};
b.prototype.getRowsHeightChanged=function(r){return this._bRowsHeightChanged;};
b.prototype.scrollContentIfNecessary=function(){if(this._bAllowContentScroll===false){this._bAllowContentScroll=true;this.updateScrollPositions();}};
b.prototype.getDomRefs=function(){var d=this.getDomRef();if(!d){return null;}var h=d.querySelector(".sapGanttChartWithTableHeader"),c=d.querySelector(".sapGanttBackgroundTableContent"),o=c.querySelector(".sapGanttChartContentBody");var v=d.querySelector(".sapGanttBackgroundVScrollContainer"),V=v.querySelector(".sapGanttBackgroundVScrollContentArea");var H=d.querySelector(".sapGanttHSBContainer");var e=d.querySelector(".sapUiTableHSbExternal"),f=d.querySelector(".sapUiTableHSbContent");return{header:h,contentContainer:c,content:o,vsbContainer:v,vsbContainerContent:V,hsbContainer:H,hsb:e,hsbContent:f};};
b.prototype.getRowStates=function(){return this.state.rows;};
b.prototype.getRowHeights=function(){return this.state.rows.map(function(r){return r.height;});};
b.prototype.syncRowSelection=function(i){if(i>-1){var s=!this.state.rows[i].selected;this.oSyncInterface.syncRowSelection(i,s);}};
b.prototype.syncRowHover=function(i,h){if(i>-1){this.oSyncInterface.syncRowHover(i,h);}};
return b;});
sap.ui.predefine('sap/gantt/simple/GanttUtils',["jquery.sap.global","sap/ui/core/Core","sap/gantt/misc/Utility","sap/ui/core/format/DateFormat","sap/ui/core/Locale"],function(q,C,U,D,L){"use strict";var G={SHAPE_ID_DATASET_KEY:"data-sap-gantt-shape-id",ROW_ID_DATASET_KEY:"data-sap-gantt-row-id",CONNECTABLE_DATASET_KEY:"data-sap-gantt-connectable",SELECT_FOR_DATASET_KEY:"sap-gantt-select-for",SHAPE_CONNECT_FOR_DATASET_KEY:"sap-gantt-shape-connect-for",SHAPE_CONNECT_INDICATOR_WIDTH:10,shapeElementById:function(s,g){var o=q.sap.domById(g),S=o.querySelector("g.sapGanttChartShapes");var n=S.querySelectorAll("["+G.SHAPE_ID_DATASET_KEY+"='"+s+"']");var e=n[0];if(e){return q(e).control(0);}return null;},getValueX:function(s){var n;var p=s.getMetadata().getProperty("x");if(p){n=s.getProperty(p.name);if(n!==null&&n!==undefined){return n;}}var r=C.getConfiguration().getRTL(),t=r?(s.getEndTime()||s.getTime()):s.getTime();if(t){n=s.getXByTime(t);}if(!q.isNumeric(n)){q.sap.log.warning("couldn't convert timestamp to x with value: "+t);}return n;},getRowInstance:function(e,t){var r=q(e.target).closest("rect.sapGanttBackgroundSVGRow").data("sapUiIndex");if(r!=null){return t.getRows()[r];}},getSelectedTableRowSettings:function(t,s){var a=t.getRows(),f=t.getFirstVisibleRow();if(a.length===0){return null;}var F=a[0].getIndex();var i=s-f;if(F!==f){i+=Math.abs(F-f);}var r=a[i];return r.getAggregation("_settings");},updateGanttRows:function(d,r,i){var g=d.getParent().getParent();var $=q.sap.byId(g.getId()+"-svg"),a=$.find("rect.sapGanttBackgroundSVGRow");a.eq(i).toggleClass("sapGanttBackgroundSVGRowSelected",r[i].selected);a.eq(i).toggleClass("sapGanttBackgroundSVGRowHovered",r[i].hovered);},getShapesWithUid:function(c,s){var e=function(S){var p=U.parseUid(S),a=p.shapeId;var b=["[id='",c,"']"," ["+G.SHAPE_ID_DATASET_KEY+"='",a,"']"].join("");return q(b).control().filter(function(o){return o.getShapeUid()===S;})[0];};var E=s.map(e);return E;},getTimeFormaterBySmallInterval:function(g){var a=g.getAxisTimeStrategy(),s=a.getTimeLineOption().smallInterval,u=s.unit;var c=a.getCalendarType(),o=a.getLocale()?a.getLocale():new L(C.getConfiguration().getLanguage().toLowerCase());var f="yyyyMMMddhhms";if(!(u===sap.gantt.config.TimeUnit.minute||u===sap.gantt.config.TimeUnit.hour)){f="yyyyMMMdd";}var F=D.getDateTimeInstance({format:f,style:s.style,calendarType:c},s.locale?new L(s.locale):o);return F;}};return G;},true);
sap.ui.predefine('sap/gantt/simple/GanttZoomExtension',["jquery.sap.global","sap/ui/events/KeyCodes","sap/gantt/config/TimeHorizon","./GanttExtension","./CoordinateUtils","./AggregationUtils"],function(q,K,T,G,C,A){"use strict";var I=["mousedown","mousemove","mouseup","wheel","MozMousePixelScroll"];var B=I.reduce(function(e,d){e[d]=d;return e;},{});B.keydown="keydown";B.periodZoom="periodZoom";var n=".sapGanttZoom";var _=function(e){return e+n;};I=I.map(_);var P=B.periodZoom+n;var a=B.keydown+n;var Z={start:"zoomStart",zooming:"zooming",end:"zoomEnd"};var b={dispatch:function(e,p){var E=this._getZoomExtension(),o=e.originalEvent||e;if(E.isMouseWheelZoom(e)){var s=p&&p.suppressSyncEvent;E.performMouseWheelZooming(o,s);return;}if(p&&p.which){o.which=p.which;}E.performTimePeriodZooming(o);},addEventListeners:function(g){var e=g._getZoomExtension(),d=e.getDomRefs(),o=d.ganttSvg,f=d.gantt,h=d.headerSvg;var i=function(E,D){q(D).bind(E,b.dispatch.bind(g));};b.removeEventListeners(g);I.forEach(function(E){i(E,o);if(E.startsWith(B.wheel)||E.startsWith(B.MouseWheelZoomType)){i(E,h);}});q(f).on(P,b.dispatch.bind(g));q(document).on(a,function(j){if(j.which===K.Z||j.which===K.ESCAPE){q(this).find(".sapGanttChartContentBody").trigger(P,{which:j.which});}});},removeEventListeners:function(g){var e=g._getZoomExtension(),d=e.getDomRefs(),o=d.ganttSvg,f=d.gantt,h=d.headerSvg;q(o).unbind(n);q(h).unbind(n);q(f).unbind(n);q(document).off(n);}};
var c=G.extend("sap.gantt.GanttZoomExtension",{
_init:function(g,s){this.bTimePeriodZoomMode=false;this.oZoomStartTime=null;this.iMouseWheelZoomDelayedCallId=undefined;this.iLastMouseWheelZoomTimeInMs=0;return"ZoomExtension";},
_attachEvents:function(){var g=this.getGantt();b.removeEventListeners(g);b.addEventListeners(g);},
_detachEvents:function(){var g=this.getGantt();b.removeEventListeners(g);}
});
c.prototype.isMouseWheelZoom=function(e){var d=e.shiftKey&&e.ctrlKey&&(e.type===B.wheel||e.type===B.MozMousePixelScroll);if(d){e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();}return d;};
G.prototype.performMouseWheelZooming=function(e,s){var S=this._getWheelScrollDelta(e),i=this._getMousePositionX(e);this.decideMouseWheelZoom(e,S,i,s);};
c.prototype._getWheelScrollDelta=function(e){var s=e.deltaY||e.deltaX;if(s===0||s===undefined){s=e.detail;}var d=e.deltaMode===1?33:1;return s*d;};
c.prototype._getMousePositionX=function(e){return C.xPosOfSvgElement(e,q(this.getDomRefs().ganttSvg));};
c.prototype.decideMouseWheelZoom=function(o,s,m,S){var g=this.getGantt(),z=g.getAxisTimeStrategy();if(z.getMouseWheelZoomType()===sap.gantt.MouseWheelZoomType.None){return;}var d=s<0,e=!d;var i=z.getZoomLevel(),M=z.getZoomLevels()-1;if((e&&i>0)||(d&&i<M)){var t=(!this.iMouseWheelZoomDelayedCallId&&(Date.now()-this.iLastMouseWheelZoomTimeInMs>100))?0:100;if(t===0){this.onMouseWheelZooming(o,z,m,s,S);}else{this.iMouseWheelZoomDelayedCallId=this.iMouseWheelZoomDelayedCallId||q.sap.delayedCall(t,this,this.onMouseWheelZooming,[o,z,m,s,S]);}}};
c.prototype.onMouseWheelZooming=function(o,z,m,s,S){this.iLastMouseWheelZoomTimeInMs=Date.now();var t=z.getAxisTime().viewToTime(m);z.updateVisibleHorizonOnMouseWheelZoom(t,s,o,S);q.sap.clearDelayedCall(this.iMouseWheelZoomDelayedCallId);delete this.iMouseWheelZoomDelayedCallId;};
c.prototype.performTimePeriodZooming=function(e){var p=this.getGantt()._getPointerExtension();var i=p.isPointerInGanttChart();var o=this.getGantt().getAxisTimeStrategy();if(!o.isTimePeriodZoomEnabled()){return;}if(i===false){return;}if(e.type===B.periodZoom){if(e.which===K.Z&&p.isPointerInGanttChart()){this.bTimePeriodZoomMode=!this.bTimePeriodZoomMode;}if(e.which===K.ESCAPE){this.bTimePeriodZoomMode=false;}this.updateCursorStyle(this.bTimePeriodZoomMode);}if(e.type===B.mousedown&&e.button===0){if(this.bTimePeriodZoomMode){this.handleZoomStart(e);this._fireTimePeriodZoomEvent({type:Z.start,zoomStartTime:this.oZoomStartTime,zoomEndTime:null,originalEvent:e});}}if(e.type===B.mousemove&&this.bTimePeriodZoomMode){var E=this.timeFromEvent(e);this.handleZooming(e);this._fireTimePeriodZoomEvent({type:Z.zooming,zoomStartTime:this.oZoomStartTime,zoomEndTime:E,originalEvent:e});}if(e.type===B.mouseup&&this.bTimePeriodZoomMode){this.bTimePeriodZoomMode=false;var E=this.timeFromEvent(e);this.handleZoomEnd(e);this._fireTimePeriodZoomEvent({type:Z.end,zoomStartTime:this.oZoomStartTime,zoomEndTime:E,originalEvent:e});}};
c.prototype.timeFromEvent=function(e){var $=q(this.getDomRefs().ganttSvg),p=C.xPosOfSvgElement(e,$);var o=this.getGantt()._getPointerExtension();p+=o._getAutoScrollStep();return this.getGantt().getAxisTime().viewToTime(p);};
c.prototype._fireTimePeriodZoomEvent=function(p){this.getGantt().fireEvent("_timePeriodZoomOperation",p);};
c.prototype.syncTimePeriodZoomOperation=function(e,t,o){var O=e.getParameter("originalEvent");var s=e.getParameter("type");switch(s){case Z.start:this.handleZoomStart(O);break;case Z.zooming:this.handleZooming(O);break;case Z.end:this.handleZoomEnd(O);break;default:q.sap.log.debug("unknown time period zoom type");}};
c.prototype.handleZoomStart=function(e){this.oZoomStartTime=this.timeFromEvent(e);var s=this.getGantt().getAxisTime().timeToView(this.oZoomStartTime);this.updateCursorStyle(this.bTimePeriodZoomMode);this.createZoomingRectangle(s);};
c.prototype.handleZooming=function(e){this._isZooming=true;var s=this.oZoomStartTime;var E=this.timeFromEvent(e);var o=this.getGantt().getAxisTime(),S=o.timeToView(s),i=o.timeToView(E);this.updateCursorStyle(this.bTimePeriodZoomMode);if(i>S){this.updateZoomingRectangle(S,i);}else{this.updateZoomingRectangle(i,S);}};
c.prototype.isZoomingRectangleNotExisted=function(){var s=d3.select(this.getDomRefs().ganttSvg);return s.selectAll(".sapGanttChartTimePeriodZoomRectangle").size()===0;};
c.prototype.isTimeZooming=function(){return this._isZooming;};
c.prototype._handleAutoScroll=function(e){if(this.isTimeZooming()){if(this.isZoomingRectangleNotExisted()){var s=this.oZoomStartTime;var o=this.getGantt().getAxisTime(),S=o.timeToView(s);this.createZoomingRectangle(S);}this.handleZooming(e);}};
c.prototype.handleZoomEnd=function(e){this._isZooming=false;var E=this.timeFromEvent(e);this.updateCursorStyle(this.bTimePeriodZoomMode);this.destroyZoomingRectangle();var o=this.getGantt().getAxisTime(),s=o.timeToView(this.oZoomStartTime),i=o.timeToView(E);var O=5;if(Math.abs(i-s)>O){var S=this.oZoomStartTime,d=E;if(E.getTime()<S.getTime()){var t=S;S=E;d=t;}var f=new T({startTime:S,endTime:d});this.getGantt().syncVisibleHorizon(f);}};
c.prototype.updateCursorStyle=function(z){var s=z?"crosshair":"auto";this.getDomRefs().ganttSvg.style.cursor=s;this.getDomRefs().headerSvg.style.cursor=s;};
c.prototype.createZoomingRectangle=function(x){var s=d3.select(this.getDomRefs().ganttSvg);this.destroyZoomingRectangle();s.append("rect").classed("sapGanttChartTimePeriodZoomRectangle",true).attr("x",x).attr("y",0).attr("height",q(s.node()).height());};
c.prototype.updateZoomingRectangle=function(s,e){var S=d3.select(this.getDomRefs().ganttSvg);S.selectAll(".sapGanttChartTimePeriodZoomRectangle").attr("x",s).attr("width",e-s);};
c.prototype.destroyZoomingRectangle=function(){var s=d3.select(this.getDomRefs().ganttSvg);s.selectAll(".sapGanttChartTimePeriodZoomRectangle").remove();};
c.prototype.doBirdEye=function(r){var g=this.getGantt();var o=this.calculateBirdEyeRange(r);var d=new T(o);g.getAxisTimeStrategy().setVisibleHorizon(d);};
c.prototype.calculateBirdEyeRange=function(r){var g=this.getGantt();var t=g.getTable();var R=t.getRows();var h;var s;var e;if(r!==undefined){h=this._getBirdEyeRangeOnRow(r);s=h.startTime;e=h.endTime;}else{for(var i=0;i<R.length;i++){h=this._getBirdEyeRangeOnRow(i);if(h.startTime&&h.endTime){var o=this._calculateBirdEyeTimeRange(s,e,h.startTime,h.endTime);s=o.startTime;e=o.endTime;}}}var d={startTime:s,endTime:e};return d;};
c.prototype._getBirdEyeRangeOnRow=function(r){var g=this.getGantt();var t=g.getTable();var o=t.getBindingInfo("rows"),m=o&&o.model;var R=t.getRows();var d=R[r];var e=d.getBindingContext(m);var s;var E;if(e){var f=d.getAggregation("_settings");var S=[];S=this._getShapeInRow(f,S);var h=this;S.forEach(function(k){if(k.getCountInBirdEye()){var l=k.getTime();var p=k.getEndTime();var u=h._calculateBirdEyeTimeRange(s,E,l,p);s=u.startTime;E=u.endTime;}});}if(s&&E){var i=g.getVisibleWidth();var j=(E.getTime()-s.getTime())/i;s=new Date(s.getTime()-j*5);E=new Date(E.getTime()+j*5);}var H={startTime:s,endTime:E};return H;};
c.prototype._getShapeInRow=function(e,s){var m=A.getNonLazyAggregations(e);var t=this;Object.keys(m).forEach(function(N){var d=e.getAggregation(N);if(d){d=q.isArray(d)?d:[d];if(d.length>0){s=s.concat(d);d.forEach(function(o){s=t._getShapeInRow(o,s);});}}}.bind(e));return s;};
c.prototype._calculateBirdEyeTimeRange=function(e,l,o,d){if(!e||o.getTime()<e.getTime()){e=o;}if(!l||l.getTime()<d.getTime()){l=d;}return{startTime:e,endTime:l};};
return c;});
sap.ui.predefine('sap/gantt/simple/InnerGanttChart',["jquery.sap.global","sap/ui/core/Core","sap/ui/core/Control","./GanttExtension"],function(q,C,a,G){"use strict";
var I=a.extend("sap.gantt.simple.InnerGanttChart");
I.prototype.getDomRef=function(){var p=this.getParent();if(p){return q.sap.domById(this.getParent().getId()+"-cnt");}return null;};
I.prototype.invalidate=function(){this.getUIArea().addInvalidatedControl(this);};
I.prototype.onAfterRendering=function(e){var g=this.getParent();var r=C.createRenderManager();this.getRenderer().renderRelationships(r,g);r.destroy();g._updateShapeSelections(g.getSelectedShapeUid(),[]);g._getConnectExtension().updateShapeConnectEffect(g);G.attachEvents(g);g.jumpToVisibleHorizon("initialRender");};
return I;},true);
sap.ui.predefine('sap/gantt/simple/InnerGanttChartRenderer',["sap/ui/Device","sap/ui/core/Core","./BaseLine","./RenderUtils","./GanttExtension"],function(D,C,B,R,G){"use strict";var I={};
I.render=function(r,c){var g=c.getParent();this.renderGanttChart(r,g);g.getSyncedControl().scrollContentIfNecessary();};
I.renderGanttChart=function(r,g){r.write("<div id='"+g.getId()+"-cnt'");r.addClass("sapGanttChartCnt");r.writeClasses();r.addStyle("height","100%");r.addStyle("width","100%");r.write(">");this.rerenderAllShapes(r,g);r.write("</div>");};
I.renderImmediately=function(g){var r=C.createRenderManager();this.renderGanttChart(r,g);var o=jQuery.sap.domById(g.getId()+"-cnt");r.flush(o,true,false);this.renderRelationships(r,g);g._updateShapeSelections(g.getSelectedShapeUid(),[]);G.attachEvents(g);r.destroy();};
I.rerenderAllShapes=function(r,g){var a=g.getSyncedControl().getRowStates();if(a.length===0){return;}g.getAggregation("_header").renderElement();var A=a.reduce(function(h,b){return h+b.height;},0);r.write("<svg id='"+g.getId()+"-svg'");r.addClass("sapGanttChartSvg");r.writeClasses();r.writeAttribute("height",A+"px");var i=R.getGanttRenderWidth(g);r.writeAttribute("width",i+"px");r.write(">");this.renderGanttBackgrounds(r,g,a);this.renderCalendarPattern(r,g);this.renderCalendarShapes(r,g);this.renderExpandedRowBackground(r,g);this.renderVerticalLines(r,g);this.renderNowLineBody(r,g);var f=[this.renderRlsContainer,this.renderAllShapesInRows,this.renderAssistedContainer];if(g.getEnableAdhocLine()){var l=g.getAdhocLineLayer();if(l===sap.gantt.AdhocLineLayer.Bottom){f.splice(0,0,this.renderAdhocLines);}else{f.push(this.renderAdhocLines);}}f.forEach(function(b){b.apply(I,[r,g]);});r.write("</svg>");};
I.renderGanttBackgrounds=function(r,g,a){r.write("<g");r.writeAttribute("id",g.getId()+"-bg");r.write(">");this.renderRowBackgrounds(r,g,a);this.renderRowBorders(r,g,a);r.write("</g>");};
I.renderRowBackgrounds=function(r,g,a){var n=0;r.write("<g class='rowBackgrounds'");r.write(">");a.forEach(function(o,i){r.write("<rect");r.writeAttribute("y",n);r.writeAttribute("width","100%");r.writeAttribute("height",o.height);r.writeAttribute("data-sap-ui-index",i);r.addClass("sapGanttBackgroundSVGRow");if(o.selected){r.addClass("sapGanttBackgroundSVGRowSelected");}if(o.hovered){r.addClass("sapGanttBackgroundSVGRowHovered");}r.writeClasses();r.write("/>");n+=o.height;});r.write("</g>");};
I.renderRowBorders=function(r,g,a){r.write("<g class='rowBorders'");r.write(">");var n=0;a.forEach(function(o,i){var b=(n+o.height)-0.5;r.write("<line");r.writeAttribute("x1",0);r.writeAttribute("x2","100%");r.writeAttribute("y1",b);r.writeAttribute("y2",b);r.writeAttribute("style","pointer-events:none");r.addClass("sapGanttBackgroundSVGRowBorder");r.writeClasses();r.write("/>");n+=o.height;});r.write("</g>");};
I.renderAdhocLines=function(r,g){var a=g.getAdhocLines();var t=g.getRenderedTimeRange(),m=t[0],M=t[1];a=a.filter(function(v){var d=sap.gantt.misc.Format.abapTimestampToDate(v.getTimeStamp());return d>=m&&d<=M;});if(a.length===0){return;}r.write("<g");r.writeAttribute("class","sapGanttChartAdhocLine");r.write(">");var A=g.getAxisTime();a.map(function(o){var x=A.timeToView(sap.gantt.misc.Format.abapTimestampToDate(o.getTimeStamp()));return new B({x1:x,y1:0,x2:x,y2:"100%",stroke:o.getStroke(),strokeWidth:o.getStrokeWidth(),strokeDasharray:o.getStrokeDasharray(),strokeOpacity:o.getStrokeOpacity(),tooltip:o.getDescription()}).setProperty("childElement",true);}).forEach(function(l){l.renderElement(r,l);});r.write("</g>");};
I.renderVerticalLines=function(r,g){if(g.getEnableVerticalLine()){var a=R.getGanttRenderWidth(g),c=jQuery.sap.byId(g.getId()).height(),A=g.getAxisTime();var z=A.getZoomStrategy();var t=A.getTickTimeIntervalLabel(z.getTimeLineOption(),null,[0,a]);var T=t[1];var p="";for(var i=0;i<T.length;i++){p+=" M"+" "+(T[i].value-1/2)+" 0"+" v "+c;}if(p){r.write("<path");r.addClass("sapGanttChartVerticalLine");r.writeClasses();r.writeAttribute("d",p);r.write("/>");}}};
I.renderAssistedContainer=function(r,g){r.write("<g");r.writeAttribute("class","sapGanttChartSelection");r.write(">");r.write("</g>");r.write("<g");r.writeAttribute("class","sapGanttChartShapeConnect");r.write(">");r.write("</g>");};
I.renderNowLineBody=function(r,g){var n=g.getAxisTime().getNowLabel()[0].value;if(g.getEnableNowLine()===false||isNaN(n)){return;}r.write("<g class='sapGanttNowLineBodySvgLine'");r.write(">");var s=new B({x1:n,y1:0,x2:n,y2:"100%",strokeWidth:1}).setProperty("childElement",true);s.renderElement(r,s);r.write("</g>");};
I.renderRlsContainer=function(r,g){r.write("<g");r.writeAttribute("class","sapGanttChartRls");r.write(">");r.write("</g>");};
I.renderAllShapesInRows=function(r,g){if(!jQuery.sap.byId(g.getId()+"-gantt")){return;}r.write("<g");r.writeAttribute("class","sapGanttChartShapes");r.write(">");this._eachVisibleRowSettings(g,function(o){o.renderElement(r,g);});r.write("</g>");};
I._eachVisibleRowSettings=function(g,c){var a=g.getTable().getRows();var b=g.getTable().getBindingInfo("rows"),m=b&&b.model;for(var i=0;i<a.length;i++){var r=a[i];var o=r.getBindingContext(m);if(o&&r.getIndex()!==-1){var d=r.getAggregation("_settings");if(c){c(d);}}}};
I.renderRelationships=function(r,g){var o=jQuery.sap.domById(g.getId()+"-svg");var a=jQuery(o).children("g.sapGanttChartRls").get(0);if(o==null||a==null){return;}var f={};var c=function(b){b.getRelationships().forEach(function(d){var s=d.getShapeId();var S=b.getShapeUid(d);if(!f.hasOwnProperty(s)){f[s]=true;d.setProperty("shapeUid",S,true);d.renderElement(r,d,g.getId());}});};if(D.browser.msie){var t=jQuery("<div>").attr("id",g.getId()+"-rls").get(0);var T=jQuery.sap.domById("sap-ui-preserve").appendChild(t);r.write("<svg>");this._eachVisibleRowSettings(g,c);r.write("</svg>");r.flush(T,true,false);jQuery(a).append(jQuery(T).children());jQuery(T).remove();}else{this._eachVisibleRowSettings(g,c);r.flush(a,true,false);}};
I.renderSvgDefs=function(r,g){var s=g.getSvgDefs();if(s){r.write("<svg id='"+g.getId()+"-svg-psdef'");r.addStyle("float","left");r.addStyle("width","0px");r.addStyle("height","0px");r.writeStyles();r.write(">");r.write(s.getDefString());r.write("</svg>");}};
I.renderCalendarPattern=function(r,g){var p=g.getCalendarDef(),s=g.getId(),i=g.iGanttRenderedWidth;if(p&&p.getDefNode()&&p.getDefNode().defNodes&&i>0){var d=p.getDefNode();var a=s+"-calendardefs";r.write("<defs");r.writeAttribute("id",a);r.write(">");for(var b=0;b<d.defNodes.length;b++){var n=d.defNodes[b];r.write("<pattern");r.writeAttribute("id",n.id);r.addClass("calendarPattern");r.writeClasses();r.writeAttribute("patternUnits","userSpaceOnUse");r.writeAttribute("x",0);r.writeAttribute("y",0);r.writeAttribute("width",i);r.writeAttribute("height",32);r.write(">");for(var c=0;c<n.timeIntervals.length;c++){var t=n.timeIntervals[c];r.write("<rect");r.writeAttribute("x",t.x);r.writeAttribute("y",t.y);r.writeAttribute("width",t.width);r.writeAttribute("height",32);r.writeAttribute("fill",t.fill);r.write("/>");}r.write("</pattern>");}r.write("</defs>");}};
I.renderCalendarShapes=function(r,g){r.write("<g");r.addClass("sapGanttChartCalendar");r.writeClasses();r.write(">");var a=g.getSyncedControl().getRowStates();this._eachVisibleRowSettings(g,function(o){var p=R.calcRowDomPosition(o,a);o.getCalendars().forEach(function(c){c.setProperty("rowYCenter",p.rowYCenter,true);c._iBaseRowHeight=p.rowHeight;c.renderElement(r,c);});});r.write("</g>");};
I.renderExpandedRowBackground=function(r,g){var a=g.getExpandedBackgroundData();if(jQuery.isEmptyObject(a)){return;}g._oExpandModel.refreshRowYAxis(g.getTable());var e=Array.prototype.concat.apply([],a);var w=g.iGanttRenderedWidth;r.write("<g");r.addClass("sapGanttChartRowBackground");r.writeClasses();r.write(">");for(var i=0;i<e.length;i++){var d=e[i];r.write("<g");r.addClass("expandedRow");r.writeClasses();r.write(">");r.write("<rect");r.writeAttribute("x",d.x);r.writeAttribute("y",d.y);r.writeAttribute("height",d.rowHeight-1);r.writeAttribute("width","100%");r.writeAttribute("class","sapGanttExpandChartCntBG");r.write(">");r.write("</rect>");r.write("<path");r.addClass("sapGanttExpandChartLine");r.writeClasses();r.writeAttribute("d","M0 "+(d.y-1)+" H"+(w-1));r.write("/>");r.write("</g>");}r.write("</g>");};
return I;},true);
sap.ui.predefine('sap/gantt/simple/LegendColumnConfig',["sap/ui/core/Element"],function(E){"use strict";
var L=E.extend("sap.gantt.simple.LegendColumnConfig",{metadata:{library:"sap.gantt",properties:{fill:{type:"string"},text:{type:"string"},fillFactory:{type:"function"}}}});
return L;},true);
sap.ui.predefine('sap/gantt/simple/LegendContainer',["sap/ui/core/Control","sap/ui/core/Core","sap/m/NavContainer","sap/m/Page","sap/m/List","sap/m/StandardListItem","../control/AssociateContainer"],function(C,a,N,P,L,S,A){"use strict";
var b=C.extend("sap.gantt.simple.LegendContainer",{metadata:{properties:{width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"200px"}},defaultAggregation:"legends",aggregations:{legends:{type:"sap.ui.core.Control",multiple:true,visibility:"public",singularName:"legend"}}}});
b.prototype.init=function(){this.initNavContainer();this._sCurrentPageTitle=null;this.oRb=a.getLibraryResourceBundle("sap.gantt");};
b.prototype.initNavContainer=function(){if(this._oNavContainer){return;}this._oNavContainer=new N({autoFocus:false,afterNavigate:function(e){this._sCurrentPageTitle=e.getParameter("to").getTitle();}.bind(this)});};
b.prototype.onBeforeRendering=function(e){this.initNavContainer();this._updateNavContainerSize();if(this._bInited){return;}this._addInitialPageIfNecessary();this._addLegendsToNavContainer();this._bInited=true;};
b.prototype._updateNavContainerSize=function(){this._oNavContainer.setWidth(this.getWidth());this._oNavContainer.setHeight(this.getHeight());};
b.prototype._addLegendsToNavContainer=function(){this.getLegends().forEach(function(l,_,c){var p=new P({title:l.getTitle(),backgroundDesign:sap.m.PageBackgroundDesign.Solid,enableScrolling:true,showNavButton:c.length>1,content:new A({content:l}),navButtonPress:function(e){this.getParent().backToTop();}});this._oNavContainer.addPage(p);}.bind(this));};
b.prototype._addInitialPageIfNecessary=function(){var l=this.getLegends();if(l.length>1){var n=l.map(function(o){return new S({title:o.getTitle(),type:sap.m.ListType.Navigation,press:this._onInitialPageItemPress.bind(this)});}.bind(this));var i=new P({title:this.oRb.getText("LEGEND_TITLE"),content:[new L({items:n})]});this._oNavContainer.addPage(i);this._oNavContainer.setInitialPage(i);}};
b.prototype._onInitialPageItemPress=function(e){var p=e.getSource().getTitle();this._navToByPageTitle(p);};
b.prototype._navToByPageTitle=function(p){if(!p){return;}this._oNavContainer.setAutoFocus(true);var c=this._oNavContainer.getPages();for(var i=0;i<c.length;i++){if(p==c[i].getTitle()){this._oNavContainer.to(c[i]);break;}}};
return b;},true);
sap.ui.predefine('sap/gantt/simple/LegendContainerRenderer',[],function(){"use strict";var L={};
L.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapGanttChartLegend");r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("height",c.getHeight());r.writeStyles();r.write(">");r.renderControl(c._oNavContainer);r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/simple/LegendRowConfig',["sap/ui/core/Element"],function(E){"use strict";
var L=E.extend("sap.gantt.simple.LegendRowConfig",{metadata:{library:"sap.gantt",properties:{shapeClass:{type:"string"},shapeName:{type:"string"},stroke:{type:"string"},strokeWidth:{type:"float"},text:{type:"string"}}}});
return L;},true);
sap.ui.predefine('sap/gantt/simple/ListLegend',["sap/ui/core/Control","sap/gantt/library"],function(C,l){"use strict";
var L=C.extend("sap.gantt.simple.ListLegend",{metadata:{library:"sap.gantt",properties:{title:{type:"string",group:"Data",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.gantt.simple.ListLegendItem",multiple:true,singularName:"item"}}}});
L.prototype.forceInvalidation=L.prototype.invalidate;
L.prototype.invalidate=function(s){if(s==this){}else if(!s){this.forceInvalidation();}else if(s instanceof sap.gantt.simple.ListLegendItem){}};
return L;},true);
sap.ui.predefine('sap/gantt/simple/ListLegendItem',['sap/ui/core/Element',"sap/m/CheckBox"],function(E,C){"use strict";
var L=E.extend("sap.gantt.simple.ListLegendItem",{metadata:{library:"sap.gantt",properties:{legendName:{type:"string"},interactive:{type:"boolean",defaultValue:false},selected:{type:"boolean",defaultValue:true}},defaultAggregation:"shape",aggregations:{shape:{type:"sap.gantt.simple.BaseShape",group:"Misc",multiple:false,defaultValue:null},_checkbox:{type:"sap.m.CheckBox",multiple:false,visibility:"hidden"}},events:{interactiveChange:{parameters:{legendName:{type:"string"},value:{type:"boolean"}}}}}});
L.prototype.init=function(){var c=new C({selected:this.getSelected()}).attachSelect(this._onInteractiveChange,this);this.setAggregation("_checkbox",c);this._getInteractiveCheckBox().setVisible(this.getInteractive());};
L.prototype.setInteractive=function(i){this.setProperty("interactive",i,true);this._getInteractiveCheckBox().setVisible(i);return this;};
L.prototype.setSelected=function(s){this.setProperty("selected",s,true);this.getAggregation("_checkbox").setSelected(s);return this;};
L.prototype._getInteractiveCheckBox=function(){return this.getAggregation("_checkbox");};
L.prototype._onInteractiveChange=function(e){this.fireInteractiveChange({legendName:this.getLegendName(),value:e.getParameter("selected")});this.setSelected(e.getParameter("selected"));};
return L;},true);
sap.ui.predefine('sap/gantt/simple/ListLegendRenderer',["sap/gantt/misc/Utility"],function(U){"use strict";var L={};var d=function(){var D=32;var s=U.findSapUiSizeClass();return U.scaleBySapUiSize(s,D);};
L.render=function(r,l){r.write("<div");r.writeControlData(l);r.write(">");var I=l.getItems();var h=I.some(function(o){return o.getInteractive();});for(var i=0;i<I.length;i++){this.renderLegendItem(r,I[i],h);}r.write("</div>");};
L.renderLegendItem=function(r,i,h){var s=i.getShape();var l=d(),a=l+"px";var H=l/2,w=H;this.normalizeShape(s,w,H);r.write("<div");r.writeElementData(i);r.writeAttributeEscaped("title",s.getTitle());r.addClass("sapGanttLLItem");r.writeClasses();r.addStyle("height",a);r.addStyle("line-height",a);var m="margin-"+(sap.ui.getCore().getConfiguration().getRTL()?"right":"left");if(h&&!i.getInteractive()){r.addStyle(m,a);}else if(!i.getInteractive()){r.addStyle(m,(w/2)+"px");}r.writeStyles();r.write(">");r.renderControl(i.getAggregation("_checkbox"));this.renderSvgPart(r,s,w);this.renderLegendText(r,s.getTitle());r.write("</div>");};
L.normalizeShape=function(s,w,h){var H=h/2;var S=s.getStrokeWidth()||0;var v={x:S,y:S,x1:S,y1:H+S,x2:w,y2:H,yBias:H,rowYCenter:H};if(s.getWidth){if(!s.getWidth()){v.width=w-2*S;}else{v.width=s.getWidth();}}if(s.getHeight){if(!s.getHeight()){v.height=h-2*S;}else{v.height=s.getHeight();}}Object.keys(v).forEach(function(p){var P=p.split("-").reduce(function(a,n){return a+n.charAt(0).toUpperCase()+n.slice(1);},"set");if(s[P]){s[P](v[p]);}});};
L.renderSvgPart=function(r,s,w){r.write("<svg");r.writeAttributeEscaped("tabindex",-1);r.writeAttributeEscaped("focusable",false);r.addClass("sapGanttLLSvg");r.writeClasses();r.addStyle("width",w+"px");r.writeStyles();r.write(">");s.renderElement(r,s);r.write("</svg>");};
L.renderLegendText=function(r,t){r.write("<div");r.addClass("sapGanttLLItemTxt");r.writeClasses();r.write(">");if(t){r.writeEscaped(t);}r.write("</div>");};
return L;},true);
sap.ui.predefine('sap/gantt/simple/Relationship',["sap/ui/Device","sap/ui/core/Core","sap/ui/core/IconPool","./GanttUtils","./RenderUtils","./BasePath"],function(D,C,I,G,R,B){"use strict";var A=6,L=20,P=15,a={"FinishToFinish":0,"FinishToStart":1,"StartToFinish":2,"StartToStart":3};
var b=B.extend("sap.gantt.simple.Relationship",{metadata:{properties:{type:{type:"sap.gantt.simple.RelationshipType",group:"Appearance"},predecessor:{type:"string",group:"Data"},successor:{type:"string",group:"Data"},selectedStroke:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"#FF0000"},selectedStrokeWidth:{type:"sap.gantt.SVGLength",defaultValue:2}}}});
b.prototype.applySettings=function(s){s=s||{};s.stroke=s.stroke||"#000000";s.strokeWidth=s.strokeWidth||1;B.prototype.applySettings.apply(this,arguments);};
b.prototype.renderElement=function(r,e,g){var m=this.getRelatedInRowShapes(g);if(m.predecessor==null&&m.successor==null){return;}var t=this.getProcessedType();var c=this.getRlsAnchors(t,m);var f=function(o){return jQuery.isNumeric(o.x)&&jQuery.isNumeric(o.y);};if(!f(c.predecessor)||!f(c.successor)){return;}var n=this.getBaseRowHeight(g);this.calcLinePathD(c,n,t);this.renderRelationship(r,c);};
b.prototype.getRlsAnchors=function(t,r){var p,s,o;var m=this.getShapeAnchors(r);if(r.predecessor&&r.successor){if(t==a.FinishToFinish){p=m.predecessor.tail;s=m.successor.tail;}else if(t==a.FinishToStart){p=m.predecessor.tail;s=m.successor.head;}else if(t==a.StartToFinish){p=m.predecessor.head;s=m.successor.tail;}else if(t==a.StartToStart){p=m.predecessor.head;s=m.successor.head;}}else if(r.predecessor&&!r.successor){if(t==a.FinishToFinish||t==a.FinishToStart){p=m.predecessor.tail;s={x:p.x+L,y:p.y};o={x:s.x,y:s.y+P/2};}else if(t==a.StartToFinish||t==a.StartToStart){p=m.predecessor.head;s={x:p.x-L,y:p.y};o={x:s.x-P,y:s.y+P/2};}}else if(!r.predecessor&&r.successor){if(t==a.FinishToFinish||t==a.StartToFinish){s=m.successor.tail;p={x:s.x+L,y:s.y};o={x:p.x,y:p.y+P/2};}else if(t==a.FinishToStart||t==a.StartToStart){s=m.successor.head;p={x:s.x-L,y:s.y};o={x:p.x-P,y:p.y+P/2};}}return{predecessor:p,successor:s,prompter:o};};
b.prototype.calcLinePathD=function(m,n,t){var x=m.predecessor.x,y=m.predecessor.y;var c=m.successor.x,d=m.successor.y;var f,e=[x,y,c,d];if(y==d){f=this.calcIRlsPathD;}else if(y!=d){if(t==a.FinishToFinish){f=this.calcURlsPathD;e.push(false);}else if(t==a.FinishToStart){if(x<=c){f=this.calcLRlsPathD;}else if(x>c){f=this.calcSRlsPathD;e.push(n);}}else if(t==a.StartToFinish){if(x<c){f=this.calcSRlsPathD;e.push(n);}else if(x>=c){f=this.calcLRlsPathD;}}else if(t==a.StartToStart){f=this.calcURlsPathD;e.push(true);}}if(f==this.calcLRlsPathD){e[2]=(x<c)?c+m.successor.dx:c-m.successor.dx;e[3]=(y<d)?d-m.successor.dy:d+m.successor.dy;}this.setProperty("d",f.apply(this,e),true);};
b.prototype.calcIRlsPathD=function(x,y,c,d){return this.getLinePathD([[x,y],[c,d]]);};
b.prototype.calcLRlsPathD=function(x,y,c,d){return this.getLinePathD([[x,y],[c,y],[c,d]]);};
b.prototype.calcURlsPathD=function(x,y,c,d,Y){var e=(x<c)?c+2*A:x+2*A;var f=(x<c)?x-2*A:c-2*A;var g=(!Y)?e:f;return this.getLinePathD([[x,y],[g,y],[g,d],[c,d]]);};
b.prototype.calcSRlsPathD=function(x,y,c,d,n){var e=(x<c)?x-A*2:x+A*2;var f=(y<d)?y+n/2:y-n/2;var g=(x<c)?c+A*2:c-A*2;return this.getLinePathD([[x,y],[e,y],[e,f],[g,f],[g,d],[c,d]]);};
b.prototype.getArrowPathD=function(p){var t=function(v){return Number(v);};var c=p.match(/-?\d+(\.\d+)?/g).map(t);var x=c[c.length/2-2];var y=c[c.length/2-1];var d=c[c.length/2+0];var e=c[c.length/2+1];var r=[[d,e]];if(x==d){if(y>e){r.push([d+A/2,e+A]);r.push([d-A/2,e+A]);}else if(y<e){r.push([d-A/2,e-A]);r.push([d+A/2,e-A]);}}else if(x!=d){if(x>d){r.push([d+A,e-A/2]);r.push([d+A,e+A/2]);}else if(x<d){r.push([d-A,e+A/2]);r.push([d-A,e-A/2]);}}return d3.svg.line().interpolate("linear-closed")(r);};
b.prototype.getShapeAnchors=function(r){var m={predecessor:null,successor:null};Object.keys(r).forEach(function(k){var s=r[k];if(s==null){return;}if(s.getShapeAnchors){m[k]=s.getShapeAnchors();}else{var o=s.getDomRef().getBBox();m[k]={head:{x:o.x,y:o.y+o.height/2,dx:0,dy:o.height/2},tail:{x:o.x+o.width,y:o.y+o.height/2,dx:0,dy:o.height/2}};}});return m;};
b.prototype.renderRelationship=function(r,m){r.write("<g");this.writeElementData(r);R.renderAttributes(r,this,["style"]);r.write(">");R.renderTooltip(r,this);r.write("<path");r.writeAttribute("d",this.getD());r.write("/>");r.write("<path");r.writeAttribute("d",this.getArrowPathD(this.getD()));r.write("/>");if(m.prompter){r.write("<text");r.writeAttribute("x",m.prompter.x);r.writeAttribute("y",m.prompter.y);r.writeAttribute("font-size",P);r.writeAttribute("font-family","SAP-icons");r.writeAttribute("text-anchor",(C.getConfiguration().getRTL()&&!D.browser.msie&&!D.browser.edge)?"end":"start");r.writeAttribute("stroke-width",0);r.write(">");r.write(I.getIconInfo("chain-link").content);r.write("</text>");}r.write("</g>");};
b.prototype.getStyle=function(){return this.getInlineStyle({"fill":this.getStroke(),"stroke":this.getStroke(),"stroke-width":this.getStrokeWidth(),"stroke-dasharray":this.getStrokeDasharray(),"opacity":this.getStrokeOpacity()});};
b.prototype.getLinePathD=function(p){p=p.concat(p.slice(1,-1).reverse());return d3.svg.line().interpolate("linear-closed")(p);};
b.prototype.getSelectedStyle=function(){return this.getInlineStyle({"fill":this.getSelectedStroke(),"stroke":this.getSelectedStroke(),"stroke-width":this.getSelectedStrokeWidth(),"stroke-dasharray":this.getStrokeDasharray(),"pointer-events":"none"});};
b.prototype.getBaseRowHeight=function(g){return C.byId(g).getTable()._getDefaultRowHeight();};
b.prototype.getProcessedType=function(){var t=this.getProperty("type");var i=C.getConfiguration().getRTL();return i?3-a[t]:a[t];};
b.prototype.getRelatedInRowShapes=function(g){var r={predecessor:null,successor:null};Object.keys(r).forEach(function(p){r[p]=G.shapeElementById(this.getProperty(p),g+"-svg");},this);return r;};
return b;},true);
sap.ui.predefine('sap/gantt/simple/RenderUtils',["./BaseText","./AggregationUtils","./GanttUtils"],function(B,A,G){"use strict";var R={RENDER_EXTEND_FACTOR:0.382,getGanttRenderWidth:function(g){var v=jQuery.sap.byId(g.getId()+"-gantt").width();return v*(1+2*R.RENDER_EXTEND_FACTOR);},renderAttributes:function(r,e,a){var p=a.map(function(b){var P=b.split("-").reduce(function(c,n){return c+n.charAt(0).toUpperCase()+n.slice(1);},"get");return{name:b,value:e[P]()};});p.forEach(function(o){if(o.value||o.value===0){r.writeAttribute(o.name,o.value);}});},renderTooltip:function(r,e){if(e.getTooltip()){r.write("<title>");r.write(e.getTooltip());r.write("</title>");}},updateShapeSelections:function(g,s,d){if(g._getResizeExtension==null){return;}var r=g._getResizeExtension();var c=g.getId();var D=G.getShapesWithUid(c,d);D.forEach(function(E){if(E){E.setProperty("selected",false,true);}});r.clearAllOutline(c);var e=G.getShapesWithUid(c,s);e.forEach(function(E){if(E){E.setProperty("selected",true,true);r.toggleOutline(E);g.getSelection().updateTime(E.getShapeUid(),{time:E.getTime(),endTime:E.getEndTime()});}});},renderElementTitle:function(r,e){if(e.getShowTitle==null||!e.getShowTitle()){return;}var t=e.getTitle();if(t){var h=0,E=0;if(e.getWidth){E=e.getWidth();}if(e.getHeadWidth){h=e.getHeadWidth();E-=h;}if(e.getTailWidth){E-=e.getTailWidth();}var l=2+h,d=12;var T={x:e.getX()+l,y:e.getRowYCenter()+d/2,text:t,fill:"#000",showEllipsis:true,truncateWidth:E};var o=new B(T).addStyleClass("sapGanttTextNoPointerEvents");o.setProperty("childElement",true,true);o.renderElement(r,o);}},renderInlineShapes:function(r,o,g){var t=o.getId()+"-top";var s=o.getId()+"-row";r.write("<g");r.writeElementData(o);r.addClass(t);r.writeClasses();r.write(">");r.write("<g");r.writeAttribute(G.ROW_ID_DATASET_KEY,o.getRowId()||"");r.addClass(s);r.writeClasses();r.write(">");this.renderMainRowAllShapes(r,o,g);r.write("</g>");r.write("</g>");},renderMainRowAllShapes:function(r,o,g){var a=g.getSyncedControl().getRowStates();var p=this.calcRowDomPosition(o,a),m=p.rowYCenter,i=p.rowHeight;var b=A.getNonLazyAggregations(o);var s=Object.keys(b).filter(function(n){return n!=="calendars"&&n!=="relationships";}).map(function(n){return o.getAggregation(n)||[];}.bind(o));var c=o.getRowUid(),S=g.oSelection,e=g._oExpandModel,d=g.getAxisTime(),h=e.isRowExpanded(c);s.forEach(function(f,I){f.forEach(function(j){if(g.isShapeVisible(j)){R.renderMainRowShape(r,j,{expandModel:e,selectionModel:S,axisTime:d,rowSetting:o,rowUid:c,rowExpanded:h,mainRowYCenter:m,rowHeight:i});}});});},renderMainRowShape:function(r,s,o){this.setSpecialProperties(s,o);s.renderElement(r,s,null);if(o.rowExpanded){this.renderExpandShapesIfNecessary(r,s,o);}},setSpecialProperties:function(s,o){var e=o.expandModel,r=o.rowUid,S=o.rowSetting.getShapeUid(s);s._iBaseRowHeight=o.rowHeight;s.mAxisTime=o.axisTime;s.setProperty("shapeUid",S,true);s.setProperty("selected",o.selectionModel.existed(S),true);s.setProperty("rowYCenter",e.getRowYCenterByUid(r,o.mainRowYCenter,s.getScheme(),0),true);},isValidD:function(d){return!!d&&d.indexOf("NaN")===-1&&d.indexOf("undefined")===-1&&d.indexOf("null")===-1;},renderExpandShapesIfNecessary:function(r,m,o){var f=function(s){if(!s||s.length===0){return;}var e=s;if(jQuery.isArray(s)===false){e=[s];}e.forEach(function(S,i){S.setProperty("rowYCenter",o.expandModel.getRowYCenterByUid(o.rowUid,null,S.getScheme(),i),true);S._iBaseRowHeight=o.expandModel.getExpandShapeHeightByUid(o.rowUid,S.getScheme(),o.iRowHeight);S.setProperty("shapeUid",o.rowSetting.getShapeUid(S),true);S.renderElement(r,S);});};var a=A.getLazyAggregations(m);Object.keys(a).forEach(function(n){var s=m.getAggregation(n);f(s);});},calcRowDomPosition:function(r,a){var o=r._getRow(),t=o.getParent(),i=t.indexOfRow(o);var b=a[i].height;var c=0;for(var I=0;I<=i;I++){c+=a[I].height;}c-=b/2;return{rowYCenter:c,rowHeight:b};}};return R;},true);
sap.ui.predefine('sap/gantt/simple/SelectionModel',["sap/gantt/library","sap/ui/base/EventProvider"],function(l,E){"use strict";var S=l.SelectionMode;
var a=E.extend("sap.gantt.simple.SelectionModel",{constructor:function(s){E.apply(this,arguments);this.sSelectionMode=s||S.Single;this.mSelected={"uid":{}};}});
a.prototype.getSelectionMode=function(){return this.sSelectionMode;};
a.prototype.setSelectionMode=function(s){this.sSelectionMode=s||S.Single;return this;};
a.prototype.update=function(u,p){var s=this.getSelectionMode();if(s==="None"){return;}if(u==null){if(s===S.Single||s===S.Multiple||s===S.MultiWithKeyboard&&!p.ctrl){this.clear(true);}return;}if(p.selected&&!this.mSelected.uid[u]){var d=Object.keys(this.mSelected.uid);if(this.sSelectionMode===S.Single){this.mSelected.uid={};}else if(this.sSelectionMode===S.MultiWithKeyboard){if(p.ctrl){d=[];}else{this.mSelected.uid={};}}else if(this.sSelectionMode===S.Multiple){d=[];}this._updateSelectedShape(u,p);this._fireSelectionChanged(d);}else if(!p.selected&&this.mSelected.uid[u]){delete this.mSelected.uid[u];this._fireSelectionChanged([u]);}};
a.prototype.updateTime=function(u,p){if(this.mSelected.uid[u]){this.mSelected.uid[u].time=p.time;this.mSelected.uid[u].endTime=p.endTime;}};
a.prototype._updateSelectedShape=function(u,p){this.mSelected.uid[u]={shapeUid:u,draggable:p.draggable,time:p.time,endTime:p.endTime};};
a.prototype._fireSelectionChanged=function(d,s){var p={shapeUid:Object.keys(this.mSelected.uid),deselectedUid:d,silent:!!s};if(p.shapeUid.length>0||p.deselectedUid.length>0){this.fireSelectionChanged(p);}};
a.prototype.existed=function(u){return!!this.mSelected.uid[u];};
a.prototype.clear=function(f){var u=this.allUid();this.mSelected.uid={};this._fireSelectionChanged(u,f);};
a.prototype.allUid=function(){return Object.keys(this.mSelected.uid);};
a.prototype.numberOfSelectedDraggableShapes=function(){var d=this.allSelectedDraggableUid();return d.length;};
a.prototype.allSelectedDraggableUid=function(){var t=this;var d=Object.keys(this.mSelected.uid).filter(function(u){return t.mSelected.uid[u].draggable;});return d;};
a.prototype.getSelectedShapeDataByUid=function(u){return this.mSelected.uid[u];};
a.prototype.attachSelectionChanged=function(d,f,L){this.attachEvent("selectionChanged",d,f,L);};
a.prototype.detachSelectionChanged=function(f,L){this.detachEvent("selectionChanged",f,L);};
a.prototype.fireSelectionChanged=function(A){this.fireEvent("selectionChanged",A);return this;};
return a;},true);
sap.ui.predefine('sap/gantt/simple/ShapeScheme',['sap/ui/core/Element'],function(E){"use strict";
var S=E.extend("sap.gantt.simple.ShapeScheme",{metadata:{properties:{key:{type:"string",defaultValue:null},primary:{type:"boolean",defaultValue:false},rowSpan:{type:"int",defaultValue:1}}}});
return S;},true);
sap.ui.predefine('sap/gantt/simple/TitlePropagator',['./BaseShape'],function(B){"use strict";var T=function(d){if(!(this instanceof B)){throw new Error("TitlePropagator only supports subclasses of BaseShape");}if(d===undefined){d=true;}this.getShowTitle=function(){return this.getProperty("showTitle");};this.setShowTitle=function(s){return this.setProperty("showTitle",s);};this.getMetadata().addProperty("showTitle",{type:"boolean",group:"Appearance",defaultValue:!!d});this.getMetadata().addPublicMethods('getShowTitle');this.getMetadata().addPublicMethods('setShowTitle');this.getTitle=function(){return this.getProperty("title");};this.setTitle=function(t){return this.setProperty("title",t);};this.getMetadata().addProperty("title",{type:"string",group:"Appearance",defaultValue:null});this.getMetadata().addPublicMethods("getTitle");this.getMetadata().addPublicMethods('setTitle');};return T;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationBarChart',["jquery.sap.global","./UtilizationChart","./BaseRectangle"],function(q,U,B){"use strict";
var a=U.extend("sap.gantt.simple.UtilizationBarChart",{metadata:{properties:{consumptionColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"lightgray"}},defaultAggregation:"periods",aggregations:{periods:{type:"sap.gantt.simple.UtilizationPeriod",group:"Data"}}}});
a.prototype.applySettings=function(s,S){s=s||{};s.remainCapacityColor=s.remainCapacityColor||"#fff";U.prototype.applySettings.call(this,s,S);this._createDefaultDefs();};
a.prototype.renderElement=function(r,e){r.write("<g class='sapGanttUtilizationBar'");r.writeElementData(this);r.write(">");var x=this.getX(),h=this.getHeight(),y=this.getRowYCenter()-(h/2),w=this.getWidth();var p={x:x,y:y,width:w,height:h};this.renderBackgroundDefs(r);this.renderUBCBackground(r,p);var f=this.filterPeriods();if(f.length>0){this._iMaxAllowedSupply=this._getMaxAllowedSupply(f);this.renderOverConsumptionPolygon(r,p,f);this.renderRemainConsumptionPolygon(r,p,f);this.renderConsumptionPolygon(r,p,f);this.renderConsumptionPath(r,p,f);this.renderTooltips(r,p,f);}r.write("</g>");};
a.prototype.filterPeriods=function(){var A=this.getPeriods();var g=this.getGanttChartBase(),t=g.getRenderedTimeRange(),m=t[0],M=t[1];return A.filter(function(i,I,b){var f=I===0||I===b.length-1;if(f){return true;}else{return i.getFrom()>=m&&i.getFrom()<=M;}});};
a.prototype.renderUBCBackground=function(r,p){var f=this.getFill();if(!f){f="url(#"+this.getId()+"-defaultBgPattern)";}var A=q.extend({id:this.getId()+"-ubcBg",fill:f},p);this.renderRectangleWithAttributes(r,A);};
a.prototype.renderOverConsumptionPolygon=function(r,p,f){r.write("<polygon");r.writeAttribute("id",this.getId()+"-ubcOCP");r.writeAttribute("points",this.getPolygonPoints(p,function(i,m){var R=p.height,M=p.y+R;return M-((i.getDemand()/m)*R);},f));r.writeAttribute("fill",this.getOverConsumptionColor());r.write("/>");};
a.prototype.renderConsumptionPath=function(r,p,f){r.write("<path");r.writeAttribute("id",this.getId()+"-ubcPath");r.writeAttribute("d",this.getDemandPathD(p,f));r.writeAttribute("fill","none");r.writeAttribute("stroke",this.getStroke()||"#000");r.writeAttribute("stroke-width",this.getStrokeWidth()||2);r.write("/>");};
a.prototype.renderRemainConsumptionPolygon=function(r,p,f){r.write("<polygon");r.writeAttribute("id",this.getId()+"-ubcRCP");r.writeAttribute("points",this.getPolygonPoints(p,function(i,m){var R=p.height,M=p.y+R;return M-((i.getSupply()/m)*R);},f));r.writeAttribute("fill",this.getRemainCapacityColor());r.write("/>");};
a.prototype.renderConsumptionPolygon=function(r,p,f){r.write("<polygon");r.writeAttribute("id",this.getId()+"-ubcCP");r.writeAttribute("points",this.getPolygonPoints(p,function(i,m){var R=p.height,M=p.y+R;var v=Math.min(i.getDemand(),i.getSupply());return M-((v/m)*R);},f));r.writeAttribute("fill",this.getConsumptionColor());r.write("/>");};
a.prototype.renderTooltips=function(r,p,f){var t=[];r.write("<g class='ubc-tooltips'>");for(var i=0;i<f.length;i++){var I=f[i];var n=f[i+1];if(n){var x=this.toX(I.getFrom()),X=this.toX(n.getFrom());t.push(new B({x:parseFloat(x),y:p.y,height:p.height,width:Math.abs(X-x),fill:"transparent",tooltip:I.getTooltip()}).setProperty("childElement",true));}}t.forEach(function(R){R.renderElement(r,R);});r.write("</g>");};
a.prototype._getMaxAllowedSupply=function(f){var m=Math.max.apply(null,f.map(function(i){return i.getSupply();}));var M=m*this.getOverConsumptionMargin()/100;return m+M;};
a.prototype.getPolygonPoints=function(p,c,f){var m=p.y+p.height;var P=function(x,y){return[x,y].join(",")+" ";};var r="";for(var i=0;i<f.length;i++){var I=f[i],F=i===0,l=i===f.length-1,n=f[l?f.length-1:i+1];var s=this.toX(I.getFrom()),e=this.toX(n.getFrom());if(F){r+=P(s,m);}var C=c(I,this._iMaxAllowedSupply);C=C.toFixed(1);r+=P(s,C);r+=P(e,C);if(l){r+=P(s,C);r+=P(s,m);}}return r;};
a.prototype.getDemandPathD=function(p,f){var r="";for(var i=0;i<f.length;i++){var I=f[i],l=i===f.length-1,n=f[l?f.length-1:i+1];var x=this.toX(I.getFrom()),b=this.toX(n.getFrom());var y=this.toY(I.getDemand(),p),c=this.toY(n.getDemand(),p);r+=" M "+x+" "+y+" L "+b+" "+y;r+=" M "+b+" "+y+" L "+b+" "+c;}return r;};
a.prototype.toY=function(d,p){var s=p.y,r=p.height,m=s+r;var y=m-((d/this._iMaxAllowedSupply)*r);y=y<s?s:y;return parseFloat(y.toFixed(1));};
a.prototype._createDefaultDefs=function(){if(this.getFill()){return;}this.mDefaultDefs=new sap.gantt.def.SvgDefs({defs:[new sap.gantt.def.pattern.BackSlashPattern({id:this.getId()+"-defaultBgPattern",tileWidth:5,tileHeight:9,backgroundColor:"#fff",stroke:"#ececec",strokeWidth:1})]});};
a.prototype.renderBackgroundDefs=function(r){if(this.getFill()==null&&this.mDefaultDefs){r.write(this.mDefaultDefs.getDefString());}};
return a;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationChart',["jquery.sap.global","./BaseShape","./BaseRectangle","sap/gantt/misc/Format"],function(q,B,a,F){"use strict";
var U=B.extend("sap.gantt.simple.UtilizationChart",{metadata:{"abstract":true,properties:{height:{type:"sap.gantt.SVGLength",defaultValue:"inherit"},overConsumptionMargin:{type:"float",defaultValue:25.0},overConsumptionColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"red"},remainCapacityColor:{type:"sap.gantt.ValueSVGPaintServer",defaultValue:"lightgray"}}}});
U.prototype.getX=function(){return this.getXByTime(this.getTime());};
U.prototype.getWidth=function(){return Math.abs(this.getXByTime(this.getEndTime())-this.getX());};
U.prototype.getHeight=function(){return a.prototype.getHeight.apply(this);};
U.prototype.toX=function(t){return this.getAxisTime().timeToView(F.abapTimestampToDate(t));};
U.prototype.renderRectangleWithAttributes=function(r,A,t){r.write("<rect");Object.keys(A).forEach(function(n){r.writeAttribute(n,A[n]);});r.write(">");if(t){r.write("<title>");r.writeEscaped(t,true);r.write("</title>");}r.write("</rect>");};
return U;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationDimension',["sap/ui/core/Element"],function(E){"use strict";
var U=E.extend("sap.gantt.simple.UtilizationDimension",{metadata:{properties:{name:{type:"string"},dimensionColor:{type:"sap.gantt.ValueSVGPaintServer"}},defaultAggregation:"periods",aggregations:{periods:{type:"sap.gantt.simple.UtilizationPeriod"}}}});
return U;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationLineChart',["jquery.sap.global","sap/ui/core/Core","./UtilizationChart","sap/gantt/def/pattern/BackSlashPattern"],function(q,C,U,B){"use strict";
var c=U.extend("sap.gantt.simple.UtilizationLineChart",{metadata:{properties:{showMiddleLine:{type:"boolean",defaultValue:true}},defaultAggregation:"dimensions",aggregations:{dimensions:{type:"sap.gantt.simple.UtilizationDimension",group:"Data"}},associations:{overConsumptionPattern:{type:"sap.gantt.def.DefBase",altTypes:["string"],multiple:false,group:"Appearance"}}}});
c.prototype.applySettings=function(s,S){s=s||{};U.prototype.applySettings.call(this,s,S);this._createDefaultDefs();};
c.prototype.renderElement=function(r,e){if(this.getDimensions().length===0){this.renderEmptyDomRefs(r,true);return;}this.renderEmptyDomRefs(r,false);var x=this.getX(),h=this.getHeight(),y=this.getRowYCenter()-h/2,w=this.getWidth();var p={x:x,y:y,width:w,height:h};this.renderDimensionClipPaths(r,p);this.renderDefaultDefs(r);this.renderULCBackground(r,p);this.renderMiddleLine(r,p);this.renderOverConsumptionBackground(r,p);this.renderOverConsumptionClipPath(r,p);this.renderDimensionPaths(r,p);this.renderTooltips(r,p);r.write("</g>");};
c.prototype.renderEmptyDomRefs=function(r,b){r.write("<g class='sapGanttUtilizationLine'");r.writeElementData(this);r.write(">");if(b){r.write("</g>");}};
c.prototype.renderDimensionClipPaths=function(r,p){var d=this.getDimensions();r.write("<defs>");for(var i=0;i<d.length;i++){r.write("<clipPath");r.writeAttribute("id",d[i].getId()+"-clipPath");r.write(">");this.renderDimensionPath(r,d[i],p.y,p.height);r.write("</clipPath>");}r.write("</defs>");};
c.prototype.renderULCBackground=function(r,p){var a=q.extend({id:this.getId()+"-ulcBg",fill:this.getFill()||"transparent",stroke:"none"},true,p);this.renderRectangleWithAttributes(r,a);};
c.prototype.getClipPathIdOfDimension=function(d){return"url(#"+d.getId()+"-clipPath)";};
c.prototype.renderOverConsumptionBackground=function(r,p){var m=q.extend({id:this.getId()+"-ulcOverConsumptionBg",fill:this._getOverageFillPattern()},true,p);m.height=this.getThresholdHeight(p.height);this.renderRectangleWithAttributes(r,m);};
c.prototype.renderOverConsumptionClipPath=function(r,p){var m=q.extend({},true,p);m.height=this.getThresholdHeight(p.height);var d=this.getDimensions();for(var i=0;i<d.length;i++){var a=q.extend({"clip-path":this.getClipPathIdOfDimension(d[i]),fill:this.getOverConsumptionColor()},true,m);this.renderRectangleWithAttributes(r,a);}};
c.prototype._getOverageFillPattern=function(){var p=this.getOverConsumptionPattern();if(p){p=C.byId(p).getRefString();}else{p="url(#"+this.getId()+"-defaultPattern"+")";}return p;};
c.prototype.getThresholdHeight=function(h){return(this.getOverConsumptionMargin()*h)/(100+this.getOverConsumptionMargin());};
c.prototype.renderMiddleLine=function(r,p){if(this.getShowMiddleLine()){var m=this.getMiddleLineY(p);r.write("<path");r.writeAttribute("id",this.getId()+"-middleLine");r.writeAttribute("d","M "+p.x+" "+m+" h "+p.width);r.addClass("sapGanttUtilizationMiddleLine");r.writeClasses();r.write("></path>");}};
c.prototype.getMiddleLineY=function(p){var t=this.getThresholdHeight(p.height);return(p.y+t)+(p.height-t)/2;};
c.prototype.renderDimensionPaths=function(r,p){var x=p.x,o=this.getThresholdHeight(p.height),y=p.y,w=p.width,h=p.height;var d=this.getDimensions();for(var i=0;i<d.length;i++){r.write("<g>");var D=d[i];this.renderDimensionPath(r,D,y,h,"ulcPath");var a={id:D.getId()+"-ulcRect",x:x,y:y+o,width:w,height:h-o,fill:this.getRemainCapacityColor(),"fill-opacity":0.5,"stroke-opacity":0.5,"clip-path":this.getClipPathIdOfDimension(D)};this.renderRectangleWithAttributes(r,a);r.write("</g>");}};
c.prototype.renderTooltips=function(r,p){var y=p.y,h=p.height;r.write("<g class='ulc-tooltips'>");var d=this.getAllDimensionPoints();d.forEach(function(P,i,a){var n=a[i+1]||P;var t=P.tooltip;var D=P.name!==n.name;if(D){t=P.tooltip+"\n"+n.tooltip;}var x=this.toX(P.from),l=a.length-1===i,X=this.toX(l?n.to:n.from),w=Math.abs(X-x);if(w>0){var m={opacity:0,fillOpacity:0,strokeOpacity:0};var A=q.extend({x:x,y:y,width:w,height:h},m);this.renderRectangleWithAttributes(r,A,t);}}.bind(this));r.write("</g>");};
c.prototype.getAllDimensionPoints=function(){var A=[];this.getDimensions().forEach(function(d){var n=d.getName();d.getPeriods().forEach(function(p,i,P){var t=p.getTooltip();if(!t){t=n+":"+p.getValue();}A.push({name:n,from:p.getFrom(),to:p.getTo(),tooltip:t});});});A.sort(function(a,b){return a.from-b.from;});return A;};
c.prototype.renderDimensionPath=function(r,D,R,a,I){var p=D.getPeriods();var d="";for(var i=0;i<p.length;i++){var f=(i===0),l=(i===p.length-1);var P=p[i];var x=this.toX(P.getFrom());var b=this.toX(P.getTo());var v=P.getValue();var m=this.getOverConsumptionMargin();if(v>(100+m)){v=100+m;}var y=R+a;var e=a*(v/(100+m));var g=y-e;d+=(f?" M "+x+" "+y:"")+" L "+x+" "+g+" L "+b+" "+g+(l?" L "+b+" "+y:"");}r.write("<path");if(I){r.writeAttribute("id",D.getId()+"-"+I);}r.writeAttribute("d",d);r.writeAttribute("fill","none");r.writeAttribute("stroke-width",2);r.writeAttribute("stroke",D.getDimensionColor());r.addClass("sapGanttUlcDimensionPath");r.writeClasses();r.write("/>");};
c.prototype._createDefaultDefs=function(){if(this.getOverConsumptionPattern()){return;}this.mDefaultDefs=new sap.gantt.def.SvgDefs({defs:[new B({id:this.getId()+"-defaultPattern",tileWidth:5,tileHeight:9,backgroundColor:"#fff",stroke:"#ececec",strokeWidth:1})]});};
c.prototype.renderDefaultDefs=function(r){if(this.mDefaultDefs){r.write(this.mDefaultDefs.getDefString());}};
c.prototype.destroy=function(){U.prototype.destroy.apply(this,arguments);if(this.mDefaultDefs){this.mDefaultDefs.destroy();}};
return c;},true);
sap.ui.predefine('sap/gantt/simple/UtilizationPeriod',["sap/ui/core/Element"],function(E){"use strict";
var U=E.extend("sap.gantt.simple.UtilizationPeriod",{metadata:{properties:{from:{type:"object"},to:{type:"object"},value:{type:"float",group:"Data",defaultValue:0},supply:{type:"float",group:"Data",defaultValue:0},demand:{type:"float",group:"Data",defaultValue:0}}}});
return U;},true);
sap.ui.require.preload({
	"sap/gantt/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.gantt","type":"library","embeds":[],"applicationVersion":{"version":"1.64.0"},"title":"UI5 library: sap.gantt","description":"UI5 library: sap.gantt","ach":"CA-UI5-CTR-GNT","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.64","libs":{"sap.ui.core":{"minVersion":"1.64.0"},"sap.ui.layout":{"minVersion":"1.64.0"},"sap.ui.table":{"minVersion":"1.64.0"},"sap.m":{"minVersion":"1.64.0"}}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.gantt.control.Toolbar","sap.gantt.GanttChart","sap.gantt.GanttChartWithTable","sap.gantt.GanttChartContainer","sap.gantt.axistime.ProportionZoomStrategy","sap.gantt.legend.LegendContainer","sap.gantt.legend.ListLegend","sap.gantt.legend.DimensionLegend","sap.gantt.simple.GanttChartWithTable","sap.gantt.simple.ContainerToolbar","sap.gantt.simple.GanttChartContainer"],"elements":["sap.gantt.config.TimeHorizon","sap.gantt.config.TimeAxis","sap.gantt.config.ToolbarGroup","sap.gantt.config.Mode","sap.gantt.config.ModeGroup","sap.gantt.config.LayoutGroup","sap.gantt.config.ExpandChart","sap.gantt.config.ExpandChartGroup","sap.gantt.config.TimeZoomGroup","sap.gantt.config.BirdEyeGroup","sap.gantt.config.ToolbarScheme","sap.gantt.config.Hierarchy","sap.gantt.config.HierarchyColumn","sap.gantt.config.ColumnAttribute","sap.gantt.config.GanttChartLayout","sap.gantt.config.ContainerLayout","sap.gantt.config.SettingItem","sap.gantt.config.SettingGroup","sap.gantt.config.ObjectType","sap.gantt.config.ChartScheme","sap.gantt.config.Locale","sap.gantt.config.Shape","sap.gantt.def.SvgDefs","sap.gantt.axistime.AxisTimeStrategyBase","sap.gantt.AdhocLine","sap.gantt.simple.GanttRowSettings","sap.gantt.simple.BaseCalendar","sap.gantt.simple.BaseChevron","sap.gantt.simple.BaseDiamond","sap.gantt.simple.BaseGroup","sap.gantt.simple.BaseImage","sap.gantt.simple.BaseLine","sap.gantt.simple.BasePath","sap.gantt.simple.BaseRectangle","sap.gantt.simple.BaseShape","sap.gantt.simple.BaseText","sap.gantt.simple.BaseCursor","sap.gantt.simple.BaseConditionalShape","sap.gantt.simple.UtilizationBarChart","sap.gantt.simple.UtilizationLineChart","sap.gantt.simple.UtilizationChart","sap.gantt.simple.UtilizationDimension","sap.gantt.simple.UtilizationPeriod"],"types":["sap.gantt.control.ToolbarType","sap.gantt.SelectionMode","sap.gantt.shape.ShapeCategory","sap.gantt.def.filter.MorphologyOperator","sap.gantt.def.filter.ColorMatrixValue","sap.gantt.shape.ext.rls.RelationshipType","sap.gantt.config.ZoomControlType","sap.gantt.config.BirdEyeRange","sap.gantt.GenericArray","sap.gantt.dragdrop.GhostAlignment","sap.gantt.simple.GanttChartWithTableDisplayType"],"interfaces":["sap.gantt.GanttChartBase"]}}}}',
	"sap/gantt/legend/ListLegend.js":function(){sap.gantt.legend=sap.gantt.legend||{};sap.gantt.legend.ListLegendItemCheckbox={NoShow:"noShow",Checked:"checked",Unchecked:"unchecked"};sap.ui.define(["./LegendBase","sap/m/CheckBox","sap/gantt/drawer/Legend"],function(L,C,a){"use strict";
var b=L.extend("sap.gantt.legend.ListLegend",{metadata:{properties:{shapes:{type:"sap.gantt.config.Shape[]"}},events:{checkBoxChange:{parameters:{legendType:{type:"string"},value:{type:"boolean"}}}}}});
b.prototype.init=function(){L.prototype.init.apply(this,arguments);this._oListLegendDrawer=new a();this._aCheckBoxes=[];};
b.prototype.onAfterRendering=function(){for(var i=0;i<this._aShapeInstance.length;i++){var s=this._aShapeInstance[i];var S=d3.select("#"+this.getId()+"-svg-"+i);var c=S.selectAll("."+s.getId()).data([i]);this._oListLegendDrawer._drawPerTag(c,s);}};
b.prototype.setShapes=function(s){this.setProperty("shapes",s);if(s&&s.length>0){this._aShapeInstance=this._instantShape(s);this._aCheckBoxes=[];var h=false;for(var i=0;i<this._aShapeInstance.length;i++){var S=this._aShapeInstance[i].mShapeConfig.getSwitchOfCheckBox();if(S==sap.gantt.legend.ListLegendItemCheckbox.Checked||S==sap.gantt.legend.ListLegendItemCheckbox.Unchecked){h=true;break;}}if(h){for(var j=0;j<this._aShapeInstance.length;j++){var o=this._aShapeInstance[j];var c=o.mShapeConfig.getSwitchOfCheckBox();var d=new C({selected:(c==sap.gantt.legend.ListLegendItemCheckbox.Checked)?true:false,enabled:(c==sap.gantt.legend.ListLegendItemCheckbox.NoShow)?false:true}).data("key",(o.mShapeConfig.getKey&&o.mShapeConfig.getKey())?o.mShapeConfig.getKey():o.getLegend()).setTooltip(o.getLegend()).attachSelect(this._onCheckBoxChange,this);this._aCheckBoxes.push(d);}}}return this;};
b.prototype._onCheckBoxChange=function(e){var s=e.getSource();this.fireCheckBoxChange({legendType:s.data("key"),value:e.getParameter("selected")});};
return b;},true);
}
},"sap/gantt/library-preload"
);
//# sourceMappingURL=library-preload.js.map